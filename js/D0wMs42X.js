const _0x199524=(function(){let _0x4bcc77=!![];return function(_0x3bbb33,_0x1766ff){const _0x17ff5d=_0x4bcc77?function(){if(_0x1766ff){const _0x10ff9b=_0x1766ff['apply'](_0x3bbb33,arguments);return _0x1766ff=null,_0x10ff9b;}}:function(){};return _0x4bcc77=![],_0x17ff5d;};}()),_0x5a0324=_0x199524(this,function(){return _0x5a0324['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x5a0324)['search']('(((.+)+)+)'+'+$');});_0x5a0324();const _0x48d633=(function(){let _0x1d2b90=!![];return function(_0x291212,_0x4cfd53){const _0x53ddef=_0x1d2b90?function(){if(_0x4cfd53){const _0x1c6fdf=_0x4cfd53['apply'](_0x291212,arguments);return _0x4cfd53=null,_0x1c6fdf;}}:function(){};return _0x1d2b90=![],_0x53ddef;};}());(function(){_0x48d633(this,function(){const _0x3f848f=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x32041b=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x29224d=_0x37d061('init');!_0x3f848f['test'](_0x29224d+'chain')||!_0x32041b['test'](_0x29224d+'input')?_0x29224d('0'):_0x37d061();})();}());const _0xfc3258=(function(){let _0x1367ee=!![];return function(_0x36a94d,_0x35220f){const _0x4aab9f=_0x1367ee?function(){if(_0x35220f){const _0xf91536=_0x35220f['apply'](_0x36a94d,arguments);return _0x35220f=null,_0xf91536;}}:function(){};return _0x1367ee=![],_0x4aab9f;};}()),_0x1b7d9b=_0xfc3258(this,function(){const _0x23d127=function(){let _0x5d1e9b;try{_0x5d1e9b=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x4bd873){_0x5d1e9b=window;}return _0x5d1e9b;},_0x339bee=_0x23d127(),_0x57cb9f=_0x339bee['console']=_0x339bee['console']||{},_0x469edb=['log','warn','info','error','exception','table','trace'];for(let _0x172cb6=-0x217a+0x1*0xfbd+0x11bd;_0x172cb6<_0x469edb['length'];_0x172cb6++){const _0x29e835=_0xfc3258['constructo'+'r']['prototype']['bind'](_0xfc3258),_0x38a1c0=_0x469edb[_0x172cb6],_0x35578d=_0x57cb9f[_0x38a1c0]||_0x29e835;_0x29e835['__proto__']=_0xfc3258['bind'](_0xfc3258),_0x29e835['toString']=_0x35578d['toString']['bind'](_0x35578d),_0x57cb9f[_0x38a1c0]=_0x29e835;}});_0x1b7d9b();var k0=Object['defineProp'+'erty'],U0=(_0x30753f,_0x311e0e,_0x4cd5cc)=>_0x311e0e in _0x30753f?k0(_0x30753f,_0x311e0e,{'enumerable':!(-0xe0f+-0x1*-0x13ff+0x8*-0xbe),'configurable':!(0x1ed5+-0x145*-0x3+-0x22a4),'writable':!(-0x202*0xf+0x21cb+0x1*-0x3ad),'value':_0x4cd5cc}):_0x30753f[_0x311e0e]=_0x4cd5cc,h=(_0x35e880,_0x2dd225,_0x56adeb)=>U0(_0x35e880,typeof _0x2dd225!='symbol'?_0x2dd225+'':_0x2dd225,_0x56adeb),B0=(_0x184fc5=>(_0x184fc5['HIGH']='high',_0x184fc5['MEDIUM']='medium',_0x184fc5['LOW']='low',_0x184fc5['LOW_VR']='lowVR',_0x184fc5))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x565e4d=navigator['userAgent']['includes']('Macintosh'),_0xd63d5a=navigator['maxTouchPo'+'ints']===0x18bf+0x64a+-0x1f04,_0x1647e8=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x565e4d&&_0xd63d5a&&_0x1647e8;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x3e5cb9=navigator['userAgent']['toLowerCas'+'e']();return _0x3e5cb9['includes']('pico')||_0x3e5cb9['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x2c1a27=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x4c34a1=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x2c1a27)?'iOS':/android/['test'](_0x2c1a27)?'Android':/mac/['test'](_0x4c34a1)?'macOS':/win/['test'](_0x4c34a1)?'Windows':/linux/['test'](_0x4c34a1)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0xfd6+-0x23ca+0x33cd,this['MEDIUM_FPS'+'_THRESHOLD']=-0x2448+-0x29*-0x43+0x19ab,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x1a0f+0x9fa*0x3+-0x37f9)*(-0x2254*0x1+-0x27f+0x5d5*0x7)*(-0x1*-0x3b5+-0x3*0x568+0x1083)*(-0x12d9+-0x1fd0*-0x1+-0xf*0x99),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x1911+-0x1355+-0x5ba)*(0x6*-0x5d+-0x69*-0x2b+-0xb75)*(0x3*0x577+0xa01+-0x1666)*(0x4d1+0xb1*-0x18+0xfc7),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x13bf38){const _0x56ccab=_0x13bf38['toLowerCas'+'e']();for(const [_0x3e0a9e,_0x2753b9]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x56ccab['includes'](_0x3e0a9e))return _0x2753b9*(0xd94+0x4ef*-0x1+0x841*-0x1);return 0x1d0f+-0x9*-0x2b3+0x46e*-0xc;}['getModelSc'+'ore'](_0x54d97b,_0x35e13a){const _0xfce8bd=_0x54d97b['toLowerCas'+'e'](),_0x176dbf=_0x35e13a['toLowerCas'+'e']();for(const [_0x31d309,_0x1acd61]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0xfce8bd['includes'](_0x31d309)&&_0x1acd61['some'](_0x4f46da=>_0x4f46da['test'](_0x176dbf)))return-0x1a69+0xa22*-0x1+-0x24e5*-0x1;for(const [_0x4adf4b,_0x152b8d]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0xfce8bd['includes'](_0x4adf4b)&&_0x152b8d['some'](_0x1c359c=>_0x1c359c['test'](_0x176dbf)))return 0x24a8+0x5e*-0x1+-0x2404;for(const [_0x1e528c,_0x2703ad]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0xfce8bd['includes'](_0x1e528c)&&_0x2703ad['some'](_0x2f2cba=>_0x2f2cba['test'](_0x176dbf)))return 0x1*-0xa75+0x937+0x170;return 0x208e+0x2327*0x1+0x17*-0x2ef;}['getMemoryS'+'core'](_0x3f78cc){return _0x3f78cc?_0x3f78cc>=-0x167*0x9+-0x5b5d+0x96dc?0x254c+-0x1e50+-0x698:_0x3f78cc>=0x1ea3+-0x4e1*0x1+0x57e?0x1*-0x25bf+-0x26f8*-0x1+-0xdf*0x1:_0x3f78cc>=0xd93+-0x15e9+0x1fc6?0x18bf*-0x1+-0x655+0x4*0x7d9:_0x3f78cc>=0x1*-0x1169+-0x35*0x6d+-0x379a*-0x1?-0x2*-0x857+-0x1*0x1fe1+0xf79:_0x3f78cc>=0xc22*0x3+-0x1e56+0x7*0x40?0x1*-0x1505+-0x1fc6+0x21f*0x19:0x883*0x2+0x110b+-0x21df:-0x4*-0x8a5+0x1699+0x1d*-0x1f7;}['getDriverS'+'core'](_0x1a139b){if(!_0x1a139b)return 0x4*0x805+0x1698+0x1*-0x367a;const _0x3df86e=_0x1a139b['match'](/20[2-9][0-9]/);if(_0x3df86e){const _0xa77320=parseInt(_0x3df86e[-0x170f+0x106c+0x6a3]);if(_0xa77320>=-0x7+0x7*-0x2e9+0x159*0x15)return 0x1c41+-0xef1*-0x2+-0x1*0x39bf;if(_0xa77320>=-0x1*0x10b5+0x32f*-0x1+-0x1bca*-0x1)return 0xd*-0x4+0x5d9+-0x555;if(_0xa77320>=0x215*0x1+0x543*0x1+0x3*0x2f)return-0x175e+-0x3e9*0x3+0x25b*0xf;}return 0x191c+0x2*-0x8e1+-0x728;}['evaluateGP'+'U'](_0x5a10f8){const _0x186b20=this['getVendorS'+'core'](_0x5a10f8['vendor']),_0x2565fa=this['getModelSc'+'ore'](_0x5a10f8['vendor'],_0x5a10f8['renderer']),_0x2c8913=this['getMemoryS'+'core'](_0x5a10f8['memory']),_0x495f61=this['getDriverS'+'core'](_0x5a10f8['driverVers'+'ion']);return console['log']('GPU:',_0x5a10f8['vendor']),console['log']('GPU:',_0x5a10f8['renderer']),console['log']('GPU:',_0x5a10f8['driverVers'+'ion']),console['table'](_0x5a10f8),_0x186b20*(-0x1167+-0x1e36+0xef*0x33+0.3)+_0x2565fa*(-0x14cc*0x1+0x13ac+0x120+0.4)+_0x2c8913*(-0x19f5*0x1+0x34*0x9a+0x1d*-0x2f+0.2)+_0x495f61*(-0x1*-0x15e1+-0x1e4*0x10+0x85f+0.1);}['evaluateCP'+'U'](){const _0x8e2106=navigator['hardwareCo'+'ncurrency'];return _0x8e2106>=0x548+-0x3c0+-0x3*0x80?0xa37*-0x3+0x1744+0x764:_0x8e2106>=0x5a2+0x1a09+0x1*-0x1fa7?-0x11c0*-0x2+-0x74d*0x3+0x1*-0xd97:0xf23+0xf6b+0xed*-0x21;}['evaluateMe'+'mory'](_0x26dd41){return typeof _0x26dd41=='string'?0xc9+0x1e8d+-0x1f56:_0x26dd41['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x12973e){const _0x4b39de=WS(),_0x90866d=GS(),_0x51707b=HS();if(_0x90866d)return'medium';if(_0x51707b)return'lowVR';if(_0x4b39de)return'low';const _0x2e32f5=_0x12973e['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x1161+0xe2*0x20+0x8b*-0x14:_0x12973e['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x57*-0x42+-0x23cb+0x3a3b:-0x94e*-0x1+-0x67e+-0x2cf;let _0x5c707e=-0x716+0x1*0x11c5+-0xaae;typeof _0x12973e['gpuInfo']!='string'&&(_0x5c707e=this['evaluateGP'+'U'](_0x12973e['gpuInfo']));const _0x337194=this['evaluateCP'+'U'](),_0x595eca=this['evaluateMe'+'mory'](_0x12973e['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x4d5*-0x5+-0x1*-0x2155+0x43*-0x23:this['evaluateMe'+'mory'](_0x12973e['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x96d+-0x1ddc+0x274b:0x1f09+-0xf6a*-0x2+-0x3ddc,_0x145d98=_0x2e32f5+_0x5c707e+_0x337194+_0x595eca;return console['log']('GPU:',_0x2e32f5,_0x5c707e,_0x337194,_0x595eca),_0x145d98>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x145d98>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x208213){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x208213];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x383ff6){var _0x3f9b2a=Date['now']();return setTimeout(function(){_0x383ff6({'didTimeout':!(0x1a87+-0x21ec+0x766*0x1),'timeRemaining':function(){return Math['max'](-0x17f+0x37*0x95+0x4*-0x7a1,-0x11f3+-0x5c1+-0x2e*-0x85-(Date['now']()-_0x3f9b2a));}});},-0x8e1+-0x1edc+0x27be);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x539185){clearTimeout(_0x539185);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x52e4c8,_0x5a1673){for(const _0x3c31a2 in _0x5a1673){const _0x2e30d8=_0x5a1673[_0x3c31a2];Array['isArray'](_0x2e30d8)?_0x52e4c8[_0x3c31a2]=ah([],_0x2e30d8):_0x2e30d8&&typeof _0x2e30d8=='object'?_0x52e4c8[_0x3c31a2]=ah({},_0x2e30d8):_0x52e4c8[_0x3c31a2]=_0x2e30d8;}return _0x52e4c8;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x1c9eb1=>{const _0x4a6ddb=Math['random']()*(0x3*0x6ca+0x2109+-0x3557)|0x11e4+-0x1*-0x329+0x13d*-0x11;return(_0x1c9eb1==='x'?_0x4a6ddb:_0x4a6ddb&0x1d13+-0xf6d+-0xda3|-0x1de9+-0x15b5*-0x1+0x83c)['toString'](0x749*0x4+-0x3d*0x11+-0x1907*0x1);});}},xe={'delimiter':'/','join'(..._0x36ec15){let _0x1b3d8d=_0x36ec15[-0x22aa*-0x1+-0x618+-0x1c92];for(let _0x30a8b4=0xee*0x19+-0x12f5+-0x449;_0x30a8b4<_0x36ec15['length']-(-0x3*0xc14+-0x2032+0x446f);_0x30a8b4++){const _0xfefc1e=_0x36ec15[_0x30a8b4],_0x63b133=_0x36ec15[_0x30a8b4+(0x4d0+0x7d*-0x11+0x37e)];if(_0x63b133[-0x229f*-0x1+-0x9*-0x234+-0x3673]===xe['delimiter']){_0x1b3d8d=_0x63b133;continue;}_0xfefc1e&&_0x63b133&&_0xfefc1e[_0xfefc1e['length']-(0x1acb+0x1c*-0x41+-0x13ae)]!==xe['delimiter']&&_0x63b133[-0x759*0x5+-0x152d+0x1cf5*0x2]!==xe['delimiter']?_0x1b3d8d+=xe['delimiter']+_0x63b133:_0x1b3d8d+=_0x63b133;}return _0x1b3d8d;},'normalize'(_0x14acb4){const _0x300da3=_0x14acb4['startsWith'](xe['delimiter']),_0x21e26e=_0x14acb4['endsWith'](xe['delimiter']),_0x252434=_0x14acb4['split']('/');let _0x2a34fe='',_0x59bcac=[];for(let _0x526bcf=-0x1*0x21f5+0x208+-0xb*-0x2e7;_0x526bcf<_0x252434['length'];_0x526bcf++)if(_0x252434[_0x526bcf]!==''&&_0x252434[_0x526bcf]!=='.'){if(_0x252434[_0x526bcf]==='..'&&_0x59bcac['length']>0x140b+-0x5db*-0x1+0xaa*-0x27){_0x59bcac=_0x59bcac['slice'](0x2f*-0x7+-0x2e7*0x2+0x717,_0x59bcac['length']-(0xdf+-0x1c57+0x2*0xdbd));continue;}_0x526bcf>0x10*0x114+0x2603+0x7e5*-0x7&&_0x59bcac['push'](xe['delimiter']),_0x59bcac['push'](_0x252434[_0x526bcf]);}return _0x2a34fe=_0x59bcac['join'](''),!_0x300da3&&_0x2a34fe[-0x14b*-0x9+-0x2b7*-0x5+-0x2*0xc9b]===xe['delimiter']&&(_0x2a34fe=_0x2a34fe['slice'](-0x1*-0x12cd+0x7ba+-0x7*0x3ca)),_0x21e26e&&_0x2a34fe[_0x2a34fe['length']-(-0xc5f+0x16*-0x155+0x29ae)]!==xe['delimiter']&&(_0x2a34fe+=xe['delimiter']),_0x2a34fe;},'split'(_0xd44066){const _0x5ccd91=_0xd44066['lastIndexO'+'f'](xe['delimiter']);return _0x5ccd91!==-(0x1*-0x1844+-0x2*0xff3+0x382b)?[_0xd44066['substring'](0x64*-0x44+-0xa5*0x23+0x311f,_0x5ccd91),_0xd44066['substring'](_0x5ccd91+(0x9e8+0xa8b*0x1+-0x1472))]:['',_0xd44066];},'getBasename'(_0x3a3a7d){return xe['split'](_0x3a3a7d)[-0x321*-0x8+0xc*0x6e+-0x1e2f];},'getDirectory'(_0x141631){return xe['split'](_0x141631)[0x26f8+-0x276+-0x2482];},'getExtension'(_0x374d72){const _0x2aa631=_0x374d72['split']('?')[-0x1*0x814+-0x1d0b+0x2b*0xdd]['split']('.')['pop']();return _0x2aa631!==_0x374d72?'.'+_0x2aa631:'';},'isRelativePath'(_0x3b5cbe){return _0x3b5cbe['charAt'](-0xc12+-0xdc3+0x19d5)!=='/'&&_0x3b5cbe['match'](/:\/\//)===null;},'extractPath'(_0x608b07){let _0x52e49e='';const _0x2dd323=_0x608b07['split']('/');let _0x5dbc0e=0xeeb+0x118b+-0x2076;if(_0x2dd323['length']>0xb75+-0x2*0xac+-0xa1c){if(xe['isRelative'+'Path'](_0x608b07)){if(_0x2dd323[-0xa*-0x3b7+0x373*-0x1+0x1*-0x21b3]==='.'){for(_0x5dbc0e=-0x13a6*0x1+0x263a+-0x1294;_0x5dbc0e<_0x2dd323['length']-(-0x10f*-0xb+0xbf2+-0x1*0x1796);++_0x5dbc0e)_0x52e49e+=_0x5dbc0e===-0x61*0x61+0x1f15+0x5ac?_0x2dd323[_0x5dbc0e]:'/'+_0x2dd323[_0x5dbc0e];}else{if(_0x2dd323[0x592+0x21d7+-0x2769]==='..'){for(_0x5dbc0e=0x1e00+-0x3*-0xb53+0x35*-0x135;_0x5dbc0e<_0x2dd323['length']-(-0xa8b+-0x287+0xd13);++_0x5dbc0e)_0x52e49e+=_0x5dbc0e===-0xa+0x1bbb+-0x1bb1?_0x2dd323[_0x5dbc0e]:'/'+_0x2dd323[_0x5dbc0e];}else{for(_0x52e49e='.',_0x5dbc0e=-0x5*0x585+0x395+0x1804;_0x5dbc0e<_0x2dd323['length']-(0x26ce+0x1*0x12fb+0x1*-0x39c8);++_0x5dbc0e)_0x52e49e+='/'+_0x2dd323[_0x5dbc0e];}}}else{for(_0x5dbc0e=-0xb3c*-0x3+0x94e*-0x1+-0x1866;_0x5dbc0e<_0x2dd323['length']-(0x1*0x2031+0x5a5*0x6+-0x420e);++_0x5dbc0e)_0x52e49e+=_0x5dbc0e===-0x3*0x1df+0x271*0x1+0x7*0x74?_0x2dd323[_0x5dbc0e]:'/'+_0x2dd323[_0x5dbc0e];}}return _0x52e49e;}},J0=()=>{let _0xac13e6=!(0x1ece+-0x5c1+-0x190c);try{const _0x17aa72=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0xac13e6=!(-0xbfe*0x1+0x1f5e+-0x9b*0x20),!(0x20*-0x66+0x5*-0x6b3+-0xb9*-0x40);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x17aa72),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x17aa72);}catch{}return _0xac13e6;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x14f*0x16+0x10af+0x1*-0x2d79),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0xee2a+-0xeb4f+0x2b179,jS=-0xc*-0x1dc4+0x5*-0x2cb7+0x5662,Rm=-0x137a9+0x175be+0x9deb,rx=0x1299d+-0x1208b+0xd6ed,ax=-0x3b*-0xeb+-0x1539+0x1*-0xe3,Om=-0x3c0ca+0x27c80+0x78*0x6da,Fm=0x7a03*-0x7+0x895f+0x4beb5,nx=0x317f*0x9+-0x38589+0x3bc0d*0x1,ox=-0x24db6+-0x345a4+0x78759,lx=-0x1584+-0x10a0*-0x2+-0x13*-0x11c,cx=0x6f3+-0x883*0x6+0x1*0x4d1e,zf=-0xf5f7+-0x1b668+0xe9*0x407,Vf=0x1*0x1866b+-0x4567*-0x1+-0xcdc3;function Gf(_0x551218,_0x47c87e=-0x21d*0xe+-0x49*0x10+-0xb62*-0x3){const _0x32fedf=_0x551218['length'];if(_0x47c87e<0x1807*0x1+-0xe74+-0x2b*0x39||_0x47c87e>=_0x32fedf)return null;const _0x3b19e4=_0x551218['charCodeAt'](_0x47c87e);if(_0x32fedf>-0xd5d*-0x1+-0x4c8*-0x1+-0x1224&&_0x3b19e4>=Bf&&_0x3b19e4<=jS){const _0x3c0aaf=_0x551218['charCodeAt'](_0x47c87e+(-0x8*-0x1+-0x2158+0x2151*0x1));if(_0x3c0aaf>=Rm&&_0x3c0aaf<=rx)return{'code':(_0x3b19e4-Bf)*(0x57*-0x1f+-0x1*-0x125b+0xa3*-0x6)+_0x3c0aaf-Rm+(0x172c4+-0x9023*0x1+0x1d5f),'long':!(-0x1f31+-0x22d5+0x4206)};}return{'code':_0x3b19e4,'long':!(-0x2705+0x2f*0x2e+-0x13*-0x19c)};}function fr(_0x75da16,_0x19eb9a,_0x3a363d){if(!_0x75da16)return!(-0x1e7a+-0x1*-0x17a7+0x17*0x4c);const _0x2f9926=Gf(_0x75da16);if(_0x2f9926){const _0x971e9f=_0x2f9926['code'];return _0x971e9f>=_0x19eb9a&&_0x971e9f<=_0x3a363d;}return!(0x2350*-0x1+-0x1*0x235b+-0x2356*-0x2);}function hx(_0x318741,_0x14758e){if(_0x14758e===_0x318741['length']-(0x218a+0xc39*0x1+0x2*-0x16e1))return-0x2*-0xd03+0x1fe5+-0x39ea;if(fr(_0x318741[_0x14758e],Bf,jS)){const _0x22f7c0=_0x318741['substring'](_0x14758e,_0x14758e+(0x22de+-0x1*-0x1ae1+0x1*-0x3dbd)),_0x2d0706=_0x318741['substring'](_0x14758e+(-0x5f+0xc7*0x3+0x1f4*-0x1),_0x14758e+(-0x1*-0x21d7+-0x1a75+-0x29*0x2e));return fr(_0x2d0706,nx,ox)||fr(_0x22f7c0,Om,Fm)&&fr(_0x2d0706,Om,Fm)?-0xaca+0x1*-0xf79+0x1*0x1a47:fr(_0x2d0706,zf,Vf)?-0x24c3+-0x1add+-0x5c9*-0xb:-0xb*-0x116+-0x1*-0x195b+-0x254b;}return fr(_0x318741[_0x14758e+(0x1*0xc53+-0x1b95*-0x1+-0x27e7)],zf,Vf)?-0x15b9+-0x90*0x1+0x164b:0x2fb+0x815+-0xb0f;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x2754b3,..._0x577049){for(let _0x2bde0d=0x2*-0x1135+-0x1e5d+0x40c7;_0x2bde0d<_0x577049['length'];_0x2bde0d++)_0x2754b3=_0x2754b3['replace']('{'+_0x2bde0d+'}',_0x577049[_0x2bde0d]);return _0x2754b3;},'getCodePoint'(_0x4042eb,_0x52e009){const _0x39b3e2=Gf(_0x4042eb,_0x52e009);return _0x39b3e2&&_0x39b3e2['code'];},'getCodePoints'(_0x17f290){if(typeof _0x17f290!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x17b41b=0x25f*0x1+-0x237f+-0x50*-0x6a;const _0x581e3e=[];let _0x4a5a07;for(;_0x4a5a07=Gf(_0x17f290,_0x17b41b);)_0x581e3e['push'](_0x4a5a07['code']),_0x17b41b+=_0x4a5a07['long']?0x758+-0x5*0x359+0x967:-0x1c12*-0x1+0x5b8+-0x21c9;return _0x581e3e;},'getSymbols'(_0x2512d6){if(typeof _0x2512d6!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1db210=0x1a6e+-0x2475+0xa07;const _0x11b1fb=_0x2512d6['length'],_0x4f705b=[];let _0x5e69f9=0x270f+-0xca*-0x3+0x1f9*-0x15,_0x48c9b1;for(;_0x1db210<_0x11b1fb;){if(_0x5e69f9+=hx(_0x2512d6,_0x1db210+_0x5e69f9),_0x48c9b1=_0x2512d6[_0x1db210+_0x5e69f9],fr(_0x48c9b1,lx,cx)&&(_0x48c9b1=_0x2512d6[_0x1db210+_0x5e69f9++]),fr(_0x48c9b1,zf,Vf)&&(_0x48c9b1=_0x2512d6[_0x1db210+_0x5e69f9++]),_0x48c9b1&&_0x48c9b1['charCodeAt'](0x11ae+-0x25*0xb5+0x87b)===ax){_0x48c9b1=_0x2512d6[_0x1db210+_0x5e69f9++];continue;}const _0x2e34b7=_0x2512d6['substring'](_0x1db210,_0x1db210+_0x5e69f9);_0x4f705b['push'](_0x2e34b7),_0x1db210+=_0x5e69f9,_0x5e69f9=0x55b*-0x3+-0x256d+0x357e;}return _0x4f705b;},'fromCodePoint'(..._0x575aff){return _0x575aff['map'](_0x1fa508=>_0x1fa508>-0x17063*-0x1+0x1ab27+0xb3d9*-0x3?(_0x1fa508-=-0x106ef+0x536*-0x57+0x3cc49,String['fromCharCo'+'de']((_0x1fa508>>-0x1306+-0xde0+0x20f0)+(-0x2a36*0x7+-0x1669+0x215e3),_0x1fa508%(0x41e*-0x2+-0xb6d*0x1+0x1*0x17a9)+(0x2*0x8864+0x18ad7+0x1bf9f*-0x1))):String['fromCharCo'+'de'](_0x1fa508))['join']('');}},Zr=class Zr{static['set'](_0x108bed,_0x491e20=!(0xd*-0x2e7+-0x1*-0x1d75+-0x6*-0x161)){_0x491e20?Zr['_traceChan'+'nels']['add'](_0x108bed):Zr['_traceChan'+'nels']['delete'](_0x108bed);}static['get'](_0x13ec0d){return Zr['_traceChan'+'nels']['has'](_0x13ec0d);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x2272*0x1+-0x1730+0xb41*-0x1));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x4a0c50){Vt['_loggedMes'+'sages']['has'](_0x4a0c50)||(Vt['_loggedMes'+'sages']['add'](_0x4a0c50),console['warn']('DEPRECATED'+':\x20'+_0x4a0c50));}static['removed'](_0x4cda4d){Vt['_loggedMes'+'sages']['has'](_0x4cda4d)||(Vt['_loggedMes'+'sages']['add'](_0x4cda4d),console['error']('REMOVED:\x20'+_0x4cda4d));}static['assertDepr'+'ecated'](_0x417a4b,_0x338897){_0x417a4b||Vt['deprecated'](_0x338897);}static['assert'](_0x2d8957,..._0x41f76a){_0x2d8957||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x41f76a);}static['assertDest'+'royed'](_0x34363f){var _0x32aab1;if(_0x34363f!=null&&_0x34363f['__alreadyD'+'estroyed']){const _0x15717d='['+((_0x32aab1=_0x34363f['constructo'+'r'])==null?void(-0x3e1*0xa+-0x15*-0xed+0x1359):_0x32aab1['name'])+(']\x20with\x20nam'+'e\x20[')+_0x34363f['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x15717d)||(Vt['_loggedMes'+'sages']['add'](_0x15717d),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x15717d,_0x34363f));}}static['call'](_0x2ef4cb){_0x2ef4cb();}static['log'](..._0x3ada3f){console['log'](..._0x3ada3f);}static['logOnce'](_0x233b1e,..._0x3aa425){Vt['_loggedMes'+'sages']['has'](_0x233b1e)||(Vt['_loggedMes'+'sages']['add'](_0x233b1e),console['log'](_0x233b1e,..._0x3aa425));}static['warn'](..._0x150789){console['warn'](..._0x150789);}static['warnOnce'](_0x356128,..._0x4573d7){Vt['_loggedMes'+'sages']['has'](_0x356128)||(Vt['_loggedMes'+'sages']['add'](_0x356128),console['warn'](_0x356128,..._0x4573d7));}static['error'](..._0x3ab968){console['error'](..._0x3ab968);}static['errorOnce'](_0x2824ea,..._0x1e771d){Vt['_loggedMes'+'sages']['has'](_0x2824ea)||(Vt['_loggedMes'+'sages']['add'](_0x2824ea),console['error'](_0x2824ea,..._0x1e771d));}static['trace'](_0x3a82d8,..._0x22095f){mi['get'](_0x3a82d8)&&(console['groupColla'+'psed'](_0x3a82d8['padEnd'](-0x93*-0x31+-0x1198+-0xa77,'\x20')+'|',..._0x22095f),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x1fbff7,_0x5dd2b6){_0x1fbff7&&(_0x1fbff7['name']=_0x5dd2b6);}static['setLabel'](_0x5b73cb,_0x13fa5e){_0x5b73cb&&(_0x5b73cb['label']=_0x13fa5e);}static['setDestroy'+'ed'](_0x41ad24){_0x41ad24&&(_0x41ad24['__alreadyD'+'estroyed']=!(-0x216c+-0x165d+0x37c9));}}class dx{constructor(_0x2494d9,_0x1a5106,_0x4dea2c,_0x3850b2,_0x2bb0c0=!(0x29*0x17+-0x1f*0xf0+0x12*0x169)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(-0x1b83+-0x1*0x1c8a+0x380e)),(this['handler']=_0x2494d9,this['name']=_0x1a5106,this['callback']=_0x4dea2c,this['scope']=_0x3850b2,this['_once']=_0x2bb0c0);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x288b68,_0x2615c8,_0x189531=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x288b68,_0x2615c8,_0x189531,!(-0x430+-0x2658+0x2a89));}['once'](_0x5780d6,_0x171578,_0xc7a694=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x5780d6,_0x171578,_0xc7a694,!(-0x295*0x5+-0x2143+0x6*0x7b2));}set['removed'](_0x51ec4d){_0x51ec4d&&(this['_removed']=!(-0xc5f+0x108a+-0x42b));}get['removed'](){return this['_removed'];}['toJSON'](_0x28d63f){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x407b8d,_0x4416b6,_0x154292,_0x6ce8b6){if((!_0x407b8d||typeof _0x407b8d!='string'||!_0x4416b6)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x407b8d+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x4416b6),this['_callbacks']['has'](_0x407b8d)||this['_callbacks']['set'](_0x407b8d,[]),this['_callbackA'+'ctive']['has'](_0x407b8d)){const _0x7e8222=this['_callbackA'+'ctive']['get'](_0x407b8d);_0x7e8222&&_0x7e8222===this['_callbacks']['get'](_0x407b8d)&&this['_callbackA'+'ctive']['set'](_0x407b8d,_0x7e8222['slice']());}const _0x579d4c=new dx(this,_0x407b8d,_0x4416b6,_0x154292,_0x6ce8b6);return this['_callbacks']['get'](_0x407b8d)['push'](_0x579d4c),_0x579d4c;}['on'](_0x3e5482,_0x14754b,_0x4c6bae=this){return this['_addCallba'+'ck'](_0x3e5482,_0x14754b,_0x4c6bae,!(0xddb+-0x1d*0xfd+0xecf));}['once'](_0x188b13,_0x66cbc9,_0x44f9cc=this){return this['_addCallba'+'ck'](_0x188b13,_0x66cbc9,_0x44f9cc,!(0x1*0x22b+-0x8ea+-0x6bf*-0x1));}['off'](_0x2e79ea,_0x4b981e,_0x3c4f7b){if(_0x2e79ea)this['_callbackA'+'ctive']['has'](_0x2e79ea)&&this['_callbackA'+'ctive']['get'](_0x2e79ea)===this['_callbacks']['get'](_0x2e79ea)&&this['_callbackA'+'ctive']['set'](_0x2e79ea,this['_callbackA'+'ctive']['get'](_0x2e79ea)['slice']());else{for(const [_0x4c3a81,_0x173482]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x4c3a81)&&this['_callbacks']['get'](_0x4c3a81)===_0x173482&&this['_callbackA'+'ctive']['set'](_0x4c3a81,_0x173482['slice']());}if(_0x2e79ea){if(_0x4b981e){const _0x388533=this['_callbacks']['get'](_0x2e79ea);if(!_0x388533)return this;for(let _0x391dfd=0x11c2+-0xbf*-0x26+-0x1a*0x1c6;_0x391dfd<_0x388533['length'];_0x391dfd++)_0x388533[_0x391dfd]['callback']===_0x4b981e&&(_0x3c4f7b&&_0x388533[_0x391dfd]['scope']!==_0x3c4f7b||(_0x388533[_0x391dfd]['removed']=!(0xb05+0x1*0xbcd+-0x16d2),_0x388533['splice'](_0x391dfd,-0x887+-0x2e6*0x9+0x229e),_0x391dfd--));_0x388533['length']===0x1e1e+-0x1741+0x1*-0x6dd&&this['_callbacks']['delete'](_0x2e79ea);}else{const _0x2c703e=this['_callbacks']['get'](_0x2e79ea);if(_0x2c703e){for(let _0x3d264f=0xb*-0x1+-0x7*0x3ad+0x19c6;_0x3d264f<_0x2c703e['length'];_0x3d264f++)_0x2c703e[_0x3d264f]['removed']=!(0x86b+0xfd6+-0x1841);this['_callbacks']['delete'](_0x2e79ea);}}}else{for(const _0x95bbf8 of this['_callbacks']['values']())for(let _0x3c4d7b=0x1ff4+-0xebb+-0x1*0x1139;_0x3c4d7b<_0x95bbf8['length'];_0x3c4d7b++)_0x95bbf8[_0x3c4d7b]['removed']=!(-0x5a8+0x2141+-0x1b99);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x3c25bc){const _0x1a2f76=_0x3c25bc['name'];_0x3c25bc['removed']=!(-0x14f2+-0xae*0x1b+0x1f7*0x14),this['_callbackA'+'ctive']['has'](_0x1a2f76)&&this['_callbackA'+'ctive']['get'](_0x1a2f76)===this['_callbacks']['get'](_0x1a2f76)&&this['_callbackA'+'ctive']['set'](_0x1a2f76,this['_callbackA'+'ctive']['get'](_0x1a2f76)['slice']());const _0x3f2203=this['_callbacks']['get'](_0x1a2f76);if(!_0x3f2203)return this;const _0x469460=_0x3f2203['indexOf'](_0x3c25bc);return _0x469460!==-(0x145+0x6*0x449+-0x1afa)&&(_0x3f2203['splice'](_0x469460,0x31f*-0x9+-0x1*0x1d45+0x395d),_0x3f2203['length']===0xb8c*0x1+0x28b+0xe17*-0x1&&this['_callbacks']['delete'](_0x1a2f76)),this;}['fire'](_0x1efd0a,_0x362e60,_0x5f98d3,_0x4df528,_0x5ec38e,_0x3718da,_0x2f8115,_0x327e91,_0x41e799){if(!_0x1efd0a)return this;const _0x3e768b=this['_callbacks']['get'](_0x1efd0a);if(!_0x3e768b)return this;let _0x39d7bf;this['_callbackA'+'ctive']['has'](_0x1efd0a)?this['_callbackA'+'ctive']['get'](_0x1efd0a)!==_0x3e768b&&(_0x39d7bf=_0x3e768b['slice']()):this['_callbackA'+'ctive']['set'](_0x1efd0a,_0x3e768b);for(let _0x16913a=-0x22ce*0x1+0x1005+0x12c9;(_0x39d7bf||this['_callbackA'+'ctive']['get'](_0x1efd0a))&&_0x16913a<(_0x39d7bf||this['_callbackA'+'ctive']['get'](_0x1efd0a))['length'];_0x16913a++){const _0x5ca430=(_0x39d7bf||this['_callbackA'+'ctive']['get'](_0x1efd0a))[_0x16913a];if(_0x5ca430['callback']&&(_0x5ca430['callback']['call'](_0x5ca430['scope'],_0x362e60,_0x5f98d3,_0x4df528,_0x5ec38e,_0x3718da,_0x2f8115,_0x327e91,_0x41e799),_0x5ca430['_once'])){const _0x3e45d7=this['_callbacks']['get'](_0x1efd0a),_0x47558e=_0x3e45d7?_0x3e45d7['indexOf'](_0x5ca430):-(-0x57*0x51+0x97c+-0x294*-0x7);if(_0x47558e!==-(0x1321+-0x1a82+-0x276*-0x3)){this['_callbackA'+'ctive']['get'](_0x1efd0a)===_0x3e45d7&&this['_callbackA'+'ctive']['set'](_0x1efd0a,this['_callbackA'+'ctive']['get'](_0x1efd0a)['slice']());const _0x33d978=this['_callbacks']['get'](_0x1efd0a);if(!_0x33d978)continue;_0x33d978[_0x47558e]['removed']=!(-0x4d3*0x6+-0x24ee+0x41e0),_0x33d978['splice'](_0x47558e,-0x129a+-0x796+0x1a31),_0x33d978['length']===0x1d8c+0x1d*0x13a+-0x411e&&this['_callbacks']['delete'](_0x1efd0a);}}}return _0x39d7bf||this['_callbackA'+'ctive']['delete'](_0x1efd0a),this;}['hasEvent'](_0x19a503){var _0x22bf79;return!!((_0x22bf79=this['_callbacks']['get'](_0x19a503))!=null&&_0x22bf79['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x5017cb,_0x33bd2c){if(this['_index'][_0x5017cb])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x5017cb);const _0x2669f5=this['_list']['push'](_0x33bd2c)-(0x20b1+-0x2*-0xc20+-0x38f0);this['_index'][_0x5017cb]=_0x2669f5;}['has'](_0x4a15bc){return this['_index'][_0x4a15bc]!==void(-0x395*-0x2+-0x595*-0x1+-0xcbf);}['get'](_0x24e935){const _0x3b967a=this['_index'][_0x24e935];return _0x3b967a!==void(0xe0a+0x7*0x271+0x1*-0x1f21)?this['_list'][_0x3b967a]:null;}['remove'](_0x3d7346){const _0xc7c639=this['_index'][_0x3d7346];if(_0xc7c639!==void(-0x51d*0x4+0x1*-0x1f4b+0x33bf*0x1)){this['_list']['splice'](_0xc7c639,0x97d*-0x1+-0x37d*0x4+-0x1772*-0x1),delete this['_index'][_0x3d7346];for(_0x3d7346 in this['_index']){const _0x3bef14=this['_index'][_0x3d7346];_0x3bef14>_0xc7c639&&(this['_index'][_0x3d7346]=_0x3bef14-(0x4e*0x7f+-0x2*-0x4cf+0x53*-0x95));}return!(0x24d1+-0xb5*-0x27+-0x4064);}return!(0xc4f+0x14e*-0x17+0x11b4);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x1*-0x2149+0xafa+0x164f*0x1;for(const _0x1d8ec4 in this['_index'])delete this['_index'][_0x1d8ec4];}}const ux=_0x2cf8fc=>{const _0xb6a7a8={};let _0x401010=_0xb6a7a8;return()=>(_0x401010===_0xb6a7a8&&(_0x401010=_0x2cf8fc()),_0x401010);},ii=class ii{static['loadScript'](_0x1dad10,_0x4e0c47){const _0x40c23d=document['createElem'+'ent']('script');_0x40c23d['setAttribu'+'te']('src',_0x1dad10),_0x40c23d['onload']=()=>{_0x4e0c47(null);},_0x40c23d['onerror']=()=>{_0x4e0c47('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x1dad10+'\x27');},document['body']['appendChil'+'d'](_0x40c23d);}static['loadWasm'](_0xe5341f,_0x2bb98c,_0x5f1336){const _0x1789ae=ii['wasmSuppor'+'ted']()&&_0x2bb98c['glueUrl']&&_0x2bb98c['wasmUrl']?_0x2bb98c['glueUrl']:_0x2bb98c['fallbackUr'+'l'];_0x1789ae?ii['loadScript'](_0x1789ae,_0x4119d1=>{if(_0x4119d1)_0x5f1336(_0x4119d1,null);else{const _0x1fff93=window[_0xe5341f];window[_0xe5341f]=void(0xc43+0x756+-0x1399),_0x1fff93({'locateFile':()=>_0x2bb98c['wasmUrl'],'onAbort':()=>{_0x5f1336('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x44f975=>{_0x5f1336(null,_0x44f975);});}}):_0x5f1336('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x379494){return ii['modules']['hasOwnProp'+'erty'](_0x379494)||(ii['modules'][_0x379494]={'config':null,'initializing':!(-0x5c9*0x5+0x1*0x19d5+0x3d*0xd),'instance':null,'callbacks':[]}),ii['modules'][_0x379494];}static['initialize'](_0xfb4162,_0x6dd28b){if(_0x6dd28b['initializi'+'ng'])return;const _0x29de68=_0x6dd28b['config'];(_0x29de68['glueUrl']||_0x29de68['wasmUrl']||_0x29de68['fallbackUr'+'l'])&&(_0x6dd28b['initializi'+'ng']=!(-0xe6c+0x17eb+-0x97f),ii['loadWasm'](_0xfb4162,_0x29de68,(_0xf33d64,_0x5049ca)=>{_0xf33d64?_0x29de68['errorHandl'+'er']?_0x29de68['errorHandl'+'er'](_0xf33d64):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0xfb4162+'\x20error='+_0xf33d64):(_0x6dd28b['instance']=_0x5049ca,_0x6dd28b['callbacks']['forEach'](_0x514659=>{_0x514659(_0x5049ca);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x324d22=new WebAssembly['Module'](Uint8Array['of'](-0x1435+0x1138+0x1*0x2fd,-0xede+-0x1ee1+0x2e20,-0x65*-0x2+-0x187*0x1+0x8*0x26,-0x2b7*0xd+-0x1047+0x1b*0x1ed,0x2235+0x10c1*0x2+-0x43b6,0xa57+-0x1728+0xcd1,-0x1b3d+-0x26f5+0xe5*0x4a,0x6a0+-0x28c*-0xe+-0x2a48));if(_0x324d22 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x324d22)instanceof WebAssembly['Instance'];}}catch{}return!(-0x17eb+0xfb3+0x839);}));let Yr=ii;class YS{static['setConfig'](_0x152efa,_0x455b1a){const _0x2c124a=Yr['getModule'](_0x152efa);_0x2c124a['config']=_0x455b1a,_0x2c124a['callbacks']['length']>-0xe62+-0x1a11*0x1+-0x1*-0x2873&&Yr['initialize'](_0x152efa,_0x2c124a);}static['getConfig'](_0x231830){var _0x3f3b6a,_0x3178aa;return(_0x3178aa=(_0x3f3b6a=Yr['modules'])==null?void(0x181e+0x1269+-0x2a87):_0x3f3b6a[_0x231830])==null?void(-0x1ac9+-0x3*0x4b+0x1baa):_0x3178aa['config'];}static['getInstanc'+'e'](_0x2a8809,_0x3771d8){const _0x10e988=Yr['getModule'](_0x2a8809);_0x10e988['instance']?_0x3771d8(_0x10e988['instance']):(_0x10e988['callbacks']['push'](_0x3771d8),_0x10e988['config']&&Yr['initialize'](_0x2a8809,_0x10e988));}}class KS{constructor(_0x303f1e){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x1097+0x1698*0x1+-0x601),(this['arraybuffe'+'r']=_0x303f1e,this['dataView']=new DataView(_0x303f1e));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x27ac97=0x18de*-0x1+0x2*-0x20e+-0x1cfa*-0x1){this['offset']=_0x27ac97;}['skip'](_0x5b69a9){this['offset']+=_0x5b69a9;}['align'](_0x2f09b1){this['offset']=this['offset']+_0x2f09b1-(0x2608+0x1*0x17d2+-0x1*0x3dd9)&~(_0x2f09b1-(0x126b*-0x1+-0x1*0x27e+-0xa75*-0x2));}['_inc'](_0x586fac){return this['offset']+=_0x586fac,this['offset']-_0x586fac;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x336149){let _0x225f15='';for(let _0x405939=-0x6*-0x32b+0x491+-0x1793;_0x405939<_0x336149;++_0x405939)_0x225f15+=this['readChar']();return _0x225f15;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1446*0x1+0x200*-0x10+-0x8*-0x689),!(-0x215+0xa*-0x3ca+0x27f9));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x19f0+-0x1416+0x2*0x1705),!(0x215b*-0x1+-0x1332+-0x348d*-0x1));}['readU64'](){return this['readU32']()+(-0x1*-0x2065+-0x133e+0x1*-0xd25)**(0xbda+-0x23b4+0x17fa)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x1*-0x1d39+0x3be*-0x1+-0x20fb*-0x1),!(0x25ad+0xeaa+-0x2*0x1a2b));}['readArray'](_0x5c3a6d){for(let _0x4974cb=-0x7b8+0x16*-0x19a+0x2af4;_0x4974cb<_0x5c3a6d['length'];++_0x4974cb)_0x5c3a6d[_0x4974cb]=this['readU8']();}['readLine'](){const _0x1c4c6b=this['dataView'];let _0x5c9fbd='';for(;!(this['offset']>=_0x1c4c6b['byteLength']);){const _0x4a7124=String['fromCharCo'+'de'](this['readU8']());if(_0x4a7124==='\x0a')break;_0x5c9fbd+=_0x4a7124;}return _0x5c9fbd;}}class oh{constructor(_0x444824){h(this,'items',[]),h(this,'length',0x19f9+0x7fe*0x1+0x5*-0x6cb),h(this,'loopIndex',-(0x1dd1+0xe81*0x2+0x1*-0x3ad2)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x444824['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x567ac8){let _0x552cc2=0x1*0x1a5b+-0x1d0e+-0x1*-0x2b3,_0x26540b=this['items']['length']-(0x17b9*0x1+0x55+-0x180d*0x1);const _0x2b72ce=_0x567ac8[this['_sortBy']];let _0x16bd4a,_0x284247;for(;_0x552cc2<=_0x26540b;)_0x16bd4a=Math['floor']((_0x552cc2+_0x26540b)/(0x232*0x1+0x1394+-0x15c4)),_0x284247=this['items'][_0x16bd4a][this['_sortBy']],_0x284247<=_0x2b72ce?_0x552cc2=_0x16bd4a+(0xa*-0x4f+-0x1b7*-0x5+-0x57c*0x1):_0x284247>_0x2b72ce&&(_0x26540b=_0x16bd4a-(0x2605*0x1+0x26fd*-0x1+-0x1*-0xf9));return _0x552cc2;}['_doSort'](_0x1f9da7,_0x36c92a){const _0x3a3307=this['_sortBy'];return _0x1f9da7[_0x3a3307]-_0x36c92a[_0x3a3307];}['insert'](_0xa1e50a){const _0x347f0f=this['_binarySea'+'rch'](_0xa1e50a);this['items']['splice'](_0x347f0f,0x1476+-0x911*0x4+0x77*0x22,_0xa1e50a),this['length']++,this['loopIndex']>=_0x347f0f&&this['loopIndex']++;}['append'](_0x1e8dd9){this['items']['push'](_0x1e8dd9),this['length']++;}['remove'](_0xe7419){const _0x3ac4a7=this['items']['indexOf'](_0xe7419);_0x3ac4a7<0x242b+-0x1c93+0x4*-0x1e6||(this['items']['splice'](_0x3ac4a7,-0xbf7+0x5*-0x60f+0x2a43),this['length']--,this['loopIndex']>=_0x3ac4a7&&this['loopIndex']--);}['sort'](){const _0x35f54c=this['loopIndex']>=-0x36c*0x1+0x203a+-0x1cce?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x35f54c!==null&&(this['loopIndex']=this['items']['indexOf'](_0x35f54c));}}class Oo extends me{constructor(_0x2dcdab){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x2dcdab;}['add'](..._0x2eaa32){let _0x1e4c7f=!(-0xa03*0x1+-0x1*-0x2479+-0x1a75);const _0x2626c0=this['_processAr'+'guments'](_0x2eaa32,!(0x22db+-0x3*0x983+-0x2*0x329));if(!_0x2626c0['length'])return _0x1e4c7f;for(let _0x243eaf=0x1*0x225+0x1831*0x1+0xd2b*-0x2;_0x243eaf<_0x2626c0['length'];_0x243eaf++)this['_index'][_0x2626c0[_0x243eaf]]||(_0x1e4c7f=!(-0x22e1+0x2666*0x1+0x11*-0x35),this['_index'][_0x2626c0[_0x243eaf]]=!(-0x2*-0x61+-0x1d62+-0x728*-0x4),this['_list']['push'](_0x2626c0[_0x243eaf]),this['fire']('add',_0x2626c0[_0x243eaf],this['_parent']));return _0x1e4c7f&&this['fire']('change',this['_parent']),_0x1e4c7f;}['remove'](..._0x4fda43){let _0x5d157d=!(0x1*0xb5d+0x1bf6+0x13a9*-0x2);if(!this['_list']['length'])return _0x5d157d;const _0x4e9196=this['_processAr'+'guments'](_0x4fda43,!(0x153*-0xa+-0x1382+0x20c0));if(!_0x4e9196['length'])return _0x5d157d;for(let _0x28a221=-0x1a84+-0x2689+0x410d;_0x28a221<_0x4e9196['length'];_0x28a221++)this['_index'][_0x4e9196[_0x28a221]]&&(_0x5d157d=!(-0x1481+0xa11*-0x2+0x28a3),delete this['_index'][_0x4e9196[_0x28a221]],this['_list']['splice'](this['_list']['indexOf'](_0x4e9196[_0x28a221]),0x1508+-0x6a3+-0xe64),this['fire']('remove',_0x4e9196[_0x28a221],this['_parent']));return _0x5d157d&&this['fire']('change',this['_parent']),_0x5d157d;}['clear'](){if(!this['_list']['length'])return;const _0x14ee9c=this['_list']['slice'](-0x14e*-0x1+-0xdc1+0x1*0xc73);this['_list']=[],this['_index']={};for(let _0x4544cc=0x12dd+0xff7+-0x22d4;_0x4544cc<_0x14ee9c['length'];_0x4544cc++)this['fire']('remove',_0x14ee9c[_0x4544cc],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0xde4188){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0xde4188)):!(-0x12*-0xa3+-0x1346*0x2+0x1b17);}['_has'](_0x79fe5d){if(!this['_list']['length']||!_0x79fe5d['length'])return!(-0x438+-0x24fb+0x2934);for(let _0x15346c=0x216d*-0x1+0x184b+0x922;_0x15346c<_0x79fe5d['length'];_0x15346c++)if(_0x79fe5d[_0x15346c]['length']===-0xb2c+-0x98*0x4+0x1*0xd8d){if(this['_index'][_0x79fe5d[_0x15346c][-0x3b3*-0x5+0xe32+-0x20b1]])return!(0xa8a+-0x13*0x92+0x4c);}else{let _0x1fdf43=!(0x1*-0xa16+-0x2096+-0x2*-0x1556);for(let _0x42fb32=0x1*0xfee+-0x156a*-0x1+-0x4ab*0x8;_0x42fb32<_0x79fe5d[_0x15346c]['length'];_0x42fb32++)if(!this['_index'][_0x79fe5d[_0x15346c][_0x42fb32]]){_0x1fdf43=!(0x958+-0xa6c+-0x1*-0x115);break;}if(_0x1fdf43)return!(0x1bc0+0x11c9+0x1*-0x2d89);}return!(-0x1298+-0x33b+0x15d4);}['list'](){return this['_list']['slice'](0x2647+-0x61e*-0x1+-0x8e1*0x5);}['_processAr'+'guments'](_0x2d66c0,_0x407bf0){const _0x5ebe28=[];let _0x5cae6c=[];if(!_0x2d66c0||!_0x2d66c0['length'])return _0x5ebe28;for(let _0x45f6a7=-0x53e*-0x1+0x1*0x249e+-0x29dc;_0x45f6a7<_0x2d66c0['length'];_0x45f6a7++)if(_0x2d66c0[_0x45f6a7]instanceof Array){_0x407bf0||(_0x5cae6c=[]);for(let _0x4a5053=-0x2*0xc0e+-0x1*0x266f+0x9*0x6f3;_0x4a5053<_0x2d66c0[_0x45f6a7]['length'];_0x4a5053++)typeof _0x2d66c0[_0x45f6a7][_0x4a5053]=='string'&&(_0x407bf0?_0x5ebe28['push'](_0x2d66c0[_0x45f6a7][_0x4a5053]):_0x5cae6c['push'](_0x2d66c0[_0x45f6a7][_0x4a5053]));!_0x407bf0&&_0x5cae6c['length']&&_0x5ebe28['push'](_0x5cae6c);}else typeof _0x2d66c0[_0x45f6a7]=='string'&&(_0x407bf0?_0x5ebe28['push'](_0x2d66c0[_0x45f6a7]):_0x5ebe28['push']([_0x2d66c0[_0x45f6a7]]));return _0x5ebe28;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x4083c8){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x5cd652=_0x4083c8['match'](px);this['scheme']=_0x5cd652[-0xb*0x41+-0x9e5*0x2+-0x1697*-0x1],this['authority']=_0x5cd652[0x26f0*-0x1+-0x967+0x305b],this['path']=_0x5cd652[-0x2*0x3c+0xc36+-0xbb9],this['query']=_0x5cd652[-0x15cb+0x3*-0x63+0x16fb],this['fragment']=_0x5cd652[0x2ff*0xd+0x15e9+-0x2a5*0x17];}['toString'](){let _0x4b0af1='';return this['scheme']&&(_0x4b0af1+=this['scheme']+':'),this['authority']&&(_0x4b0af1+='//'+this['authority']),_0x4b0af1+=this['path'],this['query']&&(_0x4b0af1+='?'+this['query']),this['fragment']&&(_0x4b0af1+='#'+this['fragment']),_0x4b0af1;}['getQuery'](){const _0x19f2d3={};if(this['query']){const _0x18ca22=decodeURIComponent(this['query'])['split']('&');for(const _0x42c90e of _0x18ca22){const _0x13547b=_0x42c90e['split']('=');_0x19f2d3[_0x13547b[0x1bd8+0x2414+-0x3fec]]=_0x13547b[-0x1*-0xb6a+0x1021+-0x1b8a];}}return _0x19f2d3;}['setQuery'](_0x44936b){let _0x36a4db='';for(const _0x55ca67 in _0x44936b)_0x44936b['hasOwnProp'+'erty'](_0x55ca67)&&(_0x36a4db!==''&&(_0x36a4db+='&'),_0x36a4db+=encodeURIComponent(_0x55ca67)+'='+encodeURIComponent(_0x44936b[_0x55ca67]));this['query']=_0x36a4db;}}const mx=-0x89+-0xb7*-0x10+0xae7*-0x1,tp=0x1b59+0xb36+-0x268e,Nm=-0xa50+0xf04*0x1+0x19*-0x30,_x=0x40e+-0x138f+0xf86,Y={'DEG_TO_RAD':Math['PI']/(0x19d4+-0xe0*-0x25+-0x3980),'RAD_TO_DEG':(-0x947+-0x150c+0x1f07)/Math['PI'],'clamp'(_0x3ab42a,_0x2e6436,_0x132c06){return _0x3ab42a>=_0x132c06?_0x132c06:_0x3ab42a<=_0x2e6436?_0x2e6436:_0x3ab42a;},'intToBytes24'(_0x4e5234){const _0x1fbac0=_0x4e5234>>0x1282*0x2+-0x9a5+0x1b4f*-0x1&-0xd1*0x15+0x1531+0x47*-0xb,_0x277a2b=_0x4e5234>>-0x1aff+-0x2*-0x137d+-0xbf3&0x16f4*0x1+-0x21f*0x8+-0x4fd*0x1,_0x146c2e=_0x4e5234&-0x107*-0x7+0xa3*-0x3d+-0x3d*-0x89;return[_0x1fbac0,_0x277a2b,_0x146c2e];},'intToBytes32'(_0x384e45){const _0x1094fc=_0x384e45>>-0x16*0x174+0x1a05+-0x5b*-0x11&-0x10c+-0x12d5+0x14e0,_0x5b768e=_0x384e45>>-0x238f+0x3*-0x973+0x3ff8&0x1934+-0x3d0+0x1*-0x1465,_0x39dd8a=_0x384e45>>0x5e*0x11+0x1015+-0xd*0x1b7&0x3fc+-0xa8f+0x792,_0x245346=_0x384e45&-0x232*0x7+0x1*-0xed+0x114a;return[_0x1094fc,_0x5b768e,_0x39dd8a,_0x245346];},'bytesToInt24'(_0xa3ac30,_0x661735,_0x3a6d52){return _0xa3ac30['length']&&(_0x3a6d52=_0xa3ac30[0x2*0x34d+0x1588+-0x30*0x96],_0x661735=_0xa3ac30[0xc7d+-0x3*-0xae2+-0x2d22],_0xa3ac30=_0xa3ac30[-0x1fb*-0x13+0x2d*-0xd1+-0xe4]),_0xa3ac30<<-0x49e+0x244c+-0x2*0xfcf|_0x661735<<0x9bb*0x1+0x2*0x661+0x1*-0x1675|_0x3a6d52;},'bytesToInt32'(_0x378c6a,_0x3385a9,_0x1dc48c,_0x50ebf1){return _0x378c6a['length']&&(_0x50ebf1=_0x378c6a[0x102a*0x2+0xe*-0x2a+-0x35*0x91],_0x1dc48c=_0x378c6a[-0x1e66*-0x1+-0x516*-0x3+-0x2da6],_0x3385a9=_0x378c6a[-0x98e*0x2+0xab5*-0x2+-0x19*-0x19f],_0x378c6a=_0x378c6a[-0x458+-0x5b*-0x25+-0x8cf]),(_0x378c6a<<0x19f*-0x11+-0x255a+0x4101|_0x3385a9<<-0xc45+0x1*-0x166b+0x1*0x22c0|_0x1dc48c<<0x1a64+0x65+-0x1ac1|_0x50ebf1)>>>-0x71*-0x56+0xab5+-0x3*0x1039;},'lerp'(_0x167ae9,_0x1ab3d4,_0xb6f30b){return _0x167ae9+(_0x1ab3d4-_0x167ae9)*Y['clamp'](_0xb6f30b,0x3a*-0x49+-0xc13+0x5*0x5b9,-0x27*0xef+0x3cb*-0x1+0x2835*0x1);},'lerpAngle'(_0x24db41,_0x30ed72,_0x50211c){return _0x30ed72-_0x24db41>0xca*-0x2+-0x2*0x377+0x936&&(_0x30ed72-=0xb53*-0x1+-0x8ab+0x6*0x391),_0x30ed72-_0x24db41<-(0x1*0x8e9+0x194c+-0xb2b*0x3)&&(_0x30ed72+=0x2*0x86+0x20ba+0x1*-0x205e),Y['lerp'](_0x24db41,_0x30ed72,Y['clamp'](_0x50211c,-0x1*-0x592+0x1*-0xba7+0x207*0x3,0x10e2+0xeb6+0x1f97*-0x1));},'powerOfTwo'(_0x182d21){return _0x182d21!==0x1628*0x1+0x112b+-0x2753&&!(_0x182d21&_0x182d21-(0x199b+0x101*0x1f+-0x38b9));},'nextPowerOfTwo'(_0x129e5d){return _0x129e5d--,_0x129e5d|=_0x129e5d>>-0x1f17+0x307*0x3+0x1603,_0x129e5d|=_0x129e5d>>-0x1f83*0x1+0x5af*-0x1+-0x129a*-0x2,_0x129e5d|=_0x129e5d>>0x3b2+0x2d*0xaf+0xb7b*-0x3,_0x129e5d|=_0x129e5d>>-0x1*0xb8c+0x146*0x5+-0x3a*-0x17,_0x129e5d|=_0x129e5d>>-0x547*0x5+0x1f59+-0x4e6,_0x129e5d++,_0x129e5d;},'nearestPowerOfTwo'(_0x303fb2){return Math['pow'](-0xb5f+0x1fd*0xb+-0x22*0x4f,Math['round'](Math['log2'](_0x303fb2)));},'random'(_0x2b4a67,_0x156b2c){const _0x31cb34=_0x156b2c-_0x2b4a67;return Math['random']()*_0x31cb34+_0x2b4a67;},'smoothstep'(_0x2e85d5,_0x44dc9d,_0x9c0ba0){return _0x9c0ba0<=_0x2e85d5?-0x1*0x2005+-0xca*0x7+0x55d*0x7:_0x9c0ba0>=_0x44dc9d?-0x2*-0xb57+0x1add+-0x318a:(_0x9c0ba0=(_0x9c0ba0-_0x2e85d5)/(_0x44dc9d-_0x2e85d5),_0x9c0ba0*_0x9c0ba0*(0x364+0x12ba+0x161b*-0x1-(0x6*0x681+-0x1*0x16b7+-0x6b*0x27)*_0x9c0ba0));},'smootherstep'(_0xd1ef90,_0x1c025f,_0x34205f){return _0x34205f<=_0xd1ef90?0x2aa*-0x5+0x4c*0x2e+-0x56:_0x34205f>=_0x1c025f?-0xd*-0x1f0+0x20ba+0x5*-0xb95:(_0x34205f=(_0x34205f-_0xd1ef90)/(_0x1c025f-_0xd1ef90),_0x34205f*_0x34205f*_0x34205f*(_0x34205f*(_0x34205f*(-0x1f60+-0x132e+0x3294)-(0x3*0x33b+-0x11*0x1e5+-0x1693*-0x1))+(-0x6ef+-0x2074+0x276d*0x1)));},'roundUp'(_0x208fc0,_0x5b9977){return _0x5b9977===-0x1f49*-0x1+0x4*0x27f+0x2945*-0x1?_0x208fc0:Math['ceil'](_0x208fc0/_0x5b9977)*_0x5b9977;},'between'(_0x1c8026,_0x5ac25c,_0x6a695,_0x480dde){const _0x4590ee=Math['min'](_0x5ac25c,_0x6a695),_0x5f446a=Math['max'](_0x5ac25c,_0x6a695);return _0x480dde?_0x1c8026>=_0x4590ee&&_0x1c8026<=_0x5f446a:_0x1c8026>_0x4590ee&&_0x1c8026<_0x5f446a;}},Tt=class Tt{constructor(_0x470636=-0x12a7+0x2163+0x5c*-0x29,_0x3fa6db=0x1*-0xf25+-0x2014*-0x1+-0x10ef,_0x240457=0x1422+0x1f67+-0x4f*0xa7,_0x5400b0=-0x8f*-0x8+-0x1*-0x10e1+-0x1558){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x3ba4a5=_0x470636['length'];_0x3ba4a5===-0x20b*-0xd+0xae6+0x12b9*-0x2||_0x3ba4a5===-0xaf3+0x7c*-0x2e+0xb15*0x3?(this['r']=_0x470636[-0x563+-0x7e0+0xd43],this['g']=_0x470636[0xdb*-0x26+-0x19*-0x188+0x5c5*-0x1],this['b']=_0x470636[0x84*-0x19+-0xa*0x17e+-0x1bd2*-0x1],this['a']=_0x470636[0x615+-0x27*-0x2f+-0x469*0x3]??-0x13a*-0x1c+-0xbed*-0x1+-0x2e44):(this['r']=_0x470636,this['g']=_0x3fa6db,this['b']=_0x240457,this['a']=_0x5400b0);}['clone'](){const _0x59a2a3=this['constructo'+'r'];return new _0x59a2a3(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x5b9ea0){return this['r']=_0x5b9ea0['r'],this['g']=_0x5b9ea0['g'],this['b']=_0x5b9ea0['b'],this['a']=_0x5b9ea0['a'],this;}['equals'](_0x11aa87){return this['r']===_0x11aa87['r']&&this['g']===_0x11aa87['g']&&this['b']===_0x11aa87['b']&&this['a']===_0x11aa87['a'];}['set'](_0x52fbd2,_0x208f3e,_0xbe1315,_0x6e7791=-0x1213+0x1a*0x2b+0xdb6){return this['r']=_0x52fbd2,this['g']=_0x208f3e,this['b']=_0xbe1315,this['a']=_0x6e7791,this;}['lerp'](_0x1c1ff2,_0x5bd701,_0x39c4c4){return this['r']=_0x1c1ff2['r']+_0x39c4c4*(_0x5bd701['r']-_0x1c1ff2['r']),this['g']=_0x1c1ff2['g']+_0x39c4c4*(_0x5bd701['g']-_0x1c1ff2['g']),this['b']=_0x1c1ff2['b']+_0x39c4c4*(_0x5bd701['b']-_0x1c1ff2['b']),this['a']=_0x1c1ff2['a']+_0x39c4c4*(_0x5bd701['a']-_0x1c1ff2['a']),this;}['linear'](_0x17a203=this){return this['r']=Math['pow'](_0x17a203['r'],-0x13ea+-0x8ee+0x4cf*0x6+0.20000000000000018),this['g']=Math['pow'](_0x17a203['g'],-0x1*-0x212e+-0x1219+-0xf13+0.20000000000000018),this['b']=Math['pow'](_0x17a203['b'],-0x122c*-0x2+0x1dbc+0x2*-0x2109+0.20000000000000018),this['a']=_0x17a203['a'],this;}['gamma'](_0x1144a0=this){return this['r']=Math['pow'](_0x1144a0['r'],(-0x16fd+0x1a4e+0x6a*-0x8)/(0x2350+0x1741*0x1+-0x3*0x1385+0.20000000000000018)),this['g']=Math['pow'](_0x1144a0['g'],(0xae8+0x225*-0x3+-0x58*0xd)/(0x335*0x4+0x5f3*0x1+-0x12c5+0.20000000000000018)),this['b']=Math['pow'](_0x1144a0['b'],(-0xfbe+0x1a3d+0x22*-0x4f)/(-0xc58+0x59e*-0x2+0x1796+0.20000000000000018)),this['a']=_0x1144a0['a'],this;}['mulScalar'](_0x301567){return this['r']*=_0x301567,this['g']*=_0x301567,this['b']*=_0x301567,this;}['fromString'](_0x3a5ed1){const _0x23c6cf=parseInt(_0x3a5ed1['replace']('#','0x'),0x7f*-0x1+-0x7*-0x401+0xdbc*-0x2);let _0xdfc154;return _0x3a5ed1['length']>-0x113d+-0x6ec+-0x56*-0x48?_0xdfc154=Y['intToBytes'+'32'](_0x23c6cf):(_0xdfc154=Y['intToBytes'+'24'](_0x23c6cf),_0xdfc154[0x1*-0x1dde+-0x15*0x4f+0x917*0x4]=-0x3*0x558+-0x232e+-0x37b*-0xf),this['set'](_0xdfc154[-0x2*-0xf13+0x1beb+0xf*-0x3df]/(-0x11de*0x1+-0x1888+0x2b65),_0xdfc154[0x1bcb*-0x1+0x186a+-0x362*-0x1]/(0x2168+0x13ac+0xc7*-0x43),_0xdfc154[-0x5f4+0x11d4+0x1*-0xbde]/(0x12ec+0x1f7*-0x8+-0x235*0x1),_0xdfc154[0x183a+0x1*-0x1ef9+-0x2*-0x361]/(-0x7c*0x3e+0x281*0x1+0x6*0x4c1)),this;}['fromArray'](_0x37c6f4,_0x4f4d77=0x11*-0x15a+0x1*0x737+0x10d*0xf){return this['r']=_0x37c6f4[_0x4f4d77]??this['r'],this['g']=_0x37c6f4[_0x4f4d77+(0x4a*-0x44+-0x347*-0xa+-0x45f*0x3)]??this['g'],this['b']=_0x37c6f4[_0x4f4d77+(0xe15+-0x6b*0x13+-0x622)]??this['b'],this['a']=_0x37c6f4[_0x4f4d77+(-0x13*0x15+-0x19a1+-0x3*-0x911)]??this['a'],this;}['toString'](_0x5a0325,_0x411dda){const {r:_0x11ee65,g:_0x429b12,b:_0x34e7be,a:_0x47c0a2}=this;if(_0x411dda||_0x11ee65>-0x112d*-0x1+-0x655*-0x4+-0x2a80||_0x429b12>0x25de+-0x3*0x419+-0x1992||_0x34e7be>-0x49*-0x49+0x1*-0x13f1+-0xdf*0x1)return _0x11ee65['toFixed'](0x10f3*-0x1+0x1f3f+-0xe49)+',\x20'+_0x429b12['toFixed'](0x1c3*-0x7+-0x229e+0x2ef6)+',\x20'+_0x34e7be['toFixed'](0x1ba4+-0x1*0x1500+-0x6a1)+',\x20'+_0x47c0a2['toFixed'](-0x1e2+0x16a8+-0x14c3*0x1);let _0x5e3ff6='#'+((0x57b*-0x3+0xcde+0x394<<0x4*0xca+0x5b*-0x22+0x906)+(Math['round'](_0x11ee65*(-0x1da2+0x1*-0x1af+0xbc*0x2c))<<-0x1300+0x1073+0x29d*0x1)+(Math['round'](_0x429b12*(0x1711+0x2683+-0x3c95))<<-0x1b73*0x1+0x5*0x207+-0x1*-0x1158)+Math['round'](_0x34e7be*(-0x19c0+-0x2008+0x3ac7)))['toString'](-0x19b4+0x20c8+-0x704)['slice'](0xc*0x63+-0x11a0+0xcfd);if(_0x5a0325===!(-0x2396*-0x1+0xd31+-0x30c7)){const _0x4fe563=Math['round'](_0x47c0a2*(-0x1*-0x1c6d+0x1*-0x2345+0xdf*0x9))['toString'](-0xb7b*0x3+-0x3*0x36f+0x2cce);this['a']<(0x23d5+-0x1b*0xda+0x1*-0xcc7)/(0xda6*0x1+-0x1668+0x9c1)?_0x5e3ff6+='0'+_0x4fe563:_0x5e3ff6+=_0x4fe563;}return _0x5e3ff6;}['toArray'](_0x5ac16c=[],_0x55092a=-0xc91*0x2+-0x1cf8+0x5*0xad2,_0x3d40e4=!(0x2315*0x1+-0x2321+0xc*0x1)){return _0x5ac16c[_0x55092a]=this['r'],_0x5ac16c[_0x55092a+(-0x2000+0x985*-0x3+0x3c90)]=this['g'],_0x5ac16c[_0x55092a+(-0x5eb+-0x1358+0x1945)]=this['b'],_0x3d40e4&&(_0x5ac16c[_0x55092a+(-0x183f+0x982*0x1+-0x20*-0x76)]=this['a']),_0x5ac16c;}};h(Tt,'BLACK',Object['freeze'](new Tt(0x2682+-0xcbb*-0x2+-0x3ff8,0x3*-0x112+0x1c34+0xe*-0x1c9,0xda0+0xc50*-0x3+0x10*0x175,-0x1*0xda3+0x1048+0x34*-0xd))),h(Tt,'BLUE',Object['freeze'](new Tt(-0xbc1*0x1+-0x328+0xee9,-0x1bfd*-0x1+-0x2*0x3db+-0x1447,0x1*0x113d+0x1*0x25ac+-0x38*0xfb,-0x2d8*0xb+-0x1b7d+0x3ac6))),h(Tt,'CYAN',Object['freeze'](new Tt(0x8*-0x1b4+0x24e0+-0x1740,-0x1*-0x2135+-0x6b*-0x3b+-0x39dd*0x1,0x2006+-0x1*-0x25ff+0x4604*-0x1,0x21dd*0x1+0x27f+0x245b*-0x1))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x1*-0xbab+-0x1356+0x97*0xd+0.5,0x18f3+-0x595*0x2+-0xdc9+0.5,0x9d*0x2f+0x1*-0x1c09+-0xca+0.5,0x4*0x202+-0x945+0x13e))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x26*-0x14+0xd3c*0x2+-0x1*0x1d70,-0x3*0x853+0x1219+0x6e1,-0x1*-0x1979+0x2*-0xf89+0x1*0x599,0x203a+-0x1140+0xef9*-0x1))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x26f8+0x9a*-0x35+-0x715,-0x2581+0x318*0x6+0x12f1,-0x7fe+0x1e54+-0x1*0x1655,0x9*-0x2ad+-0x2378+0x3b8e))),h(Tt,'RED',Object['freeze'](new Tt(-0x270f+-0x11fc+0x390c,0x146e+-0x845+-0xc29,-0x11ef+0xd99+0x456,0x71b+-0x1892+-0xac*-0x1a))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x2440+0x9a2+0x1a9f,0x9*-0x2e7+-0x14b5+0x2ed5,0x22ca+-0x29*0x49+-0x2e3*0x8,0xf4c+-0x7b3*0x3+-0x1*-0x7ce))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0xb*0x36e+-0x1*0x1ab1+0x1c*0x24d,0x81*-0x2+0x60e+-0x50b,0x1378*0x1+-0x1497+0x11f,0x7c+0xa2a*0x3+0x1*-0x1ef9)));let ie=Tt;class ZS{constructor(_0x1ac1d0,_0x3cbef8=0x1*-0x4a2+-0xb94+0x1036){h(this,'_curve'),h(this,'_left',-(-0xd*0x83+-0xd9f+-0x1d*-0xb3)/(-0xf24+0xe*0x25+0xd1e)),h(this,'_right',(-0x167f+-0x1f4+0x1874)/(-0xc55+-0x8*-0x34b+0xe03*-0x1)),h(this,'_recip',-0x3*-0x2ff+0x527+-0xe24),h(this,'_p0',0xb80+0xa60+0x320*-0x7),h(this,'_p1',-0x1c2f*0x1+-0x6*0x329+-0xfb7*-0x3),h(this,'_m0',-0x2213*-0x1+-0x1*-0x6ef+0x16a*-0x1d),h(this,'_m1',-0x2009+0x1937+0x6d2*0x1),(this['_curve']=_0x1ac1d0,this['_reset'](_0x3cbef8));}['evaluate'](_0x3af218,_0x527b7f=!(0x3*0xc4f+-0x1956+-0xb96)){(_0x527b7f||_0x3af218<this['_left']||_0x3af218>=this['_right'])&&this['_reset'](_0x3af218);let _0x2659f6;const _0x570a58=this['_curve']['type'];if(_0x570a58===_x)_0x2659f6=this['_p0'];else{const _0x1f6937=this['_recip']===0x57e+0x7*0x4f7+-0x283f*0x1?-0x6c5*-0x1+-0xa5e+-0x399*-0x1:(_0x3af218-this['_left'])*this['_recip'];_0x570a58===mx?_0x2659f6=Y['lerp'](this['_p0'],this['_p1'],_0x1f6937):_0x570a58===tp?_0x2659f6=Y['lerp'](this['_p0'],this['_p1'],_0x1f6937*_0x1f6937*(0x23e7*0x1+-0x26dd*0x1+0x2f9-(0x2*0x8db+-0x145d*-0x1+0x79d*-0x5)*_0x1f6937)):_0x2659f6=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x1f6937);}return _0x2659f6;}['_reset'](_0x42e838){const _0x37520b=this['_curve']['keys'],_0x2932b4=_0x37520b['length'];if(!_0x2932b4)this['_left']=-(-0xd*0x119+-0x8*-0x3ce+-0x2*0x815)/(-0x1*-0x6d+0x2*-0x2f9+0x585),this['_right']=(-0x1bf4+0x1*-0x2604+-0x41f9*-0x1)/(0x4*-0x8cf+-0xba7*0x2+-0x1*-0x3a8a),this['_recip']=-0x1b0*0xa+0x1d0f+0x1*-0xc2f,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x905*0x1+0x2050*-0x1+0x174b;else{if(_0x42e838<_0x37520b[0x907*-0x1+-0xf16+0x1*0x181d][-0xda0+0x992+-0x15a*-0x3])this['_left']=-(0x7*-0x211+-0xda*0x23+0x2c46)/(0x1556+-0x19c3+0xb*0x67),this['_right']=_0x37520b[0x2f*-0xd4+0xfe*0x24+0x334][-0x1104+0x1a48+-0x251*0x4],this['_recip']=-0xba4*-0x2+-0x424+-0x1324,this['_p0']=this['_p1']=_0x37520b[0x21e4+0xcaa+-0x2e8e][-0x15bb*-0x1+-0x487*-0x1+0x263*-0xb],this['_m0']=this['_m1']=-0x22ff+0x6fb*0x2+0x1509*0x1;else{if(_0x42e838>=_0x37520b[_0x2932b4-(0xdc9+0x2436+0x1b*-0x1da)][0x2c6*-0x1+0xd*-0xbb+0xc45])this['_left']=_0x37520b[_0x2932b4-(0x24fa+0x8e0*0x4+-0x4879)][-0x1afa*0x1+-0xd08+0x1401*0x2],this['_right']=(0x3*-0x1eb+0x1211+-0x1*0xc4f)/(-0xdc*0x11+-0x2230+0x30cc),this['_recip']=0x25df+-0x9ca+-0x1c15,this['_p0']=this['_p1']=_0x37520b[_0x2932b4-(0x14fa+-0x2548+0x104f)][-0x81*0x31+0x406+0x14ac],this['_m0']=this['_m1']=-0x1*-0x14ed+-0x135f+0x18e*-0x1;else{let _0x26125d=-0x1887+0x791*-0x3+-0x193*-0x1e;for(;_0x42e838>=_0x37520b[_0x26125d+(0x22d6+-0x1b8*-0xd+0x165*-0x29)][0x5c4+-0x5*0x610+0x188c];)_0x26125d++;this['_left']=_0x37520b[_0x26125d][-0x1901*-0x1+0xf9a+-0x289b],this['_right']=_0x37520b[_0x26125d+(0x654+0x116+-0x769)][-0x1d30+0x484+-0x62b*-0x4];const _0xbb5ec4=(0x227*0x3+-0x393+0x1*-0x2e1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0xbb5ec4)?_0xbb5ec4:-0x2232+0x1e55*-0x1+0x4087,this['_p0']=_0x37520b[_0x26125d][-0xd77+-0x154*-0xc+-0x278],this['_p1']=_0x37520b[_0x26125d+(0x900+-0xea7+-0x16a*-0x4)][-0x324*0x1+-0x13c5+0x1*0x16ea],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x37520b,_0x26125d);}}}}['_calcTange'+'nts'](_0x43104b,_0xb4e256){let _0x437f2d;const _0x465a3d=_0x43104b[_0xb4e256],_0x228aaf=_0x43104b[_0xb4e256+(-0x22*-0xdd+0x1b9f+-0x38f8)];let _0x4d49c3;if(_0xb4e256===-0x345+-0xb5a*0x1+0xe9f*0x1?_0x437f2d=[_0x43104b[0x1a41*-0x1+-0xd53+0x2794][-0x1*0x223+0x12*0x81+-0x6ef]+(_0x43104b[-0x1431+0xec1+0x570][-0x164a+-0x4*-0x7e3+-0x942]-_0x43104b[-0x12f+-0x3ec+0x51c][0x15c5+0x21*0x45+0x19*-0x13a]),_0x43104b[-0x2333+-0x25ac+0x48df][-0x2f*-0x89+0x24a+0x8*-0x36e]+(_0x43104b[-0x648+-0x17de+-0x1e26*-0x1][0x4f*-0xf+0x12ab+-0xe09]-_0x43104b[-0x2387*-0x1+0x5db+-0x6b*0x63][-0xb2*-0x35+0x2137+-0x8*0x8c2])]:_0x437f2d=_0x43104b[_0xb4e256-(-0x740+-0x1537*-0x1+-0xdf6)],_0xb4e256===_0x43104b['length']-(0x13cc+-0x1d61+0x997*0x1)?_0x4d49c3=[_0x43104b[_0xb4e256+(0xdb7+-0x15eb+0x835)][0x28+-0x7*0x39e+0x192a]+(_0x43104b[_0xb4e256+(0x157e+0x1*-0x1c8d+0x710)][-0x625+-0x1c58+0x1*0x227d]-_0x43104b[_0xb4e256][-0x28*-0x53+0xb6c+-0x2*0xc32]),_0x43104b[_0xb4e256+(0x237+-0xc*-0x103+-0xe5a)][0x1c8e+0x34*-0x6b+-0x6d1]+(_0x43104b[_0xb4e256+(0x2d*-0xcf+-0x47f+0x28e3)][0x7b*-0x2f+0x61*-0x3e+0x2e14]-_0x43104b[_0xb4e256][0xd46*0x1+0x203c+-0x2d81])]:_0x4d49c3=_0x43104b[_0xb4e256+(0xa32+-0x51e+-0x289*0x2)],this['_curve']['type']===Nm){const _0x36210a=(0x230e+-0x6*0xb5+-0xf67*0x2)*(_0x228aaf[-0x1*-0x1db4+0xf*-0x21f+-0x1*-0x21d]-_0x465a3d[-0xa11*-0x3+0x60b+-0x243e])/(_0x228aaf[-0x2573+-0x2*-0x16d+0x2299]-_0x437f2d[0x1b7b+0x20*0x40+-0x237b]),_0x5f4d5d=(-0x2314+0x2340*-0x1+0x232b*0x2)*(_0x228aaf[0x8bf*-0x4+0x1b5a+0x2*0x3d1]-_0x465a3d[0x4*-0x3cd+0x1ecc*0x1+-0x1*0xf98])/(_0x4d49c3[-0x1*0xd4f+0x21c+-0x3d*-0x2f]-_0x465a3d[-0x2029*0x1+0x1e0+0x1*0x1e49]);this['_m0']=this['_curve']['tension']*(isFinite(_0x36210a)?_0x36210a:-0x6f1+-0x65*0x31+0x1a46)*(_0x228aaf[0x1*-0x253c+0x185a+0xce3]-_0x437f2d[-0xae*-0x9+0x2*0x68e+0x2bf*-0x7]),this['_m1']=this['_curve']['tension']*(isFinite(_0x5f4d5d)?_0x5f4d5d:0x2*0x133f+-0x3a0+0x22de*-0x1)*(_0x4d49c3[0x221c+0x7ea+-0x2a05]-_0x465a3d[-0xed4*0x1+-0x1*-0x183f+-0x96a]);}else{const _0x15b710=(_0x228aaf[0x10f*0x1f+-0xe2e+-0x12a3]-_0x465a3d[0x1d47+0x8*-0x3ee+-0x1*-0x229])/(_0x465a3d[0x194d+0x2a5*0xd+0x2*-0x1dd7]-_0x437f2d[-0x6*-0x27a+0xb*0x4d+-0x122b]),_0x43ffbe=(_0x228aaf[0x8*0x49+0x58d+-0x1*0x7d5]-_0x465a3d[-0x892*0x1+-0x235f+-0x1*-0x2bf1])/(_0x4d49c3[0x11e2+0xc9d*0x1+0x25*-0xd3]-_0x228aaf[-0x1229+-0x7bb+0x19e4]),_0x427890=_0x465a3d[0xd2e+-0x1e1*-0x9+0x2*-0xf0b]+(_0x437f2d[-0x84e*-0x3+0x2*0x7c+0x52d*-0x5]-_0x465a3d[0x1504+-0x2bf*-0xd+-0x38b6])*(isFinite(_0x15b710)?_0x15b710:0x6*-0x2a5+0x1808+0x16*-0x5f),_0x1d6d6f=_0x228aaf[-0xd81+-0xecc+0x1c4e]+(_0x4d49c3[-0x12*0x1b1+0x266*0x1+-0x2b*-0xa7]-_0x228aaf[0x179b*-0x1+0x425+0x1377])*(isFinite(_0x43ffbe)?_0x43ffbe:-0x29*-0x49+0x57*-0x1+-0xb5a),_0x123a86=this['_curve']['tension'];this['_m0']=_0x123a86*(_0x228aaf[0x70c+-0xb2+-0x659]-_0x427890),this['_m1']=_0x123a86*(_0x1d6d6f-_0x465a3d[-0xece+-0x1e89+0x2d58]);}}['_evaluateH'+'ermite'](_0x54bd0d,_0x276c2c,_0x3b0381,_0x41c0ba,_0x48434f){const _0x147e60=_0x48434f*_0x48434f,_0xdc277f=_0x48434f+_0x48434f,_0xb2fa9b=0x11*0x247+0x105d+-0x3713-_0x48434f,_0x331c0b=_0xb2fa9b*_0xb2fa9b;return _0x54bd0d*((-0x1*0x1bb2+-0x131*-0x11+0x772*0x1+_0xdc277f)*_0x331c0b)+_0x3b0381*(_0x48434f*_0x331c0b)+_0x276c2c*(_0x147e60*(-0x1*0x2404+0x1b8c+0x87b-_0xdc277f))+_0x41c0ba*(_0x147e60*(_0x48434f-(0x10b*0x1+0x101*-0x7+0x1*0x5fd)));}}class qs{constructor(_0x17bce4){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x880+0xda8+-0xc*0x6e+0.5),h(this,'_eval',new ZS(this));if(_0x17bce4){for(let _0x19d6e6=0x1*-0xc42+0x3e+-0x301*-0x4;_0x19d6e6<_0x17bce4['length']-(0x184b+0x3d6*0x8+0x2*-0x1b7d);_0x19d6e6+=-0x14aa*0x1+-0x2309*0x1+-0x449*-0xd)this['keys']['push']([_0x17bce4[_0x19d6e6],_0x17bce4[_0x19d6e6+(-0x8dd+0xf1d+-0x1*0x63f)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0xe12cf8,_0x598baf){const _0x26ada2=this['keys'],_0x58f3e7=_0x26ada2['length'];let _0xd1fd6f=0x10aa+-0x1323+-0x279*-0x1;for(;_0xd1fd6f<_0x58f3e7&&!(_0x26ada2[_0xd1fd6f][-0x1509+-0x5d1+0xd6d*0x2]>_0xe12cf8);_0xd1fd6f++);const _0x1eb71b=[_0xe12cf8,_0x598baf];return this['keys']['splice'](_0xd1fd6f,-0x1717+0x13*-0x11c+-0x3*-0xeb9,_0x1eb71b),_0x1eb71b;}['get'](_0x49d38e){return this['keys'][_0x49d38e];}['sort'](){this['keys']['sort']((_0x11777f,_0x25ee24)=>_0x11777f[-0x5cf*0x5+0x4ac*-0x1+0x21b7]-_0x25ee24[-0x15fb*-0x1+-0x6a7+0x3d5*-0x4]);}['value'](_0x5a0905){return this['_eval']['evaluate'](_0x5a0905,!(-0x12a7*-0x2+-0x623+-0x1f2b));}['closest'](_0x119145){const _0xae2c5=this['keys'],_0x10cd3c=_0xae2c5['length'];let _0x38f534=-0x1c*0x119+-0x398+0x2256,_0xcd5e73=null;for(let _0x4ea259=-0x12f0+0x2028+0x234*-0x6;_0x4ea259<_0x10cd3c;_0x4ea259++){const _0x63f026=Math['abs'](_0x119145-_0xae2c5[_0x4ea259][-0x2e3*0x6+-0xf5b+0x4ab*0x7]);if(_0x38f534>=_0x63f026)_0x38f534=_0x63f026,_0xcd5e73=_0xae2c5[_0x4ea259];else break;}return _0xcd5e73;}['clone'](){const _0x3e65e2=new this['constructo'+'r']();return _0x3e65e2['keys']=this['keys']['map'](_0x16a838=>[..._0x16a838]),_0x3e65e2['type']=this['type'],_0x3e65e2['tension']=this['tension'],_0x3e65e2;}['quantize'](_0x23a5a7){_0x23a5a7=Math['max'](_0x23a5a7,-0x1*0x1139+-0x15*0xcf+-0x3a*-0x97);const _0x33861f=new Float32Array(_0x23a5a7),_0x4ff98b=(0x2*0x4a9+-0x13ad+0xa5c)/(_0x23a5a7-(0x112*-0x17+0x19*0x18d+-0xe26));_0x33861f[0x653+-0x23e7+0x2*0xeca]=this['_eval']['evaluate'](0x11e3+-0x2480+0x129d*0x1,!(-0x5*0x2b4+0x92f*0x2+-0x36*0x17));for(let _0xb9f2e5=-0x1a3e*0x1+0x208f*0x1+0x328*-0x2;_0xb9f2e5<_0x23a5a7;_0xb9f2e5++)_0x33861f[_0xb9f2e5]=this['_eval']['evaluate'](_0x4ff98b*_0xb9f2e5);return _0x33861f;}['quantizeCl'+'amped'](_0x32a506,_0x228286,_0x3bf1c8){const _0x53c059=this['quantize'](_0x32a506);for(let _0x3fd5df=-0x1*0x9d+0x1f97*-0x1+0x2034;_0x3fd5df<_0x53c059['length'];++_0x3fd5df)_0x53c059[_0x3fd5df]=Math['min'](_0x3bf1c8,Math['max'](_0x228286,_0x53c059[_0x3fd5df]));return _0x53c059;}}class na{constructor(..._0x28b36b){h(this,'curves',[]),h(this,'_type',tp);if(_0x28b36b['length']>0x1e3e+-0x1*0x725+0x5c6*-0x4){for(let _0x91eda1=-0x26*-0xc2+0xfb*-0x1+-0x1bd1;_0x91eda1<_0x28b36b['length'];_0x91eda1++)this['curves']['push'](new qs(_0x28b36b[_0x91eda1]));}else{if(_0x28b36b['length']===-0x1fc3+0xa5d+0x1566)this['curves']['push'](new qs());else{const _0xc458f8=_0x28b36b[0xa2f+-0xe4*0x6+-0x4d7];if(typeof _0xc458f8=='number'){for(let _0x148d2d=0x19f5+-0x1c3f+0x24a;_0x148d2d<_0xc458f8;_0x148d2d++)this['curves']['push'](new qs());}else{for(let _0xb77b0d=-0x238*-0x11+0x1abb+-0x4073;_0xb77b0d<_0xc458f8['length'];_0xb77b0d++)this['curves']['push'](new qs(_0xc458f8[_0xb77b0d]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x1b59f6){this['_type']=_0x1b59f6;for(let _0x23bb3a=0x11e*0x8+0x1aad*0x1+-0x239d;_0x23bb3a<this['curves']['length'];_0x23bb3a++)this['curves'][_0x23bb3a]['type']=_0x1b59f6;}get['type'](){return this['_type'];}['get'](_0x445b3c){return this['curves'][_0x445b3c];}['value'](_0x155c94,_0x1a3f93=[]){const _0x19364c=this['curves']['length'];_0x1a3f93['length']=_0x19364c;for(let _0x4bab4c=0x2f*0xb5+0x184*0x4+0x1*-0x274b;_0x4bab4c<_0x19364c;_0x4bab4c++)_0x1a3f93[_0x4bab4c]=this['curves'][_0x4bab4c]['value'](_0x155c94);return _0x1a3f93;}['clone'](){const _0x2c98c3=new this['constructo'+'r']();_0x2c98c3['curves']=[];for(let _0x189fde=-0xc*0x329+0x1b1*-0x6+0x3012;_0x189fde<this['curves']['length'];_0x189fde++)_0x2c98c3['curves']['push'](this['curves'][_0x189fde]['clone']());return _0x2c98c3['_type']=this['_type'],_0x2c98c3;}['quantize'](_0x131d01){_0x131d01=Math['max'](_0x131d01,-0x1a47*-0x1+-0xf5e+-0xae7*0x1);const _0x692807=this['curves']['length'],_0x3fb9e1=new Float32Array(_0x131d01*_0x692807),_0x2e9565=(0x743+0x1e63*-0x1+0x1721)/(_0x131d01-(-0x90*-0x3d+-0xd5*-0x5+0x2678*-0x1));for(let _0x5e3a6f=-0xbf9+0x4*0x417+0x1*-0x463;_0x5e3a6f<_0x692807;_0x5e3a6f++){const _0x1497b6=new ZS(this['curves'][_0x5e3a6f]);for(let _0x1bc9af=-0x12ff*-0x1+-0x1bf4+0x8f5;_0x1bc9af<_0x131d01;_0x1bc9af++)_0x3fb9e1[_0x1bc9af*_0x692807+_0x5e3a6f]=_0x1497b6['evaluate'](_0x2e9565*_0x1bc9af);}return _0x3fb9e1;}['quantizeCl'+'amped'](_0x2fa116,_0x248c42,_0x334301){const _0x38e9a5=this['quantize'](_0x2fa116);for(let _0x221f25=-0x9b8+0xe*-0x125+0x19be*0x1;_0x221f25<_0x38e9a5['length'];++_0x221f25)_0x38e9a5[_0x221f25]=Math['min'](_0x334301,Math['max'](_0x248c42,_0x38e9a5[_0x221f25]));return _0x38e9a5;}}const Hf=new Float32Array(-0x13*-0x91+-0x16d5+-0x119*-0xb),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x4e92e2){Hf[-0x11*-0x127+0x1d*-0x61+-0x89a]=_0x4e92e2;const _0x53420d=km[0x210f+0x12f9*-0x1+-0xe16];let _0x114e83=_0x53420d>>-0x6b5*0x1+-0x4c8+0xb8d&0x5591+0x1*0x5e8f+0x458*-0xc,_0x61f394=_0x53420d>>-0x2708+0x1611+-0x367*-0x5&-0x1871+0x1036*-0x2+0x40dc;const _0x31b1ae=_0x53420d>>0x2258+-0x733*0x1+-0x1b0e&-0x1a72*0x1+0x138d+-0x2*-0x3f2;return _0x31b1ae<-0x45d*0x6+0x227e+-0x7e9?_0x114e83:_0x31b1ae>-0x2089+-0xe9*-0xb+0x1714?(_0x114e83|=-0x1*-0xe317+0xc5ea+-0x12d01,_0x114e83|=(_0x31b1ae===-0x1*-0x1c9+0xbf5*-0x2+0x1720?0x437*0x2+-0x8*0x24a+0x9e2:-0xaaa+0x1*0x35e+-0x1*-0x74d)&&_0x53420d&0x37e6a8+0xfac72d+-0xb2add6,_0x114e83):_0x31b1ae<0x2*-0x5f7+-0x1*-0x165b+-0x3*0x354?(_0x61f394|=0x4a3*-0x1+-0x15ee*0x1+0x2291*0x1,_0x114e83|=(_0x61f394>>0x6e7+-0xb*0x217+-0x2e*-0x5c-_0x31b1ae)+(_0x61f394>>-0x82f*0x4+-0x1fc9+-0x67f*-0xa-_0x31b1ae&-0xbc4+-0x1*-0x1001+-0x43c),_0x114e83):(_0x114e83|=_0x31b1ae-(-0x337*0x1+-0x1*-0xaab+-0x4*0x1c1)<<-0x1950+0x1f44+0x1*-0x5ea|_0x61f394>>-0xdc9+0x112*0x21+-0x1588,_0x114e83+=_0x61f394&-0x11d7*0x2+-0x1*-0x1339+0x83b*0x2,_0x114e83);}static['float2RGBA'+'8'](_0xae8660,_0x3258f3){Hf[0x40*-0x44+0xaa5+0x1*0x65b]=_0xae8660;const _0x5e90ea=km[-0x1*-0x1d9+-0xb*-0x2c3+-0x203a];_0x3258f3['r']=(_0x5e90ea>>-0x7bf+-0x1b92*-0x1+-0x1*0x13bb&0x48b+-0x1cd3+0x3*0x86d)/(0x9*-0x5+-0x26fc*0x1+0x2828),_0x3258f3['g']=(_0x5e90ea>>0x17e7*0x1+-0x26de+0xf07*0x1&0x26b2+0xfb+-0x26ae)/(0x1f09*0x1+0x576*-0x7+-0x4*-0x20c),_0x3258f3['b']=(_0x5e90ea>>-0xe59+-0x218+0x1079*0x1&-0xa1c+0x24e+0x3*0x2ef)/(-0x1349+-0x142b+0x221*0x13),_0x3258f3['a']=(_0x5e90ea&0x14b0+0x23*-0xc7+0x784)/(-0x2b*0xca+0x1dc1+0x52c);}}const wt=class wt{constructor(_0x1cfad1=0xe*-0xd4+0x531*0x4+-0x92c,_0x40e614=0x1d15+0x1*0x1c76+-0x398b,_0x15df2c=0xf9d+-0x12*0xf+-0xe8f){h(this,'x'),h(this,'y'),h(this,'z'),_0x1cfad1['length']===0x2*0xb87+0x95*0x43+0x1f05*-0x2?(this['x']=_0x1cfad1[-0x1e5e+-0x24c+0x20aa],this['y']=_0x1cfad1[-0x380+0x521*0x7+-0x2066],this['z']=_0x1cfad1[0x21*0x59+0x243*0x1+-0xdba]):(this['x']=_0x1cfad1,this['y']=_0x40e614,this['z']=_0x15df2c);}['add'](_0x4b8a47){return this['x']+=_0x4b8a47['x'],this['y']+=_0x4b8a47['y'],this['z']+=_0x4b8a47['z'],this;}['add2'](_0x100f8a,_0x2ed4c9){return this['x']=_0x100f8a['x']+_0x2ed4c9['x'],this['y']=_0x100f8a['y']+_0x2ed4c9['y'],this['z']=_0x100f8a['z']+_0x2ed4c9['z'],this;}['addScalar'](_0x4a924a){return this['x']+=_0x4a924a,this['y']+=_0x4a924a,this['z']+=_0x4a924a,this;}['addScaled'](_0x1274c7,_0x59ea69){return this['x']+=_0x1274c7['x']*_0x59ea69,this['y']+=_0x1274c7['y']*_0x59ea69,this['z']+=_0x1274c7['z']*_0x59ea69,this;}['clone'](){const _0x37577c=this['constructo'+'r'];return new _0x37577c(this['x'],this['y'],this['z']);}['copy'](_0x56ec7e){return this['x']=_0x56ec7e['x'],this['y']=_0x56ec7e['y'],this['z']=_0x56ec7e['z'],this;}['cross'](_0x48bb33,_0x3a4119){const _0x1a4f3a=_0x48bb33['x'],_0x216c8c=_0x48bb33['y'],_0x1241d6=_0x48bb33['z'],_0x2523ac=_0x3a4119['x'],_0x461673=_0x3a4119['y'],_0x106a14=_0x3a4119['z'];return this['x']=_0x216c8c*_0x106a14-_0x461673*_0x1241d6,this['y']=_0x1241d6*_0x2523ac-_0x106a14*_0x1a4f3a,this['z']=_0x1a4f3a*_0x461673-_0x2523ac*_0x216c8c,this;}['distance'](_0x56e96b){const _0x212210=this['x']-_0x56e96b['x'],_0x4c3018=this['y']-_0x56e96b['y'],_0x4d71f6=this['z']-_0x56e96b['z'];return Math['sqrt'](_0x212210*_0x212210+_0x4c3018*_0x4c3018+_0x4d71f6*_0x4d71f6);}['div'](_0x1f660f){return this['x']/=_0x1f660f['x'],this['y']/=_0x1f660f['y'],this['z']/=_0x1f660f['z'],this;}['div2'](_0x241a74,_0x389b0a){return this['x']=_0x241a74['x']/_0x389b0a['x'],this['y']=_0x241a74['y']/_0x389b0a['y'],this['z']=_0x241a74['z']/_0x389b0a['z'],this;}['divScalar'](_0x3a0b16){return this['x']/=_0x3a0b16,this['y']/=_0x3a0b16,this['z']/=_0x3a0b16,this;}['dot'](_0x56175f){return this['x']*_0x56175f['x']+this['y']*_0x56175f['y']+this['z']*_0x56175f['z'];}['equals'](_0x5ad212){return this['x']===_0x5ad212['x']&&this['y']===_0x5ad212['y']&&this['z']===_0x5ad212['z'];}['equalsAppr'+'ox'](_0xc5e2fe,_0xaf82b=0x2697+-0x5*0x277+-0x1a44+0.000001){return Math['abs'](this['x']-_0xc5e2fe['x'])<_0xaf82b&&Math['abs'](this['y']-_0xc5e2fe['y'])<_0xaf82b&&Math['abs'](this['z']-_0xc5e2fe['z'])<_0xaf82b;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x5ecdd8,_0x33a3f8,_0x2a3189){return this['x']=_0x5ecdd8['x']+_0x2a3189*(_0x33a3f8['x']-_0x5ecdd8['x']),this['y']=_0x5ecdd8['y']+_0x2a3189*(_0x33a3f8['y']-_0x5ecdd8['y']),this['z']=_0x5ecdd8['z']+_0x2a3189*(_0x33a3f8['z']-_0x5ecdd8['z']),this;}['mul'](_0x3573d7){return this['x']*=_0x3573d7['x'],this['y']*=_0x3573d7['y'],this['z']*=_0x3573d7['z'],this;}['mul2'](_0x5f14a3,_0x24938c){return this['x']=_0x5f14a3['x']*_0x24938c['x'],this['y']=_0x5f14a3['y']*_0x24938c['y'],this['z']=_0x5f14a3['z']*_0x24938c['z'],this;}['mulScalar'](_0x1ed5da){return this['x']*=_0x1ed5da,this['y']*=_0x1ed5da,this['z']*=_0x1ed5da,this;}['normalize'](_0x472e15=this){const _0x443ba0=_0x472e15['x']*_0x472e15['x']+_0x472e15['y']*_0x472e15['y']+_0x472e15['z']*_0x472e15['z'];if(_0x443ba0>-0x342*-0x2+0x1e36+0x2*-0x125d){const _0x27121f=(0x1b8d+0x12f7*-0x2+0xa62*0x1)/Math['sqrt'](_0x443ba0);this['x']=_0x472e15['x']*_0x27121f,this['y']=_0x472e15['y']*_0x27121f,this['z']=_0x472e15['z']*_0x27121f;}return this;}['floor'](_0x2cee7d=this){return this['x']=Math['floor'](_0x2cee7d['x']),this['y']=Math['floor'](_0x2cee7d['y']),this['z']=Math['floor'](_0x2cee7d['z']),this;}['ceil'](_0x144b2c=this){return this['x']=Math['ceil'](_0x144b2c['x']),this['y']=Math['ceil'](_0x144b2c['y']),this['z']=Math['ceil'](_0x144b2c['z']),this;}['round'](_0x59616f=this){return this['x']=Math['round'](_0x59616f['x']),this['y']=Math['round'](_0x59616f['y']),this['z']=Math['round'](_0x59616f['z']),this;}['min'](_0x477473){return _0x477473['x']<this['x']&&(this['x']=_0x477473['x']),_0x477473['y']<this['y']&&(this['y']=_0x477473['y']),_0x477473['z']<this['z']&&(this['z']=_0x477473['z']),this;}['max'](_0x517eee){return _0x517eee['x']>this['x']&&(this['x']=_0x517eee['x']),_0x517eee['y']>this['y']&&(this['y']=_0x517eee['y']),_0x517eee['z']>this['z']&&(this['z']=_0x517eee['z']),this;}['project'](_0x185815){const _0x504a1c=this['x']*_0x185815['x']+this['y']*_0x185815['y']+this['z']*_0x185815['z'],_0x326378=_0x185815['x']*_0x185815['x']+_0x185815['y']*_0x185815['y']+_0x185815['z']*_0x185815['z'],_0x43f8c3=_0x504a1c/_0x326378;return this['x']=_0x185815['x']*_0x43f8c3,this['y']=_0x185815['y']*_0x43f8c3,this['z']=_0x185815['z']*_0x43f8c3,this;}['set'](_0x358671,_0x191931,_0x157cd3){return this['x']=_0x358671,this['y']=_0x191931,this['z']=_0x157cd3,this;}['sub'](_0x20095e){return this['x']-=_0x20095e['x'],this['y']-=_0x20095e['y'],this['z']-=_0x20095e['z'],this;}['sub2'](_0x1c8f55,_0x1f858a){return this['x']=_0x1c8f55['x']-_0x1f858a['x'],this['y']=_0x1c8f55['y']-_0x1f858a['y'],this['z']=_0x1c8f55['z']-_0x1f858a['z'],this;}['subScalar'](_0x243ddb){return this['x']-=_0x243ddb,this['y']-=_0x243ddb,this['z']-=_0x243ddb,this;}['fromArray'](_0x5e4a7e,_0x190c24=-0x1*-0x261b+-0x1*0x20ab+0x6*-0xe8){return this['x']=_0x5e4a7e[_0x190c24]??this['x'],this['y']=_0x5e4a7e[_0x190c24+(-0x18cd+0x1add+0x1*-0x20f)]??this['y'],this['z']=_0x5e4a7e[_0x190c24+(0x171e+-0x1*-0x1967+-0x3083)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x51ccd3=[],_0xe9a448=0x1*-0x1d76+0xb5f*0x2+0x6b8){return _0x51ccd3[_0xe9a448]=this['x'],_0x51ccd3[_0xe9a448+(0x11ac+-0x1f30+0x1*0xd85)]=this['y'],_0x51ccd3[_0xe9a448+(-0xeed+-0xc49+0x1b38)]=this['z'],_0x51ccd3;}};h(wt,'ZERO',Object['freeze'](new wt(0x1*0x10a3+-0x11*-0xe9+-0x201c,0x268c+0x1d39*0x1+0x3*-0x1697,0x1ae+0x301*-0x1+-0x71*-0x3))),h(wt,'HALF',Object['freeze'](new wt(-0x1e09+0x386+0x1a83+0.5,-0x1*0x1adf+0x110c+-0x5*-0x1f7+0.5,-0x7d8*0x1+-0x236b+0x2b43+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x10d*0xb+-0xf51*-0x2+-0x2a30,0x1*-0x14aa+0x34d*0x5+0x42a,0xb5+0x2237+-0x22eb))),h(wt,'UP',Object['freeze'](new wt(-0x24cf+-0x29*-0x4f+-0x1828*-0x1,-0x11d6+0x220*-0x10+0x33d7*0x1,0x1816+0x1f*-0x43+-0xff9*0x1))),h(wt,'DOWN',Object['freeze'](new wt(-0x1d5b*0x1+-0x3b3*0x4+-0x7f*-0x59,-(-0x21fb+-0x5*0x295+0x2ee5),-0x1a83+-0x11f3+-0x769*-0x6))),h(wt,'RIGHT',Object['freeze'](new wt(-0x43*0x12+0x1fe7*0x1+-0x1b30,-0x19b3+0x6e+0x1945*0x1,0x51+-0x9ef+-0x1*-0x99e))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x1*-0xc09+-0x2577+0x11*0x17f),0xa*-0x14b+-0x26*0x93+0x22c0,-0x50f+-0x1d*-0x13d+-0x1eda))),h(wt,'FORWARD',Object['freeze'](new wt(-0x1a58*-0x1+0x3*0xa21+-0x38bb,0x1*-0x679+0x925*0x1+-0x2ac*0x1,-(-0x7*0x405+-0x1a08*0x1+0x362c*0x1)))),h(wt,'BACK',Object['freeze'](new wt(-0xe30*-0x2+0x1*-0x8e7+0x3e5*-0x5,0x1d*0x65+-0x1*0x35f+-0x1*0x812,-0x6f1+-0xa36*0x3+-0x172*-0x1a)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x1*0x4dd+0x37*-0x3f+0x8b5)),this['data'][-0x2692+0x1c7f*0x1+0xa13]=this['data'][0xb9a+-0x21*0x85+0x58f]=this['data'][0x1*0x20a1+0x1149+-0x31e2]=0x3*-0x593+-0x151*0x7+0x19f1;}['clone'](){const _0x4fa751=this['constructo'+'r'];return new _0x4fa751()['copy'](this);}['copy'](_0x2e10ce){const _0x2fd4f7=_0x2e10ce['data'],_0x4ebf5c=this['data'];return _0x4ebf5c[-0x37a+-0x1*-0x833+-0x27*0x1f]=_0x2fd4f7[-0x90d+-0x34*-0x63+-0xb0f],_0x4ebf5c[-0x137e*0x1+0x17cf+-0x450]=_0x2fd4f7[-0x24ba+-0x2041*0x1+0x44fc],_0x4ebf5c[-0xf3*-0x25+0xdb+-0x23f8]=_0x2fd4f7[0x2274+-0x22*0x53+-0x4*0x5db],_0x4ebf5c[-0x2*0xdd7+0x65*-0x62+-0x425b*-0x1]=_0x2fd4f7[0x13e8+-0x77b+-0xc6a],_0x4ebf5c[0x1bc7+0x12a*-0x6+-0xc5*0x1b]=_0x2fd4f7[-0x6*-0x397+-0x1535*0x1+0x3*-0x1b],_0x4ebf5c[-0x15*-0x1c3+-0x1650+-0xeaa]=_0x2fd4f7[-0x1dec*0x1+-0x2*0x208+0x2201],_0x4ebf5c[-0x9a*-0x2+0xf9e+-0x10cc]=_0x2fd4f7[-0xf20+-0x2607+0x352d],_0x4ebf5c[0x2120+-0x1c0b+-0x287*0x2]=_0x2fd4f7[-0x1e25*-0x1+-0x6f*-0x27+-0x2f07],_0x4ebf5c[-0x662+0x7*-0x147+0xf5b]=_0x2fd4f7[0x18d3+0xdfa*0x2+0x789*-0x7],this;}['set'](_0x3ef764){const _0x33ac00=this['data'];return _0x33ac00[0x1125+0xb0*0x2a+-0x2e05]=_0x3ef764[-0x1*0x17a4+-0x185a+0x2ffe],_0x33ac00[-0x48e*-0x4+-0x1d83+0xb4c]=_0x3ef764[0x6*0x22f+-0x5b4+-0x765],_0x33ac00[-0x22*-0x7a+0x100f*0x2+-0x1828*0x2]=_0x3ef764[-0x112*0xf+-0x19e3+0x29f3*0x1],_0x33ac00[-0x2009*0x1+-0x168f+0x1*0x369b]=_0x3ef764[0x11cc+-0xd1b+-0x257*0x2],_0x33ac00[0x1447+-0x1b*-0xf1+-0x2dae]=_0x3ef764[0xbc4+0x10ab+-0x1c6b],_0x33ac00[0x2628+-0x1bcd+-0x12*0x93]=_0x3ef764[-0x1a4c+0xaf6*-0x2+-0x303d*-0x1],_0x33ac00[0x1aa9+-0x3*-0x877+-0x3408]=_0x3ef764[0x1*-0xf0b+-0xa00+-0x2c9*-0x9],_0x33ac00[0x1ac4+0x53*0x1+-0x1b10]=_0x3ef764[0x1f87+0x49b+0xc09*-0x3],_0x33ac00[-0x47*-0x59+-0xf20+0x9*-0x10f]=_0x3ef764[-0x802+0x79d*-0x4+-0x17b*-0x1a],this;}['getX'](_0x2d3db9=new D()){return _0x2d3db9['set'](this['data'][0x1433+0x83*0x22+-0x2599*0x1],this['data'][0x1e5a+-0x1452+-0xa07],this['data'][-0x13*-0x184+0x1d84*-0x1+0x1f*0x6]);}['getY'](_0x350bd6=new D()){return _0x350bd6['set'](this['data'][-0x25e*0xe+-0x2563+0x468a],this['data'][0x1f13+0xbf9+-0x132*0x24],this['data'][0x7*0x3ae+0xdb*-0x3+-0x2*0xb96]);}['getZ'](_0x1c9806=new D()){return _0x1c9806['set'](this['data'][-0xe*-0x188+0x1*-0x16f+0x6a9*-0x3],this['data'][0x10*0x76+0xc26+-0x137f],this['data'][0x3*0x38a+-0x2ce*0x2+-0x4fa]);}['equals'](_0x5a7414){const _0x36e9ac=this['data'],_0x32b3da=_0x5a7414['data'];return _0x36e9ac[-0x1bf1+0xca4*-0x2+0x3539]===_0x32b3da[-0xf59+-0x38c*-0xb+-0x17ab]&&_0x36e9ac[0x2*0x92b+0x143a+-0x1*0x268f]===_0x32b3da[0x95*-0x19+-0xce7*0x3+0x3543]&&_0x36e9ac[0x2bd*-0x1+-0xb10+0xdcf]===_0x32b3da[0x82a+0xb33*0x2+-0x1e8e]&&_0x36e9ac[-0xf6*-0x20+-0x4b0+0x15f*-0x13]===_0x32b3da[-0x11*0x1de+0x3*0x94e+-0x1*-0x3d7]&&_0x36e9ac[0x251*-0x7+0x16a7*-0x1+0x3*0xcf6]===_0x32b3da[0x16*-0x113+-0xacf*0x1+0x2275]&&_0x36e9ac[0x2*0x431+0x1*0x1d25+-0x2582]===_0x32b3da[-0x7f4+0x1f5c+-0x1763]&&_0x36e9ac[-0x2036+-0x200*0x10+0x403c]===_0x32b3da[0x18*0x15a+-0x1023*-0x2+-0x40b0]&&_0x36e9ac[0x19f1*-0x1+-0x8ff+0x22f7*0x1]===_0x32b3da[-0x27*-0x86+-0x1*0x1ac4+-0x17*-0x47]&&_0x36e9ac[-0x4f7*-0x7+0x1768+-0x3a21*0x1]===_0x32b3da[-0x49*0x68+0xbe8+0x11c8];}['isIdentity'](){const _0x5e9243=this['data'];return _0x5e9243[-0x2152+0x33*0x16+0x1cf0]===-0x1cc4+-0x22b1+-0x1*-0x3f76&&_0x5e9243[0x5*0x59d+-0x1fa0+0x390]===-0x343*-0x7+0x1713*0x1+0x1a*-0x1c4&&_0x5e9243[0xb28+-0x1eea+0x13c4]===-0x26e5+0x67f*0x5+0x66a*0x1&&_0x5e9243[-0x126d+0x2e5*-0x3+0x1b1f]===0x11*0x1b+-0x2061+0x1e96&&_0x5e9243[-0x67*-0xb+0x1241*-0x2+-0x1*-0x2019]===0x1*0x12ff+-0x1380+0x82&&_0x5e9243[-0x3*-0x7b5+-0x22c0+0xba6]===-0x2494+0x1*-0x6d+0x2501&&_0x5e9243[0x23d6+0xd*-0x207+-0x975]===-0x43*-0x85+0x481+-0x2750&&_0x5e9243[0x12b8+-0x751+-0x8*0x16c]===0x31b+-0x36d+0x2*0x29&&_0x5e9243[-0x17*0x73+0x1418+-0x9bb]===0x420+-0x73*-0x18+-0xee7;}['setIdentit'+'y'](){const _0x38d864=this['data'];return _0x38d864[-0x65f*-0x3+-0x1085+-0x298*0x1]=0x1ade+-0x1a72+-0x6b,_0x38d864[-0x2311+0x1f39+0x3d9]=-0x191b+0x2a1+0x2a*0x89,_0x38d864[-0x11a1*-0x2+0x2ad+-0x49*0x85]=-0x13fe+0x148*0x2+-0x116e*-0x1,_0x38d864[0x1b43*-0x1+0x1f*0x12d+0x51*-0x1d]=-0x2a*0x46+-0x2f*0x4f+0x19fd,_0x38d864[0x2460+-0x238a+-0xd2]=-0x172+-0x2*-0xc31+-0x16ef,_0x38d864[-0x216c+0x86*-0x4+0x2389]=0x180c+0x26de+-0x1*0x3eea,_0x38d864[0x173b+0x18d6+-0x1*0x300b]=0xdbb*-0x2+0x1*0x16a2+0x4d4,_0x38d864[0x1*-0x1841+0x381+0x14c7]=-0x19b4+0xd56+0x2*0x62f,_0x38d864[-0x8f*-0x1+0x7f3+-0x9b*0xe]=0x1b*0x9d+-0xff6+-0x98,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x44e4b9=this){const _0x5aa4a6=_0x44e4b9['data'],_0x2672a2=this['data'];if(_0x5aa4a6===_0x2672a2){let _0xf484a7;_0xf484a7=_0x5aa4a6[0xf59*-0x2+-0x23cb+-0x1*-0x427e],_0x2672a2[-0x1da6+0x1*0x15a7+0x800]=_0x5aa4a6[-0x2014+-0xb*-0x19f+-0x19*-0x92],_0x2672a2[-0xa6*-0x39+-0x47*0x52+0x1*-0xe35]=_0xf484a7,_0xf484a7=_0x5aa4a6[-0x646+-0x5+-0x64d*-0x1],_0x2672a2[-0x207*-0xa+0x16cd+-0x2b11]=_0x5aa4a6[0x12*0x16d+-0x201f*0x1+0x67b],_0x2672a2[0x209+-0x7b0*-0x4+-0x1*0x20c3]=_0xf484a7,_0xf484a7=_0x5aa4a6[0x1a28+0x603*-0x6+0x9ef],_0x2672a2[-0x1*-0x1f8f+0x105d+-0x1*0x2fe7]=_0x5aa4a6[0x1*-0x103f+-0x3*0xa67+0x11*0x2cb],_0x2672a2[-0xa67*-0x1+-0xa3c+-0x4*0x9]=_0xf484a7;}else _0x2672a2[0x55+-0x1a5b+0x1a06*0x1]=_0x5aa4a6[-0x1*0x7b+0x365+0x2ea*-0x1],_0x2672a2[0xe4d*0x2+0x1966+0x35ff*-0x1]=_0x5aa4a6[0x1b4+0x2*0xef3+0x1*-0x1f97],_0x2672a2[0x26e9+-0x257*-0x1+-0x293e]=_0x5aa4a6[-0xf81+0x5*0x3b9+-0x316],_0x2672a2[-0x11*0x221+-0x82*-0x5+-0x1f*-0x116]=_0x5aa4a6[-0x17*-0x103+-0x540*-0x2+0x10e2*-0x2],_0x2672a2[-0x264*0xe+-0x11b7+-0x3333*-0x1]=_0x5aa4a6[0x7d7+-0xa*-0x23+-0x931],_0x2672a2[-0x1b32+-0x476+-0x1dd*-0x11]=_0x5aa4a6[-0x23b8+-0x26a9+0x2*0x2534],_0x2672a2[0x1*0x12f5+0x1691*0x1+-0x10*0x298]=_0x5aa4a6[-0x2647+-0xf06+0x354f],_0x2672a2[0x1763+-0x2*-0x5e0+-0x231c]=_0x5aa4a6[0x407*0x1+-0x2a5*0x1+-0x15d],_0x2672a2[-0x1978+-0x216f+-0x2f*-0x141]=_0x5aa4a6[0xf*0x1ce+0x105+-0x1c0f*0x1];return this;}['setFromMat'+'4'](_0x1a4434){const _0x17f9ea=_0x1a4434['data'],_0x2b6d56=this['data'];return _0x2b6d56[0x225c+-0x19f8+-0x2*0x432]=_0x17f9ea[0x1*0x12e8+-0x1e7*-0x5+0x5af*-0x5],_0x2b6d56[-0x317+-0x8fa+0xce*0xf]=_0x17f9ea[0x2cd+0xd02+-0xfce],_0x2b6d56[-0xbc3*-0x1+0x1ce8+-0x28a9]=_0x17f9ea[-0x29*-0xc7+0x17f*0x1+-0x215c],_0x2b6d56[0x1ec8+-0x1338+-0xb8d]=_0x17f9ea[-0x1e66+0x1701*-0x1+0x356b],_0x2b6d56[-0x2112+-0x241*-0x9+0x1d*0x71]=_0x17f9ea[-0x8e4+-0xc1+-0x4d5*-0x2],_0x2b6d56[-0x1337*-0x1+-0xe9*-0x28+-0x50e*0xb]=_0x17f9ea[0x1195*-0x1+0x2*-0x74f+0x2039],_0x2b6d56[-0xa15+0x1*-0x16b9+0x20d4]=_0x17f9ea[0x2*-0x556+-0x23c0+0x2e74],_0x2b6d56[-0x1*-0x1c8f+0x450+-0x20d8]=_0x17f9ea[0x1*-0x170d+0x1c30+-0x51a*0x1],_0x2b6d56[-0x24af+-0x16c*0x4+0x87b*0x5]=_0x17f9ea[0x1616+0x4*-0x613+0x240],this;}['setFromQua'+'t'](_0x5bff3f){const _0x5ed733=_0x5bff3f['x'],_0x2ba8ce=_0x5bff3f['y'],_0x43a338=_0x5bff3f['z'],_0x10e8e9=_0x5bff3f['w'],_0x25172b=_0x5ed733+_0x5ed733,_0x293bc3=_0x2ba8ce+_0x2ba8ce,_0x483807=_0x43a338+_0x43a338,_0x496fdc=_0x5ed733*_0x25172b,_0x509d38=_0x5ed733*_0x293bc3,_0x51c0a9=_0x5ed733*_0x483807,_0x34931f=_0x2ba8ce*_0x293bc3,_0x3e7ec2=_0x2ba8ce*_0x483807,_0x7d7a49=_0x43a338*_0x483807,_0x20a53f=_0x10e8e9*_0x25172b,_0x5343f9=_0x10e8e9*_0x293bc3,_0x5233ed=_0x10e8e9*_0x483807,_0x55b51d=this['data'];return _0x55b51d[-0x197a*-0x1+-0x1*0x13e9+-0x591]=0x4*0x771+0xb4b+0x836*-0x5-(_0x34931f+_0x7d7a49),_0x55b51d[-0x1*-0x6eb+0x20da+-0x27c4]=_0x509d38+_0x5233ed,_0x55b51d[-0x1752+0x25cd*-0x1+0x3d21*0x1]=_0x51c0a9-_0x5343f9,_0x55b51d[-0x4*-0x860+0x449*-0x1+-0x54*0x59]=_0x509d38-_0x5233ed,_0x55b51d[0x22ed+0x21bc+0x1*-0x44a5]=0x1*-0x569+0xcde+-0x6a*0x12-(_0x496fdc+_0x7d7a49),_0x55b51d[0x1*-0x1f7b+-0x197+0x2117]=_0x3e7ec2+_0x20a53f,_0x55b51d[0x24f2*0x1+0x2ef*-0x8+0x54*-0x29]=_0x51c0a9+_0x5343f9,_0x55b51d[0x5*-0x3bc+-0x1861*-0x1+-0x5ae]=_0x3e7ec2-_0x20a53f,_0x55b51d[0xb8d*-0x1+0x2*-0x6ab+-0x1*-0x18eb]=0x35e+-0xa97+0x73a-(_0x496fdc+_0x34931f),this;}['invertMat4'](_0x1d2f4e){const _0x124757=_0x1d2f4e['data'],_0x15c38b=_0x124757[0xc*0x48+-0xd13+0x9b3],_0x176f18=_0x124757[0x5*-0x6d3+-0x2638+0x4858],_0x623105=_0x124757[-0x3f6+-0x1*0x135a+-0x3*-0x7c6],_0x18311f=_0x124757[0x1a*0x47+0x59*0x4b+0xb17*-0x3],_0x5aab21=_0x124757[-0x2*-0x129e+0x2*-0x595+-0x1a0d],_0x25dae7=_0x124757[0x1961+0x1*-0x2de+-0x167d],_0xe2464f=_0x124757[-0x1d8+-0x2*0xaf3+0x17c6],_0x1ada90=_0x124757[-0x372+-0x55*-0x16+0x1*-0x3d3],_0x3c9a68=_0x124757[0x27*-0x10+-0x71*0x1f+0x24f*0x7],_0x5054cb=_0x3c9a68*_0x5aab21-_0x25dae7*_0x1ada90,_0x5d325d=-_0x3c9a68*_0x176f18+_0x623105*_0x1ada90,_0x55e6ca=_0x25dae7*_0x176f18-_0x623105*_0x5aab21,_0x16611e=-_0x3c9a68*_0x18311f+_0x25dae7*_0xe2464f,_0x232f53=_0x3c9a68*_0x15c38b-_0x623105*_0xe2464f,_0x154d31=-_0x25dae7*_0x15c38b+_0x623105*_0x18311f,_0x1a7d9a=_0x1ada90*_0x18311f-_0x5aab21*_0xe2464f,_0x2017b2=-_0x1ada90*_0x15c38b+_0x176f18*_0xe2464f,_0x2a3ddb=_0x5aab21*_0x15c38b-_0x176f18*_0x18311f,_0x3e6150=_0x15c38b*_0x5054cb+_0x176f18*_0x16611e+_0x623105*_0x1a7d9a;if(_0x3e6150===0x1*-0xfdd+0x4a9*-0x1+0x1486)this['setIdentit'+'y']();else{const _0x4fabd5=(0xe*0x298+-0x3d0*0x9+0x1ff*-0x1)/_0x3e6150,_0x43a7b6=this['data'];_0x43a7b6[0xb2f+0x1a9*-0x13+-0x2*-0xa2e]=_0x5054cb*_0x4fabd5,_0x43a7b6[-0x71c+0x9f5+-0x34*0xe]=_0x5d325d*_0x4fabd5,_0x43a7b6[0x2443+0xd36+-0x3177]=_0x55e6ca*_0x4fabd5,_0x43a7b6[-0x319+-0x1409+0x1725]=_0x16611e*_0x4fabd5,_0x43a7b6[-0xa*0x1fd+-0x732+0x1b18]=_0x232f53*_0x4fabd5,_0x43a7b6[-0x785+-0x24fc+0x2c86]=_0x154d31*_0x4fabd5,_0x43a7b6[0xc72+-0x22d5+0x1669]=_0x1a7d9a*_0x4fabd5,_0x43a7b6[0x199d+-0x2*-0xaf+-0x1af4]=_0x2017b2*_0x4fabd5,_0x43a7b6[-0x29*0xdb+0xc6c+0x1*0x16af]=_0x2a3ddb*_0x4fabd5;}return this;}['transformV'+'ector'](_0x409be0,_0x2560dc=new D()){const _0x385989=this['data'],{x:_0x1da2e5,y:_0xe8f322,z:_0x587c91}=_0x409be0;return _0x2560dc['x']=_0x1da2e5*_0x385989[-0x101*0x5+-0x268a+0x2b8f]+_0xe8f322*_0x385989[0x1e4*0x12+-0xed+0xb08*-0x3]+_0x587c91*_0x385989[-0x180f+-0x14d*-0x2+0x157b],_0x2560dc['y']=_0x1da2e5*_0x385989[-0x18d0+0x266e*-0x1+-0x3*-0x1515]+_0xe8f322*_0x385989[-0x3e*0x51+0x3e1+0xfc1]+_0x587c91*_0x385989[0x3*-0xbf+0xb*-0x2cf+0x2129],_0x2560dc['z']=_0x1da2e5*_0x385989[0x10b9+0x72f*-0x3+-0x2*-0x26b]+_0xe8f322*_0x385989[0x5d+0x1237+0x1*-0x128f]+_0x587c91*_0x385989[0x11df+0x19*0x11d+-0x4f*0x94],_0x2560dc;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x26f6+0x17b3+0xf43*0x1,-0x7*-0xc7+0x3e1*-0x4+0xa13,-0x24aa+-0x6a8+0x2b52,0xd8b*-0x1+0x7fb+0x590,-0x2*0x137b+0x1c1f+0xb9*0xf,0x12b*0x2+0xd94+0x123*-0xe,-0xf4*-0x1+-0x87*0xc+0x56*0x10,-0xb*0xf+-0x124+-0x1*-0x1c9,0x1079*-0x2+-0x1*0x175b+0x384d])));let _i=gn;const Gt=class Gt{constructor(_0x58caf9=-0x11fe+-0x2f5*0xa+0x2f90,_0x545ffa=-0x20b9*-0x1+0x1b39+-0x1*0x3bf2){h(this,'x'),h(this,'y'),_0x58caf9['length']===0x109+-0x2d*0x1a+0x38b?(this['x']=_0x58caf9[-0x6d9+-0x7*0x314+0x1c65],this['y']=_0x58caf9[-0x106c+0x2*-0x1387+0x7*0x7ed]):(this['x']=_0x58caf9,this['y']=_0x545ffa);}['add'](_0x375099){return this['x']+=_0x375099['x'],this['y']+=_0x375099['y'],this;}['add2'](_0x16fc22,_0x4a74ff){return this['x']=_0x16fc22['x']+_0x4a74ff['x'],this['y']=_0x16fc22['y']+_0x4a74ff['y'],this;}['addScalar'](_0x1eb2dd){return this['x']+=_0x1eb2dd,this['y']+=_0x1eb2dd,this;}['addScaled'](_0x597780,_0x56648d){return this['x']+=_0x597780['x']*_0x56648d,this['y']+=_0x597780['y']*_0x56648d,this;}['clone'](){const _0x359372=this['constructo'+'r'];return new _0x359372(this['x'],this['y']);}['copy'](_0x3a76d1){return this['x']=_0x3a76d1['x'],this['y']=_0x3a76d1['y'],this;}['cross'](_0x48af13){return this['x']*_0x48af13['y']-this['y']*_0x48af13['x'];}['distance'](_0x2cc723){const _0x45e79a=this['x']-_0x2cc723['x'],_0x184ff5=this['y']-_0x2cc723['y'];return Math['sqrt'](_0x45e79a*_0x45e79a+_0x184ff5*_0x184ff5);}['div'](_0x21d962){return this['x']/=_0x21d962['x'],this['y']/=_0x21d962['y'],this;}['div2'](_0xa864c0,_0x55cccb){return this['x']=_0xa864c0['x']/_0x55cccb['x'],this['y']=_0xa864c0['y']/_0x55cccb['y'],this;}['divScalar'](_0x41a0f3){return this['x']/=_0x41a0f3,this['y']/=_0x41a0f3,this;}['dot'](_0x587519){return this['x']*_0x587519['x']+this['y']*_0x587519['y'];}['equals'](_0x42b957){return this['x']===_0x42b957['x']&&this['y']===_0x42b957['y'];}['equalsAppr'+'ox'](_0x3abd37,_0x5239bb=0x1*-0x1faf+0xc9c*-0x3+0x1*0x4583+0.000001){return Math['abs'](this['x']-_0x3abd37['x'])<_0x5239bb&&Math['abs'](this['y']-_0x3abd37['y'])<_0x5239bb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0xa48fc3,_0x2df0b8,_0x34ed82){return this['x']=_0xa48fc3['x']+_0x34ed82*(_0x2df0b8['x']-_0xa48fc3['x']),this['y']=_0xa48fc3['y']+_0x34ed82*(_0x2df0b8['y']-_0xa48fc3['y']),this;}['mul'](_0x4e6cb8){return this['x']*=_0x4e6cb8['x'],this['y']*=_0x4e6cb8['y'],this;}['mul2'](_0x366477,_0x4dd976){return this['x']=_0x366477['x']*_0x4dd976['x'],this['y']=_0x366477['y']*_0x4dd976['y'],this;}['mulScalar'](_0x55727b){return this['x']*=_0x55727b,this['y']*=_0x55727b,this;}['normalize'](_0x3a3e7e=this){const _0x131880=_0x3a3e7e['x']*_0x3a3e7e['x']+_0x3a3e7e['y']*_0x3a3e7e['y'];if(_0x131880>-0x1*-0x1c0b+0x1003*0x1+0x1607*-0x2){const _0x4802dd=(-0x19bb+0x113b+-0x137*-0x7)/Math['sqrt'](_0x131880);this['x']=_0x3a3e7e['x']*_0x4802dd,this['y']=_0x3a3e7e['y']*_0x4802dd;}return this;}['rotate'](_0x458cae){const _0x16a35a=Math['atan2'](this['x'],this['y'])+_0x458cae*Y['DEG_TO_RAD'],_0x3e3c6b=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x16a35a)*_0x3e3c6b,this['y']=Math['cos'](_0x16a35a)*_0x3e3c6b,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x59ebfd){return Math['atan2'](this['x']*_0x59ebfd['y']+this['y']*_0x59ebfd['x'],this['x']*_0x59ebfd['x']+this['y']*_0x59ebfd['y'])*Y['RAD_TO_DEG'];}['floor'](_0x3c6caa=this){return this['x']=Math['floor'](_0x3c6caa['x']),this['y']=Math['floor'](_0x3c6caa['y']),this;}['ceil'](_0x3b9487=this){return this['x']=Math['ceil'](_0x3b9487['x']),this['y']=Math['ceil'](_0x3b9487['y']),this;}['round'](_0x4176c8=this){return this['x']=Math['round'](_0x4176c8['x']),this['y']=Math['round'](_0x4176c8['y']),this;}['min'](_0x52f9f7){return _0x52f9f7['x']<this['x']&&(this['x']=_0x52f9f7['x']),_0x52f9f7['y']<this['y']&&(this['y']=_0x52f9f7['y']),this;}['max'](_0x2a701b){return _0x2a701b['x']>this['x']&&(this['x']=_0x2a701b['x']),_0x2a701b['y']>this['y']&&(this['y']=_0x2a701b['y']),this;}['set'](_0x5c5a47,_0x325ae1){return this['x']=_0x5c5a47,this['y']=_0x325ae1,this;}['sub'](_0x4adaf5){return this['x']-=_0x4adaf5['x'],this['y']-=_0x4adaf5['y'],this;}['sub2'](_0xbd6f87,_0x33087f){return this['x']=_0xbd6f87['x']-_0x33087f['x'],this['y']=_0xbd6f87['y']-_0x33087f['y'],this;}['subScalar'](_0x21b84b){return this['x']-=_0x21b84b,this['y']-=_0x21b84b,this;}['fromArray'](_0x1bff82,_0x195db5=-0x6e9*-0x3+0x1c5c+-0x3117){return this['x']=_0x1bff82[_0x195db5]??this['x'],this['y']=_0x1bff82[_0x195db5+(0x527*-0x7+-0x2*0x121+-0xdf*-0x2c)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x4c4e24=[],_0x4bdf0d=0x23d3+-0xe3c*-0x1+-0x5*0xa03){return _0x4c4e24[_0x4bdf0d]=this['x'],_0x4c4e24[_0x4bdf0d+(0x13f*-0xc+-0x1*0x2429+0x2*0x198f)]=this['y'],_0x4c4e24;}static['angleRad'](_0x567299,_0x4b5ec4){return Math['atan2'](_0x567299['x']*_0x4b5ec4['y']-_0x567299['y']*_0x4b5ec4['x'],_0x567299['x']*_0x4b5ec4['x']+_0x567299['y']*_0x4b5ec4['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(-0xfdf*0x1+0x180b+-0x1*0x82c,-0x1*-0x11a4+0x25d4+-0x3778))),h(Gt,'HALF',Object['freeze'](new Gt(0x1*-0xba2+-0x143a+-0x2*-0xfee+0.5,-0x7*-0x8e+0x1f82+-0x2364+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(0x18f9+0x1b8f+-0x3487,0x2*-0x724+0x62c+0x81d))),h(Gt,'UP',Object['freeze'](new Gt(-0x56*-0x4b+-0x11f0+-0x742,0x25*0x20+-0xaba+0x61b))),h(Gt,'DOWN',Object['freeze'](new Gt(0x1e26+-0xb*-0x183+-0x5*0x95b,-(-0x15be+-0x3*-0x76d+-0x88)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x15b*-0x19+0x1*-0x2389+-0x1*-0x456d,0x207a*-0x1+0x8*-0x36e+-0x1*-0x3bea))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x2b0*0x4+0xd03*0x3+-0x31c8),0x1bcb+0x1*0x1b98+-0x3763)));let J=Gt;const pr=class pr{constructor(_0x4caf25=0x19b9+0x5a*-0x16+-0x11fd,_0x1bcc50=0x1947*0x1+0x243+-0x1b8a,_0xe1187c=-0x1*0x410+-0x1e2*-0x2+0x4c,_0x942047=0xb*0x1f6+0x1abc+-0x304e){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x4caf25['length']===-0x181*0x11+-0x5e9*0x5+0x3722?(this['x']=_0x4caf25[0x1aca+-0xa9f+0x1*-0x102b],this['y']=_0x4caf25[0x25b8+0x4*-0x56d+-0x1003],this['z']=_0x4caf25[0x109d+-0x1*0x10d+-0xf8e],this['w']=_0x4caf25[0x11*-0x234+0x1fd4+0x6f*0xd]):(this['x']=_0x4caf25,this['y']=_0x1bcc50,this['z']=_0xe1187c,this['w']=_0x942047);}['add'](_0x2175b2){return this['x']+=_0x2175b2['x'],this['y']+=_0x2175b2['y'],this['z']+=_0x2175b2['z'],this['w']+=_0x2175b2['w'],this;}['add2'](_0x4e11a6,_0x3feb65){return this['x']=_0x4e11a6['x']+_0x3feb65['x'],this['y']=_0x4e11a6['y']+_0x3feb65['y'],this['z']=_0x4e11a6['z']+_0x3feb65['z'],this['w']=_0x4e11a6['w']+_0x3feb65['w'],this;}['addScalar'](_0x5970e2){return this['x']+=_0x5970e2,this['y']+=_0x5970e2,this['z']+=_0x5970e2,this['w']+=_0x5970e2,this;}['addScaled'](_0x29a06c,_0x512659){return this['x']+=_0x29a06c['x']*_0x512659,this['y']+=_0x29a06c['y']*_0x512659,this['z']+=_0x29a06c['z']*_0x512659,this['w']+=_0x29a06c['w']*_0x512659,this;}['clone'](){const _0xff0cda=this['constructo'+'r'];return new _0xff0cda(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x2cf732){return this['x']=_0x2cf732['x'],this['y']=_0x2cf732['y'],this['z']=_0x2cf732['z'],this['w']=_0x2cf732['w'],this;}['div'](_0x1c8db7){return this['x']/=_0x1c8db7['x'],this['y']/=_0x1c8db7['y'],this['z']/=_0x1c8db7['z'],this['w']/=_0x1c8db7['w'],this;}['div2'](_0x1a8d3e,_0x30a39c){return this['x']=_0x1a8d3e['x']/_0x30a39c['x'],this['y']=_0x1a8d3e['y']/_0x30a39c['y'],this['z']=_0x1a8d3e['z']/_0x30a39c['z'],this['w']=_0x1a8d3e['w']/_0x30a39c['w'],this;}['divScalar'](_0x3d235a){return this['x']/=_0x3d235a,this['y']/=_0x3d235a,this['z']/=_0x3d235a,this['w']/=_0x3d235a,this;}['dot'](_0x24de2d){return this['x']*_0x24de2d['x']+this['y']*_0x24de2d['y']+this['z']*_0x24de2d['z']+this['w']*_0x24de2d['w'];}['equals'](_0x4dd022){return this['x']===_0x4dd022['x']&&this['y']===_0x4dd022['y']&&this['z']===_0x4dd022['z']&&this['w']===_0x4dd022['w'];}['equalsAppr'+'ox'](_0x1eb15f,_0x18d1f0=0xa7a+0x9d*0x5+-0xd8b+0.000001){return Math['abs'](this['x']-_0x1eb15f['x'])<_0x18d1f0&&Math['abs'](this['y']-_0x1eb15f['y'])<_0x18d1f0&&Math['abs'](this['z']-_0x1eb15f['z'])<_0x18d1f0&&Math['abs'](this['w']-_0x1eb15f['w'])<_0x18d1f0;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x2e24ff,_0x5d9be8,_0x3e9259){return this['x']=_0x2e24ff['x']+_0x3e9259*(_0x5d9be8['x']-_0x2e24ff['x']),this['y']=_0x2e24ff['y']+_0x3e9259*(_0x5d9be8['y']-_0x2e24ff['y']),this['z']=_0x2e24ff['z']+_0x3e9259*(_0x5d9be8['z']-_0x2e24ff['z']),this['w']=_0x2e24ff['w']+_0x3e9259*(_0x5d9be8['w']-_0x2e24ff['w']),this;}['mul'](_0xe362a9){return this['x']*=_0xe362a9['x'],this['y']*=_0xe362a9['y'],this['z']*=_0xe362a9['z'],this['w']*=_0xe362a9['w'],this;}['mul2'](_0x197a40,_0x4acf47){return this['x']=_0x197a40['x']*_0x4acf47['x'],this['y']=_0x197a40['y']*_0x4acf47['y'],this['z']=_0x197a40['z']*_0x4acf47['z'],this['w']=_0x197a40['w']*_0x4acf47['w'],this;}['mulScalar'](_0x1d6521){return this['x']*=_0x1d6521,this['y']*=_0x1d6521,this['z']*=_0x1d6521,this['w']*=_0x1d6521,this;}['normalize'](_0x12d452=this){const _0x5a9c2c=_0x12d452['x']*_0x12d452['x']+_0x12d452['y']*_0x12d452['y']+_0x12d452['z']*_0x12d452['z']+_0x12d452['w']*_0x12d452['w'];if(_0x5a9c2c>-0x1818+-0x5b*-0x5e+-0x952){const _0x469be0=(-0x75e+0x2340+-0x9*0x319)/Math['sqrt'](_0x5a9c2c);this['x']=_0x12d452['x']*_0x469be0,this['y']=_0x12d452['y']*_0x469be0,this['z']=_0x12d452['z']*_0x469be0,this['w']=_0x12d452['w']*_0x469be0;}return this;}['floor'](_0xa6d0c1=this){return this['x']=Math['floor'](_0xa6d0c1['x']),this['y']=Math['floor'](_0xa6d0c1['y']),this['z']=Math['floor'](_0xa6d0c1['z']),this['w']=Math['floor'](_0xa6d0c1['w']),this;}['ceil'](_0x498673=this){return this['x']=Math['ceil'](_0x498673['x']),this['y']=Math['ceil'](_0x498673['y']),this['z']=Math['ceil'](_0x498673['z']),this['w']=Math['ceil'](_0x498673['w']),this;}['round'](_0x5dc7b4=this){return this['x']=Math['round'](_0x5dc7b4['x']),this['y']=Math['round'](_0x5dc7b4['y']),this['z']=Math['round'](_0x5dc7b4['z']),this['w']=Math['round'](_0x5dc7b4['w']),this;}['min'](_0x21f8dc){return _0x21f8dc['x']<this['x']&&(this['x']=_0x21f8dc['x']),_0x21f8dc['y']<this['y']&&(this['y']=_0x21f8dc['y']),_0x21f8dc['z']<this['z']&&(this['z']=_0x21f8dc['z']),_0x21f8dc['w']<this['w']&&(this['w']=_0x21f8dc['w']),this;}['max'](_0x5d0916){return _0x5d0916['x']>this['x']&&(this['x']=_0x5d0916['x']),_0x5d0916['y']>this['y']&&(this['y']=_0x5d0916['y']),_0x5d0916['z']>this['z']&&(this['z']=_0x5d0916['z']),_0x5d0916['w']>this['w']&&(this['w']=_0x5d0916['w']),this;}['set'](_0x43a325,_0x46b3f6,_0x38f108,_0x35c6cd){return this['x']=_0x43a325,this['y']=_0x46b3f6,this['z']=_0x38f108,this['w']=_0x35c6cd,this;}['sub'](_0x476eac){return this['x']-=_0x476eac['x'],this['y']-=_0x476eac['y'],this['z']-=_0x476eac['z'],this['w']-=_0x476eac['w'],this;}['sub2'](_0x1b9c85,_0x366427){return this['x']=_0x1b9c85['x']-_0x366427['x'],this['y']=_0x1b9c85['y']-_0x366427['y'],this['z']=_0x1b9c85['z']-_0x366427['z'],this['w']=_0x1b9c85['w']-_0x366427['w'],this;}['subScalar'](_0x21b66b){return this['x']-=_0x21b66b,this['y']-=_0x21b66b,this['z']-=_0x21b66b,this['w']-=_0x21b66b,this;}['fromArray'](_0x43956e,_0x2be295=0x2e7+-0x1e6f+0x1b88){return this['x']=_0x43956e[_0x2be295]??this['x'],this['y']=_0x43956e[_0x2be295+(-0x13*-0x44+0x202e+-0x2539)]??this['y'],this['z']=_0x43956e[_0x2be295+(0x3*0xa37+0xc3*0x26+-0x3b95)]??this['z'],this['w']=_0x43956e[_0x2be295+(-0xde5*0x1+-0xf0e+0x1cf6)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xcd4567=[],_0x2228f3=-0x107f+-0x99*-0x3+0xeb4){return _0xcd4567[_0x2228f3]=this['x'],_0xcd4567[_0x2228f3+(0x92a+-0x1*0x14db+0xbb2)]=this['y'],_0xcd4567[_0x2228f3+(-0x24cd+-0xc7*0xc+0x2e23)]=this['z'],_0xcd4567[_0x2228f3+(0x11d9*0x1+-0x1cc9+0x1*0xaf3)]=this['w'],_0xcd4567;}};h(pr,'ZERO',Object['freeze'](new pr(0xf*-0x18a+-0x8ab+-0xb*-0x2e3,0x1f23+-0x2*0x123b+0x553,0x1b94*0x1+-0x1*-0x95c+0x1278*-0x2,-0xaad+0xad*-0x15+0x18de))),h(pr,'HALF',Object['freeze'](new pr(-0x1f57+-0x13*-0x26+0x1c85+0.5,0x1f9d+0x83*0x18+-0x2be5+0.5,0x1499+-0x12ac+0x1d*-0x11+0.5,0x1094+0x1722+-0x27b6+0.5))),h(pr,'ONE',Object['freeze'](new pr(0xe5*0x11+-0x12ae+-0x2*-0x1bd,0x23e5*-0x1+0xada+-0x4*-0x643,0x6f3+0x47*0x11+-0xba9,-0x4*-0x3c7+-0x1dda+0xebf)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x208c+0x883+0x1819)),this['data'][0xf5+-0x4*0x58+0x6b*0x1]=this['data'][0x1*0x83f+-0x1799+-0x1*-0xf5f]=this['data'][0x16a7+0x1c34+-0x1*0x32d1]=this['data'][0x3*-0x8fc+0x1402+0xb*0xa3]=0x88e+0x1820+-0x20ad;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x5985c1,_0x4aafa4,_0x1599e6,_0x330764,_0x49d146){_0x49d146?(_0x5985c1['x']=_0x330764*Math['tan'](_0x4aafa4*Math['PI']/(-0x2*0x10a3+0x14*-0xef+0x355a)),_0x5985c1['y']=_0x5985c1['x']/_0x1599e6):(_0x5985c1['y']=_0x330764*Math['tan'](_0x4aafa4*Math['PI']/(-0xe*0x100+0x1f97+0x102f*-0x1)),_0x5985c1['x']=_0x5985c1['y']*_0x1599e6);}['add2'](_0x3f19ac,_0x2486ca){const _0xd7dd97=_0x3f19ac['data'],_0x6645ff=_0x2486ca['data'],_0x22a8c6=this['data'];return _0x22a8c6[-0x1*-0x1753+-0x9a*0x1f+-0x4ad]=_0xd7dd97[0x1*0x1d39+0x1487*0x1+0x31c*-0x10]+_0x6645ff[-0x3*-0xb6b+0x2*-0x97d+0xf47*-0x1],_0x22a8c6[0x1*-0x287+-0x2*-0xf75+0x7*-0x40e]=_0xd7dd97[-0x1aa5*-0x1+0x1*-0xa6d+-0x1037*0x1]+_0x6645ff[-0x181f*-0x1+-0x1b32*-0x1+-0x3350],_0x22a8c6[0x1*-0x3e5+-0x19e8+0x1dcf*0x1]=_0xd7dd97[-0x775+-0x1*0x12f9+0x11a*0x18]+_0x6645ff[0x1bfc+0x8*0x1c+0x99e*-0x3],_0x22a8c6[-0x1805+-0x1be3+0x33eb]=_0xd7dd97[0x22ac+0x2*0xffa+-0x429d]+_0x6645ff[-0x1cc*-0xb+-0x13*-0x18e+0x1*-0x314b],_0x22a8c6[-0x503*-0x2+-0x3*0x65b+-0x1*-0x90f]=_0xd7dd97[0x1a9b*-0x1+0x664*-0x3+-0x13*-0x269]+_0x6645ff[0x5*-0x40f+-0xadd+0x1e*0x10a],_0x22a8c6[-0x6d*0x1+0x2272+-0x2200]=_0xd7dd97[0xdb9*0x1+0x79*-0x47+0x13db]+_0x6645ff[-0x39a*-0x2+-0x139*-0xd+-0x1714],_0x22a8c6[-0x7f8+0x3d5*-0x1+0xbd3]=_0xd7dd97[-0x1325+0xf2f*0x1+0x44*0xf]+_0x6645ff[-0x2387+-0x216*0x10+-0x1*-0x44ed],_0x22a8c6[-0xa6d+0xdea+0x1bb*-0x2]=_0xd7dd97[0xf53*0x1+-0x220d+0x12c1]+_0x6645ff[-0x1*-0x3a3+0xdb*0x27+-0x24f9],_0x22a8c6[0x1224*0x2+-0x46*-0x32+-0x31ec]=_0xd7dd97[0x1c6b+0x1f4b+-0x3bae*0x1]+_0x6645ff[0x1a31+0x6e9*-0x1+-0x268*0x8],_0x22a8c6[-0x26ef+-0x5e*0x59+0x3fb*0x12]=_0xd7dd97[0x12a4+-0xb5*-0x12+-0x1f55]+_0x6645ff[0x142a+0xa81+-0x2*0xf51],_0x22a8c6[-0x1ee0+-0x18d*-0x7+-0x1*-0x140f]=_0xd7dd97[0x1b6a+-0x163c+-0x1*0x524]+_0x6645ff[-0xe84+0x6e6*-0x2+0xe2d*0x2],_0x22a8c6[-0x132d+-0xf43*-0x1+0x3f5]=_0xd7dd97[0x1dbf+0x1*0xd82+-0x2b36]+_0x6645ff[0x763*-0x4+0x5db*-0x2+0x1*0x294d],_0x22a8c6[-0x2076+0x225*-0x7+-0xf*-0x32b]=_0xd7dd97[-0x598+-0x5*-0x380+-0xbdc]+_0x6645ff[0x3*0x823+0x4*0x139+-0x1*0x1d41],_0x22a8c6[0x10ff*0x2+-0x1*-0x31d+-0x1*0x250e]=_0xd7dd97[-0x16f7+0x14d8+0x22c]+_0x6645ff[-0x4d2*-0x3+-0x2*-0xe15+0x615*-0x7],_0x22a8c6[0x1*0x8db+0xbca*-0x1+0x11*0x2d]=_0xd7dd97[-0x2cd*-0x7+0xca2+-0x202f]+_0x6645ff[0x517*-0x5+0xe1+-0x18a0*-0x1],_0x22a8c6[-0x1fe7+-0x1d9f+0x3d95]=_0xd7dd97[-0x1*0x565+0x1*-0x190e+-0x1e82*-0x1]+_0x6645ff[-0xcb9+-0x16f*-0x2+-0x36*-0x2f],this;}['add'](_0x26303e){return this['add2'](this,_0x26303e);}['clone'](){const _0x3ba891=this['constructo'+'r'];return new _0x3ba891()['copy'](this);}['copy'](_0x148c85){const _0x5f1306=_0x148c85['data'],_0x2da8ce=this['data'];return _0x2da8ce[-0x5f6*-0x3+-0x396+-0x6*0x262]=_0x5f1306[-0x21a6+0xc90*0x1+0x1516],_0x2da8ce[0xcf9+0xc00*-0x3+-0x58*-0x43]=_0x5f1306[0x14eb+-0x619*0x5+-0x2b*-0x39],_0x2da8ce[-0x136*0xe+0xd88*-0x1+0x1e7e]=_0x5f1306[-0x394+-0x1b99+0x1f2f],_0x2da8ce[0x1*0x30e+0x127d+-0x6a*0x34]=_0x5f1306[0x2da+0x1efd+0x14*-0x1b1],_0x2da8ce[-0x11a4+0x3*-0x3f7+0x1d8d]=_0x5f1306[0x5*0xd3+-0x13*-0x113+-0x20b*0xc],_0x2da8ce[0x21b6+-0x24af+-0x1*-0x2fe]=_0x5f1306[0x1ab8+0x9*0x413+-0x3f5e],_0x2da8ce[0x9e7+0x2593*0x1+-0x2*0x17ba]=_0x5f1306[0x9f*-0x33+0x7*-0x4ca+-0x11b*-0x3b],_0x2da8ce[0xb7c+-0xe5+-0xa90]=_0x5f1306[0x2361*0x1+-0x1ca5+0x1*-0x6b5],_0x2da8ce[-0x1*0xca3+-0x8e7*-0x1+-0xf1*-0x4]=_0x5f1306[0xc6a+-0x1ca*-0xa+-0x5*0x60e],_0x2da8ce[0x3*0x5ae+0x1bb*0x11+-0x1736*0x2]=_0x5f1306[-0xeac+0x1625*-0x1+0x1*0x24da],_0x2da8ce[0x1*0x1803+0xd51+-0x25*0x102]=_0x5f1306[-0x13dc+0x15b3+-0x1cd],_0x2da8ce[0x11*0x162+0x411*0x9+-0x3c10]=_0x5f1306[-0x2*0x12d1+0xa23*-0x1+-0x66*-0x78],_0x2da8ce[0x97c+-0x135*-0xf+-0x1b8b]=_0x5f1306[0x25a9+0x15*-0x107+-0x100a],_0x2da8ce[-0x1c5*0x2+0x1285+0x5b*-0x2a]=_0x5f1306[-0x2438+-0x517+-0x2*-0x14ae],_0x2da8ce[0x285+0x25b2+-0x2829]=_0x5f1306[0xc36*0x3+0x183a+-0x2*0x1e67],_0x2da8ce[-0x535*0x3+-0x22b7*-0x1+0x1*-0x1309]=_0x5f1306[-0x153*0x5+-0x25b3+0x2c61],this;}['equals'](_0x1ee9e4){const _0x278659=this['data'],_0x2b0632=_0x1ee9e4['data'];return _0x278659[-0x9*-0x3e1+-0x139*-0x1d+-0x2*0x232f]===_0x2b0632[-0x1c3*0x3+0x1*0x3d7+0x172]&&_0x278659[0x1f*-0x7c+0x1d*-0x119+0xf9e*0x3]===_0x2b0632[0x5*-0x8a+-0x5b8*-0x2+-0x8bd*0x1]&&_0x278659[-0x1*0x16d3+0x58f*-0x5+0x5*0xa20]===_0x2b0632[0x17b7+0x849+-0x1ffe]&&_0x278659[-0x47*-0x83+0x4c5+-0x9d*0x43]===_0x2b0632[0x1cf3*-0x1+-0x9*0x243+0x9dd*0x5]&&_0x278659[0x21df+-0x4d*-0x28+-0x2b3*0x11]===_0x2b0632[-0x277*-0x1+0x1494+-0x9*0x28f]&&_0x278659[0xa01*0x1+-0xe38+-0x4*-0x10f]===_0x2b0632[-0xe08+0xfd*0x16+0x1*-0x7b1]&&_0x278659[-0x2484+-0xe0f*-0x1+0x167b]===_0x2b0632[0x2145+0x5*0x5e+0x7*-0x503]&&_0x278659[0x1a4c+0x4f1+0x5e*-0x55]===_0x2b0632[-0x2413*-0x1+-0x249+-0x21c3]&&_0x278659[0x1*-0x7f0+0xad*-0xb+0xf67]===_0x2b0632[-0x18d9+0x1624+0x2bd]&&_0x278659[-0x14f8+0x1a*0x6b+0x361*0x3]===_0x2b0632[0x22fc+-0xebe+0x2e3*-0x7]&&_0x278659[-0x1226+-0x1135+-0x11*-0x215]===_0x2b0632[0x3*-0x14c+-0x1*0x4d+0x43b]&&_0x278659[-0x1d21+-0x319+0x2ef*0xb]===_0x2b0632[0x398+-0x1748+0x13bb]&&_0x278659[-0x1*-0x68f+-0x1*0x11b6+0xb33]===_0x2b0632[0x1b4f+0x2*-0x66d+0xd9*-0x11]&&_0x278659[0x21d4+-0xf6d+-0x3a*0x51]===_0x2b0632[-0xb6*-0x2+-0x1787*-0x1+-0x18e6]&&_0x278659[0x1*0x251e+0x2594+-0x4aa4]===_0x2b0632[0x1*0x1e3b+-0x23b+-0x1bf2]&&_0x278659[0x17*0x132+-0x1f93+-0x6a*-0xa]===_0x2b0632[0x1e42+-0x1f2a+0xf7];}['isIdentity'](){const _0x28b7ff=this['data'];return _0x28b7ff[0x2*0x869+0x2628+-0x36fa]===-0x1c*0x31+-0x1049*0x1+0xad3*0x2&&_0x28b7ff[0x13e*-0x1+-0x786*0x5+-0x1*-0x26dd]===0x1675*-0x1+-0x5cc+-0x96b*-0x3&&_0x28b7ff[-0x14f*0xd+0x224f+0x1*-0x114a]===0x197b+0x148b+-0x2e06&&_0x28b7ff[-0x1ef1+-0x2234*-0x1+-0x340]===0x1002+-0x9*0x7+-0x1*0xfc3&&_0x28b7ff[-0x18d9+0x6a5*-0x3+0x2*0x1666]===0x1*-0x355+-0x1b1*-0x13+-0x6*0x4cd&&_0x28b7ff[0x19a2+-0x1*0xdba+-0xbe3]===-0x2330*-0x1+-0x1e23+-0x50c&&_0x28b7ff[-0x1430+0x26f5+-0x12bf]===-0x11*0x16b+0x67+0x17b4&&_0x28b7ff[0x33+0x1*0xb07+0xb33*-0x1]===-0x15ab*0x1+0x862*-0x2+0x266f&&_0x28b7ff[-0x16c2+0x655+0x1075*0x1]===-0x1*0x17d9+-0x12b*-0xb+0x100*0xb&&_0x28b7ff[-0x1a2c+0x3*0x7b4+0x319]===-0x19c3+0x1*-0x14f1+-0x31*-0xf4&&_0x28b7ff[0x1e16*0x1+-0x59*-0x2e+-0x2e0a]===-0x2356+0x2*-0xe8+-0x1*-0x2527&&_0x28b7ff[0x6da*-0x2+-0x1eb2+-0x1f*-0x16f]===-0x2401+-0x211a+0x3*0x1709&&_0x28b7ff[0x9*0x287+-0x1554+-0x15f]===-0x4a*-0x3f+-0x1e7d+0xc47&&_0x28b7ff[-0x21e*0x1+-0x2*0x950+-0x14cb*-0x1]===-0x172+-0x17cc+0x193e&&_0x28b7ff[0x1dc7+-0x2569+-0x29*-0x30]===-0x180d+0x1d06+-0x4f9&&_0x28b7ff[-0x4fe*0x1+0x276+0x297*0x1]===0x1*-0x3c7+-0xbcf+-0xf97*-0x1;}['mul2'](_0x538327,_0x2c9ed7){const _0x2e4d8=_0x538327['data'],_0x316b1b=_0x2c9ed7['data'],_0x3350d5=this['data'],_0x202a3f=_0x2e4d8[0x1ec*0x3+0x134a+-0x3*0x85a],_0x4aeada=_0x2e4d8[0x433+-0x734+0x37*0xe],_0x44944b=_0x2e4d8[-0xf2b+-0x1*0x12c1+-0x1*-0x21ee],_0x3a7510=_0x2e4d8[-0x295*0x1+-0x2*0x45d+0xb52],_0x515cb9=_0x2e4d8[0x76*-0xd+-0xa52*-0x1+-0x450],_0x239854=_0x2e4d8[-0x2ae+-0x3c*0x88+0x2293*0x1],_0xb00a8c=_0x2e4d8[-0x400+-0x2b8*0x4+0x1*0xee6],_0x2d89ea=_0x2e4d8[0x2*0x29+-0x21c1*0x1+0x2176],_0x3979a4=_0x2e4d8[0x23c+-0x25*-0x10d+-0x2915],_0x5c3223=_0x2e4d8[-0x394*0xa+-0x1*-0x14ca+0xf07],_0x1e8811=_0x2e4d8[-0x11*-0x24b+-0x1f94+-0x179*0x5],_0x3773af=_0x2e4d8[0x673*0x1+0xc9f*0x1+-0x1307],_0x1278e1=_0x2e4d8[0x1968+-0x57*-0x3a+-0x2d12],_0x4809ff=_0x2e4d8[0x859*-0x1+-0x214f+0x29b5],_0x47f7f1=_0x2e4d8[-0x6a6+0x254*0xd+-0x1790],_0x3569ff=_0x2e4d8[0x1*-0x10bb+-0xf4a+-0x4*-0x805];let _0x59b4a8,_0x2145d8,_0x4fdf06,_0x126ec9;return _0x59b4a8=_0x316b1b[0x1fff+0x3*0x99f+-0x3cdc],_0x2145d8=_0x316b1b[-0x1448*-0x1+-0xd03+-0x1f*0x3c],_0x4fdf06=_0x316b1b[-0x1d*-0xac+0xf6e+-0x22e8],_0x126ec9=_0x316b1b[0x19f5+-0x7ad+-0x1245],_0x3350d5[0x1aa7+-0x3a*0x13+-0x1659]=_0x202a3f*_0x59b4a8+_0x515cb9*_0x2145d8+_0x3979a4*_0x4fdf06+_0x1278e1*_0x126ec9,_0x3350d5[-0x1181+-0x25f2+-0x1*-0x3774]=_0x4aeada*_0x59b4a8+_0x239854*_0x2145d8+_0x5c3223*_0x4fdf06+_0x4809ff*_0x126ec9,_0x3350d5[0x41b*-0x5+0x1*0x47e+0x25*0x6f]=_0x44944b*_0x59b4a8+_0xb00a8c*_0x2145d8+_0x1e8811*_0x4fdf06+_0x47f7f1*_0x126ec9,_0x3350d5[-0x9*0xf9+0x1*-0x1516+0xeed*0x2]=_0x3a7510*_0x59b4a8+_0x2d89ea*_0x2145d8+_0x3773af*_0x4fdf06+_0x3569ff*_0x126ec9,_0x59b4a8=_0x316b1b[-0x12e8+0x17b7+-0x3*0x199],_0x2145d8=_0x316b1b[0x1*-0x869+-0x2059+-0x3b5*-0xb],_0x4fdf06=_0x316b1b[-0x1ce4+0x15fa+0x6f0],_0x126ec9=_0x316b1b[-0x2f3*0xa+0x161f+0x766],_0x3350d5[0x1*-0x1d4d+0x248f+-0x73e]=_0x202a3f*_0x59b4a8+_0x515cb9*_0x2145d8+_0x3979a4*_0x4fdf06+_0x1278e1*_0x126ec9,_0x3350d5[0xf1*0x27+-0x1*-0x10bd+-0x356f]=_0x4aeada*_0x59b4a8+_0x239854*_0x2145d8+_0x5c3223*_0x4fdf06+_0x4809ff*_0x126ec9,_0x3350d5[0x3*0x211+0x1*-0x1dcf+0x32*0x79]=_0x44944b*_0x59b4a8+_0xb00a8c*_0x2145d8+_0x1e8811*_0x4fdf06+_0x47f7f1*_0x126ec9,_0x3350d5[-0x1fa1+0x171d+0x88b]=_0x3a7510*_0x59b4a8+_0x2d89ea*_0x2145d8+_0x3773af*_0x4fdf06+_0x3569ff*_0x126ec9,_0x59b4a8=_0x316b1b[0xba+0x25*0x8b+-0x1*0x14c9],_0x2145d8=_0x316b1b[-0xe19+-0x1*0xa81+-0x1*-0x18a3],_0x4fdf06=_0x316b1b[0x1*-0xaa1+-0xd8+0x1*0xb83],_0x126ec9=_0x316b1b[0x1edd+-0x1*-0x1145+-0x3017],_0x3350d5[-0x343*0x7+-0x488+0x1b65]=_0x202a3f*_0x59b4a8+_0x515cb9*_0x2145d8+_0x3979a4*_0x4fdf06+_0x1278e1*_0x126ec9,_0x3350d5[0x2296+0xc81*0x1+-0x2f0e]=_0x4aeada*_0x59b4a8+_0x239854*_0x2145d8+_0x5c3223*_0x4fdf06+_0x4809ff*_0x126ec9,_0x3350d5[0x161a+0xe36+-0x2*0x1223]=_0x44944b*_0x59b4a8+_0xb00a8c*_0x2145d8+_0x1e8811*_0x4fdf06+_0x47f7f1*_0x126ec9,_0x3350d5[-0x8b7+-0x1*-0x23a2+-0x56*0x50]=_0x3a7510*_0x59b4a8+_0x2d89ea*_0x2145d8+_0x3773af*_0x4fdf06+_0x3569ff*_0x126ec9,_0x59b4a8=_0x316b1b[-0xb*-0x305+0x1142+-0x326d],_0x2145d8=_0x316b1b[0xc1f+0x1c63+0x2875*-0x1],_0x4fdf06=_0x316b1b[-0x9cc+-0xd1*0x1f+0x2329],_0x126ec9=_0x316b1b[0x137a+0x59*0x43+-0x2ab6*0x1],_0x3350d5[-0x10cc+-0x99+0x2f*0x5f]=_0x202a3f*_0x59b4a8+_0x515cb9*_0x2145d8+_0x3979a4*_0x4fdf06+_0x1278e1*_0x126ec9,_0x3350d5[-0x3*0x9e6+-0x194f*0x1+0x370e]=_0x4aeada*_0x59b4a8+_0x239854*_0x2145d8+_0x5c3223*_0x4fdf06+_0x4809ff*_0x126ec9,_0x3350d5[0x23ae+-0xd*0x128+0x4*-0x526]=_0x44944b*_0x59b4a8+_0xb00a8c*_0x2145d8+_0x1e8811*_0x4fdf06+_0x47f7f1*_0x126ec9,_0x3350d5[0xc7*-0xd+-0x8b5+0x12df]=_0x3a7510*_0x59b4a8+_0x2d89ea*_0x2145d8+_0x3773af*_0x4fdf06+_0x3569ff*_0x126ec9,this;}['mulAffine2'](_0x24e7de,_0x1db3df){const _0x7d0bc2=_0x24e7de['data'],_0x86014d=_0x1db3df['data'],_0x684ca=this['data'],_0x57589b=_0x7d0bc2[-0x1a7a+-0x198e+0x3408],_0x58c141=_0x7d0bc2[-0x3a2+0x12*0x9+0x301*0x1],_0x52f8de=_0x7d0bc2[0x2ab*0x2+-0x15d4+0x16*0xc0],_0x354493=_0x7d0bc2[0x2*-0x525+0x25d5+-0x1b87],_0x5d2296=_0x7d0bc2[-0x26ec+-0x57a*0x1+0x1*0x2c6b],_0x7a551b=_0x7d0bc2[-0x154b+-0x673*0x6+-0x1*-0x3c03],_0x199413=_0x7d0bc2[-0x1c0d+-0xa6f+0x2684],_0x14b1eb=_0x7d0bc2[0x1cf9*-0x1+0x1*-0x269+0x1f6b],_0xe51227=_0x7d0bc2[0x1d37+-0x1*0x24e2+0x1*0x7b5],_0x22744f=_0x7d0bc2[-0x1*-0x1d15+-0x13*-0x21+-0x9b*0x34],_0x38bb97=_0x7d0bc2[-0x1*-0x1979+0x4f*0x67+-0x65*0x91],_0xaadce4=_0x7d0bc2[-0x10c0+0x12b*-0x1b+0x3057];let _0x2d4dfa,_0x26e859,_0x4c1d6e;return _0x2d4dfa=_0x86014d[0xa*-0xd3+0x182d+0x1*-0xfef],_0x26e859=_0x86014d[0xd6d*-0x2+-0x23c5+0x3ea0],_0x4c1d6e=_0x86014d[0x1ef2*-0x1+0xab*-0x3+0xd*0x289],_0x684ca[0x7bc+-0x2e*-0x20+0x4*-0x35f]=_0x57589b*_0x2d4dfa+_0x354493*_0x26e859+_0x199413*_0x4c1d6e,_0x684ca[0x22b9+0xacf+-0x2d87]=_0x58c141*_0x2d4dfa+_0x5d2296*_0x26e859+_0x14b1eb*_0x4c1d6e,_0x684ca[-0x1653+0x24a5+0xe50*-0x1]=_0x52f8de*_0x2d4dfa+_0x7a551b*_0x26e859+_0xe51227*_0x4c1d6e,_0x684ca[0x1*-0x1731+0x13c5+-0x36f*-0x1]=-0x17e1*-0x1+0x157d+-0x2d5e,_0x2d4dfa=_0x86014d[0x29*0x29+-0xb*-0x18d+-0x179c],_0x26e859=_0x86014d[0x1d6*0x11+-0x166b+-0x8c6],_0x4c1d6e=_0x86014d[0x37e*0x8+-0x25ea+0xa00],_0x684ca[-0x14*0x5a+0xda2+0x2*-0x34b]=_0x57589b*_0x2d4dfa+_0x354493*_0x26e859+_0x199413*_0x4c1d6e,_0x684ca[-0x19eb+-0xacb+0x24bb]=_0x58c141*_0x2d4dfa+_0x5d2296*_0x26e859+_0x14b1eb*_0x4c1d6e,_0x684ca[0xa*-0x13d+-0xbb6+0x181e]=_0x52f8de*_0x2d4dfa+_0x7a551b*_0x26e859+_0xe51227*_0x4c1d6e,_0x684ca[-0x7c4+-0xcdf+0x14aa]=-0x2*-0xe87+-0x1*0xb8d+-0x1181,_0x2d4dfa=_0x86014d[-0xa11*-0x1+-0x429+-0x5e*0x10],_0x26e859=_0x86014d[0x1*-0xda5+0x12b5+-0x507],_0x4c1d6e=_0x86014d[-0x1b47*0x1+0x5*-0x27+0x1*0x1c14],_0x684ca[0x1cd*0x6+0xe56+-0x4*0x647]=_0x57589b*_0x2d4dfa+_0x354493*_0x26e859+_0x199413*_0x4c1d6e,_0x684ca[0x1*0x1f17+0x1*-0x21a8+0x12*0x25]=_0x58c141*_0x2d4dfa+_0x5d2296*_0x26e859+_0x14b1eb*_0x4c1d6e,_0x684ca[0xb11*-0x1+0xd39+0x1*-0x21e]=_0x52f8de*_0x2d4dfa+_0x7a551b*_0x26e859+_0xe51227*_0x4c1d6e,_0x684ca[-0x185b+-0x1*0x1003+0x2869]=0x217c+-0x2009+-0x173,_0x2d4dfa=_0x86014d[0x4f*0xf+-0x1*0x8db+-0x446*-0x1],_0x26e859=_0x86014d[-0x1d60+0x1a*0x56+0x14b1],_0x4c1d6e=_0x86014d[0x14*-0x91+0x6*0x43d+-0x1d*0x7c],_0x684ca[-0x2545+0x1*0x1d91+-0x3e0*-0x2]=_0x57589b*_0x2d4dfa+_0x354493*_0x26e859+_0x199413*_0x4c1d6e+_0x22744f,_0x684ca[0x412+0x2*-0xbbf+0x1379]=_0x58c141*_0x2d4dfa+_0x5d2296*_0x26e859+_0x14b1eb*_0x4c1d6e+_0x38bb97,_0x684ca[0x7*-0x32b+-0x26b8+0x3cf3]=_0x52f8de*_0x2d4dfa+_0x7a551b*_0x26e859+_0xe51227*_0x4c1d6e+_0xaadce4,_0x684ca[-0x2*-0x2cf+0x3*0xc3b+0x34*-0xd0]=0x1578+-0x1*-0x103+-0x167a,this;}['mul'](_0x2f1f25){return this['mul2'](this,_0x2f1f25);}['transformP'+'oint'](_0x43fdbb,_0x2d777a=new D()){const _0x569ff4=this['data'],{x:_0x2e411a,y:_0x2089f5,z:_0x81b0e2}=_0x43fdbb;return _0x2d777a['x']=_0x2e411a*_0x569ff4[-0x1281+-0x4*0x244+0x1b91]+_0x2089f5*_0x569ff4[-0x1289*-0x2+-0x279*-0x3+-0x4f1*0x9]+_0x81b0e2*_0x569ff4[0x269*-0x1+0x1*0x22c7+-0x1*0x2056]+_0x569ff4[0x1*0x1267+-0x63b+0x1*-0xc20],_0x2d777a['y']=_0x2e411a*_0x569ff4[0x3*0x2e9+-0xc77+0x13f*0x3]+_0x2089f5*_0x569ff4[-0x1*-0x1cd3+0x776+-0x2444]+_0x81b0e2*_0x569ff4[0x2175*0x1+0x4*0x170+-0x272c]+_0x569ff4[-0x11*-0x8e+-0x47b*-0x1+0x4*-0x377],_0x2d777a['z']=_0x2e411a*_0x569ff4[-0x73+0x31b*0x7+-0x1548]+_0x2089f5*_0x569ff4[0x155b+0x1*0x2029+-0x357e]+_0x81b0e2*_0x569ff4[0x12a*0x5+0x17a7+-0x5e3*0x5]+_0x569ff4[-0x217c*-0x1+0x1*0x9b3+-0x2b21],_0x2d777a;}['transformV'+'ector'](_0x9fc8e9,_0x2dfd1c=new D()){const _0x118d48=this['data'],{x:_0x48d76a,y:_0xb941a5,z:_0x42b802}=_0x9fc8e9;return _0x2dfd1c['x']=_0x48d76a*_0x118d48[-0x89*-0x43+0x1b55*-0x1+-0x886]+_0xb941a5*_0x118d48[0x21e8+0x3a1*0x4+-0x3068*0x1]+_0x42b802*_0x118d48[-0x1*-0x12d9+-0x1273+-0x5e],_0x2dfd1c['y']=_0x48d76a*_0x118d48[0x71d*0x1+0x26f2+-0x7ad*0x6]+_0xb941a5*_0x118d48[-0x1*0x8f4+-0x12b2+0x1bab]+_0x42b802*_0x118d48[-0x14b3+0x8*-0x293+0x2954],_0x2dfd1c['z']=_0x48d76a*_0x118d48[0x7f*0x46+-0x1946+0x4e*-0x1f]+_0xb941a5*_0x118d48[-0xa13*0x1+0x21f8+-0x17df]+_0x42b802*_0x118d48[-0x1198+-0x1*0x151f+0x26c1],_0x2dfd1c;}['transformV'+'ec4'](_0x188079,_0x205dff=new re()){const _0x452ab7=this['data'],{x:_0x136d25,y:_0x412401,z:_0x1d8382,w:_0x1912a1}=_0x188079;return _0x205dff['x']=_0x136d25*_0x452ab7[-0x815*0x3+0x1961+-0x122]+_0x412401*_0x452ab7[-0x36e+-0xbf*-0x8+-0x143*0x2]+_0x1d8382*_0x452ab7[0x2476+-0x12*0x189+-0x8cc*0x1]+_0x1912a1*_0x452ab7[0x885+0xef7+-0x1770],_0x205dff['y']=_0x136d25*_0x452ab7[-0x1087+-0x8*-0x401+-0xf80]+_0x412401*_0x452ab7[0x2201+-0xb90+-0x19a*0xe]+_0x1d8382*_0x452ab7[0x13a*0x12+-0x4d5*0x2+-0xc61]+_0x1912a1*_0x452ab7[0x23b*0xb+-0x1*-0xc73+-0x24ef],_0x205dff['z']=_0x136d25*_0x452ab7[0x16*0x74+0xe6c+-0x1862]+_0x412401*_0x452ab7[-0x29*0xac+0x173f+0x453]+_0x1d8382*_0x452ab7[0x26bb+-0x40c*0x6+0xd9*-0x11]+_0x1912a1*_0x452ab7[-0x16e*0x1+-0x6*-0x2d9+-0xf9a],_0x205dff['w']=_0x136d25*_0x452ab7[0x98a+0x1*0x18b9+0x890*-0x4]+_0x412401*_0x452ab7[-0x21b1+0x7*-0xc7+-0x191*-0x19]+_0x1d8382*_0x452ab7[0x4*0x869+0x1be2+-0x1*0x3d7b]+_0x1912a1*_0x452ab7[-0x1f*0x97+0x7fb*-0x1+0x1*0x1a53],_0x205dff;}['setLookAt'](_0x325a36,_0x3d086a,_0x53404c){ei['sub2'](_0x325a36,_0x3d086a)['normalize'](),Js['copy'](_0x53404c)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x7209ac=this['data'];return _0x7209ac[-0x7b1+-0x6aa*-0x4+-0x12f7]=Os['x'],_0x7209ac[-0x3b8*-0x4+-0x2459+0x157a]=Os['y'],_0x7209ac[-0x4*-0x55f+0x1c8+0x1*-0x1742]=Os['z'],_0x7209ac[-0xe2*-0xb+0x787*-0x3+0xc2*0x11]=-0x15*-0xb7+-0x2008+0x1105*0x1,_0x7209ac[0x11*-0x170+-0x1*0x1125+-0x2999*-0x1]=Js['x'],_0x7209ac[-0xfd+-0x5*-0x272+-0xb38]=Js['y'],_0x7209ac[0xb5*-0x2b+-0x19d6+0x3843]=Js['z'],_0x7209ac[0x212a+-0x25b+-0x628*0x5]=0x1*-0x1fe5+0x1bab+0x43a,_0x7209ac[-0xacb+0x1dcd+-0x12fa]=ei['x'],_0x7209ac[-0x5b3+-0x29+0x1*0x5e5]=ei['y'],_0x7209ac[0x8c*0x3f+0x7f2+-0x4*0xa97]=ei['z'],_0x7209ac[-0x5*0x59f+-0x5fb+0x1*0x2221]=-0x15*0x16a+-0x117a+0x2f2c*0x1,_0x7209ac[0x449*-0x4+-0x1*-0x67f+0xab1]=_0x325a36['x'],_0x7209ac[-0x569*0x2+-0x4d7*-0x1+0x608]=_0x325a36['y'],_0x7209ac[0x221d+-0x1*-0x8b7+-0x2ac6]=_0x325a36['z'],_0x7209ac[0x293*-0x4+0x8d*-0xd+-0x3b*-0x4c]=-0x1*-0x2a2+0x9a4*0x4+0x2931*-0x1,this;}['setFrustum'](_0x3dc3e8,_0x19fbc6,_0x41857e,_0x93b6b5,_0xd8e249,_0x40591c){const _0x5407ae=(-0x4*-0x661+-0x23f2+0xa70)*_0xd8e249,_0x1d46de=_0x19fbc6-_0x3dc3e8,_0x25bfff=_0x93b6b5-_0x41857e,_0x568c61=_0x40591c-_0xd8e249,_0xe3ec55=this['data'];return _0xe3ec55[-0x6*-0x24b+0x2b*0xbb+0x2d2b*-0x1]=_0x5407ae/_0x1d46de,_0xe3ec55[0x16f7*-0x1+-0x785+-0x5*-0x619]=-0x126c+0x923*0x1+0x1*0x949,_0xe3ec55[0x1*-0xfd3+-0x2*0x61f+0x1c13]=0xc4d*-0x1+-0xf4f*0x1+0x1b9c,_0xe3ec55[-0xa*0x2cc+0x1102+0xaf9]=-0xc9b*0x2+0x2147+-0x7*0x127,_0xe3ec55[0x1*-0x1277+-0x1e1c+0x1*0x3097]=-0x1cc1+0x271*0x8+0x939,_0xe3ec55[-0x7*-0x2ee+-0x2522+0x10a5]=_0x5407ae/_0x25bfff,_0xe3ec55[-0x1b73+0x1*0x4b3+-0x5*-0x48e]=0xc9*0xb+0xf6d*0x2+-0xb*0x397,_0xe3ec55[-0x158*-0x1d+-0x1*-0x1e1d+0x2*-0x2287]=0x1fcb+-0x2418+0x44d,_0xe3ec55[0x1*-0x7eb+-0x266b+0x2e5e]=(_0x19fbc6+_0x3dc3e8)/_0x1d46de,_0xe3ec55[0x7ab*-0x3+0x1f93+0x5*-0x1b5]=(_0x93b6b5+_0x41857e)/_0x25bfff,_0xe3ec55[-0xe4f+-0xf*0x1b6+0x2803*0x1]=(-_0x40591c-_0xd8e249)/_0x568c61,_0xe3ec55[0xc0c+0x11be+-0x1dbf*0x1]=-(-0xb*0x337+-0x1*0x1cbd+-0x1*-0x401b),_0xe3ec55[0x22e1+0x9df+-0x2cb4]=-0x1488+0x255c+-0x86a*0x2,_0xe3ec55[-0x179+0x125b+0x1*-0x10d5]=-0x87*0x20+0x1ee*-0x9+0x223e*0x1,_0xe3ec55[0x92b*-0x1+0x1*0x8f0+0x49]=-_0x5407ae*_0x40591c/_0x568c61,_0xe3ec55[0x1197+0x13*-0x21+-0xf15]=-0x1b13+-0x1463+0x1*0x2f76,this;}['setPerspec'+'tive'](_0xa432c8,_0x1a9d27,_0xeb68,_0x2b9644,_0x288528){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0xa432c8,_0x1a9d27,_0xeb68,_0x288528),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0xeb68,_0x2b9644);}['setOrtho'](_0x5b0265,_0x5a2d85,_0x2ad351,_0x38de96,_0x58bfe3,_0x197f35){const _0x4b30ef=this['data'];return _0x4b30ef[0xc99+0xe28+0x2f9*-0x9]=(-0x2b*0xd2+0x17b6*0x1+-0xb92*-0x1)/(_0x5a2d85-_0x5b0265),_0x4b30ef[-0x1a6e+0x1640+0x42f]=0x27*0x79+-0x1*0x1898+0x629*0x1,_0x4b30ef[-0x7*-0x2dd+-0x1b86+0x3*0x27f]=-0xe16+0x35*-0x51+0x1edb,_0x4b30ef[0x16b*0x7+-0xf96+0xc*0x79]=0x14*-0x97+0x19*0x13f+-0x135b,_0x4b30ef[-0xf13+-0x727+0x163e]=0xa9*0x13+-0x1f49*-0x1+-0x2bd4,_0x4b30ef[-0x2af*0x4+0x22*-0xe6+-0x1*-0x294d]=(-0x1025+0x1*0x1455+-0x42e)/(_0x38de96-_0x2ad351),_0x4b30ef[0x666+-0x4e*-0x1b+-0xe9a]=-0x2*-0xaf3+0x8f9*-0x3+-0x505*-0x1,_0x4b30ef[0x441*-0x5+0x1*-0x26e5+0x3c31]=-0x1231+-0x1*0x7f9+0x1a2a,_0x4b30ef[0x1*0xe51+0x10*-0x24b+0x1667]=-0x1*0x139a+0x95*-0x1+0x142f,_0x4b30ef[0xa3e+-0x184d+-0xa4*-0x16]=0x16ff*-0x1+0x1aa1+-0xba*0x5,_0x4b30ef[0x95*-0x3+0x60a*0x1+0x1*-0x441]=-(-0x9*0x43f+0x107*0x1f+0x660)/(_0x197f35-_0x58bfe3),_0x4b30ef[0x2f7+-0x8d2+0x5e6]=0x22*0x1+-0xe8b+0xe69,_0x4b30ef[0x1cd9*-0x1+0x54a+0x179b]=-(_0x5a2d85+_0x5b0265)/(_0x5a2d85-_0x5b0265),_0x4b30ef[-0x3*-0x7a5+0xd*-0x22+-0x2a5*0x8]=-(_0x38de96+_0x2ad351)/(_0x38de96-_0x2ad351),_0x4b30ef[0x17fb*-0x1+0x91*-0x22+0x2b4b]=-(_0x197f35+_0x58bfe3)/(_0x197f35-_0x58bfe3),_0x4b30ef[0x3*-0xac0+0x12e1+0x2*0x6b7]=-0x55*0x17+0x44*0x20+-0xdc,this;}['setFromAxi'+'sAngle'](_0x29b1a7,_0x1a4cea){_0x1a4cea*=Y['DEG_TO_RAD'];const {x:_0x472b21,y:_0x5c6ede,z:_0xc107b4}=_0x29b1a7,_0x33c232=Math['cos'](_0x1a4cea),_0x212284=Math['sin'](_0x1a4cea),_0x1c3ebf=-0x140f+-0x24a8+0x38b8-_0x33c232,_0x431e68=_0x1c3ebf*_0x472b21,_0x5d6fc9=_0x1c3ebf*_0x5c6ede,_0x5ef46b=this['data'];return _0x5ef46b[-0x954+0x913*-0x1+0x1267]=_0x431e68*_0x472b21+_0x33c232,_0x5ef46b[-0xe*-0xd+0x6*-0x2ff+0x1*0x1145]=_0x431e68*_0x5c6ede+_0x212284*_0xc107b4,_0x5ef46b[0x1fe*-0x3+0x22b+0x1*0x3d1]=_0x431e68*_0xc107b4-_0x212284*_0x5c6ede,_0x5ef46b[0x16de+-0x1bb6+-0x71*-0xb]=-0x1*-0x1b4d+0x1707+-0x3254,_0x5ef46b[0x1*0x2485+0x130a*0x1+0xf1*-0x3b]=_0x431e68*_0x5c6ede-_0x212284*_0xc107b4,_0x5ef46b[-0x38b*-0x1+-0x4d*0x3d+0xed3]=_0x5d6fc9*_0x5c6ede+_0x33c232,_0x5ef46b[0x1a16+-0x5e6+-0x142a]=_0x5d6fc9*_0xc107b4+_0x212284*_0x472b21,_0x5ef46b[-0xbed+0x21af*0x1+-0x1*0x15bb]=-0x1*-0x24a9+-0x2249*-0x1+-0x3f1*0x12,_0x5ef46b[-0x22bc+0x1468+0x2*0x72e]=_0x431e68*_0xc107b4+_0x212284*_0x5c6ede,_0x5ef46b[0x1*0x10f3+0x1eff*-0x1+0xe15]=_0x5d6fc9*_0xc107b4-_0x472b21*_0x212284,_0x5ef46b[-0x1659+-0x9d6*0x1+0x2039*0x1]=_0x1c3ebf*_0xc107b4*_0xc107b4+_0x33c232,_0x5ef46b[0x1*-0xf3a+0x923*-0x1+-0x30d*-0x8]=0x734*0x4+-0x1*0xa65+0xcd*-0x17,_0x5ef46b[-0x4*0x970+0x25b8+-0x5*-0x4]=-0x299*-0x5+-0x10cb+0x3ce,_0x5ef46b[-0x427*0x1+-0x7d*-0xd+-0x225]=-0x1*-0x1fde+0x644+0x2622*-0x1,_0x5ef46b[-0x2*0x3+0x1438+-0x2*0xa12]=-0x257*-0x6+-0x24f8+0x496*0x5,_0x5ef46b[0x1b*0xb2+0x55e+-0x1815]=-0x125e+0xb20+0x73f,this;}['setTransla'+'te'](_0x3702c1,_0x38fe5f,_0x1a066e){const _0x40f3be=this['data'];return _0x40f3be[-0x12*0x63+0x1da4+0xb57*-0x2]=0xe3c+0x1b2+-0x3*0x54f,_0x40f3be[-0x2*0xd93+-0x1093*0x2+0x1*0x3c4d]=0x9bf*-0x1+-0x10*0x1d+0xb8f,_0x40f3be[0xba*0xe+0x6*0x3b5+0x2*-0x1034]=0x5*0x3ea+-0x1*-0x1025+-0x23b7,_0x40f3be[-0x254*0xd+-0x3*-0x2a5+0x1658]=-0x641+0x51d+-0x2*-0x92,_0x40f3be[0x1b3c+0x1e11+-0x3949]=-0x43b+0x4*-0x248+0xd5b,_0x40f3be[0x24bc+0x1*-0xd3f+-0x5de*0x4]=-0x319+-0x11b9+-0x6f1*-0x3,_0x40f3be[-0x1aaa+-0x1*-0x10c9+0xa9*0xf]=0x981*-0x1+-0x1*-0x255d+-0x1bdc*0x1,_0x40f3be[0x1997+-0x20eb+0x75b]=-0x9*0x1f3+0x93*0x42+-0x145b,_0x40f3be[0x4*0x31+-0xd40+0xc84]=-0x568+-0x1*0x124+0x68c,_0x40f3be[-0x1142*0x1+-0x2*-0x8ab+-0xb]=0x3*0xa4d+0x2d5+-0x21bc,_0x40f3be[0x1*0x1dde+-0x1fe9+0x215]=-0x14d3+-0x4*0x622+0x2d5c,_0x40f3be[0x5ee+0x11df+-0x17c2]=-0x2dc+-0xc*-0x228+-0x1704,_0x40f3be[0x3b*-0x73+0xee*0x17+-0x31*-0x1b]=_0x3702c1,_0x40f3be[0x662+-0x11c*-0x1+0x7f*-0xf]=_0x38fe5f,_0x40f3be[0x1*-0x14d5+-0x1*0x3fd+-0x4*-0x638]=_0x1a066e,_0x40f3be[0x8d8+0x1*-0x1e04+0x153b]=-0x3*-0x21d+0x15e9+0x7*-0x409,this;}['setScale'](_0x17831d,_0x13e5b5,_0x45d03b){const _0x358d55=this['data'];return _0x358d55[-0x6*-0x181+0x11a3+-0xaf*0x27]=_0x17831d,_0x358d55[-0xc7b+-0x1*0x1bac+0x2828]=0x53*0x52+-0xee1*-0x1+-0x2977,_0x358d55[-0x206f+-0x1756+-0x83*-0x6d]=0x421*-0x1+-0x12c6+0xb*0x215,_0x358d55[-0x36f+-0xeeb+-0x1*-0x125d]=-0x321*-0x6+0x21c7+-0x1*0x348d,_0x358d55[0x24a9+-0x20c0+-0x3e5]=0x1*-0x1357+0xf0d*0x1+0x44a,_0x358d55[0x1dda*-0x1+0x3f*0x3+0x1d22]=_0x13e5b5,_0x358d55[0x2*-0xde5+-0xcf6+-0x11*-0x266]=0x1*-0xbe9+-0x1*-0x2201+-0x1618,_0x358d55[-0x985+-0xa*-0x339+-0x16ae]=0x1250+-0xde7*0x1+0x1*-0x469,_0x358d55[0x1*0x138b+0x490+-0x1813]=0x2*0x1003+-0x80f+0x7fd*-0x3,_0x358d55[0x59*0x1a+0x10*0x269+-0x7b*0x63]=0x1*0x1201+0x6c0+-0x1*0x18c1,_0x358d55[0x51*0xe+-0x4*-0x37f+-0x1260]=_0x45d03b,_0x358d55[0x1*0x147+-0x189f+0x1763]=0xc1*-0xe+0x6*0x14d+-0x2c0*-0x1,_0x358d55[0x19e4+-0x1405+0x5d3*-0x1]=-0x91d+0x23ce+0x1*-0x1ab1,_0x358d55[0x1ecf+-0x8f4+-0x15ce*0x1]=0x1aa6+0x20+-0x1ac6,_0x358d55[0x8*0x360+-0xae2+-0x202*0x8]=-0x12b7+0x1*-0x2c9+-0xac0*-0x2,_0x358d55[-0x208d+-0x2*-0x1091+-0x86]=0x782*0x1+0x7*0x584+-0x2e1d,this;}['setViewpor'+'t'](_0x2cfe40,_0x121ac8,_0x59720a,_0x33f7d2){const _0x2d5e4b=this['data'];return _0x2d5e4b[-0x2092+0x1bbe+0x4d4]=_0x59720a*(0x18ad+-0x1f*-0xd3+0x1*-0x323a+0.5),_0x2d5e4b[0x581+0x19*0x13f+-0x24a7]=0x1*-0xbbf+0xb*0x229+-0xc04,_0x2d5e4b[-0x3*-0x4f6+0x1e*0x4+0x1*-0xf58]=0x183*0xf+0xa*-0x2ec+0x68b,_0x2d5e4b[-0x12*-0x5c+0x25e+-0x8d3]=0x1cd7+-0x1108+-0xbcf,_0x2d5e4b[-0x541*-0x6+0x1c33*-0x1+-0x34f]=-0x20e4+0x369*0x7+0x905,_0x2d5e4b[0x1567*-0x1+-0x1c2e+0x319a]=_0x33f7d2*(-0x10b1*-0x2+-0x1*-0x23ae+-0x4510+0.5),_0x2d5e4b[-0x1f8e+-0xd07+0x2c9b]=0xb*-0x13d+0x14ff+0x10*-0x76,_0x2d5e4b[-0xa0*0x5+0x5d*-0x5+-0xc*-0x6a]=-0x22f0+-0xc*-0x2b+0xc4*0x2b,_0x2d5e4b[-0x1f7c+-0x12a5*-0x2+-0x2*0x2e3]=-0x21d5+0x230f+0x1*-0x13a,_0x2d5e4b[0x110*0x10+0xd14+-0x1e0b*0x1]=0x223d+0x1f0b+0x829*-0x8,_0x2d5e4b[-0x1*-0x2521+-0x1*-0x1131+-0x3648]=-0x25c+-0x1c4f*-0x1+-0x19f3+0.5,_0x2d5e4b[-0xce*-0xc+0x1*0x718+0x5b*-0x2f]=-0xd87*-0x1+-0x8e3+-0x4a4,_0x2d5e4b[-0x33*-0xa7+0x903*0x1+-0x1*0x2a3c]=_0x2cfe40+_0x59720a*(-0x1c13+0x11*-0x60+0x2273+0.5),_0x2d5e4b[-0x439*0x1+-0x3*0x43b+0x1*0x10f7]=_0x121ac8+_0x33f7d2*(-0x21ec+0x640+-0x4*-0x6eb+0.5),_0x2d5e4b[0x1*-0x1523+-0x1859+0x2d8a]=0x1430+-0x3aa+-0xa*0x1a7+0.5,_0x2d5e4b[0x1a0f+-0x1ed2+-0x269*-0x2]=-0x2111+0xbe4+-0x2*-0xa97,this;}['setReflect'+'ion'](_0x2fe83c,_0x481c6e){const _0x4ebd5a=_0x2fe83c['x'],_0x2a57f9=_0x2fe83c['y'],_0x4ce1d1=_0x2fe83c['z'],_0x4f3673=this['data'];return _0x4f3673[-0x19e3+0x1d5d*-0x1+-0x22*-0x1a0]=-0xd47+0x12fe+0x22*-0x2b-(-0x7c*0x16+0x1*-0x1fd+-0x4f*-0x29)*_0x4ebd5a*_0x4ebd5a,_0x4f3673[-0x1827+-0x11*0x94+0x74*0x4b]=-(0x4c*0x43+0x1e98+0x7*-0x736)*_0x4ebd5a*_0x2a57f9,_0x4f3673[0x1289+-0x100d*0x2+0xd93]=-(0x1*0xfd1+-0xf09+-0xc6)*_0x4ebd5a*_0x4ce1d1,_0x4f3673[-0x1246*-0x1+-0x7*-0x175+-0x1c76]=-0x1*-0xe55+0x3*0x9dc+-0xea3*0x3,_0x4f3673[0x21af+0x567+-0x2712]=-(-0xb*0x24b+-0x1d88+-0x36c3*-0x1)*_0x4ebd5a*_0x2a57f9,_0x4f3673[0xc1*-0x2d+-0x4e4+0x3*0xcf2]=0xecc+-0x23*0x23+-0xa02-(0x1bc+0x7b2*0x5+-0x7c*0x53)*_0x2a57f9*_0x2a57f9,_0x4f3673[0x1038+-0x115a*0x1+-0x94*-0x2]=-(-0x31*0x4d+-0x252c+-0x1*-0x33eb)*_0x2a57f9*_0x4ce1d1,_0x4f3673[-0x3*0x6f7+-0x162f+-0x2b1b*-0x1]=-0x1a03*0x1+0x15a6*-0x1+-0x53*-0x93,_0x4f3673[-0x26*0x51+0xc66+-0x58]=-(-0xe5+0xfed+-0xf06)*_0x4ebd5a*_0x4ce1d1,_0x4f3673[0x5fb+-0x46a+-0x188]=-(-0x1c4b+-0x78f+-0x33*-0xb4)*_0x2a57f9*_0x4ce1d1,_0x4f3673[-0x15cc+-0x286+0x185c]=0x1f3e+-0x1b88+-0x3b5-(-0x1028*0x1+-0x71*0x46+0x2f10)*_0x4ce1d1*_0x4ce1d1,_0x4f3673[-0x1a15+0x11*0x2f+0x1701]=0x247*0x11+-0x12e9*-0x1+0x4*-0xe68,_0x4f3673[-0x1494+-0x2*-0x8f0+0x58*0x8]=-(0xa7*0x7+-0x1*-0x1f79+-0x2408)*_0x4ebd5a*_0x481c6e,_0x4f3673[-0x1aef+-0x528*-0x1+0x15d4]=-(0x1536+-0x21b5+0xc81)*_0x2a57f9*_0x481c6e,_0x4f3673[0x125a+-0x74b*-0x1+-0x1997*0x1]=-(-0x25ab+-0x1*-0x50e+-0x7*-0x4a9)*_0x4ce1d1*_0x481c6e,_0x4f3673[-0x1*-0x1dc3+0x20d0+-0x2*0x1f42]=0x1db7+0x89b+-0x1*0x2651,this;}['invert'](_0x43e00d=this){const _0x1a562b=_0x43e00d['data'],_0x1ab89f=_0x1a562b[0x593*-0x5+-0x1*0x2221+0x3e00],_0x5c1c2d=_0x1a562b[0xde4+0x12f*0x5+-0x13ce],_0x48e74b=_0x1a562b[0xb2c+-0x7b*0x4e+0x34a*0x8],_0x399684=_0x1a562b[-0x22de+-0x1*-0x2701+-0x420],_0x50bad3=_0x1a562b[-0x1f30+-0x9c6+0x28fa],_0x57f0ea=_0x1a562b[0x1*0x21bc+-0x1dd6+0x3*-0x14b],_0x2efdbc=_0x1a562b[0x1*-0x155+-0x1*0x164f+-0xd*-0x1d2],_0x19961d=_0x1a562b[-0x3a6+0x13d6+0x1*-0x1029],_0xf00804=_0x1a562b[-0x1c7a+0xcdc+0x2*0x7d3],_0x63947e=_0x1a562b[-0x736+0x14be+-0x1*0xd7f],_0x16faae=_0x1a562b[0x1a0d+-0xb2*0xe+-0x1047*0x1],_0xd955c9=_0x1a562b[-0x150a+0x1*-0x43e+0x1953],_0xe4315a=_0x1a562b[-0x444+0x1df1+-0x19a1],_0x5c6a16=_0x1a562b[-0x35*-0x2f+0x159a+-0x1f48],_0x43f09f=_0x1a562b[0xf*0x3d+-0xdf1+0xa6c],_0x55b5cf=_0x1a562b[-0x11cb+-0x1856+0x2a30],_0x11458e=_0x1ab89f*_0x57f0ea-_0x5c1c2d*_0x50bad3,_0x249a95=_0x1ab89f*_0x2efdbc-_0x48e74b*_0x50bad3,_0x502994=_0x1ab89f*_0x19961d-_0x399684*_0x50bad3,_0x5ac184=_0x5c1c2d*_0x2efdbc-_0x48e74b*_0x57f0ea,_0x441eb4=_0x5c1c2d*_0x19961d-_0x399684*_0x57f0ea,_0x25b420=_0x48e74b*_0x19961d-_0x399684*_0x2efdbc,_0x212d10=_0xf00804*_0x5c6a16-_0x63947e*_0xe4315a,_0x4251d2=_0xf00804*_0x43f09f-_0x16faae*_0xe4315a,_0x5d9777=_0xf00804*_0x55b5cf-_0xd955c9*_0xe4315a,_0x49b5f7=_0x63947e*_0x43f09f-_0x16faae*_0x5c6a16,_0x49ef63=_0x63947e*_0x55b5cf-_0xd955c9*_0x5c6a16,_0x51a6d2=_0x16faae*_0x55b5cf-_0xd955c9*_0x43f09f,_0x272914=_0x11458e*_0x51a6d2-_0x249a95*_0x49ef63+_0x502994*_0x49b5f7+_0x5ac184*_0x5d9777-_0x441eb4*_0x4251d2+_0x25b420*_0x212d10;if(_0x272914===-0x1c74+0x502*-0x2+0x2678)this['setIdentit'+'y']();else{const _0x52a5c2=(-0x1a5+0x237b+-0x21d5)/_0x272914,_0x30da23=this['data'];_0x30da23[-0x3c4*0x7+0x236c+-0x910]=(_0x57f0ea*_0x51a6d2-_0x2efdbc*_0x49ef63+_0x19961d*_0x49b5f7)*_0x52a5c2,_0x30da23[-0x228d+0x7*-0x329+0x38ad]=(-_0x5c1c2d*_0x51a6d2+_0x48e74b*_0x49ef63-_0x399684*_0x49b5f7)*_0x52a5c2,_0x30da23[-0xeb2+0x201f+0xd*-0x157]=(_0x5c6a16*_0x25b420-_0x43f09f*_0x441eb4+_0x55b5cf*_0x5ac184)*_0x52a5c2,_0x30da23[-0x1*-0x23df+-0x2002+-0x3da]=(-_0x63947e*_0x25b420+_0x16faae*_0x441eb4-_0xd955c9*_0x5ac184)*_0x52a5c2,_0x30da23[0x12a3+0x8e0+-0x1b7f]=(-_0x50bad3*_0x51a6d2+_0x2efdbc*_0x5d9777-_0x19961d*_0x4251d2)*_0x52a5c2,_0x30da23[-0x1*-0x871+-0x1318+0x2*0x556]=(_0x1ab89f*_0x51a6d2-_0x48e74b*_0x5d9777+_0x399684*_0x4251d2)*_0x52a5c2,_0x30da23[0xe*0x72+-0x1b01+0x14cb]=(-_0xe4315a*_0x25b420+_0x43f09f*_0x502994-_0x55b5cf*_0x249a95)*_0x52a5c2,_0x30da23[0x1a66+-0x4ed+0xa*-0x225]=(_0xf00804*_0x25b420-_0x16faae*_0x502994+_0xd955c9*_0x249a95)*_0x52a5c2,_0x30da23[0x53c+0x24b0*0x1+-0x29e4]=(_0x50bad3*_0x49ef63-_0x57f0ea*_0x5d9777+_0x19961d*_0x212d10)*_0x52a5c2,_0x30da23[-0x878+-0x125c+-0x1add*-0x1]=(-_0x1ab89f*_0x49ef63+_0x5c1c2d*_0x5d9777-_0x399684*_0x212d10)*_0x52a5c2,_0x30da23[-0x176b+0x122f+0xa*0x87]=(_0xe4315a*_0x441eb4-_0x5c6a16*_0x502994+_0x55b5cf*_0x11458e)*_0x52a5c2,_0x30da23[-0x123d+0x1*0x9a3+0x1*0x8a5]=(-_0xf00804*_0x441eb4+_0x63947e*_0x502994-_0xd955c9*_0x11458e)*_0x52a5c2,_0x30da23[0x232c+0x187+-0x24a7]=(-_0x50bad3*_0x49b5f7+_0x57f0ea*_0x4251d2-_0x2efdbc*_0x212d10)*_0x52a5c2,_0x30da23[-0x1d98+-0x214b+0x3ef0]=(_0x1ab89f*_0x49b5f7-_0x5c1c2d*_0x4251d2+_0x48e74b*_0x212d10)*_0x52a5c2,_0x30da23[0x22b2+-0x247d+-0x1d9*-0x1]=(-_0xe4315a*_0x5ac184+_0x5c6a16*_0x249a95-_0x43f09f*_0x11458e)*_0x52a5c2,_0x30da23[-0xe20+-0x1386*-0x1+0x1*-0x557]=(_0xf00804*_0x5ac184-_0x63947e*_0x249a95+_0x16faae*_0x11458e)*_0x52a5c2;}return this;}['set'](_0x405f9b){const _0x4e93d8=this['data'];return _0x4e93d8[0xd*-0x1c3+-0x26dd+0x3dc4]=_0x405f9b[0x97a+-0x1a57+0x10dd],_0x4e93d8[0x23db+0x1f51*0x1+-0x432b]=_0x405f9b[0x2398+0x158d+-0x3924],_0x4e93d8[0xa1d+0x8bf+-0x96d*0x2]=_0x405f9b[-0x2129+-0x1*0x1755+-0x1*-0x3880],_0x4e93d8[-0x1a6+-0xd72+0xf1b]=_0x405f9b[0x393*0x5+-0x116*-0x1d+-0x315a],_0x4e93d8[-0x18*0x77+0x1039+-0x50d]=_0x405f9b[0x1*0x1ddb+0x1*-0x62b+-0x17ac],_0x4e93d8[0x85+-0x268c+0x1*0x260c]=_0x405f9b[-0x864+-0x1599+0x1*0x1e02],_0x4e93d8[-0x15c1*-0x1+-0x1aba*0x1+0x4ff]=_0x405f9b[0x991+0x895*-0x1+-0xf6],_0x4e93d8[0x26*-0x39+0x13*0x15+-0x6ee*-0x1]=_0x405f9b[-0x1597+-0x1c74+0x3212],_0x4e93d8[-0x1638+-0x2e*-0xca+-0xe0c]=_0x405f9b[0x69+0x2429+0x248a*-0x1],_0x4e93d8[0x87*0x24+0x803+-0x196*0x11]=_0x405f9b[0xf91+0x1*-0xc52+-0x336],_0x4e93d8[0x8*0x347+0x1*-0x837+-0x11f7]=_0x405f9b[-0x475+-0x2ef*0xa+0x1*0x21d5],_0x4e93d8[-0x2c*-0x47+-0xf94*0x2+0x12ff]=_0x405f9b[0xf*0x1e5+-0x6c0+-0x15a0],_0x4e93d8[0x251e+-0x27*-0x95+0x6b*-0x8f]=_0x405f9b[-0x2006+0xfbe*-0x1+0x2fd0],_0x4e93d8[-0x2529+0x1763+0x1*0xdd3]=_0x405f9b[0x19ae+-0x1e0+-0x7eb*0x3],_0x4e93d8[0x1*-0x1c7f+0xaed*0x1+0x11a0]=_0x405f9b[0x2560+0x1*0x1375+-0x55*0xab],_0x4e93d8[-0x8*-0x1ed+-0x142d+-0x4d4*-0x1]=_0x405f9b[0x1fd5*0x1+0x2*-0xbdb+-0x810],this;}['setIdentit'+'y'](){const _0x2c82ee=this['data'];return _0x2c82ee[0x27*0x5a+-0x119e+0x3e8]=-0x4*0x2b3+0xf*0x21a+0x1*-0x14b9,_0x2c82ee[-0x5*0x3a+0x9*0x241+-0x331*0x6]=-0x157d+-0x1acc+0x2f*0x107,_0x2c82ee[-0x98*0x29+-0xf*0x1e0+0x347a]=0x24e1+0x1504+0x1*-0x39e5,_0x2c82ee[0x37d*0xa+0x6*0x2d5+-0x33dd]=0x1f94+0xc*-0x310+0x52c,_0x2c82ee[0x1*-0x115+0x1e48+0x1f*-0xf1]=-0x42+-0x1ac1*-0x1+0x13*-0x165,_0x2c82ee[-0x23d7+-0x1c79+0x2b*0x17f]=0x22ff+0xa8+-0x23a6,_0x2c82ee[0x2196+0x8*-0x493+0x308]=-0x265a+0xd73+0x18e7,_0x2c82ee[0x115*0x17+0x5*0x7b+-0x1b43]=0x369+0x1d64+0xaef*-0x3,_0x2c82ee[0xb51*0x2+-0x1*-0x34a+0xcf2*-0x2]=-0x46+0x82e*0x1+-0x1fa*0x4,_0x2c82ee[0x1*0x21d1+0x8*0x151+-0x2c50]=0x1407+-0xa2*0x2b+0x3*0x265,_0x2c82ee[-0xc7*0x1b+-0xc9*-0x12+0x6e5]=-0x16*0x12b+-0x20*-0x4b+0x15*0xc7,_0x2c82ee[0x1282+0x1d*0x4+0x1d*-0xa7]=-0x90c+0x11c8+-0x8bc,_0x2c82ee[0xd*0x2de+-0x1cdf+-0x85b]=0x135f+0x1*0x1ced+0x232*-0x16,_0x2c82ee[-0x1*-0x175b+-0x1862+0x114*0x1]=0x1c36+-0x1*0x23ed+0x7b7,_0x2c82ee[0xb6d+-0x24c7+0x4*0x65a]=-0x1e83+-0xfcc+-0x943*-0x5,_0x2c82ee[0x29*0xf+0x6*-0x3a1+0x136e]=-0x2*0x10d3+0x6*0x526+0x2c3,this;}['setTRS'](_0x150694,_0xe9fdb3,_0x489aaf){const _0x395424=_0xe9fdb3['x'],_0x59dbdb=_0xe9fdb3['y'],_0x2929d5=_0xe9fdb3['z'],_0x5e7254=_0xe9fdb3['w'],_0x5ed27c=_0x489aaf['x'],_0x58ed13=_0x489aaf['y'],_0x4b4e39=_0x489aaf['z'],_0x793a=_0x395424+_0x395424,_0x27ad97=_0x59dbdb+_0x59dbdb,_0x5e7e48=_0x2929d5+_0x2929d5,_0x28f69d=_0x395424*_0x793a,_0x239bc8=_0x395424*_0x27ad97,_0x4b4569=_0x395424*_0x5e7e48,_0x2017d4=_0x59dbdb*_0x27ad97,_0x49a76e=_0x59dbdb*_0x5e7e48,_0xadf1c1=_0x2929d5*_0x5e7e48,_0x559a99=_0x5e7254*_0x793a,_0x1c30c6=_0x5e7254*_0x27ad97,_0x3c1d86=_0x5e7254*_0x5e7e48,_0xada129=this['data'];return _0xada129[-0x21d*-0x5+0x855+-0x12e6]=(-0x3*0x111+0x1bcb+-0x1897-(_0x2017d4+_0xadf1c1))*_0x5ed27c,_0xada129[0xc3a*0x2+-0xf43+-0x150*0x7]=(_0x239bc8+_0x3c1d86)*_0x5ed27c,_0xada129[-0x12*-0x1a8+-0x29*-0x62+-0x2d80]=(_0x4b4569-_0x1c30c6)*_0x5ed27c,_0xada129[-0x20e7*-0x1+-0xa21+-0x16c3*0x1]=-0x2452+-0x1e1d+0x426f,_0xada129[-0x7*0x3cb+0xac5+0xfcc]=(_0x239bc8-_0x3c1d86)*_0x58ed13,_0xada129[-0x4a9+-0x8*-0x20b+-0xbaa]=(0x469+0x41f+-0x887-(_0x28f69d+_0xadf1c1))*_0x58ed13,_0xada129[0x10*-0x1+0x1f1c+0x1a2*-0x13]=(_0x49a76e+_0x559a99)*_0x58ed13,_0xada129[-0x14e8+0x15*0x8+0x1*0x1447]=0xf1*-0x29+-0x1613+0x3cac,_0xada129[0xb7*-0x1c+-0x1e44+0x3250]=(_0x4b4569+_0x1c30c6)*_0x4b4e39,_0xada129[-0x362+-0x2*-0x43f+-0x513*0x1]=(_0x49a76e-_0x559a99)*_0x4b4e39,_0xada129[0x1*-0x4a9+-0x2*0xf7c+0x23ab]=(-0x149f*0x1+0x1c0e+-0x76e-(_0x28f69d+_0x2017d4))*_0x4b4e39,_0xada129[0x19bd+0x1c22+-0xa*0x562]=0x1*0x2285+-0x31*-0xcc+0x1fd*-0x25,_0xada129[0x136+0x2*-0x83f+0xf54]=_0x150694['x'],_0xada129[-0x4*-0xfa+0x2*0xc14+-0x1*0x1c03]=_0x150694['y'],_0xada129[0x155f+0x6c+-0x15bd]=_0x150694['z'],_0xada129[0xdcf+-0x1f*-0xfa+-0x73*0x62]=-0x1e14+0x228+0x1bed,this;}['transpose'](_0x45a156=this){const _0x3a7897=_0x45a156['data'],_0x2596fc=this['data'];if(_0x3a7897===_0x2596fc){let _0x5e7cd6;_0x5e7cd6=_0x3a7897[0x1ddc+0xaf1*0x1+0x2*-0x1466],_0x2596fc[-0x103d+0x48b*-0x2+0x1954]=_0x3a7897[-0x4d7+-0xc36+0x1111],_0x2596fc[0x17*0x152+-0xe*-0x261+-0x54e*0xc]=_0x5e7cd6,_0x5e7cd6=_0x3a7897[0x2*0x51a+-0x117a*-0x1+-0x1bac],_0x2596fc[0xd15+0x3*-0xae+-0xb09]=_0x3a7897[0xf0d*0x2+-0x1c2b*-0x1+0x3a3d*-0x1],_0x2596fc[0x199b+0x22*0xcd+-0x34cd]=_0x5e7cd6,_0x5e7cd6=_0x3a7897[-0x24bc+0x2658*-0x1+0x4b17],_0x2596fc[0x18d*-0x9+0x1558+-0x760]=_0x3a7897[-0x2f*0x60+-0x21*0x112+-0x22*-0x18f],_0x2596fc[-0x16ca*-0x1+0x884+0x2*-0xfa1]=_0x5e7cd6,_0x5e7cd6=_0x3a7897[-0x24cb+-0xc8+-0x4d*-0x7d],_0x2596fc[0xa8d+0x52*0x6e+0x163*-0x21]=_0x3a7897[-0x1c45*0x1+0x623+0x162b],_0x2596fc[-0x1f*-0x101+-0x2*-0x503+-0x291c]=_0x5e7cd6,_0x5e7cd6=_0x3a7897[-0x270f+0xc*-0x1c3+-0x251*-0x1a],_0x2596fc[0x199c+-0x2444+0xaaf]=_0x3a7897[-0x18bd+-0x331+0x1bfb],_0x2596fc[0x9e5+0x107b+-0x1a53*0x1]=_0x5e7cd6,_0x5e7cd6=_0x3a7897[0xda4+0x62f*-0x1+-0x49*0x1a],_0x2596fc[0x11c6+-0x1e51+0xc96]=_0x3a7897[0xab1+-0xe84+-0x1*-0x3e1],_0x2596fc[-0xd3+-0x1d17+0x89*0x38]=_0x5e7cd6;}else _0x2596fc[-0xfa9*-0x2+0x1f00+-0x3e52]=_0x3a7897[0x1*0x183f+0x9cc+0xf*-0x245],_0x2596fc[-0x1*-0x2033+-0x1*-0xc09+-0x2c3b]=_0x3a7897[0xf79+0x1*-0x1741+-0x1f3*-0x4],_0x2596fc[-0x2531*-0x1+-0x1f34+0x5fb*-0x1]=_0x3a7897[-0x21fa+0x1*-0x1ad7+-0x3cd9*-0x1],_0x2596fc[0x1*0x151b+0x1e6e+-0x5*0xa4e]=_0x3a7897[-0x1*0x164b+-0xb04+0x215b*0x1],_0x2596fc[-0x254*-0x8+-0x111c+-0x60*0x4]=_0x3a7897[-0x1383+0x2ca+0x2*0x85d],_0x2596fc[0x2*0xb9+0x1a51+-0x2*0xddf]=_0x3a7897[0x77a+0xf62*0x2+-0x2639],_0x2596fc[0x17cc+-0x623+-0x11a3]=_0x3a7897[0x24ea+-0x4f8+-0x7*0x48f],_0x2596fc[-0xffd*0x1+-0xc06+0x1c0a]=_0x3a7897[-0x77e+-0x20ea+0x1*0x2875],_0x2596fc[0x411*0x3+-0x2*0x8e0+-0x1*-0x595]=_0x3a7897[-0x91e+-0xe61+-0x1781*-0x1],_0x2596fc[-0x1*0x7bb+-0xdee+0xad9*0x2]=_0x3a7897[0x1*0x989+-0x10d4+0x751*0x1],_0x2596fc[0x1*0x12aa+0x1*0x1b19+-0x2db9]=_0x3a7897[0x151a+0x3*-0xa0e+0xa*0xe9],_0x2596fc[0xb41+-0x23b3+-0x1*-0x187d]=_0x3a7897[0x243+0x559*-0x7+0x233a],_0x2596fc[-0x3*-0x136+0x1*-0x26e6+0x2350]=_0x3a7897[-0x17d5+0x1*0xa39+0xd9f],_0x2596fc[0x20b8+0xb8*0x26+0x19f*-0x25]=_0x3a7897[-0x19fc+0x6d*0x9+-0x14e*-0x11],_0x2596fc[0x2333+-0x32f*0x3+-0x1998]=_0x3a7897[0xc5b*0x3+0x1156+0x3e2*-0xe],_0x2596fc[0x1*0x9d6+0x6*-0x471+0x10df]=_0x3a7897[-0x6b1*0x1+0x42+0x33f*0x2];return this;}['getTransla'+'tion'](_0x303371=new D()){return _0x303371['set'](this['data'][0x26a0+-0x16f6+-0xf9e],this['data'][-0xe07+0xe*-0x167+0x10db*0x2],this['data'][-0x1*0x12b3+-0x1*0x1d35+-0x6da*-0x7]);}['getX'](_0x56bfa3=new D()){return _0x56bfa3['set'](this['data'][0x16f*0xd+-0x724+0x147*-0x9],this['data'][0x1621+0x5*0x7a2+0x1*-0x3c4a],this['data'][-0x190*-0x19+-0xcf3+-0x1*0x1a1b]);}['getY'](_0x2a433c=new D()){return _0x2a433c['set'](this['data'][-0x203f+0x22c4+-0x281],this['data'][0x178d+0x25*0xb+-0x6d*0x3b],this['data'][0xa34+0x90*-0x25+0x551*0x2]);}['getZ'](_0x3d9837=new D()){return _0x3d9837['set'](this['data'][0x1d1c+-0x2*-0x1280+-0x4214*0x1],this['data'][0x1*-0xa4f+-0x3*-0x259+0x34d],this['data'][0x1299+-0x1637+0x3a8]);}['getScale'](_0x3cc7c0=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x3cc7c0['set'](Os['length'](),Js['length'](),ei['length']()),_0x3cc7c0;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x14b3+0x2479+0xe4b*-0x4?-(-0x96b+0x256+0x2*0x38b):-0x26c3*0x1+-0x1*0xd3f+0x5*0xa67;}['setFromEul'+'erAngles'](_0x55e1af,_0x35a353,_0x700246){_0x55e1af*=Y['DEG_TO_RAD'],_0x35a353*=Y['DEG_TO_RAD'],_0x700246*=Y['DEG_TO_RAD'];const _0x5f2893=Math['sin'](-_0x55e1af),_0x4f4dca=Math['cos'](-_0x55e1af),_0x470898=Math['sin'](-_0x35a353),_0x40716c=Math['cos'](-_0x35a353),_0x4c49bb=Math['sin'](-_0x700246),_0x25d907=Math['cos'](-_0x700246),_0x234ff1=this['data'];return _0x234ff1[-0x1*-0x1409+0x373+-0x177c]=_0x40716c*_0x25d907,_0x234ff1[-0x140f+-0x12bf+0x7c3*0x5]=-_0x40716c*_0x4c49bb,_0x234ff1[-0x5*-0x223+-0x6*0x178+-0x1dd]=_0x470898,_0x234ff1[-0xdf*-0x23+0x1*0x5d+-0x1ed7]=-0x1*-0x1e08+-0x1de6+-0x22,_0x234ff1[-0x14*0x1b3+0x1a7f+-0x1*-0x781]=_0x4f4dca*_0x4c49bb+_0x25d907*_0x5f2893*_0x470898,_0x234ff1[-0x1cef+-0x21ca+0xa75*0x6]=_0x4f4dca*_0x25d907-_0x5f2893*_0x470898*_0x4c49bb,_0x234ff1[0x14bb+0x262c+0x1*-0x3ae1]=-_0x40716c*_0x5f2893,_0x234ff1[-0x1fb4+-0x563*-0x4+0xa2f]=0x251c+-0x313*-0x4+0x3168*-0x1,_0x234ff1[-0x14*-0x56+0x2067+-0x2717]=_0x5f2893*_0x4c49bb-_0x4f4dca*_0x25d907*_0x470898,_0x234ff1[0x25b9*-0x1+-0x4f2+0x3*0xe3c]=_0x25d907*_0x5f2893+_0x4f4dca*_0x470898*_0x4c49bb,_0x234ff1[-0x1794+-0x1d3d+0x34db]=_0x4f4dca*_0x40716c,_0x234ff1[0x5c0+-0x5*0x89+0x61*-0x8]=-0x10a6*-0x1+0xe49+0x1eef*-0x1,_0x234ff1[-0x35b*-0x7+-0xfd*0x1b+0x33e*0x1]=-0xf3b*0x2+-0x27*0x3+-0x1*-0x1eeb,_0x234ff1[-0xf56+-0x1*0x152c+0x248f]=-0x237d+-0x2*-0x9ac+0x1025*0x1,_0x234ff1[-0xc5e+0x1383+-0x5*0x16b]=-0xaf1+-0x1798+-0x1a5*-0x15,_0x234ff1[-0x1*-0xf07+-0x1*0x18d7+-0x13*-0x85]=-0xdf+0x8af+0x7cf*-0x1,this;}['getEulerAn'+'gles'](_0x1eaee6=new D()){this['getScale'](Hl);const _0x5b6226=Hl['x'],_0x3f1a14=Hl['y'],_0xf0cdb0=Hl['z'];if(_0x5b6226===-0x4b*0x22+0x1eb5+-0x14bf||_0x3f1a14===0xd9a*-0x2+-0xce9+-0xd5f*-0x3||_0xf0cdb0===0x26e9+-0x15fb+0xc5*-0x16)return _0x1eaee6['set'](0xac0*-0x2+-0xbb1*-0x1+0x3*0x345,0x2436+0x1d4f+-0x15d7*0x3,0xc5*-0x19+-0x12f*-0x13+-0x340);const _0x39a079=this['data'],_0x28b234=Math['asin'](-_0x39a079[-0x3*0xa97+0x6*-0x21b+0x2c69*0x1]/_0x5b6226),_0x146eec=Math['PI']*(0x5cf*-0x2+-0x1a1*-0x2+0x85c+0.5);let _0xfd05bb,_0x42cd3f;return _0x28b234<_0x146eec?_0x28b234>-_0x146eec?(_0xfd05bb=Math['atan2'](_0x39a079[-0x1038+-0x2*-0xaef+-0x5a0]/_0x3f1a14,_0x39a079[-0xff*0x1d+0x1596+0x757*0x1]/_0xf0cdb0),_0x42cd3f=Math['atan2'](_0x39a079[-0x1155+0x97*0x25+-0x17f*0x3]/_0x5b6226,_0x39a079[0xd65+-0xb1d+-0x8*0x49]/_0x5b6226)):(_0x42cd3f=0x1979+-0x222d+0x8b4,_0xfd05bb=-Math['atan2'](_0x39a079[-0x1223+-0x1*-0x1922+0x6fb*-0x1]/_0x3f1a14,_0x39a079[0x1cfb+0x1*0x4fd+0x1*-0x21f3]/_0x3f1a14)):(_0x42cd3f=-0xf08*0x1+0xbb*-0x2c+0x2f2c,_0xfd05bb=Math['atan2'](_0x39a079[0x220e+0x19*0xeb+-0x38fd]/_0x3f1a14,_0x39a079[0x1bb3+-0x16c+-0x2*0xd21]/_0x3f1a14)),_0x1eaee6['set'](_0xfd05bb,_0x28b234,_0x42cd3f)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x17e0+0xeaa+0x936,0x1*0x23f3+0xc1*0x2e+-0x46a1,0x1ed5*0x1+0x108c+-0x2f61,0x251*0xb+-0x2db*0x4+-0xe0f,-0x10b1+0xb02+0x1*0x5af,-0x257b+0xc15+0x1966,0xdb9*0x1+0x4*0x22+-0x59*0x29,-0x5a7*0x2+0x9*-0xfe+0x50f*0x4,0x226d+0x911+-0x2b7e,-0x2438+-0x13*0x1a7+0x1*0x439d,0x1628+-0x2029+0xa01,-0x53*0x29+0x19c7+0x31f*-0x4,0x1*-0x1475+-0x194f*0x1+0x2dc4,0x5cc*-0x6+-0x653*-0x2+-0x1622*-0x1,-0x1f2*0xf+-0x1e25+0x3b53,0x139*0xb+-0x31f+-0x52a*0x2])));let te=Qr;const Sn=class Sn{constructor(_0x30fe94=0xb37+0x81e+-0x65*0x31,_0xbac7f7=-0x1684+-0x1*-0xdd3+-0x1bd*-0x5,_0x18267b=-0x311+-0xb8b+0x11*0xdc,_0x5dd925=0x23b5+-0x19*-0x16f+-0x478b){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x30fe94['length']===0x294+0x22*0x115+-0x275a?(this['x']=_0x30fe94[-0x15c1+-0x1985*-0x1+-0x3c4],this['y']=_0x30fe94[0x1*0x4b1+0x1f0c+-0x23bc],this['z']=_0x30fe94[0x1*-0x20b3+-0x12a*0x3+-0x1*-0x2433],this['w']=_0x30fe94[0x502*-0x4+-0x10c6+0x24d1]):(this['x']=_0x30fe94,this['y']=_0xbac7f7,this['z']=_0x18267b,this['w']=_0x5dd925);}['clone'](){const _0x14699d=this['constructo'+'r'];return new _0x14699d(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1eda72=this){return this['x']=_0x1eda72['x']*-(0xb*-0x2ce+0x20d*0x6+0x1*0x128d),this['y']=_0x1eda72['y']*-(0x9f3+0x54e+-0xf40),this['z']=_0x1eda72['z']*-(-0x925+0x1215+-0x1*0x8ef),this['w']=_0x1eda72['w'],this;}['copy'](_0x227cc7){return this['x']=_0x227cc7['x'],this['y']=_0x227cc7['y'],this['z']=_0x227cc7['z'],this['w']=_0x227cc7['w'],this;}['dot'](_0xfbf40f){return this['x']*_0xfbf40f['x']+this['y']*_0xfbf40f['y']+this['z']*_0xfbf40f['z']+this['w']*_0xfbf40f['w'];}['equals'](_0x13885b){return this['x']===_0x13885b['x']&&this['y']===_0x13885b['y']&&this['z']===_0x13885b['z']&&this['w']===_0x13885b['w'];}['equalsAppr'+'ox'](_0x1e5dec,_0x269c3d=-0x2*0x9ea+-0x791*0x1+0x1b65+0.000001){return Math['abs'](this['x']-_0x1e5dec['x'])<_0x269c3d&&Math['abs'](this['y']-_0x1e5dec['y'])<_0x269c3d&&Math['abs'](this['z']-_0x1e5dec['z'])<_0x269c3d&&Math['abs'](this['w']-_0x1e5dec['w'])<_0x269c3d;}['getAxisAng'+'le'](_0x4c292c){let _0x5938dd=Math['acos'](this['w'])*(-0x237c+0x3f1*0x9+0x1*0x5);const _0x377ece=Math['sin'](_0x5938dd/(0x6fa*-0x2+0x273*-0xc+0x166*0x1f));return _0x377ece!==0x6*0x54f+0x1edb+-0x3eb5?(_0x4c292c['x']=this['x']/_0x377ece,_0x4c292c['y']=this['y']/_0x377ece,_0x4c292c['z']=this['z']/_0x377ece,(_0x4c292c['x']<0x21af*0x1+-0xa5c+-0x1753||_0x4c292c['y']<-0x7b9+0x1*-0x1493+0x1c4c||_0x4c292c['z']<0x3*0x9ac+0x10b9+-0x2dbd)&&(_0x4c292c['x']*=-(0xe5d*0x1+-0x21b2+0x19*0xc6),_0x4c292c['y']*=-(0x1e3f+-0x2*-0xafc+-0x3436),_0x4c292c['z']*=-(0x1dfd+0xe*0x9d+0x2*-0x1349),_0x5938dd*=-(0x27b*-0x1+-0x1fb4+-0x8*-0x446))):(_0x4c292c['x']=-0x1bed+0x1f89+0x1*-0x39b,_0x4c292c['y']=0x4d*-0x59+0xca0+0x4b7*0x3,_0x4c292c['z']=0x3*-0xc93+0x210a*0x1+0x4af),_0x5938dd*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x1aa2b8=new D()){let _0x1dd15b,_0xba9832,_0xb6a5b6;const _0x534492=this['x'],_0x34d96f=this['y'],_0x458c7b=this['z'],_0x1d2d92=this['w'],_0x37bad3=(0x240+-0x1*0x1d3f+0x1*0x1b01)*(_0x1d2d92*_0x34d96f-_0x534492*_0x458c7b);return _0x37bad3<=-(-0x36e+0x1aa6+-0x1738+0.99999)?(_0x1dd15b=(0x760*0x5+-0x18c2+-0xc1c)*Math['atan2'](_0x534492,_0x1d2d92),_0xba9832=-Math['PI']/(0x1*0xdff+-0x40*0x16+-0x87d),_0xb6a5b6=-0x3ab+0x1*0xbb9+-0x80e):_0x37bad3>=-0x1192*0x2+-0x6*-0x239+0x2*0xae7+0.99999?(_0x1dd15b=(0x3e6*0x1+-0x21c+-0x1c8)*Math['atan2'](_0x534492,_0x1d2d92),_0xba9832=Math['PI']/(-0xa12*-0x1+-0x40d*0x9+-0xe9*-0x1d),_0xb6a5b6=0x23b1+0x2*-0x3fd+-0xa5*0x2b):(_0x1dd15b=Math['atan2']((-0x27*-0x45+0x625*0x5+-0x293a)*(_0x1d2d92*_0x534492+_0x34d96f*_0x458c7b),0x1*-0x1526+0x180d+-0x2e6-(0xf*-0x169+-0x15d*0x1a+-0x1*-0x389b)*(_0x534492*_0x534492+_0x34d96f*_0x34d96f)),_0xba9832=Math['asin'](_0x37bad3),_0xb6a5b6=Math['atan2']((-0x25cc+-0x1*-0x1bc4+0xa0a)*(_0x1d2d92*_0x458c7b+_0x534492*_0x34d96f),-0x1bd*0xb+0x3*-0xa51+0x3213-(0x708+0x1*-0x1ded+-0x1*-0x16e7)*(_0x34d96f*_0x34d96f+_0x458c7b*_0x458c7b))),_0x1aa2b8['set'](_0x1dd15b,_0xba9832,_0xb6a5b6)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x21767d=this){return this['conjugate'](_0x21767d)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x2f54ba,_0xc962c2,_0xfe9798){const _0x4db138=(0x23fe+-0x1afc+0x1*-0x901-_0xfe9798)*(_0x2f54ba['dot'](_0xc962c2)<-0x21b0+-0x2*-0xb7b+-0xaba*-0x1?-(-0x1474+0xaf5+-0x980*-0x1):0x234b+0x13d1+-0x1*0x371b);return this['x']=_0x2f54ba['x']*_0x4db138+_0xc962c2['x']*_0xfe9798,this['y']=_0x2f54ba['y']*_0x4db138+_0xc962c2['y']*_0xfe9798,this['z']=_0x2f54ba['z']*_0x4db138+_0xc962c2['z']*_0xfe9798,this['w']=_0x2f54ba['w']*_0x4db138+_0xc962c2['w']*_0xfe9798,this['normalize']();}['mul'](_0x3dd471){const _0x291949=this['x'],_0xbfe75e=this['y'],_0x257d4d=this['z'],_0x35f45b=this['w'],_0x3ca436=_0x3dd471['x'],_0x1a5c48=_0x3dd471['y'],_0x3fc779=_0x3dd471['z'],_0x1a8efc=_0x3dd471['w'];return this['x']=_0x35f45b*_0x3ca436+_0x291949*_0x1a8efc+_0xbfe75e*_0x3fc779-_0x257d4d*_0x1a5c48,this['y']=_0x35f45b*_0x1a5c48+_0xbfe75e*_0x1a8efc+_0x257d4d*_0x3ca436-_0x291949*_0x3fc779,this['z']=_0x35f45b*_0x3fc779+_0x257d4d*_0x1a8efc+_0x291949*_0x1a5c48-_0xbfe75e*_0x3ca436,this['w']=_0x35f45b*_0x1a8efc-_0x291949*_0x3ca436-_0xbfe75e*_0x1a5c48-_0x257d4d*_0x3fc779,this;}['mulScalar'](_0xaeb5ff,_0x29f1d6=this){return this['x']=_0x29f1d6['x']*_0xaeb5ff,this['y']=_0x29f1d6['y']*_0xaeb5ff,this['z']=_0x29f1d6['z']*_0xaeb5ff,this['w']=_0x29f1d6['w']*_0xaeb5ff,this;}['mul2'](_0x258171,_0x4e6eb6){const _0x35d080=_0x258171['x'],_0x55f540=_0x258171['y'],_0x26eb64=_0x258171['z'],_0x56ddf4=_0x258171['w'],_0x3451f5=_0x4e6eb6['x'],_0x3f1bf5=_0x4e6eb6['y'],_0x59b82b=_0x4e6eb6['z'],_0x2e8d72=_0x4e6eb6['w'];return this['x']=_0x56ddf4*_0x3451f5+_0x35d080*_0x2e8d72+_0x55f540*_0x59b82b-_0x26eb64*_0x3f1bf5,this['y']=_0x56ddf4*_0x3f1bf5+_0x55f540*_0x2e8d72+_0x26eb64*_0x3451f5-_0x35d080*_0x59b82b,this['z']=_0x56ddf4*_0x59b82b+_0x26eb64*_0x2e8d72+_0x35d080*_0x3f1bf5-_0x55f540*_0x3451f5,this['w']=_0x56ddf4*_0x2e8d72-_0x35d080*_0x3451f5-_0x55f540*_0x3f1bf5-_0x26eb64*_0x59b82b,this;}['normalize'](_0x7ab1a9=this){let _0x3b57d3=_0x7ab1a9['length']();return _0x3b57d3===0x22cb+-0xd*-0x1d+-0x911*0x4?(this['x']=this['y']=this['z']=-0x358*-0xb+0x15bd+-0x47*0xd3,this['w']=-0x2483+-0x936*-0x1+-0x1d2*-0xf):(_0x3b57d3=(0x1070+-0x3*-0xa67+-0xbe9*0x4)/_0x3b57d3,this['x']=_0x7ab1a9['x']*_0x3b57d3,this['y']=_0x7ab1a9['y']*_0x3b57d3,this['z']=_0x7ab1a9['z']*_0x3b57d3,this['w']=_0x7ab1a9['w']*_0x3b57d3),this;}['set'](_0x21b5d0,_0x805540,_0x1fc461,_0x23ef77){return this['x']=_0x21b5d0,this['y']=_0x805540,this['z']=_0x1fc461,this['w']=_0x23ef77,this;}['setFromAxi'+'sAngle'](_0x1683fd,_0xb66df3){_0xb66df3*=(-0x672+-0x7b6+0xe28+0.5)*Y['DEG_TO_RAD'];const _0x48b30b=Math['sin'](_0xb66df3),_0x1d314a=Math['cos'](_0xb66df3);return this['x']=_0x48b30b*_0x1683fd['x'],this['y']=_0x48b30b*_0x1683fd['y'],this['z']=_0x48b30b*_0x1683fd['z'],this['w']=_0x1d314a,this;}['setFromEul'+'erAngles'](_0x10323b,_0x7fe4b3,_0x4cdf8a){if(_0x10323b instanceof D){const _0x1b673a=_0x10323b;_0x10323b=_0x1b673a['x'],_0x7fe4b3=_0x1b673a['y'],_0x4cdf8a=_0x1b673a['z'];}const _0x27bee2=(-0x178d+0x1*0x1f0d+0x780*-0x1+0.5)*Y['DEG_TO_RAD'];_0x10323b*=_0x27bee2,_0x7fe4b3*=_0x27bee2,_0x4cdf8a*=_0x27bee2;const _0x1fc51f=Math['sin'](_0x10323b),_0x4ef113=Math['cos'](_0x10323b),_0x427d5f=Math['sin'](_0x7fe4b3),_0x371a3a=Math['cos'](_0x7fe4b3),_0x4cb991=Math['sin'](_0x4cdf8a),_0x4507dd=Math['cos'](_0x4cdf8a);return this['x']=_0x1fc51f*_0x371a3a*_0x4507dd-_0x4ef113*_0x427d5f*_0x4cb991,this['y']=_0x4ef113*_0x427d5f*_0x4507dd+_0x1fc51f*_0x371a3a*_0x4cb991,this['z']=_0x4ef113*_0x371a3a*_0x4cb991-_0x1fc51f*_0x427d5f*_0x4507dd,this['w']=_0x4ef113*_0x371a3a*_0x4507dd+_0x1fc51f*_0x427d5f*_0x4cb991,this;}['setFromMat'+'4'](_0x39770b){const _0x14a7ea=_0x39770b['data'];let _0x2287b7=_0x14a7ea[-0xa30*0x3+0x19a6+0x4ea],_0x319f62=_0x14a7ea[0x1ad*-0x13+0x65*0x19+-0x11*-0x14b],_0x44de90=_0x14a7ea[0x1*-0x5b3+-0x1*-0x2681+-0x20cc],_0x553cf2=_0x14a7ea[0x2572+-0x2d7*0x3+-0x1ce9],_0x6af95c=_0x14a7ea[0xb9*-0x10+-0x477+0x1a*0x9e],_0x51d9e1=_0x14a7ea[-0x6f*0x5+-0x24f3+-0x6*-0x686],_0x45fd48=_0x14a7ea[0x99b*0x3+-0x4ea+-0x17df],_0x3e01ec=_0x14a7ea[0xf08+-0xaf*-0x28+0x1*-0x2a57],_0x4ad8b6=_0x14a7ea[0x1b0+0x75+-0x21b],_0x30b844;return _0x30b844=_0x2287b7*_0x2287b7+_0x319f62*_0x319f62+_0x44de90*_0x44de90,_0x30b844===0x35*-0x31+-0xb5c+0x1581?this['set'](0x12cc+-0x1*0x18d0+-0x134*-0x5,0x18a1+0x9*-0x1d7+0x1*-0x812,-0xcf*0x1d+0x1*-0x1dfb+0x356e*0x1,0x23d9*0x1+-0x123*0xa+-0x187a):(_0x30b844=(-0x4cd*0x5+0x1a9+0x773*0x3)/Math['sqrt'](_0x30b844),_0x2287b7*=_0x30b844,_0x319f62*=_0x30b844,_0x44de90*=_0x30b844,_0x30b844=_0x553cf2*_0x553cf2+_0x6af95c*_0x6af95c+_0x51d9e1*_0x51d9e1,_0x30b844===-0x1f*0x35+-0x5d0+-0x65*-0x1f?this['set'](-0x1*0x9db+0x1fd1+0x752*-0x3,0x38*-0x48+0x1*-0x1082+0x2042,0x17*0x16c+-0x14e6*-0x1+-0x359a,0x3*-0x6d+-0x1dae+0x1ef6):(_0x30b844=(0x24d7*0x1+-0x1*-0xd15+-0x31eb)/Math['sqrt'](_0x30b844),_0x553cf2*=_0x30b844,_0x6af95c*=_0x30b844,_0x51d9e1*=_0x30b844,_0x30b844=_0x45fd48*_0x45fd48+_0x3e01ec*_0x3e01ec+_0x4ad8b6*_0x4ad8b6,_0x30b844===0x15c6+0x2384+-0x394a?this['set'](0xa47*-0x2+0x1*0x413+0x107b,0x89*-0xd+0x1d4b+-0x1656,-0x899*0x1+-0x27f+0xb18,0x155b+-0x1ea0+0x2*0x4a3):(_0x30b844=(-0x16f1+0x383*0xb+-0xfaf)/Math['sqrt'](_0x30b844),_0x45fd48*=_0x30b844,_0x3e01ec*=_0x30b844,_0x4ad8b6*=_0x30b844,_0x4ad8b6<0x10d1+0x2635*0x1+-0x3706?_0x2287b7>_0x6af95c?this['set'](0x1d*-0xb9+0x13de+0x14*0xe+_0x2287b7-_0x6af95c-_0x4ad8b6,_0x319f62+_0x553cf2,_0x45fd48+_0x44de90,_0x51d9e1-_0x3e01ec):this['set'](_0x319f62+_0x553cf2,-0x43c+0xee0+-0x7*0x185-_0x2287b7+_0x6af95c-_0x4ad8b6,_0x51d9e1+_0x3e01ec,_0x45fd48-_0x44de90):_0x2287b7<-_0x6af95c?this['set'](_0x45fd48+_0x44de90,_0x51d9e1+_0x3e01ec,-0x3d*0xf+-0x1*0x1cd0+0x2064-_0x2287b7-_0x6af95c+_0x4ad8b6,_0x319f62-_0x553cf2):this['set'](_0x51d9e1-_0x3e01ec,_0x45fd48-_0x44de90,_0x319f62-_0x553cf2,-0xf69*-0x1+-0x10db*0x1+-0x7*-0x35+_0x2287b7+_0x6af95c+_0x4ad8b6),this['mulScalar']((-0x1*-0x1675+-0x25a+0x53*-0x3e)/this['length']()))));}['setFromDir'+'ections'](_0x47de76,_0x3831fb){const _0x5265a8=0x109d+-0x24c+-0xe50+_0x47de76['dot'](_0x3831fb);return _0x5265a8<Number['EPSILON']?Math['abs'](_0x47de76['x'])>Math['abs'](_0x47de76['y'])?(this['x']=-_0x47de76['z'],this['y']=-0x1c8f+0xf8f+0xd00,this['z']=_0x47de76['x'],this['w']=0x665+0xd4b+0xf0*-0x15):(this['x']=0xd*0xd+-0x510*-0x5+0x6d*-0x3d,this['y']=-_0x47de76['z'],this['z']=_0x47de76['y'],this['w']=-0x1d74+-0x4c*0x77+0x40c8):(this['x']=_0x47de76['y']*_0x3831fb['z']-_0x47de76['z']*_0x3831fb['y'],this['y']=_0x47de76['z']*_0x3831fb['x']-_0x47de76['x']*_0x3831fb['z'],this['z']=_0x47de76['x']*_0x3831fb['y']-_0x47de76['y']*_0x3831fb['x'],this['w']=_0x5265a8),this['normalize']();}['slerp'](_0x59d850,_0x4b4048,_0x3e58fe){const _0x5cdbcb=_0x59d850['x'],_0x2c34b2=_0x59d850['y'],_0x597ebb=_0x59d850['z'],_0x176367=_0x59d850['w'];let _0x244fb3=_0x4b4048['x'],_0x296265=_0x4b4048['y'],_0x341736=_0x4b4048['z'],_0x388d4a=_0x4b4048['w'],_0x3a96e0=_0x176367*_0x388d4a+_0x5cdbcb*_0x244fb3+_0x2c34b2*_0x296265+_0x597ebb*_0x341736;if(_0x3a96e0<-0x1*-0xa96+0xb*-0x256+0xf1c&&(_0x388d4a=-_0x388d4a,_0x244fb3=-_0x244fb3,_0x296265=-_0x296265,_0x341736=-_0x341736,_0x3a96e0=-_0x3a96e0),Math['abs'](_0x3a96e0)>=0x4a6+-0x23ac+0xa9*0x2f)return this['w']=_0x176367,this['x']=_0x5cdbcb,this['y']=_0x2c34b2,this['z']=_0x597ebb,this;const _0x34eaa2=Math['acos'](_0x3a96e0),_0x5657d7=Math['sqrt'](-0x2540+-0xc0a+0x314b*0x1-_0x3a96e0*_0x3a96e0);if(Math['abs'](_0x5657d7)<0x2*-0x110d+0x25d+0x1fbd+0.001)return this['w']=_0x176367*(-0x1*-0x124b+0xe37+-0x2082+0.5)+_0x388d4a*(0x7*-0x359+0x115*0x2+0x1545+0.5),this['x']=_0x5cdbcb*(-0x1b1*0xb+-0x2a3+0x2*0xa9f+0.5)+_0x244fb3*(0x1*-0x6ee+0x101c+-0x92e+0.5),this['y']=_0x2c34b2*(-0x25*-0x20+-0x1a29+0x95*0x25+0.5)+_0x296265*(-0x1675+-0xebd+-0x12*-0x211+0.5),this['z']=_0x597ebb*(-0xa7*-0x39+-0xfcc+-0x19*0xdb+0.5)+_0x341736*(0x1cd6+-0x121c+-0xaba+0.5),this;const _0x13913a=Math['sin']((-0x1a*0x59+0x9d*-0x1b+0xe2*0x1d-_0x3e58fe)*_0x34eaa2)/_0x5657d7,_0x145cc0=Math['sin'](_0x3e58fe*_0x34eaa2)/_0x5657d7;return this['w']=_0x176367*_0x13913a+_0x388d4a*_0x145cc0,this['x']=_0x5cdbcb*_0x13913a+_0x244fb3*_0x145cc0,this['y']=_0x2c34b2*_0x13913a+_0x296265*_0x145cc0,this['z']=_0x597ebb*_0x13913a+_0x341736*_0x145cc0,this;}['transformV'+'ector'](_0x2d77f7,_0x38a2c5=new D()){const _0xe89f82=_0x2d77f7['x'],_0x4e9dc4=_0x2d77f7['y'],_0x82c302=_0x2d77f7['z'],_0x4cb6fc=this['x'],_0xaa6842=this['y'],_0x6c56bb=this['z'],_0x13023b=this['w'],_0x2726a5=_0x13023b*_0xe89f82+_0xaa6842*_0x82c302-_0x6c56bb*_0x4e9dc4,_0x35ca11=_0x13023b*_0x4e9dc4+_0x6c56bb*_0xe89f82-_0x4cb6fc*_0x82c302,_0x1a9eaf=_0x13023b*_0x82c302+_0x4cb6fc*_0x4e9dc4-_0xaa6842*_0xe89f82,_0x1abb3a=-_0x4cb6fc*_0xe89f82-_0xaa6842*_0x4e9dc4-_0x6c56bb*_0x82c302;return _0x38a2c5['x']=_0x2726a5*_0x13023b+_0x1abb3a*-_0x4cb6fc+_0x35ca11*-_0x6c56bb-_0x1a9eaf*-_0xaa6842,_0x38a2c5['y']=_0x35ca11*_0x13023b+_0x1abb3a*-_0xaa6842+_0x1a9eaf*-_0x4cb6fc-_0x2726a5*-_0x6c56bb,_0x38a2c5['z']=_0x1a9eaf*_0x13023b+_0x1abb3a*-_0x6c56bb+_0x2726a5*-_0xaa6842-_0x35ca11*-_0x4cb6fc,_0x38a2c5;}['fromArray'](_0xdddaae,_0x30a72d=-0x3*0x518+-0x28*0x6+0x1038){return this['x']=_0xdddaae[_0x30a72d]??this['x'],this['y']=_0xdddaae[_0x30a72d+(0x11*0xef+0xcf1+0x7d*-0x3b)]??this['y'],this['z']=_0xdddaae[_0x30a72d+(-0x19fa+0xe9*-0x1+0x1ae5)]??this['z'],this['w']=_0xdddaae[_0x30a72d+(-0x1*0x2699+0x2c7+0x23d5)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x249365=[],_0x267787=-0xc*0x2cd+-0x917*-0x2+0xf6e){return _0x249365[_0x267787]=this['x'],_0x249365[_0x267787+(0x1*-0xe43+0x1d5e+0x2*-0x78d)]=this['y'],_0x249365[_0x267787+(-0x1848+0x46*0x89+0x232*-0x6)]=this['z'],_0x249365[_0x267787+(0x1057*0x1+0x96f+0x5*-0x527)]=this['w'],_0x249365;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0xa40+-0x23e9+0x19a9,-0x84+-0x25*-0x74+-0xa0*0x1a,-0x13a+0x4*-0x8c3+0x2446,-0x17e9*0x1+0x1b32+-0x348))),h(Sn,'ZERO',Object['freeze'](new Sn(0x647*-0x2+0x47*0x5e+0x14*-0xad,-0xc*-0x11a+-0x228c+0x1554,0x1*-0x1e9e+-0x300+-0xd*-0x296,-0x49a+-0x1*-0x4dd+0x43*-0x1)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x4c0236,_0x22a35a){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x33f*0x6+0x1*-0x8be+-0xabc+0.5,-0x1b15*-0x1+0x22*0x11a+-0x4089*0x1+0.5,-0x1*0xd19+-0x1*0x214f+0xa5*0x48+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x4c0236&&this['center']['copy'](_0x4c0236),_0x22a35a&&this['halfExtent'+'s']['copy'](_0x22a35a));}['add'](_0x480553){const _0x107fd2=this['center'],_0x1202ee=_0x107fd2['x'],_0x4d7a2f=_0x107fd2['y'],_0x584317=_0x107fd2['z'],_0x271252=this['halfExtent'+'s'],_0x54b5ee=_0x271252['x'],_0x2328d2=_0x271252['y'],_0x4ea87e=_0x271252['z'];let _0x3efb84=_0x1202ee-_0x54b5ee,_0x5a3d48=_0x1202ee+_0x54b5ee,_0x561770=_0x4d7a2f-_0x2328d2,_0x1d8ea1=_0x4d7a2f+_0x2328d2,_0x63c615=_0x584317-_0x4ea87e,_0x85d30e=_0x584317+_0x4ea87e;const _0x5d2074=_0x480553['center'],_0x4c8b02=_0x5d2074['x'],_0x552fb2=_0x5d2074['y'],_0x3dacfc=_0x5d2074['z'],_0x43043b=_0x480553['halfExtent'+'s'],_0x1e69ce=_0x43043b['x'],_0x44a916=_0x43043b['y'],_0x481176=_0x43043b['z'],_0x5a10b8=_0x4c8b02-_0x1e69ce,_0x3bddc6=_0x4c8b02+_0x1e69ce,_0x2a1a04=_0x552fb2-_0x44a916,_0x4335e4=_0x552fb2+_0x44a916,_0x25af15=_0x3dacfc-_0x481176,_0x175d27=_0x3dacfc+_0x481176;_0x5a10b8<_0x3efb84&&(_0x3efb84=_0x5a10b8),_0x3bddc6>_0x5a3d48&&(_0x5a3d48=_0x3bddc6),_0x2a1a04<_0x561770&&(_0x561770=_0x2a1a04),_0x4335e4>_0x1d8ea1&&(_0x1d8ea1=_0x4335e4),_0x25af15<_0x63c615&&(_0x63c615=_0x25af15),_0x175d27>_0x85d30e&&(_0x85d30e=_0x175d27),_0x107fd2['x']=(_0x3efb84+_0x5a3d48)*(0x1*0x1693+0x1a65+-0x30f8+0.5),_0x107fd2['y']=(_0x561770+_0x1d8ea1)*(0x9*0x29c+0x26cb+-0x3e47+0.5),_0x107fd2['z']=(_0x63c615+_0x85d30e)*(0xd28+0x837+-0x155f*0x1+0.5),_0x271252['x']=(_0x5a3d48-_0x3efb84)*(-0x44c*-0x4+-0x1867*0x1+0x737+0.5),_0x271252['y']=(_0x1d8ea1-_0x561770)*(0x9a7+0x26d7+-0x307e+0.5),_0x271252['z']=(_0x85d30e-_0x63c615)*(-0x1dde*-0x1+0x1*-0xce1+-0x10fd*0x1+0.5);}['copy'](_0x5e0406){this['center']['copy'](_0x5e0406['center']),this['halfExtent'+'s']['copy'](_0x5e0406['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x421db6){const _0x27f6cb=this['getMax'](),_0x55235c=this['getMin'](),_0x4a9eb3=_0x421db6['getMax'](),_0xe8f717=_0x421db6['getMin']();return _0x55235c['x']<=_0x4a9eb3['x']&&_0x27f6cb['x']>=_0xe8f717['x']&&_0x55235c['y']<=_0x4a9eb3['y']&&_0x27f6cb['y']>=_0xe8f717['y']&&_0x55235c['z']<=_0x4a9eb3['z']&&_0x27f6cb['z']>=_0xe8f717['z'];}['_intersect'+'sRay'](_0x5d660c,_0x398da2){const _0x336b6a=Pa['copy'](this['getMin']())['sub'](_0x5d660c['origin']),_0x2ea689=Ma['copy'](this['getMax']())['sub'](_0x5d660c['origin']),_0x41dc55=_0x5d660c['direction'];_0x41dc55['x']===-0x1*-0xea9+0x1806+-0x26af?(_0x336b6a['x']=_0x336b6a['x']<-0xa*-0x115+-0x1951*0x1+0xe7f?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2ea689['x']=_0x2ea689['x']<-0x11f+-0x2*-0x541+-0x963?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x336b6a['x']/=_0x41dc55['x'],_0x2ea689['x']/=_0x41dc55['x']),_0x41dc55['y']===-0x76d+0x1*0x225b+-0x1aee?(_0x336b6a['y']=_0x336b6a['y']<-0x5*-0x317+-0x12bf+-0x4*-0xd3?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2ea689['y']=_0x2ea689['y']<-0x1292+-0x1*-0x12bc+0xe*-0x3?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x336b6a['y']/=_0x41dc55['y'],_0x2ea689['y']/=_0x41dc55['y']),_0x41dc55['z']===0x8a8+0x11*-0x6f+-0x149?(_0x336b6a['z']=_0x336b6a['z']<0x3d6*-0x1+0x1*0x119f+0x1*-0xdc9?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2ea689['z']=_0x2ea689['z']<0x14d5+-0x1e23+0x94e?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x336b6a['z']/=_0x41dc55['z'],_0x2ea689['z']/=_0x41dc55['z']);const _0xbef6f3=Um['set'](Math['min'](_0x336b6a['x'],_0x2ea689['x']),Math['min'](_0x336b6a['y'],_0x2ea689['y']),Math['min'](_0x336b6a['z'],_0x2ea689['z'])),_0x3802b5=Bm['set'](Math['max'](_0x336b6a['x'],_0x2ea689['x']),Math['max'](_0x336b6a['y'],_0x2ea689['y']),Math['max'](_0x336b6a['z'],_0x2ea689['z'])),_0x35e1e2=Math['min'](Math['min'](_0x3802b5['x'],_0x3802b5['y']),_0x3802b5['z']),_0x53f0c0=Math['max'](Math['max'](_0xbef6f3['x'],_0xbef6f3['y']),_0xbef6f3['z']),_0x49614f=_0x35e1e2>=_0x53f0c0&&_0x53f0c0>=-0x1ec4+-0xd5b*-0x2+0x40e;return _0x49614f&&_0x398da2['copy'](_0x5d660c['direction'])['mulScalar'](_0x53f0c0)['add'](_0x5d660c['origin']),_0x49614f;}['_fastInter'+'sectsRay'](_0x4717a9){const _0x504f33=Pa,_0x56a9cd=Ma,_0x10be8b=Um,_0x34c8f2=Bm,_0x125f52=gx,_0x6b351c=_0x4717a9['direction'];return _0x504f33['sub2'](_0x4717a9['origin'],this['center']),_0x34c8f2['set'](Math['abs'](_0x504f33['x']),Math['abs'](_0x504f33['y']),Math['abs'](_0x504f33['z'])),_0x10be8b['mul2'](_0x504f33,_0x6b351c),!(_0x34c8f2['x']>this['halfExtent'+'s']['x']&&_0x10be8b['x']>=0x1*0x10d+-0x2*0xcd+0x8d||_0x34c8f2['y']>this['halfExtent'+'s']['y']&&_0x10be8b['y']>=0xd59+0x110+-0xe69||_0x34c8f2['z']>this['halfExtent'+'s']['z']&&_0x10be8b['z']>=-0x2684+0xe6d+0x1817||(_0x125f52['set'](Math['abs'](_0x6b351c['x']),Math['abs'](_0x6b351c['y']),Math['abs'](_0x6b351c['z'])),_0x56a9cd['cross'](_0x6b351c,_0x504f33),_0x56a9cd['set'](Math['abs'](_0x56a9cd['x']),Math['abs'](_0x56a9cd['y']),Math['abs'](_0x56a9cd['z'])),_0x56a9cd['x']>this['halfExtent'+'s']['y']*_0x125f52['z']+this['halfExtent'+'s']['z']*_0x125f52['y'])||_0x56a9cd['y']>this['halfExtent'+'s']['x']*_0x125f52['z']+this['halfExtent'+'s']['z']*_0x125f52['x']||_0x56a9cd['z']>this['halfExtent'+'s']['x']*_0x125f52['y']+this['halfExtent'+'s']['y']*_0x125f52['x']);}['intersects'+'Ray'](_0x319c46,_0x4b2e10){return _0x4b2e10?this['_intersect'+'sRay'](_0x319c46,_0x4b2e10):this['_fastInter'+'sectsRay'](_0x319c46);}['setMinMax'](_0x49b91a,_0x1c71f0){this['center']['add2'](_0x1c71f0,_0x49b91a)['mulScalar'](-0x64+-0x244d*-0x1+-0x23e9+0.5),this['halfExtent'+'s']['sub2'](_0x1c71f0,_0x49b91a)['mulScalar'](0x16b*-0xf+0x88*-0x42+-0x12c7*-0x3+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x52ddec){const _0x5665cf=this['getMin'](),_0x555f09=this['getMax']();return!(_0x52ddec['x']<_0x5665cf['x']||_0x52ddec['x']>_0x555f09['x']||_0x52ddec['y']<_0x5665cf['y']||_0x52ddec['y']>_0x555f09['y']||_0x52ddec['z']<_0x5665cf['z']||_0x52ddec['z']>_0x555f09['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x3dac7b,_0x55fbcf,_0x1a82ff=!(-0xad*-0x19+0x311+-0x13f5)){const _0x7c8473=_0x3dac7b['center'],_0x3d2649=_0x3dac7b['halfExtent'+'s'],_0x564c86=_0x55fbcf['data'];let _0x2d29b8=_0x564c86[-0x2*-0x329+0x26b3*0x1+0x5*-0x901],_0x31b80a=_0x564c86[-0x2*0xf8b+0xa9b+0x147f],_0x93ce23=_0x564c86[0xe27+0x9b0+0x17*-0x109],_0x4f7f9e=_0x564c86[0x36d+0x1*-0x1931+-0x15c5*-0x1],_0x256107=_0x564c86[0x2fd+0x259e+-0x2*0x144b],_0x511039=_0x564c86[-0x191e+-0x10f6+-0x2a1d*-0x1],_0x100129=_0x564c86[-0x283+0x159d+-0x1318],_0x156fd8=_0x564c86[-0x1*-0x17d5+0x3d5*-0x2+-0x1025],_0x3c299f=_0x564c86[0x89b*0x1+0x99*0x2c+0x4fb*-0x7];if(_0x1a82ff){let _0x450c2b=_0x2d29b8*_0x2d29b8+_0x31b80a*_0x31b80a+_0x93ce23*_0x93ce23;if(_0x450c2b>0x1205+-0x20a0+-0x1*-0xe9b){const _0x5286c3=(-0x1299+0x82+0x1218)/Math['sqrt'](_0x450c2b);_0x2d29b8*=_0x5286c3,_0x31b80a*=_0x5286c3,_0x93ce23*=_0x5286c3;}if(_0x450c2b=_0x4f7f9e*_0x4f7f9e+_0x256107*_0x256107+_0x511039*_0x511039,_0x450c2b>0xd*-0x55+-0x1*-0x1951+-0x1500){const _0x1c1b05=(0x12f8+0x1*0x51d+0x605*-0x4)/Math['sqrt'](_0x450c2b);_0x4f7f9e*=_0x1c1b05,_0x256107*=_0x1c1b05,_0x511039*=_0x1c1b05;}if(_0x450c2b=_0x100129*_0x100129+_0x156fd8*_0x156fd8+_0x3c299f*_0x3c299f,_0x450c2b>0x1*-0x7dd+0x5e7+0xfb*0x2){const _0x3870b5=(-0x1ea5+-0x10e5+0x2f8b)/Math['sqrt'](_0x450c2b);_0x100129*=_0x3870b5,_0x156fd8*=_0x3870b5,_0x3c299f*=_0x3870b5;}}this['center']['set'](_0x564c86[-0x3ee+-0x1028+0x1422]+_0x2d29b8*_0x7c8473['x']+_0x31b80a*_0x7c8473['y']+_0x93ce23*_0x7c8473['z'],_0x564c86[0x2417+0x232b+0x4735*-0x1]+_0x4f7f9e*_0x7c8473['x']+_0x256107*_0x7c8473['y']+_0x511039*_0x7c8473['z'],_0x564c86[0x40b+0x10fa+-0x14f7]+_0x100129*_0x7c8473['x']+_0x156fd8*_0x7c8473['y']+_0x3c299f*_0x7c8473['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x2d29b8)*_0x3d2649['x']+Math['abs'](_0x31b80a)*_0x3d2649['y']+Math['abs'](_0x93ce23)*_0x3d2649['z'],Math['abs'](_0x4f7f9e)*_0x3d2649['x']+Math['abs'](_0x256107)*_0x3d2649['y']+Math['abs'](_0x511039)*_0x3d2649['z'],Math['abs'](_0x100129)*_0x3d2649['x']+Math['abs'](_0x156fd8)*_0x3d2649['y']+Math['abs'](_0x3c299f)*_0x3d2649['z']);}static['computeMin'+'Max'](_0xb7270e,_0x1cc1ce,_0x4e9c58,_0x5a1872=_0xb7270e['length']/(0x12d*-0x2+-0x1f8+0x1*0x455)){if(_0x5a1872>-0x46f+-0xde8+0x5*0x3ab){let _0x21d31d=_0xb7270e[0x44b+-0x2701+0x22b6],_0x5aee9b=_0xb7270e[-0x2495+-0x1*-0x1cf9+0x79d],_0x37ecce=_0xb7270e[0x1748+0x5f0+0x2*-0xe9b],_0x2977cb=_0x21d31d,_0x7c141b=_0x5aee9b,_0x1ed3bb=_0x37ecce;const _0x371514=_0x5a1872*(0x21c0+0x32*0x9b+-0x7*0x925);for(let _0x1375a3=0x2f*-0x61+0xa9*0xd+0x93d;_0x1375a3<_0x371514;_0x1375a3+=-0x1472+0xd9b*-0x2+0x2fab){const _0x3e733=_0xb7270e[_0x1375a3],_0x2f4f68=_0xb7270e[_0x1375a3+(0x25ed+0x397*0x3+-0x33f*0xf)],_0x145f1f=_0xb7270e[_0x1375a3+(0xe6d+-0x1*0x16f5+0x88a)];_0x3e733<_0x21d31d&&(_0x21d31d=_0x3e733),_0x2f4f68<_0x5aee9b&&(_0x5aee9b=_0x2f4f68),_0x145f1f<_0x37ecce&&(_0x37ecce=_0x145f1f),_0x3e733>_0x2977cb&&(_0x2977cb=_0x3e733),_0x2f4f68>_0x7c141b&&(_0x7c141b=_0x2f4f68),_0x145f1f>_0x1ed3bb&&(_0x1ed3bb=_0x145f1f);}_0x1cc1ce['set'](_0x21d31d,_0x5aee9b,_0x37ecce),_0x4e9c58['set'](_0x2977cb,_0x7c141b,_0x1ed3bb);}}['compute'](_0xe4437b,_0x57a6c){De['computeMin'+'Max'](_0xe4437b,Pa,Ma,_0x57a6c),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x352448){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x352448)<=_0x352448['radius']*_0x352448['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x1bfba8){const _0x5ad096=this['getMin'](),_0x149eae=this['getMax']();let _0x5eb57e=-0x2de*0x5+-0x459+0x12af;const _0x395773=['x','y','z'];for(let _0x47b946=-0x1f8a+-0xf9d+0x2f27;_0x47b946<-0x18dc+-0x1794+-0x9d*-0x4f;++_0x47b946){let _0x4d5539=-0x1efd+0xc9e*0x1+0x125f;const _0x332403=_0x1bfba8['center'][_0x395773[_0x47b946]],_0x5d8601=_0x5ad096[_0x395773[_0x47b946]],_0x1b9326=_0x149eae[_0x395773[_0x47b946]];let _0x31d599=-0xe13+0xb*0x166+0x43*-0x5;_0x332403<_0x5d8601&&(_0x31d599=_0x5d8601-_0x332403,_0x4d5539+=_0x31d599*_0x31d599),_0x332403>_0x1b9326&&(_0x31d599=_0x332403-_0x1b9326,_0x4d5539+=_0x31d599*_0x31d599),_0x5eb57e+=_0x4d5539;}return _0x5eb57e;}['_expand'](_0x49a58e,_0x4953fe){Pa['add2'](this['getMin'](),_0x49a58e),Ma['add2'](this['getMax'](),_0x4953fe),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x362368=new D(),_0x420760=0x1127+0x1ee5+-0x300c+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x362368),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x362368,this['radius']=_0x420760);}['containsPo'+'int'](_0x3e282d){const _0x4689a0=Wl['sub2'](_0x3e282d,this['center'])['lengthSq'](),_0x426aa6=this['radius'];return _0x4689a0<_0x426aa6*_0x426aa6;}['intersects'+'Ray'](_0x6c1ed0,_0xaa3093){const _0x5be8de=Wl['copy'](_0x6c1ed0['origin'])['sub'](this['center']),_0x1fd6b8=_0x5be8de['dot'](Sx['copy'](_0x6c1ed0['direction'])['normalize']()),_0x27c607=_0x5be8de['dot'](_0x5be8de)-this['radius']*this['radius'];if(_0x27c607>0x7c3*-0x1+0x940*-0x1+-0x41*-0x43&&_0x1fd6b8>0x1e*-0x71+0x1ad1*-0x1+-0x280f*-0x1)return!(-0x3*-0x131+-0x209a+0x1d08);const _0x43e78a=_0x1fd6b8*_0x1fd6b8-_0x27c607;if(_0x43e78a<-0x1f2c+-0x23d1+-0x42fd*-0x1)return!(0xddb+-0x13e1*-0x1+0x21bb*-0x1);const _0xc5ff16=Math['abs'](-_0x1fd6b8-Math['sqrt'](_0x43e78a));return _0xaa3093&&_0xaa3093['copy'](_0x6c1ed0['direction'])['mulScalar'](_0xc5ff16)['add'](_0x6c1ed0['origin']),!(0x1*-0xdd5+-0x1d1*-0xb+-0x626);}['intersects'+'BoundingSp'+'here'](_0x2a7c4d){Wl['sub2'](_0x2a7c4d['center'],this['center']);const _0x1c8320=_0x2a7c4d['radius']+this['radius'];return Wl['lengthSq']()<=_0x1c8320*_0x1c8320;}}class QS{constructor(_0x1953e9=D['UP'],_0x131e45=-0x1ef+-0x847+0xa36){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x1953e9),this['distance']=_0x131e45);}['clone'](){const _0x51e477=this['constructo'+'r'];return new _0x51e477()['copy'](this);}['copy'](_0x26dc80){return this['normal']['copy'](_0x26dc80['normal']),this['distance']=_0x26dc80['distance'],this;}['intersects'+'Line'](_0x19b868,_0x4e910c,_0x5e44a9){const _0x120fea=this['distance'],_0x1fd97a=this['normal']['dot'](_0x19b868)+_0x120fea,_0x2febdd=this['normal']['dot'](_0x4e910c)+_0x120fea,_0xad9d38=_0x1fd97a/(_0x1fd97a-_0x2febdd),_0xd01e43=_0xad9d38>=0x757*0x2+-0x25a8+-0x16fa*-0x1&&_0xad9d38<=0x654+-0x34e+-0x305;return _0xd01e43&&_0x5e44a9&&_0x5e44a9['lerp'](_0x19b868,_0x4e910c,_0xad9d38),_0xd01e43;}['intersects'+'Ray'](_0x4cbc56,_0x52bf92){const _0x8b0a77=this['normal']['dot'](_0x4cbc56['direction']);if(_0x8b0a77===-0x1*0xba5+0x570*-0x2+-0x1*-0x1685)return!(-0x374+-0x10f1+-0xe*-0x175);const _0x3b19a4=-(this['normal']['dot'](_0x4cbc56['origin'])+this['distance'])/_0x8b0a77;return _0x3b19a4>=0x9*-0xa4+0xc47*-0x1+0x95*0x1f&&_0x52bf92&&_0x52bf92['copy'](_0x4cbc56['direction'])['mulScalar'](_0x3b19a4)['add'](_0x4cbc56['origin']),_0x3b19a4>=-0x6c*0x31+-0x569+-0x1*-0x1a15;}['normalize'](){const _0xa5f8=(-0x9cb+0xb*-0x2cb+0x2885)/this['normal']['length']();return this['normal']['mulScalar'](_0xa5f8),this['distance']*=_0xa5f8,this;}['set'](_0x4245ec,_0x5771f0,_0x57ba51,_0x575df0){return this['normal']['set'](_0x4245ec,_0x5771f0,_0x57ba51),this['distance']=_0x575df0,this;}['setFromPoi'+'ntNormal'](_0x25fe55,_0x41ebba){return this['normal']['copy'](_0x41ebba),this['distance']=-this['normal']['dot'](_0x25fe55),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x2bc21a=-0x7e5+-0xfd1+0xbdb*0x2;_0x2bc21a<-0xb*0x19+0x2ef*0xb+-0x1f2c;_0x2bc21a++)this['planes'][_0x2bc21a]=new QS();}['clone'](){const _0x31efe2=this['constructo'+'r'];return new _0x31efe2()['copy'](this);}['copy'](_0x59f3e6){for(let _0x4e774d=0x246d+0x5*0x7c3+-0x4b3c;_0x4e774d<0x107f+-0x1852+0x11f*0x7;_0x4e774d++)this['planes'][_0x4e774d]['copy'](_0x59f3e6['planes'][_0x4e774d]);return this;}['setFromMat'+'4'](_0x10924e){const [_0x4d855a,_0x5d8a3f,_0x2ad9b4,_0x6431c,_0x4dc07d,_0x18f041,_0x580e95,_0x13b5a3,_0x1f542d,_0xa93ff4,_0x2e3b36,_0x1e2325,_0x4d6948,_0x60d9d0,_0x3efe2a,_0x8ea0d9]=_0x10924e['data'],_0xf50e79=this['planes'];_0xf50e79[-0x3*-0x62f+-0x177f+0x4f2]['set'](_0x6431c-_0x4d855a,_0x13b5a3-_0x4dc07d,_0x1e2325-_0x1f542d,_0x8ea0d9-_0x4d6948)['normalize'](),_0xf50e79[-0x7*0x35d+-0x4b5+-0x1*-0x1c41]['set'](_0x6431c+_0x4d855a,_0x13b5a3+_0x4dc07d,_0x1e2325+_0x1f542d,_0x8ea0d9+_0x4d6948)['normalize'](),_0xf50e79[-0x2580+-0x1*0x1375+0x38f7]['set'](_0x6431c+_0x5d8a3f,_0x13b5a3+_0x18f041,_0x1e2325+_0xa93ff4,_0x8ea0d9+_0x60d9d0)['normalize'](),_0xf50e79[-0x6*0x3a5+0x1*0x1c06+-0x625]['set'](_0x6431c-_0x5d8a3f,_0x13b5a3-_0x18f041,_0x1e2325-_0xa93ff4,_0x8ea0d9-_0x60d9d0)['normalize'](),_0xf50e79[-0xaa*0x6+-0x23c3+0x27c3]['set'](_0x6431c-_0x2ad9b4,_0x13b5a3-_0x580e95,_0x1e2325-_0x2e3b36,_0x8ea0d9-_0x3efe2a)['normalize'](),_0xf50e79[0x1fe7+-0xd14*-0x2+-0x3a0a]['set'](_0x6431c+_0x2ad9b4,_0x13b5a3+_0x580e95,_0x1e2325+_0x2e3b36,_0x8ea0d9+_0x3efe2a)['normalize']();}['containsPo'+'int'](_0x592a88){for(let _0x18da8a=0x1d07+-0x718+-0x15ef;_0x18da8a<-0xd5e+0x1c8+0xb9c;_0x18da8a++){const {normal:_0x19a723,distance:_0x364a67}=this['planes'][_0x18da8a];if(_0x19a723['dot'](_0x592a88)+_0x364a67<=-0x19e1+0x25b5+-0x2f5*0x4)return!(-0x2*-0x4c4+-0x1cae*0x1+0x1327);}return!(-0xb7a*-0x1+-0x8b*-0x37+-0x2957);}['containsSp'+'here'](_0x3c055e){const {center:_0xc88bc0,radius:_0xd83d1c}=_0x3c055e;let _0x41fd30=-0xc61+-0x1*0x597+0x47e*0x4;for(let _0x5536f2=0x16eb+0x4d6*0x2+-0x3*0xadd;_0x5536f2<-0x62f*-0x5+0x123e+-0x3123;_0x5536f2++){const {normal:_0x8f0ab7,distance:_0x159e4e}=this['planes'][_0x5536f2],_0xa319=_0x8f0ab7['dot'](_0xc88bc0)+_0x159e4e;if(_0xa319<=-_0xd83d1c)return-0x193+-0x15e7+0x177a;_0xa319>_0xd83d1c&&_0x41fd30++;}return _0x41fd30===-0x1*-0x1b1d+-0x4*-0x54b+-0x3043?0x232d*-0x1+0xae6+0x1*0x1849:0x10db*0x1+-0x1c73+-0x1*-0xb99;}}class Dn{constructor(_0x43d63f,_0x543155){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x43d63f&&this['origin']['copy'](_0x43d63f),_0x543155&&this['direction']['copy'](_0x543155));}['set'](_0x15dd08,_0x5ceb4b){return this['origin']['copy'](_0x15dd08),this['direction']['copy'](_0x5ceb4b),this;}['copy'](_0x1759d0){return this['set'](_0x1759d0['origin'],_0x1759d0['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0x1a3b+-0x38*-0x3a+-0x26eb,ue=-0x12*-0x15b+-0x1*0x22a0+-0xa3b*-0x1,ip=-0xa63*0x1+0x1*0x479+-0x2*-0x2f6,rp=0x399+-0x2357+-0xef*-0x22,Ft=-0x298*0x8+0x1681+-0x1c0,vx=0x8b7+-0x1*0xb26+-0x19*-0x19,JS=0x2532+-0x23a5+-0x189,xx=-0x40c+-0xf*-0x287+0x8*-0x43b,jh=0xa93*-0x1+0x17*-0xd1+0x2f*0xa0,Yh=0x19bd+0xca1+-0x2656,fs=0x270*0x2+0x1*0x2186+0x1333*-0x2,Tx=-0x85*0x3b+0x279*0x9+0x868,wx=0x1c10+-0x1251+0x1*-0x9bc,Ex=-0x7d*0x48+-0xfe3+0x330f,ms=0x191c*0x1+-0x65d+0x1*-0x12bf,lh=-0x785+-0x18*-0x14+0x5a6,ey=0x2*0x511+0x2a2*0x7+0x2db*-0xa,bx=0xd6b+0x1859+-0x25c1,jo=-0x65*0x53+-0x25bd+0x467d,Yo=-0xe27*-0x1+-0x296*0x3+0x5*-0x147,ch=0xbbd*-0x1+-0x4a6+0x1067,bt=-0x1e9*0xa+0x75+-0x1*-0x12a5,pa=-0x1*-0xd1+-0x1f*-0xac+-0x15a4,Fo=0x95*-0xd+0x1*-0xd72+-0x1*-0x1505,Ax=-0xf2a+-0x92f+0x185c,Te=0x259f*0x1+-0xcc8+0x18d7*-0x1,vt=-0x106c*-0x1+-0x2335*-0x1+0x1*-0x33a0,Kh=-0x49*-0x25+0xdc7*-0x1+-0xc*-0x45,Zh=-0xc7c*0x2+0x1a57+-0x15c,Qh=0x531+-0xd*-0x1c3+0x4*-0x705,ma=-0x2*0xfa0+-0x1*-0xe1d+-0x48*-0x3d,Cx=0x193b+0x759*0x5+-0x6*0xa54,hh=0x24c3+-0x241+-0x1*0x2281,dh=0x1028+0xe8*-0x23+0xf92,Wf=0x7c*0x1+-0xbcd*-0x2+-0x1813*0x1,Px=0x66*0x45+0x88e+-0x8*0x481,Mx=-0xab*-0x29+0x9d5+-0x2533,Dx=0x21*-0x1+-0x1*-0x1541+-0x4a*0x49,Wi=-0x1*-0x1f51+0x70*0x37+0x6d*-0x82,$f=-0x2425+-0x755+0x2b7a,Yi=0x490*-0x1+0x4*0x199+-0x1d3,wr=0x2216+-0x1837*-0x1+-0x3a4b*0x1,ty=-0x5f0+0x3*-0x4cf+0x145d,sy=-0x1*0x6c9+0x1*0x2027+0x1*-0x195d,ap=0x15*0x55+0x1c5*-0x11+0x171e,Jh=-0x1cb4+-0x7*-0x21d+0x1b*0x84,np=-0x1f*-0xbb+0x126f+-0x48*0x92,ed=-0x3*0x66f+0x303*0x4+0x746,Cr=0x2*0x1d+0x1db+-0x20f,Ne=-0x1bfd*0x1+0x1484+0x780,td=-0x131a+0x25d0+0x957*-0x2,op=0xb*0xc5+-0x414+-0x45a,vl=-0x1dff+0x13*0x1b3+-0x240,ui=-0xcb4+-0x246b+-0x1895*-0x2,nt=0xa2+-0xab7*-0x1+0xb4d*-0x1,Ye=0x2e*-0x92+0x704+0x1345,Xt=0x12bb+-0x1b59+0x8ac,Ji=0x25b0+-0x2*0xf23+-0x75b,$i=-0x117c+-0xbc1+0xd*0x241,sd=0x1*-0x1578+0x36d*0x2+0xeaf*0x1,In=-0xf58+-0xd30+0x1c9a,lp=-0x391*-0x1+0x253d+-0x28bb*0x1,_s=0x1*-0x11fb+-0x8*-0x10f+0x997,id=0x2*-0x1b6+-0xc*-0x2cf+-0x1e33,cp=0x1*-0x446+0x4f*-0x47+-0x5*-0x541,hp=0x5*0x233+0x217f+0x2c67*-0x1,xl=-0x1e6c+0xa84*0x1+0x1400,Tl=0xbd4+0x503*-0x6+0x1257,rd=-0x1*-0xea5+0x5a7+-0x1432,ad=-0x1*0x15e9+0x1*-0x1eef+0x34f3,iy=-0x165*-0xe+0x52*0x59+0x1*-0x2fec,ry=-0x2186+-0x66c+0x280f,ay=0x24b7+0x155*0xb+-0x3340,ny=0x7*0x33b+0x4*-0xd1+-0x133a,dp=-0x118b+-0x1599+0x2744,oy=0x1f*0x6d+0x85c+0x156e*-0x1,fp=-0x21b3+0x34*-0x39+0x2d69,up=0x1e1c+-0x29*-0x2c+-0x75*0x51,pp=-0x1ad3+-0x439*0x1+0x1f30,Ki=0x2522+0x1b39+-0x2*0x201b,mp=-0xb43+0x8e1+0x288,ly=-0x1*0x18fe+-0x5*0x316+0x2893,_p=0x99f*0x1+-0x26d*-0x8+-0x1cdf,gp=0x6*0x5de+0x20a3+0x1*-0x43ae,Sp=0x1a8d*-0x1+0x883*0x1+0x1234,yp=-0x1*-0xa57+-0x26c2+0x1c96*0x1,vp=0x134f+0x264b+0x2*-0x1cb7,cy=0x21bc+-0x2636+-0x3*-0x18d,xp=-0x3*0xbea+0x5*0x5ab+-0x795*-0x1,nd=-0x2*-0x851+0x5c8*0x5+-0x2d5b,Tp=-0x1*0x21da+0x464+0x2b2*0xb,Ue=-0x141f*0x1+-0x8fc+0x1d4c,od=-0x120c+-0x26e2+0x3920,wp=-0x3d5*-0x5+0x2015+0xb3*-0x49,Ep=0x1982+-0x1*0xe4a+-0xb04,bp=-0x265d+-0x76*-0x41+0x89c,Xf=0xc*0x167+0x1*-0x167c+0x5de,qf=0x4*-0x826+0x24a2+-0x3d3,jf=0x17f1+0xa73+-0x12*0x1e6,Yf=-0x2b8+-0x2493+0x2788,Kf=0x1fea+-0x165b+-0x109*0x9,Zf=0xd76*-0x1+-0xd*0x11f+0x1c48,hy=-0x1862+-0x3*-0xa3+-0x16b9*-0x1,dy=-0x1217+0x238+0x2b*0x60,fy=-0x41b*-0x3+0x22e3+0x2*-0x1779,uy=0x2*0x1024+0x560+0xc77*-0x3,Qf=0x3*0xe6+0x749+-0x9b7,vn=-0x2636*-0x1+0x25a9*0x1+-0x4b9a,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x1fe5+0x2561+-0x4546)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x8e4+-0xa92*0x3+-0x2*-0xb69)}],[sy,{'name':'L8','size':0x1,'ldr':!(0xefd*0x1+-0x1*0xa3a+-0x4c3)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x172*0x7+0x617*0x5+0x2891*-0x1)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0x1ade+0x2*0xdcf+0x4*-0xd9f)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(0x206c*-0x1+0x6a0+0x1fc*0xd)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x9*0x3df+0x3c9*-0x3+-0x177c)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x2073+-0xe6f+-0x1204)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0x1a7e+-0x1*-0x1934+0x14a)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0xe5d*0x1+0x124a+0x20a7*-0x1),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x2*-0xbb+-0x1*0x224b+0x3f9*0x9),'srgb':!(0xf1+-0x1616+0x1*0x1525)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x2491+-0x104c+-0x1445),'srgb':!(0x1c01*0x1+-0xd03+0xca*-0x13)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0xb05+0x7*-0x4cd+0x19d*0xe)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x3*0xccf+-0x17bb+0x3e28),'srgb':!(-0x217a+-0x17d*-0x4+-0x1a*-0x10f)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0xf12+0x144e+-0x2*0x11b0),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x899+-0xf0e+-0x17a7*-0x1),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x1829+-0x3*0xaad+0x3830),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0xd0f*0x1+-0x2547+0x3256)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1122+-0x2526+0x1404),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1*0x20e7+0x27*0xf3+-0x2cc*0x19),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1d8*0x7+0x1633*0x1+-0x231b),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x1*-0x1aff+-0x680+0x217f),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1*-0x46b+-0x1c41*0x1+-0x12*-0x153),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x443*0x3+-0x7*-0x3+-0xcde),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x10*0x9d+0x2177+0x5*-0x4bb),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x16*-0x1+0x1bff+-0x1be9*0x1)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x1788+-0xcec*-0x1+-0x2474)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0xd4+-0x15ff+0x152b),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x25*-0x43+-0x17ae+0xdff),'srgb':!(-0x1b2+-0x7aa+0x95c)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x1a02+-0xcbd+-0xd45),'srgb':!(0x22c4+0x13a7*0x1+-0x366b)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x197b+0x1204+-0x28f*0x11),'srgb':!(-0x16e6+-0x1882+0x2f68)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x2*-0xd3b+-0x4b2+0x4*0x7ca),'srgb':!(-0x13c9+0x1270+0x159)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x7*-0x43f+0xacc+-0x2885),'srgb':!(0xa*-0x271+0x1c49*0x1+-0x1*0x3df)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x1*-0x274+0x204b+0xf*-0x251),'srgb':!(-0xe6+-0xa31*-0x3+0x1*-0x1dad)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0xea7+-0xf6*0x4+0x3b3*0x5),'srgb':!(-0xb57+0x381*-0x7+-0x2*-0x11ef)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x3*0x6c+0xe*0x1cf+-0x180e)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0xa6*0x13+-0x113f+0x1d91*0x1)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x18d7*-0x1+-0x22a6+0x9cf)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x151*0x5+0x22d3*-0x1+0x2968)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x9a*0x17+-0x765*-0x4+-0xfbe*0x1)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(-0xba*-0x13+-0x1*-0x6e7+-0x14b5)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0x16ab+0x3a8+-0x1a53)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0x896+-0x1b1d+-0x1f*-0x99)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(-0x79d*-0x5+-0x1656+-0x1*0xfbb)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x849+-0x1*-0x90a+-0x1*0xc1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x22fc+-0xf1*-0x24+0x118)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x1*0x8a8+0x1724+0x1*-0x1fcc)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x2000+0x42*-0x62+0x5*0xb74)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0xa66+0x1*-0x1206+-0x10*-0x7a)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x6*-0x179+0x2*0x1183+-0x4*0xaf7)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x1*0x885+0x53c+-0xdc1)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x15*-0x29+0x890+-0x1*0x533)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x2*-0x37d+0x2258+0x1b5e*-0x1)}]]),Ix=_0x531e97=>{var _0x483d92;return((_0x483d92=Nt['get'](_0x531e97))==null?void(0xac0+0x1372+-0x1e32):_0x483d92['blockSize'])!==void(-0x11aa+0x296+0xf14);},fh=_0x403ed8=>{var _0x4f2f7f;return((_0x4f2f7f=Nt['get'](_0x403ed8))==null?void(-0x1*-0x16ba+-0x1*0x19be+0x304*0x1):_0x4f2f7f['srgb'])===!(0x1*0xd4f+-0xf0d*-0x2+-0x2b69);},dn=_0x26c328=>{var _0x177583;return((_0x177583=Nt['get'](_0x26c328))==null?void(-0x21f*-0x12+0x383+-0x29b1*0x1):_0x177583['isInt'])===!(-0x1e5*-0x13+-0x188f+-0xb70);},ld=_0x56ec43=>{var _0x412163;return((_0x412163=Nt['get'](_0x56ec43))==null?void(0x15f2+0x156f+-0x5*0x8ad):_0x412163['srgbFormat'])||_0x56ec43;},Lx=_0x551d21=>{for(const [_0x2c93aa,_0x299084]of Nt)if(_0x299084['srgbFormat']===_0x551d21)return _0x2c93aa;return _0x551d21;},py=_0x2d6a40=>{const _0x5946a8=Nt['get'](_0x2d6a40);return!!(_0x5946a8!=null&&_0x5946a8['ldr']&&!(_0x5946a8!=null&&_0x5946a8['srgb']));},my=_0x573261=>{switch(_0x573261){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x9*-0x6+0x24a*-0x1+0x280,hd=-0xb*-0xb9+-0x3*0x70d+-0x7*-0x1e3,_y=-0xe2a+0x6*0x24+-0x6aa*-0x2,gy=0x4*0x942+-0x9a9+-0x1b5c,js=-0x298+-0x48b*0x6+0x2*0xeef,Er=-0x135a+0xbaf*-0x2+0x61b*0x7,oa=0x11*-0x16d+0x2*0x1191+-0xadf,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x3b2+0x1a2a+0x1*-0x1ddb,xn=0x296+0x28c*-0xd+0x1e86,kx=-0x235c+0x1*-0x23b1+0x1*0x470f,Ux=0x4b7+0x2611*0x1+-0x2ac5,Bx=-0x1e79*-0x1+-0x23af+0x53b,$l=-0x1aff+0x418+-0xb*-0x215,yy=0xc*-0x1+0x2554+-0x2547,Od=0x9a4+-0x1d38+0x1396,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x624+-0x1*-0xaab+0x1*-0x10ce,Pr=0x7*-0x57d+-0x1417+0x3a84,vy=0x2423+-0xdd*-0x16+-0x1*0x371e,xy='2d',zx=-0x1346*-0x1+-0x1973+-0x1f*-0x33,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1*0x608+-0xa74+-0x1*-0x46c,la=0xffe+0x8*-0x66+-0xccd,fd=-0x1*-0x10a3+0x740+0x1*-0x17e1,Ml=-0xc6a+-0x23b*0x4+0x1559,Ty=0x1*-0x8e1+-0x19*0x7c+0x11b*0x13,el=-0x1abd+-0x64b+-0x1*-0x210d,Ve=0x2*-0x602+0xc*-0x80+0x120a,Tn=-0x21e3+-0x9*0x1b5+-0x628*-0x8,_a=-0xb*0x5f+-0x8c3+-0x8f*-0x17,Xs=0xe7a+0x2b*-0x35+-0x1*0x591,ga=-0x426+-0x5*0x1c3+0x67c*0x2,ds=-0x24c3+-0x1625+0x3aec,Rn=-0x1*0x6c4+-0x12f*-0x10+0x1*-0xc27,ca=0x93+0x1b61*-0x1+0x1ad4,ha=-0x13c*0x2+-0x1f2*0x6+0xe2b,da=0x21cb+0x1cd8+-0x3e9b,tl=-0xa75+-0x1498+0xad*0x2e,sl=0x896+-0xe*0x166+0xb08,il=-0x120*-0x4+-0x1a40+0x15cb,_h=0x18e6+-0x2629*0x1+0xd4f*0x1,On=0x1574+0x1d*-0xdf+0x3dc,li=0x3*0xba4+0x21c8+-0x44a6,Hx=0x3dd+0x99d+-0xd6b,Wx=-0x1*0xc2c+-0x1d41+-0x13*-0x22f,ud=0x6b3+-0x47*0x1d+-0x1*-0x169,$x=-0x1ed9+0x11fd+-0x296*-0x5,Xx=0x18f9+0x1b3e+-0x3424,qx=-0x97d+0x2b4+0x6dd,pd=0x1*-0x1bed+0x254a+-0x3*0x318,md=0x10b2+0x1*0x24b7+-0x11*0x323,Lp=0x46*0x2f+0x229d*0x1+-0x2f60,wy=0x3*0xc59+-0x3c0+-0x2133,jx=0x25e*0x1+0x11f5*-0x2+0x21a5,Fn=0xc*0x9c+0x23*-0x113+0xa21*0x3,Nn=0x23c3+-0xe5*-0xe+0x302e*-0x1,kn=0x21c0+-0xed*-0x15+0x1*-0x3515,Un=0x31*0x83+0x1*0x5eb+-0x1d1*0x11,Bn=0x208*-0xf+-0xc0*0x1d+0x3456,_d=0xf3*0xd+0x2d*-0x82+-0x551*-0x2,gd=0x1dad+0x1*-0x1085+-0xd08,zn=-0xe8e*-0x2+0x628+-0x2323,Sd=0x2ed+-0x1438+-0x1*-0x116d,yd=0x2354+0x166+-0x2497,Vn=-0x1385+0xc55+0xe*0x86,vd=0x1*-0x1573+0x2316+0x13a*-0xb,xd=-0x233b+0xea7+0x14ba,gh=-0x574+0x1f1f+-0x2*0xcc2,Rp=-0x2102+0x1ad7+0x1*0x653,Op=-0x1c43+0x1ba3+0x43*0x3,Yx=0x1e10+-0x1b2f+0x2b7*-0x1,Kx=0x29*-0x1d+0xd0c+-0x83c,Zx=-0xe7d+0x70+0xe39,Qx=-0x26*-0x13+-0x19*-0x173+-0x8*0x4dc,Jx=0x4d6*-0x8+-0x212e*-0x1+0x5b0,eT=0x144c+-0x1d23+0x906,tT=0x575+0x351+0x13a*-0x7,sT=0x2563+0x272+-0x27a4,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x5afc7a,_0x5581d6)=>{_0x5afc7a['forEach'](_0x1d4d32=>rT['set'](_0x1d4d32,_0x5581d6));});const aT='webgl2',Fp=-0x6b*-0x21+-0x142*0x17+0xf24,by=-0x135a*0x1+-0x2403+0x375f,nT=-0x45f*0x3+-0x11e5+0xd1*0x26,oT='ldr',Ay=0xce*0xe+0x1*0x1793+-0x22d6,Cy=0x1*0x10af+0x2*-0x4b1+0x74b*-0x1,Py=0x1903+-0x1c83+0x384,My=0x95e+-0x98*0x3d+-0xd71*-0x2,Dy=0x96*0x7+0x880+0x6*-0x217,Iy=-0x1e78+-0x1172+0x300a,Ly=0x190e+-0x1d14+0x223*0x2,Ry=-0x2670+-0xf9*0x1+0x11*0x259,lT=0x747+-0x220+-0x85*0x8,rl=0x4b3*0x1+0x2b*-0x1+-0x5*0xe8,Oy=0x3b5+-0x215*0x9+-0x503*-0x3,su=0x1e1*0xb+0x6e6+0x1b8f*-0x1,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[0x1*0xd76+-0x2*-0x297+-0x16f*0xd,-0x2296+-0x29*0x5d+0x317c,0xf02+-0x1*0x229c+-0x139c*-0x1,0x146b+-0x1*-0x20c5+-0x1a97*0x2,0x7*0x1ab+-0x15dd+-0xa34*-0x1,-0x243f+-0x1b3d+-0xfe*-0x40,0xc25*0x1+-0x1*-0x255f+0x12*-0x2c0,-0x19ab+-0x1d*0xc5+0x1*0x2ffe],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x4c*0x53+-0x99*-0x2d+-0x240,0xb*-0xd4+0xf28+-0x60a,-0x1*0x14a1+0xb*-0xe3+-0xf33*-0x2],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x15d6+0x123e+0x5*0xb8,Le[gs]=-0xd1c+0x790+0x58d,Le[gi]=0x398+-0x821+0x48b,Le[us]=-0x263b+0x2b3*0x1+-0x1b*-0x151,Le[Wt]=-0x1098+-0x2613+0x36af,Le[is]=-0x4f+-0x1600+0x1654,Le[ba]=0x1*-0x7c+-0x3a9*-0x1+-0x327*0x1,Le[wl]=0x1*0x649+-0x2*0x35f+-0x4*-0x1f,Le[El]=0x2*-0xdd7+-0x205e+0xf05*0x4,Le[bl]=-0x1220+0x20b4+-0xe8b,Le[Al]=-0x161*0x7+-0x1009*-0x1+0x3a*-0x1c,Le[Cl]=0x18e2+0x2113+-0x846*0x7,Le[Pl]=0x10da+0x195a+0x13*-0x238,Le[yi]=0x1*0x178d+-0xdf*-0x23+-0x35fd,Le[Jf]=-0x25*0x92+0x1578+-0x5e,Le[uh]=0x242*0x5+0x2*-0x125f+0x1975,Le[Ap]=0x3*0xb80+-0x2*0x85d+-0x11c4,Le[Cp]=-0x15bb*0x1+-0x99*-0x19+0x6cd,Le[Pp]=-0x1e96+-0x2105+0x59*0xb7,Le[Rx]=-0x184b+0x2*0x129e+-0xcec*0x1,Le[Ox]=0x35*0x26+-0x10f6+0x6*0x185,Le[Fx]=-0x1bb9+0xde5+0xddb,Le[Ko]=0x29*0x10+0x1f0a+-0x2192,Le[Zo]=0x218+-0x1103*0x1+0x57*0x2c,Le[Nx]=0x833*-0x1+-0x21fa+0x2a37,Le[Mp]=0xd01*-0x1+0xa31+0x1*0x2db,Le[Dp]=0xcfd+0x7*-0x319+0x2*0x45f,Le[ph]=0x997*-0x1+-0x3c2+0x46*0x31,Le[Ip]=0x5*-0xe3+-0x501+0x97e,Le[Ln]=-0x1e8e*0x1+0x8de+-0x125*-0x13;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x7ec+-0xd09*-0x1+-0x7*0xbb;}static['pushGpuMar'+'ker'](_0x3fc74b,_0x5820df){mr['markers']['push'](_0x5820df),_0x3fc74b['pushMarker'](_0x5820df);}static['popGpuMark'+'er'](_0x2f663a){mr['markers']['length']&&mr['markers']['pop'](),_0x2f663a['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0x923+-0x1fcd*0x1+0x16aa;class Td{constructor(_0x183106,_0x31a63f){h(this,'slot',-(0xf50+-0x2621*0x1+0x16d2)),h(this,'scopeId',null),(this['name']=_0x183106,this['visibility']=_0x31a63f);}}class kp extends Td{}class fT extends Td{constructor(_0x3dfd9d,_0x329e62,_0x29521c=!(-0xf70+-0x22*0x3e+0x17ad*0x1)){super(_0x3dfd9d,_0x329e62),h(this,'format',''),(this['readOnly']=_0x29521c,w['assert'](_0x29521c||!(_0x329e62&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x5dbe21,_0x3ad69e,_0x18debd=xy,_0xfaeeed=zx,_0x3fa281=!(0x2568+-0x1f4b*-0x1+-0x44b3),_0x20f278=null){super(_0x5dbe21,_0x3ad69e),this['textureDim'+'ension']=_0x18debd,this['sampleType']=_0xfaeeed,this['hasSampler']=_0x3fa281,this['samplerNam'+'e']=_0x20f278??_0x5dbe21+'_sampler';}}class uT extends Td{constructor(_0x2eacef,_0x5a66dc=Ne,_0x55dbeb=xy,_0x175dd5=!(-0x161+-0x1cc4+0x1e25),_0x366755=!(-0x1*0xcd3+0x2117*-0x1+-0x5*-0x92f)){super(_0x2eacef,nT),this['format']=_0x5a66dc,this['textureDim'+'ension']=_0x55dbeb,this['write']=_0x175dd5,this['read']=_0x366755;}}class Ny{constructor(_0x1f847c,_0x14be76){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x14be76));let _0x298ebf=-0xa69*-0x3+0xe39+-0x2d74;_0x14be76['forEach'](_0x52b6d5=>{_0x52b6d5['slot']=_0x298ebf++,_0x52b6d5 instanceof Gm&&_0x52b6d5['hasSampler']&&_0x298ebf++,_0x52b6d5 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x52b6d5):_0x52b6d5 instanceof Gm?this['textureFor'+'mats']['push'](_0x52b6d5):_0x52b6d5 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x52b6d5):_0x52b6d5 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x52b6d5):w['assert']('Invalid\x20bi'+'nd\x20format',_0x52b6d5);}),this['device']=_0x1f847c;const _0x22ef46=_0x1f847c['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x482a38,_0x1f2f57)=>this['bufferForm'+'atsMap']['set'](_0x482a38['name'],_0x1f2f57)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x3e4562,_0x29ba00)=>{this['textureFor'+'matsMap']['set'](_0x3e4562['name'],_0x29ba00),_0x3e4562['scopeId']=_0x22ef46['resolve'](_0x3e4562['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x5f15e0,_0x9cd17b)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x5f15e0['name'],_0x9cd17b),_0x5f15e0['scopeId']=_0x22ef46['resolve'](_0x5f15e0['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x53ea5d,_0x449f81)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x53ea5d['name'],_0x449f81),_0x53ea5d['scopeId']=_0x22ef46['resolve'](_0x53ea5d['name']);}),this['impl']=_0x1f847c['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x456d18){const _0x4277a6=this['textureFor'+'matsMap']['get'](_0x456d18);return _0x4277a6!==void(0x15dd+0x1*-0x120d+0x2*-0x1e8)?this['textureFor'+'mats'][_0x4277a6]:null;}['getStorage'+'Texture'](_0x3f4efc){const _0x58f9d5=this['storageTex'+'tureFormat'+'sMap']['get'](_0x3f4efc);return _0x58f9d5!==void(0x19ea+-0x893*0x3+-0x7*0x7)?this['storageTex'+'tureFormat'+'s'][_0x58f9d5]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x3d118f,_0x450d51){return this['_cache']['has'](_0x3d118f)||(this['_cache']['set'](_0x3d118f,_0x450d51()),_0x3d118f['on']('destroy',()=>{this['remove'](_0x3d118f);}),_0x3d118f['on']('devicelost',()=>{var _0x1244bd,_0xfbeaa;(_0xfbeaa=(_0x1244bd=this['_cache']['get'](_0x3d118f))==null?void(0x16f8+-0x2382+0xc8a):_0x1244bd['loseContex'+'t'])==null||_0xfbeaa['call'](_0x1244bd,_0x3d118f);})),this['_cache']['get'](_0x3d118f);}['remove'](_0xc2d4c7){var _0x4e67e7,_0x51cd4c;(_0x51cd4c=(_0x4e67e7=this['_cache']['get'](_0xc2d4c7))==null?void(0x85e+0x3*-0x303+0x39*0x3):_0x4e67e7['destroy'])==null||_0x51cd4c['call'](_0x4e67e7,_0xc2d4c7),this['_cache']['delete'](_0xc2d4c7);}}class Xi{static['calcLevelD'+'imension'](_0x3aecdd,_0x4eeeb9){return Math['max'](_0x3aecdd>>_0x4eeeb9,-0xe*0xc+0x2114+-0x206b);}static['calcMipLev'+'elsCount'](_0xbcf783,_0x4b698b,_0x43764e=-0x79*-0x4c+-0x2*0xeed+0x611*-0x1){return 0x1*0x1e71+0x1e9c+-0xf43*0x4+Math['floor'](Math['log2'](Math['max'](_0xbcf783,_0x4b698b,_0x43764e)));}static['calcLevelG'+'puSize'](_0x2ca883,_0x2261a2,_0x28151c,_0x4a8476){var _0x2ca452;const _0x2dba1d=Nt['get'](_0x4a8476);w['assert'](_0x2dba1d!==void(0x1273+0x2239+-0x34ac),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x4a8476);const _0x6ebe82=((_0x2ca452=Nt['get'](_0x4a8476))==null?void(0x5aa+0x4*0x98e+-0x2be2):_0x2ca452['size'])??-0x1fb9+-0x15f*0x2+0x2277;if(_0x6ebe82>-0x266f+-0x5*0x119+0x2bec)return _0x2ca883*_0x2261a2*_0x28151c*_0x6ebe82;const _0x475177=_0x2dba1d['blockSize']??-0x598*-0x1+0x4b0*0x3+-0x11*0x128;let _0xdaee78=Math['floor']((_0x2ca883+(0x1cc4+-0x1ef6+0x71*0x5))/(-0x3b0+0x5*-0x376+0x1502));const _0x177d61=Math['floor']((_0x2261a2+(0x1bf0+0x25a+-0x1e47))/(-0x1ca9+0xe8c+0xe21)),_0x49713e=Math['floor']((_0x28151c+(-0x8e+0x181c+-0x35d*0x7))/(-0x90e+-0x3c1+0xcd3));return(_0x4a8476===xl||_0x4a8476===Tl)&&(_0xdaee78=Math['max'](Math['floor'](_0xdaee78/(-0x203a+-0x73*0x53+-0x1e1*-0x25)),-0x4b*0x47+0x2455*-0x1+0x3923)),_0xdaee78*_0x177d61*_0x49713e*_0x475177;}static['calcGpuSiz'+'e'](_0x21e7d7,_0x39ac7d,_0xdc94f7,_0x3384d4,_0x227f5c,_0x23b66e){let _0x29f45a=-0x1*-0x1401+0x172*-0x11+0x491*0x1;for(;_0x29f45a+=Xi['calcLevelG'+'puSize'](_0x21e7d7,_0x39ac7d,_0xdc94f7,_0x3384d4),!(!_0x227f5c||_0x21e7d7===-0x54+-0x1418+0x146d&&_0x39ac7d===0x19*0x105+-0x1491+-0x4eb&&_0xdc94f7===0x21bf+0x1*0x208f+-0x424d);)_0x21e7d7=Math['max'](_0x21e7d7>>0x1c21+0x1dea+-0x3a0a,0xb47*-0x1+0x11*-0x10b+0x1d03),_0x39ac7d=Math['max'](_0x39ac7d>>-0x16de+-0x1*0x81b+0x1efa,-0x1e8+-0x108d+0x116*0x11),_0xdc94f7=Math['max'](_0xdc94f7>>-0xfb4+-0xeb3+0x1e68,-0x132a+-0x1df+0x150a);return _0x29f45a*(_0x23b66e?-0x246*0xd+0xecb+-0x5*-0x2f5:0x43b+-0xf47+0xb0d);}}let pT=0x1*-0x772+-0x1*0x1a91+-0x2203*-0x1;class _e{constructor(_0x3f930e,_0x31e0f2={}){h(this,'name'),h(this,'_gpuSize',-0x38*-0x73+0x2665+-0x3f8d),h(this,'id',pT++),h(this,'_invalid',!(0x1*-0xed7+-0x71d*0x4+-0x44*-0xa3)),h(this,'_lockedLev'+'el',-(0x31c+-0xf*-0x27a+-0x2841)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0xf8b*-0x1+0xf*0x53+-0x28d*0x8),h(this,'_storage',!(0x147a+0x577*0x4+0x2a55*-0x1)),h(this,'_numLevels',0x1a89+-0x7*0x93+-0x4*0x5a1),h(this,'_numLevels'+'Requested');var _0x65a22d;this['device']=_0x3f930e,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x31e0f2['width']||Number['isInteger'](_0x31e0f2['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x31e0f2),w['assert'](!_0x31e0f2['height']||Number['isInteger'](_0x31e0f2['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x31e0f2),w['assert'](!_0x31e0f2['depth']||Number['isInteger'](_0x31e0f2['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x31e0f2),this['name']=_0x31e0f2['name']??'',this['_width']=Math['floor'](_0x31e0f2['width']??-0x1d1b+0x4*-0x5f9+0x14b*0x29),this['_height']=Math['floor'](_0x31e0f2['height']??0x1*0x177d+0x629+-0xed1*0x2),this['_format']=_0x31e0f2['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x31e0f2['minFilter']=Te,_0x31e0f2['magFilter']=Te),this['_volume']=_0x31e0f2['volume']??!(0x1*0x22e1+0x1830+-0x10e*0x38),this['_depth']=Math['floor'](_0x31e0f2['depth']??0xaf3+-0x38*0x79+0xf86),this['_arrayLeng'+'th']=Math['floor'](_0x31e0f2['arrayLengt'+'h']??-0x1*-0xffe+-0x1cc0+0xcc2),this['_storage']=_0x31e0f2['storage']??!(0x761*0x3+-0xd8a*0x1+-0x898),this['_cubemap']=_0x31e0f2['cubemap']??!(-0x13*-0x101+0x1*0xde6+-0x28*0xd3),this['_flipY']=_0x31e0f2['flipY']??!(-0x1d29+-0x148+-0x1e72*-0x1),this['_premultip'+'lyAlpha']=_0x31e0f2['premultipl'+'yAlpha']??!(0x7b*0x1f+-0x1fd8+0x10f4),this['_mipmaps']=_0x31e0f2['mipmaps']??!(0x1591+0x238e+0x7*-0x829),this['_numLevels'+'Requested']=_0x31e0f2['numLevels'],_0x31e0f2['numLevels']!==void(0x25f7+0x55e*0x3+-0x3611)&&(this['_numLevels']=_0x31e0f2['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x31e0f2['minFilter']??ma,this['_magFilter']=_0x31e0f2['magFilter']??vt,this['_anisotrop'+'y']=_0x31e0f2['anisotropy']??-0x46+-0x6*0x585+-0x2165*-0x1,this['_addressU']=_0x31e0f2['addressU']??yt,this['_addressV']=_0x31e0f2['addressV']??yt,this['_addressW']=_0x31e0f2['addressW']??yt,this['_compareOn'+'Read']=_0x31e0f2['compareOnR'+'ead']??!(-0x1c07+-0x88+0x1c90),this['_compareFu'+'nc']=_0x31e0f2['compareFun'+'c']??hh,this['_type']=_0x31e0f2['type']??Ds,w['assert'](!_0x31e0f2['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x31e0f2['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x31e0f2['projection']&&_0x31e0f2['projection']!==tu&&(this['projection']=_0x31e0f2['projection']),this['profilerHi'+'nt']=_0x31e0f2['profilerHi'+'nt']??0x268b+0xd14+-0x339f,this['_levels']=_0x31e0f2['levels'];const _0xcd9757=!!_0x31e0f2['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0xcd9757),_0x3f930e['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x65a22d=Nt['get'](this['format']))==null?void(0x773+-0x18*-0xf7+-0x1e9b):_0x65a22d['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x83a1e3=this['device'];if(_0x83a1e3){const _0x39e0ca=_0x83a1e3['textures']['indexOf'](this);_0x39e0ca!==-(0xd0e+-0x21ea+0x2fb*0x7)&&_0x83a1e3['textures']['splice'](_0x39e0ca,0x391+-0x13c*-0x18+-0x2130),_0x83a1e3['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x83a1e3),this['adjustVram'+'SizeTracki'+'ng'](_0x83a1e3['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x194b4e=!(0x1*0x1ad5+-0x175a+-0x51*0xb)){var _0x5df1ea;const {device:_0x5a6af5}=this;(_0x5df1ea=this['impl'])==null||_0x5df1ea['destroy'](_0x5a6af5),this['impl']=null,this['impl']=_0x5a6af5['createText'+'ureImpl'](this),this['dirtyAll'](),_0x194b4e&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x165ab7,_0x17888b,_0xc6cafa=0x5*0x2b6+0x9e8+-0x1775){const _0x5ffee5=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x5ffee5['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x5ffee5),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x165ab7),this['_height']=Math['floor'](_0x17888b),this['_depth']=Math['floor'](_0xc6cafa),this['_updateNum'+'Level'](),this['impl']=_0x5ffee5['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x209738,_0x1c78a1){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1c78a1+('\x20vram.text'+'ure:\x20')+_0x209738['tex']+'\x20=>\x20'+(_0x209738['tex']+_0x1c78a1)),_0x209738['tex']+=_0x1c78a1,this['profilerHi'+'nt']===eu?_0x209738['texShadow']+=_0x1c78a1:this['profilerHi'+'nt']===Pr?_0x209738['texAsset']+=_0x1c78a1:this['profilerHi'+'nt']===vy&&(_0x209738['texLightma'+'p']+=_0x1c78a1);}['propertyCh'+'anged'](_0x42f94d){this['impl']['propertyCh'+'anged'](_0x42f94d),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x3314f8=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x2308+-0xa3*0x1+0x23ac,_0x492522=this['_numLevels'+'Requested'];_0x492522!==void(0xaa3+0x1bba+-0x265d)&&_0x492522>_0x3314f8&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x3314f8,this),this['_numLevels']=Math['min'](_0x492522??_0x3314f8,_0x3314f8),this['_mipmaps']=this['_numLevels']>-0x2343+0x2364+-0x4*0x8;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0xa4a335){this['_minFilter']!==_0xa4a335&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0xa4a335,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x416b5c){this['_magFilter']!==_0x416b5c&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x416b5c,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x400565){this['_addressU']!==_0x400565&&(this['_addressU']=_0x400565,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x2219c2){this['_addressV']!==_0x2219c2&&(this['_addressV']=_0x2219c2,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x589531){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x589531!==this['_addressW']&&(this['_addressW']=_0x589531,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x1e8164){this['_compareOn'+'Read']!==_0x1e8164&&(this['_compareOn'+'Read']=_0x1e8164,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x18919f){this['_compareFu'+'nc']!==_0x18919f&&(this['_compareFu'+'nc']=_0x18919f,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x3ec0c6){this['_anisotrop'+'y']!==_0x3ec0c6&&(this['_anisotrop'+'y']=_0x3ec0c6,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x30908d){this['_mipmaps']!==_0x30908d&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x30908d,_0x30908d&&(this['_needsMipm'+'apsUpload']=!(0x1178+-0x66+0x889*-0x2)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x258595=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x24fe+-0x2058+0x4557);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x258595,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x127e+0xa12+-0x1c90;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x463548){this['_type']!==_0x463548&&(this['_type']=_0x463548,this['device']['_shadersDi'+'rty']=!(0x4c*-0x73+-0xea*0x2+-0x47f*-0x8));}get['type'](){return this['_type'];}set['srgb'](_0x4100ae){var _0x3d5971,_0x3ef4f1,_0x47f67f,_0x4b1a00;const _0x35fd0f=fh(this['format']);if(_0x4100ae!==_0x35fd0f){if(_0x4100ae){const _0x349c04=ld(this['format']);this['_format']!==_0x349c04&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x3d5971=Nt['get'](this['format']))==null?void(0x21f7+0x1206*-0x1+0x35*-0x4d):_0x3d5971['name'])+'\x20->\x20'+((_0x3ef4f1=Nt['get'](_0x349c04))==null?void(0x260d+0x21*-0x22+0xd*-0x297):_0x3ef4f1['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x349c04,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x3db+-0x954+0xd2f));}else{const _0x960441=Lx(this['format']);this['_format']!==_0x960441&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x47f67f=Nt['get'](this['format']))==null?void(0x239*-0x1+0x1c82+-0x1a49):_0x47f67f['name'])+'\x20->\x20'+((_0x4b1a00=Nt['get'](_0x960441))==null?void(-0x1478+-0x2076+-0x2*-0x1a77):_0x4b1a00['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x960441,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x18cf+0x840+0x3*0x585));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x390c5a){this['_flipY']!==_0x390c5a&&(this['_flipY']=_0x390c5a,this['_needsUplo'+'ad']=!(0xd13*0x1+-0x12ca+0xd1*0x7));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x5df091){this['_premultip'+'lyAlpha']!==_0x5df091&&(this['_premultip'+'lyAlpha']=_0x5df091,this['_needsUplo'+'ad']=!(-0x1cd5+0x1*-0x16f9+0x33ce));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x8a9+-0x1df0+0xd*0x1a3),!(-0x14ed+0xe9e*-0x1+0x3*0xbd9),!(0x75*-0x21+0xdf+0x2*0x71b),!(0xcfc+-0x176+-0x19*0x76),!(0x341+0xa0b+-0x25*0x5c),!(-0x2271+-0x1eca*-0x1+-0xb*-0x55)]]:[!(0x3*0x265+0x2*0xc86+-0x203b)],this['_needsUplo'+'ad']=!(0x24c7+0x254b+0x1*-0x4a12),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x9e3+0x1eff*0x1+0x1*-0x151b),this['propertyCh'+'anged'](lT);}['lock'](_0x483151={}){_0x483151['level']??(_0x483151['level']=-0x3*-0x106+0x151+0x1*-0x463),_0x483151['face']??(_0x483151['face']=0x2488+-0x1e84+0x14*-0x4d),_0x483151['mode']??(_0x483151['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x483151['mode']===yy||_0x483151['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x483151['mode'],this['_lockedLev'+'el']=_0x483151['level'];const _0x8e3d06=this['cubemap']?this['_levels'][_0x483151['face']]:this['_levels'];if((_0x8e3d06==null?void(0x92*-0x8+-0x5*0x569+-0x1*-0x1f9d):_0x8e3d06[_0x483151['level']])===null){const _0x597c3d=Math['max'](-0x79d*-0x5+0x434*-0x5+-0x110c,this['_width']>>_0x483151['level']),_0x2cda02=Math['max'](-0x1*-0x1025+0x1f6+0x121a*-0x1,this['_height']>>_0x483151['level']),_0x133100=Math['max'](-0x166*-0x8+0x21c7+-0x2cf6,this['_depth']>>_0x483151['level']),_0x2101e7=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x597c3d,_0x2cda02,_0x133100,this['_format']));_0x8e3d06[_0x483151['level']]=new(my(this['_format']))(_0x2101e7);}return _0x8e3d06==null?void(-0x1082+-0x144e+0x24d0):_0x8e3d06[_0x483151['level']];}['setSource'](_0x59b6f3,_0x5b6ae4=0x249+-0x2681+-0xf4*-0x26){let _0x152a9d=!(-0x1336+0x1*0x16a+0x11cd),_0x532972,_0xe96ae9;if(this['_cubemap']){if(_0x59b6f3[-0x8c4+-0x1*-0x1a23+-0x115f*0x1]){_0x532972=_0x59b6f3[-0x1259+0x5b*0x6d+-0x1466]['width']||-0x5*-0x2c5+-0x1*0x1411+0x638*0x1,_0xe96ae9=_0x59b6f3[-0x266b*0x1+0x1c9d+0x9ce]['height']||0x173+0x184+-0x2f7;for(let _0x2a1d5d=0x3*-0x3b3+0x2610+-0x1af7*0x1;_0x2a1d5d<0x1d*-0x12b+-0x1b89+0x3d6e;_0x2a1d5d++){const _0x2b5081=_0x59b6f3[_0x2a1d5d];if(!_0x2b5081||_0x2b5081['width']!==_0x532972||_0x2b5081['height']!==_0xe96ae9||!this['device']['_isBrowser'+'Interface'](_0x2b5081)){_0x152a9d=!(0x1*0x140f+-0x731*-0x3+-0x49*0x92);break;}}}else _0x152a9d=!(-0xf90+0x458+0xb38);if(!_0x152a9d){for(let _0x501f3f=-0x337*-0xa+0x9ad*0x1+-0x29d3;_0x501f3f<0x1db0+-0x13*0xe6+-0xc98;_0x501f3f++)this['_levels'][_0x5b6ae4][_0x501f3f]!==_0x59b6f3[_0x501f3f]&&(this['_levelsUpd'+'ated'][_0x5b6ae4][_0x501f3f]=!(0x2416+-0x4f*-0x6f+-0x4657));}}else this['device']['_isBrowser'+'Interface'](_0x59b6f3)||(_0x152a9d=!(0x25d9+0x1a98+-0xd*0x4f5)),_0x152a9d||(_0x59b6f3!==this['_levels'][_0x5b6ae4]&&(this['_levelsUpd'+'ated'][_0x5b6ae4]=!(0x1a58+-0xecc+-0xb8c)),_0x59b6f3 instanceof HTMLVideoElement?(_0x532972=_0x59b6f3['videoWidth'],_0xe96ae9=_0x59b6f3['videoHeigh'+'t']):(_0x532972=_0x59b6f3['width'],_0xe96ae9=_0x59b6f3['height']));if(_0x152a9d){if(this['_width']=0x2352+0x2*-0x1246+0x13e,this['_height']=0x2*0x1133+0x74c+-0x29ae,this['_cubemap']){for(let _0x27a673=0x106e+-0x1*-0x257+-0x9b*0x1f;_0x27a673<0x202e+-0xc30+-0x13f8;_0x27a673++)this['_levels'][_0x5b6ae4][_0x27a673]=null,this['_levelsUpd'+'ated'][_0x5b6ae4][_0x27a673]=!(0x1554+-0x1806+0x2b2);}else this['_levels'][_0x5b6ae4]=null,this['_levelsUpd'+'ated'][_0x5b6ae4]=!(0x1*0x1741+0x228+-0x1969);}else _0x5b6ae4===0x12c5+0x668+-0x509*0x5&&(this['_width']=_0x532972,this['_height']=_0xe96ae9),this['_levels'][_0x5b6ae4]=_0x59b6f3;(this['_invalid']!==_0x152a9d||!_0x152a9d)&&(this['_invalid']=_0x152a9d,this['upload']());}['getSource'](_0x5a9df3=-0x2a3+-0x127a*0x2+0x2797){return this['_levels'][_0x5a9df3];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0xe92+-0x1b91*0x1+0x40*0x34),this['_lockedMod'+'e']=$l;}['upload'](){var _0x22220b,_0x30245f;this['_needsUplo'+'ad']=!(-0x49*-0x4a+0xa49*0x2+-0x1fc*0x15),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x30245f=(_0x22220b=this['impl'])['uploadImme'+'diate'])==null||_0x30245f['call'](_0x22220b,this['device'],this);}['read'](_0x27b05e,_0x9a41dc,_0x55b6ba,_0x109c83,_0x2b52f4={}){var _0x41d440,_0x48e144;return(_0x48e144=(_0x41d440=this['impl'])['read'])==null?void(0x1559+-0x944+-0xc15):_0x48e144['call'](_0x41d440,_0x27b05e,_0x9a41dc,_0x55b6ba,_0x109c83,_0x2b52f4);}['write'](_0x3d2736,_0x18d498,_0x5d2071,_0x55a362,_0x428a83){var _0x48777f,_0x4380cb;return(_0x4380cb=(_0x48777f=this['impl'])['write'])==null?void(-0xb52+-0x13aa+0x1efc):_0x4380cb['call'](_0x48777f,_0x3d2736,_0x18d498,_0x5d2071,_0x55a362,_0x428a83);}}const mT={'white':[0x19f9*-0x1+0xf4f*-0x2+0x3996,0x16c0+-0x6b*-0x2e+-0x28fb,-0x1*-0x1b77+-0xedb*-0x1+-0x2953,0x11*0x126+0x2*0x881+-0x1*0x2389],'gray':[0x1153+0x6e*0x19+-0x1*0x1b91,-0xd6*0x1a+-0x1*0x1d86+-0x7d*-0x6a,-0x9d7+-0xe2d+0x1884,-0x9f5+-0x3*-0x169+0x6b9],'black':[0x781+-0x1*0x1eb3+-0x1732*-0x1,0x78d*0x3+-0x1d7*-0x13+0x1*-0x399c,-0xf8*-0xe+-0x1714+-0xae*-0xe,0x1ec7+0x776+-0x253e],'normal':[-0x611+0xfa*0x4+0x2a9,0x1b3+-0x249d+0x236a,0x1*-0x236a+0xea4+-0x15c5*-0x1,0x1865+-0x1db+0x158b*-0x1],'pink':[0x16*0x10b+0xa49+0x80f*-0x4,-0x174*-0x2+0x680+-0x8e8,-0xe6*-0x28+-0x35*0x1c+-0x1d25,-0x950+-0x154*-0x13+0xeed*-0x1]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3ee66d=>{_0x3ee66d['destroy']();});}}const gT=new Kt(),fa=(_0x4dc5e9,_0x358723)=>{const _0x130a8e=gT['get'](_0x4dc5e9,()=>new _T());if(!_0x130a8e['map']['has'](_0x358723)){const _0x3bdeec=new _e(_0x4dc5e9,{'name':'built-in-t'+'exture-'+_0x358723,'width':0x1,'height':0x1,'format':Ne}),_0x4a5d8c=_0x3bdeec['lock'](),_0x44caf2=mT[_0x358723];w['assert'](_0x44caf2,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x358723+('\x27\x20not\x20foun'+'d')),_0x4a5d8c['set'](_0x44caf2),_0x3bdeec['unlock'](),_0x130a8e['map']['set'](_0x358723,_0x3bdeec);}return _0x130a8e['map']['get'](_0x358723);};let ST=0x1591+0xbea*-0x3+-0xe2d*-0x1;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x9eb189,_0x5b3e23,_0x2c6853){h(this,'renderVers'+'ionUpdated',-(-0xca*0x29+0x5*0x139+0x1a3e*0x1)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x9eb189,this['format']=_0x5b3e23,this['dirty']=!(0x19a3*-0x1+-0x21f1*0x1+0x3*0x13dc),this['impl']=_0x9eb189['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x2c6853,_0x2c6853&&this['setUniform'+'Buffer'](Np,_0x2c6853),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x5b3e23));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x2558b7,_0x24f7ba){const _0x3f28e8=this['format']['bufferForm'+'atsMap']['get'](_0x2558b7);w['assert'](_0x3f28e8!==void(0x4e*0x53+-0x1080+-0x1c2*0x5),'Setting\x20a\x20'+'uniform\x20['+_0x2558b7+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x3f28e8]!==_0x24f7ba&&(this['uniformBuf'+'fers'][_0x3f28e8]=_0x24f7ba,this['dirty']=!(0x16d*0x13+-0x95*0x17+0x4*-0x36d));}['setStorage'+'Buffer'](_0x294b0b,_0x3c0ad3){const _0x133b6c=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x294b0b);w['assert'](_0x133b6c!==void(0xd61+-0x24f5*-0x1+0x22*-0x17b),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x294b0b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x133b6c]!==_0x3c0ad3&&(this['storageBuf'+'fers'][_0x133b6c]=_0x3c0ad3,this['dirty']=!(-0x94a*0x2+0x20c7+-0xe33));}['setTexture'](_0x317ca4,_0xe33454){const _0x4a9856=this['format']['textureFor'+'matsMap']['get'](_0x317ca4);w['assert'](_0x4a9856!==void(-0x3e8+0x137*0xb+-0x975),'Setting\x20a\x20'+'texture\x20['+_0x317ca4+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x4a9856]!==_0xe33454?(this['textures'][_0x4a9856]=_0xe33454,this['dirty']=!(-0x55b+0x1*-0x417+-0x3e*-0x27)):this['renderVers'+'ionUpdated']<_0xe33454['renderVers'+'ionDirty']&&(this['dirty']=!(-0x16f7*0x1+-0x679+0x1d70));}['setStorage'+'Texture'](_0x1cb349,_0x23f2b0){const _0x2cbdc6=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x1cb349);w['assert'](_0x2cbdc6!==void(0x8e9+0x3d*0x5e+-0x1*0x1f4f),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x1cb349+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x2cbdc6]!==_0x23f2b0?(this['storageTex'+'tures'][_0x2cbdc6]=_0x23f2b0,this['dirty']=!(0x1fe+-0x2625+0x2427)):this['renderVers'+'ionUpdated']<_0x23f2b0['renderVers'+'ionDirty']&&(this['dirty']=!(-0x4e0+-0x1*-0x11c3+-0xce3));}['updateUnif'+'ormBuffers'](){for(let _0x3631f1=-0x7a7+-0x257a+0x2d21;_0x3631f1<this['uniformBuf'+'fers']['length'];_0x3631f1++)this['uniformBuf'+'fers'][_0x3631f1]['update']();}['update'](){const {textureFormats:_0x16460a,storageTextureFormats:_0x5388a7,storageBufferFormats:_0x28b57c}=this['format'];for(let _0x394e80=-0x1f9+-0x85e+0xa57;_0x394e80<_0x16460a['length'];_0x394e80++){const _0x4227ff=_0x16460a[_0x394e80];let _0x511687=_0x4227ff['scopeId']['value'];_0x511687||(_0x4227ff['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x511687=fa(this['device'],'white')),_0x4227ff['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x511687=fa(this['device'],'pink')),_0x511687||(w['errorOnce']('Texture\x20'+_0x4227ff['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x511687=fa(this['device'],'pink'))),this['setTexture'](_0x4227ff['name'],_0x511687);}for(let _0x1f38bd=0xa3*-0x1e+-0x5a9+0x3*0x841;_0x1f38bd<_0x5388a7['length'];_0x1f38bd++){const _0x321d72=_0x5388a7[_0x1f38bd],_0x16c13b=_0x321d72['scopeId']['value'];w['assert'](_0x16c13b,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x321d72['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x321d72['name'],_0x16c13b);}for(let _0x230cd6=0x14c1+0x1688+-0x2b49;_0x230cd6<_0x28b57c['length'];_0x230cd6++){const _0x6bf74e=_0x28b57c[_0x230cd6],_0x4cf507=_0x6bf74e['scopeId']['value'];w['assert'](_0x4cf507,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x6bf74e['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x6bf74e['name'],_0x4cf507);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x1e926d=0x9*0x431+-0x1e2f+0xc1*-0xa;_0x1e926d<this['uniformBuf'+'fers']['length'];_0x1e926d++){const _0x5ac8a0=this['uniformBuf'+'fers'][_0x1e926d];this['uniformBuf'+'ferOffsets'][_0x1e926d]=_0x5ac8a0['offset'],this['renderVers'+'ionUpdated']<_0x5ac8a0['renderVers'+'ionDirty']&&(this['dirty']=!(-0x7*-0x473+-0x1c89+-0xa7*0x4));}this['dirty']&&(this['dirty']=!(-0x1f3*-0x1+0xef2+-0x10e4),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x135a1c,_0x4f8c7b,_0x198bfc,_0x3e92b5=-0x4c7+-0xa15+0xedd*0x1){return _0x135a1c&~(_0x3e92b5<<_0x198bfc)|_0x4f8c7b<<_0x198bfc;},'get'(_0x21700e,_0x25772c,_0x4b1b54=0x1540+-0x13*0x1a3+0x9da){return _0x21700e>>_0x25772c&_0x4b1b54;},'all'(_0x5ec79a,_0x28ae7,_0x48d295=-0x110d+-0xc60+-0x2*-0xeb7){const _0x5de39e=_0x48d295<<_0x28ae7;return(_0x5ec79a&_0x5de39e)===_0x5de39e;},'any'(_0x285148,_0x69c4a1,_0x281bcb=0xb*-0x1+0x3f1*0x9+0x3*-0xbcf){return(_0x285148&_0x281bcb<<_0x69c4a1)!==0x132b+-0x6d*0x21+-0x51e;}},Xl=-0x1d*0x125+-0x41b*0x9+0x17*0x30d,ir=-0xeb*-0x29+0x52a+-0x2abe,Hm=0x676*0x1+0x5*0x56e+0x2*-0x10ce,Wm=-0x1424+0x14e5+-0xbe,$m=-0x172d+0x1415*-0x1+0x2b49,Xm=0x4*-0x85a+-0x7*0x405+0x3d96,qm=-0x5f7*0x1+0x4e9*0x7+-0x2*0xe2d,jm=0xd4b*0x1+-0x9d8+-0x361,iu=0x2229+-0x659+-0xddd*0x2,Ym=0x813+-0x871*0x3+-0xc1*-0x17,Km=-0x104+0x17a4+-0x1688,Zm=-0x16a0+0x1*-0x329+0x19e2,Qm=0x1b63+0x1b23+-0x144*0x2b,yT=0x1*-0xe9b+-0x2*0x623+0x1af0,vT=iu,ri=class ri{constructor(_0x483d65=!(-0x1*-0x1e63+0xde0+0x6e*-0x67),_0xc6835b=fs,_0x149555=Ft,_0x3cec0a=rp,_0xfa0ba6,_0x2b50dc,_0x24c8e9,_0x55262a=!(-0x87b+-0x1*0x1659+0x1ed4),_0x355bac=!(-0xe20+0x181e+-0x4ff*0x2),_0x38d673=!(0x211f+-0x2313+0x1f4),_0x2a7c61=!(0x1*-0x1c73+-0x21e1+-0x2*-0x1f2a)){h(this,'target0',-0xa6b+0x1*-0x45d+0xec8),(this['setColorBl'+'end'](_0xc6835b,_0x149555,_0x3cec0a),this['setAlphaBl'+'end'](_0xfa0ba6??_0xc6835b,_0x2b50dc??_0x149555,_0x24c8e9??_0x3cec0a),this['setColorWr'+'ite'](_0x55262a,_0x355bac,_0x38d673,_0x2a7c61),this['blend']=_0x483d65);}set['blend'](_0x40854c){this['target0']=qe['set'](this['target0'],_0x40854c?-0x1*0x1442+0x8c0+0xb83:-0x176*-0x1a+0x18c0+-0x3ebc,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x1c15e7,_0x22fec1,_0x2845ae){this['target0']=qe['set'](this['target0'],_0x1c15e7,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x22fec1,Wm,ir),this['target0']=qe['set'](this['target0'],_0x2845ae,$m,ir);}['setAlphaBl'+'end'](_0x266819,_0x11ba53,_0x3b96f6){this['target0']=qe['set'](this['target0'],_0x266819,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x11ba53,qm,ir),this['target0']=qe['set'](this['target0'],_0x3b96f6,jm,ir);}['setColorWr'+'ite'](_0x1e2961,_0x1dddc8,_0x1b3605,_0x5ee2ce){this['redWrite']=_0x1e2961,this['greenWrite']=_0x1dddc8,this['blueWrite']=_0x1b3605,this['alphaWrite']=_0x5ee2ce;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x9d5065){this['target0']=qe['set'](this['target0'],_0x9d5065?-0x41a+0x5*0xe5+-0x1*0x5e:0x1d22+0x146*0xa+-0xe9*0x2e,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x5d5367){this['target0']=qe['set'](this['target0'],_0x5d5367?-0x1888+-0x28b+-0x1b14*-0x1:-0x2f*-0x5e+-0xfcb+-0x177,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x6b7d06){this['target0']=qe['set'](this['target0'],_0x6b7d06?0x1*0x1205+-0x16af+0x4ab:0xb2f+0x7*-0x4e1+0x16f8,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x1a4a69){this['target0']=qe['set'](this['target0'],_0x1a4a69?-0x3*0xcfe+-0x113a+-0x1*-0x3835:-0xc5e+0x12*0x2a+0x96a,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x285dca){return this['target0']=_0x285dca['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x133185){return this['target0']===_0x133185['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x1*0x16be+0x185*0x4+-0x2c7*-0x6),void(0x57b+0x1*0x939+0x2*-0x75a),void(0x148a+0x2052+-0x11*0x31c),void(-0xfc5+0x1a97+0x5*-0x22a),void(-0x11e9*0x2+0x2c1*-0xb+0x421d),void(0x10ed+0x1750+-0x283d),void(-0x1964+-0x26b2+0x2*0x200b),!(0x17*0x4d+-0x1a2e*0x1+0x1344),!(0x5c*0x6+0x2be+-0x1*0x4e5),!(-0x25a0+0x3*0x68f+0x11f4),!(-0x61*-0x2b+-0x9e3+-0x667)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0xa*0x35b+-0x10f+0x1*0x229d),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x1857+0x12a*-0x1+0x15d*-0x11),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x1c93+0xd7*-0x26+0x3c7d);}['get'](_0x5f1766){let _0x44177f=this['map']['get'](_0x5f1766);return _0x44177f===void(0x36b*-0x4+-0x1*0x2f6+0x851*0x2)&&(_0x44177f=this['id']++,this['map']['set'](_0x5f1766,_0x44177f)),_0x44177f;}}const xT=new Bp(),Jm=0x975+0xf22+0xc*-0x20c,e_=0x1fa2+0x1e20+0x1fe*-0x1f,t_=-0x1e28+-0x21db+0x4006,_r=class _r{constructor(_0x521ef7=Wf,_0x4a9502=!(0x263f+0x1*0x1650+-0x3c8f)){h(this,'data',0x25*-0x7d+-0x8f1+0x1b02*0x1),h(this,'_depthBias',0x542*0x7+0x621*-0x5+-0x629),h(this,'_depthBias'+'Slope',0xf*0x279+-0x11ac+0x136b*-0x1),h(this,'key',-0x1439*0x1+0x1*-0x94f+-0x15*-0x168),(this['func']=_0x521ef7,this['write']=_0x4a9502);}set['test'](_0x454829){this['func']=_0x454829?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x4f6efa){this['data']=qe['set'](this['data'],_0x4f6efa?-0x1ecb*0x1+0x1*-0x1596+0x3462:-0x20e0*0x1+0x163*-0x12+0x1*0x39d6,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x54f6d4){this['data']=qe['set'](this['data'],_0x54f6d4,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x22ee1b){this['_depthBias']=_0x22ee1b,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x38bdd7){this['_depthBias'+'Slope']=_0x38bdd7,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x2d4d9a){return this['data']=_0x2d4d9a['data'],this['_depthBias']=_0x2d4d9a['_depthBias'],this['_depthBias'+'Slope']=_0x2d4d9a['_depthBias'+'Slope'],this['key']=_0x2d4d9a['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x15bfbd,_depthBias:_0x215c88,_depthBiasSlope:_0x1b7d86}=this,_0x41e663=_0x15bfbd+'-'+_0x215c88+'-'+_0x1b7d86;this['key']=xT['get'](_0x41e663);}['equals'](_0x2f25df){return this['key']===_0x2f25df['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x2c5+0x21b1+0x62f*-0x5)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x1413+-0x1bbe+0x7ab))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0xf12*-0x2+-0x685*0x4+0x3838),h(this,'revision',0x1e5a+0x18d1+0x372b*-0x1);}['equals'](_0x160b44){return this['globalId']===_0x160b44['globalId']&&this['revision']===_0x160b44['revision'];}['copy'](_0x1e7ee2){this['globalId']=_0x1e7ee2['globalId'],this['revision']=_0x1e7ee2['revision'];}['reset'](){this['globalId']=-0xa*-0x2b7+-0xdac*0x2+-0x32*-0x1,this['revision']=-0x80d+0x6fd+0x110;}}let s_=0x1a*0x53+-0x25*0xb8+0x136*0xf;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x1ffa2f){this['name']=_0x1ffa2f,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x238e77){}['setValue'](_0x2ef302){this['value']=_0x2ef302,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x287ce5){this['name']=_0x287ce5,this['variables']=new Map();}['resolve'](_0x31304d){return this['variables']['has'](_0x31304d)||this['variables']['set'](_0x31304d,new wT(_0x31304d)),this['variables']['get'](_0x31304d);}['removeValu'+'e'](_0x5bf306){for(const _0x4513e6 in this['variables']){const _0x443b18=this['variables'][_0x4513e6];_0x443b18['value']===_0x5bf306&&(_0x443b18['value']=null);}}}let bT=-0x196c+-0x1*-0x2334+-0x9c8;class Is{constructor(_0x203974,_0x519b35,_0x224965,_0x21d636){h(this,'usage',ms),(w['assert'](arguments['length']<=0x1*0x407+0x124d+-0x1650&&(!_0x21d636||typeof _0x21d636=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x21d636==null?void(-0x261+0x1207+-0xfa6):_0x21d636['usage'])??ms,this['device']=_0x203974,this['format']=_0x519b35,this['numVertice'+'s']=_0x224965,this['id']=bT++,this['impl']=_0x203974['createVert'+'exBufferIm'+'pl'](this,_0x519b35,_0x21d636),this['numBytes']=_0x519b35['verticesBy'+'teSize']?_0x519b35['verticesBy'+'teSize']:_0x519b35['size']*_0x224965,this['adjustVram'+'SizeTracki'+'ng'](_0x203974['_vram'],this['numBytes']));const _0x1c5d08=_0x21d636==null?void(-0xe39+-0x1*0x169c+0x24d5):_0x21d636['data'];_0x1c5d08?this['setData'](_0x1c5d08):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x8adbcd=this['device'],_0x4dbc0d=_0x8adbcd['buffers']['indexOf'](this);_0x4dbc0d!==-(-0x2*-0x13+-0x70c+0x1f*0x39)&&_0x8adbcd['buffers']['splice'](_0x4dbc0d,-0x17c9*-0x1+-0x1ca+-0x15fe),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x8adbcd),this['adjustVram'+'SizeTracki'+'ng'](_0x8adbcd['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x246c8a,_0x3f6582){w['trace'](q0,this['id']+'\x20size:\x20'+_0x3f6582+'\x20vram.vb:\x20'+_0x246c8a['vb']+'\x20=>\x20'+(_0x246c8a['vb']+_0x3f6582)),_0x246c8a['vb']+=_0x3f6582;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x37f9d0){return _0x37f9d0['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x37f9d0['byteLength']),!(-0x1e7c+0x2176+-0x2f9*0x1)):(this['storage']=_0x37f9d0,this['unlock'](),!(-0x1456*0x1+0x13c9+0x8d));}}function hi(_0x2ed5ab){if(_0x2ed5ab==null)return-0x61d*-0x3+0x10d9+-0x2330;let _0xc1ab08=0x1*0x104b+0x1*-0x12d1+0x143*0x2;for(let _0x399d59=-0x9b1*0x1+-0x102b*0x1+-0xcee*-0x2,_0x1204de=_0x2ed5ab['length'];_0x399d59<_0x1204de;_0x399d59++)_0xc1ab08=(_0xc1ab08<<0x1207+-0x1e98+0xc96)-_0xc1ab08+_0x2ed5ab['charCodeAt'](_0x399d59),_0xc1ab08|=-0x1*0xc83+0x1*-0x2499+0x311c;return _0xc1ab08;}function By(_0xfd191d){let _0x380d95=0x6547152+-0x2*0x4a9e8056+-0x110052d1f*-0x1;for(let _0x542e47=-0x1e2b+-0x16bf+-0x1a*-0x209;_0x542e47<_0xfd191d['length'];_0x542e47++)_0x380d95^=_0xfd191d[_0x542e47],_0x380d95*=-0x35a5f*0x41+-0x16c9ea2+0x3469254;return _0x380d95>>>-0x108f*0x2+-0x142*-0x14+0x1*0x7f6;}const AT=new Bp(),CT=[-0x1efb*-0x1+-0x3*0x18a+0x8c9*-0x3,0x887*-0x2+-0x233b+0x344d*0x1,-0x130e+0x261b+-0x1*0x1305,0x2*-0x1215+-0x3*0xb73+0x468f,-0x2027+0x3*0x61+0x1f14],PT=new Kt();class kt{constructor(_0x4d6784,_0x4fbb16,_0x4c613d){this['device']=_0x4d6784,this['_elements']=[],this['hasUv0']=!(-0x59*-0xc+-0x21e3+0x1db8),this['hasUv1']=!(-0x1*-0x1875+0xc*-0x131+-0xa28),this['hasColor']=!(-0x1dba+-0x1*0x283+0x203e*0x1),this['hasTangent'+'s']=!(-0xbc1*-0x3+-0x1a44+-0x47f*0x2),this['verticesBy'+'teSize']=-0x14da+-0x4*-0x62b+-0xa3*0x6,this['vertexCoun'+'t']=_0x4c613d,this['interleave'+'d']=_0x4c613d===void(0x11ec+0x14a0+-0x268c),this['instancing']=!(0x123+-0x11*0x3a+0x2b8),this['size']=_0x4fbb16['reduce']((_0x21b7f6,_0x5b78d8)=>_0x21b7f6+Math['ceil'](_0x5b78d8['components']*No[_0x5b78d8['type']]/(0xa*-0x86+0x1cf+0x371))*(0x16c2+-0x2284+0xbc6),-0x1678+0xe*0xb0+-0x336*-0x4);let _0x8e832a=0x1b69*-0x1+0xbe8+-0x1*-0xf81,_0x2cda48;for(let _0x179087=-0x12e0+0x951+0x1*0x98f,_0x58f1fc=_0x4fbb16['length'];_0x179087<_0x58f1fc;_0x179087++){const _0x1c220b=_0x4fbb16[_0x179087];_0x2cda48=_0x1c220b['components']*No[_0x1c220b['type']],w['assert'](kt['isElementV'+'alid'](_0x4d6784,_0x1c220b),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1c220b['semantic']+'\x20:\x20'+cT[_0x1c220b['type']]+'\x20x\x20'+_0x1c220b['components']),_0x4c613d&&(_0x8e832a=Y['roundUp'](_0x8e832a,_0x2cda48),w['assert'](_0x2cda48%(-0xb1b+-0x7ef*-0x1+0x330)===0x1774+0x190e+-0x3082,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x2cda48));const _0x431aae=_0x1c220b['asInt']??!(-0x7*0x4b3+0x1204*-0x1+0x32ea),_0x431d06=_0x431aae?!(-0x1896+-0x2624+0x3ebb):_0x1c220b['normalize']??!(-0x21*-0xf7+0x4*-0x4cf+-0x1*0xc9a),_0x2a5c55={'name':_0x1c220b['semantic'],'offset':_0x4c613d?_0x8e832a:_0x1c220b['hasOwnProp'+'erty']('offset')?_0x1c220b['offset']:_0x8e832a,'stride':_0x4c613d?_0x2cda48:_0x1c220b['hasOwnProp'+'erty']('stride')?_0x1c220b['stride']:this['size'],'dataType':_0x1c220b['type'],'numComponents':_0x1c220b['components'],'normalize':_0x431d06,'size':_0x2cda48,'asInt':_0x431aae};this['_elements']['push'](_0x2a5c55),_0x4c613d?_0x8e832a+=_0x2cda48*_0x4c613d:_0x8e832a+=Math['ceil'](_0x2cda48/(-0x15b2+0x909+0xb*0x127))*(0x17dd*-0x1+-0x4*0x431+0x821*0x5),_0x1c220b['semantic']===is?this['hasUv0']=!(0x1*-0x10f+0xc5d*-0x3+0x2626):_0x1c220b['semantic']===ba?this['hasUv1']=!(-0x4a8*-0x4+0x2233+0x34d3*-0x1):_0x1c220b['semantic']===Wt?this['hasColor']=!(0xa9f+-0x178b+0xcec*0x1):_0x1c220b['semantic']===yi&&(this['hasTangent'+'s']=!(-0x603+0x3*-0x277+0xd68));}_0x4c613d&&(this['verticesBy'+'teSize']=_0x8e832a),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x27da60){return PT['get'](_0x27da60,()=>new kt(_0x27da60,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x27ca4c,_0x42b254){const _0x41b0c8=_0x42b254['components']*No[_0x42b254['type']];return!(_0x27ca4c['isWebGPU']&&!CT['includes'](_0x41b0c8));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x193d44=[],_0x315f37=[],_0x3056dd=this['_elements']['length'];for(let _0x526433=-0x2f*-0x8+-0x10bd+0x517*0x3;_0x526433<_0x3056dd;_0x526433++){const {name:_0x1d8084,dataType:_0x116b4f,numComponents:_0x3b7094,normalize:_0x32f41c,offset:_0x166aeb,stride:_0x16aa55,size:_0x373dfc,asInt:_0x2131e2}=this['_elements'][_0x526433],_0x4b4563=_0x1d8084+_0x116b4f+_0x3b7094+_0x32f41c+_0x2131e2;_0x193d44['push'](_0x4b4563);const _0xe2945a=_0x4b4563+_0x166aeb+_0x16aa55+_0x373dfc;_0x315f37['push'](_0xe2945a);}_0x193d44['sort']();const _0x121ea6=_0x193d44['join']();this['batchingHa'+'sh']=hi(_0x121ea6),this['shaderProc'+'essingHash'+'String']=_0x121ea6,this['renderingH'+'ashString']=_0x315f37['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0xdd3466={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0xf52*0x1+0x1c42+-0x15ca*0x2)),h(this,'_key'),(this['_func']=_0xdd3466['func']??Wi,this['_ref']=_0xdd3466['ref']??0x1ff2+0x18dd+-0x38cf,this['_readMask']=_0xdd3466['readMask']??0xd7+0x11ab*0x1+-0x1183,this['_writeMask']=_0xdd3466['writeMask']??-0x4*0xd1+-0x1*0xda3+0x11e6,this['_fail']=_0xdd3466['fail']??xn,this['_zfail']=_0xdd3466['zfail']??xn,this['_zpass']=_0xdd3466['zpass']??xn,this['_evalKey']());}set['func'](_0x58ae41){this['_func']=_0x58ae41,this['_dirty']=!(0x22b3+0x1*-0x68f+0x1*-0x1c24);}get['func'](){return this['_func'];}set['ref'](_0x45d4b1){this['_ref']=_0x45d4b1,this['_dirty']=!(0xf97+0xd3e+-0x79*0x3d);}get['ref'](){return this['_ref'];}set['fail'](_0x97bcca){this['_fail']=_0x97bcca,this['_dirty']=!(0xb87+-0x51a*0x2+0x1*-0x153);}get['fail'](){return this['_fail'];}set['zfail'](_0x28fde0){this['_zfail']=_0x28fde0,this['_dirty']=!(-0xbe*0x2b+-0x1ef5+0x5*0xc93);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x58097f){this['_zpass']=_0x58097f,this['_dirty']=!(-0x2*-0xd5b+0x1a1e+-0x31*0x114);}get['zpass'](){return this['_zpass'];}set['readMask'](_0xce4fe8){this['_readMask']=_0xce4fe8,this['_dirty']=!(0x1*0x170f+-0x2*-0x343+-0x1d95);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x1fa9c8){this['_writeMask']=_0x1fa9c8,this['_dirty']=!(-0x1*-0x1bd7+-0x297+-0x1940);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2dce0c,_ref:_0x3b1dca,_fail:_0x1d1ff2,_zfail:_0x33eda8,_zpass:_0x5aa3c7,_readMask:_0x28f480,_writeMask:_0x2f719e}=this,_0x50fda0=_0x2dce0c+','+_0x3b1dca+','+_0x1d1ff2+','+_0x33eda8+','+_0x5aa3c7+','+_0x28f480+','+_0x2f719e;this['_key']=MT['get'](_0x50fda0),this['_dirty']=!(-0x95a+0xbb+0x8a0);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x1937c9){return this['_func']=_0x1937c9['_func'],this['_ref']=_0x1937c9['_ref'],this['_readMask']=_0x1937c9['_readMask'],this['_writeMask']=_0x1937c9['_writeMask'],this['_fail']=_0x1937c9['_fail'],this['_zfail']=_0x1937c9['_zfail'],this['_zpass']=_0x1937c9['_zpass'],this['_dirty']=_0x1937c9['_dirty'],this['_key']=_0x1937c9['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x589a0e,_0x373abc){var _0x25955d,_0x58fadb,_0x2a54ec,_0x1b6dfe,_0x53255c,_0x14f936;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x7d8*-0x2+0x131b+-0x1b5*0x2)),h(this,'isWebGPU',!(0x4fd*-0x5+0x1f0*0xf+-0x11*0x3e)),h(this,'isWebGL2',!(-0x29b+-0x5*0x7b5+0x2925*0x1)),h(this,'isHdr',!(-0x2*-0x2b1+-0x131*-0x19+0xe*-0x283)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0x2*-0xf2f+0x61f+0x1*0x1c3f),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',-0x2406+0x1*0xfc5+0x1442),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x121f*-0x2+-0x2f2*0xd+0x20d),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x1075+0xdc7+0x3*0xe5)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x4d1+-0x258e+-0x575*-0x6)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0xf*-0x1f2+0x23d+0x39*0x79),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x26ae+0xd*-0xca+0x30f1)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x2374+-0x1*-0x1546+-0x38b9)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x2*0x2e3+-0x1daa*0x1+-0x2371*-0x1)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x1bd2+0x18a1+-0x199*-0x2)),h(this,'textureFlo'+'atFilterab'+'le',!(-0xf86*-0x2+-0xb5b+0x54*-0x3c)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x1186+-0x1f3f+0x30c6)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0x21e1+-0x13b2+-0xd*-0x41f,-0x1*0xefb+0xd*0x21d+-0x63f*0x2,0x285+-0x6*0x2a0+0xd3b,0x1e5a*-0x1+0x1825+0x636],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0x14d4+-0xa27*-0x1+0x1*0xaae)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x589a0e,'setAttribu'+'te'in _0x589a0e&&_0x589a0e['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x373abc},(_0x25955d=this['initOption'+'s'])['alpha']??(_0x25955d['alpha']=!(0x20b9+-0x1a0b+-0x6ae)),(_0x58fadb=this['initOption'+'s'])['depth']??(_0x58fadb['depth']=!(0x279+0xd02*0x3+0x297f*-0x1)),(_0x2a54ec=this['initOption'+'s'])['stencil']??(_0x2a54ec['stencil']=!(0x208e+-0x2e7*0xb+-0xa1*0x1)),(_0x1b6dfe=this['initOption'+'s'])['antialias']??(_0x1b6dfe['antialias']=!(-0x322*-0x5+0x1066*-0x1+0x1*0xbc)),(_0x53255c=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x53255c['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x14f936=this['initOption'+'s'])['displayFor'+'mat']??(_0x14f936['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x7de+-0x2592+0x1db5,window['devicePixe'+'lRatio']):-0x18b3+0x1412+0x4a2,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x236c*0x1+-0x109f+0x3*0x1159,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x676+0x1*-0x2032+0x26a8,this['_primsPerF'+'rame']=[]);for(let _0x28e749=cd;_0x28e749<=oa;_0x28e749++)this['_primsPerF'+'rame'][_0x28e749]=0x25a5+0x9*0x75+-0x29c2;this['_renderTar'+'getCreatio'+'nTime']=-0x6*0x3ad+0x1f*0xec+-0x686,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x3*-0xc0b+0x1c0a+0x817);}['postInit'](){const _0x173d85=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x46a2ee=new Float32Array([-(0x5*-0x1b4+-0x185e+-0x20e3*-0x1),-(-0x492+-0x4b0*0x5+-0x65*-0x47),-0x1e27+-0x1e96+0x613*0xa,-(0x30f*0xc+0x59*0x4f+0x1*-0x402a),-(0x2*-0xe2f+-0xba9+-0x1ab*-0x18),0x1730+-0xa9*-0x35+0x1*-0x3a2c,-0xa4*-0x3a+-0x1596+-0xf91*0x1,0xa4c+-0x349*0x3+-0x8*0xe]);this['quadVertex'+'Buffer']=new Is(this,_0x173d85,0x1aa+0x16ad+-0x1*0x1853,{'data':_0x46a2ee});}['initCapsDe'+'fines'](){const {capsDefines:_0x2701ad}=this;_0x2701ad['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x2701ad['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x2701ad['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x539514,_0x4a0717,_0x3bd7ba;this['fire']('destroy'),(_0x539514=this['quadVertex'+'Buffer'])==null||_0x539514['destroy'](),this['quadVertex'+'Buffer']=null,(_0x4a0717=this['dynamicBuf'+'fers'])==null||_0x4a0717['destroy'](),this['dynamicBuf'+'fers']=null,(_0x3bd7ba=this['gpuProfile'+'r'])==null||_0x3bd7ba['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0xe5d897){this['fire']('destroy:sh'+'ader',_0xe5d897);const _0x57d4d1=this['shaders']['indexOf'](_0xe5d897);_0x57d4d1!==-(-0xc*0x15f+0x1908+-0x893)&&this['shaders']['splice'](_0x57d4d1,0x13*0xb6+-0x205e+0x12dd);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x43bdc9;this['contextLos'+'t']=!(0x768+0x1877*-0x1+0x110f),this['backBuffer'+'Size']['set'](-(-0x122*-0x1f+-0x7ed+-0x1b30),-(0xebc+-0x1522*-0x1+-0x23dd));for(const _0x36e625 of this['textures'])_0x36e625['loseContex'+'t']();for(const _0x547268 of this['buffers'])_0x547268['loseContex'+'t']();for(const _0x359df3 of this['targets'])_0x359df3['loseContex'+'t']();(_0x43bdc9=this['gpuProfile'+'r'])==null||_0x43bdc9['loseContex'+'t']();}['restoreCon'+'text'](){var _0x441e10,_0x515518;this['contextLos'+'t']=!(0xc73*0x1+-0x433+-0x83f*0x1),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x12772b of this['buffers'])_0x12772b['unlock']();(_0x515518=(_0x441e10=this['gpuProfile'+'r'])==null?void(-0xbe6+-0x5*-0x24a+0x74):_0x441e10['restoreCon'+'text'])==null||_0x515518['call'](_0x441e10);}['toJSON'](_0x5e2901){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x11*0x1c3+-0x2*-0x8e9+0xc21),this['shaderAsyn'+'cCompile']=!(0x1*0x169a+0x35d+-0x19f6),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=-0x69+-0x8*0x3+-0x1*-0x81,this['sx']=this['sy']=this['sw']=this['sh']=0x1d9d+-0x1dda+-0x3d*-0x1,this['blendColor']=new ie(0x2275+0x348+0x25bd*-0x1,-0x8f*0x36+-0x9*-0x367+-0x3*0x27,-0x13*0x13+-0xa63+0xa*0x12e,-0x6b*0x5b+-0x10f*-0x19+0x1*0xb92);}['setStencil'+'State'](_0x159dcf,_0x558c09){w['assert'](!(0x3*0x12a+0x34*-0x5f+0xfcf));}['setBlendSt'+'ate'](_0x2c6714){w['assert'](!(0xbfe+-0xe*0x216+0x1137));}['setBlendCo'+'lor'](_0xf223b,_0x554846,_0x53ccc0,_0x2d77c1){w['assert'](!(-0x9*0x155+-0x44*0x3+0xcca));}['setDepthSt'+'ate'](_0x5a4269){w['assert'](!(0x105b+-0x15bf+0x1*0x565));}['setCullMod'+'e'](_0xf624c){w['assert'](!(0x180*-0x8+-0x1*0x109a+0x1*0x1c9b));}['setRenderT'+'arget'](_0x56f72){this['renderTarg'+'et']=_0x56f72;}['setVertexB'+'uffer'](_0x2966d8){_0x2966d8&&this['vertexBuff'+'ers']['push'](_0x2966d8);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1*-0xd4+-0x1c9*-0x9+0x1*-0xf3d;}['getIndirec'+'tDrawSlot'](){return 0x52*-0x56+-0x19f7+0x67*0x85;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x3b094e){if(_0x3b094e['initialize'+'d'])return;const _0x3f2a37=de();this['fire']('fbo:create',{'timestamp':_0x3f2a37,'target':this}),_0x3b094e['init'](),this['targets']['add'](_0x3b094e),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x3f2a37;}['draw'](_0x1a47b0,_0x3afe57,_0x2d12b4,_0x381f4b,_0x4050c9=!(0x1e9c+0x1*-0x2678+0x7dc),_0x16d555=!(0xb61+0x5*0x102+-0x9*0x1d3)){w['assert'](!(-0x904*-0x2+0xba5+-0x1dac));}['_isBrowser'+'Interface'](_0x45b4bc){return this['_isImageBr'+'owserInter'+'face'](_0x45b4bc)||this['_isImageCa'+'nvasInterf'+'ace'](_0x45b4bc)||this['_isImageVi'+'deoInterfa'+'ce'](_0x45b4bc);}['_isImageBr'+'owserInter'+'face'](_0x37a661){return typeof ImageBitmap<'u'&&_0x37a661 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x37a661 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x1edd16){return typeof HTMLCanvasElement<'u'&&_0x1edd16 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x178722){return typeof HTMLVideoElement<'u'&&_0x178722 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x35b89d,_0x25108b){const _0x1f5e2b=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x3ec+-0x1d*-0x13d+-0x1ffc),_0x37a41b=Math['floor'](_0x35b89d*_0x1f5e2b),_0x663ae8=Math['floor'](_0x25108b*_0x1f5e2b);(_0x37a41b!==this['canvas']['width']||_0x663ae8!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x37a41b,_0x663ae8);}['setResolut'+'ion'](_0x15a7ac,_0xcc56e){this['canvas']['width']=_0x15a7ac,this['canvas']['height']=_0xcc56e,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x15a7ac,_0xcc56e);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x4fe6f0=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x4fe6f0['width'],this['clientRect']['height']=_0x4fe6f0['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x3ab0ba){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x98e+-0xc6+-0xa55*-0x1);}set['maxPixelRa'+'tio'](_0x4dd386){this['_maxPixelR'+'atio']=_0x4dd386;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x3c5d68){}['endRenderP'+'ass'](_0x30410f){}['startCompu'+'tePass'](_0x5222a6){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x38*0x11+-0x600+0x1*0x9b8,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x3e4a62=this['textures']['slice']();_0x3e4a62['sort']((_0x31b171,_0x346294)=>_0x346294['gpuSize']-_0x31b171['gpuSize']),w['log']('Textures:\x20'+_0x3e4a62['length']);let _0xeb0977=-0x373+0x2e*0x45+-0x1d*0x4f;_0x3e4a62['forEach']((_0x15087f,_0x7a4b82)=>{const _0x5571d5=_0x15087f['gpuSize'];_0xeb0977+=_0x5571d5,w['log'](_0x7a4b82+'.\x20'+_0x15087f['name']+'\x20'+_0x15087f['width']+'x'+_0x15087f['height']+'\x20VRAM:\x20'+(_0x5571d5/(-0xe6*0x1+-0x2ce+-0x22*-0x3a)/(0xb7*0x22+0x13b5+-0x2803))['toFixed'](0x8*0x3+0x57c*-0x6+0x20d2)+'\x20MB');}),w['log']('Total:\x20'+(_0xeb0977/(0x1*0x15b5+-0x36e*0x5+-0x8f)/(0x15ef+0x10b8+-0x22a7))['toFixed'](-0x170b+0x1280+0xe9*0x5)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x5c9ca6=>_0x5c9ca6['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x1bd560,_0xd97184='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x30d39a=[In,nt,Xt],_0x12c6e6=!(0x1dd2+-0x1bcf+-0x203*0x1),_0x43bd7f=0x2e*0xc0+0x127b+-0x1*0x34fa){for(let _0x46c11e=-0x10c*0x1f+0x1449+-0x1*-0xc2b;_0x46c11e<_0x30d39a['length'];_0x46c11e++){const _0x246f27=_0x30d39a[_0x46c11e];switch(_0x246f27){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x246f27;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x246f27;break;case Xt:if(this['isWebGPU']&&_0x43bd7f>0x4*0x1f6+-0xcd*-0x19+-0x1bdc)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x12c6e6||this['textureFlo'+'atFilterab'+'le']))return _0x246f27;break;}}}['validateAt'+'tributes'](_0x2d06a6,_0x377cee,_0x362969){w['call'](()=>{ql['clear'](),_0x377cee==null||_0x377cee['elements']['forEach'](_0x47d3cc=>ql['add'](Le[_0x47d3cc['name']])),_0x362969==null||_0x362969['elements']['forEach'](_0x4b2179=>ql['add'](Le[_0x4b2179['name']]));for(const [_0x30aa0c,_0x524ce]of _0x2d06a6['attributes'])ql['has'](_0x30aa0c)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x524ce+(']\x20at\x20locat'+'ion\x20')+_0x30aa0c+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x2d06a6,'vb0Format':_0x377cee,'vb1Format':_0x362969});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x1040+0x32*-0x6f+0x5*0x796;class gt{constructor(_0x2300b8={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x519901,_0x50fc4d,_0x5d96e7,_0x47d6fd,_0x5d16d5,_0xe47532;w['assert'](!(_0x2300b8 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x563bcf=((_0x519901=_0x2300b8['colorBuffe'+'r'])==null?void(0x9b1+0x1f6a+-0x1*0x291b):_0x519901['device'])??((_0x50fc4d=_0x2300b8['colorBuffe'+'rs'])==null?void(-0x9*0x3ed+0xfb6+0x139f):_0x50fc4d[-0x265f*0x1+-0x1*0x764+0x2dc3]['device'])??((_0x5d96e7=_0x2300b8['depthBuffe'+'r'])==null?void(0x1*0x260b+0x1dc8+0x43d3*-0x1):_0x5d96e7['device'])??_0x2300b8['graphicsDe'+'vice'];w['assert'](_0x563bcf,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x563bcf;const {maxSamples:_0x2b521c}=this['_device'];if(this['_samples']=Math['min'](_0x2300b8['samples']??0xd38*-0x2+0x2e7+0x106*0x17,_0x2b521c),_0x563bcf['isWebGPU']&&(this['_samples']=this['_samples']>-0x3*-0x11+0x2199+-0x21cb?_0x2b521c:-0x24b4+-0xe63*0x1+0x3318),this['_colorBuff'+'er']=_0x2300b8['colorBuffe'+'r'],_0x2300b8['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x2300b8['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x2300b8['depthBuffe'+'r'],this['_face']=_0x2300b8['face']??-0x77f*0x3+-0x2*0xc2+0x1801,this['_depthBuff'+'er']){const _0x4a01a6=this['_depthBuff'+'er']['_format'];_0x4a01a6===$i||_0x4a01a6===vn?(this['_depth']=!(-0x3*0x945+-0x18dd+0x2*0x1a56),this['_stencil']=!(-0x1135+-0x1*0x14c4+0x25fa)):_0x4a01a6===sd?(this['_depth']=!(0x886*0x1+-0x2067+0x1*0x17e1),this['_stencil']=!(0x1*0x206f+0x3*-0x85a+-0x761)):_0x4a01a6===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0xfec+-0x209e+0x2d*0x5f?(this['_depth']=!(-0x2581+0x289+0x22f8),this['_stencil']=!(-0xb*0x1fb+-0x10*-0x1eb+-0x8e6)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x112a+0x1316*0x1+0x1eb*-0x1),this['_stencil']=!(-0x1*0x8cb+0x2*-0xa59+0x32*0x97));}else this['_depth']=_0x2300b8['depth']??!(0x79e*-0x5+0x2*-0x1e2+0x29da),this['_stencil']=_0x2300b8['stencil']??!(0x313*-0x3+0x1fca+-0x26*0x98);_0x2300b8['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x2300b8['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x2300b8['colorBuffe'+'rs'][-0xd63+-0x2*0x727+0x11*0x1a1])),this['autoResolv'+'e']=_0x2300b8['autoResolv'+'e']??!(-0xb*0x347+0x26d4+-0xed*0x3),this['name']=_0x2300b8['name'],this['name']||(this['name']=(_0x47d6fd=this['_colorBuff'+'er'])==null?void(-0x27b*0x1+0x1990+-0x1715):_0x47d6fd['name']),this['name']||(this['name']=(_0x5d16d5=this['_depthBuff'+'er'])==null?void(0xcc4+0x3*-0x1c+0x18e*-0x8):_0x5d16d5['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x2300b8['flipY']??!(0x27d*0x7+0x1295+-0x1*0x23ff),this['_mipLevel']=_0x2300b8['mipLevel']??0x2431+-0x19a0+-0xa91,this['_mipLevel']>-0x1323+-0x1440+0x2763&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x2300b8}),this['_mipLevel']=-0x1d2*0x5+0x24f1+-0x1bd7),this['_mipmaps']=_0x2300b8['mipLevel']===void(0x1fbb+0xa08+-0x1*0x29c3),this['validateMr'+'t'](),this['impl']=_0x563bcf['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0xe47532=this['_colorBuff'+'ers'])!=null&&_0xe47532['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x243658=this['_device'];_0x243658&&(_0x243658['targets']['delete'](this),_0x243658['renderTarg'+'et']===this&&_0x243658['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x5b53e0=this['_device'];_0x5b53e0&&this['impl']['destroy'](_0x5b53e0);}['destroyTex'+'tureBuffer'+'s'](){var _0x7d16bc,_0x2b9521;(_0x7d16bc=this['_depthBuff'+'er'])==null||_0x7d16bc['destroy'](),this['_depthBuff'+'er']=null,(_0x2b9521=this['_colorBuff'+'ers'])==null||_0x2b9521['forEach'](_0x1c222a=>{_0x1c222a['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x2f8570,_0x13ca47){var _0x49ad60,_0x13773b;if(this['width']!==_0x2f8570||this['height']!==_0x13ca47){if(this['mipLevel']>-0x193b+-0x1b79+0x34b4){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x5d95c2=this['_device'];this['destroyFra'+'meBuffers'](),_0x5d95c2['renderTarg'+'et']===this&&_0x5d95c2['setRenderT'+'arget'](null),(_0x49ad60=this['_depthBuff'+'er'])==null||_0x49ad60['resize'](_0x2f8570,_0x13ca47),(_0x13773b=this['_colorBuff'+'ers'])==null||_0x13773b['forEach'](_0x2d6304=>{_0x2d6304['resize'](_0x2f8570,_0x13ca47);}),this['validateMr'+'t'](),this['impl']=_0x5d95c2['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x56d313,height:_0x5e4e5,cubemap:_0x48f33c,volume:_0x4dfff7}=this['_colorBuff'+'ers'][0xfcf+-0x1347+0x6f*0x8];for(let _0x15760f=0x23ff+0x10ac+0x282*-0x15;_0x15760f<this['_colorBuff'+'ers']['length'];_0x15760f++){const _0x994d65=this['_colorBuff'+'ers'][_0x15760f];w['assert'](_0x994d65['width']===_0x56d313,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x994d65['height']===_0x5e4e5,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x994d65['cubemap']===_0x48f33c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x994d65['volume']===_0x4dfff7,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0xff5338=!(-0x2594+-0x8*0x2ce+0x1e02*0x2),_0x2ef546=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1f3*0x1+0x1*0x560+-0x752&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0xff5338?'[color]':'')+':'+(_0x2ef546?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0xff5338,_0x2ef546),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x1f70ca,_0x5793dc,_0x365b09){if(!this['_device']){if(_0x1f70ca['_device'])this['_device']=_0x1f70ca['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1878+-0x8*-0x2bf+0x2e6f*-0x1);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x1f70ca['name']+'->'+this['name']);const _0x81e153=this['_device']['copyRender'+'Target'](_0x1f70ca,this,_0x5793dc,_0x365b09);return Q['popGpuMark'+'er'](this['_device']),_0x81e153;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x171e95){var _0x19545b;return(_0x19545b=this['_colorBuff'+'ers'])==null?void(0x1*0x137d+0x279*-0x2+-0xe8b):_0x19545b[_0x171e95];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x4ac1ee,_0x164bf6;let _0xe3a308=((_0x4ac1ee=this['_colorBuff'+'er'])==null?void(0xbc1+0x1f7b+-0x1*0x2b3c):_0x4ac1ee['width'])||((_0x164bf6=this['_depthBuff'+'er'])==null?void(0xd1*-0x12+0x1*0x1d32+-0xe80):_0x164bf6['width'])||this['_device']['width'];return this['_mipLevel']>0x4da+-0x234c+0x1e72&&(_0xe3a308=Xi['calcLevelD'+'imension'](_0xe3a308,this['_mipLevel'])),_0xe3a308;}get['height'](){var _0x46fc91,_0x358b88;let _0x5c05db=((_0x46fc91=this['_colorBuff'+'er'])==null?void(0x1c5c+0x26d*-0x6+-0x26*0x5d):_0x46fc91['height'])||((_0x358b88=this['_depthBuff'+'er'])==null?void(-0x1*0x15f9+-0x10e8+-0x26e1*-0x1):_0x358b88['height'])||this['_device']['height'];return this['_mipLevel']>0x148f+0x559*-0x4+0xd5*0x1&&(_0x5c05db=Xi['calcLevelD'+'imension'](_0x5c05db,this['_mipLevel'])),_0x5c05db;}['isColorBuf'+'ferSrgb'](_0x316f06=0xd*0x2fb+0x5*-0x415+-0x1*0x1256){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x404e3f=this['getColorBu'+'ffer'](_0x316f06);return _0x404e3f?fh(_0x404e3f['format']):!(-0x1fb6+0xd79+0x123e);}}const IT={'equals'(_0x19df78,_0x34019d){if(_0x19df78['length']!==_0x34019d['length'])return!(0x3*0x531+0x1*0xc69+-0x1bfb);for(let _0x15bf20=-0x1f7b+-0x1d3e+0x3cb9;_0x15bf20<_0x19df78['length'];_0x15bf20++)if(_0x19df78[_0x15bf20]!==_0x34019d[_0x15bf20])return!(0x9*-0x51+0x2e1*-0x3+0xb7d);return!(-0x1807+-0x18*-0x19d+0xeb1*-0x1);}};class wd{constructor(){h(this,'_refCount',0xbcc+0x1*-0x1ab9+0xeed);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0xab1df3){super(),h(this,'object'),(this['object']=_0xab1df3,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x128f13=>{var _0x39fb79;(_0x39fb79=_0x128f13['object'])==null||_0x39fb79['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x5bc6ac){const _0x35104a=this['cache']['get'](_0x5bc6ac);return _0x35104a?(_0x35104a['incRefCoun'+'t'](),_0x35104a['object']):null;}['set'](_0x295bab,_0x128e95){w['assert'](!this['cache']['has'](_0x295bab),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x295bab,'object':_0x128e95}),this['cache']['set'](_0x295bab,new LT(_0x128e95));}['release'](_0x297051){var _0xc4898e;const _0x51a74d=this['cache']['get'](_0x297051);_0x51a74d?(_0x51a74d['decRefCoun'+'t'](),_0x51a74d['refCount']===0x3*-0x7fb+-0xbd1+0x18e*0x17&&(this['cache']['delete'](_0x297051),(_0xc4898e=_0x51a74d['object'])==null||_0xc4898e['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x297051});}}class OT extends RT{['loseContex'+'t'](_0x4cff8e){this['clear']();}}const FT=new Kt(),Fd=_0x2c0f31=>FT['get'](_0x2c0f31,()=>new OT()),At=[];At[Xs]=-0xa55+-0xa43+0x1499,At[ga]=-0x2a*-0x71+0x11a4+-0x242c,At[ds]=0x50d*0x7+0x912+0x2*-0x1635,At[Rn]=-0x2485+0x14aa+0xef*0x11,At[_a]=-0x1*-0xa83+-0x5a7+0x4db*-0x1,At[ca]=-0x3*-0x48f+-0x1*-0x1f4f+0xca*-0x39,At[ha]=0xbd0+-0xc36*-0x3+-0x306f,At[da]=-0x1*0x347+0x67*0x47+-0x1*0x1946,At[Tn]=0x24f3+0x14c+-0x263e,At[tl]=0xb6c+0x2*0x246+-0xff6,At[sl]=0x1*0x1327+-0x2575+0x1251,At[il]=0x18bc+0x2e4+-0x1b9c,At[_h]=0x7fa*0x3+-0x644*0x3+-0x2*0x28d,At[On]=0x1105+-0x33*-0x72+0x1*-0x27af,At[li]=-0x6e0+-0x8*-0xd0+0x4*0x1c,At[Fn]=-0x1653+0x205b+0xa07*-0x1,At[Nn]=0x252b*-0x1+0x1628+0xf05,At[kn]=0xeb1*0x1+0x158*-0x7+-0x1*0x546,At[Un]=0x5*0x277+0x139*0xb+-0x19c2;class dt{constructor(_0x19f599,_0x5e60c3,_0x55423b=-0x2040+0x1*-0x1b49+-0x1*-0x3b89){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x19f599,this['name']=_0x55423b?_0x19f599+'[0]':_0x19f599,this['type']=_0x5e60c3,this['numCompone'+'nts']=At[_0x5e60c3],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5e60c3+'\x20used\x20for\x20'+_0x19f599),this['updateType']=_0x5e60c3,_0x55423b>0x4b*-0x55+-0x18*-0x83+0x167*0x9)switch(_0x5e60c3){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x5e60c3]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x19f599+'\x27.'),w['call'](()=>{this['invalid']=!(0x1*0xf6d+0x2d3*0xc+-0x3151*0x1);});break;}this['count']=_0x55423b,w['assert'](!isNaN(_0x55423b),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x19f599+'['+_0x55423b+']'),w['call'](()=>{isNaN(_0x55423b)&&(this['invalid']=!(-0x64f+-0x1a33+0x49*0x72));});let _0xfd5c2=this['numCompone'+'nts'];_0x55423b&&(_0xfd5c2=Y['roundUp'](_0xfd5c2,0x1685+0x8d*0x9+-0x1*0x1b76)),this['byteSize']=_0xfd5c2*(0x1b28+0x1f*-0xab+0xb7*-0x9),_0x55423b&&(this['byteSize']*=_0x55423b),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5e60c3+'\x20used\x20for\x20'+_0x19f599);}get['isArrayTyp'+'e'](){return this['count']>0x26bb+0xad3*0x3+-0x174*0x31;}['calculateO'+'ffset'](_0x2ac1a4){let _0x1632cb=this['byteSize']<=0x755+0x1983+0x4b*-0x70?this['byteSize']:-0x10*0xbf+0x11*-0x191+0x13f*0x1f;this['count']&&(_0x1632cb=0x1890+0x1*0x1cc3+-0x3543),_0x2ac1a4=Y['roundUp'](_0x2ac1a4,_0x1632cb),this['offset']=_0x2ac1a4/(0xffa+-0xfa7*-0x1+-0x1f9d);}}class zy{constructor(_0x4e7353,_0x850729){h(this,'byteSize',0x1787*0x1+0xede+-0x2665),h(this,'map',new Map()),(this['scope']=_0x4e7353['scope'],this['uniforms']=_0x850729);let _0xd79dc8=0xb*0x1b1+-0x441+-0x1*0xe5a;for(let _0x24ff53=0x17*-0x4+-0xf*0x59+-0x1*-0x593;_0x24ff53<_0x850729['length'];_0x24ff53++){const _0x5c2921=_0x850729[_0x24ff53];_0x5c2921['calculateO'+'ffset'](_0xd79dc8),_0xd79dc8=_0x5c2921['offset']*(0xd7*-0x11+0x4*-0xfd+-0x615*-0x3)+_0x5c2921['byteSize'],_0x5c2921['scopeId']=this['scope']['resolve'](_0x5c2921['name']),this['map']['set'](_0x5c2921['name'],_0x5c2921);}this['byteSize']=Y['roundUp'](_0xd79dc8,0x166*-0x3+-0xe71*0x2+0x2124);}['get'](_0x29262a){return this['map']['get'](_0x29262a);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x22a588,_0x1c3cff=new Map(),_0x53ac24={}){Lt['sourceName']=_0x53ac24['sourceName'],_0x22a588=this['stripComme'+'nts'](_0x22a588),_0x22a588=_0x22a588['split'](/\r?\n/)['map'](_0x545069=>_0x545069['trimEnd']())['join']('\x0a');const _0xffd959=new Map(),_0x3b357e=new Map();if(_0x22a588=this['_preproces'+'s'](_0x22a588,_0xffd959,_0x3b357e,_0x1c3cff,_0x53ac24['stripDefin'+'es']),_0x22a588===null)return null;const _0x19b064=new Map();return _0xffd959['forEach']((_0x37aad7,_0x16997a)=>{Number['isInteger'](parseFloat(_0x37aad7))&&!_0x37aad7['includes']('.')&&_0x19b064['set'](_0x16997a,_0x37aad7);}),_0x22a588=this['stripComme'+'nts'](_0x22a588),_0x22a588=this['stripUnuse'+'dColorAtta'+'chments'](_0x22a588,_0x53ac24),_0x22a588=this['RemoveEmpt'+'yLines'](_0x22a588),_0x22a588=this['processArr'+'aySize'](_0x22a588,_0x19b064),_0x22a588=this['injectDefi'+'nes'](_0x22a588,_0x3b357e),_0x22a588;}static['stripUnuse'+'dColorAtta'+'chments'](_0x57e676,_0x197199){if(_0x197199['stripUnuse'+'dColorAtta'+'chments']){const _0xb3da34=new Map(),_0x41848f=_0x57e676['match'](a_);if(_0x41848f==null||_0x41848f['forEach'](_0x93f39c=>{const _0x24e953=parseInt(_0x93f39c['charAt'](_0x93f39c['length']-(-0x10*-0x9d+-0xa4a+0x7b)),0x1*0x373+-0x5f9+0x52*0x8);_0xb3da34['set'](_0x24e953,(_0xb3da34['get'](_0x24e953)??0x133+0x1c3a*0x1+-0x345*0x9)+(-0x22*-0xb+0x27*-0x39+0x73a));}),Array['from'](_0xb3da34['values']())['some'](_0x42b7dc=>_0x42b7dc===0x143*-0xa+-0x92c+0x15cb*0x1)){const _0x464e82=_0x57e676['split']('\x0a'),_0x59a30e=[];for(let _0x27c81c=0x2691+-0x45f+0x1*-0x2232;_0x27c81c<_0x464e82['length'];_0x27c81c++){const _0x2c5fd5=_0x464e82[_0x27c81c]['match'](a_);if(_0x2c5fd5){const _0x2eb342=parseInt(_0x2c5fd5[0xf*-0xb0+-0x2187+0x105*0x2b]['charAt'](_0x2c5fd5[-0xd*0x166+-0x22e6+0x4*0xd45]['length']-(-0x6*0x2af+0x172+0x8b*0x1b)),-0x9*0x301+0x1*0x3af+-0x1*-0x1764);if(_0x2eb342>0x15c1*0x1+-0x1*0x3ad+-0x1214&&_0xb3da34['get'](_0x2eb342)===0x2*0x128f+0x1*-0x21af+-0x36e)continue;}_0x59a30e['push'](_0x464e82[_0x27c81c]);}_0x57e676=_0x59a30e['join']('\x0a');}}return _0x57e676;}static['stripComme'+'nts'](_0x61aaf5){return _0x61aaf5['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3b65ce,_0x35a4c5){return _0x3b65ce!==null&&_0x35a4c5['forEach']((_0x171961,_0x2471c2)=>{_0x3b65ce=_0x3b65ce['replace'](new RegExp('\x5c['+_0x2471c2+'\x5c]','g'),'['+_0x171961+']');}),_0x3b65ce;}static['injectDefi'+'nes'](_0x183193,_0x4a0f27){if(_0x183193!==null&&_0x4a0f27['size']>-0x85a+-0x208c+0x28e6){const _0x58def8=_0x183193['split']('\x0a');_0x4a0f27['forEach']((_0x4447d7,_0x3ad6ae)=>{const _0x5d3918=new RegExp(_0x3ad6ae,'g');for(let _0x3dc55c=-0x2*0xd5+-0x103*-0x13+-0x118f*0x1;_0x3dc55c<_0x58def8['length'];_0x3dc55c++)_0x58def8[_0x3dc55c]['includes']('#')||(_0x58def8[_0x3dc55c]=_0x58def8[_0x3dc55c]['replace'](_0x5d3918,_0x4447d7));}),_0x183193=_0x58def8['join']('\x0a');}return _0x183193;}static['RemoveEmpt'+'yLines'](_0x22eeb0){return _0x22eeb0!==null&&(_0x22eeb0=_0x22eeb0['split'](/\r?\n/)['map'](_0x48d3fd=>_0x48d3fd['trim']()===''?'':_0x48d3fd)['join']('\x0a'),_0x22eeb0=_0x22eeb0['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x22eeb0;}static['_preproces'+'s'](_0x1c651c,_0x416d25=new Map(),_0x430c4d,_0x553056,_0x41451a){var _0xb3eb35;const _0x3ef9d8=_0x1c651c,_0x507ed8=[];let _0x4d399f=!(0xfad*0x1+-0x4*-0x5d+0x4*-0x448),_0x134468;for(;(_0x134468=Fs['exec'](_0x1c651c))!==null&&!_0x4d399f;){const _0x4146db=_0x134468[-0x16f4+0x1a21+-0x32c];switch(_0x4146db){case'define':{Nd['lastIndex']=_0x134468['index'];const _0x12d523=Nd['exec'](_0x1c651c);w['assert'](_0x12d523,'Invalid\x20['+_0x4146db+']:\x20'+_0x1c651c['substring'](_0x134468['index'],_0x134468['index']+(0x1028*-0x2+0x9cb+0x16e9))+'...'),_0x4d399f||(_0x4d399f=_0x12d523===null);const _0x38afc4=_0x12d523[-0x1aa7+0x20e0+-0x18e*0x4];r_['lastIndex']=_0x12d523['index'];const _0x120622=r_['exec'](_0x38afc4)[0xbdd*-0x1+0x2596+-0x893*0x3];let _0x3c5181=_0x38afc4['substring'](_0x120622['length'])['trim']();_0x3c5181===''&&(_0x3c5181='true');const _0x1cbad1=Lt['_keep'](_0x507ed8);let _0x4c1d17=_0x41451a;if(_0x1cbad1){const _0x28a083=_0x120622['startsWith']('{')&&_0x120622['endsWith']('}');_0x28a083&&(_0x4c1d17=!(0x1918+-0x58*-0xb+-0xe0*0x21)),_0x28a083?_0x430c4d['set'](_0x120622,_0x3c5181):_0x416d25['set'](_0x120622,_0x3c5181),_0x4c1d17&&(_0x1c651c=_0x1c651c['substring'](0x1a1d+0x23cd+-0x3dea,_0x12d523['index']-(0x1d8d+-0xb*-0x2a2+0x1*-0x3a82))+_0x1c651c['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x12d523['index']-(0x5*0x1cf+0x1524+-0x1e2e));}w['trace'](Lr,_0x4146db+':\x20['+_0x120622+']\x20'+_0x3c5181+'\x20'+(_0x1cbad1?'':'IGNORED')),_0x4c1d17||(Fs['lastIndex']=_0x12d523['index']+_0x12d523[0x1069+0x1daa+0x151*-0x23]['length']);break;}case'undef':{kd['lastIndex']=_0x134468['index'];const _0x36458b=kd['exec'](_0x1c651c),_0x5df15c=_0x36458b[0x2*-0x5dc+0xd27+-0x16e]['trim'](),_0x35bc8f=Lt['_keep'](_0x507ed8);_0x35bc8f&&(_0x416d25['delete'](_0x5df15c),_0x41451a&&(_0x1c651c=_0x1c651c['substring'](0x1f7*0x7+-0x1bbe+-0xdfd*-0x1,_0x36458b['index']-(0x9be+-0x29*0x56+0x409))+_0x1c651c['substring'](kd['lastIndex']),Fs['lastIndex']=_0x36458b['index']-(0x79e*0x1+-0x2649+0x1eac))),w['trace'](Lr,_0x4146db+':\x20['+_0x5df15c+']\x20'+(_0x35bc8f?'':'IGNORED')),_0x41451a||(Fs['lastIndex']=_0x36458b['index']+_0x36458b[0x7b*-0x2+0x76+-0x2*-0x40]['length']);break;}case'extension':{i_['lastIndex']=_0x134468['index'];const _0x4de5ba=i_['exec'](_0x1c651c);if(w['assert'](_0x4de5ba,'Invalid\x20['+_0x4146db+']:\x20'+_0x1c651c['substring'](_0x134468['index'],_0x134468['index']+(-0x249b*0x1+0x2*-0x337+0x2b6d))+'...'),_0x4d399f||(_0x4d399f=_0x4de5ba===null),_0x4de5ba){const _0xcde23f=_0x4de5ba[-0x1d48+-0x895*0x1+0x25de],_0x39b6d8=Lt['_keep'](_0x507ed8);_0x39b6d8&&_0x416d25['set'](_0xcde23f,'true'),w['trace'](Lr,_0x4146db+':\x20['+_0xcde23f+']\x20'+(_0x39b6d8?'':'IGNORED'));}Fs['lastIndex']=_0x4de5ba['index']+_0x4de5ba[-0x1108+-0x2c*0x2b+0x186c]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x134468['index'];const _0x43843d=Ud['exec'](_0x1c651c),_0x5a3131=_0x43843d[0x1e9+-0x4*0x43+-0x3*0x49],_0x39ebbe=Lt['evaluate'](_0x5a3131,_0x416d25);_0x4d399f||(_0x4d399f=_0x39ebbe['error']);let _0x50c378=_0x39ebbe['result'];_0x4146db==='ifndef'&&(_0x50c378=!_0x50c378),_0x507ed8['push']({'anyKeep':_0x50c378,'keep':_0x50c378,'start':_0x134468['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x4146db+':\x20['+_0x5a3131+']\x20=>\x20'+_0x50c378),Fs['lastIndex']=_0x43843d['index']+_0x43843d[-0x5*0x287+-0x2047+-0x1*-0x2cea]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x134468['index'];const _0x2c1294=Bd['exec'](_0x1c651c),_0x2beece=_0x507ed8['pop']();if(!_0x2beece){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x2c1294[0x33*0xbf+0x1be7+-0x41f3*0x1]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1c651c['substring'](_0x134468['index'],_0x134468['index']+(0x2059+0x203*0xe+-0x1*0x3c1f))+'...',{'source':_0x3ef9d8}),_0x4d399f=!(0x1*0xcfb+0x219c+0x2e97*-0x1);continue;}const _0x3e772f=_0x2beece['keep']?_0x1c651c['substring'](_0x2beece['end'],_0x134468['index']):'';w['trace'](Lr,_0x4146db+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x3e772f!=='')),_0x1c651c=_0x1c651c['substring'](0x24d*0x1+-0x1*0x1fb4+0x1d67,_0x2beece['start'])+_0x3e772f+_0x1c651c['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x2beece['start']+_0x3e772f['length'];const _0x1a71dd=_0x2c1294[-0x612+0x103*-0x18+0x199*0x13];if(_0x1a71dd==='else'||_0x1a71dd==='elif'){let _0x387f6=!(0x2ba*0x7+-0x1234+-0xe1);if(!_0x2beece['anyKeep']){if(_0x1a71dd==='else')_0x387f6=!_0x2beece['keep'];else{const _0xf2f154=Lt['evaluate'](_0x2c1294[0x73*-0x47+0x6e1*-0x2+-0x2da9*-0x1],_0x416d25);_0x387f6=_0xf2f154['result'],_0x4d399f||(_0x4d399f=_0xf2f154['error']);}}_0x507ed8['push']({'anyKeep':_0x2beece['anyKeep']||_0x387f6,'keep':_0x387f6,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x4146db+':\x20['+_0x2c1294[0x2166+0xd*0x1e1+0x1*-0x39d1]+']\x20=>\x20'+_0x387f6);}break;}case'include':{zd['lastIndex']=_0x134468['index'];const _0x307f17=zd['exec'](_0x1c651c);if(_0x4d399f||(_0x4d399f=_0x307f17===null),!_0x307f17){w['assert'](_0x307f17,'Invalid\x20['+_0x4146db+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x1c651c['substring'](_0x134468['index'],_0x134468['index']+(-0xba3+-0x1b26+-0x272d*-0x1))+'...'),_0x4d399f=!(0x91d+0x1a80+-0x239d);continue;}const _0x18afde=_0x307f17[-0xff5+-0x1*0x94f+-0x1945*-0x1]['trim'](),_0x1685ac=(_0xb3eb35=_0x307f17[0x24b0*0x1+-0x15d7+-0x1*0xed7])==null?void(-0x351*0x1+0xaa2+0x1*-0x751):_0xb3eb35['trim'](),_0x3a3801=Lt['_keep'](_0x507ed8);if(_0x3a3801){let _0x27f80b=_0x553056==null?void(0x368+0x5ce*-0x1+0x266):_0x553056['get'](_0x18afde);if(_0x27f80b!==void(0x206e+-0x25d0+0x562)){if(_0x27f80b=this['stripComme'+'nts'](_0x27f80b),_0x1685ac){const _0x161802=_0x416d25['get'](_0x1685ac),_0x51366d=parseFloat(_0x161802);if(Number['isInteger'](_0x51366d)){let _0x69c833='';for(let _0x84bb3a=-0x229b*0x1+-0x713+0x29ae;_0x84bb3a<_0x51366d;_0x84bb3a++)_0x69c833+=_0x27f80b['replace'](VT,String(_0x84bb3a));_0x27f80b=_0x69c833;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x1685ac+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1c651c['substring'](_0x134468['index'],_0x134468['index']+(0x1*0x2638+0x90b+0xa9*-0x47))+'...',{'originalSource':_0x3ef9d8,'source':_0x1c651c}),_0x4d399f=!(-0x210+-0xd6d*0x1+0xd*0x131);}_0x1c651c=_0x1c651c['substring'](0x739*-0x2+0x17*-0xb3+-0xf*-0x209,_0x307f17['index']-(-0x10e6+0x7*-0x303+0x23c*0x11))+_0x27f80b+_0x1c651c['substring'](zd['lastIndex']),Fs['lastIndex']=_0x307f17['index']-(-0x2*0x58d+-0x10*-0x94+0x1db);}else{console['error']('Include\x20\x22'+_0x18afde+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x3ef9d8,'source':_0x1c651c}),_0x4d399f=!(-0x1e3*0xd+0x3*0x1ac+0x1383);continue;}}w['trace'](Lr,_0x4146db+':\x20['+_0x18afde+']\x20'+(_0x3a3801?'':'IGNORED'));break;}}}return _0x507ed8['length']>-0x8f6+0x1bed+-0x12f7&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x4d399f=!(-0x4e9+-0x1bf0+0xaf3*0x3)),_0x4d399f?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3ef9d8}),null):_0x1c651c;}static['_keep'](_0x820f43){for(let _0x774b35=-0x2209+-0xc*0x24a+0x5*0xc4d;_0x774b35<_0x820f43['length'];_0x774b35++)if(!_0x820f43[_0x774b35]['keep'])return!(-0x901+-0x255e+0x1730*0x2);return!(0xd67+-0x1d69+-0x556*-0x3);}static['evaluateAt'+'omicExpres'+'sion'](_0x290649,_0xbbaad4){let _0x4215bf=!(0x1626+-0x1d*-0x142+-0x15d*0x2b);_0x290649=_0x290649['trim']();let _0x15a6c1=!(0xce2+0x17+0x8*-0x19f);if(_0x290649==='true')return{'result':!(0xe16*0x1+-0x1*0x18ad+0x1*0xa97),'error':_0x4215bf};if(_0x290649==='false')return{'result':!(0x12dc*0x2+0x934+-0x2eeb*0x1),'error':_0x4215bf};const _0x1aba79=NT['exec'](_0x290649);if(_0x1aba79){_0x15a6c1=_0x1aba79[0x1819+0x2*0xae7+-0x2de6]==='!',_0x290649=_0x1aba79[-0x23a+0x1c18+0x2*-0xcee]['trim']();const _0x4d1f13=_0xbbaad4['has'](_0x290649);return{'result':_0x15a6c1?!_0x4d1f13:_0x4d1f13,'error':_0x4215bf};}const _0x4424dc=BT['exec'](_0x290649);if(_0x4424dc){const _0x4cbc5f=_0xbbaad4['get'](_0x4424dc[-0x1*0x25f+0xdf7+0x2b*-0x45]['trim']())??_0x4424dc[0x21e3+-0x1ba8+-0x63a]['trim'](),_0x252915=_0xbbaad4['get'](_0x4424dc[-0x63*-0x5c+-0x9d7+-0x25*0xb2]['trim']())??_0x4424dc[0x36+-0x70d*-0x5+0x2374*-0x1]['trim'](),_0x1f2666=_0x4424dc[-0x1*0xbe6+-0x1557*0x1+-0x3*-0xb15]['trim']();let _0x353dd0=!(-0x34b*0xb+-0x1ff8+-0x4df*-0xe);switch(_0x1f2666){case'==':_0x353dd0=_0x4cbc5f===_0x252915;break;case'!=':_0x353dd0=_0x4cbc5f!==_0x252915;break;case'<':_0x353dd0=_0x4cbc5f<_0x252915;break;case'<=':_0x353dd0=_0x4cbc5f<=_0x252915;break;case'>':_0x353dd0=_0x4cbc5f>_0x252915;break;case'>=':_0x353dd0=_0x4cbc5f>=_0x252915;break;default:_0x4215bf=!(-0x1*-0x2462+-0x2*0x940+-0x15*0xda);}return{'result':_0x353dd0,'error':_0x4215bf};}return{'result':_0xbbaad4['has'](_0x290649),'error':_0x4215bf};}static['processPar'+'entheses'](_0xa97171,_0x37713a){let _0x15f518=!(-0x1199+-0x13*0xd1+0x211d),_0x293968=_0xa97171['trim']();for(;_0x293968['startsWith']('(')&&_0x293968['endsWith'](')');){let _0x398026=-0x9e2+0x11b0+-0x29a*0x3,_0x5a2e54=!(0x1297+0x1*-0x197b+0x6e4);for(let _0x588b8b=-0x1ded+-0x2*0xf26+0x3c39;_0x588b8b<_0x293968['length']-(-0x1bc7+0x1*-0x2337+0x1*0x3eff);_0x588b8b++)if(_0x293968[_0x588b8b]==='(')_0x398026++;else{if(_0x293968[_0x588b8b]===')'&&(_0x398026--,_0x398026===0x1e3a+-0x1c40+-0x2e*0xb)){_0x5a2e54=!(-0x1*-0x25c+-0x1f*0xd+-0xc8);break;}}if(_0x5a2e54)_0x293968=_0x293968['slice'](-0x28a+-0xc1*-0x2d+-0x1f62,-(0x23c9+-0xebf+0x5*-0x435))['trim']();else break;}for(;;){let _0x1b5b0e=!(-0x8*0x363+0x8ba*0x1+0x125f*0x1),_0x67c196=0x17*-0x16b+0x21f1+0x2*-0xaa,_0x82b181=0x2db*-0x5+-0x2182+0x2fc9,_0x50ef19=-(-0x1571+-0x17f2+-0x48a*-0xa),_0x14aab4=-(0x1*-0x1cfd+-0x15cb+-0x1*-0x32c9),_0x3ad2c7=-0xd*-0x119+-0x1c77+0xe32;for(let _0xfaf3eb=0x18b*0x2+-0x2552+0x111e*0x2;_0xfaf3eb<_0x293968['length'];_0xfaf3eb++)if(_0x293968[_0xfaf3eb]==='('){const _0x4c6d4e=_0x293968['substring'](0x1911+-0x1*-0x2539+0x86*-0x77,_0xfaf3eb);UT['test'](_0x4c6d4e)?_0x3ad2c7++:_0x3ad2c7===-0x4*0x102+-0xa9*0x12+0x7f5*0x2&&(_0x67c196++,_0x67c196>_0x82b181&&(_0x82b181=_0x67c196,_0x50ef19=_0xfaf3eb),_0x1b5b0e=!(0x1*0x511+-0x599+0x44*0x2));}else _0x293968[_0xfaf3eb]===')'&&(_0x3ad2c7>0x501+0x22b4+-0x5f*0x6b?_0x3ad2c7--:_0x67c196>-0xd1b+0x9*-0x1d3+0x1d86&&(_0x67c196===_0x82b181&&_0x50ef19!==-(0x3*0x753+0x28f*0xd+-0x9*0x623)&&(_0x14aab4=_0xfaf3eb),_0x67c196--));if(!_0x1b5b0e||_0x50ef19===-(-0x1*0x68b+0x8c5*-0x2+-0x1816*-0x1)||_0x14aab4===-(-0x49*-0x24+-0x81d*-0x4+0x2d*-0xf3))break;const _0x412f4b=_0x293968['substring'](_0x50ef19+(0xe2b*-0x1+0x23a9+-0x157d),_0x14aab4),{result:_0x408918,error:_0x197e2d}=Lt['evaluate'](_0x412f4b,_0x37713a);_0x15f518=_0x15f518||_0x197e2d,_0x293968=_0x293968['substring'](0x239*-0x4+0x1*0x2249+-0x1965,_0x50ef19)+(_0x408918?'true':'false')+_0x293968['substring'](_0x14aab4+(-0x2*-0x907+0x1*-0x19d7+0x7ca));}return{'expression':_0x293968,'error':_0x15f518};}static['evaluate'](_0x2f6268,_0x5bbfa4){const _0x539653=zT['exec'](_0x2f6268)===null;w['assert'](_0x539653,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x2f6268);let _0x2ddbe7=_0x2f6268,_0xe395ed=!(0x13a2+-0x1*-0x1fa6+0x3347*-0x1);if(_0x2f6268['replace'](kT,'')['indexOf']('(')!==-(0x1b38+-0x1f3a+0x4f*0xd)){const _0x18744d=Lt['processPar'+'entheses'](_0x2f6268,_0x5bbfa4);_0x2ddbe7=_0x18744d['expression'],_0xe395ed=_0x18744d['error'];}if(_0xe395ed)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x2f6268+'\x22'),{'result':!(0x71a+0x9*0xf3+-0xfa4),'error':!(0x1ff5*-0x1+0x12cf+-0x176*-0x9)};const _0x56ece6=_0x2ddbe7['split']('||');for(const _0xb960dc of _0x56ece6){const _0x4ea243=_0xb960dc['split']('&&');let _0x3e86a6=!(-0x9bf+0x1802+-0xe43);for(const _0x588d61 of _0x4ea243){const {result:_0x1d963c,error:_0x55a62d}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x588d61['trim'](),_0x5bbfa4);if(!_0x1d963c||_0x55a62d){_0x3e86a6=!(-0x177e+-0x190c+0x308b);break;}}if(_0x3e86a6)return{'result':!(-0x1d*0xe+-0x18d*0x7+0x7*0x1c7),'error':!_0x539653};}return{'result':!(-0x6*-0x36d+0x20c5*0x1+-0x3552),'error':!_0x539653};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x55f729,_0x530635){w['assert'](_0x530635),w['assert'](!_0x530635['vertexDefi'+'nes']||_0x530635['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x530635['vertexIncl'+'udes']||_0x530635['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x530635['fragmentDe'+'fines']||_0x530635['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x530635['fragmentIn'+'cludes']||_0x530635['fragmentIn'+'cludes']instanceof Map);const _0x537fed=_0x334eef=>{let _0x10e456=_0x334eef['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x10e456)||(_0x10e456=[_0x10e456]),_0x10e456;},_0x1589a0=(_0x3bd708,_0xe2d494,_0x3b9fd2,_0x5e7bee)=>{const _0x1d9504=_0x55f729['isWebGPU']?_0x3bd708:_0xe2d494;let _0x53634b='';if(!_0x3b9fd2){const _0x495e38=_0x537fed(_0x5e7bee);for(let _0x4a968a=0x276*0x5+0x1478+-0x347*0xa;_0x4a968a<_0x55f729['maxColorAt'+'tachments'];_0x4a968a++){_0x53634b+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x4a968a+'\x0a';const _0x544b03=_0x495e38[_0x4a968a]??'vec4';_0x53634b+='#define\x20ou'+'tType_'+_0x4a968a+'\x20'+_0x544b03+'\x0a';}}return _0x53634b+_0x1d9504;},_0x585a35=(_0x1ed2d9,_0x43ab6)=>{let _0x1830fb='';if(!_0x1ed2d9){const _0x337f20=_0x537fed(_0x43ab6);for(let _0x574d81=-0x1636+-0x773+-0x9e3*-0x3;_0x574d81<_0x55f729['maxColorAt'+'tachments'];_0x574d81++){const _0x481c9c=_0x337f20[_0x574d81]??'vec4',_0x21fc91=Fy['get'](_0x481c9c);w['assert'](_0x21fc91,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x481c9c+'\x20->\x20'+_0x21fc91),_0x1830fb+='alias\x20pcOu'+'tType'+_0x574d81+'\x20=\x20'+_0x21fc91+';\x0a';}}return _0x1830fb;},_0x31d796=_0x530635['name']??'Untitled';let _0x34f26c,_0x4354b6;const _0x124800=Jt['getDefines'+'Code'](_0x55f729,_0x530635['vertexDefi'+'nes']),_0x1f4f8f=Jt['getDefines'+'Code'](_0x55f729,_0x530635['fragmentDe'+'fines']);return _0x530635['shaderLang'+'uage']===it?(_0x34f26c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x585a35(!(0x1c1*-0x6+-0x76d*-0x1+0x319),_0x530635)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x124800+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x530635['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x4354b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x585a35(!(-0x1*0x1593+-0xb3*0x21+0xa1*0x47),_0x530635)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1f4f8f+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x530635['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x530635['vertexCode']),_0x34f26c=Jt['versionCod'+'e'](_0x55f729)+_0x1589a0(Wy,Gy,!(0x2*0x6df+-0x25bf+-0x4cd*-0x5),_0x530635)+_0x124800+Jt['precisionC'+'ode'](_0x55f729)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x31d796)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x530635['vertexCode'],w['assert'](_0x530635['fragmentCo'+'de']),_0x4354b6=(_0x530635['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x55f729)+_0x1589a0(Hy,Vy,!(0x306+0x1f2*0x3+-0x8db*0x1),_0x530635)+_0x1f4f8f+Jt['precisionC'+'ode'](_0x55f729)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x31d796)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x530635['fragmentCo'+'de']),{'name':_0x31d796,'shaderLanguage':_0x530635['shaderLang'+'uage']??Fe,'attributes':_0x530635['attributes'],'vshader':_0x34f26c,'vincludes':_0x530635['vertexIncl'+'udes'],'fincludes':_0x530635['fragmentIn'+'cludes'],'fshader':_0x4354b6,'useTransformFeedback':_0x530635['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x530635['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x530635['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x5c31d7,_0x57c096){let _0x59e657='';return _0x5c31d7['capsDefine'+'s']['forEach']((_0x2e8c38,_0x3ae0e2)=>{_0x59e657+='#define\x20'+_0x3ae0e2+'\x20'+_0x2e8c38+'\x0a';}),_0x59e657+='\x0a',_0x57c096==null||_0x57c096['forEach']((_0x348da0,_0x205957)=>{_0x59e657+='#define\x20'+_0x205957+'\x20'+_0x348da0+'\x0a';}),_0x59e657+='\x0a',_0x59e657;}static['getShaderN'+'ameCode'](_0xfa64d8){return'#define\x20SH'+'ADER_NAME\x20'+_0xfa64d8+'\x0a';}static['versionCod'+'e'](_0x201883){return _0x201883['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x5993cc,_0x5c56ca){_0x5c56ca&&_0x5c56ca!=='highp'&&_0x5c56ca!=='mediump'&&_0x5c56ca!=='lowp'&&(_0x5c56ca=null),_0x5c56ca&&(_0x5c56ca==='highp'&&_0x5993cc['maxPrecisi'+'on']!=='highp'&&(_0x5c56ca='mediump'),_0x5c56ca==='mediump'&&_0x5993cc['maxPrecisi'+'on']==='lowp'&&(_0x5c56ca='lowp'));const _0x494c5e=_0x5c56ca||_0x5993cc['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x494c5e+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x494c5e+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x494c5e+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x494c5e+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x494c5e+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x494c5e+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x494c5e+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x513a87){const _0x165e05={};let _0x248332=0x212+-0xd13*0x2+0x1814,_0x76754e=_0x513a87['indexOf']('attribute');for(;_0x76754e>=0x23a3+0x1*-0x1647+0x4*-0x357&&!(_0x76754e>-0x1cdf+-0x3e2+0x20c1*0x1&&_0x513a87[_0x76754e-(-0x266b+0x2317+0x355)]==='/');){let _0x9d05e7=!(-0x75d+-0x1*-0x4bd+0x2a1);if(_0x76754e>0xd4*0x22+0x1*0x52a+-0x5*0x6aa){let _0x5dabba=_0x513a87['lastIndexO'+'f']('\x0a',_0x76754e);_0x5dabba=_0x5dabba!==-(0x1*-0x6c3+-0xe*0x61+0xc12)?_0x5dabba+(-0x9*-0x5d+-0xc79+0x1*0x935):-0x1*-0x12d3+-0x14*-0x49+-0x82d*0x3,_0x513a87['substring'](_0x5dabba,_0x76754e)['includes']('#')&&(_0x9d05e7=!(0x14cd+0xdfb+0x9f*-0x38));}if(!_0x9d05e7){const _0x347f47=_0x513a87['indexOf'](';',_0x76754e),_0x375e8f=_0x513a87['lastIndexO'+'f']('\x20',_0x347f47),_0x1df912=_0x513a87['substring'](_0x375e8f+(0x1*0x2ef+-0xe8f*0x1+-0xe5*-0xd),_0x347f47);if(_0x165e05[_0x1df912])w['warn']('Attribute\x20'+'['+_0x1df912+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x513a87});else{const _0x40a0a2=GT[_0x1df912];_0x40a0a2!==void(-0x209b+-0x1*-0x249b+-0x400)?_0x165e05[_0x1df912]=_0x40a0a2:(_0x165e05[_0x1df912]='ATTR'+_0x248332,_0x248332++);}}_0x76754e=_0x513a87['indexOf']('attribute',_0x76754e+(0x6*-0xa3+-0x1ba2+-0x1*-0x1f75));}return _0x165e05;}}let HT=-0x7*-0x54a+0x1159+-0x365f;class qy{constructor(_0x210530,_0x4d3c8a){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x210530,this['definition']=_0x4d3c8a,this['name']=_0x4d3c8a['name']||'Untitled',this['init'](),_0x4d3c8a['cshader'])w['assert'](_0x210530['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x4d3c8a['vshader']&&!_0x4d3c8a['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x4d3c8a['cshader']=ko['run'](_0x4d3c8a['cshader'],_0x4d3c8a['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x1*0x33a+-0x10f1*0x1+0xdb7)});else{w['assert'](_0x4d3c8a['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x4d3c8a['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x4d3c8a['vshader'],this['fUnmodifie'+'d']=_0x4d3c8a['fshader'];});const _0x21b355=_0x4d3c8a['shaderLang'+'uage']===it;_0x4d3c8a['vshader']=ko['run'](_0x4d3c8a['vshader'],_0x4d3c8a['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x21b355}),_0x4d3c8a['shaderLang'+'uage']===Fe&&(_0x4d3c8a['attributes']??(_0x4d3c8a['attributes']=Jt['collectAtt'+'ributes'](_0x4d3c8a['vshader'])));const _0x2a3247=_0x210530['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x4d3c8a['fshader']=ko['run'](_0x4d3c8a['fshader'],_0x4d3c8a['fincludes'],{'stripUnusedColorAttachments':_0x2a3247,'stripDefines':_0x21b355,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x4d3c8a['vshader']||!_0x4d3c8a['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(-0x102c+-0x1b5a+0x2b86);return;}}this['impl']=_0x210530['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x2434*0x1+0xafc+0x1939),this['failed']=!(0x2*0xae5+-0xb*0x303+-0x5ac*-0x2);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x1b2ced,_0x4b8c23,_0x19a5d7){const _0x2361e6=_0x1b2ced['storageFlo'+'at32'];_0x2361e6[_0x19a5d7]=_0x4b8c23;},Be[ga]=(_0x75d2b9,_0x4f11b9,_0x5e5ee8)=>{const _0x763211=_0x75d2b9['storageFlo'+'at32'];_0x763211[_0x5e5ee8]=_0x4f11b9[0x210f+-0x209d+0x39*-0x2],_0x763211[_0x5e5ee8+(0x19cd+0x1670+0x181e*-0x2)]=_0x4f11b9[0x9b6+0x1ea7+-0x285c];},Be[ds]=(_0x58d9a8,_0x1f08d1,_0x4727b3)=>{const _0x32bdc3=_0x58d9a8['storageFlo'+'at32'];_0x32bdc3[_0x4727b3]=_0x1f08d1[-0x672+-0xf0d+0x157f],_0x32bdc3[_0x4727b3+(-0x25f7*0x1+-0xe76*0x2+-0x1*-0x42e4)]=_0x1f08d1[0x1*-0x169f+0x1*-0x23a7+0x3a47],_0x32bdc3[_0x4727b3+(0x2614+0x10+0x65b*-0x6)]=_0x1f08d1[0x3*0xbab+-0x1*0x1214+-0x10eb];},Be[Rn]=(_0x42bb56,_0x502200,_0x5766b0)=>{const _0x2773dd=_0x42bb56['storageFlo'+'at32'];_0x2773dd[_0x5766b0]=_0x502200[0x2ab*0x8+-0x5*-0x9+-0x7*0x313],_0x2773dd[_0x5766b0+(0xdb7*0x1+-0x7f4*0x3+0x1*0xa26)]=_0x502200[-0x22a3+0x2*-0x106c+0x437c],_0x2773dd[_0x5766b0+(-0x7*-0x541+0x1*-0x2568+0xa3*0x1)]=_0x502200[-0xb65+-0x2085+0x2bec],_0x2773dd[_0x5766b0+(0xc57*-0x3+-0x7dc+0x2ce4)]=_0x502200[0x137a+-0x1c5d+0x86*0x11];},Be[_a]=function(_0x20d0e1,_0x3f44f2,_0x358466){const _0x7ce9ee=_0x20d0e1['storageInt'+'32'];_0x7ce9ee[_0x358466]=_0x3f44f2;},Be[ca]=function(_0x1f3c00,_0x326e4a,_0x3766e1){const _0x19237a=_0x1f3c00['storageInt'+'32'];_0x19237a[_0x3766e1]=_0x326e4a[-0x9d4+-0xaa5+0x1*0x1479],_0x19237a[_0x3766e1+(-0x15a7+0x7*-0x54d+0x3ac3)]=_0x326e4a[0x16c2+-0x2602+0xf41];},Be[ha]=function(_0x44871f,_0xeac2a2,_0x15cedf){const _0x2f5435=_0x44871f['storageInt'+'32'];_0x2f5435[_0x15cedf]=_0xeac2a2[0x127b+0x2*-0x419+-0xa49],_0x2f5435[_0x15cedf+(-0x211*0x8+0x647*0x2+0x3fb)]=_0xeac2a2[-0x1d14+-0x6*0x19c+0x26bd*0x1],_0x2f5435[_0x15cedf+(0x2c*0x58+0x1d87*0x1+-0x2ca5)]=_0xeac2a2[0x1848+-0x2b*0x7+-0x9*0x291];},Be[da]=function(_0x59c6de,_0x3bd55b,_0x14be4e){const _0x513f07=_0x59c6de['storageInt'+'32'];_0x513f07[_0x14be4e]=_0x3bd55b[0x7*0x12b+0xc3f+-0x146c],_0x513f07[_0x14be4e+(-0x112a*0x1+-0x426+0x33*0x6b)]=_0x3bd55b[-0x11*-0x241+-0x9fa+-0x1c56],_0x513f07[_0x14be4e+(0x241c*0x1+-0x226e+0x6b*-0x4)]=_0x3bd55b[-0xa*0x2d7+0x1205+0xa63],_0x513f07[_0x14be4e+(-0x20e7*0x1+-0xf34+0x301e)]=_0x3bd55b[0x33e+0x1*-0xc75+0x1*0x93a];},Be[_h]=(_0x2fbfe7,_0x14eead,_0xd11660)=>{const _0x31054f=_0x2fbfe7['storageFlo'+'at32'];_0x31054f[_0xd11660]=_0x14eead[0x10*0x11e+-0xf95*-0x2+-0x310a],_0x31054f[_0xd11660+(0x849+0x3e*-0x25+0x2*0x57)]=_0x14eead[0xaa9+-0x36d*-0x5+0x943*-0x3],_0x31054f[_0xd11660+(0xa*0x4a+-0x1*-0x923+-0x3*0x401)]=_0x14eead[0x1*-0xad7+0x11bc*-0x1+0x1c95],_0x31054f[_0xd11660+(0xb*0xf3+0x20b9*-0x1+-0x3*-0x76f)]=_0x14eead[0x1*-0xd09+-0x1a26+0x2732],_0x31054f[_0xd11660+(0x1df*-0x12+0x2d*0x7a+0xc44)]=_0x14eead[0x1*-0xe05+-0x501*0x4+0x220d],_0x31054f[_0xd11660+(0x262*0xe+-0x1*0x1c81+-0x2*0x269)]=_0x14eead[0x1*0xec6+0x3*0x3a7+-0x19b6];},Be[On]=(_0x578606,_0x23f8b2,_0x49b819)=>{const _0x2c63c1=_0x578606['storageFlo'+'at32'];_0x2c63c1[_0x49b819]=_0x23f8b2[0x2441+0xafa+-0x2f3b],_0x2c63c1[_0x49b819+(0xbe*-0x13+-0x1*0xbdf+0x19fa)]=_0x23f8b2[-0x63*0xa+-0x1*-0x59d+-0x1be],_0x2c63c1[_0x49b819+(-0x129a*-0x1+0x2ab*-0x7+0x15)]=_0x23f8b2[0x4ae+-0x5ec*-0x1+-0xa98],_0x2c63c1[_0x49b819+(-0x1a73+0xa4a+0x102d)]=_0x23f8b2[0xe80+0x111*0x2+-0x109f],_0x2c63c1[_0x49b819+(-0x2152+-0x16af*0x1+-0x65*-0x8e)]=_0x23f8b2[-0xd3+-0xca6+0xd7d],_0x2c63c1[_0x49b819+(0x4*-0x7b7+0x1*-0x1f6f+0x3e51)]=_0x23f8b2[-0x116b+0xc8f+0x4e1],_0x2c63c1[_0x49b819+(-0x753+-0x187c+0x1fd7)]=_0x23f8b2[0x457+0x131e*0x1+0x176f*-0x1],_0x2c63c1[_0x49b819+(-0x104a+-0x1*-0xf3f+0x114)]=_0x23f8b2[0x1*-0x86+0xdea+-0xd5d],_0x2c63c1[_0x49b819+(-0xce0+0x2233+-0x1549)]=_0x23f8b2[0x9f8+-0x1de0+0x1d0*0xb];},Be[ud]=function(_0x12802d,_0x14c4d5,_0x2bf17e,_0x4337fa){const _0x3cfc4c=_0x12802d['storageFlo'+'at32'];for(let _0x525763=0x1182+0x3*0x8f9+0x2c6d*-0x1;_0x525763<_0x4337fa;_0x525763++)_0x3cfc4c[_0x2bf17e+_0x525763*(-0xb4d+0x11fa+0x6a9*-0x1)]=_0x14c4d5[_0x525763];},Be[pd]=(_0x589a87,_0x2909f5,_0x7e3e18,_0x9bffb0)=>{const _0x47e50f=_0x589a87['storageFlo'+'at32'];for(let _0x1aa699=-0x11ea+-0x1c18+0x2e02;_0x1aa699<_0x9bffb0;_0x1aa699++)_0x47e50f[_0x7e3e18+_0x1aa699*(0x1337*-0x1+-0x18b2*-0x1+-0x1*0x577)]=_0x2909f5[_0x1aa699*(0x2eb*-0xa+0x24d6+-0x1*0x7a6)],_0x47e50f[_0x7e3e18+_0x1aa699*(0x1*0x201e+-0x26df+0x6c5)+(-0x1*-0xc9d+0x1097+-0x1d33)]=_0x2909f5[_0x1aa699*(0x1085+0x5*0xc7+-0x2*0xa33)+(-0x244a*0x1+-0x1*0xcf1+-0x2*-0x189e)];},Be[md]=(_0x1cbe81,_0x3948d4,_0x55711d,_0x211e95)=>{const _0x4118ae=_0x1cbe81['storageFlo'+'at32'];for(let _0x92c52d=0xc2*-0x4+0x1950+-0x1648;_0x92c52d<_0x211e95;_0x92c52d++)_0x4118ae[_0x55711d+_0x92c52d*(-0xd34+0xd9d*0x2+-0xe02)]=_0x3948d4[_0x92c52d*(0x16ae+0x1399+0xa91*-0x4)],_0x4118ae[_0x55711d+_0x92c52d*(-0x2386+-0x1*0x1b64+0x14fa*0x3)+(0x9*0x1f1+-0x5*0x119+-0xbfb)]=_0x3948d4[_0x92c52d*(-0x16a0+0x1c4b+-0x5a8)+(0x3db+-0x15*-0x178+-0x22b2)],_0x4118ae[_0x55711d+_0x92c52d*(0x101c+0x1*0x1f35+-0x1*0x2f4d)+(-0x20*0x112+-0x1*0x1744+-0xc7*-0x4a)]=_0x3948d4[_0x92c52d*(0xc3b+-0x1b96+0x1*0xf5e)+(-0x11fd+-0x598*-0x1+0x19*0x7f)];},Be[Fn]=(_0x1ddf11,_0x2f244a,_0x5ef858,_0x5b3e71)=>{const _0x51abd5=_0x1ddf11['storageUin'+'t32'];_0x51abd5[_0x5ef858]=_0x2f244a;},Be[Nn]=(_0x29b6cc,_0x21a216,_0x85c5b5,_0xe41dd3)=>{const _0x979485=_0x29b6cc['storageUin'+'t32'];_0x979485[_0x85c5b5]=_0x21a216[-0x2*-0xbf7+-0x2509*-0x1+-0x3cf7*0x1],_0x979485[_0x85c5b5+(-0x1f06+-0x61*0x17+0x27be)]=_0x21a216[0x146b*0x1+-0x978+-0xaf2];},Be[kn]=(_0x200a88,_0x203521,_0x1941e9,_0x2f6b9e)=>{const _0x31574f=_0x200a88['storageUin'+'t32'];_0x31574f[_0x1941e9]=_0x203521[-0x164*0x1+0xf3b+-0xdd7],_0x31574f[_0x1941e9+(0x26*0x63+0x1277*-0x1+0x3c6*0x1)]=_0x203521[0x5cb*0x5+0x15*-0x5a+0xaca*-0x2],_0x31574f[_0x1941e9+(0x36*-0x37+0x8*0x1be+-0x2*0x12a)]=_0x203521[-0x1a43+0x1*-0x1a37+-0x347c*-0x1];},Be[Un]=(_0x2cc1fe,_0x3d5791,_0x365e48,_0x2d035b)=>{const _0x4155e9=_0x2cc1fe['storageUin'+'t32'];_0x4155e9[_0x365e48]=_0x3d5791[0x3c5*-0x6+0xb*0x366+-0xec4],_0x4155e9[_0x365e48+(0x1*0xa45+-0x24f5*-0x1+-0x2f39)]=_0x3d5791[0x2470+-0x4*0x69b+-0x1*0xa03],_0x4155e9[_0x365e48+(-0x1465+-0x7+0x5*0x416)]=_0x3d5791[-0x1d0+-0x4cb*0x3+0x1033*0x1],_0x4155e9[_0x365e48+(0x65*-0x20+0x947+0x35c)]=_0x3d5791[-0xe1a+0x1*0x23bf+0x2*-0xad1];},Be[Bn]=function(_0x5aea30,_0x3b6d10,_0x1a5882,_0x471ac6){const _0x45699e=_0x5aea30['storageInt'+'32'];for(let _0x2c973a=-0x898+-0xbdb+0x3*0x6d1;_0x2c973a<_0x471ac6;_0x2c973a++)_0x45699e[_0x1a5882+_0x2c973a*(0x14a*0x17+-0xc5+0x335*-0x9)]=_0x3b6d10[_0x2c973a];},Be[gd]=Be[Bn],Be[_d]=function(_0x2b2ba2,_0x10b965,_0x1ace48,_0x270ec4){const _0x400d72=_0x2b2ba2['storageUin'+'t32'];for(let _0x3e8e39=-0x3*0xa22+-0x75*-0x35+0x62d;_0x3e8e39<_0x270ec4;_0x3e8e39++)_0x400d72[_0x1ace48+_0x3e8e39*(-0x247*0xb+-0x1*0x851+-0x2*-0x10b1)]=_0x10b965[_0x3e8e39];},Be[zn]=(_0x287287,_0x1df3ab,_0x418d94,_0x33fb1c)=>{const _0x1efdc6=_0x287287['storageInt'+'32'];for(let _0x2daf3c=0x1feb+-0x57*0x25+-0x1358;_0x2daf3c<_0x33fb1c;_0x2daf3c++)_0x1efdc6[_0x418d94+_0x2daf3c*(-0x1810+0xbb+-0x1*-0x1759)]=_0x1df3ab[_0x2daf3c*(0x8df*0x4+0x805+0x28f*-0x11)],_0x1efdc6[_0x418d94+_0x2daf3c*(0x2651+-0x15fb+-0x1052*0x1)+(0x86e+0x242a+-0x2c97)]=_0x1df3ab[_0x2daf3c*(0x17e2+0x1*-0x205e+0x87e)+(0x1*-0xfb3+0x1*-0xdaa+0xe*0x219)];},Be[yd]=Be[zn],Be[Sd]=(_0x4a0286,_0x23f004,_0x3cd85a,_0x4ce04b)=>{const _0x68d89=_0x4a0286['storageUin'+'t32'];for(let _0x471d69=-0xdaa+-0x354*-0x1+0x372*0x3;_0x471d69<_0x4ce04b;_0x471d69++)_0x68d89[_0x3cd85a+_0x471d69*(-0x1149+0x26b2+-0x1565)]=_0x23f004[_0x471d69*(-0x131d+-0x1e78+-0x5*-0x9eb)],_0x68d89[_0x3cd85a+_0x471d69*(-0x5bb+-0x5*0x187+-0xd62*-0x1)+(-0x1a05*0x1+0x21*-0xe8+0x37ee)]=_0x23f004[_0x471d69*(0x194+-0x4c1*0x5+0x1633)+(-0x3*0x6ed+0x237f*-0x1+-0x1*-0x3847)];},Be[Vn]=(_0x15c816,_0x56d68e,_0x20f853,_0x327d0b)=>{const _0xf308eb=_0x15c816['storageInt'+'32'];for(let _0x2c08e2=0x46*0xa+0x72e*0x4+-0x1f74;_0x2c08e2<_0x327d0b;_0x2c08e2++)_0xf308eb[_0x20f853+_0x2c08e2*(-0x890+0x2294+-0x1a00)]=_0x56d68e[_0x2c08e2*(-0xe02*-0x1+-0x41c+-0x9e3)],_0xf308eb[_0x20f853+_0x2c08e2*(0x551*0x3+0xe0+-0x10cf)+(0x143b+0x1*-0x82c+0xc0e*-0x1)]=_0x56d68e[_0x2c08e2*(0x23cf+0x221c+-0x2*0x22f4)+(-0x1ce6+0xc9a+0x104d)],_0xf308eb[_0x20f853+_0x2c08e2*(-0x1*0x196c+-0x18b5+-0x21*-0x185)+(-0x2*0x100+-0x116a*0x2+0x73*0x52)]=_0x56d68e[_0x2c08e2*(0x1542+-0x564+-0xfdb)+(0x155f+-0x11e6+-0x377)];},Be[xd]=Be[Vn],Be[vd]=(_0x2adc41,_0xc2a862,_0x1ab5ab,_0x1b8cb6)=>{const _0x2837e0=_0x2adc41['storageUin'+'t32'];for(let _0x6bb009=-0x17b*0xc+-0x42b+0x1*0x15ef;_0x6bb009<_0x1b8cb6;_0x6bb009++)_0x2837e0[_0x1ab5ab+_0x6bb009*(-0xbdb*0x1+0x248b+-0x18ac)]=_0xc2a862[_0x6bb009*(0x29*-0xb3+0x58*0x1f+0x1206)],_0x2837e0[_0x1ab5ab+_0x6bb009*(-0x84e+0xf2e+-0x6dc)+(0x2436+0x230f+-0x4744)]=_0xc2a862[_0x6bb009*(0x2469+0x35*-0x2+-0x23fc*0x1)+(-0x3*0x1b2+-0x7*-0x417+-0x17*0x106)],_0x2837e0[_0x1ab5ab+_0x6bb009*(-0x2349+0x55f+-0x3*-0x9fa)+(-0x7*0x3eb+0x8e9*0x4+-0x835)]=_0xc2a862[_0x6bb009*(0xd69*0x1+-0x199+0x13*-0x9f)+(-0x1181+-0x1464+-0x1*-0x25e7)];};class zp{constructor(_0x38f473,_0x3c1bef,_0xad1725=!(0x1a94*0x1+-0x1319*0x2+0xb9e*0x1)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x243e+0x1*-0xdab+-0x1693);if(this['device']=_0x38f473,this['format']=_0x3c1bef,this['persistent']=_0xad1725,w['assert'](_0x3c1bef),_0xad1725){this['impl']=_0x38f473['createUnif'+'ormBufferI'+'mpl'](this);const _0x557d2b=new ArrayBuffer(_0x3c1bef['byteSize']);this['assignStor'+'age'](new Int32Array(_0x557d2b)),_0x38f473['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x581efd=this['device'];this['impl']['destroy'](_0x581efd),_0x581efd['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1*-0x5d9+-0x174c*0x1+0x1173:this['allocation']['offset'];}['assignStor'+'age'](_0x4f8650){this['storageInt'+'32']=_0x4f8650,this['storageUin'+'t32']=new Uint32Array(_0x4f8650['buffer'],_0x4f8650['byteOffset'],_0x4f8650['byteLength']/(0x35c+-0x1b1c+0x17c4)),this['storageFlo'+'at32']=new Float32Array(_0x4f8650['buffer'],_0x4f8650['byteOffset'],_0x4f8650['byteLength']/(-0x11ab*0x1+0x1fa0+-0xdf1));}['loseContex'+'t'](){var _0x3d81f2;(_0x3d81f2=this['impl'])==null||_0x3d81f2['loseContex'+'t']();}['setUniform'](_0x12f947,_0x1ec19b){w['assert'](_0x12f947);const _0x18e15a=_0x12f947['offset'];if(_0x1ec19b!=null){const _0x5b43e7=Be[_0x12f947['updateType']];_0x5b43e7?_0x5b43e7(this,_0x1ec19b,_0x18e15a,_0x12f947['count']):this['storageFlo'+'at32']['set'](_0x1ec19b,_0x18e15a);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x12f947['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x12f947['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x932ba4,_0x406c){const _0x4538a4=this['format']['map']['get'](_0x932ba4);w['assert'](_0x4538a4,'Uniform\x20na'+'me\x20['+_0x932ba4+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x4538a4&&this['setUniform'](_0x4538a4,_0x406c);}['startUpdat'+'e'](_0x253b3a){if(!this['persistent']){const _0x293ca4=this['allocation'],_0x58ef91=_0x293ca4['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x293ca4,this['format']['byteSize']),this['assignStor'+'age'](_0x293ca4['storage']),_0x253b3a&&(_0x253b3a['bindGroup']=_0x293ca4['gpuBuffer']['getBindGro'+'up'](this),_0x253b3a['offsets'][-0x1eb*0x3+0x1661*0x1+-0x1*0x10a0]=_0x293ca4['offset']),_0x58ef91!==_0x293ca4['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x56e982){this['startUpdat'+'e'](_0x56e982);const _0x1dc134=this['format']['uniforms'];for(let _0x1f3ef4=0x3d*-0x3d+-0x1215+0x209e;_0x1f3ef4<_0x1dc134['length'];_0x1f3ef4++){const _0x402a51=_0x1dc134[_0x1f3ef4]['scopeId']['value'];this['setUniform'](_0x1dc134[_0x1f3ef4],_0x402a51);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x1cca+-0x1*0x13cd+0x1cc*-0x5)),h(this,'_enableReq'+'uest',!(-0x5*-0x2ad+0x1a21*0x1+-0x2781)),h(this,'_frameTime',0x1215+0x4a*-0x53+0x1*0x5e9);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x1f8e2a){this['_enableReq'+'uest']=_0x1f8e2a;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x6*-0x106+-0x23*-0x6d+-0x150b));}['request'](_0x450f16){this['pastFrameA'+'llocations']['set'](_0x450f16,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x36db87,_0x53aebf){if(_0x53aebf){const _0x581c25=this['pastFrameA'+'llocations']['get'](_0x36db87);if(w['assert'](_0x581c25['length']===_0x53aebf['length']),_0x53aebf['length']>0x6b*-0x5c+0x25d3*0x1+0xa1&&(this['_frameTime']=_0x53aebf['reduce']((_0x16f8fd,_0xa1332e)=>_0x16f8fd+_0xa1332e,0x1*-0x743+-0x1*-0x111+0x632)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x36db87+'\x20--');let _0x129fdf=-0x252b+0x9e6+-0x917*-0x3;for(let _0x3ab177=0x1*0x128f+-0x7ae+0xae1*-0x1;_0x3ab177<_0x581c25['length'];++_0x3ab177){const _0x259583=_0x581c25[_0x3ab177];_0x129fdf+=_0x53aebf[_0x3ab177],w['trace'](Gl,_0x53aebf[_0x3ab177]['toFixed'](-0x4*-0x88a+-0x277*-0x7+-0x3367*0x1)+'\x20ms\x20'+_0x259583);}w['trace'](Gl,_0x129fdf['toFixed'](0x332+0xc2*0x16+-0x13dc)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x36db87);}['getSlot'](_0x25d8aa){const _0x523091=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x25d8aa),_0x523091;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x3b716b){this['bufferId']&&(_0x3b716b['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x20f69a,_0x381d32,_0x1c7038,_0x5e99af){const _0x1b159c=_0x20f69a['gl'];if(this['bufferId'])_0x1b159c['bindBuffer'](_0x1c7038,this['bufferId']),_0x1b159c['bufferSubD'+'ata'](_0x1c7038,-0x266+0x283*0x3+-0x523,_0x5e99af);else{let _0x300dcb;switch(_0x381d32){case ms:_0x300dcb=_0x1b159c['STATIC_DRA'+'W'];break;case lh:_0x300dcb=_0x1b159c['DYNAMIC_DR'+'AW'];break;case ey:_0x300dcb=_0x1b159c['STREAM_DRA'+'W'];break;case bx:_0x300dcb=_0x1b159c['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x1b159c['createBuff'+'er'](),_0x1b159c['bindBuffer'](_0x1c7038,this['bufferId']),_0x1b159c['bufferData'](_0x1c7038,_0x5e99af,_0x300dcb);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x269b10){super['destroy'](_0x269b10),_0x269b10['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x11a8c0){const _0x47a84f=_0x11a8c0['device'];super['unlock'](_0x47a84f,_0x11a8c0['usage'],_0x47a84f['gl']['ARRAY_BUFF'+'ER'],_0x11a8c0['storage']);}}class qT extends jy{constructor(_0x38ec9e){super();const _0x28b6bc=_0x38ec9e['device']['gl'],_0x4f821e=_0x38ec9e['format'];_0x4f821e===$f?this['glFormat']=_0x28b6bc['UNSIGNED_B'+'YTE']:_0x4f821e===Yi?this['glFormat']=_0x28b6bc['UNSIGNED_S'+'HORT']:_0x4f821e===wr&&(this['glFormat']=_0x28b6bc['UNSIGNED_I'+'NT']);}['unlock'](_0x46b72c){const _0x10d059=_0x46b72c['device'];super['unlock'](_0x10d059,_0x46b72c['usage'],_0x10d059['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x46b72c['storage']);}}class jT{constructor(_0x1a7f14,_0x51ad6a,_0x1315e7,_0x2f5264){if(this['locationId']=_0x2f5264,this['scopeId']=_0x1a7f14['scope']['resolve'](_0x51ad6a),this['version']=new Uy(),_0x51ad6a['substring'](_0x51ad6a['length']-(-0x1092+-0x12ab+0x2340))==='[0]')switch(_0x1315e7){case Xs:_0x1315e7=ud;break;case _a:_0x1315e7=Bn;break;case Fn:_0x1315e7=_d;break;case Tn:_0x1315e7=gd;break;case ga:_0x1315e7=pd;break;case ca:_0x1315e7=zn;break;case Nn:_0x1315e7=Sd;break;case tl:_0x1315e7=yd;break;case ds:_0x1315e7=md;break;case ha:_0x1315e7=Vn;break;case kn:_0x1315e7=vd;break;case sl:_0x1315e7=xd;break;case Rn:_0x1315e7=Lp;break;case da:_0x1315e7=gh;break;case Un:_0x1315e7=Rp;break;case il:_0x1315e7=Op;break;}this['dataType']=_0x1315e7,this['value']=[null,null,null,null],this['array']=[];}}let l_=0xb89*0x3+-0xed9+-0x13c2;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x4f0cad){this['map']['forEach'](_0x13d484=>{_0x4f0cad['gl']['deleteShad'+'er'](_0x13d484);});}['loseContex'+'t'](_0x4a7998){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0xe13238){h(this,'compileDur'+'ation',-0x1a5b+0x808+-0x1*-0x1253),(this['init'](),this['compile'](_0xe13238['device'],_0xe13238),this['link'](_0xe13238['device'],_0xe13238),_0xe13238['device']['shaders']['push'](_0xe13238));}['destroy'](_0x4bd3ff){this['glProgram']&&(_0x4bd3ff['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x588fde,_0xf05564){this['compile'](_0x588fde,_0xf05564),this['link'](_0x588fde,_0xf05564);}['compile'](_0x483103,_0x4f8f46){const _0x4f6ca4=_0x4f8f46['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x483103,_0x4f6ca4['vshader'],!(0x6d*0x41+0x767+0x1c1*-0x14)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x483103,_0x4f6ca4['fshader'],!(-0x2599+-0x2*-0xe53+0x8f4));}['link'](_0x5edd22,_0x335d21){if(this['glProgram'])return;const _0x17b539=_0x5edd22['gl'];if(_0x17b539['isContextL'+'ost']())return;let _0x1bd7e5=0x2c5+-0x1970+0x1*0x16ab;w['call'](()=>{this['compileDur'+'ation']=0x1e20+0x93b*-0x1+-0x14e5,_0x1bd7e5=de();});const _0x40b766=_0x17b539['createProg'+'ram']();this['glProgram']=_0x40b766,_0x17b539['attachShad'+'er'](_0x40b766,this['glVertexSh'+'ader']),_0x17b539['attachShad'+'er'](_0x40b766,this['glFragment'+'Shader']);const _0x5c8ae5=_0x335d21['definition'],_0xb73855=_0x5c8ae5['attributes'];if(_0x5c8ae5['useTransfo'+'rmFeedback']){const _0x2d4fba=[];for(const _0xecb0da in _0xb73855)_0xb73855['hasOwnProp'+'erty'](_0xecb0da)&&_0x2d4fba['push']('out_'+_0xecb0da);_0x17b539['transformF'+'eedbackVar'+'yings'](_0x40b766,_0x2d4fba,_0x17b539['INTERLEAVE'+'D_ATTRIBS']);}const _0x2633a7={};for(const _0x11ca86 in _0xb73855)if(_0xb73855['hasOwnProp'+'erty'](_0x11ca86)){const _0x466ee3=_0xb73855[_0x11ca86],_0x219424=Le[_0x466ee3];w['assert'](!_0x2633a7['hasOwnProp'+'erty'](_0x219424),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x2633a7[_0x219424]+'\x20and\x20'+_0x11ca86),_0x2633a7[_0x219424]=_0x11ca86,_0x17b539['bindAttrib'+'Location'](_0x40b766,_0x219424,_0x11ca86);}_0x17b539['linkProgra'+'m'](_0x40b766),w['call'](()=>{this['compileDur'+'ation']=de()-_0x1bd7e5;}),_0x5edd22['_shaderSta'+'ts']['linked']++,_0x5c8ae5['tag']===Sy&&_0x5edd22['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x30f534,_0x356045,_0x4deac6){const _0x134b2e=_0x30f534['gl'];if(_0x134b2e['isContextL'+'ost']())return null;const _0x1250f8=(_0x4deac6?ZT:QT)['get'](_0x30f534,()=>new KT());let _0x5946d9=_0x1250f8['map']['get'](_0x356045);if(!_0x5946d9){const _0xb6dc6e=de();_0x30f534['fire']('shader:com'+'pile:start',{'timestamp':_0xb6dc6e,'target':_0x30f534}),_0x5946d9=_0x134b2e['createShad'+'er'](_0x4deac6?_0x134b2e['VERTEX_SHA'+'DER']:_0x134b2e['FRAGMENT_S'+'HADER']),_0x134b2e['shaderSour'+'ce'](_0x5946d9,_0x356045),_0x134b2e['compileSha'+'der'](_0x5946d9),_0x1250f8['map']['set'](_0x356045,_0x5946d9);const _0x2267d3=de();_0x30f534['fire']('shader:com'+'pile:end',{'timestamp':_0x2267d3,'target':_0x30f534}),_0x30f534['_shaderSta'+'ts']['compileTim'+'e']+=_0x2267d3-_0xb6dc6e,_0x4deac6?_0x30f534['_shaderSta'+'ts']['vsCompiled']++:_0x30f534['_shaderSta'+'ts']['fsCompiled']++;}return _0x5946d9;}['finalize'](_0x25d574,_0x20605b){var _0x130be2,_0x292af4;const _0x18b6a6=_0x25d574['gl'];if(_0x18b6a6['isContextL'+'ost']())return!(-0x23d5*-0x1+0x2057+-0x442c);const _0x4b42ae=this['glProgram'],_0x11bd18=_0x20605b['definition'],_0xdf4a7=de();_0x25d574['fire']('shader:lin'+'k:start',{'timestamp':_0xdf4a7,'target':_0x25d574});let _0x48dee7=0x11*-0x3b+0xb8d+-0x7a2;if(w['call'](()=>{_0x48dee7=de();}),!_0x18b6a6['getProgram'+'Parameter'](_0x4b42ae,_0x18b6a6['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x25d574,_0x20605b,this['glVertexSh'+'ader'],_0x11bd18['vshader'],'vertex')||!this['_isCompile'+'d'](_0x25d574,_0x20605b,this['glFragment'+'Shader'],_0x11bd18['fshader'],'fragment'))return!(-0x89+0x167*0x2+-0x244);const _0x3f858c='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x18b6a6['getProgram'+'InfoLog'](_0x4b42ae);return _0x11bd18['translated'+'Frag']=(_0x130be2=_0x18b6a6['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x2399+-0xc7*0x2b+-0x2*0x116):_0x130be2['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x11bd18['translated'+'Vert']=(_0x292af4=_0x18b6a6['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x270c+-0x3*0xf1+0x4a7*0x9):_0x292af4['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x3f858c,_0x11bd18),console['error'](_0x3f858c),!(0x21dc+-0x3*0x4f0+-0x130b);}const _0x53fd14=_0x18b6a6['getProgram'+'Parameter'](_0x4b42ae,_0x18b6a6['ACTIVE_ATT'+'RIBUTES']);_0x20605b['attributes']['clear']();for(let _0x2accfd=0x13ba+-0x1b36+0x1*0x77c;_0x2accfd<_0x53fd14;_0x2accfd++){const _0xe6bba2=_0x18b6a6['getActiveA'+'ttrib'](_0x4b42ae,_0x2accfd),_0x292640=_0x18b6a6['getAttribL'+'ocation'](_0x4b42ae,_0xe6bba2['name']);YT['has'](_0xe6bba2['name'])||(_0x11bd18['attributes'][_0xe6bba2['name']]===void(-0x9*-0x2a4+0x1*-0x13c+0x7*-0x338)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xe6bba2['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x20605b['label']+']',_0x20605b),_0x20605b['failed']=!(-0x1dab+-0x1a*0x8a+-0x35*-0xd3)):_0x20605b['attributes']['set'](_0x292640,_0xe6bba2['name']));}const _0x2d1991=_0x25d574['_samplerTy'+'pes'],_0x44119c=_0x18b6a6['getProgram'+'Parameter'](_0x4b42ae,_0x18b6a6['ACTIVE_UNI'+'FORMS']);for(let _0x4a37d7=0x8e7*-0x1+0x1f32+-0x164b;_0x4a37d7<_0x44119c;_0x4a37d7++){const _0x415de6=_0x18b6a6['getActiveU'+'niform'](_0x4b42ae,_0x4a37d7),_0x5e7f3a=_0x18b6a6['getUniform'+'Location'](_0x4b42ae,_0x415de6['name']),_0x41f216=new jT(_0x25d574,_0x415de6['name'],_0x25d574['pcUniformT'+'ype'][_0x415de6['type']],_0x5e7f3a);_0x2d1991['has'](_0x415de6['type'])?this['samplers']['push'](_0x41f216):this['uniforms']['push'](_0x41f216);}_0x20605b['ready']=!(0x68b+0x21a1*0x1+-0x282c);const _0x2bbff2=de();return _0x25d574['fire']('shader:lin'+'k:end',{'timestamp':_0x2bbff2,'target':_0x25d574}),_0x25d574['_shaderSta'+'ts']['compileTim'+'e']+=_0x2bbff2-_0xdf4a7,w['call'](()=>{const _0x3b52fa=de()-_0x48dee7;this['compileDur'+'ation']+=_0x3b52fa,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x20605b['id']+']\x20'+_0x20605b['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0xa53+-0x1*-0x156b+-0xb17)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0x5fb*0x1+-0x9d0*0x1+0x6*0x2a2)+'ms');}),!(-0x1c6*0x7+-0x13aa*-0x1+-0x740*0x1);}['_isCompile'+'d'](_0x5475e9,_0x3a63c2,_0x2f76ae,_0x3fa38b,_0x1b00e6){const _0x598210=_0x5475e9['gl'];if(!_0x598210['getShaderP'+'arameter'](_0x2f76ae,_0x598210['COMPILE_ST'+'ATUS'])){const _0x334d68=_0x598210['getShaderI'+'nfoLog'](_0x2f76ae),[_0x105110,_0x17344b]=this['_processEr'+'ror'](_0x3fa38b,_0x334d68),_0x192906='Failed\x20to\x20'+'compile\x20'+_0x1b00e6+'\x20shader:\x0a\x0a'+_0x334d68+'\x0a'+_0x105110+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x17344b['shader']=_0x3a63c2,console['error'](_0x192906,_0x17344b),console['error'](_0x192906),!(0x1d82+0x9d1*-0x1+-0x6*0x348);}return!(0x1387+-0x1424+0x9d);}['isLinked'](_0x44784a){const {extParallelShaderCompile:_0x1ad85c}=_0x44784a;return _0x1ad85c?_0x44784a['gl']['getProgram'+'Parameter'](this['glProgram'],_0x1ad85c['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*0xf17+-0x1001+-0x27*-0x6);}['_processEr'+'ror'](_0x17ea55,_0x3d3c93){const _0x977b34={};let _0x3da2aa='';if(_0x17ea55){const _0x3a9b94=_0x17ea55['split']('\x0a');let _0x58b194=-0x2708+0x1a16+0xcf2,_0x5f1b2d=_0x3a9b94['length'];if(_0x3d3c93&&_0x3d3c93['startsWith']('ERROR:')){const _0xdf4772=_0x3d3c93['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0xdf4772&&(_0x977b34['message']=_0xdf4772[-0x2009*-0x1+0x40*0x1d+-0x2746],_0x977b34['line']=parseInt(_0xdf4772[0x583+-0x1c92+0x1711],0x1*-0x1f14+0xa5d*-0x2+0x33d8),_0x58b194=Math['max'](0x26df+0x1*0xc47+-0x3326,_0x977b34['line']-(-0x15e1+-0x6e2*0x4+0x316f)),_0x5f1b2d=Math['min'](_0x3a9b94['length'],_0x977b34['line']+(0xd56+-0xb40+-0x211)));}for(let _0x10d93c=_0x58b194;_0x10d93c<_0x5f1b2d;_0x10d93c++){const _0x33397f=_0x10d93c+(-0xb*0x161+-0x10d3+0x1fff)===_0x977b34['line']?'>\x20':'\x20\x20';_0x3da2aa+=''+_0x33397f+(_0x10d93c+(0x80b+0x16d+-0x1*0x977))+':\x09'+_0x3a9b94[_0x10d93c]+'\x0a';}_0x977b34['source']=_0x17ea55;}return[_0x3da2aa,_0x977b34];}}function c_(_0x8d0b66,_0x55ee6c){const _0xd6dd4b=_0x8d0b66['width'],_0x4a1e79=_0x8d0b66['height'];if(_0xd6dd4b>_0x55ee6c||_0x4a1e79>_0x55ee6c){const _0x384112=_0x55ee6c/Math['max'](_0xd6dd4b,_0x4a1e79),_0x56d0cc=Math['floor'](_0xd6dd4b*_0x384112),_0x119b7d=Math['floor'](_0x4a1e79*_0x384112);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x55ee6c+('.\x20Resizing'+'\x20from\x20')+_0xd6dd4b+',\x20'+_0x4a1e79+'\x20to\x20'+_0x56d0cc+',\x20'+_0x119b7d+'.');const _0xd2e1da=document['createElem'+'ent']('canvas');return _0xd2e1da['width']=_0x56d0cc,_0xd2e1da['height']=_0x119b7d,_0xd2e1da['getContext']('2d')['drawImage'](_0x8d0b66,0x269c+0x1537+-0x13f1*0x3,-0x2301+-0xe57+0x8*0x62b,_0xd6dd4b,_0x4a1e79,0x4a*0xb+-0xe49+-0xb1b*-0x1,-0x24d3+-0x10c1+0x3594,_0x56d0cc,_0x119b7d),_0xd2e1da;}return _0x8d0b66;}class ew{constructor(_0x26522a){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x5*0x55+-0x84a*0x1+-0x11b*-0x9),this['texture']=_0x26522a;}['destroy'](_0x989cbc){if(this['_glTexture']){for(let _0x203bc6=0x2*0x1+-0x240+0x23e;_0x203bc6<_0x989cbc['textureUni'+'ts']['length'];_0x203bc6++){const _0x464b53=_0x989cbc['textureUni'+'ts'][_0x203bc6];for(let _0xefbd54=-0x1ca3+-0x74*0xb+0x219f;_0xefbd54<_0x464b53['length'];_0xefbd54++)_0x464b53[_0xefbd54]===this['_glTexture']&&(_0x464b53[_0xefbd54]=null);}_0x989cbc['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x2fa3b6){this['dirtyParam'+'eterFlags']|=_0x2fa3b6;}['initialize'](_0x164d99,_0x2008ab){const _0x499c14=_0x164d99['gl'];switch(this['_glTexture']=_0x499c14['createText'+'ure'](),this['_glTarget']=_0x2008ab['_cubemap']?_0x499c14['TEXTURE_CU'+'BE_MAP']:_0x2008ab['_volume']?_0x499c14['TEXTURE_3D']:_0x2008ab['array']?_0x499c14['TEXTURE_2D'+'_ARRAY']:_0x499c14['TEXTURE_2D'],_0x2008ab['_format']){case ty:this['_glFormat']=_0x499c14['ALPHA'],this['_glInterna'+'lFormat']=_0x499c14['ALPHA'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x499c14['LUMINANCE'],this['_glInterna'+'lFormat']=_0x499c14['LUMINANCE'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x499c14['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x499c14['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x499c14['RED'],this['_glInterna'+'lFormat']=_0x499c14['R8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x499c14['RG'],this['_glInterna'+'lFormat']=_0x499c14['RG8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['RGB565'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['RGB5_A1'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['RGBA4'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['RGB8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['RGBA8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x164d99['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x499c14['SRGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x499c14['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x499c14['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x499c14['SRGB'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x499c14['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x499c14['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x164d99['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x164d99['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x499c14['RED'],this['_glInterna'+'lFormat']=_0x499c14['R16F'],this['_glPixelTy'+'pe']=_0x499c14['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x499c14['RG'],this['_glInterna'+'lFormat']=_0x499c14['RG16F'],this['_glPixelTy'+'pe']=_0x499c14['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['RGB16F'],this['_glPixelTy'+'pe']=_0x499c14['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['RGBA16F'],this['_glPixelTy'+'pe']=_0x499c14['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['RGB32F'],this['_glPixelTy'+'pe']=_0x499c14['FLOAT'];break;case Xt:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['RGBA32F'],this['_glPixelTy'+'pe']=_0x499c14['FLOAT'];break;case Ji:this['_glFormat']=_0x499c14['RED'],this['_glInterna'+'lFormat']=_0x499c14['R32F'],this['_glPixelTy'+'pe']=_0x499c14['FLOAT'];break;case $i:this['_glFormat']=_0x499c14['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x499c14['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x499c14['FLOAT'];break;case vn:this['_glFormat']=_0x499c14['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x499c14['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x499c14['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x499c14['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x499c14['RGB'],this['_glInterna'+'lFormat']=_0x499c14['SRGB8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x499c14['RGBA'],this['_glInterna'+'lFormat']=_0x499c14['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R8I'],this['_glPixelTy'+'pe']=_0x499c14['BYTE'];break;case oy:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R8UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R16I'],this['_glPixelTy'+'pe']=_0x499c14['SHORT'];break;case up:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R16UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R32I'],this['_glPixelTy'+'pe']=_0x499c14['INT'];break;case Ki:this['_glFormat']=_0x499c14['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c14['R32UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG8I'],this['_glPixelTy'+'pe']=_0x499c14['BYTE'];break;case ly:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG8UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG16I'],this['_glPixelTy'+'pe']=_0x499c14['SHORT'];break;case gp:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG16UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG32I'],this['_glPixelTy'+'pe']=_0x499c14['INT'];break;case yp:this['_glFormat']=_0x499c14['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c14['RG32UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA8I'],this['_glPixelTy'+'pe']=_0x499c14['BYTE'];break;case cy:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA8UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA16I'],this['_glPixelTy'+'pe']=_0x499c14['SHORT'];break;case nd:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA16UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA32I'],this['_glPixelTy'+'pe']=_0x499c14['INT'];break;case Ue:this['_glFormat']=_0x499c14['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c14['RGBA32UI'],this['_glPixelTy'+'pe']=_0x499c14['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x5*0x4ae+0x53*-0x1f+0x1*0x2174);}['upload'](_0x149c41,_0x34add6){w['assert'](_0x34add6['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x34add6);const _0x1652d3=_0x149c41['gl'];if(!_0x34add6['_needsUplo'+'ad']&&(_0x34add6['_needsMipm'+'apsUpload']&&_0x34add6['_mipmapsUp'+'loaded']||!_0x34add6['pot']))return;let _0x4d0f83=-0x1166+-0x143*0x6+0x5e*0x44,_0x3123c1,_0x2d0473;const _0x543a66=_0x34add6['numLevels'];for(_0x34add6['array']&&_0x1652d3['texStorage'+'3D'](_0x1652d3['TEXTURE_2D'+'_ARRAY'],_0x543a66,this['_glInterna'+'lFormat'],_0x34add6['_width'],_0x34add6['_height'],_0x34add6['_arrayLeng'+'th']);_0x34add6['_levels'][_0x4d0f83]||_0x4d0f83===-0x1*-0x838+-0x1fe7+-0x7e5*-0x3;){if(!_0x34add6['_needsUplo'+'ad']&&_0x4d0f83===0x22fb+0x12b0+-0x35ab){_0x4d0f83++;continue;}else{if(_0x4d0f83&&(!_0x34add6['_needsMipm'+'apsUpload']||!_0x34add6['_mipmaps']))break;}if(_0x3123c1=_0x34add6['_levels'][_0x4d0f83],_0x2d0473=(-0x7f*0x7+0x1*-0x93f+-0x1*-0xcb9)/Math['pow'](-0x32e+-0xa26+-0x6*-0x239,_0x4d0f83),_0x4d0f83===0xa99*-0x1+0x53*0x67+-0x16cb&&!_0x34add6['_compresse'+'d']&&!_0x34add6['_integerFo'+'rmat']&&_0x34add6['_levels']['length']<_0x543a66&&(_0x1652d3['generateMi'+'pmap'](this['_glTarget']),_0x34add6['_mipmapsUp'+'loaded']=!(0x4ca+0x9ca+0x4*-0x3a5)),_0x34add6['_cubemap']){let _0x24ebba;if(_0x149c41['_isBrowser'+'Interface'](_0x3123c1[0x380+-0x1b40+0x17c0]))for(_0x24ebba=0x1*-0x21ff+0xa63*0x1+-0x179c*-0x1;_0x24ebba<-0x144c+0xc*-0x254+0x3042;_0x24ebba++){if(!_0x34add6['_levelsUpd'+'ated'][0x763*0x1+0x203c+-0x1*0x279f][_0x24ebba])continue;let _0x111bf7=_0x3123c1[_0x24ebba];_0x149c41['_isImageBr'+'owserInter'+'face'](_0x111bf7)&&(_0x111bf7['width']>_0x149c41['maxCubeMap'+'Size']||_0x111bf7['height']>_0x149c41['maxCubeMap'+'Size'])&&(_0x111bf7=c_(_0x111bf7,_0x149c41['maxCubeMap'+'Size']),_0x4d0f83===-0x1271+-0x5d+0x12ce&&(_0x34add6['_width']=_0x111bf7['width'],_0x34add6['_height']=_0x111bf7['height'])),_0x149c41['setUnpackF'+'lipY'](!(0x1*-0xc64+0x1*0x13f3+-0x78e)),_0x149c41['setUnpackP'+'remultiply'+'Alpha'](_0x34add6['_premultip'+'lyAlpha']),this['_glCreated']?_0x1652d3['texSubImag'+'e2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,0x1f5a+0x5*0x59e+-0x76e*0x8,-0x3*0x289+-0x1c84+0x241f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x111bf7):_0x1652d3['texImage2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x111bf7);}else for(_0x2d0473=(0x1d*-0x19+-0x7e6+0xabc)/Math['pow'](0x460*-0x8+-0x104c+0x334e,_0x4d0f83),_0x24ebba=0x36*-0x13+0xd8b+-0x989*0x1;_0x24ebba<-0x1ad0+0x527*-0x3+0x2a4b*0x1;_0x24ebba++){if(!_0x34add6['_levelsUpd'+'ated'][0x250+-0x1*0x445+0xa7*0x3][_0x24ebba])continue;const _0x156ead=_0x3123c1[_0x24ebba];_0x34add6['_compresse'+'d']?this['_glCreated']&&_0x156ead?_0x1652d3['compressed'+'TexSubImag'+'e2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,0x16f6+0x1*-0x3f+-0x16b7,-0x2*-0x1202+0x23f*-0xd+-0x6d1,Math['max'](_0x34add6['_width']*_0x2d0473,0x1bfc+-0x22a8+-0x6ad*-0x1),Math['max'](_0x34add6['_height']*_0x2d0473,0xaa6+-0x8*0x1cd+0x3c3),this['_glInterna'+'lFormat'],_0x156ead):_0x1652d3['compressed'+'TexImage2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](_0x34add6['_width']*_0x2d0473,0x13d*-0x5+0xb9d+-0x1*0x56b),Math['max'](_0x34add6['_height']*_0x2d0473,0x335*-0x5+-0x1094*-0x2+-0x111e),-0x804+-0x1ff*-0x1+0x605,_0x156ead):(_0x149c41['setUnpackF'+'lipY'](!(0x2224*0x1+0x1989*0x1+-0x3bac)),_0x149c41['setUnpackP'+'remultiply'+'Alpha'](_0x34add6['_premultip'+'lyAlpha']),this['_glCreated']&&_0x156ead?_0x1652d3['texSubImag'+'e2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,0x715+0x2572+-0x2c87,-0x16e4+-0x24ac*0x1+-0x10*-0x3b9,Math['max'](_0x34add6['_width']*_0x2d0473,0x5*0xd9+-0x2*-0x11f2+-0x358*0xc),Math['max'](_0x34add6['_height']*_0x2d0473,0xbe9+-0x2572*-0x1+0x18ad*-0x2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x156ead):_0x1652d3['texImage2D'](_0x1652d3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x24ebba,_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](_0x34add6['_width']*_0x2d0473,0x88b+0xd+-0x897),Math['max'](_0x34add6['_height']*_0x2d0473,0x4f*-0x25+0x2*-0xcd0+0x250c),0x85*0x3d+0xef3+-0x2ea4,this['_glFormat'],this['_glPixelTy'+'pe'],_0x156ead));}}else{if(_0x34add6['_volume'])_0x34add6['_compresse'+'d']?_0x1652d3['compressed'+'TexImage3D'](_0x1652d3['TEXTURE_3D'],_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](_0x34add6['_width']*_0x2d0473,0x290+0xf2e*-0x2+0xb*0x287),Math['max'](_0x34add6['_height']*_0x2d0473,0x19*0x2+0x245*-0x3+0x34f*0x2),Math['max'](_0x34add6['_depth']*_0x2d0473,0xbe+0xd*-0xb5+-0x874*-0x1),-0x35*0x9b+0xb*-0x133+0x2d48,_0x3123c1):(_0x149c41['setUnpackF'+'lipY'](!(-0x1640+-0x52*-0x71+-0xdf1)),_0x149c41['setUnpackP'+'remultiply'+'Alpha'](_0x34add6['_premultip'+'lyAlpha']),_0x1652d3['texImage3D'](_0x1652d3['TEXTURE_3D'],_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](_0x34add6['_width']*_0x2d0473,0x3*0x9af+0x2334+-0x4040),Math['max'](_0x34add6['_height']*_0x2d0473,0x1c4b*0x1+0xae2+0x9cb*-0x4),Math['max'](_0x34add6['_depth']*_0x2d0473,-0x1799*-0x1+0xf*-0x26b+0xcad),0x1967+-0x464*0x5+0x373*-0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1));else{if(_0x34add6['array']&&typeof _0x3123c1=='object'){if(_0x34add6['_arrayLeng'+'th']===_0x3123c1['length']){if(_0x34add6['_compresse'+'d']){for(let _0x25e59c=0x1cb3*0x1+0x4*0x71f+0x392f*-0x1;_0x25e59c<_0x34add6['_arrayLeng'+'th'];_0x25e59c++)_0x1652d3['compressed'+'TexSubImag'+'e3D'](_0x1652d3['TEXTURE_2D'+'_ARRAY'],_0x4d0f83,0x17*0x38+-0xaf3*-0x2+0x2fe*-0x9,-0x1e01*0x1+0x1*-0x1be8+-0x251*-0x19,_0x25e59c,Math['max'](Math['floor'](_0x34add6['_width']*_0x2d0473),0x2515+0x1*-0x236b+0x11*-0x19),Math['max'](Math['floor'](_0x34add6['_height']*_0x2d0473),-0x2b*0x17+-0x89b*-0x1+-0x4bd),0x32*-0x2+0x1*-0x10fd+0x1162,this['_glInterna'+'lFormat'],_0x3123c1[_0x25e59c]);}else{for(let _0x5746ae=0x12e4+0x1*0x6ac+-0x1990;_0x5746ae<_0x34add6['_arrayLeng'+'th'];_0x5746ae++)_0x1652d3['texSubImag'+'e3D'](_0x1652d3['TEXTURE_2D'+'_ARRAY'],_0x4d0f83,0x1f2e+-0xdba+-0x45d*0x4,-0x85a*-0x1+0x2*-0xf4d+0x1640,_0x5746ae,Math['max'](Math['floor'](_0x34add6['_width']*_0x2d0473),0x147b+0x25c9+-0x3a43),Math['max'](Math['floor'](_0x34add6['_height']*_0x2d0473),-0x902*-0x2+0x1*-0x229+0xfda*-0x1),-0x1f*0x17+0x7*-0x2e1+0x16f1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1[_0x5746ae]);}}}else{if(_0x149c41['_isBrowser'+'Interface'](_0x3123c1)){_0x149c41['_isImageBr'+'owserInter'+'face'](_0x3123c1)&&(_0x3123c1['width']>_0x149c41['maxTexture'+'Size']||_0x3123c1['height']>_0x149c41['maxTexture'+'Size'])&&(_0x3123c1=c_(_0x3123c1,_0x149c41['maxTexture'+'Size']),_0x4d0f83===0x8*0x427+0x1797+-0x1*0x38cf&&(_0x34add6['_width']=_0x3123c1['width'],_0x34add6['_height']=_0x3123c1['height']));const _0x893d58=_0x3123c1['width']||_0x3123c1['videoWidth'],_0x54289a=_0x3123c1['height']||_0x3123c1['videoHeigh'+'t'];_0x149c41['setUnpackF'+'lipY'](_0x34add6['_flipY']),_0x149c41['setUnpackP'+'remultiply'+'Alpha'](_0x34add6['_premultip'+'lyAlpha']),this['_glCreated']&&_0x34add6['_width']===_0x893d58&&_0x34add6['_height']===_0x54289a&&!_0x149c41['_isImageVi'+'deoInterfa'+'ce'](_0x3123c1)?_0x1652d3['texSubImag'+'e2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,-0x5f*0x35+-0x1a00+0x2dab,0x166*-0x7+0xb*-0x83+-0xf6b*-0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1):(_0x1652d3['texImage2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1),_0x4d0f83===0x21ee+0x25+-0x2213&&(_0x34add6['_width']=_0x893d58,_0x34add6['_height']=_0x54289a));}else _0x2d0473=(-0x2b6*-0x5+0x1*-0x773+0x47*-0x16)/Math['pow'](-0x1*-0xc48+0x2014*0x1+-0x32b*0xe,_0x4d0f83),_0x34add6['_compresse'+'d']?this['_glCreated']&&_0x3123c1?_0x1652d3['compressed'+'TexSubImag'+'e2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,-0x2356+-0x1*0x25c+0x25b2,-0x7*-0x94+-0x1f64+0x1b58,Math['max'](Math['floor'](_0x34add6['_width']*_0x2d0473),0x1255+0x17*-0x11a+0x702),Math['max'](Math['floor'](_0x34add6['_height']*_0x2d0473),0x1*-0x3ec+0x57d*-0x2+0xee7*0x1),this['_glInterna'+'lFormat'],_0x3123c1):_0x1652d3['compressed'+'TexImage2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x34add6['_width']*_0x2d0473),-0x1*-0x26ed+0x1a8*-0x17+-0x6a*0x2),Math['max'](Math['floor'](_0x34add6['_height']*_0x2d0473),0x1*0x164e+-0x3ae+0xe3*-0x15),-0x264c+-0x10d2+0x371e,_0x3123c1):(_0x149c41['setUnpackF'+'lipY'](!(-0xd75*-0x1+0x1f8e+-0x337*0xe)),_0x149c41['setUnpackP'+'remultiply'+'Alpha'](_0x34add6['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3123c1?_0x1652d3['texSubImag'+'e2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,-0x17f0+0xb*-0x1ab+0x2a49,0x185*-0xf+0x162e+-0x1*-0x9d,Math['max'](_0x34add6['_width']*_0x2d0473,-0xa84+-0x3b*-0x9d+-0x49*0x5a),Math['max'](_0x34add6['_height']*_0x2d0473,0x2*-0xd50+0x2b9*0x8+-0x1*-0x4d9),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1):_0x1652d3['texImage2D'](_0x1652d3['TEXTURE_2D'],_0x4d0f83,this['_glInterna'+'lFormat'],Math['max'](_0x34add6['_width']*_0x2d0473,0x17a6+-0x9b+-0x170a),Math['max'](_0x34add6['_height']*_0x2d0473,-0xee*0x21+-0xd8c*0x1+-0x43*-0xa9),0x134*0x9+-0xfb*-0x1d+-0x2743*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3123c1));_0x4d0f83===0x3c*-0x84+-0x2*0x10dd+0x40aa?_0x34add6['_mipmapsUp'+'loaded']=!(0x2e*-0x86+-0x821+0x2036):_0x34add6['_mipmapsUp'+'loaded']=!(-0xf25+0x35e+0xbc7);}}}_0x4d0f83++;}if(_0x34add6['_needsUplo'+'ad']){if(_0x34add6['_cubemap']){for(let _0x3e3cd3=-0xca6+-0x436*0x8+0x2e56;_0x3e3cd3<-0x7*-0x3f1+0x12f9+-0x2e8a;_0x3e3cd3++)_0x34add6['_levelsUpd'+'ated'][0xb*0x1f+0x61*0x53+-0x20c8][_0x3e3cd3]=!(-0x26b*0xf+0x10c2+-0x1*-0x1384);}else _0x34add6['_levelsUpd'+'ated'][0xb73+-0x15*-0x169+0x248*-0x12]=!(0x39e*-0x1+0x376*-0x1+0x715);}!_0x34add6['_compresse'+'d']&&!_0x34add6['_integerFo'+'rmat']&&_0x34add6['_mipmaps']&&_0x34add6['_needsMipm'+'apsUpload']&&_0x34add6['_levels']['length']===0x3*-0xa88+0x1f5b*-0x1+0x3ef4&&(_0x1652d3['generateMi'+'pmap'](this['_glTarget']),_0x34add6['_mipmapsUp'+'loaded']=!(-0x1432+0x23*-0xcd+0x3039)),_0x34add6['_gpuSize']&&_0x34add6['adjustVram'+'SizeTracki'+'ng'](_0x149c41['_vram'],-_0x34add6['_gpuSize']),_0x34add6['_gpuSize']=_0x34add6['gpuSize'],_0x34add6['adjustVram'+'SizeTracki'+'ng'](_0x149c41['_vram'],_0x34add6['_gpuSize']),this['_glCreated']=!(0x212a+-0x1f12*-0x1+0x1*-0x403c);}['read'](_0x1880a0,_0x1ded5d,_0x1618e2,_0x45be8e,_0x3ffc86){const _0x493974=this['texture'];return _0x493974['device']['readTextur'+'eAsync'](_0x493974,_0x1880a0,_0x1ded5d,_0x1618e2,_0x45be8e,_0x3ffc86);}['write'](_0x861182,_0x5ecac4,_0x3a9416,_0x2d089b,_0x3ae06c){const {texture:_0x4b3faf}=this,{device:_0x3ae8fa}=_0x4b3faf;return _0x3ae8fa['setTexture'](_0x4b3faf,0x2c*0x3d+0x1f0e+-0x298a),_0x3ae8fa['writeTextu'+'reAsync'](_0x4b3faf,_0x861182,_0x5ecac4,_0x3a9416,_0x2d089b,_0x3ae06c);}}class tw{constructor(_0x4b4892,_0x2006c7){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x4b4892,this['resolveFB']=_0x2006c7);}['destroy'](_0x4a7a3d){this['msaaFB']&&(_0x4a7a3d['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x4a7a3d['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x8c1+0x1c61*-0x1+0x2523));}['destroy'](_0x4b076f){var _0x2694a4;const _0x2f7d5c=_0x4b076f['gl'];this['_isInitial'+'ized']=!(0xaa3*-0x1+-0x14cc+0x1f70),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2f7d5c['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2f7d5c['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2f7d5c['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x264c5a=>{_0x2f7d5c['deleteRend'+'erbuffer'](_0x264c5a);}),this['_glMsaaCol'+'orBuffers']['length']=-0x37c+0x5*-0x3e5+0x16f5*0x1,(_0x2694a4=this['colorMrtFr'+'amebuffers'])==null||_0x2694a4['forEach'](_0x33c2b0=>{_0x33c2b0['destroy'](_0x2f7d5c);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x4b076f)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x59+0x16f*-0x13+0x1ae4);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x1f2a12,_0x20d3b7){var _0x53845b,_0xf54c51;const _0x30fddc=_0x1f2a12['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x5f8+0x135*-0x13+-0x1ce7*-0x1);const _0x52e7f3=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x4c8+0x1*0x214f+-0x1*0x2617))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x20d3b7['width']<=-0xc8b+0x2653+-0x19c8||_0x20d3b7['height']<=-0x7*-0x3e9+0x8b*-0x3d+0x5c0)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x20d3b7['width']+'\x20x\x20'+_0x20d3b7['height'],_0x20d3b7);}),this['_glFrameBu'+'ffer']=_0x30fddc['createFram'+'ebuffer'](),_0x1f2a12['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x56d7=((_0x53845b=_0x20d3b7['_colorBuff'+'ers'])==null?void(-0x434+0xb*-0x2a5+-0x9*-0x3b3):_0x53845b['length'])??-0x11c4+0x662+0x5e*0x1f,_0x46577f=_0x30fddc['COLOR_ATTA'+'CHMENT0'];for(let _0x4d1f2a=0x1dbf+-0xfb4+-0xe0b;_0x4d1f2a<_0x56d7;++_0x4d1f2a){const _0x341c0b=_0x20d3b7['getColorBu'+'ffer'](_0x4d1f2a);_0x341c0b&&(_0x341c0b['impl']['_glTexture']||(_0x341c0b['_width']=Math['min'](_0x341c0b['width'],_0x1f2a12['maxRenderB'+'ufferSize']),_0x341c0b['_height']=Math['min'](_0x341c0b['height'],_0x1f2a12['maxRenderB'+'ufferSize']),_0x1f2a12['setTexture'](_0x341c0b,0x1e6+0x2039+-0x221f)),_0x30fddc['framebuffe'+'rTexture2D'](_0x30fddc['FRAMEBUFFE'+'R'],_0x46577f+_0x4d1f2a,_0x341c0b['_cubemap']?_0x30fddc['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x20d3b7['_face']:_0x30fddc['TEXTURE_2D'],_0x341c0b['impl']['_glTexture'],_0x20d3b7['mipLevel']),_0x52e7f3['push'](_0x46577f+_0x4d1f2a));}_0x30fddc['drawBuffer'+'s'](_0x52e7f3);const _0xb328c=_0x20d3b7['_depthBuff'+'er'];if(_0xb328c||_0x20d3b7['_depth']){const _0x5932a6=_0x20d3b7['_stencil']?_0x30fddc['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x30fddc['DEPTH_ATTA'+'CHMENT'];if(_0xb328c)_0xb328c['impl']['_glTexture']||(_0xb328c['_width']=Math['min'](_0xb328c['width'],_0x1f2a12['maxRenderB'+'ufferSize']),_0xb328c['_height']=Math['min'](_0xb328c['height'],_0x1f2a12['maxRenderB'+'ufferSize']),_0x1f2a12['setTexture'](_0xb328c,-0xe9f+-0x95*0x2f+0x29fa)),_0x30fddc['framebuffe'+'rTexture2D'](_0x30fddc['FRAMEBUFFE'+'R'],_0x5932a6,_0xb328c['_cubemap']?_0x30fddc['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x20d3b7['_face']:_0x30fddc['TEXTURE_2D'],_0x20d3b7['_depthBuff'+'er']['impl']['_glTexture'],_0x20d3b7['mipLevel']);else{if(!(_0x20d3b7['_samples']>0x5*-0x687+-0x2166+0x420a)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x30fddc['createRend'+'erbuffer']());const _0x324924=_0x20d3b7['_stencil']?_0x30fddc['DEPTH24_ST'+'ENCIL8']:_0x30fddc['DEPTH_COMP'+'ONENT32F'];_0x30fddc['bindRender'+'buffer'](_0x30fddc['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x30fddc['renderbuff'+'erStorage'](_0x30fddc['RENDERBUFF'+'ER'],_0x324924,_0x20d3b7['width'],_0x20d3b7['height']),_0x30fddc['framebuffe'+'rRenderbuf'+'fer'](_0x30fddc['FRAMEBUFFE'+'R'],_0x5932a6,_0x30fddc['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x30fddc['bindRender'+'buffer'](_0x30fddc['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x1f2a12,_0x20d3b7));}if(_0x20d3b7['_samples']>0x8e6*0x4+0x140f+-0x37a6){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x30fddc['createFram'+'ebuffer'](),_0x1f2a12['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1ff622=((_0xf54c51=_0x20d3b7['_colorBuff'+'ers'])==null?void(-0x24*-0x6e+0x11e*-0x16+-0x91c*-0x1):_0xf54c51['length'])??-0x2495+-0x22*0x37+0x2be3;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x25e9+-0x99d+0x2f86)){const _0x5f4145=_0x30fddc['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x5f4145);const _0x4b9220=_0x1f2a12['backBuffer'+'Format']===Ne?_0x30fddc['RGBA8']:_0x30fddc['RGB8'];_0x30fddc['bindRender'+'buffer'](_0x30fddc['RENDERBUFF'+'ER'],_0x5f4145),_0x30fddc['renderbuff'+'erStorageM'+'ultisample'](_0x30fddc['RENDERBUFF'+'ER'],_0x20d3b7['_samples'],_0x4b9220,_0x20d3b7['width'],_0x20d3b7['height']),_0x30fddc['framebuffe'+'rRenderbuf'+'fer'](_0x30fddc['FRAMEBUFFE'+'R'],_0x30fddc['COLOR_ATTA'+'CHMENT0'],_0x30fddc['RENDERBUFF'+'ER'],_0x5f4145);}else for(let _0x552ed3=-0x1cf+-0x617*-0x4+-0x17*0xfb;_0x552ed3<_0x1ff622;++_0x552ed3){const _0x151b77=_0x20d3b7['getColorBu'+'ffer'](_0x552ed3);if(_0x151b77){const _0x1fa314=_0x30fddc['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1fa314),_0x30fddc['bindRender'+'buffer'](_0x30fddc['RENDERBUFF'+'ER'],_0x1fa314),_0x30fddc['renderbuff'+'erStorageM'+'ultisample'](_0x30fddc['RENDERBUFF'+'ER'],_0x20d3b7['_samples'],_0x151b77['impl']['_glInterna'+'lFormat'],_0x20d3b7['width'],_0x20d3b7['height']),_0x30fddc['framebuffe'+'rRenderbuf'+'fer'](_0x30fddc['FRAMEBUFFE'+'R'],_0x30fddc['COLOR_ATTA'+'CHMENT0']+_0x552ed3,_0x30fddc['RENDERBUFF'+'ER'],_0x1fa314);}}if(_0x20d3b7['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x3ffc7a=_0x20d3b7['_stencil']?_0x30fddc['DEPTH24_ST'+'ENCIL8']:_0x30fddc['DEPTH_COMP'+'ONENT32F'],_0x4f34a9=_0x20d3b7['_stencil']?_0x30fddc['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x30fddc['DEPTH_ATTA'+'CHMENT'];let _0x40a7ae;const _0x1d44e3=_0x20d3b7['_depthBuff'+'er'];_0x1d44e3&&(_0x40a7ae=_0x1d44e3['id']+':'+_0x20d3b7['width']+':'+_0x20d3b7['height']+':'+_0x20d3b7['_samples']+':'+_0x3ffc7a+':'+_0x4f34a9,this['_glMsaaDep'+'thBuffer']=Fd(_0x1f2a12)['get'](_0x40a7ae)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x30fddc['createRend'+'erbuffer'](),_0x30fddc['bindRender'+'buffer'](_0x30fddc['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x30fddc['renderbuff'+'erStorageM'+'ultisample'](_0x30fddc['RENDERBUFF'+'ER'],_0x20d3b7['_samples'],_0x3ffc7a,_0x20d3b7['width'],_0x20d3b7['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x30fddc['deleteRend'+'erbuffer'](this);},_0x1d44e3&&Fd(_0x1f2a12)['set'](_0x40a7ae,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x40a7ae,_0x30fddc['framebuffe'+'rRenderbuf'+'fer'](_0x30fddc['FRAMEBUFFE'+'R'],_0x4f34a9,_0x30fddc['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x1f2a12,_0x20d3b7,'MSAA')),_0x1ff622>0x131e+0x11fb+0x1*-0x2518&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x1f2a12,_0x20d3b7,_0x1ff622),_0x1f2a12['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x30fddc['drawBuffer'+'s'](_0x52e7f3));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x38a0df,_0x5b8356,_0x4da0e8){const _0x54abcb=_0x38a0df['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2d3fdd=0x161*0x1c+0x5d*0x41+0x3e39*-0x1;_0x2d3fdd<_0x4da0e8;++_0x2d3fdd){const _0x48c37b=_0x5b8356['getColorBu'+'ffer'](_0x2d3fdd),_0x1407db=_0x54abcb['createFram'+'ebuffer']();_0x38a0df['setFramebu'+'ffer'](_0x1407db);const _0x137941=this['_glMsaaCol'+'orBuffers'][_0x2d3fdd];_0x54abcb['bindRender'+'buffer'](_0x54abcb['RENDERBUFF'+'ER'],_0x137941),_0x54abcb['renderbuff'+'erStorageM'+'ultisample'](_0x54abcb['RENDERBUFF'+'ER'],_0x5b8356['_samples'],_0x48c37b['impl']['_glInterna'+'lFormat'],_0x5b8356['width'],_0x5b8356['height']),_0x54abcb['framebuffe'+'rRenderbuf'+'fer'](_0x54abcb['FRAMEBUFFE'+'R'],_0x54abcb['COLOR_ATTA'+'CHMENT0'],_0x54abcb['RENDERBUFF'+'ER'],_0x137941),_0x54abcb['drawBuffer'+'s']([_0x54abcb['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x38a0df,_0x5b8356,'MSAA-MRT-s'+'rc'+_0x2d3fdd));const _0x5212f2=_0x54abcb['createFram'+'ebuffer']();_0x38a0df['setFramebu'+'ffer'](_0x5212f2),_0x54abcb['framebuffe'+'rTexture2D'](_0x54abcb['FRAMEBUFFE'+'R'],_0x54abcb['COLOR_ATTA'+'CHMENT0'],_0x48c37b['_cubemap']?_0x54abcb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5b8356['_face']:_0x54abcb['TEXTURE_2D'],_0x48c37b['impl']['_glTexture'],-0x24aa+0x24dd+-0x33*0x1),this['colorMrtFr'+'amebuffers'][_0x2d3fdd]=new tw(_0x1407db,_0x5212f2),w['call'](()=>this['_checkFbo'](_0x38a0df,_0x5b8356,'MSAA-MRT-d'+'st'+_0x2d3fdd));}}['_checkFbo'](_0x4e7c6d,_0x37402f,_0x5bcda1=''){const _0xb8695e=_0x4e7c6d['gl'],_0x5585f2=_0xb8695e['checkFrame'+'bufferStat'+'us'](_0xb8695e['FRAMEBUFFE'+'R']);let _0x5549b5;switch(_0x5585f2){case _0xb8695e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x5549b5='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0xb8695e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x5549b5='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0xb8695e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x5549b5='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0xb8695e['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x5549b5='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x5549b5,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x5549b5+(',\x20render\x20t'+'arget:\x20')+_0x37402f['name']+'\x20'+_0x5bcda1,_0x37402f);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0xd3d+0x5*0x271+-0x1*0x1972,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x1*0xe45+0x23cb+0xac3*-0x2),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1963*0x1+-0x7+-0x195c),this['_isInitial'+'ized']=!(-0x54*-0x52+-0x15c+-0x198b);}['internalRe'+'solve'](_0x3fb23d,_0x25996e,_0x29baa9,_0x2313fe,_0x4e6439){w['assert'](_0x25996e!==_0x29baa9,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x3fb23d['setScissor'](0x207b*0x1+0x148c*0x1+0x5*-0xa9b,0x1*-0x157+-0x307*0xb+0xc*0x2e3,_0x2313fe['width'],_0x2313fe['height']);const _0x312cba=_0x3fb23d['gl'];_0x312cba['bindFrameb'+'uffer'](_0x312cba['READ_FRAME'+'BUFFER'],_0x25996e),_0x312cba['bindFrameb'+'uffer'](_0x312cba['DRAW_FRAME'+'BUFFER'],_0x29baa9),_0x312cba['blitFrameb'+'uffer'](-0x17f*-0x1+0x280*-0x7+0x1001,-0x148+0x10e4+-0xf9c,_0x2313fe['width'],_0x2313fe['height'],0x13c7+-0x1e2f+0xc*0xde,-0x1*0x577+-0x3*0x4e4+0x1423*0x1,_0x2313fe['width'],_0x2313fe['height'],_0x4e6439,_0x312cba['NEAREST']);}['resolve'](_0x20e590,_0x44c609,_0x1bbb8f,_0x5c1df7){const _0x2b1f79=_0x20e590['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x1bbb8f)for(let _0xbe30b2=0x1aa8+-0x22*0xf9+0x66a;_0xbe30b2<this['colorMrtFr'+'amebuffers']['length'];_0xbe30b2++){const _0x51af84=this['colorMrtFr'+'amebuffers'][_0xbe30b2];Q['pushGpuMar'+'ker'](_0x20e590,'RESOLVE-MR'+'T'+_0xbe30b2),this['internalRe'+'solve'](_0x20e590,_0x51af84['msaaFB'],_0x51af84['resolveFB'],_0x44c609,_0x2b1f79['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x20e590);}_0x5c1df7&&(Q['pushGpuMar'+'ker'](_0x20e590,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x20e590,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x44c609,_0x2b1f79['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x20e590));}else Q['pushGpuMar'+'ker'](_0x20e590,'RESOLVE'),this['internalRe'+'solve'](_0x20e590,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x44c609,(_0x1bbb8f?_0x2b1f79['COLOR_BUFF'+'ER_BIT']:-0x2*0xebe+-0x1baa+-0x85*-0x6e)|(_0x5c1df7?_0x2b1f79['DEPTH_BUFF'+'ER_BIT']:0x207+-0x584+0x2f*0x13)),Q['popGpuMark'+'er'](_0x20e590);_0x2b1f79['bindFrameb'+'uffer'](_0x2b1f79['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x12ace1){this['queries']['forEach'](_0x2ae7fa=>_0x12ace1['deleteQuer'+'y'](_0x2ae7fa)),this['queries']=null;}}class rw extends $T{constructor(_0x47fc2f){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x47fc2f,this['ext']=_0x47fc2f['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x5d6b40=>this['device']['gl']['deleteQuer'+'y'](_0x5d6b40)),this['frameQueri'+'es']['forEach'](_0x2ef0e0=>this['device']['gl']['deleteQuer'+'y'](_0x2ef0e0)),this['previousFr'+'ameQueries']['forEach'](_0x48acd3=>_0x48acd3['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x261a55){if(this['ext']){const _0x4db285=this['getSlot'](_0x261a55),_0x57be45=this['getQuery']();return this['frameQueri'+'es'][_0x4db285]=_0x57be45,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x57be45),_0x4db285;}}['end'](_0x460e1a){_0x460e1a!==void(0x6cd*0x5+0xe79+0x92*-0x55)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x1d12bb=this['ext'],_0x1e7cd6=this['device']['gl'],_0x420e9c=this['device']['renderVers'+'ion'],_0x19c73e=this['frameQueri'+'es'];if(_0x19c73e['length']>-0x104a+-0x1ad6+0x8a0*0x5){this['frameQueri'+'es']=[];const _0x551b84=new iw();_0x551b84['queries']=_0x19c73e,_0x551b84['renderVers'+'ion']=_0x420e9c,this['previousFr'+'ameQueries']['push'](_0x551b84);}if(this['previousFr'+'ameQueries']['length']>0xe*-0x269+0x4*0x7ef+0x202){const _0x4cc992=this['previousFr'+'ameQueries'][0x2d6*0x3+-0x1*-0x8ab+-0x112d],_0x30647b=_0x4cc992['queries'],_0x51b3ae=_0x30647b[_0x30647b['length']-(0x10fc+-0x19cc+0x8d1)],_0x18e7d4=_0x1e7cd6['getQueryPa'+'rameter'](_0x51b3ae,_0x1e7cd6['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x40518c=_0x1e7cd6['getParamet'+'er'](_0x1d12bb['GPU_DISJOI'+'NT_EXT']);if(_0x18e7d4&&!_0x40518c){this['previousFr'+'ameQueries']['shift']();const _0x50ad67=this['timings'];_0x50ad67['length']=-0x1218+-0xf57+-0x3*-0xb25;for(let _0x317943=0x1b5*0x8+-0x2020*-0x1+-0x2dc8;_0x317943<_0x30647b['length'];_0x317943++){const _0x3fe1af=_0x30647b[_0x317943],_0x462e62=_0x1e7cd6['getQueryPa'+'rameter'](_0x3fe1af,_0x1e7cd6['QUERY_RESU'+'LT']);_0x50ad67[_0x317943]=_0x462e62*(-0x1*-0x14c9+0x227d+-0x3746+0.000001),this['freeQuerie'+'s']['push'](_0x3fe1af);}this['report'](_0x4cc992['renderVers'+'ion'],_0x50ad67);}_0x40518c&&(this['previousFr'+'ameQueries']['forEach'](_0x22709f=>{this['report'](_0x22709f['renderVers'+'ion'],null),_0x22709f['destroy'](_0x1e7cd6);}),this['previousFr'+'ameQueries']['length']=0x5*0x119+0xe13+0x4e4*-0x4);}super['request'](_0x420e9c);}}}const Da=[];class aw extends $e{constructor(_0x589f03,_0x5e4eec={}){super(_0x589f03,_0x5e4eec),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x561+-0x154b*-0x1+-0xfe9)),(_0x5e4eec=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1*-0x1faf+-0x1bcc+0x47*-0xe),this['_contextLo'+'stHandler']=_0x5c5c22=>{_0x5c5c22['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x2bf176=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x2bf176&&_0x2bf176['includes']('AppleWebKi'+'t')&&(_0x2bf176['includes']('15.4')||_0x2bf176['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x5e4eec['antialias']=!(0x1956+-0x2423+0xace),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x792523=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0xe82bfd=_0x792523?_0x792523[0x26*0xb2+0xbc6+-0x2631]:null;if(_0xe82bfd){const _0x370e70=parseFloat(_0xe82bfd);(Ae['name']==='windows'&&(_0x370e70>=0x1b6e+0xb02+0x438*-0x9||_0x370e70===0x8e3*0x3+0x1*-0x815+-0x77*0x27)||Ae['name']==='android'&&_0x370e70>=0x36*0x35+0x1364+-0x1e0e)&&(_0x5e4eec['antialias']=!(0x58d+-0x7ea+0x6*0x65),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0xe82bfd));}}this['backBuffer'+'Antialias']=_0x5e4eec['antialias']??!(0x2*0xe8a+0x1719+0x13e*-0x2a),_0x5e4eec['antialias']=!(-0xcd9+0x19d+0xb3d);const _0x157b56=_0x5e4eec['gl']??_0x589f03['getContext']('webgl2',_0x5e4eec);if(!_0x157b56)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x157b56,this['isWebGL2']=!(-0x9d*-0x2+-0x1659+0x151f*0x1),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0xea0376=Ae['browserNam'+'e']==='chrome',_0x44032f=Ae['browserNam'+'e']==='safari',_0x589192=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x1149+-0x1ac2+-0x2*-0x1606);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x44032f,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x589192&&_0xea0376&&!_0x5e4eec['alpha'],_0x589f03['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x61f*-0x5+-0x1299*-0x2+0x1*-0x43cc)),_0x589f03['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0xd84+0xfea+-0x265)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x44032f&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x157b56['SAMPLER_2D'],_0x157b56['SAMPLER_CU'+'BE'],_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x157b56['INT_SAMPLE'+'R_2D'],_0x157b56['SAMPLER_2D'+'_SHADOW'],_0x157b56['SAMPLER_CU'+'BE_SHADOW'],_0x157b56['SAMPLER_3D'],_0x157b56['INT_SAMPLE'+'R_3D'],_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x157b56['SAMPLER_2D'+'_ARRAY'],_0x157b56['INT_SAMPLE'+'R_2D_ARRAY'],_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x157b56['REPEAT'],_0x157b56['CLAMP_TO_E'+'DGE'],_0x157b56['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x157b56['FUNC_ADD'],_0x157b56['FUNC_SUBTR'+'ACT'],_0x157b56['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x157b56['MIN'],_0x157b56['MAX']],this['glBlendFun'+'ctionColor']=[_0x157b56['ZERO'],_0x157b56['ONE'],_0x157b56['SRC_COLOR'],_0x157b56['ONE_MINUS_'+'SRC_COLOR'],_0x157b56['DST_COLOR'],_0x157b56['ONE_MINUS_'+'DST_COLOR'],_0x157b56['SRC_ALPHA'],_0x157b56['SRC_ALPHA_'+'SATURATE'],_0x157b56['ONE_MINUS_'+'SRC_ALPHA'],_0x157b56['DST_ALPHA'],_0x157b56['ONE_MINUS_'+'DST_ALPHA'],_0x157b56['CONSTANT_C'+'OLOR'],_0x157b56['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x157b56['ZERO'],_0x157b56['ONE'],_0x157b56['SRC_COLOR'],_0x157b56['ONE_MINUS_'+'SRC_COLOR'],_0x157b56['DST_COLOR'],_0x157b56['ONE_MINUS_'+'DST_COLOR'],_0x157b56['SRC_ALPHA'],_0x157b56['SRC_ALPHA_'+'SATURATE'],_0x157b56['ONE_MINUS_'+'SRC_ALPHA'],_0x157b56['DST_ALPHA'],_0x157b56['ONE_MINUS_'+'DST_ALPHA'],_0x157b56['CONSTANT_A'+'LPHA'],_0x157b56['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x157b56['NEVER'],_0x157b56['LESS'],_0x157b56['EQUAL'],_0x157b56['LEQUAL'],_0x157b56['GREATER'],_0x157b56['NOTEQUAL'],_0x157b56['GEQUAL'],_0x157b56['ALWAYS']],this['glStencilO'+'p']=[_0x157b56['KEEP'],_0x157b56['ZERO'],_0x157b56['REPLACE'],_0x157b56['INCR'],_0x157b56['INCR_WRAP'],_0x157b56['DECR'],_0x157b56['DECR_WRAP'],_0x157b56['INVERT']],this['glClearFla'+'g']=[0x2ef*-0x7+0x11*-0x201+0x369a,_0x157b56['COLOR_BUFF'+'ER_BIT'],_0x157b56['DEPTH_BUFF'+'ER_BIT'],_0x157b56['COLOR_BUFF'+'ER_BIT']|_0x157b56['DEPTH_BUFF'+'ER_BIT'],_0x157b56['STENCIL_BU'+'FFER_BIT'],_0x157b56['STENCIL_BU'+'FFER_BIT']|_0x157b56['COLOR_BUFF'+'ER_BIT'],_0x157b56['STENCIL_BU'+'FFER_BIT']|_0x157b56['DEPTH_BUFF'+'ER_BIT'],_0x157b56['STENCIL_BU'+'FFER_BIT']|_0x157b56['COLOR_BUFF'+'ER_BIT']|_0x157b56['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x12*-0xc5+-0xa22+0x17fc,_0x157b56['BACK'],_0x157b56['FRONT'],_0x157b56['FRONT_AND_'+'BACK']],this['glFilter']=[_0x157b56['NEAREST'],_0x157b56['LINEAR'],_0x157b56['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x157b56['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x157b56['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x157b56['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x157b56['POINTS'],_0x157b56['LINES'],_0x157b56['LINE_LOOP'],_0x157b56['LINE_STRIP'],_0x157b56['TRIANGLES'],_0x157b56['TRIANGLE_S'+'TRIP'],_0x157b56['TRIANGLE_F'+'AN']],this['glType']=[_0x157b56['BYTE'],_0x157b56['UNSIGNED_B'+'YTE'],_0x157b56['SHORT'],_0x157b56['UNSIGNED_S'+'HORT'],_0x157b56['INT'],_0x157b56['UNSIGNED_I'+'NT'],_0x157b56['FLOAT'],_0x157b56['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x157b56['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x157b56['INT']]=_a,this['pcUniformT'+'ype'][_0x157b56['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x157b56['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x157b56['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x157b56['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x157b56['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x157b56['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x157b56['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x157b56['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x157b56['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x157b56['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x157b56['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x157b56['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x157b56['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x157b56['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x157b56['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x157b56['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x157b56['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x157b56['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x157b56['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x157b56['TEXTURE_2D']]=-0x137*-0xc+0x3ef*-0x1+-0xaa5,this['targetToSl'+'ot'][_0x157b56['TEXTURE_CU'+'BE_MAP']]=-0x23f*-0x7+0x7*-0x3b+0x9d*-0x17,this['targetToSl'+'ot'][_0x157b56['TEXTURE_3D']]=-0x1bed+0x1374+0x87b;let _0x3ed289,_0x223b89,_0x189ddf,_0xe45e6a,_0x57b945;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x12010b,_0x5bc93d){_0x12010b['value']!==_0x5bc93d&&(_0x157b56['uniform1i'](_0x12010b['locationId'],_0x5bc93d),_0x12010b['value']=_0x5bc93d);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x586770,_0x3307eb){_0x586770['value']!==_0x3307eb&&(_0x157b56['uniform1f'](_0x586770['locationId'],_0x3307eb),_0x586770['value']=_0x3307eb);},this['commitFunc'+'tion'][ga]=function(_0x5ed9f7,_0x231649){_0x57b945=_0x5ed9f7['value'],_0x3ed289=_0x231649[-0xf*-0x283+-0x1*0x131+-0x247c],_0x223b89=_0x231649[0x25a+-0x1*0x6b3+0x2*0x22d],(_0x57b945[0x4cb*-0x1+0x1*0xe59+0x98e*-0x1]!==_0x3ed289||_0x57b945[0x959*0x3+0x1717+-0x3321*0x1]!==_0x223b89)&&(_0x157b56['uniform2fv'](_0x5ed9f7['locationId'],_0x231649),_0x57b945[-0x2705+0x1c9d+0xa68]=_0x3ed289,_0x57b945[0x622*0x3+-0x1e3d*-0x1+-0xf9*0x32]=_0x223b89);},this['commitFunc'+'tion'][ds]=function(_0x4eda88,_0x538e5a){_0x57b945=_0x4eda88['value'],_0x3ed289=_0x538e5a[-0x1302*0x2+0x213f+0x4c5],_0x223b89=_0x538e5a[0xc81+0x1b55+0x21*-0x135],_0x189ddf=_0x538e5a[0x1*-0x4c5+0x1ef*0xd+-0x517*0x4],(_0x57b945[-0x246e*0x1+-0x1f0f+0x437d]!==_0x3ed289||_0x57b945[-0x12*0xb1+-0x1da4+0x86b*0x5]!==_0x223b89||_0x57b945[0x79*0x1+0x7a4+-0x81b]!==_0x189ddf)&&(_0x157b56['uniform3fv'](_0x4eda88['locationId'],_0x538e5a),_0x57b945[-0x39d*-0x3+0x7*0x97+-0x1*0xef8]=_0x3ed289,_0x57b945[0xd*-0x64+0xb3*-0x3+0x72e]=_0x223b89,_0x57b945[-0x1588+-0x67*0x15+-0x9*-0x355]=_0x189ddf);},this['commitFunc'+'tion'][Rn]=function(_0x240d73,_0x25349e){_0x57b945=_0x240d73['value'],_0x3ed289=_0x25349e[0xcd5+0x248e+-0x3163],_0x223b89=_0x25349e[0x69f+0x962*-0x2+0x137*0xa],_0x189ddf=_0x25349e[0x1f11+0xc7*-0x2e+-0x191*-0x3],_0xe45e6a=_0x25349e[0x9e6+0x63*0x13+-0x113c*0x1],(_0x57b945[0x1*0x56+0x1*0x378+-0x3ce]!==_0x3ed289||_0x57b945[0x4*0x62e+0x1f5a+-0x3811]!==_0x223b89||_0x57b945[-0x6e9*-0x1+0x107*0x15+0x5b2*-0x5]!==_0x189ddf||_0x57b945[-0x1104*0x1+-0x1*-0x1334+-0x22d]!==_0xe45e6a)&&(_0x157b56['uniform4fv'](_0x240d73['locationId'],_0x25349e),_0x57b945[0x3*0x92d+-0x85*0xb+-0x15d0]=_0x3ed289,_0x57b945[0x1*-0x26d9+0xc89+0x1a51]=_0x223b89,_0x57b945[-0x4a*-0x46+-0x1079+0x3c1*-0x1]=_0x189ddf,_0x57b945[0x14f2+0x24a9+0x1*-0x3998]=_0xe45e6a);},this['commitFunc'+'tion'][ca]=function(_0x2edecf,_0x213980){_0x57b945=_0x2edecf['value'],_0x3ed289=_0x213980[-0x584*0x4+-0x1*-0x1255+0x3bb],_0x223b89=_0x213980[0xf*0x231+-0x6*-0x36f+-0x3578],(_0x57b945[0xe5a+-0x24ac+0x1652]!==_0x3ed289||_0x57b945[-0x1cd5+0x1a9e+0x238]!==_0x223b89)&&(_0x157b56['uniform2iv'](_0x2edecf['locationId'],_0x213980),_0x57b945[0x11ef+-0x87e*-0x4+-0x33e7]=_0x3ed289,_0x57b945[-0xd77+-0x194*-0x1+0xbe4*0x1]=_0x223b89);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x407b18,_0x3a6ef6){_0x57b945=_0x407b18['value'],_0x3ed289=_0x3a6ef6[0x1*-0xb3+-0x687*-0x2+-0xc5b],_0x223b89=_0x3a6ef6[-0xe*-0x8d+-0x2546+0x1*0x1d91],_0x189ddf=_0x3a6ef6[0x516+0x189*0xd+-0x1909],(_0x57b945[0x14f9+-0x145d*0x1+-0x9c]!==_0x3ed289||_0x57b945[-0x1827+-0x203f+0x12cd*0x3]!==_0x223b89||_0x57b945[-0x1579+0x1a*0xa4+0xd*0x5f]!==_0x189ddf)&&(_0x157b56['uniform3iv'](_0x407b18['locationId'],_0x3a6ef6),_0x57b945[0xeb*0x4+0x5*0x716+-0x271a*0x1]=_0x3ed289,_0x57b945[0x1b83*-0x1+0x23af+-0x1*0x82b]=_0x223b89,_0x57b945[0xe20+-0x1*-0x1942+-0x48*0x8c]=_0x189ddf);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x3adb03,_0x12ca13){_0x57b945=_0x3adb03['value'],_0x3ed289=_0x12ca13[-0x35*0x3b+-0x2*-0xeec+-0x11a1],_0x223b89=_0x12ca13[0x1129+0x1f*0xb5+-0x2713],_0x189ddf=_0x12ca13[-0x8b1*0x3+0x9*-0x31d+0x5*0xad2],_0xe45e6a=_0x12ca13[0xd*-0x9+-0x84a*0x2+0x110c],(_0x57b945[0x9fd*0x1+0x1e3b+-0x6*0x6b4]!==_0x3ed289||_0x57b945[0x1c07+-0x95*-0x3d+0xd*-0x4e3]!==_0x223b89||_0x57b945[0xb44+0xfa7*0x2+-0xe30*0x3]!==_0x189ddf||_0x57b945[-0x18f6+-0x1*-0x1e62+0x1*-0x569]!==_0xe45e6a)&&(_0x157b56['uniform4iv'](_0x3adb03['locationId'],_0x12ca13),_0x57b945[-0x1546+0x4*0x17f+0x2*0x7a5]=_0x3ed289,_0x57b945[-0x885+0x19*0x2f+0x3ef]=_0x223b89,_0x57b945[-0xe85+0xe38+-0x1*-0x4f]=_0x189ddf,_0x57b945[0x2085+0x631*0x6+-0x45a8]=_0xe45e6a);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0xc7b7ae,_0x3fd1d8){_0x157b56['uniformMat'+'rix2fv'](_0xc7b7ae['locationId'],!(0x112f+0x3e2+-0x1510),_0x3fd1d8);},this['commitFunc'+'tion'][On]=function(_0x35bea6,_0x53b47c){_0x157b56['uniformMat'+'rix3fv'](_0x35bea6['locationId'],!(-0x1*-0xa13+0x1*-0x1343+0x1*0x931),_0x53b47c);},this['commitFunc'+'tion'][li]=function(_0x2cf969,_0x2abae5){_0x157b56['uniformMat'+'rix4fv'](_0x2cf969['locationId'],!(0x1cdb*0x1+-0x17c6+0x104*-0x5),_0x2abae5);},this['commitFunc'+'tion'][ud]=function(_0xc07cb4,_0x384176){_0x157b56['uniform1fv'](_0xc07cb4['locationId'],_0x384176);},this['commitFunc'+'tion'][pd]=function(_0x58c192,_0xb1e236){_0x157b56['uniform2fv'](_0x58c192['locationId'],_0xb1e236);},this['commitFunc'+'tion'][md]=function(_0x582ce,_0x174107){_0x157b56['uniform3fv'](_0x582ce['locationId'],_0x174107);},this['commitFunc'+'tion'][Lp]=function(_0x1d0a20,_0x4feb8){_0x157b56['uniform4fv'](_0x1d0a20['locationId'],_0x4feb8);},this['commitFunc'+'tion'][Fn]=function(_0x202100,_0x3601b1){_0x202100['value']!==_0x3601b1&&(_0x157b56['uniform1ui'](_0x202100['locationId'],_0x3601b1),_0x202100['value']=_0x3601b1);},this['commitFunc'+'tion'][Nn]=function(_0x518843,_0x578f91){_0x57b945=_0x518843['value'],_0x3ed289=_0x578f91[-0x9*0x33f+-0x2074+-0x1*-0x3dab],_0x223b89=_0x578f91[0x5*0x1fb+-0x5*-0x13+-0xa45],(_0x57b945[0x1de+0xd9b+-0xf79*0x1]!==_0x3ed289||_0x57b945[-0x35b*-0x1+-0x2545+0x21eb]!==_0x223b89)&&(_0x157b56['uniform2ui'+'v'](_0x518843['locationId'],_0x578f91),_0x57b945[0xfce+-0x150f+0x541]=_0x3ed289,_0x57b945[0x965+-0x4b3+-0x4b1]=_0x223b89);},this['commitFunc'+'tion'][kn]=function(_0x91f4d7,_0x2d0eac){_0x57b945=_0x91f4d7['value'],_0x3ed289=_0x2d0eac[-0xe3*0x14+0x12e2+-0x7*0x2a],_0x223b89=_0x2d0eac[0x1d6+-0x2*-0x397+-0x1*0x903],_0x189ddf=_0x2d0eac[0x17ba+-0x1c5*0x16+0x79b*0x2],(_0x57b945[-0x1d65+0x1408*-0x1+0x316d]!==_0x3ed289||_0x57b945[0x3e6+0x692+-0xa77*0x1]!==_0x223b89||_0x57b945[0x2*-0x4b8+0x689*0x1+-0x95*-0x5]!==_0x189ddf)&&(_0x157b56['uniform3ui'+'v'](_0x91f4d7['locationId'],_0x2d0eac),_0x57b945[0x5b5+-0xd7b+0x7c6]=_0x3ed289,_0x57b945[-0xc1*-0xf+0x191d+-0x246b]=_0x223b89,_0x57b945[-0x1*0xea7+0x1*-0x679+0xa91*0x2]=_0x189ddf);},this['commitFunc'+'tion'][Un]=function(_0x5ade73,_0x32845a){_0x57b945=_0x5ade73['value'],_0x3ed289=_0x32845a[0x61a+0x1101*0x1+-0x171b],_0x223b89=_0x32845a[0x102b*-0x1+0x16c3*-0x1+0x26ef],_0x189ddf=_0x32845a[0x1*0x9a9+-0x8*0x11c+-0xc7*0x1],_0xe45e6a=_0x32845a[-0x2034+0x11c4+-0x19b*-0x9],(_0x57b945[0x201d*-0x1+-0x3*-0x933+0x484]!==_0x3ed289||_0x57b945[-0xd*-0x12b+-0xd42+-0xc*0x29]!==_0x223b89||_0x57b945[0x39c+-0x2593*-0x1+0x292d*-0x1]!==_0x189ddf||_0x57b945[0x1*-0x1cb7+0x3*0x799+0x5ef]!==_0xe45e6a)&&(_0x157b56['uniform4ui'+'v'](_0x5ade73['locationId'],_0x32845a),_0x57b945[0x5b*-0x56+0x14b1+0x9e1]=_0x3ed289,_0x57b945[0x1ea8*-0x1+-0x1*-0x2063+0x1a*-0x11]=_0x223b89,_0x57b945[-0x216*0x7+0x1951+-0xab5*0x1]=_0x189ddf,_0x57b945[0x5bd*0x1+0x2f1*0x2+-0xb9c*0x1]=_0xe45e6a);},this['commitFunc'+'tion'][Bn]=function(_0x504116,_0xe88714){_0x157b56['uniform1iv'](_0x504116['locationId'],_0xe88714);},this['commitFunc'+'tion'][_d]=function(_0xa1bfad,_0x1a115e){_0x157b56['uniform1ui'+'v'](_0xa1bfad['locationId'],_0x1a115e);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x535162,_0x313b3d){_0x157b56['uniform2iv'](_0x535162['locationId'],_0x313b3d);},this['commitFunc'+'tion'][Sd]=function(_0x2d08e1,_0x90e14a){_0x157b56['uniform2ui'+'v'](_0x2d08e1['locationId'],_0x90e14a);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x18b2c6,_0x2db7f4){_0x157b56['uniform3iv'](_0x18b2c6['locationId'],_0x2db7f4);},this['commitFunc'+'tion'][vd]=function(_0x358cce,_0xc0f890){_0x157b56['uniform3ui'+'v'](_0x358cce['locationId'],_0xc0f890);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x2e4ef8,_0x5aeb11){_0x157b56['uniform4iv'](_0x2e4ef8['locationId'],_0x5aeb11);},this['commitFunc'+'tion'][Rp]=function(_0x5d555f,_0x5fe990){_0x157b56['uniform4ui'+'v'](_0x5d555f['locationId'],_0x5fe990);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x11e0b6,_0xa81546){_0x157b56['uniformMat'+'rix4fv'](_0x11e0b6['locationId'],!(0x14dc+-0x1*0x102a+-0x1*0x4b1),_0xa81546);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x4e342d=this['gl'];this['feedback']&&_0x4e342d['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x11ea+-0x684*-0x2+-0x4e3*-0x1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x161e+-0x1*0x248b+0xe6e)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x5c0584){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x5c0584;}['updateBack'+'bufferForm'+'at'](_0x2156ad){const _0x3e2058=this['gl'];_0x3e2058['bindFrameb'+'uffer'](_0x3e2058['FRAMEBUFFE'+'R'],_0x2156ad);const _0x1f946a=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x1f946a?Ne:Cr;}['updateBack'+'buffer'](){const _0x219322=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x219322)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x9bc+-0xcc2*-0x1+-0x167d),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x3fb0af,_0x278779){return new XT();}['createInde'+'xBufferImp'+'l'](_0x35598b){return new qT(_0x35598b);}['createShad'+'erImpl'](_0x45d4c2){return new JT(_0x45d4c2);}['createText'+'ureImpl'](_0x4ad4e8){return new ew(_0x4ad4e8);}['createRend'+'erTargetIm'+'pl'](_0x54d48b){return new sw();}['pushMarker'](_0x412a76){if(Ae['browser']&&window['spector']){const _0x333955=Q['toString']();window['spector']['setMarker'](_0x333955+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x271ac0=Q['toString']();_0x271ac0['length']?window['spector']['setMarker'](_0x271ac0+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x43a69a=this['gl'];let _0x47de9f='highp';if(_0x43a69a['getShaderP'+'recisionFo'+'rmat']){const _0x2cf3d7=_0x43a69a['getShaderP'+'recisionFo'+'rmat'](_0x43a69a['VERTEX_SHA'+'DER'],_0x43a69a['HIGH_FLOAT']),_0x1882c7=_0x43a69a['getShaderP'+'recisionFo'+'rmat'](_0x43a69a['VERTEX_SHA'+'DER'],_0x43a69a['MEDIUM_FLO'+'AT']),_0x5d5ba5=_0x43a69a['getShaderP'+'recisionFo'+'rmat'](_0x43a69a['FRAGMENT_S'+'HADER'],_0x43a69a['HIGH_FLOAT']),_0x4625b5=_0x43a69a['getShaderP'+'recisionFo'+'rmat'](_0x43a69a['FRAGMENT_S'+'HADER'],_0x43a69a['MEDIUM_FLO'+'AT']);if(_0x2cf3d7&&_0x1882c7&&_0x5d5ba5&&_0x4625b5){const _0x1de002=_0x2cf3d7['precision']>0x7*-0x54a+-0x3*-0x242+0x1e40&&_0x5d5ba5['precision']>-0xf*-0x17f+-0x7*-0x23f+-0x7a2*0x5,_0x4dc6be=_0x1882c7['precision']>0x42e+0x1031+-0x145f&&_0x4625b5['precision']>0x19b4+0xb7e+-0x2532;_0x1de002||(_0x4dc6be?(_0x47de9f='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x47de9f='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x47de9f;}['getExtensi'+'on'](){for(let _0x44d90e=-0x2*0x290+0x1e43+0xb*-0x249;_0x44d90e<arguments['length'];_0x44d90e++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x44d90e])!==-(-0x1*0xdbd+0x11ac+-0x3ee*0x1))return this['gl']['getExtensi'+'on'](arguments[_0x44d90e]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x45cb07=this['gl'];this['supportedE'+'xtensions']=_0x45cb07['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x7bc+0x13*0x1b7+0x1*-0x18d9),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0xf53e=this['gl'];let _0x4bf661;const _0x5ef87a=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x20d406=_0xf53e['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x20d406==null?void(-0x1*-0x12d1+0xfa6*0x1+-0x2277):_0x20d406['antialias'])??!(-0xb*0x14b+0x466+0x9d4),this['supportsSt'+'encil']=(_0x20d406==null?void(-0x1a87+-0x8d8+0x235f):_0x20d406['stencil'])??!(-0x4b*-0x6a+0x1c6*-0x13+0x2a5*0x1),this['maxTexture'+'Size']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0xf53e['getParamet'+'er'](_0xf53e['MAX_3D_TEX'+'TURE_SIZE']),_0x4bf661=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x4bf661?_0xf53e['getParamet'+'er'](_0x4bf661['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x4bf661?_0xf53e['getParamet'+'er'](_0x4bf661['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x2738d8=/\bMali-G52+/,_0x3c4fc6=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x5ef87a['match'](_0x3c4fc6))&&!this['unmaskedRe'+'nderer']['match'](_0x2738d8),_0x4bf661=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x4bf661?_0xf53e['getParamet'+'er'](_0x4bf661['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x1a7+-0x1093*0x1+-0x1*-0xeed;const _0x356161=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x356161?_0xf53e['getParamet'+'er'](_0xf53e['MAX_SAMPLE'+'S']):-0xef3+0x13c1+-0x4cd,this['maxSamples']=Math['min'](this['maxSamples'],-0x1746+0xaa6*0x3+-0x8a8),this['samples']=_0x356161&&this['backBuffer'+'Antialias']?this['maxSamples']:0x154+0x5*-0x71c+0x2239,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0x2*-0x59d+0x1c31+-0x10ef&&(this['supportsAr'+'eaLights']=!(0x19ae+-0x4c*-0x1f+-0x22e1)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x3c28fb=this['gl'];_0x3c28fb['disable'](_0x3c28fb['BLEND']),_0x3c28fb['blendFunc'](_0x3c28fb['ONE'],_0x3c28fb['ZERO']),_0x3c28fb['blendEquat'+'ion'](_0x3c28fb['FUNC_ADD']),_0x3c28fb['colorMask'](!(0x1cc7*0x1+-0x25f7*-0x1+0x2*-0x215f),!(0x26e*-0x1+0x18c3+-0x1655),!(0x4*-0x9b7+-0x12f7*-0x1+-0xb*-0x1cf),!(-0x2627*-0x1+-0x98+0x281*-0xf)),_0x3c28fb['blendColor'](-0x381+0x3a5*0x1+-0x24,0xd63*0x1+0x35*-0x45+0x2e*0x5,-0x1*-0x1a2e+-0x1e4c+0x41e,-0x2*-0x107b+-0x239e+-0x28*-0x11),_0x3c28fb['enable'](_0x3c28fb['CULL_FACE']),this['cullFace']=_0x3c28fb['BACK'],_0x3c28fb['cullFace'](_0x3c28fb['BACK']),_0x3c28fb['enable'](_0x3c28fb['DEPTH_TEST']),_0x3c28fb['depthFunc'](_0x3c28fb['LEQUAL']),_0x3c28fb['depthMask'](!(-0x9dc+-0xce4+0x16c0)),this['stencil']=!(0x1411+-0x3c4+0xe*-0x12a),_0x3c28fb['disable'](_0x3c28fb['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1c07+0x1*0x25eb+-0x9e4,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x8*0x81+0x4c1*0x2+-0x47b,_0x3c28fb['stencilFun'+'c'](_0x3c28fb['ALWAYS'],-0x17f0+-0x1523+0x419*0xb,-0xc65+0x12e6+-0xf*0x5e),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x741*0x2+-0x1ae7*-0x1+-0xb66,this['stencilWri'+'teMaskBack']=0xe70+0x24e9+-0x325a,_0x3c28fb['stencilOp'](_0x3c28fb['KEEP'],_0x3c28fb['KEEP'],_0x3c28fb['KEEP']),_0x3c28fb['stencilMas'+'k'](-0xaed*0x2+-0x245d+0x2*0x1d9b),this['alphaToCov'+'erage']=!(0x94f+-0x1*-0x143b+-0x1d89),this['raster']=!(-0xd*-0x254+-0x250+-0x1bf4),_0x3c28fb['disable'](_0x3c28fb['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x3c28fb['disable'](_0x3c28fb['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x25f1*-0x1+0x2*-0x10df+-0x432),_0x3c28fb['disable'](_0x3c28fb['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x54*-0x33+-0x17e9+-0x16*-0x1d9,_0x3c28fb['clearDepth'](-0x18e2+-0x1fc3+0x3*0x12e2),this['clearColor']=new ie(-0x1e5e+0x10e1+-0xd7d*-0x1,-0xfb2+-0x1673+-0x13b*-0x1f,-0x1*-0xf97+0x98a*-0x1+-0x60d,0x879+-0x5*0x35b+-0x427*-0x2),_0x3c28fb['clearColor'](-0x1*0x2225+0x1f7f+0x2a6,0x20cc+0x6f9+0x1*-0x27c5,0x2*-0x624+0x1*0x98f+0x29*0x11,0xf*0x129+-0x1061+-0x106*0x1),this['clearStenc'+'il']=0x1*0x13eb+-0x1*-0x120d+-0x25f8,_0x3c28fb['clearStenc'+'il'](0x19e5+-0x167f+-0x366),_0x3c28fb['hint'](_0x3c28fb['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x3c28fb['NICEST']),_0x3c28fb['enable'](_0x3c28fb['SCISSOR_TE'+'ST']),_0x3c28fb['pixelStore'+'i'](_0x3c28fb['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x3c28fb['NONE']),this['unpackFlip'+'Y']=!(-0x12eb*-0x1+-0x2433+0xb1*0x19),_0x3c28fb['pixelStore'+'i'](_0x3c28fb['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x20e7*-0x1+0xe19+-0x2eff)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0xb74+0x1d54+0xd*-0x323),_0x3c28fb['pixelStore'+'i'](_0x3c28fb['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x54*-0x75+0x6a7+-0xa*0x481)),_0x3c28fb['pixelStore'+'i'](_0x3c28fb['UNPACK_ALI'+'GNMENT'],0x221a+-0x85f*0x1+0x4a*-0x59);}['initTextur'+'eUnits'](_0x5438c0=0xc5a+0x2*0xeac+-0x1*0x29a2){this['textureUni'+'ts']=[];for(let _0x296962=0xd10+-0x385+0x1*-0x98b;_0x296962<_0x5438c0;_0x296962++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x22eb+0x4ee*-0x7+-0x9eb*-0x7,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x4ce0aa of this['shaders'])_0x4ce0aa['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x1e668c of this['shaders'])_0x1e668c['restoreCon'+'text']();}['setViewpor'+'t'](_0x3b96fb,_0x7aab97,_0x391234,_0x2364f3){(this['vx']!==_0x3b96fb||this['vy']!==_0x7aab97||this['vw']!==_0x391234||this['vh']!==_0x2364f3)&&(this['gl']['viewport'](_0x3b96fb,_0x7aab97,_0x391234,_0x2364f3),this['vx']=_0x3b96fb,this['vy']=_0x7aab97,this['vw']=_0x391234,this['vh']=_0x2364f3);}['setScissor'](_0x3f1f1b,_0x234c56,_0x5d413d,_0x6db7f1){(this['sx']!==_0x3f1f1b||this['sy']!==_0x234c56||this['sw']!==_0x5d413d||this['sh']!==_0x6db7f1)&&(this['gl']['scissor'](_0x3f1f1b,_0x234c56,_0x5d413d,_0x6db7f1),this['sx']=_0x3f1f1b,this['sy']=_0x234c56,this['sw']=_0x5d413d,this['sh']=_0x6db7f1);}['setFramebu'+'ffer'](_0x4c0373){if(this['activeFram'+'ebuffer']!==_0x4c0373){const _0x317596=this['gl'];_0x317596['bindFrameb'+'uffer'](_0x317596['FRAMEBUFFE'+'R'],_0x4c0373),this['activeFram'+'ebuffer']=_0x4c0373;}}['copyRender'+'Target'](_0x9712a7,_0x49980a,_0x30e4fa,_0x2cd81a){var _0x22cc4d,_0x3fafd8;const _0x1bb063=this['gl'];if(_0x9712a7===this['backBuffer']&&(_0x9712a7=null),_0x30e4fa){if(_0x49980a){if(_0x9712a7){if(!_0x9712a7['_colorBuff'+'er']||!_0x49980a['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x617*-0x5+0x20b*0x3+-0x2493);if(_0x9712a7['_colorBuff'+'er']['_format']!==_0x49980a['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x3fb*0x7+0x59e*-0x3+-0x581*0x2);}}else{if(!_0x9712a7['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x2293+-0x10f8+-0x1*-0x338c);}}if(_0x2cd81a&&_0x9712a7&&!_0x9712a7['_depth']){if(!_0x9712a7['_depthBuff'+'er']||!_0x49980a['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x21dd*-0x1+-0x691*0x3+0x7d*-0x1d);if(_0x9712a7['_depthBuff'+'er']['_format']!==_0x49980a['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x41f*0x1+0xf13+-0x11*0x121);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x2c8bb9=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x49980a,this['updateBegi'+'n']();const _0x3b7123=_0x9712a7?_0x9712a7['impl']['_glFrameBu'+'ffer']:(_0x22cc4d=this['backBuffer'])==null?void(0x1835*-0x1+0x9c3+0xe72):_0x22cc4d['impl']['_glFrameBu'+'ffer'],_0x7c8420=_0x49980a?_0x49980a['impl']['_glFrameBu'+'ffer']:(_0x3fafd8=this['backBuffer'])==null?void(0x2*-0x1ee+0x7c2*-0x4+0x1*0x22e4):_0x3fafd8['impl']['_glFrameBu'+'ffer'];w['assert'](_0x3b7123!==_0x7c8420,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1bb063['bindFrameb'+'uffer'](_0x1bb063['READ_FRAME'+'BUFFER'],_0x3b7123),_0x1bb063['bindFrameb'+'uffer'](_0x1bb063['DRAW_FRAME'+'BUFFER'],_0x7c8420);const _0x4deda1=_0x9712a7?_0x9712a7['width']:_0x49980a?_0x49980a['width']:this['width'],_0x452af2=_0x9712a7?_0x9712a7['height']:_0x49980a?_0x49980a['height']:this['height'];return _0x1bb063['blitFrameb'+'uffer'](-0x10dd+0x2f*-0x59+0x2134,0x3*-0xbb7+0x2627+-0x181*0x2,_0x4deda1,_0x452af2,0x219+0x6*-0x16f+0x681,-0x9ff+-0x23a8+-0x1d*-0x193,_0x4deda1,_0x452af2,(_0x30e4fa?_0x1bb063['COLOR_BUFF'+'ER_BIT']:-0x20df+0x23ee+-0x30f)|(_0x2cd81a?_0x1bb063['DEPTH_BUFF'+'ER_BIT']:-0x21d1+-0x13d6+0x43*0xcd),_0x1bb063['NEAREST']),this['renderTarg'+'et']=_0x2c8bb9,_0x1bb063['bindFrameb'+'uffer'](_0x1bb063['FRAMEBUFFE'+'R'],_0x2c8bb9?_0x2c8bb9['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x16d2+-0x1edb+0x809);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x11a45a){const _0x7f7fe=_0x11a45a['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x7f7fe,w['assert'](_0x7f7fe),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x11a45a['name']+'\x20RT:'+_0x7f7fe['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x26c028,height:_0xe298c8}=_0x7f7fe;this['setViewpor'+'t'](-0x5e*-0xd+-0x13e*0x2+-0x24a,0x1d*0x8b+0xae7*0x2+-0x258d,_0x26c028,_0xe298c8),this['setScissor'](-0x13*0xc7+0x3a4*0x4+-0x35*-0x1,0x112b+0xd*-0x91+0x5*-0x1f6,_0x26c028,_0xe298c8);const _0x2a9921=_0x11a45a['colorOps'],_0x3472c1=_0x11a45a['depthStenc'+'ilOps'];if(_0x2a9921!=null&&_0x2a9921['clear']||_0x3472c1['clearDepth']||_0x3472c1['clearStenc'+'il']){let _0x168b8c=-0x249b*0x1+0x2a*-0xd4+-0x2db*-0x19;const _0x242e46={};_0x2a9921!=null&&_0x2a9921['clear']&&(_0x168b8c|=jo,_0x242e46['color']=[_0x2a9921['clearValue']['r'],_0x2a9921['clearValue']['g'],_0x2a9921['clearValue']['b'],_0x2a9921['clearValue']['a']]),_0x3472c1['clearDepth']&&(_0x168b8c|=Yo,_0x242e46['depth']=_0x3472c1['clearDepth'+'Value']),_0x3472c1['clearStenc'+'il']&&(_0x168b8c|=ch,_0x242e46['stencil']=_0x3472c1['clearStenc'+'ilValue']),_0x242e46['flags']=_0x168b8c,this['clear'](_0x242e46);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1c*0x154+0x2342*0x1+-0x1826*0x3),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x47c129){var _0x18cab9;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x50d4e9=this['renderTarg'+'et'],_0x42d02a=_0x47c129['colorArray'+'Ops']['length'];if(_0x50d4e9){Da['length']=0x5af+0x1b1f+0xdd*-0x26;const _0x2d3847=this['gl'];for(let _0x1c264b=0xee4+-0x2553*0x1+-0x166f*-0x1;_0x1c264b<_0x42d02a;_0x1c264b++){const _0x2a9571=_0x47c129['colorArray'+'Ops'][_0x1c264b];_0x2a9571['store']||_0x2a9571['resolve']||Da['push'](_0x2d3847['COLOR_ATTA'+'CHMENT0']+_0x1c264b);}_0x50d4e9!==this['backBuffer']&&(_0x47c129['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x2d3847['DEPTH_ATTA'+'CHMENT']),_0x47c129['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x2d3847['STENCIL_AT'+'TACHMENT'])),Da['length']>0xad1+-0x2074+0x15a3*0x1&&_0x47c129['fullSizeCl'+'earRect']&&_0x2d3847['invalidate'+'Framebuffe'+'r'](_0x2d3847['DRAW_FRAME'+'BUFFER'],Da),_0x42d02a&&((_0x18cab9=_0x47c129['colorOps'])!=null&&_0x18cab9['resolve'])&&_0x47c129['samples']>-0x24ee+0x2576+-0x9*0xf&&_0x50d4e9['autoResolv'+'e']&&_0x50d4e9['resolve'](!(0x1f41+-0x5*0x55d+-0x470),!(0x232f+-0x12d5+-0x1059*0x1)),_0x50d4e9['depthBuffe'+'r']&&_0x47c129['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x47c129['samples']>0x143+0xfee+0x14*-0xdc&&_0x50d4e9['autoResolv'+'e']&&_0x50d4e9['resolve'](!(0x2b*-0x16+-0x1*0x9a7+-0x1*-0xd5a),!(0xa*-0x355+-0x156+0x8*0x455));for(let _0x5936e5=0x1079+-0x2313+-0x2*-0x94d;_0x5936e5<_0x42d02a;_0x5936e5++)if(_0x47c129['colorArray'+'Ops'][_0x5936e5]['genMipmaps']){const _0x91eb65=_0x50d4e9['_colorBuff'+'ers'][_0x5936e5];_0x91eb65&&_0x91eb65['impl']['_glTexture']&&_0x91eb65['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x5936e5),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x814*0x2+0x1ee8+-0xebf)),this['bindTextur'+'e'](_0x91eb65),this['gl']['generateMi'+'pmap'](_0x91eb65['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x6e*-0x3e+-0x1c52+0x1af),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x28153c){this['_defaultFr'+'amebuffer']!==_0x28153c&&(this['_defaultFr'+'amebuffer']=_0x28153c,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x19fc+0x1a*-0x125+0x37be));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x5b1b3f=0x1ce9+0x1089+-0x67e*0x7;_0x5b1b3f<this['textureUni'+'ts']['length'];++_0x5b1b3f)for(let _0x53ab4b=0x740+0x3*0x577+-0x17a5;_0x53ab4b<-0x25ce+-0x1f70+-0x4541*-0x1;++_0x53ab4b)this['textureUni'+'ts'][_0x5b1b3f][_0x53ab4b]=null;}const _0x389c41=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x389c41);const _0x140938=_0x389c41['impl'];_0x140938['initialize'+'d']||this['initRender'+'Target'](_0x389c41),this['setFramebu'+'ffer'](_0x140938['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x3750c2=this['renderTarg'+'et'];if(_0x3750c2&&_0x3750c2!==this['backBuffer']){_0x3750c2['_samples']>0xc21+-0x3*-0x455+-0x3b*0x6d&&_0x3750c2['autoResolv'+'e']&&_0x3750c2['resolve']();const _0xeab556=_0x3750c2['_colorBuff'+'er'];_0xeab556&&_0xeab556['impl']['_glTexture']&&_0xeab556['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1*-0x99b+-0x1*-0x250c+-0x2ea6*0x1)),this['bindTextur'+'e'](_0xeab556),this['gl']['generateMi'+'pmap'](_0xeab556['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x4ac2b5){if(this['unpackFlip'+'Y']!==_0x4ac2b5){this['unpackFlip'+'Y']=_0x4ac2b5;const _0xf2a4a4=this['gl'];_0xf2a4a4['pixelStore'+'i'](_0xf2a4a4['UNPACK_FLI'+'P_Y_WEBGL'],_0x4ac2b5);}}['setUnpackP'+'remultiply'+'Alpha'](_0x337d55){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x337d55){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x337d55;const _0x22a527=this['gl'];_0x22a527['pixelStore'+'i'](_0x22a527['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x337d55);}}['activeText'+'ure'](_0x46fd28){this['textureUni'+'t']!==_0x46fd28&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x46fd28),this['textureUni'+'t']=_0x46fd28);}['bindTextur'+'e'](_0x146b8c){const _0x33b657=_0x146b8c['impl'],_0x28d519=_0x33b657['_glTarget'],_0x161638=_0x33b657['_glTexture'],_0x1b1608=this['textureUni'+'t'],_0x52e24b=this['targetToSl'+'ot'][_0x28d519];this['textureUni'+'ts'][_0x1b1608][_0x52e24b]!==_0x161638&&(this['gl']['bindTextur'+'e'](_0x28d519,_0x161638),this['textureUni'+'ts'][_0x1b1608][_0x52e24b]=_0x161638);}['bindTextur'+'eOnUnit'](_0x52bf65,_0x2865c7){const _0x2509b5=_0x52bf65['impl'],_0x4d79b8=_0x2509b5['_glTarget'],_0x40443c=_0x2509b5['_glTexture'],_0x247d6d=this['targetToSl'+'ot'][_0x4d79b8];this['textureUni'+'ts'][_0x2865c7][_0x247d6d]!==_0x40443c&&(this['activeText'+'ure'](_0x2865c7),this['gl']['bindTextur'+'e'](_0x4d79b8,_0x40443c),this['textureUni'+'ts'][_0x2865c7][_0x247d6d]=_0x40443c);}['setTexture'+'Parameters'](_0x58bc79){const _0x2f70e7=this['gl'],_0x138271=_0x58bc79['impl']['dirtyParam'+'eterFlags'],_0x4fc960=_0x58bc79['impl']['_glTarget'];if(_0x138271&Ay){let _0x32ecae=_0x58bc79['_minFilter'];(!_0x58bc79['_mipmaps']||_0x58bc79['_compresse'+'d']&&_0x58bc79['_levels']['length']===0x1*0x12a3+-0x1*-0x25c0+0x1*-0x3862)&&(_0x32ecae===Kh||_0x32ecae===Zh?_0x32ecae=Te:(_0x32ecae===Qh||_0x32ecae===ma)&&(_0x32ecae=vt)),_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x32ecae]);}if(_0x138271&Cy&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x58bc79['_magFilter']]),_0x138271&Py&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x58bc79['_addressU']]),_0x138271&My&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x58bc79['_addressV']]),_0x138271&Dy&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x58bc79['_addressW']]),_0x138271&Iy&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_CO'+'MPARE_MODE'],_0x58bc79['_compareOn'+'Read']?_0x2f70e7['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x2f70e7['NONE']),_0x138271&Ly&&_0x2f70e7['texParamet'+'eri'](_0x4fc960,_0x2f70e7['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x58bc79['_compareFu'+'nc']]),_0x138271&Ry){const _0x18bac6=this['extTexture'+'FilterAnis'+'otropic'];_0x18bac6&&_0x2f70e7['texParamet'+'erf'](_0x4fc960,_0x18bac6['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x58bc79['_anisotrop'+'y']),-0x21aa+0x18c6+-0x45*-0x21,this['maxAnisotr'+'opy']));}}['setTexture'](_0x396cbd,_0x5d6ebd){const _0x5aa466=_0x396cbd['impl'];_0x5aa466['_glTexture']||_0x5aa466['initialize'](this,_0x396cbd),_0x5aa466['dirtyParam'+'eterFlags']>-0x1*-0xe0+-0xb22+0xa42||_0x396cbd['_needsUplo'+'ad']||_0x396cbd['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x5d6ebd),this['bindTextur'+'e'](_0x396cbd),_0x5aa466['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x396cbd),_0x5aa466['dirtyParam'+'eterFlags']=0x2144+0x4*0x5e0+0x1c*-0x207),(_0x396cbd['_needsUplo'+'ad']||_0x396cbd['_needsMipm'+'apsUpload'])&&(_0x5aa466['upload'](this,_0x396cbd),_0x396cbd['_needsUplo'+'ad']=!(-0x15cf+0x12*-0x188+0x3160),_0x396cbd['_needsMipm'+'apsUpload']=!(-0x1*-0x208d+0xf8+-0x2*0x10c2))):this['bindTextur'+'eOnUnit'](_0x396cbd,_0x5d6ebd);}['createVert'+'exArray'](_0x10cf07){let _0xd58556,_0x75d47a;const _0x10865b=_0x10cf07['length']>-0x757*-0x2+-0x15*0xc5+0x4*0x5f;if(_0x10865b){_0xd58556='';for(let _0x6a9b78=0xf75+0x3*0x637+-0x12*0x1e5;_0x6a9b78<_0x10cf07['length'];_0x6a9b78++){const _0x57099b=_0x10cf07[_0x6a9b78];_0xd58556+=_0x57099b['id']+_0x57099b['format']['renderingH'+'ash'];}_0x75d47a=this['_vaoMap']['get'](_0xd58556);}if(!_0x75d47a){const _0x5d3714=this['gl'];_0x75d47a=_0x5d3714['createVert'+'exArray'](),_0x5d3714['bindVertex'+'Array'](_0x75d47a),_0x5d3714['bindBuffer'](_0x5d3714['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x2da697=!(0x1ab0+0x169c+-0x1*0x314b);for(let _0x3efdd4=0x12ce*0x1+0x5de+-0x18ac*0x1;_0x3efdd4<_0x10cf07['length'];_0x3efdd4++){const _0x501b2d=_0x10cf07[_0x3efdd4];_0x5d3714['bindBuffer'](_0x5d3714['ARRAY_BUFF'+'ER'],_0x501b2d['impl']['bufferId']);const _0x45fb76=_0x501b2d['format']['elements'];for(let _0x6ff73d=-0xaa*0x32+0x216f+-0x1*0x3b;_0x6ff73d<_0x45fb76['length'];_0x6ff73d++){const _0x5f5b42=_0x45fb76[_0x6ff73d],_0x55847e=Le[_0x5f5b42['name']];_0x55847e===0x869+0x23b*0x7+-0x1806&&(_0x2da697=!(0xf31*0x1+-0x1*-0x26d5+0x5*-0xace)),_0x5f5b42['asInt']?_0x5d3714['vertexAttr'+'ibIPointer'](_0x55847e,_0x5f5b42['numCompone'+'nts'],this['glType'][_0x5f5b42['dataType']],_0x5f5b42['stride'],_0x5f5b42['offset']):_0x5d3714['vertexAttr'+'ibPointer'](_0x55847e,_0x5f5b42['numCompone'+'nts'],this['glType'][_0x5f5b42['dataType']],_0x5f5b42['normalize'],_0x5f5b42['stride'],_0x5f5b42['offset']),_0x5d3714['enableVert'+'exAttribAr'+'ray'](_0x55847e),_0x501b2d['format']['instancing']&&_0x5d3714['vertexAttr'+'ibDivisor'](_0x55847e,-0x50b+0x15b9*-0x1+-0x26f*-0xb);}}_0x5d3714['bindVertex'+'Array'](null),_0x5d3714['bindBuffer'](_0x5d3714['ARRAY_BUFF'+'ER'],null),_0x10865b&&this['_vaoMap']['set'](_0xd58556,_0x75d47a),_0x2da697||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x75d47a;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x2e6186){const _0x1e07ee=this['gl'];let _0x5b6dee;if(this['vertexBuff'+'ers']['length']===0x218c*0x1+-0x207+0x2*-0xfc2){const _0x1ed9b4=this['vertexBuff'+'ers'][0x1e74+-0x1*-0x1271+-0x30e5];w['assert'](_0x1ed9b4['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x1ed9b4['impl']['vao']||(_0x1ed9b4['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x5b6dee=_0x1ed9b4['impl']['vao'];}else _0x5b6dee=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x5b6dee&&(this['boundVao']=_0x5b6dee,_0x1e07ee['bindVertex'+'Array'](_0x5b6dee));const _0x24bd42=_0x2e6186?_0x2e6186['impl']['bufferId']:null;_0x1e07ee['bindBuffer'](_0x1e07ee['ELEMENT_AR'+'RAY_BUFFER'],_0x24bd42);}['draw'](_0x18d3a2,_0xcbf226,_0x10f5b6,_0x2adbbb,_0x5ab187=!(0x2135+0x1402*-0x1+-0xd33),_0x25e882=!(0xad3*-0x2+-0x2f6*-0x2+-0x42*-0x3d)){const _0x24ea4=this['shader'];if(_0x24ea4&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x47f479=this['gl'];_0x5ab187&&(w['call'](()=>{var _0x530183,_0x42d1a1;return this['validateAt'+'tributes'](this['shader'],(_0x530183=this['vertexBuff'+'ers'][0x167*-0x3+0x181f*0x1+-0x9f5*0x2])==null?void(-0x47*-0x25+-0x1739+0xcf6):_0x530183['format'],(_0x42d1a1=this['vertexBuff'+'ers'][0x1*0x1733+-0xf*0xaf+0xcf1*-0x1])==null?void(-0x126f+0x2685+-0x1416):_0x42d1a1['format']);}),this['setBuffers'](_0xcbf226));let _0x40902d=0xba6+0xd3c+-0x18e2;const _0xee9e3f=_0x24ea4['impl']['samplers'];for(let _0x3f6eb7=-0x30*0x75+0x1*-0xd8e+-0x11bf*-0x2,_0x15c538=_0xee9e3f['length'];_0x3f6eb7<_0x15c538;_0x3f6eb7++){const _0xe7c8bc=_0xee9e3f[_0x3f6eb7];let _0x2bf39d=_0xe7c8bc['scopeId']['value'];if(!_0x2bf39d){const _0xf86dde=_0xe7c8bc['scopeId']['name'];w['assert'](_0xf86dde!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0xf86dde!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0xf86dde==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2bf39d=fa(this,'white')),_0xf86dde==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2bf39d=fa(this,'pink')),_0x2bf39d||(w['errorOnce']('Shader\x20'+_0x24ea4['name']+'\x20requires\x20'+_0xf86dde+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x24ea4),_0x2bf39d=fa(this,'pink'));}if(_0x2bf39d instanceof _e){const _0x12ddc4=_0x2bf39d;this['setTexture'](_0x12ddc4,_0x40902d),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x83*-0x30+0x1*0xc86+-0x2514&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x12ddc4?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x12ddc4}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x12ddc4&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x12ddc4})),_0xe7c8bc['slot']!==_0x40902d&&(_0x47f479['uniform1i'](_0xe7c8bc['locationId'],_0x40902d),_0xe7c8bc['slot']=_0x40902d),_0x40902d++;}else{_0xe7c8bc['array']['length']=-0x222b+-0x833*0x3+0x3ac4;const _0x426ca4=_0x2bf39d['length'];for(let _0xa39b21=0xb0*0x13+0x26*0xda+0xab*-0x44;_0xa39b21<_0x426ca4;_0xa39b21++){const _0x51fb1c=_0x2bf39d[_0xa39b21];this['setTexture'](_0x51fb1c,_0x40902d),_0xe7c8bc['array'][_0xa39b21]=_0x40902d,_0x40902d++;}_0x47f479['uniform1iv'](_0xe7c8bc['locationId'],_0xe7c8bc['array']);}}const _0x16fe7f=_0x24ea4['impl']['uniforms'];for(let _0x3fe965=-0x1814+-0xdf*-0x1a+-0xb7*-0x2,_0x5f204e=_0x16fe7f['length'];_0x3fe965<_0x5f204e;_0x3fe965++){const _0x550fdc=_0x16fe7f[_0x3fe965],_0x279fd5=_0x550fdc['scopeId'],_0x2033e2=_0x550fdc['version'],_0x7f0e6=_0x279fd5['versionObj'+'ect']['version'];if(_0x2033e2['globalId']!==_0x7f0e6['globalId']||_0x2033e2['revision']!==_0x7f0e6['revision']){_0x2033e2['globalId']=_0x7f0e6['globalId'],_0x2033e2['revision']=_0x7f0e6['revision'];const _0x534dfc=_0x279fd5['value'];_0x534dfc!=null?this['commitFunc'+'tion'][_0x550fdc['dataType']](_0x550fdc,_0x534dfc):w['warnOnce']('Shader\x20['+_0x24ea4['label']+(']\x20requires'+'\x20uniform\x20[')+_0x550fdc['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x47f479['bindBuffer'+'Base'](_0x47f479['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1*-0x22d2+0x10f6*-0x2+-0xb75*-0x6,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x47f479['beginTrans'+'formFeedba'+'ck'](_0x47f479['POINTS']));const _0x2055de=this['glPrimitiv'+'e'][_0x18d3a2['type']],_0x54f985=_0x18d3a2['count'];if(_0x18d3a2['indexed']){w['assert'](_0xcbf226['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x3405e2=_0xcbf226['impl']['glFormat'],_0x5f19d2=_0x18d3a2['base']*_0xcbf226['bytesPerIn'+'dex'];_0x10f5b6>0x45*-0x2c+0xeef*-0x2+0x29ba?_0x47f479['drawElemen'+'tsInstance'+'d'](_0x2055de,_0x54f985,_0x3405e2,_0x5f19d2,_0x10f5b6):_0x47f479['drawElemen'+'ts'](_0x2055de,_0x54f985,_0x3405e2,_0x5f19d2);}else{const _0x56e2e7=_0x18d3a2['base'];_0x10f5b6>0x4c7*0x8+-0x1496+0x8d1*-0x2?_0x47f479['drawArrays'+'Instanced'](_0x2055de,_0x56e2e7,_0x54f985,_0x10f5b6):_0x47f479['drawArrays'](_0x2055de,_0x56e2e7,_0x54f985);}this['transformF'+'eedbackBuf'+'fer']&&(_0x47f479['endTransfo'+'rmFeedback'](),_0x47f479['bindBuffer'+'Base'](_0x47f479['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x10e5*-0x1+-0x1abe+-0x2ba3*-0x1,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x18d3a2['type']]+=_0x18d3a2['count']*(_0x10f5b6>0xf20+-0x1515+0x5f6?_0x10f5b6:-0x211b+0x1a40+-0x36e*-0x2);}_0x25e882&&this['clearVerte'+'xBuffer']();}['clear'](_0x5b95a0){const _0x55fd87=this['defaultCle'+'arOptions'];_0x5b95a0=_0x5b95a0||_0x55fd87;const _0x42d394=_0x5b95a0['flags']??_0x55fd87['flags'];if(_0x42d394!==-0x2*0x86d+-0x1f57+0xa9*0x49){const _0x50c820=this['gl'];if(_0x42d394&jo){const _0x25f6b3=_0x5b95a0['color']??_0x55fd87['color'],_0x21b04b=_0x25f6b3[0x1c73+0x1*-0x1543+0x4*-0x1cc],_0x4a4cb1=_0x25f6b3[0x3d+0x11a3+-0x11df],_0x4abb95=_0x25f6b3[0xad6+0x2af*0x6+-0x17f*0x12],_0x3fb0d1=_0x25f6b3[0x5a*0xb+-0x1561+0x8c3*0x2],_0x5f2b82=this['clearColor'];(_0x21b04b!==_0x5f2b82['r']||_0x4a4cb1!==_0x5f2b82['g']||_0x4abb95!==_0x5f2b82['b']||_0x3fb0d1!==_0x5f2b82['a'])&&(this['gl']['clearColor'](_0x21b04b,_0x4a4cb1,_0x4abb95,_0x3fb0d1),this['clearColor']['set'](_0x21b04b,_0x4a4cb1,_0x4abb95,_0x3fb0d1)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x42d394&Yo){const _0x46d419=_0x5b95a0['depth']??_0x55fd87['depth'];_0x46d419!==this['clearDepth']&&(this['gl']['clearDepth'](_0x46d419),this['clearDepth']=_0x46d419),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x42d394&ch){const _0x3c1cfd=_0x5b95a0['stencil']??_0x55fd87['stencil'];_0x3c1cfd!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x3c1cfd),this['clearStenc'+'il']=_0x3c1cfd),_0x50c820['stencilMas'+'k'](-0x18be+-0xdb8+0x2775),this['stencilWri'+'teMaskFron'+'t']=0x1f80+-0xede*0x1+-0xfa3,this['stencilWri'+'teMaskBack']=-0xb8*-0x1+-0x1db+0x222;}_0x50c820['clear'](this['glClearFla'+'g'][_0x42d394]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x438df3,_0x42f23,_0x25b0b6,_0x2e1bf5,_0x3fdc65){const _0x197cf4=this['gl'];_0x197cf4['readPixels'](_0x438df3,_0x42f23,_0x25b0b6,_0x2e1bf5,_0x197cf4['RGBA'],_0x197cf4['UNSIGNED_B'+'YTE'],_0x3fdc65);}['clientWait'+'Async'](_0x297d54,_0x232425){const _0x4e2b88=this['gl'],_0x4976dc=_0x4e2b88['fenceSync'](_0x4e2b88['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0xcc5+-0x1f2c+0x1*0x1267);return this['submit'](),new Promise((_0x2295c2,_0x1db11d)=>{function _0x4ef393(){const _0x1390a3=_0x4e2b88['clientWait'+'Sync'](_0x4976dc,_0x297d54,-0x2614*0x1+0x11f*-0x19+0x1609*0x3);_0x1390a3===_0x4e2b88['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4ef393,_0x232425):(_0x4e2b88['deleteSync'](_0x4976dc),_0x1390a3===_0x4e2b88['WAIT_FAILE'+'D']?_0x1db11d(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x2295c2());}_0x4ef393();});}async['readPixels'+'Async'](_0x3595dd,_0x1b3872,_0x3bc3f6,_0x9ebb69,_0x4e4338){var _0x58d0ea;const _0x24caec=this['gl'],_0x10fa1c=(_0x58d0ea=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x8db*-0x1+-0x1*-0x779+0xb*-0x17c):_0x58d0ea['impl'],_0x329316=(_0x10fa1c==null?void(-0x1*-0x91+-0x3b6*0x9+-0x5*-0x691):_0x10fa1c['_glFormat'])??_0x24caec['RGBA'],_0x2e7c24=(_0x10fa1c==null?void(-0x1*0x1d73+-0x4af+0x2222):_0x10fa1c['_glPixelTy'+'pe'])??_0x24caec['UNSIGNED_B'+'YTE'],_0x358502=_0x24caec['createBuff'+'er']();return _0x24caec['bindBuffer'](_0x24caec['PIXEL_PACK'+'_BUFFER'],_0x358502),_0x24caec['bufferData'](_0x24caec['PIXEL_PACK'+'_BUFFER'],_0x4e4338['byteLength'],_0x24caec['STREAM_REA'+'D']),_0x24caec['readPixels'](_0x3595dd,_0x1b3872,_0x3bc3f6,_0x9ebb69,_0x329316,_0x2e7c24,0xa*-0x279+-0x1d6c+0x3626),_0x24caec['bindBuffer'](_0x24caec['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0x31*0x3a+0x1bcf+0x26e9*-0x1,-0x161+0x244f+-0x22de),_0x24caec['bindBuffer'](_0x24caec['PIXEL_PACK'+'_BUFFER'],_0x358502),_0x24caec['getBufferS'+'ubData'](_0x24caec['PIXEL_PACK'+'_BUFFER'],-0x83*0x2+0x27a+0x1f*-0xc,_0x4e4338),_0x24caec['bindBuffer'](_0x24caec['PIXEL_PACK'+'_BUFFER'],null),_0x24caec['deleteBuff'+'er'](_0x358502),_0x4e4338;}['readTextur'+'eAsync'](_0x20d3cf,_0xe39bc,_0x3ebead,_0x3d3e6c,_0x2e6485,_0x1508f){const _0xedbc04=_0x1508f['face']??0x64c+0x17bc+0x1f*-0xf8,_0x33ec5c=_0x1508f['renderTarg'+'et']??new gt({'colorBuffer':_0x20d3cf,'depth':!(-0x26a*0x8+0x1230+-0x121*-0x1),'face':_0xedbc04});w['assert'](_0x33ec5c['colorBuffe'+'r']===_0x20d3cf);const _0x3bb22d=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x3d3e6c,_0x2e6485,-0x251*-0x3+0xfe1+-0x16d3,_0x20d3cf['_format'])),_0xce4e7b=_0x1508f['data']??new(my(_0x20d3cf['_format']))(_0x3bb22d);return this['setRenderT'+'arget'](_0x33ec5c),this['initRender'+'Target'](_0x33ec5c),new Promise((_0x2eed72,_0x272a40)=>{this['readPixels'+'Async'](_0xe39bc,_0x3ebead,_0x3d3e6c,_0x2e6485,_0xce4e7b)['then'](_0x3300b3=>{_0x1508f['renderTarg'+'et']||_0x33ec5c['destroy'](),_0x2eed72(_0x3300b3);})['catch'](_0x272a40);});}async['writeTextu'+'reAsync'](_0x519d8e,_0x4e8e18,_0x5234e3,_0x49907d,_0x3c5e05,_0x50f155){const _0x32b621=this['gl'],_0x1f8e88=_0x519d8e['impl'],_0x43a753=(_0x1f8e88==null?void(0x1bf4*0x1+0x2047+-0x3c3b):_0x1f8e88['_glFormat'])??_0x32b621['RGBA'],_0x50ac2f=(_0x1f8e88==null?void(0x2262+-0x15b0+-0xa*0x145):_0x1f8e88['_glPixelTy'+'pe'])??_0x32b621['UNSIGNED_B'+'YTE'],_0x44b0a1=_0x32b621['createBuff'+'er']();_0x32b621['bindBuffer'](_0x32b621['PIXEL_UNPA'+'CK_BUFFER'],_0x44b0a1),_0x32b621['bufferData'](_0x32b621['PIXEL_UNPA'+'CK_BUFFER'],_0x50f155,_0x32b621['STREAM_DRA'+'W']),_0x32b621['bindTextur'+'e'](_0x32b621['TEXTURE_2D'],_0x1f8e88['_glTexture']),_0x32b621['texSubImag'+'e2D'](_0x32b621['TEXTURE_2D'],-0x20*-0x124+0xc7d+0x30fd*-0x1,_0x4e8e18,_0x5234e3,_0x49907d,_0x3c5e05,_0x43a753,_0x50ac2f,-0x6cc+-0x24f4+0x2bc0),_0x32b621['bindBuffer'](_0x32b621['PIXEL_UNPA'+'CK_BUFFER'],null),_0x519d8e['_needsUplo'+'ad']=!(-0x1ecc+-0xd0*0x8+0x9*0x425),_0x519d8e['_mipmapsUp'+'loaded']=!(-0x1ea1+-0x553*-0x4+0x956),await this['clientWait'+'Async'](0x2ef*-0x7+0x3cd*0x1+0x10bc,-0x25ea*-0x1+-0x1dfc+-0x7de);}['setAlphaTo'+'Coverage'](_0x2b9300){this['alphaToCov'+'erage']!==_0x2b9300&&(this['alphaToCov'+'erage']=_0x2b9300,_0x2b9300?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x2f08d9){if(this['transformF'+'eedbackBuf'+'fer']!==_0x2f08d9){this['transformF'+'eedbackBuf'+'fer']=_0x2f08d9;const _0xccf37a=this['gl'];_0x2f08d9?(this['feedback']||(this['feedback']=_0xccf37a['createTran'+'sformFeedb'+'ack']()),_0xccf37a['bindTransf'+'ormFeedbac'+'k'](_0xccf37a['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0xccf37a['bindTransf'+'ormFeedbac'+'k'](_0xccf37a['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x4f5978){this['raster']!==_0x4f5978&&(this['raster']=_0x4f5978,_0x4f5978?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x506ebd){if(this['stencil']!==_0x506ebd){const _0x44bf1e=this['gl'];_0x506ebd?_0x44bf1e['enable'](_0x44bf1e['STENCIL_TE'+'ST']):_0x44bf1e['disable'](_0x44bf1e['STENCIL_TE'+'ST']),this['stencil']=_0x506ebd;}}['setStencil'+'Func'](_0xf1a25d,_0x16d1e5,_0x1a5a80){(this['stencilFun'+'cFront']!==_0xf1a25d||this['stencilRef'+'Front']!==_0x16d1e5||this['stencilMas'+'kFront']!==_0x1a5a80||this['stencilFun'+'cBack']!==_0xf1a25d||this['stencilRef'+'Back']!==_0x16d1e5||this['stencilMas'+'kBack']!==_0x1a5a80)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0xf1a25d],_0x16d1e5,_0x1a5a80),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0xf1a25d,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x16d1e5,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x1a5a80);}['setStencil'+'FuncFront'](_0x35a71d,_0x3f17d7,_0xa980ea){if(this['stencilFun'+'cFront']!==_0x35a71d||this['stencilRef'+'Front']!==_0x3f17d7||this['stencilMas'+'kFront']!==_0xa980ea){const _0x27abb9=this['gl'];_0x27abb9['stencilFun'+'cSeparate'](_0x27abb9['FRONT'],this['glComparis'+'on'][_0x35a71d],_0x3f17d7,_0xa980ea),this['stencilFun'+'cFront']=_0x35a71d,this['stencilRef'+'Front']=_0x3f17d7,this['stencilMas'+'kFront']=_0xa980ea;}}['setStencil'+'FuncBack'](_0x4f9685,_0x34abb9,_0x3e575b){if(this['stencilFun'+'cBack']!==_0x4f9685||this['stencilRef'+'Back']!==_0x34abb9||this['stencilMas'+'kBack']!==_0x3e575b){const _0xaea90d=this['gl'];_0xaea90d['stencilFun'+'cSeparate'](_0xaea90d['BACK'],this['glComparis'+'on'][_0x4f9685],_0x34abb9,_0x3e575b),this['stencilFun'+'cBack']=_0x4f9685,this['stencilRef'+'Back']=_0x34abb9,this['stencilMas'+'kBack']=_0x3e575b;}}['setStencil'+'Operation'](_0x26c91d,_0x4cb6db,_0x59d8bc,_0x1b9449){(this['stencilFai'+'lFront']!==_0x26c91d||this['stencilZfa'+'ilFront']!==_0x4cb6db||this['stencilZpa'+'ssFront']!==_0x59d8bc||this['stencilFai'+'lBack']!==_0x26c91d||this['stencilZfa'+'ilBack']!==_0x4cb6db||this['stencilZpa'+'ssBack']!==_0x59d8bc)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x26c91d],this['glStencilO'+'p'][_0x4cb6db],this['glStencilO'+'p'][_0x59d8bc]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x26c91d,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x4cb6db,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x59d8bc),(this['stencilWri'+'teMaskFron'+'t']!==_0x1b9449||this['stencilWri'+'teMaskBack']!==_0x1b9449)&&(this['gl']['stencilMas'+'k'](_0x1b9449),this['stencilWri'+'teMaskFron'+'t']=_0x1b9449,this['stencilWri'+'teMaskBack']=_0x1b9449);}['setStencil'+'OperationF'+'ront'](_0x158532,_0x216c50,_0x268140,_0x1be45d){(this['stencilFai'+'lFront']!==_0x158532||this['stencilZfa'+'ilFront']!==_0x216c50||this['stencilZpa'+'ssFront']!==_0x268140)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x158532],this['glStencilO'+'p'][_0x216c50],this['glStencilO'+'p'][_0x268140]),this['stencilFai'+'lFront']=_0x158532,this['stencilZfa'+'ilFront']=_0x216c50,this['stencilZpa'+'ssFront']=_0x268140),this['stencilWri'+'teMaskFron'+'t']!==_0x1be45d&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x1be45d),this['stencilWri'+'teMaskFron'+'t']=_0x1be45d);}['setStencil'+'OperationB'+'ack'](_0x4db24b,_0xdbf3cb,_0x391ccc,_0x3dc223){(this['stencilFai'+'lBack']!==_0x4db24b||this['stencilZfa'+'ilBack']!==_0xdbf3cb||this['stencilZpa'+'ssBack']!==_0x391ccc)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x4db24b],this['glStencilO'+'p'][_0xdbf3cb],this['glStencilO'+'p'][_0x391ccc]),this['stencilFai'+'lBack']=_0x4db24b,this['stencilZfa'+'ilBack']=_0xdbf3cb,this['stencilZpa'+'ssBack']=_0x391ccc),this['stencilWri'+'teMaskBack']!==_0x3dc223&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x3dc223),this['stencilWri'+'teMaskBack']=_0x3dc223);}['setBlendSt'+'ate'](_0x28f920){const _0x2a5f6c=this['blendState'];if(!_0x2a5f6c['equals'](_0x28f920)){const _0x3247df=this['gl'],{blend:_0x9201c4,colorOp:_0x31a6db,alphaOp:_0x5667b4,colorSrcFactor:_0x25fcbd,colorDstFactor:_0x157d76,alphaSrcFactor:_0xe0d10d,alphaDstFactor:_0x57118f}=_0x28f920;if(_0x2a5f6c['blend']!==_0x9201c4&&(_0x9201c4?_0x3247df['enable'](_0x3247df['BLEND']):_0x3247df['disable'](_0x3247df['BLEND'])),_0x2a5f6c['colorOp']!==_0x31a6db||_0x2a5f6c['alphaOp']!==_0x5667b4){const _0x40df8d=this['glBlendEqu'+'ation'];_0x3247df['blendEquat'+'ionSeparat'+'e'](_0x40df8d[_0x31a6db],_0x40df8d[_0x5667b4]);}(_0x2a5f6c['colorSrcFa'+'ctor']!==_0x25fcbd||_0x2a5f6c['colorDstFa'+'ctor']!==_0x157d76||_0x2a5f6c['alphaSrcFa'+'ctor']!==_0xe0d10d||_0x2a5f6c['alphaDstFa'+'ctor']!==_0x57118f)&&_0x3247df['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x25fcbd],this['glBlendFun'+'ctionColor'][_0x157d76],this['glBlendFun'+'ctionAlpha'][_0xe0d10d],this['glBlendFun'+'ctionAlpha'][_0x57118f]),_0x2a5f6c['allWrite']!==_0x28f920['allWrite']&&this['gl']['colorMask'](_0x28f920['redWrite'],_0x28f920['greenWrite'],_0x28f920['blueWrite'],_0x28f920['alphaWrite']),_0x2a5f6c['copy'](_0x28f920);}}['setBlendCo'+'lor'](_0x154e2f,_0x58c43f,_0x9cee01,_0x4a91c5){const _0x27e621=this['blendColor'];(_0x154e2f!==_0x27e621['r']||_0x58c43f!==_0x27e621['g']||_0x9cee01!==_0x27e621['b']||_0x4a91c5!==_0x27e621['a'])&&(this['gl']['blendColor'](_0x154e2f,_0x58c43f,_0x9cee01,_0x4a91c5),_0x27e621['set'](_0x154e2f,_0x58c43f,_0x9cee01,_0x4a91c5));}['setStencil'+'State'](_0x2e8720,_0x10d4f7){_0x2e8720||_0x10d4f7?(this['setStencil'+'Test'](!(0x3ca*0x2+-0xa6c+0x8*0x5b)),_0x2e8720===_0x10d4f7?(this['setStencil'+'Func'](_0x2e8720['func'],_0x2e8720['ref'],_0x2e8720['readMask']),this['setStencil'+'Operation'](_0x2e8720['fail'],_0x2e8720['zfail'],_0x2e8720['zpass'],_0x2e8720['writeMask'])):(_0x2e8720??(_0x2e8720=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x2e8720['func'],_0x2e8720['ref'],_0x2e8720['readMask']),this['setStencil'+'OperationF'+'ront'](_0x2e8720['fail'],_0x2e8720['zfail'],_0x2e8720['zpass'],_0x2e8720['writeMask']),_0x10d4f7??(_0x10d4f7=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x10d4f7['func'],_0x10d4f7['ref'],_0x10d4f7['readMask']),this['setStencil'+'OperationB'+'ack'](_0x10d4f7['fail'],_0x10d4f7['zfail'],_0x10d4f7['zpass'],_0x10d4f7['writeMask']))):this['setStencil'+'Test'](!(0xcc*0x2f+-0x1aa4+-0xacf));}['setDepthSt'+'ate'](_0x5d4fdc){const _0x2f2e2b=this['depthState'];if(!_0x2f2e2b['equals'](_0x5d4fdc)){const _0x5ccdc0=this['gl'],_0x49c469=_0x5d4fdc['write'];_0x2f2e2b['write']!==_0x49c469&&_0x5ccdc0['depthMask'](_0x49c469);let {func:_0x4783ec,test:_0x2161fb}=_0x5d4fdc;!_0x2161fb&&_0x49c469&&(_0x2161fb=!(-0x76e+0x1db2+-0x1644),_0x4783ec=Wi),_0x2f2e2b['func']!==_0x4783ec&&_0x5ccdc0['depthFunc'](this['glComparis'+'on'][_0x4783ec]),_0x2f2e2b['test']!==_0x2161fb&&(_0x2161fb?_0x5ccdc0['enable'](_0x5ccdc0['DEPTH_TEST']):_0x5ccdc0['disable'](_0x5ccdc0['DEPTH_TEST']));const {depthBias:_0x43c1f2,depthBiasSlope:_0xf685b8}=_0x5d4fdc;_0x43c1f2||_0xf685b8?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x12c3*-0x1+-0x770+-0x161*-0x13),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5ccdc0['polygonOff'+'set'](_0xf685b8,_0x43c1f2)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x1*0x5+0x2195+0x218f*-0x1),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2f2e2b['copy'](_0x5d4fdc);}}['setCullMod'+'e'](_0x59c426){if(this['cullMode']!==_0x59c426){if(_0x59c426===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x3400d5=this['glCull'][_0x59c426];this['cullFace']!==_0x3400d5&&(this['gl']['cullFace'](_0x3400d5),this['cullFace']=_0x3400d5);}this['cullMode']=_0x59c426;}}['setShader'](_0x36f3ff,_0x170ca1=!(-0x3+0x1*-0x9f5+0x9f9)){_0x36f3ff!==this['shader']&&(this['shader']=_0x36f3ff,this['shaderAsyn'+'cCompile']=_0x170ca1,this['shaderVali'+'d']=void(0x1*0xa7d+0x26bc+-0x3139),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x18bc35}=this,{impl:_0xf87454}=_0x18bc35;this['shaderVali'+'d']===void(-0x1*0x3dd+0x16*-0xd1+0x15d3)&&(_0x18bc35['failed']?this['shaderVali'+'d']=!(-0x122c+0x18ce+0x6a1*-0x1):_0x18bc35['ready']||(this['shaderAsyn'+'cCompile']?_0xf87454['isLinked'](this)?_0xf87454['finalize'](this,_0x18bc35)||(_0x18bc35['failed']=!(-0xb2f+0x1*-0x9f6+0x1525*0x1),this['shaderVali'+'d']=!(0x259c+0xf30+-0x34cb)):this['shaderVali'+'d']=!(-0x140f+-0x88b+0x1c9b*0x1):_0xf87454['finalize'](this,_0x18bc35)||(_0x18bc35['failed']=!(0xbea*-0x3+-0x77e+0x2b3c),this['shaderVali'+'d']=!(0xfa3+0x821*-0x2+0xa0)))),this['shaderVali'+'d']===void(-0x1754+0x1559+0x1fb)&&(this['gl']['useProgram'](_0xf87454['glProgram']),this['shaderVali'+'d']=!(-0x1*-0x5ff+0x656+-0xc55));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0xa08537=this['gl'];this['_vaoMap']['forEach']((_0x2f6705,_0x5f2e76,_0x222dd8)=>{_0xa08537['deleteVert'+'exArray'](_0x2f6705);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x5babbb){_0x5babbb?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x5c2f6d=0x187e+0x7c*0x1+-0x1896){const _0x1f68e6=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x1f68e6['loseContex'+'t'](),setTimeout(()=>_0x1f68e6['restoreCon'+'text'](),_0x5c2f6d);}}let nw=-0x1316+-0x1*0x215b+0x3471;class br{constructor(_0x2133b1,_0x55e0e3,_0x463bd3,_0x1ad627=ms,_0x21bfca,_0x162541){this['device']=_0x2133b1,this['format']=_0x55e0e3,this['numIndices']=_0x463bd3,this['usage']=_0x1ad627,this['id']=nw++,this['impl']=_0x2133b1['createInde'+'xBufferImp'+'l'](this,_0x162541);const _0x5c49c1=hT[_0x55e0e3];this['bytesPerIn'+'dex']=_0x5c49c1,this['numBytes']=this['numIndices']*_0x5c49c1,_0x21bfca?this['setData'](_0x21bfca):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x2133b1['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x471528=this['device'],_0x96bce1=_0x471528['buffers']['indexOf'](this);_0x96bce1!==-(-0x1104+-0x7e7*-0x1+0x91e)&&_0x471528['buffers']['splice'](_0x96bce1,-0x156a*0x1+0x3ce*-0xa+-0x493*-0xd),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x471528),this['adjustVram'+'SizeTracki'+'ng'](_0x471528['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x79868e,_0x20e10a){w['trace'](j0,this['id']+'\x20size:\x20'+_0x20e10a+'\x20vram.ib:\x20'+_0x79868e['ib']+'\x20=>\x20'+(_0x79868e['ib']+_0x20e10a)),_0x79868e['ib']+=_0x20e10a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2218f4){return _0x2218f4['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x2218f4['byteLength']),!(0x80a+-0x593+-0x276)):(this['storage']=_0x2218f4,this['unlock'](),!(-0x568*0x7+0x1d61+-0xc5*-0xb));}['_lockTyped'+'Array'](){const _0x252396=this['lock']();return this['format']===wr?new Uint32Array(_0x252396):this['format']===Yi?new Uint16Array(_0x252396):new Uint8Array(_0x252396);}['writeData'](_0x3623ea,_0x4c5e11){const _0x5d219f=this['_lockTyped'+'Array']();if(_0x3623ea['length']>_0x4c5e11){if(ArrayBuffer['isView'](_0x3623ea))_0x3623ea=_0x3623ea['subarray'](0x3*-0x69+0x4*0x50e+-0x1*0x12fd,_0x4c5e11),_0x5d219f['set'](_0x3623ea);else{for(let _0x55b379=0x37*0x43+0x1*0x1df7+-0x29c*0x11;_0x55b379<_0x4c5e11;_0x55b379++)_0x5d219f[_0x55b379]=_0x3623ea[_0x55b379];}}else _0x5d219f['set'](_0x3623ea);this['unlock']();}['readData'](_0x2a30f1){const _0x5aaf1b=this['_lockTyped'+'Array'](),_0x8c9760=this['numIndices'];if(ArrayBuffer['isView'](_0x2a30f1))_0x2a30f1['set'](_0x5aaf1b);else{_0x2a30f1['length']=-0x1*-0x1b6b+0x12d8+-0x2e43;for(let _0x54153b=0x26a2+-0x34f*0x2+-0x556*0x6;_0x54153b<_0x8c9760;_0x54153b++)_0x2a30f1[_0x54153b]=_0x5aaf1b[_0x54153b];}return _0x8c9760;}}class ow{constructor(){h(this,'clearValue',new ie(-0x18f5+0x95b+0xf9a,-0xa*0x1f7+-0x1406+-0x1*-0x27ac,0xc75*0x1+0x1896+-0x3*0xc59,0xa77+0x71e+-0x1194)),h(this,'clearValue'+'Linear',new ie(0x242e*-0x1+-0x502*-0x2+0x1a2a,-0x1192*0x2+-0x164f*-0x1+0xcd5,-0xf5e*0x2+-0x1785+0x3641,-0x20ad+0x2f8+-0x1*-0x1db6)),h(this,'clear',!(0x17c2+-0x1ff4+0x833*0x1)),h(this,'store',!(0x1*0x2d7+0x1*-0x23e1+0x210b)),h(this,'resolve',!(0x230+-0x154*0x1d+0x2454)),h(this,'genMipmaps',!(0x23f*0xd+0x79c+0xe*-0x2a1));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x25b0+-0x2e*0x1f+-0x19*-0x1bb),h(this,'clearStenc'+'ilValue',-0x29*0x11+0xb07+-0x84e),h(this,'clearDepth',!(-0x1c65+0x1405+0xf*0x8f)),h(this,'clearStenc'+'il',!(-0xc*-0x1d2+-0x23e3+0x74*0x1f)),h(this,'storeDepth',!(-0xb29*0x1+-0x1d49+-0x5f*-0x6d)),h(this,'resolveDep'+'th',!(0x154c+0x19aa+-0x2ef5)),h(this,'storeStenc'+'il',!(0x1c67*0x1+0xa52*0x1+-0x26b8));}}class ys{constructor(_0x396337){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x1*-0x586+-0xf*0x1a8+-0x2*-0x9a9)),h(this,'_skipStart',!(-0x26f1*0x1+-0x1*0x11f2+-0x1*-0x38e4)),h(this,'_skipEnd',!(-0xfe+-0x22fb+0x2*0x11fd)),h(this,'executeEna'+'bled',!(-0x1c56+0x230d+-0x1*0x6b7)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x1*-0xd56+-0xe3f+0x1b95*0x1),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x1*-0x13+0x240f+-0x2422)),h(this,'fullSizeCl'+'earRect',!(0x383*0x1+0xb14*0x3+-0x24bf)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x396337),this['device']=_0x396337);}get['colorOps'](){return this['colorArray'+'Ops'][0xe83*-0x2+-0x4*0x94f+0x4242];}set['name'](_0x4a4f7d){this['_name']=_0x4a4f7d;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x2aba81){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x2aba81;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x726920){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x726920;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x16ec9e){this['_options']=_0x16ec9e,_0x16ec9e&&(this['scaleX']=this['scaleX']??0x1b71*-0x1+0x4db*0x7+-0x5*0x14f,this['scaleY']=this['scaleY']??0x1*0x262+0x1*0x10b1+-0x1312);}get['options'](){return this['_options'];}['init'](_0x23e54c=null,_0x27f3dd){this['options']=_0x27f3dd,this['renderTarg'+'et']=_0x23e54c,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x850+-0x2*-0x33d+0x1d7),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x56ae52,_0xff02ce,_0x4ae108,_0x82e8f7;const _0x336a49=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x336a49!=null&&_0x336a49['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1199+0x225f+-0x33f8));const _0x1f153d=_0x336a49?((_0x56ae52=_0x336a49['_colorBuff'+'ers'])==null?void(-0x143b+0x5*0xa+0x1409):_0x56ae52['length'])??0x24b2+0x1788+0x4a2*-0xd:0x2*0x132f+-0x578+0x3*-0xaf7;this['colorArray'+'Ops']['length']=-0x137*0x17+0x1f*0x106+0x1*-0x3c9;for(let _0x3e5094=-0xc1*-0x27+-0x29c*-0xa+-0x1*0x377f;_0x3e5094<_0x1f153d;_0x3e5094++){const _0x15fa52=new ow();this['colorArray'+'Ops'][_0x3e5094]=_0x15fa52,this['samples']===-0x1c20+0xcde+-0xf43*-0x1&&(_0x15fa52['store']=!(0x198d*-0x1+-0x669*-0x6+-0xce9),_0x15fa52['resolve']=!(-0x270e+-0x3*-0xc7a+0x1a1));const _0x4874ce=(_0x4ae108=(_0xff02ce=this['renderTarg'+'et'])==null?void(-0x7*-0x304+-0x760+-0xdbc):_0xff02ce['_colorBuff'+'ers'])==null?void(-0x1269+0x1557+-0x6*0x7d):_0x4ae108[_0x3e5094];if((_0x82e8f7=this['renderTarg'+'et'])!=null&&_0x82e8f7['mipmaps']&&(_0x4874ce!=null&&_0x4874ce['mipmaps'])){const _0x19c424=dn(_0x4874ce['_format']);_0x15fa52['genMipmaps']=!_0x19c424;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2ea98c=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x2df9fb=Math['floor'](_0x2ea98c['width']*this['scaleX']),_0x1c8973=Math['floor'](_0x2ea98c['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x2df9fb,_0x1c8973);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0xabb658){this['_enabled']!==_0xabb658&&(this['_enabled']=_0xabb658,_0xabb658?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x3f4f91){const _0x4d46d0=this['colorArray'+'Ops']['length'];for(let _0x646f23=0x2033*-0x1+0x7*0x65+0x1d70;_0x646f23<_0x4d46d0;_0x646f23++){const _0x1c78f9=this['colorArray'+'Ops'][_0x646f23];_0x3f4f91&&(_0x1c78f9['clearValue']['copy'](_0x3f4f91),_0x1c78f9['clearValue'+'Linear']['linear'](_0x3f4f91)),_0x1c78f9['clear']=!!_0x3f4f91;}}['setClearDe'+'pth'](_0x26c1e9){_0x26c1e9&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x26c1e9),this['depthStenc'+'ilOps']['clearDepth']=_0x26c1e9!==void(-0x2*-0x2ba+0x308+-0x87c*0x1);}['setClearSt'+'encil'](_0x2252f9){_0x2252f9&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x2252f9),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x2252f9!==void(-0x3fb*-0x2+-0xd*-0x16e+-0x1a8c);}['render'](){if(this['enabled']){const _0x362c15=this['device'],_0x5509a1=this['renderTarg'+'et']!==void(-0x2*0xc6f+-0xd1c+0x25fa);w['call'](()=>{this['log'](_0x362c15,_0x362c15['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5509a1&&!this['_skipStart']&&_0x362c15['startRende'+'rPass'](this),this['execute'](),_0x5509a1&&!this['_skipEnd']&&_0x362c15['endRenderP'+'ass'](this)),this['after'](),_0x362c15['renderPass'+'Index']++;}}['log'](_0x13c116,_0x14ca99=-0x24fd+-0x1439+0x1*0x3936){var _0x43777d,_0x46d070,_0x44290e;if(mi['get'](Pm)||mi['get'](cn)){const _0x5aaa76=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x13c116['backBuffer']:null),_0x3a866c=!!(_0x5aaa76!=null&&_0x5aaa76['impl']['assignedCo'+'lorTexture'])||(_0x5aaa76==null?void(0x3f9+0x1781+0x2*-0xdbd):_0x5aaa76['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x269b+-0x23a1+-0x4*-0x128f),_0x218745=((_0x43777d=_0x5aaa76==null?void(0x6*0xef+-0x1*-0x1+-0x59b):_0x5aaa76['_colorBuff'+'ers'])==null?void(0x163f+-0x1cc3+-0x342*-0x2):_0x43777d['length'])??(_0x3a866c?-0x1*-0x1b23+0x25c9+-0x40eb*0x1:-0x1ccb+-0x9*0x13+-0x4e9*-0x6),_0x1dbd6a=_0x5aaa76==null?void(-0xeae+0x152*-0x17+0x2d0c):_0x5aaa76['depth'],_0x1e67bc=_0x5aaa76==null?void(0x1*0x156b+-0x8bf+-0x1*0xcac):_0x5aaa76['stencil'],_0x3d18ce=_0x5aaa76==null?void(-0xf4d+-0x957+0x1*0x18a4):_0x5aaa76['mipLevel'],_0x555b91=_0x5aaa76?'\x20RT:\x20'+(_0x5aaa76?_0x5aaa76['name']:'NULL')+'\x20'+(_0x218745>0x1a9f+-0x1363+-0x4*0x1cf?'[Color'+(_0x218745>0x56e+0x57b+-0xae8?'\x20x\x20'+_0x218745:'')+']':'')+(_0x1dbd6a?'[Depth]':'')+(_0x1e67bc?'[Stencil]':'')+'\x20'+_0x5aaa76['width']+'\x20x\x20'+_0x5aaa76['height']+(this['samples']>0xfd4+-0x1*-0x1ffb+0x1*-0x2fcf?'\x20samples:\x20'+this['samples']:'')+(_0x3d18ce>-0x2ab+0x1*0x2581+0x27d*-0xe?'\x20mipLevel:'+'\x20'+_0x3d18ce:''):'',_0x56f1b2=this['_skipStart']?'++':_0x14ca99['toString']()['padEnd'](0x17ae+0x5e*0x3+-0x18c6,'\x20');w['trace'](Pm,_0x56f1b2+':\x20'+this['name']['padEnd'](0x1*0x11cd+0x193c+-0x2af5,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x555b91['padEnd'](0x19*-0x6b+0x1eb+0x2e2*0x3));for(let _0x48e97d=0x1597*0x1+0x79c*-0x3+0x13d;_0x48e97d<_0x218745;_0x48e97d++){const _0x268571=this['colorArray'+'Ops'][_0x48e97d],_0x33b5fb=(_0x46d070=Nt['get'](_0x3a866c?_0x13c116['backBuffer'+'Format']:_0x5aaa76['getColorBu'+'ffer'](_0x48e97d)['format']))==null?void(0x36f+0x1d08+-0x2077):_0x46d070['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x48e97d+']:\x20'+(_0x268571['clear']?'clear':'load')+'->'+(_0x268571['store']?'store':'discard')+'\x20'+(_0x268571['resolve']?'resolve\x20':'')+(_0x268571['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x33b5fb+']\x20'+(_0x268571['clear']?'[clear:\x20'+_0x268571['clearValue']['toString'](!(0x61e+0x1be9+0x119*-0x1f),!(0x76e*-0x2+0x247e+-0x15a2))+']':''));}if(this['depthStenc'+'ilOps']){const _0x9411c0=''+(_0x5aaa76['depthBuffe'+'r']?'\x20[format:\x20'+((_0x44290e=Nt['get'](_0x5aaa76['depthBuffe'+'r']['format']))==null?void(-0xffe+0x7c*0x4f+0x1646*-0x1):_0x44290e['name'])+']':'');_0x1dbd6a&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x9411c0+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x1e67bc&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x9411c0+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x1b15c2){this['array'][this['index']]=_0x1b15c2;}function hw(_0x2b7447,_0x337568){this['array'][this['index']]=_0x2b7447,this['array'][this['index']+(-0x1f79*-0x1+0x261b+0x1731*-0x3)]=_0x337568;}function dw(_0x540172,_0x45f8a4,_0x553541){this['array'][this['index']]=_0x540172,this['array'][this['index']+(0x1ea9+-0x1c4f+-0x259)]=_0x45f8a4,this['array'][this['index']+(-0x835+0x17a3+-0xe*0x11a)]=_0x553541;}function fw(_0xd95353,_0x1e2d79,_0x392058,_0xff6e62){this['array'][this['index']]=_0xd95353,this['array'][this['index']+(0x32*-0xf+0x1a3*0x11+0xc72*-0x2)]=_0x1e2d79,this['array'][this['index']+(0x1f9f+0x16dc+-0xae5*0x5)]=_0x392058,this['array'][this['index']+(-0x7*-0x2f1+-0x18d4+0x440*0x1)]=_0xff6e62;}function uw(_0x56cf3a,_0x18207a,_0x311344){this['array'][_0x56cf3a]=_0x18207a[_0x311344];}function pw(_0x5e8554,_0x1c85be,_0x44c5f8){this['array'][_0x5e8554]=_0x1c85be[_0x44c5f8],this['array'][_0x5e8554+(-0x1153+-0x977+0x1*0x1acb)]=_0x1c85be[_0x44c5f8+(0xe75+0x1*0x11a4+-0x2018)];}function mw(_0x45edd8,_0x15fd7b,_0x38c7c9){this['array'][_0x45edd8]=_0x15fd7b[_0x38c7c9],this['array'][_0x45edd8+(-0x6c0+-0x3cd*-0x3+-0x4a6)]=_0x15fd7b[_0x38c7c9+(-0x173a+0x113b+-0x3*-0x200)],this['array'][_0x45edd8+(0x15ce+-0x65*0x4+-0x50e*0x4)]=_0x15fd7b[_0x38c7c9+(0x2701+-0x9a*-0x35+0xbf*-0x5f)];}function _w(_0x3ded64,_0x5425b5,_0x46fdf0){this['array'][_0x3ded64]=_0x5425b5[_0x46fdf0],this['array'][_0x3ded64+(0x130a*-0x2+0x183d+0xdd8)]=_0x5425b5[_0x46fdf0+(0xbf*0x29+-0x1db2+-0xe4)],this['array'][_0x3ded64+(-0x1b29*-0x1+0xe97+-0x29be)]=_0x5425b5[_0x46fdf0+(0xc0d+0x1f2c+-0x12b*0x25)],this['array'][_0x3ded64+(0x4eb*0x1+0xd28+0x1*-0x1210)]=_0x5425b5[_0x46fdf0+(-0x10b+0x2498+-0x238a)];}function gw(_0x1b20ad,_0x4af472,_0x4ea281){_0x4af472[_0x4ea281]=this['array'][_0x1b20ad];}function Sw(_0x4174c4,_0x464e79,_0x1754f4){_0x464e79[_0x1754f4]=this['array'][_0x4174c4],_0x464e79[_0x1754f4+(-0xb20+0x1*0x699+0x488)]=this['array'][_0x4174c4+(-0x676+0x69c+-0x25*0x1)];}function yw(_0x3c624a,_0xebba52,_0x47fd1b){_0xebba52[_0x47fd1b]=this['array'][_0x3c624a],_0xebba52[_0x47fd1b+(-0x133d+-0x2f*0x48+-0x3*-0xad2)]=this['array'][_0x3c624a+(0x44*0x25+0x251c+-0x2eef)],_0xebba52[_0x47fd1b+(-0x11c8+0xa3c*0x1+0x78e*0x1)]=this['array'][_0x3c624a+(0xa6d+-0x229f+0x2*0xc1a)];}function vw(_0x5ed38e,_0x1e8204,_0x3f3b06){_0x1e8204[_0x3f3b06]=this['array'][_0x5ed38e],_0x1e8204[_0x3f3b06+(-0x1733+0x880+-0x75a*-0x2)]=this['array'][_0x5ed38e+(0x54*0x49+0x1d85*-0x1+0x3e*0x17)],_0x1e8204[_0x3f3b06+(-0x1063*-0x2+-0x755*-0x1+0x805*-0x5)]=this['array'][_0x5ed38e+(0x19c*0xe+0x58+-0x2*0xb6f)],_0x1e8204[_0x3f3b06+(0x1*-0x17ad+-0xd73*0x1+-0x3*-0xc61)]=this['array'][_0x5ed38e+(0x2*0x4d5+-0x259f+0x5*0x598)];}class xw{constructor(_0x449304,_0x31f2fc,_0x51384c){switch(this['index']=-0xac3+0x10*-0x1a6+0x2523,this['numCompone'+'nts']=_0x31f2fc['numCompone'+'nts'],_0x51384c['interleave'+'d']?this['array']=new wn[_0x31f2fc['dataType']](_0x449304,_0x31f2fc['offset']):this['array']=new wn[_0x31f2fc['dataType']](_0x449304,_0x31f2fc['offset'],_0x51384c['vertexCoun'+'t']*_0x31f2fc['numCompone'+'nts']),this['stride']=_0x31f2fc['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x31f2fc['numCompone'+'nts']){case 0x1344+0x16de*-0x1+-0x47*-0xd:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0xa16+-0xd10+-0xbf*-0x4:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x35*-0x8d+-0x1*-0xc41+0x10f3*0x1:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0xd*-0x10e+-0x2a9*-0xc+-0x2d9e:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x1edb40){return this['array'][this['index']+_0x1edb40];}['set'](_0x508a25,_0xf60b38,_0x903fc5,_0x36fd30){}['getToArray'](_0x42b5a4,_0x4a9725,_0x5fa553){}['setFromArr'+'ay'](_0x3b9611,_0x4728fe,_0x1973d6){}}class Uo{constructor(_0x56187a){this['vertexBuff'+'er']=_0x56187a,this['vertexForm'+'atSize']=_0x56187a['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x4ae7d6=this['vertexBuff'+'er']['getFormat']();for(let _0x3c9844=-0x120e*0x1+0x1562+-0x354*0x1;_0x3c9844<_0x4ae7d6['elements']['length'];_0x3c9844++){const _0x2f0cd5=_0x4ae7d6['elements'][_0x3c9844];this['accessors'][_0x3c9844]=new xw(this['buffer'],_0x2f0cd5,_0x4ae7d6),this['element'][_0x2f0cd5['name']]=this['accessors'][_0x3c9844];}}['next'](_0x161b5c=-0x429*0x1+0x1*-0x12fa+0x1724){let _0x4497bf=-0x129f+-0x3aa+0x1649;const _0x2ffd05=this['accessors'],_0xe37d98=this['accessors']['length'];for(;_0x4497bf<_0xe37d98;){const _0x4bc5bd=_0x2ffd05[_0x4497bf++];_0x4bc5bd['index']+=_0x161b5c*_0x4bc5bd['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x3579e2,_0x4c3f91,_0x3454bd){const _0x6117f3=this['element'][_0x3579e2];if(_0x6117f3){_0x3454bd>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x3454bd+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x3454bd=this['vertexBuff'+'er']['numVertice'+'s']);const _0x4bfecc=_0x6117f3['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x212999=-0x2441+0x14*-0x1d9+0x3*0x1867;for(let _0x3583a3=-0x191b+0x1d86+-0x46b;_0x3583a3<_0x3454bd;_0x3583a3++)_0x6117f3['setFromArr'+'ay'](_0x212999,_0x4c3f91,_0x3583a3*_0x4bfecc),_0x212999+=_0x6117f3['stride'];}else{if(_0x4c3f91['length']>_0x3454bd*_0x4bfecc){const _0x5c8180=_0x3454bd*_0x4bfecc;if(ArrayBuffer['isView'](_0x4c3f91))_0x4c3f91=_0x4c3f91['subarray'](-0xc*-0x1f4+0x2*0x409+-0x1f82,_0x5c8180),_0x6117f3['array']['set'](_0x4c3f91);else{for(let _0x4eed3d=-0x15e4+0xaf9*0x1+0xaeb;_0x4eed3d<_0x5c8180;_0x4eed3d++)_0x6117f3['array'][_0x4eed3d]=_0x4c3f91[_0x4eed3d];}}else _0x6117f3['array']['set'](_0x4c3f91);}}}['readData'](_0x29d646,_0x2f0940){const _0x5c8c35=this['element'][_0x29d646];let _0x58fd48=0x1*-0x6da+-0xe4b+0x1525*0x1;if(_0x5c8c35){_0x58fd48=this['vertexBuff'+'er']['numVertice'+'s'];let _0x399d8b;const _0x4e95bf=_0x5c8c35['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2f0940)&&(_0x2f0940['length']=-0x1ae4+0x1*-0x20ef+0x3fd*0xf),_0x5c8c35['index']=-0x9db+0x175b+-0xd80;let _0x54d514=-0x1*-0x1f57+0xdfc+-0x2d53;for(_0x399d8b=-0x14*-0x91+0xf49+-0x1a9d;_0x399d8b<_0x58fd48;_0x399d8b++)_0x5c8c35['getToArray'](_0x54d514,_0x2f0940,_0x399d8b*_0x4e95bf),_0x54d514+=_0x5c8c35['stride'];}else{if(ArrayBuffer['isView'](_0x2f0940))_0x2f0940['set'](_0x5c8c35['array']);else{_0x2f0940['length']=0x1aca+0x14f+0x1c19*-0x1;const _0x51fa6c=_0x58fd48*_0x4e95bf;for(_0x399d8b=-0x249b+0x18b8+0x1*0xbe3;_0x399d8b<_0x51fa6c;_0x399d8b++)_0x2f0940[_0x399d8b]=_0x5c8c35['array'][_0x399d8b];}}}return _0x58fd48;}}const Tw=-(0x17f5*-0x1+0x1907+-0x7*0x27);class ww{constructor(_0x38b1e,_0x205b69){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x205b69&&(this['key']=_0x205b69['keyCode'],this['element']=_0x205b69['target'],this['event']=_0x205b69);}}const jl=new ww();function Vd(_0x499286){return jl['key']=_0x499286['keyCode'],jl['element']=_0x499286['target'],jl['event']=_0x499286,jl;}function Yl(_0x26cdea){return typeof _0x26cdea=='string'?_0x26cdea['toUpperCas'+'e']()['charCodeAt'](-0x4fd*-0x2+-0x23dc+-0x2*-0xcf1):_0x26cdea;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x320e33,_0x2e9cca={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x320e33&&this['attach'](_0x320e33),this['preventDef'+'ault']=_0x2e9cca['preventDef'+'ault']||!(-0x1*0x26c6+-0x2c*-0x81+-0x3*-0x589),this['stopPropag'+'ation']=_0x2e9cca['stopPropag'+'ation']||!(0x1691+0x1f10+-0x35a0));}['attach'](_0x464b1b){this['_element']&&this['detach'](),this['_element']=_0x464b1b,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x14b3+0x13f*-0x17+0x315d)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x147d+0x3b*-0x31+-0xb5*0xd)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x16e1+-0x1c73*-0x1+0x3*-0x1db)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*-0x11e3+-0xb19*0x1+-0x29*-0xb5)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x2133+-0xb77+-0x15bb));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x10*-0x17e+0x1173*0x1+-0x2952)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x22*-0xe9+0xec2*0x2+-0x1d5*0x21));}['toKeyIdent'+'ifier'](_0x17ccb1){_0x17ccb1=Yl(_0x17ccb1);const _0x468208=Ew[_0x17ccb1['toString']()];if(_0x468208)return _0x468208;let _0x4cce4e=_0x17ccb1['toString'](-0x193a+-0xa3d*-0x1+0xf0d)['toUpperCas'+'e']();const _0x1d02e9=_0x4cce4e['length'];for(let _0x625666=-0xb95+-0x635*0x2+0x17ff;_0x625666<-0x5f6*0x4+0x190b+-0x12f*0x1-_0x1d02e9;_0x625666++)_0x4cce4e='0'+_0x4cce4e;return'U+'+_0x4cce4e;}['_handleKey'+'Down'](_0x228923){const _0x54d186=_0x228923['keyCode']||_0x228923['charCode'];if(_0x54d186===void(-0x423+0x1f5+0x22e))return;const _0x516289=this['toKeyIdent'+'ifier'](_0x54d186);this['_keymap'][_0x516289]=!(-0x51*0x1b+-0x20df*-0x1+0x615*-0x4),this['fire']('keydown',Vd(_0x228923)),this['preventDef'+'ault']&&_0x228923['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x228923['stopPropag'+'ation']();}['_handleKey'+'Up'](_0xf86ff2){const _0x16d888=_0xf86ff2['keyCode']||_0xf86ff2['charCode'];if(_0x16d888===void(-0x45d*0x4+-0x1*0x2342+0x34b6))return;const _0x38921c=this['toKeyIdent'+'ifier'](_0x16d888);delete this['_keymap'][_0x38921c],this['fire']('keyup',Vd(_0xf86ff2)),this['preventDef'+'ault']&&_0xf86ff2['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xf86ff2['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x410444){this['fire']('keypress',Vd(_0x410444)),this['preventDef'+'ault']&&_0x410444['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x410444['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x1314be in this['_lastmap'])delete this['_lastmap'][_0x1314be];for(const _0x165471 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x165471)&&(this['_lastmap'][_0x165471]=this['_keymap'][_0x165471]);}['isPressed'](_0x1ab663){const _0x4bfb2c=Yl(_0x1ab663),_0x59c0de=this['toKeyIdent'+'ifier'](_0x4bfb2c);return!!this['_keymap'][_0x59c0de];}['wasPressed'](_0xb2e280){const _0x191a0=Yl(_0xb2e280),_0xcba17=this['toKeyIdent'+'ifier'](_0x191a0);return!!this['_keymap'][_0xcba17]&&!this['_lastmap'][_0xcba17];}['wasRelease'+'d'](_0x1136c7){const _0x1e6943=Yl(_0x1136c7),_0x5d746f=this['toKeyIdent'+'ifier'](_0x1e6943);return!this['_keymap'][_0x5d746f]&&!!this['_lastmap'][_0x5d746f];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x177dbe,_0x5b6548){h(this,'x',0x49*-0x31+-0xd3d*-0x1+0xbc),h(this,'y',0x1035*0x1+-0x14ae+0x1*0x479),h(this,'dx',-0x2544+-0x7*0x1b7+-0x1*-0x3145),h(this,'dy',-0x23c2+0x110d+0x12b5),h(this,'button',Tw),h(this,'wheelDelta',0x322*-0x1+0x1409+0x10e7*-0x1),h(this,'element'),h(this,'ctrlKey',!(0x4*0x6a8+-0x109c+0xb*-0xe9)),h(this,'altKey',!(-0x8db*-0x1+-0x1*0xce7+0x40d)),h(this,'shiftKey',!(0x1*0xbf9+-0x225+-0x1f7*0x5)),h(this,'metaKey',!(0x9a8+0x1*-0xe71+0x4ca)),h(this,'event');let _0x59c33c={'x':0x0,'y':0x0};if(_0x5b6548){if(_0x5b6548 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x59c33c=_0x177dbe['_getTarget'+'Coords'](_0x5b6548);}else _0x5b6548={};if(_0x59c33c)this['x']=_0x59c33c['x'],this['y']=_0x59c33c['y'];else{if(ru())this['x']=0x3*0x20f+-0x2145+-0xd8c*-0x2,this['y']=-0xc7f+0x21*0xd+0xad2;else return;}_0x5b6548['type']==='wheel'&&(_0x5b6548['deltaY']>-0x1b4f+0x6*-0x577+0x3c19?this['wheelDelta']=-0xc71+0x22bd+-0x164b:_0x5b6548['deltaY']<-0xf5c+-0x26f4+0x3650&&(this['wheelDelta']=-(0x1976+0x5c2+0x83*-0x3d))),ru()?(this['dx']=_0x5b6548['movementX']||_0x5b6548['webkitMove'+'mentX']||_0x5b6548['mozMovemen'+'tX']||-0x15dc+0x18b3+-0x1*0x2d7,this['dy']=_0x5b6548['movementY']||_0x5b6548['webkitMove'+'mentY']||_0x5b6548['mozMovemen'+'tY']||0x80e+-0x19c8+-0x1*-0x11ba):(this['dx']=this['x']-_0x177dbe['_lastX'],this['dy']=this['y']-_0x177dbe['_lastY']),(_0x5b6548['type']==='mousedown'||_0x5b6548['type']==='mouseup')&&(this['button']=_0x5b6548['button']),this['buttons']=_0x177dbe['_buttons']['slice'](-0x211b+-0xb4b+0x2*0x1633),this['element']=_0x5b6548['target'],this['ctrlKey']=_0x5b6548['ctrlKey']??!(0x1*0x246d+0x8f0+-0x2*0x16ae),this['altKey']=_0x5b6548['altKey']??!(0x7*0x274+0x2048+-0x3173*0x1),this['shiftKey']=_0x5b6548['shiftKey']??!(-0xeb7*-0x1+-0x5fd+-0x8b9),this['metaKey']=_0x5b6548['metaKey']??!(-0x329+0x3*0x131+-0x69),this['event']=_0x5b6548;}}class sa extends me{constructor(_0x1ae334){super(),h(this,'_lastX',0x1289+-0x16a9*-0x1+-0x2932),h(this,'_lastY',-0xd5f+0x2381+-0x1622),h(this,'_buttons',[!(-0x1dd3+0x1494*0x1+0x4a0*0x2),!(0xc53*0x1+0x12fd+0xe5*-0x23),!(0x1*0x293+-0x1*-0x1885+-0x5*0x56b)]),h(this,'_lastbutto'+'ns',[!(0xc*0x3+0x1b12+0x571*-0x5),!(-0x24d3+0x2675+-0x1a1),!(0x696*-0x1+-0x3*0x293+0xe5*0x10)]),h(this,'_target',null),h(this,'_attached',!(-0x224e+-0x259*-0x7+0x8*0x23c)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x1ea8f7=>{_0x1ea8f7['preventDef'+'ault']();},this['attach'](_0x1ae334));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x302b26){if(this['_target']=_0x302b26,this['_attached'])return;this['_attached']=!(-0x27+-0xbf*-0x5+-0x394*0x1);const _0x32341b={'passive':!(-0x8*0x21+0x143c+-0x1333*0x1)},_0x40f61c=Ae['passiveEve'+'nts']?_0x32341b:!(-0x64a+0x3b*0x67+-0x2*0x8b9);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x40f61c),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x40f61c),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x40f61c),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x40f61c);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x9a9+0x1b6e+-0x2516),this['_target']=null;const _0x2b8755={'passive':!(-0x58d+-0x26ee+-0x1b6*-0x1a)},_0xb78509=Ae['passiveEve'+'nts']?_0x2b8755:!(0x4*-0x456+0x250*-0xd+0x2f69);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0xb78509),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0xb78509),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0xb78509),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0xb78509);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x24af6f,_0x5cfd78){if(!document['body']['requestPoi'+'nterLock']){_0x5cfd78&&_0x5cfd78();return;}const _0x45fe44=()=>{_0x24af6f(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x45fe44);},_0x452a73=()=>{_0x5cfd78(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x452a73);};_0x24af6f&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x45fe44,!(0xcbc+0x5b3+-0x126e)),_0x5cfd78&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x452a73,!(0x38*0xb+0x20d5+-0xa*0x386)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x2d64ae){if(!document['exitPointe'+'rLock'])return;const _0x3b1029=()=>{_0x2d64ae(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3b1029);};_0x2d64ae&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3b1029,!(-0x1c53+-0x22a5+0x3ef9*0x1)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1*-0xa4c+0x26de+-0x312a]=this['_buttons'][-0x194c+-0x193e+0x328a],this['_lastbutto'+'ns'][0x9d6+0x1bd0*-0x1+0x11fb]=this['_buttons'][0x1fd2+-0x22c1*0x1+0x2f0*0x1],this['_lastbutto'+'ns'][0x2372+-0xee1+-0x148f]=this['_buttons'][0x8*0x1f3+-0x1*0xed+-0xea9];}['isPressed'](_0x2dcb94){return this['_buttons'][_0x2dcb94];}['wasPressed'](_0xba77c3){return this['_buttons'][_0xba77c3]&&!this['_lastbutto'+'ns'][_0xba77c3];}['wasRelease'+'d'](_0x4bdddd){return!this['_buttons'][_0x4bdddd]&&this['_lastbutto'+'ns'][_0x4bdddd];}['_handleUp'](_0x59f251){this['_buttons'][_0x59f251['button']]=!(0x1*0x790+-0x26c+-0x523);const _0x19ee5d=new ta(this,_0x59f251);_0x19ee5d['event']&&this['fire']('mouseup',_0x19ee5d);}['_handleDow'+'n'](_0x32e2f0){this['_buttons'][_0x32e2f0['button']]=!(0xb2*0x6+-0x1*-0xc1+-0x4ed);const _0x1bd1f3=new ta(this,_0x32e2f0);_0x1bd1f3['event']&&this['fire']('mousedown',_0x1bd1f3);}['_handleMov'+'e'](_0x3d2aa7){const _0x36443b=new ta(this,_0x3d2aa7);_0x36443b['event']&&(this['fire']('mousemove',_0x36443b),this['_lastX']=_0x36443b['x'],this['_lastY']=_0x36443b['y']);}['_handleWhe'+'el'](_0x45018c){const _0x721413=new ta(this,_0x45018c);_0x721413['event']&&this['fire']('mousewheel',_0x721413);}['_getTarget'+'Coords'](_0xb90755){const _0x2ec871=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x12cec9=Math['floor'](_0x2ec871['left']),_0xfa8462=Math['floor'](_0x2ec871['top']);return _0xb90755['clientX']<_0x12cec9||_0xb90755['clientX']>=_0x12cec9+this['_target']['clientWidt'+'h']||_0xb90755['clientY']<_0xfa8462||_0xb90755['clientY']>=_0xfa8462+this['_target']['clientHeig'+'ht']?null:{'x':_0xb90755['clientX']-_0x12cec9,'y':_0xb90755['clientY']-_0xfa8462};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0xe9a5ce){let _0x3716fd=-0x2*-0x62f+-0x1162+-0x2*-0x282,_0x53d16a=-0x2691+-0x330*0x2+0x2cf1,_0x4ff0f3=_0xe9a5ce['target'];for(;!(_0x4ff0f3 instanceof HTMLElement)&&_0x4ff0f3;)_0x4ff0f3=_0x4ff0f3['parentNode'];for(;_0x4ff0f3;)_0x3716fd+=_0x4ff0f3['offsetLeft']-_0x4ff0f3['scrollLeft'],_0x53d16a+=_0x4ff0f3['offsetTop']-_0x4ff0f3['scrollTop'],_0x4ff0f3=_0x4ff0f3['offsetPare'+'nt'];return{'x':_0xe9a5ce['pageX']-_0x3716fd,'y':_0xe9a5ce['pageY']-_0x53d16a};}class d_{constructor(_0x20b29f){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0xa0a9b1=Wc(_0x20b29f);this['id']=_0x20b29f['identifier'],this['x']=_0xa0a9b1['x'],this['y']=_0xa0a9b1['y'],this['target']=_0x20b29f['target'],this['touch']=_0x20b29f;}}class Kl{constructor(_0x20f798,_0x38e51c){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x38e51c['target'],this['event']=_0x38e51c,this['touches']=Array['from'](_0x38e51c['touches'])['map'](_0x325fe3=>new d_(_0x325fe3)),this['changedTou'+'ches']=Array['from'](_0x38e51c['changedTou'+'ches'])['map'](_0x4f11f2=>new d_(_0x4f11f2)));}['getTouchBy'+'Id'](_0x50686b,_0x37204b){return _0x37204b['find'](_0x516555=>_0x516555['id']===_0x50686b)||null;}}class Zl extends me{constructor(_0x301062){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x301062);}['attach'](_0x57199c){this['_element']&&this['detach'](),this['_element']=_0x57199c,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x5*0x662+0x23fd+-0x412)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x170b+0x6d*0x51+-0x3987)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x20c8+0x547+-0x260e)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x62*-0x6+0x200b*-0x1+-0x220*-0xe));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x6*-0x355+0x65*-0x41+0x2*0x2d4)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(0xa72+0xeae+0x191f*-0x1)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x18ea+-0xd49*-0x1+-0x2*-0x5d1)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x10cf*-0x2+-0xa*-0x21d+-0xc7d*-0x1))),this['_element']=null;}['_handleTou'+'chStart'](_0x20c917){this['fire']('touchstart',new Kl(this,_0x20c917));}['_handleTou'+'chEnd'](_0x2c6b88){this['fire']('touchend',new Kl(this,_0x2c6b88));}['_handleTou'+'chMove'](_0x1c8dff){_0x1c8dff['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x1c8dff));}['_handleTou'+'chCancel'](_0x12e057){this['fire']('touchcance'+'l',new Kl(this,_0x12e057));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x3d5df4,_0x361213,_0x1031c6){typeof _0x361213=='function'&&(_0x1031c6=_0x361213,_0x361213={});const _0x2b9b1b=this['request']('GET',_0x3d5df4,_0x361213,_0x1031c6),{progress:_0x579b09}=_0x361213;if(_0x579b09){const _0xcbafc6=_0x58c225=>{_0x58c225['lengthComp'+'utable']&&_0x579b09['fire']('progress',_0x58c225['loaded'],_0x58c225['total']);},_0x4d4909=_0x380d7a=>{_0xcbafc6(_0x380d7a),_0x2b9b1b['removeEven'+'tListener']('loadstart',_0xcbafc6),_0x2b9b1b['removeEven'+'tListener']('progress',_0xcbafc6),_0x2b9b1b['removeEven'+'tListener']('loadend',_0x4d4909);};_0x2b9b1b['addEventLi'+'stener']('loadstart',_0xcbafc6),_0x2b9b1b['addEventLi'+'stener']('progress',_0xcbafc6),_0x2b9b1b['addEventLi'+'stener']('loadend',_0x4d4909);}return _0x2b9b1b;}['post'](_0x16efd8,_0x495414,_0x572c06,_0x99906a){return typeof _0x572c06=='function'&&(_0x99906a=_0x572c06,_0x572c06={}),_0x572c06['postdata']=_0x495414,this['request']('POST',_0x16efd8,_0x572c06,_0x99906a);}['put'](_0x27ad4c,_0x382564,_0x4be364,_0xbf4484){return typeof _0x4be364=='function'&&(_0xbf4484=_0x4be364,_0x4be364={}),_0x4be364['postdata']=_0x382564,this['request']('PUT',_0x27ad4c,_0x4be364,_0xbf4484);}['del'](_0x3a60ba,_0x47ab4f,_0x3f2a22){return typeof _0x47ab4f=='function'&&(_0x3f2a22=_0x47ab4f,_0x47ab4f={}),this['request']('DELETE',_0x3a60ba,_0x47ab4f,_0x3f2a22);}['request'](_0x1820fc,_0x1fca7b,_0x340803,_0x1fe26b){let _0x15ebce,_0x50717b,_0x3a0685,_0x41da7c=!(0x2a2*-0x5+0xab7*0x3+-0x12fa);if(typeof _0x340803=='function'&&(_0x1fe26b=_0x340803,_0x340803={}),_0x340803['retry']&&(_0x340803=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x340803)),_0x340803['callback']=_0x1fe26b,_0x340803['async']==null&&(_0x340803['async']=!(-0x1d4d*0x1+0x4dd+-0x110*-0x17)),_0x340803['headers']==null&&(_0x340803['headers']={}),_0x340803['postdata']!=null){if(_0x340803['postdata']instanceof Document)_0x3a0685=_0x340803['postdata'];else{if(_0x340803['postdata']instanceof FormData)_0x3a0685=_0x340803['postdata'];else{if(_0x340803['postdata']instanceof Object){let _0x26b2e5=_0x340803['headers']['Content-Ty'+'pe'];switch(_0x26b2e5===void(0x315*-0x5+0x1951+0x4f4*-0x2)&&(_0x340803['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x26b2e5=_0x340803['headers']['Content-Ty'+'pe']),_0x26b2e5){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x3a0685='';let _0x401714=!(-0x11a*0x2+0x2d3+-0x3*0x35);for(const _0x483334 in _0x340803['postdata'])if(_0x340803['postdata']['hasOwnProp'+'erty'](_0x483334)){_0x401714?_0x401714=!(-0xd96+0x107c+0x1*-0x2e5):_0x3a0685+='&';const _0x20be6b=encodeURIComponent(_0x483334),_0x500635=encodeURIComponent(_0x340803['postdata'][_0x483334]);_0x3a0685+=_0x20be6b+'='+_0x500635;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x26b2e5==null&&(_0x340803['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x3a0685=JSON['stringify'](_0x340803['postdata']);break;}}else _0x3a0685=_0x340803['postdata'];}}}if(_0x340803['cache']===!(-0xc8f+-0x7*-0x1e7+-0xc1*0x1)){const _0x426cfc=de();_0x15ebce=new Rd(_0x1fca7b),_0x15ebce['query']?_0x15ebce['query']=_0x15ebce['query']+'&ts='+_0x426cfc:_0x15ebce['query']='ts='+_0x426cfc,_0x1fca7b=_0x15ebce['toString']();}_0x340803['query']&&(_0x15ebce=new Rd(_0x1fca7b),_0x50717b=ah(_0x15ebce['getQuery'](),_0x340803['query']),_0x15ebce['setQuery'](_0x50717b),_0x1fca7b=_0x15ebce['toString']());const _0x2288b2=new XMLHttpRequest();_0x2288b2['open'](_0x1820fc,_0x1fca7b,_0x340803['async']),_0x2288b2['withCreden'+'tials']=_0x340803['withCreden'+'tials']!==void(0x15ec+0x120f+-0x27fb*0x1)?_0x340803['withCreden'+'tials']:!(-0x247*-0x2+0xf9*0x19+-0x5c6*0x5),_0x2288b2['responseTy'+'pe']=_0x340803['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x1fca7b);for(const _0x33236f in _0x340803['headers'])_0x340803['headers']['hasOwnProp'+'erty'](_0x33236f)&&_0x2288b2['setRequest'+'Header'](_0x33236f,_0x340803['headers'][_0x33236f]);_0x2288b2['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1820fc,_0x1fca7b,_0x340803,_0x2288b2);},_0x2288b2['onerror']=()=>{this['_onError'](_0x1820fc,_0x1fca7b,_0x340803,_0x2288b2),_0x41da7c=!(0x1*-0xf44+-0x1373+0x22b7);};try{_0x2288b2['send'](_0x3a0685);}catch(_0x2cc221){_0x41da7c||_0x340803['error'](_0x2288b2['status'],_0x2288b2,_0x2cc221);}return _0x2288b2;}['_guessResp'+'onseType'](_0x542642){const _0x424b18=new Rd(_0x542642),_0x3bba01=xe['getExtensi'+'on'](_0x424b18['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x3bba01)>=0x19*-0x146+-0x421*-0x3+0xd*0x17f?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3bba01==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x3bba01==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x5e04ad){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x5e04ad)>=0xaf8+0x114e+-0x149*0x16;}['_isBinaryR'+'esponseTyp'+'e'](_0x371110){return _0x371110===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x371110===Oe['ResponseTy'+'pe']['BLOB']||_0x371110===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5d648d,_0x568e2c,_0x5e8b05,_0xf470a1){if(_0xf470a1['readyState']===-0x1fd0+-0x35e*0x1+0x2332)switch(_0xf470a1['status']){case-0x15af*0x1+0xcce*0x2+-0x3ed:{_0xf470a1['responseUR'+'L']&&_0xf470a1['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5d648d,_0x568e2c,_0x5e8b05,_0xf470a1):this['_onError'](_0x5d648d,_0x568e2c,_0x5e8b05,_0xf470a1);break;}case 0x8a*-0x45+0x107*-0x22+0x48e8:case 0x1b4+0x71*0x33+-0xbb7*0x2:case-0x713*0x1+0x1810+-0x3*0x565:case-0x15*0x10b+0x1080+0x697*0x1:{this['_onSuccess'](_0x5d648d,_0x568e2c,_0x5e8b05,_0xf470a1);break;}default:{this['_onError'](_0x5d648d,_0x568e2c,_0x5e8b05,_0xf470a1);break;}}}['_onSuccess'](_0x215546,_0x2d6d8e,_0x226cca,_0x561b2a){let _0x4e42f6,_0x3f27e1;const _0x23ad82=_0x561b2a['getRespons'+'eHeader']('Content-Ty'+'pe');_0x23ad82&&(_0x3f27e1=_0x23ad82['split'](';')[0x2fc*0x2+-0x24d4+0x1edc]['trim']());try{this['_isBinaryC'+'ontentType'](_0x3f27e1)||this['_isBinaryR'+'esponseTyp'+'e'](_0x561b2a['responseTy'+'pe'])?_0x4e42f6=_0x561b2a['response']:_0x3f27e1===Oe['ContentTyp'+'e']['JSON']||_0x2d6d8e['split']('?')[-0x233*0xd+0x2697+-0xa00]['endsWith']('.json')?_0x4e42f6=JSON['parse'](_0x561b2a['responseTe'+'xt']):_0x561b2a['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x3f27e1===Oe['ContentTyp'+'e']['XML']?_0x4e42f6=_0x561b2a['responseXM'+'L']:_0x4e42f6=_0x561b2a['responseTe'+'xt'],_0x226cca['callback'](null,_0x4e42f6);}catch(_0x3de41c){_0x226cca['callback'](_0x3de41c);}}['_onError'](_0x2b9fb2,_0x527854,_0x133630,_0x7ff14d){if(!_0x133630['retrying']){if(_0x133630['retry']&&_0x133630['retries']<_0x133630['maxRetries']){_0x133630['retries']++,_0x133630['retrying']=!(0xffc+0x141*-0x2+0x19*-0x8a);const _0x30e38f=Y['clamp'](Math['pow'](-0xe45+-0x2403+0x13a*0x29,_0x133630['retries'])*Oe['retryDelay'],0xfd2+-0x11b4+-0x1*-0x1e2,_0x133630['maxRetryDe'+'lay']||-0x1d95*0x1+0x22a8+0xe75*0x1);console['log'](_0x2b9fb2+':\x20'+_0x527854+'\x20-\x20Error\x20'+_0x7ff14d['status']+('.\x20Retrying'+'\x20in\x20')+_0x30e38f+'\x20ms'),setTimeout(()=>{_0x133630['retrying']=!(-0x21d*-0xd+0x1*-0x167b+0x4fd*-0x1),this['request'](_0x2b9fb2,_0x527854,_0x133630,_0x133630['callback']);},_0x30e38f);}else _0x133630['callback'](_0x7ff14d['status']===-0x871*0x1+0x220c+-0x1b5*0xf?'Network\x20er'+'ror':_0x7ff14d['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x1593+-0x258a+0x3b81);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0xa50265){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0xa50265;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x3de8a2){this['position']['copy'](_0x3de8a2);const _0x2cb66a=this['listener'];_0x2cb66a&&('positionX'in _0x2cb66a?(_0x2cb66a['positionX']['value']=_0x3de8a2['x'],_0x2cb66a['positionY']['value']=_0x3de8a2['y'],_0x2cb66a['positionZ']['value']=_0x3de8a2['z']):_0x2cb66a['setPositio'+'n']&&_0x2cb66a['setPositio'+'n'](_0x3de8a2['x'],_0x3de8a2['y'],_0x3de8a2['z']));}['setOrienta'+'tion'](_0x3cb69f){this['orientatio'+'n']['copy'](_0x3cb69f);const _0x56438f=this['listener'];if(_0x56438f){const _0x5d81e9=_0x3cb69f['data'];'forwardX'in _0x56438f?(_0x56438f['forwardX']['value']=-_0x5d81e9[0x1*0x1757+-0x905+-0xe4a],_0x56438f['forwardY']['value']=-_0x5d81e9[0x334+0xdbe+-0x10e9],_0x56438f['forwardZ']['value']=-_0x5d81e9[-0x209+-0x4*0x40+0x313],_0x56438f['upX']['value']=_0x5d81e9[-0x2b*-0x25+-0x7*-0x1f9+-0x1402],_0x56438f['upY']['value']=_0x5d81e9[0x202*0x13+-0x1*-0x84a+0x33*-0xe9],_0x56438f['upZ']['value']=_0x5d81e9[-0xf1*0xd+-0xe87+-0x477*-0x6]):_0x56438f['setOrienta'+'tion']&&_0x56438f['setOrienta'+'tion'](-_0x5d81e9[-0x11f5*-0x1+0xe48+0x61*-0x55],-_0x5d81e9[-0xc12+0x1f62+-0x3db*0x5],-_0x5d81e9[-0xc7*-0x1d+0x35*0x33+-0x2110],_0x5d81e9[0x1b1e+-0x25d2+0x188*0x7],_0x5d81e9[-0xfea+-0x7cf+0x17be],_0x5d81e9[0xd*-0x2f1+0xbc4+-0x143*-0x15]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1cfd4e=this['_manager']['context'];return _0x1cfd4e?_0x1cfd4e['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x13*-0x1d+0x1f6e+-0x2194),this['listener']=new Cw(this),this['_volume']=0x17*-0x1a5+0xe67+0x176d;}set['volume'](_0x4dc8cf){_0x4dc8cf=Y['clamp'](_0x4dc8cf,0x6*-0x469+0x4*0x432+-0x19d*-0x6,0xa0d+0xc*0x278+-0x9eb*0x4),this['_volume']=_0x4dc8cf,this['fire']('volumechan'+'ge',_0x4dc8cf);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x219b+0x1e0f*-0x1+-0x2*0x1c6),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x261d+0x1124+0x14fa),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x3458da;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x3458da=this['_context'])==null||_0x3458da['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x2d4599=this['_context']['createBuff'+'erSource']();_0x2d4599['buffer']=this['_context']['createBuff'+'er'](-0xae*-0x2e+0x37*-0x2f+-0x183*0xe,0xafa+-0x2*-0x77e+0x531*-0x5,this['_context']['sampleRate']),_0x2d4599['connect'](this['_context']['destinatio'+'n']),_0x2d4599['start'](-0xc20*-0x3+0x3be+-0x281e),_0x2d4599['onended']=_0x9b165c=>{_0x2d4599['disconnect'](-0x1b1*0x7+-0x1*-0x9fa+0x1dd),this['fire']('resume');};},_0x11630a=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x11630a);})['catch'](_0xa2eb1e=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0xa2eb1e);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x45ba32=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x45ba32);})['catch'](_0x465f79=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x465f79);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x5377f5=>{window['addEventLi'+'stener'](_0x5377f5,this['_unlockHan'+'dlerFunc'],!(0x4*-0x31a+0x2*-0x860+0x1d29));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x284b8d=>{window['removeEven'+'tListener'](_0x284b8d,this['_unlockHan'+'dlerFunc'],!(-0x1bd4+0x133e+0x897));});}}class Mw{constructor(_0x5b6060){h(this,'audio'),h(this,'buffer'),_0x5b6060 instanceof Audio?this['audio']=_0x5b6060:this['buffer']=_0x5b6060;}get['duration'](){let _0x49c891=-0x1*-0xe3+-0x17f9+0x1716;return this['buffer']?_0x49c891=this['buffer']['duration']:this['audio']&&(_0x49c891=this['audio']['duration']),_0x49c891||0x51*-0x36+0x2586+-0x3*0x6d0;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0xd64+-0x1e2*-0xf+-0x29a2,fn=0x19c5*0x1+0xe31+-0x27f5,Hs=0x1*0x1b8d+-0x14da+0x23b*-0x3;function es(_0xef8798,_0x2d7e9e){return _0xef8798%_0x2d7e9e||0x15c+-0xdfe+0xca2;}class As extends me{constructor(_0x37bd59,_0x18b508,_0x26f212){super(),h(this,'source',null),(this['_manager']=_0x37bd59,this['_volume']=_0x26f212['volume']!==void(-0xbb2+0x226d+-0x17*0xfd)?Y['clamp'](Number(_0x26f212['volume'])||-0x3*-0x5ad+-0x35*0x37+0x4c*-0x13,0x1d58+-0x1cdc+-0x7c,0x22ed*-0x1+-0x7b5*0x2+0x3258):0x182a+-0x1416+-0x413,this['_pitch']=_0x26f212['pitch']!==void(0x172d+-0x1f3*-0x1+-0x10c*0x18)?Math['max'](0x29*-0x47+-0x2*0xc79+-0x409*-0x9+0.01,Number(_0x26f212['pitch'])||-0x1f43+0x1*0xa6f+0x1f*0xac):-0x21b2+0x7*0x32b+-0x19*-0x76,this['_loop']=!!(_0x26f212['loop']!==void(-0x19c9+0x11e*0x3+0x166f)&&_0x26f212['loop']),this['_sound']=_0x18b508,this['_state']=Hs,this['_suspended']=!(-0x1*0x113b+-0xa*-0x1e7+-0x1ca),this['_suspendEn'+'dEvent']=-0x1ae7+-0x1ec0+0x39a7*0x1,this['_suspendIn'+'stanceEven'+'ts']=!(-0xfa*-0x7+0x23c7*-0x1+0x1cf2),this['_playWhenL'+'oaded']=!(-0x1f9f+0x2393*0x1+0x5c*-0xb),this['_startTime']=Math['max'](0x14db+-0x1819*-0x1+-0x19b*0x1c,Number(_0x26f212['startTime'])||0x2c*-0x27+0x1a60+0x4eb*-0x4),this['_duration']=Math['max'](0x1*0xa64+0x1*0x9b8+0x84*-0x27,Number(_0x26f212['duration'])||-0x3cd*-0x7+0x19e+-0x1c39),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x26f212['onPlay'],this['_onPauseCa'+'llback']=_0x26f212['onPause'],this['_onResumeC'+'allback']=_0x26f212['onResume'],this['_onStopCal'+'lback']=_0x26f212['onStop'],this['_onEndCall'+'back']=_0x26f212['onEnd'],Dl()?(this['_startedAt']=-0x1*-0x10f+-0x1*-0x18fd+-0x2*0xd06,this['_currentTi'+'me']=0x1762+-0x34*0xb+-0x1*0x1526,this['_currentOf'+'fset']=0x42+0x2420+-0x2462,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1a81+-0x3*0x212+0x2*-0xa25),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1f60+0x2070+-0x1*0x10f),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x61abd6){if(!(_0x61abd6<-0x1*0x16ba+0x183e+0x184*-0x1)){if(this['_state']===Zt){const _0x7c29e0=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x38*0x85+-0x152f+-0x87*0xf),this['stop'](),this['_startOffs'+'et']=_0x61abd6,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x7c29e0;}else this['_startOffs'+'et']=_0x61abd6,this['_currentTi'+'me']=_0x61abd6;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x2527*0x1+-0x2111+0x4638:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x40d6d7){this['_duration']=Math['max'](-0x170*-0x12+0x1b7+0x1b97*-0x1,Number(_0x40d6d7)||-0x3*-0x72d+-0x55e+-0x7*0x24f);const _0x21b332=this['_state']===Zt;this['stop'](),_0x21b332&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x419*0x7+0x22ab+-0x3f5a;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x3b55c6){this['_loop']=!!_0x3b55c6,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x5463f6){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x5463f6)||-0x832+-0x1655*-0x1+-0xb*0x149,0x2*-0xb99+-0x1*-0xdac+0x2*0x4c3+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0xa9246){this['_sound']=_0xa9246,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x18a162){this['_startTime']=Math['max'](0x2649+-0x1f57+0x1*-0x6f2,Number(_0x18a162)||-0x3b7+-0x1a01*-0x1+-0x164a);const _0x17faf3=this['_state']===Zt;this['stop'](),_0x17faf3&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x356fc0){_0x356fc0=Y['clamp'](_0x356fc0,-0x1*-0x262b+-0x180f+0x25a*-0x6,0x15df+-0x24f2+0xf14),this['_volume']=_0x356fc0,this['gain']&&(this['gain']['gain']['value']=_0x356fc0*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0xa6a+-0x192e*0x1+0xec4){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x5*-0x751+-0x1*-0x23c9+0x4*0x33),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x1746+-0x13e8+-0x7*0x7b),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x3*0x6f7+-0x344*-0x9+-0x43f*0x2),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1926+-0x19b5+-0x174*-0x23):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x18e8+0x8*0x337+-0xd0),!(0x102a*-0x2+-0xdc1+0x2e16)):(this['_playAudio'+'Immediate'](),!(0x6a*-0x1d+0x2455+-0x1*0x1853));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1a49+0x1*-0xbb6+-0x175*0xa),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x2d07ec=es(this['_startOffs'+'et'],this['duration']);_0x2d07ec=es(this['_startTime']+_0x2d07ec,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x49*-0x3+0x30+0xab,_0x2d07ec,this['_duration']):this['source']['start'](0x81e*-0x2+-0x13c8+0x39a*0xa,_0x2d07ec),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x67*0x9+0x1f*-0xef+0x2090,this['_currentOf'+'fset']=_0x2d07ec,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xd22+-0x125*0x19+-0x7be*-0x2),this['_state']!==Zt?!(-0x1fe9+-0x1*-0x1bcd+0x41d):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x2210+0x2*0x12f+0x1fb2),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1*-0x12aa+0x1*0xbda+-0x1e84));}['resume'](){if(this['_state']!==fn)return!(-0x10*-0xa3+-0x488+-0x5a7);let _0x3d8151=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x3d8151=es(this['_startOffs'+'et'],this['duration']),_0x3d8151=es(this['_startTime']+_0x3d8151,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x10b5+0x2649+0x2*-0xaca,_0x3d8151,this['_duration']):this['source']['start'](0x5f9+0x24c5+-0x2abe,_0x3d8151),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x3d8151,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x1b*0x119+0xb*-0x175+0xf39*0x3),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x100a+0x10de+0x1*-0xd4);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x39*-0xa2+0xecd*-0x2+-0x677*0x1),this['_state']===Hs)return!(-0x10f*-0x17+-0x1*-0xd6a+-0x25c2);const _0x3eeb81=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x14b7*-0x1+-0x35c+-0x1*-0x1813,this['_currentTi'+'me']=0x2*0xcd3+-0x1c4d+0x2a7,this['_currentOf'+'fset']=-0x135f+0x203+0x65*0x2c,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x3eeb81&&this['source']&&this['source']['stop'](0x2*0x11a3+0x23ed+0xb*-0x679),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x11*-0x21b+0xd3e+0x168d);}['setExterna'+'lNodes'](_0x289315,_0x4ab623){if(!_0x289315){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x4ab623||(_0x4ab623=_0x289315);const _0x48371f=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x289315&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x48371f),this['_firstNode']=_0x289315,this['_connector'+'Node']['connect'](_0x289315)),this['_lastNode']!==_0x4ab623&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x48371f),this['_lastNode']=_0x4ab623,this['_lastNode']['connect'](_0x48371f));}['clearExter'+'nalNodes'](){const _0xf86aad=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0xf86aad),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0xf86aad);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x5021b4=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x5021b4['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x2513*0x1+0x22e2+0xbb*0x3),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1*0xb5f+0xf14+-0x1a72):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1032+0xf0*-0x27+0x34c3),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x21*-0x2a+0x7e5+-0xd4f));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x24cb*0x1+0x1f1*0x7+0x1735):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x24e6*0x1+0x5ab+-0x2*-0xf9e),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x11ac+0x672+-0x9*0x2ae));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x166f+-0x2fe+-0x43d*-0x6):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0xb6+-0xc*-0xf6+-0x1*0xad1),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x3*0x757+-0x101*0x25+0x3b2a*0x1));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x545*-0x7+-0x11e2+0x1242*0x3):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x159b*-0x1+0x1d*0x9b+0x40d),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x2*-0x5c0+0x11a1+-0x1*0x621));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1be1+-0x7*0xf3+-0x2*0xa9e);let _0x2da4c5=es(this['_startOffs'+'et'],this['duration']);_0x2da4c5=es(this['_startTime']+_0x2da4c5,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x2da4c5;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x16fd+0x1*0x886+0x39e*0x4),this['source']=this['_sound']['audio']['cloneNode'](!(-0x9*0x243+-0x1*-0x2509+0x46*-0x3d)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x290a8c){_0x290a8c=Y['clamp'](_0x290a8c,0x1e0b*-0x1+0x1007+0x34*0x45,-0x240d+0x183e*-0x1+-0x4*-0xf13),this['_volume']=_0x290a8c,this['source']&&(this['source']['volume']=_0x290a8c*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x129a16){this['_pitch']=Math['max'](Number(_0x129a16)||-0x1*0x112d+0x2c*-0xdf+0x3781,0x12ef*0x1+-0x231+0x2*-0x85f+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x545d53){this['stop'](),this['_sound']=_0x545d53;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?-0xe*0x1ff+-0x1ce4*-0x1+-0xf2:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x182d0d){_0x182d0d<0x1a5*-0x16+0x313*0x2+0x1e08||(this['_startOffs'+'et']=_0x182d0d,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x182d0d,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0x1d+-0x1432+-0x1*-0x3b5f;class sn extends As{constructor(_0x181ccd,_0x1d4bfa,_0x5f0055={}){super(_0x181ccd,_0x1d4bfa,_0x5f0055),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x5f0055['position']&&(this['position']=_0x5f0055['position']),this['maxDistanc'+'e']=_0x5f0055['maxDistanc'+'e']!==void(0x1127*-0x1+-0xba0+0x1cc7)?Number(_0x5f0055['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x5f0055['refDistanc'+'e']!==void(0x21*0x8b+-0x3*-0x9fd+-0x2a9*0x12)?Number(_0x5f0055['refDistanc'+'e']):-0x1c13+0x173d*-0x1+0x3351*0x1,this['rollOffFac'+'tor']=_0x5f0055['rollOffFac'+'tor']!==void(0x901+0x49*-0x17+-0x272*0x1)?Number(_0x5f0055['rollOffFac'+'tor']):-0x9fa+-0x970+0x136b,this['distanceMo'+'del']=_0x5f0055['distanceMo'+'del']!==void(0x11*0x18d+0x3b*-0x1+-0x1a22)?_0x5f0055['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x1777f7){this['_position']['copy'](_0x1777f7);const _0x4e43c5=this['panner'];'positionX'in _0x4e43c5?(_0x4e43c5['positionX']['value']=_0x1777f7['x'],_0x4e43c5['positionY']['value']=_0x1777f7['y'],_0x4e43c5['positionZ']['value']=_0x1777f7['z']):_0x4e43c5['setPositio'+'n']&&_0x4e43c5['setPositio'+'n'](_0x1777f7['x'],_0x1777f7['y'],_0x1777f7['z']);}get['position'](){return this['_position'];}set['velocity'](_0x5d430c){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x5d430c);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x372d56){this['panner']['maxDistanc'+'e']=_0x372d56;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0xd83242){this['panner']['refDistanc'+'e']=_0xd83242;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x486e82){this['panner']['rolloffFac'+'tor']=_0x486e82;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x5aecbf){this['panner']['distanceMo'+'del']=_0x5aecbf;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x548c9,_0x6ac063,_0x2f31e7,_0x1bce07,_0x6e59b3,_0x27dbe9){l=l['sub2'](_0x548c9,_0x6ac063);const _0x3a81bb=l['length']();if(_0x3a81bb<_0x2f31e7)return-0x1*0x18fa+-0x4f+0x194a;if(_0x3a81bb>_0x1bce07)return-0x131*0xf+-0x1*-0xf5c+0x283;let _0x5ddbf1=0x121*-0x3+0x404+-0xa1;return _0x27dbe9===Vp?_0x5ddbf1=-0x401+0x1296+-0x3*0x4dc-_0x6e59b3*(_0x3a81bb-_0x2f31e7)/(_0x1bce07-_0x2f31e7):_0x27dbe9===bw?_0x5ddbf1=_0x2f31e7/(_0x2f31e7+_0x6e59b3*(_0x3a81bb-_0x2f31e7)):_0x27dbe9===Aw&&(_0x5ddbf1=Math['pow'](_0x3a81bb/_0x2f31e7,-_0x6e59b3)),Y['clamp'](_0x5ddbf1,0x6*-0x3e8+-0x99*-0x3b+-0xbd3,0xb35+-0x8*-0x4c7+-0x1*0x316c);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x2be124){if(this['_position']['copy'](_0x2be124),this['source']){const _0xb8c7b4=this['_manager']['listener']['getPositio'+'n'](),_0x44ba39=t(_0xb8c7b4,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x4d73c8=this['volume'];this['source']['volume']=_0x4d73c8*_0x44ba39*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x193d03){this['_maxDistan'+'ce']=_0x193d03;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x3d0ccb){this['_refDistan'+'ce']=_0x3d0ccb;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x208bef){this['_rollOffFa'+'ctor']=_0x208bef;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x4b283d){this['_distanceM'+'odel']=_0x4b283d;}});}const Gp=0x1c06+-0x1*-0xf5c+-0x2b62,Hp=0xc6a+0x1be*-0x5+0x3b3*-0x1,Zs=-0x1a*0xac+0x22ec+-0xe*0x13f,Cs=0x2e3*0x4+0x2390+-0x2f19,Gn=0xaa1+-0xa27+-0x1*0x76,Wp=0x1e34+-0x247*-0x5+-0x2992,Ed=0x4c7*0x5+-0x1*-0x1f46+-0x3723,$p=-0x24f5+-0x25cb+0x4ac7,Xp=-0xa85*-0x3+0x46*0x52+-0x1*0x35f3,qp=0xc5d+0x6bb*0x4+-0x2740,jp=-0x1035*0x1+-0x22*0xf1+0x463*0xb,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x3c7*-0x5+-0x7fd+-0xae6,Yp=-0x1b3*0xa+0x1dd*-0x9+0x21c5,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x1*-0x1693+0x14cd+-0x1*-0x1c6,Ky=0x23be+-0xd7+-0x22d8,er=0xeb1+-0x9c9+-0x4e8,ps=0xa13+-0xf3a+0x528,Kp=-0x1610+0xc9a+0x978,Zp=-0x1b1*-0x17+-0x1abe+0x1*-0xc26,Il=-0x1ddc+0x1f8d+0xd*-0x21,ve=0x7f*-0x2+0x117b+0x25b*-0x7,Ke=0x3bf+0x159*0x3+-0x7c9,Ze=-0x73f+-0x3eb*-0x4+0x1af*-0x5,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x17d8+0x1*-0xf1+0x192d,Ys=-0x7*0x2a9+-0xa73+0x3d*0x7a,Zy=0x19ac+0x241f+-0x3dca,Qy=0x1*0x20d5+0x1188+-0x325b,Jy=0x7f3+0x63b+0xd*-0x117,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0x80a+-0xb9*-0x2d+-0x288f,ev=0xf0b*0x1+0x1*0x2221+0x29*-0x133,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=0x209c+-0x26*-0x102+-0x46e8,au=0x3*-0x763+-0x113e+0x2769,Jp=0x10a3+-0x1*0x8d8+0x298*-0x3,kw=-0x823*-0x3+0x7b9*0x1+-0x100f*0x2,tv=0x115f+0x1*-0xbfb+0xb*-0x7d,al=0x1fa2*0x1+0x25bc+-0x4558,sv=-0x1302+-0x7*0x51+0x1540*0x1,iv=0x226c+-0x15bd+-0xca7*0x1,Uw=-0x4*0x114+-0x1d*-0x8e+0x1*-0xbbd,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x8*0x228+0x305+0xe3b)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x2480+0x1b1f+0x961)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x10e7+0x694*0x3+-0x24a3)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x288+0x1*0x1eb7+-0x1c2f)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1a9e+-0x4c*-0x2+-0x1b36)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x320+0x6a*-0x1+0x1c5*0x2)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x18cf+-0x1745+0x3014)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0xb4e+-0x1851+0x239f)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(-0x1*0x1345+0x4f*0x59+-0x419*0x2)}]]),Bw=-0xa39+0x1e92+-0x9ad*0x2,em=-0x116*0x1d+-0x76f+-0x42*-0x97,nu=0x4*0x541+-0x1a16+0x512*0x1,rv=-0x1c5a*0x1+-0x1be7+-0x1*-0x3841,ai=0x13df+-0x1*-0xad9+0x1eb8*-0x1,zw=-0xf+0xf5*0xd+0x1*-0xc61,yh=-0xb*-0xb+0x1*-0xe4e+0xdd5,Vw=-0x1*0x245f+0x1d*-0x151+0x4a8d,ni=0x65*0x53+0x9cf+-0x2a8e,En=0x201c+-0x23*0x6f+-0x1*0x10ee,un=-0x1*-0x218e+-0x40d*-0x7+-0x3de9*0x1,$r=-0xd1+-0xa7*-0x22+-0x155c,Jl=0x7*-0x37+-0x355+0xf8*0x5,tm=0x120c+-0x46c*0x7+0x76*0x1c,av=0xa59+0x114b+-0x1ba3,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x2002+0x213b*0x1+-0x413d,Xc=-0x1d9c+0x11f3*0x1+0xbaa,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x1735+0x61c+-0x1d51,UU=0x1b8e*-0x1+0x5d*0x4b+0x50,BU=0xedc+0x17*-0x4c+0x806*-0x1,zU=0x1*0xd32+0x4*0x908+-0x314f,VU=-0xdd0+-0x13f*-0x17+0x1*-0xed5,GU=0x1*-0x7f6+0x10c5+-0x8ca,nv=-0x1*0xb3c+0x10bb+-0x579,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x3d*-0x9a+-0x1d73+-0x109*0x7,bd=-0x5bd+0x2280*0x1+0x199*-0x12,cv=-0x1a3*0x5+-0x3b*-0x1f+-0x4*-0x43,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x4e*0x4d+0x1d9a*-0x1+0x3511,nl=0xbee+-0x1*0x5b3+-0x3*0x213,nm=-0x1bdc+0x121b+0x9c5,dv=0x49*0x43+0x1886+0x2b99*-0x1,fv=-0x26f0+0x10cb+0x5*0x471,ol=-0x168*0xa+-0x10cf+0x1eff,ou=0x2*0x10d+0x183d+-0x1a17,uv=-0x4ee+-0x2657+0x2bc5,Eh=-0x9*-0x22e+0xc70*0x1+0xf87*-0x2,om=0x1bdd+0x1fea+-0x39c7*0x1,ll=0xa03*-0x3+0x43*0x8b+0xa*-0x3c,cl=0x40a+-0x1bc+0x5b2,pv=0x2229+0x9c1+-0x1bea,hl=0xe*-0x1b5+0x2*-0x10f2+0x59ca,qc=-0x23a3+-0x30d+0x10*0x66b,Ps=-0x1*0x9db+-0x1*-0x1b0e+-0x1133,xr=-0x1*-0xd0a+-0x14d6+0x1*0x7cd,lm=-0x17a1+0x213d+0x99a*-0x1,Ss=0x7*0x29+0x1f48+0x2066*-0x1,di=-0x150*0x5+-0xef*0x2+0x870,fi=0x1*-0x1153+0xfb*-0x23+-0x72*-0x74,Aa=-0x2549+-0x2192+0x46db*0x1,Rl=-0x15a*0xa+0xde6+-0x1*0x61,cm=-0x5ac+0x1c1*-0x2+0x930,Zn=0x1*-0x10dc+0x138+0xfa7*0x1,ci=-0x6d9*0x1+0x55d*-0x5+0x21aa,Pt=0x104b*0x1+-0x40*-0x41+-0x208a,Mt=0xe0*-0x2c+0x25fd+-0x7*-0x13,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x13b8+-0x219f+0x6ab*0x8,ec=0x1*-0x2c5+-0x1e13+0x20d8,Yc=0x1042+0xc0c+0x1c4e*-0x1,jw=-0x1*-0x1c55+-0x1096+0xbbe*-0x1,Yw=0x57*-0x19+-0x1*0x713+-0x4*-0x3e5,m_=-0xd37+0x156c+-0x832,Kw=0x1b66+0x25*0x106+-0x4140,Zw=0x1040+0x2412+-0x116f*0x3,hm=-0x2*-0x29d+-0x22cc+-0x2f5*-0xa,lu=0xdf0+0xb0d+-0x18fc,Ce=-0x16fc+-0xb11*0x1+0x220d,je=0x1f*-0x5f+0x11*-0x225+-0x1*-0x2ff7,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x24dfbb,_0x5da404,_0x4fcbbb){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x24dfbb,this['bindGroupF'+'ormats'][rl]=_0x5da404,this['vertexForm'+'at']=_0x4fcbbb);}['hasUniform'](_0x4c4d2c){for(let _0x4a3e1f=0x19*-0xad+0xb2*0x23+-0x771;_0x4a3e1f<this['uniformFor'+'mats']['length'];_0x4a3e1f++){const _0x5abc84=this['uniformFor'+'mats'][_0x4a3e1f];if(_0x5abc84!=null&&_0x5abc84['get'](_0x4c4d2c))return!(-0xed7+0x7*0x235+-0x9c);}return!(0x674*0x1+0x17ab+-0xf0f*0x2);}['hasTexture'](_0x159e73){for(let _0x5925f3=-0x12e5+-0x3*-0x617+0xa0*0x1;_0x5925f3<this['bindGroupF'+'ormats']['length'];_0x5925f3++){const _0x460d64=this['bindGroupF'+'ormats'][_0x5925f3];if(_0x460d64!=null&&_0x460d64['getTexture'](_0x159e73))return!(-0x1*-0x1bed+-0x19a4+0x27*-0xf);}return!(-0xb43+-0x2561+0x15*0x251);}['getVertexE'+'lement'](_0x3cffe2){var _0x47cd9f;return(_0x47cd9f=this['vertexForm'+'at'])==null?void(-0x5d2+0x16af*0x1+0x1*-0x10dd):_0x47cd9f['elements']['find'](_0x1039bd=>_0x1039bd['name']===_0x3cffe2);}['generateKe'+'y'](_0x13822e){var _0x54db80;let _0x521e32=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x13822e['isWebGPU']&&(_0x521e32+=(_0x54db80=this['vertexForm'+'at'])==null?void(-0x1*-0x166f+-0x9*0x270+-0x7f):_0x54db80['shaderProc'+'essingHash'+'String']),_0x521e32;}}const gv=new Kt();function Hn(_0x3c5237){const _0x13fbc8=gv['get'](_0x3c5237);return w['assert'](_0x13fbc8),_0x13fbc8;}function cE(_0x1ba2e7,_0x2e361e){w['assert'](_0x2e361e),gv['get'](_0x1ba2e7,()=>_0x2e361e);}class ya{static['definesHas'+'h'](_0x21ec30){const _0x2a84cb=Array['from'](_0x21ec30)['sort']((_0x361339,_0x45ad55)=>_0x361339[-0xcce+-0x1ff+0xecd]>_0x45ad55[0x1637+0x77*-0x1c+0x1*-0x933]?-0x497+0xb*-0x2d4+0x8ed*0x4:-(0x1*0x3f3+0x9*-0x3a9+-0x1*-0x1cff));return hi(JSON['stringify'](_0x2a84cb));}}const hE=new Kt();class dE{constructor(_0x47abb7,_0x5a2302,_0x32d8ec={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x47abb7),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x47abb7),this['name']=_0x47abb7,this['index']=_0x5a2302,Object['assign'](this,_0x32d8ec),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x16dd4f;this['isShadow']?_0x16dd4f='SHADOW':this['isForward']?_0x16dd4f='FORWARD':this['index']===Zn&&(_0x16dd4f='PICK'),this['defines']['set'](_0x16dd4f+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x1e74+-0x1ad*0xf+0x2ed*0x13);const _0x5b406d=(_0x3648f4,_0x179bde,_0x10feb1)=>{const _0x89f962=this['allocate'](_0x3648f4,_0x10feb1);w['assert'](_0x89f962['index']===_0x179bde);};_0x5b406d('forward',Aa,{'isForward':!(0x1497+0x2235+-0x36cc)}),_0x5b406d('prepass',Rl),_0x5b406d('shadow',cm),_0x5b406d('pick',Zn);}static['get'](_0x16c304){return w['assert'](_0x16c304),hE['get'](_0x16c304,()=>new Si());}['allocate'](_0x1ca13b,_0x4e115f){let _0x69b714=this['passesName'+'d']['get'](_0x1ca13b);return _0x69b714===void(-0x941*-0x4+0x1*-0x253c+0x1c*0x2)&&(_0x69b714=new dE(_0x1ca13b,this['nextIndex'],_0x4e115f),this['passesName'+'d']['set'](_0x69b714['name'],_0x69b714),this['passesInde'+'xed'][_0x69b714['index']]=_0x69b714,this['nextIndex']++),_0x69b714;}['getByIndex'](_0x34f34c){const _0x411536=this['passesInde'+'xed'][_0x34f34c];return w['assert'](_0x411536),_0x411536;}['getByName'](_0x25beb2){return this['passesName'+'d']['get'](_0x25beb2);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x4*0x10d+0x48c+-0x8bf)),h(this,'_key','');}['set'](_0x2bc4e8,_0x170082){return(!this['has'](_0x2bc4e8)||this['get'](_0x2bc4e8)!==_0x170082)&&this['markDirty'](),super['set'](_0x2bc4e8,_0x170082);}['add'](_0x354d70){for(const [_0x588450,_0x1aa1d6]of Object['entries'](_0x354d70))this['set'](_0x588450,_0x1aa1d6);return this;}['delete'](_0x2d9c3f){const _0x1f3935=this['has'](_0x2d9c3f),_0x28d7a3=super['delete'](_0x2d9c3f);return _0x1f3935&&_0x28d7a3&&this['markDirty'](),_0x28d7a3;}['clear'](){this['size']>0x167e*-0x1+0x1*0x18fa+-0x27c&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0x14f*-0xb+-0x1*0x23da+0x1575),this['_keyDirty']=!(0x1a0c+0x1*-0x1ce2+0x2d6);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(-0x6ed+-0x1d5f*0x1+0x244d);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x116f+-0x653+-0x7*-0x365),this['_key']=Array['from'](this['entries']())['sort'](([_0xab3911],[_0x153146])=>_0xab3911<_0x153146?-(-0x6ec*0x2+-0x1939+-0xd06*-0x3):_0xab3911>_0x153146?-0x4ce+0x19*0x2+0x49d:-0x2650+0x1679+0xfd7*0x1)['map'](([_0x47afc2,_0x98958b])=>_0x47afc2+'='+hi(_0x98958b))['join'](',')),this['_key'];}['copy'](_0x405018){this['clear']();for(const [_0x3dea89,_0x435d62]of _0x405018)this['set'](_0x3dea89,_0x435d62);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x456c2e,_0x403ad9=Fe){const _0x5a0bc4=fE['get'](_0x456c2e,()=>new Pe());return _0x403ad9===Fe?_0x5a0bc4['glsl']:_0x5a0bc4['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0x72f+-0x1701+0xfd2||this['wgsl']['size']>-0x4*-0x3fa+0x374+-0x135c;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x206ed6){return this['version']=_0x206ed6['version'],this['glsl']['copy'](_0x206ed6['glsl']),this['wgsl']['copy'](_0x206ed6['wgsl']),this;}}class bh{static['merge'](..._0x4dcbc4){const _0x585dc3=new Map(_0x4dcbc4[0x1*-0x1d17+-0x25*-0x49+0x128a]??[]);for(let _0x361af2=-0x21c0+0x2075+0x14c;_0x361af2<_0x4dcbc4['length'];_0x361af2++){const _0x453b7a=_0x4dcbc4[_0x361af2];if(_0x453b7a){for(const [_0x24e525,_0x375a16]of _0x453b7a)_0x585dc3['set'](_0x24e525,_0x375a16);}}return _0x585dc3;}}class uE extends ya{constructor(_0x26ab22,_0x52a311){super(),this['key']=_0x26ab22,this['shaderDefi'+'nition']=_0x52a311;}['generateKe'+'y'](_0x5c7f13){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x56e146,_0x29b0db){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0xf5b690,_0x220ee8){const _0x41c3d6=Hn(_0xf5b690);let _0x3bb76d=_0x41c3d6['getCachedS'+'hader'](_0x220ee8['uniqueName']);if(!_0x3bb76d){const _0x28e767=_0xf5b690['isWebGPU']&&(!!_0x220ee8['vertexWGSL']||!!_0x220ee8['vertexChun'+'k'])&&(!!_0x220ee8['fragmentWG'+'SL']||!!_0x220ee8['fragmentCh'+'unk']),_0x505f4d=Pe['get'](_0xf5b690,_0x28e767?it:Fe),_0x51d47c=_0x220ee8['vertexChun'+'k']?_0x505f4d['get'](_0x220ee8['vertexChun'+'k']):_0x28e767?_0x220ee8['vertexWGSL']:_0x220ee8['vertexGLSL'],_0x35876c=_0x220ee8['fragmentCh'+'unk']?_0x505f4d['get'](_0x220ee8['fragmentCh'+'unk']):_0x28e767?_0x220ee8['fragmentWG'+'SL']:_0x220ee8['fragmentGL'+'SL'];w['assert'](_0x51d47c,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x220ee8),w['assert'](_0x35876c,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x220ee8);const _0x2e7c42=bh['merge'](_0x505f4d,_0x220ee8['fragmentIn'+'cludes']),_0x33c4dc=bh['merge'](_0x505f4d,_0x220ee8['vertexIncl'+'udes']);_0x3bb76d=new qy(_0xf5b690,Jt['createDefi'+'nition'](_0xf5b690,{'name':_0x220ee8['uniqueName'],'shaderLanguage':_0x28e767?it:Fe,'attributes':_0x220ee8['attributes'],'vertexCode':_0x51d47c,'fragmentCode':_0x35876c,'useTransformFeedback':_0x220ee8['useTransfo'+'rmFeedback'],'vertexIncludes':_0x33c4dc,'vertexDefines':_0x220ee8['vertexDefi'+'nes'],'fragmentIncludes':_0x2e7c42,'fragmentDefines':_0x220ee8['fragmentDe'+'fines'],'fragmentOutputTypes':_0x220ee8['fragmentOu'+'tputTypes']})),_0x41c3d6['setCachedS'+'hader'](_0x220ee8['uniqueName'],_0x3bb76d);}return _0x3bb76d;}static['getCoreDef'+'ines'](_0x20cc91,_0x29e97b){const _0x1f89bb=new Map(_0x20cc91['defines']);return _0x29e97b['cameraShad'+'erParams']['defines']['forEach']((_0x1da923,_0x1ca0be)=>_0x1f89bb['set'](_0x1ca0be,_0x1da923)),Si['get'](_0x29e97b['device'])['getByIndex'](_0x29e97b['pass'])['defines']['forEach']((_0x559991,_0x13ecee)=>_0x1f89bb['set'](_0x13ecee,_0x559991)),_0x1f89bb;}static['processSha'+'der'](_0x4c78c5,_0x283b05){w['assert'](_0x4c78c5);const _0x1bd97f=_0x4c78c5['definition'],_0xaf6202=(_0x1bd97f['name']??'shader')+'-id-'+_0x4c78c5['id'],_0x4d24d3=new uE(_0xaf6202,_0x1bd97f),_0x1668d5='shader',_0x2a2acc=Hn(_0x4c78c5['device']);w['assert'](!_0x2a2acc['isRegister'+'ed'](_0x1668d5)),_0x2a2acc['register'](_0x1668d5,_0x4d24d3);const _0x28d783=_0x2a2acc['getProgram'](_0x1668d5,{},_0x283b05);return _0x2a2acc['unregister'](_0x1668d5),_0x28d783;}static['addScreenD'+'epthChunkD'+'efines'](_0x26e2f8,_0x4e375d,_0x6ded38){_0x4e375d['sceneDepth'+'MapLinear']&&_0x6ded38['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x26e2f8['textureFlo'+'atRenderab'+'le']&&_0x6ded38['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x160b+0x585*0x1+0x1087)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0xdc99e3){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x35b72c=_0xdc99e3['device'];if(this['shader']=_0xdc99e3,w['assert'](_0xdc99e3),_0x35b72c['supportsUn'+'iformBuffe'+'rs']){const _0x1c8d7b=new Ad();this['shader']=$t['processSha'+'der'](_0xdc99e3,_0x1c8d7b);const _0x3b071c=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x3b071c&&(this['uniformBuf'+'fer']=new zp(_0x35b72c,_0x3b071c,!(0x9*0x153+-0x1466+-0x1*-0x87c)));const _0x45f07c=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x45f07c),this['bindGroup']=new Up(_0x35b72c,_0x45f07c),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x1d4d6a,_0x2f94f6;(_0x1d4d6a=this['uniformBuf'+'fer'])==null||_0x1d4d6a['destroy'](),this['uniformBuf'+'fer']=null,(_0x2f94f6=this['bindGroup'])==null||_0x2f94f6['destroy'](),this['bindGroup']=null;}['render'](_0x165074,_0x45aebe){const _0x7d9ea8=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x7d9ea8,'QuadRender'),_0x165074&&(so['set'](_0x7d9ea8['vx'],_0x7d9ea8['vy'],_0x7d9ea8['vw'],_0x7d9ea8['vh']),io['set'](_0x7d9ea8['sx'],_0x7d9ea8['sy'],_0x7d9ea8['sw'],_0x7d9ea8['sh']),_0x45aebe=_0x45aebe??_0x165074,_0x7d9ea8['setViewpor'+'t'](_0x165074['x'],_0x165074['y'],_0x165074['z'],_0x165074['w']),_0x7d9ea8['setScissor'](_0x45aebe['x'],_0x45aebe['y'],_0x45aebe['z'],_0x45aebe['w'])),_0x7d9ea8['setVertexB'+'uffer'](_0x7d9ea8['quadVertex'+'Buffer'],0x8*0x113+0x1882*0x1+-0x211a*0x1);const _0x2036dd=this['shader'];if(_0x7d9ea8['setShader'](_0x2036dd),_0x7d9ea8['supportsUn'+'iformBuffe'+'rs']){_0x7d9ea8['setBindGro'+'up'](rl,_0x7d9ea8['emptyBindG'+'roup']);const _0x48b320=this['bindGroup'];_0x48b320['update'](),_0x7d9ea8['setBindGro'+'up'](Oy,_0x48b320);const _0x8e0af6=this['uniformBuf'+'fer'];_0x8e0af6?(_0x8e0af6['update'](Gd),_0x7d9ea8['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x7d9ea8['setBindGro'+'up'](su,_0x7d9ea8['emptyBindG'+'roup']);}_0x7d9ea8['draw'](pE),_0x165074&&(_0x7d9ea8['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x7d9ea8['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x7d9ea8);}}class mE extends ys{constructor(_0x3516e8,_0x4927e3,_0x4a73bf,_0x469cb9){super(_0x3516e8),this['quad']=_0x4927e3,this['rect']=_0x4a73bf,this['scissorRec'+'t']=_0x469cb9;}['execute'](){const {device:_0x47242b}=this;Q['pushGpuMar'+'ker'](_0x47242b,this['name']+':'+this['quad']['shader']['name']),_0x47242b['setCullMod'+'e'](bt),_0x47242b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x47242b['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x47242b);}}const _E=new re();function Ar(_0x43fec0,_0x3ac206,_0x1a282e,_0x25d06f,_0x1458b6){w['assert'](_0x3ac206!==void(-0x12eb+-0x2*0x344+-0x5*-0x517));const _0x4f06e9=arguments[0x136f+-0xe9d+-0x4cd];w['call'](()=>{_0x4f06e9!==void(0x1772+0x7a*-0x32+0x62)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x48ac78=new Ah(_0x1a282e);_0x25d06f||(_0x25d06f=_E,_0x25d06f['x']=0x104d+-0x1bd6+0xb89,_0x25d06f['y']=0xc23*0x1+-0x93c+-0x2e7*0x1,_0x25d06f['z']=_0x3ac206?_0x3ac206['width']:_0x43fec0['width'],_0x25d06f['w']=_0x3ac206?_0x3ac206['height']:_0x43fec0['height']);const _0x522f65=new mE(_0x43fec0,_0x48ac78,_0x25d06f,_0x1458b6);_0x522f65['init'](_0x3ac206),_0x522f65['colorOps']['clear']=!(0xd6*0x27+0x121*0x1c+-0x4035),_0x522f65['depthStenc'+'ilOps']['clearDepth']=!(0x653+0x1*0xc5d+-0x12af*0x1),_0x43fec0['isWebGPU']&&_0x3ac206===null&&_0x43fec0['samples']>-0x640+0x6d8+-0x97&&(_0x522f65['colorOps']['store']=!(0x85f*-0x2+0x8ff+0x7bf)),_0x522f65['render'](),_0x48ac78['destroy']();}class g_{constructor(_0x4a8263,_0x450b35,_0x404d2c){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x4a8263,this['dynamic']=_0x450b35,this['batchGroup'+'Id']=_0x404d2c);}['destroy'](_0x25e68d,_0x5e730c){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x25e68d,_0x5e730c),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x4275fe,_0x59702a){for(let _0x5d6362=0x4c*0x23+0x4ee*0x7+-0x2*0x1673;_0x5d6362<_0x59702a['length'];_0x5d6362++){const _0x3c6dea=_0x4275fe['layers']['getLayerBy'+'Id'](_0x59702a[_0x5d6362]);_0x3c6dea&&_0x3c6dea['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x21ec05,_0x14630c){for(let _0xa4d24b=-0x74b*-0x4+-0x22d*0xd+0xe3*-0x1;_0xa4d24b<_0x14630c['length'];_0xa4d24b++){const _0x2c84a7=_0x21ec05['layers']['getLayerBy'+'Id'](_0x14630c[_0xa4d24b]);_0x2c84a7&&_0x2c84a7['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x3a9+0x5*-0x3f5+0x1020]['aabb']);for(let _0x298f2c=0xd24+-0x1*-0x373+-0x182*0xb;_0x298f2c<this['origMeshIn'+'stances']['length'];_0x298f2c++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x298f2c]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x22ab+-0x1*-0x10a6+0x1205;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x464903,_0x4b2780,_0x62ab7d,_0x51e14d,_0x1dc40f=[er]){h(this,'_ui',!(0x6c2*0x2+-0x17*-0x1a+0xfd9*-0x1)),h(this,'_sprite',!(-0x39b+-0x8*0x94+0x83c)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x464903,this['name']=_0x4b2780,this['dynamic']=_0x62ab7d,this['maxAabbSiz'+'e']=_0x51e14d,this['layers']=_0x1dc40f);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x2c6b63){h(this,'bones'),(this['_dirty']=!(0xb*0x217+0x8f*-0xa+-0x1b*0xa5),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1*0xb3+-0xf27+-0x9*-0x1c3),this['_updateBef'+'oreCull']=!(0x6e*0x18+-0x9a9+0xa7*-0x1),_0x2c6b63&&this['initSkin'](_0x2c6b63));}set['rootBone'](_0x30b267){this['_rootBone']=_0x30b267;}get['rootBone'](){return this['_rootBone'];}['init'](_0x386d7f,_0x4c1b16){const _0x151ca7=_0x4c1b16*(-0x244f+0x8*0x1e7+-0x2*-0xa8d);let _0x4c294e=Math['ceil'](Math['sqrt'](_0x151ca7));_0x4c294e=Y['roundUp'](_0x4c294e,0x1*-0x17ff+0x14d4+0x25*0x16);const _0x3d6926=Math['ceil'](_0x151ca7/_0x4c294e);this['boneTextur'+'e']=new _e(_0x386d7f,{'width':_0x4c294e,'height':_0x3d6926,'format':Xt,'mipmaps':!(0x2f+0x12a6+-0xf1*0x14),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x1c8b37,_0x97499d){this['rootBone']=_0x1c8b37;const _0x51d918=this['skin'],_0x16a216=[];for(let _0x2cb88d=-0x1*0xff7+0xdb5+0x242;_0x2cb88d<_0x51d918['boneNames']['length'];_0x2cb88d++){const _0x55e1a0=_0x51d918['boneNames'][_0x2cb88d];let _0xa9e38b=_0x1c8b37['findByName'](_0x55e1a0);_0xa9e38b||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x55e1a0+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x97499d['name']+(',\x20rootBone'+':\x20')+_0x1c8b37['name']),_0xa9e38b=_0x97499d),_0x16a216['push'](_0xa9e38b);}this['bones']=_0x16a216;}['initSkin'](_0x2b8f45){this['skin']=_0x2b8f45,this['bones']=[];const _0x338c22=_0x2b8f45['inverseBin'+'dPose']['length'];this['init'](_0x2b8f45['device'],_0x338c22),this['matrices']=[];for(let _0x543f82=0x643*-0x5+0x30c+0x1c43;_0x543f82<_0x338c22;_0x543f82++)this['matrices'][_0x543f82]=new te();}['uploadBone'+'s'](_0x44ee51){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x445777,_0x35156d){if(this['_skinUpdat'+'eIndex']!==_0x35156d){this['_skinUpdat'+'eIndex']=_0x35156d,S_['copy'](_0x445777['getWorldTr'+'ansform']())['invert']();for(let _0x1da7ce=this['bones']['length']-(0x2e3*-0x3+0x3d8+-0x269*-0x2);_0x1da7ce>=-0x1d9b+0x26c9+0x19*-0x5e;_0x1da7ce--)this['matrices'][_0x1da7ce]['mulAffine2'](S_,this['bones'][_0x1da7ce]['getWorldTr'+'ansform']()),this['matrices'][_0x1da7ce]['mulAffine2'](this['matrices'][_0x1da7ce],this['skin']['inverseBin'+'dPose'][_0x1da7ce]);}}['updateMatr'+'ices'](_0x271666,_0x3fb5e1){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x271666,_0x3fb5e1);}['updateMatr'+'ixPalette'](_0x40290b,_0x54de1f){this['_updateMat'+'rices'](_0x40290b,_0x54de1f);const _0x5c3456=this['matrixPale'+'tte'],_0x1d6a25=this['bones']['length'];for(let _0x17395a=-0x24cd+-0x741*-0x2+0x164b;_0x17395a<_0x1d6a25;_0x17395a++){const _0x14ea17=this['matrices'][_0x17395a]['data'],_0x212e12=_0x17395a*(-0xd*0x24f+-0x536+0x2345);_0x5c3456[_0x212e12]=_0x14ea17[-0x3*0x4b8+-0xf0*0x15+-0x21d8*-0x1],_0x5c3456[_0x212e12+(0x54*-0x3e+0x15da+-0x181)]=_0x14ea17[-0x5*0x26e+-0x26*0xfc+0x1b*0x1d6],_0x5c3456[_0x212e12+(0x2*-0x867+-0x230f+-0x31*-0x10f)]=_0x14ea17[0x22*-0x2f+-0xea2*0x2+0x238a],_0x5c3456[_0x212e12+(0x63a+0x1*0x18ad+0x293*-0xc)]=_0x14ea17[0x139f+0x10d+-0x14a0],_0x5c3456[_0x212e12+(-0x1997+0x21eb+-0x7*0x130)]=_0x14ea17[0x210b+-0x14b*0xb+-0x12d1*0x1],_0x5c3456[_0x212e12+(0x1b1e+0x1767+0x65*-0x80)]=_0x14ea17[0x143+0x1*-0xdab+-0xc6d*-0x1],_0x5c3456[_0x212e12+(-0x4*0x1eb+-0x169+0x3*0x309)]=_0x14ea17[-0x20bf+-0x7*0x34f+0x37f1],_0x5c3456[_0x212e12+(0x1*0x14d9+-0xe43+-0x17*0x49)]=_0x14ea17[-0x5*0x1a3+0xa4a+-0x20e],_0x5c3456[_0x212e12+(-0x268d+0x1298+0x13fd)]=_0x14ea17[0x57b+0x1*-0x1174+0x1*0xbfb],_0x5c3456[_0x212e12+(0x1792+-0x235a+0xbd1)]=_0x14ea17[-0x1a76+0x25c6+-0xb4a],_0x5c3456[_0x212e12+(0x2038+0xd76+-0x2da4)]=_0x14ea17[-0x21b+-0x16c9+0x18ee],_0x5c3456[_0x212e12+(0x14a6+-0x755*0x1+-0xd46)]=_0x14ea17[-0xa74+0x565*-0x1+0xfe7];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0xc90c3b,_0x5eeb36,_0x10a02a){super();const _0x1d9fbc=_0x5eeb36['length'];this['init'](_0xc90c3b,_0x1d9fbc),this['device']=_0xc90c3b,this['rootNode']=_0x10a02a,this['bones']=_0x5eeb36;}['updateMatr'+'ices'](_0xf96be2,_0x1a2011){}['updateMatr'+'ixPalette'](_0x2a2585,_0x384975){const _0x51182a=this['matrixPale'+'tte'],_0x5033b0=this['bones']['length'];for(let _0x376675=-0x7d*0x35+0x138e*0x1+0x653;_0x376675<_0x5033b0;_0x376675++){const _0x3a25ac=this['bones'][_0x376675]['getWorldTr'+'ansform']()['data'],_0x84a4f5=_0x376675*(0xf81+0x10e8+-0x5*0x679);_0x51182a[_0x84a4f5]=_0x3a25ac[0x1*-0x246f+-0x2a5*0x1+0x2714],_0x51182a[_0x84a4f5+(-0x293+0x5d*-0x41+0x3*0x8bb)]=_0x3a25ac[0x1*-0x1769+-0x7aa+0x1f17],_0x51182a[_0x84a4f5+(0xecd+-0x2400+-0x1535*-0x1)]=_0x3a25ac[-0x1*-0xc32+-0x31d*0x3+0x3*-0xf1],_0x51182a[_0x84a4f5+(-0x1662+0x22b8*-0x1+0x391d*0x1)]=_0x3a25ac[0xdcf*-0x1+-0x559*0x4+0x233f*0x1],_0x51182a[_0x84a4f5+(-0x180+0x7*0x18+0xdc)]=_0x3a25ac[0x845+-0x16bc+0xe78*0x1],_0x51182a[_0x84a4f5+(-0x1*-0x1cb5+-0x1367*0x1+-0x949)]=_0x3a25ac[0x57*0x57+-0x1*-0xa2a+0xd*-0x30e],_0x51182a[_0x84a4f5+(-0x3*-0x83b+0x5*0x236+-0x23b9)]=_0x3a25ac[-0xcc6+-0x189c+-0x67*-0x5d],_0x51182a[_0x84a4f5+(0x7*0x4f7+-0x1800+-0x1*0xaba)]=_0x3a25ac[0xb*-0x129+-0x11*-0xe8+-0x298],_0x51182a[_0x84a4f5+(0xc*0x40+0xa14+-0xd0c)]=_0x3a25ac[0x1*-0x23e6+0x532+0x1*0x1eb6],_0x51182a[_0x84a4f5+(-0x1*-0x45+0x1*-0x80f+0x7d3)]=_0x3a25ac[0x1533*-0x1+0x3a3*0x7+-0x43c],_0x51182a[_0x84a4f5+(-0x83*-0x3d+0x21f3+-0x1048*0x4)]=_0x3a25ac[-0x31*-0x43+-0xbda+-0xef*0x1],_0x51182a[_0x84a4f5+(-0xeb*0x27+-0x1cd3+0x40ab)]=_0x3a25ac[0x245c+-0x6d*0x1+-0x23e1];}this['uploadBone'+'s'](this['device']);}}let gE=0x2489+0x25d1+0x1*-0x4a5a;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1dfe+-0xfe9+-0xe14*0x1),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x1*0x1f51+-0x50*0x2e+0xf3b*0x3,this['maxIndices']=0x357*0x5+0xb7+-0x2*0x8b5,this['vertexCoun'+'t']=0x1*-0x1307+-0x2*-0x38b+-0x1*-0xbf1,this['indexCount']=0xec6+-0x1d99*0x1+-0xfd*-0xf,this['vertexStre'+'amsUpdated']=!(0x689+0x1eb*-0x5+0x1*0x30f),this['indexStrea'+'mUpdated']=!(0x1*-0x1ba9+0x2d*-0xd3+0xb*0x5e3),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x1ef08c,_0x29f20f){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x1ef08c,'Vertex\x20str'+'eam\x20'+_0x29f20f+'\x20has\x20'+_0x1ef08c+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x1ef08c;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x99d+-0x19bf+0x1025),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x12ce+-0x9*0x449+-0x13c6*-0x1),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x155d+0x165d+-0x4*0xaee),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x265f+0x145a+0x85*-0x71);class SE{constructor(_0x3512fe,_0x509b92,_0x43c1ce,_0x4581af,_0x1a2c7c){this['data']=_0x3512fe,this['componentC'+'ount']=_0x509b92,this['dataType']=_0x43c1ce,this['dataTypeNo'+'rmalize']=_0x4581af,this['asInt']=_0x1a2c7c;}}class Ge extends wd{constructor(_0x59bb82,_0x594b11){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x1fd*-0x3+-0x17c9*0x1+-0x11d2*-0x1),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x446+-0x1f*0xe7+-0x1020*-0x2)),h(this,'_storageVe'+'rtex',!(-0x83*0x3b+-0x1*-0x2605+-0x7d3)),(this['id']=gE++,w['assert'](_0x59bb82,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x59bb82,this['_storageIn'+'dex']=(_0x594b11==null?void(0xb50+0x617*-0x5+0x1323):_0x594b11['storageInd'+'ex'])||!(0x17*-0xf7+0x14cd+-0x33*-0x7),this['_storageVe'+'rtex']=(_0x594b11==null?void(-0x1bb1+0x258+0x9*0x2d1):_0x594b11['storageVer'+'tex'])||!(-0xa59+-0xd96+0x17f0));}static['fromGeomet'+'ry'](_0x581e1d,_0x4f14f3,_0x2dd365={}){const _0x93bebf=new Ge(_0x581e1d,_0x2dd365),{positions:_0x156d98,normals:_0x1253d5,tangents:_0x18f5b5,colors:_0xdad887,uvs:_0x38116e,uvs1:_0x25396d,blendIndices:_0x533dbc,blendWeights:_0x4a538b,indices:_0x39c2b5}=_0x4f14f3;return _0x156d98&&_0x93bebf['setPositio'+'ns'](_0x156d98),_0x1253d5&&_0x93bebf['setNormals'](_0x1253d5),_0x18f5b5&&_0x93bebf['setVertexS'+'tream'](yi,_0x18f5b5,-0x2227+-0x2bd*-0x2+0x235*0xd),_0xdad887&&_0x93bebf['setColors3'+'2'](_0xdad887),_0x38116e&&_0x93bebf['setUvs'](0x11b+0xaab*-0x3+0x71*0x46,_0x38116e),_0x25396d&&_0x93bebf['setUvs'](0x295*-0x1+-0x260b+-0xd8b*-0x3,_0x25396d),_0x533dbc&&_0x93bebf['setVertexS'+'tream'](us,_0x533dbc,-0x1860+-0x1e98+0x36fc,_0x533dbc['length']/(0x1*-0xc59+-0x873*0x2+0x1d43),la),_0x4a538b&&_0x93bebf['setVertexS'+'tream'](gi,_0x4a538b,0x1*0x494+0x137e+-0x180e),_0x39c2b5&&_0x93bebf['setIndices'](_0x39c2b5),_0x93bebf['update'](),_0x93bebf;}set['morph'](_0x4183be){_0x4183be!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x4183be,_0x4183be&&_0x4183be['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x304a9c){this['_aabb']=_0x304a9c,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x1a1d3d=this['morph'];_0x1a1d3d&&(this['morph']=null,_0x1a1d3d['refCount']<-0x20cf+-0x5*0x179+0x282d&&_0x1a1d3d['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x4e765a=0x1*-0x6f5+-0x229f+0x2994;_0x4e765a<this['indexBuffe'+'r']['length'];_0x4e765a++)this['_destroyIn'+'dexBuffer'](_0x4e765a);this['indexBuffe'+'r']['length']=0x236e+0x979+-0x13*0x25d,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x62c7f8){this['indexBuffe'+'r'][_0x62c7f8]&&(this['indexBuffe'+'r'][_0x62c7f8]['destroy'](),this['indexBuffe'+'r'][_0x62c7f8]=null);}['_initBoneA'+'abbs'](_0x52ddf8){this['boneAabb']=[],this['boneUsed']=[];let _0x20a80f,_0x2d1c88,_0x1a5d06,_0x1d0101,_0x49f8d1;const _0x49cfbf=[],_0x4d202f=[],_0x3e61d5=this['boneUsed'],_0x28ddf9=this['skin']['boneNames']['length'];let _0x54acb8,_0x5c53a8,_0x33b5d8;for(let _0x5e32e9=0x15d3+0x10c9*0x1+-0x2*0x134e;_0x5e32e9<_0x28ddf9;_0x5e32e9++)_0x49cfbf[_0x5e32e9]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x4d202f[_0x5e32e9]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x35839e=new Uo(this['vertexBuff'+'er']),_0x1f7290=_0x35839e['element'][Me],_0x328cd9=_0x35839e['element'][gi],_0x22464c=_0x35839e['element'][us],_0x339495=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0xbc6d04=-0x1e62*-0x1+-0x1701*0x1+-0x761;_0xbc6d04<_0x339495;_0xbc6d04++){for(let _0x1269f8=-0x25ad+0x1c8c+0x921;_0x1269f8<-0xb7c+0xb3+0xacd;_0x1269f8++)if(_0x328cd9['array'][_0x328cd9['index']+_0x1269f8]>0x883*-0x1+-0x477+0x67d*0x2){const _0x19abc3=_0x22464c['array'][_0x22464c['index']+_0x1269f8];if(_0x3e61d5[_0x19abc3]=!(-0x693*0x1+-0x15d9+0x1c6c),_0x20a80f=_0x1f7290['array'][_0x1f7290['index']],_0x2d1c88=_0x1f7290['array'][_0x1f7290['index']+(-0x7*0xc9+0x1be5+-0x1665)],_0x1a5d06=_0x1f7290['array'][_0x1f7290['index']+(0x21ac+-0x11eb*0x1+0x1*-0xfbf)],_0x1d0101=_0x4d202f[_0x19abc3],_0x49f8d1=_0x49cfbf[_0x19abc3],_0x49f8d1['x']>_0x20a80f&&(_0x49f8d1['x']=_0x20a80f),_0x49f8d1['y']>_0x2d1c88&&(_0x49f8d1['y']=_0x2d1c88),_0x49f8d1['z']>_0x1a5d06&&(_0x49f8d1['z']=_0x1a5d06),_0x1d0101['x']<_0x20a80f&&(_0x1d0101['x']=_0x20a80f),_0x1d0101['y']<_0x2d1c88&&(_0x1d0101['y']=_0x2d1c88),_0x1d0101['z']<_0x1a5d06&&(_0x1d0101['z']=_0x1a5d06),_0x52ddf8){let _0x3959b0=_0x54acb8=_0x20a80f,_0x3160a7=_0x5c53a8=_0x2d1c88,_0x48f0a9=_0x33b5d8=_0x1a5d06;for(let _0x3749c8=-0xd*0x21b+0x17db+0x384;_0x3749c8<_0x52ddf8['length'];_0x3749c8++){const _0x80edb=_0x52ddf8[_0x3749c8],_0x3ef705=_0x80edb['deltaPosit'+'ions'][_0xbc6d04*(0x68*0x2+0x59b+-0x14*0x52)],_0x22ebb9=_0x80edb['deltaPosit'+'ions'][_0xbc6d04*(-0x19c7+-0x778+0xb16*0x3)+(-0xae3*0x1+0x1c88+0x1*-0x11a4)],_0x1fff76=_0x80edb['deltaPosit'+'ions'][_0xbc6d04*(0xada+0xbc3*-0x1+0xec)+(-0x6d4+0x1*0x19c1+0x1d*-0xa7)];_0x3ef705<-0x2121+-0x42e*-0x1+-0x1*-0x1cf3?_0x3959b0+=_0x3ef705:_0x54acb8+=_0x3ef705,_0x22ebb9<0x5b2+0x2172+-0x3ea*0xa?_0x3160a7+=_0x22ebb9:_0x5c53a8+=_0x22ebb9,_0x1fff76<0x1510+-0x2e5+-0x1*0x122b?_0x48f0a9+=_0x1fff76:_0x33b5d8+=_0x1fff76;}_0x49f8d1['x']>_0x3959b0&&(_0x49f8d1['x']=_0x3959b0),_0x49f8d1['y']>_0x3160a7&&(_0x49f8d1['y']=_0x3160a7),_0x49f8d1['z']>_0x48f0a9&&(_0x49f8d1['z']=_0x48f0a9),_0x1d0101['x']<_0x54acb8&&(_0x1d0101['x']=_0x54acb8),_0x1d0101['y']<_0x5c53a8&&(_0x1d0101['y']=_0x5c53a8),_0x1d0101['z']<_0x33b5d8&&(_0x1d0101['z']=_0x33b5d8);}}_0x35839e['next']();}const _0xcac1e5=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x35ea98=>_0x35ea98['name']===Me);if(_0xcac1e5&&_0xcac1e5['normalize']){const _0x287ede=((()=>{switch(_0xcac1e5['dataType']){case dd:return _0x52f9ea=>Math['max'](_0x52f9ea/(0x7*0x1a2+0x5*-0x1d+-0xa5e),-(-0x1c1c*-0x1+-0x131*0x11+-0xf*0x86));case la:return _0x570bbe=>_0x570bbe/(-0xdb4+0x201c+-0x1169);case fd:return _0x5b2000=>Math['max'](_0x5b2000/(-0xd18*0x12+-0x1*0x3501+0x1a0b0),-(0xb4+0x200f+-0x2*0x1061));case Ml:return _0x2e78b9=>_0x2e78b9/(0x5c45+0x28*0x13d+0x7232);default:return _0xe4c934=>_0xe4c934;}})());for(let _0x5c2082=0xca3+0x2bf*0xa+-0x2819;_0x5c2082<_0x28ddf9;_0x5c2082++)if(_0x3e61d5[_0x5c2082]){const _0x125534=_0x49cfbf[_0x5c2082],_0x3834c7=_0x4d202f[_0x5c2082];_0x125534['set'](_0x287ede(_0x125534['x']),_0x287ede(_0x125534['y']),_0x287ede(_0x125534['z'])),_0x3834c7['set'](_0x287ede(_0x3834c7['x']),_0x287ede(_0x3834c7['y']),_0x287ede(_0x3834c7['z']));}}for(let _0x424ec0=0xe6b*0x1+0x12dd+-0x2*0x10a4;_0x424ec0<_0x28ddf9;_0x424ec0++){const _0x1d9033=new De();_0x1d9033['setMinMax'](_0x49cfbf[_0x424ec0],_0x4d202f[_0x424ec0]),this['boneAabb']['push'](_0x1d9033);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0xb*0xe3+-0x8a0+-0x1261*-0x1&&this['indexBuffe'+'r'][0x1349+0x13cf*0x1+-0x2718]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0xb1*0x25+0x851*-0x1+0x8a2*-0x2]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x85*-0xa+-0x6*-0x238+-0x1282]['numIndices']));}['clear'](_0x1f0bfe,_0x36697e,_0x310bbf=0x16a2+-0xa77*0x3+-0x8c3*-0x1,_0x41cd7b=0x12cd+0x1059+0x1193*-0x2){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x7*0x454+-0x481*-0x2+0xaa5*0x2),this['_geometryD'+'ata']['maxVertice'+'s']=_0x310bbf,this['_geometryD'+'ata']['maxIndices']=_0x41cd7b,this['_geometryD'+'ata']['verticesUs'+'age']=_0x1f0bfe?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x36697e?ms:lh;}['setVertexS'+'tream'](_0x27b381,_0x35c675,_0x5914bc,_0xc44d9f,_0x477169=Ve,_0x3c7532=!(0x2c7*0x9+-0xb15*-0x1+-0x2413),_0x2f2924=!(-0x9c5+0x12b1+-0x8eb)){this['_initGeome'+'tryData']();const _0x5c7e95=_0xc44d9f||_0x35c675['length']/_0x5914bc;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x5c7e95,_0x27b381),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xa0a+0x14b7*0x1+-0x1ec1),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x27b381]=new SE(_0x35c675,_0x5914bc,_0x477169,_0x3c7532,_0x2f2924);}['getVertexS'+'tream'](_0xf535de,_0x20a01d){let _0x58d4e2=0x1ab2+-0x906+-0x11ac,_0x433218=!(0x2cf*0x7+-0x1bb7+0x80f);if(this['_geometryD'+'ata']){const _0x3fe1fe=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xf535de];_0x3fe1fe&&(_0x433218=!(0xc*0x1d1+-0xcd*-0x25+-0x336d*0x1),_0x58d4e2=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x20a01d)?_0x20a01d['set'](_0x3fe1fe['data']):(_0x20a01d['length']=-0x19e7+0x2572+0x3*-0x3d9,_0x20a01d['push'](_0x3fe1fe['data'])));}return _0x433218||this['vertexBuff'+'er']&&(_0x58d4e2=new Uo(this['vertexBuff'+'er'])['readData'](_0xf535de,_0x20a01d)),_0x58d4e2;}['setPositio'+'ns'](_0x470dec,_0x5bcefd=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x391dee){this['setVertexS'+'tream'](Me,_0x470dec,_0x5bcefd,_0x391dee,Ve,!(0x5b3+-0x11f8*-0x2+-0x29a2*0x1));}['setNormals'](_0x26f9df,_0x3c8f0c=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x216749){this['setVertexS'+'tream'](gs,_0x26f9df,_0x3c8f0c,_0x216749,Ve,!(-0x1106*-0x2+-0x1e94+-0x377));}['setUvs'](_0x2e14f3,_0x2d87b4,_0x541bc5=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x3145c5){this['setVertexS'+'tream'](zm+_0x2e14f3,_0x2d87b4,_0x541bc5,_0x3145c5,Ve,!(-0xed*-0x27+0x9de+-0x2df8));}['setColors'](_0x37bdd7,_0x28ebbf=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2fb2b3){this['setVertexS'+'tream'](Wt,_0x37bdd7,_0x28ebbf,_0x2fb2b3,Ve,!(0x5d4+-0x256b+0x1f98));}['setColors3'+'2'](_0x59cf9f,_0x4066a8){this['setVertexS'+'tream'](Wt,_0x59cf9f,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x4066a8,la,!(-0x1e25*-0x1+-0x2394+0x56f));}['setIndices'](_0x701441,_0x5ea7c8){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x3c7+0xfcc*0x1+0x1*-0x1393),this['_geometryD'+'ata']['indices']=_0x701441,this['_geometryD'+'ata']['indexCount']=_0x5ea7c8||_0x701441['length'];}['getPositio'+'ns'](_0x92b6d5){return this['getVertexS'+'tream'](Me,_0x92b6d5);}['getNormals'](_0x42bd46){return this['getVertexS'+'tream'](gs,_0x42bd46);}['getUvs'](_0x13f131,_0x18ff13){return this['getVertexS'+'tream'](zm+_0x13f131,_0x18ff13);}['getColors'](_0x37da77){return this['getVertexS'+'tream'](Wt,_0x37da77);}['getIndices'](_0x3a608a){let _0xaee254=-0x445+-0x1e47+0x228c;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x28cf33=this['_geometryD'+'ata']['indices'];if(_0xaee254=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x3a608a))_0x3a608a['set'](_0x28cf33);else{_0x3a608a['length']=-0x12f9+0x1fb5+-0xcbc;for(let _0x14b30b=-0x19eb+0x8af+-0x4*-0x44f,_0x54f0d8=_0x28cf33['length'];_0x14b30b<_0x54f0d8;_0x14b30b++)_0x3a608a['push'](_0x28cf33[_0x14b30b]);}}else this['indexBuffe'+'r']['length']>0x1*-0xaf1+-0x39a+0xe8b&&this['indexBuffe'+'r'][0x19d7+-0x18e5+-0xf2]&&(_0xaee254=this['indexBuffe'+'r'][-0x2420+-0x264+-0x2684*-0x1]['readData'](_0x3a608a));return _0xaee254;}['update'](_0x4cb925=js,_0x34298a=!(0x1e6+0x754+-0x93a)){if(this['_geometryD'+'ata']){if(_0x34298a){const _0x2566ec=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x2566ec&&_0x2566ec['componentC'+'ount']===-0xd*-0x13d+0x6b*0x3b+-0x28bf&&(this['_aabb']['compute'](_0x2566ec['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x2ee710=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x2ee710=!(0x2283+-0x3*-0xbdd+-0x461a),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x2ee710&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2d5bdf=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2d5bdf=!(-0x1df7+-0x20c7+0x3ebe),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2d5bdf&&this['indexBuffe'+'r']['length']>0x10cf+0x39*0x1+-0x221*0x8&&this['indexBuffe'+'r'][0x1f50+-0x16db+-0x875]&&(this['indexBuffe'+'r'][-0x119*-0x11+0xe50+-0x1*0x20f9]['destroy'](),this['indexBuffe'+'r'][-0x1*-0xe3+-0x1caf+0x1bcc]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x1*-0x14cf+-0x35*-0x2b+0xbe8]['type']=_0x4cb925,this['indexBuffe'+'r']['length']>0x43*0x67+0x1400+0x3*-0xfa7&&this['indexBuffe'+'r'][0xe*0x285+-0xa7*0x1+0x1*-0x229f]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x159*-0x3+0xa*-0x11b+0x703]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1c17+0x185d+0x12*0x35]['indexed']=!(0x237e+0x1f37+-0x42b5)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0xf8b+0x1f6+-0x1181]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x22c9*0x1+-0x645+-0x1c84*0x1]['indexed']=!(0x5b5*-0x2+0x81+-0x1*-0xaea)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1*0x1f75+-0x10*0x1c9+-0x5*-0xc01,this['_geometryD'+'ata']['indexCount']=0x1d3*-0x8+-0x5f*0x65+0x3413,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1*0xd30+-0x321*0x9+0x1aa*0x9),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x20d3+-0x1*-0x1f0f+-0x3fe1),this['_geometryD'+'ata']['recreate']=!(-0x26ed+0x1105*-0x1+0x37f3),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x576f71){const _0xdd359=[];for(const _0x28921a in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x11c84f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x28921a];_0xdd359['push']({'semantic':_0x28921a,'components':_0x11c84f['componentC'+'ount'],'type':_0x11c84f['dataType'],'normalize':_0x11c84f['dataTypeNo'+'rmalize'],'asInt':_0x11c84f['asInt']});}return new kt(this['device'],_0xdd359,_0x576f71);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x2804e3=this['_geometryD'+'ata']['maxVertice'+'s'],_0x48cb5f=this['_buildVert'+'exFormat'](_0x2804e3);this['vertexBuff'+'er']=new Is(this['device'],_0x48cb5f,_0x2804e3,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x47fc0a=new Uo(this['vertexBuff'+'er']),_0x4480f8=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x11a85e in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x11d9ee=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x11a85e];_0x47fc0a['writeData'](_0x11a85e,_0x11d9ee['data'],_0x4480f8),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x11a85e];}_0x47fc0a['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xa53+-0x3*0x8c5+0x24a2||!this['indexBuffe'+'r'][0x9c2+0x1517+-0x1ed9]){const _0x19ec13=this['_geometryD'+'ata']['maxVertice'+'s'],_0x289d58=_0x19ec13>-0x2*0x2d4d+-0x6c9a+0x1c733*0x1||_0x19ec13===0x1*-0x699+-0xac*0x7+0xb4d?wr:Yi,_0x345926=this['_storageIn'+'dex']?{'storage':!(0xbe4+0x1f53+-0x353*0xd)}:void(-0x575*0x4+-0x24cd+0x3aa1);this['indexBuffe'+'r'][0x24*0x3a+-0x5b2+-0x276]=new br(this['device'],_0x289d58,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x262e+-0xf9*0x1c+0x416a),_0x345926);}const _0x55a590=this['_geometryD'+'ata']['indices'];_0x55a590&&(this['indexBuffe'+'r'][0x16fc+-0x1e6e+0x772]['writeData'](_0x55a590,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x2ed943){_0x2ed943===$r?this['generateWi'+'reframe']():_0x2ed943===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0xd16+0x11be+-0x1ed4,'indexed':!(0x9e*-0x2b+0x1855+-0x236*-0x1)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x5d6d82=this['vertexBuff'+'er']['numVertice'+'s'],_0xbe94cd=[];let _0x58eda9;if(this['indexBuffe'+'r']['length']>0x7*0x43f+-0x166*0xf+-0x1*0x8bf&&this['indexBuffe'+'r'][-0x1a10+0x1f51+0x1*-0x541]){const _0x5964b5=[[0xe*-0x2a5+0x124e+-0x1*-0x12b8,0x5*0x45d+0xfe1+-0x25b1],[0x7df+0x6ac+-0x1*0xe8a,0xf79*0x2+0x2b4*0x2+0x2458*-0x1],[-0x269*0x1+0x2b*0xcb+0x656*-0x5,-0x1023*0x1+-0xb85+0x1ba8]],_0x1b3459=this['primitive'][un]['base'],_0x2c0ac0=this['primitive'][un]['count'],_0x563a44=this['primitive'][un]['baseVertex']||0x7*-0xb6+-0x7d*0x43+0x25b1*0x1,_0x4f26ed=this['indexBuffe'+'r'][un],_0x15df09=new Sh[_0x4f26ed['format']](_0x4f26ed['storage']),_0x3c8e74=new Set();for(let _0xaeb92d=_0x1b3459;_0xaeb92d<_0x1b3459+_0x2c0ac0;_0xaeb92d+=-0x24c3+-0xdfb+0x3d*0xd5)for(let _0x1695e0=-0x1ff3+-0x21b7+0x41aa;_0x1695e0<-0x4*-0x916+-0x1*0x35e+0x1*-0x20f7;_0x1695e0++){const _0x33d078=_0x15df09[_0xaeb92d+_0x5964b5[_0x1695e0][-0x54b*0x1+-0xe61+-0x4eb*-0x4]]+_0x563a44,_0x4e6bb4=_0x15df09[_0xaeb92d+_0x5964b5[_0x1695e0][-0x65*0x3+0x1499*-0x1+-0xd*-0x1ad]]+_0x563a44,_0x5487e4=_0x33d078>_0x4e6bb4?_0x4e6bb4*_0x5d6d82+_0x33d078:_0x33d078*_0x5d6d82+_0x4e6bb4;_0x3c8e74['has'](_0x5487e4)||(_0x3c8e74['add'](_0x5487e4),_0xbe94cd['push'](_0x33d078,_0x4e6bb4));}_0x58eda9=_0x4f26ed['format'];}else{for(let _0xe81100=0xd*-0x249+-0x274*0x7+0xb*0x443;_0xe81100<_0x5d6d82;_0xe81100+=-0xe2e+-0x1e09+-0xebe*-0x3)_0xbe94cd['push'](_0xe81100,_0xe81100+(-0x1526+0xca*-0x2f+0x3a3d),_0xe81100+(0x246*-0x9+-0x6bf+0x1b36),_0xe81100+(-0x208+-0x1a54+0x1c5e),_0xe81100+(0x36*-0xa+-0x2348+0x2566),_0xe81100);_0x58eda9=_0xbe94cd['length']>0x1c741+0x1*0x1dfb6+-0x2a6f8?wr:Yi;}const _0x4ee000=new br(this['vertexBuff'+'er']['device'],_0x58eda9,_0xbe94cd['length']);new Sh[_0x4ee000['format']](_0x4ee000['storage'])['set'](_0xbe94cd),_0x4ee000['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0xbe94cd['length'],'indexed':!(-0x204f+0x949*-0x1+0x2998)},this['indexBuffe'+'r'][$r]=_0x4ee000;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x25aff9,_0x19b67a){return _0x25aff9 instanceof Function?_0x25aff9:_0x5a7168=>{let _0x28a3a8=_0x5a7168[_0x25aff9];return _0x28a3a8 instanceof Function&&(_0x28a3a8=_0x28a3a8()),_0x28a3a8===_0x19b67a;};}function Sv(_0x203d34,_0x17094a){if(_0x17094a(_0x203d34))return _0x203d34;const _0x32379d=_0x203d34['_children'],_0x236db1=_0x32379d['length'];for(let _0x3b0b2c=-0x151*0x2+0x11*-0x2c+0x58e;_0x3b0b2c<_0x236db1;++_0x3b0b2c){const _0x680614=Sv(_0x32379d[_0x3b0b2c],_0x17094a);if(_0x680614)return _0x680614;}return null;}class Ie extends me{constructor(_0x47673c='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x2190+-0x5a6+-0x1be9,-0xa3*-0x33+0x3*-0xbc4+0x2d4,0x15c5*0x1+0x10*-0x161+-0x4*-0x13)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0x78*0x2d+-0x1b70+0x1*0x3089)),h(this,'_aabbVer',-0x919*-0x1+0x1*0x2064+-0x297d),h(this,'_frozen',!(0x1d0b+-0x2250+0xe1*0x6)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x657*0x4+-0x99+-0x18c2)),h(this,'_worldScal'+'eSign',-0x1901+0x19*-0x6b+0x2374),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x137*0x13+0x1204+-0x2919)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0x50f+-0x30f*-0x5+-0x145a),h(this,'_enabled',!(-0x1*0x2447+-0x88a*0x1+0x4d*0x95)),h(this,'_enabledIn'+'Hierarchy',!(-0x9b1+-0xd*0x251+0x27cf)),h(this,'scaleCompe'+'nsation',!(0x20*-0xba+0x74c+0xd7*0x13)),this['name']=_0x47673c;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0xc3*-0x2b+0x13*0xa0+0xc6*0x1b));}get['normalMatr'+'ix'](){const _0x15ac75=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x15ac75['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x8*-0xbf+-0x5da*-0x3+-0x1785)),_0x15ac75;}set['enabled'](_0x25dc1f){var _0x14774f;this['_enabled']!==_0x25dc1f&&(this['_enabled']=_0x25dc1f,(_0x25dc1f&&((_0x14774f=this['_parent'])!=null&&_0x14774f['enabled'])||!_0x25dc1f)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x25dc1f));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x5294aa=this['_parent'];if(!_0x5294aa)return'';let _0x32e855=this['name'];for(;_0x5294aa&&_0x5294aa['_parent'];)_0x32e855=_0x5294aa['name']+'/'+_0x32e855,_0x5294aa=_0x5294aa['_parent'];return _0x32e855;}get['root'](){let _0x57060d=this;for(;_0x57060d['_parent'];)_0x57060d=_0x57060d['_parent'];return _0x57060d;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1836a5,_0x31283e){_0x1836a5['_onHierarc'+'hyStateCha'+'nged'](_0x31283e);const _0x51e704=_0x1836a5['_children'];for(let _0x1e5509=-0xc17+0x1fb8+0xc9*-0x19,_0x264c5f=_0x51e704['length'];_0x1e5509<_0x264c5f;_0x1e5509++)_0x51e704[_0x1e5509]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x51e704[_0x1e5509],_0x31283e);}['_onHierarc'+'hyStateCha'+'nged'](_0x12565b){this['_enabledIn'+'Hierarchy']=_0x12565b,_0x12565b&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x2a4485){_0x2a4485['name']=this['name'];const _0x1fffd3=this['tags']['_list'];_0x2a4485['tags']['clear']();for(let _0x192d6c=0x1afa+-0x7a4*-0x2+0xe16*-0x3;_0x192d6c<_0x1fffd3['length'];_0x192d6c++)_0x2a4485['tags']['add'](_0x1fffd3[_0x192d6c]);_0x2a4485['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x2a4485['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x2a4485['localScale']['copy'](this['localScale']),_0x2a4485['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x2a4485['position']['copy'](this['position']),_0x2a4485['rotation']['copy'](this['rotation']),_0x2a4485['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x2a4485['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x2a4485['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x2a4485['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x2a4485['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x2a4485['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x2a4485['_aabbVer']=this['_aabbVer']+(-0x1*-0x1b15+-0x261f+0xb0b),_0x2a4485['_enabled']=this['_enabled'],_0x2a4485['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x2a4485['_enabledIn'+'Hierarchy']=!(-0x1*0x19ad+0xf7*-0x22+-0x1*-0x3a7c);}['clone'](){const _0x161801=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x161801),_0x161801;}['copy'](_0x1d404a){return _0x1d404a['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1be299=this['_children'];for(;_0x1be299['length'];){const _0x59bde8=_0x1be299['pop']();_0x59bde8['_parent']=null,_0x59bde8['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x2577bd,_0x47e32f){const _0x1dd006=[],_0x3e75db=b_(_0x2577bd,_0x47e32f);return this['forEach'](_0x29119e=>{_0x3e75db(_0x29119e)&&_0x1dd006['push'](_0x29119e);}),_0x1dd006;}['findOne'](_0x5a1fcb,_0x9d1c16){const _0x1e2ed7=b_(_0x5a1fcb,_0x9d1c16);return Sv(this,_0x1e2ed7);}['findByTag'](..._0x20380c){const _0x301a59=[],_0x3af476=(_0xc444fb,_0x4928cf)=>{_0x4928cf&&_0xc444fb['tags']['has'](..._0x20380c)&&_0x301a59['push'](_0xc444fb);for(let _0x35b54e=0x1eea+-0x133e+-0xbac;_0x35b54e<_0xc444fb['_children']['length'];_0x35b54e++)_0x3af476(_0xc444fb['_children'][_0x35b54e],!(-0x10c*0x4+-0x1*0x189a+0x1cca));};return _0x3af476(this,!(0x142d+-0x1101+-0x32b)),_0x301a59;}['findByName'](_0x24dfd0){return this['findOne']('name',_0x24dfd0);}['findByPath'](_0x2e900a){const _0x2b7eb0=Array['isArray'](_0x2e900a)?_0x2e900a:_0x2e900a['split']('/');let _0x314f38=this;for(let _0x42c906=-0xbb*0x25+-0x26fc*0x1+0x1*0x4203,_0x8420d8=_0x2b7eb0['length'];_0x42c906<_0x8420d8;++_0x42c906)if(_0x314f38=_0x314f38['children']['find'](_0x11aff2=>_0x11aff2['name']===_0x2b7eb0[_0x42c906]),!_0x314f38)return null;return _0x314f38;}['forEach'](_0x2c7f43,_0x2a3242){_0x2c7f43['call'](_0x2a3242,this);const _0x4c8869=this['_children'],_0x1dae11=_0x4c8869['length'];for(let _0x440be6=0x4b6*-0x7+0x209c+-0x2f*-0x2;_0x440be6<_0x1dae11;++_0x440be6)_0x4c8869[_0x440be6]['forEach'](_0x2c7f43,_0x2a3242);}['isDescenda'+'ntOf'](_0x1bd53b){let _0x154baf=this['_parent'];for(;_0x154baf;){if(_0x154baf===_0x1bd53b)return!(-0x1b7c+0x726*0x4+0x11c*-0x1);_0x154baf=_0x154baf['_parent'];}return!(0x75d+-0x54b+-0x1*0x211);}['isAncestor'+'Of'](_0x51d0be){return _0x51d0be['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1003+0x1f5a+-0x2f5c)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1*0x6b6+-0x2*-0x8a2+-0x17fa&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x57e43f;(_0x57e43f=this['_parent'])==null||_0x57e43f['removeChil'+'d'](this);}['reparent'](_0x30e43b,_0x18b138){this['remove'](),_0x30e43b&&(_0x18b138>=0x9f7*0x1+0xd*0x238+0x26cf*-0x1?_0x30e43b['insertChil'+'d'](this,_0x18b138):_0x30e43b['addChild'](this));}['setLocalEu'+'lerAngles'](_0x36e3fc,_0x17b815,_0x229488){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x36e3fc,_0x17b815,_0x229488),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x14fc96,_0x5c4e65,_0x42a072){_0x14fc96 instanceof D?this['localPosit'+'ion']['copy'](_0x14fc96):this['localPosit'+'ion']['set'](_0x14fc96,_0x5c4e65,_0x42a072),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x2c95a0,_0x2afbf0,_0x431650,_0x529919){_0x2c95a0 instanceof le?this['localRotat'+'ion']['copy'](_0x2c95a0):this['localRotat'+'ion']['set'](_0x2c95a0,_0x2afbf0,_0x431650,_0x529919),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0xfa0836,_0x3e843b,_0x335113){_0xfa0836 instanceof D?this['localScale']['copy'](_0xfa0836):this['localScale']['set'](_0xfa0836,_0x3e843b,_0x335113),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x2445+-0x618+0x2a5d),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x1e36f1=this['_parent'];for(;_0x1e36f1;)_0x1e36f1['_frozen']=!(-0x1c75*-0x1+-0x418*0x6+-0x3e4),_0x1e36f1=_0x1e36f1['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x1b2b+0x2408+-0x8dc),this['_dirtyWorl'+'d']=!(-0x2*-0xfd6+-0x1b*-0xf0+-0x38fc);for(let _0x503fc1=0x10e9+0x891*-0x2+0x39;_0x503fc1<this['_children']['length'];_0x503fc1++)this['_children'][_0x503fc1]['_dirtyWorl'+'d']||this['_children'][_0x503fc1]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0xf5c*-0x1+-0x1c7*0x1+0x3*-0x487),this['_worldScal'+'eSign']=-0x5b7+-0x1dc8+-0x3*-0xbd5,this['_aabbVer']++;}['setPositio'+'n'](_0x404c19,_0x1507cc,_0x46ec6b){_0x404c19 instanceof D?rs['copy'](_0x404c19):rs['set'](_0x404c19,_0x1507cc,_0x46ec6b),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x32a9f9,_0x5023bd,_0x3997db,_0x18d316){if(_0x32a9f9 instanceof le?as['copy'](_0x32a9f9):as['set'](_0x32a9f9,_0x5023bd,_0x3997db,_0x18d316),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x3efdf7=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x3efdf7)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x3cc179,_0x45db7d){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x3cc179),this['localRotat'+'ion']['copy'](_0x45db7d);else{const _0x55545e=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x55545e)['invert'](),ro['transformP'+'oint'](_0x3cc179,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x45db7d);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x135aee,_0x380e7d,_0x459ad2){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x135aee,_0x380e7d,_0x459ad2),this['_parent']!==null){const _0x232e31=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x232e31)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x4d2424){this['_prepareIn'+'sertChild'](_0x4d2424),this['_children']['push'](_0x4d2424),this['_onInsertC'+'hild'](_0x4d2424);}['addChildAn'+'dSaveTrans'+'form'](_0x1ae40f){const _0x1c2652=_0x1ae40f['getPositio'+'n'](),_0x89376a=_0x1ae40f['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1ae40f),_0x1ae40f['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x1c2652)),_0x1ae40f['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x89376a)),this['_children']['push'](_0x1ae40f),this['_onInsertC'+'hild'](_0x1ae40f);}['insertChil'+'d'](_0x3bc1da,_0x551960){this['_prepareIn'+'sertChild'](_0x3bc1da),this['_children']['splice'](_0x551960,-0x26aa+-0x79f*0x3+0x3d87,_0x3bc1da),this['_onInsertC'+'hild'](_0x3bc1da);}['_prepareIn'+'sertChild'](_0x4834a0){_0x4834a0['remove'](),w['assert'](_0x4834a0!==this,'GraphNode\x20'+(_0x4834a0==null?void(0x1ee3*-0x1+0x1*0xdaf+0xc*0x16f):_0x4834a0['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x4834a0),'GraphNode\x20'+(_0x4834a0==null?void(-0x3c5+0x1*-0x1765+0x90e*0x3):_0x4834a0['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x251654,_0x54fb84,_0x18760d){this['fire'](_0x251654,_0x18760d);for(let _0x5926c2=0x89*0x1e+-0x1*-0x8a7+-0x18b5;_0x5926c2<this['_children']['length'];_0x5926c2++)this['_children'][_0x5926c2]['_fireOnHie'+'rarchy'](_0x54fb84,_0x54fb84,_0x18760d);}['_onInsertC'+'hild'](_0x6d37dd){_0x6d37dd['_parent']=this;const _0x16bb44=_0x6d37dd['_enabled']&&this['enabled'];_0x6d37dd['_enabledIn'+'Hierarchy']!==_0x16bb44&&(_0x6d37dd['_enabledIn'+'Hierarchy']=_0x16bb44,_0x6d37dd['_notifyHie'+'rarchyStat'+'eChanged'](_0x6d37dd,_0x16bb44)),_0x6d37dd['_updateGra'+'phDepth'](),_0x6d37dd['_dirtifyWo'+'rld'](),this['_frozen']&&_0x6d37dd['_unfreezeP'+'arentToRoo'+'t'](),_0x6d37dd['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x6d37dd);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x8d*0x3f+0x1c83+-0x3f35):0x178e+0x2ad*0x1+-0x4f*0x55;for(let _0x203df1=0x1*-0x1f83+0xe5c*0x2+-0x41*-0xb,_0x38015e=this['_children']['length'];_0x203df1<_0x38015e;_0x203df1++)this['_children'][_0x203df1]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x3a4a4b){const _0x2e1d79=this['_children']['indexOf'](_0x3a4a4b);_0x2e1d79!==-(0xa4d+0x92*0x2b+-0x22d2)&&(this['_children']['splice'](_0x2e1d79,0x1d3+-0x9ae+0x4*0x1f7),_0x3a4a4b['_parent']=null,_0x3a4a4b['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x3a4a4b));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1fc8+0x982*-0x1+0xb*0x3c1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x32594e;const _0x17d585=this['_parent'];let _0x11f058=this['localScale'],_0x23c910=_0x17d585;if(_0x23c910){for(;_0x23c910&&_0x23c910['scaleCompe'+'nsation'];)_0x23c910=_0x23c910['_parent'];_0x23c910&&(_0x23c910=_0x23c910['_parent'],_0x23c910&&(_0x32594e=_0x23c910['worldTrans'+'form']['getScale'](),T_['mul2'](_0x32594e,this['localScale']),_0x11f058=T_));}Wd['setFromMat'+'4'](_0x17d585['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x6fe30c=_0x17d585['worldTrans'+'form'];_0x17d585['scaleCompe'+'nsation']&&(w_['mul2'](_0x32594e,_0x17d585['getLocalSc'+'ale']()),v_['setTRS'](_0x17d585['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x6fe30c=v_),_0x6fe30c['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x11f058);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0xd*-0x232+-0x205f+0x2*0x1eb);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x7*-0x39a+0x2030+-0x3966),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x41f290=this['_children'];for(let _0x59506b=0x61*-0xa+-0x1c36+0x2000,_0x4000ee=_0x41f290['length'];_0x59506b<_0x4000ee;_0x59506b++)_0x41f290[_0x59506b]['syncHierar'+'chy']();}['lookAt'](_0x598db6,_0x34abfa,_0x3e484b,_0x18edb8=-0x1f3a+0x4b2+-0x1*-0x1a88,_0x3d16f0=-0x1fcd+0x851*-0x1+0x1*0x281f,_0x7ab39e=0x149a+-0x181d*0x1+-0x1d*-0x1f){if(_0x598db6 instanceof D)$d['copy'](_0x598db6),_0x34abfa instanceof D?tc['copy'](_0x34abfa):tc['copy'](D['UP']);else{if(_0x3e484b===void(0x14d*-0xb+-0x140a+0x3d1*0x9))return;$d['set'](_0x598db6,_0x34abfa,_0x3e484b),tc['set'](_0x18edb8,_0x3d16f0,_0x7ab39e);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x30c03c,_0x1837fb,_0x34cb32){_0x30c03c instanceof D?rs['copy'](_0x30c03c):rs['set'](_0x30c03c,_0x1837fb,_0x34cb32),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x8de5b,_0x19315c,_0x39c192){_0x8de5b instanceof D?rs['copy'](_0x8de5b):rs['set'](_0x8de5b,_0x19315c,_0x39c192),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x20158f,_0x59c230,_0x3c155c){if(as['setFromEul'+'erAngles'](_0x20158f,_0x59c230,_0x3c155c),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x49212b=this['getRotatio'+'n'](),_0x4a1afc=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x4a1afc)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x49212b);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x356800,_0x8c378b,_0x5e4d93){as['setFromEul'+'erAngles'](_0x356800,_0x8c378b,_0x5e4d93),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x507331){const _0x581221=yv['get'](_0x507331);return w['assert'](_0x581221),_0x581221;}function xE(_0x5a393a,_0x5f3126){w['assert'](_0x5f3126),yv['get'](_0x5a393a,()=>_0x5f3126);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x4b3293,_0x358d41)=>{_0x358d41['destroy']();}),this['cache']['clear']();}['incRef'](_0xa49b35){const _0x547f5c=(this['cache']['get'](_0xa49b35)||-0x14b0+0xc65*-0x3+-0xb93*-0x5)+(-0xd7*0xf+-0x556*-0x1+0x3*0x26c);this['cache']['set'](_0xa49b35,_0x547f5c);}['decRef'](_0x5cda0b){if(_0x5cda0b){let _0x5ebcf7=this['cache']['get'](_0x5cda0b);_0x5ebcf7&&(_0x5ebcf7--,_0x5ebcf7===-0x1708+0xce7+-0x1*-0xa21?(this['cache']['delete'](_0x5cda0b),_0x5cda0b['destroy']()):this['cache']['set'](_0x5cda0b,_0x5ebcf7));}}}class zi{static['incRef'](_0x2835f7){this['cache']['incRef'](_0x2835f7);}static['decRef'](_0x4a1f73){this['cache']['decRef'](_0x4a1f73);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0xa80+0x1*-0x8a7+0x1*-0x1d9;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x249b+0x13e1+-0x3878);class bE{constructor(_0x581bae){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x269c+-0x862+-0x1e39)),this['count']=_0x581bae;}['destroy'](){var _0x4eaa4d;this['_destroyVe'+'rtexBuffer']&&((_0x4eaa4d=this['vertexBuff'+'er'])==null||_0x4eaa4d['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x156f+-0x8a6+0x7*-0x1d3));}['get'](_0x4ddf9f){return this['map']['get'](_0x4ddf9f)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x5e4216){if(!this['bindGroup']){const _0x17cf8a=this['shader'];w['assert'](_0x17cf8a);const _0xb50adc=_0x17cf8a['meshBindGr'+'oupFormat'];w['assert'](_0xb50adc),this['bindGroup']=new Up(_0x5e4216,_0xb50adc),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x30fd37){if(!this['uniformBuf'+'fer']){const _0x4d12c7=this['shader'];w['assert'](_0x4d12c7);const _0x450c76=_0x4d12c7['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x450c76),this['uniformBuf'+'fer']=new zp(_0x30fd37,_0x450c76,!(0x21*-0x11f+-0x1fa5+-0x44a5*-0x1));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x1e5004,_0x5bfa75;(_0x1e5004=this['bindGroup'])==null||_0x1e5004['destroy'](),this['bindGroup']=null,(_0x5bfa75=this['uniformBuf'+'fer'])==null||_0x5bfa75['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x60751a,_0x41be29,_0x2fa444=null){h(this,'castShadow',!(0x2*-0x107e+-0x15fa*0x1+0x36f7*0x1)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x16dc*0x1+-0x1427+-0x1*-0x2b03)),h(this,'drawOrder',0xf7e+0xc*-0x2c8+0x11e2),h(this,'_drawBucke'+'t',-0x15*0xd1+-0xef8+-0x209c*-0x1),h(this,'node'),h(this,'visible',!(0x938+0x11e6+-0x2*0xd8f)),h(this,'visibleThi'+'sFrame',!(-0x1*0x1e57+0x802+-0x772*-0x3)),h(this,'flipFacesF'+'actor',0x3*0x560+0x5*-0xf+-0xfd4),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x23d7+0x3de*-0x9+0x35*-0x5)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x1f6d+0x3a1*0x3+0x148b)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0xbf*-0x1+-0x12b+-0x1eb*-0x1)),h(this,'_aabbMeshV'+'er',-(0x47f*-0x7+-0x1e6+-0x10b*-0x20)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0xb5d+-0x3*-0x421+0x83*-0x2)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x131b+0x1de*0xc+-0x1*0x2983),h(this,'_sortKeyFo'+'rward',-0x242d+-0x2*0x1e7+0x27fb),h(this,'_sortKeyDy'+'namic',-0x22e7+-0x8b1+-0x2b98*-0x1),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x1*0x173c+-0xe39+0x2575)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(-0xa*0x279+0xbc8+0xcf3)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0xc4f+0x1b8b+-0xf2c),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x60751a instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x2fa444,this['_mesh']=_0x60751a,_0x60751a['incRefCoun'+'t'](),this['material']=_0x41be29,_0x60751a['vertexBuff'+'er']){const _0x10beba=_0x60751a['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x10beba['hasUv0']?nm:0x21*0x107+0xb*-0x1f+-0x2092,this['_shaderDef'+'s']|=_0x10beba['hasUv1']?dv:-0x589+-0x2*0x3e5+0xd53,this['_shaderDef'+'s']|=_0x10beba['hasColor']?fv:-0x11e*-0x9+-0x13b9+0x9ab,this['_shaderDef'+'s']|=_0x10beba['hasTangent'+'s']?om:0xe3a+-0x219b+-0x79*-0x29;}this['updateKey']();}set['drawBucket'](_0x1d23b6){this['_drawBucke'+'t']=Math['floor'](_0x1d23b6)&-0x4*-0x14e+-0x3*0xac6+0x1c19,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x43a781){this['_renderSty'+'le']=_0x43a781,this['mesh']['prepareRen'+'derState'](_0x43a781);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x3848fd){_0x3848fd!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x3848fd,_0x3848fd&&_0x3848fd['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x39a5bb){this['_aabb']=_0x39a5bb;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x59ed59=this['_customAab'+'b'],_0xa25620=!!_0x59ed59;if(!_0x59ed59){if(_0x59ed59=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x4f3449=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x4f3449);}const _0x213c6b=this['mesh']['boneUsed'];let _0x41e27d=!(-0x17bf*-0x1+0xd5c+-0x251b);for(let _0x804cde=-0x23fb+0x1*0x820+0x1*0x1bdb;_0x804cde<this['mesh']['boneAabb']['length'];_0x804cde++)_0x213c6b[_0x804cde]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x804cde],this['skinInstan'+'ce']['matrices'][_0x804cde]),_0x41e27d?(_0x41e27d=!(-0x4*-0x1e7+-0xd6f+0x5d4),_0x59ed59['center']['copy'](sc['center']),_0x59ed59['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x59ed59['add'](sc));_0xa25620=!(0x16e3+0x1a22+-0x1*0x3105);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x59ed59['center']['copy'](this['mesh']['aabb']['center']),_0x59ed59['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x59ed59['center']['set'](-0x1759+0x1*-0x1439+0x2b92,-0x1ae9+-0x1*0x137a+0x5f*0x7d,-0x272*-0xb+-0x1*0x1c21+-0x15*-0xf),_0x59ed59['halfExtent'+'s']['set'](0x2*0x954+-0x1*-0x1bd3+-0x2e7b,0xc4e+0x260e+0x192e*-0x2,-0x891+0xd*0x186+-0xb3d)),this['mesh']&&this['mesh']['morph']){const _0x3e05f3=this['mesh']['morph']['aabb'];_0x59ed59['_expand'](_0x3e05f3['getMin'](),_0x3e05f3['getMax']());}_0xa25620=!(0x263d+0x1c9d+-0x42da),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0xa25620&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x59ed59,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x408511=>{_0x408511['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x286e22,_0x1fce17,_0x3d410c,_0x56f7e1,_0x55af4c,_0x18e20c,_0xd79362){var _0x29a260;const _0x4a1da1=this['_shaderDef'+'s'];Rr[0x49*0x5b+-0x2363+0x970]=_0x286e22,Rr[0xafe+-0x34b*-0x6+0x11*-0x1cf]=_0x1fce17,Rr[-0x631+0x1*0x217e+-0x1b4b]=_0x4a1da1,Rr[-0x19cd+-0x1352*-0x2+-0xcd4]=_0x56f7e1['hash'];const _0x2d1ca7=By(Rr);let _0x1fd611=this['_shaderCac'+'he']['get'](_0x2d1ca7);if(!_0x1fd611){const _0x189d20=this['_material'];if(_0x1fd611=new CE(),_0x1fd611['shader']=_0x189d20['variants']['get'](_0x2d1ca7),_0x1fd611['hashes']=new Uint32Array(Rr),!_0x1fd611['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x571c96=_0x189d20['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x3d410c,'objDefs':_0x4a1da1,'cameraShaderParams':_0x56f7e1,'pass':_0x286e22,'sortedLights':_0xd79362,'viewUniformFormat':_0x55af4c,'viewBindGroupFormat':_0x18e20c,'vertexFormat':(_0x29a260=this['mesh']['vertexBuff'+'er'])==null?void(-0x1d16+0x1*-0x2209+0x3f1f):_0x29a260['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x189d20['variants']['set'](_0x2d1ca7,_0x571c96),_0x1fd611['shader']=_0x571c96;}this['_shaderCac'+'he']['set'](_0x2d1ca7,_0x1fd611);}return w['call'](()=>{IT['equals'](_0x1fd611['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x1fd611;}set['material'](_0x12e202){this['clearShade'+'rs']();const _0x30887c=this['_material'];_0x30887c&&_0x30887c['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x12e202,_0x12e202&&(_0x12e202['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x12e202['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x1f13a6){_0x1f13a6!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x1f13a6,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x20d060){this['_calculate'+'SortDistan'+'ce']=_0x20d060;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x327939){this['_receiveSh'+'adow']!==_0x327939&&(this['_receiveSh'+'adow']=_0x327939,this['_updateSha'+'derDefs'](_0x327939?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x1238d1){this['_updateSha'+'derDefs'](_0x1238d1?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0x10*-0x25a+0x7e*0x23+0x1466;}set['skinInstan'+'ce'](_0x1d851e){this['_skinInsta'+'nce']=_0x1d851e,this['_updateSha'+'derDefs'](_0x1d851e?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x2d25b6){var _0x58a567;(_0x58a567=this['_morphInst'+'ance'])==null||_0x58a567['destroy'](),this['_morphInst'+'ance']=_0x2d25b6;let _0x4bed43=this['_shaderDef'+'s'];_0x4bed43=_0x2d25b6&&_0x2d25b6['morph']['morphPosit'+'ions']?_0x4bed43|ll:_0x4bed43&~ll,_0x4bed43=_0x2d25b6&&_0x2d25b6['morph']['morphNorma'+'ls']?_0x4bed43|cl:_0x4bed43&~cl,_0x4bed43=_0x2d25b6&&_0x2d25b6['morph']['intRenderF'+'ormat']?_0x4bed43|hl:_0x4bed43&~hl,this['_updateSha'+'derDefs'](_0x4bed43);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0xd687ed){this['_screenSpa'+'ce']!==_0xd687ed&&(this['_screenSpa'+'ce']=_0xd687ed,this['_updateSha'+'derDefs'](_0xd687ed?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x976de0){this['_sortKeyFo'+'rward']=_0x976de0;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x34371b){const _0x3acdba=this['_shaderDef'+'s']&0x10bc4+0x13cd7+-0x5227*0x4;this['_updateSha'+'derDefs'](_0x3acdba|_0x34371b<<0xa03+-0x2278+0x1*0x1885);}get['mask'](){return this['_shaderDef'+'s']>>0x18a9*0x1+-0x7*0x1b5+-0xca6;}set['instancing'+'Count'](_0x6854bb){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x6854bb);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x82c+0x4*-0x9a9+0x2ed0;}['destroy'](){var _0x75fb57,_0x2b43cb,_0x4205ac;const _0x3e1a0a=this['mesh'];_0x3e1a0a&&(this['mesh']=null,_0x3e1a0a['refCount']<-0x12*0xaa+0x449*-0x8+0x13*0x26f&&_0x3e1a0a['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x7c9+0x1f0b*0x1+-0x1a*0xe5],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1548+0xc*0xfb+-0xb*0x301],null),(_0x75fb57=this['_skinInsta'+'nce'])==null||_0x75fb57['destroy'](),this['_skinInsta'+'nce']=null,(_0x2b43cb=this['morphInsta'+'nce'])==null||_0x2b43cb['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x4205ac=this['instancing'+'Data'])==null||_0x4205ac['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x5ee816,_0x405e13){if(_0x5ee816){for(let _0x27538f=-0x63*-0x15+-0xc7*0x1d+-0x1*-0xe6c;_0x27538f<_0x5ee816['length'];_0x27538f++){_0x5ee816[_0x27538f]['_renderSty'+'le']=_0x405e13;const _0x52ac2c=_0x5ee816[_0x27538f]['mesh'];qd['has'](_0x52ac2c)||(qd['add'](_0x52ac2c),_0x52ac2c['prepareRen'+'derState'](_0x405e13));}qd['clear']();}}['_isVisible'](_0x5852f5){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x5852f5):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x5852f5['frustum']['containsSp'+'here'](Xd)>-0xc61*0x2+-0x1e8b+-0x27*-0x16b):!(-0xaeb+0x13d1+-0x63*0x17);}['updateKey'](){const {material:_0x5225be}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x2490+0xc5*-0x31+-0x4*-0x1297|(_0x5225be['alphaToCov'+'erage']||_0x5225be['alphaTest']?-0x3f9cf1+0x2a36f6+-0x5565fb*-0x1:0x1*-0x6b+-0x3b*0x47+-0x1*-0x10c8)|_0x5225be['id']&-0x246465+-0x17b021*0x4+0xc324e8;}['setInstanc'+'ing'](_0x312c3d,_0x2fdf15=!(-0x4*-0x158+0x15b*0x5+-0xc26)){_0x312c3d?(this['instancing'+'Data']=new bE(_0x312c3d['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x312c3d,_0x312c3d['format']['instancing']=!(-0x15*0x13c+-0x932+-0x91*-0x3e),this['cull']=_0x2fdf15):(this['instancing'+'Data']=null,this['cull']=!(0xbd7+0x5*0x166+-0x12d5*0x1)),this['_updateSha'+'derDefs'](_0x312c3d?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x4bfad0,_0x52693c){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x4bfad0==null?void(0x16d*0xd+-0x37a+0x3*-0x505):_0x4bfad0['camera'])??null,_0x52693c),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x58e646;this['_allocIndi'+'rectData']();const _0x23133d=(_0x58e646=this['mesh'])==null?void(-0x8d1+-0xbcc*0x2+-0x1*-0x2069):_0x58e646['primitive'][this['renderStyl'+'e']],_0x510fe8=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x510fe8[0x1*-0x152b+-0x1e45+0x3370]=_0x23133d['count'],_0x510fe8[-0x1699+-0x9c8+0x33d*0xa]=_0x23133d['base'],_0x510fe8[0x11d6+0x3f3*-0x5+0x1eb]=_0x23133d['baseVertex'],_0x510fe8;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x18ec49){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x18ec49));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x12bfac){return this['parameters'][_0x12bfac];}['setParamet'+'er'](_0x1c1920,_0x3125af,_0x27dda3=-0x1cf*0x6eeeb5+-0x13d277323+0x3de81*0xc7fd){const _0x32ba55=this['parameters'][_0x1c1920];_0x32ba55?(_0x32ba55['data']=_0x3125af,_0x32ba55['passFlags']=_0x27dda3):this['parameters'][_0x1c1920]={'scopeId':null,'data':_0x3125af,'passFlags':_0x27dda3};}['setRealtim'+'eLightmap'](_0x3f7cf8,_0x40db00){const _0x8f2569=this['getParamet'+'er'](_0x3f7cf8);_0x8f2569!==_0x40db00&&(_0x8f2569&&zi['decRef'](_0x8f2569['data']),_0x40db00?(zi['incRef'](_0x40db00),this['setParamet'+'er'](_0x3f7cf8,_0x40db00)):this['deletePara'+'meter'](_0x3f7cf8));}['deletePara'+'meter'](_0x6688dd){this['parameters'][_0x6688dd]&&delete this['parameters'][_0x6688dd];}['setParamet'+'ers'](_0x1d1ab5,_0x5a21bd){const _0x24cb10=this['parameters'];for(const _0x496bdc in _0x24cb10){const _0x5dcaae=_0x24cb10[_0x496bdc];_0x5dcaae['passFlags']&_0x5a21bd&&(_0x5dcaae['scopeId']||(_0x5dcaae['scopeId']=_0x1d1ab5['scope']['resolve'](_0x496bdc)),_0x5dcaae['scopeId']['setValue'](_0x5dcaae['data']));}}['setLightma'+'pped'](_0x5f2eb7){_0x5f2eb7?this['mask']=(this['mask']|di)&-(-0x1*0x8a5+0x4*0x2b8+-0x235):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x21d*0x2+0x583*0x1+-0x149*0x1],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0xd87*0x1+0x57*0x3b+-0x2193],null),this['_shaderDef'+'s']&=-(-0xbb+-0xb22+0xb*0x29a),this['mask']=(this['mask']|Ss)&-(-0x2465+-0x61*-0x14+-0x1cd8*-0x1));}['setCustomA'+'abb'](_0xa937d1){_0xa937d1?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0xa937d1):this['_customAab'+'b']=_0xa937d1['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x22bb*-0x1+-0x436+0x2a*-0xba)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0xc89*-0x1+-0x2*0xfec+0x134f,-0x3*-0x925+-0x12bf*-0x2+-0x1*0x40ec,0x20a*0x11+0x1587+0x11a*-0x33,0x1ed7+-0x10*-0xe3+-0x2d05,-0x1c0d+0x26cb+0x1*-0xabb,0x1*0x25ee+0x17f*-0x15+-0x682],ME=[0x1c57+-0x1933+0x10c*-0x3,0x1*0xd0a+-0x1a60+0x2ab*0x5,-0x15e*0x1+-0x1*0x1d71+-0x20e*-0xf,-0x1737*-0x1+0x11*-0xf7+-0x6d*0x10,-0xb11*-0x1+0x2*-0x147+-0x880,-0x1946+0x7f5+-0x1153*-0x1],A_=new _i();function C_(_0x42765f,_0x2e132c){if(_0x42765f&&!_0x2e132c||!_0x42765f&&_0x2e132c)return!(0x1*0x3e6+-0x95*-0x14+-0xf89);if(_0x42765f=_0x42765f['data'],_0x2e132c=_0x2e132c['data'],_0x42765f===_0x2e132c)return!(0x23cc+-0x2367+-0x65);if(_0x42765f instanceof Float32Array&&_0x2e132c instanceof Float32Array){if(_0x42765f['length']!==_0x2e132c['length'])return!(-0x1326+0x1ac5+-0x5*0x186);for(let _0x8fb33f=-0x1*-0xce6+-0x53b*0x5+0x57*0x27;_0x8fb33f<_0x42765f['length'];_0x8fb33f++)if(_0x42765f[_0x8fb33f]!==_0x2e132c[_0x8fb33f])return!(0x1a6*0x11+-0x2054*-0x1+-0x3c59);return!(0x88c*0x1+-0xd11+-0x1*-0x485);}return!(-0x2358+0xb41+0x101*0x18);}function DE(_0xbf915d,_0x37928a){for(const _0xd821fb in _0xbf915d)if(_0xbf915d['hasOwnProp'+'erty'](_0xd821fb)&&!C_(_0xbf915d[_0xd821fb],_0x37928a[_0xd821fb]))return!(-0x3*-0xb08+0x49*-0x49+0x623*-0x2);for(const _0x50d964 in _0x37928a)if(_0x37928a['hasOwnProp'+'erty'](_0x50d964)&&!C_(_0x37928a[_0x50d964],_0xbf915d[_0x50d964]))return!(-0x1e36+0x1f*-0x106+0x65*0x9d);return!(-0x2573*-0x1+0xd83+-0xb*0x4a2);}function jd(_0x518908){return _0x518908['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x2967d2,_0xfb4cbf,_0x52917a){this['device']=_0x2967d2,this['rootNode']=_0xfb4cbf,this['scene']=_0x52917a,this['_init']=!(-0x4*-0x37f+-0x18da+0xadf),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x39*0x1f+-0x910+0x3d*0x43,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x1b1635,_0xf1a9de,_0x13c791,_0xe0ded2,_0x575f8a){if(_0xe0ded2===void(0x1*-0x1da2+-0x1579*0x1+0x1109*0x3)&&(_0xe0ded2=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xe0ded2]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xe0ded2+('\x20already\x20e'+'xists.'));return;}const _0x4358ac=new St(_0xe0ded2,_0x1b1635,_0xf1a9de,_0x13c791,_0x575f8a);return this['_batchGrou'+'ps'][_0xe0ded2]=_0x4358ac,_0x4358ac;}['removeGrou'+'p'](_0x24a4d4){if(!this['_batchGrou'+'ps'][_0x24a4d4]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x24a4d4+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x4da15c=[];for(let _0xb7b82f=-0x1741+0x9b+0xd*0x1be;_0xb7b82f<this['_batchList']['length'];_0xb7b82f++)this['_batchList'][_0xb7b82f]['batchGroup'+'Id']===_0x24a4d4?this['destroyBat'+'ch'](this['_batchList'][_0xb7b82f]):_0x4da15c['push'](this['_batchList'][_0xb7b82f]);this['_batchList']=_0x4da15c,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x24a4d4),delete this['_batchGrou'+'ps'][_0x24a4d4];}['markGroupD'+'irty'](_0x4592f7){this['_dirtyGrou'+'ps']['indexOf'](_0x4592f7)<-0x2f*-0x9b+0x14a+0x1*-0x1dbf&&this['_dirtyGrou'+'ps']['push'](_0x4592f7);}['getGroupBy'+'Name'](_0x36ba4f){const _0x32afed=this['_batchGrou'+'ps'];for(const _0x414533 in _0x32afed)if(_0x32afed['hasOwnProp'+'erty'](_0x414533)&&_0x32afed[_0x414533]['name']===_0x36ba4f)return _0x32afed[_0x414533];return null;}['getBatches'](_0x4e9644){const _0x5f3156=[],_0x16ea13=this['_batchList']['length'];for(let _0x2dc5c3=0x1b39+-0x111*0x1a+0x81;_0x2dc5c3<_0x16ea13;_0x2dc5c3++){const _0x15933a=this['_batchList'][_0x2dc5c3];_0x15933a['batchGroup'+'Id']===_0x4e9644&&_0x5f3156['push'](_0x15933a);}return _0x5f3156;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3d96e7,_0x181900){if(_0x3d96e7['enabled']){_0x3d96e7['model']&&_0x3d96e7['model']['batchGroup'+'Id']===_0x181900&&(_0x3d96e7['model']['batchGroup'+'Id']=-(-0x1*-0x8d4+-0x1*-0x238f+0x1*-0x2c62)),_0x3d96e7['render']&&_0x3d96e7['render']['batchGroup'+'Id']===_0x181900&&(_0x3d96e7['render']['batchGroup'+'Id']=-(0x22b7+-0x73*0x14+-0x59*0x4a)),_0x3d96e7['element']&&_0x3d96e7['element']['batchGroup'+'Id']===_0x181900&&(_0x3d96e7['element']['batchGroup'+'Id']=-(-0x1299+-0xcd4+0x1f6e)),_0x3d96e7['sprite']&&_0x3d96e7['sprite']['batchGroup'+'Id']===_0x181900&&(_0x3d96e7['sprite']['batchGroup'+'Id']=-(-0x11d1+0x17d0+0x1*-0x5fe));for(let _0x4c937a=-0x7f6*-0x1+0x1922+-0x2118;_0x4c937a<_0x3d96e7['_children']['length'];_0x4c937a++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3d96e7['_children'][_0x4c937a],_0x181900);}}['insert'](_0x20700b,_0x3b1e5f,_0x253540){const _0x259e2e=this['_batchGrou'+'ps'][_0x3b1e5f];w['assert'](_0x259e2e,'Invalid\x20ba'+'tch\x20'+_0x3b1e5f+'\x20insertion'),_0x259e2e&&_0x259e2e['_obj'][_0x20700b]['indexOf'](_0x253540)<0x20*-0xfd+-0x7*0x18c+0x2a74&&(_0x259e2e['_obj'][_0x20700b]['push'](_0x253540),this['markGroupD'+'irty'](_0x3b1e5f));}['remove'](_0x205385,_0x5c8be4,_0x42b3c3){const _0x5e617a=this['_batchGrou'+'ps'][_0x5c8be4];if(w['assert'](_0x5e617a,'Invalid\x20ba'+'tch\x20'+_0x5c8be4+'\x20insertion'),_0x5e617a){const _0x173065=_0x5e617a['_obj'][_0x205385]['indexOf'](_0x42b3c3);_0x173065>=-0x1*0x1b5e+0x1f1b+-0x3bd&&(_0x5e617a['_obj'][_0x205385]['splice'](_0x173065,-0x3e5*-0x7+0xd01*0x2+0x4*-0xd51),this['markGroupD'+'irty'](_0x5c8be4));}}['_extractRe'+'nder'](_0x443943,_0x134fe0,_0x1a0417,_0x2f3e2f){return _0x443943['render']&&(_0x134fe0=_0x2f3e2f[_0x443943['render']['batchGroup'+'Id']]=_0x134fe0['concat'](_0x443943['render']['meshInstan'+'ces']),_0x443943['render']['removeFrom'+'Layers']()),_0x134fe0;}['_extractMo'+'del'](_0x25fee2,_0x30f5d7,_0x381be6,_0x3d5924){return _0x25fee2['model']&&_0x25fee2['model']['model']&&(_0x30f5d7=_0x3d5924[_0x25fee2['model']['batchGroup'+'Id']]=_0x30f5d7['concat'](_0x25fee2['model']['meshInstan'+'ces']),_0x25fee2['model']['removeMode'+'lFromLayer'+'s'](),_0x25fee2['model']['_batchGrou'+'p']=_0x381be6),_0x30f5d7;}['_extractEl'+'ement'](_0x25de04,_0x4fd791,_0x2da36e){if(!_0x25de04['element'])return;let _0x2236e7=!(-0x20b1*-0x1+0x23e0+-0x1124*0x4);_0x25de04['element']['_text']&&_0x25de04['element']['_text']['_model']['meshInstan'+'ces']['length']>0x11b9+0x3*-0x11e+0xd*-0x11b?(_0x4fd791['push'](_0x25de04['element']['_text']['_model']['meshInstan'+'ces'][-0x2*-0x734+0x1d6b*0x1+-0x2bd3]),_0x25de04['element']['removeMode'+'lFromLayer'+'s'](_0x25de04['element']['_text']['_model']),_0x2236e7=!(-0x1*0x12c1+-0x1*0x1567+0x2828)):_0x25de04['element']['_image']&&(_0x4fd791['push'](_0x25de04['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x25de04['element']['removeMode'+'lFromLayer'+'s'](_0x25de04['element']['_image']['_renderabl'+'e']['model']),_0x25de04['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x4fd791['push'](_0x25de04['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x25de04['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x25de04['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x25de04['element']['_dirtifyMa'+'sk'](),_0x25de04['element']['_onPrerend'+'er']())),_0x2236e7=!(0x24c2*0x1+-0x1ffb*-0x1+-0x44bd)),_0x2236e7&&(_0x2da36e['_ui']=!(-0xffb+-0x7*0x471+0x2*0x1789),_0x25de04['element']['_batchGrou'+'p']=_0x2da36e);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x4f4c4b,_0x56c991){for(let _0x46e853=-0xd32+-0x1*-0x2016+-0x4*0x4b9;_0x46e853<_0x56c991['length'];_0x46e853++){const _0x122df3=_0x56c991[_0x46e853],_0x4d3b8d=this['_batchGrou'+'ps'][_0x122df3];if(!_0x4d3b8d)continue;let _0x3a9ecd=_0x4f4c4b[_0x122df3];_0x3a9ecd||(_0x3a9ecd=_0x4f4c4b[_0x122df3]=[]);for(let _0x1932b9=0x1*-0xaf5+0x21be+-0x16c9;_0x1932b9<_0x4d3b8d['_obj']['model']['length'];_0x1932b9++)_0x3a9ecd=this['_extractMo'+'del'](_0x4d3b8d['_obj']['model'][_0x1932b9],_0x3a9ecd,_0x4d3b8d,_0x4f4c4b);for(let _0x4d79e3=0x18d1+0x1*-0xe9d+-0x51a*0x2;_0x4d79e3<_0x4d3b8d['_obj']['render']['length'];_0x4d79e3++)_0x3a9ecd=this['_extractRe'+'nder'](_0x4d3b8d['_obj']['render'][_0x4d79e3],_0x3a9ecd,_0x4d3b8d,_0x4f4c4b);for(let _0x3ce898=-0x12d0+-0x9eb*0x1+0x1cbb;_0x3ce898<_0x4d3b8d['_obj']['element']['length'];_0x3ce898++)this['_extractEl'+'ement'](_0x4d3b8d['_obj']['element'][_0x3ce898],_0x3a9ecd,_0x4d3b8d);for(let _0x4e416b=-0x148a+0x4e5+0xfa5;_0x4e416b<_0x4d3b8d['_obj']['sprite']['length'];_0x4e416b++){const _0x4ff5e9=_0x4d3b8d['_obj']['sprite'][_0x4e416b];_0x4ff5e9['sprite']&&_0x4ff5e9['sprite']['_meshInsta'+'nce']&&(_0x4d3b8d['dynamic']||_0x4ff5e9['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x3a9ecd['push'](_0x4ff5e9['sprite']['_meshInsta'+'nce']),_0x4ff5e9['sprite']['removeMode'+'lFromLayer'+'s'](),_0x4d3b8d['_sprite']=!(-0x2598+0x1*0x24e6+0xb2),_0x4ff5e9['sprite']['_batchGrou'+'p']=_0x4d3b8d);}}}['generate'](_0x515356){const _0x81f731={};_0x515356||(_0x515356=Object['keys'](this['_batchGrou'+'ps']));const _0x2d9f25=[];for(let _0x21a6fb=0x2*-0x1124+-0x1*-0x23ab+0x47*-0x5;_0x21a6fb<this['_batchList']['length'];_0x21a6fb++){if(_0x515356['indexOf'](this['_batchList'][_0x21a6fb]['batchGroup'+'Id'])<-0x362+0x1*-0x250+0x5b2){_0x2d9f25['push'](this['_batchList'][_0x21a6fb]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x21a6fb]);}if(this['_batchList']=_0x2d9f25,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x81f731,_0x515356),_0x515356===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1bf9+-0x152d+-0x6cc;else{const _0x265e0c=[];for(let _0x41190=0xf12+-0x3*-0x555+-0x1f11;_0x41190<this['_dirtyGrou'+'ps']['length'];_0x41190++)_0x515356['indexOf'](this['_dirtyGrou'+'ps'][_0x41190])<0x2654+-0xf*-0x1fb+-0x1*0x4409&&_0x265e0c['push'](this['_dirtyGrou'+'ps'][_0x41190]);this['_dirtyGrou'+'ps']=_0x265e0c;}let _0x4eecec,_0x16b104,_0x3a4509,_0x4a994a;for(const _0x535de9 in _0x81f731)if(_0x81f731['hasOwnProp'+'erty'](_0x535de9)){if(_0x4eecec=_0x81f731[_0x535de9],_0x3a4509=this['_batchGrou'+'ps'][_0x535de9],!_0x3a4509){w['error']('batch\x20grou'+'p\x20'+_0x535de9+'\x20not\x20found');continue;}_0x16b104=this['prepare'](_0x4eecec,_0x3a4509['dynamic'],_0x3a4509['maxAabbSiz'+'e'],_0x3a4509['_ui']||_0x3a4509['_sprite']);for(let _0x1bd95b=0x1*-0x327+0x1916+-0x463*0x5;_0x1bd95b<_0x16b104['length'];_0x1bd95b++)_0x4a994a=this['create'](_0x16b104[_0x1bd95b],_0x3a4509['dynamic'],parseInt(_0x535de9,-0x4d*0x3f+-0x163e+-0x5*-0x83f)),_0x4a994a&&_0x4a994a['addToLayer'+'s'](this['scene'],_0x3a4509['layers']);}}['prepare'](_0xe513d8,_0x2073ec,_0x5c41e5=Number['POSITIVE_I'+'NFINITY'],_0x5a29a1){if(_0xe513d8['length']===-0x795+-0x106e+0x1803)return[];const _0x2fb41b=_0x5c41e5*(0x1da7+-0x4f*0x5a+-0x1e1*0x1+0.5),_0x47e22f=-0x1fc1+-0x1d3e+0x7*0x949,_0x1f218e=-0x67c663b8+-0x33c11786*0x2+0x1cf4892c3,_0x4dc67c=new De(),_0x21c03f=new De();let _0x462ca8=null,_0xee06d7;const _0x17f873=[];let _0x44ee95=0xe45*0x2+0x3*-0x345+0x23*-0x89;_0x5a29a1&&_0xe513d8['sort']((_0x52e23a,_0xfd1186)=>_0x52e23a['drawOrder']-_0xfd1186['drawOrder']);let _0x445688=_0xe513d8,_0x129a7c;const _0x187184=_0x5a29a1?function(_0x430df3){_0x462ca8?_0x462ca8['add'](_0x430df3['aabb']):_0x462ca8=_0x430df3['aabb']['clone'](),_0x129a7c['push'](_0x430df3);}:function(_0x336878){_0x129a7c['push'](_0x336878);};for(;_0x445688['length']>0x1a*0x76+-0x2ed*0x2+0x622*-0x1;){_0x17f873[_0x44ee95]=[_0x445688[0x124b+0x15f5*-0x1+-0x2*-0x1d5]],_0x129a7c=[];const _0x42758a=_0x445688[-0x11a3+-0x9db*0x1+0x6*0x495]['material'],_0x1d23a2=_0x445688[0x1774+0x2bb*-0x6+-0x16a*0x5]['layer'],_0x3902a9=_0x445688[0x13bb+0x126d+-0xcb8*0x3]['_shaderDef'+'s'],_0x2c408a=_0x445688[-0x1*-0xfcd+-0x625+-0x9a8]['parameters'],_0x7a303b=_0x445688[0x18d*-0x2+-0x8*0x2c4+0x193a]['stencilFro'+'nt'];let _0x2e0072=_0x445688[-0x2e3*-0x1+-0x973*0x1+0x690]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x138320=_0x445688[0x1889+0x26c0+-0x3f49]['drawOrder'];_0x4dc67c['copy'](_0x445688[0xc24+0xa*0x1f+-0xd5a]['aabb']);const _0x428bb2=jd(_0x445688[0x793+0x3*0x4b3+-0x1*0x15ac]),_0x25bb6d=_0x445688[0x492+-0x16*-0x17e+0x1*-0x2566]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x368f9b=_0x445688[-0x2*0xdbd+-0x145b+-0x1f*-0x18b]['mesh']['primitive'][0x2252+-0x15*-0x9d+-0x119*0x2b]['indexed'];_0x462ca8=null;for(let _0x15ff08=0x1b1d+0x22ac+-0x3dc8;_0x15ff08<_0x445688['length'];_0x15ff08++){const _0x341e3a=_0x445688[_0x15ff08];if(_0x2073ec&&_0x17f873[_0x44ee95]['length']>=_0x47e22f){_0x129a7c=_0x129a7c['concat'](_0x445688['slice'](_0x15ff08));break;}if(_0x42758a!==_0x341e3a['material']||_0x1d23a2!==_0x341e3a['layer']||_0x25bb6d!==_0x341e3a['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x368f9b!==_0x341e3a['mesh']['primitive'][-0x3d*0x1+-0x1855+0x1892]['indexed']||_0x3902a9!==_0x341e3a['_shaderDef'+'s']||_0x2e0072+_0x341e3a['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x1f218e){_0x187184(_0x341e3a);continue;}if(_0x21c03f['copy'](_0x4dc67c),_0x21c03f['add'](_0x341e3a['aabb']),_0x21c03f['halfExtent'+'s']['x']>_0x2fb41b||_0x21c03f['halfExtent'+'s']['y']>_0x2fb41b||_0x21c03f['halfExtent'+'s']['z']>_0x2fb41b){_0x187184(_0x341e3a);continue;}if(_0x7a303b&&(!(_0xee06d7=_0x341e3a['stencilFro'+'nt'])||_0x7a303b['func']!==_0xee06d7['func']||_0x7a303b['zpass']!==_0xee06d7['zpass'])){_0x187184(_0x341e3a);continue;}if(_0x428bb2!==jd(_0x341e3a)){_0x187184(_0x341e3a);continue;}if(!DE(_0x2c408a,_0x341e3a['parameters'])){_0x187184(_0x341e3a);continue;}if(_0x5a29a1&&_0x462ca8&&_0x462ca8['intersects'](_0x341e3a['aabb'])&&_0x341e3a['drawOrder']!==_0x138320){_0x187184(_0x341e3a);continue;}_0x4dc67c['add'](_0x341e3a['aabb']),_0x2e0072+=_0x341e3a['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x17f873[_0x44ee95]['push'](_0x341e3a);}_0x44ee95++,_0x445688=_0x129a7c;}return _0x17f873;}['collectBat'+'chedMeshDa'+'ta'](_0xa9461f,_0x401ac4){let _0x92ab27=null,_0x1a5ec0=0x685+0x14c5+0x1*-0x1b4a,_0x298ee7=0x5a0+-0x23ee+0x1e4e,_0x4ebf18=null;for(let _0x22d616=0x2*0xb61+0x3*0x655+0x5f7*-0x7;_0x22d616<_0xa9461f['length'];_0x22d616++)if(_0xa9461f[_0x22d616]['visible']){const _0x172015=_0xa9461f[_0x22d616]['mesh'],_0x3f4af2=_0x172015['vertexBuff'+'er']['numVertice'+'s'];if(_0x1a5ec0+=_0x3f4af2,_0x172015['primitive'][-0x27*0x9+0x1*0x473+-0x1*0x314]['indexed'])_0x298ee7+=_0x172015['primitive'][-0x930+0x2135+-0x1805]['count'];else{const _0x5f90=_0x172015['primitive'][-0x180d+0x13a8+0x9*0x7d]['type'];(_0x5f90===oa||_0x5f90===Er)&&_0x172015['primitive'][0x2084*0x1+0x8aa+-0x292e]['count']===0x4*0x2f9+-0x1b27+0x1*0xf47&&(_0x298ee7+=0x1761+0x1c47+0x89b*-0x6);}if(!_0x92ab27){_0x4ebf18=_0xa9461f[_0x22d616]['material'],_0x92ab27={};const _0x1a3712=_0x172015['vertexBuff'+'er']['format']['elements'];for(let _0x585d06=0xa4*0x37+-0x1e+-0x231e;_0x585d06<_0x1a3712['length'];_0x585d06++){const _0x476607=_0x1a3712[_0x585d06]['name'];_0x92ab27[_0x476607]={'numComponents':_0x1a3712[_0x585d06]['numCompone'+'nts'],'dataType':_0x1a3712[_0x585d06]['dataType'],'normalize':_0x1a3712[_0x585d06]['normalize'],'count':0x0};}_0x401ac4&&(_0x92ab27[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x12c9+0x2a7+0x1023),'count':0x0});}}return{'streams':_0x92ab27,'batchNumVerts':_0x1a5ec0,'batchNumIndices':_0x298ee7,'material':_0x4ebf18};}['create'](_0x4dd3f0,_0xea1ec5,_0x9d38f5){const _0x159196=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x18b8+-0x1*0x379+0x1c31));let _0x50635b=null,_0x3d3203,_0xbde18f,_0x50386b,_0x5da56f=null;const _0x5f252d=this['collectBat'+'chedMeshDa'+'ta'](_0x4dd3f0,_0xea1ec5);if(_0x5f252d['streams']){const _0xe10f06=_0x5f252d['streams'];let _0x3a5b42=_0x5f252d['material'];const _0x5ed2f0=_0x5f252d['batchNumVe'+'rts'],_0x1bef44=_0x5f252d['batchNumIn'+'dices'];_0x5da56f=new g_(_0x4dd3f0,_0xea1ec5,_0x9d38f5),this['_batchList']['push'](_0x5da56f);let _0x4abca8,_0xbc421d,_0x107d62,_0x59aa2b,_0x493ec9=0x3*0x9d+-0x1*-0x15c1+-0x1798,_0x4e4bf0=0x9b7+-0xd70+0x3b9,_0x362adc;const _0x394032=_0x5ed2f0<=-0x84*0x362+-0x144e7+0x116a*0x3b?Uint16Array:Uint32Array,_0x4aaee4=new _0x394032(_0x1bef44);for(_0x3d3203 in _0xe10f06)_0x50635b=_0xe10f06[_0x3d3203],_0x50635b['typeArrayT'+'ype']=wn[_0x50635b['dataType']],_0x50635b['elementByt'+'eSize']=No[_0x50635b['dataType']],_0x50635b['buffer']=new _0x50635b['typeArrayT'+'ype'](_0x5ed2f0*_0x50635b['numCompone'+'nts']);for(let _0x3e96ca=0x2f*-0x9+-0x73a+0x8e1;_0x3e96ca<_0x4dd3f0['length'];_0x3e96ca++)if(_0x4dd3f0[_0x3e96ca]['visible']){_0xbde18f=_0x4dd3f0[_0x3e96ca]['mesh'],_0x50386b=_0xbde18f['vertexBuff'+'er']['numVertice'+'s'],_0xea1ec5||(_0x362adc=_0x4dd3f0[_0x3e96ca]['node']['getWorldTr'+'ansform']());for(_0x3d3203 in _0xe10f06)if(_0x3d3203!==us){_0x50635b=_0xe10f06[_0x3d3203];const _0x1894bc=new _0x50635b['typeArrayT'+'ype'](_0x50635b['buffer']['buffer'],_0x50635b['elementByt'+'eSize']*_0x50635b['count']),_0x4d3bc1=_0xbde18f['getVertexS'+'tream'](_0x3d3203,_0x1894bc)*_0x50635b['numCompone'+'nts'];if(_0x50635b['count']+=_0x4d3bc1,!_0xea1ec5&&_0x50635b['numCompone'+'nts']>=0x19dc+-0xcdd+-0x115*0xc){if(_0x3d3203===Me){const _0x28b7c7=_0x362adc['data'],_0x4f06f8=_0x28b7c7[-0x18*-0x2d+0x22a*-0xc+-0x6*-0x3a0],_0x29a6c5=_0x28b7c7[0xa39+-0x12e9+0x19*0x59],_0x354d1a=_0x28b7c7[0x21bc+0x1*-0x5e3+-0x1bd7],_0x464c19=_0x28b7c7[-0x2d7+0xf9b+-0xcc0],_0x3ab08f=_0x28b7c7[-0xd*-0x2f+0x11*-0xf9+0xe2b],_0xd41384=_0x28b7c7[-0x2465+-0x1a7a+-0x1*-0x3ee5],_0x4edb4d=_0x28b7c7[0xc99+-0x25*-0x96+-0xb*0x31d],_0x2f6819=_0x28b7c7[0x3c5*-0x1+0x1*0x161f+-0x1251],_0x2d13f2=_0x28b7c7[0x42a+0x2*0x69b+-0x8ab*0x2],_0x207505=_0x28b7c7[0xbe2+-0x1b65*-0x1+-0x273b],_0x3769a8=_0x28b7c7[-0x17*0x52+-0x10b1+-0x1*-0x181c],_0x3f38e3=_0x28b7c7[0x244e+-0x152+-0x22ee];let _0x4a2080,_0x590f73,_0x825910;for(let _0x203291=0x1307*0x1+0x19b5*0x1+-0x2cbc;_0x203291<_0x4d3bc1;_0x203291+=_0x50635b['numCompone'+'nts'])_0x4a2080=_0x1894bc[_0x203291],_0x590f73=_0x1894bc[_0x203291+(0x27f*0x1+0x1*-0x1bf7+-0x1*-0x1979)],_0x825910=_0x1894bc[_0x203291+(0xea4+-0x1267+0x3c5)],_0x1894bc[_0x203291]=_0x4a2080*_0x4f06f8+_0x590f73*_0x464c19+_0x825910*_0x4edb4d+_0x207505,_0x1894bc[_0x203291+(-0x1b7*-0x8+0x25b+-0x1012)]=_0x4a2080*_0x29a6c5+_0x590f73*_0x3ab08f+_0x825910*_0x2f6819+_0x3769a8,_0x1894bc[_0x203291+(0x43*-0x1e+-0x12d6+0x11*0x192)]=_0x4a2080*_0x354d1a+_0x590f73*_0xd41384+_0x825910*_0x2d13f2+_0x3f38e3;}else{if(_0x3d3203===gs||_0x3d3203===yi){A_['invertMat4'](_0x362adc)['transpose']();const [_0x458458,_0x43aac3,_0x114127,_0x189a2c,_0x5731f7,_0x1db144,_0x534284,_0x5dc152,_0x11b4be]=A_['data'];let _0x422956,_0x5c7734,_0x4350c1;for(let _0x51a9d8=0x4*-0x3d5+0x1687*-0x1+0x25db;_0x51a9d8<_0x4d3bc1;_0x51a9d8+=_0x50635b['numCompone'+'nts'])_0x422956=_0x1894bc[_0x51a9d8],_0x5c7734=_0x1894bc[_0x51a9d8+(-0x1f83+0x1*-0x220c+0x4190)],_0x4350c1=_0x1894bc[_0x51a9d8+(-0x1057+0x39a*-0x6+-0xed*-0x29)],_0x1894bc[_0x51a9d8]=_0x422956*_0x458458+_0x5c7734*_0x189a2c+_0x4350c1*_0x534284,_0x1894bc[_0x51a9d8+(-0xe65+0x5*0xdf+-0xa0b*-0x1)]=_0x422956*_0x43aac3+_0x5c7734*_0x5731f7+_0x4350c1*_0x5dc152,_0x1894bc[_0x51a9d8+(0x1d*0x9d+0xad9+0x20*-0xe5)]=_0x422956*_0x114127+_0x5c7734*_0x1db144+_0x4350c1*_0x11b4be;}}}}if(_0xea1ec5){_0x50635b=_0xe10f06[us];for(let _0x114895=-0xd6*0xd+-0x2143+0x2c21;_0x114895<_0x50386b;_0x114895++)_0x50635b['buffer'][_0x50635b['count']++]=_0x3e96ca;}if(_0xbde18f['primitive'][0x1b9a+0x6*-0x62+-0x194e]['indexed']){_0x4abca8=_0xbde18f['primitive'][0x2497+-0x13*-0x209+-0x4b42]['base'],_0xbc421d=_0xbde18f['primitive'][-0x1bdf+-0x522*0x3+0x2b45]['baseVertex']||-0x1c14+-0x12c3+0x2ed7,_0x107d62=_0xbde18f['primitive'][-0x26fd+0x47f*0x1+0xa*0x373]['count'];const _0x3b2ac6=_0xbde18f['indexBuffe'+'r'][0x2396*0x1+-0x56*-0xd+-0x27f4]['getFormat']();_0x59aa2b=new Sh[_0x3b2ac6](_0xbde18f['indexBuffe'+'r'][-0x1094*-0x2+0xc90+-0x58*0x85]['storage']);}else{_0xbc421d=0x23e7+0x1416+0x517*-0xb;const _0x24f1d5=_0xbde18f['primitive'][0x1c6*-0xb+-0x2f*0xcd+-0x3925*-0x1]['type'];if(_0x24f1d5===oa||_0x24f1d5===Er){if(_0xbde18f['primitive'][-0x1733+0x7f*0x9+0x12bc]['count']===-0x2241+0x2185+0xc0)_0x4abca8=0x1d2+-0x310*-0x3+-0xb02,_0x107d62=0x219*-0x9+0x21*-0x122+-0x1*-0x3849,_0x59aa2b=_0x24f1d5===oa?PE:ME;else{_0x107d62=-0x1*-0x171d+-0x1e76*-0x1+-0x3593*0x1;continue;}}}for(let _0x1b3fab=0x2a1+-0x8*-0x16+-0x351;_0x1b3fab<_0x107d62;_0x1b3fab++)_0x4aaee4[_0x1b3fab+_0x4e4bf0]=_0x59aa2b[_0x4abca8+_0x1b3fab]+_0xbc421d+_0x493ec9;_0x4e4bf0+=_0x107d62,_0x493ec9+=_0x50386b;}_0xbde18f=new Ge(this['device']);for(_0x3d3203 in _0xe10f06)_0x50635b=_0xe10f06[_0x3d3203],_0xbde18f['setVertexS'+'tream'](_0x3d3203,_0x50635b['buffer'],_0x50635b['numCompone'+'nts'],void(0xde4*-0x2+0x1530+-0x8*-0xd3),_0x50635b['dataType'],_0x50635b['normalize']);_0x4aaee4['length']>0x5f4+-0x473+-0xb*0x23&&_0xbde18f['setIndices'](_0x4aaee4),_0xbde18f['update'](js,!(0xff3+0x12*-0xc+-0x2*0x78d)),_0xea1ec5&&(_0x3a5b42=_0x3a5b42['clone'](),_0x3a5b42['update']());const _0x542360=new He(_0xbde18f,_0x3a5b42,this['rootNode']);_0x542360['castShadow']=_0x5da56f['origMeshIn'+'stances'][-0x33*0xa0+-0x222+0x1*0x2202]['castShadow'],_0x542360['parameters']=_0x5da56f['origMeshIn'+'stances'][0xc*-0x277+0x25*0x1+0x89*0x37]['parameters'],_0x542360['layer']=_0x5da56f['origMeshIn'+'stances'][0x1b2a+0x1*0x71b+-0x2245]['layer'],_0x542360['_shaderDef'+'s']=_0x5da56f['origMeshIn'+'stances'][0x1eed+0x1a19+0x1c83*-0x2]['_shaderDef'+'s'],_0x542360['batching']=!(-0x1924*0x1+0xa76+-0x1*-0xeae),_0x542360['cull']=_0x5da56f['origMeshIn'+'stances'][-0x26b*0xe+0xc*-0x272+0x3f32]['cull'];const _0x5447ac=this['_batchGrou'+'ps'][_0x9d38f5];if(_0x5447ac&&_0x5447ac['_ui']&&(_0x542360['cull']=!(0x1350+0x2577+-0x38c6)),_0xea1ec5){const _0x22f071=[];for(let _0x5932ca=-0x34*0x3d+-0xc04+0x1868;_0x5932ca<_0x5da56f['origMeshIn'+'stances']['length'];_0x5932ca++)_0x22f071['push'](_0x5da56f['origMeshIn'+'stances'][_0x5932ca]['node']);_0x542360['skinInstan'+'ce']=new y_(this['device'],_0x22f071,this['rootNode']);}_0x542360['_updateAab'+'b']=!(-0x1*0xa0d+-0x25f3+0x3001),_0x542360['drawOrder']=_0x5da56f['origMeshIn'+'stances'][-0x1d*0x8d+0x31*-0x64+0x231d]['drawOrder'],_0x542360['stencilFro'+'nt']=_0x5da56f['origMeshIn'+'stances'][0x1e*0x39+0x502*-0x4+0xd5a*0x1]['stencilFro'+'nt'],_0x542360['stencilBac'+'k']=_0x5da56f['origMeshIn'+'stances'][-0xd3e+0x1f88+-0x124a]['stencilBac'+'k'],_0x542360['flipFacesF'+'actor']=jd(_0x5da56f['origMeshIn'+'stances'][-0x270c+0x194c+0xdc0]),_0x542360['castShadow']=_0x5da56f['origMeshIn'+'stances'][0x251d+0xfc6*0x2+-0x3*0x16e3]['castShadow'],_0x5da56f['meshInstan'+'ce']=_0x542360,_0x5da56f['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x159196,_0x5da56f;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x51b*0x1+0x1*0x12b+-0x646&&this['generate'](this['_dirtyGrou'+'ps']);const _0x13b7a4=de();for(let _0x1d5907=-0x1f3*0xb+0x2*-0x653+0x2217;_0x1d5907<this['_batchList']['length'];_0x1d5907++)this['_batchList'][_0x1d5907]['dynamic']&&this['_batchList'][_0x1d5907]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x13b7a4;}['clone'](_0x3f3a3b,_0x56c8ce){const _0x2edcfa=new g_(_0x56c8ce,_0x3f3a3b['dynamic'],_0x3f3a3b['batchGroup'+'Id']);this['_batchList']['push'](_0x2edcfa);const _0x59792d=[];for(let _0x52f1e0=-0x409+0x5*0x41b+-0x107e;_0x52f1e0<_0x56c8ce['length'];_0x52f1e0++)_0x59792d['push'](_0x56c8ce[_0x52f1e0]['node']);return _0x2edcfa['meshInstan'+'ce']=new He(_0x3f3a3b['meshInstan'+'ce']['mesh'],_0x3f3a3b['meshInstan'+'ce']['material'],_0x3f3a3b['meshInstan'+'ce']['node']),_0x2edcfa['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*0x607+0x3*0xb8+0x3e0),_0x2edcfa['meshInstan'+'ce']['parameters']=_0x56c8ce[-0xf1*-0x6+-0x1c*-0x4+-0x616]['parameters'],_0x2edcfa['meshInstan'+'ce']['cull']=_0x56c8ce[-0xd*-0xce+0x1fb2+-0x2a28]['cull'],_0x2edcfa['meshInstan'+'ce']['layer']=_0x56c8ce[-0x244e+0x1101*0x2+0x24c]['layer'],_0x3f3a3b['dynamic']&&(_0x2edcfa['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x59792d,this['rootNode'])),_0x2edcfa['meshInstan'+'ce']['castShadow']=_0x3f3a3b['meshInstan'+'ce']['castShadow'],_0x2edcfa;}['destroyBat'+'ch'](_0x23935f){_0x23935f['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x23935f['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x197a63,_0x4c53f3,_0x2584a8){if((_0x197a63==null?void(0x34c+0x41*-0x1+-0x30b):_0x197a63['colorBuffe'+'r']['format'])!==_0x2584a8)return!(-0x1*0x1f2e+0x353*-0x1+-0x1*-0x2281);const _0x1635b=(_0x4c53f3==null?void(-0x2152+0x62e+0x486*0x6):_0x4c53f3['width'])||this['device']['width'],_0x32acba=(_0x4c53f3==null?void(0x2*0x1303+-0x21d2+-0x434):_0x4c53f3['height'])||this['device']['height'];return!_0x197a63||_0x1635b!==_0x197a63['width']||_0x32acba!==_0x197a63['height'];}['allocateRe'+'nderTarget'](_0x2248b7,_0x1d3e95,_0x5dd846,_0x2dd2c1){const _0x352b10=new _e(_0x5dd846,{'name':P_,'format':_0x2dd2c1,'width':_0x1d3e95?_0x1d3e95['colorBuffe'+'r']['width']:_0x5dd846['width'],'height':_0x1d3e95?_0x1d3e95['colorBuffe'+'r']['height']:_0x5dd846['height'],'mipmaps':!(0x1aa1+-0x4*-0x5bd+-0x3195*0x1),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x2248b7?(_0x2248b7['destroyFra'+'meBuffers'](),_0x2248b7['_colorBuff'+'er']=_0x352b10,_0x2248b7['_colorBuff'+'ers']=[_0x352b10]):_0x2248b7=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x352b10,'depth':!(-0x9d3*0x1+-0xa7*-0x2f+-0x14d5),'stencil':!(-0x226e+0x19c9+0x8a6),'autoResolve':!(0x1432+-0x7d*0x2e+0x245)}),_0x2248b7;}['releaseRen'+'derTarget'](_0x44c20a){_0x44c20a&&(_0x44c20a['destroyTex'+'tureBuffer'+'s'](),_0x44c20a['destroy']());}['frameUpdat'+'e'](){const _0x1519fc=this['device'],_0x3ec55f=this['source'],_0x3204e0=(_0x3ec55f==null?void(-0xac8+-0x2336+0xe*0x349):_0x3ec55f['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x3ec55f==null?void(-0x1*0x178+0x1*-0xe8f+-0x175*-0xb):_0x3ec55f['colorBuffe'+'r'],_0x3204e0)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x3ec55f,_0x1519fc,_0x3204e0));const _0x5e712f=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x1519fc['scope']['resolve'](P_)['setValue'](_0x5e712f);}['execute'](){const _0x4157f3=this['device'];Q['pushGpuMar'+'ker'](_0x4157f3,'GRAB-COLOR');const _0x287742=this['source'],_0x21e9d7=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4157f3['isWebGPU']?(_0x4157f3['copyRender'+'Target'](_0x287742,this['colorRende'+'rTarget'],!(0x56a+-0x2*-0x943+-0x17f0),!(-0x1aeb+0x2*-0x9c+0x1c24)),_0x4157f3['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x4157f3['copyRender'+'Target'](_0x287742,this['colorRende'+'rTarget'],!(-0xe1f+0x12ee+-0x4cf),!(-0x9ef+0xb*-0x16f+0x19b5)),_0x4157f3['activeText'+'ure'](_0x4157f3['maxCombine'+'dTextures']-(-0x584+-0x1633+0x1bb8)),_0x4157f3['bindTextur'+'e'](_0x21e9d7),_0x4157f3['gl']['generateMi'+'pmap'](_0x21e9d7['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x4157f3);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x18d47d,_0x16abe4){super(_0x18d47d),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x16abe4;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x140872,_0x2b6c57){const _0xc4a273=(_0x2b6c57==null?void(0x1cf+0x1fc6+0x2195*-0x1):_0x2b6c57['width'])||this['device']['width'],_0x39af4b=(_0x2b6c57==null?void(0x2cc+-0x1*0x108+0xe2*-0x2):_0x2b6c57['height'])||this['device']['height'];return!_0x140872||_0xc4a273!==_0x140872['width']||_0x39af4b!==_0x140872['height'];}['allocateRe'+'nderTarget'](_0x3e740a,_0x2560ea,_0x30635e,_0x1aa955,_0x5f3ef9){const _0x1f02b6=new _e(_0x30635e,{'name':M_,'format':_0x1aa955,'width':_0x2560ea?_0x2560ea['colorBuffe'+'r']['width']:_0x30635e['width'],'height':_0x2560ea?_0x2560ea['colorBuffe'+'r']['height']:_0x30635e['height'],'mipmaps':!(0x1018+0x2*-0xef7+-0x49d*-0x3),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x3e740a?(_0x3e740a['destroyFra'+'meBuffers'](),_0x5f3ef9?_0x3e740a['_depthBuff'+'er']=_0x1f02b6:(_0x3e740a['_colorBuff'+'er']=_0x1f02b6,_0x3e740a['_colorBuff'+'ers']=[_0x1f02b6])):_0x3e740a=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x5f3ef9?null:_0x1f02b6,'depthBuffer':_0x5f3ef9?_0x1f02b6:null,'depth':!_0x5f3ef9,'stencil':_0x30635e['supportsSt'+'encil'],'autoResolve':!(-0x1333+0xcd1*0x3+0x133f*-0x1)}),_0x3e740a;}['releaseRen'+'derTarget'](_0x21891b){_0x21891b&&(_0x21891b['destroyTex'+'tureBuffer'+'s'](),_0x21891b['destroy']());}['before'](){var _0x37183b,_0x1b7ed2;const _0x5ce951=this['camera'],_0x22fb79=this['device'],_0x2059b2=(_0x5ce951==null?void(-0x1bf8*-0x1+0x15*-0xa2+-0xeae):_0x5ce951['renderTarg'+'et'])??_0x22fb79['backBuffer'];let _0x4a0a8f=!(0x1*-0x13d9+-0x560+-0x1939*-0x1),_0x202fbd=_0x2059b2['stencil']?sd:$i;_0x22fb79['isWebGPU']&&_0x2059b2['samples']>-0xfeb+0x1*0x176f+-0x783&&(_0x202fbd=Ji,_0x4a0a8f=!(0x1db5+0x2db+-0x208f));const _0x296429=((_0x37183b=_0x5ce951['renderTarg'+'et'])==null?void(0x214f+-0x2545+0x3f6):_0x37183b['depthBuffe'+'r'])??((_0x1b7ed2=_0x5ce951['renderTarg'+'et'])==null?void(-0x3*-0x8a5+0xd74+-0x2763*0x1):_0x1b7ed2['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x296429)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x5ce951['renderTarg'+'et'],_0x22fb79,_0x202fbd,_0x4a0a8f));const _0x1c5c72=_0x4a0a8f?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x22fb79['scope']['resolve'](M_)['setValue'](_0x1c5c72);}['execute'](){const _0x540fb6=this['device'];if(Q['pushGpuMar'+'ker'](_0x540fb6,'GRAB-DEPTH'),_0x540fb6['isWebGL2']&&_0x540fb6['renderTarg'+'et']['samples']>-0x82c+-0x265c+-0xf83*-0x3){const _0x308164=_0x540fb6['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x372bae=this['depthRende'+'rTarget'];_0x540fb6['renderTarg'+'et']=_0x372bae,_0x540fb6['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x540fb6,_0x308164,_0x372bae['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x540fb6['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x540fb6['copyRender'+'Target'](_0x540fb6['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x1a3+-0x341*-0x2+-0x4de),!(-0x1d1e*-0x1+0x112+-0x1e30));Q['popGpuMark'+'er'](_0x540fb6);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x1a69+0x9a2+0x526*-0x7)),h(this,'_ssaoEnabl'+'ed',!(0x23b2+-0x9b9+-0x19f8)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0xabc*0x2+-0x3d6*0x2+0x1d25)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x1*0x796+0x7c1+-0x77*0x21));}get['hash'](){if(this['_hash']===void(0xee4*0x1+0xc*-0x185+-0xd6*-0x4)){const _0xb9b413=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0xb9b413);}return this['_hash'];}get['defines'](){const _0x1a664d=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0xe96*-0x1+0x1ccd+-0xe36),_0x1a664d['clear'](),this['_sceneDept'+'hMapLinear']&&_0x1a664d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x26d6*0x1+0x1611+0x144d*-0x3)),_0x1a664d['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x1a664d['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x1a664d['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x1a664d;}['markDirty'](){this['_hash']=void(0x97*-0x5+0x17b4+-0x14c1),this['_definesDi'+'rty']=!(0x133*0x7+0x1*0x238b+-0x128*0x26);}set['fog'](_0x39c5b0){this['_fog']!==_0x39c5b0&&(this['_fog']=_0x39c5b0,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4c262d){this['_ssaoEnabl'+'ed']!==_0x4c262d&&(this['_ssaoEnabl'+'ed']=_0x4c262d,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x16e76f){this['_gammaCorr'+'ectionAssi'+'gned']=!(0xd1*0x6+0xeeb+-0x39*0x59),this['_gammaCorr'+'ection']!==_0x16e76f&&(this['_gammaCorr'+'ection']=_0x16e76f,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x19ede2){this['_toneMappi'+'ng']!==_0x19ede2&&(this['_toneMappi'+'ng']=_0x19ede2,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x3b6eec){this['_srgbRende'+'rTarget']!==_0x3b6eec&&(this['_srgbRende'+'rTarget']=_0x3b6eec,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x544f4d){this['_sceneDept'+'hMapLinear']!==_0x544f4d&&(this['_sceneDept'+'hMapLinear']=_0x544f4d,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x2*0x570+-0xec+-0x9f4*0x1),(this['_aspectRat'+'io']=(-0x2273+-0x4*0x75e+0x3ffb)/(0x8f2+-0x1eed+0x1604),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x5e6*0x3+0x1*0x142a+-0x4*0x977+0.75,-0x2581*0x1+-0x2*-0x883+0x147b+0.75,0xb*-0x1b8+-0x596+0x187e+0.75,0x1*-0x757+-0x2f*-0x67+0x149*-0x9),this['_clearColo'+'rBuffer']=!(-0x96c+0x13f6+-0xa8a),this['_clearDept'+'h']=-0xbf*0x1+0xced+-0xc2d*0x1,this['_clearDept'+'hBuffer']=!(-0x67f*-0x1+0x1*-0x9a3+0x2*0x192),this['_clearSten'+'cil']=0x234c+-0x1*0x227d+0x17*-0x9,this['_clearSten'+'cilBuffer']=!(-0x606+0x1*-0x15db+0x1be1),this['_cullFaces']=!(-0x409*0x5+0xbbd+0x870),this['_farClip']=0x18a4+0x116*-0x1b+0xe*0x9d,this['_flipFaces']=!(-0x1*-0x21ae+0x613+-0x27c0),this['_fov']=-0xa04*-0x3+0x664*-0x6+0x1*0x879,this['_frustumCu'+'lling']=!(0x8*-0x332+0x3*-0x655+0x2c8f),this['_horizonta'+'lFov']=!(-0x1*-0x15bd+0x1*-0x7e1+0x1*-0xddb),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x3db*-0x1+0x4cf*-0x7+0x157*0x1c+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x1*-0xdee+0x1591*-0x1+-0x33b*-0xb,this['_projectio'+'n']=ni,this['_rect']=new re(-0x1e46+-0x1477+0x1f*0x1a3,-0xec0*-0x2+0x1ab+-0x1f2b*0x1,-0x1*0x1d3b+0xc00+0x113c,-0x13+0xc*0x10c+-0xc7c),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x1df5+-0x7f*0x30+0xb*-0x8f,-0x1*0xfe5+0x1e01+-0xe1c,-0x5e6*-0x5+0x1dcf+-0x3b4c,0x6cd+0x1ed2+-0x259e),this['_scissorRe'+'ctClear']=!(0x2149+0xd70+-0x2eb8),this['_aperture']=-0x2*0xd25+-0x1e3e+-0x1*-0x3898,this['_shutter']=(-0x27*-0x52+-0x576+-0x7*0x101)/(-0x4*-0x337+0x1*-0x92b+0x37),this['_sensitivi'+'ty']=-0x8cd*0x2+0x210a+-0xb88,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x1fe3+0x1*0x2399+-0x437c),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x220f*-0x1+-0x33e+-0x31*0xa1),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(0x4b+0x29*-0x8b+-0x94*-0x26),this['_shaderMat'+'ricesVersi'+'on']=-0xe82+0x8aa+-0x44*-0x16,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x65c+0x1*0x560+0x4*-0x2ef,0xb76+0x1*0x18ee+-0x2464,0x1b27+-0x1c46+0x11f,0x1ede+-0xc7c+-0xd*0x16a],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x3bb407,_0x1fc932;(_0x3bb407=this['renderPass'+'ColorGrab'])==null||_0x3bb407['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x1fc932=this['renderPass'+'DepthGrab'])==null||_0x1fc932['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x84+-0x10a2+-0x2*-0x80f;}['_storeShad'+'erMatrices'](_0x1e01f6,_0xdd2f02,_0x493af7,_0x4e1910){this['_shaderMat'+'ricesVersi'+'on']!==_0x4e1910&&(this['_shaderMat'+'ricesVersi'+'on']=_0x4e1910,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x1e01f6),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x1e01f6),this['_viewProjI'+'nverse']['invert'](_0x1e01f6),this['_jitters'][-0x3e*0x1+-0x24a7*0x1+0x24e7]=this['_jitters'][0xad3+0x2*0x169+-0x1*0xda5],this['_jitters'][0x406+0x23bd+-0x40*0x9f]=this['_jitters'][0x137*0x7+-0x342*-0x4+-0x1588],this['_jitters'][-0x10a6+0xb6d+-0x539*-0x1]=_0xdd2f02,this['_jitters'][-0x2495+-0x25b9+0x4a4f]=_0x493af7);}get['fullSizeCl'+'earRect'](){const _0x3f0747=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x3f0747['x']===-0xeb7+-0x2*0x38f+-0x17*-0xf3&&_0x3f0747['y']===0x956+-0x295*-0x1+-0xbeb&&_0x3f0747['z']===-0x2b7*0xd+-0xb*0x7c+0xa0*0x41&&_0x3f0747['w']===0x1*-0x9b7+0xea4*-0x2+0x27*0x100;}set['aspectRati'+'o'](_0x3d8086){this['_aspectRat'+'io']!==_0x3d8086&&(this['_aspectRat'+'io']=_0x3d8086,this['_projMatDi'+'rty']=!(0x2217+0x2c*0x95+0x383*-0x11));}get['aspectRati'+'o'](){var _0x250d8d;return(_0x250d8d=this['xr'])!=null&&_0x250d8d['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x38ae1c){this['_aspectRat'+'ioMode']!==_0x38ae1c&&(this['_aspectRat'+'ioMode']=_0x38ae1c,this['_projMatDi'+'rty']=!(0x15b9+-0x1*-0x15b5+0x28e*-0x11));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x223435){this['_calculate'+'Projection']=_0x223435,this['_projMatDi'+'rty']=!(0x1741*-0x1+0x18ba+-0xd*0x1d);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x38b9c3){this['_calculate'+'Transform']=_0x38b9c3;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x3b63f7){this['_clearColo'+'r']['copy'](_0x3b63f7);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x4dc340){this['_clearColo'+'rBuffer']=_0x4dc340;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x4aa84e){this['_clearDept'+'h']=_0x4aa84e;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x5cf025){this['_clearDept'+'hBuffer']=_0x5cf025;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x5688d3){this['_clearSten'+'cil']=_0x5688d3;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x5d82a1){this['_clearSten'+'cilBuffer']=_0x5d82a1;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x2c1a1f){this['_cullFaces']=_0x2c1a1f;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x342809){this['_farClip']!==_0x342809&&(this['_farClip']=_0x342809,this['_projMatDi'+'rty']=!(0x21b6+0x495*0x1+-0x264b));}get['farClip'](){var _0x54272e;return(_0x54272e=this['xr'])!=null&&_0x54272e['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x5efc6c){this['_flipFaces']=_0x5efc6c;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x1018a4){this['_fov']!==_0x1018a4&&(this['_fov']=_0x1018a4,this['_projMatDi'+'rty']=!(0x1fa8+-0x6*-0x368+-0x3418));}get['fov'](){var _0x1ecc18;return(_0x1ecc18=this['xr'])!=null&&_0x1ecc18['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2cc564){this['_frustumCu'+'lling']=_0x2cc564;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x1220be){this['_horizonta'+'lFov']!==_0x1220be&&(this['_horizonta'+'lFov']=_0x1220be,this['_projMatDi'+'rty']=!(0x182*0x7+0x1*-0x149c+0xa0e));}get['horizontal'+'Fov'](){var _0x3066c4;return(_0x3066c4=this['xr'])!=null&&_0x3066c4['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x29632e){this['_layers']=_0x29632e['slice'](0x16a*-0x2+0x4ea*-0x4+-0x59f*-0x4),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0xf04320){this['_nearClip']!==_0xf04320&&(this['_nearClip']=_0xf04320,this['_projMatDi'+'rty']=!(0x2*-0x28b+0x2170+-0x1c5a));}get['nearClip'](){var _0xc7a123;return(_0xc7a123=this['xr'])!=null&&_0xc7a123['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x3d172c){this['_node']=_0x3d172c;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x262ff3){this['_orthoHeig'+'ht']!==_0x262ff3&&(this['_orthoHeig'+'ht']=_0x262ff3,this['_projMatDi'+'rty']=!(-0xbab+0x1*-0x12b+0x2*0x66b));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x32d3ef){this['_projectio'+'n']!==_0x32d3ef&&(this['_projectio'+'n']=_0x32d3ef,this['_projMatDi'+'rty']=!(0x1568+0x869*0x2+-0x263a));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x8bf19f){this['_rect']['copy'](_0x8bf19f);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0xfaf41){this['_renderTar'+'get']=_0xfaf41;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x409570){this['_scissorRe'+'ct']['copy'](_0x409570);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x4483e4=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x4483e4)['invert'](),this['_viewMatDi'+'rty']=!(0x2*0x1358+-0x20*0x9+-0x258f);}return this['_viewMat'];}set['aperture'](_0x1f62a7){this['_aperture']=_0x1f62a7;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x4cc6c2){this['_sensitivi'+'ty']=_0x4cc6c2;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x15127e){this['_shutter']=_0x15127e;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4f3b5a){this['_xr']!==_0x4f3b5a&&(this['_xr']=_0x4f3b5a,this['_projMatDi'+'rty']=!(0x56d*-0x2+-0x2463+0x1d*0x1a1));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x30da6d){return this['_aspectRat'+'io']=_0x30da6d['_aspectRat'+'io'],this['_farClip']=_0x30da6d['_farClip'],this['_fov']=_0x30da6d['_fov'],this['_horizonta'+'lFov']=_0x30da6d['_horizonta'+'lFov'],this['_nearClip']=_0x30da6d['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x30da6d['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x30da6d['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x30da6d['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x30da6d['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x30da6d['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x30da6d['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x30da6d['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x30da6d['calculateT'+'ransform'],this['clearColor']=_0x30da6d['clearColor'],this['clearColor'+'Buffer']=_0x30da6d['clearColor'+'Buffer'],this['clearDepth']=_0x30da6d['clearDepth'],this['clearDepth'+'Buffer']=_0x30da6d['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x30da6d['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x30da6d['clearStenc'+'ilBuffer'],this['cullFaces']=_0x30da6d['cullFaces'],this['flipFaces']=_0x30da6d['flipFaces'],this['frustumCul'+'ling']=_0x30da6d['frustumCul'+'ling'],this['layers']=_0x30da6d['layers'],this['orthoHeigh'+'t']=_0x30da6d['orthoHeigh'+'t'],this['projection']=_0x30da6d['projection'],this['rect']=_0x30da6d['rect'],this['renderTarg'+'et']=_0x30da6d['renderTarg'+'et'],this['scissorRec'+'t']=_0x30da6d['scissorRec'+'t'],this['aperture']=_0x30da6d['aperture'],this['shutter']=_0x30da6d['shutter'],this['sensitivit'+'y']=_0x30da6d['sensitivit'+'y'],this['shaderPass'+'Info']=_0x30da6d['shaderPass'+'Info'],this['jitter']=_0x30da6d['jitter'],this['_projMatDi'+'rty']=!(-0x15*-0xab+-0x1173+0x36c),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x599aca,_0x2c9d04){var _0x11889d;_0x2c9d04?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x599aca)):((_0x11889d=this['renderPass'+'ColorGrab'])==null||_0x11889d['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x5e12fa,_0x16e0db,_0x1b0d92){var _0x1377c8;_0x1b0d92?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x5e12fa,this)):((_0x1377c8=this['renderPass'+'DepthGrab'])==null||_0x1377c8['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x25ef+0xf3d+-0x3*0x11b9));}['worldToScr'+'een'](_0xba1269,_0x154b35,_0xb72d2c,_0x27b9e6=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0xba1269,_0x27b9e6);const _0x87e5c0=this['_viewProjM'+'at']['data'],_0x54e23f=_0xba1269['x']*_0x87e5c0[0xa4*-0x2c+-0x1*0x15fb+0x322e]+_0xba1269['y']*_0x87e5c0[-0xcb*0x7+0x125*0x17+-0x2f*0x71]+_0xba1269['z']*_0x87e5c0[0x7e+-0x7b2*0x1+-0x109*-0x7]+(0x1523+-0x1*-0x56b+-0x1a8d*0x1)*_0x87e5c0[-0x4d6+0x198a+-0x14a5];_0x27b9e6['x']=(_0x27b9e6['x']/_0x54e23f+(0x2005+0x1c59+-0x3c5d))*(-0x1*-0x222b+0x7*0x3ea+-0x3d91+0.5),_0x27b9e6['y']=(-0x211a+-0x1*-0xa85+0x1696-_0x27b9e6['y']/_0x54e23f)*(-0x245*0x3+0x724+-0x55+0.5);const {x:_0x2c0758,y:_0x57cb70,z:_0xb79247,w:_0x51a0a0}=this['_rect'];return _0x27b9e6['x']=_0x27b9e6['x']*_0xb79247*_0x154b35+_0x2c0758*_0x154b35,_0x27b9e6['y']=_0x27b9e6['y']*_0x51a0a0*_0xb72d2c+(-0x1e28+0x15*0x6a+0x1577-_0x57cb70-_0x51a0a0)*_0xb72d2c,_0x27b9e6;}['screenToWo'+'rld'](_0xa6c6b0,_0x3b5848,_0x1b6b4a,_0x28dbac,_0x587ab2,_0xb29399=new D()){const {x:_0x46ea1d,y:_0x422002,z:_0x58ca73,w:_0x23d23a}=this['_rect'],_0x2a46b7=this['farClip']-this['nearClip'];if(La['set']((_0xa6c6b0-_0x46ea1d*_0x28dbac)/(_0x58ca73*_0x28dbac),0x98d*-0x3+0x9b8+0x12f0-(_0x3b5848-(-0x23d9+0x208b+0x79*0x7-_0x422002-_0x23d23a)*_0x587ab2)/(_0x23d23a*_0x587ab2),_0x1b6b4a/_0x2a46b7),La['mulScalar'](-0x3*-0x49b+0x8ae+-0x167d),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x5d7469=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x5d7469['transformP'+'oint'](ao,D_);const _0x49125f=this['_node']['getPositio'+'n']();_0xb29399['sub2'](D_,_0x49125f),_0xb29399['normalize'](),_0xb29399['mulScalar'](_0x1b6b4a),_0xb29399['add'](_0x49125f);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0xb29399);return _0xb29399;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x5e025c=this['_orthoHeig'+'ht'],_0x1fc0f9=_0x5e025c*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x1fc0f9,_0x1fc0f9,-_0x5e025c,_0x5e025c,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x2595+0x1061+-0x3d*-0x59);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1b131b=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x21b2+-0x13fc+-0xd52)/this['_sensitivi'+'ty']);return(-0x1962+-0x21*0xd+0x1b10)/(Math['pow'](0xa14+0x1d*0x125+0x1*-0x2b43,_0x1b131b)*(-0x531+0x98e*0x2+-0xdea+0.19999999999999996));}['getScreenS'+'ize'](_0x1b00cb){if(this['_projectio'+'n']===ni){const _0x275344=this['_node']['getPositio'+'n']()['distance'](_0x1b00cb['center']);if(_0x275344<_0x1b00cb['radius'])return-0x6*0x39a+0x7b4*0x5+0x10e7*-0x1;const _0x2e6659=Math['asin'](_0x1b00cb['radius']/_0x275344),_0xd39e3f=Math['tan'](_0x2e6659),_0x373544=Math['tan'](this['fov']/(0x1846+-0x1*0x21e9+0x1*0x9a5)*Y['DEG_TO_RAD']);return Math['min'](_0xd39e3f/_0x373544,-0xcf4+0x1*0x262b+0x1cd*-0xe);}return Y['clamp'](_0x1b00cb['radius']/this['_orthoHeig'+'ht'],0x1be9+0x18e*-0xa+-0xc5d,0xe9*-0x1f+0x38c*0x7+0x364);}['getFrustum'+'Corners'](_0x5ee164=this['nearClip'],_0x430a4d=this['farClip']){const _0x7bafc5=this['fov']*Math['PI']/(-0x4d*0x2d+0x25d8+0x1*-0x179b);let _0x30f234,_0xec70b3;this['projection']===ni?this['horizontal'+'Fov']?(_0x30f234=_0x5ee164*Math['tan'](_0x7bafc5/(-0x1a71+-0x1*0x1c27+0x369a*0x1)),_0xec70b3=_0x30f234/this['aspectRati'+'o']):(_0xec70b3=_0x5ee164*Math['tan'](_0x7bafc5/(0x9d6+-0x1*-0x1121+-0x1af5)),_0x30f234=_0xec70b3*this['aspectRati'+'o']):(_0xec70b3=this['_orthoHeig'+'ht'],_0x30f234=_0xec70b3*this['aspectRati'+'o']);const _0x247545=OE;return _0x247545[-0x127*0xd+0xf1b+-0x20]['x']=_0x30f234,_0x247545[-0x1*0xc87+-0xe37*-0x1+-0x6*0x48]['y']=-_0xec70b3,_0x247545[-0xa6b+-0xf61*-0x2+0x7f*-0x29]['z']=-_0x5ee164,_0x247545[-0x8fe+0x1e0c+-0x150d]['x']=_0x30f234,_0x247545[0xe88+-0x1*-0x859+0x20*-0xb7]['y']=_0xec70b3,_0x247545[0x41f*-0x1+0xab*0x1f+0x351*-0x5]['z']=-_0x5ee164,_0x247545[0x1f*-0xe8+-0x6b9*0x1+-0x5*-0x6f7]['x']=-_0x30f234,_0x247545[-0x1355+0x1324+0x33*0x1]['y']=_0xec70b3,_0x247545[-0xbb3+0xb88+0x2d]['z']=-_0x5ee164,_0x247545[0x8a9+-0x36e*-0x7+0x5f*-0x58]['x']=-_0x30f234,_0x247545[-0x3a1*0x4+-0x527+0x13ae]['y']=-_0xec70b3,_0x247545[-0x2303+-0x2b2+0x25b8]['z']=-_0x5ee164,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x30f234=_0x430a4d*Math['tan'](_0x7bafc5/(0x1*0x1c15+0x2063+-0x3c76)),_0xec70b3=_0x30f234/this['aspectRati'+'o']):(_0xec70b3=_0x430a4d*Math['tan'](_0x7bafc5/(0x22fc+-0x1cf1+0x67*-0xf)),_0x30f234=_0xec70b3*this['aspectRati'+'o'])),_0x247545[-0x1b38+-0x7b1+0x22ed*0x1]['x']=_0x30f234,_0x247545[-0x136a*-0x2+0x1e3d+-0x647*0xb]['y']=-_0xec70b3,_0x247545[0x499+0x5*0x121+-0x2*0x51d]['z']=-_0x430a4d,_0x247545[0x1d46+-0x207d+-0xc*-0x45]['x']=_0x30f234,_0x247545[0x3*-0x6b9+0x21d9+-0xda9]['y']=_0xec70b3,_0x247545[-0x1a*0x178+0x1646+0xfef*0x1]['z']=-_0x430a4d,_0x247545[-0x264c+-0xc30+0x3282]['x']=-_0x30f234,_0x247545[-0x1*0x122b+-0x129a+0x24cb]['y']=_0xec70b3,_0x247545[-0x1*0x20cf+0xac*-0x1e+0x34fd]['z']=-_0x430a4d,_0x247545[0x29*0xbc+0x260a*0x1+-0x441f]['x']=-_0x30f234,_0x247545[0x1*0x32+0x219a+-0x21c5]['y']=-_0xec70b3,_0x247545[-0x12ac+0xbab+0x708]['z']=-_0x430a4d,_0x247545;}['setXrPrope'+'rties'](_0x1b6e08){Object['assign'](this['_xrPropert'+'ies'],_0x1b6e08),this['_projMatDi'+'rty']=!(0x1b70+0x1310+-0x3e*0xc0);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x5ae12a,_0x5f341b,_0x813ce9){const _0x1dd8fc=new Fl();switch(_0x1dd8fc['node']=new Ie(_0x5ae12a),_0x1dd8fc['aspectRati'+'o']=0x101*-0x13+0x1e89*0x1+-0x1*0xb75,_0x1dd8fc['aspectRati'+'oMode']=lu,_0x1dd8fc['_scissorRe'+'ctClear']=!(-0x25e2+0x1*0x1eb1+0x107*0x7),_0x5f341b){case Ke:_0x1dd8fc['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x813ce9]),_0x1dd8fc['fov']=-0x2*0xb6f+-0x90b+0x2043,_0x1dd8fc['projection']=ni;break;case Ze:_0x1dd8fc['projection']=ni;break;case ve:_0x1dd8fc['projection']=En;break;}return _0x1dd8fc;}static['evalSpotCo'+'okieMatrix'](_0x67a646){let _0x521b3d=gr['_spotCooki'+'eCamera'];_0x521b3d||(_0x521b3d=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x521b3d),_0x521b3d['fov']=_0x67a646['_outerCone'+'Angle']*(0x11*-0x44+0x2183+-0x1cfd);const _0x5b242b=_0x521b3d['_node'];_0x5b242b['setPositio'+'n'](_0x67a646['_node']['getPositio'+'n']()),_0x5b242b['setRotatio'+'n'](_0x67a646['_node']['getRotatio'+'n']()),_0x5b242b['rotateLoca'+'l'](-(-0x9d+-0x209b+-0x2192*-0x1),0x17f6+0x102*0x8+-0x2006,-0xc02+-0x1397+0x1f99*0x1),L_['setTRS'](_0x5b242b['getPositio'+'n'](),_0x5b242b['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x521b3d['projection'+'Matrix'],L_);const _0x3958e6=_0x67a646['cookieMatr'+'ix'],_0x3bd468=_0x67a646['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x3bd468['x'],_0x3bd468['y'],_0x3bd468['z'],_0x3bd468['w']),_0x3958e6['mul2'](O_,R_),_0x3958e6;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0x19*-0x175+-0x11f7+0x3664,0xa43+0x7c1+-0x286*0x7,-0x1bb3+0x15b1+0x35b*0x2),new le()['setFromEul'+'erAngles'](0xf33+0x2*0xb95+0x57b*-0x7,-(0x1*0x25c+0xe1*-0x27+0x1*0x2045),0x218d+-0x211f+0x7*0xa),new le()['setFromEul'+'erAngles'](0x2339+-0x245b+0x17c,-0xfc0+-0xfab+0x1f6b,-0x2*-0x1353+-0x5b*-0xd+0x2b45*-0x1),new le()['setFromEul'+'erAngles'](-(0xc7b+0x252e+-0x314f),0x21bb+0x1*0x4b9+0xd6*-0x2e,0x51*0x65+0x35*0x1d+-0x1*0x25f6),new le()['setFromEul'+'erAngles'](-0x1bbb*0x1+-0x1*0xc8b+0x2846,0x12da*-0x1+0x141a+-0x8c,-0x1d29+-0x579+0x2356),new le()['setFromEul'+'erAngles'](0xc31*-0x1+-0x2464+0x3095*0x1,-0x2152*-0x1+0x20e9+-0xd3f*0x5,0x1*-0x952+-0xb44+0xaa5*0x2)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x2f*-0xc1+-0x1*0x184b+0x58f*-0x2),FE=new D(-(-0x4*-0x81+0x19f+-0x3a3+0.5),0x269*-0x9+-0x90f+0x40*0x7b,-0x16b5*0x1+-0x6*-0x67+-0x144b*-0x1),NE=new D(-0x2*-0x3ed+-0x1*-0x2309+-0x2ae3,0x12cd+-0x14f*-0x10+-0x27bd,0x35e*-0x7+0x251*-0x5+0x1*0x2327+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x5b4e28,_0x5b32ad)=>Object['keys'](_0x5b4e28)['map'](_0x181a86=>'#define\x20{'+_0x5b32ad+_0x181a86+'}\x20'+_0x5b4e28[_0x181a86])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x50877f){h(this,'areaLights'+'Enabled',!(-0x3+0x1*-0x52a+0xdd*0x6)),(this['device']=_0x50877f,Pe['get'](_0x50877f,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x50877f,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0x1b16*0x1+-0x1901+0x2*0x1a0c),this['shadowsEna'+'bled']=!(0x1*-0xddb+-0x1324+-0x6*-0x580),this['areaLights'+'Enabled']=!(0xb1*-0x1f+-0x2b*-0x56+0x6fe),this['maxLights']=-0x922+-0x6*0x4eb+-0x8b*-0x49);const _0x3ab93a=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x1df3+0x736*-0x3+-0x84d)*_0x3ab93a*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x3ab93a,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0xaa*-0x33+0x7a5*-0x4+0x4072,this['invMaxAtte'+'nuation']=-0x1*-0x237b+0x902+-0x2c7d,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x58caa8;(_0x58caa8=this['lightsText'+'ure'])==null||_0x58caa8['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x4bf159,_0xa11f03,_0xa99d64,_0x22b91d,_0xbdeeea){return new _e(_0x4bf159,{'name':_0xbdeeea,'width':_0xa11f03,'height':_0xa99d64,'mipmaps':!(-0x24*0x5c+-0xa81+0x1772),'format':_0x22b91d,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x3b15d7,_0x221ad6){this['boundsMin']['copy'](_0x3b15d7),this['boundsDelt'+'a']['copy'](_0x221ad6);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x38cdc1,_0xcb25a4){_0xcb25a4['_node']['getWorldTr'+'ansform']()['getY'](_0x38cdc1)['mulScalar'](-(0x25c2+-0x684+0x1f3d*-0x1)),_0x38cdc1['normalize']();}['getLightAr'+'eaSizes'](_0x1f1adc){const _0x26229f=_0x1f1adc['_node']['getWorldTr'+'ansform']();return _0x26229f['transformV'+'ector'](FE,vs),Or[0x3af*-0x1+0x167*0x1+0x248]=vs['x'],Or[0x97e*0x1+0x2126+-0x2aa3]=vs['y'],Or[-0xc65*-0x2+0x207*0x10+-0x8*0x727]=vs['z'],_0x26229f['transformV'+'ector'](NE,vs),Or[-0x3*-0xce9+0x1*-0x1b79+-0xb3f*0x1]=vs['x'],Or[0x22e8+0x1*-0x1ec5+-0x1*0x41f]=vs['y'],Or[0x1*0x62b+-0x25c0+0x1f9a]=vs['z'],Or;}['addLightDa'+'ta'](_0x2064e5,_0x564834){const _0x3dc03f=_0x2064e5['_type']===Ze,_0xcc42ea=_0x2064e5['atlasViewp'+'ortAllocat'+'ed'],_0x1045e8=this['cookiesEna'+'bled']&&!!_0x2064e5['_cookie']&&_0xcc42ea,_0x52ad59=this['areaLights'+'Enabled']&&_0x2064e5['shape']!==Ys,_0x287b6e=this['shadowsEna'+'bled']&&_0x2064e5['castShadow'+'s']&&_0xcc42ea,_0x59dc1b=_0x2064e5['_node']['getPositio'+'n']();let _0x4d5485=null,_0x3878a9=null;_0x3dc03f?_0x287b6e?_0x4d5485=_0x2064e5['getRenderD'+'ata'](null,0x35f*0x3+0x404+-0x1*0xe21)['shadowMatr'+'ix']:_0x1045e8&&(_0x4d5485=Wn['evalSpotCo'+'okieMatrix'](_0x2064e5)):(_0x287b6e||_0x1045e8)&&(_0x3878a9=_0x2064e5['atlasViewp'+'ort']);const _0x2a105b=this['lightsFloa'+'t'],_0x419100=this['lightsUint'],_0x5106a9=_0x564834*this['lightsText'+'ure']['width']*(0x1*-0x1417+0x43*-0x61+0x2d7e*0x1);_0x2a105b[_0x5106a9+(-0x1*0x265f+0x1e8d*-0x1+0x44f0)*at['POSITION_R'+'ANGE']+(-0x502*-0x1+-0xcbf*0x1+0x7bd)]=_0x59dc1b['x'],_0x2a105b[_0x5106a9+(0x50*-0x11+-0x19ab+0x211*0xf)*at['POSITION_R'+'ANGE']+(-0x1*0x1f9a+-0x6cc+0x71*0x57)]=_0x59dc1b['y'],_0x2a105b[_0x5106a9+(0x218c+0x13d6+-0xb*0x4da)*at['POSITION_R'+'ANGE']+(-0x1*0x1e89+-0xe15+0x2ca0)]=_0x59dc1b['z'],_0x2a105b[_0x5106a9+(-0x1*-0x104e+-0x1a31*0x1+0xd*0xc3)*at['POSITION_R'+'ANGE']+(-0x1*0x1fd9+0x13*-0x6e+0x2806)]=_0x2064e5['attenuatio'+'nEnd'];const _0x4a9c71=_0x2064e5['clusteredD'+'ata'];if(_0x419100[_0x5106a9+(-0x2*-0x4c3+-0x1539*-0x1+0x1*-0x1ebb)*at['COLOR_ANGL'+'ES_BIAS']+(-0x30e*-0x7+0x997+0xa53*-0x3)]=_0x4a9c71[0xb7e*0x3+-0x1d20+0x55a*-0x1],_0x419100[_0x5106a9+(0x1*0x260a+0x25*0x21+-0x5*0x88f)*at['COLOR_ANGL'+'ES_BIAS']+(0xbfb*-0x3+-0x9*0xad+0x35*0xcb)]=_0x4a9c71[0x1d04+-0x3*0xb2d+0x484],_0x419100[_0x5106a9+(-0x44d+-0x986+0xdd7)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1*0xaad+0x646*0x3+-0x823)]=_0x4a9c71[-0x12c4*0x1+-0x10*0xec+0x2186],_0x2064e5['castShadow'+'s']){const _0x27bfd=_0x2064e5['getRenderD'+'ata'](null,0x799+-0xd*-0x299+-0x295e),_0x5179a7=_0x2064e5['_getUnifor'+'mBiasValue'+'s'](_0x27bfd),_0x149563=Mn['float2Half'](_0x5179a7['bias']),_0x161e8c=Mn['float2Half'](_0x5179a7['normalBias']);_0x419100[_0x5106a9+(0x5*0x4f+-0xe5*-0x22+-0x1ff1)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1ae2+0x107*-0x5+0x2008)]=_0x149563|_0x161e8c<<-0x1699+-0x13*-0xf7+0x1*0x454;}if(_0x3dc03f&&(this['getSpotDir'+'ection'](vs,_0x2064e5),_0x2a105b[_0x5106a9+(0xe02+0x1*-0x2519+0x171b)*at['DIRECTION_'+'FLAGS']+(0x20d4+0x1bff+-0x17*0x2a5)]=vs['x'],_0x2a105b[_0x5106a9+(-0x1*0xb03+0x5*0x17d+-0x11*-0x36)*at['DIRECTION_'+'FLAGS']+(0x160c+0xf56+-0x2561)]=vs['y'],_0x2a105b[_0x5106a9+(0x3*0x17+-0x1062+0x1021)*at['DIRECTION_'+'FLAGS']+(0x3b*0x9d+0x5e*-0x17+0xe5*-0x1f)]=vs['z']),_0x419100[_0x5106a9+(0x7*-0x4f3+0x1cc5+0x1*0x5e4)*at['DIRECTION_'+'FLAGS']+(0x1c33+-0x56d+-0x16c3)]=_0x2064e5['getCluster'+'edFlags'](_0x287b6e,_0x1045e8),_0x4d5485){const _0x5af534=_0x4d5485['data'];for(let _0x1151c7=-0x1c70+0x1*0xa2b+0x1245;_0x1151c7<0x887+-0xff0+0x779;_0x1151c7++)_0x2a105b[_0x5106a9+(0x1951*0x1+-0x3fb*-0x7+-0x352a)*at['PROJ_MAT_0']+_0x1151c7]=_0x5af534[_0x1151c7];}if(_0x3878a9&&(_0x2a105b[_0x5106a9+(-0x153e*0x1+-0x16b2+-0x2*-0x15fa)*at['ATLAS_VIEW'+'PORT']+(-0x244*0x11+-0x1a48+-0x74*-0x8f)]=_0x3878a9['x'],_0x2a105b[_0x5106a9+(-0x3*-0x336+0x6e*-0x5+-0x2*0x3bc)*at['ATLAS_VIEW'+'PORT']+(0x2127+-0x1*-0x747+0x83*-0x4f)]=_0x3878a9['y'],_0x2a105b[_0x5106a9+(-0x3c7*0x6+0x736+-0x18*-0xa5)*at['ATLAS_VIEW'+'PORT']+(-0x1a8*-0xc+0x1*-0x1efa+0xb1c)]=_0x3878a9['z']/(0x80e+-0xebf+0x27*0x2c)),_0x52ad59){const _0x426263=this['getLightAr'+'eaSizes'](_0x2064e5);_0x2a105b[_0x5106a9+(-0x20b7+-0x920*-0x2+0xe7b)*at['AREA_DATA_'+'WIDTH']+(0x40b+-0x391*-0x1+-0x79c)]=_0x426263[-0x1*-0x2647+-0x2707+0xc0],_0x2a105b[_0x5106a9+(0x1*0xaca+0x2*0x512+-0x2*0xa75)*at['AREA_DATA_'+'WIDTH']+(0x18a*0x19+0x79*0x25+-0x37f6)]=_0x426263[-0x3f6+0x24cd+-0x20d6],_0x2a105b[_0x5106a9+(-0x1019+-0x1abc+-0x7*-0x61f)*at['AREA_DATA_'+'WIDTH']+(-0x8*0x42d+-0xe9b*0x2+-0xfa8*-0x4)]=_0x426263[-0x93b+0x1*-0x8eb+-0x48a*-0x4],_0x2a105b[_0x5106a9+(0x125e+0x8*-0xf0+-0xada)*at['AREA_DATA_'+'HEIGHT']+(0x145e+0x7a0+0x1bfe*-0x1)]=_0x426263[-0x11b5+-0x1cce+0x2e86],_0x2a105b[_0x5106a9+(0x2431+0x18*-0x88+0x1*-0x176d)*at['AREA_DATA_'+'HEIGHT']+(-0x172f*0x1+0xc1*-0x2f+0x3a9f)]=_0x426263[-0x16d3+0x838+-0xc5*-0x13],_0x2a105b[_0x5106a9+(0x1*-0x18da+0x78c+0x1152)*at['AREA_DATA_'+'HEIGHT']+(-0x2595+-0x18b1+-0xf92*-0x4)]=_0x426263[-0xa8e+0x304*0x7+-0xa89];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x19f9+-0x187e+0x4277;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x3a54f0){h(this,'clusterTex'+'ture'),(this['device']=_0x3a54f0,this['name']='Untitled',this['reportCoun'+'t']=-0x1ea1*-0x1+-0xc*-0x64+-0x2351,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x5ce+0x1*-0xaa1+0x1070,0x1cd4+-0x1faf+-0xb7*-0x4,0x1*-0x36a+-0x12eb*-0x1+0x3e*-0x40),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0xee+0x21a6*0x1+-0x38*0x9e,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x3a54f0),this['registerUn'+'iforms'](_0x3a54f0));}set['maxCellLig'+'htCount'](_0x2d0d38){_0x2d0d38!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x2d0d38,this['_cellsDirt'+'y']=!(-0x20a7+-0x1*0xef3+0x2f9a*0x1));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x3cd90b){ic['copy'](_0x3cd90b)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0x1*0x1526+0x1*0x859+-0x3*0x9d5));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x5ad31d){this['_clusterSk'+'ipId']=_0x5ad31d['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x5ad31d['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x5ad31d['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x5ad31d['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x79d+0x12a+0x6*-0x176),this['_clusterBo'+'undsMinId']=_0x5ad31d['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x972+0x59*0x13+0x2*-0x805),this['_clusterBo'+'undsDeltaI'+'d']=_0x5ad31d['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x1f3a+-0x5b9*0x1+0x24f6),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x5ad31d['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x2253+-0x1efa+-0x356),this['_clusterCe'+'llsDotId']=_0x5ad31d['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x3*0x427+0x16fe+-0x2370),this['_clusterCe'+'llsMaxId']=_0x5ad31d['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x26b5+-0xe76+-0x205*0xc);}['updatePara'+'ms'](_0x58d09b){_0x58d09b&&(this['cells']=_0x58d09b['cells'],this['maxCellLig'+'htCount']=_0x58d09b['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x58d09b['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x58d09b['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x58d09b['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x1*-0x122b+-0x1*0x284+-0xfa6);const _0x339d8b=this['_cells']['x'],_0x5106b2=this['_cells']['y'],_0xdffe33=this['_cells']['z'],_0x27fdc2=_0x339d8b*_0x5106b2*_0xdffe33,_0x30ea51=this['maxCellLig'+'htCount']*_0x27fdc2;let _0x51c6cb=Math['ceil'](Math['sqrt'](_0x30ea51));_0x51c6cb=Y['roundUp'](_0x51c6cb,this['maxCellLig'+'htCount']);const _0x415b71=Math['ceil'](_0x30ea51/_0x51c6cb);w['assert'](_0x51c6cb<=k_&&_0x415b71<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x25dc+0x1e1+-0x1*0x27bd]=_0x339d8b,this['_clusterCe'+'llsMaxData'][-0x104e+0x2279*0x1+-0x9b*0x1e]=_0x5106b2,this['_clusterCe'+'llsMaxData'][-0xa1+0x25ce+-0x252b]=_0xdffe33,this['_clusterCe'+'llsDotData'][-0x8db*0x2+0x206a+-0x4*0x3ad]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x7*0x467+-0x2255+-0x1*-0x4127]=_0x339d8b*_0xdffe33*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x17e8+-0x2*0x1092+0x93e]=_0x339d8b*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x30ea51),this['counts']=new Int32Array(_0x27fdc2),this['_clusterTe'+'xtureSizeD'+'ata'][0x1774+-0x1*0x1bc5+0x451]=_0x51c6cb,this['_clusterTe'+'xtureSizeD'+'ata'][0x111*-0x7+-0xf23*-0x1+-0x97*0xd]=(-0x35*0x95+0x3a9*-0x6+0x34d0)/_0x51c6cb,this['_clusterTe'+'xtureSizeD'+'ata'][-0x31*0x11+0x248f+-0x853*0x4]=(-0x29f*0x1+0x1*-0x256b+0x280b)/_0x415b71,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x51c6cb,_0x415b71,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x62*0x2f+-0x3*0x23f+0x18bc*0x1?0x22d*0x1+0x2305+0xcf*-0x2e:0x232b+-0x177d+0x3d*-0x31),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x2af3f6=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1957*0x1+0x40*-0x1+-0x1*-0x1997]=this['_cells']['x']/_0x2af3f6['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x18a4+-0x460+0x1*-0x1443]=this['_cells']['y']/_0x2af3f6['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x6*0x219+-0x149a*0x1+-0x1a*-0x4f]=this['_cells']['z']/_0x2af3f6['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x2385*0x1+-0x1e60+0x41e5]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1b*0x3d+-0x17a9+0x5*0x605]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x2*-0xb41+0x32a+0x135a]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xea2+-0x16*0x1d+0x20*0x89]=_0x2af3f6['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x532+0x69c+0x9f*-0x13]=_0x2af3f6['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1607+0x18dd+0x2ee2*-0x1]=_0x2af3f6['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x1d4417,_0x45fd19,_0x249992){_0x45fd19['copy'](_0x1d4417['min']),_0x45fd19['sub'](this['boundsMin']),_0x45fd19['div'](this['boundsDelt'+'a']),_0x45fd19['mul2'](_0x45fd19,this['cells']),_0x45fd19['floor'](),_0x249992['copy'](_0x1d4417['max']),_0x249992['sub'](this['boundsMin']),_0x249992['div'](this['boundsDelt'+'a']),_0x249992['mul2'](_0x249992,this['cells']),_0x249992['ceil'](),_0x45fd19['max'](D['ZERO']),_0x249992['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x5766a9){const _0x5e66ac=this['lightsBuff'+'er']['maxLights'],_0x18cf52=this['_usedLight'+'s'];let _0x522210=0x1c4*-0x2+0x147a+-0x10f1;_0x5766a9['forEach'](_0x5d5be3=>{const _0x2a17fb=!!(_0x5d5be3['mask']&(Ss|di)),_0x375083=_0x5d5be3['type']===Ze&&_0x5d5be3['_outerCone'+'Angle']===0xa2b+-0xcc5+0x29a;if(_0x5d5be3['enabled']&&_0x5d5be3['type']!==ve&&_0x5d5be3['visibleThi'+'sFrame']&&_0x5d5be3['intensity']>-0x1*0x6c5+0x5*0x272+-0x7f*0xb&&_0x2a17fb&&!_0x375083){if(_0x522210<_0x5e66ac){let _0x26fbab;_0x522210<_0x18cf52['length']?_0x26fbab=_0x18cf52[_0x522210]:(_0x26fbab=new U_(),_0x18cf52['push'](_0x26fbab)),_0x26fbab['light']=_0x5d5be3,_0x5d5be3['getBoundin'+'gBox'](Yd),_0x26fbab['min']['copy'](Yd['getMin']()),_0x26fbab['max']['copy'](Yd['getMax']()),_0x522210++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5e66ac-(0x1be2*-0x1+0x1a02+0xd*0x25))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x18cf52['length']=_0x522210;}['evaluateBo'+'unds'](){const _0x28ba79=this['_usedLight'+'s'],_0x578193=this['boundsMin'],_0x49c5ee=this['boundsMax'];if(_0x28ba79['length']>0x61*0x10+0xbcf*0x1+-0x11de){_0x578193['copy'](_0x28ba79[0x1515+0x8a3+-0x1db7]['min']),_0x49c5ee['copy'](_0x28ba79[0x1fb3+-0x1*-0xc73+-0x3*0xeb7]['max']);for(let _0x5445e0=0x6*-0x211+0x7fa*0x1+0x46e;_0x5445e0<_0x28ba79['length'];_0x5445e0++)_0x578193['min'](_0x28ba79[_0x5445e0]['min']),_0x49c5ee['max'](_0x28ba79[_0x5445e0]['max']);}else _0x578193['set'](-0x1e37+-0x2036+0x2f9*0x15,-0x3*0x8ab+-0x85a*0x1+0x225b*0x1,-0x4*-0x845+-0x28e*-0xa+0x38*-0x10c),_0x49c5ee['set'](-0x989*0x2+-0xc48*-0x3+-0x11c5,0x22b5*-0x1+-0x2*0xe4a+0x3f4a,-0x1509+0x28e+-0xb6*-0x1a);this['boundsDelt'+'a']['sub2'](_0x49c5ee,_0x578193),this['lightsBuff'+'er']['setBounds'](_0x578193,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x3062a9){this['counts']['fill'](0x274*0xc+-0x16e5*0x1+-0x68b),this['clusters']['fill'](-0xa44+0x9a8+0x9c),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3062a9?_0x3062a9['areaLights'+'Enabled']:!(0x1e55+-0x5*-0x92+-0x212e);const _0x3dd5a6=this['_cells']['x'],_0x4432ab=this['_cells']['z'],_0x454e1d=this['counts'],_0x373e23=this['_maxCellLi'+'ghtCount'],_0x17a185=this['clusters'],_0x50670b=this['maxCellLig'+'htCount'];let _0x350d44=!(0x3*0x146+0x371+-0x742);const _0x5bcf1c=this['_usedLight'+'s'];for(let _0x145f7f=0xbb*0x25+0x3e1+0xa4d*-0x3;_0x145f7f<_0x5bcf1c['length'];_0x145f7f++){const _0xded3ee=_0x5bcf1c[_0x145f7f],_0x29412a=_0xded3ee['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x29412a,_0x145f7f),this['evalLightC'+'ellMinMax'](_0xded3ee,rc,ac);const _0x2c6f70=rc['x'],_0x5597be=ac['x'],_0xccbf3b=rc['y'],_0x43393c=ac['y'],_0x44e501=rc['z'],_0x51c9e5=ac['z'];for(let _0x23f05e=_0x2c6f70;_0x23f05e<=_0x5597be;_0x23f05e++)for(let _0x45fcc8=_0x44e501;_0x45fcc8<=_0x51c9e5;_0x45fcc8++)for(let _0xa161be=_0xccbf3b;_0xa161be<=_0x43393c;_0xa161be++){const _0x3660fe=_0x23f05e+_0x3dd5a6*(_0x45fcc8+_0xa161be*_0x4432ab),_0x2a7145=_0x454e1d[_0x3660fe];_0x2a7145<_0x373e23?(_0x17a185[_0x50670b*_0x3660fe+_0x2a7145]=_0x145f7f,_0x454e1d[_0x3660fe]=_0x2a7145+(0x2665*-0x1+-0x133*0x11+0x3ac9)):_0x350d44=!(0x3a*0x5+-0x11cc+0x10aa);}}_0x350d44&&this['reportCoun'+'t']<-0xf*-0x12a+-0x2*-0x96a+0x1*-0x2445&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x222c+0xf1b+-0x3143?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x46329c,_0x1f0d51=null){this['updatePara'+'ms'](_0x1f0d51),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x46329c),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x1f0d51),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x65*0x21+0x23da+-0x1*0x16d3+0.39996322972865306,Nl={'circlePoint'(_0x211e49){const _0x287956=Math['sqrt'](Math['random']()),_0x561f47=Math['random']()*(0x20ad+-0x1270+0xe3b*-0x1)*Math['PI'];_0x211e49['x']=_0x287956*Math['cos'](_0x561f47),_0x211e49['y']=_0x287956*Math['sin'](_0x561f47);},'circlePointDeterministic'(_0x5a727a,_0x462ee1,_0x58bb63){const _0x41e2cd=_0x462ee1*B_,_0x22dc22=Math['sqrt'](_0x462ee1)/Math['sqrt'](_0x58bb63);_0x5a727a['x']=_0x22dc22*Math['cos'](_0x41e2cd),_0x5a727a['y']=_0x22dc22*Math['sin'](_0x41e2cd);},'spherePointDeterministic'(_0x160817,_0x22853c,_0x4e2018,_0x168434=-0x24d1+-0x3*0x869+0x3e0c,_0x51cb40=0xc*0x1b9+-0x96b*0x4+0x1101){_0x168434=-0x1af9*0x1+-0x164*-0xb+0x82*0x17-(-0x19b4+-0xb0e+-0x2d4*-0xd)*_0x168434,_0x51cb40=0xc16+0x1*0x851+-0x1466-(0x1115*-0x2+0x2*0xc7+-0x19*-0x14e)*_0x51cb40;const _0xf73eb3=Y['lerp'](_0x168434,_0x51cb40,_0x22853c/_0x4e2018),_0x5cac18=Math['sqrt'](-0x23a+0xfa7+-0xd6c-_0xf73eb3*_0xf73eb3),_0x5b76e9=B_*_0x22853c;_0x160817['x']=Math['cos'](_0x5b76e9)*_0x5cac18,_0x160817['y']=_0xf73eb3,_0x160817['z']=Math['sin'](_0x5b76e9)*_0x5cac18;},'radicalInverse'(_0x31c28f){let _0x3b5671=(_0x31c28f<<-0x3*0x346+-0x5*-0x5f2+-0x13d8|_0x31c28f>>>0x20d1+-0x246+-0x1e7b)>>>0x3dc+0x5d*-0x55+0x1b05;return _0x3b5671=((_0x3b5671&-0x82eb18c4+-0xa0fc1f17*-0x1+0x417a*0xd815)<<0x23d5+0x18*0x175+-0x46cc|(_0x3b5671&0x312596c3+0x5316bf*-0xd+0x7dbd3b9a)>>>-0x1f*-0x4e+0x1947*0x1+-0x65*0x58)>>>0x150d+0x1*-0x435+-0x10d8,_0x3b5671=((_0x3b5671&-0x47530f6+0x41faec22+0x51271*-0x209)<<-0x2300+-0x1*0x123f+0x3541*0x1|(_0x3b5671&0x1*-0xc18f974f+0x1216cc68f+0x6cef9d8c)>>>0x48b+-0x25*-0x1c+0x895*-0x1)>>>0x1f65+-0x10b*0xb+-0x13ec,_0x3b5671=((_0x3b5671&-0xe17af79*0x1+-0x80d6666+0x253424ee)<<-0x196+0x82a+-0x3*0x230|(_0x3b5671&-0x1e0b847*-0x41+0x11bc61e3b+-0xa*0x107d3255)>>>-0x2409+-0xabb+-0x2*-0x1764)>>>-0x6*0x4bd+-0xb*0x363+-0x5*-0xd23,_0x3b5671=((_0x3b5671&0x1aa1e0f+0x1*-0x1728f4b+-0xc7723b*-0x1)<<-0x2b*-0x2+0xb2f+-0xad*0x11|(_0x3b5671&0x16f*0x19441+-0x5f5b50c3*0x5+-0x1b*-0x1b04f6e0)>>>0x35*-0xb5+-0x191+-0x6*-0x683)>>>-0xef*0x12+-0x4*0x26e+0x1a86,_0x3b5671*(-0x1*0x17d7+0x6*0x262+-0x1*-0x98b+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x44ce5c){return BE[_0x44ce5c]??'decodeGamm'+'a';}static['encodeFunc'](_0xb1da87){return zE[_0xb1da87]??'encodeGamm'+'a';}}const z_=_0x4cce0c=>{switch(_0x4cce0c){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x24632b,_0x2a46ac,_0x44681b)=>{if(_0x24632b<=-0xae7*0x1+-0xb82+-0x1*-0x1669)_0x2a46ac[_0x44681b+(0x11f3+-0x4a*0x4f+0x4e3)]=-0x1*-0x1f87+-0x486*0x1+-0xdf*0x1f,_0x2a46ac[_0x44681b+(-0x23a1*-0x1+0x1a0e+-0x1*0x3dae)]=-0x17f0+0x20d6+-0x8e6,_0x2a46ac[_0x44681b+(-0x14cc+-0x1b69*0x1+0x3037)]=-0x1*-0x252f+0x4b1+-0x29e*0x10,_0x2a46ac[_0x44681b+(0xe55*0x1+-0x1f8+-0x2*0x62d)]=-0x12c0+-0x605+-0x18c5*-0x1;else{if(_0x24632b>=-0xd*-0x41+0x20f8+-0x1a6*0x16)_0x2a46ac[_0x44681b+(-0x5*-0x751+0x1*0x64c+-0x1*0x2ae1)]=0x1596+-0xde2+-0x6b5,_0x2a46ac[_0x44681b+(0xd65+0x5b*-0x7+0xae7*-0x1)]=-0x7*0xe5+-0x174d+0x2*0xec8,_0x2a46ac[_0x44681b+(0x128e*0x1+-0x1*0x148+-0x1144)]=-0xb*0x1c5+0x95*-0xe+0x1b9d,_0x2a46ac[_0x44681b+(-0x1*0xec9+-0x9f*-0x3+0x7*0x1d9)]=0x1*0xe87+-0x1*0x16c6+-0x1*-0x83f;else{let _0x373cc0=(0x978+0x1*0x2527+0x1*-0x2e9e)*_0x24632b%(0x1a*0x11b+0x12c1+-0x2f7e),_0x53e339=(0x1*-0x7f+-0xb*0xfb+0xc47)*_0x24632b%(-0x1*-0x543+-0xa24*-0x2+-0x198a),_0x59186c=(-0x9b90+-0x101db+0x857c*0x5)*_0x24632b%(-0x218d+0x2*-0xd81+0x3c90);const _0x43f2b8=(0x19c8239+0x1*0x188e709+-0x2286643)*_0x24632b%(-0xf36+0x1d7+0xd60);_0x373cc0-=_0x53e339/(0x1*0x1553+-0xbf2+-0x862),_0x53e339-=_0x59186c/(0x100b+0x1003*-0x1+0xf7*0x1),_0x59186c-=_0x43f2b8/(0x14af+-0x2a7*-0xa+-0x2e36),_0x2a46ac[_0x44681b+(-0x1*0x1d99+-0x3*0x65+-0xa*-0x314)]=Math['min'](0x2*-0x10f7+-0x1*0x18ac+0x3b99,Math['floor'](_0x373cc0*(0x7a5*0x1+0x1a14+-0x20b9*0x1))),_0x2a46ac[_0x44681b+(0x2679+0x4*0x8cb+0x623*-0xc)]=Math['min'](0x2028+0x50*0x47+-0x3559,Math['floor'](_0x53e339*(-0x831+-0x1565*-0x1+-0xc34))),_0x2a46ac[_0x44681b+(-0xcae+-0x25a6+0x3256)]=Math['min'](0xa74+-0x1*-0x217d+-0x2af2,Math['floor'](_0x59186c*(0x2147+-0x26cd+-0xa*-0xa7))),_0x2a46ac[_0x44681b+(-0x9*0x2fc+-0x197+-0xe3b*-0x2)]=Math['min'](-0x119*0x11+0x2320+-0xf78,Math['floor'](_0x43f2b8*(0x3*-0x1a9+-0x1a69+0x2064)));}}},VE=_0x1e6944=>{const _0x1762e1=_0x1e6944['length'],_0x1f2a2e=Math['min'](_0x1762e1,-0x6b6+-0x1*-0x19ab+0x10f5*-0x1),_0x1a2160=Math['ceil'](_0x1762e1/_0x1f2a2e),_0xb5d4cf=new Uint8Array(_0x1f2a2e*_0x1a2160*(-0x156+0x39c+-0x242));let _0x525797=-0x13*-0x1b3+-0xa32*0x2+-0xbe5;for(let _0x5daad7=0x2d2*0x1+-0x1be3+0x1911;_0x5daad7<_0x1762e1;_0x5daad7+=-0x1*-0x1f85+0xb34+-0x2ab5)nc(_0x1e6944[_0x5daad7+(0x1f*-0x4d+0x26dd+-0x1d8a)]*(0x1215*0x1+0x277*-0x7+-0xd4+0.5)+(0x1*0x94+0x953+-0x9e7+0.5),_0xb5d4cf,_0x525797+(-0x11d*0xe+0x3*0xaae+0x41d*-0x4)),nc(_0x1e6944[_0x5daad7+(-0x1858+0x23ba+0x1*-0xb61)]*(-0x4*-0x8b0+0x7*0x191+-0x2db7+0.5)+(0x1eb7+0x247a+-0x1*0x4331+0.5),_0xb5d4cf,_0x525797+(0x208d+0x1*-0x1d53+0x112*-0x3)),nc(_0x1e6944[_0x5daad7+(0x8*0x395+-0x1e57+0x1b1)]*(-0x1c10+0x141+0x1acf*0x1+0.5)+(-0xfe1*0x2+-0x43*0x79+0x3f6d+0.5),_0xb5d4cf,_0x525797+(0x19d*-0xd+-0xa40+0x7*0x477)),nc(_0x1e6944[_0x5daad7+(0x1a02*-0x1+0x12+-0x49*-0x5b)]/(-0x10*-0x7+-0x1f01+0x1*0x1e99),_0xb5d4cf,_0x525797+(0x3dd+-0x11b*-0xd+-0x1230)),_0x525797+=-0x2*0x4ef+-0xf*-0xd7+0x2ab*-0x1;return{'width':_0x1f2a2e,'height':_0x1a2160,'data':_0xb5d4cf};},GE=(_0x304d17,_0x4d49c6,_0x321f30,_0x499b48)=>{const _0x11e4e1=_0x321f30*(-0x47e*0x8+0x1a24+-0x1f6*-0x5)*Math['PI'],_0xdbcfd5=Math['pow'](0x4*0x61+0x2*0x79c+0x10bb*-0x1-_0x4d49c6,(-0x21df+0xbf6+-0x16*-0xff)/(_0x499b48+(-0x2a*-0xb5+0x21f+0x3fa*-0x8))),_0xc71b8e=Math['sqrt'](-0x38*0x38+0x376*-0xb+0xd*0x3df-_0xdbcfd5*_0xdbcfd5);_0x304d17['set'](Math['cos'](_0x11e4e1)*_0xc71b8e,Math['sin'](_0x11e4e1)*_0xc71b8e,_0xdbcfd5)['normalize']();},HE=(_0x2f076a,_0xad4652,_0x512288)=>{const _0x59adb4=_0x512288*(-0x1b78+-0x815*-0x4+-0x4da)*Math['PI'],_0x162988=Math['sqrt'](0x16*-0x113+-0x324*0x3+0x210f-_0xad4652),_0x346cb2=Math['sqrt'](_0xad4652);_0x2f076a['set'](Math['cos'](_0x59adb4)*_0x346cb2,Math['sin'](_0x59adb4)*_0x346cb2,_0x162988)['normalize']();},WE=(_0x407e9a,_0x3631f0,_0x220b3c,_0x276675)=>{const _0x3d9fff=_0x220b3c*(-0xa2d+0x14b9+-0x2*0x545)*Math['PI'],_0x1ff63c=Math['sqrt']((-0x274*-0x6+-0x186b+-0x26d*-0x4-_0x3631f0)/(-0x1b81+-0x25ec+0x416e+(_0x276675*_0x276675-(0x829*-0x1+0x213e+-0x1914))*_0x3631f0)),_0x30850a=Math['sqrt'](-0xa*-0x30b+-0x1175+-0xcf8-_0x1ff63c*_0x1ff63c);_0x407e9a['set'](Math['cos'](_0x3d9fff)*_0x30850a,Math['sin'](_0x3d9fff)*_0x30850a,_0x1ff63c)['normalize']();},$E=(_0x24a14c,_0x50d252)=>{const _0x5a0ddd=_0x24a14c*_0x50d252,_0x1299b9=_0x50d252/(-0x1*0x13eb+-0x1b89+-0x1*-0x2f75-_0x24a14c*_0x24a14c+_0x5a0ddd*_0x5a0ddd);return _0x1299b9*_0x1299b9*((0x1be5+0x2*0xb4d+-0x327e)/Math['PI']);},XE=(_0x5cd127,_0x4a6b47)=>{const _0x100a1a=new D(),_0x1366f4=[];for(let _0x1a6284=-0x1332+-0x100+0x1432;_0x1a6284<_0x5cd127;++_0x1a6284)GE(_0x100a1a,_0x1a6284/_0x5cd127,Nl['radicalInv'+'erse'](_0x1a6284),_0x4a6b47),_0x1366f4['push'](_0x100a1a['x'],_0x100a1a['y'],_0x100a1a['z'],-0x293*-0x3+0x1b44+-0x22fd);return _0x1366f4;},qE=(_0x442172,_0x29c0e4)=>{const _0x47ac19=_0x29c0e4/_0x442172,_0x146a4d=new D(),_0x50bfd3=[];for(let _0x2c8f1e=-0xd2b+0x2*-0x7c2+0x1*0x1caf;_0x2c8f1e<_0x442172;++_0x2c8f1e){HE(_0x146a4d,_0x2c8f1e/_0x442172,Nl['radicalInv'+'erse'](_0x2c8f1e));const _0x5a38d8=_0x146a4d['z']/Math['PI'],_0x5743ce=(0x22e8+-0x2231*0x1+-0xb7+0.5)*Math['log2'](_0x47ac19/_0x5a38d8);_0x50bfd3['push'](_0x146a4d['x'],_0x146a4d['y'],_0x146a4d['z'],_0x5743ce);}return _0x50bfd3;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x529f02,_0x346cd1)=>{const _0xd934aa=jE[_0x529f02];return _0xd934aa&&_0xd934aa[_0x346cd1]||_0x529f02;},KE=(_0x503872,_0x238bd3,_0x1b848a)=>{const _0x33f9ba=_0x1b848a/_0x503872,_0x5a124d=-0xc3*0x1d+-0x17ca+0x2de2-Math['log2'](_0x238bd3)/(-0x159f+0x947+0xc63*0x1),_0x4aa519=_0x5a124d*_0x5a124d,_0x568334=new D(),_0x138a32=new D(),_0x3bff33=new D(0x6df+0x23d5+-0x2ab4,-0x2058+-0x26cb+0x4723,0x15e0+-0x3*-0x829+0x15d*-0x22),_0x3bcf1e=[],_0x38cd6c=YE(_0x503872,_0x238bd3);for(let _0xe5f0d8=0x945+0x2153*-0x1+0x2*0xc07;_0xe5f0d8<_0x38cd6c;++_0xe5f0d8){WE(_0x568334,_0xe5f0d8/_0x38cd6c,Nl['radicalInv'+'erse'](_0xe5f0d8),_0x4aa519);const _0x5b9ca3=_0x568334['z'];if(_0x138a32['set'](_0x568334['x'],_0x568334['y'],_0x568334['z'])['mulScalar']((-0xd8+0x19f5+-0x191b*0x1)*_0x5b9ca3)['sub'](_0x3bff33),_0x138a32['z']>0xd4*-0x4+-0x55*0xa+0x6a2){const _0x8a77b2=$E(Math['min'](-0x106d+-0xc0a*0x1+0x1c78,_0x5b9ca3),_0x4aa519)/(-0x1*0x1236+0x1747+0x3*-0x1af)+(0x7b9+-0x1ec5+0x76*0x32+0.001),_0x5e29ea=(0x189+0x2*0xe99+0x1ebb*-0x1+0.5)*Math['log2'](_0x33f9ba/_0x8a77b2);_0x3bcf1e['push'](_0x138a32['x'],_0x138a32['y'],_0x138a32['z'],_0x5e29ea);}}for(;_0x3bcf1e['length']<_0x503872*(-0x62*0x1+-0x1514+-0x157a*-0x1);)_0x3bcf1e['push'](0xd49+-0x1e7*0x13+0x16dc,-0x235c+-0x1b8a+0x3ee6,0xce9*0x3+0x1543*-0x1+-0x1178,-0x198f+-0xd4e+0x26dd);return _0x3bcf1e;},ZE=(_0x32b9c6,_0x170ed3,_0x405850)=>{const _0x244aea=VE(_0x405850);return new _e(_0x32b9c6,{'name':_0x170ed3,'width':_0x244aea['width'],'height':_0x244aea['height'],'mipmaps':!(-0xe76*-0x1+-0x1aa*0x17+0x1*0x17d1),'minFilter':Te,'magFilter':Te,'levels':[_0x244aea['data']]});};class xv{constructor(_0x1fff72=!(0xd3*-0x1+0x7*-0x506+0x23fd*0x1)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x1fff72;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x2614fa,_0x5846e2)=>{_0x2614fa['destroy']();});}['get'](_0x3cc417,_0x175ff1){if(!this['map']['has'](_0x3cc417)){const _0x20543a=_0x175ff1();return this['map']['set'](_0x3cc417,_0x20543a),_0x20543a;}return this['map']['get'](_0x3cc417);}}const QE=new xv(!(-0xb1e+-0xdd9+0x18f8*0x1)),JE=new Kt(),dm=(_0x1b7204,_0x2a3797,_0x1d8fd7)=>JE['get'](_0x1b7204,()=>new xv())['get'](_0x2a3797,()=>ZE(_0x1b7204,_0x2a3797,QE['get'](_0x2a3797,_0x1d8fd7))),eb=(_0x5c5cc3,_0x43682,_0x4d88b4)=>{const _0x26f1b6='lambert-sa'+'mples-'+_0x43682+'-'+_0x4d88b4;return dm(_0x5c5cc3,_0x26f1b6,()=>qE(_0x43682,_0x4d88b4));},tb=(_0x3a24ac,_0x261746,_0x45401c)=>{const _0xaf72fe='phong-samp'+'les-'+_0x261746+'-'+_0x45401c;return dm(_0x3a24ac,_0xaf72fe,()=>XE(_0x261746,_0x45401c));},sb=(_0x4e1d75,_0x2a0165,_0x645d53,_0x7b52cf)=>{const _0x23ca01='ggx-sample'+'s-'+_0x2a0165+'-'+_0x645d53+'-'+_0x7b52cf;return dm(_0x4e1d75,_0x23ca01,()=>KE(_0x2a0165,_0x645d53,_0x7b52cf));};function vi(_0xb59a6e,_0x1257ed,_0x490294={}){var _0x398e03,_0x59f245;w['assert'](_0xb59a6e instanceof _e&&_0x1257ed instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x18d9d2=_0x490294['seamPixels']??-0x73c*-0x5+0xc7*-0xc+-0x1ad8,_0x393c2c=(((_0x398e03=_0x490294['rect'])==null?void(0xff1+-0x1*-0x24e5+0x1*-0x34d6):_0x398e03['z'])??_0x1257ed['width'])-_0x18d9d2*(0x17e+0x1*-0xa9d+0x921),_0xa22be9=(((_0x59f245=_0x490294['rect'])==null?void(-0xa*0xd9+0xc2*-0x28+0x26ca):_0x59f245['w'])??_0x1257ed['height'])-_0x18d9d2*(-0xc2d*0x2+-0x2399+0x1*0x3bf5);if(_0x393c2c<0x2309*0x1+0x1*0x2171+-0x16d3*0x3||_0xa22be9<0x10bd+-0x149f+0x3e3)return!(-0x1*-0x6e1+-0x1*-0x173b+-0x1e1b);const _0x2028d0={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x2461c8=_0x490294['hasOwnProp'+'erty']('specularPo'+'wer')?_0x490294['specularPo'+'wer']:0xfa4+0x1*-0x15ed+0x64a,_0x268bf7=_0x490294['hasOwnProp'+'erty']('face')?_0x490294['face']:null,_0x182459=_0x490294['hasOwnProp'+'erty']('distributi'+'on')?_0x490294['distributi'+'on']:_0x2461c8===0x24ca*0x1+-0x2*-0x626+-0x7*0x703?'none':'phong',_0x538c2f=_0x2028d0[_0x182459]||'reproject',_0x4ef596=_0x538c2f['startsWith']('prefilterS'+'amples'),_0x5614c0=Tr['decodeFunc'](_0xb59a6e['encoding']),_0x485954=Tr['encodeFunc'](_0x1257ed['encoding']),_0x271ad7='sample'+z_(_0xb59a6e['projection']),_0x565ef3='getDirecti'+'on'+z_(_0x1257ed['projection']),_0x4b183b=_0x490294['hasOwnProp'+'erty']('numSamples')?_0x490294['numSamples']:-0x1ae3+0xe54+0x108f,_0x3dc86b='ReprojectS'+'hader:'+_0x538c2f+'_'+_0x5614c0+'_'+_0x485954+'_'+_0x271ad7+'_'+_0x565ef3+'_'+_0x4b183b,_0x1b04cb=_0xb59a6e['device'];let _0x4f15dd=Hn(_0x1b04cb)['getCachedS'+'hader'](_0x3dc86b);if(!_0x4f15dd){const _0x5bede5=new Map();_0x4ef596&&_0x5bede5['set']('USE_SAMPLE'+'S_TEX',''),_0xb59a6e['cubemap']&&_0x5bede5['set']('CUBEMAP_SO'+'URCE',''),_0x5bede5['set']('{PROCESS_F'+'UNC}',_0x538c2f),_0x5bede5['set']('{DECODE_FU'+'NC}',_0x5614c0),_0x5bede5['set']('{ENCODE_FU'+'NC}',_0x485954),_0x5bede5['set']('{SOURCE_FU'+'NC}',_0x271ad7),_0x5bede5['set']('{TARGET_FU'+'NC}',_0x565ef3),_0x5bede5['set']('{NUM_SAMPL'+'ES}',_0x4b183b),_0x5bede5['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x4b183b))['toFixed'](0x1*-0x569+0x1365+0xdfb*-0x1));const _0xc1d0b4=_0x1b04cb['isWebGPU'],_0x34004c=Pe['get'](_0x1b04cb,_0xc1d0b4?it:Fe),_0x4353f4=new Map();_0x4353f4['set']('decodePS',_0x34004c['get']('decodePS')),_0x4353f4['set']('encodePS',_0x34004c['get']('encodePS')),_0x4f15dd=$t['createShad'+'er'](_0x1b04cb,{'uniqueName':_0x3dc86b,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x4353f4,'fragmentDefines':_0x5bede5});}Q['pushGpuMar'+'ker'](_0x1b04cb,'ReprojectT'+'exture'),_0x1b04cb['setBlendSt'+'ate'](pt['NOBLEND']);const _0x844e73=_0x1b04cb['scope']['resolve'](_0xb59a6e['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x844e73),_0x844e73['setValue'](_0xb59a6e);const _0x376e81=_0x1b04cb['scope']['resolve']('params'),_0x400f7f=_0x1b04cb['scope']['resolve']('uvMod');_0x18d9d2>-0x2037+-0x76*-0x28+0xdc7?_0x400f7f['setValue']([(_0x393c2c+_0x18d9d2*(-0x10ef+-0x1ba1+0x2c92))/_0x393c2c,(_0xa22be9+_0x18d9d2*(0x3a*-0x3d+-0x11b+-0x1*-0xeef))/_0xa22be9,-_0x18d9d2/_0x393c2c,-_0x18d9d2/_0xa22be9]):_0x400f7f['setValue']([0xf*-0x100+0xe6b*0x1+0x5*0x1e,-0x8*0xdd+-0x3b3*-0xa+0x97*-0x33,-0x1af2+0x1*0x1247+0x8ab*0x1,-0x3d*-0x53+0x2*-0x96b+-0xf1]);const _0x38bc22=[-0x2d9+-0x19*-0xcd+-0x112c,_0x1257ed['width']*_0x1257ed['height']*(_0x1257ed['cubemap']?0xcd6+0x1*-0xc5b+-0x75:-0x2308+0x2235+-0x1*-0xd4),_0xb59a6e['width']*_0xb59a6e['height']*(_0xb59a6e['cubemap']?0x1ddb+0x446+-0x221b*0x1:0x86+0xeb1+0x2*-0x79b)];if(_0x4ef596){const _0x24c203=_0xb59a6e['width']*_0xb59a6e['height']*(_0xb59a6e['cubemap']?-0xbfe+0x1544+-0x128*0x8:0x1*-0x196f+0x1c3b+-0x2cb),_0x32c629=_0x182459==='ggx'?sb(_0x1b04cb,_0x4b183b,_0x2461c8,_0x24c203):_0x182459==='lambert'?eb(_0x1b04cb,_0x4b183b,_0x24c203):tb(_0x1b04cb,_0x4b183b,_0x2461c8);_0x1b04cb['scope']['resolve']('samplesTex')['setValue'](_0x32c629),_0x1b04cb['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x69a+0x7*-0x196+-0x5e7*-0x3)/_0x32c629['width'],(0x2*-0xbdd+0x23*0x3+0x1752)/_0x32c629['height']]);}for(let _0x369a79=-0x674+-0x1625+0x1c99;_0x369a79<(_0x1257ed['cubemap']?-0x1e66+0x13*0x1b3+-0x1dd:0x15c1*-0x1+-0x4*-0x455+0x46e);_0x369a79++)if(_0x268bf7===null||_0x369a79===_0x268bf7){const _0xee15d6=new gt({'colorBuffer':_0x1257ed,'face':_0x369a79,'depth':!(0x1*0x2614+0x2d9+-0x24*0x123),'flipY':_0x1b04cb['isWebGPU']});_0x38bc22[0x18f1+-0x1157+-0x79a]=_0x369a79,_0x376e81['setValue'](_0x38bc22),Ar(_0x1b04cb,_0xee15d6,_0x4f15dd,_0x490294==null?void(-0xe*0x20+-0xb55*0x2+0x186a):_0x490294['rect']),_0xee15d6['destroy']();}return Q['popGpuMark'+'er'](_0x1b04cb),!(0x20c1*0x1+-0x1558*-0x1+-0x3619);}const Kd=(_0x2149c1,_0x4f7654=-0x133*0x1d+0x427+0x1ea0)=>-0x1884+0x7c9*0x4+-0x69f+Math['floor'](Math['log2'](Math['max'](_0x2149c1,_0x4f7654))),ib=_0x479535=>_0x479535['textureHal'+'fFloatRend'+'erable'],rb=_0x3a56dc=>_0x3a56dc['textureFlo'+'atRenderab'+'le'],ab=_0x42da65=>ib(_0x42da65)?nt:rb(_0x42da65)?Xt:Ne,nb=_0x169bb5=>Ne,ob=(_0x51053b,_0xd2523b,_0x10cb70,_0x259eeb)=>new _e(_0x51053b,{'name':'lighting-'+_0xd2523b,'cubemap':!(-0x2f*-0x1c+-0x1354+0xe30),'width':_0xd2523b,'height':_0xd2523b,'format':_0x10cb70,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x20f6+-0x1f51*-0x1+0xd3*0x2)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x6635e5,_0x3dce03){const _0x581329=_0x6635e5['device'];Q['pushGpuMar'+'ker'](_0x581329,'genSkyboxC'+'ubemap');const _0xb2334b=ob(_0x581329,_0x3dce03||(_0x6635e5['cubemap']?_0x6635e5['width']:_0x6635e5['width']/(0x3dc+-0x231+-0x1*0x1a7)),Ne);return vi(_0x6635e5,_0xb2334b,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x581329),_0xb2334b;}static['generateLi'+'ghtingSour'+'ce'](_0x6d1172,_0x428401){const _0x3d484b=_0x6d1172['device'];Q['pushGpuMar'+'ker'](_0x3d484b,'genLightin'+'gSource');const _0x4d387f=ab(_0x3d484b),_0x2caa1a=(_0x428401==null?void(0x2f9*0xb+0x556*-0x2+-0x1607):_0x428401['target'])||new _e(_0x3d484b,{'name':'lighting-s'+'ource','cubemap':!(0x257e+-0xb*-0x32e+0x121e*-0x4),'width':(_0x428401==null?void(0x80*0x14+0x1*-0x91a+-0x1*0xe6):_0x428401['size'])||-0x138f+-0x76b*0x1+-0x2*-0xdbd,'height':(_0x428401==null?void(0x2*-0x89f+0xf*0x15d+0x335*-0x1):_0x428401['size'])||-0x3*0x573+0x34f*0x3+-0x6ec*-0x1,'format':_0x4d387f,'type':_0x4d387f===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x9fa+0x18*-0x53+0x8e1*0x2)});return vi(_0x6d1172,_0x2caa1a,{'numSamples':_0x6d1172['mipmaps']?-0x16a8+-0x2222+0x38cb:0x2491+0x5e3*0x2+-0x2c57*0x1}),Q['popGpuMark'+'er'](_0x3d484b),_0x2caa1a;}static['generateAt'+'las'](_0x56048b,_0x5c487a){const _0x4d96dc=_0x56048b['device'],_0x4ff1c8=nb();Q['pushGpuMar'+'ker'](_0x4d96dc,'genAtlas');const _0x31ea37=(_0x5c487a==null?void(-0xccf+0xaa1+0x22e):_0x5c487a['target'])||new _e(_0x4d96dc,{'name':'envAtlas','width':(_0x5c487a==null?void(-0x1*-0x19e2+0x28*-0xf4+-0x2*-0x61f):_0x5c487a['size'])||-0x3df*-0x6+0x230a+-0x3844,'height':(_0x5c487a==null?void(0xa63*0x1+-0x1*-0x1b91+-0x25f4):_0x5c487a['size'])||0x1a17+0x1ef3+-0x370a,'format':_0x4ff1c8,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x18d2+0x1*-0x8bf+-0x1012)});Q['pushGpuMar'+'ker'](_0x4d96dc,'mipmaps');const _0x1bd85e=_0x31ea37['width']/(-0x2f*-0x83+-0x2262+-0x1*-0xc55),_0x4a19a9=new re(0x1dbd+-0x1*-0x15c1+-0x337e,-0x1baa+-0x81c+0x23c6,(-0x1c8e+0x5*-0xd1+0x22a3)*_0x1bd85e,(0xbe1*0x2+0xbbd+-0x227f)*_0x1bd85e),_0x3b6420=Kd(0x1*-0xfa3+-0xffc+0x209f*0x1)-Kd(-0xee7+0x1*-0x2483+0x1*0x336e);for(let _0x2fb074=0x17d*-0x1+0x1f04+0x1*-0x1d87;_0x2fb074<_0x3b6420;++_0x2fb074)vi(_0x56048b,_0x31ea37,{'numSamples':0x1,'rect':_0x4a19a9,'seamPixels':_0x1bd85e}),_0x4a19a9['x']+=_0x4a19a9['w'],_0x4a19a9['y']+=_0x4a19a9['w'],_0x4a19a9['z']=Math['max'](0x17a*-0x9+-0x25*-0xe5+-0x34d*0x6,Math['floor'](_0x4a19a9['z']*(0x1561*0x1+-0x2*-0x731+0x23c3*-0x1+0.5))),_0x4a19a9['w']=Math['max'](0x1c88+0x1*-0x40+0x17d*-0x13,Math['floor'](_0x4a19a9['w']*(0x139a+0xca0+0x42*-0x7d+0.5)));Q['popGpuMark'+'er'](_0x4d96dc),Q['pushGpuMar'+'ker'](_0x4d96dc,'reflection'+'s'),_0x4a19a9['set'](-0x1*0xdab+-0xa*0x251+-0x24d5*-0x1,(-0x2197+-0xda*0x13+0x32c5*0x1)*_0x1bd85e,(-0x1adf+-0x2122+0x3d01)*_0x1bd85e,(0x1a2c+0xf*0x1df+-0x35bd)*_0x1bd85e);for(let _0x1d3638=0x19f5+-0x600+-0x13f4*0x1;_0x1d3638<-0xf81*-0x1+0x1481+-0x23fb;++_0x1d3638)vi(_0x56048b,_0x31ea37,{'numSamples':(_0x5c487a==null?void(-0x23c+-0x1*-0x367+-0x12b):_0x5c487a['numReflect'+'ionSamples'])||-0x1c59+-0x10d+0x357*0xa,'distribution':(_0x5c487a==null?void(-0x222e+-0x728+-0x4a*-0x8f):_0x5c487a['distributi'+'on'])||'ggx','specularPower':Math['max'](0x7*0x1b7+0x1d4d+0x294d*-0x1,-0x95b*-0x1+0xa0*-0xc+0x625>>_0x1d3638*(0x2311*-0x1+0x1917*-0x1+-0x12e*-0x33)),'rect':_0x4a19a9,'seamPixels':_0x1bd85e}),_0x4a19a9['y']+=_0x4a19a9['w'],_0x4a19a9['z']=Math['max'](-0x1*0x2327+-0x7cf+-0x1*-0x2af7,Math['floor'](_0x4a19a9['z']*(-0x13df*0x1+0x4*0x34d+0x6ab+0.5))),_0x4a19a9['w']=Math['max'](0x6cc+-0x53d+-0x18e,Math['floor'](_0x4a19a9['w']*(0x1*0x1869+0x58+-0x18c1*0x1+0.5)));return Q['popGpuMark'+'er'](_0x4d96dc),Q['pushGpuMar'+'ker'](_0x4d96dc,'ambient'),_0x4a19a9['set']((0x15ca+0x26da+-0x4*0xf09)*_0x1bd85e,(0x2177*0x1+0xaba+-0x2ab1)*_0x1bd85e,(-0x7*-0x351+-0x1da3+0x6ac)*_0x1bd85e,(0x125c+0xa1d+0x29*-0xb1)*_0x1bd85e),vi(_0x56048b,_0x31ea37,{'numSamples':(_0x5c487a==null?void(0x1979*-0x1+-0x2559+0x3ed2):_0x5c487a['numAmbient'+'Samples'])||-0x2135+-0xcc*-0x29+0x889,'distribution':'lambert','rect':_0x4a19a9,'seamPixels':_0x1bd85e}),Q['popGpuMark'+'er'](_0x4d96dc),Q['popGpuMark'+'er'](_0x4d96dc),_0x31ea37;}static['generatePr'+'efilteredA'+'tlas'](_0x3e14bb,_0x1c9057){const _0x4ae8e7=_0x3e14bb[-0x283*-0x3+-0x2a*0x4a+0x49b]['device'],_0x7f8cb3=_0x3e14bb[-0x744*0x5+-0x1*-0x141b+-0x1039*-0x1]['format'],_0x2c69b7=_0x3e14bb[0x836*0x4+-0x65a+-0x1a7e]['type'];Q['pushGpuMar'+'ker'](_0x4ae8e7,'genPrefilt'+'eredAtlas');const _0x67e02f=(_0x1c9057==null?void(0x2226+-0x5*-0x716+-0x4594):_0x1c9057['target'])||new _e(_0x4ae8e7,{'name':'envPrefilt'+'eredAtlas','width':(_0x1c9057==null?void(0x1*-0x15cd+0x1939*0x1+-0x36c):_0x1c9057['size'])||0x946*-0x4+0xce4+0x1a34,'height':(_0x1c9057==null?void(-0x6ed+0x975+-0x288):_0x1c9057['size'])||0x5*0x362+-0x15ad+0x6c3,'format':_0x7f8cb3,'type':_0x2c69b7,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x214b+0xb94+-0x1*-0x15b8)});Q['pushGpuMar'+'ker'](_0x4ae8e7,'mipmaps');const _0x2c6337=_0x67e02f['width']/(-0x1f*-0x83+-0x1*-0x166f+-0x244c),_0x17eaa5=new re(0x1d4d*-0x1+0x665*-0x3+-0x74*-0x6b,-0x8bc+0x19c8+0x2*-0x886,(0x1*0xd69+-0x6*-0x649+-0x311f)*_0x2c6337,(0xf7d+0x43*0x21+-0x1720)*_0x2c6337),_0x51c7c0=Kd(-0x1761+0x6ac+0x12b5);for(let _0x593637=-0xf97+-0x1034+0x1fcb;_0x593637<_0x51c7c0;++_0x593637)vi(_0x3e14bb[0x1e19+0x1a7d+-0x3896*0x1],_0x67e02f,{'numSamples':0x1,'rect':_0x17eaa5,'seamPixels':_0x2c6337}),_0x17eaa5['x']+=_0x17eaa5['w'],_0x17eaa5['y']+=_0x17eaa5['w'],_0x17eaa5['z']=Math['max'](-0xd*0xca+0x1b41+-0x10fe,Math['floor'](_0x17eaa5['z']*(-0xb*-0x177+0x4*-0x33e+0x325*-0x1+0.5))),_0x17eaa5['w']=Math['max'](0x1452+0x11a9+-0x1*0x25fa,Math['floor'](_0x17eaa5['w']*(0x99*-0x35+0x2*0x458+0x16fd+0.5)));Q['popGpuMark'+'er'](_0x4ae8e7),Q['pushGpuMar'+'ker'](_0x4ae8e7,'reflection'+'s'),_0x17eaa5['set'](0x47b+-0x1*-0x1331+-0x17ac,(-0x1ac4+-0x22c8+0x3e8c)*_0x2c6337,(0x21eb+-0x1596+-0xb55)*_0x2c6337,(-0x2e*0x44+0x3b8+0x900)*_0x2c6337);for(let _0x45cb20=-0x17c9+0x1*-0x2441+0x3c0b;_0x45cb20<_0x3e14bb['length'];++_0x45cb20)vi(_0x3e14bb[_0x45cb20],_0x67e02f,{'numSamples':0x1,'rect':_0x17eaa5,'seamPixels':_0x2c6337}),_0x17eaa5['y']+=_0x17eaa5['w'],_0x17eaa5['z']=Math['max'](0x3*-0x731+-0x817+0xf5*0x1f,Math['floor'](_0x17eaa5['z']*(-0x1*-0x2276+-0xb3*0x2+0x2110*-0x1+0.5))),_0x17eaa5['w']=Math['max'](0x439*0x4+0x8a7+-0x1d3*0xe,Math['floor'](_0x17eaa5['w']*(-0x39a*-0x4+0xcd*-0x5+-0xa67+0.5)));return Q['popGpuMark'+'er'](_0x4ae8e7),Q['pushGpuMar'+'ker'](_0x4ae8e7,'ambient'),_0x17eaa5['set']((-0x9*-0x5+0x94*-0x12+0xabb)*_0x2c6337,(0x14bc+0x869*0x3+-0x2c77*0x1)*_0x2c6337,(-0x32*0x6+-0x336+0x4a2)*_0x2c6337,(0x4*0x427+0x153f+0x1*-0x25bb)*_0x2c6337),_0x1c9057!=null&&_0x1c9057['legacyAmbi'+'ent']?vi(_0x3e14bb[0x24a*0x9+-0x1*0x49d+0xe*-0x124],_0x67e02f,{'numSamples':0x1,'rect':_0x17eaa5,'seamPixels':_0x2c6337}):vi(_0x3e14bb[0x243e+-0xe32*0x1+-0x160c],_0x67e02f,{'numSamples':(_0x1c9057==null?void(0xb8e+-0x1570+0xb*0xe6):_0x1c9057['numSamples'])||-0xb16*0x1+0x70f*0x2+-0x6*-0xd4,'distribution':'lambert','rect':_0x17eaa5,'seamPixels':_0x2c6337}),Q['popGpuMark'+'er'](_0x4ae8e7),Q['popGpuMark'+'er'](_0x4ae8e7),_0x67e02f;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x462338,_0x227d99)=>{const _0x4dcf8e=_0x462338['split']('.')['map'](_0x4b54b3=>parseInt(_0x4b54b3,-0x10*-0xdf+-0xca8+-0x13e)),_0x24c122=_0x227d99['split']('.')['map'](_0x2d6d51=>parseInt(_0x2d6d51,-0x26ac+0x836+-0xf4*-0x20));return _0x4dcf8e[0x1324+-0xa09+-0x91b]<_0x24c122[0x1*0x1223+-0x3e6+-0xe3d]||_0x4dcf8e[-0x19*-0xd6+0x2492+0x994*-0x6]===_0x24c122[-0x2b*-0xc7+0x8f7+-0x2a64]&&_0x4dcf8e[-0x2bf+0xbee*0x1+-0x92e]<_0x24c122[-0x16c6+0xb97*-0x1+-0xa6*-0x35];},hb=(_0xe383a1,_0x3cdd82)=>{for(const _0x440cc4 of _0xe383a1['keys']())if(V_['hasOwnProp'+'erty'](_0x440cc4)){const _0x4f6cb7=V_[_0x440cc4];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x440cc4+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x4f6cb7+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x851730=lb[_0x440cc4];_0x851730&&(!_0x3cdd82||cb(_0x3cdd82,_0x851730))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x440cc4+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x851730+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x3cdd82||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x2b12cb,_0x429fd6,_0x23e756=!(0x395*-0x6+-0x55e*-0x4+-0x1*-0x6)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x2b12cb,this['options']=_0x429fd6);const _0x1451cd=_0x429fd6['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x2b12cb['isWebGPU']&&_0x23e756&&(_0x1451cd!=null&&_0x1451cd['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x429fd6['userAttrib'+'utes']){for(const [_0x38e75a,_0x127392]of Object['entries'](_0x429fd6['userAttrib'+'utes']))this['attributes'][_0x127392]=_0x38e75a;}const _0x535bc2=Pe['get'](_0x2b12cb,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x535bc2),_0x1451cd){const _0x5e7bab=this['shaderLang'+'uage']===Fe?_0x1451cd['glsl']:_0x1451cd['wgsl'];w['call'](()=>{hb(_0x5e7bab,_0x1451cd['version']);}),_0x5e7bab['forEach']((_0x195d58,_0x25db22)=>{for(const _0x36436e in Zd)Zd['hasOwnProp'+'erty'](_0x36436e)&&_0x195d58['indexOf'](_0x36436e)>=-0x1743+0x1ad2+-0x1*0x38f&&(this['attributes'][_0x36436e]=Zd[_0x36436e]);this['chunks']['set'](_0x25db22,_0x195d58);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x429fd6['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x429fd6['lights']['length']>-0x1601+-0xf1*-0xb+0xba6||_0x429fd6['dirLightMa'+'pEnabled']||_0x429fd6['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x429fd6['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x429fd6['useSpecula'+'r']||_0x429fd6['ambientSH']||_0x429fd6['useHeights']||_0x429fd6['enableGGXS'+'pecular']||_0x429fd6['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x429fd6['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x429fd6['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x429fd6['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x429fd6['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x2b2b9d,_0x4edf2a,_0x5a86db=''){_0x2b2b9d&&this['fDefines']['set'](_0x4edf2a,_0x5a86db);}['generateVe'+'rtexShader'](_0x1e547f,_0x5c413a,_0x4b25eb){const {options:_0x36b5bf,vDefines:_0x1dc2d0,attributes:_0x2a5fec}=this,_0x5264e0=new Map();if(_0x5264e0['set']('vPositionW','vec3'),(_0x36b5bf['nineSliced'+'Mode']===Pt||_0x36b5bf['nineSliced'+'Mode']===Mt)&&_0x1dc2d0['set']('NINESLICED',!(0x54e+-0x1495*0x1+0xf47)),this['options']['linearDept'+'h']&&(_0x1dc2d0['set']('LINEAR_DEP'+'TH',!(-0x1*-0xbb+0x1b22+-0x1bdd)),_0x5264e0['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x1dc2d0['set']('NORMALS',!(0x2b4*0xb+-0x614*-0x6+-0x4234)),this['options']['useInstanc'+'ing']){const _0x5e877b=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x5e877b['get']('transformI'+'nstancingV'+'S')&&(_0x2a5fec['instance_l'+'ine1']=Mp,_0x2a5fec['instance_l'+'ine2']=Dp,_0x2a5fec['instance_l'+'ine3']=Ip,_0x2a5fec['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x2a5fec['vertex_nor'+'mal']=gs,_0x5264e0['set']('vNormalW','vec3'),_0x36b5bf['hasTangent'+'s']&&(_0x36b5bf['useHeights']||_0x36b5bf['useNormals']||_0x36b5bf['useClearCo'+'atNormals']||_0x36b5bf['enableGGXS'+'pecular'])?(_0x1dc2d0['set']('TANGENTS',!(-0x13+-0x944+-0x3*-0x31d)),_0x2a5fec['vertex_tan'+'gent']=yi,_0x5264e0['set']('vTangentW','vec3'),_0x5264e0['set']('vBinormalW','vec3')):_0x36b5bf['enableGGXS'+'pecular']&&(_0x1dc2d0['set']('GGX_SPECUL'+'AR',!(0x1eee+-0xf41+-0xfad)),_0x5264e0['set']('vObjectSpa'+'ceUpW','vec3')));const _0x5e990b=0x2e*-0x8+-0xff3*-0x1+-0xe81*0x1;for(let _0x3bec0e=-0x10bf+-0x1a1*-0x1+-0x5a*-0x2b;_0x3bec0e<_0x5e990b;_0x3bec0e++)_0x1e547f[_0x3bec0e]&&(_0x1dc2d0['set']('UV'+_0x3bec0e,!(0x9*-0x16b+-0x3*0x476+0x1a25)),_0x2a5fec['vertex_tex'+'Coord'+_0x3bec0e]='TEXCOORD'+_0x3bec0e),_0x5c413a[_0x3bec0e]&&(_0x1dc2d0['set']('UV'+_0x3bec0e+('_UNMODIFIE'+'D'),!(-0xe28+0x1*-0x56f+0x1397)),_0x5264e0['set']('vUv'+_0x3bec0e,'vec2'));let _0x1e05cc=-0x1fb*-0x9+0xab*0x1c+-0x2487;const _0x588f8e=new Set();_0x4b25eb['forEach'](_0x3da044=>{const {id:_0x36d4b7,uv:_0x5a55c3,name:_0x5d526b}=_0x3da044,_0x5edbc2=_0x36d4b7+_0x5a55c3*(0x1737+0x15bb+-0x2c8e);if(!_0x588f8e['has'](_0x5edbc2)){_0x588f8e['add'](_0x5edbc2),_0x5264e0['set']('vUV'+_0x5a55c3+'_'+_0x36d4b7,'vec2');const _0x279e03='texture_'+_0x5d526b+('MapTransfo'+'rm');_0x1dc2d0['set']('{TRANSFORM'+'_NAME_'+_0x1e05cc+'}',_0x279e03),_0x1dc2d0['set']('{TRANSFORM'+'_UV_'+_0x1e05cc+'}',_0x5a55c3),_0x1dc2d0['set']('{TRANSFORM'+'_ID_'+_0x1e05cc+'}',_0x36d4b7),_0x1e05cc++;}}),_0x1dc2d0['set']('UV_TRANSFO'+'RMS_COUNT',_0x1e05cc),_0x36b5bf['vertexColo'+'rs']&&(_0x2a5fec['vertex_col'+'or']=Wt,_0x1dc2d0['set']('VERTEX_COL'+'OR',!(-0x3ce*0x1+-0x94*0x2a+-0x1*-0x1c16)),_0x5264e0['set']('vVertexCol'+'or','vec4')),_0x36b5bf['useMsdf']&&_0x36b5bf['msdfTextAt'+'tribute']&&(_0x2a5fec['vertex_out'+'lineParame'+'ters']=Ko,_0x2a5fec['vertex_sha'+'dowParamet'+'ers']=Zo,_0x1dc2d0['set']('MSDF',!(0x10e1*0x1+-0x1a36+0x955))),(_0x36b5bf['useMorphPo'+'sition']||_0x36b5bf['useMorphNo'+'rmal'])&&(_0x1dc2d0['set']('MORPHING',!(0xd09+0x93d*0x4+-0x31fd)),_0x36b5bf['useMorphTe'+'xtureBased'+'Int']&&_0x1dc2d0['set']('MORPHING_I'+'NT',!(0x1687*-0x1+0xde9*-0x2+-0x3259*-0x1)),_0x36b5bf['useMorphPo'+'sition']&&_0x1dc2d0['set']('MORPHING_P'+'OSITION',!(-0x137*0x2+0xdfa+-0xb8c)),_0x36b5bf['useMorphNo'+'rmal']&&_0x1dc2d0['set']('MORPHING_N'+'ORMAL',!(0xcfa+-0x151*0xd+-0x3*-0x161)),_0x2a5fec['morph_vert'+'ex_id']=Ln),_0x36b5bf['skin']&&(_0x2a5fec['vertex_bon'+'eIndices']=us,_0x36b5bf['batch']?_0x1dc2d0['set']('BATCH',!(-0x1*-0x1ef6+-0x4a9*0x5+-0x35*0x25)):(_0x2a5fec['vertex_bon'+'eWeights']=gi,_0x1dc2d0['set']('SKIN',!(0x25a3+0xacf*-0x1+0x4*-0x6b5)))),_0x36b5bf['useInstanc'+'ing']&&_0x1dc2d0['set']('INSTANCING',!(0x91*-0x38+-0x4*-0x80f+-0xc*0xb)),_0x36b5bf['screenSpac'+'e']&&_0x1dc2d0['set']('SCREENSPAC'+'E',!(0x2*-0xf5c+0x19a9+0x50f)),_0x36b5bf['pixelSnap']&&_0x1dc2d0['set']('PIXELSNAP',!(0x58*-0x46+0x2631+0xe21*-0x1)),_0x5264e0['forEach']((_0x2e0cfa,_0x4e98db)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x4e98db['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x4e98db+':\x20'+Fy['get'](_0x2e0cfa)+';\x0a':'varying\x20'+_0x2e0cfa+'\x20'+_0x4e98db+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0xf2c80f,_0x298756){const _0x2c1bee=this['fDefines'],_0x105693=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x105693['lights']['length']),_0xf2c80f&&_0x2c1bee['set']('AREA_LIGHT'+'S',!(-0x1ed2+-0x17b8+-0x219*-0x1a)),_0x298756&&this['lighting']&&(_0x2c1bee['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0xdb5+-0x25dd+0x1828)),_0x105693['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2c1bee['set']('CLUSTER_CO'+'OKIES',!(-0x1fe+0x1a94+-0xc4b*0x2)),_0x105693['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x2c1bee['set']('CLUSTER_AR'+'EALIGHTS',!(-0x3*0x43d+0x1de8+-0x1131)),_0x105693['lightMaskD'+'ynamic']&&_0x2c1bee['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x1d8e+0x167*0x1+0x1c27)),_0x105693['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x105693['noShadow'])){const _0x51868f=qi['get'](_0x105693['clusteredL'+'ightingSha'+'dowType']);_0x2c1bee['set']('CLUSTER_SH'+'ADOWS',!(-0x24f*-0x1+0x9eb*-0x1+0x79c)),_0x2c1bee['set']('SHADOW_KIN'+'D_'+_0x51868f['kind'],!(0x14ae+0x272+0x4a*-0x50)),_0x2c1bee['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x51868f['kind'],!(-0x3*0x8fb+-0x104f+0x2b40));}for(let _0x288d1d=0xe7a+0x24eb+0x3b*-0xdf;_0x288d1d<_0x105693['lights']['length'];_0x288d1d++){const _0x2643b2=_0x105693['lights'][_0x288d1d],_0x110cf6=_0x2643b2['_type'];if(_0x298756&&_0x110cf6!==ve)continue;const _0x4dff23=_0xf2c80f&&_0x2643b2['_shape']?_0x2643b2['_shape']:Ys,_0x3a0042=_0x2643b2['_shadowTyp'+'e'],_0x4ca389=_0x2643b2['castShadow'+'s']&&!_0x105693['noShadow'],_0x3c9110=qi['get'](_0x3a0042);w['assert'](_0x3c9110),_0x2c1bee['set']('LIGHT'+_0x288d1d,!(0x26d4+-0x1bb*0x5+0x67*-0x4b)),_0x2c1bee['set']('LIGHT'+_0x288d1d+'TYPE',''+u_[_0x110cf6]),_0x2c1bee['set']('LIGHT'+_0x288d1d+'SHADOWTYPE',''+_0x3c9110['name']),_0x2c1bee['set']('LIGHT'+_0x288d1d+'SHAPE',''+Fw[_0x4dff23]),_0x2c1bee['set']('LIGHT'+_0x288d1d+'FALLOFF',''+Nw[_0x2643b2['_falloffMo'+'de']]),_0x2643b2['affectSpec'+'ularity']&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('AFFECT_SPE'+'CULARITY'),!(-0x11*0xf1+-0x1064+0x2065)),_0x2643b2['_cookie']&&(_0x110cf6===Ze&&!_0x2643b2['_cookie']['_cubemap']||_0x110cf6===Ke&&_0x2643b2['_cookie']['_cubemap'])&&(_0x2c1bee['set']('LIGHT'+_0x288d1d+'COOKIE',!(-0x6*-0x30d+0x15a3+-0x27f1)),_0x2c1bee['set']('{LIGHT'+_0x288d1d+('COOKIE_CHA'+'NNEL}'),_0x2643b2['_cookieCha'+'nnel']),_0x110cf6===Ze&&(_0x2643b2['_cookieTra'+'nsform']&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('COOKIE_TRA'+'NSFORM'),!(0x185f*0x1+-0x778*0x3+-0x1*0x1f7)),_0x2643b2['_cookieFal'+'loff']&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('COOKIE_FAL'+'LOFF'),!(-0xb*0x2a2+-0xe91+-0x2b87*-0x1)))),_0x4ca389&&(_0x2c1bee['set']('LIGHT'+_0x288d1d+'CASTSHADOW',!(0x24e9+0x209*0x8+-0x3531)),_0x3c9110['pcf']&&_0x2c1bee['set']('LIGHT'+_0x288d1d+'SHADOW_PCF',!(-0xed8+0xb34+0x3a4)),_0x2643b2['_normalOff'+'setBias']&&!_0x2643b2['_isVsm']&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0xdd1+-0x106d+0x29c)),_0x110cf6===ve&&(_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x1*-0x2493+0x15*0xe2+-0x371d)),_0x2643b2['cascadeBle'+'nd']>-0x1e3+0x20*-0x31+0x803*0x1&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x2f1*0xd+0x1917*-0x1+0x22*-0x63)),_0x2643b2['numCascade'+'s']>0xb*-0x2e9+-0x31*-0xc5+-0x5b1&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_CA'+'SCADES'),!(-0xc35+-0x1053+0x1c88))),(_0x3c9110['pcf']||_0x3c9110['pcss']||this['device']['isWebGPU'])&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0xb31+-0x79f*-0x2+-0x1a6f)),_0x110cf6===Ke&&_0x2c1bee['set']('LIGHT'+_0x288d1d+('_SHADOW_SA'+'MPLE_POINT'),!(0x34*0x3f+0x206*-0x9+0x56a))),_0x4ca389&&(_0x2c1bee['set']('SHADOW_KIN'+'D_'+_0x3c9110['kind'],!(-0x2168+-0x1a93+0x19f*0x25)),_0x110cf6===ve&&_0x2c1bee['set']('SHADOW_DIR'+'ECTIONAL',!(-0x1fd9+0xb*-0x23f+-0x1c47*-0x2)));}}['prepareFor'+'wardPass'](_0x11b133){const {options:_0x16e82f}=this,_0x3ad80d=_0x16e82f['clusteredL'+'ightingEna'+'bled']&&_0x16e82f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x16e82f['lights']['some'](_0x627a7f=>_0x627a7f['_shape']&&_0x627a7f['_shape']!==Ys),_0xb90039=!_0x16e82f['lightMapEn'+'abled']||_0x16e82f['lightMapWi'+'thoutAmbie'+'nt'],_0x33a1ca=this['needsNorma'+'l']&&(_0x16e82f['useNormals']||_0x16e82f['useClearCo'+'atNormals']||_0x16e82f['enableGGXS'+'pecular']&&!_0x16e82f['useHeights']);_0x16e82f['useSpecula'+'r']&&(this['fDefineSet'](!(-0x1d31+-0xd76+-0xb3*-0x3d),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x16e82f['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x16e82f['fresnelMod'+'el']>-0x1b66+0x1384+-0x1*-0x7e2,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x16e82f['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x16e82f['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x16e82f['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x16e82f['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x16e82f['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x16e82f['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x16e82f['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x16e82f['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x16e82f['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x16e82f['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x16e82f['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x16e82f['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x16e82f['skyboxInte'+'nsity']>-0x1833+-0x6b+-0x1*-0x189e,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x16e82f['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x16e82f['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x33a1ca,'LIT_TBN'),this['fDefineSet'](_0xb90039,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x16e82f['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x16e82f['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x16e82f['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x16e82f['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x16e82f['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x16e82f['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x16e82f['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x16e82f['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x16e82f['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x16e82f['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x16e82f['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x16e82f['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x16e82f['useAo'],'LIT_AO'),this['fDefineSet'](_0x16e82f['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x16e82f['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x16e82f['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x16e82f['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0x4*0x50f+0x171*-0xc+0x2588),'LIT_FRESNE'+'L_MODEL',Rw[_0x16e82f['fresnelMod'+'el']]),this['fDefineSet'](!(-0x12a*0x1f+0xcc6*-0x2+0x3da2),'LIT_NONE_S'+'LICE_MODE',qw[_0x16e82f['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x1f*-0x20+-0x1ee1+-0x1*-0x1b01),'LIT_BLEND_'+'TYPE',Yy[_0x16e82f['blendType']]),this['fDefineSet'](!(0x225b+0x247a+-0x46d5),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x16e82f['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x2*0x80b+-0x18ab+-0x28c1*-0x1),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x16e82f['occludeSpe'+'cular']]),this['fDefineSet'](!(-0xa78+0x4*-0x817+0x2ad4),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x16e82f['reflection'+'Source']]),this['fDefineSet'](!(0x1b5d+-0x660+-0x255*0x9),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x16e82f['ambientSou'+'rce']]),this['fDefineSet'](!(-0x1f1*0x2+0x24f9+0xc5*-0x2b),'{lightingU'+'v}',_0x11b133??''),this['fDefineSet'](!(0x1b31+-0x1d16+0x1e5),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x16e82f['reflection'+'Encoding'])),this['fDefineSet'](!(0x1*-0xbe6+-0x33*-0x35+0x157),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x16e82f['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x2651+0x41d+0x2234),'{ambientDe'+'code}',Tr['decodeFunc'](_0x16e82f['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x3ad80d,_0x16e82f['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0xc02830}=this,_0x237936=this['shaderPass'+'Info']['lightType'],_0x4f3d0a=this['shaderPass'+'Info']['shadowType'],_0x49b589=qi['get'](_0x4f3d0a);w['assert'](_0x49b589);const _0x3216c9=_0x237936===ve||!_0x49b589['vsm']&&_0x237936===Ze;this['fDefineSet'](_0x3216c9,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x1f0*0xd+-0xb1*-0x16+0x9fa),'LIGHT_TYPE',''+u_[_0x237936]),this['fDefineSet'](!(-0x71f*-0x5+-0x182e+-0xb6d),'SHADOW_TYP'+'E',''+_0x49b589['name']),this['fDefineSet'](_0xc02830['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x2d6ed1,_0xc5ffb1,_0x118892){const _0x336f36=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x2d6ed1??''),this['includes']['set']('frontendCo'+'dePS',_0xc5ffb1??''),_0x336f36['pass']===Zn||_0x336f36['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x118892)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x3*0xa4+0x596+0x1*-0x3a9)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x4*0x2e1+0x1379*-0x1+0x1efd*0x1),h(this,'alphaTest',!(-0x1e7e+0x7*-0x3bf+0x38b8)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x287+-0x2486+-0x2*-0x1100)),h(this,'screenSpac'+'e',!(-0x230c+0x2404*-0x1+0x4711)),h(this,'skin',!(0x2*0xc4f+-0x1d*0xa2+-0x1*0x643)),h(this,'batch',!(0x4a*0x1c+-0x20a6+-0x188f*-0x1)),h(this,'useInstanc'+'ing',!(0x4d9*0x5+-0x1dd2+0x596)),h(this,'useMorphPo'+'sition',!(0x9c5+0x1a81+-0x2445)),h(this,'useMorphNo'+'rmal',!(0xdd9+-0x98f*-0x1+-0x1767)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x7*-0xb6+0x142+-0x3b9*-0x1)),h(this,'nineSliced'+'Mode',0x53+0x1163+-0x11b6),h(this,'clusteredL'+'ightingEna'+'bled',!(-0x26c1+-0x1b26+0x41e7*0x1)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x188*-0x2+-0x372+-0x683*-0x1)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x1ca+0x1f*-0x8e+0x12fd)),h(this,'clusteredL'+'ightingSha'+'dowType',0x1*-0x15ff+-0x1*0x1f7d+0x357c),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x25*-0x21+-0x1*0x1c60+0x2126)),h(this,'vertexColo'+'rs',!(0x17*-0x91+0x1865*0x1+-0xb5d*0x1)),h(this,'lightMapEn'+'abled',!(-0x89d+-0x6*-0x3b0+0x1a*-0x85)),h(this,'dirLightMa'+'pEnabled',!(0x47d*-0x2+0x99a*-0x3+0x239*0x11)),h(this,'useHeights',!(-0x10d*-0x1+0x317*-0x1+-0x20b*-0x1)),h(this,'useNormals',!(0xa6c+0x10f0+0x1b5b*-0x1)),h(this,'useClearCo'+'atNormals',!(0x257b*-0x1+0x13bb*0x1+-0x1f9*-0x9)),h(this,'useAo',!(0x1fb2+0xb8d*-0x1+0x509*-0x4)),h(this,'diffuseMap'+'Enabled',!(0x26f1+0x1d4b+0x1*-0x443b)),h(this,'pixelSnap',!(0x156c+0x2327+-0x3892)),h(this,'ambientSH',!(-0x2*0x3d5+0x1*-0x13f9+0x1ba4)),h(this,'ssao',!(0x3a9*0x7+-0x123f+-0x75f)),h(this,'twoSidedLi'+'ghting',!(-0x196e+-0x971+-0x2*-0x1170)),h(this,'occludeDir'+'ect',!(-0x1c7e+-0x1a26+0x1237*0x3)),h(this,'occludeSpe'+'cular',0x12e8+0x1b1*0xc+0x9cd*-0x4),h(this,'occludeSpe'+'cularFloat',!(0x2024+-0x246b+0x448)),h(this,'useMsdf',!(-0xb1c+-0x7b*0x4d+0x301c)),h(this,'msdfTextAt'+'tribute',!(0x209*0xd+-0x2*-0x15d+-0x1d2e)),h(this,'alphaToCov'+'erage',!(0x2639+-0xa*-0x5b+-0x29c6)),h(this,'opacityFad'+'esSpecular',!(-0x1fdc+0x316+0x1cc7)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0x15e4+0x21f7+-0x37db),h(this,'useSpecula'+'r',!(-0x1*-0x1d53+0x30*-0x66+-0x57*0x1e)),h(this,'useSpecula'+'rityFactor',!(-0x14*-0xa9+-0x53c+-0x7f7)),h(this,'enableGGXS'+'pecular',!(0x100+0x3*-0xb8f+-0x1df*-0x12)),h(this,'fresnelMod'+'el',-0x843+0x2*0x121d+-0x1bf7),h(this,'useRefract'+'ion',!(-0x1*0x15cb+-0x830*-0x1+0xd9c)),h(this,'useClearCo'+'at',!(-0x246f+0x26ec+0x9f*-0x4)),h(this,'useSheen',!(-0x4*-0x272+-0x5*-0x776+-0x2f15*0x1)),h(this,'useIridesc'+'ence',!(-0x1283+0x17ce+-0x54a)),h(this,'useMetalne'+'ss',!(0xc3*0x24+-0x1*-0x1b1f+-0x368a)),h(this,'useDynamic'+'Refraction',!(-0x1*0x167+-0x20*-0x41+-0x6b8)),h(this,'dispersion',!(-0x1135+0x132*-0x5+0x6a*0x38)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1e6d*0x1+-0x345*-0x3+0x283b*-0x1)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x129a+0x4c6+0xdd5),h(this,'useCubeMap'+'Rotation',!(-0x212*0xd+-0x42*0x1d+0x2265)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x1*0x1885+-0xcaa+-0x1*0xbda)),h(this,'lights',[]),h(this,'noShadow',!(0x5*0x335+-0x4c*0x6b+0xfbc)),h(this,'lightMaskD'+'ynamic',0x91f+0x1ab4+-0x23d3),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(0x1*-0x209f+-0x22a+-0x22ca*-0x1)),h(this,'shadowCatc'+'her',!(-0x1139+-0xe1b+0x1*0x1f55));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(-0x2*-0xd3d+0x361*0x9+-0x38e2)),h(this,'specularTi'+'nt',!(0xcb3+0xb6b*-0x3+0x158f)),h(this,'metalnessT'+'int',!(-0x2*0x105c+-0x991+-0x2*-0x1525)),h(this,'glossTint',!(0x141e+0x271+-0x168e)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x2259+-0x17bd+0xf*-0xb5)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x21df+-0xead+0x308d)),h(this,'clearCoatP'+'ackedNorma'+'l',!(0x1*-0x869+0xc97*-0x1+0x1501)),h(this,'glossInver'+'t',!(-0x1a11*-0x1+-0xb*0x17+-0x1913)),h(this,'sheenGloss'+'Invert',!(-0x1826+-0x16c1+0x2ee8)),h(this,'clearCoatG'+'lossInvert',!(0x1132+-0x3f*0x79+-0x2*-0x64b)),h(this,'useAO',!(0x218b+-0x77c+-0xa*0x29b)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x233b40){return'lit'+Object['keys'](_0x233b40)['sort']()['map'](_0x1aedb6=>{var _0x546328;return _0x1aedb6==='shaderChun'+'ks'?((_0x546328=_0x233b40['shaderChun'+'ks'])==null?void(0x1*0x1b6b+-0x1f*-0x10d+-0x3bfe*0x1):_0x546328['key'])??'':_0x1aedb6==='lights'?Ev['generateLi'+'ghtsKey'](_0x233b40):_0x1aedb6+_0x233b40[_0x1aedb6];})['join']('\x0a');},'generateLightsKey'(_0x587db3){return'lights:'+_0x587db3['lights']['map'](_0x298b92=>!_0x587db3['clusteredL'+'ightingEna'+'bled']||_0x298b92['_type']===ve?_0x298b92['key']+',':'')['join']('');}},bn=[],Qd=_0x22cade=>Object['keys'](_0x22cade)['filter'](_0x2d7266=>_0x2d7266!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x42e1f8){let _0x16af34;return _0x42e1f8===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x42e1f8)),_0x16af34=this['propsMin']):_0x42e1f8===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x42e1f8)),_0x16af34=this['props']):_0x16af34=Qd(_0x42e1f8),'standard:\x0a'+ya['definesHas'+'h'](_0x42e1f8['defines'])+'\x0a'+_0x16af34['map'](_0x2e9886=>_0x2e9886+_0x42e1f8[_0x2e9886])['join']('\x0a')+Ev['generateKe'+'y'](_0x42e1f8['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x4d82bb,_0x2bae3e,_0x101657){const _0x2cd1c1=_0x101657[_0x4d82bb],_0x461614=_0x101657[_0x2bae3e],_0x55eb05=_0x101657['litOptions']['pass']===Aa;let _0x3cbcdc;return _0x55eb05&&_0x101657['litOptions']['nineSliced'+'Mode']===Pt||_0x55eb05&&_0x101657['litOptions']['nineSliced'+'Mode']===Mt?_0x3cbcdc='nineSliced'+'Uv':(_0x2cd1c1===-0xda3+-0x21d*0x1+-0xfc0*-0x1?_0x3cbcdc='vUv'+_0x461614:_0x3cbcdc='vUV'+_0x461614+'_'+_0x2cd1c1,_0x101657['heightMap']&&_0x4d82bb!=='heightMapT'+'ransform'&&(_0x3cbcdc+='\x20+\x20dUvOffs'+'et')),_0x3cbcdc;}['_validateM'+'apChunk'](_0x299429,_0x33942c,_0xf7fa13){w['call'](()=>{const _0x34da12=_0xf7fa13['get'](_0x33942c)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x1d4ccd=[],_0x237234=(_0x1f0917,_0x50ce52)=>{_0x34da12['includes'](_0x1f0917)&&_0x1d4ccd['push']('\x20\x20'+_0x1f0917+'\x20->\x20'+_0x50ce52);};[['$UV','{STD_'+_0x299429+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x299429+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x299429+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x299429+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x299429+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x299429+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x299429+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x49bcac,_0x362e35])=>_0x237234(_0x49bcac,_0x362e35)),[['MAPFLOAT','STD_'+_0x299429+'_CONSTANT'],['MAPCOLOR','STD_'+_0x299429+'_CONSTANT'],['MAPVERTEX','STD_'+_0x299429+'_VERTEX'],['MAPTEXTURE','STD_'+_0x299429+'_TEXTURE'],['MAPINVERT','STD_'+_0x299429+'_INVERT']]['forEach'](([_0x237c2c,_0xa807fe])=>_0x237234(_0x237c2c,_0xa807fe)),_0x34da12['includes']('$texture2D'+'SAMPLE')&&_0x237234('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x1d4ccd['length']>0x2385+0x2030+-0x43b5&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x33942c+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x1d4ccd['join']('\x0a'),{'code':_0x34da12});});}['_addMapDef'+'ines'](_0xc9fb3a,_0x4897a4,_0x4d5285,_0x5df8c4,_0x10f330,_0x1ea93d,_0x33769a=null){const _0x2ede2a=_0x4897a4+'Map',_0x2e315a=_0x4897a4['toUpperCas'+'e'](),_0x107570=_0x2ede2a+'Uv',_0xf025fd=_0x2ede2a+'Identifier',_0xc9f938=_0x2ede2a+'Transform',_0x4a208b=_0x2ede2a+'Channel',_0x3fb61e=_0x4897a4+('VertexColo'+'rChannel'),_0xbc4206=_0x4897a4+'Tint',_0x42915f=_0x4897a4+('VertexColo'+'r'),_0x37f438=_0x4897a4+'Mode',_0x352ff6=_0x4897a4+'Invert',_0x5cc933=_0x5df8c4[_0xbc4206],_0x18827e=_0x5df8c4[_0x42915f],_0x347823=_0x5df8c4[_0x2ede2a],_0x310cbc=_0x5df8c4[_0xf025fd],_0x61afa8=_0x5df8c4[_0x37f438],_0x54460d=_0x10f330['get'](_0x4d5285);if(w['assert'](_0x54460d,'Shader\x20chu'+'nk\x20'+_0x4d5285+('\x20not\x20found'+'.')),w['call'](()=>{_0x54460d&&this['_validateM'+'apChunk'](_0x2e315a,_0x4d5285,_0x10f330);}),_0x347823){_0xc9fb3a['set']('STD_'+_0x2e315a+'_TEXTURE','');const _0x2fcde0=this['_getUvSour'+'ceExpressi'+'on'](_0xc9f938,_0x107570,_0x5df8c4);_0xc9fb3a['set']('{STD_'+_0x2e315a+('_TEXTURE_U'+'V}'),_0x2fcde0),_0xc9fb3a['set']('{STD_'+_0x2e315a+('_TEXTURE_C'+'HANNEL}'),_0x5df8c4[_0x4a208b]);const _0x3324b8='{STD_'+_0x2e315a+('_TEXTURE_N'+'AME}');if(_0x54460d['includes'](_0x3324b8)){let _0x3f1d16='texture_'+_0x2ede2a;const _0x21c0de=_0x1ea93d[_0x310cbc];_0x21c0de?_0x3f1d16=_0x21c0de:(_0x1ea93d[_0x310cbc]=_0x3f1d16,_0xc9fb3a['set']('STD_'+_0x2e315a+('_TEXTURE_A'+'LLOCATE'),'')),_0xc9fb3a['set'](_0x3324b8,_0x3f1d16);}if(_0x33769a){const _0x467ec4=_0x5df8c4[_0x4a208b]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x33769a);_0xc9fb3a['set']('{STD_'+_0x2e315a+('_TEXTURE_D'+'ECODE}'),_0x467ec4);}}_0x18827e&&(_0xc9fb3a['set']('STD_'+_0x2e315a+'_VERTEX',''),_0xc9fb3a['set']('{STD_'+_0x2e315a+('_VERTEX_CH'+'ANNEL}'),_0x5df8c4[_0x3fb61e])),_0x61afa8&&_0xc9fb3a['set']('{STD_'+_0x2e315a+('_DETAILMOD'+'E}'),_0x61afa8),_0x5cc933&&_0xc9fb3a['set']('STD_'+_0x2e315a+'_CONSTANT',''),_0x5df8c4[_0x352ff6]&&_0xc9fb3a['set']('STD_'+_0x2e315a+'_INVERT','');}['_correctCh'+'annel'](_0x23c3b0,_0x430fab,_0x280fb5){if(_0x280fb5[_0x23c3b0]>-0x1ee3+0x1de5+-0x1*-0xfe){if(_0x280fb5[_0x23c3b0]<_0x430fab['length'])return _0x430fab['substring'](-0x1*0x1207+0x1*-0x94f+0x1b56*0x1,_0x280fb5[_0x23c3b0]);if(_0x280fb5[_0x23c3b0]>_0x430fab['length']){let _0xe49420=_0x430fab;const _0x20d905=_0xe49420['charAt'](_0xe49420['length']-(-0x6*-0x2a2+0x2*0x7bf+-0x1f49*0x1)),_0x20a806=_0x280fb5[_0x23c3b0]-_0xe49420['length'];for(let _0x573cd3=0x24b8+-0x85*0x2+-0x23ae;_0x573cd3<_0x20a806;_0x573cd3++)_0xe49420+=_0x20d905;return _0xe49420;}return _0x430fab;}}['createVert'+'exShader'](_0x2abf1f,_0x947a3f){const _0x1829bb=[],_0x2d40ac=[],_0x1a6c51=[];for(const _0x1be537 in bn){const _0x1639b8=_0x1be537+'Map';if(_0x947a3f[_0x1be537+('VertexColo'+'r')]){const _0x3f1095=_0x1be537+('VertexColo'+'rChannel');_0x947a3f[_0x3f1095]=this['_correctCh'+'annel'](_0x1be537,_0x947a3f[_0x3f1095],bn);}if(_0x947a3f[_0x1639b8]){const _0x18eb1b=_0x1639b8+'Channel',_0x1fdbed=_0x1639b8+'Transform',_0x2db4f9=_0x1639b8+'Uv';_0x947a3f[_0x2db4f9]=Math['min'](_0x947a3f[_0x2db4f9],-0xb*-0xda+0x110b*-0x1+-0x1*-0x7ae),_0x947a3f[_0x18eb1b]=this['_correctCh'+'annel'](_0x1be537,_0x947a3f[_0x18eb1b],bn);const _0x58e159=_0x947a3f[_0x2db4f9];_0x1829bb[_0x58e159]=!(0x78b*0x1+0xa3c+-0x5ed*0x3),_0x2d40ac[_0x58e159]=_0x2d40ac[_0x58e159]||_0x947a3f[_0x1639b8]&&!_0x947a3f[_0x1fdbed],_0x947a3f[_0x1fdbed]&&_0x1a6c51['push']({'name':_0x1be537,'id':_0x947a3f[_0x1fdbed],'uv':_0x947a3f[_0x2db4f9]});}}_0x947a3f['forceUv1']&&(_0x1829bb[-0x1dea+0x1ae3+0x4*0xc2]=!(0x31*0x97+0x1aab+-0x3792),_0x2d40ac[0x371*0x5+0x2b0+-0x13e4]=_0x2d40ac[0x6b0*0x5+0xbba+-0x2d29]!==void(0x4dc*-0x3+-0x10*-0x185+-0x9bc)?_0x2d40ac[-0x14*0x7d+-0xe8+-0x38f*-0x3]:!(-0x187*0x7+0x1717+-0xc66)),_0x2abf1f['generateVe'+'rtexShader'](_0x1829bb,_0x2d40ac,_0x1a6c51);}['prepareFra'+'gmentDefin'+'es'](_0x42cf96,_0x3421d2,_0x37b21c){const _0x34b086=(_0x35cdf8,_0x10e69d,_0x2c9b7b='')=>{_0x35cdf8&&_0x3421d2['set'](_0x10e69d,_0x2c9b7b);};_0x34b086(_0x42cf96['lightMap'],'STD_LIGHTM'+'AP',''),_0x34b086(_0x42cf96['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x34b086(_0x42cf96['dirLightMa'+'p']&&_0x42cf96['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x34b086(_0x42cf96['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x34b086(_0x42cf96['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x34b086(_0x42cf96['aoMap']||_0x42cf96['aoVertexCo'+'lor']||_0x42cf96['useAO'],'STD_AO',''),_0x34b086(!(0x1*0xeb1+0x583+-0x1434),'STD_OPACIT'+'Y_DITHER',iE[_0x37b21c['isForward']?_0x42cf96['litOptions']['opacityDit'+'her']:_0x42cf96['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x27aacb,_0x12110a){const _0x47053f=Si['get'](_0x27aacb)['getByIndex'](_0x12110a['litOptions']['pass']),_0x357406=_0x47053f['isForward'],_0x52437d=new db(_0x27aacb,_0x12110a['litOptions']);this['createVert'+'exShader'](_0x52437d,_0x12110a);const _0x36e3b4={};_0x12110a['litOptions']['fresnelMod'+'el']=_0x12110a['litOptions']['fresnelMod'+'el']===0x3*-0xc9c+0x74a+0x1e8a?Yp:_0x12110a['litOptions']['fresnelMod'+'el'];const _0x2a6303=_0x52437d['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x12110a,_0x2a6303,_0x47053f);let _0x1a784b='';if(_0x357406){if(_0x12110a['heightMap']&&this['_addMapDef'+'ines'](_0x2a6303,'height','parallaxPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),(_0x12110a['litOptions']['blendType']!==Cs||_0x12110a['litOptions']['alphaTest']||_0x12110a['litOptions']['alphaToCov'+'erage']||_0x12110a['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x2a6303,'opacity','opacityPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),_0x52437d['needsNorma'+'l']){if((_0x12110a['normalMap']||_0x12110a['clearCoatN'+'ormalMap'])&&!_0x12110a['litOptions']['hasTangent'+'s']){const _0x3a6b26=_0x12110a['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x1a784b=this['_getUvSour'+'ceExpressi'+'on'](_0x3a6b26+'Transform',_0x3a6b26+'Uv',_0x12110a);}this['_addMapDef'+'ines'](_0x2a6303,'normalDeta'+'il','normalMapP'+'S',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x2a6303,'normal','normalMapP'+'S',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['packedNorm'+'al']?'xy':'xyz');}_0x12110a['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x2a6303,'diffuseDet'+'ail','diffusePS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x2a6303,'diffuse','diffusePS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['diffuseEnc'+'oding']),_0x12110a['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x2a6303,'refraction','transmissi'+'onPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'thickness','thicknessP'+'S',_0x12110a,_0x52437d['chunks'],_0x36e3b4)),_0x12110a['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x2a6303,'iridescenc'+'e','iridescenc'+'ePS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x12110a,_0x52437d['chunks'],_0x36e3b4)),(_0x52437d['lighting']&&_0x12110a['litOptions']['useSpecula'+'r']||_0x52437d['reflection'+'s'])&&(_0x12110a['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x2a6303,'sheen','sheenPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x2a6303,'sheenGloss','sheenGloss'+'PS',_0x12110a,_0x52437d['chunks'],_0x36e3b4)),_0x12110a['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x2a6303,'metalness','metalnessP'+'S',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'ior','iorPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4)),_0x12110a['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x2a6303,'specularit'+'yFactor','specularit'+'yFactorPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),_0x12110a['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x2a6303,'specular','specularPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x2a6303,'gloss','glossPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4)),_0x12110a['aoDetail']&&this['_addMapDef'+'ines'](_0x2a6303,'aoDetail','aoPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),(_0x12110a['aoMap']||_0x12110a['aoVertexCo'+'lor']||_0x12110a['useAO'])&&this['_addMapDef'+'ines'](_0x2a6303,'ao','aoPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'emissive','emissivePS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['emissiveEn'+'coding']),_0x12110a['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x2a6303,'clearCoat','clearCoatP'+'S',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),this['_addMapDef'+'ines'](_0x2a6303,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x12110a['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x2a6303,'anisotropy','anisotropy'+'PS',_0x12110a,_0x52437d['chunks'],_0x36e3b4),(_0x12110a['lightMap']||_0x12110a['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x2a6303,'light','lightmapPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4,_0x12110a['lightMapEn'+'coding']);}else{const _0x4da5f8=_0x12110a['litOptions']['opacitySha'+'dowDither'];(_0x12110a['litOptions']['alphaTest']||_0x4da5f8)&&this['_addMapDef'+'ines'](_0x2a6303,'opacity','opacityPS',_0x12110a,_0x52437d['chunks'],_0x36e3b4);}_0x52437d['generateFr'+'agmentShad'+'er'](_0x52437d['chunks']['get']('stdDeclara'+'tionPS'),_0x52437d['chunks']['get']('stdFrontEn'+'dPS'),_0x1a784b);const _0x52f6f9=bh['merge'](_0x52437d['chunks'],_0x52437d['includes']),_0x8c6cc=_0x52437d['vDefines'];_0x12110a['defines']['forEach']((_0x5d24e0,_0x304c49)=>_0x8c6cc['set'](_0x304c49,_0x5d24e0)),_0x12110a['defines']['forEach']((_0x461b4a,_0xc5f276)=>_0x2a6303['set'](_0xc5f276,_0x461b4a));const _0x37e07d=Jt['createDefi'+'nition'](_0x27aacb,{'name':'StandardSh'+'ader','attributes':_0x52437d['attributes'],'shaderLanguage':_0x52437d['shaderLang'+'uage'],'vertexCode':_0x52437d['vshader'],'fragmentCode':_0x52437d['fshader'],'vertexIncludes':_0x52f6f9,'fragmentIncludes':_0x52f6f9,'fragmentDefines':_0x2a6303,'vertexDefines':_0x8c6cc});return _0x52437d['shaderPass'+'Info']['isForward']&&(_0x37e07d['tag']=Sy),_0x37e07d;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0x8bc+-0x20ff*-0x1+0x1843*-0x1;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x11c*0xb+-0x1*-0x6a3+0x592)),h(this,'parameters',{}),h(this,'alphaTest',-0x1*-0x1e53+0x2166+-0x3fb9),h(this,'alphaToCov'+'erage',!(0x1b53+-0x19a8+-0x1aa)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x6c5+-0x574*0x1+0x1bf*0x7)),h(this,'_shaderVer'+'sion',0x1c46+0x1ce1+-0x3927),h(this,'_scene',null),h(this,'dirty',!(-0x4a*0x3a+-0x1*-0x1389+-0x1*0x2c5)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x136121=Fe){const _0x1dd745=this['shaderChun'+'ks'];return _0x136121===Fe?_0x1dd745['glsl']:_0x1dd745['wgsl'];}set['shaderChun'+'ksVersion'](_0x103232){this['shaderChun'+'ks']['version']=_0x103232;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x300316){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x300316;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x5de5b6){this['_depthStat'+'e']['depthBias']=_0x5de5b6;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x89186f){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x89186f;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x412c82){this['_blendStat'+'e']['redWrite']=_0x412c82;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0xa58841){this['_blendStat'+'e']['greenWrite']=_0xa58841;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x6544f6){this['_blendStat'+'e']['blueWrite']=_0x6544f6;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x4892e3){this['_blendStat'+'e']['alphaWrite']=_0x4892e3;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x26a42a=this['transparen'+'t'],_0x5f3cac=this['meshInstan'+'ces'];for(let _0x857605=0x1c39+-0x60a+-0x162f;_0x857605<_0x5f3cac['length'];_0x857605++)_0x5f3cac[_0x857605]['transparen'+'t']=_0x26a42a;}set['blendState'](_0x5e88b6){this['_blendStat'+'e']['copy'](_0x5e88b6),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x401ca4){const _0x430b5d=ss[_0x401ca4];w['assert'](_0x430b5d,'Unknown\x20bl'+'end\x20mode\x20'+_0x401ca4),this['_blendStat'+'e']['setColorBl'+'end'](_0x430b5d['op'],_0x430b5d['src'],_0x430b5d['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x430b5d['alphaOp']??_0x430b5d['op'],_0x430b5d['alphaSrc']??_0x430b5d['src'],_0x430b5d['alphaDst']??_0x430b5d['dst']);const _0x27ed64=_0x401ca4!==Cs;this['_blendStat'+'e']['blend']!==_0x27ed64&&(this['_blendStat'+'e']['blend']=_0x27ed64,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x3fe544,colorSrcFactor:_0x93498a,colorDstFactor:_0x2b7601,alphaOp:_0x268d82,alphaSrcFactor:_0x27bb21,alphaDstFactor:_0x409c84}=this['_blendStat'+'e'];for(let _0x1ef190=-0x345+-0x4f9*-0x5+-0x1598;_0x1ef190<ss['length'];_0x1ef190++){const _0x7d869c=ss[_0x1ef190];if(_0x7d869c['src']===_0x93498a&&_0x7d869c['dst']===_0x2b7601&&_0x7d869c['op']===_0x3fe544&&_0x7d869c['src']===_0x27bb21&&_0x7d869c['dst']===_0x409c84&&_0x7d869c['op']===_0x268d82)return _0x1ef190;}return Zs;}set['depthState'](_0x556445){this['_depthStat'+'e']['copy'](_0x556445);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x5019ac){this['_depthStat'+'e']['test']=_0x5019ac;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x3d70ff){this['_depthStat'+'e']['func']=_0x3d70ff;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x27e8f7){this['_depthStat'+'e']['write']=_0x27e8f7;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x42e0a0){var _0x228f9c,_0x266650;this['name']=_0x42e0a0['name'],this['alphaTest']=_0x42e0a0['alphaTest'],this['alphaToCov'+'erage']=_0x42e0a0['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x42e0a0['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x42e0a0['_depthStat'+'e']),this['cull']=_0x42e0a0['cull'],this['stencilFro'+'nt']=(_0x228f9c=_0x42e0a0['stencilFro'+'nt'])==null?void(0xd81*0x1+0x1d13+-0x1b4*0x19):_0x228f9c['clone'](),_0x42e0a0['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x42e0a0['stencilFro'+'nt']===_0x42e0a0['stencilBac'+'k']?this['stencilFro'+'nt']:_0x42e0a0['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x4c6116 in _0x42e0a0['parameters'])_0x42e0a0['parameters']['hasOwnProp'+'erty'](_0x4c6116)&&this['_setParame'+'terSimple'](_0x4c6116,_0x42e0a0['parameters'][_0x4c6116]['data']);return this['defines']['clear'](),_0x42e0a0['defines']['forEach']((_0x289122,_0x3e16b4)=>this['defines']['set'](_0x3e16b4,_0x289122)),this['_shaderChu'+'nks']=_0x42e0a0['hasShaderC'+'hunks']?new Pe():null,(_0x266650=this['_shaderChu'+'nks'])==null||_0x266650['copy'](_0x42e0a0['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x559e93=this['meshInstan'+'ces'];for(let _0x14d666=-0x1eb2+-0x22a5+0x2b*0x185;_0x14d666<_0x559e93['length'];_0x14d666++)_0x559e93[_0x14d666]['updateKey']();}['updateUnif'+'orms'](_0x5e39ad,_0x149f3d){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5290e1){w['assert'](!(0x151*0x15+0x19dc+-0x358*0x10),'Not\x20implem'+'ented');}['update'](){var _0xb27a05,_0x22a369;if(Object['keys'](this['_oldChunks'])['length']>0x32c*0x7+-0x5f2*-0x1+-0x1c26){for(const [_0x22423b,_0x9aa0e4]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x22423b,_0x9aa0e4),delete this['_oldChunks'][_0x22423b];}(this['_definesDi'+'rty']||(_0xb27a05=this['_shaderChu'+'nks'])!=null&&_0xb27a05['isDirty']())&&(this['_definesDi'+'rty']=!(-0x1*0x6bf+-0x1465+-0x1*-0x1b25),(_0x22a369=this['_shaderChu'+'nks'])==null||_0x22a369['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x1cbc+-0xe22+0x2ade);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x2bf0ef=this['meshInstan'+'ces'],_0x1551ea=_0x2bf0ef['length'];for(let _0x50748d=-0xe*0xc+0x2*0x784+-0xe60;_0x50748d<_0x1551ea;_0x50748d++)_0x2bf0ef[_0x50748d]['clearShade'+'rs']();}['getParamet'+'er'](_0x69d823){return this['parameters'][_0x69d823];}['_setParame'+'terSimple'](_0x7f3ce0,_0x18e77c){w['call'](()=>{_0x18e77c===void(0x7*0x190+-0xff*0x2+-0x8f2*0x1)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x7f3ce0+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x46d8d5=this['parameters'][_0x7f3ce0];_0x46d8d5?_0x46d8d5['data']=_0x18e77c:this['parameters'][_0x7f3ce0]={'scopeId':null,'data':_0x18e77c};}['setParamet'+'er'](_0x2a0d0d,_0xc0d8e6){if(_0xc0d8e6===void(0x160*-0x9+0x5fc+-0x199*-0x4)&&typeof _0x2a0d0d=='object'){const _0x211f56=_0x2a0d0d;if(_0x211f56['length']){for(let _0x545b9b=-0x1*0x23e9+-0x23e3+0x47cc;_0x545b9b<_0x211f56['length'];_0x545b9b++)this['setParamet'+'er'](_0x211f56[_0x545b9b]);return;}_0x2a0d0d=_0x211f56['name'],_0xc0d8e6=_0x211f56['value'];}this['_setParame'+'terSimple'](_0x2a0d0d,_0xc0d8e6);}['deletePara'+'meter'](_0x32bf7f){this['parameters'][_0x32bf7f]&&delete this['parameters'][_0x32bf7f];}['setParamet'+'ers'](_0x50af02,_0x3f1866){const _0x16ed72=this['parameters'];_0x3f1866===void(-0x53*-0x1+-0x21ef*0x1+0x219c)&&(_0x3f1866=_0x16ed72);for(const _0x31bc45 in _0x3f1866){const _0x2d5144=_0x16ed72[_0x31bc45];_0x2d5144&&(_0x2d5144['scopeId']||(_0x2d5144['scopeId']=_0x50af02['scope']['resolve'](_0x31bc45)),_0x2d5144['scopeId']['setValue'](_0x2d5144['data']));}}['setDefine'](_0x5c364f,_0x461885){let _0x15a4a3=!(-0x1039*0x2+-0xc*-0x2cf+-0x141);const {defines:_0x135ebd}=this;_0x461885!==void(-0x1d7*-0x15+0x623*-0x3+-0x143a)&&_0x461885!==!(0x1*-0x78f+0x18e*0x11+-0x2a*0x73)?(_0x15a4a3=!_0x135ebd['has'](_0x5c364f)||_0x135ebd['get'](_0x5c364f)!==_0x461885,_0x135ebd['set'](_0x5c364f,_0x461885)):(_0x15a4a3=_0x135ebd['has'](_0x5c364f),_0x135ebd['delete'](_0x5c364f)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x15a4a3);}['getDefine'](_0x420526){return this['defines']['has'](_0x420526);}['destroy'](){this['variants']['clear']();for(let _0x2a0382=-0x1*0x9f3+-0x2*-0xb69+-0xcdf;_0x2a0382<this['meshInstan'+'ces']['length'];_0x2a0382++){const _0x416701=this['meshInstan'+'ces'][_0x2a0382];if(_0x416701['clearShade'+'rs'](),_0x416701['_material']=null,_0x416701['mesh']){const _0x586376=Qn(_0x416701['mesh']['device']);this!==_0x586376&&(_0x416701['material']=_0x586376);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x1*0xbc5+-0x43*0x71+0x11ce*0x1;}['addMeshIns'+'tanceRef'](_0x4a2965){this['meshInstan'+'ces']['push'](_0x4a2965);}['removeMesh'+'InstanceRe'+'f'](_0x24f252){const _0x44bb4f=this['meshInstan'+'ces'],_0x1711e4=_0x44bb4f['indexOf'](_0x24f252);_0x1711e4!==-(0x10*-0x31+0x31*0x2d+-0x58c)&&_0x44bb4f['splice'](_0x1711e4,-0x5e8*-0x3+-0x18d2+0x71b);}}class Ws{static['update'](_0x4cc58e,_0x38503a,_0x4959c3,_0x2fcefe,_0x552d56,_0x2e95af,_0x1ac83e){Ws['updateShar'+'edOptions'](_0x4cc58e,_0x38503a,_0x4959c3,_0x552d56,_0x2e95af),Ws['updateMate'+'rialOption'+'s'](_0x4cc58e,_0x38503a),Ws['updateEnvO'+'ptions'](_0x4cc58e,_0x38503a,_0x4959c3,_0x2fcefe),Ws['updateLigh'+'tingOption'+'s'](_0x4cc58e,_0x38503a,_0x4959c3,_0x552d56,_0x1ac83e);}static['updateShar'+'edOptions'](_0x45a8ca,_0x201e82,_0x45dd85,_0x35011a,_0x1a124f){_0x45a8ca['shaderChun'+'ks']=_0x201e82['shaderChun'+'ks'],_0x45a8ca['pass']=_0x1a124f,_0x45a8ca['alphaTest']=_0x201e82['alphaTest']>0x4b*0x7+0x1e96+0x20a3*-0x1,_0x45a8ca['blendType']=_0x201e82['blendType'],_0x45a8ca['screenSpac'+'e']=_0x35011a&&(_0x35011a&Eh)!==-0x15*0x142+0x18c4+-0x2*-0xd3,_0x45a8ca['skin']=_0x35011a&&(_0x35011a&nl)!==-0xb9e*0x1+0x1099+0x1*-0x4fb,_0x45a8ca['useInstanc'+'ing']=_0x35011a&&(_0x35011a&ol)!==0x86b+0x3*-0x6aa+0xb93,_0x45a8ca['useMorphPo'+'sition']=_0x35011a&&(_0x35011a&ll)!==0x16a0+-0xeb1*0x2+-0x1*-0x6c2,_0x45a8ca['useMorphNo'+'rmal']=_0x35011a&&(_0x35011a&cl)!==0x29*0x4e+0x5c0+-0x123e*0x1,_0x45a8ca['useMorphTe'+'xtureBased'+'Int']=_0x35011a&&(_0x35011a&hl)!==-0x720*0x5+0x1eb2+-0x2*-0x277,_0x45a8ca['hasTangent'+'s']=_0x35011a&&(_0x35011a&om)!==0x1412+0x13f3*-0x1+-0x1f*0x1,_0x45a8ca['nineSliced'+'Mode']=_0x201e82['nineSliced'+'Mode']||ci,_0x201e82['useLightin'+'g']&&_0x45dd85['clusteredL'+'ightingEna'+'bled']?(_0x45a8ca['clusteredL'+'ightingEna'+'bled']=!(0x1*0x1735+-0x1*0x1091+-0x6a4),_0x45a8ca['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x45dd85['lighting']['cookiesEna'+'bled'],_0x45a8ca['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x45dd85['lighting']['shadowsEna'+'bled'],_0x45a8ca['clusteredL'+'ightingSha'+'dowType']=_0x45dd85['lighting']['shadowType'],_0x45a8ca['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x45dd85['lighting']['areaLights'+'Enabled']):(_0x45a8ca['clusteredL'+'ightingEna'+'bled']=!(-0x1*0x2ec+0x13*-0x1eb+0x275e),_0x45a8ca['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1dbf+-0x1e13*0x1+0x3bd3),_0x45a8ca['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x203e+0xb5*-0x1d+-0xbbc),_0x45a8ca['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x39*-0xa3+0x1e9*0xb+-0x7*-0x22f));}static['updateMate'+'rialOption'+'s'](_0x5c32fc,_0x10686d){_0x5c32fc['separateAm'+'bient']=!(-0x148*0x1+0x1*-0x1e51+0x1f9a),_0x5c32fc['pixelSnap']=_0x10686d['pixelSnap'],_0x5c32fc['ambientSH']=_0x10686d['ambientSH'],_0x5c32fc['twoSidedLi'+'ghting']=_0x10686d['twoSidedLi'+'ghting'],_0x5c32fc['occludeDir'+'ect']=_0x10686d['occludeDir'+'ect'],_0x5c32fc['occludeSpe'+'cular']=_0x10686d['occludeSpe'+'cular'],_0x5c32fc['occludeSpe'+'cularFloat']=_0x10686d['occludeSpe'+'cularInten'+'sity']!==0x233+0x12f*-0x7+0x617,_0x5c32fc['useMsdf']=!(0x1*0xb5+0x1906+-0x19ba),_0x5c32fc['msdfTextAt'+'tribute']=!(0x24e3+-0xef*-0x20+0x6ad*-0xa),_0x5c32fc['alphaToCov'+'erage']=_0x10686d['alphaToCov'+'erage'],_0x5c32fc['opacityFad'+'esSpecular']=_0x10686d['opacityFad'+'esSpecular'],_0x5c32fc['opacityDit'+'her']=_0x10686d['opacityDit'+'her'],_0x5c32fc['cubeMapPro'+'jection']=tm,_0x5c32fc['useSpecula'+'r']=_0x10686d['hasSpecula'+'r'],_0x5c32fc['useSpecula'+'rityFactor']=_0x10686d['hasSpecula'+'rityFactor'],_0x5c32fc['enableGGXS'+'pecular']=_0x10686d['ggxSpecula'+'r'],_0x5c32fc['fresnelMod'+'el']=_0x10686d['fresnelMod'+'el'],_0x5c32fc['useRefract'+'ion']=_0x10686d['hasRefract'+'ion'],_0x5c32fc['useClearCo'+'at']=_0x10686d['hasClearCo'+'at'],_0x5c32fc['useSheen']=_0x10686d['hasSheen'],_0x5c32fc['useIridesc'+'ence']=_0x10686d['hasIrrides'+'cence'],_0x5c32fc['useMetalne'+'ss']=_0x10686d['hasMetalne'+'ss'],_0x5c32fc['useDynamic'+'Refraction']=_0x10686d['dynamicRef'+'raction'],_0x5c32fc['dispersion']=_0x10686d['dispersion']>-0x39*-0x19+-0xf1*-0x6+-0x3*0x3bd,_0x5c32fc['vertexColo'+'rs']=!(-0x1e10+-0xb7*0x1d+0x32cc),_0x5c32fc['lightMapEn'+'abled']=_0x10686d['hasLightin'+'g'],_0x5c32fc['dirLightMa'+'pEnabled']=_0x10686d['dirLightMa'+'p'],_0x5c32fc['useHeights']=_0x10686d['hasHeights'],_0x5c32fc['useNormals']=_0x10686d['hasNormals'],_0x5c32fc['useClearCo'+'atNormals']=_0x10686d['hasClearCo'+'atNormals'],_0x5c32fc['useAo']=_0x10686d['hasAo'],_0x5c32fc['diffuseMap'+'Enabled']=_0x10686d['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x22d2bb,_0x1dd3ea,_0x45fdec,_0x17937e){_0x22d2bb['fog']=_0x1dd3ea['useFog']?_0x17937e['fog']:Kn,_0x22d2bb['gamma']=_0x17937e['shaderOutp'+'utGamma'],_0x22d2bb['toneMap']=_0x1dd3ea['useTonemap']?_0x17937e['toneMappin'+'g']:nv,_0x1dd3ea['useSkybox']&&_0x45fdec['envAtlas']&&_0x45fdec['skybox']?(_0x22d2bb['reflection'+'Source']=xh,_0x22d2bb['reflection'+'Encoding']=_0x45fdec['envAtlas']['encoding'],_0x22d2bb['reflection'+'CubemapEnc'+'oding']=_0x45fdec['skybox']['encoding']):_0x1dd3ea['useSkybox']&&_0x45fdec['envAtlas']?(_0x22d2bb['reflection'+'Source']=vh,_0x22d2bb['reflection'+'Encoding']=_0x45fdec['envAtlas']['encoding']):_0x1dd3ea['useSkybox']&&_0x45fdec['skybox']?(_0x22d2bb['reflection'+'Source']=Th,_0x22d2bb['reflection'+'Encoding']=_0x45fdec['skybox']['encoding']):(_0x22d2bb['reflection'+'Source']=vr,_0x22d2bb['reflection'+'Encoding']=null),_0x1dd3ea['ambientSH']?(_0x22d2bb['ambientSou'+'rce']=im,_0x22d2bb['ambientEnc'+'oding']=null):_0x22d2bb['reflection'+'Source']!==vr&&_0x45fdec['envAtlas']?(_0x22d2bb['ambientSou'+'rce']=rm,_0x22d2bb['ambientEnc'+'oding']=_0x45fdec['envAtlas']['encoding']):(_0x22d2bb['ambientSou'+'rce']=am,_0x22d2bb['ambientEnc'+'oding']=null);const _0x556960=_0x22d2bb['reflection'+'Source']!==vr;_0x22d2bb['skyboxInte'+'nsity']=_0x556960,_0x22d2bb['useCubeMap'+'Rotation']=_0x556960&&_0x45fdec['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x4899df,_0x5ccb69,_0x8b608a,_0x57490c,_0x4afb2b){if(_0x4899df['lightMapWi'+'thoutAmbie'+'nt']=!(-0x6*-0x3c7+-0x529*-0x6+-0x35*0x103),_0x5ccb69['useLightin'+'g']){const _0x3ec0f0=[],_0x2a46e6=_0x57490c?_0x57490c>>0xb7*0xb+0x4b2+0x7*-0x1c9:Ss;_0x4899df['lightMaskD'+'ynamic']=!!(_0x2a46e6&Ss),_0x4899df['lightMapWi'+'thoutAmbie'+'nt']=!(0x2641+-0x39*0xb+-0x5*0x729),_0x4afb2b&&(Ws['collectLig'+'hts'](ve,_0x4afb2b[ve],_0x3ec0f0,_0x2a46e6),_0x8b608a['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x4afb2b[Ke],_0x3ec0f0,_0x2a46e6),Ws['collectLig'+'hts'](Ze,_0x4afb2b[Ze],_0x3ec0f0,_0x2a46e6))),_0x4899df['lights']=_0x3ec0f0;}else _0x4899df['lights']=[];(_0x4899df['lights']['length']===0x1e9d*0x1+0xb+-0x1ea8&&!_0x8b608a['clusteredL'+'ightingEna'+'bled']||(_0x57490c&wh)!==-0x1fd3+0x4*-0x60a+-0x33*-0x119)&&(_0x4899df['noShadow']=!(-0x1*0x1159+-0x1*-0xe6d+0x2ec));}static['collectLig'+'hts'](_0x448e48,_0x5be542,_0x5f54c7,_0x2abd34){for(let _0x5ecdf9=0x4*0x794+0x1*0x12d3+-0x3*0x1061;_0x5ecdf9<_0x5be542['length'];_0x5ecdf9++){const _0x5b929d=_0x5be542[_0x5ecdf9];_0x5b929d['enabled']&&_0x5b929d['mask']&_0x2abd34&&_0x5f54c7['push'](_0x5b929d);}}}const G_=(_0x213cb2,_0x25d541)=>{if(_0x213cb2['length']!==_0x25d541['length'])return!(0x3c0*0x5+-0x198f+0x6d0);for(let _0x2e3abd=0x6a3+-0x192f+0x128c;_0x2e3abd<_0x213cb2['length'];++_0x2e3abd)if(_0x213cb2[_0x2e3abd]!==_0x25d541[_0x2e3abd])return!(0xa1*0x2b+0x2487+0x3f91*-0x1);return!(-0x30e*-0x7+0x1*-0x7c1+-0xda1);},pb=_0x536082=>_0x536082['r']!==-0x2704+0x859*0x1+0x1eac||_0x536082['g']!==-0x21be*-0x1+0xbf*-0x23+-0x7a0||_0x536082['b']!==0x90*-0x1c+-0x2220+0x31e1,mb=_0x334d12=>_0x334d12['r']!==-0x609*0x6+-0x4*-0x185+0x1e22||_0x334d12['g']!==0x3*0x326+-0x9ee*0x1+-0x3e*-0x2||_0x334d12['b']!==0x699+0x11d8*0x2+-0x1*0x2a49;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x3a10af,_0x1970c2,_0x4ff36e,_0x10ecf7,_0x207890,_0x530e12){this['_updateSha'+'redOptions'](_0x3a10af,_0x1970c2,_0x4ff36e,_0x10ecf7,_0x207890),this['_updateMin'+'Options'](_0x3a10af,_0x4ff36e,_0x207890),this['_updateUVO'+'ptions'](_0x3a10af,_0x4ff36e,_0x10ecf7,!(0x956+0x1*0x215d+0x283*-0x11));}['updateRef'](_0x1de191,_0x526031,_0x5b1e6b,_0x4d8692,_0x5830e6,_0x1310e8,_0x42d3d9){this['_updateSha'+'redOptions'](_0x1de191,_0x526031,_0x4d8692,_0x5830e6,_0x1310e8),this['_updateEnv'+'Options'](_0x1de191,_0x4d8692,_0x526031,_0x5b1e6b),this['_updateMat'+'erialOptio'+'ns'](_0x1de191,_0x4d8692,_0x526031),_0x1de191['litOptions']['hasTangent'+'s']=_0x5830e6&&(_0x5830e6&om)!==-0x12e*-0x16+-0x23f7+0xb*0xe9,this['_updateLig'+'htOptions'](_0x1de191,_0x526031,_0x4d8692,_0x5830e6,_0x42d3d9),this['_updateUVO'+'ptions'](_0x1de191,_0x4d8692,_0x5830e6,!(-0x11*-0x1bb+0xe4d+0x169*-0x1f),_0x5b1e6b);}['_updateSha'+'redOptions'](_0x514cc3,_0x5b8197,_0x4c906c,_0x153e4f,_0x388481){_0x514cc3['forceUv1']=_0x4c906c['forceUv1'],_0x4c906c['userAttrib'+'utes']&&(_0x514cc3['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x4c906c['userAttrib'+'utes']['entries']())),_0x514cc3['litOptions']['shaderChun'+'ks']=_0x4c906c['shaderChun'+'ks'],_0x514cc3['litOptions']['pass']=_0x388481,_0x514cc3['litOptions']['alphaTest']=_0x4c906c['alphaTest']>0x1e43+-0x23d6+0x593*0x1,_0x514cc3['litOptions']['blendType']=_0x4c906c['blendType'],_0x514cc3['litOptions']['screenSpac'+'e']=_0x153e4f&&(_0x153e4f&Eh)!==-0x1*0x243a+0x11c*-0x1+0x2556,_0x514cc3['litOptions']['skin']=_0x153e4f&&(_0x153e4f&nl)!==-0x21a7+0x34*-0x7f+0x3b73,_0x514cc3['litOptions']['batch']=_0x153e4f&&(_0x153e4f&qc)!==0x61d+-0xb7b+0x55e,_0x514cc3['litOptions']['useInstanc'+'ing']=_0x153e4f&&(_0x153e4f&ol)!==-0x60+0x85*-0xc+0x12*0x5e,_0x514cc3['litOptions']['useMorphPo'+'sition']=_0x153e4f&&(_0x153e4f&ll)!==-0xc52+0x5*0x5b5+0x1*-0x1037,_0x514cc3['litOptions']['useMorphNo'+'rmal']=_0x153e4f&&(_0x153e4f&cl)!==-0x133a+-0x3*0xa1d+0x3191,_0x514cc3['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x153e4f&&(_0x153e4f&hl)!==0x1*-0x2581+0x2509*0x1+-0x5*-0x18,_0x514cc3['litOptions']['nineSliced'+'Mode']=_0x4c906c['nineSliced'+'Mode']||-0xdf0+0xe7f+0xd*-0xb,_0x5b8197['clusteredL'+'ightingEna'+'bled']&&_0x4c906c['useLightin'+'g']?(_0x514cc3['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1*0x1df9+0x1*0x1e50+-0x57),_0x514cc3['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x5b8197['lighting']['cookiesEna'+'bled'],_0x514cc3['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x5b8197['lighting']['shadowsEna'+'bled'],_0x514cc3['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x5b8197['lighting']['shadowType'],_0x514cc3['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x5b8197['lighting']['areaLights'+'Enabled']):(_0x514cc3['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1d6e+0x21b5+0x1f91*-0x2),_0x514cc3['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x233+-0x482+-0x1*-0x6b6),_0x514cc3['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1be9*0x1+-0x1028+0x178*-0x8),_0x514cc3['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x868*0x1+0x1*-0x2569+-0x187*-0x1e));}['_updateUVO'+'ptions'](_0x14be92,_0x21f2d3,_0x443999,_0x21167d,_0x1ca37b){let _0x5cbaec=!(-0x1769+0x1042+0x728),_0x44e170=!(0xb5e+-0x73*0x21+0x376),_0x36967b=!(-0x1*0x23e3+-0x2524+0x4908);_0x443999&&(_0x5cbaec=(_0x443999&nm)!==0x180d+-0xdf*-0x1c+0x3071*-0x1,_0x44e170=(_0x443999&dv)!==-0x17ff+-0x11ec+0x29eb,_0x36967b=(_0x443999&fv)!==-0x209*-0x3+0x1*0x451+0x536*-0x2),_0x14be92['litOptions']['vertexColo'+'rs']=!(-0x22da+-0x1ed+0x24c8),this['_mapXForms']=[];const _0x639db0={};for(const _0x19c22e in bn)this['_updateTex'+'Options'](_0x14be92,_0x21f2d3,_0x19c22e,_0x5cbaec,_0x44e170,_0x36967b,_0x21167d,_0x639db0);this['_mapXForms']=null,_0x14be92['litOptions']['ssao']=_0x1ca37b==null?void(0x2*-0xa88+0xcda+0x836):_0x1ca37b['ssaoEnable'+'d'],_0x14be92['useAO']=_0x14be92['litOptions']['ssao'],_0x14be92['litOptions']['lightMapEn'+'abled']=_0x14be92['lightMap'],_0x14be92['litOptions']['dirLightMa'+'pEnabled']=_0x14be92['dirLightMa'+'p'],_0x14be92['litOptions']['useHeights']=_0x14be92['heightMap'],_0x14be92['litOptions']['useNormals']=_0x14be92['normalMap'],_0x14be92['litOptions']['useClearCo'+'atNormals']=_0x14be92['clearCoatN'+'ormalMap'],_0x14be92['litOptions']['useAo']=_0x14be92['aoMap']||_0x14be92['aoVertexCo'+'lor']||_0x14be92['litOptions']['ssao'],_0x14be92['litOptions']['diffuseMap'+'Enabled']=_0x14be92['diffuseMap'];}['_updateTex'+'Options'](_0x3585fc,_0x2c87e1,_0x12fc76,_0xf149c5,_0x26d8e4,_0x39b6fc,_0x1a55d6,_0x1bcc36){const _0xae8138=_0x12fc76==='opacity';if(!_0x1a55d6||_0xae8138){const _0x36ecf4=_0x12fc76+'Map',_0x3ee37c=_0x12fc76+('VertexColo'+'r'),_0x3bb777=_0x12fc76+('VertexColo'+'rChannel'),_0x4c89c2=_0x36ecf4+'Channel',_0x46cbfd=_0x36ecf4+'Transform',_0x34c798=_0x36ecf4+'Uv',_0x4ffc3c=_0x36ecf4+'Identifier';if(_0x12fc76!=='light'&&(_0x3585fc[_0x36ecf4]=!(-0x2167+0x43a*-0x1+0x25a2),_0x3585fc[_0x4ffc3c]=void(0x236e+0x1e9e+-0x420c),_0x3585fc[_0x4c89c2]='',_0x3585fc[_0x46cbfd]=-0x54*-0x35+0x1c4b+-0x923*0x5,_0x3585fc[_0x34c798]=-0x1*-0x2527+-0x1642+-0xee5),_0x3585fc[_0x3ee37c]=!(-0x3a1+-0x1*-0x551+-0x1af),_0x3585fc[_0x3bb777]='',_0xae8138&&_0x2c87e1['blendType']===Cs&&_0x2c87e1['alphaTest']===0xa23+-0xf4e+-0x3*-0x1b9&&!_0x2c87e1['alphaToCov'+'erage']&&_0x2c87e1['opacityDit'+'her']===Sa)return;if(_0x12fc76!=='height'&&_0x2c87e1[_0x3ee37c]&&_0x39b6fc&&(_0x3585fc[_0x3ee37c]=_0x2c87e1[_0x3ee37c],_0x3585fc[_0x3bb777]=_0x2c87e1[_0x3bb777],_0x3585fc['litOptions']['vertexColo'+'rs']=!(0x30e*0xa+-0x224*-0x5+-0x2940)),_0x2c87e1[_0x36ecf4]){let _0x324d7b=!(0xc55+-0x661+-0x5f4);if(_0x2c87e1[_0x34c798]===-0x656*0x5+-0x5*0x38d+0x316f&&!_0xf149c5&&(_0x324d7b=!(0x1e9f+-0x1*0xaee+0x276*-0x8)),_0x2c87e1[_0x34c798]===-0x161c+-0x4e6+0x1*0x1b03&&!_0x26d8e4&&(_0x324d7b=!(-0x361+-0x6ee*0x2+-0x1*-0x113e)),_0x324d7b){const _0x388163=_0x2c87e1[_0x36ecf4]['id'];let _0x5db588=_0x1bcc36[_0x388163];_0x5db588===void(-0x17be+0x1b2+0x160c)&&(_0x1bcc36[_0x388163]=_0x12fc76,_0x5db588=_0x12fc76),_0x3585fc[_0x36ecf4]=!!_0x2c87e1[_0x36ecf4],_0x3585fc[_0x4ffc3c]=_0x5db588,_0x3585fc[_0x46cbfd]=this['_getMapTra'+'nsformID'](_0x2c87e1['getUniform'](_0x46cbfd),_0x2c87e1[_0x34c798]),_0x3585fc[_0x4c89c2]=_0x2c87e1[_0x4c89c2],_0x3585fc[_0x34c798]=_0x2c87e1[_0x34c798];}}}}['_updateMin'+'Options'](_0x1f3426,_0x4d2c67,_0x15f67c){const _0x4f1961=_0x15f67c===Rl;_0x1f3426['litOptions']['opacitySha'+'dowDither']=_0x4f1961?_0x4d2c67['opacityDit'+'her']:_0x4d2c67['opacitySha'+'dowDither'],_0x1f3426['litOptions']['linearDept'+'h']=_0x4f1961,_0x1f3426['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x65b807,_0x2f28e3,_0x557977){var _0x223a51,_0x4d9917,_0x471f95,_0x2c610d,_0x868073,_0x131e52;const _0x3fddbf=!!(_0x2f28e3['useMetalne'+'ss']||_0x2f28e3['specularMa'+'p']||_0x2f28e3['sphereMap']||_0x2f28e3['cubeMap']||mb(_0x2f28e3['specular'])||_0x2f28e3['specularit'+'yFactor']>0x19*-0x92+0x233*0x1+0xc0f&&_0x2f28e3['useMetalne'+'ss']||_0x2f28e3['enableGGXS'+'pecular']||_0x2f28e3['clearCoat']>-0x59*-0x65+-0x2185+-0x8*0x33),_0x703b=!_0x2f28e3['useMetalne'+'ss']||_0x2f28e3['useMetalne'+'ssSpecular'+'Color'],_0x4d7edf=_0x3fddbf&&(_0x2f28e3['specularTi'+'nt']||!_0x2f28e3['specularMa'+'p']&&!_0x2f28e3['specularVe'+'rtexColor'])&&pb(_0x2f28e3['specular']),_0x1866c1=_0x3fddbf&&_0x2f28e3['useMetalne'+'ssSpecular'+'Color']&&(_0x2f28e3['specularit'+'yFactorTin'+'t']||_0x2f28e3['specularit'+'yFactor']<-0x318*0x2+-0x2*-0x54d+-0x469&&!_0x2f28e3['specularit'+'yFactorMap']),_0x2b93aa=_0x553a13=>_0x553a13?_0x553a13['format']===vl||_0x553a13['type']===Jo:!(0x1*0x1beb+0x2c*0x1d+0x2*-0x1073),_0x48a093=(_0xcf592e,_0x5f04d0)=>Math['abs'](_0xcf592e-_0x5f04d0)<-0x13*0x30+-0x4*-0xe5+-0x4+0.0001;_0x65b807['specularTi'+'nt']=_0x4d7edf,_0x65b807['specularit'+'yFactorTin'+'t']=_0x1866c1,_0x65b807['metalnessT'+'int']=_0x2f28e3['useMetalne'+'ss']&&_0x2f28e3['metalness']<0x1a1f+0x252b*-0x1+-0xb0d*-0x1,_0x65b807['glossTint']=!(0x1e95+-0x1514+0x981*-0x1),_0x65b807['diffuseEnc'+'oding']=(_0x223a51=_0x2f28e3['diffuseMap'])==null?void(0x2*0xbe6+0x2*0xbad+-0x2f26):_0x223a51['encoding'],_0x65b807['diffuseDet'+'ailEncodin'+'g']=(_0x4d9917=_0x2f28e3['diffuseDet'+'ailMap'])==null?void(-0xf1e+0xaa4+0x47a):_0x4d9917['encoding'],_0x65b807['emissiveEn'+'coding']=(_0x471f95=_0x2f28e3['emissiveMa'+'p'])==null?void(-0x18c6+-0x1*-0x21a+0x16ac):_0x471f95['encoding'],_0x65b807['lightMapEn'+'coding']=(_0x2c610d=_0x2f28e3['lightMap'])==null?void(-0x7a6+0x135*0x9+-0x337):_0x2c610d['encoding'],_0x65b807['packedNorm'+'al']=_0x2b93aa(_0x2f28e3['normalMap']),_0x65b807['refraction'+'Tint']=_0x48a093(_0x2f28e3['refraction'],0x8c1*-0x1+-0xa23+0x12e5),_0x65b807['refraction'+'IndexTint']=_0x48a093(_0x2f28e3['refraction'+'Index'],(-0x1*-0x16dc+-0x7b9+0xf22*-0x1)/(0x2508+-0x67*-0x44+-0x4063+0.5)),_0x65b807['thicknessT'+'int']=_0x2f28e3['useDynamic'+'Refraction']&&_0x2f28e3['thickness']!==0x1b55*-0x1+-0x45*-0x1b+0x140f,_0x65b807['specularEn'+'coding']=(_0x868073=_0x2f28e3['specularMa'+'p'])==null?void(0x1917*0x1+0x900*0x4+-0x1*0x3d17):_0x868073['encoding'],_0x65b807['sheenEncod'+'ing']=(_0x131e52=_0x2f28e3['sheenMap'])==null?void(-0x1150+-0x104d+0x219d):_0x131e52['encoding'],_0x65b807['aoMapUv']=_0x2f28e3['aoUvSet'],_0x65b807['aoDetail']=!!_0x2f28e3['aoDetailMa'+'p'],_0x65b807['diffuseDet'+'ail']=!!_0x2f28e3['diffuseDet'+'ailMap'],_0x65b807['normalDeta'+'il']=!!_0x2f28e3['normalMap'],_0x65b807['normalDeta'+'ilPackedNo'+'rmal']=_0x2b93aa(_0x2f28e3['normalDeta'+'ilMap']),_0x65b807['diffuseDet'+'ailMode']=_0x2f28e3['diffuseDet'+'ailMode'],_0x65b807['aoDetailMo'+'de']=_0x2f28e3['aoDetailMo'+'de'],_0x65b807['clearCoatG'+'loss']=!!_0x2f28e3['clearCoatG'+'loss'],_0x65b807['clearCoatP'+'ackedNorma'+'l']=_0x2b93aa(_0x2f28e3['clearCoatN'+'ormalMap']),_0x65b807['iorTint']=_0x48a093(_0x2f28e3['refraction'+'Index'],(0xfd3+-0x1ee6+0xf14)/(-0x12ab+0x2*0xe95+0xa7e*-0x1+0.5)),_0x557977['forcePassT'+'hroughSpec'+'ular']&&(_0x65b807['specularEn'+'coding']='linear',_0x65b807['sheenEncod'+'ing']='linear'),_0x65b807['iridescenc'+'eTint']=_0x2f28e3['iridescenc'+'e']!==-0x22fd*0x1+0x8fa+0x1e*0xde,_0x65b807['glossInver'+'t']=_0x2f28e3['glossInver'+'t'],_0x65b807['sheenGloss'+'Invert']=_0x2f28e3['sheenGloss'+'Invert'],_0x65b807['clearCoatG'+'lossInvert']=_0x2f28e3['clearCoatG'+'lossInvert'],_0x65b807['useSpecula'+'rColor']=_0x703b,_0x65b807['litOptions']['separateAm'+'bient']=!(0xf87+0x2*0xe63+0x21c*-0x15),_0x65b807['litOptions']['pixelSnap']=_0x2f28e3['pixelSnap'],_0x65b807['litOptions']['ambientSH']=!!_0x2f28e3['ambientSH'],_0x65b807['litOptions']['twoSidedLi'+'ghting']=_0x2f28e3['twoSidedLi'+'ghting'],_0x65b807['litOptions']['occludeSpe'+'cular']=_0x2f28e3['occludeSpe'+'cular'],_0x65b807['litOptions']['occludeSpe'+'cularFloat']=_0x2f28e3['occludeSpe'+'cularInten'+'sity']!==0x290+-0x7+-0x288,_0x65b807['litOptions']['useMsdf']=!!_0x2f28e3['msdfMap'],_0x65b807['litOptions']['msdfTextAt'+'tribute']=!!_0x2f28e3['msdfTextAt'+'tribute'],_0x65b807['litOptions']['alphaToCov'+'erage']=_0x2f28e3['alphaToCov'+'erage'],_0x65b807['litOptions']['opacityFad'+'esSpecular']=_0x2f28e3['opacityFad'+'esSpecular'],_0x65b807['litOptions']['opacityDit'+'her']=_0x2f28e3['opacityDit'+'her'],_0x65b807['litOptions']['cubeMapPro'+'jection']=_0x2f28e3['cubeMapPro'+'jection'],_0x65b807['litOptions']['occludeDir'+'ect']=_0x2f28e3['occludeDir'+'ect'],_0x65b807['litOptions']['useSpecula'+'r']=_0x3fddbf,_0x65b807['litOptions']['useSpecula'+'rityFactor']=(_0x1866c1||!!_0x2f28e3['specularit'+'yFactorMap'])&&_0x2f28e3['useMetalne'+'ssSpecular'+'Color'],_0x65b807['litOptions']['enableGGXS'+'pecular']=_0x2f28e3['enableGGXS'+'pecular'],_0x65b807['litOptions']['fresnelMod'+'el']=_0x2f28e3['fresnelMod'+'el'],_0x65b807['litOptions']['useRefract'+'ion']=(_0x2f28e3['refraction']||!!_0x2f28e3['refraction'+'Map'])&&(_0x2f28e3['useDynamic'+'Refraction']||_0x65b807['litOptions']['reflection'+'Source']!==vr),_0x65b807['litOptions']['useClearCo'+'at']=!!_0x2f28e3['clearCoat'],_0x65b807['litOptions']['useSheen']=_0x2f28e3['useSheen'],_0x65b807['litOptions']['useIridesc'+'ence']=_0x2f28e3['useIridesc'+'ence']&&_0x2f28e3['iridescenc'+'e']!==-0x1*-0x2a8+0x83f+-0x1*0xae7,_0x65b807['litOptions']['useMetalne'+'ss']=_0x2f28e3['useMetalne'+'ss'],_0x65b807['litOptions']['useDynamic'+'Refraction']=_0x2f28e3['useDynamic'+'Refraction'],_0x65b807['litOptions']['dispersion']=_0x2f28e3['dispersion']>0x89f*0x1+-0x133*-0xe+-0x5*0x515,_0x65b807['litOptions']['shadowCatc'+'her']=_0x2f28e3['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x301e73,_0x58b467,_0x3c165b,_0x46abd5){_0x301e73['litOptions']['fog']=_0x58b467['useFog']?_0x46abd5['fog']:Kn,_0x301e73['litOptions']['gamma']=_0x46abd5['shaderOutp'+'utGamma'],_0x301e73['litOptions']['toneMap']=_0x58b467['useTonemap']?_0x46abd5['toneMappin'+'g']:nv;let _0x1b3ffd=!(-0x1*-0x1393+-0x1ca9+0x917);if(_0x58b467['envAtlas']&&_0x58b467['cubeMap']?(_0x301e73['litOptions']['reflection'+'Source']=xh,_0x301e73['litOptions']['reflection'+'Encoding']=_0x58b467['envAtlas']['encoding'],_0x301e73['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x58b467['cubeMap']['encoding']):_0x58b467['envAtlas']?(_0x301e73['litOptions']['reflection'+'Source']=vh,_0x301e73['litOptions']['reflection'+'Encoding']=_0x58b467['envAtlas']['encoding']):_0x58b467['cubeMap']?(_0x301e73['litOptions']['reflection'+'Source']=Th,_0x301e73['litOptions']['reflection'+'Encoding']=_0x58b467['cubeMap']['encoding']):_0x58b467['sphereMap']?(_0x301e73['litOptions']['reflection'+'Source']=hv,_0x301e73['litOptions']['reflection'+'Encoding']=_0x58b467['sphereMap']['encoding']):_0x58b467['useSkybox']&&_0x3c165b['envAtlas']&&_0x3c165b['skybox']?(_0x301e73['litOptions']['reflection'+'Source']=xh,_0x301e73['litOptions']['reflection'+'Encoding']=_0x3c165b['envAtlas']['encoding'],_0x301e73['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3c165b['skybox']['encoding'],_0x1b3ffd=!(0xe00+0x1*0x13c7+-0x21c7)):_0x58b467['useSkybox']&&_0x3c165b['envAtlas']?(_0x301e73['litOptions']['reflection'+'Source']=vh,_0x301e73['litOptions']['reflection'+'Encoding']=_0x3c165b['envAtlas']['encoding'],_0x1b3ffd=!(-0x1c1*0x1+0x1bb5+-0x19f4)):_0x58b467['useSkybox']&&_0x3c165b['skybox']?(_0x301e73['litOptions']['reflection'+'Source']=Th,_0x301e73['litOptions']['reflection'+'Encoding']=_0x3c165b['skybox']['encoding'],_0x1b3ffd=!(0x2683+0x194+-0xb*0x3a5)):(_0x301e73['litOptions']['reflection'+'Source']=vr,_0x301e73['litOptions']['reflection'+'Encoding']=null),_0x58b467['ambientSH'])_0x301e73['litOptions']['ambientSou'+'rce']=im,_0x301e73['litOptions']['ambientEnc'+'oding']=null;else{const _0x49e621=_0x58b467['envAtlas']||(_0x58b467['useSkybox']&&_0x3c165b['envAtlas']?_0x3c165b['envAtlas']:null);_0x49e621&&!_0x58b467['sphereMap']?(_0x301e73['litOptions']['ambientSou'+'rce']=rm,_0x301e73['litOptions']['ambientEnc'+'oding']=_0x49e621['encoding']):(_0x301e73['litOptions']['ambientSou'+'rce']=am,_0x301e73['litOptions']['ambientEnc'+'oding']=null);}_0x301e73['litOptions']['skyboxInte'+'nsity']=_0x1b3ffd,_0x301e73['litOptions']['useCubeMap'+'Rotation']=_0x1b3ffd&&_0x3c165b['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x4ff30c,_0x27d56b,_0x2dbab4,_0x310216,_0xdae8f8){if(_0x4ff30c['lightMap']=!(0x3b*-0x7+-0x527*-0x1+-0x5*0xb5),_0x4ff30c['lightMapCh'+'annel']='',_0x4ff30c['lightMapUv']=-0x9d7*-0x2+-0x127e+-0x2*0x98,_0x4ff30c['lightMapTr'+'ansform']=0x7*-0x3d+0x74*-0x53+0x1*0x2747,_0x4ff30c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1fec+-0x3*0x1e8+-0x1a33),_0x4ff30c['dirLightMa'+'p']=!(-0x14ba*0x1+0x21*-0x5+-0x10*-0x156),_0x310216&&(_0x4ff30c['litOptions']['noShadow']=(_0x310216&wh)!==-0x56+0x806+-0x7b0,(_0x310216&ou)!==-0x2*-0x38b+-0xaee+0x3d8&&(_0x4ff30c['lightMapEn'+'coding']=_0x27d56b['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x4ff30c['lightMap']=!(0x248e+-0x21a1+-0x2ed),_0x4ff30c['lightMapCh'+'annel']='rgb',_0x4ff30c['lightMapUv']=-0x18fd+-0xb8f*0x2+0x301c,_0x4ff30c['lightMapTr'+'ansform']=0x1*0x500+0xe*-0x278+0x1d90,_0x4ff30c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x2dbab4['lightMap'],(_0x310216&uv)!==-0x1*-0x158+-0x24*0x27+0x14*0x35&&(_0x4ff30c['dirLightMa'+'p']=!(0x1d6*-0x2+0x500+-0x154)),(_0x310216&pv)!==0x1c0f+-0x1848+-0x3c7&&(_0x4ff30c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1ed7*-0x1+0x2532+-0x4*0x1102)))),_0x2dbab4['useLightin'+'g']){const _0x402d9f=[],_0x4f30f5=_0x310216?_0x310216>>-0x15c3+-0x2b*-0x60+0x5b3:Ss;_0x4ff30c['litOptions']['lightMaskD'+'ynamic']=!!(_0x4f30f5&Ss),_0xdae8f8&&(Ws['collectLig'+'hts'](ve,_0xdae8f8[ve],_0x402d9f,_0x4f30f5),_0x27d56b['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0xdae8f8[Ke],_0x402d9f,_0x4f30f5),Ws['collectLig'+'hts'](Ze,_0xdae8f8[Ze],_0x402d9f,_0x4f30f5))),_0x4ff30c['litOptions']['lights']=_0x402d9f;}else _0x4ff30c['litOptions']['lights']=[];_0x4ff30c['litOptions']['lights']['length']===0x14c8+-0x3a0*-0x4+-0x2348&&!_0x27d56b['clusteredL'+'ightingEna'+'bled']&&(_0x4ff30c['litOptions']['noShadow']=!(-0x1*-0x1c8f+0x20a7+0x3d36*-0x1));}['_getMapTra'+'nsformID'](_0x5b15a1,_0x19b166){if(!_0x5b15a1)return-0x641+-0x1*-0x1163+0xb22*-0x1;let _0x19b7ee=this['_mapXForms'][_0x19b166];_0x19b7ee||(_0x19b7ee=[],this['_mapXForms'][_0x19b166]=_0x19b7ee);for(let _0x38d1c=-0x1*0x4a9+0xd06*-0x1+0x11af;_0x38d1c<_0x19b7ee['length'];_0x38d1c++)if(G_(_0x19b7ee[_0x38d1c][-0x813+0xca4*0x3+-0x3*0x9f3]['value'],_0x5b15a1[-0x1a4e+-0x68b*-0x5+-0x669]['value'])&&G_(_0x19b7ee[_0x38d1c][-0xfbb*-0x1+0xc9e+-0x1c58]['value'],_0x5b15a1[-0x21ba+-0xc74+0x2e2f]['value']))return _0x38d1c+(0x1789*-0x1+0x1fe6+0x4*-0x217);return _0x19b7ee['push'](_0x5b15a1);}}function rt(_0x558f09,_0x2dc650=!(-0x1a3e*0x1+0x1433+0x60b),_0x933778=!(0x1*0x15d1+-0x5e3+-0xfee)){const _0x585b15={};return _0x585b15[_0x558f09+'Map']='texture',_0x585b15[_0x558f09+'MapTiling']='vec2',_0x585b15[_0x558f09+'MapOffset']='vec2',_0x585b15[_0x558f09+('MapRotatio'+'n')]='number',_0x585b15[_0x558f09+'MapUv']='number',_0x2dc650&&(_0x585b15[_0x558f09+'MapChannel']='string',_0x933778&&(_0x585b15[_0x558f09+('VertexColo'+'r')]='boolean',_0x585b15[_0x558f09+('VertexColo'+'rChannel')]='string')),_0x585b15;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x2*0xc6a+0x226f+-0x99b),!(0xfdf+0x2503+-0x34e1*0x1)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0xf35+-0x2285*0x1+-0x5f*-0x86),!(0x1543*-0x1+-0x2*0xdad+0x309e*0x1)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x2003+-0x59*0x62+0x602*0xb)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x1*-0xa1a+-0x643+0x105e)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x21d3+-0x1a80+-0x752)),'normalDetailMapBumpiness':'number',...rt('height',!(0x1116+0x1e5e+-0x2f74),!(-0x16bc+0xc72+-0x5*-0x20f)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x188186=>{this['_'+_0x188186]=Kc[_0x188186]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x2f8863){return super['copy'](_0x2f8863),Object['keys'](Kc)['forEach'](_0x4310e9=>{this[_0x4310e9]=_0x2f8863[_0x4310e9];}),this['userAttrib'+'utes']=new Map(_0x2f8863['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x3daae8,_0xfa2196){this['userAttrib'+'utes']['set'](_0xfa2196,_0x3daae8);}['_setParame'+'ter'](_0x2b5aff,_0x480560){no['add'](_0x2b5aff),this['setParamet'+'er'](_0x2b5aff,_0x480560);}['_setParame'+'ters'](_0x1916d7){_0x1916d7['forEach'](_0x43aa15=>{this['_setParame'+'ter'](_0x43aa15['name'],_0x43aa15['value']);});}['_processPa'+'rameters'](_0xf76a41){const _0xcfbd67=this[_0xf76a41];_0xcfbd67['forEach'](_0x440969=>{no['has'](_0x440969)||delete this['parameters'][_0x440969];}),this[_0xf76a41]=no,no=_0xcfbd67,no['clear']();}['_updateMap'](_0x1b85d2){const _0x16944f=_0x1b85d2+'Map',_0x1027e7=this[_0x16944f];if(_0x1027e7){this['_setParame'+'ter']('texture_'+_0x16944f,_0x1027e7);const _0x1c9f0d=_0x16944f+'Transform',_0x4fbafe=this['getUniform'](_0x1c9f0d);_0x4fbafe&&this['_setParame'+'ters'](_0x4fbafe);}}['_allocUnif'+'orm'](_0x14252,_0x56ce32){let _0x274847=this['_uniformCa'+'che'][_0x14252];return _0x274847||(_0x274847=_0x56ce32(),this['_uniformCa'+'che'][_0x14252]=_0x274847),_0x274847;}['getUniform'](_0x1186ab,_0x4bffac,_0x1b0ded){return bv[_0x1186ab](this,_0x4bffac,_0x1b0ded);}['updateUnif'+'orms'](_0x58f0b1,_0x3fa2c2){const _0x851e5b=_0x4a60c7=>this['getUniform'](_0x4a60c7,_0x58f0b1,_0x3fa2c2);this['_setParame'+'ter']('material_a'+'mbient',_0x851e5b('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x851e5b('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x731+-0x121*0x6+-0x6a)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x851e5b('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x851e5b('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x851e5b('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x1ff9+0x7*0x484+-0x3f95&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x1265+0x1e8a+-0xc25&&this['emissive']['g']===-0x5*-0x4f6+-0xb26*0x1+-0xda8&&this['emissive']['b']===-0x2*0xf47+0x1cae*-0x1+0x3b3c&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x851e5b('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x4*0x6f2+0x3*-0x1d+0x1c1f&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x58*0x22+0x22e6+0xb2*-0x43&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x851e5b('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x118c+-0xb*-0x24d+-0x2adb?-0x955+-0x1249*-0x1+-0x8f4:(0x11*-0xf0+0x70*0xe+0x9d1)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1*0x1693+-0x1*0x1b96+0x322a)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x851e5b('cubeMapPro'+'jectionBox'));for(const _0x11feae in bn)this['_updateMap'](_0x11feae);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x851e5b('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x58f0b1,_0x3fa2c2);}['updateEnvU'+'niforms'](_0x5ee16b,_0x34de1c){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x34de1c['envAtlas']&&_0x34de1c['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x34de1c['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x34de1c['skybox'])):_0x34de1c['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x34de1c['envAtlas']):_0x34de1c['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x34de1c['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x5649fa){const {device:_0x3f57a6,scene:_0xdb8cd,pass:_0x32ac72,objDefs:_0x4a4dad,sortedLights:_0x382d29,cameraShaderParams:_0x42b496}=_0x5649fa;this['updateEnvU'+'niforms'](_0x3f57a6,_0xdb8cd);const _0x221798=Si['get'](_0x3f57a6)['getByIndex'](_0x32ac72),_0x3a50bb=_0x32ac72===Zn||_0x32ac72===Rl||_0x221798['isShadow'];let _0x126868=_0x3a50bb?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x126868['defines']=$t['getCoreDef'+'ines'](this,_0x5649fa),_0x3a50bb?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x126868,_0xdb8cd,this,_0x4a4dad,_0x32ac72,_0x382d29):this['shaderOptB'+'uilder']['updateRef'](_0x126868,_0xdb8cd,_0x42b496,this,_0x4a4dad,_0x32ac72,_0x382d29),this['useFog']||_0x126868['defines']['set']('FOG','NONE'),_0x126868['defines']['set']('TONEMAP',ov[_0x126868['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x126868=this['onUpdateSh'+'ader'](_0x126868));const _0x139285=new Ad(_0x5649fa['viewUnifor'+'mFormat'],_0x5649fa['viewBindGr'+'oupFormat'],_0x5649fa['vertexForm'+'at']),_0x343d64=Hn(_0x3f57a6);_0x343d64['register']('standard',Jd);const _0x1cfe64=_0x343d64['getProgram']('standard',_0x126868,_0x139285,this['userId']);return this['_dirtyShad'+'er']=!(-0x1923+0x6a5+-0x3b3*-0x5),_0x1cfe64;}['destroy'](){for(const _0x2fe0c1 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x2fe0c1]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x41982b,_0x486c1e)=>{bv[_0x41982b]=_0x486c1e;},um=(_0x12559d,_0x3033b1,_0x1d87eb,_0x1c008e)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x12559d,{'get':_0x1c008e||function(){return this['_'+_0x12559d];},'set':_0x1d87eb}),Kc[_0x12559d]={'value':_0x3033b1};},Sb=_0x1ba45e=>{const _0x5bd761='_'+_0x1ba45e['name'],_0x566bd1=_0x1ba45e['dirtyShade'+'rFunc']||(()=>!(0xa9*0x25+0x463*-0x5+-0x27e)),_0x475940=function(_0x2cc7ab){const _0x37ee23=this[_0x5bd761];_0x37ee23!==_0x2cc7ab&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x566bd1(_0x37ee23,_0x2cc7ab),this[_0x5bd761]=_0x2cc7ab);};um(_0x1ba45e['name'],()=>_0x1ba45e['defaultVal'+'ue'],_0x475940,_0x1ba45e['getterFunc']);},yb=_0x4ff513=>{const _0x18bc3c='_'+_0x4ff513['name'],_0x2a8fcf=_0x4ff513['dirtyShade'+'rFunc']||(()=>!(0x2*0x67f+-0x4*-0x42+-0xe06)),_0x17a68f=function(_0x4d822a){const _0x34486b=this[_0x18bc3c];_0x34486b['equals'](_0x4d822a)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2a8fcf(_0x34486b,_0x4d822a),this[_0x18bc3c]=_0x34486b['copy'](_0x4d822a));};um(_0x4ff513['name'],()=>_0x4ff513['defaultVal'+'ue']['clone'](),_0x17a68f,_0x4ff513['getterFunc']);},Es=_0x120866=>_0x120866['defaultVal'+'ue']&&_0x120866['defaultVal'+'ue']['clone']?yb(_0x120866):Sb(_0x120866);function et(_0x5064df,_0x4afa3e='rgb',_0x5c9af8=!(-0x1150+0x1b56+-0x1*0xa06),_0x38d1ee=-0xd55+0xba1*-0x2+0x2497){bn[_0x5064df]=_0x4afa3e['length']||-(0xfe5+-0x15ca+0x5e6),Es({'name':_0x5064df+'Map','defaultValue':null,'dirtyShaderFunc':(_0x54e1f1,_0x174494)=>!!_0x54e1f1!=!!_0x174494||_0x54e1f1&&(_0x54e1f1['type']!==_0x174494['type']||_0x54e1f1['format']!==_0x174494['format'])}),Es({'name':_0x5064df+'MapTiling','defaultValue':new J(0x1*-0xdf6+0x4*-0x5b2+-0x1*-0x24bf,-0x10*-0x1c9+-0x436+-0x1859)}),Es({'name':_0x5064df+'MapOffset','defaultValue':new J(-0x1b7d+0x1f74*-0x1+0x3af1,0x1ce2+0x7d*-0x2f+-0x5ef)}),Es({'name':_0x5064df+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x5064df+'MapUv','defaultValue':_0x38d1ee}),_0x4afa3e&&(Es({'name':_0x5064df+'MapChannel','defaultValue':_0x4afa3e}),_0x5c9af8&&(Es({'name':_0x5064df+('VertexColo'+'r'),'defaultValue':!(0x1558+0x18b+-0x1d*0xca)}),Es({'name':_0x5064df+('VertexColo'+'rChannel'),'defaultValue':_0x4afa3e})));const _0x48a156=_0x5064df+'MapTiling',_0x426fa1=_0x5064df+'MapOffset',_0x32ae10=_0x5064df+('MapRotatio'+'n'),_0x154d09=_0x5064df+('MapTransfo'+'rm');Pd(_0x154d09,(_0x18ba7c,_0x497f88,_0x1a4028)=>{const _0xe684de=_0x18ba7c[_0x48a156],_0x474774=_0x18ba7c[_0x426fa1],_0xf9b948=_0x18ba7c[_0x32ae10];if(_0xe684de['x']===0x2*-0xce5+0xa6d*0x1+0xf5e&&_0xe684de['y']===0x1d*-0x5+0xaf3+-0xa61&&_0x474774['x']===-0xee1+0x8a*-0x26+0x1*0x235d&&_0x474774['y']===-0x1bd7+0x61f*0x6+-0x8e3&&_0xf9b948===0x242f+0x190+-0x3*0xc95)return null;const _0x2a5cbb=_0x18ba7c['_allocUnif'+'orm'](_0x154d09,()=>[{'name':'texture_'+_0x154d09+'0','value':new Float32Array(0x1b22+-0x982+0x1b*-0xa7)},{'name':'texture_'+_0x154d09+'1','value':new Float32Array(-0x24a9+0x2487+-0x1*-0x25)}]),_0x507ed3=Math['cos'](_0xf9b948*Y['DEG_TO_RAD']),_0x1ad66e=Math['sin'](_0xf9b948*Y['DEG_TO_RAD']),_0x7c2cf4=_0x2a5cbb[0x7f7+-0x1ca5+0x14ae]['value'];_0x7c2cf4[-0x13a2+-0x6*-0xd6+0xe9e]=_0x507ed3*_0xe684de['x'],_0x7c2cf4[0x1580*-0x1+-0xc83*0x3+0x3b0a]=-_0x1ad66e*_0xe684de['y'],_0x7c2cf4[0x57e+-0xd7c+0x400*0x2]=_0x474774['x'];const _0x55b089=_0x2a5cbb[0x9ad*0x4+-0x2*-0x6c5+-0x343d*0x1]['value'];return _0x55b089[0x37b+-0x1815+0x149a]=_0x1ad66e*_0xe684de['x'],_0x55b089[-0x535+-0x4aa+-0x4*-0x278]=_0x507ed3*_0xe684de['y'],_0x55b089[-0x91e+0x2*-0x1333+0x2f86]=0x1bb9+0x49d*-0x8+0x930-_0xe684de['y']-_0x474774['y'],_0x2a5cbb;});}function Ra(_0x361024,_0x2f6333){Es({'name':_0x361024,'defaultValue':_0x2f6333,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x53*0x3a+-0x4e+-0x1280),this['_'+_0x361024];}}),Pd(_0x361024,(_0x4013c3,_0x3769be,_0x3faffc)=>{const _0x3bb494=_0x4013c3['_allocUnif'+'orm'](_0x361024,()=>new Float32Array(-0x229*-0x1+-0x2b1*-0x5+-0xf9b)),_0x1d74af=_0x4013c3[_0x361024];return oc['linear'](_0x1d74af),_0x3bb494[-0x1e1*-0x13+0xd*-0xc4+0x1fb*-0xd]=oc['r'],_0x3bb494[0xbe*0xd+-0x26b7+0x3d*0x7a]=oc['g'],_0x3bb494[0xe99+0xcb0+-0x1b47]=oc['b'],_0x3bb494;});}function ze(_0x1bcdfd,_0x43be70,_0x1c8ee4){Es({'name':_0x1bcdfd,'defaultValue':_0x43be70,'dirtyShaderFunc':(_0x4a020e,_0xd459d6)=>(_0x4a020e===0x1a06*0x1+-0x7*0xa7+-0x1*0x1575||_0x4a020e===0x2*-0x1364+-0x5*0x34b+0xdd0*0x4)!=(_0xd459d6===-0x784+0x46*-0x17+0xdce||_0xd459d6===0x6*-0x4a9+0x185c+0x39b)}),Pd(_0x1bcdfd,_0x1c8ee4);}function oo(_0x55e4f0,_0x6535d8){Es({'name':_0x55e4f0,'defaultValue':null,'dirtyShaderFunc':(_0x33f5fb,_0x19f700)=>!!_0x33f5fb==!!_0x19f700}),Pd(_0x55e4f0,_0x6535d8);}function ke(_0x4040dd,_0x2c02e9){Es({'name':_0x4040dd,'defaultValue':_0x2c02e9});}function vb(){Ra('ambient',new ie(-0x8fb*-0x2+0x52a*0x1+-0x171f,-0x34*0x9+-0x19b*0x11+0x1d20,-0x2f*0x56+0x21ce+-0x1203)),Ra('diffuse',new ie(-0xb67+-0x1951*0x1+-0x229*-0x11,0x383+0x2f5*-0x5+0xb47,-0xb9*-0x1+0x4ae*0x6+-0x1ccc)),Ra('specular',new ie(0x1*-0x1082+-0xc3*-0x1b+0x1*-0x40f,-0x3*-0x27a+-0x1*0x281+0xd*-0x61,0x1515+-0x13e2+-0x133)),Ra('emissive',new ie(-0xd6f+-0x23bf+0x312e,-0x459+0x1a5c+-0x23*0xa1,-0x15*-0x139+0xb59+-0x2506)),Ra('sheen',new ie(0x3c*0x21+-0x11*0x7f+0xb4,-0x22ab+0x55e*-0x1+0x280a,-0x26fc+-0x8bf+0x2fbc)),Ra('attenuatio'+'n',new ie(0x43*-0x6b+-0x5*0x4a3+0xa3d*0x5,-0xe10*-0x1+-0x24c6+-0x48b*-0x5,0x255d+-0x5b2*0x6+0x4*-0xcc)),ze('emissiveIn'+'tensity',0x1e6a+-0x1*0x19d4+0x11*-0x45),ze('specularit'+'yFactor',-0x1ca3+0x1f*0x38+0x577*0x4),ze('sheenGloss',0x1a1*-0x1+0x96a+-0x7c9),ze('gloss',-0x3c0+-0x11aa+0xab5*0x2+0.25),ze('aoIntensit'+'y',0x11b3+-0x390+0x3*-0x4b6),ze('heightMapF'+'actor',0xf97+-0xe*-0x49+-0x1394,(_0x3c7a6f,_0x5a10aa,_0x375f34)=>_0x3c7a6f['heightMapF'+'actor']*(-0x5*0x3cb+-0x454*-0x4+-0x3*-0x8d+0.025)),ze('opacity',-0xaa8+0xcaf+-0x206),ze('alphaFade',0x1409+0x47*0x3c+0x1256*-0x2),ze('alphaTest',0x97*-0x36+0x1e27+0x1b3),ze('bumpiness',-0x2fe+-0x1314+0x1613),ze('normalDeta'+'ilMapBumpi'+'ness',-0x1*0x156a+-0x7bb+0x1d26),ze('reflectivi'+'ty',0x1*-0x1d77+-0x1bd*0xc+0xc95*0x4),ze('occludeSpe'+'cularInten'+'sity',0x2*-0x289+-0x17c3+0x1*0x1cd6),ze('refraction',0x1c98+0x175c*-0x1+-0x1*0x53c),ze('refraction'+'Index',(-0xd45+0x190d*0x1+-0xbc7)/(0x1*-0x3d0+0x5a6+0x1*-0x1d5+0.5)),ze('dispersion',-0x1*0x11d5+0x1ec6+-0xcf1),ze('thickness',-0x2a2+0x455+-0x1b3),ze('attenuatio'+'nDistance',0x5bc*0x1+-0x3d7*0x3+0x5c9),ze('metalness',0x1324+0x5*-0xef+-0xe78),ze('anisotropy'+'Intensity',-0xb3f*0x1+-0x56f+0x10ae),ze('anisotropy'+'Rotation',-0x1f*-0x125+0x7b+-0x1*0x23f6),ze('clearCoat',0x4*0x4eb+0xc*0x1e9+0x4*-0xaa6),ze('clearCoatG'+'loss',0xa*-0x3e4+0x9*0x3d+0x24c4),ze('clearCoatB'+'umpiness',0x24ee+0xf7*0x21+-0x44c4),ze('aoUvSet',0x24*-0x2f+-0x2f*-0x27+-0x3*0x2f,null),ze('iridescenc'+'e',0x1*0xfb5+-0x114d+0x198),ze('iridescenc'+'eRefractio'+'nIndex',(-0x1c59*0x1+0x26c2+0x14d*-0x8)/(-0xdc0+-0x18f8+0x1af*0x17+0.5)),ze('iridescenc'+'eThickness'+'Min',0x1*0x1dad+0x732*0x1+-0x24df),ze('iridescenc'+'eThickness'+'Max',0x13f4*0x1+0xd03+0x3*-0xafd),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x52d545,_0x240805,_0x3a9b5c)=>{const _0x4c1292=_0x52d545['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x4*0x35d+0xb2a+-0x189b)},{'name':'envBoxMax','value':new Float32Array(-0x1cf+-0x23bc+0x258e)}]),_0x254713=_0x52d545['cubeMapPro'+'jectionBox']['getMin'](),_0x475a72=_0x4c1292[-0xbe9+-0x27a*-0xd+0x241*-0x9]['value'];_0x475a72[0x16ed+-0xe5+-0x5e*0x3c]=_0x254713['x'],_0x475a72[-0x12d6*0x1+-0x1911+-0x1*-0x2be8]=_0x254713['y'],_0x475a72[0x1*-0xd67+0x2c6+0x185*0x7]=_0x254713['z'];const _0x1cfb6e=_0x52d545['cubeMapPro'+'jectionBox']['getMax'](),_0x527ebd=_0x4c1292[-0x1*0xed7+0xd*-0x1af+0x24bb]['value'];return _0x527ebd[0x887+-0x1c58+0x13d1]=_0x1cfb6e['x'],_0x527ebd[-0x4f7*-0x5+0x80*-0x21+-0x852]=_0x1cfb6e['y'],_0x527ebd[-0x886*-0x1+-0x17f*-0x2+-0xb82]=_0x1cfb6e['z'],_0x4c1292;}),ke('specularTi'+'nt',!(-0x14dd+0x20f1+0x1*-0xc13)),ke('specularit'+'yFactorTin'+'t',!(0x1*0x1d2c+-0xd68+-0xfc3*0x1)),ke('useMetalne'+'ss',!(-0x13*0x17e+-0x10a4+0x2cff*0x1)),ke('useMetalne'+'ssSpecular'+'Color',!(0x2513*0x1+-0x1124+-0x13ee)),ke('useSheen',!(0x333*0x4+-0x1d2a+0x21*0x7f)),ke('enableGGXS'+'pecular',!(0x1b75+0x1a*-0x7a+-0x788*0x2)),ke('occludeDir'+'ect',!(0xb83*0x2+0x77*0x21+-0x265c)),ke('opacityFad'+'esSpecular',!(0x75*-0x20+-0xc9b+-0x1*-0x1b3b)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0x1*-0x1ff6+0x4d2*-0x1+0xdb*0x2b)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0xcd*0x5+-0xb2b*-0x1+-0x72a)),ke('useLightin'+'g',!(-0x424+-0x1a6+0x2*0x2e5)),ke('useTonemap',!(-0x3b*0x55+-0x33c+0x16d3)),ke('useSkybox',!(-0x940*-0x2+-0x3*-0xa4+-0x146c)),ke('forceUv1',!(0x1826+0x198c+-0x31b1)),ke('pixelSnap',!(0x1eb4+0xa*-0x301+0xd*-0xd)),ke('twoSidedLi'+'ghting',!(-0x23f9*0x1+-0x1903+0x3cfd)),ke('nineSliced'+'Mode',void(0x2da*-0xc+-0x11c9+0x1*0x3401)),ke('msdfTextAt'+'tribute',!(0x2*-0x287+-0x134e+-0x63*-0x3f)),ke('useIridesc'+'ence',!(0x1d83+-0xa82+0x40*-0x4c)),ke('glossInver'+'t',!(-0xd0+0x21d7+-0x2106)),ke('sheenGloss'+'Invert',!(0xd4f*-0x2+0x880+0x1*0x121f)),ke('clearCoatG'+'lossInvert',!(0x5*0x373+-0x82b+0x1*-0x913)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x1397+0x25*-0x43+0x1d47*0x1)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x869*-0x1+0xa*-0x223+0x1dc8)),et('ao','g'),et('light','rgb',!(0xe32+0x22ee+0x312*-0x10),-0x4*-0x92b+-0x4*0x167+-0x1f0f),et('msdf',''),et('diffuseDet'+'ail','rgb',!(0x8f6*-0x3+-0x16fa+-0xf*-0x353)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x22fc+-0x680+0x297d)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x3c08bf=function(){return this['_prefilter'+'edCubemaps'];},_0x371434=function(_0x2ad936){const _0x3403df=this['_prefilter'+'edCubemaps'];_0x2ad936=_0x2ad936||[];let _0x540ddc=!(-0x1*0x24c5+0x1d3c+0x2*0x3c5),_0x51d57d=!(-0x27*-0x97+0x22ea+0x39eb*-0x1);for(let _0x4d9657=-0x3*-0xc37+0xdbd+-0x3262;_0x4d9657<-0x243d*-0x1+0x114*-0x1e+-0x3df;++_0x4d9657){const _0x2c5394=_0x2ad936[_0x4d9657]||null;_0x3403df[_0x4d9657]!==_0x2c5394&&(_0x3403df[_0x4d9657]=_0x2c5394,_0x540ddc=!(0x5c*0x23+0x66e*0x4+-0xcc4*0x3)),_0x51d57d=_0x51d57d&&!!_0x3403df[_0x4d9657];}_0x540ddc&&(_0x51d57d?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3403df,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x1dcf+-0x3*-0x2ff+0x14d2));},_0x19d389=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x19d389['slice'](),_0x371434,_0x3c08bf);}vb();const Rt=class Rt{static['render'](_0x362421,_0x197520){const _0x3036a1=_0x197520['device'],_0x5d50a4=_0x362421['cells'],_0x68f14e=_0x362421['lightsBuff'+'er'],_0x3d71e3=_0x68f14e['boundsMin'],_0x3333a3=_0x68f14e['boundsDelt'+'a'],_0x6fe43b=_0x3d71e3['clone']()['add'](_0x3333a3),_0x31925b=_0x68f14e['boundsDelt'+'a']['clone']()['div'](_0x5d50a4),_0x57f406=Rt['gridPositi'+'ons'],_0x334cc1=Rt['gridColors'],_0xe15c5a=new ie(-0x242a+0x86e*-0x2+0x3506+0.3,-0x1a84+-0x2*-0xb+0x1a6e+0.3,0x13*-0x15d+0x1f1b*0x1+-0x534+0.3),_0x34a33a=(_0x5c1a0f,_0xbcb3d1,_0x1d5368,_0x6598e5,_0xaf0995,_0x29b0d8,_0x5f0653,_0x175646,_0x3208a5)=>{for(let _0x44fdb6=0x3ac*0x7+-0x163d+0x1*-0x377;_0x44fdb6<=_0x5c1a0f;_0x44fdb6++)for(let _0xa97c5d=0x3e7+0x2*-0xbeb+0x13ef;_0xa97c5d<=_0xbcb3d1;_0xa97c5d++){const _0x55cfbe=_0x1d5368+_0x44fdb6*_0x6598e5,_0x5ba568=_0xaf0995+_0xa97c5d*_0x29b0d8;_0x3208a5===0x26*0x4d+-0x294+-0xb*0xce?_0x57f406['push'](_0x55cfbe,_0x5f0653,_0x5ba568,_0x55cfbe,_0x175646,_0x5ba568):_0x3208a5===0x1*0x1633+0x132e+-0x2960?_0x57f406['push'](_0x55cfbe,_0x5ba568,_0x5f0653,_0x55cfbe,_0x5ba568,_0x175646):_0x3208a5===-0x415*0x7+-0x63*0x3+0x1dbe&&_0x57f406['push'](_0x5f0653,_0x55cfbe,_0x5ba568,_0x175646,_0x55cfbe,_0x5ba568);}};if(_0x34a33a(_0x5d50a4['x'],_0x5d50a4['z'],_0x3d71e3['x'],_0x31925b['x'],_0x3d71e3['z'],_0x31925b['z'],_0x3d71e3['y'],_0x6fe43b['y'],-0x2b+-0x1433*-0x1+-0x4*0x502),_0x34a33a(_0x5d50a4['x'],_0x5d50a4['y'],_0x3d71e3['x'],_0x31925b['x'],_0x3d71e3['y'],_0x31925b['y'],_0x3d71e3['z'],_0x6fe43b['z'],-0x1ed6+0xef*-0x2+-0x3*-0xae7),_0x34a33a(_0x5d50a4['y'],_0x5d50a4['z'],_0x3d71e3['y'],_0x31925b['y'],_0x3d71e3['z'],_0x31925b['z'],_0x3d71e3['x'],_0x6fe43b['x'],-0x2*-0xba7+-0x7d7+-0xf75),_0x57f406['length']){const _0x451e3a=_0x57f406['length']/(-0x22*0x96+0x17*0x1a7+-0x1212);if(_0x451e3a!==_0x334cc1['length']/(-0x29*-0x97+0x8de+0x2109*-0x1)){_0x334cc1['length']=-0xa41*0x1+0x2558+0x16d*-0x13;for(let _0xd1ad5=0x34b*-0x4+0x1336*0x1+-0x60a;_0xd1ad5<_0x451e3a;_0xd1ad5++)_0x334cc1['push'](_0xe15c5a['r'],_0xe15c5a['g'],_0xe15c5a['b'],_0xe15c5a['a']);}_0x197520['drawLineAr'+'rays'](_0x57f406,_0x334cc1),_0x57f406['length']=-0x1b0d+-0x7*0x3f3+0x1b59*0x2;}let _0x1c5a49=Rt['mesh'];_0x1c5a49||(_0x1c5a49=new Ge(_0x3036a1),_0x1c5a49['clear'](!(0xe59*-0x1+-0x1*0xe76+0x1ccf),!(-0x2173*-0x1+0x1f98+0x1*-0x410b)),Rt['mesh']=_0x1c5a49);const _0x598a5f=[],_0x4fd341=[],_0x9992eb=[],_0x3a49fb=_0x362421['_cells']['x'],_0x5dc022=_0x362421['_cells']['z'],_0x395377=_0x362421['counts'],_0x38064c=_0x362421['_maxCellLi'+'ghtCount'],_0x462861=new D(),_0x39c85c=new D(),_0x4ad5b4=new D(),_0x192f1f=_0x3333a3['clone']()['div'](_0x5d50a4);let _0x1dfe48=-0x208+0x1*0x1c8a+-0x1a82;for(let _0x440509=-0x1*-0x252d+-0x106*0x10+0xd5*-0x19;_0x440509<_0x5d50a4['x'];_0x440509++)for(let _0x575951=-0x20c7+-0x22ff+0xa*0x6c7;_0x575951<_0x5d50a4['z'];_0x575951++)for(let _0x39e8e3=0x2*-0x1105+-0x1*0x20ad+0x42b7;_0x39e8e3<_0x5d50a4['y'];_0x39e8e3++){const _0x5f1c41=_0x440509+_0x3a49fb*(_0x575951+_0x39e8e3*_0x5dc022),_0x5e62a0=_0x395377[_0x5f1c41];if(_0x5e62a0>0x138c+-0xd*0x197+-0x1*-0x11f){_0x462861['x']=_0x3d71e3['x']+_0x192f1f['x']*_0x440509,_0x462861['y']=_0x3d71e3['y']+_0x192f1f['y']*_0x39e8e3,_0x462861['z']=_0x3d71e3['z']+_0x192f1f['z']*_0x575951,_0x39c85c['add2'](_0x462861,_0x192f1f),_0x598a5f['push'](_0x462861['x'],_0x462861['y'],_0x39c85c['z']),_0x598a5f['push'](_0x39c85c['x'],_0x462861['y'],_0x39c85c['z']),_0x598a5f['push'](_0x39c85c['x'],_0x39c85c['y'],_0x39c85c['z']),_0x598a5f['push'](_0x462861['x'],_0x39c85c['y'],_0x39c85c['z']),_0x598a5f['push'](_0x39c85c['x'],_0x462861['y'],_0x462861['z']),_0x598a5f['push'](_0x462861['x'],_0x462861['y'],_0x462861['z']),_0x598a5f['push'](_0x462861['x'],_0x39c85c['y'],_0x462861['z']),_0x598a5f['push'](_0x39c85c['x'],_0x39c85c['y'],_0x462861['z']),_0x4ad5b4['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x5e62a0/_0x38064c)['round']();for(let _0x44c38d=-0x4e2+0x778+-0x296;_0x44c38d<-0x7*0x2b3+-0x1bd5*-0x1+-0x6*0x17c;_0x44c38d++)_0x4fd341['push'](_0x4ad5b4['x'],_0x4ad5b4['y'],_0x4ad5b4['z'],-0x215f*0x1+0x422*-0x4+-0x63d*-0x8);_0x9992eb['push'](_0x1dfe48*(-0x1a*-0xe0+-0xb69+-0x3c5*0x3)+(0xc86+-0x4*-0x3cc+0xddb*-0x2),_0x1dfe48*(-0xe08+0x9b1+0x45f)+(-0x44*0x40+0x2311+-0x1210),_0x1dfe48*(-0x28b*-0x2+-0x872+-0xd9*-0x4)+(0x93a*-0x1+-0x1183+0x1ac0)),_0x9992eb['push'](_0x1dfe48*(0x5b4+-0x1d24+0x1778)+(-0xc3*-0x9+-0xb1a+0xa*0x6d),_0x1dfe48*(-0x392+-0x1c03+0x1f9d*0x1)+(-0x88*0x4+0x1*-0x25d2+0x1*0x27f3),_0x1dfe48*(-0x24*-0xf1+0x67c+-0x2858)+(0x249a+-0x29*-0xa7+-0x3f57)),_0x9992eb['push'](_0x1dfe48*(-0x1e08+-0x26*0x1f+-0x3da*-0x9)+(0xe1d*-0x1+-0x3*-0x18b+0x980),_0x1dfe48*(0x1599+-0x2600+-0x106f*-0x1)+(-0x24fd+-0x1a*-0xa7+-0x4*-0x503),_0x1dfe48*(0x29e+-0x113d+0xea7)+(-0x1*-0xafd+0x4c5*-0x1+-0x631*0x1)),_0x9992eb['push'](_0x1dfe48*(0x6a+-0xb63+0xb01)+(0x2697+0x254a+-0x4bda),_0x1dfe48*(0x16*0x79+-0x84b+-0xb1*0x3)+(-0x1*-0x165d+-0x14e8+0x2e*-0x8),_0x1dfe48*(-0x1*0xefe+0x1268*-0x1+-0x16*-0x185)+(0x1008+0xc9*-0x1b+-0x1*-0x531)),_0x9992eb['push'](_0x1dfe48*(-0x3d2*-0x1+0x70+0x1*-0x43a)+(0x2469+-0x317+-0x214f),_0x1dfe48*(0x998+-0x25fa+-0x2*-0xe35)+(-0x1599+-0x1*0xc36+-0x21d1*-0x1),_0x1dfe48*(0x25b4+0x16ad+0x7*-0x89f)+(-0x488*-0x4+-0x195d*0x1+0x743)),_0x9992eb['push'](_0x1dfe48*(-0x22d2*-0x1+0xb*-0xab+0x1b71*-0x1)+(0x1bc1+-0x26a9*-0x1+0xc8*-0x55),_0x1dfe48*(-0x499+0x1d28+-0x15*0x12b)+(0x4e1*-0x1+0x282*-0xd+-0x2*-0x12c1),_0x1dfe48*(-0x3*-0x5a+0x37a+-0x480)+(-0x18de+0x112*-0x3+0x1c1a)),_0x9992eb['push'](_0x1dfe48*(0x8cd+0xff*0x3+0x7*-0x1ae)+(-0x25d*-0xb+0x107b*-0x1+-0x983),_0x1dfe48*(-0x165c+-0x133d+0x29a1)+(0x1ceb+-0x1*0x2285+0x59a),_0x1dfe48*(-0x9*0x185+-0x3*-0x72+0xc5f)+(0x1484+0x606*-0x2+0x1*-0x874)),_0x9992eb['push'](_0x1dfe48*(0x30a+-0x594+0x292)+(-0xc*-0x284+-0x998+-0x1498),_0x1dfe48*(-0x1*0x185a+-0x1a49+0x32ab)+(-0x67*0x2+0x1a59+-0x1986),_0x1dfe48*(0x1*-0x1f48+-0x1a1*-0x3+0x1a6d)+(-0x1*-0xe63+0xb9*-0x2f+0x1398)),_0x9992eb['push'](_0x1dfe48*(-0x26bb+-0x4ee+0x2bb1)+(0x8d+-0x1a*0x25+0x336),_0x1dfe48*(0x8e9*-0x3+0x3*-0x2e2+0x2369)+(-0x2078*-0x1+-0x9e*-0x17+-0x2ea6),_0x1dfe48*(-0x8*-0x71+-0x5da+0x2b*0xe)+(0x20f*0x11+0x2*0x685+0x1*-0x3007)),_0x9992eb['push'](_0x1dfe48*(0x1fa4+0xce3+-0x2c7f)+(0x2*0x655+-0x714*0x5+0x16be*0x1),_0x1dfe48*(0x1c53+-0x1f71+0x326)+(0x4*-0x1b7+-0x303*-0x6+0x199*-0x7),_0x1dfe48*(0x601*-0x2+-0x1160+-0xa*-0x2f1)+(0xfa9+-0x1998+0x5*0x1fd)),_0x9992eb['push'](_0x1dfe48*(0x1025*0x2+0x1f23+-0x3f65)+(0xb86+-0x2b*-0x59+-0x4*0x69d),_0x1dfe48*(0xcfc+-0x2541+0x184d*0x1)+(0x1f2b*-0x1+-0x5db*-0x5+0x1e4),_0x1dfe48*(-0x1e13+-0x210*0x10+0x1*0x3f1b)+(-0x2670+-0xb6c+0x9fa*0x5)),_0x9992eb['push'](_0x1dfe48*(-0x1b5e+0x459+0x170d)+(0xc43+0x18cf+-0x2512),_0x1dfe48*(-0x195a+0x3bb*-0x6+0x2fc4)+(-0x244f+-0x2ad*0x1+0x26ff),_0x1dfe48*(0x921+0x1f95+0x28ae*-0x1)+(-0x1acc+0xb19*-0x3+0x3c1d)),_0x1dfe48++;}}if(_0x1dfe48){if(_0x1c5a49['setPositio'+'ns'](_0x598a5f),_0x1c5a49['setNormals'](new Float32Array(_0x598a5f['length'])),_0x1c5a49['setColors3'+'2'](_0x4fd341),_0x1c5a49['setIndices'](_0x9992eb),_0x1c5a49['update'](js,!(-0xeb7+0x2221*0x1+-0x1369)),!Rt['meshInstan'+'ce']){const _0x293417=new Ut();_0x293417['useLightin'+'g']=!(0x158+0x19fd+-0xd4*0x21),_0x293417['emissive']=new ie(-0x1178+-0x789+0x1902,0xecd+-0x2111*-0x1+-0x2fdd,-0x22b2+-0x2f*0x6d+-0x1b5b*-0x2),_0x293417['emissiveVe'+'rtexColor']=!(-0x2*-0x4cc+-0x12d*0x9+0xb*0x17),_0x293417['blendType']=Ed,_0x293417['depthWrite']=!(-0x41*-0x61+-0x1*-0xdff+-0x269f),_0x293417['update']();const _0x9e1acd=new Ie('WorldClust'+'ersDebug');_0x9e1acd['worldTrans'+'form']=te['IDENTITY'],_0x9e1acd['_dirtyWorl'+'d']=_0x9e1acd['_dirtyNorm'+'al']=!(-0x451+-0x4*0x301+0x1056),Rt['meshInstan'+'ce']=new He(_0x1c5a49,_0x293417,_0x9e1acd),Rt['meshInstan'+'ce']['cull']=!(0xf8b+0x3f*-0xf+-0xbd9);}const _0x30bc9d=Rt['meshInstan'+'ce'];_0x197520['immediate']['drawMesh'](_0x30bc9d['material'],_0x30bc9d['node']['worldTrans'+'form'],null,_0x30bc9d,_0x197520['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0x1*-0x1153+0x10a6+-0x21f8,0x26be+0x4*0x424+-0x374d,-0x341*0x9+0xb3c+-0x1*-0x120e)),h(Rt,'colorHigh',new D(0x12e7+-0x1ad*0x17+0x13cc,0x2270+-0x24dd+0x26d,0x15ff+0xe*0xc1+-0x208d));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x432872=atob(xb);Vi=Uint8Array['from'](_0x432872,_0x22b085=>_0x22b085['charCodeAt'](-0x4e9*0x3+-0x26c5+-0x20*-0x1ac));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x4e607e=0x25f6+0x1*0x17a5+-0x1*0x3d9b){h(this,'seed',0x1e16+0x3*-0x789+-0x77b),(this['seed']=_0x4e607e*(-0x1*0x1f16+-0xb*0x19a+0x4*0xc2e),Av());}['_next'](){this['seed']=(this['seed']+(-0x133b*0x2+0x1b33+-0xb47*-0x1))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x3*-0x2ce+0x5*-0x48f+-0x9*-0x394);}['vec4'](_0x506b5e=new re()){return this['_next'](),_0x506b5e['set'](Vi[this['seed']],Vi[this['seed']+(-0x49*-0x2b+-0x171+-0x47*0x27)],Vi[this['seed']+(-0xcb9*0x3+-0xb47*0x1+0x3174)],Vi[this['seed']+(-0x15e5+0x224+0x13c4)])['mulScalar']((0xc6+-0x76*0x1a+0x13f*0x9)/(-0x293*-0x8+0x329*-0xa+0x1*0xc01));}}const Eb=[new D(-(-0x2130+0x15c4*-0x1+0x36f5),-0x3*-0xbc5+-0x11*0x1d1+-0x46e,0x8e*0x16+0x235d+-0x29*0x129),new D(-0x82d+0x1*0x1cbd+0x13*-0x115,-0x40*0x53+-0x3*0x716+0x2a02,-0xf*-0x1c6+-0xba9+-0xef1),new D(0xa6f*0x3+-0x9*-0x3c1+-0x4116,-(0x59e+0x11*0xac+-0x1109),0xc*0x28e+0x11f*-0x16+-0x5fe),new D(0x171*-0x9+0x1*-0x20b9+0x2db2,-0x2290+-0x22dc+0x456d,-0x301*0x7+0x1a5*-0xe+-0xb3*-0x3f),new D(0x6*-0x66a+-0x13fe+0x3a7a,0x140e+-0x1*-0x15b+0xbd*-0x1d,-(-0xd4d+0x2706+-0x1*0x19b8)),new D(0xa8d+-0xf7*0x5+-0x5ba,-0xa57*0x3+0x1f*-0x116+0x40af,-0xcf+0x17b7+0xd*-0x1c3)];class bb{constructor(){h(this,'colors',new Float32Array(0xa7*0x2f+0x47*-0x81+0x10*0x53));}['update'](_0x3549b9,_0x57235d){const _0x4c59dd=this['colors'],{r:_0x398b7b,g:_0x15deda,b:_0x1a0dbe}=_0x3549b9;for(let _0x5eeb68=0x8b0*-0x4+-0x1*-0x1a37+-0x5f*-0x17;_0x5eeb68<0x52c*0x2+0x2299+-0x3*0xef9;_0x5eeb68++)_0x4c59dd[_0x5eeb68*(-0x9ca+-0x11a8*-0x1+-0x7db)]=_0x398b7b,_0x4c59dd[_0x5eeb68*(-0x1d5b+-0x1*-0xde3+0xf7b)+(0xe79*-0x2+0xc31+0x10c2)]=_0x15deda,_0x4c59dd[_0x5eeb68*(-0x2029+0x1221*-0x1+0x324d)+(-0xa*0x45+-0xc92+-0x2*-0x7a3)]=_0x1a0dbe;for(let _0x3bd8f2=0x2489+-0x1f4b+-0x3d*0x16;_0x3bd8f2<_0x57235d['length'];_0x3bd8f2++){const _0x54b588=_0x57235d[_0x3bd8f2];if(_0x54b588['_type']===ve)for(let _0x27c4e2=-0x149*0x5+-0x1af2+0x215f*0x1;_0x27c4e2<0x46b*-0x5+0x316+0x1307*0x1;_0x27c4e2++){const _0xb6ecd6=Math['max'](Eb[_0x27c4e2]['dot'](_0x54b588['_direction']),0xb*0xfd+0x2*0x742+-0x43*0x61)*_0x54b588['_intensity'],_0xc4a24=_0x54b588['_color'];_0x4c59dd[_0x27c4e2*(-0x1ac3+-0x2d2*-0x1+0x5fd*0x4)]+=_0xc4a24['r']*_0xb6ecd6,_0x4c59dd[_0x27c4e2*(-0x132b+-0x18ed*-0x1+-0x5bf)+(-0x7*0x3c8+-0xe68*-0x1+0xc11)]+=_0xc4a24['g']*_0xb6ecd6,_0x4c59dd[_0x27c4e2*(0x1*-0x1337+0x1e33+-0x1*0xaf9)+(-0x523+-0x15d4+0x1af9)]+=_0xc4a24['b']*_0xb6ecd6;}}}}const Ab=(_0x3999f6,_0x4c8ab6,_0x139f26,_0x13c4c1)=>{const _0x26cb07=new _e(_0x3999f6,{'name':''+_0x4c8ab6+_0x139f26,'width':_0x139f26,'height':_0x139f26,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x118*0x2+0x175a+-0x1989)});return _0x26cb07['lock']()['set'](_0x13c4c1),_0x26cb07['unlock'](),_0x26cb07;},Cb=new Kt(),Pb=_0x3c2995=>Cb['get'](_0x3c2995,()=>{const _0x1a1610=Tb(),_0x1d9236=Math['sqrt'](_0x1a1610['length']/(0x313*0x8+-0xd*0x18f+-0x451*0x1));return Ab(_0x3c2995,'BlueNoise',_0x1d9236,_0x1a1610);});class va{constructor(_0xd3cb4,_0x5be02f){this['texture']=_0xd3cb4,this['cached']=!(-0x1153*-0x1+0x3*-0x761+0x4d1),this['renderTarg'+'ets']=_0x5be02f;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x3be2a2=this['renderTarg'+'ets'];for(let _0x418fff=-0x22cf+0x1*0x1a1+0x212e;_0x418fff<_0x3be2a2['length'];_0x418fff++)_0x3be2a2[_0x418fff]['destroy']();this['renderTarg'+'ets']['length']=-0x9b*-0x2c+-0x1b2a+-0x43*-0x2;}static['create'](_0x5a50ed,_0xd8e957){let _0x3a6593=null;return _0xd8e957['_type']===Ke?_0x3a6593=this['createCube'+'map'](_0x5a50ed,_0xd8e957['_shadowRes'+'olution'],_0xd8e957['_shadowTyp'+'e']):_0x3a6593=this['create2dMa'+'p'](_0x5a50ed,_0xd8e957['_shadowRes'+'olution'],_0xd8e957['_shadowTyp'+'e']),_0x3a6593;}static['createAtla'+'s'](_0x1de57d,_0x19efe4,_0xc73e08){const _0x159bc6=this['create2dMa'+'p'](_0x1de57d,_0x19efe4,_0xc73e08),_0x243a9d=_0x159bc6['renderTarg'+'ets'],_0x4816e1=_0x243a9d[0x1*0x1f4f+0x2696+-0x45e5];for(let _0x25b672=-0x2611+-0x1f3f+0x4550;_0x25b672<0xc66+-0xd*0x21d+0x3*0x508;_0x25b672++)_0x243a9d['push'](_0x4816e1);return _0x159bc6;}static['create2dMa'+'p'](_0x371afa,_0x2df66,_0x27c8d3){var _0x34c643;const _0x29c0f3=qi['get'](_0x27c8d3);w['assert'](_0x29c0f3);let _0x2c3fb1=_0x29c0f3['format'];_0x2c3fb1===Ji&&!_0x371afa['textureFlo'+'atRenderab'+'le']&&_0x371afa['textureHal'+'fFloatRend'+'erable']&&(_0x2c3fb1=od);const _0x156db6=(_0x34c643=Nt['get'](_0x2c3fb1))==null?void(0x973+-0x7c4+-0x1af):_0x34c643['name'];let _0x4c1615=vt;_0x27c8d3===Jp&&(_0x4c1615=_0x371afa['extTexture'+'FloatLinea'+'r']?vt:Te),_0x27c8d3===al&&(_0x4c1615=Te);const _0x12e34a=new _e(_0x371afa,{'profilerHint':eu,'format':_0x2c3fb1,'width':_0x2df66,'height':_0x2df66,'mipmaps':!(0x595+-0x3*0x47+-0x4bf),'minFilter':_0x4c1615,'magFilter':_0x4c1615,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x156db6});let _0x49d15f=null;return _0x29c0f3!=null&&_0x29c0f3['pcf']?(_0x12e34a['compareOnR'+'ead']=!(-0x1*-0x6d1+-0x228c+-0x1bbb*-0x1),_0x12e34a['compareFun'+'c']=hh,_0x49d15f=new gt({'depthBuffer':_0x12e34a})):_0x49d15f=new gt({'colorBuffer':_0x12e34a,'depth':!(0x383*-0x2+0x2362+-0x1c5c)}),_0x371afa['isWebGPU']&&(_0x49d15f['flipY']=!(-0x4*0x428+-0x1ea*0x5+0x3be*0x7)),new va(_0x12e34a,[_0x49d15f]);}static['createCube'+'map'](_0x389ee7,_0x477294,_0x1a95f5){var _0x2e03f2;const _0x7b9642=qi['get'](_0x1a95f5);w['assert'](_0x7b9642);const _0x4741e0=(_0x2e03f2=Nt['get'](_0x7b9642['format']))==null?void(0x6*0x429+0x26f8+-0x3fee):_0x2e03f2['name'],_0x415dd5=_0x1a95f5===al,_0x11b442=_0x415dd5?Te:vt,_0x2f62e2=new _e(_0x389ee7,{'profilerHint':eu,'format':_0x7b9642==null?void(-0x2189+-0x2637+-0xe*-0x520):_0x7b9642['format'],'width':_0x477294,'height':_0x477294,'cubemap':!(0x2425+-0x17f1*-0x1+0x3c16*-0x1),'mipmaps':!(0x1b*-0x1+-0xe9*0x1+0x105),'minFilter':_0x11b442,'magFilter':_0x11b442,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x4741e0});_0x415dd5||(_0x2f62e2['compareOnR'+'ead']=!(-0x216e*-0x1+0x1c5c+-0x3dca),_0x2f62e2['compareFun'+'c']=hh);const _0x5390ce=[];for(let _0x5f089d=-0x2241+0x23ee*-0x1+-0x1765*-0x3;_0x5f089d<-0x9*0x457+0x24b8+0x25d;_0x5f089d++)_0x415dd5?_0x5390ce['push'](new gt({'colorBuffer':_0x2f62e2,'face':_0x5f089d,'depth':!(-0xc56*0x2+0x1b23+-0x1*0x277)})):_0x5390ce['push'](new gt({'depthBuffer':_0x2f62e2,'face':_0x5f089d}));return new va(_0x2f62e2,_0x5390ce);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x41e350){this['size']=Math['floor'](_0x41e350['w']*(-0x1acd*0x1+-0x188a+0x3757)),this['used']=!(0x1*-0x617+0x1a6b+-0x1d9*0xb),this['lightId']=-(0x9*0x1af+0x1*0x20b9+-0x2fdf),this['rect']=_0x41e350;}}class Ib{constructor(_0x2ff544){this['device']=_0x2ff544,this['version']=-0xfef*0x1+0x11*0x1c1+-0x11*0xd1,this['shadowAtla'+'sResolutio'+'n']=0x2613+-0x29*-0x8+-0x17*0x15d,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x2644+0xc40+0x1a07,this['cookieAtla'+'sResolutio'+'n']=0x21*-0x3b+0x8b*0x5+-0x4e8*-0x1,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(-0x4*-0x870+-0x6*0x61d+0x2ef*0x1),'mipmaps':!(0x1ef1+0x34*-0x3+-0x1e54),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x267d+0x1*-0xeed+-0x178f),'flipY':!(-0x4*0x400+0x4ad*0x8+0xab4*-0x2)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x232c+-0x1abe+-0x86e,-0x787+0x11f0+-0xa69),new J(0x22c1*-0x1+-0x121b+0x1*0x34dc,-0x12*-0x1eb+0x10e2+0x3367*-0x1),new J(0x149*0x6+0x555+0x2*-0x685,-0x162c+0x26b2+-0x1086),new J(0x1a53+-0x1caa+0x258,-0x16d*-0x3+-0x1410+0xfca),new J(-0x16e0+0x37b*0x8+-0x4f6,0x4*-0x8b3+0x107b+0x1251),new J(-0x24b4+-0x2384+-0x1ae*-0x2b,-0x40d+-0x1f4+-0x2*-0x301)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0x78f*0x1+0x917+-0x10a5*0x1),this['allocateCo'+'okieAtlas'](-0x3d7*0x8+-0x2556+-0x1*-0x440f),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3d1e45;(_0x3d1e45=this['shadowAtla'+'s'])==null||_0x3d1e45['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x49bf22,_0x5ac97b;(_0x49bf22=this['cookieAtla'+'s'])==null||_0x49bf22['destroy'](),this['cookieAtla'+'s']=null,(_0x5ac97b=this['cookieRend'+'erTarget'])==null||_0x5ac97b['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0xc8d40c,_0x473578=$s){var _0x490b06;const _0x2bb9d5=(_0x490b06=this['shadowAtla'+'s'])==null?void(0x173+-0x1f0*-0x9+-0x12e3*0x1):_0x490b06['texture']['format'],_0x2a60da=qi['get'](_0x473578)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0xc8d40c||_0x2bb9d5!==_0x2a60da){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0xc8d40c,_0x473578),this['shadowAtla'+'s']['cached']=!(-0x1f71+-0x458+0x23c9);const _0x111966=(-0x13*-0x17f+0x807+-0x2470)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x111966,_0x111966,-(0x485+0x1ead*0x1+-0x8cc*0x4)*_0x111966,-(-0x155b+0x1ceb+-0x2*0x3c7)*_0x111966);}}['allocateCo'+'okieAtlas'](_0x125f8a){this['cookieAtla'+'s']['width']!==_0x125f8a&&(this['cookieRend'+'erTarget']['resize'](_0x125f8a,_0x125f8a),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x11*-0x21d+0x416+0x3a3*-0xb),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x5f141f=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x3*0x452+0x1b5d+-0xe67]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x5f141f),this['_shadowAtl'+'asParams'][-0x1df2*0x1+-0xaa6*-0x1+0x134c]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0xc*0x322+-0x1988+-0x15*0x93]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x19e15d,_0x36bd43){let _0x2c2e0b=_0x36bd43['atlasSplit'];if(!_0x2c2e0b){const _0x5a6551=Math['ceil'](Math['sqrt'](_0x19e15d));_0x2c2e0b=Db,_0x2c2e0b[0x1ae4+-0x19*0x14b+0x56f]=_0x5a6551,_0x2c2e0b['length']=0x2346+0x3*-0x73e+-0xd8b;}if(!((_0x34de08,_0x2113e8)=>_0x34de08['length']===_0x2113e8['length']&&_0x34de08['every']((_0x3d7428,_0x15a1e9)=>_0x3d7428===_0x2113e8[_0x15a1e9]))(_0x2c2e0b,this['atlasSplit'])){this['version']++,this['slots']['length']=0x1*-0x506+-0x2*0xc6f+0x1de4,this['atlasSplit']['length']=-0x408+-0x2b9*-0x6+0x1c2*-0x7,this['atlasSplit']['push'](..._0x2c2e0b);const _0x28fd49=this['atlasSplit'][0x157*-0xd+-0x23be+0x3529];if(_0x28fd49>0x8d6+0x2c*0xbb+-0x28f9){const _0x4d1421=(0x12a3+-0xc*0x1b1+0x1aa)/_0x28fd49;for(let _0x11ade9=-0x13c*-0x17+0x9e6+-0x264a;_0x11ade9<_0x28fd49;_0x11ade9++)for(let _0x1d1146=-0x20c0+0x535*0x1+-0xb*-0x281;_0x1d1146<_0x28fd49;_0x1d1146++){const _0x2ee6d9=new re(_0x11ade9*_0x4d1421,_0x1d1146*_0x4d1421,_0x4d1421,_0x4d1421),_0x116624=this['atlasSplit'][-0x3b*0x5+-0x2c*-0x49+-0xb64+_0x11ade9*_0x28fd49+_0x1d1146];if(_0x116624>0x60*0x2b+-0x19bb+0x99c){for(let _0x9078fe=-0x13b4+0x11*0x9e+0x2*0x49b;_0x9078fe<_0x116624;_0x9078fe++)for(let _0x12275c=0x26d4+-0x1ed*-0x7+-0x1*0x344f;_0x12275c<_0x116624;_0x12275c++){const _0x45a787=_0x4d1421/_0x116624,_0x36ce2a=new re(_0x2ee6d9['x']+_0x9078fe*_0x45a787,_0x2ee6d9['y']+_0x12275c*_0x45a787,_0x45a787,_0x45a787);this['slots']['push'](new tf(_0x36ce2a));}}else this['slots']['push'](new tf(_0x2ee6d9));}}else this['slots']['push'](new tf(new re(-0x5ea+-0x201e*0x1+0x2608,-0x3*-0xb5c+0xe5*0x6+0xd26*-0x3,0x2335+-0x2*0x3d+-0x22ba,0x1b05+-0x6*0x55d+0x295*0x2)));this['slots']['sort']((_0x2feae1,_0x22c68f)=>_0x22c68f['size']-_0x2feae1['size']);}}['collectLig'+'hts'](_0x2cf3e2,_0x410c41){const _0x2582fc=_0x410c41['cookiesEna'+'bled'],_0x2285cb=_0x410c41['shadowsEna'+'bled'];let _0x36cb8e=!(0xf22+0x17b6*0x1+0x3d*-0xa3),_0x3355e9=!(0x67*-0x4b+0x22a8+0xbf*-0x6);const _0x467d6a=Mb;return _0x467d6a['length']=0xb5*0x13+-0x1*-0x1bb+-0xf2a,(_0x2582fc||_0x2285cb)&&(_0x22b8c1=>{for(let _0x674b9f=0x885+0x1939+-0x4d2*0x7;_0x674b9f<_0x22b8c1['length'];_0x674b9f++){const _0x255aed=_0x22b8c1[_0x674b9f];if(_0x255aed['visibleThi'+'sFrame']){const _0x565107=_0x2285cb&&_0x255aed['castShadow'+'s'],_0x53e9d7=_0x2582fc&&!!_0x255aed['cookie'];_0x36cb8e||(_0x36cb8e=_0x565107),_0x3355e9||(_0x3355e9=_0x53e9d7),(_0x565107||_0x53e9d7)&&_0x467d6a['push'](_0x255aed);}}})(_0x2cf3e2),_0x467d6a['sort']((_0x3df94f,_0x2cc16c)=>_0x2cc16c['maxScreenS'+'ize']-_0x3df94f['maxScreenS'+'ize']),_0x36cb8e&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x410c41['shadowType']),_0x3355e9&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x36cb8e||_0x3355e9)&&this['subdivide'](_0x467d6a['length'],_0x410c41),_0x467d6a;}['setupSlot'](_0x48ab06,_0x488954){_0x48ab06['atlasViewp'+'ort']['copy'](_0x488954);const _0x4199a4=_0x48ab06['numShadowF'+'aces'];for(let _0x3cebce=-0x277+-0x2*-0xcb3+-0x39*0x67;_0x3cebce<_0x4199a4;_0x3cebce++)if(_0x48ab06['castShadow'+'s']||_0x48ab06['_cookie']){if(xi['copy'](_0x488954),ef['copy'](_0x488954),_0x48ab06['_type']===Ze&&xi['add'](this['scissorVec']),_0x48ab06['_type']===Ke){const _0x5c20d8=xi['z']/(0x200d*0x1+-0xca7*-0x3+-0x45ff),_0x4ae630=this['cubeSlotsO'+'ffsets'][_0x3cebce];xi['x']+=_0x5c20d8*_0x4ae630['x'],xi['y']+=_0x5c20d8*_0x4ae630['y'],xi['z']=_0x5c20d8,xi['w']=_0x5c20d8,ef['copy'](xi);}if(_0x48ab06['castShadow'+'s']){const _0xbf0de6=_0x48ab06['getRenderD'+'ata'](null,_0x3cebce);_0xbf0de6['shadowView'+'port']['copy'](xi),_0xbf0de6['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x327499,_0x137143,_0x952b10){_0x327499['atlasViewp'+'ortAllocat'+'ed']=!(0x11a5+-0x3b3+0x3*-0x4a6);const _0x29b76e=this['slots'][_0x137143];_0x29b76e['lightId']=_0x327499['id'],_0x29b76e['used']=!(-0x1eb9+-0x2289*-0x1+0x1*-0x3d0),_0x952b10&&(_0x327499['atlasSlotU'+'pdated']=!(0x1d49+-0x37*-0x7b+0x2*-0x1bdb),_0x327499['atlasVersi'+'on']=this['version'],_0x327499['atlasSlotI'+'ndex']=_0x137143);}['update'](_0x5eec02,_0x5567bb){this['shadowAtla'+'sResolutio'+'n']=_0x5567bb['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5567bb['cookieAtla'+'sResolutio'+'n'];const _0x47f739=this['collectLig'+'hts'](_0x5eec02,_0x5567bb);if(_0x47f739['length']>0x10*0x1fa+-0x1*0x1bfe+0x3*-0x136){const _0x2840eb=this['slots'];for(let _0x45af0f=0x425*-0x3+0x20e2+-0x1473;_0x45af0f<_0x2840eb['length'];_0x45af0f++)_0x2840eb[_0x45af0f]['used']=!(0x177b+-0xcc6+-0xab4);const _0x570ca1=Math['min'](_0x47f739['length'],_0x2840eb['length']);for(let _0x254c2d=-0x2383+0x63d+0x6*0x4e1;_0x254c2d<_0x570ca1;_0x254c2d++){const _0x5cc34b=_0x47f739[_0x254c2d];_0x5cc34b['castShadow'+'s']&&(_0x5cc34b['_shadowMap']=this['shadowAtla'+'s']);const _0x591480=_0x2840eb[_0x5cc34b['atlasSlotI'+'ndex']];if(_0x5cc34b['atlasVersi'+'on']===this['version']&&_0x5cc34b['id']===(_0x591480==null?void(-0x6f9+0x106*-0x1+-0x59*-0x17):_0x591480['lightId'])){const _0x3629fc=_0x2840eb[_0x5cc34b['atlasSlotI'+'ndex']];_0x3629fc['size']===_0x2840eb[_0x254c2d]['size']&&!_0x3629fc['used']&&this['assignSlot'](_0x5cc34b,_0x5cc34b['atlasSlotI'+'ndex'],!(-0xd*-0x167+0xc7+-0x1301));}}let _0xd5432=-0x360+-0xba7+0xf07;for(let _0x32932a=0x1*0x846+0x216e+-0x29b4;_0x32932a<_0x570ca1;_0x32932a++){for(;_0xd5432<_0x2840eb['length']&&_0x2840eb[_0xd5432]['used'];)_0xd5432++;const _0x43256c=_0x47f739[_0x32932a];_0x43256c['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x43256c,_0xd5432,!(-0xc0+-0x1*-0x82f+-0xad*0xb));const _0x4b6878=_0x2840eb[_0x43256c['atlasSlotI'+'ndex']];this['setupSlot'](_0x43256c,_0x4b6878['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x19311d=>{_0x19311d['forEach'](_0x59bc21=>{_0x59bc21['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2eb437){const _0x4c58d2=_0x2eb437['_type']===Ke,_0x100c9b=_0x2eb437['_shadowTyp'+'e'],_0x3a1b60=_0x2eb437['_shadowRes'+'olution'];return _0x4c58d2+'-'+_0x100c9b+'-'+_0x3a1b60;}['get'](_0x1bd9f4,_0x32e160){const _0x4bee33=this['getKey'](_0x32e160),_0x4a5969=this['cache']['get'](_0x4bee33);if(_0x4a5969&&_0x4a5969['length'])return _0x4a5969['pop']();const _0x5e9f93=va['create'](_0x1bd9f4,_0x32e160);return _0x5e9f93['cached']=!(0x87d+-0x9ba+0x13d),_0x5e9f93;}['add'](_0x2b4588,_0x1950de){const _0x272203=this['getKey'](_0x2b4588),_0x35bd2d=this['cache']['get'](_0x272203);_0x35bd2d?_0x35bd2d['push'](_0x1950de):this['cache']['set'](_0x272203,[_0x1950de]);}}class Rb extends ys{constructor(_0x5be06a,_0x31a8bb,_0x265c79,_0x4fa839,_0x1bd6a3){super(_0x5be06a),Ea['setName'](this,this['name']+'-'+_0x265c79['_node']['name']),this['requiresCu'+'bemaps']=!(0x247d+-0x1556+-0x7*0x22a),this['shadowRend'+'erer']=_0x31a8bb,this['light']=_0x265c79,this['face']=_0x4fa839,this['applyVsm']=_0x1bd6a3,this['shadowCame'+'ra']=_0x31a8bb['prepareFac'+'e'](_0x265c79,null,_0x4fa839),_0x31a8bb['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0xd76+0x92a+0x4*-0x5a8));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x47f+-0x1*-0x2400+-0x1f80));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x489d44,_0x1d6e71){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x489d44,this['shadowRend'+'erer']=_0x1d6e71,this['device']=_0x489d44['device']);}['cull'](_0x4e5b69,_0x5a3035,_0x4e1a8d=null){const _0x284e32=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x4e5b69['visibleThi'+'sFrame']=!(0x115f*0x2+-0xab1+-0x180d),_0x284e32||_0x4e5b69['_shadowMap']||(_0x4e5b69['_shadowMap']=va['create'](this['device'],_0x4e5b69));const _0x100e98=_0x4e5b69['_type'],_0x28fac3=_0x100e98===Ze?0x1767+-0x21b9+-0x1*-0xa53:-0x133c+0x1aff+-0x1*0x7bd;for(let _0x3db3aa=0x950+-0x2c3+0x68d*-0x1;_0x3db3aa<_0x28fac3;_0x3db3aa++){const _0x5d769e=_0x4e5b69['getRenderD'+'ata'](null,_0x3db3aa),_0x2146f5=_0x5d769e['shadowCame'+'ra'];_0x2146f5['nearClip']=_0x4e5b69['attenuatio'+'nEnd']/(0x1711+-0x43*0x6a+-0xa9*-0xd),_0x2146f5['farClip']=_0x4e5b69['attenuatio'+'nEnd'];const _0x9d6bc5=_0x2146f5['_node'],_0x1daca0=_0x4e5b69['_node'];if(_0x9d6bc5['setPositio'+'n'](_0x1daca0['getPositio'+'n']()),_0x100e98===Ze)_0x2146f5['fov']=_0x4e5b69['_outerCone'+'Angle']*(-0x5*0x69d+-0x1a19*0x1+0x3b2c),_0x9d6bc5['setRotatio'+'n'](_0x1daca0['getRotatio'+'n']()),_0x9d6bc5['rotateLoca'+'l'](-(0x3b*0x5f+-0xccd+-0x8be),0x3*-0x899+0x9*-0x2c+0x1b57,-0x25df+-0x1cca+0x5*0xd55);else{if(_0x100e98===Ke){if(_0x284e32){const _0x5e84dc=(-0xe09*0x2+0x61b*-0x3+-0x25*-0x141)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x4e5b69['atlasViewp'+'ort']['z']/(-0x1*-0x50b+-0xeb+-0x41d))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x2146f5['fov']=Math['atan'](0x2*0x12a0+0xe9a*0x2+0x1*-0x4273+_0x5e84dc)*Y['RAD_TO_DEG']*(-0xfb2+0x1ab4*0x1+0x2c*-0x40);}else _0x2146f5['fov']=0x17fb+0x10b4+0x2855*-0x1;}}this['renderer']['updateCame'+'raFrustum'](_0x2146f5),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5a3035,_0x4e5b69,_0x5d769e['visibleCas'+'ters'],_0x2146f5,_0x4e1a8d);}}['prepareLig'+'hts'](_0x2d60fb,_0x35e355){let _0x153cde;for(let _0x1c561d=-0x26d2*0x1+-0x676+0x2d48;_0x1c561d<_0x35e355['length'];_0x1c561d++){const _0x12fe19=_0x35e355[_0x1c561d];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x12fe19)&&_0x12fe19['atlasViewp'+'ortAllocat'+'ed']){_0x2d60fb['push'](_0x12fe19);for(let _0x4339ff=-0x33*0x9+-0x1*0x1633+-0x25*-0xa6;_0x4339ff<_0x12fe19['numShadowF'+'aces'];_0x4339ff++)_0x153cde=this['shadowRend'+'erer']['prepareFac'+'e'](_0x12fe19,null,_0x4339ff);}}return _0x153cde;}['buildNonCl'+'usteredRen'+'derPasses'](_0x261d90,_0x1d8010){for(let _0x4f59cc=-0x1eea+0x20*-0xae+0x34aa;_0x4f59cc<_0x1d8010['length'];_0x4f59cc++){const _0x930c24=_0x1d8010[_0x4f59cc];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x930c24)){const _0x48753c=_0x930c24['_type']===Ze,_0x36b481=_0x930c24['numShadowF'+'aces'];for(let _0x2f1fa8=-0x1*0x13eb+-0xdff+-0x1*-0x21ea;_0x2f1fa8<_0x36b481;_0x2f1fa8++){const _0x5e60d1=new Rb(this['device'],this['shadowRend'+'erer'],_0x930c24,_0x2f1fa8,_0x48753c);_0x261d90['addRenderP'+'ass'](_0x5e60d1);}}}}}class Fb extends ys{constructor(_0x1dab02,_0x501c97,_0x2c38af,_0x21b84d,_0xd51388){super(_0x1dab02),Ea['setName'](this,this['name']+'-'+_0x2c38af['_node']['name']),this['shadowRend'+'erer']=_0x501c97,this['light']=_0x2c38af,this['camera']=_0x21b84d,this['allCascade'+'sRendering']=_0xd51388;}['execute'](){const {light:_0x2d2e69,camera:_0x52a02e,shadowRenderer:_0x4cdcad,allCascadesRendering:_0x3a3afb}=this,_0x14f5af=_0x2d2e69['numShadowF'+'aces'],_0x45bd16=_0x2d2e69['shadowUpda'+'teOverride'+'s'];for(let _0x390cd1=-0x15*0x3d+0x7d8+-0x2d7*0x1;_0x390cd1<_0x14f5af;_0x390cd1++)(_0x45bd16==null?void(0x52f*0x2+0x1f09+-0x2967):_0x45bd16[_0x390cd1])!==Ps&&_0x4cdcad['renderFace'](_0x2d2e69,_0x52a02e,_0x390cd1,!_0x3a3afb),(_0x45bd16==null?void(0x2*-0x1227+-0x3*-0x57+0x2349):_0x45bd16[_0x390cd1])===xr&&(_0x45bd16[_0x390cd1]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x283972,_0x37db0e,_0xc67fe){Xe[-0x10*-0x26a+0x69a+-0x2d3a]['x']=Xe[0x89*0x1+-0xccd+0x9*0x15d]['x']=Xe[0x203c+0x24ba+-0xb7e*0x6]['x']=Xe[-0x1553+0x1b6+-0x4e8*-0x4]['x']=_0x37db0e['x'],Xe[0x1703+-0x9*0x1f6+0x2*-0x2ae]['y']=Xe[0x1e36+0x1a22*0x1+0xd1*-0x45]['y']=Xe[0xa3b+0xdb9+0x4c9*-0x5]['y']=Xe[0x13d*-0x8+-0x5*0x2ab+-0x4*-0x5d1]['y']=_0x37db0e['y'],Xe[0xc2*-0x15+-0x3*-0xf1+0xd19]['z']=Xe[-0x61e*0x5+-0x252a+0x43c3]['z']=Xe[0x109d*-0x1+-0x1*0x26d5+0x3778]['z']=Xe[-0xb*-0xbf+-0x1c93+0x1465]['z']=_0x37db0e['z'],Xe[-0x2e6+-0x1849+0x911*0x3]['x']=Xe[0xe96+0x1*-0x2663+0x2*0xbe9]['x']=Xe[-0x1f15+-0x12ff+0x321a]['x']=Xe[-0x1*-0x445+0x1017+0x1455*-0x1]['x']=_0xc67fe['x'],Xe[0x1*0xc9b+-0xbff+0xd*-0xc]['y']=Xe[0x1c0a*-0x1+0x5*-0x4d6+0x776*0x7]['y']=Xe[0x8*-0xb6+-0x16e5*-0x1+-0x1131*0x1]['y']=Xe[-0x6*-0x64e+0x12d*0x11+-0x39cb]['y']=_0xc67fe['y'],Xe[0x14c7+0xe1*0x19+-0x2ac0]['z']=Xe[-0x1db1+-0x34b*0x5+-0x65*-0x75]['z']=Xe[-0x1fd5+0x1cb4*0x1+0x325]['z']=Xe[0x14cc+0x118f+-0x2656]['z']=_0xc67fe['z'];let _0x5c437e=0x2*0x161554871+-0x12*0x2fe5fc59+0x2ef8d115f,_0xca453d=-(0x1a4950193+0x3d28bcdfc+0x1918a75c8*-0x2);for(let _0x49d172=-0x1af9+0xac1*0x1+0x1038;_0x49d172<0x1d93+-0x6*-0x154+-0x2583;++_0x49d172){_0x283972['transformP'+'oint'](Xe[_0x49d172],Xe[_0x49d172]);const _0x5bc89e=Xe[_0x49d172]['z'];_0x5bc89e<_0x5c437e&&(_0x5c437e=_0x5bc89e),_0x5bc89e>_0xca453d&&(_0xca453d=_0x5bc89e);}return sf['min']=_0x5c437e,sf['max']=_0xca453d,sf;}class kb{constructor(_0x3bba75,_0x557264){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x3bba75,this['shadowRend'+'erer']=_0x557264,this['device']=_0x3bba75['device']);}['cull'](_0x1a4948,_0x5a3adb,_0x237746,_0x5efdff=null){_0x1a4948['visibleThi'+'sFrame']=!(0x1dd2+-0xa78+-0x135a),_0x1a4948['_shadowMap']||(_0x1a4948['_shadowMap']=va['create'](this['device'],_0x1a4948));const _0x2a78b8=_0x237746['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x1a4948,_0x2a78b8,Math['min'](_0x237746['_farClip'],_0x1a4948['shadowDist'+'ance']));const _0x2e6663=_0x1a4948['shadowUpda'+'teOverride'+'s'];for(let _0x50c407=0x2*-0x18d+0x5*-0x36f+-0x1445*-0x1;_0x50c407<_0x1a4948['numCascade'+'s']&&(_0x2e6663==null?void(-0x1d2*0xe+-0x3*-0xac9+-0x6df):_0x2e6663[_0x50c407])!==Ps;_0x50c407++){const _0x20ff9e=_0x1a4948['getRenderD'+'ata'](_0x237746,_0x50c407),_0x6644eb=_0x20ff9e['shadowCame'+'ra'];_0x6644eb['renderTarg'+'et']=_0x1a4948['_shadowMap']['renderTarg'+'ets'][0x113+-0x291*-0x5+0xb2*-0x14],_0x20ff9e['shadowView'+'port']['copy'](_0x1a4948['cascades'][_0x50c407]),_0x20ff9e['shadowScis'+'sor']['copy'](_0x1a4948['cascades'][_0x50c407]);const _0x4ee916=_0x6644eb['_node'],_0x3bcf97=_0x1a4948['_node'];_0x4ee916['setPositio'+'n'](_0x3bcf97['getPositio'+'n']()),_0x4ee916['setRotatio'+'n'](_0x3bcf97['getRotatio'+'n']()),_0x4ee916['rotateLoca'+'l'](-(0x203b+-0x7d9+0x8*-0x301),0x147c+-0x139e+-0x6f*0x2,-0x2e5+0x660+-0x63*0x9);const _0x4821cf=_0x50c407===0x1e25+0x5c5+-0x23ea*0x1?_0x2a78b8:_0x1a4948['_shadowCas'+'cadeDistan'+'ces'][_0x50c407-(-0x7*-0x330+0x3f4*0x1+-0x1a43)],_0x566569=_0x1a4948['_shadowCas'+'cadeDistan'+'ces'][_0x50c407],_0x1d7b1e=_0x237746['getFrustum'+'Corners'](_0x4821cf,_0x566569);Ti['set'](-0x73e+-0xe90+0x15ce,-0x179d+0x1d*0x10f+-0x716,0x2*0x4f4+0x2*0x1277+-0x2ed6);const _0x355525=_0x237746['node']['getWorldTr'+'ansform']();for(let _0x1eb7c6=0x2*0xf4d+0xfcf+-0x6d*0x6d;_0x1eb7c6<0x1ef4+-0x2*-0x1333+-0x13*0x3a6;_0x1eb7c6++)_0x355525['transformP'+'oint'](_0x1d7b1e[_0x1eb7c6],_0x1d7b1e[_0x1eb7c6]),Ti['add'](_0x1d7b1e[_0x1eb7c6]);Ti['mulScalar']((-0x132b*-0x1+-0x701+0x1*-0xc29)/(-0x1abd+-0x247+-0x1*-0x1d0c));let _0x48e345=0x10f*-0xd+-0xf08+0x51*0x5b;for(let _0x4faafc=-0xe1+-0x4a*0x59+0x1a9b;_0x4faafc<-0x48e*-0x2+0x1e25+0x3*-0xd13;_0x4faafc++){const _0x407ad3=_0x1d7b1e[_0x4faafc]['sub'](Ti)['length']();_0x407ad3>_0x48e345&&(_0x48e345=_0x407ad3);}const _0x713e93=_0x4ee916['right'],_0x24d1f7=_0x4ee916['up'],_0x3bb146=_0x4ee916['forward'],_0x335613=(-0x1191*0x2+0x4*0x12c+0x1e72+0.25)*_0x1a4948['_shadowRes'+'olution']/_0x48e345,_0x358868=Math['ceil'](Ti['dot'](_0x24d1f7)*_0x335613)/_0x335613,_0x232085=Math['ceil'](Ti['dot'](_0x713e93)*_0x335613)/_0x335613,_0x1457f2=_0x24d1f7['mulScalar'](_0x358868),_0x2af5dc=_0x713e93['mulScalar'](_0x232085),_0x51fe81=Ti['dot'](_0x3bb146),_0x3a2693=_0x3bb146['mulScalar'](_0x51fe81);Ti['add2'](_0x1457f2,_0x2af5dc)['add'](_0x3a2693),_0x4ee916['setPositio'+'n'](Ti),_0x4ee916['translateL'+'ocal'](-0x83e+-0x13c*0x1+0x97a,-0x3f9*-0x9+-0x2*0x8d+0x3*-0xb8d,0x53d69+-0x14680a+0x1e6ce1),_0x6644eb['nearClip']=-0xfdd+0x1*0x21dd+-0x9*0x200+0.01,_0x6644eb['farClip']=-0x20f8df+-0x315*-0x330+-0x1*-0x35aa6f,_0x6644eb['orthoHeigh'+'t']=_0x48e345,this['renderer']['updateCame'+'raFrustum'](_0x6644eb),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5a3adb,_0x1a4948,_0x20ff9e['visibleCas'+'ters'],_0x6644eb,_0x5efdff);const _0x1a8de7=-0x44f+-0x5b6+-0x2*-0x503<<_0x50c407,_0x941425=_0x20ff9e['visibleCas'+'ters'],_0x5a42db=_0x941425['length'];let _0x595bfb=0x121b+0x144a+0x1*-0x2665;for(let _0x3fea36=-0x1823+0x1f6+0x162d;_0x3fea36<_0x5a42db;_0x3fea36++){const _0x45c58d=_0x941425[_0x3fea36];_0x45c58d['shadowCasc'+'adeMask']&_0x1a8de7&&(_0x941425[_0x595bfb++]=_0x45c58d,_0x595bfb===0xca9+-0xfa*0x19+0xbc2?lc['copy'](_0x45c58d['aabb']):lc['add'](_0x45c58d['aabb']));}_0x5a42db!==_0x595bfb&&(_0x941425['length']=_0x595bfb),H_['copy'](_0x4ee916['getWorldTr'+'ansform']())['invert']();const _0x477937=Nb(H_,lc['getMin'](),lc['getMax']());_0x4ee916['translateL'+'ocal'](0xf7c*-0x1+-0x1*0x186d+0x27e9,-0x16*-0xc2+-0x2f1+-0xdbb,_0x477937['max']+(-0x12a3+-0x24c0+-0x3763*-0x1+0.1)),_0x6644eb['farClip']=_0x477937['max']-_0x477937['min']+(-0xf67*0x1+0x1*0x1ba9+-0xc42+0.2),_0x20ff9e['projection'+'Compensati'+'on']=_0x48e345;}}['generateSp'+'litDistanc'+'es'](_0x1ce0c6,_0xaafac9,_0x563ad4){_0x1ce0c6['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x563ad4);for(let _0x334ef3=0x1*0x97+-0x190c+-0xc3b*-0x2;_0x334ef3<_0x1ce0c6['numCascade'+'s'];_0x334ef3++){const _0x1c7b54=_0x334ef3/_0x1ce0c6['numCascade'+'s'],_0x17bdb7=_0xaafac9+(_0x563ad4-_0xaafac9)*_0x1c7b54,_0x24f294=_0xaafac9*(_0x563ad4/_0xaafac9)**_0x1c7b54,_0x35e5ad=Y['lerp'](_0x17bdb7,_0x24f294,_0x1ce0c6['cascadeDis'+'tribution']);_0x1ce0c6['_shadowCas'+'cadeDistan'+'ces'][_0x334ef3-(-0x14ae+0x899*0x2+0x37d)]=_0x35e5ad;}}['getLightRe'+'nderPass'](_0x3a7bb7,_0x46ce66){w['assert'](_0x3a7bb7&&_0x3a7bb7['_type']===ve);let _0x5d1842=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3a7bb7)){const _0x13775e=_0x3a7bb7['numShadowF'+'aces'],_0xf3b3d1=_0x3a7bb7['shadowUpda'+'teOverride'+'s'];let _0x1d2efb=!(0x5*0x1fd+-0x1628+0xc37),_0x1e9345;for(let _0x2017ae=0x3*0x703+-0x1ccb+-0x1*-0x7c2;_0x2017ae<_0x13775e;_0x2017ae++)(_0xf3b3d1==null?void(0x2*-0x880+0x1*-0x837+0x1937):_0xf3b3d1[_0x2017ae])===Ps&&(_0x1d2efb=!(0xa9f*0x1+0x1*-0x7a+-0xa24)),_0x1e9345=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3a7bb7,_0x46ce66,_0x2017ae);_0x5d1842=new Fb(this['device'],this['shadowRend'+'erer'],_0x3a7bb7,_0x46ce66,_0x1d2efb),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x5d1842,_0x1e9345,_0x1d2efb);}return _0x5d1842;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(-0x1cc1+0x505+0x17be),lo=new re(0x259b+-0x769*-0x4+-0x1*0x433e,-0x1*-0x19c1+-0x510*0x3+-0xa90,-0x1d3d*-0x1+0x137a+-0x30b7*0x1,0xe62+-0x20c*-0xb+-0x1*0x24e6),X_=new te();function Ub(_0x2045e4,_0x125850){return Math['exp'](-(_0x2045e4*_0x2045e4)/((-0x5e*0x26+0x1b35+-0xd3f)*_0x125850*_0x125850));}function Bb(_0x19716a){const _0x5b2720=(_0x19716a-(-0x1*-0xa7b+0x21fa+-0x2c74))/(0xc*0xee+-0xcd2+0x1b0),_0x429561=(_0x19716a-(0x10*-0x147+0x13ef+0x5*0x1a))*(-0x1*-0xc22+-0x1*0x676+0x42*-0x16+0.5),_0x4cb27b=new Array(_0x19716a);let _0x235838=-0x143c+-0x1b4a+-0x2*-0x17c3;for(let _0x496d51=0x171c+-0x10e7*0x1+-0x635;_0x496d51<_0x19716a;++_0x496d51)_0x4cb27b[_0x496d51]=Ub(_0x496d51-_0x429561,_0x5b2720),_0x235838+=_0x4cb27b[_0x496d51];for(let _0x585088=0xdd3*-0x2+-0xb29*-0x1+0x107d;_0x585088<_0x19716a;++_0x585088)_0x4cb27b[_0x585088]/=_0x235838;return _0x4cb27b;}class Cv{constructor(_0x91175d,_0x51682c){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x91175d['device'],this['renderer']=_0x91175d,this['lightTextu'+'reAtlas']=_0x51682c);const _0x7075e3=this['device']['scope'];this['sourceId']=_0x7075e3['resolve']('source'),this['pixelOffse'+'tId']=_0x7075e3['resolve']('pixelOffse'+'t'),this['weightId']=_0x7075e3['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x7075e3['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x133e+0x5*-0x203+-0x92e),!(-0x231e*0x1+-0x1524+-0x3*-0x12c1),!(0x1573+0x19b*0x11+-0x30bd*0x1),!(-0x1741+0x1*-0x1db7+0x34f9*0x1));}static['createShad'+'owCamera'](_0x2db20d,_0x12e342,_0x426cf0){const _0x56931f=Wn['create']('ShadowCame'+'ra',_0x12e342,_0x426cf0),_0x38903c=qi['get'](_0x2db20d);w['assert'](_0x38903c);const _0x533700=(_0x38903c==null?void(0x413*0x5+0xfcd+-0x242c):_0x38903c['vsm'])??!(0x2b*0x33+-0x237f+0x1aef),_0x1f6adf=(_0x38903c==null?void(0x11dc+-0x26d6+-0x166*-0xf):_0x38903c['pcf'])??!(-0xd88+0x3*0x92b+-0xdf8);return _0x533700?_0x56931f['clearColor']=new ie(0x51f*-0x3+0xd*0xa7+0x6e2*0x1,-0x5*0x551+0x23b*0xb+-0x83*-0x4,-0x1*0xe5f+-0x13*-0x1fd+-0x2ed*0x8,0x4e9*0x4+0xada+-0x1e7e):_0x56931f['clearColor']=new ie(0x1*-0x80e+-0x165e+0x1e6d,0x1ef+0xf13*0x1+0x5ab*-0x3,0x19*-0xd3+-0x1d7e+0x321a,0x1399+0x1*-0xa07+-0x1*0x991),_0x56931f['clearDepth'+'Buffer']=!(0x16ab*-0x1+0x11a7+-0x2*-0x282),_0x56931f['clearStenc'+'ilBuffer']=!(-0x1905+0xd*-0x2a9+0x1*0x3b9b),_0x56931f['clearColor'+'Buffer']=!_0x1f6adf,_0x56931f;}['_cullShado'+'wCastersIn'+'ternal'](_0x47a680,_0x22c29f,_0x34adf4){const _0x99e95d=_0x47a680['length'];for(let _0x2ade8a=-0x1*0x13eb+0x499+0xf52;_0x2ade8a<_0x99e95d;_0x2ade8a++){const _0x147e04=_0x47a680[_0x2ade8a];_0x147e04['castShadow']&&(!_0x147e04['cull']||_0x147e04['_isVisible'](_0x34adf4))&&(_0x147e04['visibleThi'+'sFrame']=!(-0xe7c+-0x416*0x9+0x36*0xf3),_0x22c29f['push'](_0x147e04));}}['cullShadow'+'Casters'](_0x908215,_0x2d5d54,_0x358d6d,_0x162545,_0x1b7dd7){var _0x327662,_0x25a157;if((_0x327662=this['renderer']['scene'])==null||_0x327662['fire'](mv,_0x162545),_0x358d6d['length']=0x1f05+0x2f7+-0x2*0x10fe,_0x1b7dd7)this['_cullShado'+'wCastersIn'+'ternal'](_0x1b7dd7,_0x358d6d,_0x162545);else{const _0x24c02b=_0x908215['layerList'],_0x4651dc=_0x24c02b['length'];for(let _0x3635f2=0x1584+-0x3c3+-0x65*0x2d;_0x3635f2<_0x4651dc;_0x3635f2++){const _0x4ac873=_0x24c02b[_0x3635f2];_0x4ac873['_lightsSet']['has'](_0x2d5d54)&&(rf['has'](_0x4ac873)||(rf['add'](_0x4ac873),this['_cullShado'+'wCastersIn'+'ternal'](_0x4ac873['shadowCast'+'ers'],_0x358d6d,_0x162545)));}rf['clear']();}_0x358d6d['sort'](this['sortCompar'+'eShader']),(_0x25a157=this['renderer']['scene'])==null||_0x25a157['fire'](_v,_0x162545);}['sortCompar'+'eShader'](_0x23fa99,_0x59905d){const _0x47abcb=_0x23fa99['_sortKeySh'+'adow'],_0x3476b5=_0x59905d['_sortKeySh'+'adow'];return _0x47abcb===_0x3476b5?_0x59905d['mesh']['id']-_0x23fa99['mesh']['id']:_0x3476b5-_0x47abcb;}['setupRende'+'rState'](_0x451010,_0x2bf425){const _0x4a8d4f=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x2bf425['_isPcf']:_0x2bf425['_isPcf']&&_0x2bf425['_type']!==Ke;_0x451010['setBlendSt'+'ate'](_0x4a8d4f?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x451010['setDepthSt'+'ate'](_0x2bf425['shadowDept'+'hState']),_0x451010['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x3f7ecb,_0x3c6c18,_0x5b4840,_0x3ffba4){const _0x2719e2=_0x3c6c18['_node'];_0x3f7ecb['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x2719e2['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x3f7ecb['attenuatio'+'nEnd'])),W_['setTRS'](_0x2719e2['getPositio'+'n'](),_0x2719e2['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x3c6c18['projection'+'Matrix'],W_);const _0x401520=_0x5b4840['shadowView'+'port'];_0x3c6c18['rect']=_0x401520,_0x3c6c18['scissorRec'+'t']=_0x5b4840['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x401520['x'],_0x401520['y'],_0x401520['z'],_0x401520['w']),_0x5b4840['shadowMatr'+'ix']['mul2'](X_,$_),_0x3f7ecb['_type']===ve&&_0x3f7ecb['_shadowMat'+'rixPalette']['set'](_0x5b4840['shadowMatr'+'ix']['data'],_0x3ffba4*(-0x6*-0x331+0x5a*-0x62+0x7*0x232));}['getShadowP'+'ass'](_0x156656){var _0x5d0e70;const _0x56f92e=_0x156656['_type'],_0x3de1da=_0x156656['_shadowTyp'+'e'];let _0x1a74d3=(_0x5d0e70=this['shadowPass'+'Cache'][_0x56f92e])==null?void(0xb*-0x104+0x1773+-0xc47):_0x5d0e70[_0x3de1da];if(!_0x1a74d3){const _0x2c8810='ShadowPass'+'_'+_0x56f92e+'_'+_0x3de1da;_0x1a74d3=Si['get'](this['device'])['allocate'](_0x2c8810,{'isShadow':!(0x1*-0xe57+-0xc31+0x1a88),'lightType':_0x56f92e,'shadowType':_0x3de1da}),this['shadowPass'+'Cache'][_0x56f92e]||(this['shadowPass'+'Cache'][_0x56f92e]=[]),this['shadowPass'+'Cache'][_0x56f92e][_0x3de1da]=_0x1a74d3;}return _0x1a74d3['index'];}['submitCast'+'ers'](_0x2eb248,_0x1cb88a,_0x5e1e2c){var _0x16826b;const _0xed725e=this['device'],_0x39404e=this['renderer'],_0x8bc66f=_0x39404e['scene'],_0x210878=-0xc*-0x311+-0x1291+-0x91d*0x2<<cm,_0x1c195e=this['getShadowP'+'ass'](_0x1cb88a),_0x50192e=_0x5e1e2c['shaderPara'+'ms'],_0x3e9e3b=_0x5e1e2c['renderTarg'+'et']['flipY']?-(-0x13a*-0x1+0x286*0x4+-0xb51*0x1):-0x250e+0x1*0x1509+-0x7*-0x24a,_0x17ce98=_0x2eb248['length'];for(let _0x333227=0x164*0x1+0x1873*0x1+-0x87*0x31;_0x333227<_0x17ce98;_0x333227++){const _0x45e076=_0x2eb248[_0x333227],_0x469dc1=_0x45e076['mesh'],_0x23375e=_0x45e076['instancing'+'Data'];if(_0x23375e&&_0x23375e['count']<=0x101*0x13+0x209d+-0x33b0)continue;_0x45e076['ensureMate'+'rial'](_0xed725e);const _0x5e09c3=_0x45e076['material'];Q['pushGpuMar'+'ker'](_0xed725e,'Node:\x20'+_0x45e076['node']['name']+(',\x20Material'+':\x20')+_0x5e09c3['name']),_0x39404e['setBaseCon'+'stants'](_0xed725e,_0x5e09c3),_0x39404e['setSkinnin'+'g'](_0xed725e,_0x45e076),_0x5e09c3['dirty']&&(_0x5e09c3['updateUnif'+'orms'](_0xed725e,_0x8bc66f),_0x5e09c3['dirty']=!(0x2*-0x1161+-0xac9*-0x2+0x133*0xb)),_0x39404e['setupCullM'+'ode'](!(-0x1cf7*0x1+-0xc5*-0xb+0x1480),_0x3e9e3b,_0x45e076),_0x5e09c3['setParamet'+'ers'](_0xed725e),_0x45e076['setParamet'+'ers'](_0xed725e,_0x210878);const _0x53b492=_0x45e076['getShaderI'+'nstance'](_0x1c195e,0x3*-0x39+-0x1123*-0x1+-0x2*0x83c,_0x8bc66f,_0x50192e,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x1c3ec1=_0x53b492['shader'];if(w['assert'](_0x1c3ec1,'no\x20shader\x20'+'for\x20pass\x20'+_0x1c195e,_0x5e09c3),_0x1c3ec1['failed'])continue;_0x45e076['_sortKeySh'+'adow']=_0x1c3ec1['id'],_0xed725e['setShader'](_0x1c3ec1),_0x39404e['setVertexB'+'uffers'](_0xed725e,_0x469dc1),_0x39404e['setMorphin'+'g'](_0xed725e,_0x45e076['morphInsta'+'nce']),_0x23375e&&_0xed725e['setVertexB'+'uffer'](_0x23375e['vertexBuff'+'er']),_0x39404e['setMeshIns'+'tanceMatri'+'ces'](_0x45e076),_0x39404e['setupMeshU'+'niformBuff'+'ers'](_0x53b492);const _0x54f83c=_0x45e076['renderStyl'+'e'],_0x44e6b5=(_0x16826b=_0x45e076['indirectDa'+'ta'])==null?void(0x158b+0x2*0x1039+-0x10f*0x33):_0x16826b['get'](_0x5e1e2c);_0xed725e['draw'](_0x469dc1['primitive'][_0x54f83c],_0x469dc1['indexBuffe'+'r'][_0x54f83c],_0x23375e==null?void(0x5ad*0x2+-0x1b5*0x11+-0x11ab*-0x1):_0x23375e['count'],_0x44e6b5),_0x39404e['_shadowDra'+'wCalls']++,_0x23375e&&_0x39404e['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0xed725e);}}['needsShado'+'wRendering'](_0x2d131f){const _0x5c5161=_0x2d131f['enabled']&&_0x2d131f['castShadow'+'s']&&_0x2d131f['shadowUpda'+'teMode']!==Ps&&_0x2d131f['visibleThi'+'sFrame'];return _0x2d131f['shadowUpda'+'teMode']===xr&&(_0x2d131f['shadowUpda'+'teMode']=Ps),_0x5c5161&&(this['renderer']['_shadowMap'+'Updates']+=_0x2d131f['numShadowF'+'aces']),_0x5c5161;}['getLightRe'+'nderData'](_0x548aae,_0x29a80b,_0x39d9c1){return _0x548aae['getRenderD'+'ata'](_0x548aae['_type']===ve?_0x29a80b:null,_0x39d9c1);}['setupRende'+'rPass'](_0x34603e,_0x57d461,_0xbb756a){const _0x1175bb=_0x57d461['renderTarg'+'et'];_0x34603e['init'](_0x1175bb),_0x34603e['depthStenc'+'ilOps']['clearDepth'+'Value']=0xe9b*0x2+-0x8cc+-0x1469,_0x34603e['depthStenc'+'ilOps']['clearDepth']=_0xbb756a,_0x1175bb['depthBuffe'+'r']?_0x34603e['depthStenc'+'ilOps']['storeDepth']=!(-0x5c3*-0x6+0x2*0x10bd+0x43*-0x104):(_0x34603e['colorOps']['clearValue']['copy'](_0x57d461['clearColor']),_0x34603e['colorOps']['clear']=_0xbb756a,_0x34603e['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0xad5+-0x16b9+0x218f)),_0x34603e['requiresCu'+'bemaps']=!(-0x1f44+-0x89f*0x1+0x27e4);}['prepareFac'+'e'](_0x5dfe55,_0x20a486,_0x82f5a0){const _0x56081e=_0x5dfe55['_type'],_0xc68c12=this['getLightRe'+'nderData'](_0x5dfe55,_0x20a486,_0x82f5a0)['shadowCame'+'ra'],_0x578d0c=_0x56081e===ve?0x12+0x11*-0x24a+0x26d8:_0x82f5a0;return _0xc68c12['renderTarg'+'et']=_0x5dfe55['_shadowMap']['renderTarg'+'ets'][_0x578d0c],_0xc68c12;}['renderFace'](_0xc1ca9b,_0x5e1f61,_0x538fe3,_0x54f482,_0x50cc76=!(0x1*-0x1e13+-0x2*0x10e+0x202f)){const _0x49bd98=this['device'],_0x51d9f4=de();Q['pushGpuMar'+'ker'](_0x49bd98,'SHADOW\x20'+_0xc1ca9b['_node']['name']+'\x20FACE\x20'+_0x538fe3);const _0x340db3=this['getLightRe'+'nderData'](_0xc1ca9b,_0x5e1f61,_0x538fe3),_0x29ed30=_0x340db3['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0xc1ca9b,_0x29ed30,_0x340db3,_0x538fe3);const _0x1c70b3=_0x29ed30['renderTarg'+'et'],_0x469e3c=this['renderer'];_0x469e3c['setCameraU'+'niforms'](_0x29ed30,_0x1c70b3),_0x49bd98['supportsUn'+'iformBuffe'+'rs']&&_0x469e3c['setupViewU'+'niformBuff'+'ers'](_0x340db3['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x50cc76?(_0x469e3c['setupViewp'+'ort'](_0x29ed30,_0x1c70b3),_0x54f482&&_0x469e3c['clear'](_0x29ed30)):_0x469e3c['clearView'](_0x29ed30,_0x1c70b3,!(0xb63+0x1846+-0x23a9),!(-0x8ed*-0x1+0xb17+-0x1403)),this['setupRende'+'rState'](_0x49bd98,_0xc1ca9b),this['submitCast'+'ers'](_0x340db3['visibleCas'+'ters'],_0xc1ca9b,_0x29ed30),Q['popGpuMark'+'er'](_0x49bd98),_0x469e3c['_shadowMap'+'Time']+=de()-_0x51d9f4;}['render'](_0x2358de,_0x4a04fa,_0x4f8cd0=!(0x2513+-0x2*-0x4ee+0xf*-0x321)){if(this['needsShado'+'wRendering'](_0x2358de)){const _0x491463=_0x2358de['numShadowF'+'aces'];for(let _0xd0b018=-0x2319+-0x15*0x169+-0x6*-0xac9;_0xd0b018<_0x491463;_0xd0b018++)this['prepareFac'+'e'](_0x2358de,_0x4a04fa,_0xd0b018),this['renderFace'](_0x2358de,_0x4a04fa,_0xd0b018,!(-0x21e9+-0xa7b+0xc*0x3b3),_0x4f8cd0);this['renderVsm'](_0x2358de,_0x4a04fa);}}['renderVsm'](_0x571d2a,_0x32af8e){_0x571d2a['_isVsm']&&_0x571d2a['_vsmBlurSi'+'ze']>0xeaf+-0x161*-0xf+0xb*-0x337&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x571d2a['_type']===ve)&&this['applyVsmBl'+'ur'](_0x571d2a,_0x32af8e);}['getVsmBlur'+'Shader'](_0x3c465c,_0x11095f){const _0x49d998=this['blurVsmSha'+'der'];let _0x3632d8=_0x49d998[_0x3c465c][_0x11095f];if(!_0x3632d8){this['blurVsmWei'+'ghts'][_0x11095f]=Bb(_0x11095f);const _0x34a2b8=new Map();_0x34a2b8['set']('{SAMPLES}',_0x11095f),_0x3c465c===0x165c+-0x164b+0x8*-0x2&&_0x34a2b8['set']('GAUSS',''),_0x3632d8=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x3c465c+_0x11095f,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x34a2b8}),_0x49d998[_0x3c465c][_0x11095f]=_0x3632d8;}return _0x3632d8;}['applyVsmBl'+'ur'](_0x334686,_0x5a3c36){const _0x31b04e=this['device'];Q['pushGpuMar'+'ker'](_0x31b04e,'VSM\x20'+_0x334686['_node']['name']),_0x31b04e['setBlendSt'+'ate'](pt['NOBLEND']);const _0x3b59bc=_0x334686['getRenderD'+'ata'](_0x334686['_type']===ve?_0x5a3c36:null,0x3*-0xc22+-0x1ca1*-0x1+-0x1*-0x7c5)['shadowCame'+'ra']['renderTarg'+'et'],_0x3e327e=this['renderer']['shadowMapC'+'ache']['get'](_0x31b04e,_0x334686),_0x2b9b97=_0x3e327e['renderTarg'+'ets'][-0x771+0x39b+0x3d6],_0x20c31a=_0x334686['vsmBlurMod'+'e'],_0x40d06d=_0x334686['_vsmBlurSi'+'ze'],_0x5b20fb=this['getVsmBlur'+'Shader'](_0x20c31a,_0x40d06d);lo['z']=_0x334686['_shadowRes'+'olution']-(0x989*0x2+-0x1ff7+0x44d*0x3),lo['w']=lo['z'],this['sourceId']['setValue'](_0x3b59bc['colorBuffe'+'r']),Fr[-0x1a8b+-0x38c+-0x1*-0x1e17]=(-0x1484+0x5bf*0x1+-0x3d*-0x3e)/_0x334686['_shadowRes'+'olution'],Fr[0x20eb+-0x3e*0x22+-0x18ae]=-0x1*-0x2263+0x10e1*-0x2+0xa1*-0x1,this['pixelOffse'+'tId']['setValue'](Fr),_0x20c31a===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x40d06d]),Ar(_0x31b04e,_0x2b9b97,_0x5b20fb,null,lo),this['sourceId']['setValue'](_0x2b9b97['colorBuffe'+'r']),Fr[0x1*-0x1981+0x1b9d+-0x31*0xb]=Fr[0x1*0x204d+-0x1*-0x1e3e+-0x3e8b],Fr[0x15*-0x37+0x190b+-0x9*0x248]=0xd73*-0x2+-0x3*-0x9+0x13*0x169,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x31b04e,_0x3b59bc,_0x5b20fb,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x334686,_0x3e327e),Q['popGpuMark'+'er'](_0x31b04e);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x305d56){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x305d56;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x3d548e=>{_0x3d548e['destroy']();}),this['_allocated']['length']=0x9*-0x1c9+-0x45*-0x13+0xaf2;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1f74f9=new cu(this['device']);_0x1f74f9['name']='ClusterEmp'+'ty',_0x1f74f9['update']([]),this['_empty']=_0x1f74f9;}return this['_empty'];}['assign'](_0x1c9552){const _0x58b76b=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x1*-0x499+0x2*-0xed9+0x1919,this['_clusters']['clear']();const _0x168970=_0x1c9552['length'];for(let _0x166f45=0x23c3+-0x4d2+-0x1ef1*0x1;_0x166f45<_0x168970;_0x166f45++){const _0x273493=_0x1c9552[_0x166f45]['renderActi'+'ons'];if(_0x273493){const _0x3529f2=_0x273493['length'];for(let _0x5348a2=0x1004+-0x16ce+0x6ca;_0x5348a2<_0x3529f2;_0x5348a2++){const _0x446bd9=_0x273493[_0x5348a2];_0x446bd9['lightClust'+'ers']=null;const _0x3d59e0=_0x446bd9['layer'];if(_0x3d59e0['hasCluster'+'edLights']&&_0x3d59e0['meshInstan'+'ces']['length']){const _0x4f9a17=_0x3d59e0['getLightId'+'Hash'](),_0x44e1c8=this['_clusters']['get'](_0x4f9a17);let _0x3eb1ca=_0x44e1c8==null?void(-0x3c3+-0x12e7+0x16aa):_0x44e1c8['lightClust'+'ers'];_0x3eb1ca||(_0x3eb1ca=cc['pop']()??new cu(this['device']),Ea['setName'](_0x3eb1ca,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x3eb1ca),this['_clusters']['set'](_0x4f9a17,_0x446bd9)),_0x446bd9['lightClust'+'ers']=_0x3eb1ca;}_0x446bd9['lightClust'+'ers']||(_0x446bd9['lightClust'+'ers']=_0x58b76b);}}}cc['forEach'](_0x2e8b2f=>_0x2e8b2f['destroy']()),cc['length']=-0x16ac*0x1+-0x2502*-0x1+-0x2*0x72b;}['update'](_0x3fa506,_0xb74d21){this['assign'](_0x3fa506),this['_clusters']['forEach'](_0x672b11=>{const _0x80485f=_0x672b11['layer'];_0x672b11['lightClust'+'ers']['update'](_0x80485f['clusteredL'+'ightsSet'],_0xb74d21);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x21d4b4,_0x2b10a5){super(_0x21d4b4),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0xcda+-0x1*0xcbf+-0x2*-0xccd)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x2b10a5,this['requiresCu'+'bemaps']=!(0x7*-0x496+-0x2206+0x4221),this['blitTextur'+'eId']=_0x21d4b4['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x21d4b4['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x21d4b4['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x15e161,_0x5be836,_0x2bc60e;(_0x15e161=this['_quadRende'+'rer2D'])==null||_0x15e161['destroy'](),this['_quadRende'+'rer2D']=null,(_0x5be836=this['_quadRende'+'rerCube'])==null||_0x5be836['destroy'](),this['_quadRende'+'rerCube']=null,(_0x2bc60e=this['_evtDevice'+'Restored'])==null||_0x2bc60e['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x5ed0fd,_0xd99c5d){w['assert'](_0x5ed0fd);const _0x151e0b=new pm(_0x5ed0fd['device'],_0xd99c5d);return _0x151e0b['init'](_0x5ed0fd),_0x151e0b['colorOps']['clear']=!(0x52e+0x1d57+0x5e*-0x5e),_0x151e0b['depthStenc'+'ilOps']['clearDepth']=!(-0x22fa+-0x1f19+-0x1085*-0x4),_0x151e0b;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0xb7*-0x6+0x212f+0x1*-0x1ce5);}['update'](_0x23ed53){const _0x494856=this['_filteredL'+'ights'];this['filter'](_0x23ed53,_0x494856),this['executeEna'+'bled']=_0x494856['length']>0x7a*-0x2e+0x5b3*-0x3+-0x7*-0x593;}['filter'](_0x1103e6,_0x530152){for(let _0x43a2bd=-0x1*-0x755+0x692*-0x2+0x1*0x5cf;_0x43a2bd<_0x1103e6['length'];_0x43a2bd++){const _0x24d372=_0x1103e6[_0x43a2bd];_0x24d372['_type']!==ve&&_0x24d372['atlasViewp'+'ortAllocat'+'ed']&&(!_0x24d372['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x24d372['enabled']&&_0x24d372['cookie']&&_0x24d372['visibleThi'+'sFrame']&&_0x530152['push'](_0x24d372));}this['_forceCopy']=!(-0xc3c+-0x210b+0x2d48);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x3cdde8=-0x5*0x257+0x163e+-0xa8b;_0x3cdde8<-0xfe5+-0x74d+0x1738;_0x3cdde8++){const _0x331209=Wn['create'](null,Ke,_0x3cdde8),_0x3c7b18=_0x331209['projection'+'Matrix'],_0x35b344=_0x331209['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x3cdde8]=new te()['mul2'](_0x3c7b18,_0x35b344)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x3806ba=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x3806ba);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x3850a3=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x3850a3);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x555639=this['device'];_0x555639['setBlendSt'+'ate'](pt['NOBLEND']),_0x555639['setCullMod'+'e'](bt),_0x555639['setDepthSt'+'ate'](Yt['NODEPTH']),_0x555639['setStencil'+'State']();const _0x5e7e5c=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x3d699a=this['_cubeSlots'+'Offsets'],_0x790117=this['_filteredL'+'ights'];for(let _0x9eda2e=0x66f+0x2429*0x1+0x1*-0x2a98;_0x9eda2e<_0x790117['length'];_0x9eda2e++){const _0x7e2130=_0x790117[_0x9eda2e];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x7e2130['_node']['name']);const _0x5cb459=_0x7e2130['numShadowF'+'aces'],_0xcd6ecf=_0x5cb459>-0x2*0x4b3+0xb6*0xe+0x3*-0x2f?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x5cb459>0x39a+-0x5c5*-0x5+-0x1*0x2072&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x7e2130['cookie']);for(let _0x2bb6e8=-0x2434+-0x1d36+-0x6*-0xae7;_0x2bb6e8<_0x5cb459;_0x2bb6e8++){if(rr['copy'](_0x7e2130['atlasViewp'+'ort']),_0x5cb459>0x2a7*0x1+0x1625*-0x1+-0x1f*-0xa1){const _0xbc61f0=rr['z']/(0x1c8a+0x116*-0x3+0x1*-0x1945),_0x3e397b=_0x3d699a[_0x2bb6e8];rr['x']+=_0xbc61f0*_0x3e397b['x'],rr['y']+=_0xbc61f0*_0x3e397b['y'],rr['z']=_0xbc61f0,rr['w']=_0xbc61f0,this['invViewPro'+'jId']['setValue'](af[_0x2bb6e8]['data']);}rr['mulScalar'](_0x5e7e5c),_0xcd6ecf['render'](rr);}Q['popGpuMark'+'er'](_0x555639);}_0x790117['length']=-0xa2+-0x3b*-0x9b+-0x2317;}}class Vb extends ys{constructor(_0x423d71,_0x49fbb6,_0x3e6dfa){super(_0x423d71),this['requiresCu'+'bemaps']=!(0x16b0+0x13f0+-0xe35*0x3),this['shadowRend'+'erer']=_0x49fbb6,this['shadowRend'+'ererLocal']=_0x3e6dfa;}['update'](_0x5b3812){const _0x1977d9=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x576a43=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x1977d9,_0x5b3812),_0x16c89a=_0x1977d9['length'];this['enabled']=_0x16c89a>-0x1*0x188b+0x3*0x2f+0x17fe,_0x16c89a&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x576a43,!(0x2*0xa0d+0x1985+0x2*-0x16cf));}['execute'](){const _0x46fe6e=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x45ffdd=_0x46fe6e['length'];for(let _0x1b993c=0x1*0x1c35+-0x186*-0x17+-0x3f3f;_0x1b993c<_0x45ffdd;_0x1b993c++){const _0x1de506=_0x46fe6e[_0x1b993c];for(let _0x56bba5=-0x571+0xa5e*-0x1+0x545*0x3;_0x56bba5<_0x1de506['numShadowF'+'aces'];_0x56bba5++)this['shadowRend'+'erer']['renderFace'](_0x1de506,null,_0x56bba5,!(0x2*0x2c+0x2659*-0x1+0x2601));}_0x46fe6e['length']=0x2576+-0x5ff*-0x5+-0x4371;}}class Gb extends ys{constructor(_0x2e27b5,_0x30c0ba,_0x49d8e0,_0x43701c,_0xe306ba){super(_0x2e27b5),this['renderer']=_0x30c0ba,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0xe306ba['cookieRend'+'erTarget'],_0xe306ba['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x2e27b5,_0x49d8e0,_0x43701c),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x1aa149,_0x51a869,_0x26ca31,_0x588b48,_0x116a26){this['frameGraph']=_0x1aa149,this['cookiesRen'+'derPass']['enabled']=_0x26ca31,_0x26ca31&&this['cookiesRen'+'derPass']['update'](_0x588b48),this['shadowRend'+'erPass']['enabled']=_0x51a869,_0x51a869&&this['shadowRend'+'erPass']['update'](_0x116a26);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x54cb56=de(),{renderer:_0x299ed1}=this,{scene:_0x26c62c}=_0x299ed1;_0x299ed1['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x26c62c['lighting']),_0x299ed1['_lightClus'+'tersTime']+=de()-_0x54cb56,_0x299ed1['_lightClus'+'ters']=_0x299ed1['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x20c0+0x1b35+0x3*0x1d9;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x1d3+0x7d1+0x1*-0x9a3,-(0x1d1d+0x222d+-0x3b9*0x11),-0x478+0x16ab+-0x1*0x1232),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([-0x1*-0x1bfe+0x37c*-0xa+0x6db,-0x1ed7+-0x828*-0x1+0x1*0x16af,-0x1*0x1dd+-0x5*-0x6e3+-0xb*0x2f6,-0xc8+-0x2082+-0x2*-0x10a5,-0x1788+0x1*-0x616+-0xecf*-0x2,-0x146f+-0xaf0+0x1f60,-0x1f07+0x21b4+0x1*-0x2ad,0x11c6+0x4c*-0x54+0x72a,-0x972+0x12f*-0x11+0x1d91,0xcde+-0xfb0+0x2d2,0x569+-0x7*-0x51f+-0x2942+0.5,-0x4*-0x83c+0x2*0xa63+-0x35b6,0x26fe+0x3bb*-0x4+-0x1*0x1812,-0x1*0x1678+0x17fd+-0x185*0x1,0x4*0x164+0x955*0x3+-0x218f+0.5,0x2d*0x71+-0x20b0+0xcd4]),K_=[new J(-0x1a13+0x1b84+-0x171+0.5,0x1990+-0x624+0x1c4*-0xb+0.333333),new J(-0x3df*0x3+-0x22d7+-0x2*-0x173a+0.25,-0x11*0xb+-0xdbd*-0x1+-0xd02+0.666667),new J(-0x80e+-0x1663+-0x1e71*-0x1+0.75,0x697+0x2a*0x18+-0x4d*0x23+0.111111),new J(0x20ab+0xfff+0x30aa*-0x1+0.125,-0x2*-0x51b+-0x45b+-0x5db*0x1+0.444444),new J(0x261f+-0x1f3e+-0x6e1+0.625,0x1d57+0x24cf+-0x4226+0.777778),new J(-0x4fb*-0x1+-0xbfa*-0x2+-0x1cef+0.375,0x4*0x91d+-0xe57*-0x1+0x32cb*-0x1+0.222222),new J(-0x1*0x50b+0x18d5+-0x13ca+0.875,-0x19ea+0x357+-0x1*-0x1693+0.555556),new J(-0x1458+-0x2507+0x395f+0.0625,-0x7*0xd9+-0x198d+0xa*0x326+0.888889),new J(-0x240d+0x12be+-0x5c5*-0x3+0.5625,0x234c+0x1151+0x1*-0x349d+0.037037),new J(0x95*-0x3a+0x21c0*-0x1+0x1*0x4382+0.3125,0x10e2+-0x45f*0x1+0xc83*-0x1+0.37037),new J(0x207b+0x1*-0xb92+0x35*-0x65+0.8125,-0x1d77+0x20b*0xb+0x6fe+0.703704),new J(0x59*0x1+-0x1*0x82c+0x7d3*0x1+0.1875,0x3f3*0x4+-0x1add+-0xb11*-0x1+0.148148),new J(-0x2*0x22f+0x1b0b+0x81*-0x2d+0.6875,-0x977+0x1d*-0x9e+0x1b5d+0.481481),new J(-0x579+-0x23d8+0x2951+0.4375,-0x29*0xce+0x1*-0x3f4+-0x1279*-0x2+0.814815),new J(-0x4a1+-0x38b*-0x2+0x25*-0x11+0.9375,0x1e49+0x1df*0xb+-0x196f*0x2+0.259259),new J(0x1*-0xffd+-0x59*0x4d+0x2ac2+0.03125,0x2*-0x1091+0x24d6+-0x3b4+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x24949d){h(this,'clustersDe'+'bugRendere'+'d',!(0x18ee+0x39b*-0x7+0x50)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x1be6+0x249b*0x1+-0x83a)),(this['device']=_0x24949d,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x24949d),this['lightTextu'+'reAtlas']=new Ib(_0x24949d),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x17c+-0x8*-0x429+-0x22c4,this['_morphTime']=-0x1*-0x1074+-0x94b+-0x729,this['_cullTime']=0x121b+-0x63d*0x2+-0x5a1,this['_shadowMap'+'Time']=-0x17*-0x15d+-0x1*0x1e62+0xf9*-0x1,this['_lightClus'+'tersTime']=-0x57a*0x1+-0x23d8+0x2952,this['_layerComp'+'ositionUpd'+'ateTime']=0x1f9*0x4+0x1*-0x75a+-0x3*0x2e,this['_shadowDra'+'wCalls']=-0xa8e+0x1127*0x1+0x3*-0x233,this['_skinDrawC'+'alls']=-0x155*-0x10+-0x9cf*-0x2+-0x28ee,this['_instanced'+'DrawCalls']=0x15a*-0x3+-0x885+0xc93,this['_shadowMap'+'Updates']=0x350+0xddb*-0x1+-0x1*-0xa8b,this['_numDrawCa'+'llsCulled']=-0xbe*-0x1f+-0x1fb4*-0x1+-0x36b6,this['_camerasRe'+'ndered']=-0x751*0x2+0xcd0+-0xe9*-0x2,this['_lightClus'+'ters']=-0x35a+-0x247e+0x4*0x9f6);const _0x10ebdc=_0x24949d['scope'];this['boneTextur'+'eId']=_0x10ebdc['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x10ebdc['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x10ebdc['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x10ebdc['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x37*-0x9b+-0x1972+0x8a*0x6d),this['viewPosId']=_0x10ebdc['resolve']('view_posit'+'ion'),this['projId']=_0x10ebdc['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x10ebdc['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x10ebdc['resolve']('matrix_vie'+'w'),this['viewId3']=_0x10ebdc['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x10ebdc['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x10ebdc['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x10ebdc['resolve']('tbnBasis'),this['nearClipId']=_0x10ebdc['resolve']('camera_nea'+'r'),this['farClipId']=_0x10ebdc['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1757+0x92*-0x19+-0x911),this['cameraPara'+'msId']=_0x10ebdc['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x10ebdc['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0xbeb+0x5*0x1f2+-0xbb*-0x3),this['blueNoiseJ'+'itterVersi'+'on']=-0x1*-0x3ba+0x1a3*0x17+-0x295f*0x1,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1f27+-0x62f*0x3+-0xc96),this['blueNoiseJ'+'itterId']=_0x10ebdc['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x10ebdc['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x10ebdc['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x10ebdc['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x10ebdc['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x10ebdc['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x1726+-0xa82+0xca4*-0x1),this['morphPosit'+'ionTex']=_0x10ebdc['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x10ebdc['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x10ebdc['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x10ebdc['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0xcf4a8f,_0x4c834b){const _0x586e7d=this['device'],_0x3c8bf1=_0x4c834b?_0x4c834b['width']:_0x586e7d['width'],_0x42bfda=_0x4c834b?_0x4c834b['height']:_0x586e7d['height'],_0x3b98b1=_0xcf4a8f['rect'];let _0x3efea5=Math['floor'](_0x3b98b1['x']*_0x3c8bf1),_0xe332a8=Math['floor'](_0x3b98b1['y']*_0x42bfda),_0x65b6cb=Math['floor'](_0x3b98b1['z']*_0x3c8bf1),_0x313228=Math['floor'](_0x3b98b1['w']*_0x42bfda);if(_0x586e7d['setViewpor'+'t'](_0x3efea5,_0xe332a8,_0x65b6cb,_0x313228),_0xcf4a8f['_scissorRe'+'ctClear']){const _0x4eced3=_0xcf4a8f['scissorRec'+'t'];_0x3efea5=Math['floor'](_0x4eced3['x']*_0x3c8bf1),_0xe332a8=Math['floor'](_0x4eced3['y']*_0x42bfda),_0x65b6cb=Math['floor'](_0x4eced3['z']*_0x3c8bf1),_0x313228=Math['floor'](_0x4eced3['w']*_0x42bfda);}_0x586e7d['setScissor'](_0x3efea5,_0xe332a8,_0x65b6cb,_0x313228);}['setCameraU'+'niforms'](_0x4793c0,_0x354cbd){var _0x1e86b9,_0x208dcf;const _0x1d48fa=_0x354cbd==null?void(-0x532+-0x18cb+0x1dfd):_0x354cbd['flipY'];let _0x2b683f=null;if(_0x4793c0['xr']&&_0x4793c0['xr']['session']){const _0x4e4f69=((_0x208dcf=(_0x1e86b9=_0x4793c0['_node'])==null?void(-0xe*-0x9b+0x61*-0x2d+-0x1*-0x893):_0x1e86b9['parent'])==null?void(-0x1150*-0x1+-0x1*-0x20eb+-0x323b):_0x208dcf['getWorldTr'+'ansform']())||null;_0x2b683f=_0x4793c0['xr']['views']['list'];for(let _0x3962ad=0x6e*0x52+-0x21a2+-0x19a;_0x3962ad<_0x2b683f['length'];_0x3962ad++){const _0x97f089=_0x2b683f[_0x3962ad];_0x97f089['updateTran'+'sforms'](_0x4e4f69),_0x4793c0['frustum']['setFromMat'+'4'](_0x97f089['projViewOf'+'fMat']);}}else{let _0x2fa717=_0x4793c0['projection'+'Matrix'];_0x4793c0['calculateP'+'rojection']&&_0x4793c0['calculateP'+'rojection'](_0x2fa717,ec);let _0x5a5f39=_0x4793c0['getProject'+'ionMatrixS'+'kybox']();_0x1d48fa&&(_0x2fa717=Hb['mul2'](j_,_0x2fa717),_0x5a5f39=Wb['mul2'](j_,_0x5a5f39)),this['device']['isWebGPU']&&(_0x2fa717=$b['mul2'](Y_,_0x2fa717),_0x5a5f39=Xb['mul2'](Y_,_0x5a5f39));const {jitter:_0x520f33}=_0x4793c0;let _0x111a6a=-0x9b8+0x257*-0xd+0x807*0x5,_0x88dc8b=-0x6*-0x209+0x164f*0x1+0x2285*-0x1;if(_0x520f33>-0x1*0x24e1+0x165a*0x1+0x1*0xe87){const _0x77f529=_0x354cbd?_0x354cbd['width']:this['device']['width'],_0x300b7d=_0x354cbd?_0x354cbd['height']:this['device']['height'],_0x889de8=K_[this['device']['renderVers'+'ion']%K_['length']];_0x111a6a=_0x520f33*(_0x889de8['x']*(0x17f2+0x1*-0x93b+-0xeb5)-(-0x1cbe+-0xaf9*0x2+0x13*0x2ab))/_0x77f529,_0x88dc8b=_0x520f33*(_0x889de8['y']*(-0x26f8+-0x2*0xd5e+0x41b6)-(-0x8f8+-0x723+0x101c))/_0x300b7d,_0x2fa717=qb['copy'](_0x2fa717),_0x2fa717['data'][0x2*0x9b7+0x2433+0x1*-0x3799]=_0x111a6a,_0x2fa717['data'][-0x9ed+-0x47f*-0x1+-0x577*-0x1]=_0x88dc8b,_0x5a5f39=jb['copy'](_0x5a5f39),_0x5a5f39['data'][-0x2*-0xced+0x191+-0x1b63]=_0x111a6a,_0x5a5f39['data'][0x5*0x5d1+-0x4*-0x92b+-0xc*0x57a]=_0x88dc8b,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x5250d4=_0x520f33>-0x27*-0xb7+0x46a*0x1+-0x204b?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x1b16+-0x1296+-0x880]=_0x5250d4['x'],this['blueNoiseJ'+'itterData'][0x64d*0x3+0x1*-0xad3+-0xd*0x9f]=_0x5250d4['y'],this['blueNoiseJ'+'itterData'][-0x3*0x47a+0x64a+0x726]=_0x5250d4['z'],this['blueNoiseJ'+'itterData'][-0x14bc+-0x9fd*0x1+-0x464*-0x7]=_0x5250d4['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x2fa717['data']),this['projSkybox'+'Id']['setValue'](_0x5a5f39['data']),_0x4793c0['calculateT'+'ransform'])_0x4793c0['calculateT'+'ransform'](nr,ec);else{const _0xe755a2=_0x4793c0['_node']['getPositio'+'n'](),_0x5e63b2=_0x4793c0['_node']['getRotatio'+'n']();nr['setTRS'](_0xe755a2,_0x5e63b2,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x2fa717,Oa),this['viewProjId']['setValue'](ar['data']),_0x4793c0['_storeShad'+'erMatrices'](ar,_0x111a6a,_0x88dc8b,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x1d48fa?-(-0x32f*0x2+0x4f5*-0x5+0x1f28):0x2*0xbaf+0x1906*0x1+-0x3063),this['dispatchVi'+'ewPos'](_0x4793c0['_node']['getPositio'+'n']()),_0x4793c0['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x1d48fa?-(0x1*0x22ce+-0x2159+-0x174):-0x3*-0xbc7+-0x1*-0x1de5+-0x11b*0x3b);const _0x56b745=_0x4793c0['_nearClip'],_0x2d39b0=_0x4793c0['_farClip'];return this['nearClipId']['setValue'](_0x56b745),this['farClipId']['setValue'](_0x2d39b0),this['cameraPara'+'ms'][0x1*0x655+0x1196+-0x17eb]=(-0x1*-0x2641+0xcfb*-0x1+-0x1945)/_0x2d39b0,this['cameraPara'+'ms'][-0x9*0x435+0x11a7+0x1437]=_0x2d39b0,this['cameraPara'+'ms'][-0x354*-0x3+0x1*-0x599+-0x461*0x1]=_0x56b745,this['cameraPara'+'ms'][0x25c2+0x9fa*-0x1+-0x1bc5]=_0x4793c0['projection']===En?-0x22c8+-0x1*-0x1c13+0x6b6:-0x21c+-0x15*-0xef+0x117f*-0x1,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x4793c0['getExposur'+'e']():this['scene']['exposure']),_0x2b683f;}['clear'](_0x206ecc,_0x53f215,_0x2ab610,_0x1b86dc){const _0x387fca=(_0x53f215??_0x206ecc['_clearColo'+'rBuffer']?jo:0x1cef*-0x1+-0xd*0x2ff+0x21f1*0x2)|(_0x2ab610??_0x206ecc['_clearDept'+'hBuffer']?Yo:0x1*-0x235f+0x113f+0x10*0x122)|(_0x1b86dc??_0x206ecc['_clearSten'+'cilBuffer']?ch:0x17*0x42+-0x4*0x195+-0x1*-0x66);if(_0x387fca){const _0x1b969c=this['device'];Q['pushGpuMar'+'ker'](_0x1b969c,'CLEAR'),_0x1b969c['clear']({'color':[_0x206ecc['_clearColo'+'r']['r'],_0x206ecc['_clearColo'+'r']['g'],_0x206ecc['_clearColo'+'r']['b'],_0x206ecc['_clearColo'+'r']['a']],'depth':_0x206ecc['_clearDept'+'h'],'stencil':_0x206ecc['_clearSten'+'cil'],'flags':_0x387fca}),Q['popGpuMark'+'er'](_0x1b969c);}}['setCamera'](_0x1af0a9,_0x179a68,_0x322820,_0x36f6b0=null){this['setCameraU'+'niforms'](_0x1af0a9,_0x179a68),this['clearView'](_0x1af0a9,_0x179a68,_0x322820,!(0x6aa+0x32*-0x9b+0x179d));}['clearView'](_0x24349b,_0x119c6c,_0x386ae9,_0x1077b1){const _0xfbf603=this['device'];if(Q['pushGpuMar'+'ker'](_0xfbf603,'CLEAR-VIEW'),_0xfbf603['setRenderT'+'arget'](_0x119c6c),_0xfbf603['updateBegi'+'n'](),_0x1077b1&&(_0xfbf603['setColorWr'+'ite'](!(-0xaa5*-0x1+-0x21a8*0x1+0x1703),!(0x1d*-0x8f+-0x1*-0x243d+-0x10e*0x13),!(0x32*0x4a+-0x17d*0x18+0x1544),!(0x4eb+0x50b*-0x7+0x1e62)),_0xfbf603['setDepthWr'+'ite'](!(-0x18b0+-0x1815+0x30c5))),this['setupViewp'+'ort'](_0x24349b,_0x119c6c),_0x386ae9){const _0x5b3b36=_0x24349b['_clearOpti'+'ons'];_0xfbf603['clear'](_0x5b3b36||{'color':[_0x24349b['_clearColo'+'r']['r'],_0x24349b['_clearColo'+'r']['g'],_0x24349b['_clearColo'+'r']['b'],_0x24349b['_clearColo'+'r']['a']],'depth':_0x24349b['_clearDept'+'h'],'flags':(_0x24349b['_clearColo'+'rBuffer']?jo:0x1b82+-0x2604+-0x541*-0x2)|(_0x24349b['_clearDept'+'hBuffer']?Yo:-0x4*-0x4f3+0x229d+-0x3669)|(_0x24349b['_clearSten'+'cilBuffer']?ch:-0x23cd+0x3*-0x1d7+-0x81*-0x52),'stencil':_0x24349b['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0xfbf603);}['setupCullM'+'ode'](_0x971e05,_0x21cc67,_0x195427){const _0x553228=_0x195427['material'];let _0x5111aa=bt;if(_0x971e05){let _0x102836=0x28c+0x9ad*-0x4+0x2429;(_0x553228['cull']===Fo||_0x553228['cull']===pa)&&(_0x102836=_0x21cc67*_0x195427['flipFacesF'+'actor']*_0x195427['node']['worldScale'+'Sign']),_0x102836<0x1450+0x1*0x2588+0x39d8*-0x1?_0x5111aa=_0x553228['cull']===Fo?pa:Fo:_0x5111aa=_0x553228['cull'];}this['device']['setCullMod'+'e'](_0x5111aa),_0x5111aa===bt&&_0x553228['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x195427['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x415cb7){if(_0x415cb7['xr']&&_0x415cb7['xr']['views']['list']['length']){const _0x4dbba7=_0x415cb7['xr']['views']['list'][-0x17b7*-0x1+-0x5a6*-0x6+-0x399b];ar['mul2'](_0x4dbba7['projMat'],_0x4dbba7['viewOffMat']),_0x415cb7['frustum']['setFromMat'+'4'](ar);return;}const _0x27ee8b=_0x415cb7['projection'+'Matrix'];if(_0x415cb7['calculateP'+'rojection']&&_0x415cb7['calculateP'+'rojection'](_0x27ee8b,ec),_0x415cb7['calculateT'+'ransform'])_0x415cb7['calculateT'+'ransform'](nr,ec);else{const _0x236c82=_0x415cb7['_node']['getPositio'+'n'](),_0x2c50f8=_0x415cb7['_node']['getRotatio'+'n']();nr['setTRS'](_0x236c82,_0x2c50f8,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x27ee8b,Oa),_0x415cb7['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x3270a0,_0x39955f){_0x3270a0['setCullMod'+'e'](_0x39955f['cull']),_0x39955f['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x39955f['opacityMap']),(_0x39955f['opacityMap']||_0x39955f['alphaTest']>-0x21c6+-0x1*-0x2513+-0xa9*0x5)&&this['alphaTestI'+'d']['setValue'](_0x39955f['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x3bd353){nf++;const _0x27d617=_0x3bd353['length'];if(_0x27d617===-0x11c5+-0x254b*-0x1+0x93*-0x22)return;const _0x13b5ce=de();for(let _0x3d366f=-0x57b+-0x10c8+0x1643;_0x3d366f<_0x27d617;_0x3d366f++){const _0x9fa818=_0x3bd353[_0x3d366f]['skinInstan'+'ce'];_0x9fa818&&(_0x9fa818['updateMatr'+'ices'](_0x3bd353[_0x3d366f]['node'],nf),_0x9fa818['_dirty']=!(0x1*0x21a4+0x1387+0xd*-0x417));}this['_skinTime']+=de()-_0x13b5ce;}['updateGpuS'+'kinMatrice'+'s'](_0x28a2c0){const _0x43dfc3=de();for(const _0x42841f of _0x28a2c0){const _0x18d0d2=_0x42841f['skinInstan'+'ce'];_0x18d0d2&&_0x18d0d2['_dirty']&&(_0x18d0d2['updateMatr'+'ixPalette'](_0x42841f['node'],nf),_0x18d0d2['_dirty']=!(0x955*-0x3+-0x1*-0x2569+-0x969));}this['_skinTime']+=de()-_0x43dfc3;}['updateMorp'+'hing'](_0x17df16){const _0x3bacbe=de();for(const _0x234f0a of _0x17df16){const _0xb3fb54=_0x234f0a['morphInsta'+'nce'];_0xb3fb54&&_0xb3fb54['_dirty']&&_0xb3fb54['update']();}this['_morphTime']+=de()-_0x3bacbe;}['updateGSpl'+'ats'](_0x2de45a){var _0x23b84c;for(const _0x364695 of _0x2de45a)(_0x23b84c=_0x364695['gsplatInst'+'ance'])==null||_0x23b84c['update']();}['gpuUpdate'](_0x472e68){this['updateGpuS'+'kinMatrice'+'s'](_0x472e68),this['updateMorp'+'hing'](_0x472e68),this['updateGSpl'+'ats'](_0x472e68);}['setVertexB'+'uffers'](_0x2b8276,_0x2234d2){_0x2b8276['setVertexB'+'uffer'](_0x2234d2['vertexBuff'+'er']);}['setMorphin'+'g'](_0x469869,_0x4b9225){_0x4b9225&&(_0x4b9225['prepareRen'+'dering'](_0x469869),_0x469869['setVertexB'+'uffer'](_0x4b9225['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x4b9225['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x4b9225['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x4b9225['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x288692,_0x1de601){const _0x3a28be=_0x1de601['skinInstan'+'ce'];if(_0x3a28be){this['_skinDrawC'+'alls']++;const _0x42fee9=_0x3a28be['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x42fee9);}}['dispatchVi'+'ewPos'](_0x12ca8c){const _0x5a0a4f=this['viewPos'];_0x5a0a4f[0x235a+0x15b5+-0x390f]=_0x12ca8c['x'],_0x5a0a4f[-0x97f+0x1*0x213a+-0x17ba*0x1]=_0x12ca8c['y'],_0x5a0a4f[0x23ab+-0x8e*-0x3c+0x9f*-0x6f]=_0x12ca8c['z'],this['viewPosId']['setValue'](_0x5a0a4f);}['initViewBi'+'ndGroupFor'+'mat'](_0x190bf3){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0xabfbc=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x190bf3&&_0xabfbc['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0xabfbc);const _0x3a7463=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x3a7463);}}['setupViewU'+'niforms'](_0x12eb1c,_0x2c8975){this['projId']['setValue'](_0x12eb1c['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x12eb1c['projMat']['data']),this['viewId']['setValue'](_0x12eb1c['viewOffMat']['data']),this['viewInvId']['setValue'](_0x12eb1c['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x12eb1c['viewMat3']['data']),this['viewProjId']['setValue'](_0x12eb1c['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x12eb1c['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x2c8975);}['setupViewU'+'niformBuff'+'ers'](_0x4c7e7d,_0xcf364a,_0x34302b,_0x2941b3){w['assert'](Array['isArray'](_0x4c7e7d),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x50aea6}=this,_0x12300d=(_0x2941b3==null?void(0x1*-0x2451+-0xfc+-0x1*-0x254d):_0x2941b3['length'])??-0x1315+0x47e+0xe98;for(;_0x4c7e7d['length']<_0x12300d;){const _0x2af25f=new zp(_0x50aea6,_0xcf364a,!(0x2*-0xa9b+0x1f*-0x11f+0x24*0x18e)),_0x261310=new Up(_0x50aea6,_0x34302b,_0x2af25f);Ea['setName'](_0x261310,'ViewBindGr'+'oup_'+_0x261310['id']),_0x4c7e7d['push'](_0x261310);}if(_0x2941b3)for(let _0x40f85f=0x257+0x39*-0x5d+-0x2*-0x92f;_0x40f85f<_0x12300d;_0x40f85f++){const _0x15da9d=_0x2941b3[_0x40f85f];this['setupViewU'+'niforms'](_0x15da9d,_0x40f85f);const _0x481c90=_0x4c7e7d[_0x40f85f];_0x481c90['defaultUni'+'formBuffer']['update'](),_0x481c90['update']();}else{const _0x380e10=_0x4c7e7d[0x1103+-0x1951+0x427*0x2];_0x380e10['defaultUni'+'formBuffer']['update'](),_0x380e10['update']();}_0x2941b3||_0x50aea6['setBindGro'+'up'](rl,_0x4c7e7d[0x5*0xb+-0x337*-0x5+0x104a*-0x1]);}['setupMeshU'+'niformBuff'+'ers'](_0x5f27f5){const _0x25671f=this['device'];if(_0x25671f['supportsUn'+'iformBuffe'+'rs']){const _0x15ddc8=_0x5f27f5['getBindGro'+'up'](_0x25671f);_0x15ddc8['update'](),_0x25671f['setBindGro'+'up'](Oy,_0x15ddc8),_0x5f27f5['getUniform'+'Buffer'](_0x25671f)['update'](hf),_0x25671f['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x85a9cd,_0x1f7457=!(0xb50+0x2f2+-0xe41)){const _0x5eac28=_0x85a9cd['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x5eac28['data']),_0x1f7457&&this['normalMatr'+'ixId']['setValue'](_0x85a9cd['node']['normalMatr'+'ix']['data']);}['cull'](_0x318722,_0x2bd9dd,_0x503637){const _0x1b55c9=de(),_0x219a7e=_0x503637['opaque'];_0x219a7e['length']=0x2418+-0x1*0x5df+0x1*-0x1e39;const _0x51b0a1=_0x503637['transparen'+'t'];_0x51b0a1['length']=0x93c+0x1ea8+-0x45*0x94;const _0x43bba9=_0x318722['frustumCul'+'ling'],_0x2f42ae=_0x2bd9dd['length'];for(let _0x17115e=0x1*0x1505+0x1c1*0x9+-0x24ce;_0x17115e<_0x2f42ae;_0x17115e++){const _0x219e44=_0x2bd9dd[_0x17115e];_0x219e44['visible']&&(!_0x43bba9||!_0x219e44['cull']||_0x219e44['_isVisible'](_0x318722))&&(_0x219e44['visibleThi'+'sFrame']=!(-0x32*-0x59+-0x6*0x349+0x254),(_0x219e44['transparen'+'t']?_0x51b0a1:_0x219a7e)['push'](_0x219e44),(_0x219e44['skinInstan'+'ce']||_0x219e44['morphInsta'+'nce']||_0x219e44['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x219e44),_0x219e44['gsplatInst'+'ance']&&_0x219e44['gsplatInst'+'ance']['cameras']['push'](_0x318722)));}this['_cullTime']+=de()-_0x1b55c9,this['_numDrawCa'+'llsCulled']+=_0x43bba9?_0x2f42ae:0x1f3d+-0x1512+-0xa2b;}['collectLig'+'hts'](_0x56fec8){this['lights']['length']=-0x1750+-0x943+-0x1*-0x2093,this['localLight'+'s']['length']=-0x21e8+0xe20+0x13c8;const _0x4b4887=this['scene']['_stats'];_0x4b4887['dynamicLig'+'hts']=-0x5bc+0x1d42+-0x1786,_0x4b4887['bakedLight'+'s']=0x1*0x190d+0x1c7+-0x1ad4;const _0x2c607c=_0x56fec8['layerList']['length'];for(let _0x53e164=0x13c5+-0x26ff+0x133a;_0x53e164<_0x2c607c;_0x53e164++){const _0x2cfcdf=_0x56fec8['layerList'][_0x53e164];if(!cf['has'](_0x2cfcdf)){cf['add'](_0x2cfcdf);const _0xef64d8=_0x2cfcdf['_lights'];for(let _0x53e069=-0xb*0x143+0x8e0*-0x4+-0x1*-0x3161;_0x53e069<_0xef64d8['length'];_0x53e069++){const _0x304a83=_0xef64d8[_0x53e069];lf['has'](_0x304a83)||(lf['add'](_0x304a83),this['lights']['push'](_0x304a83),_0x304a83['_type']!==ve&&this['localLight'+'s']['push'](_0x304a83),(_0x304a83['mask']&Ss||_0x304a83['mask']&di)&&_0x4b4887['dynamicLig'+'hts']++,_0x304a83['mask']&fi&&_0x4b4887['bakedLight'+'s']++);}}}_0x4b4887['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x41ea96,_0x3a500f){const _0x2834af=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x498f03=this['scene']['physicalUn'+'its'];for(let _0x57c5c1=-0x5*-0x5db+-0x716*-0x4+-0x399f;_0x57c5c1<_0x3a500f['length'];_0x57c5c1++){const _0x244980=_0x3a500f[_0x57c5c1];if(_0x244980['enabled']){if(_0x244980['_type']!==ve){if(_0x244980['getBoundin'+'gSphere'](of),_0x41ea96['frustum']['containsSp'+'here'](of)){_0x244980['visibleThi'+'sFrame']=!(0x2322+-0x2659*-0x1+-0x497b),_0x244980['usePhysica'+'lUnits']=_0x498f03;const _0x4fcd1a=_0x41ea96['getScreenS'+'ize'](of);_0x244980['maxScreenS'+'ize']=Math['max'](_0x244980['maxScreenS'+'ize'],_0x4fcd1a);}else _0x2834af||_0x244980['castShadow'+'s']&&!_0x244980['shadowMap']&&(_0x244980['visibleThi'+'sFrame']=!(0x4*0x6e+0x1458+-0x10*0x161));}else _0x244980['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x34e145){const _0x378d95=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x560abb=-0x41a*0x7+-0x27f*0xd+0x3d29;_0x560abb<this['localLight'+'s']['length'];_0x560abb++){const _0x3be9d8=this['localLight'+'s'][_0x560abb];_0x3be9d8['_type']!==ve&&(_0x378d95?_0x3be9d8['atlasSlotU'+'pdated']&&_0x3be9d8['shadowUpda'+'teMode']===Ps&&(_0x3be9d8['shadowUpda'+'teMode']=xr):_0x3be9d8['shadowUpda'+'teMode']===Ps&&_0x3be9d8['castShadow'+'s']&&(_0x3be9d8['getRenderD'+'ata'](null,0x9bc+0x25bd+-0x3*0xfd3)['shadowCame'+'ra']['renderTarg'+'et']||(_0x3be9d8['shadowUpda'+'teMode']=xr)),_0x3be9d8['visibleThi'+'sFrame']&&_0x3be9d8['castShadow'+'s']&&_0x3be9d8['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x3be9d8,_0x34e145));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x57f7be=_0x34e145['cameras'];for(let _0x403631=-0x2099+-0x1a9+0x2242;_0x403631<_0x57f7be['length'];_0x403631++){const _0x3810aa=_0x57f7be[_0x403631];if(_0x3810aa['enabled']){const _0x5161d5=_0x3810aa['camera'];let _0x39d2b1;const _0x2cb5b7=_0x5161d5['layers'];for(let _0x36fb8b=0x58f*-0x3+0xd5d+-0x1a8*-0x2;_0x36fb8b<_0x2cb5b7['length'];_0x36fb8b++){const _0x16e157=_0x34e145['getLayerBy'+'Id'](_0x2cb5b7[_0x36fb8b]);if(_0x16e157){const _0x2b99b5=_0x16e157['splitLight'+'s'][ve];for(let _0x163bfc=-0xb55+-0x23d*-0xb+-0x3*0x46e;_0x163bfc<_0x2b99b5['length'];_0x163bfc++){const _0x6d6e50=_0x2b99b5[_0x163bfc];_0x6d6e50['castShadow'+'s']&&!Fa['has'](_0x6d6e50)&&(Fa['add'](_0x6d6e50),_0x39d2b1=_0x39d2b1??[],_0x39d2b1['push'](_0x6d6e50),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x6d6e50,_0x34e145,_0x5161d5));}}}_0x39d2b1&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x5161d5,_0x39d2b1),Fa['clear']();}}}['cullCompos'+'ition'](_0x436aea){const _0x138e33=de(),{scene:_0x3a262f}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xe611ca=_0x436aea['cameras']['length'];this['_camerasRe'+'ndered']+=_0xe611ca;for(let _0x1a312f=0x1f21+-0xa13+0x1ea*-0xb;_0x1a312f<_0xe611ca;_0x1a312f++){const _0x25df86=_0x436aea['cameras'][_0x1a312f];_0x3a262f==null||_0x3a262f['fire'](mv,_0x25df86);const _0x5096e7=_0x25df86['renderTarg'+'et'];_0x25df86['frameUpdat'+'e'](_0x5096e7),this['updateCame'+'raFrustum'](_0x25df86['camera']);const _0xb04748=_0x25df86['layers'];for(let _0x364719=-0x1ff6+0x2568+0x2b9*-0x2;_0x364719<_0xb04748['length'];_0x364719++){const _0x57a73c=_0x436aea['getLayerBy'+'Id'](_0xb04748[_0x364719]);if(_0x57a73c&&_0x57a73c['enabled']){this['cullLights'](_0x25df86['camera'],_0x57a73c['_lights']);const _0x68470b=_0x57a73c['getCulledI'+'nstances'](_0x25df86['camera']);this['cull'](_0x25df86['camera'],_0x57a73c['meshInstan'+'ces'],_0x68470b);}}_0x3a262f==null||_0x3a262f['fire'](_v,_0x25df86);}_0x3a262f['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x436aea),_0x3a262f==null||_0x3a262f['fire'](lE),this['_cullTime']+=de()-_0x138e33;}['updateShad'+'ers'](_0x4fcb27,_0x279125){const _0x130819=_0x4fcb27['length'];for(let _0x229b80=0x13d*-0x9+0x299+0x88c;_0x229b80<_0x130819;_0x229b80++){const _0x5065ab=_0x4fcb27[_0x229b80]['material'];if(_0x5065ab&&!Fa['has'](_0x5065ab)&&(Fa['add'](_0x5065ab),_0x5065ab['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x279125&&(!_0x5065ab['useLightin'+'g']||_0x5065ab['emitter']&&!_0x5065ab['emitter']['lighting']))continue;_0x5065ab['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x4d1f52){const _0x1a3f8a=this['scene'],_0x2250d0=_0x1a3f8a['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4bfafc=0x1*0x95+0x67*0x33+-0x151a;const _0x397373=_0x4d1f52['layerList'],_0x33e820=_0x397373['length'];for(let _0x4b5b20=-0x240f+-0x120a*0x2+0x4823;_0x4b5b20<_0x33e820;_0x4b5b20++){const _0x26f342=_0x397373[_0x4b5b20]['meshInstan'+'ces'],_0x68cb2f=_0x26f342['length'];_0x4bfafc+=_0x68cb2f;for(let _0x3c7f90=-0x79*-0x29+-0x7*-0x574+-0x398d;_0x3c7f90<_0x68cb2f;_0x3c7f90++){const _0x5581fd=_0x26f342[_0x3c7f90];_0x5581fd['visibleThi'+'sFrame']=!(0xc5e+0xb38+-0x1795),_0x2250d0&&df['push'](_0x5581fd),_0x5581fd['skinInstan'+'ce']&&ff['push'](_0x5581fd);}}if(_0x1a3f8a['_stats']['meshInstan'+'ces']=_0x4bfafc,_0x2250d0){const _0x5346dd=!_0x1a3f8a['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x5346dd),_0x1a3f8a['updateShad'+'ers']=!(-0x1bfc+0x5*0x10f+-0x5*-0x48a),this['device']['_shadersDi'+'rty']=!(0x46f*0x7+-0x1642+-0x8c6),_0x1a3f8a['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x31*0x75+-0xf2*-0x13+0x46f,ff['length']=0x18bb+0x551*0x1+-0x1e0c;const _0x28479f=this['lights'],_0x527d98=_0x28479f['length'];for(let _0x26057e=-0x1e5d*-0x1+-0x819+-0x12c*0x13;_0x26057e<_0x527d98;_0x26057e++)_0x28479f[_0x26057e]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x5e93c6){const _0x379e36=de(),_0x1d95e0=_0x5e93c6['layerList']['length'],_0x3734e5=this['scene']['_shaderVer'+'sion'];for(let _0x3e683f=-0x22f9*0x1+0x975+-0x1*-0x1984;_0x3e683f<_0x1d95e0;_0x3e683f++){const _0x315254=_0x5e93c6['layerList'][_0x3e683f];_0x315254['_shaderVer'+'sion']=_0x3734e5,_0x315254['_skipRende'+'rCounter']=0x2dd*0x3+-0xcc8+0x431,_0x315254['_forwardDr'+'awCalls']=0x23e9+0x1b2*-0x7+-0x1*0x180b,_0x315254['_shadowDra'+'wCalls']=0x2*-0x982+0x43a+-0x6*-0x277,_0x315254['_renderTim'+'e']=-0x1ed*0x8+-0x1482+-0x23ea*-0x1;}_0x5e93c6['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x379e36;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x13*-0x205+0x22*-0x104+-0x3d6),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x11c*-0x1b+0x1*0xd6a+-0x2b5d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1a05+0x632*-0x1+0x2038),this['clearDepth']=!(0x1ebc+0x24e5*-0x1+0x6*0x107),this['clearStenc'+'il']=!(-0x1884+-0x133*0xd+0x281c),this['triggerPos'+'tprocess']=!(0x1cae+-0x5ad+-0x1700),this['firstCamer'+'aUse']=!(-0x755*-0x3+0x39d+-0x39*0x73),this['lastCamera'+'Use']=!(-0x1*0xb57+-0x109e+0x1bf6),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x1cab+-0x130e+0x2fba));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3e362d=>{_0x3e362d['defaultUni'+'formBuffer']['destroy'](),_0x3e362d['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1fd4+0x1*-0x119+-0x20ed*-0x1;}['setupClear'+'s'](_0x3c619e,_0x1c8b42){this['clearColor']=(_0x3c619e==null?void(0x1824+-0x87d+-0x1*0xfa7):_0x3c619e['clearColor'+'Buffer'])||_0x1c8b42['clearColor'+'Buffer'],this['clearDepth']=(_0x3c619e==null?void(0x1a8c+0x3c7+-0x1e53):_0x3c619e['clearDepth'+'Buffer'])||_0x1c8b42['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x3c619e==null?void(-0x1*0x7e2+-0x2426+0x2c08):_0x3c619e['clearStenc'+'ilBuffer'])||_0x1c8b42['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x251f07,_0x304208,_0x596b3b,_0x6e9845){super(_0x251f07),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(0xc71+0x3cc*-0x8+0x8f8*0x2)),(this['layerCompo'+'sition']=_0x304208,this['scene']=_0x596b3b,this['renderer']=_0x6e9845);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x222d+0xe3f*0x1+0x13ee;}['addRenderA'+'ction'](_0x5ad7d1){this['renderActi'+'ons']['push'](_0x5ad7d1);}['addLayer'](_0x3dcdfd,_0x15e99c,_0x17e6f2,_0x1e59b3=!(-0x1478*0x1+0x2001+-0xb89)){w['assert'](_0x3dcdfd),w['assert'](this['renderTarg'+'et']!==void(0x157+-0x208c+0x1f35),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x3dcdfd['camera']['layersSet']['has'](_0x15e99c['id']),'Camera\x20'+_0x3dcdfd['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x15e99c['name']+'.');const _0x303b6f=new Pv();if(_0x303b6f['renderTarg'+'et']=this['renderTarg'+'et'],_0x303b6f['camera']=_0x3dcdfd,_0x303b6f['layer']=_0x15e99c,_0x303b6f['transparen'+'t']=_0x17e6f2,_0x1e59b3){const _0x5bdc3e=this['renderActi'+'ons']['length']===-0xc02+-0xc0b+-0x83*-0x2f;_0x303b6f['setupClear'+'s'](_0x5bdc3e?_0x3dcdfd:void(0xb1b*0x1+0x9b7+-0x14d2),_0x15e99c);}this['addRenderA'+'ction'](_0x303b6f);}['addLayers'](_0x49a433,_0x16e686,_0x27af49,_0x720e43,_0x5ac937,_0x430323=!(-0x51*0x13+0xf52*0x1+-0x1*0x94f)){const {layerList:_0x42b4dc,subLayerList:_0x1a952f}=_0x49a433;let _0x51815d=_0x720e43,_0x560ea6=_0x27af49;for(;_0x560ea6<_0x42b4dc['length'];){const _0x31cc03=_0x42b4dc[_0x560ea6],_0x4d1761=_0x1a952f[_0x560ea6];if(_0x16e686['camera']['layersSet']['has'](_0x31cc03['id'])&&(this['addLayer'](_0x16e686,_0x31cc03,_0x4d1761,_0x51815d),_0x51815d=!(0x203*-0x1+-0x1*-0xab+-0xf*-0x17)),_0x560ea6++,_0x31cc03['id']===_0x5ac937&&_0x4d1761===_0x430323)break;}return _0x560ea6;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x53bf2b,renderActions:_0x34370b}=this;for(let _0x3fa2a4=0xe41*0x2+-0x1bd*-0x14+-0x3f46;_0x3fa2a4<_0x34370b['length'];_0x3fa2a4++){const _0x33d1f4=_0x34370b[_0x3fa2a4]['camera']['camera'],_0x3348c7=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x33d1f4);if(_0x3348c7)for(let _0x408513=-0x16dd*-0x1+-0x7*-0xb8+-0x1*0x1be5;_0x408513<_0x3348c7['length'];_0x408513++){const _0x234cd0=_0x3348c7[_0x408513];if(_0x53bf2b['dirLightSh'+'adows']['get'](_0x234cd0)!==_0x33d1f4){_0x53bf2b['dirLightSh'+'adows']['set'](_0x234cd0,_0x33d1f4);const _0x2c5b50=_0x53bf2b['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x234cd0,_0x33d1f4);_0x2c5b50&&this['beforePass'+'es']['push'](_0x2c5b50);}}}}['updateClea'+'rs'](){const _0x1385a5=this['renderActi'+'ons'][-0x1*0xe2f+0xb*0x16b+-0x16a];if(_0x1385a5){const _0x837538=_0x1385a5['camera']['camera'],_0x12fd71=_0x837538['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x12fd71&&_0x1385a5['clearColor']?_0x837538['clearColor']:void(0x2*-0xa0b+0x12cd+0x149)),this['setClearDe'+'pth'](_0x12fd71&&_0x1385a5['clearDepth']&&!this['noDepthCle'+'ar']?_0x837538['clearDepth']:void(-0x133*0x13+-0x1972+0x303b)),this['setClearSt'+'encil'](_0x12fd71&&_0x1385a5['clearStenc'+'il']?_0x837538['clearStenc'+'il']:void(-0x18a+0x3e7+-0x25d));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x16a648}=this;for(let _0x51a4de=-0x2*0xfec+-0x175*-0x17+-0x1*0x1ab;_0x51a4de<_0x16a648['length'];_0x51a4de++){const _0xcde92f=_0x16a648[_0x51a4de];_0xcde92f['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0xcde92f['camera']);}}['execute'](){const {layerComposition:_0x3fed20,renderActions:_0x1890aa}=this;for(let _0x40e977=-0x1*0x10e7+0x25d*-0xa+0x2889;_0x40e977<_0x1890aa['length'];_0x40e977++){const _0x19b225=_0x1890aa[_0x40e977],_0x496d9f=_0x19b225['layer'];w['call'](()=>{_0x3fed20['getLayerBy'+'Name'](_0x496d9f['name'])||w['warnOnce']('Layer\x20'+_0x496d9f['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x3fed20['isEnabled'](_0x496d9f,_0x19b225['transparen'+'t'])&&this['renderRend'+'erAction'](_0x19b225,_0x40e977===-0x254*-0x3+-0x514+-0x1e8);}}['after'](){for(let _0x24cf82=0x12a8+0x4*0x22f+0x4*-0x6d9;_0x24cf82<this['renderActi'+'ons']['length'];_0x24cf82++){const _0x2e05d9=this['renderActi'+'ons'][_0x24cf82];_0x2e05d9['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x2e05d9['camera']);}this['beforePass'+'es']['length']=-0x551*-0x1+0x5*-0x15d+0x180;}['renderRend'+'erAction'](_0x5ccc1f,_0x1e5134){var _0x2a390c;const {renderer:_0x422884,scene:_0x199a83}=this,_0x252a12=_0x422884['device'],{layer:_0x323fb3,transparent:_0x1b2e6c,camera:_0x286a88}=_0x5ccc1f;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x286a88?_0x286a88['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x323fb3['name']+'('+(_0x1b2e6c?'TRANSP':'OPAQUE')+')');const _0x50690d=de();if(_0x286a88){const _0x48e4f5=_0x286a88['gammaCorre'+'ction'],_0x58f956=_0x286a88['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x185d+-0x6a8+0x1f05)&&(_0x286a88['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x1d04+-0x458*0x3+0x75*0x5c)&&(_0x286a88['toneMappin'+'g']=this['toneMappin'+'g']),_0x199a83['fire'](nE,_0x286a88,_0x323fb3,_0x1b2e6c);const _0x3561cb={'lightClusters':_0x5ccc1f['lightClust'+'ers']},_0x3961f3=((_0x2a390c=_0x286a88['camera']['shaderPass'+'Info'])==null?void(-0x15bd+0x4*-0x66a+0x44f*0xb):_0x2a390c['index'])??Aa;(!_0x1e5134||!_0x286a88['camera']['fullSizeCl'+'earRect'])&&(_0x3561cb['clearColor']=_0x5ccc1f['clearColor'],_0x3561cb['clearDepth']=_0x5ccc1f['clearDepth'],_0x3561cb['clearStenc'+'il']=_0x5ccc1f['clearStenc'+'il']);const _0x496e63=_0x5ccc1f['renderTarg'+'et']??_0x252a12['backBuffer'];_0x422884['renderForw'+'ardLayer'](_0x286a88['camera'],_0x496e63,_0x323fb3,_0x1b2e6c,_0x3961f3,_0x5ccc1f['viewBindGr'+'oups'],_0x3561cb),_0x252a12['setBlendSt'+'ate'](pt['NOBLEND']),_0x252a12['setStencil'+'State'](null,null),_0x252a12['setAlphaTo'+'Coverage'](!(0x266c+-0xee9+-0x1782)),_0x199a83['fire'](oE,_0x286a88,_0x323fb3,_0x1b2e6c),this['gammaCorre'+'ction']!==void(0x170a+0x1*0xb51+-0x225b)&&(_0x286a88['gammaCorre'+'ction']=_0x48e4f5),this['toneMappin'+'g']!==void(0x2655*-0x1+-0x3*0x9aa+0x5*0xd77)&&(_0x286a88['toneMappin'+'g']=_0x58f956);}Q['popGpuMark'+'er'](this['device']),_0x323fb3['_renderTim'+'e']+=de()-_0x50690d;}['log'](_0x310d41,_0x1582cb){if(super['log'](_0x310d41,_0x1582cb),mi['get'](cn)){const {layerComposition:_0x43e75f}=this;this['renderActi'+'ons']['forEach']((_0x546668,_0x55e869)=>{const _0x2f96c2=_0x546668['layer'],_0x283f39=_0x2f96c2['enabled']&&_0x43e75f['isEnabled'](_0x2f96c2,_0x546668['transparen'+'t']),_0x287ba2=_0x546668['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x55e869+':'+('\x20Cam:\x20'+(_0x287ba2?_0x287ba2['entity']['name']:'-'))['padEnd'](-0x3da+0xe16*0x2+0x183c*-0x1,'\x20')+('\x20Lay:\x20'+_0x2f96c2['name'])['padEnd'](-0xf82+-0x29*0x8b+0x25db,'\x20')+(_0x546668['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x283f39?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x2f96c2['meshInstan'+'ces']['length'])['padEnd'](-0x8c*-0x6+0xd9b+-0x10de,'\x20'));});}}}class Zb extends ys{constructor(_0x43f0b0,_0x26c5dc,_0x4052c7){super(_0x43f0b0),this['renderer']=_0x26c5dc,this['renderActi'+'on']=_0x4052c7,this['requiresCu'+'bemaps']=!(0x1*0x16ab+-0xb74*-0x2+-0x26*0x133);}['execute'](){const _0x4cb047=this['renderActi'+'on'],_0x5d919a=_0x4cb047['camera'];w['assert'](_0x4cb047['triggerPos'+'tprocess']&&_0x5d919a['onPostproc'+'essing']),_0x5d919a['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x9d*0x6+-0x3*-0x14f+-0x79b,this['shaderInst'+'ances']['length']=0x3*0xca4+-0x1a8c+-0xb60,this['isNewMater'+'ial']['length']=-0x5*-0x34d+-0x2227+0x11a6,this['lightMaskC'+'hanged']['length']=-0x12da+-0xa77+-0x5dd*-0x5;}};function Jb(_0x3a6800){const _0x25f805=[];for(let _0x31c20e=-0x179f*0x1+-0x1744+-0x1*-0x2ee3;_0x31c20e<_0x3a6800;++_0x31c20e){const _0x55393f=Math['sqrt'](_0x31c20e+(0x1*0x22af+-0x13bb+-0x77a*0x2+0.5))/Math['sqrt'](_0x3a6800);_0x25f805['push'](_0x55393f);}return _0x25f805;}function eA(_0x1cf172){const _0x2882e6=[];for(let _0x49a1c4=0x23fb+-0x1a*-0x71+-0x2f75*0x1;_0x49a1c4<_0x1cf172;_0x49a1c4++){const _0x180956=_0x49a1c4/_0x1cf172,_0x5ae306=Math['sqrt'](_0x180956*_0x180956);_0x2882e6['push'](_0x5ae306);}return _0x2882e6;}const Ni=class Ni extends Yb{constructor(_0x5df516){super(_0x5df516);const _0x438d22=this['device'];this['_forwardDr'+'awCalls']=0x7a8+0x102b*0x2+-0x27fe,this['_materialS'+'witches']=0x1*-0x1ff9+0xcf2+0x1*0x1307,this['_depthMapT'+'ime']=-0x8a7*0x3+0x12fe+0x6f7,this['_forwardTi'+'me']=-0x652+0x1e04+0x12*-0x151,this['_sortTime']=-0x1256+0x8*0x257+0x7*-0xe;const _0x15915e=_0x438d22['scope'];this['fogColorId']=_0x15915e['resolve']('fog_color'),this['fogStartId']=_0x15915e['resolve']('fog_start'),this['fogEndId']=_0x15915e['resolve']('fog_end'),this['fogDensity'+'Id']=_0x15915e['resolve']('fog_densit'+'y'),this['ambientId']=_0x15915e['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x15915e['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x15915e['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x15915e['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x15915e['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x15915e['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x63c+0x1fc+0x444),this['fogColor']=new Float32Array(0x4cf+-0x2105+0x1c39*0x1),this['ambientCol'+'or']=new Float32Array(-0x955+-0x1442+0x1d9a),this['pcssDiskSa'+'mples']=Jb(0x1e45+0x1*0x66d+-0x24a2),this['pcssSphere'+'Samples']=eA(0x443*-0x1+0x21c1+-0x1*0x1d6e);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0xc5b48){const _0x4c387f=this['ambientCol'+'or'];if(or['linear'](_0xc5b48['ambientLig'+'ht']),_0x4c387f[-0x2*0x20b+0xcfc+0x86*-0x11]=or['r'],_0x4c387f[-0x8cb*-0x1+0x8*-0x322+0x1046]=or['g'],_0x4c387f[0x7f*0x7+0x931+-0xca8]=or['b'],_0xc5b48['physicalUn'+'its']){for(let _0x48198a=0x1991*-0x1+-0x3*-0xb3c+-0x1*0x823;_0x48198a<-0x6f*0x11+0x1516+-0xdb4;_0x48198a++)_0x4c387f[_0x48198a]*=_0xc5b48['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x4c387f),this['skyboxInte'+'nsityId']['setValue'](_0xc5b48['physicalUn'+'its']?_0xc5b48['skyboxLumi'+'nance']:_0xc5b48['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0xc5b48['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x199665,_0x32c9eb){const _0x15fa2d='light'+_0x32c9eb;this['lightColor'+'Id'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_color'),this['lightDir'][_0x32c9eb]=new Float32Array(-0x22ea+-0x218d+-0x223d*-0x2),this['lightDirId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_direction'),this['lightShado'+'wMapId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_radius'),this['lightPos'][_0x32c9eb]=new Float32Array(0x1a57*-0x1+0x372*-0x7+0x3278),this['lightPosId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_position'),this['lightWidth'][_0x32c9eb]=new Float32Array(-0xd97+-0x4f7*0x3+0x5*0x5b3),this['lightWidth'+'Id'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_halfWidth'),this['lightHeigh'+'t'][_0x32c9eb]=new Float32Array(0x268e+-0x156c+0x9*-0x1e7),this['lightHeigh'+'tId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+'_cookie'),this['lightCooki'+'eIntId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x32c9eb]=_0x199665['resolve'](_0x15fa2d+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x35a8bb,_0x55819b,_0x459c54,_0x41b846,_0x87773){this['lightPos'][_0x55819b][-0x1979*0x1+0x21b3*-0x1+0x3b2c*0x1]=_0x41b846['x']-_0x459c54['x']*_0x87773,this['lightPos'][_0x55819b][0x15*-0xac+-0x12df+0x20fc]=_0x41b846['y']-_0x459c54['y']*_0x87773,this['lightPos'][_0x55819b][-0xb9a+0x164b+-0x1*0xaaf]=_0x41b846['z']-_0x459c54['z']*_0x87773,this['lightPosId'][_0x55819b]['setValue'](this['lightPos'][_0x55819b]);const _0x514592=_0x35a8bb['transformV'+'ector'](new D(-(-0x3*0x343+-0x1131*-0x2+-0x1899*0x1+0.5),0x1*-0x199f+0x39*0x4b+0x8ec,0x214b+-0x2c0+-0x1e8b));this['lightWidth'][_0x55819b][0x60e*0x3+0x2*0x12f7+-0x3818]=_0x514592['x']*_0x87773,this['lightWidth'][_0x55819b][-0x1b77+0x1871+0x307*0x1]=_0x514592['y']*_0x87773,this['lightWidth'][_0x55819b][-0x1*0x140+0x2d4+-0x192]=_0x514592['z']*_0x87773,this['lightWidth'+'Id'][_0x55819b]['setValue'](this['lightWidth'][_0x55819b]);const _0x1a5d69=_0x35a8bb['transformV'+'ector'](new D(-0x4d0+-0x7cd+0xc9d*0x1,0x39e*0x3+0x18f6+0x47a*-0x8,-0x170c+-0x1a8c+0x3198+0.5));this['lightHeigh'+'t'][_0x55819b][-0x741+0x1*0x18b9+0x8*-0x22f]=_0x1a5d69['x']*_0x87773,this['lightHeigh'+'t'][_0x55819b][-0x11c+-0x20*-0xcd+0x5*-0x4e7]=_0x1a5d69['y']*_0x87773,this['lightHeigh'+'t'][_0x55819b][0x544+0x1770+0x1cb2*-0x1]=_0x1a5d69['z']*_0x87773,this['lightHeigh'+'tId'][_0x55819b]['setValue'](this['lightHeigh'+'t'][_0x55819b]);}['dispatchDi'+'rectLights'](_0x564dc5,_0x38fa35,_0x5aca04){let _0x320b62=0x131+0x9dd+-0xb0e;const _0x366645=this['device']['scope'];for(let _0x1e779b=0x1816+-0x1d3e+-0x16*-0x3c;_0x1e779b<_0x564dc5['length'];_0x1e779b++){if(!(_0x564dc5[_0x1e779b]['mask']&_0x38fa35))continue;const _0x38b293=_0x564dc5[_0x1e779b],_0x49b520=_0x38b293['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x320b62]||this['_resolveLi'+'ght'](_0x366645,_0x320b62),this['lightColor'+'Id'][_0x320b62]['setValue'](_0x38b293['_colorLine'+'ar']),_0x49b520['getY'](_0x38b293['_direction'])['mulScalar'](-(-0x114d*-0x2+-0x2*-0x130a+0x1*-0x48ad)),_0x38b293['_direction']['normalize'](),this['lightDir'][_0x320b62][-0x1*0x6d1+0x1454+-0x1*0xd83]=_0x38b293['_direction']['x'],this['lightDir'][_0x320b62][-0x230e+0x27*-0x29+0x11*0x26e]=_0x38b293['_direction']['y'],this['lightDir'][_0x320b62][-0x1a92+0xac5*0x2+0x1*0x50a]=_0x38b293['_direction']['z'],this['lightDirId'][_0x320b62]['setValue'](this['lightDir'][_0x320b62]),_0x38b293['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x49b520,_0x320b62,_0x38b293['_direction'],_0x5aca04['_node']['getPositio'+'n'](),_0x5aca04['farClip']),_0x38b293['castShadow'+'s']){const _0x3cc55e=_0x38b293['getRenderD'+'ata'](_0x5aca04,-0x249b+0x171a*0x1+0xd81),_0x44e33c=_0x38b293['_getUnifor'+'mBiasValue'+'s'](_0x3cc55e);this['lightShado'+'wMapId'][_0x320b62]['setValue'](_0x3cc55e['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x320b62]['setValue'](_0x3cc55e['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x320b62]['setValue'](_0x38b293['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x320b62]['setValue'](_0x38b293['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x320b62]['setValue'](_0x38b293['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x320b62]['setValue'](0x1*0x2122+0x2479+0x12e*-0x3b-_0x38b293['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x320b62]['setValue'](_0x38b293['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x320b62]['setValue'](_0x38b293['_softShado'+'wParams']),_0x3cc55e['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x320b62]['setValue'](_0x38b293['penumbraSi'+'ze']/_0x3cc55e['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x3cc55e['projection'+'Compensati'+'on']);const _0x146dd6=_0x38b293['_shadowCam'+'eraParams'];_0x146dd6['length']=-0x1ee5+0x2*-0xb3e+0x3565,_0x146dd6[0xf9*-0x17+0x445*-0x4+0x1*0x2773]=-0xab*-0x26+-0x212c+0x7ca,_0x146dd6[-0x1b1*0x4+0x5c9*0x5+-0x1628]=_0x3cc55e['shadowCame'+'ra']['_farClip'],_0x146dd6[-0xfed+0xb*-0x371+0x35ca]=_0x3cc55e['shadowCame'+'ra']['_nearClip'],_0x146dd6[0xd82*-0x2+-0x2538+0x403f]=0x36f+-0xa3*0x11+0x765,this['lightCamer'+'aParamsId'][_0x320b62]['setValue'](_0x146dd6);const _0x391269=_0x38b293['_shadowRen'+'derParams'];_0x391269['length']=-0x1676+0x6aa+-0x1*-0xfd0,_0x391269[-0x1442+0x709*0x2+0x630]=_0x38b293['_shadowRes'+'olution'],_0x391269[0x1997*-0x1+-0x1eee+0x3886]=_0x44e33c['normalBias'],_0x391269[-0x2a1*0x1+-0x126a+-0x11*-0x13d]=_0x44e33c['bias'],_0x391269[0x7*0xb5+0xdb+-0x5cb]=-0x2436+0x37*-0x51+0x359d,this['lightShado'+'wParamsId'][_0x320b62]['setValue'](_0x391269);}_0x320b62++;}return _0x320b62;}['setLTCPosi'+'tionalLigh'+'t'](_0xe6cfbf,_0x1699af){const _0x42bf42=_0xe6cfbf['transformV'+'ector'](new D(-(0x26cb+-0x1*-0xfe5+-0x7d*0x70+0.5),-0x167*-0x12+-0x1ac1+0x183,-0x17c1*-0x1+0x1b8d+0x18e*-0x21));this['lightWidth'][_0x1699af][-0x2e7*-0x4+0x110b+-0x5*0x5bb]=_0x42bf42['x'],this['lightWidth'][_0x1699af][-0x1*-0x8d5+0x65*0x41+-0x161*0x19]=_0x42bf42['y'],this['lightWidth'][_0x1699af][0xe5f+-0x16*0x18d+0x13c1]=_0x42bf42['z'],this['lightWidth'+'Id'][_0x1699af]['setValue'](this['lightWidth'][_0x1699af]);const _0x5e1370=_0xe6cfbf['transformV'+'ector'](new D(0x5*0x1d3+-0x78b+-0x194,-0x8b*0xd+0x153f+-0xe30,0x9c6*0x2+0x1057+-0x23e3+0.5));this['lightHeigh'+'t'][_0x1699af][0x2415+-0x2*-0x67e+-0x3111]=_0x5e1370['x'],this['lightHeigh'+'t'][_0x1699af][0x5b4+0xa09*0x1+0x26*-0x6a]=_0x5e1370['y'],this['lightHeigh'+'t'][_0x1699af][0x1b28+0x1a37+-0x355d]=_0x5e1370['z'],this['lightHeigh'+'tId'][_0x1699af]['setValue'](this['lightHeigh'+'t'][_0x1699af]);}['dispatchOm'+'niLight'](_0x507150,_0x5bc678,_0x46dee6){const _0x546357=_0x5bc678['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x46dee6]||this['_resolveLi'+'ght'](_0x507150,_0x46dee6),this['lightRadiu'+'sId'][_0x46dee6]['setValue'](_0x5bc678['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x46dee6]['setValue'](_0x5bc678['_colorLine'+'ar']),_0x546357['getTransla'+'tion'](_0x5bc678['_position']),this['lightPos'][_0x46dee6][-0x493+-0x21d5+0x99a*0x4]=_0x5bc678['_position']['x'],this['lightPos'][_0x46dee6][0x9*0x24d+0x17cc+-0x40*0xb2]=_0x5bc678['_position']['y'],this['lightPos'][_0x46dee6][0x185f+0xd07+-0x2564]=_0x5bc678['_position']['z'],this['lightPosId'][_0x46dee6]['setValue'](this['lightPos'][_0x46dee6]),_0x5bc678['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x546357,_0x46dee6),_0x5bc678['castShadow'+'s']){const _0x423009=_0x5bc678['getRenderD'+'ata'](null,0xde2*-0x1+-0x191*0x13+0x2ba5);this['lightShado'+'wMapId'][_0x46dee6]['setValue'](_0x423009['shadowBuff'+'er']);const _0x1e27c0=_0x5bc678['_getUnifor'+'mBiasValue'+'s'](_0x423009),_0x4daa31=_0x5bc678['_shadowRen'+'derParams'];_0x4daa31['length']=0x11cd+0x1*-0x1149+-0x80,_0x4daa31[-0x3*-0x155+-0x1*0x1db4+-0x1*-0x19b5]=_0x5bc678['_shadowRes'+'olution'],_0x4daa31[-0xb6*0x1c+0x13fb+-0x12]=_0x1e27c0['normalBias'],_0x4daa31[-0x1d5c+-0xb3b+0x223*0x13]=_0x1e27c0['bias'],_0x4daa31[0x1f*-0xdf+-0x1fe4*-0x1+-0x2*0x270]=(-0x27*-0x2b+-0x893*0x4+0x1bc0)/_0x5bc678['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x46dee6]['setValue'](_0x4daa31),this['lightShado'+'wIntensity'][_0x46dee6]['setValue'](_0x5bc678['shadowInte'+'nsity']);const _0x52cf36=_0x5bc678['penumbraSi'+'ze']/_0x423009['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x46dee6]['setValue'](_0x52cf36);const _0x302479=_0x5bc678['_shadowCam'+'eraParams'];_0x302479['length']=-0xb*-0x20b+0x9d*0x2+0x17af*-0x1,_0x302479[-0x8f3+-0x19d5+0x22c8]=0x42c*-0x8+-0x1962+-0x8a*-0x6d,_0x302479[0x15ed+-0x2691+0x10a5]=_0x423009['shadowCame'+'ra']['_farClip'],_0x302479[0x165+0xcea+-0x1*0xe4d]=_0x423009['shadowCame'+'ra']['_nearClip'],_0x302479[0x1e6b*0x1+0x1*0x17b+-0x9*0x38b]=-0x1*0xf75+-0xb5+-0x1*-0x102a,this['lightCamer'+'aParamsId'][_0x46dee6]['setValue'](_0x302479);}_0x5bc678['_cookie']&&(this['lightCooki'+'eId'][_0x46dee6]['setValue'](_0x5bc678['_cookie']),this['lightShado'+'wMatrixId'][_0x46dee6]['setValue'](_0x546357['data']),this['lightCooki'+'eIntId'][_0x46dee6]['setValue'](_0x5bc678['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x32cba1,_0x31624a,_0xaa96c6){const _0x5168c3=_0x31624a['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xaa96c6]||this['_resolveLi'+'ght'](_0x32cba1,_0xaa96c6),this['lightInAng'+'leId'][_0xaa96c6]['setValue'](_0x31624a['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0xaa96c6]['setValue'](_0x31624a['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0xaa96c6]['setValue'](_0x31624a['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0xaa96c6]['setValue'](_0x31624a['_colorLine'+'ar']),_0x5168c3['getTransla'+'tion'](_0x31624a['_position']),this['lightPos'][_0xaa96c6][0x57c*-0x2+-0xc2*0x6+-0x3*-0x52c]=_0x31624a['_position']['x'],this['lightPos'][_0xaa96c6][-0x260+-0x191c+-0x1b7d*-0x1]=_0x31624a['_position']['y'],this['lightPos'][_0xaa96c6][-0xc95*-0x3+0x4bf+-0x2a7c]=_0x31624a['_position']['z'],this['lightPosId'][_0xaa96c6]['setValue'](this['lightPos'][_0xaa96c6]),_0x31624a['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x5168c3,_0xaa96c6),_0x5168c3['getY'](_0x31624a['_direction'])['mulScalar'](-(0x7ca+-0xfd6+0x80d)),_0x31624a['_direction']['normalize'](),this['lightDir'][_0xaa96c6][-0x517*0x5+-0xb44+0x24b7]=_0x31624a['_direction']['x'],this['lightDir'][_0xaa96c6][0x1128+0xede*-0x2+0xc95]=_0x31624a['_direction']['y'],this['lightDir'][_0xaa96c6][-0x131b+0x665*0x6+-0x1341]=_0x31624a['_direction']['z'],this['lightDirId'][_0xaa96c6]['setValue'](this['lightDir'][_0xaa96c6]),_0x31624a['castShadow'+'s']){const _0x1e857c=_0x31624a['getRenderD'+'ata'](null,-0x15ff+0x52*-0x1c+0x1ef7*0x1);this['lightShado'+'wMapId'][_0xaa96c6]['setValue'](_0x1e857c['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0xaa96c6]['setValue'](_0x1e857c['shadowMatr'+'ix']['data']);const _0x1b8c3e=_0x31624a['_getUnifor'+'mBiasValue'+'s'](_0x1e857c),_0x287a76=_0x31624a['_shadowRen'+'derParams'];_0x287a76['length']=-0x335*-0x5+0x224f+0x4*-0xc95,_0x287a76[0xee1*-0x1+0x1c5+0xd1c]=_0x31624a['_shadowRes'+'olution'],_0x287a76[0x2114+0xa7*0x2b+0x7a4*-0x8]=_0x1b8c3e['normalBias'],_0x287a76[0x115c+0x6*0x289+-0x209*0x10]=_0x1b8c3e['bias'],_0x287a76[0x3*-0x1c6+0x8f5+-0x3a0]=(0x6c*-0x1f+-0xf7+0x1*0xe0c)/_0x31624a['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0xaa96c6]['setValue'](_0x287a76),this['lightShado'+'wIntensity'][_0xaa96c6]['setValue'](_0x31624a['shadowInte'+'nsity']);const _0x4535e6=_0x31624a['penumbraSi'+'ze']/_0x1e857c['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x2eb563=_0x1e857c['shadowCame'+'ra']['_fov']*Math['PI']/(-0x289+0x5f7+-0x2ba),_0x234937=(0xb5*-0x15+-0x512*-0x6+-0xf92)/Math['tan'](_0x2eb563/(-0x9e3+-0x7da+0x11bf));this['lightShado'+'wSearchAre'+'aId'][_0xaa96c6]['setValue'](_0x4535e6*_0x234937);const _0x2ce846=_0x31624a['_shadowCam'+'eraParams'];_0x2ce846['length']=0x12c8+0x63*0x4+0x28*-0x82,_0x2ce846[-0x6c1+-0x1d02+0x23c3]=-0x17*-0x55+-0x1af9*-0x1+-0x6ec*0x5,_0x2ce846[0x11*-0x5c+0x2410+0x1*-0x1df3]=_0x1e857c['shadowCame'+'ra']['_farClip'],_0x2ce846[0x26ce+0xd85+-0x3451]=_0x1e857c['shadowCame'+'ra']['_nearClip'],_0x2ce846[-0x4a7+-0x13*-0x49+-0xc1]=-0xcd*-0x2f+0x1478+-0x3a1b,this['lightCamer'+'aParamsId'][_0xaa96c6]['setValue'](_0x2ce846);}if(_0x31624a['_cookie']){if(!_0x31624a['castShadow'+'s']){const _0x38e773=Wn['evalSpotCo'+'okieMatrix'](_0x31624a);this['lightShado'+'wMatrixId'][_0xaa96c6]['setValue'](_0x38e773['data']);}this['lightCooki'+'eId'][_0xaa96c6]['setValue'](_0x31624a['_cookie']),this['lightCooki'+'eIntId'][_0xaa96c6]['setValue'](_0x31624a['cookieInte'+'nsity']),_0x31624a['_cookieTra'+'nsform']&&(_0x31624a['_cookieTra'+'nsformUnif'+'orm'][0xf43+0x160d*-0x1+-0x365*-0x2]=_0x31624a['_cookieTra'+'nsform']['x'],_0x31624a['_cookieTra'+'nsformUnif'+'orm'][-0x1aab+0xe9c+-0x10*-0xc1]=_0x31624a['_cookieTra'+'nsform']['y'],_0x31624a['_cookieTra'+'nsformUnif'+'orm'][-0x4*0x790+0x1*-0x19cf+0x1cf*0x1f]=_0x31624a['_cookieTra'+'nsform']['z'],_0x31624a['_cookieTra'+'nsformUnif'+'orm'][0x4c*-0x59+-0xd*-0x16f+0x3e6*0x2]=_0x31624a['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0xaa96c6]['setValue'](_0x31624a['_cookieTra'+'nsformUnif'+'orm']),_0x31624a['_cookieOff'+'setUniform'][0x3b*-0x10+0x45*0x59+-0x144d]=_0x31624a['_cookieOff'+'set']['x'],_0x31624a['_cookieOff'+'setUniform'][-0xe6*0x11+-0x140d+-0x44*-0x85]=_0x31624a['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0xaa96c6]['setValue'](_0x31624a['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x4d0b44,_0x2cbbaf,_0x50db79){let _0x21b799=_0x50db79;const _0x867ad0=this['device']['scope'],_0x575025=_0x4d0b44[Ke],_0x41150c=_0x575025['length'];for(let _0x56c907=0x1235+-0xdf1+-0x444;_0x56c907<_0x41150c;_0x56c907++){const _0x44af4a=_0x575025[_0x56c907];_0x44af4a['mask']&_0x2cbbaf&&(this['dispatchOm'+'niLight'](_0x867ad0,_0x44af4a,_0x21b799),_0x21b799++);}const _0x4aaf77=_0x4d0b44[Ze],_0x36a665=_0x4aaf77['length'];for(let _0x1df58e=-0x1878+-0x17*-0x162+0x2*-0x3ab;_0x1df58e<_0x36a665;_0x1df58e++){const _0x4da24d=_0x4aaf77[_0x1df58e];_0x4da24d['mask']&_0x2cbbaf&&(this['dispatchSp'+'otLight'](_0x867ad0,_0x4da24d,_0x21b799),_0x21b799++);}}['renderForw'+'ardPrepare'+'Materials'](_0x587d3e,_0xa8a9de,_0x19737f,_0x16f479,_0x60a815,_0x13eeb5){const _0x26961e=_0x587d3e['fogParams']??this['scene']['fog'],_0x1b9180=_0x587d3e['shaderPara'+'ms'];_0x1b9180['fog']=_0x26961e['type'],_0x1b9180['srgbRender'+'Target']=(_0xa8a9de==null?void(-0x1d31+-0x1*0x20a5+0x2*0x1eeb):_0xa8a9de['isColorBuf'+'ferSrgb'](-0x5*-0x266+-0x34*-0x52+-0x1*0x1ca6))??!(0x781+-0x421+-0x35f);const _0x35c125=(_0x2a3595,_0x53ad12,_0x4bc646,_0x4b6a8e)=>{Nr['drawCalls']['push'](_0x2a3595),Nr['shaderInst'+'ances']['push'](_0x53ad12),Nr['isNewMater'+'ial']['push'](_0x4bc646),Nr['lightMaskC'+'hanged']['push'](_0x4b6a8e);};Nr['clear']();const _0x39524b=this['device'],_0x5a8c77=this['scene'],_0xfc7ecf=_0x5a8c77['clusteredL'+'ightingEna'+'bled'],_0x40f487=(_0x60a815==null?void(0x1272*-0x1+0x16d2+-0x460):_0x60a815['getLightHa'+'sh'](_0xfc7ecf))??0x11*0x46+0x2b*-0x42+0x670;let _0x457b00=null,_0x1ba724,_0x591dd1;const _0x3c4bb7=_0x19737f['length'];for(let _0x38c2e1=-0x1b47*-0x1+-0x2448+0x901;_0x38c2e1<_0x3c4bb7;_0x38c2e1++){const _0x328774=_0x19737f[_0x38c2e1];if(_0x587d3e===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x60a815){if(_0x60a815['_skipRende'+'rCounter']>=_0x60a815['skipRender'+'After'])continue;_0x60a815['_skipRende'+'rCounter']++;}const _0x370ce1=_0x328774['instancing'+'Data'];if(_0x370ce1&&_0x370ce1['count']<=0x1bc4+-0x1bb9+0xb*-0x1)continue;_0x328774['ensureMate'+'rial'](_0x39524b);const _0x3dcec0=_0x328774['material'],_0x547f73=_0x328774['_shaderDef'+'s'],_0x26fd2a=_0x328774['mask'];_0x3dcec0&&_0x3dcec0===_0x457b00&&_0x547f73!==_0x1ba724&&(_0x457b00=null),_0x3dcec0!==_0x457b00&&(this['_materialS'+'witches']++,_0x3dcec0['_scene']=_0x5a8c77,_0x3dcec0['dirty']&&(Q['pushGpuMar'+'ker'](_0x39524b,'Node:\x20'+_0x328774['node']['name']+(',\x20Material'+':\x20')+_0x3dcec0['name']),_0x3dcec0['updateUnif'+'orms'](_0x39524b,_0x5a8c77),_0x3dcec0['dirty']=!(0xd88+-0x3e4+-0x9a3),Q['popGpuMark'+'er'](_0x39524b)));const _0x26ab84=_0x328774['getShaderI'+'nstance'](_0x13eeb5,_0x40f487,_0x5a8c77,_0x1b9180,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x16f479);_0x35c125(_0x328774,_0x26ab84,_0x3dcec0!==_0x457b00,!_0x457b00||_0x26fd2a!==_0x591dd1),_0x457b00=_0x3dcec0,_0x1ba724=_0x547f73,_0x591dd1=_0x26fd2a;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x3a4af7,_0x31d219,_0x38aed0,_0x5b2a73,_0x1bc1b8,_0x27c495,_0x53983d){var _0x193e8f,_0x4fdaa2;const _0x5e632a=this['device'],_0x43b324=this['scene'],_0x4420a8=-0x3*0x691+-0x1c96+0x304a<<_0x5b2a73,_0x42e70b=_0x27c495?-(-0x13e0+0x1d8a*0x1+-0x9a9*0x1):-0x2073+-0x2373+0x43e7,_0x1883e0=_0x43b324['clusteredL'+'ightingEna'+'bled'],_0x1be389=(_0x193e8f=_0x3a4af7['xr'])!=null&&_0x193e8f['session']&&_0x3a4af7['xr']['views']['list']['length']?_0x3a4af7['xr']['views']['list']:null,_0x41504d=_0x31d219['drawCalls']['length'];for(let _0x503be6=0x1*-0x98b+0x3*-0x687+-0x3a4*-0x8;_0x503be6<_0x41504d;_0x503be6++){const _0xc3334e=_0x31d219['drawCalls'][_0x503be6],_0x35bb98=_0x31d219['isNewMater'+'ial'][_0x503be6],_0x574304=_0x31d219['lightMaskC'+'hanged'][_0x503be6],_0x273a7e=_0x31d219['shaderInst'+'ances'][_0x503be6],_0x194da8=_0xc3334e['material'],_0x1272bf=_0xc3334e['mask'];if(_0x273a7e['shader']['failed'])continue;if(_0x35bb98){if(_0x5e632a['setShader'](_0x273a7e['shader'],!(-0xef+0x82*-0x5+0x5*0xb2)),_0x194da8['setParamet'+'ers'](_0x5e632a),_0x574304){const _0x4099cd=this['dispatchDi'+'rectLights'](_0x38aed0[ve],_0x1272bf,_0x3a4af7);_0x1883e0||this['dispatchLo'+'calLights'](_0x38aed0,_0x1272bf,_0x4099cd);}this['alphaTestI'+'d']['setValue'](_0x194da8['alphaTest']),_0x5e632a['setBlendSt'+'ate'](_0x194da8['blendState']),_0x5e632a['setDepthSt'+'ate'](_0x194da8['depthState']),_0x5e632a['setAlphaTo'+'Coverage'](_0x194da8['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x5e632a,'Node:\x20'+_0xc3334e['node']['name']+(',\x20Material'+':\x20')+_0x194da8['name']),this['setupCullM'+'ode'](_0x3a4af7['_cullFaces'],_0x42e70b,_0xc3334e);const _0x3434bd=_0xc3334e['stencilFro'+'nt']??_0x194da8['stencilFro'+'nt'],_0x5547b9=_0xc3334e['stencilBac'+'k']??_0x194da8['stencilBac'+'k'];_0x5e632a['setStencil'+'State'](_0x3434bd,_0x5547b9),_0xc3334e['setParamet'+'ers'](_0x5e632a,_0x4420a8),_0x5e632a['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xc3334e['id']);const _0x22071f=_0xc3334e['mesh'];this['setVertexB'+'uffers'](_0x5e632a,_0x22071f),this['setMorphin'+'g'](_0x5e632a,_0xc3334e['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5e632a,_0xc3334e);const _0x341b12=_0xc3334e['instancing'+'Data'];_0x341b12&&_0x5e632a['setVertexB'+'uffer'](_0x341b12['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0xc3334e,!(0xef*0x20+-0x835+-0x15ab)),this['setupMeshU'+'niformBuff'+'ers'](_0x273a7e);const _0x375944=_0xc3334e['renderStyl'+'e'],_0x5979ed=_0x22071f['indexBuffe'+'r'][_0x375944];_0x1bc1b8==null||_0x1bc1b8(_0xc3334e,_0x503be6);const _0x209c73=(_0x4fdaa2=_0xc3334e['indirectDa'+'ta'])==null?void(0x2121+-0x192a*0x1+-0x7f7):_0x4fdaa2['get'](_0x3a4af7);if(_0x1be389)for(let _0x32ac37=-0xf2*0x13+-0xa3*0x9+0x17b1;_0x32ac37<_0x1be389['length'];_0x32ac37++){const _0x40fb57=_0x1be389[_0x32ac37];if(_0x5e632a['setViewpor'+'t'](_0x40fb57['viewport']['x'],_0x40fb57['viewport']['y'],_0x40fb57['viewport']['z'],_0x40fb57['viewport']['w']),_0x5e632a['supportsUn'+'iformBuffe'+'rs']){const _0xa7b0f6=_0x53983d[_0x32ac37];_0x5e632a['setBindGro'+'up'](rl,_0xa7b0f6);}else this['setupViewU'+'niforms'](_0x40fb57,_0x32ac37);const _0x1fd73d=_0x32ac37===0x1605+0x191a+-0xfb5*0x3,_0x368232=_0x32ac37===_0x1be389['length']-(-0x2188+0x454+-0x1d35*-0x1);_0x5e632a['draw'](_0x22071f['primitive'][_0x375944],_0x5979ed,_0x341b12==null?void(0x8a8+-0x2076+0x17ce):_0x341b12['count'],_0x209c73,_0x1fd73d,_0x368232),this['_forwardDr'+'awCalls']++,_0xc3334e['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x5e632a['draw'](_0x22071f['primitive'][_0x375944],_0x5979ed,_0x341b12==null?void(0x54d+0xb9f+-0x10ec):_0x341b12['count'],_0x209c73),this['_forwardDr'+'awCalls']++,_0xc3334e['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x503be6<_0x41504d-(-0xfa0+-0xfad*0x1+-0x2*-0xfa7)&&!_0x31d219['isNewMater'+'ial'][_0x503be6+(-0x1134+0x4a+0x10eb)]&&_0x194da8['setParamet'+'ers'](_0x5e632a,_0xc3334e['parameters']),Q['popGpuMark'+'er'](_0x5e632a);}}['renderForw'+'ard'](_0x34c010,_0x51b9c4,_0x443a56,_0x439106,_0x3c9fbd,_0x35edfe,_0x2a3f12,_0x1b3be5,_0x1b615e){const _0x11e233=de(),_0x4f0cba=this['renderForw'+'ardPrepare'+'Materials'](_0x34c010,_0x51b9c4,_0x443a56,_0x439106,_0x2a3f12,_0x3c9fbd);this['renderForw'+'ardInterna'+'l'](_0x34c010,_0x4f0cba,_0x439106,_0x3c9fbd,_0x35edfe,_0x1b3be5,_0x1b615e),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x11e233;}['renderForw'+'ardLayer'](_0x24265b,_0x232629,_0x553938,_0x543bc7,_0x3a5fdf,_0x1204c9,_0x2c95f0={}){const {scene:_0x7edb9e,device:_0x2d6ba1}=this,_0x27b25c=_0x7edb9e['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x24265b,_0x232629);let _0x5d6ff8,_0x32d50c;if(_0x553938){const _0x24b590=de();_0x553938['sortVisibl'+'e'](_0x24265b,_0x543bc7),this['_sortTime']+=de()-_0x24b590;const _0x209645=_0x553938['getCulledI'+'nstances'](_0x24265b);_0x5d6ff8=_0x543bc7?_0x209645['transparen'+'t']:_0x209645['opaque'],_0x7edb9e['immediate']['onPreRende'+'rLayer'](_0x553938,_0x5d6ff8,_0x543bc7),_0x553938['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x7edb9e['ambientLig'+'ht'],_0x553938['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x32d50c=_0x553938['splitLight'+'s'];}else _0x5d6ff8=_0x2c95f0['meshInstan'+'ces'],_0x32d50c=_0x2c95f0['splitLight'+'s']??Qb;if(w['assert'](_0x5d6ff8,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x27b25c){const _0x43f551=_0x2c95f0['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x43f551['activate'](),_0x553938&&!this['clustersDe'+'bugRendere'+'d']&&_0x7edb9e['lighting']['debugLayer']===_0x553938['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x14e*0x1d+0xd9b+-0x3371),hu['render'](_0x43f551,this['scene']));}_0x7edb9e['_activeCam'+'era']=_0x24265b;const _0x54608c=_0x24265b['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x54608c);const _0x51250b=this['setCameraU'+'niforms'](_0x24265b,_0x232629);_0x2d6ba1['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x1204c9,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x51250b);const _0x50ac5c=_0x2c95f0['clearColor']??!(-0x2*0xaca+-0x3*-0xfa+0xbf*0x19),_0x2b6e30=_0x2c95f0['clearDepth']??!(-0x1a8e+0x111a+-0x327*-0x3),_0x3c7371=_0x2c95f0['clearStenc'+'il']??!(-0x16d9+-0x39*0x94+0x1be7*0x2);(_0x50ac5c||_0x2b6e30||_0x3c7371)&&this['clear'](_0x24265b,_0x50ac5c,_0x2b6e30,_0x3c7371);const _0x1475f0=!!(_0x24265b['_flipFaces']^(_0x232629==null?void(-0x1*0x967+-0x14e+0xab5):_0x232629['flipY'])),_0x48e028=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x24265b,_0x232629,_0x5d6ff8,_0x32d50c,_0x3a5fdf,null,_0x553938,_0x1475f0,_0x1204c9),_0x553938&&(_0x553938['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x48e028);}['setFogCons'+'tants'](_0x215449){if(_0x215449['type']!==Kn){or['linear'](_0x215449['color']);const _0x11ffad=this['fogColor'];_0x11ffad[-0x1707+-0xf9b*-0x2+-0x82f*0x1]=or['r'],_0x11ffad[-0x2683+-0x5*-0x391+-0x161*-0xf]=or['g'],_0x11ffad[-0x41d+-0x15c7*0x1+0x19e6]=or['b'],this['fogColorId']['setValue'](_0x11ffad),_0x215449['type']===Iw?(this['fogStartId']['setValue'](_0x215449['start']),this['fogEndId']['setValue'](_0x215449['end'])):this['fogDensity'+'Id']['setValue'](_0x215449['density']);}}['setSceneCo'+'nstants'](){const _0x298687=this['scene'];this['dispatchGl'+'obalLights'](_0x298687);const _0x2765ed=this['device'];this['_screenSiz'+'e'][0x1124+0x1*0x1c1a+-0x2d3e]=_0x2765ed['width'],this['_screenSiz'+'e'][0x1f55+-0xf66+-0xfee]=_0x2765ed['height'],this['_screenSiz'+'e'][0x1ae9+0x1e53+0x2*-0x1c9d]=(0x48*-0x3b+0xc12+0x487)/_0x2765ed['width'],this['_screenSiz'+'e'][-0x2025*-0x1+-0x1a14+-0x60e]=(-0x1*-0x1dcf+-0x3*-0x359+0x65*-0x65)/_0x2765ed['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0xeada6f,_0x28e00f){const _0x56ba07=this['scene'];if(_0xeada6f['reset'](),_0x56ba07['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x340b2e,cookiesEnabled:_0x32d19a}=_0x56ba07['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0xeada6f,_0x340b2e,_0x32d19a,this['lights'],this['localLight'+'s']),_0xeada6f['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0xeada6f,this['localLight'+'s']);let _0xa65640=0x1060+-0xf8d+0x1*-0xd3,_0x50dcf0=!(0x1f3*-0x5+0x71d*-0x2+0x17f9),_0x2abe18=null;const _0x2d7d6c=_0x28e00f['_renderAct'+'ions'];for(let _0x21326a=_0xa65640;_0x21326a<_0x2d7d6c['length'];_0x21326a++){const _0x2dcf9e=_0x2d7d6c[_0x21326a],{layer:_0x3a0b02,camera:_0x28f9d7}=_0x2dcf9e;if(_0x2dcf9e['useCameraP'+'asses'])w['call'](()=>{_0x28f9d7['postEffect'+'s']['effects']['length']>0x473+-0x5*-0x12e+-0xa59&&w['warnOnce']('Camera\x20\x27'+_0x28f9d7['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x28f9d7['camera']['renderPass'+'es']['forEach'](_0x557fbd=>{_0xeada6f['addRenderP'+'ass'](_0x557fbd);});else{const _0x53b4fe=_0x3a0b02['id']===ps,_0x58d671=_0x53b4fe&&(_0x28f9d7['renderScen'+'eColorMap']||_0x28f9d7['renderScen'+'eDepthMap']);_0x50dcf0&&(_0x50dcf0=!(-0x1*-0x5e7+-0x1593+0xfad),_0xa65640=_0x21326a,_0x2abe18=_0x2dcf9e['renderTarg'+'et']);const _0x5f2cfd=_0x2d7d6c[_0x21326a+(-0xb56+-0x1*0xe33+-0xcc5*-0x2)],_0x5c1a3f=(_0x5f2cfd?!_0x5f2cfd['useCameraP'+'asses']&&_0x5f2cfd['layer']['id']===ps:!(-0x6*0x266+-0x94c*0x3+-0x5*-0x875))&&(_0x28f9d7['renderScen'+'eColorMap']||_0x28f9d7['renderScen'+'eDepthMap']),_0x4e66d5=_0x5f2cfd?_0x5f2cfd['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x5f2cfd['camera']['camera']):!(0x9b*-0x22+-0x15ca+0x2a61);if(!_0x5f2cfd||_0x5f2cfd['renderTarg'+'et']!==_0x2abe18||_0x4e66d5||_0x5c1a3f||_0x58d671){if(_0x53b4fe&&_0xa65640===_0x21326a||this['addMainRen'+'derPass'](_0xeada6f,_0x28e00f,_0x2abe18,_0xa65640,_0x21326a),_0x53b4fe){if(_0x28f9d7['renderScen'+'eColorMap']){const _0xf97932=_0x28f9d7['camera']['renderPass'+'ColorGrab'];_0xf97932['source']=_0x28f9d7['renderTarg'+'et'],_0xeada6f['addRenderP'+'ass'](_0xf97932);}_0x28f9d7['renderScen'+'eDepthMap']&&_0xeada6f['addRenderP'+'ass'](_0x28f9d7['camera']['renderPass'+'DepthGrab']);}if(_0x2dcf9e['triggerPos'+'tprocess']&&(_0x28f9d7!=null&&_0x28f9d7['onPostproc'+'essing'])){const _0x4d1a46=new Zb(this['device'],this,_0x2dcf9e);_0xeada6f['addRenderP'+'ass'](_0x4d1a46);}_0x50dcf0=!(-0x9c8+-0x1*0xa5e+0x1426);}}}}['addMainRen'+'derPass'](_0x531704,_0x31315a,_0x46055b,_0x360446,_0x2b6fd7){const _0x20c206=new Kb(this['device'],_0x31315a,this['scene'],this);_0x20c206['init'](_0x46055b);const _0xbd37f6=_0x31315a['_renderAct'+'ions'];for(let _0x1588da=_0x360446;_0x1588da<=_0x2b6fd7;_0x1588da++)_0x20c206['addRenderA'+'ction'](_0xbd37f6[_0x1588da]);_0x531704['addRenderP'+'ass'](_0x20c206);}['update'](_0x4f1282){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x4f1282),this['collectLig'+'hts'](_0x4f1282),this['beginFrame'](_0x4f1282),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x4f1282),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x3*0xb8d+-0x180b+-0xa9c),h(Ni,'skipRender'+'After',-0x22ba+-0x26c*-0xb+0x816);let fl=Ni,uf=0x1493+-0x1c*0x6a+-0x8fb;const co=[],hc=new Set();function tA(_0x588832,_0x3ffc10){return _0x588832['drawOrder']-_0x3ffc10['drawOrder'];}function sA(_0x47a34f,_0x196bc4){const _0x446dac=_0x47a34f['_sortKeyFo'+'rward'],_0x31bcd1=_0x196bc4['_sortKeyFo'+'rward'];return _0x446dac===_0x31bcd1?_0x196bc4['mesh']['id']-_0x47a34f['mesh']['id']:_0x31bcd1-_0x446dac;}function iA(_0x19e495,_0x3462a4){return _0x3462a4['_sortKeyDy'+'namic']-_0x19e495['_sortKeyDy'+'namic'];}function rA(_0x22ed8b,_0x95e60b){return _0x22ed8b['_sortKeyDy'+'namic']-_0x95e60b['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x4d3d4b={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x1bdf+-0x156d+0x9dc*0x5)),h(this,'requiresLi'+'ghtCube',!(-0x2*0xe61+-0x2644+-0x1*-0x4307)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0x25bf+0x7f9*0x1+0xb*0x2b5)),(_0x4d3d4b['id']!==void(-0xc1*0x11+0x231d+-0x2*0xb26)?(this['id']=_0x4d3d4b['id'],uf=Math['max'](this['id']+(0x8b6+-0xe*-0x5b+-0xdaf*0x1),uf)):this['id']=uf++,this['name']=_0x4d3d4b['name'],this['_enabled']=_0x4d3d4b['enabled']??!(-0x1*0x2345+-0x2125+-0x2a*-0x1a1),this['_refCounte'+'r']=this['_enabled']?-0x218+0x1623+-0x10e*0x13:0xc2*-0x11+0x1c3e+-0xf5c,this['opaqueSort'+'Mode']=_0x4d3d4b['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x4d3d4b['transparen'+'tSortMode']??m_,_0x4d3d4b['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x4d3d4b['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x4d3d4b['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x4d3d4b['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x4d3d4b['clearStenc'+'ilBuffer'],this['onEnable']=_0x4d3d4b['onEnable'],this['onDisable']=_0x4d3d4b['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x118*-0xd+0x1f6a+-0x1132,this['_lightHash'+'Dirty']=!(-0x1*-0x1af+-0x2*-0x1067+-0x227c),this['_lightIdHa'+'sh']=-0x12f*0x20+0x12ab+-0x1335*-0x1,this['_lightIdHa'+'shDirty']=!(0x222d+-0x1510+-0xd1c),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0xe*0x15c+-0x11*-0x197+-0x1*0x7ff,this['_renderTim'+'e']=0x1*-0x1e95+0x327+0xdb7*0x2,this['_forwardDr'+'awCalls']=0xa73+-0x2b9+-0x7ba,this['_shadowDra'+'wCalls']=-0x26a4+-0x2*0x1089+0x47b6,this['_shaderVer'+'sion']=-(0xeb8+-0x24ec+0x5*0x471));}set['enabled'](_0x20b81e){_0x20b81e!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x1a15+0x7*0x32d+0x3da),this['_enabled']=_0x20b81e,_0x20b81e?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x46b710){this['_clearColo'+'rBuffer']=_0x46b710,this['_dirtyComp'+'osition']=!(0x1d3f*0x1+-0x24a+-0x43*0x67);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x495086){this['_clearDept'+'hBuffer']=_0x495086,this['_dirtyComp'+'osition']=!(-0x1b6+0x23c2+0x220c*-0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x10374c){this['_clearSten'+'cilBuffer']=_0x10374c,this['_dirtyComp'+'osition']=!(-0x1c31+0x1*-0x835+-0x1*-0x2466);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x4fd+0x1891+-0x1d8e;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x247d+-0xf*-0x1ec+0x2d7*-0x17&&(this['_enabled']=!(-0x14c4*-0x1+0x5fb+-0x1*0x1abf),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x4*0x751+0x97d*0x4+0x1*-0x4337)this['_enabled']=!(0x1fad+0xbdd*-0x1+-0x13cf),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x2*0x41f+-0x1d71+0x1533){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x33aa9c,_0x14c2c5){const _0x584c78=this['meshInstan'+'ces'],_0x563dac=this['meshInstan'+'cesSet'];for(let _0x50055a=0x1b3f*-0x1+-0x11b*-0x1+-0x3bc*-0x7;_0x50055a<_0x33aa9c['length'];_0x50055a++){const _0x350437=_0x33aa9c[_0x50055a];_0x563dac['has'](_0x350437)||(_0x584c78['push'](_0x350437),_0x563dac['add'](_0x350437),hc['add'](_0x350437['material']));}if(_0x14c2c5||this['addShadowC'+'asters'](_0x33aa9c),hc['size']>0x4c*-0x7+-0x5*-0x658+-0x1da4){const _0x2613ff=this['_shaderVer'+'sion'];hc['forEach'](_0x59a714=>{_0x2613ff>=0xc2f*-0x1+0x9*0x3d7+0x598*-0x4&&_0x59a714['_shaderVer'+'sion']!==_0x2613ff&&(_0x59a714['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x59a714['clearVaria'+'nts'](),_0x59a714['_shaderVer'+'sion']=_0x2613ff);}),hc['clear']();}}['removeMesh'+'Instances'](_0x4a7e8f,_0x5539ce){const _0x453e6e=this['meshInstan'+'ces'],_0x2fd81e=this['meshInstan'+'cesSet'];for(let _0x333f6b=-0xe1+0x3a*-0x4f+-0x12c7*-0x1;_0x333f6b<_0x4a7e8f['length'];_0x333f6b++){const _0x332da4=_0x4a7e8f[_0x333f6b];if(_0x2fd81e['has'](_0x332da4)){_0x2fd81e['delete'](_0x332da4);const _0x420a69=_0x453e6e['indexOf'](_0x332da4);_0x420a69>=0x104c+0x5c2+-0x160e&&_0x453e6e['splice'](_0x420a69,-0x1e9e+-0x25*0x10d+0x4580);}}_0x5539ce||this['removeShad'+'owCasters'](_0x4a7e8f);}['addShadowC'+'asters'](_0x27d8ad){const _0x339d01=this['shadowCast'+'ers'],_0x98438d=this['shadowCast'+'ersSet'];for(let _0x575b02=-0x2*-0xb59+-0x2251+-0x1*-0xb9f;_0x575b02<_0x27d8ad['length'];_0x575b02++){const _0x58d3ce=_0x27d8ad[_0x575b02];_0x58d3ce['castShadow']&&!_0x98438d['has'](_0x58d3ce)&&(_0x98438d['add'](_0x58d3ce),_0x339d01['push'](_0x58d3ce));}}['removeShad'+'owCasters'](_0x3ae47e){const _0x1965bb=this['shadowCast'+'ers'],_0x24ad24=this['shadowCast'+'ersSet'];for(let _0x455dd4=0x3b*0x71+0x9*0x38f+-0x3a12;_0x455dd4<_0x3ae47e['length'];_0x455dd4++){const _0x427d63=_0x3ae47e[_0x455dd4];if(_0x24ad24['has'](_0x427d63)){_0x24ad24['delete'](_0x427d63);const _0x29d80d=_0x1965bb['indexOf'](_0x427d63);_0x29d80d>=-0x4b+0x15d3+-0x1588&&_0x1965bb['splice'](_0x29d80d,0x1c90+0x2*0x1b+-0x1cc5);}}}['clearMeshI'+'nstances'](_0x4f6650=!(-0x1*-0x109b+-0x7b3+-0x8e7)){this['meshInstan'+'ces']['length']=-0x10*-0x242+0x1*-0xa7b+-0x19a5,this['meshInstan'+'cesSet']['clear'](),_0x4f6650||(this['shadowCast'+'ers']['length']=-0xc5*0xd+-0x7f*-0x35+0x3*-0x56e,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0xb5b+-0xa78+0xe3*-0x1),this['_lightIdHa'+'shDirty']=!(-0x9*0x323+-0x1e*-0x1b+0x1911),this['_splitLigh'+'tsDirty']=!(-0xe4b+0x2387+-0x153c);}['hasLight'](_0x31ee96){return this['_lightsSet']['has'](_0x31ee96);}['addLight'](_0x2c33c8){const _0x470121=_0x2c33c8['light'];this['_lightsSet']['has'](_0x470121)||(this['_lightsSet']['add'](_0x470121),this['_lights']['push'](_0x470121),this['markLights'+'Dirty']()),_0x470121['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x470121);}['removeLigh'+'t'](_0x37741d){const _0x7e9259=_0x37741d['light'];this['_lightsSet']['has'](_0x7e9259)&&(this['_lightsSet']['delete'](_0x7e9259),this['_lights']['splice'](this['_lights']['indexOf'](_0x7e9259),0x8b8+0x12cf+-0x1*0x1b86),this['markLights'+'Dirty']()),_0x7e9259['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x7e9259);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x2aba60=>_0x2aba60['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x2b*0xbf+-0x1c18+0x3c2d,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1f*-0x1d+0x25*0x10d+-0x2a63);const _0x5d16a7=this['_splitLigh'+'ts'];for(let _0x582150=-0x33+-0x8*0x3ec+-0x1f93*-0x1;_0x582150<_0x5d16a7['length'];_0x582150++)_0x5d16a7[_0x582150]['length']=0x66*0x25+-0xe04+-0x2*0x5d;const _0x15a9f7=this['_lights'];for(let _0x5172eb=-0xa6b+-0x1852+0x1*0x22bd;_0x5172eb<_0x15a9f7['length'];_0x5172eb++){const _0x2aae37=_0x15a9f7[_0x5172eb];_0x2aae37['enabled']&&_0x5d16a7[_0x2aae37['_type']]['push'](_0x2aae37);}for(let _0xde1ed3=-0x2519*-0x1+-0x1816+-0xd03;_0xde1ed3<_0x5d16a7['length'];_0xde1ed3++)_0x5d16a7[_0xde1ed3]['sort']((_0x5a85c9,_0x391a9a)=>_0x5a85c9['key']-_0x391a9a['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x55133d,_0x14cc88,_0x358729){let _0x23fd36=-0x251*0x1+0x294+0x43*-0x1;const _0x55bff8=this['_lights'];for(let _0x2bb3fd=0x4*0x191+-0x1dc*-0x8+-0x1524;_0x2bb3fd<_0x55bff8['length'];_0x2bb3fd++){const _0x7603c6=_0x55bff8[_0x2bb3fd]['type']!==ve;(_0x55133d&&_0x7603c6||_0x14cc88&&!_0x7603c6)&&co['push'](_0x358729?_0x55bff8[_0x2bb3fd]['id']:_0x55bff8[_0x2bb3fd]['key']);}return co['length']>-0x1f76*-0x1+-0x1*-0x13c7+-0x333d&&(co['sort'](),_0x23fd36=By(co),co['length']=0x1*-0x7f9+-0x449+0xc42),_0x23fd36;}['getLightHa'+'sh'](_0x48a3b0){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x11*-0xca+-0x137e+0x615),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x48a3b0,!(0x1592+-0x1fd7*0x1+0xa45),!(0xa4d+-0x1b09+0x1*0x10bd))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x1d71+0x4*-0x5b7+-0x694),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x25c7+-0x2404+-0x1c3),!(-0xf83+0x113f+-0x1bb),!(0x2*0xa88+0x25c5*-0x1+-0x7*-0x263))),this['_lightIdHa'+'sh'];}['addCamera'](_0x982a94){this['camerasSet']['has'](_0x982a94['camera'])||(this['camerasSet']['add'](_0x982a94['camera']),this['cameras']['push'](_0x982a94),this['_dirtyComp'+'osition']=!(0x1782+0x22a*-0x7+-0x42e*0x2));}['removeCame'+'ra'](_0x409ef1){if(this['camerasSet']['has'](_0x409ef1['camera'])){this['camerasSet']['delete'](_0x409ef1['camera']);const _0x3df276=this['cameras']['indexOf'](_0x409ef1);this['cameras']['splice'](_0x3df276,-0x1*0x188f+-0x1cbb*0x1+0x354b),this['_dirtyComp'+'osition']=!(0x2672+0xb5a+-0x31cc);}}['clearCamer'+'as'](){this['cameras']['length']=0x72d*-0x3+-0x1*0x2653+-0x2*-0x1ded,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x2238+0x3b7*-0x3+-0x1713);}['_calculate'+'SortDistan'+'ces'](_0x396d37,_0x3b4422,_0x4430c1){const _0x56d2e2=_0x396d37['length'],{x:_0x466e74,y:_0x4993b6,z:_0x36e83a}=_0x3b4422,{x:_0x3cfc64,y:_0x2e8abd,z:_0x4a74cb}=_0x4430c1;for(let _0x425380=-0x1d*0xa4+0x5c9+0xccb;_0x425380<_0x56d2e2;_0x425380++){const _0x2b91b6=_0x396d37[_0x425380];let _0xf4b382;if(_0x2b91b6['calculateS'+'ortDistanc'+'e'])_0xf4b382=_0x2b91b6['calculateS'+'ortDistanc'+'e'](_0x2b91b6,_0x3b4422,_0x4430c1);else{const _0x3fbee1=_0x2b91b6['aabb']['center'];_0xf4b382=(_0x3fbee1['x']-_0x466e74)*_0x3cfc64+(_0x3fbee1['y']-_0x4993b6)*_0x2e8abd+(_0x3fbee1['z']-_0x36e83a)*_0x4a74cb;}const _0x5e2166=_0x2b91b6['_drawBucke'+'t']*(-0x47e*0xafb25+0x1544cf6c*0x5+0x296ed1a);_0x2b91b6['_sortKeyDy'+'namic']=_0x5e2166+_0xf4b382;}}['getCulledI'+'nstances'](_0x470c87){let _0xccd0e4=this['_visibleIn'+'stances']['get'](_0x470c87);return _0xccd0e4||(_0xccd0e4=new nA(),this['_visibleIn'+'stances']['set'](_0x470c87,_0xccd0e4)),_0xccd0e4;}['sortVisibl'+'e'](_0x590d27,_0x424ee5){const _0x4d8620=_0x424ee5?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x4d8620===Yc)return;const _0x2db442=this['getCulledI'+'nstances'](_0x590d27),_0x7daff9=_0x424ee5?_0x2db442['transparen'+'t']:_0x2db442['opaque'],_0x3a012a=_0x590d27['node'];if(_0x4d8620===Zw){const _0x31fdaa=_0x3a012a['getPositio'+'n'](),_0xedcb38=_0x3a012a['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x7daff9,_0x7daff9['length'],_0x31fdaa,_0xedcb38),this['customSort'+'Callback']&&_0x7daff9['sort'](this['customSort'+'Callback']);}else{if(_0x4d8620===m_||_0x4d8620===Kw){const _0x519f21=_0x3a012a['getPositio'+'n'](),_0x2b8078=_0x3a012a['forward'];this['_calculate'+'SortDistan'+'ces'](_0x7daff9,_0x519f21,_0x2b8078);}_0x7daff9['sort'](aA[_0x4d8620]);}}}const oA=(_0x286da8,_0x5e7594)=>_0x286da8['priority']-_0x5e7594['priority'],ul=_0x2f54a0=>_0x2f54a0['sort'](oA);class du extends me{constructor(_0x2c762b='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x235c+-0x16a9+-0x84a*-0x7)),(this['name']=_0x2c762b,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x513f0b=>_0x513f0b['destroy']()),this['_renderAct'+'ions']['length']=0xd08+-0x24e4+0x17dc;}['markDirty'](){this['_dirty']=!(0xabe+0x1708+0x16*-0x189);}['_update'](){const _0x1591a1=this['layerList']['length'];if(!this['_dirty']){for(let _0x189249=-0x2621+-0x1e76+-0x3*-0x16dd;_0x189249<_0x1591a1;_0x189249++)if(this['layerList'][_0x189249]['_dirtyComp'+'osition']){this['_dirty']=!(0x2e0+-0x28f*-0x5+0x539*-0x3);break;}}if(this['_dirty']){this['_dirty']=!(0x5*-0x35b+-0x625+0x16ed),this['cameras']['length']=0x368+0x1*-0x2627+0x22bf;for(let _0x21d67d=0xf*0x1ae+0x2*0x9+-0x1944;_0x21d67d<_0x1591a1;_0x21d67d++){const _0x20689a=this['layerList'][_0x21d67d];_0x20689a['_dirtyComp'+'osition']=!(0x12b*0x1a+0x1*0x10f6+-0x2f53);for(let _0x11b781=-0xc9*0x1d+-0x2*-0x219+-0xf*-0x13d;_0x11b781<_0x20689a['cameras']['length'];_0x11b781++){const _0x4f684f=_0x20689a['cameras'][_0x11b781];this['cameras']['indexOf'](_0x4f684f)<0x2f2+-0x1762+0x1470&&this['cameras']['push'](_0x4f684f);}}this['cameras']['length']>-0x1*0x4d6+0x9d9*-0x1+0xeb0&&ul(this['cameras']);let _0x749fe2=0xc*0x31a+-0x1*-0x1d1d+-0x1*0x4255;this['destroyRen'+'derActions']();for(let _0x320858=-0x3b*0x61+0x12df+0x37c;_0x320858<this['cameras']['length'];_0x320858++){const _0xc6f75=this['cameras'][_0x320858];if(_0xc6f75['camera']['renderPass'+'es']['length']>-0xd05+0x1ce6+-0x54b*0x3){this['addDummyRe'+'nderAction'](_0x749fe2,_0xc6f75),_0x749fe2++;continue;}let _0x217c0f=!(-0x2b3*0xd+0x3*0xacd+0x2b0);const _0x30ede7=_0x749fe2;let _0x3a3de2=null,_0x416f2a=!(-0x5*-0x541+-0x542+-0x1*0x1502);for(let _0x3081aa=-0x266b+-0x208*0x8+0x36ab;_0x3081aa<_0x1591a1;_0x3081aa++){const _0x113bf5=this['layerList'][_0x3081aa];if(_0x113bf5['enabled']&&this['subLayerEn'+'abled'][_0x3081aa]&&_0x113bf5['cameras']['length']>-0xd04+0x8*0x4bb+0x4*-0x635&&_0xc6f75['layers']['indexOf'](_0x113bf5['id'])>=-0x1*0x127b+0x1edc+-0xc61){!_0x416f2a&&_0x113bf5['id']===_0xc6f75['disablePos'+'tEffectsLa'+'yer']&&(_0x416f2a=!(0x2164+0x1e2b*0x1+-0x3f8f),_0x3a3de2&&(_0x3a3de2['triggerPos'+'tprocess']=!(-0xd24+-0x263c+-0x2*-0x19b0)));const _0x31534a=this['subLayerLi'+'st'][_0x3081aa];_0x3a3de2=this['addRenderA'+'ction'](_0x749fe2,_0x113bf5,_0x31534a,_0xc6f75,_0x217c0f,_0x416f2a),_0x749fe2++,_0x217c0f=!(0x387*-0xa+0x13e7+-0x1ec*-0x8);}}_0x30ede7<_0x749fe2&&(_0x3a3de2['lastCamera'+'Use']=!(-0x20a2+0x5c9*-0x6+0x4358)),!_0x416f2a&&_0x3a3de2&&(_0x3a3de2['triggerPos'+'tprocess']=!(-0x1d2f+-0x1b77+-0x971*-0x6)),_0xc6f75['renderTarg'+'et']&&_0xc6f75['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x30ede7-(-0x1994+0x11e3+0x7b2),_0xc6f75);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x2e37e8){w['assert'](this['_renderAct'+'ions']['length']===_0x2e37e8);const _0x32811a=new Pv();return this['_renderAct'+'ions']['push'](_0x32811a),_0x32811a;}['addDummyRe'+'nderAction'](_0x24de49,_0x247145){const _0x51b9b4=this['getNextRen'+'derAction'](_0x24de49);_0x51b9b4['camera']=_0x247145,_0x51b9b4['useCameraP'+'asses']=!(0x14f0+-0x13cd+-0x61*0x3);}['addRenderA'+'ction'](_0x4ee9ac,_0x199b6c,_0x4536d0,_0x329a5f,_0x459c42,_0x3ce6ae){let _0x3782cb=_0x199b6c['id']!==ps?_0x329a5f['renderTarg'+'et']:null,_0x230464=!(0x22*-0x9+-0x8dd*-0x1+-0x7aa);const _0x4f8129=this['_renderAct'+'ions'];for(let _0x40331d=_0x4ee9ac-(0x1ad5*0x1+-0x1517*0x1+-0x5bd*0x1);_0x40331d>=0x2613+-0xc2f*-0x2+0x3e71*-0x1;_0x40331d--)if(_0x4f8129[_0x40331d]['camera']===_0x329a5f&&_0x4f8129[_0x40331d]['renderTarg'+'et']===_0x3782cb){_0x230464=!(0x3*-0x607+-0x1d15+0x1795*0x2);break;}_0x3ce6ae&&_0x329a5f['postEffect'+'sEnabled']&&(_0x3782cb=null);const _0x1281a6=this['getNextRen'+'derAction'](_0x4ee9ac);_0x1281a6['triggerPos'+'tprocess']=!(-0x40f+0x246b+0xac9*-0x3),_0x1281a6['layer']=_0x199b6c,_0x1281a6['transparen'+'t']=_0x4536d0,_0x1281a6['camera']=_0x329a5f,_0x1281a6['renderTarg'+'et']=_0x3782cb,_0x1281a6['firstCamer'+'aUse']=_0x459c42,_0x1281a6['lastCamera'+'Use']=!(0x53*0x5+0x18*-0x13a+0x1bd2);const _0x51a00d=_0x459c42||!_0x230464,_0x1bc229=_0x199b6c['clearColor'+'Buffer']||_0x199b6c['clearDepth'+'Buffer']||_0x199b6c['clearStenc'+'ilBuffer'];return(_0x51a00d||_0x1bc229)&&_0x1281a6['setupClear'+'s'](_0x51a00d?_0x329a5f:void(0x5*-0x21f+0x8*0x281+0x13*-0x7f),_0x199b6c),_0x1281a6;}['propagateR'+'enderTarge'+'t'](_0x4c5b67,_0xd8bae9){for(let _0x41ec48=_0x4c5b67;_0x41ec48>=0x94c+-0xced+-0x1*-0x3a1;_0x41ec48--){const _0x378876=this['_renderAct'+'ions'][_0x41ec48],_0x2be1d0=_0x378876['layer'];if(_0x378876['renderTarg'+'et']&&_0x2be1d0['id']!==ps)break;if(_0x2be1d0['id']===ps)continue;if(_0x378876['useCameraP'+'asses'])break;const _0x4c07e0=_0x378876==null?void(-0x1ddb+-0x1937*0x1+0x6a*0x85):_0x378876['camera']['camera'];if(_0x4c07e0&&(!_0xd8bae9['camera']['rect']['equals'](_0x4c07e0['rect'])||!_0xd8bae9['camera']['scissorRec'+'t']['equals'](_0x4c07e0['scissorRec'+'t'])))break;_0x378876['renderTarg'+'et']=_0xd8bae9['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x3d1188=-0x1a00+0x1*-0x19d3+-0x1*-0x33d3;_0x3d1188<this['_renderAct'+'ions']['length'];_0x3d1188++){const _0x224814=this['_renderAct'+'ions'][_0x3d1188],_0xdbf0a=_0x224814['camera'];if(_0x224814['useCameraP'+'asses'])w['trace'](Vl,_0x3d1188+('CustomPass'+'es\x20Cam:\x20')+(_0xdbf0a?_0xdbf0a['entity']['name']:'-'));else{const _0x466b4c=_0x224814['layer'],_0x7ea7d0=_0x466b4c['enabled']&&this['isEnabled'](_0x466b4c,_0x224814['transparen'+'t']),_0x42cd9e=(_0x224814['clearColor']?'Color\x20':'.....\x20')+(_0x224814['clearDepth']?'Depth\x20':'.....\x20')+(_0x224814['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x3d1188+('\x20Cam:\x20'+(_0xdbf0a?_0xdbf0a['entity']['name']:'-'))['padEnd'](-0x1*-0x191+-0x1a1d+0x1*0x18a2,'\x20')+('\x20Lay:\x20'+_0x466b4c['name'])['padEnd'](0x1ed7+0x1*-0xfec+0xed5*-0x1,'\x20')+(_0x224814['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x7ea7d0?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x224814['renderTarg'+'et']?_0x224814['renderTarg'+'et']['name']:'-'))['padEnd'](0x2132+-0x1855*-0x1+-0x3969,'\x20')+'\x20Clear:\x20'+_0x42cd9e+(_0x224814['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x224814['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x224814['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x11068d){const _0x44021f=this['layerIdMap']['get'](_0x11068d['id'])===_0x11068d;return w['assert'](!_0x44021f,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x11068d['name']),_0x44021f;}['_isSublaye'+'rAdded'](_0x3e8056,_0xc74f42){return(_0xc74f42?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x3e8056)!==void(-0x7*-0x8+-0x14b1+0x6d3*0x3)?(w['error']('Sublayer\x20'+_0x3e8056['name']+(',\x20transpar'+'ent:\x20')+_0xc74f42+('\x20is\x20alread'+'y\x20added.')),!(0x212d*-0x1+0xa78*-0x2+0x1*0x361d)):!(0x1f2*-0x10+0x1636+0x1*0x8eb);}['push'](_0xdcc248){this['_isLayerAd'+'ded'](_0xdcc248)||(this['layerList']['push'](_0xdcc248),this['layerList']['push'](_0xdcc248),this['_opaqueOrd'+'er'][_0xdcc248['id']]=this['subLayerLi'+'st']['push'](!(0x12fd+-0x1773+0x17d*0x3))-(-0xaf9+0x17f3*0x1+-0xcf9),this['_transpare'+'ntOrder'][_0xdcc248['id']]=this['subLayerLi'+'st']['push'](!(0x1525+0x4*0x497+0x2781*-0x1))-(-0x2054+0x5e3+0x1a72),this['subLayerEn'+'abled']['push'](!(-0x1089+-0x11*0x166+0x284f*0x1)),this['subLayerEn'+'abled']['push'](!(-0x245*-0x9+0x267+-0x5b5*0x4)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x20a5+-0x46*0x6d+0x3e73),this['fire']('add',_0xdcc248));}['insert'](_0x1cfdbb,_0x786b6){if(this['_isLayerAd'+'ded'](_0x1cfdbb))return;this['layerList']['splice'](_0x786b6,0xf6d+-0x1*-0x2064+0x1*-0x2fd1,_0x1cfdbb,_0x1cfdbb),this['subLayerLi'+'st']['splice'](_0x786b6,-0x1b16+0xe5c+0xcba*0x1,!(0x1*0x263f+0x10f1+-0x1*0x372f),!(-0xf2*-0x1f+-0x21c+-0x1b32));const _0x2e3d58=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x786b6,_0x2e3d58-(0xe64+0xdda+-0x1c3d)),this['_updateTra'+'nsparentOr'+'der'](_0x786b6,_0x2e3d58-(0x1b3b*-0x1+-0x244*-0x11+-0x4*0x2d2)),this['subLayerEn'+'abled']['splice'](_0x786b6,0xff0+0x1*-0x63e+-0x11*0x92,!(-0x20*0xad+0x770+0xe30),!(0x1cf*-0x12+-0x221b+0x42a9)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x9d*0x21+0x604+-0x1a41),this['fire']('add',_0x1cfdbb);}['remove'](_0x12ebcc){let _0x3a3bf3=this['layerList']['indexOf'](_0x12ebcc);for(delete this['_opaqueOrd'+'er'][_0x3a3bf3],delete this['_transpare'+'ntOrder'][_0x3a3bf3];_0x3a3bf3>=0x1e59+0x19c8+-0x3821;)this['layerList']['splice'](_0x3a3bf3,-0x2311+-0x2*-0xc37+-0x2*-0x552),this['subLayerLi'+'st']['splice'](_0x3a3bf3,0x20ea+0x1aeb*0x1+0xe*-0x446),this['subLayerEn'+'abled']['splice'](_0x3a3bf3,0x1*0xed9+-0x22d+-0x3*0x439),_0x3a3bf3=this['layerList']['indexOf'](_0x12ebcc),this['_dirty']=!(-0xa2e+-0x1440+-0x2*-0xf37),this['fire']('remove',_0x12ebcc);const _0x1a1850=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x2194+-0x22d5+0x141,_0x1a1850-(-0x1005*0x2+0x20b*-0x1+0x2216)),this['_updateTra'+'nsparentOr'+'der'](-0x612+0x2537+0x1*-0x1f25,_0x1a1850-(-0xa6b+-0x21da+0xec2*0x3)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x47a1fb){this['_isSublaye'+'rAdded'](_0x47a1fb,!(-0xa*-0x15c+0xffd+-0x1d94))||(this['layerList']['push'](_0x47a1fb),this['_opaqueOrd'+'er'][_0x47a1fb['id']]=this['subLayerLi'+'st']['push'](!(0x1ab*0xd+-0x14a4+-0x10a))-(0xda*-0x19+-0xe80+0x23cb),this['subLayerEn'+'abled']['push'](!(-0x15*-0x52+-0x12f0+-0x209*-0x6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2bd*-0x5+-0x3*0xb17+0x2ef6),this['fire']('add',_0x47a1fb));}['insertOpaq'+'ue'](_0x480b39,_0x3ea3d1){if(this['_isSublaye'+'rAdded'](_0x480b39,!(0x1637*0x1+0x1*-0x1e4f+0x819)))return;this['layerList']['splice'](_0x3ea3d1,-0xfd*0x21+-0x1*0xf31+0x2fce,_0x480b39),this['subLayerLi'+'st']['splice'](_0x3ea3d1,0x9*-0x3ed+0x1c09*0x1+0x74c,!(0x1448+-0x3e8+-0x105f*0x1));const _0x56560a=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x3ea3d1,_0x56560a-(-0x1239+-0x2141+0x337b)),this['subLayerEn'+'abled']['splice'](_0x3ea3d1,-0x15ac+-0x35*0x24+0x1d20,!(-0x199e+0x1eae*-0x1+0x384c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x3b5+-0xe*0x283+0x1*0x1f75),this['fire']('add',_0x480b39);}['removeOpaq'+'ue'](_0x3fc50d){for(let _0x347844=0x1dea+0x1*0x137f+0x8b*-0x5b,_0xd60b02=this['layerList']['length'];_0x347844<_0xd60b02;_0x347844++)if(this['layerList'][_0x347844]===_0x3fc50d&&!this['subLayerLi'+'st'][_0x347844]){this['layerList']['splice'](_0x347844,0x78f+-0x253e+-0x13*-0x190),this['subLayerLi'+'st']['splice'](_0x347844,0x92c*0x4+-0x3*0x411+-0x1*0x187c),_0xd60b02--,this['_updateOpa'+'queOrder'](_0x347844,_0xd60b02-(0x17b0+0x1a04+0x1*-0x31b3)),this['subLayerEn'+'abled']['splice'](_0x347844,-0xc5a+0x24c+-0x19*-0x67),this['_dirty']=!(-0x1512+0xf92+0x580),this['layerList']['indexOf'](_0x3fc50d)<0x89b+-0x1*0x20b8+0x181d&&this['fire']('remove',_0x3fc50d);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x11c51d){this['_isSublaye'+'rAdded'](_0x11c51d,!(-0x25a*-0x7+0x1*-0x1b7f+-0x5*-0x235))||(this['layerList']['push'](_0x11c51d),this['_transpare'+'ntOrder'][_0x11c51d['id']]=this['subLayerLi'+'st']['push'](!(0x24a*0xe+-0x1108+-0xf04))-(-0x634*0x2+0x164a+-0x9e1),this['subLayerEn'+'abled']['push'](!(0x1d10+-0x19d9+-0x337)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x29*-0x43+0xd9e+-0x10f*0x17),this['fire']('add',_0x11c51d));}['insertTran'+'sparent'](_0x35f78d,_0x5287ee){if(this['_isSublaye'+'rAdded'](_0x35f78d,!(0x1*-0x20f+-0x2468+0x2677)))return;this['layerList']['splice'](_0x5287ee,-0x2509*0x1+-0x285*0x7+0x1b56*0x2,_0x35f78d),this['subLayerLi'+'st']['splice'](_0x5287ee,-0x173*-0x17+0x1274+-0x33c9,!(0xa*-0x287+0x1521+-0x425*-0x1));const _0x2e99e6=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x5287ee,_0x2e99e6-(0xe98+0x18fb*-0x1+0xa64)),this['subLayerEn'+'abled']['splice'](_0x5287ee,-0x1*0x1341+0x1380+-0x15*0x3,!(0xb34+0x19*-0x5f+-0x1ed)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*0x2104+0x3*-0xca7+0x46f9),this['fire']('add',_0x35f78d);}['removeTran'+'sparent'](_0x35e71e){for(let _0x256d65=0x54a+-0x2*-0x1154+-0x27f2,_0x3d3449=this['layerList']['length'];_0x256d65<_0x3d3449;_0x256d65++)if(this['layerList'][_0x256d65]===_0x35e71e&&this['subLayerLi'+'st'][_0x256d65]){this['layerList']['splice'](_0x256d65,0xf61+0x2159*-0x1+0x11f9*0x1),this['subLayerLi'+'st']['splice'](_0x256d65,-0x51b+-0x3*0x229+0xb97*0x1),_0x3d3449--,this['_updateTra'+'nsparentOr'+'der'](_0x256d65,_0x3d3449-(-0x1*0x1f9d+0x1*0x20bf+-0x1*0x121)),this['subLayerEn'+'abled']['splice'](_0x256d65,0x337*0x8+-0x1f*0x7f+-0xa56*0x1),this['_dirty']=!(0x1*0x10fd+0xd*-0xc7+-0x6e2),this['layerList']['indexOf'](_0x35e71e)<0x1121*-0x1+-0x1555+0x223*0x12&&this['fire']('remove',_0x35e71e);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x26fcf2){return this['layerOpaqu'+'eIndexMap']['get'](_0x26fcf2)??-(-0x12d8+-0x2654+-0x165*-0x29);}['getTranspa'+'rentIndex'](_0x3e21cb){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x3e21cb)??-(-0x6ad+0x2*0x895+-0xa7c);}['isEnabled'](_0x49b12c,_0x23b65a){if(_0x49b12c['enabled']){const _0x5eb1f7=_0x23b65a?this['getTranspa'+'rentIndex'](_0x49b12c):this['getOpaqueI'+'ndex'](_0x49b12c);if(_0x5eb1f7>=0xf*0x65+-0xba1+0x5b6)return this['subLayerEn'+'abled'][_0x5eb1f7];}return!(0xbe9*0x3+-0x14a1+-0xf19);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x122215=0x2161*0x1+-0x2*-0x566+-0x2c2d*0x1;_0x122215<this['layerList']['length'];_0x122215++){const _0x1fc3fc=this['layerList'][_0x122215];this['layerIdMap']['set'](_0x1fc3fc['id'],_0x1fc3fc),this['layerNameM'+'ap']['set'](_0x1fc3fc['name'],_0x1fc3fc),(this['subLayerLi'+'st'][_0x122215]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x1fc3fc,_0x122215);}}['getLayerBy'+'Id'](_0x7988c9){return this['layerIdMap']['get'](_0x7988c9)??null;}['getLayerBy'+'Name'](_0x45df60){return this['layerNameM'+'ap']['get'](_0x45df60)??null;}['_updateOpa'+'queOrder'](_0x5a2980,_0x2ebd56){for(let _0x2db028=_0x5a2980;_0x2db028<=_0x2ebd56;_0x2db028++)this['subLayerLi'+'st'][_0x2db028]===!(-0x5*0x533+-0x12*0x61+0x1069*0x2)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x2db028]['id']]=_0x2db028);}['_updateTra'+'nsparentOr'+'der'](_0x3debd7,_0x195c2c){for(let _0x278187=_0x3debd7;_0x278187<=_0x195c2c;_0x278187++)this['subLayerLi'+'st'][_0x278187]===!(0xdf3+0x2052+-0x941*0x5)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x278187]['id']]=_0x278187);}['_sortLayer'+'sDescendin'+'g'](_0x33fbc0,_0x11e7a7,_0x1cec31){let _0x4297b9=-(0x5*-0x2f3+0x2410+-0x8*0x2aa),_0xa4c2d9=-(-0x1d28+0x1070*-0x1+0xf33*0x3);for(let _0x49b911=-0x1f2+-0xe29+-0x13*-0xd9,_0x4cb7a2=_0x33fbc0['length'];_0x49b911<_0x4cb7a2;_0x49b911++){const _0x1c3f78=_0x33fbc0[_0x49b911];_0x1cec31['hasOwnProp'+'erty'](_0x1c3f78)&&(_0x4297b9=Math['max'](_0x4297b9,_0x1cec31[_0x1c3f78]));}for(let _0x3e24a0=-0x44*-0x3f+0x10*0x1b7+-0x2c*0x101,_0x18a104=_0x11e7a7['length'];_0x3e24a0<_0x18a104;_0x3e24a0++){const _0x188359=_0x11e7a7[_0x3e24a0];_0x1cec31['hasOwnProp'+'erty'](_0x188359)&&(_0xa4c2d9=Math['max'](_0xa4c2d9,_0x1cec31[_0x188359]));}return _0x4297b9===-(0x1410+0xb55+0x2*-0xfb2)&&_0xa4c2d9!==-(-0x22*-0xd7+-0x191b+-0x62*0x9)?-0x1854+-0x2*0x4dd+0x220f:_0xa4c2d9===-(0x1694+0x804+0x1e97*-0x1)&&_0x4297b9!==-(-0x3*-0x3ad+-0x1*0x1eb3+-0x68f*-0x3)?-(0x869*0x1+0x3*0xa7a+0x2*-0x13eb):_0xa4c2d9-_0x4297b9;}['sortTransp'+'arentLayer'+'s'](_0x5acf3f,_0x472d34){return this['_sortLayer'+'sDescendin'+'g'](_0x5acf3f,_0x472d34,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x81686b,_0x4c13a1){return this['_sortLayer'+'sDescendin'+'g'](_0x81686b,_0x4c13a1,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x24c7+0x10d5+0x2*0x9f9,-0x453+-0x75*0x3e+0x20a9,0x1*0xa36+-0x1*-0x256d+0x43*-0xb6,0x18b1+-0x99+-0x1*0x1817)],[new re(-0x255*-0x1+0x31c+-0x571,-0x1*-0x1f0+0x1e40+0x19c*-0x14,-0x13*0x197+0x1875+-0x2e0*-0x2+0.5,-0x5*0x555+0x1e6f+-0x6*0xa1+0.5),new re(-0xd*0x293+0x1e68+0x30f,0x52b*-0x6+0x8e*0x24+0xb0a+0.5,-0xed2+0xcb0+0x222+0.5,-0x1f3*0x1+-0x2*-0xb3f+0x3*-0x6d9+0.5)],[new re(-0x102d+-0x13*0x2b+0x135e,0x262f+-0x60e*0x1+-0x2021,0x2bf+-0x1380+0x10c1*0x1+0.5,-0x413+-0x4*0x63b+0x1cff+0.5),new re(0x1d2*-0x7+0x22d+-0x5*-0x21d,0x552+0x112d*0x1+-0x167f+0.5,-0x1072+-0x1*-0x16be+-0x64c+0.5,-0x1f57*-0x1+0xd2*0x7+-0x35f*0xb+0.5),new re(0x5d4*0x1+-0x196+-0x43e+0.5,0x16a2*0x1+0xa9e+-0x2140,0x13*0x1c1+0xf7f+-0x30d2+0.5,0xee*-0x7+-0x577*0x1+0xbf9+0.5)],[new re(-0x1*-0x229b+0x49*0x18+-0x2973,-0x1940+-0x1*-0x1afa+0x1a*-0x11,0x3*-0x8a7+-0x151c+0x2f11+0.5,0x3*-0xc61+-0x2b3*-0x2+0x271*0xd+0.5),new re(-0x18a1*-0x1+-0x1*0x1d3b+-0x49a*-0x1,0xda9+-0x4*-0x4c+0xed9*-0x1+0.5,0xc4*-0xa+0x1761+0xaf*-0x17+0.5,0x7f9+-0x86*-0x19+-0x257*0x9+0.5),new re(-0x1b81+0xc1b+0xf66*0x1+0.5,0x1779+0x1d36*0x1+-0x34af,0x1*-0x22bf+0xeb8+0x1407+0.5,0x415+0x1*-0xf17+0xb02+0.5),new re(-0x1bd0+0x1208+0x8*0x139+0.5,-0x25a7+0x446*0x9+0xcf*-0x1+0.5,-0x201*-0xb+-0xd07+0x1*-0x904+0.5,0x275+-0x34*0x3c+0x9bb+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x9ca+-0x3*-0x553+-0x19c3;class dA{constructor(_0x387008,_0x5cc353,_0x25ced9){this['light']=_0x25ced9,this['camera']=_0x387008,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x25ced9['_shadowTyp'+'e'],_0x25ced9['_type'],_0x5cc353),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x149*0x13+0x2365+0x1de8*-0x2,0x17*-0x95+0x1ca*-0x4+-0x1*-0x148b,0x206f+-0xf*0x9f+-0x61*0x3d,-0x164a+-0x10ea+0x1*0x2735),this['shadowScis'+'sor']=new re(-0xd11+-0x6fd*-0x1+-0x185*-0x4,0x5*0x313+0x1627+-0x2586,0x94f+-0x11d8+0x88a,0x1680+-0x6a+0x1*-0x1615),this['projection'+'Compensati'+'on']=-0x21*0xf9+0xa*-0x221+-0x1*-0x3563,this['face']=_0x5cc353,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3b98e2=>{_0x3b98e2['defaultUni'+'formBuffer']['destroy'](),_0x3b98e2['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1f05+-0x1*0xaa7+0x29ac;}get['shadowBuff'+'er'](){const _0x29d574=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x29d574?this['light']['_isPcf']?_0x29d574['depthBuffe'+'r']:_0x29d574['colorBuffe'+'r']:null;}}class pl{constructor(_0x1050ab,_0x39ae5e){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0xdc8+-0x4a2*0x3+0x3*0x93a),h(this,'clusteredD'+'ata',new Uint32Array(0xafb+-0x170+0x28*-0x3d)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x1050ab,this['clusteredL'+'ighting']=_0x39ae5e,this['id']=hA++,this['_evtDevice'+'Restored']=_0x1050ab['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x81*-0xb+0xce2*0x1+-0x1*0x757+0.8,0x16d8+0x6d*-0x29+-0x563*0x1+0.8,-0x476+-0x97*0x26+-0xd7*-0x20+0.8),this['_intensity']=-0x205c+0x1770*-0x1+0x37cd,this['_affectSpe'+'cularity']=!(0x25fc+0x1fe8+0x1179*-0x4),this['_luminance']=0xc8b*0x3+-0x7da+0x4d*-0x63,this['_castShado'+'ws']=!(-0x454*-0x8+-0x12db+-0xfc4),this['_enabled']=!(-0x1222+-0x7b*0x18+0x1dab),this['_mask']=Ss,this['isStatic']=!(0xe11+0xe5f+-0x1c6f),this['key']=-0x1347+0xda9+0x59e,this['bakeDir']=!(-0x24a1*-0x1+-0xfb5+0x2*-0xa76),this['bakeNumSam'+'ples']=0x1359+0x155+0x14ad*-0x1,this['bakeArea']=0x11ed+-0x1d61+0xb74,this['attenuatio'+'nStart']=0x125+-0x40*-0x2b+-0xbdb,this['attenuatio'+'nEnd']=-0x1d*-0xcb+-0x32*-0xc5+0x1*-0x3d6f,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0xd0e*-0x2+0x1978*-0x1+0xf*0x371,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0x1c73+0x1122+0xb51+0.01)*(-0x1d*-0x6b+-0x91*-0xa+-0x11c9+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x12b3+-0x68f+-0xef*0xd,this['_cookieFal'+'loff']=!(-0xbd*0x1+-0x1dfa+-0xa3d*-0x3),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x954+0x3*-0x656+0x2*0x4d9),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x5f*-0x2d+-0x416*-0x1+-0x14c7),this['_cookieTra'+'nsformSet']=!(-0xc89*-0x1+0xb*0x35f+0x3d1*-0xd),this['_cookieOff'+'setSet']=!(-0x333+-0x128+0x45c),this['_innerCone'+'Angle']=-0x1f*0x10d+-0x1291+0x4*0xcd3,this['_outerCone'+'Angle']=0x1d6+0x2406+0xb*-0x36d,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x207f+-0x1261*0x1+-0xe1d,this['_cascadeBl'+'end']=0x273*0x8+0xaa+-0x1*0x1442,this['cascadeDis'+'tribution']=-0x9*0x16a+-0x235*-0x9+-0x723+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0x13bc+-0xd59*-0x1+-0x1*0x2112),this['_updateLin'+'earColor'](),this['_position']=new D(-0x1ca9+-0x1ff7+0xc2*0x50,-0x7f*0x3b+0xb69+0x11dc,-0x23df+-0x4c3*-0x4+0x1*0x10d3),this['_direction']=new D(-0x24fa+-0x84a+0xb51*0x4,0x5*-0x11a+0x2530+-0x1fae,0x129*-0x7+-0x520+0xd3f),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x15b*0x13+0x4*0x57a+0x1*-0x2ef5)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x26ec+-0x20ef+-0x5fd),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x23*-0xeb+0x15dd+-0x74*-0x17,this['_shadowRes'+'olution']=0x139+0x24f+0x8*0xf,this['_shadowBia'+'s']=-(0x1b60+-0x3*-0x5ce+-0x2cca+0.0005),this['_shadowInt'+'ensity']=0x2126+0x6c5*-0x1+-0x1a60,this['_normalOff'+'setBias']=0x1ae2+-0x3b*-0x97+-0x3daf,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x102c+-0x2*0x386+-0x91f),this['_isPcf']=!(-0x1c9*0x1+-0x146+0x1d*0x1b),this['_softShado'+'wParams']=new Float32Array(0x2*0x6c9+-0x2*0x10a6+0x13be),this['shadowSamp'+'les']=-0x121+0x1a9*0xe+-0x5*0x469,this['shadowBloc'+'kerSamples']=-0x3ab*0x7+0x1*0x1cb7+-0x2fa,this['penumbraSi'+'ze']=-0x133b+0x5cf+0xd6d,this['penumbraFa'+'lloff']=0x11ee+-0x1*-0x1cc9+0x3*-0xf92,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x4d2*-0x2+-0x4*0x2ab+0x35*0x5),this['atlasVersi'+'on']=0xf1*-0x13+-0x1285+-0xe9*-0x28,this['atlasSlotI'+'ndex']=0x428*-0x5+0x437*-0x1+0x1b*0xed,this['atlasSlotU'+'pdated']=!(-0x33*-0xa7+-0x128*-0x13+-0x194*0x23),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x6*0x370+-0xc5*0x7+0x1a04),this['maxScreenS'+'ize']=0x1*0x122f+0x3a5*0x9+-0x32fc,this['_updateSha'+'dowBias']());}['destroy'](){var _0x5bf188;(_0x5bf188=this['_evtDevice'+'Restored'])==null||_0x5bf188['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x533e16=-0x234d*0x1+-0x19ed+0x3d3a;_0x533e16<this['_renderDat'+'a']['length'];_0x533e16++)this['_renderDat'+'a'][_0x533e16]['destroy']();this['_renderDat'+'a']['length']=-0x4*-0x4b1+-0x2*0x1023+0x85*0x1a;}}['addLayer'](_0x419f55){this['layers']['add'](_0x419f55);}['removeLaye'+'r'](_0x45cc97){this['layers']['delete'](_0x45cc97);}set['shadowSamp'+'les'](_0x104b40){this['_softShado'+'wParams'][0x2*-0x5eb+0x20*-0xfb+0x159b*0x2]=_0x104b40;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x153b+0x4bc+-0x1*0x19f7];}set['shadowBloc'+'kerSamples'](_0x503d3e){this['_softShado'+'wParams'][-0xcb3+0xe6f+0x1bb*-0x1]=_0x503d3e;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x1775*0x1+-0x1da0+0x62c];}set['shadowBias'](_0x133c6e){this['_shadowBia'+'s']!==_0x133c6e&&(this['_shadowBia'+'s']=_0x133c6e,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x32fd5f){(!this['cascades']||this['numCascade'+'s']!==_0x32fd5f)&&(this['cascades']=lA[_0x32fd5f-(0x24ad+-0x9eb*-0x1+0x1*-0x2e97)],this['_shadowMat'+'rixPalette']=new Float32Array(-0x6a+0x246e+-0x23c4),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x16b5*0x1+0x232+-0x18e3),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x13c291){this['_cascadeBl'+'end']!==_0x13c291&&(this['_cascadeBl'+'end']=_0x13c291,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x1e1782){this['_shadowMap']!==_0x1e1782&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x1e1782);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2b3287){this['_mask']!==_0x2b3287&&(this['_mask']=_0x2b3287,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x4ecd5c=this['_type'];return _0x4ecd5c===ve?this['numCascade'+'s']:_0x4ecd5c===Ke?0x7cd+-0x1a22+0x125b:-0xcd*-0x23+-0x209f+0x499;}set['type'](_0x31cbb9){if(this['_type']===_0x31cbb9)return;this['_type']=_0x31cbb9,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x424549=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x424549;}get['type'](){return this['_type'];}set['shape'](_0x41fecd){if(this['_shape']===_0x41fecd)return;this['_shape']=_0x41fecd,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x1b6dbe=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x1b6dbe;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x2a55af){this['_usePhysic'+'alUnits']!==_0x2a55af&&(this['_usePhysic'+'alUnits']=_0x2a55af,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x4baefe){if(this['_shadowTyp'+'e']===_0x4baefe)return;let _0x1d0649=qi['get'](_0x4baefe);_0x1d0649||(_0x4baefe=$s);const _0x4f9089=this['device'];_0x4baefe===al&&!_0x4f9089['textureFlo'+'atRenderab'+'le']&&!_0x4f9089['textureHal'+'fFloatRend'+'erable']&&(_0x4baefe=$s),this['_type']===Ke&&_0x4baefe!==tv&&_0x4baefe!==$s&&_0x4baefe!==sv&&_0x4baefe!==iv&&_0x4baefe!==al&&(_0x4baefe=$s),_0x4baefe===Jp&&(!_0x4f9089['textureFlo'+'atRenderab'+'le']||!_0x4f9089['textureFlo'+'atFilterab'+'le'])&&(_0x4baefe=au),_0x4baefe===au&&!_0x4f9089['textureHal'+'fFloatRend'+'erable']&&(_0x4baefe=$s),_0x1d0649=qi['get'](_0x4baefe),this['_isVsm']=(_0x1d0649==null?void(0x1*-0x1166+-0x1c1*-0x8+0x35e):_0x1d0649['vsm'])??!(0x11ea+0x1bb*-0xd+0x496),this['_isPcf']=(_0x1d0649==null?void(0x605+0x242b*0x1+0x12c*-0x24):_0x1d0649['pcf'])??!(0x6*0x2ab+0x1571+0x12b9*-0x2),this['_shadowTyp'+'e']=_0x4baefe,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x5c6440){this['_enabled']!==_0x5c6440&&(this['_enabled']=_0x5c6440,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x135c24){this['_castShado'+'ws']!==_0x135c24&&(this['_castShado'+'ws']=_0x135c24,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0x6b*0x3e+0x1431+0x5b9*0x1;}set['shadowInte'+'nsity'](_0x84f7e3){this['_shadowInt'+'ensity']!==_0x84f7e3&&(this['_shadowInt'+'ensity']=_0x84f7e3,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x1924d2){this['_shadowRes'+'olution']!==_0x1924d2&&(this['_type']===Ke?_0x1924d2=Math['min'](_0x1924d2,this['device']['maxCubeMap'+'Size']):_0x1924d2=Math['min'](_0x1924d2,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1924d2,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xd6ec06){this['_vsmBlurSi'+'ze']!==_0xd6ec06&&(_0xd6ec06%(0x36d*-0x5+0x2624*-0x1+0x3747)===-0x44f+0xdd2+-0x983&&_0xd6ec06++,this['_vsmBlurSi'+'ze']=_0xd6ec06);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x405070){if(this['_normalOff'+'setBias']!==_0x405070){const _0x54a20f=!this['_normalOff'+'setBias']&&_0x405070||this['_normalOff'+'setBias']&&!_0x405070;this['_normalOff'+'setBias']=_0x405070,_0x54a20f&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x5e0bbc){this['_falloffMo'+'de']!==_0x5e0bbc&&(this['_falloffMo'+'de']=_0x5e0bbc,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x238641){this['_innerCone'+'Angle']!==_0x238641&&(this['_innerCone'+'Angle']=_0x238641,this['_innerCone'+'AngleCos']=Math['cos'](_0x238641*Math['PI']/(0x18c9+0xf9b+0x3f8*-0xa)),this['updateClus'+'terData'](!(-0x1118+-0x23*0x10d+0x35e0),!(0x5df+0xf3b*-0x1+0x95c*0x1)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x2c2216){this['_outerCone'+'Angle']!==_0x2c2216&&(this['_outerCone'+'Angle']=_0x2c2216,this['_updateOut'+'erAngle'](_0x2c2216),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5f3bde){this['_penumbraS'+'ize']=_0x5f3bde,this['_softShado'+'wParams'][-0xba8+0xb*-0x377+0x31c7]=_0x5f3bde;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x387317){this['_softShado'+'wParams'][0x197*0x3+0x1b1f+-0x1*0x1fe1]=_0x387317;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x71*0x52+-0x1709+0x3b3e];}['_updateOut'+'erAngle'](_0x120d47){const _0x3519c2=_0x120d47*Math['PI']/(0x9*0x42a+-0x108*-0x8+-0x2d06);this['_outerCone'+'AngleCos']=Math['cos'](_0x3519c2),this['_outerCone'+'AngleSin']=Math['sin'](_0x3519c2),this['updateClus'+'terData'](!(0x1428+-0x54b*-0x6+-0x89*0x61),!(0x11*0x103+-0x1df4+0xcc1));}set['intensity'](_0x4be109){this['_intensity']!==_0x4be109&&(this['_intensity']=_0x4be109,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x9bda15){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x9bda15,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x913c89){this['_luminance']!==_0x913c89&&(this['_luminance']=_0x913c89,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x51*0x52+-0x1039+-0x9b9,-0xec*-0x15+-0x74*-0x3+-0x14b8,-0xbf*0x31+0xaab*0x1+0x19e5,-0xa8f+0x1*-0x16ae+-0x17*-0x172)),this['_atlasView'+'port'];}set['cookie'](_0x1f41c4){this['_cookie']!==_0x1f41c4&&(this['_cookie']=_0x1f41c4,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x1de681){this['_cookieFal'+'loff']!==_0x1de681&&(this['_cookieFal'+'loff']=_0x1de681,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x38a4fc){if(this['_cookieCha'+'nnel']!==_0x38a4fc){if(_0x38a4fc['length']<-0x19db+-0x37*0xb4+-0x5de*-0xb){const _0xdd9740=_0x38a4fc['charAt'](_0x38a4fc['length']-(-0x9*0x125+0x1*-0x646+0x84a*0x2)),_0x17ebef=0xb56+0x1d*0x6+-0xc01-_0x38a4fc['length'];for(let _0xb4147c=0x18ba+-0x11c7+-0x6f3;_0xb4147c<_0x17ebef;_0xb4147c++)_0x38a4fc+=_0xdd9740;}this['_cookieCha'+'nnel']=_0x38a4fc,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0xb3536d){this['_cookieTra'+'nsform']!==_0xb3536d&&(this['_cookieTra'+'nsform']=_0xb3536d,this['_cookieTra'+'nsformSet']=!!_0xb3536d,_0xb3536d&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0x1ddc+-0x1*0x23ac+0x5d1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x21e397){if(this['_cookieOff'+'set']===_0x21e397)return;!!(this['_cookieTra'+'nsformSet']||_0x21e397)&&!_0x21e397&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0xa*0x236+0x16ec+0x68*-0x2,0x1178+0x1*0xec3+-0x203b):this['_cookieOff'+'set']=_0x21e397,this['_cookieOff'+'setSet']=!!_0x21e397,_0x21e397&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x1e74*-0x1+0x3cb*-0x7+-0x3e6,0x1*0x1de5+-0xd34+-0x10b0,0x16b9+0x271+-0x192a,-0x170b+0x989*-0x1+-0x2b7*-0xc),this['_cookieTra'+'nsformSet']=!(0xcfd+0xe+-0x685*0x2)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x13ee+0x1dbd+-0x9cf,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x25f5+0x15dc+0x101a),this['atlasSlotU'+'pdated']=!(-0x1d*-0x11e+0x10d*0x5+-0x25a6);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x4a95e2=0xa81+0x1*-0x5d1+0x30*-0x19;_0x4a95e2<this['shadowUpda'+'teOverride'+'s']['length'];_0x4a95e2++)this['shadowUpda'+'teOverride'+'s'][_0x4a95e2]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x4a95e2]=xr);}}['getRenderD'+'ata'](_0x580f1f,_0x3273e4){for(let _0x4031ff=-0x1fc7*0x1+-0xd5*-0x29+-0x256;_0x4031ff<this['_renderDat'+'a']['length'];_0x4031ff++){const _0xbe2e32=this['_renderDat'+'a'][_0x4031ff];if(_0xbe2e32['camera']===_0x580f1f&&_0xbe2e32['face']===_0x3273e4)return _0xbe2e32;}const _0x333951=new dA(_0x580f1f,_0x3273e4,this);return this['_renderDat'+'a']['push'](_0x333951),_0x333951;}['clone'](){const _0x4f0348=new pl(this['device'],this['clusteredL'+'ighting']);return _0x4f0348['type']=this['_type'],_0x4f0348['setColor'](this['_color']),_0x4f0348['intensity']=this['_intensity'],_0x4f0348['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x4f0348['luminance']=this['_luminance'],_0x4f0348['castShadow'+'s']=this['castShadow'+'s'],_0x4f0348['_enabled']=this['_enabled'],_0x4f0348['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x4f0348['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x4f0348['falloffMod'+'e']=this['_falloffMo'+'de'],_0x4f0348['shadowType']=this['_shadowTyp'+'e'],_0x4f0348['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x4f0348['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x4f0348['vsmBias']=this['vsmBias'],_0x4f0348['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x4f0348['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x4f0348['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x4f0348['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x4f0348['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x4f0348['numCascade'+'s']=this['numCascade'+'s'],_0x4f0348['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x4f0348['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x4f0348['shape']=this['_shape'],_0x4f0348['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x4f0348['shadowBias']=this['shadowBias'],_0x4f0348['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x4f0348['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x4f0348['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x4f0348['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x4f0348['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x4f0348['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x4f0348['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x4f0348['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x4f0348;}static['getLightUn'+'itConversi'+'on'](_0x22636b,_0x37c4b9=Math['PI']/(-0x1102+-0x2*0xbdf+0x28c4*0x1),_0x4989c5=-0xc27+-0x2695+0x32bc){switch(_0x22636b){case Ze:{const _0x43572c=Math['cos'](_0x37c4b9),_0xb343=Math['cos'](_0x4989c5);return(-0x3*0x892+-0x12ea+-0x2ca2*-0x1)*Math['PI']*(0x1b43+0xc*-0x19+-0x1a16-_0xb343+(_0xb343-_0x43572c)/(0x95f+-0x1a*0x6b+0x7*0x37));}case Ke:return(-0x1*0x2d1+0xa7e+-0x7a9)*Math['PI'];case ve:return 0x60*-0x53+0x1927+-0xaa*-0x9;}}['_getUnifor'+'mBiasValue'+'s'](_0x309274){const _0x217b68=_0x309274['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x24*-0x1a+-0x4e0+-0x1a*-0x54+0.00001)*(0x20dd*0x1+-0x12a2+0xe27*-0x1):wi['bias']=this['shadowBias']*(0x2*-0x83f+-0x11ea+0x227c),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0xed8*-0x2+-0x209d+0x3e54)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x1d4c+0x477+-0x27*-0xa3+0.00001)*(0x1*0x2ab+-0xcc*0x1+-0x1*0x1cb):wi['bias']=this['shadowBias']/_0x217b68*(-0x13c2+0xa59+0x9cd*0x1),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x217b68/(-0x5*0x4d6+-0x2*-0x188+0x1525)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x362d9d){if(this['_type']===Ze){const _0x1436af=this['attenuatio'+'nEnd'],_0x1b7a47=this['_outerCone'+'Angle'],_0x44a75d=this['_outerCone'+'AngleCos'],_0x109d94=this['_node'];dc['copy'](_0x109d94['up']),_0x1b7a47>-0x48d*-0x3+0x11eb+0x39*-0x8d?(_0x362d9d['radius']=_0x1436af*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x1436af*_0x44a75d)):(_0x362d9d['radius']=_0x1436af/((0x90f+-0x2485*0x1+0x6de*0x4)*_0x44a75d),dc['mulScalar'](-_0x362d9d['radius'])),_0x362d9d['center']['add2'](_0x109d94['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x362d9d['center']=this['_node']['getPositio'+'n'](),_0x362d9d['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x34c6e1){if(this['_type']===Ze){const _0x4aedee=this['attenuatio'+'nEnd'],_0x315261=this['_outerCone'+'Angle'],_0x10432e=this['_node'],_0x5e8a50=Math['abs'](Math['sin'](_0x315261*Y['DEG_TO_RAD'])*_0x4aedee);_0x34c6e1['center']['set'](-0x24e2+0x1806+0xcdc,-_0x4aedee*(0x11b*-0x21+-0x1*-0x1bc5+0xdf*0xa+0.5),0x1*-0x1aa2+-0x2653+0x40f5),_0x34c6e1['halfExtent'+'s']['set'](_0x5e8a50,_0x4aedee*(-0x2b*0x59+0x10*0x16d+-0x7dd+0.5),_0x5e8a50),_0x34c6e1['setFromTra'+'nsformedAa'+'bb'](_0x34c6e1,_0x10432e['getWorldTr'+'ansform'](),!(0x139*-0xb+0x2af*-0xa+0x2849*0x1));}else this['_type']===Ke&&(_0x34c6e1['center']['copy'](this['_node']['getPositio'+'n']()),_0x34c6e1['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x173f+0x50+0x16ef,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1666+-0x222c+0xbc6;else{const _0x20d0af=this['shadowBias']*-(-0x24d7+0x10f*0x9+0x1f38);this['shadowDept'+'hState']['depthBias']=_0x20d0af,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x20d0af;}}['_updateLin'+'earColor'](){let _0xe38adf=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0xe38adf=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x8418cf=this['_color'],_0x4dcae4=this['_colorLine'+'ar'];_0xe38adf>=-0x1daa*-0x1+-0x77f+-0xb15*0x2?ho['linear'](_0x8418cf)['mulScalar'](_0xe38adf):ho['copy'](_0x8418cf)['mulScalar'](_0xe38adf)['linear'](),_0x4dcae4[-0xac*0x29+0x13ea*-0x1+0x2f76]=ho['r'],_0x4dcae4[-0x13f6+-0x4*0x82d+-0x34ab*-0x1]=ho['g'],_0x4dcae4[0x806+0x80*0x4c+0xbe*-0x3e]=ho['b'],this['updateClus'+'terData'](!(-0x1*-0x149b+0x3c6+-0x1*0x1861));}['setColor'](){arguments['length']===0x13d6+-0x33*-0x88+0x29*-0x125?this['_color']['set'](arguments[0x1*-0x1849+-0x3*0x670+-0x2b99*-0x1]['r'],arguments[0xaa*-0xd+0xb76*0x3+-0x19c0]['g'],arguments[-0x2374+0x24e*0x7+0x1352]['b']):arguments['length']===-0x2344+-0x81f+-0xa*-0x457&&this['_color']['set'](arguments[0x1a2d+0x81*0x4d+0x2*-0x207d],arguments[0x34*-0x81+-0x12d7+-0x3c1*-0xc],arguments[0x150a*-0x1+-0x1e*0x31+-0xd65*-0x2]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x135f86=>{_0x135f86['hasLight'](this)&&_0x135f86['markLights'+'Dirty']();});}['updateKey'](){let _0x359e30=this['_type']<<0x13*0x145+-0x2325+-0xb23*-0x1|this['_shadowTyp'+'e']<<-0xe57*0x2+-0xf6*-0x7+0x160d*0x1|this['_falloffMo'+'de']<<0x9e6+0x371*0x1+-0xd40|(this['_normalOff'+'setBias']!==-0x1*-0xcce+0xad5+-0x7e1*0x3?-0x1b*-0xfc+0xf2b+-0x29be:-0x1*-0x207b+0x1140+-0x31bb)<<0x932+-0x2319+0x19fd|(this['_cookie']?0x2021+-0x1e6e+-0x1b2:0x1fa2+-0x24e7+-0x13*-0x47)<<-0x2524+-0x3*0x3ae+0x3043|(this['_cookieFal'+'loff']?0x60e+-0xec2+-0x1*-0x8b5:-0x1622+-0x852*-0x4+0x2*-0x593)<<-0x234*-0x1+-0x1482+0x1262|pf[this['_cookieCha'+'nnel']['charAt'](0x537+0x1*0xc65+-0x119c)]<<0x1840+0x2*-0x189+-0x182*0xe|(this['_cookieTra'+'nsform']?0x244+0x4*-0x280+-0x7bd*-0x1:-0xebe+-0x64e+0x150c)<<0x36c*-0xa+0x25ab*-0x1+0x47ef|this['_shape']<<0x216f+0x1*0x17e9+-0x394e|(this['numCascade'+'s']>-0x1e2*0x8+0x15*-0x168+0x2c98?0x1a70+0xdc8+-0x80b*0x5:-0x1077+0x1b6f+-0xaf8)<<0x1*0x2fb+-0x72c+0x2*0x21d|(this['_cascadeBl'+'end']>0xe15+-0x1b12+0xcfd?0x66*-0x4c+0x7ea+0x1*0x165f:0x1d18+0x80f*-0x1+0x1*-0x1509)<<-0x3*-0x254+-0x1dda+0x16e6|(this['affectSpec'+'ularity']?-0x3b7+0xac1*-0x1+0xe79:0x7d7+-0x61*0x15+-0xf*-0x2)<<0x1*0x21b4+-0x5e8+-0x1bc5|this['mask']<<0x2*0xf7d+0x3*0x943+-0x3abd|(this['_castShado'+'ws']?-0x76d*0x3+-0x23ce+0x3a16:0x1b6c+0x6*-0x5a7+0x22a*0x3)<<0x3c1*0x3+0x16cf*-0x1+0xb8f;this['_cookieCha'+'nnel']['length']===0x5c3+0x16*-0x116+0x56*0x36&&(_0x359e30|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1*-0x1f3+0x26a8*0x1+-0x289a*0x1)]<<-0x6cc+0xc*-0x1c9+0x1*0x1c48,_0x359e30|=pf[this['_cookieCha'+'nnel']['charAt'](-0x9*-0xc2+-0x1606*0x1+0xf36)]<<0xb23+0xbb8+-0x16cd),_0x359e30!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x359e30;}['updateClus'+'teredFlags'](){const _0x4269bd=!!(this['mask']&Ss),_0x10d3db=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0xd3+0xe90+-0xb3*0x16:-0x3a8+-0x1c71+-0x3*-0xab3)<<0xd5e+-0xbba+0xf*-0x1a|(this['_shape']&-0x535+0x1eaf*0x1+-0x1977)<<-0x128+0x80d*0x1+-0x243*0x3|(this['_falloffMo'+'de']&0x1f58+-0x6f0+-0x1867)<<-0x236d+-0x9f0+0x2d78|(cA[this['_cookieCha'+'nnel']]??-0x30*0x49+0x199*0x3+0x8e5)<<-0x1fc7+0x4*0x88f+0x1*-0x25e|(_0x4269bd?-0x1821+-0x1b65*0x1+-0x112d*-0x3:0x23e7+-0x1b95+0x6*-0x163)<<0x7*0x455+0x1f5b*0x1+0x3*-0x1488|(_0x10d3db?0x2ce*-0xd+-0x24f2+-0x1*-0x4969:-0x1*-0x1d95+0x1*-0x20b9+0x6*0x86)<<0x22b5+0x1dfe+-0x409e;}['getCluster'+'edFlags'](_0x7bb06f,_0x362539){return this['clusteredF'+'lags']|((_0x7bb06f?Math['floor'](this['shadowInte'+'nsity']*(0x791+0x563*0x7+-0x2c47)):0x1acf+0x1*-0x186d+-0x262)&-0x2f*0xb5+0x18a5+0x995)<<-0x83c+0x1b55*0x1+-0x1319|((_0x362539?Math['floor'](this['cookieInte'+'nsity']*(0x14ef*-0x1+-0xa7+0x1695)):-0x2175+0xb4c+-0x3*-0x763)&-0x257b+-0x17fa+0x3e74)<<0x25a5+-0x3*0xb8f+-0x8*0x5e;}['updateClus'+'terData'](_0x1c86b9,_0x1ccdeb){const {clusteredData16:_0x11652f}=this,_0xd002ff=Mn['float2Half'];_0x1c86b9&&(_0x11652f[0x31*0x32+0x164d+-0x1fdf]=_0xd002ff(Y['clamp'](this['_colorLine'+'ar'][0x10d*0x1+0x75b+-0x8*0x10d]/$c,0x3*0xa12+-0x17e0+-0x656*0x1,-0x593*0x47+0x1*-0x6c7d+0x2f822)),_0x11652f[-0x76+0x9e3*-0x1+-0x2*-0x52d]=_0xd002ff(Y['clamp'](this['_colorLine'+'ar'][0xff7+-0x626*0x3+0x27c]/$c,0x1*-0x1bf7+-0x1abd+0xdad*0x4,-0x16d82+-0x1d823+0x44585)),_0x11652f[-0x1992+-0x1c*0xc1+0x3*0xf90]=_0xd002ff(Y['clamp'](this['_colorLine'+'ar'][-0x799+-0xfeb+0x1786]/$c,0x1f*0x7+0x49e+-0x577,-0x389*0x4+-0x1*0x16685+-0x27489*-0x1))),_0x1ccdeb&&(_0x11652f[0x3*-0x275+0x709+0x2d*0x2]=_0xd002ff(this['_innerCone'+'AngleCos']),_0x11652f[0x60d*0x5+-0x1aea+-0x352]=_0xd002ff(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x30cc84,_0x2f9218,_0xf2ee54){h(this,'_areaLight'+'sEnabled',!(-0x329+-0x3e5*0x4+0x12be)),h(this,'_cells',new D(0x35*-0x40+0xdaf+-0x65,0x2*0x905+0x50*0x35+-0x2297,0x1e36+0x3*-0xc3d+0x68b)),h(this,'_maxLights'+'PerCell',0x1dcc+0x241d+-0x40ea),h(this,'_shadowsEn'+'abled',!(-0x3c*0xf+0xe49*-0x2+-0x25*-0xde)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0x1817+-0xc62+0x2c79),h(this,'_cookiesEn'+'abled',!(0x12f4+-0x1a7a+0x787)),h(this,'_cookieAtl'+'asResoluti'+'on',0x1ce+-0x1*0xb75+0x11a7),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x30cc84,this['_maxTextur'+'eSize']=_0x2f9218,this['_dirtyLigh'+'tsFnc']=_0xf2ee54);}['applySetti'+'ngs'](_0x3b6885){this['shadowsEna'+'bled']=_0x3b6885['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x3b6885['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x3b6885['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x3b6885['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3b6885['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x3b6885['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x3b6885['lightingSh'+'adowType']??this['shadowType'],_0x3b6885['lightingCe'+'lls']&&(this['cells']=new D(_0x3b6885['lightingCe'+'lls']));}set['cells'](_0x1d809b){this['_cells']['copy'](_0x1d809b);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x36026d){this['_maxLights'+'PerCell']=Y['clamp'](_0x36026d,0xb51*-0x1+0xc2*-0x2b+0x2*0x15f4,0x54c+-0x68c*-0x5+-0x2509);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x1a675a){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x1a675a,0x60*-0x35+-0x15c2+0x42d*0xa,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x443452){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x443452,-0x115f*0x1+-0x9*-0x43a+0x1*-0x148b,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x29c6f0){this['_shadowTyp'+'e']!==_0x29c6f0&&(this['_shadowTyp'+'e']=_0x29c6f0,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x17893a){this['_cookiesEn'+'abled']!==_0x17893a&&(this['_cookiesEn'+'abled']=_0x17893a,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x2b3be8){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x2b3be8&&(this['_areaLight'+'sEnabled']=_0x2b3be8,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x40a8f1){this['_shadowsEn'+'abled']!==_0x40a8f1&&(this['_shadowsEn'+'abled']=_0x40a8f1,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x2db812){this['morph']=_0x2db812,_0x2db812['incRefCoun'+'t'](),this['device']=_0x2db812['device'];const _0x565e97=_0x2db812['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x565e97),this['_weights']=[],this['_weightMap']=new Map();for(let _0x44788f=-0x58f*0x2+-0x2138+0x2c56;_0x44788f<_0x2db812['_targets']['length'];_0x44788f++){const _0x261daa=_0x2db812['_targets'][_0x44788f];_0x261daa['name']&&this['_weightMap']['set'](_0x261daa['name'],_0x44788f),this['setWeight'](_0x44788f,_0x261daa['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x565e97),this['_shaderMor'+'phIndex']=new Uint32Array(_0x565e97);const _0x243425=(_0x530ef7,_0x504b9d)=>(this[_0x504b9d]=_0x2db812['_createTex'+'ture'](_0x530ef7,_0x2db812['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x504b9d],'depth':!(0x37f*-0x4+-0x49*0x12+0x131f)}));_0x2db812['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x243425('MorphRTPos','texturePos'+'itions')),_0x2db812['morphNorma'+'ls']&&(this['rtNormals']=_0x243425('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x2db812['morphTextu'+'reWidth'],_0x2db812['morphTextu'+'reHeight']]);const _0x7760bf=_0x2db812['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x7760bf['x']*(0x3*0x907+0xa2b*0x3+0x1*-0x3992),_0x7760bf['y']*(-0x1797+0x3*-0x395+0x225a),_0x7760bf['z']*(-0x950*0x1+0x63a+0x31a)]);const _0x3279da=_0x2db812['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x3279da['x']*(-0x1*0x1426+-0x1c39+0x9ad*0x5),_0x3279da['y']*(0x24ff+-0x1bcb+0xd6*-0xb),_0x3279da['z']*(-0x247+-0xfe8+-0x1*-0x1231)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0xe7b*0x1+0xa4e+-0x7*-0x99,0x120d*-0x2+0x21e0+0x23c,-0x266d+-0x47*-0x52+0x1*0xfb1]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x899+-0x908+0x70),-(0x4*-0x286+0x1d7a+-0x1361),-(0x13*-0x151+-0x12bf*0x2+0x3e82)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x266b+-0x342+0x465*-0x8);}['destroy'](){var _0x2e9ebc,_0x5e27a0,_0x3f8bff,_0x263a68;this['shader']=null;const _0x14e575=this['morph'];_0x14e575&&(this['morph']=null,_0x14e575['decRefCoun'+'t'](),_0x14e575['refCount']<0xf73+0x368+-0x12da&&_0x14e575['destroy']()),(_0x2e9ebc=this['rtPosition'+'s'])==null||_0x2e9ebc['destroy'](),this['rtPosition'+'s']=null,(_0x5e27a0=this['texturePos'+'itions'])==null||_0x5e27a0['destroy'](),this['texturePos'+'itions']=null,(_0x3f8bff=this['rtNormals'])==null||_0x3f8bff['destroy'](),this['rtNormals']=null,(_0x263a68=this['textureNor'+'mals'])==null||_0x263a68['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x17dc0f){if(typeof _0x17dc0f=='string'){const _0x382566=this['_weightMap']['get'](_0x17dc0f);return _0x382566===void(0x2500+-0x1*-0x2479+-0x4979)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x17dc0f+'.'),_0x382566;}return _0x17dc0f;}['getWeight'](_0xd40031){const _0x11eabe=this['_getWeight'+'Index'](_0xd40031);return this['_weights'][_0x11eabe];}['setWeight'](_0x5dc716,_0x2bd15f){const _0x2d66b0=this['_getWeight'+'Index'](_0x5dc716);w['assert'](_0x2d66b0>=-0x1*0x883+-0x2*-0x8ad+-0x8d7&&_0x2d66b0<this['morph']['_targets']['length']),this['_weights'][_0x2d66b0]=_0x2bd15f,this['_dirty']=!(-0x11*-0x5a+-0x1690+0x1096);}['_createSha'+'der'](_0x25f68e){const _0x5c0bf6=new Map();_0x5c0bf6['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x25f68e),this['morph']['intRenderF'+'ormat']&&_0x5c0bf6['set']('MORPH_INT','');const _0x2b7f92=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x25f68e+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x5c0bf6,'fragmentOutputTypes':[_0x2b7f92]});}['_updateTex'+'tureRender'+'Target'](_0x3777fb,_0x4fcb20,_0x336fd7){const {morph:_0x31112d,device:_0x31e1dd}=this;this['setAabbUni'+'forms'](_0x336fd7),this['morphTextu'+'reId']['setValue'](_0x336fd7?_0x31112d['targetsTex'+'turePositi'+'ons']:_0x31112d['targetsTex'+'tureNormal'+'s']),_0x31e1dd['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x4fcb20),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x31e1dd,_0x3777fb,this['shader']);}['_updateTex'+'tureMorph'](_0x18d40){const _0x426b18=this['device'];Q['pushGpuMar'+'ker'](_0x426b18,'MorphUpdat'+'e'),(_0x18d40>-0xfc1+-0x1ce4+0x2ca5||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x18d40,!(0xe*-0x10b+0x891+0x5*0x135)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x18d40,!(-0x1*0x163d+-0x1*0x1e3d+-0x5*-0xa7f)),this['zeroTextur'+'es']=_0x18d40===-0x1*-0x224f+0x4f+0xb8a*-0x3),Q['popGpuMark'+'er'](_0x426b18);}['setAabbUni'+'forms'](_0x4a32e6=!(-0x1407+-0x17d6+0x2bdd)){this['aabbSizeId']['setValue'](_0x4a32e6?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x4a32e6?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x5e5be5){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0xfb0+0x1*-0x13bb+-0x2*-0x206);const _0x410f4e=this['morph']['_targets'],_0x59b2c9=-0x82f*0x1+0x12e2+-0xab3+0.00001,_0x11d47d=this['_shaderMor'+'phWeights'],_0x3456fc=this['_shaderMor'+'phIndex'];let _0x8ab0e2=0x153d+0xeb8+-0x5*0x731;for(let _0x13b69e=-0x25*0xef+-0x1b83+0x3e0e;_0x13b69e<_0x410f4e['length'];_0x13b69e++)Math['abs'](this['getWeight'](_0x13b69e))>_0x59b2c9&&(_0x11d47d[_0x8ab0e2]=this['getWeight'](_0x13b69e),_0x3456fc[_0x8ab0e2]=_0x13b69e,_0x8ab0e2++);this['_updateTex'+'tureMorph'](_0x8ab0e2);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x55a+-0x1*0x1f45+0x4b*0x7d,this['_immutable']=!(-0x202f+-0x42c+-0xb3*-0x34));}['getGraph'](){return this['graph'];}['setGraph'](_0x11974f){this['graph']=_0x11974f;}['getCameras'](){return this['cameras'];}['setCameras'](_0x1a32ab){this['cameras']=_0x1a32ab;}['getLights'](){return this['lights'];}['setLights'](_0x5688a8){this['lights']=_0x5688a8;}['getMateria'+'ls'](){const _0x10433b=[];for(let _0x1f2033=0xab1+0x2a2*-0xd+0x1789;_0x1f2033<this['meshInstan'+'ces']['length'];_0x1f2033++){const _0x88d1b9=this['meshInstan'+'ces'][_0x1f2033];_0x10433b['indexOf'](_0x88d1b9['material'])===-(0x21dd+0xb*-0x33d+-0x1c3*-0x1)&&_0x10433b['push'](_0x88d1b9['material']);}return _0x10433b;}['clone'](){const _0x279d31=[],_0x3512be=[],_0x164d54=function(_0x431d62){const _0xee585=_0x431d62['clone']();_0x279d31['push'](_0x431d62),_0x3512be['push'](_0xee585);for(let _0x59aec3=-0xd59+-0x4*0x943+-0x733*-0x7;_0x59aec3<_0x431d62['_children']['length'];_0x59aec3++)_0xee585['addChild'](_0x164d54(_0x431d62['_children'][_0x59aec3]));return _0xee585;},_0x865f71=_0x164d54(this['graph']),_0x34d7fb=[],_0x496977=[],_0x35c668=[];for(let _0x4f8ef7=-0xbaa+0x1b*0x10b+-0x1*0x107f;_0x4f8ef7<this['skinInstan'+'ces']['length'];_0x4f8ef7++){const _0x20ba2f=this['skinInstan'+'ces'][_0x4f8ef7]['skin'],_0x262272=new Ol(_0x20ba2f),_0x3fc2d2=[];for(let _0x14de0a=-0x2fc+-0x1851+-0x1b4d*-0x1;_0x14de0a<_0x20ba2f['boneNames']['length'];_0x14de0a++){const _0x2852b5=_0x20ba2f['boneNames'][_0x14de0a],_0x5c78f4=_0x865f71['findByName'](_0x2852b5);_0x3fc2d2['push'](_0x5c78f4);}_0x262272['bones']=_0x3fc2d2,_0x496977['push'](_0x262272);}for(let _0x4028bb=-0xf63+-0x3*-0x5cb+-0x1fe;_0x4028bb<this['morphInsta'+'nces']['length'];_0x4028bb++){const _0x15b6e8=this['morphInsta'+'nces'][_0x4028bb]['morph'],_0x59a81f=new xa(_0x15b6e8);_0x35c668['push'](_0x59a81f);}for(let _0x1ec4e9=-0x393+0x1282+-0xeef;_0x1ec4e9<this['meshInstan'+'ces']['length'];_0x1ec4e9++){const _0x2da377=this['meshInstan'+'ces'][_0x1ec4e9],_0xf202d=_0x279d31['indexOf'](_0x2da377['node']),_0x5791b5=new He(_0x2da377['mesh'],_0x2da377['material'],_0x3512be[_0xf202d]);if(_0x2da377['skinInstan'+'ce']){const _0x9a7d91=this['skinInstan'+'ces']['indexOf'](_0x2da377['skinInstan'+'ce']);_0x5791b5['skinInstan'+'ce']=_0x496977[_0x9a7d91];}if(_0x2da377['morphInsta'+'nce']){const _0x2e9f06=this['morphInsta'+'nces']['indexOf'](_0x2da377['morphInsta'+'nce']);_0x5791b5['morphInsta'+'nce']=_0x35c668[_0x2e9f06];}_0x34d7fb['push'](_0x5791b5);}const _0x360d6e=new sr();return _0x360d6e['graph']=_0x865f71,_0x360d6e['meshInstan'+'ces']=_0x34d7fb,_0x360d6e['skinInstan'+'ces']=_0x496977,_0x360d6e['morphInsta'+'nces']=_0x35c668,_0x360d6e['getGraph']()['syncHierar'+'chy'](),_0x360d6e;}['destroy'](){const _0x52713a=this['meshInstan'+'ces'];for(let _0x1876ff=0x17d3+0x22ce+-0x3aa1;_0x1876ff<_0x52713a['length'];_0x1876ff++)_0x52713a[_0x1876ff]['destroy']();this['meshInstan'+'ces']['length']=-0xe5f+-0xba3*0x2+0x25a5;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x2f2b6f,_0x5c7fd0,{preferHighPrecision:_0x75786a=!(-0x167f*0x1+0x204+0x147c)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x5c7fd0,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5c7fd0);const _0x43a600=_0x5c7fd0;this['preferHigh'+'Precision']=_0x75786a,w['assert'](_0x2f2b6f['every'](_0x44b177=>!_0x44b177['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x2f2b6f['slice']();const _0x29b12e=_0x43a600['textureHal'+'fFloatRend'+'erable']?nt:void(-0x5*0x56f+-0x202*-0x6+0x4f*0x31),_0x35cdc2=_0x43a600['textureFlo'+'atRenderab'+'le']?Xt:void(0xc7a+0x10c0+-0x1d3a);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x35cdc2??_0x29b12e:_0x29b12e??_0x35cdc2,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x532bc8,_0x47a1aa,_0x2b0a24;(_0x532bc8=this['vertexBuff'+'erIds'])==null||_0x532bc8['destroy'](),this['vertexBuff'+'erIds']=null,(_0x47a1aa=this['targetsTex'+'turePositi'+'ons'])==null||_0x47a1aa['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x2b0a24=this['targetsTex'+'tureNormal'+'s'])==null||_0x2b0a24['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x3aa5cc=new D(),_0x512180=new D();for(let _0x5ce248=0x2*-0x7a+0x1885*-0x1+0x1979;_0x5ce248<this['_targets']['length'];_0x5ce248++){const _0x482f9b=this['_targets'][_0x5ce248]['aabb'];_0x3aa5cc['min'](_0x482f9b['getMin']()),_0x512180['max'](_0x482f9b['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x3aa5cc,_0x512180);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x5c791f=-0x1467+0x1b72+-0x70b;_0x5c791f<this['_targets']['length'];_0x5c791f++)this['_targets'][_0x5c791f]['_postInit']();}['_findSpars'+'eSet'](_0x24faef,_0x5d7900,_0x1130e1){let _0x2d2153=0x1821+0x390+-0x1bb0;const _0x4f5e0d=_0x24faef[0xe94+0xb18+0x2*-0xcd6]['length'];for(let _0x1ef345=0x48*-0x1+-0xbd+-0x105*-0x1;_0x1ef345<_0x4f5e0d;_0x1ef345+=0x113a+0x582*-0x5+0xa53){let _0x565eaa=!(-0xf33+-0x1fc5+-0x19*-0x1e1);for(let _0x4741b5=0x1b5b+-0x68f*0x1+0x16*-0xf2;_0x4741b5<_0x24faef['length'];_0x4741b5++){const _0x2251cd=_0x24faef[_0x4741b5];if(_0x2251cd[_0x1ef345]!==-0x4c6*-0x6+-0x220f*0x1+0x1*0x56b||_0x2251cd[_0x1ef345+(0x2405*-0x1+-0x1564+0x396a)]!==0x1*0x41e+0x109f*-0x1+0xc81*0x1||_0x2251cd[_0x1ef345+(-0x1*0xc65+0x1483+-0x81c)]!==0x2*0x121+-0x758+0x2a*0x1f){_0x565eaa=!(-0x11c*0x1c+0xce1*0x1+-0xf5*-0x13);break;}}_0x565eaa?(_0x5d7900['push'](_0x2d2153),_0x1130e1['push'](_0x1ef345/(-0x21*0xab+0x919+0xcf5)),_0x2d2153++):_0x5d7900['push'](0xb60+-0x446*0x1+-0x12*0x65);}return _0x2d2153;}['_initTextu'+'reBased'](){const _0x17a839=[],_0x1bbf6a=[],_0x205b97=this['_targets'];for(let _0x298753=-0x4*-0x511+0x10*0x186+-0x2ca4;_0x298753<_0x205b97['length'];_0x298753++){const _0x20d01d=_0x205b97[_0x298753];_0x20d01d['options']['deltaPosit'+'ions']&&(_0x17a839['push'](_0x20d01d['options']['deltaPosit'+'ions']),_0x1bbf6a['push'](!(-0x18c3+0xb22+0xda1*0x1))),_0x20d01d['options']['deltaNorma'+'ls']&&(_0x17a839['push'](_0x20d01d['options']['deltaNorma'+'ls']),_0x1bbf6a['push'](!(0x599*-0x1+0x1*-0xdd3+0x136d)));}const _0x8bc5bb=[],_0x1dc960=[],_0xece67c=this['_findSpars'+'eSet'](_0x17a839,_0x8bc5bb,_0x1dc960),_0xecef12=this['device']['maxTexture'+'Size'];let _0x131b27=Math['ceil'](Math['sqrt'](_0xece67c));_0x131b27=Math['min'](_0x131b27,_0xecef12);const _0x3e586d=Math['ceil'](_0xece67c/_0x131b27);if(_0x3e586d>_0xecef12){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x131b27+'x'+_0x3e586d+(',\x20max\x20text'+'ure\x20size:\x20')+_0xecef12+'x'+_0xecef12+'.');return;}this['morphTextu'+'reWidth']=_0x131b27,this['morphTextu'+'reHeight']=_0x3e586d;let _0x28b222=!(0xdf*0x27+0x1*0x12ac+-0x4*0xd29);const _0x2c41f4=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x28b222=!(-0xa*-0x47+-0x1b5d+0x1897));const _0x420ec3=[],_0x246a49=[],_0x389bb3=_0x131b27*_0x3e586d*(-0x45d*-0x6+0x2*-0xde1+0x198);for(let _0x576d64=-0x132d+-0x5c2+0x18ef;_0x576d64<_0x17a839['length'];_0x576d64++){const _0x23162e=_0x17a839[_0x576d64],_0x294254=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x389bb3):new Float32Array(_0x389bb3);if((_0x1bbf6a[_0x576d64]?_0x420ec3:_0x246a49)['push'](_0x294254),_0x28b222)for(let _0x5c8edd=0x4*-0x4e1+-0x1d38+0x30bc;_0x5c8edd<_0x1dc960['length'];_0x5c8edd++){const _0x3af54b=_0x1dc960[_0x5c8edd]*(0x36*-0x9c+-0xa8*-0xd+0x1863),_0x96a18c=_0x5c8edd*(-0x242f+0x236a+-0xc9*-0x1)+(-0x23c5*-0x1+0x1239*0x1+0x11fe*-0x3);_0x294254[_0x96a18c]=_0x2c41f4(_0x23162e[_0x3af54b]),_0x294254[_0x96a18c+(-0x11*0x219+0x67*0x1a+0x1934)]=_0x2c41f4(_0x23162e[_0x3af54b+(-0x22c5+-0x23*0xe3+-0x1*-0x41cf)]),_0x294254[_0x96a18c+(0x1*-0x21f7+-0x11be+0x33b7)]=_0x2c41f4(_0x23162e[_0x3af54b+(-0x10be+0xbc7+-0x43*-0x13)]);}else for(let _0x36665a=-0x1a2e+-0xdf*0x3+0x9*0x333;_0x36665a<_0x1dc960['length'];_0x36665a++){const _0x3d4736=_0x1dc960[_0x36665a]*(-0xd*-0x2a7+0x1729*-0x1+0x3c5*-0x3),_0x1d68e6=_0x36665a*(-0x2*-0x1271+0x73*0x37+-0x1*0x3d93)+(-0xc6*-0x12+-0x14b8+0x6d0);_0x294254[_0x1d68e6]=_0x23162e[_0x3d4736],_0x294254[_0x1d68e6+(0x1855+0x3*-0x5ce+-0x6ea)]=_0x23162e[_0x3d4736+(0x2*-0x755+0x171*0xd+-0x1*0x412)],_0x294254[_0x1d68e6+(0x5d3*-0x1+-0x1ab*0xb+-0x5*-0x4d6)]=_0x23162e[_0x3d4736+(-0x1677+-0x1a5*-0x17+-0xf5a)];}}_0x420ec3['length']>-0x7a1+-0x910+-0x1*-0x10b1&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x205b97['length'],[_0x420ec3]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x246a49['length']>0x2*0xadf+0x563*-0x3+-0x1*0x595&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x205b97['length'],[_0x246a49]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0xd8f2ee=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x1f63*-0x1+0x3d0+-0x2333)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0xd8f2ee,_0x8bc5bb['length']),_0x8bc5bb['length'],{'data':new Uint32Array(_0x8bc5bb)}),!(-0x194d+-0x198e+0x32db);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x8e4+0x1b76*-0x1+0x245b),this['_morphNorm'+'als']=!(-0x2534+-0x1e74+0x43a9*0x1);for(let _0x1d4612=0x1*0x1aa8+-0x18d*-0xc+-0x2d44*0x1;_0x1d4612<this['_targets']['length'];_0x1d4612++){const _0x40c332=this['_targets'][_0x1d4612];_0x40c332['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0xded+0xda3*0x1+-0x4a*-0x1)),_0x40c332['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x1*0xdfd+0x745*-0x1+0x1542));}}['_createTex'+'ture'](_0x3837f5,_0x129fcd,_0x3a0114,_0xe69dc9){return new _e(this['device'],{'levels':_0xe69dc9,'arrayLength':_0x3a0114,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x129fcd,'cubemap':!(0x1f9b+0x20eb+-0x4085),'mipmaps':!(0xd9*-0x18+-0x8a8+0x1d01),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x3837f5});}}class Md{constructor(_0x52e291){h(this,'used',!(0x3fa*-0x4+-0x1*0x97b+0x1964*0x1)),(w['assert'](arguments['length']===0xfd0+-0x2*0x1318+0x1661),this['options']=_0x52e291,this['_name']=_0x52e291['name'],this['_defaultWe'+'ight']=_0x52e291['defaultWei'+'ght']||-0x1d*-0xa7+-0x1db2+0xac7,this['_aabb']=_0x52e291['aabb'],this['deltaPosit'+'ions']=_0x52e291['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x52e291['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x52e291['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x18f7+0x121+0x8*-0x343);}}let Ei,Z_=0x22fc+-0x2451+0x156;const ce=-0x138c+0x57*-0x4e+0x2e12,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x302d39){return _0x302d39-Math['floor'](_0x302d39);}function fA(_0x8c615d){return Math['max'](Math['min'](_0x8c615d,0x673+-0x5*-0x40+-0x7b2),-0x43*-0x4f+-0xd*0x167+0x2*-0x139);}function gf(_0x49c764,_0x50fa91){return _0x49c764-_0x50fa91*Math['floor'](_0x49c764/_0x50fa91);}function uA(_0x1dcd69){let _0x32c461=pn(_0x1dcd69),_0x65566f=pn((-0xe43+-0x2078+0x2fba)*_0x1dcd69),_0x4312ad=pn((-0x1f23b*0x1+0x89*-0xde+0x3670a)*_0x1dcd69),_0x2b7824=pn((-0x1c62890+-0x57b*-0x35900+-0x94d*0xc0b5)*_0x1dcd69);return _0x32c461-=_0x65566f/(0x17d*0x13+-0x2*0x33a+0xa6a*-0x2),_0x65566f-=_0x4312ad/(-0xa64+-0x10d*-0x1d+-0x1*0x1316),_0x4312ad-=_0x2b7824/(-0x1*0x17e1+0x2e*0xb6+-0x7d4),_0x2b7824-=_0x2b7824/(0x25f0+-0x1f*0x101+-0x5d2),[_0x32c461,_0x65566f,_0x4312ad,_0x2b7824];}function uc(_0x5abc2b){let _0x14fab8=pn(_0x5abc2b),_0x7ab659=pn((0x14e*0x1c+-0x24d+-0x213c)*_0x5abc2b);return _0x14fab8-=_0x7ab659/(0x0+-0x259a+-0x1*-0x2699),_0x7ab659-=_0x7ab659/(0x2246+-0x302+-0x3*0xa17),[_0x14fab8,_0x7ab659];}class pA{constructor(_0x1d5a3c){this['_emitter']=_0x1d5a3c;}['calcSpawnP'+'osition'](_0x2c2f4d,_0x123ca6,_0x267c3d,_0x4ce103,_0x139184){const _0x45b127=this['_emitter'],_0x5a34d4=Math['random'](),_0x5d0942=Math['random'](),_0x2ec3be=Math['random'](),_0x5d9239=Math['random']();if(_0x45b127['useCpu']&&(_0x2c2f4d[_0x139184*ce+(0x19*0x87+0x302+0x1031*-0x1)+_0x45b127['numParticl'+'esPot']*(0x847*0x2+0x185*-0x15+0x51f*0x3)*ce]=_0x5a34d4,_0x2c2f4d[_0x139184*ce+(-0x74f*-0x1+-0xd81+-0x3*-0x211)+_0x45b127['numParticl'+'esPot']*(0x4f9+-0x24a2+-0x2e1*-0xb)*ce]=_0x5d0942,_0x2c2f4d[_0x139184*ce+(0x100+-0x1*0xf0d+0xe0f)+_0x45b127['numParticl'+'esPot']*(-0x18cf*-0x1+0x1cf6+-0x35c3)*ce]=_0x2ec3be),tt['x']=_0x5a34d4-(0x676*0x5+-0x4a3+0x939*-0x3+0.5),tt['y']=_0x5d0942-(0x5*0x5c6+0x18e+0x6*-0x512+0.5),tt['z']=_0x2ec3be-(-0x13*0xd5+0x1dda+-0xe0b+0.5),_0x45b127['emitterSha'+'pe']===ai){const _0x48d462=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x5c4668=_0x48d462+(-0xf2c+-0x1cd4+-0x2c*-0x100+0.5-_0x48d462)*_0x267c3d[-0xf3c+0xe3f+0xfd*0x1],_0x1bd61d=_0x48d462+(0xe3*-0xd+0x2c*-0x29+0x1293+0.5-_0x48d462)*_0x267c3d[0x1*0x1875+0xc28+-0x249c],_0x582396=_0x48d462+(0xcc9+0x1*0x609+-0x12d2+0.5-_0x48d462)*_0x267c3d[0x1*-0x1783+0x2b*0x2b+0x254*0x7];tt['x']=_0x5c4668*(_0x48d462===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x5*0x5e+0x255b+-0x2383)*tt['x']),tt['y']=_0x1bd61d*(_0x48d462===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0xc0f+-0x296*-0x7+-0x3*0x203)*tt['y']),tt['z']=_0x582396*(_0x48d462===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0xe*0x161+0x336+-0x2*0xb41)*tt['z']),_0x45b127['localSpace']?ti['copy'](_0x123ca6['transformP'+'oint'](tt)):ti['copy'](_0x4ce103)['add'](_0x123ca6['transformP'+'oint'](tt));}else{tt['normalize']();const _0x5e01e6=_0x45b127['emitterRad'+'ius']===0x9*0xf9+-0x433+0x16*-0x35?-0xa4a*0x1+-0x2f5+0xd3f:_0x45b127['emitterRad'+'iusInner']/_0x45b127['emitterRad'+'ius'],_0x2d56ee=_0x5d9239*(0x71d*-0x3+-0xdc7*0x1+-0x6f*-0x51-_0x5e01e6)+_0x5e01e6;_0x45b127['localSpace']?ti['copy'](tt['mulScalar'](_0x2d56ee*_0x45b127['emitterRad'+'ius'])):ti['copy'](_0x4ce103)['add'](tt['mulScalar'](_0x2d56ee*_0x45b127['emitterRad'+'ius']));}let _0x2e103d=-Y['lerp'](_0x45b127['rate'],_0x45b127['rate2'],_0x5a34d4)*_0x139184;if(_0x45b127['pack8']){const _0x4d8765=(ti['x']-_0x45b127['worldBound'+'s']['center']['x'])/_0x45b127['worldBound'+'sSize']['x']+(-0x267b+-0x2*0x111d+-0xa63*-0x7+0.5),_0x527aae=(ti['y']-_0x45b127['worldBound'+'s']['center']['y'])/_0x45b127['worldBound'+'sSize']['y']+(0x5fc*0x2+-0x15ba+-0x2*-0x4e1+0.5),_0x1848dc=(ti['z']-_0x45b127['worldBound'+'s']['center']['z'])/_0x45b127['worldBound'+'sSize']['z']+(0x11*-0xa9+-0xa8b*0x2+0x204f+0.5);let _0x345720=Y['lerp'](_0x45b127['startAngle']*Y['DEG_TO_RAD'],_0x45b127['startAngle'+'2']*Y['DEG_TO_RAD'],_0x5a34d4);_0x345720=_0x345720%(Math['PI']*(-0x69a+-0x1*0x3ca+0xa66))/(Math['PI']*(0x38*-0x2a+-0x1*0x1e71+0x27a3));const _0x1a4e5a=uc(_0x4d8765);_0x2c2f4d[_0x139184*ce]=_0x1a4e5a[-0x35*-0x5d+-0x74*-0x18+-0x1e21],_0x2c2f4d[_0x139184*ce+(-0x155+0x20bd+-0x1f67)]=_0x1a4e5a[0x2*-0x7fb+-0xaec+-0x1*-0x1ae3];const _0x31e78b=uc(_0x527aae);_0x2c2f4d[_0x139184*ce+(-0x10d6+-0xda6*0x2+0x19*0x1c4)]=_0x31e78b[0x1c45+-0x7ab*0x3+-0x2a2*0x2],_0x2c2f4d[_0x139184*ce+(-0x373+0x1*-0x667+0x9dd)]=_0x31e78b[-0x10*-0xc2+0x1d39+-0x2958];const _0x1c8010=uc(_0x1848dc);_0x2c2f4d[_0x139184*ce+(-0x16d8+-0x1252*0x2+-0xbc*-0x51)+_0x45b127['numParticl'+'esPot']*ce]=_0x1c8010[-0x228e*-0x1+0x4a*-0x33+-0x13d0],_0x2c2f4d[_0x139184*ce+(-0x25*0xaf+-0xb37+0x2cf*0xd)+_0x45b127['numParticl'+'esPot']*ce]=_0x1c8010[0x992+0x1838+-0x21c9];const _0x3b5bbe=uc(_0x345720);_0x2c2f4d[_0x139184*ce+(-0x1b1c+-0x26d0+0x3*0x15fa)+_0x45b127['numParticl'+'esPot']*ce]=_0x3b5bbe[0x5*-0x78f+0x15a9+0x1022],_0x2c2f4d[_0x139184*ce+(0x8*0x30+-0x12e9+0xdf*0x14)+_0x45b127['numParticl'+'esPot']*ce]=_0x3b5bbe[0x1baa*0x1+-0x1ddb*0x1+0x232];const _0x43ae63=-0x2596+0x1*0x4eb+0xc*0x2b9;_0x2c2f4d[_0x139184*ce+(-0xac0*-0x2+-0x5c*0x57+-0x9c7*-0x1)+_0x45b127['numParticl'+'esPot']*ce*(0x119*-0x5+0x1*0xda+0x1d*0x29)]=_0x43ae63;const _0x257cef=Math['max'](_0x45b127['lifetime'],(_0x45b127['numParticl'+'es']-(0x12*0x3c+-0x1*0x44+-0x3f3))*Math['max'](_0x45b127['rate'],_0x45b127['rate2'])),_0xf72624=_0x45b127['lifetime']+(-0x10f2+0x18b5+0x1*-0x7c2);_0x2e103d=(_0x2e103d+_0x257cef)/(_0x257cef+_0xf72624);const _0x135cdb=uA(_0x2e103d);_0x2c2f4d[_0x139184*ce+(-0x1679+0x1285*-0x1+0x28fe)+_0x45b127['numParticl'+'esPot']*ce*(-0x14bb+0x25f*0x3+0xda1)]=_0x135cdb[-0x1e1a+0x230c*0x1+0x6*-0xd3],_0x2c2f4d[_0x139184*ce+(-0x111d+-0x1d04+0x2e22)+_0x45b127['numParticl'+'esPot']*ce*(0x165a+-0x4*0x7e1+-0x1d*-0x51)]=_0x135cdb[-0xda4+-0x60a+0x13af],_0x2c2f4d[_0x139184*ce+(-0x4f5*-0x5+-0x1fa6+0x6df)+_0x45b127['numParticl'+'esPot']*ce*(-0x9*-0x259+-0x4*-0x779+0x3302*-0x1)]=_0x135cdb[-0x82f+-0x603+0xe34],_0x2c2f4d[_0x139184*ce+(0x21ac+-0xf*0x110+-0x11b9)+_0x45b127['numParticl'+'esPot']*ce*(0x21f*-0xa+0x563*-0x7+0x3aee)]=_0x135cdb[0xa04*0x1+0x83*-0x46+0x19d1];}else _0x2c2f4d[_0x139184*ce]=ti['x'],_0x2c2f4d[_0x139184*ce+(-0x2196+-0x11da+0x3371)]=ti['y'],_0x2c2f4d[_0x139184*ce+(-0x4c6+-0x7a*-0x3d+-0x184a*0x1)]=ti['z'],_0x2c2f4d[_0x139184*ce+(0x14f*0x1+0x2138+-0x2f*0xbc)]=Y['lerp'](_0x45b127['startAngle']*Y['DEG_TO_RAD'],_0x45b127['startAngle'+'2']*Y['DEG_TO_RAD'],_0x5a34d4),_0x2c2f4d[_0x139184*ce+(0x8ad+0x1efa+0xec*-0x2b)+_0x45b127['numParticl'+'esPot']*ce]=_0x2e103d;}['update'](_0x4ffe7b,_0xfe9cb1,_0x5c6ca1,_0x22bc80,_0x53203c,_0x474fba,_0x98bf68,_0xa58e1b){let _0x151419,_0x292af0,_0x4a7450;const _0x5e8b54=this['_emitter'];if(_0x5e8b54['meshInstan'+'ce']['node']){const _0x422b29=_0x5e8b54['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4627c6=-0x225d+0x1341+-0x4*-0x3c7;_0x4627c6<-0x34*0x17+0x1996+-0x14de;_0x4627c6++)mf['data'][_0x4627c6]=_0x422b29['data'][_0x4627c6];_f['copy'](mf),_f['invert'](),Ei=_0x5e8b54['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x474fba=_0x5e8b54['meshInstan'+'ce']['node']===null||_0x5e8b54['localSpace']?D['ZERO']:_0x5e8b54['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x5392f2=_0x5e8b54['camera']?_0x5e8b54['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x3cfc0f=_0x5e8b54['useMesh']?-0x61*-0x46+0x739+0xb3a*-0x3:0x24e3*-0x1+-0x1aa3*0x1+-0x3f95*-0x1;let _0x587ea1,_0x18f439,_0x5a210c,_0x4bac3a,_0x5e3de3,_0xa9318,_0x282fa5,_0x1ee602,_0x538b63;const _0x48d1dd=_0x5e8b54['precision']-(0x2152*0x1+-0x2*-0xb19+-0x3783);for(let _0xf62f88=0x210b+-0x92f+-0x1*0x17dc;_0xf62f88<_0x5e8b54['numParticl'+'es'];_0xf62f88++){const _0x5de14f=Math['floor'](_0x5e8b54['vbCPU'][_0xf62f88*_0x5e8b54['numParticl'+'eVerts']*(_0x5e8b54['useMesh']?0x11ee+-0x16*0x14b+0xa8a:-0xcd9*0x2+-0x52*0x4b+0x1094*0x3)+(0x147f+-0xa*0x1b7+-0x356)]),_0x238288=_0x5c6ca1[_0x5de14f*ce+(0x16e7+0x1039+-0x8*0x4e4)+_0x5e8b54['numParticl'+'esPot']*(-0xd92+0x2e*-0x1+0xdc2)*ce];Ns['x']=_0x238288,Ns['y']=_0x5c6ca1[_0x5de14f*ce+(0x1aa2+0x27+-0x1ac8)+_0x5e8b54['numParticl'+'esPot']*(-0x4a*-0x5e+-0x4f5+-0x1*0x1635)*ce],Ns['z']=_0x5c6ca1[_0x5de14f*ce+(-0x117a+-0x2*-0xbaf+-0xfb*0x6)+_0x5e8b54['numParticl'+'esPot']*(0x1*-0x1e1b+0x47b+0x22*0xc1)*ce];const _0x4291ba=_0x5e8b54['rate']+(_0x5e8b54['rate2']-_0x5e8b54['rate'])*_0x238288,_0x443e53=_0x5e8b54['lifetime'];let _0x3dbc47=_0x5c6ca1[_0x5de14f*ce+(0x116e+0x1325+-0x2490)+_0x5e8b54['numParticl'+'esPot']*ce]+_0x98bf68;const _0x266514=fA(_0x3dbc47/_0x443e53);let _0xad05e9=0x221f+0x1d24+0xca7*-0x5,_0x1655c0=0x2*0xed5+0x4e7+0x2291*-0x1;const _0x27bbc6=0x2*0x1b7+-0x1a9+-0x1*0x1c5;(_0x3dbc47-_0x98bf68<=0xc4a+-0x19d0+0x482*0x3||_0x3dbc47>=_0x443e53)&&this['calcSpawnP'+'osition'](_0x5c6ca1,_0x22bc80,_0x53203c,_0x474fba,_0x5de14f);let _0x5a5cc3=_0x3dbc47>0xbe5+-0x3f7+0x3f7*-0x2&&_0x3dbc47<_0x443e53;_0x5a5cc3&&(_0x4a7450=_0x266514*_0x48d1dd,_0x587ea1=Math['floor'](_0x4a7450),_0x18f439=Math['ceil'](_0x4a7450),_0x4a7450%=0x7df+-0x2223+0x1a45,_0x151419=_0x5e8b54['qRotSpeed'][_0x587ea1],_0x292af0=_0x5e8b54['qRotSpeed'][_0x18f439],_0x5a210c=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qRotSpeed2'][_0x587ea1],_0x292af0=_0x5e8b54['qRotSpeed2'][_0x18f439],_0x4bac3a=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qScale'][_0x587ea1],_0x292af0=_0x5e8b54['qScale'][_0x18f439],_0xad05e9=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qScale2'][_0x587ea1],_0x292af0=_0x5e8b54['qScale2'][_0x18f439],_0x5e3de3=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qAlpha'][_0x587ea1],_0x292af0=_0x5e8b54['qAlpha'][_0x18f439],_0xa9318=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qAlpha2'][_0x587ea1],_0x292af0=_0x5e8b54['qAlpha2'][_0x18f439],_0x282fa5=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qRadialSpe'+'ed'][_0x587ea1],_0x292af0=_0x5e8b54['qRadialSpe'+'ed'][_0x18f439],_0x1ee602=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qRadialSpe'+'ed2'][_0x587ea1],_0x292af0=_0x5e8b54['qRadialSpe'+'ed2'][_0x18f439],_0x538b63=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x1ee602+=(_0x538b63-_0x1ee602)*(_0x238288*(0x260e+-0x9d*0x1+-0x10f*0x23)%(0x2*0x12b5+0x1a91+-0x13*0x35e)),Na['x']=_0x5c6ca1[_0x5de14f*ce],Na['y']=_0x5c6ca1[_0x5de14f*ce+(0x9*0x108+-0x1db3+0x1*0x146c)],Na['z']=_0x5c6ca1[_0x5de14f*ce+(-0xfb7+0x386+-0x15b*-0x9)],_0x5e8b54['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x474fba),fo['normalize']()['mulScalar'](_0x1ee602),_0x587ea1*=0x1495+0x1083*-0x1+-0x40f,_0x18f439*=0xc87*-0x2+0x24a8+-0xb97,_0x151419=_0x5e8b54['qLocalVelo'+'city'][_0x587ea1],_0x292af0=_0x5e8b54['qLocalVelo'+'city'][_0x18f439],_t['x']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qLocalVelo'+'city'][_0x587ea1+(0x5*-0x6a1+0xb24+0x1602)],_0x292af0=_0x5e8b54['qLocalVelo'+'city'][_0x18f439+(-0x1*0x7ab+0xa*0x2d1+-0x147e*0x1)],_t['y']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qLocalVelo'+'city'][_0x587ea1+(-0x1*0x1951+0x26db+-0xd88)],_0x292af0=_0x5e8b54['qLocalVelo'+'city'][_0x18f439+(-0x7f6*0x1+-0x7d0+0xfc8)],_t['z']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qLocalVelo'+'city2'][_0x587ea1],_0x292af0=_0x5e8b54['qLocalVelo'+'city2'][_0x18f439],Ua['x']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qLocalVelo'+'city2'][_0x587ea1+(-0x26f5*0x1+-0x23bb+-0x4ab1*-0x1)],_0x292af0=_0x5e8b54['qLocalVelo'+'city2'][_0x18f439+(-0x183a+0x3c5+0x1476)],Ua['y']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qLocalVelo'+'city2'][_0x587ea1+(0x32*0x73+0x954+-0x1fc8)],_0x292af0=_0x5e8b54['qLocalVelo'+'city2'][_0x18f439+(0x213d*0x1+-0x1798+0x9a3*-0x1)],Ua['z']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity'][_0x587ea1],_0x292af0=_0x5e8b54['qVelocity'][_0x18f439],ns['x']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity'][_0x587ea1+(0x11*-0x1e7+0xa4b+0x160d)],_0x292af0=_0x5e8b54['qVelocity'][_0x18f439+(0x7cd*-0x4+0x226c+-0x337)],ns['y']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity'][_0x587ea1+(-0x1d56+-0x6*0x32f+0x3072)],_0x292af0=_0x5e8b54['qVelocity'][_0x18f439+(-0x152+-0x1*-0x1efd+-0x1da9)],ns['z']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity2'][_0x587ea1],_0x292af0=_0x5e8b54['qVelocity2'][_0x18f439],ka['x']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity2'][_0x587ea1+(0xdf0+0x87*0x37+-0x2af0)],_0x292af0=_0x5e8b54['qVelocity2'][_0x18f439+(-0x29*0x8b+-0x6e*0x59+0x3c82)],ka['y']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_0x151419=_0x5e8b54['qVelocity2'][_0x587ea1+(0x790*-0x1+-0xabf*-0x3+-0x18ab)],_0x292af0=_0x5e8b54['qVelocity2'][_0x18f439+(-0x1*0x1d53+0x146+0x1*0x1c0f)],ka['z']=_0x151419+(_0x292af0-_0x151419)*_0x4a7450,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x5e8b54['initialVel'+'ocity']>0x1574*0x1+0x2413*-0x1+0xe9f&&(_0x5e8b54['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x22dd+0x79*-0x17+-0x4cc*0x5)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x5e8b54['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x5e8b54['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x5a210c+=(_0x4bac3a-_0x5a210c)*Ns['y'],_0xad05e9=(_0xad05e9+(_0x5e3de3-_0xad05e9)*(_0x238288*(0x74c*0x5+-0x2d0+-0x5*-0x114)%(-0x80*-0x1a+-0x1554+0x855)))*Z_,_0x1655c0=(_0x282fa5-_0xa9318)*(_0x238288*(-0x2651+-0x8a*0x2f+-0x438f*-0x1)%(-0x9c1+0x1f*-0x117+0x2b8b)),_0x5e8b54['meshInstan'+'ce']['node']&&(_0x5e8b54['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x5e8b54['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x98bf68)),zt['copy'](Q_),_0x5c6ca1[_0x5de14f*ce]=zt['x'],_0x5c6ca1[_0x5de14f*ce+(-0xc83*-0x1+0x1350+-0x2*0xfe9)]=zt['y'],_0x5c6ca1[_0x5de14f*ce+(0x1433*-0x1+-0x2*-0x11c2+-0xf4f*0x1)]=zt['z'],_0x5c6ca1[_0x5de14f*ce+(-0x1edd+0xadc+-0x15*-0xf4)]+=_0x5a210c*_0x98bf68,_0x5e8b54['wrap']&&_0x5e8b54['wrapBounds']&&(_0x5e8b54['localSpace']||zt['sub'](_0x474fba),zt['x']=gf(zt['x'],_0x5e8b54['wrapBounds']['x'])-_0x5e8b54['wrapBounds']['x']*(-0x580+-0x16a7+0x1c27+0.5),zt['y']=gf(zt['y'],_0x5e8b54['wrapBounds']['y'])-_0x5e8b54['wrapBounds']['y']*(-0x930+0xd5*0x14+-0x774+0.5),zt['z']=gf(zt['z'],_0x5e8b54['wrapBounds']['z'])-_0x5e8b54['wrapBounds']['z']*(-0x4*-0x694+-0x2*-0xeab+-0x37a6+0.5),_0x5e8b54['localSpace']||zt['add'](_0x474fba)),_0x5e8b54['sort']>-0x6*-0x257+-0x81*-0x2b+-0x23b5&&(_0x5e8b54['sort']===0x1ebf+0x12ad*0x1+0x316b*-0x1?(kr['copy'](zt)['sub'](_0x5392f2),_0x5e8b54['particleDi'+'stance'][_0x5de14f]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x5e8b54['sort']===0xc96+-0x1874+-0x4c*-0x28?_0x5e8b54['particleDi'+'stance'][_0x5de14f]=_0x3dbc47:_0x5e8b54['sort']===-0xdf*-0x1+0xd*0xa3+0x1*-0x923&&(_0x5e8b54['particleDi'+'stance'][_0x5de14f]=-_0x3dbc47))),_0xa58e1b?_0x3dbc47<0x2190+0x1024+-0x31b4&&(_0x5c6ca1[_0x5de14f*ce+(-0x1f3*0x7+-0x295*-0x3+-0x59*-0x11)+_0x5e8b54['numParticl'+'esPot']*(-0xd8*0x16+0x1*-0x12b2+0x2544)*ce]=-(0x2f9*0x1+0x1fc8+-0x22c0)):(_0x3dbc47>=_0x443e53&&(_0x3dbc47-=Math['max'](_0x443e53,(_0x5e8b54['numParticl'+'es']-(0x12*0x1cf+-0x14e0+-0x7*0x1ab))*_0x4291ba),_0x5c6ca1[_0x5de14f*ce+(-0x270a+-0xe3*0x1d+-0x2*-0x2062)+_0x5e8b54['numParticl'+'esPot']*(-0x2*0x869+0x1e01+0xd2d*-0x1)*ce]=_0x5e8b54['loop']?0xa75*-0x3+-0x4*-0xa9+0x994*0x3:-(-0x21d6*-0x1+0x1894*0x1+0x313*-0x13)),_0x3dbc47<-0x1c68+-0x7b9+0x2421&&_0x5e8b54['loop']&&(_0x5c6ca1[_0x5de14f*ce+(0xa6d*0x1+-0x9a4+0x2*-0x63)+_0x5e8b54['numParticl'+'esPot']*(-0xa1b*0x1+0x8e*-0x3+-0xc9*-0xf)*ce]=-0x12a*0xf+0x6b6*0x5+0x1*-0x1017)),_0x5c6ca1[_0x5de14f*ce+(-0x35f*-0x5+0xa36+-0x1b0e)+_0x5e8b54['numParticl'+'esPot']*(0x7*0x2d+0xd1e*-0x1+0x1*0xbe5)*ce]<0x162*-0x16+0x1f1e+-0xb2&&(_0x5a5cc3=!(-0x1f32+-0x23ef+0x4322)),_0x5c6ca1[_0x5de14f*ce+(-0x1cdf+0x63a+0xb54*0x2)+_0x5e8b54['numParticl'+'esPot']*ce]=_0x3dbc47;for(let _0x575e80=0x26ad*-0x1+-0x4*0x42e+-0x1277*-0x3;_0x575e80<_0x5e8b54['numParticl'+'eVerts'];_0x575e80++){const _0x4ce5b8=(_0xf62f88*_0x5e8b54['numParticl'+'eVerts']+_0x575e80)*(_0x5e8b54['useMesh']?0x1*-0x1b83+-0x43c*0x3+0x283d*0x1:0x1a8d+0x12e*-0x17+0x99);let _0x5d0d67=_0x5e8b54['vbCPU'][_0x4ce5b8],_0x3a77ae=_0x5e8b54['vbCPU'][_0x4ce5b8+(-0xfa5+-0xb*-0x6b+-0xb0d*-0x1)],_0x522023=_0x5e8b54['vbCPU'][_0x4ce5b8+(-0x197*-0x9+0x2*-0x8b3+-0xd*-0x3d)];_0x5a5cc3||(_0x5d0d67=_0x3a77ae=_0x522023=0xf9*0x1+-0x1*0x1b57+0x1a5e);const _0xc4d5ad=_0xf62f88*_0x5e8b54['numParticl'+'eVerts']*_0x3cfc0f+_0x575e80*_0x3cfc0f;_0x4ffe7b[_0xc4d5ad]=zt['x'],_0x4ffe7b[_0xc4d5ad+(0x4f*-0x3+-0x2518+0x2606)]=zt['y'],_0x4ffe7b[_0xc4d5ad+(0x4ac*0x5+-0xba5*0x2+-0x10)]=zt['z'],_0x4ffe7b[_0xc4d5ad+(0x1*0x1b4c+0x16ea+-0x47*0xb5)]=_0x266514,_0x4ffe7b[_0xc4d5ad+(-0x13be+0x1ddd+-0xa1b)]=_0x5e8b54['alignToMot'+'ion']?_0x27bbc6:_0x5c6ca1[_0x5de14f*ce+(0xfba*-0x2+0x2*-0x202+-0x1*-0x237b)],_0x4ffe7b[_0xc4d5ad+(-0x1*-0x2287+-0x9e2*-0x2+-0x1*0x3646)]=_0xad05e9,_0x4ffe7b[_0xc4d5ad+(-0xeb9+-0x25b1*0x1+0x3470)]=_0x1655c0,_0x4ffe7b[_0xc4d5ad+(0x123b*0x2+-0xc6b+-0x1804)]=fc['x'],_0x4ffe7b[_0xc4d5ad+(0x16*0x1c1+0x206c+0xe32*-0x5)]=_0x5d0d67,_0x4ffe7b[_0xc4d5ad+(-0x2*0x269+0x5*0x21d+-0x5b6)]=_0x3a77ae,_0x4ffe7b[_0xc4d5ad+(0x1b*-0xfb+0x14a6+0x1*0x5dd)]=_0x522023,_0x4ffe7b[_0xc4d5ad+(-0x10a3*0x1+0xac*-0x21+0x26da)]=fc['y'],_0x4ffe7b[_0xc4d5ad+(0x2*-0x11a5+-0x4eb+-0x5*-0x80d)]=_0x5de14f,_0x4ffe7b[_0xc4d5ad+(0x2703*-0x1+-0x1*0x2593+0x4ca3)]=fc['z'],_0x4ffe7b[_0xc4d5ad+(0x207*-0x4+0xa4a+-0x220)]=_0x5e8b54['vbCPU'][_0x4ce5b8+(-0x5a5+-0x25cd+0x2b75)],_0x5e8b54['useMesh']&&(_0x4ffe7b[_0xc4d5ad+(-0x10*-0x3+0x1d9*0x2+-0x3d3)]=_0x5e8b54['vbCPU'][_0x4ce5b8+(-0x16c1+-0x70*0x17+-0x691*-0x5)],_0x4ffe7b[_0xc4d5ad+(-0xcfa+-0xe0d+-0x13*-0x16d)]=_0x5e8b54['vbCPU'][_0x4ce5b8+(-0x3*-0x6e5+-0x1e24+0x97a)]);}}if(_0x5e8b54['sort']>nu&&_0x5e8b54['camera']){const _0x5f2e1e=_0x5e8b54['useMesh']?0x18ca+0xc94+-0x2558:0x2400+0xa5e*-0x1+-0x88a*0x3,_0x417479=_0x5e8b54['particleDi'+'stance'];for(let _0x4c3b1d=0x185c+-0x1789+-0xd3*0x1;_0x4c3b1d<_0x5e8b54['numParticl'+'es'];_0x4c3b1d++)_0xfe9cb1[_0x4c3b1d][0x56*-0x50+0x1*0x2395+-0x8b5]=_0x4c3b1d,_0xfe9cb1[_0x4c3b1d][-0x42*-0x49+-0x2010+0x1*0xd3f]=_0x417479[Math['floor'](_0x5e8b54['vbCPU'][_0x4c3b1d*_0x5e8b54['numParticl'+'eVerts']*_0x5f2e1e+(-0x43c+0x648+0x1*-0x209)])];_0x5e8b54['vbOld']['set'](_0x5e8b54['vbCPU']),_0xfe9cb1['sort']((_0xd9cc22,_0x1742f3)=>_0xd9cc22[0xb24+0x1417*-0x1+0x17e*0x6]-_0x1742f3[-0x19f1+0x6dc*0x4+-0x17e]);for(let _0x4e3cc1=0x7*0xe9+0x251f+0x125*-0x26;_0x4e3cc1<_0x5e8b54['numParticl'+'es'];_0x4e3cc1++){const _0x584469=_0xfe9cb1[_0x4e3cc1][-0x18c8+-0xdc7*0x2+0x3456]*_0x5e8b54['numParticl'+'eVerts']*_0x5f2e1e,_0x960b57=_0x4e3cc1*_0x5e8b54['numParticl'+'eVerts']*_0x5f2e1e;for(let _0x47d5b9=-0x1*-0x23e3+0x1*0x72+-0x2455;_0x47d5b9<_0x5e8b54['numParticl'+'eVerts']*_0x5f2e1e;_0x47d5b9++)_0x5e8b54['vbCPU'][_0x960b57+_0x47d5b9]=_0x5e8b54['vbOld'][_0x584469+_0x47d5b9];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x3deab8,_0x36eee1){this['_emitter']=_0x3deab8,this['frameRando'+'mUniform']=new Float32Array(-0x12fd*-0x1+0x1*0xba5+0x27*-0xc9),this['emitterPos'+'Uniform']=new Float32Array(-0x6df*-0x5+0x703+0x1*-0x295b),this['emitterSca'+'leUniform']=new Float32Array([0x2*0x2e7+0x2*-0x13d+-0x353,-0x1*-0x10d9+0x113+0x1*-0x11eb,0x350*-0x2+0x892+-0x1*0x1f1]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x1f4c+-0x1*-0x1807+-0x1*0x3750),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x11*-0x5d+0x8f*0x3b+0x271f*-0x1),this['inBoundsSi'+'zeUniform']=new Float32Array(0x5bc*0x1+0x2b8*0xe+0xb*-0x3fb),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x424*-0x9+-0x1418+0x1*0x395f),this['constantPa'+'rticleTexI'+'N']=_0x36eee1['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x36eee1['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x36eee1['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x36eee1['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x36eee1['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x36eee1['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x36eee1['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x36eee1['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x36eee1['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x36eee1['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x36eee1['scope']['resolve']('delta'),this['constantRa'+'te']=_0x36eee1['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x36eee1['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x36eee1['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x36eee1['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x36eee1['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x36eee1['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x36eee1['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x36eee1['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x36eee1['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x36eee1['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x36eee1['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x36eee1['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x36eee1['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x36eee1['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x36eee1['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x36eee1['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x36eee1['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x36eee1['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x36eee1['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x36eee1['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x36eee1['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x36eee1['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x36eee1['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x36eee1['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x36eee1['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x36eee1['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x2*0x8f5+0x164*0xa+-0x1fd2]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0xc0b+-0x2f8*-0x1+0x914]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1b45+0x9e2+-0x2525]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x13*0x1ab+0xd*-0x4a+-0xb*-0x339]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1505*-0x1+-0xdf*-0x1d+-0x2e47]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x820+-0xb6*0x2f+0x2*0x14c6]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xfa7*0x1+0x1473+-0x4cc]=Math['random'](),this['frameRando'+'mUniform'][-0x1d39*-0x1+-0x1dab+-0x73*-0x1]=Math['random'](),this['frameRando'+'mUniform'][0x296*0xb+0x1*0x12c5+-0x971*0x5]=Math['random']();}['update'](_0x20c89c,_0x42b96c,_0x569a1a,_0x51f9b7,_0x43dc19){Q['pushGpuMar'+'ker'](_0x20c89c,'ParticleGP'+'U');const _0x3b1089=this['_emitter'];_0x20c89c['setBlendSt'+'ate'](pt['NOBLEND']),_0x20c89c['setDepthSt'+'ate'](Yt['NODEPTH']),_0x20c89c['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x16ba+0x1*0x91d+0x2a*0x53)/_0x3b1089['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3b1089['precision']),this['constantNu'+'mParticles']['setValue'](_0x3b1089['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3b1089['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3b1089['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3b1089['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3b1089['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3b1089['internalTe'+'x3']);const _0x4a2744=_0x3b1089['meshInstan'+'ce']['node'],_0x5e7a12=_0x4a2744===null?D['ONE']:_0x4a2744['localScale'];if(_0x3b1089['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x2505+-0x36d*0x3+0x146*-0x15]=_0x3b1089['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x1*-0x103b+0xaf9+0x3*-0x911]=_0x3b1089['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x251c+0x1*-0x17d5+0x2b*-0x4f]=_0x3b1089['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x1c3a+0x1*0xa8d+0x389*0x5]=_0x3b1089['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0xa31*0x2+-0x5*-0x789+-0x3a0e]=_0x3b1089['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x129*0x1b+-0x1ed1+0x1ae*0x25]=_0x3b1089['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x440387=_0x3b1089['maxVel']*Math['max'](Math['max'](_0x5e7a12['x'],_0x5e7a12['y']),_0x5e7a12['z']);_0x440387=Math['max'](_0x440387,0x1*0x1390+-0x661+0x697*-0x2),this['constantMa'+'xVel']['setValue'](_0x440387);}const _0x151328=_0x4a2744===null||_0x3b1089['localSpace']?D['ZERO']:_0x4a2744['getPositio'+'n'](),_0x2248ff=_0x4a2744===null?te['IDENTITY']:_0x4a2744['getWorldTr'+'ansform']();_0x3b1089['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x42b96c),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x569a1a)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3b1089['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3b1089['emitterRad'+'ius']===-0x3e*0xc+-0x209b+0x1*0x2383?0x47a+-0x1*-0x9f9+-0xe73:_0x3b1089['emitterRad'+'iusInner']/_0x3b1089['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3b1089['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x2248ff),tg['invertMat4'](_0x2248ff),this['emitterPos'+'Uniform'][0x1107+-0x37*-0x2e+0x1*-0x1ae9]=_0x151328['x'],this['emitterPos'+'Uniform'][0xffd+-0x2f*0xa3+0xdf1]=_0x151328['y'],this['emitterPos'+'Uniform'][0x1*0x1558+0x1*0x15ae+-0x2b04]=_0x151328['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x51f9b7),this['constantRa'+'te']['setValue'](_0x3b1089['rate']),this['constantRa'+'teDiv']['setValue'](_0x3b1089['rate2']-_0x3b1089['rate']),this['constantSt'+'artAngle']['setValue'](_0x3b1089['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3b1089['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3b1089['seed']),this['constantLi'+'fetime']['setValue'](_0x3b1089['lifetime']),this['emitterSca'+'leUniform'][0x1*0x252a+-0x9*-0x43+0x43*-0x97]=_0x5e7a12['x'],this['emitterSca'+'leUniform'][-0x1f8d+-0xc79+0x2c07]=_0x5e7a12['y'],this['emitterSca'+'leUniform'][0x112c+0x5*-0x56d+0x9f7*0x1]=_0x5e7a12['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3b1089['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3b1089['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3b1089['rotSpeedUM'+'ax'][0x2459+0xb4b+0x4*-0xbe9]);let _0x4270dd=_0x3b1089['swapTex']?_0x3b1089['particleTe'+'xOUT']:_0x3b1089['particleTe'+'xIN'];_0x4270dd=_0x3b1089['beenReset']?_0x3b1089['particleTe'+'xStart']:_0x4270dd;const _0x35fa6c=_0x3b1089['swapTex']?_0x3b1089['particleTe'+'xIN']:_0x3b1089['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x4270dd),Ar(_0x20c89c,_0x3b1089['swapTex']?_0x3b1089['rtParticle'+'TexIN']:_0x3b1089['rtParticle'+'TexOUT'],_0x43dc19?_0x3b1089['shaderPart'+'icleUpdate'+'OnStop']:_0x3b1089['loop']?_0x3b1089['shaderPart'+'icleUpdate'+'Respawn']:_0x3b1089['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3b1089['material']['setParamet'+'er']('particleTe'+'xOUT',_0x4270dd),_0x3b1089['material']['setParamet'+'er']('particleTe'+'xIN',_0x35fa6c),_0x3b1089['beenReset']=!(-0xbd*-0xf+0x22f1*-0x1+-0x17df*-0x1),_0x3b1089['swapTex']=!_0x3b1089['swapTex'],_0x3b1089['prevWorldB'+'oundsSize']['copy'](_0x3b1089['worldBound'+'sSize']),_0x3b1089['prevWorldB'+'oundsCente'+'r']['copy'](_0x3b1089['worldBound'+'s']['center']),_0x3b1089['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x20c89c);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x201f8b){let _0x2bf9c2='particle_'+ya['definesHas'+'h'](_0x201f8b['defines'])+'_';for(const _0x5a95b0 in _0x201f8b)_0x201f8b['hasOwnProp'+'erty'](_0x5a95b0)&&(_0x2bf9c2+=_0x201f8b[_0x5a95b0]);return _0x2bf9c2;}['createVert'+'exDefines'](_0x235764,_0x3c86a9){const _0x1bf89b=new Map(_0x235764['defines']);return _0x235764['mesh']&&_0x1bf89b['set']('USE_MESH',''),_0x235764['meshUv']&&_0x1bf89b['set']('USE_MESH_U'+'V',''),_0x235764['localSpace']&&_0x1bf89b['set']('LOCAL_SPAC'+'E',''),_0x235764['screenSpac'+'e']&&_0x1bf89b['set']('SCREEN_SPA'+'CE',''),_0x235764['animTex']&&_0x1bf89b['set']('ANIMTEX',''),_0x235764['soft']>0x575+-0x7a*0x3d+0x1d1*0xd&&_0x1bf89b['set']('SOFT',''),_0x235764['stretch']>0x530+0x93f+-0xe6f&&_0x1bf89b['set']('STRETCH',''),_0x235764['customFace']&&_0x1bf89b['set']('CUSTOM_FAC'+'E',''),_0x235764['pack8']&&_0x1bf89b['set']('PACK8',''),_0x235764['localSpace']&&_0x1bf89b['set']('LOCAL_SPAC'+'E',''),_0x235764['animTexLoo'+'p']&&_0x1bf89b['set']('ANIMTEX_LO'+'OP',''),_0x235764['wrap']&&_0x1bf89b['set']('WRAP',''),_0x235764['alignToMot'+'ion']&&_0x1bf89b['set']('ALIGN_TO_M'+'OTION',''),_0x1bf89b['set']('NORMAL',sg[_0x235764['normal']]),_0x3c86a9['particle_v'+'ertexData']=Me,_0x235764['mesh']&&_0x235764['meshUv']&&(_0x3c86a9['particle_u'+'v']=is),_0x235764['useCpu']&&(_0x3c86a9['particle_v'+'ertexData2']=uh,_0x3c86a9['particle_v'+'ertexData3']=Ap,_0x3c86a9['particle_v'+'ertexData4']=Cp,_0x3c86a9['particle_v'+'ertexData5']=Pp),_0x1bf89b;}['createFrag'+'mentDefine'+'s'](_0x3611cb){const _0x1170e3=new Map(_0x3611cb['defines']);return _0x3611cb['soft']>0x2411+-0x250+-0x21c1&&_0x1170e3['set']('SOFT',''),_0x3611cb['halflamber'+'t']&&_0x1170e3['set']('HALF_LAMBE'+'RT',''),_0x1170e3['set']('NORMAL',sg[_0x3611cb['normal']]),_0x1170e3['set']('BLEND',Yy[_0x3611cb['blend']]),_0x1170e3;}['createShad'+'erDefiniti'+'on'](_0xda6006,_0x3c9772){const _0x1d35a4=_0xda6006['isWebGPU']?it:Fe,_0x1174d3=Pe['get'](_0xda6006,_0x1d35a4),_0x4d0861={},_0x2087b6=this['createVert'+'exDefines'](_0x3c9772,_0x4d0861),_0x3931be=this['createFrag'+'mentDefine'+'s'](_0x3c9772),_0x35dc04='PARTICLE_'+(_0x3c9772['useCpu']?'CPU':'GPU')+'\x0a';_0x2087b6['set'](_0x35dc04,''),_0x3931be['set'](_0x35dc04,'');const _0x5d9535=new Map(_0x1174d3);return Jt['createDefi'+'nition'](_0xda6006,{'name':'ParticleSh'+'ader','shaderLanguage':_0x1d35a4,'attributes':_0x4d0861,'vertexCode':_0x1174d3['get']('particle_s'+'haderVS'),'fragmentCode':_0x1174d3['get']('particle_s'+'haderPS'),'fragmentDefines':_0x3931be,'fragmentIncludes':_0x5d9535,'vertexIncludes':_0x5d9535,'vertexDefines':_0x2087b6});}}const gA=new _A();class SA extends tr{constructor(_0x533e19){super(),h(this,'emitter',null),(this['emitter']=_0x533e19,w['assert'](_0x533e19));}['getShaderV'+'ariant'](_0x2f5a4d){const {device:_0x5deef3,scene:_0x2d756c,cameraShaderParams:_0x22a9d0,objDefs:_0x474356}=_0x2f5a4d,{emitter:_0x14af70}=this,_0x26730e={'defines':$t['getCoreDef'+'ines'](this,_0x2f5a4d),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x14af70['lighting']?_0x14af70['normalMap']!==null?0x1630+0x16c*-0x1+-0x14c2:0x243d+-0x901*0x2+-0x123a:0x2512+0x29f+0x3*-0xd3b,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x474356&nm,'gamma':(_0x22a9d0==null?void(-0x15*0x1bb+0x25bb+-0x164):_0x22a9d0['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x22a9d0==null?void(0x761*-0x2+-0x12cf+0x2191*0x1):_0x22a9d0['toneMappin'+'g'])??sm,'fog':_0x2d756c&&!this['emitter']['noFog']?_0x2d756c['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x14af70['inTools']?!(0x453*-0x3+0x156b*-0x1+0x2265):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x3a8775=new Ad(_0x2f5a4d['viewUnifor'+'mFormat'],_0x2f5a4d['viewBindGr'+'oupFormat'],_0x2f5a4d['vertexForm'+'at']),_0x5b93d6=Hn(_0x5deef3);return _0x5b93d6['register']('particle',gA),_0x5b93d6['getProgram']('particle',_0x26730e,_0x3a8775,this['userId']);}}const ig=[[-(0x1ca3+-0x1*-0x6da+-0x237c),-(0x751*0x5+-0x2f3+-0x21a1)],[0x2a1*-0xb+-0x5*0x14f+0x511*0x7,-(0x1ae+0x4*-0x379+0xc37)],[0x5*-0x787+0x5*0x417+0x1131,-0x1119+0x89b+-0x2d5*-0x3],[-(-0xf51*0x1+-0x302+0x30e*0x6),-0x4*-0x472+-0x1d72+0xbab]];function xs(_0x1b9e8a,_0x1980d5,_0x36edb0,_0x5818e1,_0x2803bf=Xt,_0x20e68b,_0x4ee117){let _0x94eec8=Te;_0x4ee117&&(_0x2803bf===Ne||_0x2803bf===_s)&&(_0x94eec8=vt);const _0x54b2a4=new _e(_0x1b9e8a,{'width':_0x1980d5,'height':_0x36edb0,'format':_0x2803bf,'cubemap':!(0x1943+-0x203*0x1+-0x173f),'mipmaps':!(0x4e9+0x1b25+-0x200d),'minFilter':_0x94eec8,'magFilter':_0x94eec8,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x25ac82=_0x54b2a4['lock']();if(_0x2803bf===Ne||_0x2803bf===_s){const _0x2ddfd0=new Uint8Array(_0x5818e1['length']);for(let _0x2a6a99=-0x1f7b*0x1+0x14f0+0xa8b;_0x2a6a99<_0x5818e1['length'];_0x2a6a99++)_0x2ddfd0[_0x2a6a99]=_0x5818e1[_0x2a6a99]*_0x20e68b*(0x5*0x122+-0x152a+-0x67*-0x29);_0x5818e1=_0x2ddfd0;}return _0x25ac82['set'](_0x5818e1),_0x54b2a4['unlock'](),_0x54b2a4;}function rg(_0x4484b6){return Math['max'](Math['min'](_0x4484b6,-0x752+0x8*-0xd6+0xe03*0x1),-0x265b*0x1+0x14*0x9b+0x1a3f);}const ag=new qs([-0x2*-0x5ae+0x1786+-0x22e2,0x19b*0xa+-0x112d*0x2+0x926*0x2,-0x4*0x94f+-0x2012+0x454f,-0x16*-0x56+0xb*-0xfd+0x1*0x37b]),ng=new qs([-0x2*0x557+0x21cc+-0x171e,0x13*-0x55+-0xf51*-0x1+-0x901,-0x376*0x8+-0x1*-0x1f00+-0x34f,-0x362+-0x1*0x910+0xc73]),og=new na([-0xe0c+0xa*-0x29c+0x1*0x2824,0x193b+-0x1*0x1ceb+0x3b0,0x25dd+-0x221*-0x5+-0x3081,0x21f7+0xf22+-0x3119],[0x677+-0x872+0x1*0x1fb,-0x3ad*-0x6+0x36e*-0x8+0x562,0xa09+-0x7fd+-0x20b,0x1bd9*0x1+-0x1*-0x1caf+-0x3888],[-0x1*-0xb6f+0x1b70+0x3*-0xcf5,0x25d1+-0x109d+-0x1534,-0x1d*0x44+0x1*0xe9+0x6cc,0x76d+-0x1344+0x7*0x1b1]),yA=new na([0x20*0xdf+-0x2*0x123d+-0x2*-0x44d,-0x1*0xce8+0x181b+0xb32*-0x1,0x1b4+0x7ab+-0x95e,0x23c9+0x6a6+-0x2a6e],[-0x6*-0x445+0x2ea+-0x391*0x8,-0x8a8+-0x1ca6*-0x1+-0x1*0x13fd,0xba+-0x1e66+0x1dad*0x1,-0x1*0x2c9+0x4*-0x865+0x245e],[0x24f4+0x5*-0x283+-0x5*0x4e1,-0x3f3+-0x6*-0x49f+0xb3*-0x22,-0x1624+-0x15c6+0x1*0x2beb,0x95f*0x2+0x1855*0x1+-0x2b12]);let bi=-0x71*0x7+0x3fd*-0x5+0x1*0x170a;const pc=0x967+0x47*-0x49+0x56e*0x2,Ai=new Float32Array(0xf4e+-0x15a9+0x65e),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x1fdbcd,_0x22e602){Zc[_0x1fdbcd]!==void(-0x1a7c+0x173*-0x12+0x2*0x1a49)&&Zc[_0x1fdbcd]!==null?uu[_0x1fdbcd]=Zc[_0x1fdbcd]:uu[_0x1fdbcd]=_0x22e602;}function Dv(_0x58a8ea,_0x43f54f,_0x19ffb1){return(_0x58a8ea*(-0x1adb+0x2207+-0x62d)<<-0x13fb+0x7ea+-0xc21*-0x1|_0x43f54f*(-0x18db+0x2*-0xe5+0x4*0x6e9)<<-0x104c+-0x1149+0x219d|_0x19ffb1*(0x4*-0x5f1+-0x231a+0x3bdd))/(-0x1*0x201f+0x1fca+-0x2b*-0x2<<0x1ba6+0x7*-0x181+0x1*-0x1107);}function cg(_0x3e57d3,_0x45196f){const _0x1f9ba4=_0x3e57d3['length']/(0x1*0x15b6+0x270a+-0x3cbd*0x1),_0x577fdb=new Array(_0x1f9ba4*(0x229+0x2*0x3d6+0x1*-0x9d1));for(let _0x2bedc6=-0x1*0xfb5+-0x1baf+0x15b2*0x2;_0x2bedc6<_0x1f9ba4;_0x2bedc6++)_0x577fdb[_0x2bedc6*(-0x7a3+-0x254f+0x8fe*0x5)]=_0x3e57d3[_0x2bedc6*(0x4cf*-0x1+-0x1b35+-0x38f*-0x9)],_0x577fdb[_0x2bedc6*(0x637+-0xc1c+0x59*0x11)+(-0x1edf*0x1+0x22db+-0x3fb)]=_0x3e57d3[_0x2bedc6*(-0x19f6+-0x10d2*0x2+-0x3b9d*-0x1)+(0x3b*-0x6b+0x1e8*0x5+-0x1*-0xf22)],_0x577fdb[_0x2bedc6*(-0x1f06+-0x1e2e+0x3d38)+(-0xa1*0x7+-0x1*0x1e65+0x22ce)]=_0x3e57d3[_0x2bedc6*(-0x3*0x9a9+0x1*0xd64+-0x2*-0x7cd)+(-0x1911+-0xcc8*0x2+-0x95*-0x57)],_0x577fdb[_0x2bedc6*(0x12*-0x1cf+-0x1edf*-0x1+-0x1d*-0xf)+(-0x1*-0x1b57+0x6e*-0xe+-0x1550)]=Dv(_0x45196f[_0x2bedc6*(-0x161*0x12+0xf38+0x99d)],_0x45196f[_0x2bedc6*(0x2601+0xfd9+-0x7*0x7b1)+(0x1c9*0x11+-0x1*0x1873+-0x1*0x5e5)],_0x45196f[_0x2bedc6*(0x1*0x89+0x2*0x58b+-0xb9c)+(-0x159e+-0x959*0x4+0x3b04)]);return _0x577fdb;}function vA(_0x58854d,_0x320645){const _0xfacf28=new Array(_0x320645['length']*(0x254*0xa+-0xe5+0x165f*-0x1));for(let _0x44a04d=-0x5*0x2e3+0x1c69+-0xdfa;_0x44a04d<_0x320645['length'];_0x44a04d++)_0xfacf28[_0x44a04d*(0x1fd*0x8+0x101*-0x2+0x1*-0xde2)]=_0x58854d[_0x44a04d*(-0x18b3+-0x2a0+-0x1*-0x1b56)],_0xfacf28[_0x44a04d*(-0x2040+-0x22e7+0x432b)+(-0x2*0x10c9+-0x222a+0x43bd)]=_0x58854d[_0x44a04d*(-0x2632+0x26a2+0x6d*-0x1)+(0x268f*0x1+0x3*0x1f9+-0x2c79)],_0xfacf28[_0x44a04d*(0x4*0x301+0x2*-0x135e+-0xec*-0x1d)+(0x954+-0xc85+0x333)]=_0x58854d[_0x44a04d*(0x1d4*0x1+0x485+-0x2*0x32b)+(-0x262c+-0xe10+0x5ce*0x9)],_0xfacf28[_0x44a04d*(0x9d3*0x3+-0x156f+0x4f*-0x1a)+(0x32b+-0x280*0x1+-0xa8)]=_0x320645[_0x44a04d];return _0xfacf28;}function xA(_0x3591d3,_0x35d01b,_0x82aebd,_0x5edaea,_0x13a1cd){const _0xb76955=new Array(_0x3591d3['length']*(-0x1*-0x2237+0x3*0x435+-0x2ed2));for(let _0x181952=-0x19fd*0x1+0xbfa+-0xe03*-0x1;_0x181952<_0x3591d3['length'];_0x181952++)_0xb76955[_0x181952*(0x1*-0x2513+0x19*0x3f+0x1ef0)]=_0x3591d3[_0x181952],_0xb76955[_0x181952*(-0x1*0x201d+-0x405+0x2426)+(0x23*-0x43+-0x1924+0x224e*0x1)]=_0x35d01b[_0x181952],_0xb76955[_0x181952*(0x2383*-0x1+-0x19*0x21+0x5*0x7c0)+(0x3*0x925+0x236b+0xfb6*-0x4)]=-0x564+-0x393*0x4+-0x38*-0x5a,_0xb76955[_0x181952*(0x4*-0x167+-0x12*-0xe3+-0xa56)+(-0xa3d+-0x367*-0x2+0x372)]=Dv(_0x82aebd[_0x181952],_0x5edaea[_0x181952],_0x13a1cd[_0x181952]);return _0xb76955;}function TA(_0x1c30e9,_0x7bab41){const _0x9aa1a1=new Array(_0x1c30e9['length']*(-0x5d1+0x1fd6+0x15*-0x13d));for(let _0x5c1804=0x2*0xcf+-0x5e*-0x2c+-0x2*0x8e3;_0x5c1804<_0x1c30e9['length'];_0x5c1804++)_0x9aa1a1[_0x5c1804*(0x1*0x54d+0x15fb+-0x1b44)]=_0x1c30e9[_0x5c1804],_0x9aa1a1[_0x5c1804*(-0x132f+-0x4*-0x905+-0x10e1)+(0x9a6+0x13c2+0xc1*-0x27)]=_0x7bab41[_0x5c1804],_0x9aa1a1[_0x5c1804*(-0x1099+-0x2*0xaa2+-0x1*-0x25e1)+(0x199a+-0x10f*-0x9+-0x231f)]=0x9e2+-0x20c3+0x16e1,_0x9aa1a1[_0x5c1804*(-0x10df+-0x1*-0x1c97+-0x2ed*0x4)+(-0x455*-0x7+0x3d+0xa2f*-0x3)]=0x7*-0x2ef+-0x2a*-0x8b+0x53*-0x7;return _0x9aa1a1;}function wA(_0x38c4f5){const _0x570dbe=Math['max'](_0x38c4f5['rate'],_0x38c4f5['rate2'])*_0x38c4f5['numParticl'+'es']+_0x38c4f5['lifetime'];return Date['now']()+_0x570dbe*(-0x3*-0x6bb+-0xf4*-0x1+-0x113d);}function EA(_0x1d3442,_0x12608f){const _0xff2ae9=new Float32Array(_0x1d3442['length']);for(let _0x40ad68=0x1477+0x1ecb+-0x3342;_0x40ad68<_0x1d3442['length'];_0x40ad68++)_0xff2ae9[_0x40ad68]=_0x1d3442[_0x40ad68]-_0x12608f[_0x40ad68];return _0xff2ae9;}function Xr(_0x395112,_0x18fe3e){const _0x13c8e4=_0x18fe3e['length'],_0x555d11=_0x395112['length']/_0x13c8e4;for(let _0x227bb8=0x22c3+0x1f73+0x96*-0x71;_0x227bb8<_0x555d11;_0x227bb8++)for(let _0x219b50=-0x648*-0x2+0x19b5+0x65*-0x61;_0x219b50<_0x13c8e4;_0x219b50++){const _0x468828=Math['abs'](_0x395112[_0x227bb8*_0x13c8e4+_0x219b50]);_0x18fe3e[_0x219b50]=Math['max'](_0x18fe3e[_0x219b50],_0x468828);}}function bA(_0x1dc979,_0x2915ef){const _0x1a84da=_0x2915ef['length'],_0x33b557=_0x1dc979['length']/_0x1a84da;for(let _0x47ac6f=-0x4*-0x69d+0x2504+-0x3f78;_0x47ac6f<_0x33b557;_0x47ac6f++)for(let _0x4e35ca=-0x31*0x7f+0x2519+-0xcca;_0x4e35ca<_0x1a84da;_0x4e35ca++)_0x1dc979[_0x47ac6f*_0x1a84da+_0x4e35ca]/=_0x2915ef[_0x4e35ca]===-0x249b+0x256f+0x35*-0x4?-0xb78+0x24b*0x1+0x92e:_0x2915ef[_0x4e35ca],_0x1dc979[_0x47ac6f*_0x1a84da+_0x4e35ca]*=-0x1d9*-0x3+-0x1*-0x56d+-0xaf8+0.5,_0x1dc979[_0x47ac6f*_0x1a84da+_0x4e35ca]+=0x6d3+-0x1979+0x12a6+0.5;}function Br(_0x5e8b10,_0x2bcf7f,_0x430f13){const _0x138ce6=EA(_0x2bcf7f,_0x5e8b10);return Xr(_0x138ce6,_0x430f13),bA(_0x138ce6,_0x430f13),_0x138ce6;}const AA=new Kt();class CA{constructor(_0x448b74,_0x258404){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x448b74;const _0x52d574=_0x448b74,_0x39318f=0x4fa+-0xd7c+0x8a2;this['precision']=_0x39318f,this['_addTimeTi'+'me']=-0x869*0x1+0x1dcc*0x1+0x3*-0x721,uu=this,Zc=_0x258404,he('numParticl'+'es',0x1*-0x158f+0x17df+-0x24f),this['numParticl'+'es']>_0x448b74['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x448b74['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x448b74['maxTexture'+'Size']),he('rate',-0x5f*0x30+0x21c1+0xff0*-0x1),he('rate2',this['rate']),he('lifetime',-0xb*-0x2fe+-0xb*-0xbd+-0x28d7),he('emitterExt'+'ents',new D(0x45*0x3+0x6bb*0x2+0xe45*-0x1,-0x152e+-0xdea*-0x1+0x744,-0x4*-0x7d0+0xbe4+-0x2b24)),he('emitterExt'+'entsInner',new D(-0x96*-0x7+-0x18c6*0x1+-0x93*-0x24,-0x24ff+-0x122c*0x2+0x4957,-0x1d8e+-0x3b*0x9c+-0xa*-0x68d)),he('emitterRad'+'ius',0x1f*-0x6d+0x1e5c+-0x1129),he('emitterRad'+'iusInner',0x2520+0x1*-0x239f+-0xb*0x23),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x4*0x32c+-0x8*-0x26b+-0x2007),he('wrap',!(-0x4*-0x6cb+-0xcb3*0x1+-0xe78)),he('localSpace',!(0x2188+-0x1cfd+-0x48a)),he('screenSpac'+'e',!(0x13ad+0x283*-0xe+-0x1*-0xf7e)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x1*-0x1a86+-0x782+0x3c8*0x9)),he('preWarm',!(-0x2b*-0x4d+0x1b08+-0x5d*0x6e)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x13*-0x6f+0x10a8+-0x86a*0x1)),he('halfLamber'+'t',!(0x7*0x477+0x261*-0x7+-0xe99)),he('intensity',0x2604+0x6*-0x2e3+0x14b1*-0x1),he('stretch',0xb*-0x2f6+-0x1205*0x1+0x3297),he('alignToMot'+'ion',!(-0x4af+0x211e+-0x1*0x1c6e)),he('depthSofte'+'ning',-0x1f99*-0x1+-0x1*0x20+0x47f*-0x7),he('mesh',null),he('particleNo'+'rmal',new D(-0x3a1*-0x1+0xb*-0x170+0xc2f*0x1,-0x1b7f+-0x1c*0x10b+0x38b4,0x1a*-0x9f+0x32*-0x2d+-0x54*-0x4c)),he('orientatio'+'n',yh),he('depthWrite',!(-0x91c+-0xf9e*-0x1+-0xf*0x6f)),he('noFog',!(0x21*-0xe7+0xdf8*-0x2+0x737*0x8)),he('blendType',Zs),he('node',null),he('startAngle',0x2fa+-0x9*0x32f+0x19ad),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x63b+-0x2*-0x20e+-0xa56),he('animTilesY',-0x4*-0x76d+0x1*0x23ca+-0x417d),he('animStartF'+'rame',0x24bb+0xa00*-0x1+0x3*-0x8e9),he('animNumFra'+'mes',0x1043*-0x2+0x1f6a+-0x5*-0x39),he('animNumAni'+'mations',-0x3*-0x5e7+-0x1a2*-0x12+-0x2f18),he('animIndex',-0x2021+-0x1c90+0x1*0x3cb1),he('randomizeA'+'nimIndex',!(0x1*0x192a+-0xd*-0x2d7+-0x3e14)),he('animSpeed',-0x1*-0x1007+0x3*-0x42+-0xf40),he('animLoop',!(0x20f8+-0x117f*0x1+0xf79*-0x1)),this['_gpuUpdate'+'r']=new mA(this,_0x52d574),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x2100+0x236f+-0x26c),this['wrapBounds'+'Uniform']=new Float32Array(0x7ef+-0x12cd+0x1*0xae1),this['emitterSca'+'leUniform']=new Float32Array([-0x4e*-0x7+0x16ee*-0x1+0x5*0x429,0x3d1*0x2+0x26c7+0xdc*-0x36,0x1024+0x455*-0x6+0x9db]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0xc93+-0xb*0x2bb+-0x5*-0x886),this['animParams']=new Float32Array(0x2132+-0x2454+0x326),this['animIndexP'+'arams']=new Float32Array(0x1cd*0x3+0x11c7*0x1+-0x172c),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x12*-0x42+-0x523*-0x1+0xe*-0x9),this['useMesh']=!(0x1*-0x3d3+0x2*-0xef3+-0x1*-0x21b9),this['useCpu']=!_0x448b74['supportsGp'+'uParticles'],this['pack8']=!(-0x1367*0x1+-0x1f06+0x326d*0x1),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x3d0+0x3ba*-0x2+0xb44*0x1,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x3*-0x453+0x1f33+0x101*-0x2c,this['numParticl'+'eIndices']=0x3be*0x7+-0x2*0x2e1+0xa38*-0x2,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x1*0xcab+-0x308+-0xfb3*-0x1,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x1b84+-0x1*0x2237+0x6b4)/(-0x7*-0xda+-0xd*-0xb3+-0xed1),this['maxSubStep'+'s']=-0x24a6+-0x275*0xd+-0x44a1*-0x1,this['simTime']=-0x14ac+-0x1*-0x20f7+0x1*-0xc4b,this['simTimeTot'+'al']=-0x19*-0xc7+0x304*-0x9+0x7b5*0x1,this['beenReset']=!(0x2*-0xa65+0x283+0x1248),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x178929=new Float32Array(0x482+-0x14f9*-0x1+-0x263*0x9);for(let _0x1d641e=-0x6d0*-0x2+0xd*-0x167+-0x9*-0x83;_0x1d641e<0x19b*0x1+-0xd*0x2a4+-0x20c9*-0x1;_0x1d641e++)for(let _0x141915=-0xdd*-0x1d+0x1ec1*-0x1+0x5b8;_0x141915<-0x1*-0x7cf+-0x102e+0x86f;_0x141915++){const _0x4e64e9=_0x141915+(0x2067+0xafe+-0x2b64)-(0x30b*-0x1+-0x31*0x4b+0x1*0x116e+0.5),_0x57fcaa=_0x1d641e+(0x21bb+-0x7cf+-0x19eb)-(-0x1f67+0x29*0x6d+0xdfa+0.5),_0x2f6a98=rg(0x13ef+-0xb2b+0x1*-0x8c3-rg(Math['sqrt'](_0x4e64e9*_0x4e64e9+_0x57fcaa*_0x57fcaa)/(-0x1962+0x2316+-0x9a4))-(-0xd96+0x2d9+0xabd+0.5)),_0x876c6e=_0x1d641e*(0x5*0x4a9+-0x1714+-0x29)+_0x141915;_0x178929[_0x876c6e*(0x1b94+0xb8d*0x1+-0x271d)]=-0x7ef+0x61*-0x1f+0x13af*0x1,_0x178929[_0x876c6e*(-0x1310+0x8a*0x1+0x128a)+(-0x319+-0x2606+0x5e*0x70)]=-0x2563*-0x1+0x150e+0x37*-0x110,_0x178929[_0x876c6e*(0x59*-0x1+-0x1f4e+-0x1*-0x1fab)+(0x1da6+0x11b4+0x18*-0x1f9)]=-0xe19*0x1+0x22*-0xff+0x2ff8,_0x178929[_0x876c6e*(-0x26*0x25+0x1d36*0x1+-0x17b4)+(-0x21f6+-0x13*-0x18c+0x45*0x11)]=_0x2f6a98;}const _0x5e7277=xs(this['graphicsDe'+'vice'],-0x1d41+-0x205*0x13+0x43b0,0xb7b*0x1+0xd4+-0xc3f,_0x178929,_s,0xc5*0x29+0xc6+0x6*-0x563,!(-0x1*0x12a1+-0x13f2+0x2693));return _0x5e7277['minFilter']=vt,_0x5e7277['magFilter']=vt,_0x5e7277;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x2*0x1231+0x152+-0x25b3)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x5ad*0x2+-0x1372+0x819)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x2660+-0x267d+0x1e)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x5*-0x343+0x9*0x446+-0x36c4)),this['worldBound'+'sAdd']['x']+=-0x25bf*0x1+0x1f1*-0x11+0x46c0+0.5,this['worldBound'+'sAdd']['y']+=-0x1237+0x4*0x5cb+0x8d*-0x9+0.5,this['worldBound'+'sAdd']['z']+=-0x1*-0x1f85+-0x1a70+-0x1*0x515+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x5c9894=!(-0x1*-0x1e62+-0x2*0x9fa+0x11*-0x9d);this['emitterSha'+'pe']===ai?_0x5c9894=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x5c9894=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x5c9894&&this['calculateL'+'ocalBounds']();}const _0x26f67e=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x26f67e),this['worldBound'+'sTrail'][-0x1*-0x82a+-0x24e6+-0x2*-0xe5e]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1f23+-0x281*0x1+0x21a5]['add'](this['worldBound'+'sNoTrail']);const _0x4da9be=this['simTimeTot'+'al'];_0x4da9be>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x1b93+0x599*0x1+-0xafd*-0x2]['copy'](this['worldBound'+'sTrail'][0x111f+-0x23f4+-0x1*-0x12d6]),this['worldBound'+'sTrail'][0xd*0xf1+0x5e*-0x4+-0xac4]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x4da9be+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1c5b+0x149a+0x7c1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x9c0+0x1daf+-0x13ed*0x1),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x26f67e),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x26f67e)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x191*0xa+-0x1f30+0xf87-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x4*-0x3b3+0x1196*0x1+-0x67a*0x5]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x2d*-0x3+-0x63+-0x23]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1*-0x105a+0x1d98+-0x153*0xa]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0xf25+-0xcb+0xff2*0x1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x1adf*-0x1+-0x1dd0+0x2f1,this['timeToSwit'+'chBounds']=0x1e17+0x3*0xc33+0x10ac*-0x4);}['calculateL'+'ocalBounds'](){let _0x3d76e1=Number['MAX_VALUE'],_0x5e9bbf=Number['MAX_VALUE'],_0x3c7dc0=Number['MAX_VALUE'],_0x30d58b=-Number['MAX_VALUE'],_0x383e36=-Number['MAX_VALUE'],_0x27ea6c=-Number['MAX_VALUE'],_0x21f6d5=-0x3fc+-0x13c2+0x17be,_0x3123c5=-0x43*-0x45+0x16b7+0x133*-0x22;const _0x1c552c=this['lifetime']/this['precision'],_0x14caa6=[this['qVelocity'],this['qVelocity2']],_0x3f34f9=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0xfd767c=[-0x1f7*-0x4+-0x571+-0x26b,-0xe75*-0x1+0x1a68+-0x28dd],_0x423796=[-0x1d8b*-0x1+-0x1e05+0x3d*0x2,-0x171e+-0x155*-0x1b+-0xcd9],_0x4f6b65=[0x39a+0x15e7+-0x1*0x1981,0x135*-0x1d+-0xa38*0x1+-0x33*-0xe3],_0x188d78=[-0x1ccc+-0x1f67+0x579*0xb,0x19c0+0x3*-0x165+0x1591*-0x1],_0x237681=[0x1fb9*-0x1+-0x154*-0xd+0xe75*0x1,0x2617+-0x35e*0x2+0x17*-0x15d];let _0x36b981,_0x502643,_0x11413d;for(let _0x45bc6c=-0x9*-0xb4+0x23b3+0x1*-0x2a07;_0x45bc6c<this['precision']+(0x1*0x157b+-0x3c*0x75+-0x2*-0x2f9);_0x45bc6c++){const _0xb3c780=Math['min'](_0x45bc6c,this['precision']-(0x87*0xc+0x22c6+0x15*-0x1f5));for(let _0x1790c8=0x301*-0x7+-0x222e+-0x7e3*-0x7;_0x1790c8<-0x185f*0x1+0x9ad+0xeb4;_0x1790c8++)_0x36b981=_0x3f34f9[_0x1790c8][_0xb3c780*(0x26b4+-0x3dc*0x3+-0x1b1d)+(-0x39e+-0x191*-0x2+0x3e*0x2)]*_0x1c552c+_0xfd767c[_0x1790c8],_0x502643=_0x3f34f9[_0x1790c8][_0xb3c780*(0x1*-0x181d+-0x3*0x282+0x1fa6*0x1)+(0x1*0x13f9+0xb*0x166+-0x235a)]*_0x1c552c+_0x423796[_0x1790c8],_0x11413d=_0x3f34f9[_0x1790c8][_0xb3c780*(0x7d*-0x12+0x322*0x5+-0xfb*0x7)+(0x20d8*-0x1+0x17*-0x12a+-0x6*-0x9f0)]*_0x1c552c+_0x4f6b65[_0x1790c8],_0x3d76e1=Math['min'](_0x36b981,_0x3d76e1),_0x5e9bbf=Math['min'](_0x502643,_0x5e9bbf),_0x3c7dc0=Math['min'](_0x11413d,_0x3c7dc0),_0x30d58b=Math['max'](_0x36b981,_0x30d58b),_0x383e36=Math['max'](_0x502643,_0x383e36),_0x27ea6c=Math['max'](_0x11413d,_0x27ea6c),_0xfd767c[_0x1790c8]=_0x36b981,_0x423796[_0x1790c8]=_0x502643,_0x4f6b65[_0x1790c8]=_0x11413d;for(let _0x39af82=0x1a9c+0x1f09*-0x1+0x46d;_0x39af82<0x168c+-0x26f4+0xbf*0x16;_0x39af82++)_0x237681[_0x39af82]+=_0x1c552c*Math['sqrt'](_0x14caa6[_0x39af82][_0xb3c780*(-0x59b*-0x3+-0x17*-0x7+-0x116f)+(-0x16c5+-0x1f97+0xe*0x3e2)]*_0x14caa6[_0x39af82][_0xb3c780*(0x1c2+-0x247c+0x22bd)+(-0xa52*-0x3+-0xe9*-0x17+0xa61*-0x5)]+_0x14caa6[_0x39af82][_0xb3c780*(0x1*-0x1623+-0x1*0xe35+-0x245b*-0x1)+(0xf88+0x1f6*-0xb+0x60b)]*_0x14caa6[_0x39af82][_0xb3c780*(0x3*-0x8b1+0x25cd*0x1+-0xbb7)+(-0x23e0+-0xa*-0x21d+0xebf)]+_0x14caa6[_0x39af82][_0xb3c780*(0x4*-0x2f5+-0x6b*0x14+0x1433*0x1)+(0xaa2+-0x97b+-0x125)]*_0x14caa6[_0x39af82][_0xb3c780*(0x1e0c+-0x2036+0x1*0x22d)+(-0x1d2e+-0xba2+0x28d2)]);_0x188d78[0x3*-0x46f+0xb*-0x1e9+0xb7*0x30]+=this['qRadialSpe'+'ed'][_0xb3c780]*_0x1c552c,_0x188d78[-0x357+0x2066+-0x1d0e]+=this['qRadialSpe'+'ed2'][_0xb3c780]*_0x1c552c,_0x21f6d5=Math['max'](_0x21f6d5,Math['max'](Math['abs'](_0x188d78[0xde1+0x27f*0x9+0x8*-0x48b]),Math['abs'](_0x188d78[0x79f*-0x5+0x1*0x1d39+0x8e3*0x1]))),_0x3123c5=Math['max'](_0x3123c5,this['qScale'][_0xb3c780]);}this['emitterSha'+'pe']===ai?(_0x36b981=this['emitterExt'+'ents']['x']*(-0x15*0xfb+0x223b+-0xda4+0.5),_0x502643=this['emitterExt'+'ents']['y']*(0x3f5*0x5+-0x3*0x823+0x4a0+0.5),_0x11413d=this['emitterExt'+'ents']['z']*(0x1*0x422+0x64a+-0xa6c+0.5)):(_0x36b981=this['emitterRad'+'ius'],_0x502643=this['emitterRad'+'ius'],_0x11413d=this['emitterRad'+'ius']);const _0x4c69a7=Math['max'](_0x237681[0xbe6+-0x1365+-0x1*-0x77f],_0x237681[0xae+0x240f+-0x24bc]);mc['x']=_0x3d76e1-_0x3123c5-_0x36b981-_0x21f6d5-_0x4c69a7,mc['y']=_0x5e9bbf-_0x3123c5-_0x502643-_0x21f6d5-_0x4c69a7,mc['z']=_0x3c7dc0-_0x3123c5-_0x11413d-_0x21f6d5-_0x4c69a7,_c['x']=_0x30d58b+_0x3123c5+_0x36b981+_0x21f6d5+_0x4c69a7,_c['y']=_0x383e36+_0x3123c5+_0x502643+_0x21f6d5+_0x4c69a7,_c['z']=_0x27ea6c+_0x3123c5+_0x11413d+_0x21f6d5+_0x4c69a7,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x116461=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x116461['maxVertexT'+'extures']<=0x1c12+0x946+-0x79*0x4f||_0x116461['fragmentUn'+'iformsCoun'+'t']<0x1ff8+0x1a51+-0x1*0x3a09||_0x116461['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x116461['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x4*0xa7+-0x1*0x22e1+0x2581:0xc8e+0xbe0+-0x186c,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0xcf5+0x1388+-0x207d]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x1162+-0x428+-0xd39]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x3b*0x44+0x21f7+-0x31a1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x1ac64b=-0x9b6*-0x1+-0x1*-0x23ed+-0x2da3*0x1;_0x1ac64b<this['numParticl'+'es'];_0x1ac64b++)this['vbToSort'][_0x1ac64b]=[0x2d2+-0x916+-0x322*-0x2,0xf1*0x11+-0x305*-0x1+0x1e7*-0xa];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x321fa2=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[0x662+0x20e3+0x45d*-0x9]=this['emitterExt'+'ents']['x']!==-0x1a29+0x20b7+-0x68e?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1b*-0xde+0xabb*-0x1+0x2225,Ai[-0x4*0x35b+-0x1*0x33a+0x10a7]=this['emitterExt'+'ents']['y']!==-0x2*-0x1345+-0x1e3*-0xe+-0x40f4?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1c48+0x138d+-0x2fd5,Ai[0x73a+0x1ef5*0x1+-0x262d]=this['emitterExt'+'ents']['z']!==0x2136+-0xa65+-0x1*0x16d1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x16ef+0x2093+0x7*-0x7ee);for(let _0x20e4ea=-0x705*-0x3+-0x1*-0x2386+-0x3895;_0x20e4ea<this['numParticl'+'es'];_0x20e4ea++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x321fa2,_0x20e4ea),this['useCpu']&&(this['particleTe'+'x'][_0x20e4ea*pc+(0x141*0x1a+-0x7*-0x1e7+-0x16f4*0x2)+this['numParticl'+'esPot']*(0x1*-0x1db7+0x2a4+-0x907*-0x3)*pc]=0xb*0x9f+-0x1a1c+-0x9a4*-0x2);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x40319d=-0x7*-0x21+0x120c+0xb*-0x1b9;_0x40319d<this['particleTe'+'xStart']['length'];_0x40319d++)this['particleTe'+'xStart'][_0x40319d]=this['particleTe'+'x'][_0x40319d];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x142a+0x7eb*0x4+-0x33d5,!(-0x1903+0xe*-0x126+0x2918)),this['particleTe'+'xOUT']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x1*-0x273+0x55*-0x29+0xb2b*0x1,!(-0xda4+0x17ed+-0xa48)),this['particleTe'+'xStart']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0x2005*0x1+-0x1ad8+0x2*0x1d6f,!(-0x1*-0x181e+0x1d*-0x3+-0x17c6))):(this['particleTe'+'xIN']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x116461,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x14fc+0x21*-0x112+0x384f)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x19a9+0x3*-0x3df+-0x1*0xe0b)}),this['swapTex']=!(-0x2242+0x237e+0x5*-0x3f));const _0x5a9b22=new Map();this['localSpace']&&_0x5a9b22['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x5a9b22['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x5a9b22['set']('EMITTERSHA'+'PE_BOX','');const _0x16cf0c='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x5a70c5=Pe['get'](_0x116461,_0x116461['isWebGPU']?it:Fe),_0x2ed7d5=new Map(_0x5a70c5),_0x1c6fff={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x5a9b22,'fragmentIncludes':_0x2ed7d5};_0x1c6fff['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x16cf0c,_0x5a9b22['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x116461,_0x1c6fff),_0x5a9b22['delete']('RESPAWN'),_0x1c6fff['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x16cf0c,_0x5a9b22['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x116461,_0x1c6fff),_0x5a9b22['delete']('NO_RESPAWN'),_0x1c6fff['uniqueName']='ParticleUp'+'dateStop-'+_0x16cf0c,_0x5a9b22['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x116461,_0x1c6fff),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0xa9c+-0x191b+-0x2e7*-0x5,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0xfa3*-0x2+-0x20f8+0x403e]['numIndices']:-0x1222+0x21f8+0xfd0*-0x1,this['_allocate'](this['numParticl'+'es']);const _0x204085=new Ge(_0x116461);_0x204085['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x204085['indexBuffe'+'r'][-0x5cc*0x4+-0x156c*0x1+0x2c9c]=this['indexBuffe'+'r'],_0x204085['primitive'][-0x1bcf+-0x1e7*0x11+0x1*0x3c26]['type']=js,_0x204085['primitive'][0x168+-0x5f3*0x3+-0x57b*-0x3]['base']=0x16f*0x1+-0x1403+0x1294,_0x204085['primitive'][-0x64e+0x1270*0x1+-0xc22]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x204085['primitive'][-0x2*0xd86+0x9*-0xc1+0x21d5]['indexed']=!(-0x1db1+0x8c7*-0x2+0x2f3f),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4306a1=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1*-0x25e7+0x1*0x2051+-0xa8*0x6b);this['meshInstan'+'ce']=new He(_0x204085,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1*0x1def+-0x2f*-0x6e+0x9be),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x257*-0x7+-0x2f*0x2a+0x1817),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0xb*0x254+0x1bcf+0x1*-0x232),this['meshInstan'+'ce']['visible']=_0x4306a1,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*0xc59+0xda5+-0x14c,!(-0x1*-0x258d+-0x817+-0x1d75)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x1fd*0x8+0x111*-0x12+0xd1*0x2b&&(this['animTilesX']>0xa75+0x12f*-0x7+-0x6f*0x5||this['animTilesY']>0x9c2*0x2+-0xa80+-0x903)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x4fc8f5=this['precision'],_0x49940b=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x4fc8f5),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x4fc8f5),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x4fc8f5,-0x2d1+-0x1964+-0x53*-0x57,-0x1*-0xd09+-0x10f7+-0x1*-0x3ef),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x4fc8f5),this['qScale']=this['scaleGraph']['quantize'](_0x4fc8f5),this['qAlpha']=this['alphaGraph']['quantize'](_0x4fc8f5),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x4fc8f5),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x4fc8f5),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x4fc8f5),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x4fc8f5,0x116*-0x2+-0x1384+0x15b0,0x24db+-0x109*0x6+0x25*-0xd4),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x4fc8f5),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x4fc8f5),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x4fc8f5),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x4fc8f5);for(let _0x24ab7e=0x119f*0x1+0x1da8+-0x2f47;_0x24ab7e<_0x4fc8f5;_0x24ab7e++)this['qRotSpeed'][_0x24ab7e]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x24ab7e]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x3*0x6df+0x985*-0x3+0x312f),this['velocityUM'+'ax']=new Float32Array(0x2*0x98d+0x5*0x1b1+-0x1b8c),this['colorUMax']=new Float32Array(-0xce*-0x8+0x3*0x2b6+-0x1*0xe8f),this['rotSpeedUM'+'ax']=[-0x19d1+-0x139*-0x9+0x13c*0xc],this['scaleUMax']=[-0x272*0x2+0x53*0x4d+0x9*-0x23b],this['alphaUMax']=[0x1*0x15d7+-0x15c7+-0x10],this['radialSpee'+'dUMax']=[0xede*0x2+0xc*-0x19b+-0xa78],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x4169db=[-0x140a+0x14fc+0x16*-0xb,-0x15c6+-0x18b1+0x2e77*0x1,-0x10f+0x48*-0x1+0x157];Xr(this['qVelocity'],_0x4169db);const _0x5ef7a0=[-0x341+0x24b0+-0x216f,0x1ece*-0x1+-0x150c+-0x2*-0x19ed,-0x2459+-0xad9*-0x2+-0xea7*-0x1];Xr(this['qVelocity2'],_0x5ef7a0);const _0x1f567e=[0xb07+0x8ad+-0x13b4,0x1320+0x3b9*0x4+-0x2204,0x15*0x185+-0x2*-0x2f3+-0x25cf];Xr(this['qLocalVelo'+'city'],_0x1f567e);const _0x2adb81=[0x1d*0x70+0x73c*-0x3+0x904*0x1,-0x930+0x2*0x11ef+0x2*-0xd57,-0x80*-0x3d+-0x18b3+-0x21*0x2d];Xr(this['qLocalVelo'+'city2'],_0x2adb81);const _0xe158c0=[-0x20ec+0x4*0x28f+0x58*0x42];Xr(this['qRadialSpe'+'ed'],_0xe158c0);const _0x52ee57=[-0x1a9a+0x1e65+0x1*-0x3cb];Xr(this['qRadialSpe'+'ed2'],_0x52ee57);let _0x33ebec=Math['max'](_0x4169db[-0x23d*-0x10+0x9f6+-0x2dc6],_0x5ef7a0[0xe23+-0x14*-0x3+-0xe5f]);_0x33ebec=Math['max'](_0x33ebec,_0x4169db[0x2561+-0x130a*-0x1+-0x386a]),_0x33ebec=Math['max'](_0x33ebec,_0x5ef7a0[-0x3d*-0x29+-0x19e5*0x1+0x1021]),_0x33ebec=Math['max'](_0x33ebec,_0x4169db[-0x10e4+-0x1b7f+0x2c65*0x1]),_0x33ebec=Math['max'](_0x33ebec,_0x5ef7a0[-0x205e+0x917+-0x1749*-0x1]);let _0x1ae53e=Math['max'](_0x1f567e[0x1*-0x1efb+-0x86b+0x2766],_0x2adb81[-0x19bd*-0x1+-0x1005+-0x9b8]);_0x1ae53e=Math['max'](_0x1ae53e,_0x1f567e[-0x1f1+0x1*-0x99f+0xb91]),_0x1ae53e=Math['max'](_0x1ae53e,_0x2adb81[-0x1775+0xd7f+0x9f7]),_0x1ae53e=Math['max'](_0x1ae53e,_0x1f567e[0x17bc+0x1*-0x1486+-0x334]),_0x1ae53e=Math['max'](_0x1ae53e,_0x2adb81[-0x16d8+-0x1d*0x9d+0x1*0x28a3]);const _0x325948=Math['max'](_0xe158c0[-0x7df+-0x7*0x3ab+-0x1*-0x218c],_0x52ee57[0x1b82+-0x321+0x1861*-0x1]);this['maxVel']=_0x33ebec+_0x1ae53e+_0x325948;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x49940b,_0x4fc8f5,-0x66*-0x1f+0x1d48+-0x29a1,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x49940b,_0x4fc8f5,0x644+-0x219+-0x42a,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x49940b,_0x4fc8f5,0x1661+0x1fed+0x1*-0x364d,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x49940b,_0x4fc8f5,0x3ab*-0x4+0x1*-0x56+0xf03,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x49940b,_0x4fc8f5,0x18be+-0x1*0x382+-0x153b,vA(this['qColor'],this['qAlpha']),_s,0x1ff0+-0x23a8*-0x1+-0x4397,!(0x83*-0xe+0xbf8+-0x4ce));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x326a4c=new SA(this);return _0x326a4c['name']='EmitterMat'+'erial:'+this['node']['name'],_0x326a4c['cull']=bt,_0x326a4c['alphaWrite']=!(0xb*-0x301+0x1*0xfa9+0x1163),_0x326a4c['blendType']=this['blendType'],_0x326a4c['depthWrite']=this['depthWrite'],_0x326a4c;}['resetMater'+'ial'](){const _0x52363c=this['material'];_0x52363c['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x52363c['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x52363c['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x52363c['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x52363c['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x52363c['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x52363c['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x52363c['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x52363c['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x52363c['setParamet'+'er']('colorParam',this['colorParam']),_0x52363c['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x52363c['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x52363c['setParamet'+'er']('lifetime',this['lifetime']),_0x52363c['setParamet'+'er']('rate',this['rate']),_0x52363c['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x52363c['setParamet'+'er']('seed',this['seed']),_0x52363c['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x5*0x2ff+-0x1*0x114d+0x252]),_0x52363c['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x1*-0x1d53+-0x1336+-0xa1d]),_0x52363c['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x379*-0x1+-0x611*0x1+-0x298*-0x1]),_0x52363c['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x52363c['setParamet'+'er']('graphSampl'+'eSize',(0x1ddb+0x163c+-0x3416)/this['precision']),_0x52363c['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x1*-0x17f5+-0x2a1*-0x1+-0x1a95,0x71+-0x1685+0x1615,-0x2126+0xbf*-0x1e+0x15*0x2a5])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x52363c['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x52363c['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x52363c['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x1ef4+-0x23aa+-0x429e*-0x1]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x15d8+-0x250+0x1387*-0x1]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x2479+0xc13+0xc34*0x2]=this['wrapBounds']['z'],_0x52363c['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0xb*0x47+-0xc3c+0x92f&&_0x52363c['setParamet'+'er']('softening',(-0x3*0x67f+0xf97+-0x25*-0x1b)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x132*-0x1+-0x1e13+0x1d45))),this['stretch']>0x7c+0xa5*0x1f+0x193*-0xd&&(_0x52363c['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x4c2ff5,_0x1c5537;if(this['orientatio'+'n']===yh)_0x4c2ff5=new Float32Array([0x160d+0x957+-0x1f63,-0x1*0xf7a+-0x1efc+0x2e76,-0x142b+0x1*-0x50d+0x21a*0xc]),_0x1c5537=new Float32Array([-0xe67+-0x17+0x2e6*0x5,0x2*0x859+-0x1a50+-0x99e*-0x1,0x1*-0x2272+-0x1979+0x3bec]);else{let _0x2c997f;this['orientatio'+'n']===Vw?_0x2c997f=this['particleNo'+'rmal']['normalize']():_0x2c997f=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x2e625b=new D(-0x1f40+-0x136d*0x2+0x89*0x83,-0x6c7+-0x135a+0x1a21,-0x1b*0x156+0x1af8+-0x1d2*-0x5);Math['abs'](_0x2e625b['dot'](_0x2c997f))===-0x16ed+-0x9ac+0x209a&&_0x2e625b['set'](0x1d*-0x98+0x1*-0x9e+0x2f9*0x6,0x56e+0x6d*-0x3+0x427*-0x1,-0x20de+-0x3cb*0x1+0x2d2*0xd);const _0x400774=new D()['cross'](_0x2c997f,_0x2e625b)['normalize']();_0x2e625b['cross'](_0x400774,_0x2c997f)['normalize'](),_0x4c2ff5=new Float32Array([_0x2e625b['x'],_0x2e625b['y'],_0x2e625b['z']]),_0x1c5537=new Float32Array([_0x400774['x'],_0x400774['y'],_0x400774['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x4c2ff5),this['material']['setParamet'+'er']('faceBinorm',_0x1c5537);}['getVertexI'+'nfo'](){const _0x3aa6da=[];return this['useCpu']?_0x3aa6da['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x199d+-0xda*0xd+-0x24b3*-0x1:-0x78d*-0x1+0x11*-0x101+0x35*0x2e,'type':Ve}):(_0x3aa6da['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x3aa6da['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x3aa6da;}['_allocate'](_0x51e4c0){const _0x1d5778=_0x51e4c0*this['numParticl'+'eVerts'],_0x3ee390=_0x51e4c0*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x2683*0x1+-0x2322+0x49a5)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x1d5778){const _0x3fda99=this['getVertexI'+'nfo'](),_0x1ffc5d=new kt(this['graphicsDe'+'vice'],_0x3fda99);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x1ffc5d,_0x1d5778,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x3ee390);const _0x273f50=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x241326,_0x518a08,_0x1d9ddf;if(this['useMesh']){_0x241326=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x518a08=_0x241326['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x5b9060=0x16ed+0x6f7+-0x1de4;_0x5b9060<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x5b9060++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5b9060]['name']===is){_0x1d9ddf=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5b9060]['offset']/(-0x1db6*0x1+-0x7*-0x107+-0x281*-0x9);break;}}for(let _0x362ba8=0x1c80+0x16ff+0x337f*-0x1;_0x362ba8<_0x1d5778;_0x362ba8++){const _0x3b07f2=Math['floor'](_0x362ba8/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x40e733=_0x362ba8%this['numParticl'+'eVerts'];_0x273f50[_0x362ba8*(0x3a9*0x5+-0x1*-0xeed+-0x55*0x64)]=_0x241326[_0x40e733*_0x518a08],_0x273f50[_0x362ba8*(-0x2*-0x1081+0x1be9+-0x3ce5)+(-0x690+0x322+-0x3*-0x125)]=_0x241326[_0x40e733*_0x518a08+(0xd79*-0x1+0x20d1+-0x1357)],_0x273f50[_0x362ba8*(-0xc78+-0x3*-0x9c6+-0x10d4)+(0x238e*-0x1+-0x32*0x95+-0x3*-0x158e)]=_0x241326[_0x40e733*_0x518a08+(0x6eb+0x2363+-0x2a4c)],_0x273f50[_0x362ba8*(0xf*-0x155+0x1b8b+0x2*-0x3c5)+(0xb51+0xe1d+-0x196b)]=_0x3b07f2,_0x273f50[_0x362ba8*(-0x4*-0x72c+0x1*0x1937+0x35e1*-0x1)+(0x221f*0x1+0xfa*0x20+-0x415b)]=_0x241326[_0x40e733*_0x518a08+_0x1d9ddf+(-0x351+0x1a0b+-0x16ba)],_0x273f50[_0x362ba8*(-0x44b*0x1+0xf73+0x1*-0xb22)+(0x156+0x1*0x1395+0x5*-0x42e)]=-0xb59+-0x25*0xed+0x2d9b-_0x241326[_0x40e733*_0x518a08+_0x1d9ddf+(0x263e+0x6*-0xef+-0x20a3)];}else{const _0x4299a4=_0x362ba8%(-0x1ee+-0x95f*-0x2+-0x10cc);_0x273f50[_0x362ba8*(-0x1464+0x1*-0x1eb3+0x15*0x26f)]=ig[_0x4299a4][-0x35*-0x71+0x12*-0x89+-0xd*0x10f],_0x273f50[_0x362ba8*(0x1c61*-0x1+-0x1*0xb0f+-0x1f9*-0x14)+(-0x1af1+-0x2*0xf3a+0x3966)]=ig[_0x4299a4][0xbba+-0x5*-0x581+-0x1*0x273e],_0x273f50[_0x362ba8*(0x2003+-0xd1*0x17+-0x468*0x3)+(-0x22c*0x7+-0xb85+0x1abb)]=0x1a*-0x25+-0xa61+-0x1*-0xe23,_0x273f50[_0x362ba8*(-0x2*0x5a7+-0x170*0x18+0x2b2*0x11)+(0x2*-0x102a+0x46f+0x1be8)]=_0x3b07f2;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x273f50),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x274ce1=-0x77e*0x3+0x1*-0x473+0x1aed;const _0x17c867=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x46a83b=this['mesh']['indexBuffe'+'r'][0xdb*0x2+0x838*0x2+-0x2*0x913];_0x241326=new Sh[_0x46a83b['format']](_0x46a83b['lock']());}for(let _0x54d2bf=-0x1b56*-0x1+-0x1*0x1940+-0x59*0x6;_0x54d2bf<_0x51e4c0;_0x54d2bf++)if(this['useMesh']){for(let _0x89a6e0=-0x24fd+0x113e+0x13bf;_0x89a6e0<this['numParticl'+'eIndices'];_0x89a6e0++)_0x17c867[_0x54d2bf*this['numParticl'+'eIndices']+_0x89a6e0]=_0x241326[_0x89a6e0]+_0x54d2bf*this['numParticl'+'eVerts'];}else{const _0x4b2d26=_0x54d2bf*(-0xed*0x1b+-0xcb*0x2f+-0xf92*-0x4);_0x17c867[_0x274ce1++]=_0x4b2d26,_0x17c867[_0x274ce1++]=_0x4b2d26+(-0x5*0x377+0x21bb+-0x1067),_0x17c867[_0x274ce1++]=_0x4b2d26+(-0x3c2+0x1af4*0x1+-0x173*0x10),_0x17c867[_0x274ce1++]=_0x4b2d26,_0x17c867[_0x274ce1++]=_0x4b2d26+(-0x72d+-0x3*0x32f+-0x44*-0x3f),_0x17c867[_0x274ce1++]=_0x4b2d26+(0xd*-0x239+0x509*0x5+-0xbf*-0x5);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x688+-0x137*-0x7+-0x3*0x503]['unlock']();}}['reset'](){if(this['beenReset']=!(0x58a+0x1c+-0x5a6),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x3c1091=-0xd3*-0x20+-0x203c+0x5dc;_0x3c1091<this['particleTe'+'xStart']['length'];_0x3c1091++)this['particleTe'+'x'][_0x3c1091]=this['particleTe'+'xStart'][_0x3c1091];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x45c5fd=this['loop'];this['loop']=!(-0x5d8+0x1*-0x19b2+0x1f8a*0x1),this['addTime'](-0x1ecd+0xb*0x44+0x27*0xb7,!(0x19*0xec+0x1*-0x1853+0x148)),this['loop']=_0x45c5fd,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x355b32){const _0x1cf057=_0x355b32/this['lifetime'],_0x4b5622=Math['min'](Math['floor'](_0x1cf057*this['precision']),this['precision']),_0x1ccee1=_0x355b32/_0x4b5622;for(let _0x5b51bf=0xb8c+-0x7b9+0x59*-0xb;_0x5b51bf<_0x4b5622;_0x5b51bf++)this['addTime'](_0x1ccee1,!(0x1236+-0xbf8*0x2+0x5bb));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0xefb4cd,_0x2b12d0){const _0x4a14ca=this['graphicsDe'+'vice'],_0x297860=de();if(this['simTimeTot'+'al']+=_0xefb4cd,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x318f57=this['animTilesP'+'arams'];_0x318f57[-0x10e6+-0x249+0x665*0x3]=(0x14*-0xe5+-0x1caf+-0xba5*-0x4)/this['animTilesX'],_0x318f57[0xdb3+0x22ea+-0x309c]=(-0x13df+0xbd7+0x79*0x11)/this['animTilesY'];const _0x4f865b=this['animParams'];_0x4f865b[0x1e6+-0x1e5f+0x25*0xc5]=this['animStartF'+'rame'],_0x4f865b[0x1be*0x15+0xa4+-0x2539*0x1]=this['animNumFra'+'mes']*this['animSpeed'],_0x4f865b[-0x1*-0x188b+-0x29*-0xc5+-0x3816]=this['animNumFra'+'mes']-(-0x18fc+0x2022+-0x725),_0x4f865b[-0x685*-0x2+-0x2*-0x12ef+-0x32e5]=this['animNumAni'+'mations']-(0x1cab+0xb75+-0x281f);const _0x1b9c57=this['animIndexP'+'arams'];_0x1b9c57[0xbf+-0x125e+-0x15b*-0xd]=this['animIndex'],_0x1b9c57[-0x119+-0x1e4c+0x1f66]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0xf1b+0x1*0x65b+0x8c0]=this['emitterExt'+'ents']['x']!==-0x1afb+-0x1*-0x25e8+-0xaed*0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x21f5*0x1+-0x14d7+-0x2a*-0x14e,Ai[-0x2f*0x6+0xb3a+-0xa1f]=this['emitterExt'+'ents']['y']!==0x7*0x11a+0x8*-0x72+-0x426?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1a2+0x1168+0x130a*-0x1,Ai[-0xcca+0x1b7+-0x1*-0xb15]=this['emitterExt'+'ents']['z']!==0x1*0x20ab+0x77*-0x2c+-0x3b*0x35?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x3a*-0xd+0xf70+-0xb5*0x1a,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x273b80;const _0x1c53fe=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x555*-0x7+0x1d7a+0x7*0x11f]=_0x1c53fe['x'],this['emitterSca'+'leUniform'][0x13*-0x97+0x138d+0x857*-0x1]=_0x1c53fe['y'],this['emitterSca'+'leUniform'][0x19fc+0x1*-0x11a1+0x859*-0x1]=_0x1c53fe['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x273b80=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x170b*-0x1+-0x1*-0x919+-0x2024]=_0x273b80['x'],this['emitterPos'+'Uniform'][0xa*0x106+0x3*-0x3aa+0xc3]=_0x273b80['y'],this['emitterPos'+'Uniform'][0x2299+0x1*-0x171c+-0x1*0xb7b]=_0x273b80['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x4a14ca,Ur,Ai,_0xefb4cd,_0x2b12d0);else{const _0x42ff7e=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x42ff7e,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x273b80,_0xefb4cd,_0x2b12d0);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x1828+-0x799+0x65a*0x5)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x297860;}['_destroyRe'+'sources'](){var _0x16d030,_0x504058,_0x537442,_0x45abb3,_0x16784f,_0x2347a9,_0x51db06,_0x54f12d,_0x542ea2,_0x5b308b,_0x49c3ee,_0x4c1156;(_0x16d030=this['particleTe'+'xIN'])==null||_0x16d030['destroy'](),this['particleTe'+'xIN']=null,(_0x504058=this['particleTe'+'xOUT'])==null||_0x504058['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x537442=this['rtParticle'+'TexIN'])==null||_0x537442['destroy'](),this['rtParticle'+'TexIN']=null,(_0x45abb3=this['rtParticle'+'TexOUT'])==null||_0x45abb3['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x16784f=this['internalTe'+'x0'])==null||_0x16784f['destroy'](),this['internalTe'+'x0']=null,(_0x2347a9=this['internalTe'+'x1'])==null||_0x2347a9['destroy'](),this['internalTe'+'x1']=null,(_0x51db06=this['internalTe'+'x2'])==null||_0x51db06['destroy'](),this['internalTe'+'x2']=null,(_0x54f12d=this['internalTe'+'x3'])==null||_0x54f12d['destroy'](),this['internalTe'+'x3']=null,(_0x542ea2=this['colorParam'])==null||_0x542ea2['destroy'](),this['colorParam']=null,(_0x5b308b=this['vertexBuff'+'er'])==null||_0x5b308b['destroy'](),this['vertexBuff'+'er']=void(0x6df*0x1+0xa47+0x1*-0x1126),(_0x49c3ee=this['indexBuffe'+'r'])==null||_0x49c3ee['destroy'](),this['indexBuffe'+'r']=void(-0x9ff+-0x208e+0x2a8d),(_0x4c1156=this['material'])==null||_0x4c1156['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x2a4f85){var _0x1dc93c;const _0x5c46e3=_0x2a4f85['shaderDesc'],_0x461ada=_0x5c46e3['vertexGLSL']?hi(_0x5c46e3['vertexGLSL']):-0x21d3*0x1+-0x297+0x246a,_0x5bdc95=_0x5c46e3['fragmentGL'+'SL']?hi(_0x5c46e3['fragmentGL'+'SL']):-0x1204+-0x26b*-0x5+0x5ed,_0x4310b9=_0x5c46e3['vertexWGSL']?hi(_0x5c46e3['vertexWGSL']):0x222d+-0x2*0x97c+-0xe5*0x11,_0x207cf3=_0x5c46e3['fragmentWG'+'SL']?hi(_0x5c46e3['fragmentWG'+'SL']):0x9*0x14f+0x1bf1+-0x27b8,_0x271068=ya['definesHas'+'h'](_0x2a4f85['defines']),_0x337827=((_0x1dc93c=_0x2a4f85['shaderChun'+'ks'])==null?void(0x4*0x58f+-0x12c3*-0x1+0x1*-0x28ff):_0x1dc93c['key'])??'';let _0xdcaff5=_0x5c46e3['uniqueName']+'_'+_0x271068+'_'+_0x461ada+'_'+_0x5bdc95+'_'+_0x4310b9+'_'+_0x207cf3+'_'+_0x337827;return _0x2a4f85['skin']&&(_0xdcaff5+='_skin'),_0x2a4f85['useInstanc'+'ing']&&(_0xdcaff5+='_inst'),_0x2a4f85['useMorphPo'+'sition']&&(_0xdcaff5+='_morphp'),_0x2a4f85['useMorphNo'+'rmal']&&(_0xdcaff5+='_morphn'),_0x2a4f85['useMorphTe'+'xtureBased'+'Int']&&(_0xdcaff5+='_morphi'),_0xdcaff5;}['createAttr'+'ibutesDefi'+'nition'](_0x5a9677,_0x48cb4){const _0x453acb=_0x48cb4['shaderDesc']['attributes'],_0xa40a97=_0x453acb?{..._0x453acb}:void(0x7*0x289+-0x1974+0x7b5);_0x48cb4['skin']&&(_0xa40a97['vertex_bon'+'eWeights']=gi,_0xa40a97['vertex_bon'+'eIndices']=us),(_0x48cb4['useMorphPo'+'sition']||_0x48cb4['useMorphNo'+'rmal'])&&(_0xa40a97['morph_vert'+'ex_id']=Ln),_0x5a9677['attributes']=_0xa40a97;}['createVert'+'exDefiniti'+'on'](_0x5cc680,_0x5b98db,_0x41d956,_0x55e2f3){const _0x5dd07f=_0x5b98db['shaderDesc'],_0xbe525b=new Map(_0x41d956);_0xbe525b['set']('transformI'+'nstancingV'+'S','');const _0x32a531=new Map(_0x5b98db['defines']);_0x5b98db['skin']&&_0x32a531['set']('SKIN',!(0x1*-0x2367+0x2073+0x2f4)),_0x5b98db['useInstanc'+'ing']&&_0x32a531['set']('INSTANCING',!(-0x1bce+0x8e6+0x12e8)),(_0x5b98db['useMorphPo'+'sition']||_0x5b98db['useMorphNo'+'rmal'])&&(_0x32a531['set']('MORPHING',!(0x19a9+-0x14aa+-0x4ff)),_0x5b98db['useMorphTe'+'xtureBased'+'Int']&&_0x32a531['set']('MORPHING_I'+'NT',!(-0x1c7e+-0x154c*-0x1+0x732)),_0x5b98db['useMorphPo'+'sition']&&_0x32a531['set']('MORPHING_P'+'OSITION',!(-0x24bf+-0x4ae*-0x3+-0x16b5*-0x1)),_0x5b98db['useMorphNo'+'rmal']&&_0x32a531['set']('MORPHING_N'+'ORMAL',!(0xb9f+0x9db+0x2*-0xabd))),_0x5cc680['vertexCode']=_0x55e2f3?_0x5dd07f['vertexWGSL']:_0x5dd07f['vertexGLSL'],_0x5cc680['vertexIncl'+'udes']=_0xbe525b,_0x5cc680['vertexDefi'+'nes']=_0x32a531;}['createFrag'+'mentDefini'+'tion'](_0x344717,_0x2260b6,_0x4a6f84,_0x2c6a4d){const _0x37587f=_0x2260b6['shaderDesc'],_0x1fd9ed=new Map(_0x4a6f84),_0x58c670=new Map(_0x2260b6['defines']);_0x344717['fragmentCo'+'de']=_0x2c6a4d?_0x37587f['fragmentWG'+'SL']:_0x37587f['fragmentGL'+'SL'],_0x344717['fragmentIn'+'cludes']=_0x1fd9ed,_0x344717['fragmentDe'+'fines']=_0x58c670;}['createShad'+'erDefiniti'+'on'](_0x47a467,_0x4435e7){var _0x23396e;const _0xabd4ab=_0x4435e7['shaderDesc'],_0x54c8d1=_0x47a467['isWebGPU']&&!!_0xabd4ab['vertexWGSL']&&!!_0xabd4ab['fragmentWG'+'SL']&&(((_0x23396e=_0x4435e7['shaderChun'+'ks'])==null?void(0x128f*-0x1+0x20f5+-0xe66):_0x23396e['useWGSL'])??!(0x191*0x5+-0x2*-0x800+-0x1*0x17d5)),_0xbc8d94={'name':'ShaderMate'+'rial-'+_0xabd4ab['uniqueName'],'shaderLanguage':_0x54c8d1?it:Fe,'fragmentOutputTypes':_0xabd4ab['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0xabd4ab['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xabd4ab['meshBindGr'+'oupFormat']},_0x5ae829=_0x54c8d1?it:Fe,_0x1de235=bh['merge'](Pe['get'](_0x47a467,_0x5ae829),_0x4435e7['shaderChun'+'ks'][_0x5ae829]);return this['createAttr'+'ibutesDefi'+'nition'](_0xbc8d94,_0x4435e7),this['createVert'+'exDefiniti'+'on'](_0xbc8d94,_0x4435e7,_0x1de235,_0x54c8d1),this['createFrag'+'mentDefini'+'tion'](_0xbc8d94,_0x4435e7,_0x1de235,_0x54c8d1),Jt['createDefi'+'nition'](_0x47a467,_0xbc8d94);}}const MA=new PA();class Xn extends tr{constructor(_0x185e68){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x185e68;}set['shaderDesc'](_0x2a317a){if(this['_shaderDes'+'c']=void(0x6*-0x52d+-0x187d+-0x3b*-0xf1),_0x2a317a&&(this['_shaderDes'+'c']={'uniqueName':_0x2a317a['uniqueName'],'attributes':_0x2a317a['attributes'],'fragmentOutputTypes':_0x2a317a['fragmentOu'+'tputTypes'],'vertexGLSL':_0x2a317a['vertexGLSL'],'fragmentGLSL':_0x2a317a['fragmentGL'+'SL'],'vertexWGSL':_0x2a317a['vertexWGSL'],'fragmentWGSL':_0x2a317a['fragmentWG'+'SL']},_0x2a317a['vertexCode']||_0x2a317a['fragmentCo'+'de']||_0x2a317a['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x2a317a['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x581e44=_0x2a317a['shaderLang'+'uage']??Fe;_0x581e44===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x2a317a['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x2a317a['fragmentCo'+'de']):_0x581e44===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x2a317a['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x2a317a['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2ce6c6){return super['copy'](_0x2ce6c6),this['shaderDesc']=_0x2ce6c6['shaderDesc'],this;}['getShaderV'+'ariant'](_0x4260e4){const {objDefs:_0x1fecbd}=_0x4260e4,_0x25b6f8={'defines':$t['getCoreDef'+'ines'](this,_0x4260e4),'skin':(_0x1fecbd&nl)!==0x131+0xbde+-0xd0f,'useInstancing':(_0x1fecbd&ol)!==0x9e5+-0x2498+0x1ab3*0x1,'useMorphPosition':(_0x1fecbd&ll)!==-0xe2*0x25+0x5*-0x5eb+0x3e41,'useMorphNormal':(_0x1fecbd&cl)!==0x1551+-0x8be*-0x4+0x1*-0x3849,'useMorphTextureBasedInt':(_0x1fecbd&hl)!==-0x1*-0xf94+-0x151e+0x58a*0x1,'pass':_0x4260e4['pass'],'gamma':_0x4260e4['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x4260e4['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x4260e4['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x5b27ad=new Ad(_0x4260e4['viewUnifor'+'mFormat'],_0x4260e4['viewBindGr'+'oupFormat'],_0x4260e4['vertexForm'+'at']),_0x1210ac=Hn(_0x4260e4['device']);return _0x1210ac['register']('shader-mat'+'erial',MA),_0x1210ac['getProgram']('shader-mat'+'erial',_0x25b6f8,_0x5b27ad,this['userId']);}}const Iv=(_0xb29942,_0xfbbfa8)=>{const _0x19524b=_0xfbbfa8['length']/(0xc25*0x2+0x22d*0x11+0x1*-0x3d44),_0x1849b3=_0xb29942['length']/(0x3a*0x35+0x86*0x49+-0x3235),_0x421dcb=new D(),_0x47cf6f=new D(),_0x5a68aa=new D(),_0xbee469=new D(),_0x49debd=new D(),_0x32e30f=new D(),_0x6e8361=[];for(let _0x2b46cb=-0x1ae2+-0x9*0x306+0x3618;_0x2b46cb<_0xb29942['length'];_0x2b46cb++)_0x6e8361[_0x2b46cb]=-0x4*0x6fb+-0x69f+0x228b;for(let _0x5e17aa=0x6cd*-0x4+0x20de+-0x2d5*0x2;_0x5e17aa<_0x19524b;_0x5e17aa++){const _0x5f4ee7=_0xfbbfa8[_0x5e17aa*(0x53f*-0x6+0x156e+0xa0f)],_0x18168b=_0xfbbfa8[_0x5e17aa*(0xee5+0x32a+-0x120c)+(0x1e4e+-0x1a83+-0x3ca)],_0x4d2a56=_0xfbbfa8[_0x5e17aa*(0x7c*0xe+0x7*0x257+-0xb93*0x2)+(-0x73*-0x41+0x25bd+-0x42ee)];_0x421dcb['set'](_0xb29942[_0x5f4ee7*(-0x1*0x50b+0x1*-0x1161+0x166f*0x1)],_0xb29942[_0x5f4ee7*(0x13fb*0x1+0x239*0x9+0xd53*-0x3)+(0xf03+-0x1410+0x2*0x287)],_0xb29942[_0x5f4ee7*(-0x61*-0x53+-0xac7+-0x14a9)+(-0x1*-0x1a17+0x1c0e+-0x1*0x3623)]),_0x47cf6f['set'](_0xb29942[_0x18168b*(0x446+0x22da+-0x20f*0x13)],_0xb29942[_0x18168b*(-0x140f+-0x1fe9+0x33fb)+(-0xe41+0x2117+-0x12d5)],_0xb29942[_0x18168b*(-0xc09+0x1e9e+0x949*-0x2)+(-0xace+0xe23+-0x353)]),_0x5a68aa['set'](_0xb29942[_0x4d2a56*(-0x218e+-0x1*0x23de+0x456f)],_0xb29942[_0x4d2a56*(-0x1*-0x5f7+-0x2411+0x1e1d)+(-0x3b*0x61+-0x2339+0x3995*0x1)],_0xb29942[_0x4d2a56*(0x22*-0xc2+-0x12f2+-0x2cb9*-0x1)+(0x129f*-0x2+-0x1*0x1b43+0x4083)]),_0xbee469['sub2'](_0x47cf6f,_0x421dcb),_0x49debd['sub2'](_0x5a68aa,_0x421dcb),_0x32e30f['cross'](_0xbee469,_0x49debd)['normalize'](),_0x6e8361[_0x5f4ee7*(-0x133*0x5+-0x548+0xb4a)]+=_0x32e30f['x'],_0x6e8361[_0x5f4ee7*(0x1*-0x12ed+0xaf6+0x7fa)+(-0x1583*-0x1+-0x13*0x4+-0xa*0x21f)]+=_0x32e30f['y'],_0x6e8361[_0x5f4ee7*(-0xb90+-0x1f1d+0x2ab0*0x1)+(-0x802+-0x17fc+0x2000)]+=_0x32e30f['z'],_0x6e8361[_0x18168b*(0x1555+0x13ea*-0x1+-0x168)]+=_0x32e30f['x'],_0x6e8361[_0x18168b*(0xeb1*-0x1+0xfbc*-0x2+-0x4*-0xb8b)+(0x5*-0x2f5+0x1*-0x195c+-0x476*-0x9)]+=_0x32e30f['y'],_0x6e8361[_0x18168b*(-0x1985+0xa*-0x27a+0x324c)+(0x42c*0x7+0x13df+-0x3111)]+=_0x32e30f['z'],_0x6e8361[_0x4d2a56*(0x270a+0x52*0x64+0x1*-0x470f)]+=_0x32e30f['x'],_0x6e8361[_0x4d2a56*(-0x26cf+0x1*-0x1709+-0x1*-0x3ddb)+(0xcb9+-0x1e79+-0x2d*-0x65)]+=_0x32e30f['y'],_0x6e8361[_0x4d2a56*(0xa*-0x295+-0x1a28+0x33fd)+(-0x35*0xbb+0xe71*0x1+0x1848)]+=_0x32e30f['z'];}for(let _0x7eefe7=-0x20d4+0x9f7+0x1*0x16dd;_0x7eefe7<_0x1849b3;_0x7eefe7++){const _0x1a3971=_0x6e8361[_0x7eefe7*(-0xe*0x1c5+0x1e48+-0x57f)],_0x52f4a2=_0x6e8361[_0x7eefe7*(-0x2*-0x5f2+-0x61f+-0x5c2)+(-0x1f6*0x5+0x4fa*-0x6+0x27ab)],_0xf7d7b8=_0x6e8361[_0x7eefe7*(0x1375+-0x26bd+0x134b)+(0xe4a+0x1be*-0x11+0xf56)],_0x2f7816=(-0x101*-0x3+0x2037+-0x2339)/Math['sqrt'](_0x1a3971*_0x1a3971+_0x52f4a2*_0x52f4a2+_0xf7d7b8*_0xf7d7b8);_0x6e8361[_0x7eefe7*(0x22ba+-0x531*0x5+0x461*-0x2)]*=_0x2f7816,_0x6e8361[_0x7eefe7*(-0xfca+0x227*0xa+-0x5b9)+(0x963*-0x1+-0xef3+0x81d*0x3)]*=_0x2f7816,_0x6e8361[_0x7eefe7*(-0x159d+-0x250*0x4+-0xf70*-0x2)+(0x203c*-0x1+-0x1520+0x2e*0x129)]*=_0x2f7816;}return _0x6e8361;},Mr=(_0x44535d,_0x58a99c,_0x16ddb5,_0x3a1fd5)=>{const _0x1bb3c0=_0x3a1fd5['length']/(0x1*0x1c0d+-0x190d+0x2fd*-0x1),_0x28d790=_0x44535d['length']/(0x1*-0x71b+-0xa*0x39+-0x8*-0x12b),_0x1fcc4c=new D(),_0x238972=new D(),_0x40442b=new D(),_0x4e527e=new J(),_0xed0aa9=new J(),_0x292bad=new J(),_0x428088=new D(),_0x112f20=new D(),_0x58c2b4=new Float32Array(_0x28d790*(-0x61a*-0x1+0x49*0x14+-0xbcb)),_0x4b5d37=new Float32Array(_0x28d790*(-0x2110+-0x1afc+0x3c0f)),_0x54a59a=[];for(let _0x5cdf42=-0x1458+0x23f+0x29*0x71;_0x5cdf42<_0x1bb3c0;_0x5cdf42++){const _0x3ce926=_0x3a1fd5[_0x5cdf42*(0x192c+0x271+-0x2*0xdcd)],_0x1f107d=_0x3a1fd5[_0x5cdf42*(-0x1*0x7c8+-0x221c*0x1+0x29e7)+(0x1e28+0x1*-0x1495+-0x992)],_0x311b3e=_0x3a1fd5[_0x5cdf42*(-0x7a3*-0x5+-0x223b+-0x3f1)+(-0xf7d+0x10e+0x1*0xe71)];_0x1fcc4c['set'](_0x44535d[_0x3ce926*(-0x101*0x25+0x23c6+0x162)],_0x44535d[_0x3ce926*(-0x3*0x233+-0x167b+0x1d17*0x1)+(0x166d*0x1+-0x1*-0x1d03+-0x336f)],_0x44535d[_0x3ce926*(0x28*-0x4f+0x1*0x26a9+0x1a4e*-0x1)+(0x1*0x131+0x40a+-0x539)]),_0x238972['set'](_0x44535d[_0x1f107d*(-0x9ea+0x385*0x4+-0x427)],_0x44535d[_0x1f107d*(-0x21e1+-0x1f13+0x40f7)+(0x4*0x16e+0x2c6+0x1*-0x87d)],_0x44535d[_0x1f107d*(-0x189f+-0xe35+0x1*0x26d7)+(0x1eda+0xf94*0x1+-0x2e6c)]),_0x40442b['set'](_0x44535d[_0x311b3e*(0x1*-0xb19+-0x1604+0x2120)],_0x44535d[_0x311b3e*(-0x94f+-0x3*-0xa5c+-0x2*0xae1)+(0x195c+0x1ecc+0x5*-0xb3b)],_0x44535d[_0x311b3e*(0x126b+-0xf*-0x1fd+-0x303b)+(0x1af*-0xf+0x2*-0x1169+0x3c15)]),_0x4e527e['set'](_0x16ddb5[_0x3ce926*(0x7c3+0x9cd*-0x1+-0x4*-0x83)],_0x16ddb5[_0x3ce926*(-0x435*-0x8+0x1*0x2659+-0x47ff)+(0x162e+0xc5b*-0x1+-0x9d2*0x1)]),_0xed0aa9['set'](_0x16ddb5[_0x1f107d*(0x2*0xe48+0x1b61+-0x37ef)],_0x16ddb5[_0x1f107d*(0xb*0x308+0x17*0x112+0x39f4*-0x1)+(0x1d8+0x13e6+0xf*-0x173)]),_0x292bad['set'](_0x16ddb5[_0x311b3e*(0x4*-0x2af+-0x18ed+0x23ab)],_0x16ddb5[_0x311b3e*(-0x1c09+0x1b*0x1+0x1bf0)+(-0x2073+-0x2402+0x4476)]);const _0x287642=_0x238972['x']-_0x1fcc4c['x'],_0x327c0d=_0x40442b['x']-_0x1fcc4c['x'],_0x25b568=_0x238972['y']-_0x1fcc4c['y'],_0x1e3836=_0x40442b['y']-_0x1fcc4c['y'],_0x50cf06=_0x238972['z']-_0x1fcc4c['z'],_0x39e75b=_0x40442b['z']-_0x1fcc4c['z'],_0x350094=_0xed0aa9['x']-_0x4e527e['x'],_0x5cd015=_0x292bad['x']-_0x4e527e['x'],_0x3004b1=_0xed0aa9['y']-_0x4e527e['y'],_0x56a163=_0x292bad['y']-_0x4e527e['y'],_0x13e132=_0x350094*_0x56a163-_0x5cd015*_0x3004b1;if(_0x13e132===0x503+0xbba+0x10bd*-0x1)_0x428088['set'](-0xffd+-0x1843+0x2840,-0xe09+0x5*0x5e9+0xd1*-0x13,0x1c9*0x1+-0x2f9*-0x7+-0x3*0x788),_0x112f20['set'](-0x58d+0x19c6+-0xa1c*0x2,0xd*0xb2+0x1*-0xae3+-0x1d9*-0x1,-0x1741*0x1+-0x12e3*-0x2+-0xe85);else{const _0x4f7bcb=(0xdcd+-0x3*-0x43c+0x35*-0x80)/_0x13e132;_0x428088['set']((_0x56a163*_0x287642-_0x3004b1*_0x327c0d)*_0x4f7bcb,(_0x56a163*_0x25b568-_0x3004b1*_0x1e3836)*_0x4f7bcb,(_0x56a163*_0x50cf06-_0x3004b1*_0x39e75b)*_0x4f7bcb),_0x112f20['set']((_0x350094*_0x327c0d-_0x5cd015*_0x287642)*_0x4f7bcb,(_0x350094*_0x1e3836-_0x5cd015*_0x25b568)*_0x4f7bcb,(_0x350094*_0x39e75b-_0x5cd015*_0x50cf06)*_0x4f7bcb);}_0x58c2b4[_0x3ce926*(-0x2d5+-0x25ea+0x25*0x11a)+(0x1b98+-0x5*-0x648+-0x3b00)]+=_0x428088['x'],_0x58c2b4[_0x3ce926*(0x166*0xa+0x1857+-0x2650*0x1)+(-0x281*0x5+0x29*-0x7f+0x20dd)]+=_0x428088['y'],_0x58c2b4[_0x3ce926*(0x13*0xa6+0x7c*-0x18+-0x1*0xaf)+(-0x1*-0xcc1+0x101*0x9+0x88*-0x29)]+=_0x428088['z'],_0x58c2b4[_0x1f107d*(0x6*0x3a5+0x1a0+-0x177b*0x1)+(-0x23af+-0x1cd4+-0x3*-0x1581)]+=_0x428088['x'],_0x58c2b4[_0x1f107d*(0x1d22+0x4*-0x493+-0x11*0xa3)+(0x2*-0xd10+0x476+0x15ab)]+=_0x428088['y'],_0x58c2b4[_0x1f107d*(-0x1b1a+-0x1a*-0x1d+0x182b)+(-0x1e72+0x1afa+0x37a)]+=_0x428088['z'],_0x58c2b4[_0x311b3e*(0x10be+-0x312*0x4+-0x473)+(0x14e+0x774+-0x8c2)]+=_0x428088['x'],_0x58c2b4[_0x311b3e*(0x166d*-0x1+0x3c7+0x12a9)+(-0x67*0x8+-0x17e3+0x1b1c)]+=_0x428088['y'],_0x58c2b4[_0x311b3e*(0xf78+0x388+-0x1*0x12fd)+(-0x3c*-0x9+-0xc5f+-0xb*-0xef)]+=_0x428088['z'],_0x4b5d37[_0x3ce926*(0x1e1e+0x1fb5+0x4*-0xf74)+(0x85c+0x1a04+0xa*-0x370)]+=_0x112f20['x'],_0x4b5d37[_0x3ce926*(0x1*0x15cd+-0x8c5*0x3+-0x59*-0xd)+(-0x2252+0x7f5+0x1a5e)]+=_0x112f20['y'],_0x4b5d37[_0x3ce926*(0x11*-0x81+0x10*0x121+0x2*-0x4be)+(-0x3*-0x33e+0x6*-0x35e+-0xa7c*-0x1)]+=_0x112f20['z'],_0x4b5d37[_0x1f107d*(0x1*0x2bd+0x2*0x6be+-0x1036)+(-0x4dd*0x1+-0x660+0x3bf*0x3)]+=_0x112f20['x'],_0x4b5d37[_0x1f107d*(0x2b8+0x1*-0x13e7+0x1f*0x8e)+(0x1930*-0x1+-0x942+-0x1*-0x2273)]+=_0x112f20['y'],_0x4b5d37[_0x1f107d*(0x5*0xc3+-0x1*-0x121f+-0x15eb)+(0x60*-0x64+0x22c2+-0x160*-0x2)]+=_0x112f20['z'],_0x4b5d37[_0x311b3e*(0xe0e+0x6*-0x587+0x131f)+(0xad2*0x1+0x1d37+0x25*-0x115)]+=_0x112f20['x'],_0x4b5d37[_0x311b3e*(-0x1*-0x710+-0x118a+-0x1*-0xa7d)+(-0xdc2+-0x14*0x43+0x12ff)]+=_0x112f20['y'],_0x4b5d37[_0x311b3e*(0x5a2*0x4+0x1d*0x11b+0x7*-0x7cc)+(-0x1d5f+0x3*0x85b+0x170*0x3)]+=_0x112f20['z'];}const _0x5834ce=new D(),_0x512c60=new D(),_0x5b9372=new D(),_0xaf3f7b=new D();for(let _0xf7f1a3=0xd9b+0x18f5+0x2690*-0x1;_0xf7f1a3<_0x28d790;_0xf7f1a3++){_0x5b9372['set'](_0x58a99c[_0xf7f1a3*(0x13*-0x114+0x1f05*-0x1+0x1*0x3384)],_0x58a99c[_0xf7f1a3*(-0x1*0x159b+-0x1960+-0x3*-0xfaa)+(-0x1*0xb0f+0x946+0x1ca)],_0x58a99c[_0xf7f1a3*(0xa05+-0x1de7+0x13e5)+(-0xa*-0x3+-0x4f*-0x57+-0x1af5)]),_0x5834ce['set'](_0x58c2b4[_0xf7f1a3*(-0x5d*0x4b+0x1*-0x13c6+-0x46*-0xac)],_0x58c2b4[_0xf7f1a3*(-0x49*-0x7d+-0x1*-0xccd+-0x306f)+(0x2461+-0xa*0x47+-0x219a)],_0x58c2b4[_0xf7f1a3*(-0x1735*-0x1+-0x1088+-0x6aa)+(0x95*0x38+-0x1113+-0xf83)]),_0x512c60['set'](_0x4b5d37[_0xf7f1a3*(-0x1*-0x1c4b+-0x1861+-0x1*0x3e7)],_0x4b5d37[_0xf7f1a3*(0x25f+0x7*0x1cd+-0x1*0xef7)+(-0x1026*0x1+-0x2101+0x3128)],_0x4b5d37[_0xf7f1a3*(0x211b+0xaf4+-0x1606*0x2)+(-0x153b+0x7*0x433+-0x828)]);const _0x5e446a=_0x5b9372['dot'](_0x5834ce);_0xaf3f7b['copy'](_0x5b9372)['mulScalar'](_0x5e446a),_0xaf3f7b['sub2'](_0x5834ce,_0xaf3f7b)['normalize'](),_0x54a59a[_0xf7f1a3*(0xc95+-0x205*-0xe+-0xd9d*0x3)]=_0xaf3f7b['x'],_0x54a59a[_0xf7f1a3*(0x1207+0x1*0x20dd+-0x32e0)+(0x8c1+-0x1827+0xf67)]=_0xaf3f7b['y'],_0x54a59a[_0xf7f1a3*(0xb*-0x11b+0x1df0+-0x11c3)+(-0x3*0xc8+-0xd59+0x1*0xfb3)]=_0xaf3f7b['z'],_0xaf3f7b['cross'](_0x5b9372,_0x5834ce),_0x54a59a[_0xf7f1a3*(-0x687+0x19ea+-0x1d*0xab)+(-0x3*-0xb49+-0x3e5*-0x4+0xc5b*-0x4)]=_0xaf3f7b['dot'](_0x512c60)<-0x230*-0x10+-0xe77+-0x1489?-(-0xabc+0x59*-0x35+0x1d2a):0x23a1*0x1+0x29*0x94+0xed5*-0x4;}return _0x54a59a;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0xd64*0x2+0x5*-0x551+0x3561)/(-0x425*0x2+0x2e9+0x1*0x5a1),hg=0x21c0+-0x2223+-0x32*-0x2-pu*(0x2*0x96f+0xea1+0x1*-0x217d);class mu extends Ta{constructor(_0x12327e={}){super();const _0x5b573f=_0x12327e['halfExtent'+'s']??new D(-0x408*0x2+-0x1262+0xd39*0x2+0.5,0x345*0x6+0x1*0x1035+-0x23d3+0.5,-0x22bd*0x1+-0x502+0xb*0x39d+0.5),_0x5708fd=_0x12327e['widthSegme'+'nts']??-0x2*-0x7eb+-0x577*-0x2+-0x1ac3,_0x35762c=_0x12327e['lengthSegm'+'ents']??-0x1981+-0x68a*0x5+0x19*0x254,_0x10da88=_0x12327e['heightSegm'+'ents']??-0xe*0x23+-0xf5*-0x8+-0xd*0x71,_0x40ec52=_0x12327e['yOffset']??-0x2*0x135b+-0x735+-0x92f*-0x5,_0x26fa2d=-_0x5b573f['y']+_0x40ec52,_0x2521c7=_0x5b573f['y']+_0x40ec52,_0x42e81a=[new D(-_0x5b573f['x'],_0x26fa2d,_0x5b573f['z']),new D(_0x5b573f['x'],_0x26fa2d,_0x5b573f['z']),new D(_0x5b573f['x'],_0x2521c7,_0x5b573f['z']),new D(-_0x5b573f['x'],_0x2521c7,_0x5b573f['z']),new D(_0x5b573f['x'],_0x26fa2d,-_0x5b573f['z']),new D(-_0x5b573f['x'],_0x26fa2d,-_0x5b573f['z']),new D(-_0x5b573f['x'],_0x2521c7,-_0x5b573f['z']),new D(_0x5b573f['x'],_0x2521c7,-_0x5b573f['z'])],_0x208193=[[0x934+0xc7*0x1+0x1*-0x9fb,0x35b*-0x6+0x1*-0x2659+0x4*0xe9f,0x1925+0x20d2*-0x1+0x1*0x7b0],[0x1ac4+-0x4*-0x703+-0x3*0x1244,0x9c1*-0x1+0x2e*-0x23+-0x101*-0x10,0x3d*-0x71+0x1af7+-0x1*0x3],[-0xcbe*-0x3+0x20c*0xb+-0x8ad*0x7,0x496+0xa73+-0xf07,-0x1bfa+0x25cf*0x1+-0x1*0x9cf],[-0xad*-0xf+-0xbe5+0x1c3,0x18ef+0x1072+-0x2961,0x31a*0x9+0x1c90+-0x3876],[0xc1*-0x2+-0x89d+0x20*0x51,-0x9b*-0x24+-0x1a6b+0x4a3,-0x171+0x829*-0x3+0x19ee],[0x2422+-0x48c+0x1*-0x1f91,0x1455+0x89b+0x1cf0*-0x1,-0xffd*-0x1+0x3*0x9d7+0x4*-0xb5f]],_0x504558=[[-0x1c9*0x6+0x1a35+0x1*-0xf7f,-0x1*-0xf17+0x3*-0x903+0x1*0xbf2,-0x151*0x1b+0x9*-0x337+0x407b],[0x25*-0x5+0xcd*-0x2f+0x265c,0xe68*-0x2+-0x13d*0x18+0x3a88,-(0x1c72+-0x1*-0xd1c+-0x298d)],[0xac9*0x2+-0xb1a*0x1+-0xa78,-0x2373+0xd*0x2e3+-0x213,0x1238+0x1e19+-0x3051],[-0x409+0xf9f+-0xb96,-(0x1f1c+-0x223d+0x191*0x2),0x1*-0x1ad1+0xd43+0xd8e],[0x58d*-0x2+-0x1fd5+0x728*0x6,0x4fd+-0xa54+0x557,-0x1450+0x2295+0xd*-0x119],[-(0x1ba9+0x7e*0x10+-0x2388),-0x23dc+-0x1188+0x3564,-0xb7*-0xe+0x11c8+-0x1*0x1bca]],_0x562e1a={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0xd5b838=[],_0x385565=[],_0x91a758=[],_0x4d7c96=[];let _0x13cfd3=0x218b+0x50d+-0x2698;const _0x499ba5=(_0x328581,_0x15c781,_0x33dea1)=>{const _0x5b93ec=new D(),_0x560961=new D(),_0x50e2ea=new D(),_0x370ddf=new D();for(let _0x5095a5=0x13*0x2+-0xa93*-0x2+-0x154c;_0x5095a5<=_0x15c781;_0x5095a5++)for(let _0xe669b7=-0x232e+-0x8c*-0x34+0x6be;_0xe669b7<=_0x33dea1;_0xe669b7++){_0x5b93ec['lerp'](_0x42e81a[_0x208193[_0x328581][-0x212b+-0x12b*0x1f+0x128*0x3c]],_0x42e81a[_0x208193[_0x328581][0x1*0xf47+0xb61*-0x1+0x3e5*-0x1]],_0x5095a5/_0x15c781),_0x560961['lerp'](_0x42e81a[_0x208193[_0x328581][-0x35*-0x3a+-0x71*-0x4d+0x933*-0x5]],_0x42e81a[_0x208193[_0x328581][0x1fa7+0x55*-0x71+0x5e0]],_0xe669b7/_0x33dea1),_0x50e2ea['sub2'](_0x560961,_0x42e81a[_0x208193[_0x328581][-0x6c6+0x18db+-0x1*0x1215]]),_0x370ddf['add2'](_0x5b93ec,_0x50e2ea);let _0x59ff38=_0x5095a5/_0x15c781,_0x586c88=_0xe669b7/_0x33dea1;_0xd5b838['push'](_0x370ddf['x'],_0x370ddf['y'],_0x370ddf['z']),_0x385565['push'](_0x504558[_0x328581][-0x2127+-0x433+-0x556*-0x7],_0x504558[_0x328581][-0x1e37+-0x79b*0x5+0x443f],_0x504558[_0x328581][-0x7*-0x315+-0x2091+-0x100*-0xb]),_0x91a758['push'](_0x59ff38,-0xf32+0x3fe+0xb35-_0x586c88),_0x59ff38=_0x59ff38*hg+pu,_0x586c88=_0x586c88*hg+pu,_0x59ff38/=-0x1753+0x89b*-0x2+-0xad*-0x3c,_0x586c88/=-0x6d*0x59+-0x18+0x2600,_0x59ff38+=_0x328581%(-0x202+-0x14a2+0x16a7)/(-0x24ab+0x116c+-0x1ed*-0xa),_0x586c88+=Math['floor'](_0x328581/(-0xe7c+0x1cf*-0xd+-0x79a*-0x5))/(-0x95*-0x3a+-0x17a3+-0xa1c),_0x5095a5<_0x15c781&&_0xe669b7<_0x33dea1&&(_0x4d7c96['push'](_0x13cfd3+_0x33dea1+(-0x1360+0x5*0x3ef+0x2*-0x25),_0x13cfd3+(0x6c9*-0x3+-0x19d*0x3+0x1933),_0x13cfd3),_0x4d7c96['push'](_0x13cfd3+_0x33dea1+(-0x1585+-0x5b*-0x5+0x13bf),_0x13cfd3+_0x33dea1+(-0x1144+-0x1*0x12a7+0x1*0x23ed),_0x13cfd3+(0x116*-0xa+-0x3*-0x3f+0xa20))),_0x13cfd3++;}};_0x499ba5(_0x562e1a['FRONT'],_0x5708fd,_0x10da88),_0x499ba5(_0x562e1a['BACK'],_0x5708fd,_0x10da88),_0x499ba5(_0x562e1a['TOP'],_0x5708fd,_0x35762c),_0x499ba5(_0x562e1a['BOTTOM'],_0x5708fd,_0x35762c),_0x499ba5(_0x562e1a['RIGHT'],_0x35762c,_0x10da88),_0x499ba5(_0x562e1a['LEFT'],_0x35762c,_0x10da88),this['positions']=_0xd5b838,this['normals']=_0x385565,this['uvs']=_0x91a758,this['uvs1']=_0x91a758,this['indices']=_0x4d7c96,_0x12327e['calculateT'+'angents']&&(this['tangents']=Mr(_0xd5b838,_0x385565,_0x91a758,_0x4d7c96));}}class _m extends Ta{constructor(_0x1da3ff={}){super();const _0x2b69d4=_0x1da3ff['radius']??0x4*-0x825+-0x1e6f+0x3f03+0.5,_0x47e88f=_0x1da3ff['latitudeBa'+'nds']??-0x1*-0x12cd+0x13ea+-0x5*0x7bb,_0x13f432=_0x1da3ff['longitudeB'+'ands']??0x2499+-0xda*0x8+-0x1db9,_0x3841d8=[],_0x40e353=[],_0x18d93f=[],_0x15d1d6=[];for(let _0x4ac035=0x1*0xd1c+-0x17*0x130+0xe34;_0x4ac035<=_0x47e88f;_0x4ac035++){const _0x5474c0=_0x4ac035*Math['PI']/_0x47e88f,_0x4f3933=Math['sin'](_0x5474c0),_0x205bd3=Math['cos'](_0x5474c0);for(let _0x5acf9e=-0x49*-0x1f+-0x1c24*0x1+0x134d;_0x5acf9e<=_0x13f432;_0x5acf9e++){const _0x4d0a37=_0x5acf9e*(-0x1179*0x1+0x611*-0x4+0x29bf)*Math['PI']/_0x13f432-Math['PI']/(0x2*0x12a5+-0xa36+-0x1b12),_0x4a3f17=Math['sin'](_0x4d0a37),_0x344c8b=Math['cos'](_0x4d0a37)*_0x4f3933,_0x5b82ed=_0x205bd3,_0x2c943c=_0x4a3f17*_0x4f3933,_0x212bb7=-0x2*0x624+0x5e6*0x5+-0x1135-_0x5acf9e/_0x13f432,_0x4166ca=-0x1*-0x14fc+-0x1c78+0xd5*0x9-_0x4ac035/_0x47e88f;_0x3841d8['push'](_0x344c8b*_0x2b69d4,_0x5b82ed*_0x2b69d4,_0x2c943c*_0x2b69d4),_0x40e353['push'](_0x344c8b,_0x5b82ed,_0x2c943c),_0x18d93f['push'](_0x212bb7,0x2658+0x1*-0x207d+-0x6b*0xe-_0x4166ca);}}for(let _0x1c2383=-0x46+0x817+-0x7d1;_0x1c2383<_0x47e88f;++_0x1c2383)for(let _0x14fe2f=-0x1*0x65f+-0x1b3b*-0x1+0x3c*-0x59;_0x14fe2f<_0x13f432;++_0x14fe2f){const _0x349815=_0x1c2383*(_0x13f432+(-0x25a5+0x1b53*-0x1+0x40f9))+_0x14fe2f,_0x140abb=_0x349815+_0x13f432+(0x25*0xf5+0x1ca7+0x1*-0x400f);_0x15d1d6['push'](_0x349815+(-0x72f*-0x3+0x1*-0xf53+0x3*-0x213),_0x140abb,_0x349815),_0x15d1d6['push'](_0x349815+(0x9*-0x152+0x5*-0x3f3+0x1fa2),_0x140abb+(0xb9e+-0x147*0x6+0x3*-0x151),_0x140abb);}this['positions']=_0x3841d8,this['normals']=_0x40e353,this['uvs']=_0x18d93f,this['uvs1']=_0x18d93f,this['indices']=_0x15d1d6,_0x1da3ff['calculateT'+'angents']&&(this['tangents']=Mr(_0x3841d8,_0x40e353,_0x18d93f,_0x15d1d6));}}class DA extends _m{constructor(_0x1389f2={}){const _0x3f7d42=_0x1389f2['latitudeBa'+'nds']??-0x1e1f+-0x611+-0x74*-0x50,_0x115ae8=_0x1389f2['longitudeB'+'ands']??0x72d+-0x4*-0x406+0x1*-0x1735;super({'radius':0.5,'latitudeBands':_0x3f7d42,'longitudeBands':_0x115ae8});const _0x50e0e9=0x267c+-0x360+-0x231c+0.1,_0x2a5452=-0x1*-0x1e9d+0x361*0x2+-0x255f*0x1+0.95,_0x3b0be6=_0x2a5452*_0x2a5452,_0x5bdb18=this['positions'];for(let _0x56daba=-0x3ad*-0x2+0x1757+0x1*-0x1eb1;_0x56daba<_0x5bdb18['length'];_0x56daba+=-0x1d95*0x1+0x1721*0x1+0x14b*0x5){const _0x2889c3=_0x5bdb18[_0x56daba]/(-0x371*-0x5+-0x69+-0x10cc+0.5);let _0x1ed5ea=_0x5bdb18[_0x56daba+(0xeb*-0x19+-0x329*0x6+0x1d*0x172)]/(0x26ea+0x9*0x3df+-0x49c1+0.5);const _0x53bcda=_0x5bdb18[_0x56daba+(-0x23e7+0x1351*-0x2+0x4a8b)]/(-0x132a+0x1*0x16f+0x11bb+0.5);_0x1ed5ea<0x8c2+0x24*-0xa+-0x75a&&(_0x1ed5ea*=-0xcce*-0x2+0xf7e+-0x291a+0.3,_0x2889c3*_0x2889c3+_0x53bcda*_0x53bcda<_0x3b0be6&&(_0x1ed5ea=-_0x50e0e9)),_0x1ed5ea+=_0x50e0e9,_0x1ed5ea*=-0x3*-0xa59+0x1526+0x1*-0x3431+0.5,_0x5bdb18[_0x56daba+(-0x1ed6+-0xa24+0x27*0x10d)]=_0x1ed5ea;}}}class zo{static['create'](_0x53ec7d,_0x4477a5){switch(_0x4477a5){case Qw:return zo['box'](_0x53ec7d);case Jw:return zo['dome'](_0x53ec7d);}return w['assert'](_0x4477a5===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4477a5),zo['infinite'](_0x53ec7d);}static['infinite'](_0x1f5317){return Ge['fromGeomet'+'ry'](_0x1f5317,new mu(_0x1f5317));}static['box'](_0x1238d5){return Ge['fromGeomet'+'ry'](_0x1238d5,new mu({'yOffset':0.5}));}static['dome'](_0x2a423e){const _0x167867=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x167867['normals']=void(0x2491+-0x1a12+-0xa7f),_0x167867['uvs']=void(0xb7e*0x1+-0xb73+-0x1*0xb),Ge['fromGeomet'+'ry'](_0x2a423e,_0x167867);}}class IA{constructor(_0x32b087,_0x210709,_0xfb2873,_0x1a6119,_0x1dca10){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x311*-0xb+0x257e+0x1*-0x3c2));const _0x1e055d=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x32b087,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x32b087,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x32b087,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x32b087,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x1e055d['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x1a6119['encoding'])),_0x1dca10!==Bo&&_0x1e055d['setDefine']('SKYMESH',''),_0x1a6119['cubemap']&&_0x1e055d['setDefine']('SKY_CUBEMA'+'P',''),_0x1e055d['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x210709['skyboxHigh'+'lightMulti'+'plier']),_0x1a6119['cubemap']?_0x1e055d['setParamet'+'er']('texture_cu'+'beMap',_0x1a6119):(_0x1e055d['setParamet'+'er']('texture_en'+'vAtlas',_0x1a6119),_0x1e055d['setParamet'+'er']('mipLevel',_0x210709['skyboxMip'])),_0x1e055d['cull']=Fo,_0x1e055d['depthWrite']=this['_depthWrit'+'e'];const _0x452eb5=_0x210709['layers']['getLayerBy'+'Id'](Kp);if(_0x452eb5){const _0x22f6f4=zo['create'](_0x32b087,_0x1dca10),_0x5ac04b=new He(_0x22f6f4,_0x1e055d,_0xfb2873);this['meshInstan'+'ce']=_0x5ac04b,_0x5ac04b['cull']=!(0x1cc*0x8+0x458*-0x6+0xbb1),_0x5ac04b['pick']=!(0x7fa*-0x4+0x50f+-0x3d6*-0x7),_0x452eb5['addMeshIns'+'tances']([_0x5ac04b]),this['skyLayer']=_0x452eb5;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x17cc25){this['_depthWrit'+'e']=_0x17cc25,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x17cc25);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x25a87c){h(this,'_type',Bo),h(this,'_center',new D(0x9a9*-0x3+0x11a+-0xd*-0x225,0x2d8+0x1*0x1f9d+-0x2274,0x1*-0x18b3+-0xc89*-0x1+0x40e*0x3)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x21bb+0x203+0x1*0x1fb9)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x25a87c['device'],this['scene']=_0x25a87c,this['center']=new D(-0x5f8*-0x5+-0x41b+0xb*-0x257,-0x1693+0x2149+-0xab5,0x1*-0x1b09+-0x433+0x1f3c),this['centerArra'+'y']=new Float32Array(0x89e*-0x3+-0x3*0x886+-0xb*-0x4ad),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x17486a){this['type']=_0x17486a['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x17486a['skyMeshPos'+'ition']??[0xb32+-0xaba*0x1+-0x78,-0x1863+-0x1cbc+-0x3*-0x11b5,0x8c6+0x994+-0x92d*0x2])),this['node']['setLocalEu'+'lerAngles'](new D(_0x17486a['skyMeshRot'+'ation']??[-0x1710+0x1ef0+-0x7e0,-0x12c8+0xb10*-0x3+0x1*0x33f8,0x21a1*0x1+0x19*-0xb3+-0x6a*0x27])),this['node']['setLocalSc'+'ale'](new D(_0x17486a['skyMeshSca'+'le']??[0x2513*0x1+-0x201+-0x2311,-0x7dc+-0xfa2+0x177f,0x1401+0x2064+-0x3464])),_0x17486a['skyCenter']&&(this['_center']=new D(_0x17486a['skyCenter']));}set['type'](_0x5d0644){this['_type']!==_0x5d0644&&(this['_type']=_0x5d0644,this['scene']['updateShad'+'ers']=!(0x1447+0x3d*-0x53+-0x80),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x23c708){this['_center']['copy'](_0x23c708);}get['center'](){return this['_center'];}set['depthWrite'](_0x75676f){this['_depthWrit'+'e']!==_0x75676f&&(this['_depthWrit'+'e']=_0x75676f,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x75676f));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x3b53ab=this['scene']['_getSkybox'+'Tex']();_0x3b53ab&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x3b53ab,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x3b53ab));}['resetSkyMe'+'sh'](){var _0x948067;(_0x948067=this['skyMesh'])==null||_0x948067['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x4e61b0,centerArray:_0x54ec05}=this,_0x400564=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x4e61b0,_0x400564),_0x54ec05[0x1a1f*0x1+-0x17fb*0x1+-0x224]=_0x400564['x'],_0x54ec05[-0x1*-0x20dd+-0x1*-0x1c55+-0x3d31]=_0x400564['y'],_0x54ec05[0x1*0x1f6a+0xd12+-0x2c7a]=_0x400564['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x54ec05);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x1660+0x2479*-0x1+0x5*0x2d2);class RA{constructor(_0xd382bc,_0x4a9730,_0x493032){this['material']=_0x4a9730,this['layer']=_0x493032,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0xd382bc),this['meshInstan'+'ce']=null;}['addLines'](_0xde442f,_0x10823b){const _0x5bb3b2=this['positions'],_0x202c8=_0xde442f['length'];for(let _0x4862c0=-0x345+0x151d+0x476*-0x4;_0x4862c0<_0x202c8;_0x4862c0++){const _0x3727b5=_0xde442f[_0x4862c0];_0x5bb3b2['push'](_0x3727b5['x'],_0x3727b5['y'],_0x3727b5['z']);}const _0x2a04ff=this['colors'];if(_0x10823b['length'])for(let _0x1c1f60=0x22dd+0x1*0xdc8+-0x1*0x30a5;_0x1c1f60<_0x202c8;_0x1c1f60++){const _0x318b18=_0x10823b[_0x1c1f60];_0x2a04ff['push'](_0x318b18['r'],_0x318b18['g'],_0x318b18['b'],_0x318b18['a']);}else{for(let _0x15986e=-0x2251+0x7*-0x434+0x14d*0x31;_0x15986e<_0x202c8;_0x15986e++)_0x2a04ff['push'](_0x10823b['r'],_0x10823b['g'],_0x10823b['b'],_0x10823b['a']);}}['addLinesAr'+'rays'](_0x152a18,_0x1f0379){const _0x3afd33=this['positions'];for(let _0x35b3a7=-0x9ed+-0xfb2+-0x7*-0x3a9;_0x35b3a7<_0x152a18['length'];_0x35b3a7+=-0x14*-0x162+0x1*0x1623+-0x31c8)_0x3afd33['push'](_0x152a18[_0x35b3a7],_0x152a18[_0x35b3a7+(-0xd1e+0x25*-0xe9+0x5*0x95c)],_0x152a18[_0x35b3a7+(-0x1f01*0x1+0xa72+0x1491)]);const _0x2b6ed3=this['colors'];if(_0x1f0379['length']){for(let _0x35c6bd=-0x791*-0x3+-0x211e+-0x15*-0x7f;_0x35c6bd<_0x1f0379['length'];_0x35c6bd+=-0x266*-0xc+-0x1*-0x56d+-0x2231*0x1)_0x2b6ed3['push'](_0x1f0379[_0x35c6bd],_0x1f0379[_0x35c6bd+(0x25bc+0x6f*0x29+-0x3782)],_0x1f0379[_0x35c6bd+(-0x45b*0x5+0x73a*0x1+0xe8f)],_0x1f0379[_0x35c6bd+(0x277*0xa+-0x40d*0x2+-0x1089)]);}else{const _0x2e5eb7=_0x152a18['length']/(-0x262a+-0xfa3*-0x2+0x1*0x6e7);for(let _0x4e3181=0x1387*0x2+-0xb3b+0x1*-0x1bd3;_0x4e3181<_0x2e5eb7;_0x4e3181++)_0x2b6ed3['push'](_0x1f0379['r'],_0x1f0379['g'],_0x1f0379['b'],_0x1f0379['a']);}}['onPreRende'+'r'](_0x1c6337,_0x234096){this['positions']['length']>-0x1cf6*0x1+0x3*0x6cb+-0x895*-0x1&&this['material']['transparen'+'t']===_0x234096&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0xb6f+-0x9+0xb79)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x1c6337['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x6f9+0x832*-0x1+0xf2b,this['colors']['length']=0xa*-0x26a+0x1fee+-0x1*0x7ca;}}class OA{constructor(_0x130e71){this['device']=_0x130e71,this['map']=new Map();}['getBatch'](_0x5c986c,_0x5bd47c){let _0xa98ec9=this['map']['get'](_0x5c986c);return _0xa98ec9||(_0xa98ec9=new RA(this['device'],_0x5c986c,_0x5bd47c),this['map']['set'](_0x5c986c,_0xa98ec9)),_0xa98ec9;}['onPreRende'+'r'](_0x25d134,_0x2e6c0a){this['map']['forEach'](_0x51d062=>{_0x51d062['onPreRende'+'r'](_0x25d134,_0x2e6c0a);});}['clear'](){this['map']['forEach'](_0x10c5b5=>_0x10c5b5['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x233cd9){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x233cd9,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x2d89d9){const _0x3e4030=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x3e4030['blendType']=Zs,_0x3e4030['depthTest']=_0x2d89d9,_0x3e4030['update'](),_0x3e4030;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x241a+-0xc83+-0x1797))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x38c*0x1+-0x3eb+0x8*0xc))),this['_materialN'+'oDepth'];}['getBatch'](_0x1f8c7d,_0x3f7605){let _0x54c791=this['batchesMap']['get'](_0x1f8c7d);_0x54c791||(_0x54c791=new OA(this['device']),this['batchesMap']['set'](_0x1f8c7d,_0x54c791)),this['allBatches']['add'](_0x54c791);const _0x1a4b66=_0x3f7605?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x54c791['getBatch'](_0x1a4b66,_0x1f8c7d);}['getShaderD'+'esc'](_0x1dce34,_0x53cf7f,_0x46fc09){return this['shaderDesc'+'s']['has'](_0x1dce34)||this['shaderDesc'+'s']['set'](_0x1dce34,{'uniqueName':'DebugShade'+'r:'+_0x1dce34,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x53cf7f,'fragmentWGSL':_0x46fc09,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x1dce34);}['getTexture'+'ShaderDesc'](_0x4671fe){const _0x555c94=Tr['decodeFunc'](_0x4671fe);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x4671fe,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x555c94+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x555c94+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x1241*-0x1+-0x1b19+0x2d5a+0.5),-(0x4*0x135+-0x244*0x3+0x1f8+0.5),0x8bb+-0x1145+0x88a,0x1*0x1e9e+0x21*-0x35+-0x1*0x17c9+0.5,-(0x2*-0x52e+0x16e+0x3*0x2fa+0.5),-0xf35+-0x1e9a*0x1+0x2dcf,-(-0x879+-0x69f+0x142*0xc+0.5),0x864*-0x3+0x200d*-0x1+0x3939+0.5,0xf69+-0x2222+0x12b9,0x22ac*0x1+0x1205+-0x34b1+0.5,0x1649+0x38d+-0x19d6*0x1+0.5,0x1b54+0x2193+-0x3ce7]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x3afee2,_0x805e9f,_0x1e9e1d,_0x499c8e,_0xd57380){if(!_0x499c8e){const _0x3736e2=this['getGraphNo'+'de'](_0x805e9f);_0x499c8e=new He(_0x1e9e1d,_0x3afee2,_0x3736e2);}let _0x316c14=this['layerMeshI'+'nstances']['get'](_0xd57380);_0x316c14||(_0x316c14=[],this['layerMeshI'+'nstances']['set'](_0xd57380,_0x316c14)),_0x316c14['push'](_0x499c8e);}['drawWireAl'+'ignedBox'](_0x4a577e,_0x21a9c4,_0x45aa8,_0x342206,_0x3df7bc,_0x327792){if(_0x327792){const _0x1afcfd=(_0x356af5,_0x2ea4a7,_0xd71d85)=>{Ba['set'](_0x356af5,_0x2ea4a7,_0xd71d85),_0x327792['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z']),_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z']),_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z']),_0x1afcfd(_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z']);}else Ts['push'](_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z'],_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z'],_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z'],_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z'],_0x4a577e['x'],_0x4a577e['y'],_0x4a577e['z'],_0x4a577e['x'],_0x4a577e['y'],_0x21a9c4['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x4a577e['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x21a9c4['y'],_0x21a9c4['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x4a577e['z'],_0x21a9c4['x'],_0x4a577e['y'],_0x21a9c4['z']);this['getBatch'](_0x3df7bc,_0x342206)['addLinesAr'+'rays'](Ts,_0x45aa8),Ts['length']=-0x5*-0x776+0x2166+-0x46b4;}['drawWireSp'+'here'](_0x105e37,_0x355299,_0xdb2ad1,_0x3641c2,_0x26ead4,_0x33a441){const _0x48deac=(0x27*0x2b+-0x1a0a+0x7*0x2c9)*Math['PI']/_0x3641c2;let _0x54a27d=-0x367+0x3*0x72e+-0x1223;for(let _0x135e54=0xe*0x7d+0x2a0+-0x1*0x976;_0x135e54<_0x3641c2;_0x135e54++){const _0x4c2193=Math['sin'](_0x54a27d),_0xaaea08=Math['cos'](_0x54a27d);_0x54a27d+=_0x48deac;const _0x528afd=Math['sin'](_0x54a27d),_0x2c9988=Math['cos'](_0x54a27d);Ts['push'](_0x105e37['x']+_0x355299*_0x4c2193,_0x105e37['y'],_0x105e37['z']+_0x355299*_0xaaea08),Ts['push'](_0x105e37['x']+_0x355299*_0x528afd,_0x105e37['y'],_0x105e37['z']+_0x355299*_0x2c9988),Ts['push'](_0x105e37['x']+_0x355299*_0x4c2193,_0x105e37['y']+_0x355299*_0xaaea08,_0x105e37['z']),Ts['push'](_0x105e37['x']+_0x355299*_0x528afd,_0x105e37['y']+_0x355299*_0x2c9988,_0x105e37['z']),Ts['push'](_0x105e37['x'],_0x105e37['y']+_0x355299*_0x4c2193,_0x105e37['z']+_0x355299*_0xaaea08),Ts['push'](_0x105e37['x'],_0x105e37['y']+_0x355299*_0x528afd,_0x105e37['z']+_0x355299*_0x2c9988);}this['getBatch'](_0x33a441,_0x26ead4)['addLinesAr'+'rays'](Ts,_0xdb2ad1),Ts['length']=-0x29*-0xbf+0x742+-0x25d9;}['getGraphNo'+'de'](_0x266f16){const _0x53803c=new Ie('ImmediateD'+'ebug');return _0x53803c['worldTrans'+'form']=_0x266f16,_0x53803c['_dirtyWorl'+'d']=_0x53803c['_dirtyNorm'+'al']=!(0xd7*-0x2b+-0x1ff9*-0x1+0x425),_0x53803c;}['onPreRende'+'rLayer'](_0x501bb0,_0x41eedc,_0x4b64c7){if(this['batchesMap']['forEach']((_0x23978f,_0x40563)=>{_0x40563===_0x501bb0&&_0x23978f['onPreRende'+'r'](_0x41eedc,_0x4b64c7);}),!this['updatedLay'+'ers']['has'](_0x501bb0)){this['updatedLay'+'ers']['add'](_0x501bb0);const _0x36e158=this['layerMeshI'+'nstances']['get'](_0x501bb0);if(_0x36e158){for(let _0x4d66c1=-0x167a*-0x1+-0x734+-0xf46;_0x4d66c1<_0x36e158['length'];_0x4d66c1++)_0x41eedc['push'](_0x36e158[_0x4d66c1]);_0x36e158['length']=0x151*0x10+-0x683+0x5*-0x2e9;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x249c4d=>_0x249c4d['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0x2586+-0x26dc+0x156,-0x1*-0x21d9+0x893*-0x1+0x1*-0x1946,0x6*0x394+0x2*-0x36d+-0xe9e*0x1)),h(this,'density',-0xad1+0x1*-0x19eb+-0x4*-0x92f),h(this,'start',0x69*-0x25+0x11da*-0x1+0x2108),h(this,'end',-0x4a*0x53+0x1b9+0x1a2d);}}class Et extends me{constructor(_0x30d0ef){super(),h(this,'ambientBak'+'e',!(-0x1*-0x151b+-0x2*-0x4bf+0x8*-0x3d3)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x1562+-0x1aae+-0x8*-0x602),h(this,'ambientBak'+'eOcclusion'+'Contrast',0x4*0x905+0x14b7*-0x1+-0x51f*0x3),h(this,'ambientLig'+'ht',new ie(-0x5bf*-0x5+-0x10c9+-0xbf2,0x975+-0x24e0+0x1b6b,0x5*-0x742+0x25e*0xd+0x2c2*0x2)),h(this,'ambientLum'+'inance',0x1f58+0x20c8+-0x26*0x1b0),h(this,'exposure',0x1f08+0x12ff+-0x13*0x2a2),h(this,'lightmapSi'+'zeMultipli'+'er',0x705*-0x5+0x759+0x91*0x31),h(this,'lightmapMa'+'xResolutio'+'n',-0x2*-0x50b+0x92c*-0x1+0x716*0x1),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x1a29+-0x1c12+0x1ea)),h(this,'lightmapHD'+'R',!(0x865+-0x13a*-0x1d+-0x2bf6)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x6e7+-0x146b*0x1+0xd85)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0xad6+0x2643+-0x1b6c)),(w['assert'](_0x30d0ef,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x30d0ef,this['_gravity']=new D(-0x5d*-0x56+-0x1074+-0xeca,-(0x4cb+-0x1282+0xdc0+0.8000000000000007),0x26a1+-0x7*-0x3e3+-0x41d6),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1*0x1fc4+-0x251f+0x44e4*0x1,this['_skyboxLum'+'inance']=0x3*0x22c+0x475+-0xaf9,this['_skyboxMip']=0xaeb+0x4*0x4de+-0x1e63,this['_skyboxHig'+'hlightMult'+'iplier']=0x2f5*-0x9+0x1baf+-0x111,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1*0x996+0x766*-0x1+0x10fd),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x139*-0x18+-0x10f4*0x1+0x2e4d,this['_ambientBa'+'keSpherePa'+'rt']=-0x1ba7+-0x1a12+0x35b9+0.4,this['_lightmapF'+'ilterRange']=0x2*0x301+-0xaed*0x2+0x13*0xd6,this['_lightmapF'+'ilterSmoot'+'hness']=0x8f*-0x3d+0x1*-0x59e+-0x9*-0x469+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x31+0xb*-0x40+-0x83*-0x5),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x1316+0x1f81+-0x9*0x59f);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x3*0x82b+-0x1636*-0x1+-0x2eb7),this['_shaderVer'+'sion']=0x2264+0x1a*-0x153+0xa,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x52f550){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x52f550),-0x142d+-0x7f*0x1a+0x2114,-0x19*0x3+-0x2166+0x22b0);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x292877){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x292877,-0x1a*0xbf+-0x15fe+0x2964+0.001,-0x1eb4+0x43c*-0x5+0x33e1);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0xbfc01c){if(this['device']['isWebGPU']&&!_0xbfc01c){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0xbfc01c){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0xbfc01c;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x4c666e){_0x4c666e!==this['_envAtlas']&&(this['_envAtlas']=_0x4c666e,_0x4c666e&&(_0x4c666e['addressU']=ue,_0x4c666e['addressV']=ue,_0x4c666e['minFilter']=vt,_0x4c666e['magFilter']=vt,_0x4c666e['mipmaps']=!(0x24b0+0x113*0x16+-0x3c51)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x5d7813){const _0x3fe790=this['_layers'];this['_layers']=_0x5d7813,this['fire']('set:layers',_0x3fe790,_0x5d7813);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x10cafc){this['_lightmapF'+'ilterRange']=Math['max'](_0x10cafc,-0x1dea+0x1054+0xd96+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x146127){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x146127,-0x3b*0x61+-0x3*-0x626+0xd*0x4d+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x1a22da){_0x1a22da=_0x1a22da||[];const _0x116467=this['_prefilter'+'edCubemaps'];(_0x116467['length']!==_0x1a22da['length']||_0x116467['some']((_0x234c50,_0xc09522)=>_0x234c50!==_0x1a22da[_0xc09522]))&&(_0x1a22da['length']===0x1da5*0x1+-0x1d33+-0x6c&&_0x1a22da['every'](_0x1c391a=>!!_0x1c391a)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x1a22da,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x1a22da['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x15fd44){_0x15fd44!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x15fd44,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x202c44){_0x202c44!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x202c44,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x49101c){_0x49101c!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x49101c,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x1bf90f){_0x1bf90f!==this['_skyboxMip']&&(this['_skyboxMip']=_0x1bf90f,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x1aa71f){_0x1aa71f!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x1aa71f,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x5e1836){if(!this['_skyboxRot'+'ation']['equals'](_0x5e1836)){const _0x47befb=_0x5e1836['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x5e1836),_0x47befb?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x5e1836,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x47befb&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x1*-0x1917+-0xe6e+-0x43*-0x97),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1d5791,_0x20a88f,_0x3bf029=ie['WHITE'],_0x43351b=!(0x7cf*0x3+0x213e+-0x38ab),_0x461c76=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x461c76,_0x43351b)['addLines']([_0x1d5791,_0x20a88f],[_0x3bf029,_0x3bf029]);}['drawLines'](_0x11fe49,_0x563750,_0x3afb0c=!(-0x3a6+0x1033+0x3f*-0x33),_0x4ff274=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4ff274,_0x3afb0c)['addLines'](_0x11fe49,_0x563750);}['drawLineAr'+'rays'](_0x53a3f5,_0x33f15c,_0x2c1f08=!(-0x1d19+0x1b7d*-0x1+0x3896),_0x4eede1=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4eede1,_0x2c1f08)['addLinesAr'+'rays'](_0x53a3f5,_0x33f15c);}['applySetti'+'ngs'](_0x5d5638){const _0x5dfe8f=_0x5d5638['physics'],_0x2235e6=_0x5d5638['render'];this['_gravity']['set'](_0x5dfe8f['gravity'][0x90*-0x35+-0x1d15*-0x1+0x11*0xb],_0x5dfe8f['gravity'][-0xfbb+-0x2448+0x1a02*0x2],_0x5dfe8f['gravity'][0x92*-0x1+0x1a36+-0x19a2]),this['ambientLig'+'ht']['set'](_0x2235e6['global_amb'+'ient'][-0x226d+0x1*0x1396+-0x83*-0x1d],_0x2235e6['global_amb'+'ient'][-0xa1e+0x1d0f+-0x12f0],_0x2235e6['global_amb'+'ient'][-0x18e4+0x35*-0xb1+-0x2ad*-0x17]),this['ambientLum'+'inance']=_0x2235e6['ambientLum'+'inance'],this['fog']['type']=_0x2235e6['fog'],this['fog']['color']['set'](_0x2235e6['fog_color'][0x1b24+0x1f7a+-0x3a9e*0x1],_0x2235e6['fog_color'][-0x2*0x1f+-0x355*-0x2+0x35*-0x1f],_0x2235e6['fog_color'][-0x7c9+0x2665+-0x1e9a]),this['fog']['start']=_0x2235e6['fog_start'],this['fog']['end']=_0x2235e6['fog_end'],this['fog']['density']=_0x2235e6['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x2235e6['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x2235e6['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x2235e6['lightmapMo'+'de'],this['exposure']=_0x2235e6['exposure'],this['_skyboxInt'+'ensity']=_0x2235e6['skyboxInte'+'nsity']??-0x182d+-0x10a9+-0xf*-0x2b9,this['_skyboxLum'+'inance']=_0x2235e6['skyboxLumi'+'nance']??0x56*-0x2f+-0x2370+-0x158f*-0x6,this['_skyboxMip']=_0x2235e6['skyboxMip']??0x3f*-0x6b+-0xe87*-0x1+0xbce,_0x2235e6['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x2235e6['skyboxRota'+'tion'][0x2259+0xa*-0x2e3+-0x3d*0x17],_0x2235e6['skyboxRota'+'tion'][0x1*0x8e8+-0x9*0x57+-0x5d8],_0x2235e6['skyboxRota'+'tion'][0xa73+-0x1183+0x5*0x16a])),this['sky']['applySetti'+'ngs'](_0x2235e6),this['clusteredL'+'ightingEna'+'bled']=_0x2235e6['clusteredL'+'ightingEna'+'bled']??!(0x1853+0x2120+-0xab*0x56),this['lighting']['applySetti'+'ngs'](_0x2235e6),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x26eca8=>{_0x2235e6['hasOwnProp'+'erty'](_0x26eca8)&&(this[_0x26eca8]=_0x2235e6[_0x26eca8]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x592340=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x592340[[0xd84+-0x15b2+0x3*0x2ba,-0x51*0x31+-0x1*0x11a7+0x2129,0x22d6+-0x2*-0x293+0xd53*-0x3,0x27*0xf6+-0x4*-0x633+-0x3e42,-0x88*-0x22+-0x65d+-0xbae,0xa02+-0xa*0x2c9+0x11de][this['_skyboxMip']]]||this['_envAtlas']||_0x592340[-0x18e8+-0x1c65*-0x1+-0x37d]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x592340[0x299+0xf72+-0x120b]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1c6c+-0x775*-0x1+0x14f7);}['setSkybox'](_0x2b9664){_0x2b9664?(this['skybox']=_0x2b9664[-0x16ce+-0x736*-0x4+-0x60a]||null,_0x2b9664[-0x1*-0x5b7+0xa*0x1d0+0x153*-0x12]&&!_0x2b9664[-0x2226+0x1b85+0x6a2]['cubemap']?this['envAtlas']=_0x2b9664[-0xbe6*0x1+-0x17*-0x11b+-0x1*0xd86]:this['prefiltere'+'dCubemaps']=_0x2b9664['slice'](0x1a19+0x1*-0x545+-0x14d3)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x1cf164,_0x595531,_0xdc7f62){this['device']=_0x1cf164,this['inverseBin'+'dPose']=_0x595531,this['boneNames']=_0xdc7f62;}}const kA=[-0x18b*-0x14+0x1*0x841+-0x271d,0x2c9+0x2248+-0x2511,-0x26b4+0x11*-0x4+0x26f9,0x15fb+-0xd*-0x17+-0x1726,0x234a+0x5*0x313+-0x32a9,-0xe40+-0x92+0xed3,-0x2559+0x599*-0x1+0x2af2*0x1,0x1d72+-0x2202+0x490,0x3*-0x3fb+0x24+0xbce,0x136b+0x140d+-0x2778,0xc59+-0x1848+-0x2f*-0x41,0x43b+0x2*0xb5a+-0x1aee],UA=[-0x259+-0x17*0x61+0xb10,-0x126f+0x1400+-0x190,0xc5*-0x1c+-0x1c0+0x33*0x75,0x1700+0x3*0x44b+-0x23df,-0x4*0x157+-0x10d8+0x1*0x1637,0xa0c+-0x11d*-0xb+-0x2*0xb25];class BA extends me{constructor(_0x5b19bb,_0x9c04a7){super(),this['_device']=_0x5b19bb,this['_pixelsPer'+'Unit']=_0x9c04a7&&_0x9c04a7['pixelsPerU'+'nit']!==void(0x230e+0x1*0x1d19+-0x4027)?_0x9c04a7['pixelsPerU'+'nit']:0x2b6+-0x9*0x142+0x89d,this['_renderMod'+'e']=_0x9c04a7&&_0x9c04a7['renderMode']!==void(-0x1c38+-0x74a+0x2382)?_0x9c04a7['renderMode']:ci,this['_atlas']=_0x9c04a7&&_0x9c04a7['atlas']!==void(-0x23f+-0x1*-0x1f9+0x7*0xa)?_0x9c04a7['atlas']:null,this['_frameKeys']=_0x9c04a7&&_0x9c04a7['frameKeys']!==void(0x3*-0x48a+-0x17d7+0x2575*0x1)?_0x9c04a7['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0xb9d+-0x2b0*-0x2+-0x10fc),this['_meshesDir'+'ty']=!(-0x1f27+-0x7ca*0x1+-0x1379*-0x2),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x24b4bb){this['_frameKeys']=_0x24b4bb,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x19c6+0x1ae9+-0x34af):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x24b4bb);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x3c2313){_0x3c2313!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x3c2313,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x4*0x227+0x139a*0x1+-0x1c36):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x3c2313));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x88021e){this['_pixelsPer'+'Unit']!==_0x88021e&&(this['_pixelsPer'+'Unit']=_0x88021e,this['fire']('set:pixels'+'PerUnit',_0x88021e),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x136c+0x2b6+0x10b6):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3ed0b7){if(this['_renderMod'+'e']===_0x3ed0b7)return;const _0x4a9114=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3ed0b7,this['fire']('set:render'+'Mode',_0x3ed0b7),(_0x4a9114===ci||_0x3ed0b7===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x60d*0x2+0x407+0x9f*0xd):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x5b2f66=this['_meshes']['length'];for(let _0x3c112b=0x1*0x1655+0x3af*0x2+0x1*-0x1db3;_0x3c112b<_0x5b2f66;_0x3c112b++){const _0x42213f=this['_meshes'][_0x3c112b];_0x42213f&&_0x42213f['destroy']();}const _0x44c229=this['_frameKeys']['length'];this['_meshes']=new Array(_0x44c229);const _0x5317ef=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x3364aa=-0xb*0x40+-0x1f*-0x125+-0x20bb;_0x3364aa<_0x44c229;_0x3364aa++){const _0x324dd1=this['_atlas']['frames'][this['_frameKeys'][_0x3364aa]];this['_meshes'][_0x3364aa]=_0x324dd1?_0x5317ef['call'](this,_0x324dd1):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x191bb3){const _0x18acc0=_0x191bb3['rect'],_0x47c8e9=this['_atlas']['texture']['width'],_0x18332e=this['_atlas']['texture']['height'],_0x9cdfd=_0x18acc0['z']/this['_pixelsPer'+'Unit'],_0x241906=_0x18acc0['w']/this['_pixelsPer'+'Unit'],_0x132271=_0x191bb3['pivot']['x'],_0x32ae28=_0x191bb3['pivot']['y'],_0x56e96a=[-_0x132271*_0x9cdfd,-_0x32ae28*_0x241906,0x2*-0x1051+-0x1*0x24d3+0x4575,(-0x82b+0xd8b+-0x37*0x19-_0x132271)*_0x9cdfd,-_0x32ae28*_0x241906,0x647*0x1+0xcc7+0x2*-0x987,(-0x1*-0xd13+-0x1*0x12fb+0x59*0x11-_0x132271)*_0x9cdfd,(0x22bc+0x641*0x3+-0x29*0x14e-_0x32ae28)*_0x241906,0x2153+-0x1b83+-0x5d0,-_0x132271*_0x9cdfd,(-0xb57+0xb52+-0x6*-0x1-_0x32ae28)*_0x241906,-0x1d80*0x1+-0x2575+0x119*0x3d],_0xf24b01=_0x18acc0['x']/_0x47c8e9,_0x5c4876=0x2*0xf59+-0x5*0x599+-0x15a*0x2-_0x18acc0['y']/_0x18332e,_0xa0f8f4=(_0x18acc0['x']+_0x18acc0['z'])/_0x47c8e9,_0x27ab0a=0x5c3*-0x2+-0x68a+0x1211-(_0x18acc0['y']+_0x18acc0['w'])/_0x18332e,_0x3591e9=[_0xf24b01,_0x5c4876,_0xa0f8f4,_0x5c4876,_0xa0f8f4,_0x27ab0a,_0xf24b01,_0x27ab0a],_0x11edb3=new Ta();return _0x11edb3['positions']=_0x56e96a,_0x11edb3['normals']=kA,_0x11edb3['uvs']=_0x3591e9,_0x11edb3['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x11edb3);}['_create9Sl'+'iceMesh'](){const _0x19a6df=J['ONE'],_0xa8dc5b=0x4*0x602+0x9*-0x248+0x37d*-0x1,_0x24ce19=-0x5*-0x6d7+-0x2181+-0xaf,_0x5a6964=[],_0x1f0815=[],_0xda87f3=[],_0x183d1e=[];let _0x4d925a=-0x1*-0x1ae9+-0xb57+-0x1*0xf92;for(let _0x33e511=-0xd0b+0x13*-0x6e+0x1535;_0x33e511<=_0xa8dc5b;_0x33e511++){const _0x40ea25=_0x33e511===0x35*-0x3+0x209c+-0x1ffd||_0x33e511===_0xa8dc5b?0xa09+0x1*0x1695+-0x209e:0x4*0x17b+0x130*-0x3+0x3*-0xc9;for(let _0x789a57=0xc2*0xe+0x1ae0+-0x257c*0x1;_0x789a57<=_0x24ce19;_0x789a57++){const _0x36ed15=-_0x19a6df['x']+(0x48b+-0x1*0x203c+0x3f5*0x7)*_0x19a6df['x']*(_0x33e511<=-0x277*0x4+-0x15b3+0x1f90?0x1e12+-0x1*0x69e+-0x1774:0x6a3*0x3+-0x1784+0x2*0x1cf)/_0xa8dc5b,_0x4e79b9=-0x913+-0x5d7+-0xa6*-0x17,_0x3f4ccf=-(-_0x19a6df['y']+(-0x1a4e*-0x1+0x378*-0x4+-0xc6c)*_0x19a6df['y']*(_0x789a57<=0x2572*0x1+0x23*-0x39+0x6*-0x4f1?-0x174+-0xbfe+0x2*0x6b9:-0x106*0x25+0x25*-0x107+0x4be4)/_0x24ce19),_0x2f8bb9=_0x789a57===0x1*0x1d8a+-0x2*-0x12f+0xff4*-0x2||_0x789a57===_0x24ce19?0x212f+-0x88e+-0x18a1:0x1*0xa2a+0xe21*0x2+-0x7*0x57d;_0x5a6964['push'](-_0x36ed15,_0x4e79b9,_0x3f4ccf),_0x1f0815['push'](0x7*0x10f+0x7*-0x38d+0x16*0xcb,-0x165e+0x8*0x3ec+0x5*-0x1cd,-0x109f+-0x1c9e+0x2d3d),_0xda87f3['push'](_0x40ea25,_0x2f8bb9),_0x33e511<_0xa8dc5b&&_0x789a57<_0x24ce19&&(_0x183d1e['push'](_0x4d925a+_0x24ce19+(0x2041+-0xe5*0x1+-0x1f5b),_0x4d925a+(0x2451+0x465*-0x6+-0x9f2),_0x4d925a),_0x183d1e['push'](_0x4d925a+_0x24ce19+(-0x37f+0x1*-0x20c9+0x2449),_0x4d925a+_0x24ce19+(-0x1c9b*0x1+-0x19db+0x3678),_0x4d925a+(0x1*0x12b5+0x234b+-0x1*0x35ff))),_0x4d925a++;}}const _0x5e0632=new Ta();return _0x5e0632['positions']=_0x5a6964,_0x5e0632['normals']=_0x1f0815,_0x5e0632['uvs']=_0xda87f3,_0x5e0632['indices']=_0x183d1e,Ge['fromGeomet'+'ry'](this['_device'],_0x5e0632);}['_onSetFram'+'es'](_0x40fb01){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xb86+-0x1b26+0x26ac):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x45ec74,_0x3fde3b){const _0x3fe09a=this['_frameKeys']['indexOf'](_0x45ec74);_0x3fe09a<0x2522+0x61*-0x59+-0x1*0x369||(_0x3fde3b?this['renderMode']===ci&&(this['_meshes'][_0x3fe09a]=this['_createSim'+'pleMesh'](_0x3fde3b)):this['_meshes'][_0x3fe09a]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0xc4cf2c){const _0x160126=this['_frameKeys']['indexOf'](_0xc4cf2c);_0x160126<0x1*0x967+0x4e6+-0xe4d||(this['_meshes'][_0x160126]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x248a+0x5de*-0x6+0x47be),this['_meshesDir'+'ty']=!(0x51*0x39+0x10ae*0x2+-0x5c*0x8f);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x24e4+0x7d7+-0x5*0x8f2),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x1cd8+0xda9+0xf30);}['destroy'](){for(const _0x5b7ff8 of this['_meshes'])_0x5b7ff8&&_0x5b7ff8['destroy']();this['_meshes']['length']=-0x1fa6+-0x1a05+0x39ab;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x39ecf3){this['_texture']=_0x39ecf3,this['fire']('set:textur'+'e',_0x39ecf3);}get['texture'](){return this['_texture'];}set['frames'](_0x286395){this['_frames']=_0x286395,this['fire']('set:frames',_0x286395);}get['frames'](){return this['_frames'];}['setFrame'](_0x2d74ae,_0x549bfc){let _0xb7bf36=this['_frames'][_0x2d74ae];_0xb7bf36?(_0xb7bf36['rect']['copy'](_0x549bfc['rect']),_0xb7bf36['pivot']['copy'](_0x549bfc['pivot']),_0xb7bf36['border']['copy'](_0x549bfc['border'])):(_0xb7bf36={'rect':_0x549bfc['rect']['clone'](),'pivot':_0x549bfc['pivot']['clone'](),'border':_0x549bfc['border']['clone']()},this['_frames'][_0x2d74ae]=_0xb7bf36),this['fire']('set:frame',_0x2d74ae['toString'](),_0xb7bf36);}['removeFram'+'e'](_0x1a00cc){const _0x218ddc=this['_frames'][_0x1a00cc];_0x218ddc&&(delete this['_frames'][_0x1a00cc],this['fire']('remove:fra'+'me',_0x1a00cc['toString'](),_0x218ddc));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x20cb51,_0x1c7f13,_0x3566d1,_0x11ef4e){this['time']=_0x20cb51,this['position']=_0x1c7f13,this['rotation']=_0x3566d1,this['scale']=_0x11ef4e;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0xcf0+0xfb0*-0x1+0x1ca0),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1026ab){return this['_nodeDict'][_0x1026ab];}['addNode'](_0x4eabab){this['_nodes']['push'](_0x4eabab),this['_nodeDict'][_0x4eabab['_name']]=_0x4eabab;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x1*0x184d+0x17b*-0x13+0x1b1*0x1f),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x5cbf63){this['_targetNod'+'e']=_0x5cbf63;}}class Sf{constructor(_0x888c9d){h(this,'looping',!(-0x20*-0xc1+0x190b+-0x29*0x133)),(this['_animation']=null,this['_time']=0x11*0x239+0x3e*0x97+-0x2f*0x195,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x13a983=_0x2d9253=>{const _0x467792=new VA();_0x467792['_name']=_0x2d9253['name'],this['_interpola'+'tedKeys']['push'](_0x467792),this['_interpola'+'tedKeyDict'][_0x2d9253['name']]=_0x467792,this['_currKeyIn'+'dices'][_0x2d9253['name']]=0x4a+0xca*0x2b+-0x2238;for(let _0x1f901d=0x1f7b*0x1+0x18c8+-0x3843;_0x1f901d<_0x2d9253['_children']['length'];_0x1f901d++)_0x13a983(_0x2d9253['_children'][_0x1f901d]);};_0x13a983(_0x888c9d);}set['animation'](_0x208404){this['_animation']=_0x208404,this['currentTim'+'e']=0x1ea4+-0x2299+0x3f5;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x475424){this['_time']=_0x475424;const _0x11019d=this['_interpola'+'tedKeys']['length'];for(let _0x370750=-0x703*0x1+0x22f0+-0x1bed;_0x370750<_0x11019d;_0x370750++){const _0x2585fe=this['_interpola'+'tedKeys'][_0x370750]['_name'];this['_currKeyIn'+'dices'][_0x2585fe]=-0x182*0x9+0x8*0xd3+-0x2*-0x37d;}this['addTime'](-0x155d+-0x49*0x63+-0x844*-0x6),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0xfca567){if(this['_animation']!==null){const _0x56b38f=this['_animation']['_nodes'],_0x11a018=this['_animation']['duration'];if(this['_time']===_0x11a018&&!this['looping'])return;if(this['_time']+=_0xfca567,this['_time']>_0x11a018){this['_time']=this['looping']?-0x1a96+-0xd*-0xbf+0x5a1*0x3:_0x11a018;for(let _0x17ee7f=-0x129*0x12+0x267d+-0x119b;_0x17ee7f<_0x56b38f['length'];_0x17ee7f++){const _0x6258a5=_0x56b38f[_0x17ee7f]['_name'];this['_currKeyIn'+'dices'][_0x6258a5]=0x1e21+0x75*-0x3+-0x1cc2;}}else{if(this['_time']<-0x1961*0x1+0x8*0x305+-0x1*-0x139){this['_time']=this['looping']?_0x11a018:0x144*-0x1d+-0x22c0+0x4774;for(let _0x32c275=0x41b+-0xb6d+0x752;_0x32c275<_0x56b38f['length'];_0x32c275++){const _0x3384e8=_0x56b38f[_0x32c275],_0x4852af=_0x3384e8['_name'];this['_currKeyIn'+'dices'][_0x4852af]=_0x3384e8['_keys']['length']-(0x1ab6+0x1*-0x1b9a+0x2e*0x5);}}}const _0xf3de28=_0xfca567>=0x229*0x4+-0x26f0+0xe*0x22a?-0x2e7*0x8+-0x829*-0x1+0xf10:-(-0x2240+-0x209*0x13+0x59c*0xd);for(let _0x1763bc=0x1*0xaf1+-0x5*0x441+0x52a*0x2;_0x1763bc<_0x56b38f['length'];_0x1763bc++){const _0x2ce445=_0x56b38f[_0x1763bc],_0x4b9480=_0x2ce445['_name'],_0x34a56c=_0x2ce445['_keys'],_0x58b804=this['_interpola'+'tedKeyDict'][_0x4b9480];if(_0x58b804===void(0x19f5+0x370+0x1*-0x1d65)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x4b9480);continue;}let _0x13ccde=!(-0x13*0x25+0x564+-0x2a4);if(_0x34a56c['length']!==-0x1b11*-0x1+0x662+-0x2172)for(let _0x2e0d2b=this['_currKeyIn'+'dices'][_0x4b9480];_0x2e0d2b<_0x34a56c['length']-(-0xf*0x122+-0x1e83+0x2f82)&&_0x2e0d2b>=0x1365+-0x7e1+-0xb84;_0x2e0d2b+=_0xf3de28){const _0x2dde83=_0x34a56c[_0x2e0d2b],_0x1e8ef6=_0x34a56c[_0x2e0d2b+(0xf5+0x32b+-0xd3*0x5)];if(_0x2dde83['time']<=this['_time']&&_0x1e8ef6['time']>=this['_time']){const _0x15ff37=(this['_time']-_0x2dde83['time'])/(_0x1e8ef6['time']-_0x2dde83['time']);_0x58b804['_pos']['lerp'](_0x2dde83['position'],_0x1e8ef6['position'],_0x15ff37),_0x58b804['_quat']['slerp'](_0x2dde83['rotation'],_0x1e8ef6['rotation'],_0x15ff37),_0x58b804['_scale']['lerp'](_0x2dde83['scale'],_0x1e8ef6['scale'],_0x15ff37),_0x58b804['_written']=!(-0x119*-0x13+-0x5a7*-0x5+-0x311e),this['_currKeyIn'+'dices'][_0x4b9480]=_0x2e0d2b,_0x13ccde=!(-0x13*0x121+0xa4*0x26+0x3*-0xf7);break;}}(_0x34a56c['length']===0x3*-0x3a7+-0x7*-0x4c1+-0x1651||!_0x13ccde&&this['_time']===-0x1e85+-0x268f*0x1+0x4*0x1145&&this['looping'])&&(_0x58b804['_pos']['copy'](_0x34a56c[0x35c+0x55d*-0x1+-0x39*-0x9]['position']),_0x58b804['_quat']['copy'](_0x34a56c[-0x26f+0x1*0x9ac+-0x73d]['rotation']),_0x58b804['_scale']['copy'](_0x34a56c[0xd3+-0x7*0x25+0x30]['scale']),_0x58b804['_written']=!(-0x2a4*-0x6+0x16ba+-0x2*0x1349));}}}['blend'](_0x286246,_0x1af51d,_0x139f24){const _0x2a1ad4=this['_interpola'+'tedKeys']['length'];for(let _0x1c5ccd=0x4*-0x259+-0x8*-0x68+-0x189*-0x4;_0x1c5ccd<_0x2a1ad4;_0x1c5ccd++){const _0x1cec71=_0x286246['_interpola'+'tedKeys'][_0x1c5ccd],_0x635de5=_0x1af51d['_interpola'+'tedKeys'][_0x1c5ccd],_0x17927d=this['_interpola'+'tedKeys'][_0x1c5ccd];_0x1cec71['_written']&&_0x635de5['_written']?(_0x17927d['_quat']['slerp'](_0x1cec71['_quat'],_0x1af51d['_interpola'+'tedKeys'][_0x1c5ccd]['_quat'],_0x139f24),_0x17927d['_pos']['lerp'](_0x1cec71['_pos'],_0x1af51d['_interpola'+'tedKeys'][_0x1c5ccd]['_pos'],_0x139f24),_0x17927d['_scale']['lerp'](_0x1cec71['_scale'],_0x635de5['_scale'],_0x139f24),_0x17927d['_written']=!(0x2336*0x1+-0x79d*0x2+-0x4ff*0x4)):_0x1cec71['_written']?(_0x17927d['_quat']['copy'](_0x1cec71['_quat']),_0x17927d['_pos']['copy'](_0x1cec71['_pos']),_0x17927d['_scale']['copy'](_0x1cec71['_scale']),_0x17927d['_written']=!(0x255d+-0xe71+0x6*-0x3d2)):_0x635de5['_written']&&(_0x17927d['_quat']['copy'](_0x635de5['_quat']),_0x17927d['_pos']['copy'](_0x635de5['_pos']),_0x17927d['_scale']['copy'](_0x635de5['_scale']),_0x17927d['_written']=!(0x124d+-0xada+0x773*-0x1));}}['setGraph'](_0x167bfb){if(this['graph']=_0x167bfb,_0x167bfb)for(let _0x5a0db6=0x203f+-0x1*-0x1709+-0x3748;_0x5a0db6<this['_interpola'+'tedKeys']['length'];_0x5a0db6++){const _0x2eaff8=this['_interpola'+'tedKeys'][_0x5a0db6],_0x6ce487=_0x167bfb['findByName'](_0x2eaff8['_name']);this['_interpola'+'tedKeys'][_0x5a0db6]['setTarget'](_0x6ce487);}else{for(let _0x614124=-0x2296+0x21f6+-0x4*-0x28;_0x614124<this['_interpola'+'tedKeys']['length'];_0x614124++)this['_interpola'+'tedKeys'][_0x614124]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x3868d5=-0xb21+-0x102b+0x1b4c;_0x3868d5<this['_interpola'+'tedKeys']['length'];_0x3868d5++){const _0x4ccf82=this['_interpola'+'tedKeys'][_0x3868d5];if(_0x4ccf82['_written']){const _0x290a60=_0x4ccf82['getTarget']();_0x290a60['localPosit'+'ion']['copy'](_0x4ccf82['_pos']),_0x290a60['localRotat'+'ion']['copy'](_0x4ccf82['_quat']),_0x290a60['localScale']['copy'](_0x4ccf82['_scale']),_0x290a60['_dirtyLoca'+'l']||_0x290a60['_dirtifyLo'+'cal'](),_0x4ccf82['_written']=!(-0x5*0x183+0x1d56+-0x3a1*0x6);}}}}const zs=(-0xd*-0x33+0x383*-0x9+0x3a1*0x8)/(0x22dd+0x7e2*0x1+-0x2a7f),si=-0x3ff+-0x854+0xc*0x107-zs*(-0x2*-0x149+0x1ddc+-0x206c);class gm extends Ta{constructor(_0x234197,_0x45c518,_0x52a230,_0x2856b2,_0x3d7543,_0x17613c){super();const _0x5a5dd4=new D(),_0x24f69b=new D(),_0x177100=new D(),_0x15f409=new D(),_0x18086f=new D(),_0x120140=new D(),_0xe5d885=[],_0xcafe6f=[],_0x338c28=[],_0x53921a=[],_0x58a9b2=[];let _0x3d6eab;if(_0x52a230>0x606*0x2+0x1d20*0x1+-0x292c){for(let _0x285272=-0xfce+-0x257*-0x5+0x1*0x41b;_0x285272<=_0x2856b2;_0x285272++)for(let _0x5e2946=0xfd4+-0x2b6+-0xd1e;_0x5e2946<=_0x3d7543;_0x5e2946++){const _0x42f06e=_0x5e2946/_0x3d7543*(-0x3f5+-0x819+0x4*0x304)*Math['PI']-Math['PI'],_0x68d7a4=Math['sin'](_0x42f06e),_0x3dd5bd=Math['cos'](_0x42f06e);_0x18086f['set'](_0x68d7a4*_0x234197,-_0x52a230/(0x5dc+-0x9f4+-0xa*-0x69),_0x3dd5bd*_0x234197),_0x15f409['set'](_0x68d7a4*_0x45c518,_0x52a230/(-0xc38+0x1b*-0x134+0x2cb6),_0x3dd5bd*_0x45c518),_0x5a5dd4['lerp'](_0x18086f,_0x15f409,_0x285272/_0x2856b2),_0x24f69b['sub2'](_0x15f409,_0x18086f)['normalize'](),_0x120140['set'](_0x3dd5bd,0x39e*0x3+0x1a4a+-0x2524*0x1,-_0x68d7a4),_0x177100['cross'](_0x120140,_0x24f69b)['normalize'](),_0xe5d885['push'](_0x5a5dd4['x'],_0x5a5dd4['y'],_0x5a5dd4['z']),_0xcafe6f['push'](_0x177100['x'],_0x177100['y'],_0x177100['z']);let _0x160650=_0x5e2946/_0x3d7543,_0x4e024b=_0x285272/_0x2856b2;_0x338c28['push'](_0x160650,-0x1f4f+-0x12ae+-0x12*-0x2c7-_0x4e024b);const _0x879efa=_0x4e024b;if(_0x4e024b=_0x160650,_0x160650=_0x879efa,_0x160650=_0x160650*si+zs,_0x4e024b=_0x4e024b*si+zs,_0x160650/=-0x1*0x1a0e+0x36f*-0x8+0x3589,_0x53921a['push'](_0x160650,-0x5ce+0x399+0x236-_0x4e024b),_0x285272<_0x2856b2&&_0x5e2946<_0x3d7543){const _0x20cdf5=_0x285272*(_0x3d7543+(0xb89*0x2+-0x1*0x17d+-0x2*0xaca))+_0x5e2946,_0x223d82=_0x285272*(_0x3d7543+(-0x2148+-0x1d45+-0x66*-0x9d))+(_0x5e2946+(0x1556+0x1f0*0x1+-0x1745)),_0x3a8fad=(_0x285272+(0x257c+0x25da+-0x13*0x3f7))*(_0x3d7543+(-0xbc1+-0x1cf*0x8+0x12*0x175))+_0x5e2946,_0x3ea809=(_0x285272+(-0xc7*-0x22+0x11*-0x187+-0x76))*(_0x3d7543+(-0x1faa+0x2610+-0x665))+(_0x5e2946+(-0x18dc+0x1*-0x130d+0x2bea));_0x58a9b2['push'](_0x20cdf5,_0x223d82,_0x3a8fad),_0x58a9b2['push'](_0x223d82,_0x3ea809,_0x3a8fad);}}}if(_0x17613c){const _0x3ed4a2=Math['floor'](_0x3d7543/(0x77b+0xd59+-0x14d2)),_0xc3dd98=_0x3d7543,_0x17be5c=_0x52a230/(-0x852+-0x48e*0x2+0x1170);for(let _0x1f8465=-0xa2*-0x22+0x1*0x52f+-0x1*0x1ab3;_0x1f8465<=_0x3ed4a2;_0x1f8465++){const _0x3864ee=_0x1f8465*Math['PI']*(0x26cb*-0x1+-0x2634+0x17*0x359+0.5)/_0x3ed4a2,_0x2c8ad5=Math['sin'](_0x3864ee),_0x411672=Math['cos'](_0x3864ee);for(let _0x110038=-0x16*-0x16b+0x1*0x22ba+0x2*-0x20f6;_0x110038<=_0xc3dd98;_0x110038++){const _0xd750e1=_0x110038*(-0x131c+-0x26c6+-0xf*-0x3dc)*Math['PI']/_0xc3dd98-Math['PI']/(-0x2c9*0xe+-0x1b0f+0x420f),_0x295034=Math['sin'](_0xd750e1),_0x41be1f=Math['cos'](_0xd750e1)*_0x2c8ad5,_0x3f41a8=_0x411672,_0xab2eaa=_0x295034*_0x2c8ad5;let _0x5ca6eb=0xda*0x7+0x169*0x15+0x2*-0x11c9-_0x110038/_0xc3dd98,_0x1f098a=0xd*-0x127+0x712*0x5+-0x145e-_0x1f8465/_0x3ed4a2;_0xe5d885['push'](_0x41be1f*_0x45c518,_0x3f41a8*_0x45c518+_0x17be5c,_0xab2eaa*_0x45c518),_0xcafe6f['push'](_0x41be1f,_0x3f41a8,_0xab2eaa),_0x338c28['push'](_0x5ca6eb,-0x13fc+-0x37*0x55+0x2640-_0x1f098a),_0x5ca6eb=_0x5ca6eb*si+zs,_0x1f098a=_0x1f098a*si+zs,_0x5ca6eb/=-0x225*-0x6+-0x3*-0xb93+-0x2f94,_0x1f098a/=-0x5*0x349+0x1*-0x1625+0x2695*0x1,_0x5ca6eb+=(-0x79f+-0xe17*-0x1+-0x677)/(0x76c*0x2+-0x2377+0x14a2),_0x53921a['push'](_0x5ca6eb,-0xa7c+-0x17*-0xc7+-0x2*0x3b2-_0x1f098a);}}_0x3d6eab=(_0x2856b2+(-0x182b+0x20fd+-0x8d1))*(_0x3d7543+(0x9*0x19f+0xd*0xc4+-0x417*0x6));for(let _0x4d92d0=0x742+-0x25e7+-0x621*-0x5;_0x4d92d0<_0x3ed4a2;++_0x4d92d0)for(let _0x2e48cf=0xad4*-0x3+-0x7fc*-0x1+-0xe*-0x1c0;_0x2e48cf<_0xc3dd98;++_0x2e48cf){const _0x2f0f92=_0x4d92d0*(_0xc3dd98+(-0x43*0x14+-0x1*-0x26bf+-0x2182*0x1))+_0x2e48cf,_0x529cd4=_0x2f0f92+_0xc3dd98+(-0x2447+0x1ef6+-0x2*-0x2a9);_0x58a9b2['push'](_0x3d6eab+_0x2f0f92+(-0xb11*-0x1+-0x20c9+0x15b9),_0x3d6eab+_0x529cd4,_0x3d6eab+_0x2f0f92),_0x58a9b2['push'](_0x3d6eab+_0x2f0f92+(-0x1f42+0x81b*-0x2+-0x3*-0xfd3),_0x3d6eab+_0x529cd4+(-0x1*-0x469+0x332+0xe*-0x8b),_0x3d6eab+_0x529cd4);}for(let _0x1c9cef=-0x688+0x1b58+-0x14d0;_0x1c9cef<=_0x3ed4a2;_0x1c9cef++){const _0xdd731=Math['PI']*(-0x1213*-0x1+-0x1e76*0x1+0xc63+0.5)+_0x1c9cef*Math['PI']*(-0xd*0xb1+0x646+-0x5*-0x8b+0.5)/_0x3ed4a2,_0x32c822=Math['sin'](_0xdd731),_0x2bb44e=Math['cos'](_0xdd731);for(let _0x15ab4c=0x1*0x1ebf+-0x3*-0x3e5+0x1*-0x2a6e;_0x15ab4c<=_0xc3dd98;_0x15ab4c++){const _0x4261e3=_0x15ab4c*(0xb6b+0x1c27*-0x1+0x10be)*Math['PI']/_0xc3dd98-Math['PI']/(0x6b*-0x47+0x3*0xc15+-0x690),_0x584916=Math['sin'](_0x4261e3),_0x37ff6a=Math['cos'](_0x4261e3)*_0x32c822,_0x23b5f3=_0x2bb44e,_0x4f0f13=_0x584916*_0x32c822;let _0x5454d8=0x5*0x251+-0xe9a+-0x12*-0x2b-_0x15ab4c/_0xc3dd98,_0x465de2=0x142b+-0x1375+-0xb5-_0x1c9cef/_0x3ed4a2;_0xe5d885['push'](_0x37ff6a*_0x45c518,_0x23b5f3*_0x45c518-_0x17be5c,_0x4f0f13*_0x45c518),_0xcafe6f['push'](_0x37ff6a,_0x23b5f3,_0x4f0f13),_0x338c28['push'](_0x5454d8,-0x185f*0x1+-0x1*-0x1459+0x407-_0x465de2),_0x5454d8=_0x5454d8*si+zs,_0x465de2=_0x465de2*si+zs,_0x5454d8/=0xc58*0x1+-0x1bd9+0xf84,_0x465de2/=-0x1255+-0x1110+0x2368,_0x5454d8+=(-0x10a8+0x18f5+-0x1*0x84b)/(0x2088+0x1a7a+0xb*-0x55d),_0x53921a['push'](_0x5454d8,0x129d+0x914+-0x1bb0-_0x465de2);}}_0x3d6eab=(_0x2856b2+(-0x166c+-0x1161*0x2+0x392f))*(_0x3d7543+(0x1*-0x1f85+0x2bf+0x1cc7))+(_0xc3dd98+(-0x116d+-0x1*-0x1ae1+0x1*-0x973))*(_0x3ed4a2+(0x117a+-0xd55*0x2+-0x931*-0x1));for(let _0x1dd929=-0x17e*-0x19+-0x1187+-0x53*0x3d;_0x1dd929<_0x3ed4a2;++_0x1dd929)for(let _0x232740=0x1*-0x1989+0x22b9+-0x930;_0x232740<_0xc3dd98;++_0x232740){const _0x13b4d1=_0x1dd929*(_0xc3dd98+(-0x446+0x1833+-0x3c*0x55))+_0x232740,_0x264a24=_0x13b4d1+_0xc3dd98+(0x13f3+-0x1500+0x87*0x2);_0x58a9b2['push'](_0x3d6eab+_0x13b4d1+(-0xdc2+-0x24a+0x100d),_0x3d6eab+_0x264a24,_0x3d6eab+_0x13b4d1),_0x58a9b2['push'](_0x3d6eab+_0x13b4d1+(0x10b1*0x2+0x1*-0x51a+-0x3*0x96d),_0x3d6eab+_0x264a24+(0x35*-0xb1+0x193f+0xb67),_0x3d6eab+_0x264a24);}}else{if(_0x3d6eab=(_0x2856b2+(-0x2*-0x39a+-0x1*0x25a5+-0x1e72*-0x1))*(_0x3d7543+(-0xb52+0x8*-0x22+0xc63)),_0x234197>0x1*-0xde9+0x905*-0x2+0x1ff3)for(let _0x35acc2=-0x1fcd+-0x2368+0x4335;_0x35acc2<_0x3d7543;_0x35acc2++){const _0x43232=_0x35acc2/_0x3d7543*(-0xa9*0x9+0x1111+-0xb1e)*Math['PI'],_0x918ffe=Math['sin'](_0x43232),_0x1892cd=-_0x52a230/(0x19a6+-0x2081*-0x1+-0x3a25),_0xd6475e=Math['cos'](_0x43232);let _0x378859=0xf*-0x19c+-0x1b14*-0x1+0x2ef*-0x1-(_0x918ffe+(0x1e84+-0x2681*0x1+-0xb*-0xba))/(-0x1*0xcc7+-0x106b+-0x74d*-0x4),_0x9f8059=(_0xd6475e+(-0x921*-0x3+-0x1b07+-0x1*0x5b))/(0x293+0x1f43+-0x21d4);_0xe5d885['push'](_0x918ffe*_0x234197,_0x1892cd,_0xd6475e*_0x234197),_0xcafe6f['push'](-0xcd8+-0xcaf*0x1+0x1987,-(-0x63f+-0x1b01*0x1+0x2141),0x197c+-0x19c3+-0x1*-0x47),_0x338c28['push'](_0x378859,0x1*0x16bd+0x1*-0x16fa+0x3e-_0x9f8059),_0x378859=_0x378859*si+zs,_0x9f8059=_0x9f8059*si+zs,_0x378859/=0x202e+-0x9f6+-0x1635*0x1,_0x9f8059/=-0x3*0x6a9+0x10d6+-0x194*-0x2,_0x378859+=(-0xcbf*0x3+0x6bf+-0x1f7f*-0x1)/(-0x7ca+-0x1182+0x194f*0x1),_0x53921a['push'](_0x378859,-0x10f+0x103e+-0xf2e*0x1-_0x9f8059),_0x35acc2>-0x1*-0x248d+0x15a4+-0x130*0x31&&_0x58a9b2['push'](_0x3d6eab,_0x3d6eab+_0x35acc2,_0x3d6eab+_0x35acc2-(0x82d+-0xd*0x2ce+0x1c4a));}if(_0x3d6eab+=_0x3d7543,_0x45c518>0x1*-0xe13+0x6ee*-0x5+0x30b9*0x1)for(let _0x3ec9f6=-0x1*0x21b3+-0x257*-0x1+0x1f5c;_0x3ec9f6<_0x3d7543;_0x3ec9f6++){const _0x2a9def=_0x3ec9f6/_0x3d7543*(-0x1c0b+-0x229+0x509*0x6)*Math['PI'],_0x32b28a=Math['sin'](_0x2a9def),_0x5873c7=_0x52a230/(-0x9*0x1fe+-0x1*0xa39+-0x1b*-0x10b),_0x596aee=Math['cos'](_0x2a9def);let _0x26ae5f=0x2206+0x1bb9+-0x1edf*0x2-(_0x32b28a+(0x19fb+0x1bb6+-0x35b0))/(-0x65*-0xb+-0x1fd1+0x1b7c),_0x1db552=(_0x596aee+(0x109+0x2384+-0x248c*0x1))/(0x68e*0x1+0x60f+-0xc9b);_0xe5d885['push'](_0x32b28a*_0x45c518,_0x5873c7,_0x596aee*_0x45c518),_0xcafe6f['push'](-0x340+0x335*-0xc+0x29bc,-0x2029+-0x38e+0x24*0xfe,0x1673+-0x25e5+0x293*0x6),_0x338c28['push'](_0x26ae5f,0x1835*-0x1+-0x25af+0x5*0xc61-_0x1db552),_0x26ae5f=_0x26ae5f*si+zs,_0x1db552=_0x1db552*si+zs,_0x26ae5f/=0x240b*-0x1+-0x1ff5*0x1+0x4403*0x1,_0x1db552/=0x894+0xf1f+-0x5ec*0x4,_0x26ae5f+=(-0x22*-0xf7+0x25*0xc3+-0x3cfb)/(-0x17d9+-0x19d+-0x1*-0x1979),_0x53921a['push'](_0x26ae5f,-0x1*-0x7b5+0x1*0x7cc+0x20*-0x7c-_0x1db552),_0x3ec9f6>0xb5d+-0x2007+0x14ab&&_0x58a9b2['push'](_0x3d6eab,_0x3d6eab+_0x3ec9f6-(0x130e*0x1+-0x23c1+0x10b4),_0x3d6eab+_0x3ec9f6);}}this['positions']=_0xe5d885,this['normals']=_0xcafe6f,this['uvs']=_0x338c28,this['uvs1']=_0x53921a,this['indices']=_0x58a9b2;}}class GA extends gm{constructor(_0x1a3722={}){const _0x4b5975=_0x1a3722['radius']??0xad5+-0x30a*-0x1+-0xddf+0.3,_0x2c3d7f=_0x1a3722['height']??0x717+-0xb7c+-0x466*-0x1,_0x5140c5=_0x1a3722['heightSegm'+'ents']??0x64b+0x577*0x2+0x44e*-0x4,_0x35c3b6=_0x1a3722['sides']??0x3*0x3a0+0xf3e+-0x1a0a;super(_0x4b5975,_0x4b5975,_0x2c3d7f-(0x2018+-0x577+-0x1a9f)*_0x4b5975,_0x5140c5,_0x35c3b6,!(0x703+0x86*-0x1+0x1*-0x67d)),_0x1a3722['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x8a202a={}){const _0x1e0dae=_0x8a202a['baseRadius']??-0x833*0x1+-0x8cc+0x10ff+0.5,_0x4dabcf=_0x8a202a['peakRadius']??0x20f0+-0xb6b+-0x1585,_0x3434fd=_0x8a202a['height']??-0x257d+-0x12d2+0x3850,_0x1b94ca=_0x8a202a['heightSegm'+'ents']??0x621*0x3+-0x53b+-0xd23,_0x3211f1=_0x8a202a['capSegment'+'s']??-0x11b+0x117e+-0x1051*0x1;super(_0x1e0dae,_0x4dabcf,_0x3434fd,_0x1b94ca,_0x3211f1,!(0xf7a*-0x1+0x5c*0x56+-0xf6d*0x1)),_0x8a202a['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x143dfa={}){const _0x2b8f90=_0x143dfa['radius']??0xe0c+-0x110a*-0x1+-0x1f16+0.5,_0xf60e39=_0x143dfa['height']??-0x5*0x295+0xd*0x21a+-0xe68,_0x1cb728=_0x143dfa['heightSegm'+'ents']??-0x2b*-0x7b+-0x2e9*0x4+-0x60*0x18,_0x1cd7bd=_0x143dfa['capSegment'+'s']??0x1*-0x1459+0xe9f*-0x1+0x2*0x1186;super(_0x2b8f90,_0x2b8f90,_0xf60e39,_0x1cb728,_0x1cd7bd,!(0x1741+-0x57+-0x16e9)),_0x143dfa['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x49c01b={}){super();const _0x362c1a=_0x49c01b['halfExtent'+'s']??new J(0x3*-0x92b+-0x194c+-0x78b*-0x7+0.5,-0x183d+0x8ee*-0x3+0x3307+0.5),_0x31d696=_0x49c01b['widthSegme'+'nts']??-0x2*-0xacd+-0x1*-0x114a+-0x6b*0x5d,_0x573a3e=_0x49c01b['lengthSegm'+'ents']??0xd48+-0x8bc+-0x487,_0x252087=[],_0x1419bc=[],_0xd55c04=[],_0x1dfdfe=[];let _0x59b4de=0x13*-0xde+-0x115*0x20+0x331a;for(let _0x1f24ff=0x13fd+-0xfd1*-0x1+-0x1*0x23ce;_0x1f24ff<=_0x31d696;_0x1f24ff++)for(let _0x2e730e=-0x1*0x1545+0x13*-0x35+-0x1934*-0x1;_0x2e730e<=_0x573a3e;_0x2e730e++){const _0x92cba5=-_0x362c1a['x']+(0x1f61+-0x1ce+0x9*-0x349)*_0x362c1a['x']*_0x1f24ff/_0x31d696,_0x5a5c16=0x907*0x2+0x1515*0x1+-0x2723,_0x2a9550=-(-_0x362c1a['y']+(-0x16c1+0x91*-0x25+0x2bb8)*_0x362c1a['y']*_0x2e730e/_0x573a3e),_0x5be8f9=_0x1f24ff/_0x31d696,_0x5602d8=_0x2e730e/_0x573a3e;_0x252087['push'](_0x92cba5,_0x5a5c16,_0x2a9550),_0x1419bc['push'](-0x1e67+0x4*-0x6d+0x201b,0x1af5+0x6c9*0x3+0x1*-0x2f4f,0x1ebf+-0xda*0x27+0x1*0x277),_0xd55c04['push'](_0x5be8f9,-0x2cf*-0x6+0x1375+0x244e*-0x1-_0x5602d8),_0x1f24ff<_0x31d696&&_0x2e730e<_0x573a3e&&(_0x1dfdfe['push'](_0x59b4de+_0x573a3e+(-0x1f*-0x38+0xfed+-0x16b4),_0x59b4de+(-0x4*-0x2e6+-0x24f7+0x1960),_0x59b4de),_0x1dfdfe['push'](_0x59b4de+_0x573a3e+(0x1655+-0x1*0x1af3+0x49f),_0x59b4de+_0x573a3e+(-0x1031+0x31a+0xd19),_0x59b4de+(0xff*-0x19+0x1*0x9e5+0x9*0x1ab))),_0x59b4de++;}this['positions']=_0x252087,this['normals']=_0x1419bc,this['uvs']=_0xd55c04,this['uvs1']=_0xd55c04,this['indices']=_0x1dfdfe,_0x49c01b['calculateT'+'angents']&&(this['tangents']=Mr(_0x252087,_0x1419bc,_0xd55c04,_0x1dfdfe));}}class XA extends Ta{constructor(_0x5cab51={}){super();const _0x5519c9=_0x5cab51['tubeRadius']??0x1*0x4a+0x684+-0x367*0x2+0.2,_0x282782=_0x5cab51['ringRadius']??0x13d2+0x1d03+0x56d*-0x9+0.3,_0x1680dc=(_0x5cab51['sectorAngl'+'e']??-0x2*0x709+0x2a1*0x1+0x1*0xcd9)*Y['DEG_TO_RAD'],_0x36ba72=_0x5cab51['segments']??-0x1585+0x2622+0x67*-0x29,_0xd1f9e=_0x5cab51['sides']??0x440+0x128d+-0x3*0x793,_0x18d6fd=[],_0x1f63f0=[],_0x46df2d=[],_0x21093a=[];for(let _0x2528c4=0x224*0x4+-0x1*0x91a+0x3*0x2e;_0x2528c4<=_0xd1f9e;_0x2528c4++)for(let _0x314ee2=0x3*-0xa74+0x3ba+0x189*0x12;_0x314ee2<=_0x36ba72;_0x314ee2++){const _0x146983=Math['cos'](_0x1680dc*_0x314ee2/_0x36ba72)*(_0x282782+_0x5519c9*Math['cos']((0x90c*0x1+-0x753+-0x1b7)*Math['PI']*_0x2528c4/_0xd1f9e)),_0x47ece4=Math['sin']((-0x4b2*0x5+0xcec*0x1+-0x68*-0x1a)*Math['PI']*_0x2528c4/_0xd1f9e)*_0x5519c9,_0x25f488=Math['sin'](_0x1680dc*_0x314ee2/_0x36ba72)*(_0x282782+_0x5519c9*Math['cos']((-0x4*-0x1f6+-0x1*0x188a+-0x85a*-0x2)*Math['PI']*_0x2528c4/_0xd1f9e)),_0x27174d=Math['cos'](_0x1680dc*_0x314ee2/_0x36ba72)*Math['cos']((0x166*0x8+-0x84a+-0x2e4)*Math['PI']*_0x2528c4/_0xd1f9e),_0x138123=Math['sin']((0x247b+-0x22d*0x9+-0x10e4*0x1)*Math['PI']*_0x2528c4/_0xd1f9e),_0x21c1fe=Math['sin'](_0x1680dc*_0x314ee2/_0x36ba72)*Math['cos']((0x1*-0xd0f+0x5de+0x733)*Math['PI']*_0x2528c4/_0xd1f9e),_0x299c1c=_0x2528c4/_0xd1f9e,_0x8ecb0c=0x19b8+0xdf*0x17+-0x2dc0-_0x314ee2/_0x36ba72;if(_0x18d6fd['push'](_0x146983,_0x47ece4,_0x25f488),_0x1f63f0['push'](_0x27174d,_0x138123,_0x21c1fe),_0x46df2d['push'](_0x299c1c,0x4*0x8c3+0x211+-0x251c-_0x8ecb0c),_0x2528c4<_0xd1f9e&&_0x314ee2<_0x36ba72){const _0x54b131=_0x2528c4*(_0x36ba72+(-0x89e+0x3*-0x98f+0x254c))+_0x314ee2,_0x162d77=(_0x2528c4+(0x3a4+0xdf4*-0x1+-0x13*-0x8b))*(_0x36ba72+(-0x1be9+0x1003*0x2+-0x1*0x41c))+_0x314ee2,_0xf352ae=_0x2528c4*(_0x36ba72+(0x4*-0xf4+-0xddf+0x11b0))+(_0x314ee2+(-0x1e*0xf1+-0x4e7*0x3+-0x2*-0x157a)),_0x4124d3=(_0x2528c4+(-0x1607+-0x1*-0x11f2+0x1*0x416))*(_0x36ba72+(0x1596+-0x6ef+-0xfa*0xf))+(_0x314ee2+(-0x9fa+0x2cd*0xc+-0x17*0x107));_0x21093a['push'](_0x54b131,_0x162d77,_0xf352ae),_0x21093a['push'](_0x162d77,_0x4124d3,_0xf352ae);}}this['positions']=_0x18d6fd,this['normals']=_0x1f63f0,this['uvs']=_0x46df2d,this['uvs1']=_0x46df2d,this['indices']=_0x21093a,_0x5cab51['calculateT'+'angents']&&(this['tangents']=Mr(_0x18d6fd,_0x1f63f0,_0x46df2d,_0x21093a));}}class qA{constructor(_0xc1c3e4,_0x574729){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0xc1c3e4,this['_isClearin'+'gCache']=!(0x3*0xb17+0x1e07+-0x3f4b),this['_precached']=!(-0x3e6*-0x4+-0x5*-0x6cd+-0x3198),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x4ba802=new vv();_0x574729['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x4ba802,_0x574729,null,[],Aa,null),_0x574729['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x574729,null,cm,null),_0xc1c3e4['on']('destroy:sh'+'ader',_0x36c75f=>{this['removeFrom'+'Cache'](_0x36c75f);});}['destroy'](){this['clearCache']();}['register'](_0x569687,_0x24037d){this['_generator'+'s']['has'](_0x569687)||this['_generator'+'s']['set'](_0x569687,_0x24037d);}['unregister'](_0x378ae9){this['_generator'+'s']['has'](_0x378ae9)&&this['_generator'+'s']['delete'](_0x378ae9);}['isRegister'+'ed'](_0x5a26e1){return this['_generator'+'s']['has'](_0x5a26e1);}['generateSh'+'aderDefini'+'tion'](_0x29c8b1,_0x5135ed,_0x430265,_0x32bcd4){var _0xb20ec6,_0x16f162;let _0x295559=this['definition'+'sCache']['get'](_0x430265);if(!_0x295559){let _0x4d69ca;(_0xb20ec6=_0x32bcd4['litOptions'])!=null&&_0xb20ec6['lights']&&(_0x4d69ca=_0x32bcd4['litOptions']['lights'],_0x32bcd4['litOptions']['lights']=_0x4d69ca['map'](_0x29347e=>{const _0xe10bac=_0x29347e['clone']?_0x29347e['clone']():_0x29347e;return _0xe10bac['key']=_0x29347e['key'],_0xe10bac;})),this['storeNewPr'+'ogram'](_0x5135ed,_0x32bcd4),(_0x16f162=_0x32bcd4['litOptions'])!=null&&_0x16f162['lights']&&(_0x32bcd4['litOptions']['lights']=_0x4d69ca),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x5135ed+'\x20key\x20'+_0x430265+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3815ef=this['_device'];_0x295559=_0x29c8b1['createShad'+'erDefiniti'+'on'](_0x3815ef,_0x32bcd4),_0x295559['name']=_0x295559['name']??(_0x32bcd4['pass']?_0x5135ed+'-pass:'+_0x32bcd4['pass']:_0x5135ed),this['definition'+'sCache']['set'](_0x430265,_0x295559);}return _0x295559;}['getCachedS'+'hader'](_0x2c20f8){return this['processedC'+'ache']['get'](_0x2c20f8);}['setCachedS'+'hader'](_0x42f443,_0x138b86){this['processedC'+'ache']['set'](_0x42f443,_0x138b86);}['getProgram'](_0x57c58e,_0x10bb76,_0xb9ce7a,_0x549d2c){const _0x556ce5=this['_generator'+'s']['get'](_0x57c58e);if(!_0x556ce5)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x57c58e),null;const _0x377c76=_0x556ce5['generateKe'+'y'](_0x10bb76),_0xe84fea=hi(_0x377c76),_0xeb6380=_0xb9ce7a['generateKe'+'y'](this['_device']),_0x44cf51=hi(_0xeb6380),_0x239775=_0xe84fea+'#'+_0x44cf51;let _0x377200=this['getCachedS'+'hader'](_0x239775);if(!_0x377200){const _0x536941=this['generateSh'+'aderDefini'+'tion'](_0x556ce5,_0x57c58e,_0xe84fea,_0x10bb76);w['assert'](_0x536941);let _0x5df6b3='',_0x4b5b47;_0x10bb76['pass']!==void(0x162d+0x4a+-0x1677)&&(_0x4b5b47=Si['get'](this['_device'])['getByIndex'](_0x10bb76['pass']),_0x5df6b3='-'+_0x4b5b47['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x549d2c,'shaderPassInfo':_0x4b5b47,'definition':_0x536941});const _0x16e513={'name':''+_0x536941['name']+_0x5df6b3+'-proc','attributes':_0x536941['attributes'],'vshader':_0x536941['vshader'],'vincludes':_0x536941['vincludes'],'fincludes':_0x536941['fincludes'],'fshader':_0x536941['fshader'],'processingOptions':_0xb9ce7a,'shaderLanguage':_0x536941['shaderLang'+'uage'],'meshUniformBufferFormat':_0x536941['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x536941['meshBindGr'+'oupFormat']};_0x377200=new qy(this['_device'],_0x16e513),w['call'](()=>{_0x377200['_generatio'+'nKey']=_0x377c76,_0x377200['_processin'+'gKey']=_0xeb6380;}),this['setCachedS'+'hader'](_0x239775,_0x377200);}return _0x377200;}['storeNewPr'+'ogram'](_0x4f637f,_0x58133d){let _0x40edd2={};if(_0x4f637f==='standard'){const _0x43166b=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x58133d['pass']);for(const _0x24445a in _0x58133d)(_0x58133d['hasOwnProp'+'erty'](_0x24445a)&&_0x43166b[_0x24445a]!==_0x58133d[_0x24445a]||_0x24445a==='pass')&&(_0x40edd2[_0x24445a]=_0x58133d[_0x24445a]);for(const _0x2cc476 in _0x58133d['litOptions'])_0x40edd2[_0x2cc476]=_0x58133d['litOptions'][_0x2cc476];}else _0x40edd2=_0x58133d;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x4f637f,'options':_0x40edd2}));}['dumpProgra'+'ms'](){let _0x483406='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x483406+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x329+-0x13*0x1f+0x576]&&(_0x483406+='\x0a\x09'+this['_programsC'+'ollection'][0x703+0x3d7+0x2*-0x56d]);for(let _0xbbdb3b=0xe70+-0xbe5*-0x2+-0x2639;_0xbbdb3b<this['_programsC'+'ollection']['length'];++_0xbbdb3b)_0x483406+=',\x0a\x09'+this['_programsC'+'ollection'][_0xbbdb3b];_0x483406+='\x0a];\x0a',_0x483406+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x483406+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x483406+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x1237d6=document['createElem'+'ent']('a');_0x1237d6['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x483406)),_0x1237d6['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x1237d6['style']['display']='none',document['body']['appendChil'+'d'](_0x1237d6),_0x1237d6['click'](),document['body']['removeChil'+'d'](_0x1237d6);}['clearCache'](){this['_isClearin'+'gCache']=!(0x107f+0x1c14+0x2c93*-0x1),this['processedC'+'ache']['forEach'](_0x5e7ec2=>{_0x5e7ec2['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0xc46+-0x282+-0x15*0x77);}['removeFrom'+'Cache'](_0x2d0799){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x28dd3e,_0x2fb4e6)=>{_0x2d0799===_0x28dd3e&&this['processedC'+'ache']['delete'](_0x2fb4e6);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x2056ee){const _0x493416=Si['get'](this['_device'])['getByIndex'](_0x2056ee);return _0x2056ee===Zn||_0x2056ee===Rl||_0x493416['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x2d65c9){if(_0x2d65c9){const _0x40f892=new Array(_0x2d65c9['length']);for(let _0x2dab45=0xbed+0x26e*-0x8+0x783;_0x2dab45<_0x2d65c9['length'];_0x2dab45++){if(_0x2d65c9[_0x2dab45]['name']==='standard'){const _0x5b5fd6=_0x2d65c9[_0x2dab45]['options'],_0x24e7f6=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5b5fd6['pass']);for(const _0x3ef1c1 in _0x24e7f6)_0x24e7f6['hasOwnProp'+'erty'](_0x3ef1c1)&&_0x5b5fd6[_0x3ef1c1]===void(-0x163d+-0xc35+-0x1139*-0x2)&&(_0x5b5fd6[_0x3ef1c1]=_0x24e7f6[_0x3ef1c1]);}_0x40f892[_0x2dab45]=this['getProgram'](_0x2d65c9[_0x2dab45]['name'],_0x2d65c9[_0x2dab45]['options']);}}this['_precached']=!(-0x2049+0x21d*0x4+0x17d5);}}async function jA(){const _0x4b32d0=new Float32Array(0x1*0x23a1+-0x2*0x125f+0x11e),_0x258bda=new Int32Array(_0x4b32d0['buffer']);let _0x37233c=-0x1152+-0x12*-0x1f7+0x1*-0x120c,_0x77f7bd={};self['onmessage']=async _0x235fd3=>{const {data:_0x325719}=_0x235fd3;switch(_0x325719['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x14aa42(_0x325719['properties'],_0x325719['timeIndex'],_0x325719['timeOption']);break;case'releaseSeq'+'Data':_0x15b394(_0x325719['index']);break;case'releaseAll'+'SeqData':_0x2eb484();break;case'destroyWor'+'ker':_0x52f814();break;}};class _0x25d5c7{constructor(_0x507866=-0x1e9*0x3+-0x295*0x3+0xa*0x159,_0x15e027=0xcaf+0x6b*-0x43+0xf52,_0x313539=0x14e*-0x10+-0x23ea*0x1+0x38ca,_0x557058=0x1e8+-0x17e7+0x1600){this['x']=_0x507866,this['y']=_0x15e027,this['z']=_0x313539,this['w']=_0x557058;}['set'](_0x927cb8,_0x3bce24,_0x343191,_0x533869){return this['x']=_0x927cb8,this['y']=_0x3bce24,this['z']=_0x343191,this['w']=_0x533869,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x539db6=this){let _0x4cb09a=_0x539db6['length']();return _0x4cb09a===0x8b5*-0x1+0x1f4c*-0x1+0xb*0x3a3?(this['x']=this['y']=this['z']=-0x261f+0x985*0x3+0x990,this['w']=0xd1c+-0x1*-0x17+-0xd32):(_0x4cb09a=(0x1*0x2603+0xf4+0x26f6*-0x1)/_0x4cb09a,this['x']=_0x539db6['x']*_0x4cb09a,this['y']=_0x539db6['y']*_0x4cb09a,this['z']=_0x539db6['z']*_0x4cb09a,this['w']=_0x539db6['w']*_0x4cb09a),this;}['mulScalar'](_0x2d08e5,_0x1b24b6=this){return this['x']=_0x1b24b6['x']*_0x2d08e5,this['y']=_0x1b24b6['y']*_0x2d08e5,this['z']=_0x1b24b6['z']*_0x2d08e5,this['w']=_0x1b24b6['w']*_0x2d08e5,this;}}const _0x51bcca=_0x7b2763=>{_0x4b32d0[-0x1*-0x1d3f+-0xb81*-0x1+-0x28c0]=_0x7b2763;const _0x179f1a=_0x258bda[-0x566+-0x6eb+0xc51];let _0x3c49a7=_0x179f1a>>0x2*-0x1244+-0x1*-0x26bc+0x1*-0x224&0x31bd+0x16*-0x77d+0xf301,_0x573295=_0x179f1a>>0x238e+-0x240c+0x3*0x2e&0xa2+-0x220a+0x2967;const _0x364882=_0x179f1a>>0x1526+0xe*-0x78+-0x3*0x4d5&0x1a9c+0x62*0x22+-0x383*0xb;return _0x364882<0x5a*-0x12+0x701*0x4+-0x1*0x1549?_0x3c49a7:_0x364882>-0x12c+0x18f8*0x1+-0xaa*0x23?(_0x3c49a7|=-0x5*-0x982+-0xabb*-0x3+0x7*0x653,_0x3c49a7|=(_0x364882===0x4e4+0xb9b+-0xf80?0x1186+-0xbeb+-0x59b*0x1:0x107b*-0x1+-0x14e7+0x2563)&&_0x179f1a&-0x1*-0xd93e6d+0x9d6e4e+-0xf6acbc,_0x3c49a7):_0x364882<-0x186d+0x40*-0x41+0x13*0x22a?(_0x573295|=0x89f*0x3+-0x1ff5+0xe18,_0x3c49a7|=(_0x573295>>0xc41*-0x1+-0x19*0x175+-0x189*-0x20-_0x364882)+(_0x573295>>0x1bac+0x1ad9+0xd85*-0x4-_0x364882&-0x2*-0x11a1+0x1*-0x2623+0x2*0x171),_0x3c49a7):(_0x3c49a7|=_0x364882-(0xa79+-0x1ca1+0x1298)<<0x3*-0xc1f+0xd3*-0x11+-0x59a*-0x9|_0x573295>>-0x728+0x19b8+-0x1*0x128f,_0x3c49a7+=_0x573295&-0x4f*-0x71+0x1da*0x5+0x8*-0x584,_0x3c49a7);},_0x556c1b=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2a459b=-0x1785+0x7*0x25f+0x6ec;_0x2a459b<0xdbc+0x189d+-0x262c;++_0x2a459b)if(!_0x77f7bd['f_rest_'+_0x2a459b])return _0x2a459b;return 0x47*0x1+-0x1940+0x1926;})())]??-0x1275+-0x2300+-0xab1*-0x5),_0x14aa42=(_0x25c87f,_0x512001,_0x1b4e4d)=>{const _0x18e831=!!_0x25c87f['time_index'];_0x18e831||(_0x25c87f['time_index']=new Float32Array(-0x1a88+-0xfb0+0x2a38)),_0x37233c+=_0x25c87f['x']['length']??0x1f54+-0xce*-0x1+-0x2022;const _0x5d1430=Object['keys'](_0x25c87f);for(let _0x39a145=-0x1*0x2192+-0x2b*0x8d+0x3941;_0x39a145<_0x5d1430['length'];_0x39a145++){const _0x1131cf=_0x5d1430[_0x39a145],_0x38e709=_0x25c87f[_0x1131cf],_0x2c9498=_0x77f7bd[_0x1131cf]??new Float32Array(-0x20f*-0xd+0x23e2+-0x8f3*0x7);if(!_0x18e831&&_0x1131cf==='time_index'){const _0x59a54e=new Float32Array(_0x37233c);_0x59a54e['fill'](_0x512001),_0x59a54e['set'](_0x2c9498,0x186+-0x16*0x5a+0x636),_0x77f7bd[_0x1131cf]=_0x59a54e;}else{if(!_0x18e831&&_0x38e709&&_0x1131cf==='t'){const _0x58740d=new Float32Array(_0x37233c);if(_0x58740d['set'](_0x2c9498,0x9*-0xaa+-0xa46+-0xd0*-0x14),_0x1b4e4d){for(let _0x2df08c=_0x2c9498['length'];_0x2df08c<_0x37233c;_0x2df08c++)_0x38e709[_0x2df08c-_0x2c9498['length']]>-(0xb9f+0xccb*0x3+-0x31fb)?_0x58740d[_0x2df08c]=_0x38e709[_0x2df08c-_0x2c9498['length']]+_0x1b4e4d[(-0x1464+0xf*0x14b+-0x101*-0x1)*_0x512001]:_0x58740d[_0x2df08c]=_0x38e709[_0x2df08c-_0x2c9498['length']];}_0x77f7bd[_0x1131cf]=_0x58740d;}else{if(_0x38e709){const _0x4dd249=new Float32Array(_0x37233c);_0x4dd249['set'](_0x2c9498,0x126d+0x7*-0x4b7+0xc*0x137),_0x4dd249['set'](_0x38e709,_0x2c9498['length']),_0x77f7bd[_0x1131cf]=_0x4dd249;}}}}const _0x380129={};Object['keys'](_0x77f7bd)['forEach'](_0x313f87=>{_0x380129[_0x313f87]=new Float32Array(_0x77f7bd[_0x313f87]['buffer']['slice']());});const _0xcdcb75=Object['keys'](_0x380129)['map'](_0x43c013=>_0x380129[_0x43c013]['buffer']),_0x2e4253=_0x5bc8a8(),_0x55d201=Object['keys'](_0x2e4253)['map'](_0x33abec=>_0x2e4253[_0x33abec]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x380129,'transformData':_0x2e4253},_0xcdcb75['concat'](_0x55d201));},_0x5bc8a8=()=>{const _0xe52a0d=_0x77f7bd['x']['length'],_0x2cc7f9=_0x77f7bd['x'],_0xef9ba7=_0x77f7bd['y'],_0x242c7c=_0x77f7bd['z'],_0x459eb9=_0x77f7bd['scale_0'],_0x4e3973=_0x77f7bd['scale_1'],_0x2c1894=_0x77f7bd['scale_2'],_0x4854a1=_0x77f7bd['rot_1'],_0x5dff48=_0x77f7bd['rot_2'],_0x2d89c2=_0x77f7bd['rot_3'],_0xf0d5c=_0x77f7bd['rot_0'],_0x540dc0=_0x77f7bd['motion_0'],_0x8f674=_0x77f7bd['motion_1'],_0x3f0f7f=_0x77f7bd['motion_2'],_0xe8b3e=_0x77f7bd['t'],_0x5d93c4=_0x77f7bd['t_scale'],_0x3ef8d1=_0x77f7bd['time_index'],_0x42375b=_0x77f7bd['f_dc_0'],_0x429418=_0x77f7bd['f_dc_1'],_0x49e5e0=_0x77f7bd['f_dc_2'],_0x392425=_0x77f7bd['opacity'],_0x22db96=(_0xe8b3e==null?void(-0x5*-0x456+-0xa6e+0x2d*-0x40):_0xe8b3e['length'])>-0xe00+-0x26c8+0x1a64*0x2,_0x630884=new Float32Array(_0xe52a0d*(0x349*0x2+0x7*-0x343+-0x823*-0x2)),_0x1f21a5=new Float32Array(_0xe52a0d*(-0x1f15+-0x2f*-0x59+-0xec1*-0x1)),_0x345004=new Uint16Array(_0xe52a0d*(0xce9+0x13e3+-0x2fb*0xb)),_0x420056=new Float32Array(_0xe52a0d*(-0x2e4*-0x4+0xd38+-0x18c5));let _0x92519=null,_0x860cf5=null,_0x10e5db=null,_0xf4ec81=null;_0x22db96&&(_0x92519=new Float32Array(_0xe52a0d*(0x769+-0xd03+0x59d)),_0x860cf5=new Float32Array(_0xe52a0d*(-0xe80+0x1541+-0x2*0x35f)),_0x10e5db=new Float32Array(_0xe52a0d*(0x2619*-0x1+0x1f13+0x709)),_0xf4ec81=new Float32Array(_0xe52a0d));const _0x486622=new _0x25d5c7(0x407*-0x1+0x26d4+-0x1*0x22cd,-0x7d*-0x20+0x68*0x34+-0x24c0,0x2199+0x7*-0x103+-0x4*0x6a1,-0x1fa9+0x1c1f*-0x1+-0x1*-0x3bc8);let _0x42c87e=0x4*-0x185+-0x3*-0xa2b+-0x186d,_0x39dabb=0x1aca+-0x383+-0x65*0x3b,_0x1b99c3=-0x1*0x1ab1+-0x3*0x47c+0x2825,_0xd047a0=-0xc36+-0x74a+0x1380,_0x3fbd98=0x1d5*-0x5+0x4*0x2ef+-0x293,_0x19e6be=-0x39*0x3+-0x3e9*0x4+-0x343*-0x5,_0x10ae17=!(0x2ae*-0x5+0x1*-0x879+-0x1fd*-0xb);const _0x20d960=new Float32Array(0xf8b+-0x209b+0x1113),_0xbb506=new Float32Array(-0x246+-0x1d41*0x1+-0xfc5*-0x2),_0x9bf42e=new Uint16Array(_0xe52a0d*(0x6*-0x416+0x8b7+0xfd1)),_0x1df329=-0x3fb+-0x17*0xde+-0x1*-0x17ed+0.28209479177387814;for(let _0x7ad4d4=0x23cd+-0xd4c+-0x1681;_0x7ad4d4<_0xe52a0d;++_0x7ad4d4){const _0x56ee4f=_0x42375b[_0x7ad4d4]*_0x1df329+(-0x5*-0x1+-0x20f7+0x20f2+0.5),_0x2de34d=_0x429418[_0x7ad4d4]*_0x1df329+(-0x18*-0x10+-0x2264+0x14*0x1a5+0.5),_0x4e9f2c=_0x49e5e0[_0x7ad4d4]*_0x1df329+(-0xd*-0x1d+0x15cc+-0x1745+0.5),_0x5513fa=_0x392425[_0x7ad4d4];_0x9bf42e[_0x7ad4d4*(-0x12*0x11d+-0x3*0x59+0xb*0x1eb)+(-0x13d1+0x75*0x4a+-0x1*0xe01)]=_0x51bcca(_0x56ee4f),_0x9bf42e[_0x7ad4d4*(0x133d+-0xd99*-0x2+-0x2e6b)+(0x43e+-0x109+-0x5*0xa4)]=_0x51bcca(_0x2de34d),_0x9bf42e[_0x7ad4d4*(0x15a2+-0x2323*-0x1+0x3*-0x12eb)+(0x1c*-0x40+0x1136+-0x51a*0x2)]=_0x51bcca(_0x4e9f2c),_0x9bf42e[_0x7ad4d4*(0x1*0x25d8+0x23fd+-0x49d1)+(0x1f0d+0x251*-0xb+-0x58f*0x1)]=_0x51bcca(_0x5513fa);const _0x56c9de=_0x2cc7f9[_0x7ad4d4],_0x27669e=_0xef9ba7[_0x7ad4d4],_0x5eeb5f=_0x242c7c[_0x7ad4d4],_0x1352af=Math['max'](_0x459eb9[_0x7ad4d4],_0x4e3973[_0x7ad4d4],_0x2c1894[_0x7ad4d4]);if(isFinite(_0x56c9de)&&isFinite(_0x27669e)&&isFinite(_0x5eeb5f)&&isFinite(_0x1352af)){const _0x2aa647=(0x1dea+-0x16a5+-0x743)*Math['exp'](_0x1352af);_0x10ae17?(_0x10ae17=!(-0xd89+0x6bc+-0x1a*-0x43),_0x42c87e=_0x56c9de-_0x2aa647,_0x39dabb=_0x27669e-_0x2aa647,_0x1b99c3=_0x5eeb5f-_0x2aa647,_0xd047a0=_0x56c9de+_0x2aa647,_0x3fbd98=_0x27669e+_0x2aa647,_0x19e6be=_0x5eeb5f+_0x2aa647):(_0x42c87e=Math['min'](_0x42c87e,_0x56c9de-_0x2aa647),_0x39dabb=Math['min'](_0x39dabb,_0x27669e-_0x2aa647),_0x1b99c3=Math['min'](_0x1b99c3,_0x5eeb5f-_0x2aa647),_0xd047a0=Math['max'](_0xd047a0,_0x56c9de+_0x2aa647),_0x3fbd98=Math['max'](_0x3fbd98,_0x27669e+_0x2aa647),_0x19e6be=Math['max'](_0x19e6be,_0x5eeb5f+_0x2aa647));}_0x486622['set'](_0x4854a1[_0x7ad4d4],_0x5dff48[_0x7ad4d4],_0x2d89c2[_0x7ad4d4],_0xf0d5c[_0x7ad4d4]),_0x486622['normalize'](),_0x486622['w']<-0x26a0+0x149*0x11+0x1*0x10c7&&_0x486622['mulScalar'](-(0x46e+-0x2684+-0xb5d*-0x3)),_0x1f21a5[_0x7ad4d4*(-0x10f*0x4+-0x3d5*0x7+0x1f12)+(0x1781+0x1255+-0x3*0xdf2)]=_0x2cc7f9[_0x7ad4d4],_0x1f21a5[_0x7ad4d4*(-0x5*0x161+0x2*0xef9+-0x3d7*0x6)+(0xa76+-0x25b+-0x81a)]=_0xef9ba7[_0x7ad4d4],_0x1f21a5[_0x7ad4d4*(0x9*-0x2e9+0x24e6+-0xab2)+(-0x596+0xd25*-0x2+0x6a*0x4d)]=_0x242c7c[_0x7ad4d4],_0x630884[_0x7ad4d4*(0x60e*-0x4+-0x1dea+-0x1*-0x3625)+(0xf3d*0x2+-0x1*-0x1139+0x1*-0x2fb3)]=_0x2cc7f9[_0x7ad4d4],_0x630884[_0x7ad4d4*(0x674+0x1*0x11ce+-0x183f)+(0x1c00+-0x860+-0x139f)]=_0xef9ba7[_0x7ad4d4],_0x630884[_0x7ad4d4*(-0x2b*0x43+-0x914+0x1458)+(-0x18ee+-0x1599+0x2e89)]=_0x242c7c[_0x7ad4d4],_0x345004[_0x7ad4d4*(-0x107*0x13+-0x6d*0x4f+0x11b9*0x3)+(0x1273*-0x1+-0x22c7+0x353a)]=_0x51bcca(Math['exp'](_0x459eb9[_0x7ad4d4])),_0x345004[_0x7ad4d4*(-0x21d9*-0x1+0x1*-0x26f1+0x51b)+(-0x2dd*0x5+-0x1e39+0x7*0x65d)]=_0x51bcca(Math['exp'](_0x4e3973[_0x7ad4d4])),_0x345004[_0x7ad4d4*(0x252+-0x1031+-0x2*-0x6f1)+(0x266+-0x1c57+0x1*0x19f3)]=_0x51bcca(Math['exp'](_0x2c1894[_0x7ad4d4])),_0x420056[_0x7ad4d4*(-0x3f*0xc+-0xd9*-0x1a+0x13*-0x101)+(0x1d8a+-0x8ca+0xa60*-0x2)]=_0x486622['x'],_0x420056[_0x7ad4d4*(0x1a51+0x1869*-0x1+-0x1e5)+(0xd59+-0x1cf0+0xf98)]=_0x486622['y'],_0x420056[_0x7ad4d4*(0x79*0x43+-0x24fb*0x1+0x553)+(0x11*-0x227+0xad*-0x1c+0x3785)]=_0x486622['z'],_0x22db96&&_0x92519&&_0x860cf5&&_0x10e5db&&_0xf4ec81&&(_0x92519[_0x7ad4d4*(0x8bb+0x1*0x1204+-0x1abc)+(-0x5*-0x457+0x1924+-0x3*0xf9d)]=_0x540dc0[_0x7ad4d4],_0x92519[_0x7ad4d4*(-0x34f*-0x1+-0xb00+0x7b4)+(-0x3f5*0x4+-0x1*0x1309+-0x1*-0x22de)]=_0x8f674[_0x7ad4d4],_0x92519[_0x7ad4d4*(0xc0b+0x19e5*-0x1+0x1fb*0x7)+(0x24ee+0x134d+-0x185*0x25)]=_0x3f0f7f[_0x7ad4d4],_0x10e5db[_0x7ad4d4*(0x4b1*0x3+0x1b02+-0x5de*0x7)+(0xb*0x1ad+-0x1f05+0xb3*0x12)]=_0x540dc0[_0x7ad4d4],_0x10e5db[_0x7ad4d4*(-0x20da+0x1217+-0xec6*-0x1)+(0x1f85*0x1+-0x1c13*-0x1+0x69f*-0x9)]=_0x8f674[_0x7ad4d4],_0x10e5db[_0x7ad4d4*(-0x1d44+-0x181+0x1ec8)+(-0x242f+-0x7ab+0x2bdc)]=_0x3f0f7f[_0x7ad4d4],_0xf4ec81[_0x7ad4d4]=_0x5d93c4?Math['exp'](_0x5d93c4[_0x7ad4d4]):-0xe07+0xc3*0xf+0x29a,_0x860cf5[_0x7ad4d4*(-0xe2*0x15+-0x17*-0x52+0xb2f)+(-0xa3d*-0x1+0x30+0xa6d*-0x1)]=_0xe8b3e?_0xe8b3e[_0x7ad4d4]:0x116*0xa+0xfb*0x3+-0xdcd,_0x860cf5[_0x7ad4d4*(0x3be+0x252b+-0x28e6)+(-0x1cc4+-0x5b8+0x9*0x3d5)]=_0xf4ec81[_0x7ad4d4]);}_0x10ae17||(_0x20d960[0x8ed*0x4+0xa74+-0x1*0x2e28]=(_0x42c87e+_0xd047a0)*(0x1083*-0x1+-0x1fa6+-0x3029*-0x1+0.5),_0x20d960[-0x14e+0x1e70+-0x1d21*0x1]=(_0x39dabb+_0x3fbd98)*(0x8c*-0x3b+0x408+0x22c*0xd+0.5),_0x20d960[0x236d*-0x1+-0x41b+0x3*0xd2e]=(_0x1b99c3+_0x19e6be)*(-0x23b*0xf+-0x1dc0+0x3f35+0.5),_0xbb506[0x2*0x5d+0x122+-0x1dc]=(_0xd047a0-_0x42c87e)*(0xaf*0x5+0x12a8+-0x1613+0.5),_0xbb506[-0xe93*0x1+-0x16d+0x1001*0x1]=(_0x3fbd98-_0x39dabb)*(0x2321+0x2*0xddb+-0x3ed7+0.5),_0xbb506[0x12a+0x1c13*0x1+0x1d3b*-0x1]=(_0x19e6be-_0x1b99c3)*(0x254f*-0x1+-0x1264*-0x1+0x12eb+0.5));const _0x1b7871=_0x4d5818();let _0x4e0920={'dataColor':_0x9bf42e,'center':_0x20d960,'halfExtents':_0xbb506,'dataCenters':_0x630884,'dataPosition':_0x1f21a5,'dataScale':_0x345004,'dataRotation':_0x420056,..._0x1b7871};return _0x22db96&&(_0x4e0920={..._0x4e0920,'dataMotion':_0x92519,'dataTime':_0x860cf5,'motion':_0x10e5db,'tScaleArray':_0xf4ec81,'muT':new Float32Array(_0xe8b3e),'timeIndex':new Float32Array(_0x3ef8d1)}),_0x4e0920;},_0x1d997d=_0x5e2110=>{const _0x3c94b6=[];for(let _0x308c33=0x1*-0xdb4+-0x1a*0x1f+0x10da;_0x308c33<_0x5e2110;++_0x308c33)_0x3c94b6['push'](_0x77f7bd['f_rest_'+_0x308c33]);return _0x3c94b6;},_0x4d5818=()=>{const _0x2348b1=_0x556c1b();if(_0x2348b1<=-0x6cf+-0x1ee4+0x25b3)return{};const _0x447f4e=_0x77f7bd['x']['length'],_0x594584=new Uint32Array(_0x447f4e*(0x29*0x49+-0x13c*0x1+0x51*-0x21)),_0x2c9cbb=new Uint32Array(_0x447f4e*(0x590*0x1+-0x1*-0x1837+0x1dc3*-0x1)),_0x32fdf1=new Uint32Array(_0x447f4e*(0x2e*0x8b+0x5c*-0x24+-0xc06)),_0x22e9b6=new Uint32Array(_0x447f4e*(0x1*-0x12a9+0x229*-0x3+0x1928)),_0x13618e={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2348b1],_0x3ac3fa=_0x1d997d(_0x13618e*(0x2602*-0x1+-0x8*0xac+0x2b65)),_0x23ecf7=-0x1153+0x21a5+-0x853,_0x1cd35e=0x10ec+0x1*0xd56+-0x1a43,_0x18ea16=new Float32Array(-0x253+0x1821*-0x1+0x1a75),_0x3d3810=new Uint32Array(_0x18ea16['buffer']),_0x32bea4=new Array(_0x13618e*(0xe28+0x2533+0xd4*-0x3e))['fill'](0x1ae9*-0x1+-0xec6+0x3*0xde5);for(let _0x3cf916=0x1c78+0x216b*-0x1+0x4f3;_0x3cf916<_0x447f4e;++_0x3cf916){for(let _0x5f47b9=-0x1*0x1213+-0xbfa+0x1e0d;_0x5f47b9<_0x13618e;++_0x5f47b9)_0x32bea4[_0x5f47b9*(-0x5*-0x181+0x1d0*0xd+-0x52*0x61)]=_0x3ac3fa[_0x5f47b9][_0x3cf916],_0x32bea4[_0x5f47b9*(0xb43+-0x1a58+0xf18)+(-0x14b1*-0x1+-0x174b+0x29b)]=_0x3ac3fa[_0x5f47b9+_0x13618e][_0x3cf916],_0x32bea4[_0x5f47b9*(-0x1a43+-0x6db+-0x21*-0x101)+(0x6*-0x47f+0x1329+0x7d3)]=_0x3ac3fa[_0x5f47b9+_0x13618e*(-0x1612+0x252e*-0x1+0x29*0x172)][_0x3cf916];let _0x4fc756=_0x32bea4[-0x1345+0x2*0x10ea+-0xe8f];for(let _0x75bb28=0xcb*0x26+0x1e6d+0x1e47*-0x2;_0x75bb28<_0x13618e*(0x1246+0x263+-0x14a6);++_0x75bb28)_0x4fc756=Math['max'](_0x4fc756,Math['abs'](_0x32bea4[_0x75bb28]));if(_0x4fc756!==-0x16d8+-0x111*0x12+0x2a0a){for(let _0x45850c=-0x4*0x67d+0x98b+0x1069;_0x45850c<_0x13618e;++_0x45850c)_0x32bea4[_0x45850c*(0x1f0a+-0xc5b+-0x12ac)+(-0x10c+0x1bbc+-0x1ab0)]=Math['max'](-0x399*-0xa+-0x5*-0x535+0x7d*-0x7f,Math['min'](_0x23ecf7,Math['floor']((_0x32bea4[_0x45850c*(0x1*-0x883+-0x2*-0x1377+-0x1e68)+(-0x1dcd+0x1*-0xf8+0x1ec5)]/_0x4fc756*(-0x1a56+-0xaec+0x1f6*0x13+0.5)+(0x1ace+-0x918*0x1+-0x11b6+0.5))*_0x23ecf7+(-0x1f06+-0x17*-0x51+-0x17bf*-0x1+0.5)))),_0x32bea4[_0x45850c*(-0x4a9+-0x1722+0x1bce)+(0x4*-0x48b+-0x2324+0x3551)]=Math['max'](0xe*0xf2+-0x11f+-0xc1d,Math['min'](_0x1cd35e,Math['floor']((_0x32bea4[_0x45850c*(-0x1484+0x269c+0x607*-0x3)+(-0x1403+-0x255f+0xb1*0x53)]/_0x4fc756*(-0x2*-0xb32+0x342+0xcd3*-0x2+0.5)+(0x8a1+0x91*-0x26+0xce5+0.5))*_0x1cd35e+(0xc66+-0x368+-0x2*0x47f+0.5)))),_0x32bea4[_0x45850c*(-0x2416+-0x17*-0x15+0x111b*0x2)+(0xa40+0x9*-0x8+0x9f6*-0x1)]=Math['max'](0x9c7*0x3+-0x1f27*-0x1+-0x3c7c,Math['min'](_0x23ecf7,Math['floor']((_0x32bea4[_0x45850c*(0x879+0x11a1+-0x1a17)+(-0x2*0x11b3+0x1223+-0x1*-0x1145)]/_0x4fc756*(0x57d*-0x5+0x1864+-0x47*-0xb+0.5)+(-0x20fc+0x12f6+0xe06+0.5))*_0x23ecf7+(0xcdc+0x10d7+-0x1db3+0.5))));_0x18ea16[-0x8bd*-0x2+0x1ea9+-0x1*0x3023]=_0x4fc756,_0x594584[_0x3cf916*(0x61b+-0x845*0x2+0x19*0x6b)+(0x1e76+-0x1e*-0x6b+0x8*-0x560)]=_0x3d3810[-0x17e0+-0x1*0xd1f+-0xe7*-0x29],_0x594584[_0x3cf916*(0x4*0x48b+0x1c99+-0x2ec1)+(-0x2403*-0x1+0x1199+-0x359b)]=_0x32bea4[0x503+-0xb2*-0x33+0x2879*-0x1]<<0x4*-0x4ff+0x167*-0x12+0x1*0x2d4f|_0x32bea4[-0x13da+-0x1431+0x280c]<<0x2313+-0xcfb*0x1+-0x160d|_0x32bea4[-0x7*-0x2d7+0xf09*-0x1+-0x26b*0x2],_0x594584[_0x3cf916*(0x1998+-0x16e4+-0x2b*0x10)+(-0x1a54+-0x25c3+0x4019)]=_0x32bea4[0xc43*-0x1+0xea3+0x5*-0x79]<<0x17a*0x2+-0x17f1+0x1512|_0x32bea4[0x175c+-0x54c+-0x120c]<<0x26*-0xf2+0x11*0x179+0x1*0xaee|_0x32bea4[0xd63+-0x6*-0x3c8+-0x240e],_0x594584[_0x3cf916*(-0x2*-0x5d0+0xeef*0x1+-0x1a8b)+(-0x460+0x231b+-0x1eb8)]=_0x32bea4[-0x1e02*-0x1+0x4ce+-0x92*0x3d]<<0xcf5+0x1eea+0x461*-0xa|_0x32bea4[0x1b5e+-0x1eb4+0x1*0x35d]<<0x2c8*0xa+-0x2473+0x8ae|_0x32bea4[0xee+-0x2096+-0x4*-0x7ec],_0x2348b1>-0x26b8+-0x6b*0x34+-0x21*-0x1d5&&(_0x2c9cbb[_0x3cf916*(-0x13*-0xba+-0xda1*0x2+0xd78)+(0x1*0x113f+-0x16*0x174+0x1*0xeb9)]=_0x32bea4[0x17a8+-0x943+-0xe5c]<<-0x201f+0x1*0x14a3+-0x2f*-0x3f|_0x32bea4[-0x141e*-0x1+0x2631+-0x3a45]<<0x12a3+0x53a+0xbe9*-0x2|_0x32bea4[0x141d+0x1d20+-0x833*0x6],_0x2c9cbb[_0x3cf916*(-0x487+0x727+-0x29c*0x1)+(-0x20be+0x23*0x2f+0x1a52)]=_0x32bea4[-0x1729+-0x1d4f+0x3484]<<0x2001*-0x1+-0x2069+0x407f|_0x32bea4[-0x1f71+0x25f*-0x3+0x269b]<<-0x8cf+0x22a6+-0x19cc|_0x32bea4[0x463*-0x4+0x8fd+0x89d],_0x2c9cbb[_0x3cf916*(-0x1*-0xad+0x146f+0x1518*-0x1)+(-0x1fa9+-0x10d8+0x3083)]=_0x32bea4[0x24e0+0x1d90+-0x4261]<<-0xef5+0x5e3+0x927|_0x32bea4[0x218c+-0x4*-0x9b9+0x1218*-0x4]<<0x1*0x1d49+0x42c+-0x216a|_0x32bea4[0x2*-0x7e3+-0x2092+0x1cb*0x1b],_0x2c9cbb[_0x3cf916*(0x7cd+0xb77*-0x2+-0x1*-0xf25)+(-0x410+0x2099*0x1+-0x1c86)]=_0x32bea4[0x1*-0x1379+0xd5e+-0x1f*-0x33]<<0x2f9*0x5+0x1d00+-0xe98*0x3|_0x32bea4[-0xe0f+-0x1*-0xf1f+-0xb*0x17]<<-0x10d*0x11+-0x1a73*-0x1+-0x88b|_0x32bea4[0x1fec+0x94*-0x22+0x8*-0x186],_0x2348b1>0x3e5*0x7+0x1*-0x23ea+0x8a9?(_0x32fdf1[_0x3cf916*(0x1e94+0x2678+0x8a1*-0x8)+(0xd50+0x142a+-0x10bd*0x2)]=_0x32bea4[-0x1199+-0x223f+0x33ed]<<0x1cb9+0x61*-0x1f+-0x10e5|_0x32bea4[-0x1648+0x1*0x20d7+-0xa79]<<-0xe80+0x22d0*0x1+-0x1445|_0x32bea4[0x9e3+-0x2057+0x168b],_0x32fdf1[_0x3cf916*(-0x153d+0x2ef*-0xa+-0x1*-0x3297)+(-0xd*-0xcb+0xcaa*0x1+0x3c*-0x62)]=_0x32bea4[0x4e4*0x2+0x11c5*0x2+0x2*-0x169d]<<0x38*-0x49+0x1*0xabd+0x1*0x550|_0x32bea4[-0x4af*-0x1+-0x219c+0x1d06]<<0x86*-0x7+0x1*-0x2690+0x2a45|_0x32bea4[0x232f+-0x12d0+-0x1045],_0x32fdf1[_0x3cf916*(0xe44+-0x564+0x4*-0x237)+(0x2646+0x1d4f+-0x4393)]=_0x32bea4[-0x11ec+0x797*0x2+0xf3*0x3]<<-0x26b7*0x1+0x1ec3+0x809|_0x32bea4[-0x16c3*-0x1+-0x202+-0x5*0x421]<<0xe7*0x1c+0x1de4+-0x371d|_0x32bea4[0xf50+-0xb26*0x1+-0x1*0x40d],_0x32fdf1[_0x3cf916*(-0x174c+-0x2628+0x7af*0x8)+(-0xa7*-0xb+-0x1f67+0x183d*0x1)]=_0x32bea4[0x353*0x7+-0x1*0x1f88+0x21*0x41]<<-0xaa8+-0xd6f+0x182c|_0x32bea4[-0x4e1+0x7f*0x3d+-0x1943]<<0x231+-0x2*-0x12b5+-0xd30*0x3|_0x32bea4[-0xd*0x95+-0x74f+0xf00],_0x22e9b6[_0x3cf916*(-0x1d09+-0x1*0x2a3+0x1fb0)+(0x1829+-0x1766+0x3*-0x41)]=_0x32bea4[-0x2043+0x6f*-0x29+-0x1*-0x322b]<<-0x2b3*-0xe+0xe8*0x1e+0x1c1*-0x25|_0x32bea4[0x5*0x3f4+0x1cf3*-0x1+0x1dd*0x5]<<-0x1*-0x151b+0x146*-0x11+-0x4b*-0x2|_0x32bea4[0xce2+-0xf36+0x1*0x277],_0x22e9b6[_0x3cf916*(0x16*0xfb+-0x3c7*0x1+-0x11c7)+(-0x1b5d+0x613*0x3+0x925)]=_0x32bea4[-0x2653+-0xc56+0x32cd]<<-0x6fd*-0x2+-0xf77+0x192|_0x32bea4[0x4*0x33b+0x7f*0x43+-0x2e04]<<-0xfed+0xbc3+0x435|_0x32bea4[-0x3*-0xbe6+0x293*-0x5+0x2b*-0x87],_0x22e9b6[_0x3cf916*(-0x144*-0x7+0x26d1+-0x31*0xf9)+(0x1753+0x1019+-0x276a)]=_0x32bea4[-0x26c0+0x10d6+0x1611]<<0x1ded+-0xd*-0x221+0x24d*-0x19|_0x32bea4[-0x1e8d+0x1e51+-0x1*-0x64]<<0x1c2d+-0x4*0x72b+0x8a|_0x32bea4[-0x1*-0x1e1+0xd8*-0x11+-0x1*-0xca0],_0x22e9b6[_0x3cf916*(0x16db+0x1bf9+-0x32d0)+(-0x1*-0x1de+0x821+-0x9fc*0x1)]=_0x32bea4[-0x2*0x556+0xd9*0xd+0x1*-0x2f]<<-0x1*0xa7+0x116f*0x1+-0x10b3|_0x32bea4[-0x13*-0x8a+-0xd3a*-0x1+0x4a9*-0x5]<<-0xca0*-0x3+-0x7ed*0x2+0x11*-0x14b|_0x32bea4[0x7*-0x1c3+-0x17d5+0x2456*0x1]):_0x32fdf1[_0x3cf916]=_0x32bea4[-0x1*-0x1e31+0x31f+-0x213b]<<-0x8*0x22f+-0xf95*-0x1+-0x7e*-0x4|_0x32bea4[-0x282*-0x1+0x80*0x12+-0xb6c]<<0x458+-0xf6a+-0x239*-0x5|_0x32bea4[-0x1f68+-0x40b*0x1+-0x2*-0x11c5]);}}return{'sh1to3Data':_0x594584,'sh4to7Data':_0x2c9cbb,'sh8to11Data':_0x32fdf1,'sh12to15Data':_0x22e9b6};},_0x15b394=_0x43da87=>{if(!_0x77f7bd['time_index'])return;const _0x201a0c=_0x77f7bd['time_index']['findIndex'](_0x3d0ea8=>_0x3d0ea8===_0x43da87);let _0x95d7b=_0x77f7bd['time_index']['findIndex']((_0x2c5974,_0x56267f)=>_0x2c5974!==_0x43da87&&_0x56267f>_0x201a0c);if(_0x95d7b===-(-0x13b5+-0x11cf+0x5*0x781)&&_0x201a0c===-(0x1da7+-0x7*0x3d7+-0x2c5*0x1))return;_0x95d7b===-(-0x6f7+-0x263a+0x2d32)&&_0x201a0c!==-(-0x2251+0x17*-0x1+-0x2269*-0x1)&&(_0x95d7b=_0x77f7bd['time_index']['length']),_0x37233c-=_0x95d7b-_0x201a0c;const _0x27bcd3=Object['keys'](_0x77f7bd);for(let _0x4c9ad4=0x1f*0x4b+0xbb4+-0x14c9;_0x4c9ad4<_0x27bcd3['length'];_0x4c9ad4++){const _0xdbab8b=_0x27bcd3[_0x4c9ad4],_0x48d6fc=_0x77f7bd[_0xdbab8b];if(_0x48d6fc){const _0x2dbc5a=new Float32Array(_0x37233c);_0x201a0c>-0x24*0x4+0x21*-0x14+0x324?(_0x2dbc5a['set'](_0x48d6fc['subarray'](0x254b+0x7*-0xe3+-0x1f16,_0x201a0c),-0x1838+0x64c*-0x4+-0x8*-0x62d),_0x2dbc5a['set'](_0x48d6fc['subarray'](_0x95d7b),_0x201a0c)):_0x2dbc5a['set'](_0x48d6fc['subarray'](_0x95d7b),0x1*0x12a+-0x6d1*-0x1+-0x3*0x2a9),_0x77f7bd[_0xdbab8b]=_0x2dbc5a;}}},_0x2eb484=()=>{const _0x589a23=Object['keys'](_0x77f7bd);for(let _0x50e81e=-0x1*-0x1608+0x2d6+-0x18de;_0x50e81e<_0x589a23['length'];_0x50e81e++){const _0x3b5fb9=_0x589a23[_0x50e81e];_0x77f7bd[_0x3b5fb9]&&(_0x77f7bd[_0x3b5fb9]=[]);}},_0x52f814=()=>{_0x77f7bd={},_0x37233c=-0x256f+-0x67*0x26+-0x199*-0x21;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x25b9c8,_0x3c1c2f,_0x376b03,_0x125853=!(-0x1*-0xc31+-0x1*0x1271+-0x641*-0x1)){var _0x49f6d9,_0x2174a3;const _0x4df951={};return _0x25b9c8['elements'][-0x1*-0x13af+0x14a0+-0x11*0x25f]['properties']['forEach'](_0x977c32=>{_0x4df951[_0x977c32['name']]=_0x977c32['storage'];}),_0x125853?(_0x49f6d9=this['worker'])==null||_0x49f6d9['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4df951,'timeIndex':_0x3c1c2f,'timeOption':_0x376b03},_0x25b9c8['elements'][-0xe*0x251+0x71d*0x1+-0x1*-0x1951]['properties']['map'](_0x5b4fec=>_0x5b4fec['storage']['buffer'])):(_0x2174a3=this['worker'])==null||_0x2174a3['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4df951,'timeIndex':_0x3c1c2f,'timeOption':_0x376b03}),new Promise(_0x4b0547=>{this['worker']['onmessage']=_0xefaa4=>{if(!this['worker'])return;const {data:_0x5d7e1a}=_0xefaa4;_0x5d7e1a['type']==='newAppendD'+'ata'&&_0x4b0547(_0x5d7e1a);};});}async['releaseSeq'+'Data'](_0x5a8ae0){var _0x53aacb;(_0x53aacb=this['worker'])==null||_0x53aacb['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x5a8ae0});}async['releaseAll'+'SeqData'](){var _0x5e2fd0;(_0x5e2fd0=this['worker'])==null||_0x5e2fd0['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x51b24e;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x51b24e=this['worker'])==null||_0x51b24e['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x1*-0x18f3+-0x2*0x120c+0x1*0xb26,-0xd16+-0x2169+0x2e80,-0x17*-0x173+0x2*0x11ba+-0x44c9,0x1c9*-0x11+0x887+0x15d2+0.4),vf=0xd*0x161+0x1f45+-0x3132+0.28209479177387814,xf=-0x5e897+-0x21*-0x2ecd+0x2ed6a;let ZA=class{constructor(_0x9bc294,_0x439a33,_0x494701,_0x50b179,_0xfb9774,_0x172fc4){const _0x2ed338=_0x9bc294['getProp']('x'),_0x153635=_0x9bc294['getProp']('y'),_0x392639=_0x9bc294['getProp']('z'),_0x20d3e9=_0x9bc294['getProp']('rot_1'),_0x29f320=_0x9bc294['getProp']('rot_2'),_0x2fe285=_0x9bc294['getProp']('rot_3'),_0x2fe530=_0x9bc294['getProp']('rot_0'),_0x42b3e1=_0x9bc294['getProp']('motion_0'),_0x2553b5=_0x9bc294['getProp']('motion_1'),_0x5d4039=_0x9bc294['getProp']('motion_2'),_0x530df0=_0x9bc294['getProp']('scale_0'),_0x84ea73=_0x9bc294['getProp']('scale_1'),_0x4354be=_0x9bc294['getProp']('scale_2'),_0x1283e5=_0x9bc294['getProp']('f_dc_0'),_0x1eba66=_0x9bc294['getProp']('f_dc_1'),_0x39ab27=_0x9bc294['getProp']('f_dc_2'),_0x8164e=_0x9bc294['getProp']('opacity');this['read']=_0x3b43f5=>{_0x439a33&&(_0x439a33['x']=_0x2ed338[_0x3b43f5],_0x439a33['y']=_0x153635[_0x3b43f5],_0x439a33['z']=_0x392639[_0x3b43f5]),_0x494701&&_0x494701['set'](_0x20d3e9[_0x3b43f5],_0x29f320[_0x3b43f5],_0x2fe285[_0x3b43f5],_0x2fe530[_0x3b43f5]),_0x50b179&&_0x50b179['set'](Math['exp'](_0x530df0[_0x3b43f5]),Math['exp'](_0x84ea73[_0x3b43f5]),Math['exp'](_0x4354be[_0x3b43f5])),_0x172fc4&&_0x42b3e1&&_0x172fc4['set'](_0x42b3e1[_0x3b43f5],_0x2553b5[_0x3b43f5],_0x5d4039[_0x3b43f5]),_0xfb9774&&_0xfb9774['set'](0xc9e*-0x1+-0x150a+0x10d4*0x2+0.5+_0x1283e5[_0x3b43f5]*vf,0x1175+-0x1*0x24c1+0x134c+0.5+_0x1eba66[_0x3b43f5]*vf,-0x1f31*-0x1+-0x24eb+0x5ba+0.5+_0x39ab27[_0x3b43f5]*vf,_0x8164e[_0x3b43f5]);};}};const _g=(_0x590947,_0x3601b9,_0x338fa6)=>{pg['set'](_0x338fa6['x'],_0x338fa6['y'],_0x338fa6['z'],_0x338fa6['w'])['normalize'](),_0x590947['setTRS'](_0x3601b9,pg,D['ONE']);};class qn{constructor(_0x165d9e,_0xb616e6=[]){h(this,'elements'),h(this,'numSplats',0x1*0x94d+0x88a+0x11d7*-0x1),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x410310;(_0x410310=this['dataWorker'])==null||_0x410310['destroy'](),this['dataWorker']=null;});var _0x4d7045,_0x278fe6,_0x482587;this['elements']=_0x165d9e,this['numSplats']=((_0x4d7045=this['getElement']('vertex'))==null?void(-0x83*0x1d+0x1e22+0x1d*-0x87):_0x4d7045['count'])??-0x5*-0x2fe+0x1*-0x853+-0x6a3,this['comments']=_0xb616e6,this['is4D']=!!((_0x482587=(_0x278fe6=this['getElement']('vertex'))==null?void(-0x1*-0xc46+0x1b80+-0x27c6):_0x278fe6['properties']['find'](_0x54f03c=>_0x54f03c['name']==='t'))!=null&&_0x482587['storage']);}async['appendGSpl'+'atData'](_0x266271,_0x3add51,_0x13960e){var _0x34b508;let _0x1c63de=0x10f8+0x19a0+-0x2a98;for(let _0x4f1cf5=0x6c2+-0x14e*-0xf+-0x5*0x544;_0x4f1cf5<_0x13960e['length']&&_0x3add51>_0x13960e[_0x4f1cf5];_0x4f1cf5+=0xe95+-0x83*-0xd+-0x153a)_0x1c63de=_0x4f1cf5/(0x2b*0x8f+0x3*0x4b1+0x32*-0xc3);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x1c63de),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x621*0x1+0x1d69*0x1+0x14*-0x12a,_0x13960e));const _0x3fd2f3=this['getElement']('vertex');_0x3fd2f3&&(_0x3fd2f3['count']=this['numSplats']);const _0x30570b=await this['dataWorker']['appendGSpl'+'atData'](_0x266271,_0x1c63de,_0x13960e,!(-0x2*0x304+0x13*-0x2+0x1*0x62e)),_0x22108d=_0x30570b['properties'],_0x101843=((_0x34b508=this['getElement']('vertex'))==null?void(0x1791*-0x1+-0x7*0x511+0x3b08):_0x34b508['properties'])??[];for(const _0x10f432 in _0x22108d){const _0x5efc95=_0x101843['find'](_0x5c5755=>_0x5c5755['name']===_0x10f432);_0x5efc95?_0x5efc95['storage']=_0x22108d[_0x10f432]:_0x101843['push']({'type':'float','name':_0x10f432,'storage':_0x22108d[_0x10f432],'byteSize':0x4});}this['transformD'+'ata']=_0x30570b['transformD'+'ata'],this['numSplats']=_0x22108d['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x17d7a2){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x17d7a2),this['dataWorker']['releaseSeq'+'Data'](_0x17d7a2),this;}async['releaseAll'+'SeqData'](){var _0x1dbce9;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x1dbce9=this['dataWorker'])==null||_0x1dbce9['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x460aea,_0x595fa7,_0x175a2e,_0x4624a1){_g(za,_0x595fa7,_0x175a2e),yf['center']['set'](0x1df7+0x288+0xad5*-0x3,-0x30*-0x7+0x26e5+-0x2835,0x18e5*-0x1+0x158+0x178d),yf['halfExtent'+'s']['set'](_0x4624a1['x']*(0x2158*-0x1+0x10*0xf4+0x296*0x7),_0x4624a1['y']*(0x2*0x166+0x54c*-0x5+0x17b2),_0x4624a1['z']*(0x53*-0x2f+0x3*0x44b+0x3*0xca)),_0x460aea['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x3dd23e,_0x4eb1db='vertex'){var _0x1195ac,_0x307ca2;return(_0x307ca2=(_0x1195ac=this['getElement'](_0x4eb1db))==null?void(0x1518+0x236e+-0x1c43*0x2):_0x1195ac['properties']['find'](_0x7e5931=>_0x7e5931['name']===_0x3dd23e))==null?void(0xedb+0x3*0xaa1+-0x2ebe):_0x307ca2['storage'];}['getElement'](_0x28b917){return this['elements']['find'](_0x5357c3=>_0x5357c3['name']===_0x28b917);}['addProp'](_0x11985d,_0x1f7bd3){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x11985d,'storage':_0x1f7bd3,'byteSize':0x4});}['createIter'](_0x5165b8,_0x284595,_0x3abd4d,_0x3c1057,_0x2ddb65){return new ZA(this,_0x5165b8,_0x284595,_0x3abd4d,_0x3c1057,_0x2ddb65);}async['calcAabbAs'+'ync'](_0x1d6a8b,_0x2700c1){var _0x4fb400,_0x28f334;if((_0x4fb400=this['transformD'+'ata'])!=null&&_0x4fb400['center']&&((_0x28f334=this['transformD'+'ata'])!=null&&_0x28f334['halfExtent'+'s'])){_0x1d6a8b['center']['set'](this['transformD'+'ata']['center'][-0x4d3*0x6+0x57*0x12+0x16d4],this['transformD'+'ata']['center'][-0x1862+-0x1*-0xaf9+-0xca*-0x11],this['transformD'+'ata']['center'][0xc77*-0x1+0x5d*0x5d+-0x1550]),_0x1d6a8b['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][-0x2bb*-0xb+0x26be+-0x44c7],this['transformD'+'ata']['halfExtent'+'s'][-0x1*-0x6ad+0x1bd1+-0x227d],this['transformD'+'ata']['halfExtent'+'s'][-0x2*0x11b9+0x23a5+0x7*-0x7]);return;}const _0x3808f9=this['getProp']('x'),_0x155bde=this['getProp']('y'),_0x5c1618=this['getProp']('z'),_0x22a308=this['getProp']('scale_0'),_0x3ecbb4=this['getProp']('scale_1'),_0x490618=this['getProp']('scale_2'),_0x570da1=await(_0x2700c1==null?void(0x1418+0x19a6*0x1+-0x2dbe):_0x2700c1['calcAabb'](this['numSplats'],_0x3808f9,_0x155bde,_0x5c1618,_0x22a308,_0x3ecbb4,_0x490618));_0x1d6a8b['center']['set'](_0x570da1['center'][0x1*0x2057+-0x12c8+0x59*-0x27],_0x570da1['center'][-0x72e+-0x859*0x3+0x203a*0x1],_0x570da1['center'][-0x1653+-0x3*0x37c+0x20c9]),_0x1d6a8b['halfExtent'+'s']['set'](_0x570da1['halfExtent'+'s'][-0xc1c+0x11a2+0x7*-0xca],_0x570da1['halfExtent'+'s'][-0x2403+0x240a+0x3*-0x2],_0x570da1['halfExtent'+'s'][0x11cb*-0x2+-0x2*-0xec9+0x606]);}['calcAabb'](_0x15ed3b,_0x36110b){let _0x1be2c5,_0x57e9e1,_0x3e826c,_0x1c20ff,_0x41a6db,_0x33392d,_0x177d6f=!(-0x1de*0x5+-0xe80+0x17d6);const _0x16c4c1=this['getProp']('x'),_0x17dc65=this['getProp']('y'),_0x29f746=this['getProp']('z'),_0xd4734e=this['getProp']('scale_0'),_0x5e7a91=this['getProp']('scale_1'),_0x4dc849=this['getProp']('scale_2');for(let _0x366a99=-0x2f9*0xb+-0x2689+-0x184*-0x2f;_0x366a99<this['numSplats'];++_0x366a99){if(_0x36110b&&!_0x36110b(_0x366a99))continue;const _0x4373c1=_0x16c4c1[_0x366a99],_0x26bed8=_0x17dc65[_0x366a99],_0x421e24=_0x29f746[_0x366a99],_0x4f88ed=Math['max'](_0xd4734e[_0x366a99],_0x5e7a91[_0x366a99],_0x4dc849[_0x366a99]);if(!isFinite(_0x4373c1)||!isFinite(_0x26bed8)||!isFinite(_0x421e24)||!isFinite(_0x4f88ed))continue;const _0xf99fc1=(-0x49*0x41+-0x2273+0x286*0x15)*Math['exp'](_0x4f88ed);_0x177d6f?(_0x177d6f=!(-0x171+0x153d+-0x13cb),_0x1be2c5=_0x4373c1-_0xf99fc1,_0x57e9e1=_0x26bed8-_0xf99fc1,_0x3e826c=_0x421e24-_0xf99fc1,_0x1c20ff=_0x4373c1+_0xf99fc1,_0x41a6db=_0x26bed8+_0xf99fc1,_0x33392d=_0x421e24+_0xf99fc1):(_0x1be2c5=Math['min'](_0x1be2c5,_0x4373c1-_0xf99fc1),_0x57e9e1=Math['min'](_0x57e9e1,_0x26bed8-_0xf99fc1),_0x3e826c=Math['min'](_0x3e826c,_0x421e24-_0xf99fc1),_0x1c20ff=Math['max'](_0x1c20ff,_0x4373c1+_0xf99fc1),_0x41a6db=Math['max'](_0x41a6db,_0x26bed8+_0xf99fc1),_0x33392d=Math['max'](_0x33392d,_0x421e24+_0xf99fc1));}return _0x177d6f||(_0x15ed3b['center']['set']((_0x1be2c5+_0x1c20ff)*(-0x2*-0x189+0x1*0x195b+-0x1c6d+0.5),(_0x57e9e1+_0x41a6db)*(0x2*0x1051+0x1a85+-0x3b27+0.5),(_0x3e826c+_0x33392d)*(0x9*0xa9+0x6*-0x35f+0xe49+0.5)),_0x15ed3b['halfExtent'+'s']['set']((_0x1c20ff-_0x1be2c5)*(0xd6*0x9+-0x18*-0x15d+-0x283e+0.5),(_0x41a6db-_0x57e9e1)*(0x10ad+0x18d1*-0x1+-0x4*-0x209+0.5),(_0x33392d-_0x3e826c)*(-0x1abb+-0x1*-0x1489+0x632+0.5))),!_0x177d6f;}['yieldToMai'+'n'](){var _0x41f6ed;return(_0x41f6ed=globalThis['scheduler'])!=null&&_0x41f6ed['yield']?globalThis['scheduler']['yield']():new Promise(_0x146655=>{setTimeout(_0x146655,-0x268+-0x131b+-0x1583*-0x1);});}['calcAabbEx'+'act'](_0x53594f,_0x2b0f0b){const _0x49dfae=new D(),_0x40f93e=new le(),_0x24f494=new D(),_0x1c77ed=this['createIter'](_0x49dfae,_0x40f93e,_0x24f494);let _0x3f8f69=!(0x1*0x95b+0x450+-0xdab);for(let _0x5aa410=-0xf05+0x6fb*-0x1+0x1600;_0x5aa410<this['numSplats'];++_0x5aa410)_0x2b0f0b&&!_0x2b0f0b(_0x5aa410)||(_0x1c77ed['read'](_0x5aa410),_0x3f8f69?(_0x3f8f69=!(-0x1*0x2125+-0x1ef6+0x401c),qn['calcSplatA'+'abb'](_0x53594f,_0x49dfae,_0x40f93e,_0x24f494)):(qn['calcSplatA'+'abb'](mg,_0x49dfae,_0x40f93e,_0x24f494),_0x53594f['add'](mg)));return!_0x3f8f69;}async['getCenters'](_0x21257a){const _0x35d557=this['getProp']('x'),_0x4eb435=this['getProp']('y'),_0x2e482a=this['getProp']('z');for(let _0xa23866=0x12+0x13ea+0x4ff*-0x4;_0xa23866<this['numSplats'];++_0xa23866)_0x21257a[_0xa23866*(-0x205d+0x12*0x20f+-0x4ae)+(0xc17+-0x1448+0x831)]=_0x35d557[_0xa23866],_0x21257a[_0xa23866*(-0x1961+0x4ca+0x149a)+(0xa3*-0x2e+-0x1b82+0x38cd)]=_0x4eb435[_0xa23866],_0x21257a[_0xa23866*(0xe4*0x25+-0x12ec+-0x1*0xe05)+(-0x123c*0x1+0xa81+0x7bd)]=_0x2e482a[_0xa23866],_0xa23866%xf===-0x362*0x3+-0x551+0xf77*0x1&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x11a2dd;if((_0x11a2dd=this['transformD'+'ata'])!=null&&_0x11a2dd['muT'])return this['transformD'+'ata']['muT'];const _0x51596c=this['getProp']('t');return _0x51596c?new Float32Array(_0x51596c):void(0x872*-0x1+0x39*0x85+-0x152b);}async['getTScale'](){const _0x227b3e=this['getProp']('t_scale');if(!_0x227b3e)return;const _0x5c088d=new Float32Array(this['numSplats']);for(let _0x4bee19=-0xd3+0xf92+-0xebf;_0x4bee19<this['numSplats'];++_0x4bee19)_0x5c088d[_0x4bee19]=Math['exp'](_0x227b3e[_0x4bee19]),_0x4bee19%xf===0x252f+0x1094+0x1*-0x35c3&&await this['yieldToMai'+'n']();return _0x5c088d;}async['getMotion'](_0x1f047c){const _0xef4e42=this['getProp']('motion_0'),_0x12b288=this['getProp']('motion_1'),_0x1740e3=this['getProp']('motion_2');if(!(!_0xef4e42||!_0x12b288||!_0x1740e3)){for(let _0x48174d=0x2*-0x299+0x79f*-0x1+0xcd1;_0x48174d<this['numSplats'];++_0x48174d)_0x1f047c[_0x48174d*(-0x7*-0x17+0x41b*-0x9+0x2455)+(0x1*0x1f28+-0x1b76+-0x1d9*0x2)]=_0xef4e42[_0x48174d],_0x1f047c[_0x48174d*(-0x5b1+-0x18a*-0x4+0x74*-0x1)+(0x1624+-0x1da7+0x2*0x3c2)]=_0x12b288[_0x48174d],_0x1f047c[_0x48174d*(0x646*-0x1+-0x90a+0xf53)+(0x1*0xfe6+-0x1851+0x1*0x86d)]=_0x1740e3[_0x48174d],_0x48174d%xf===0x2262+-0x730+-0x1b32&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x23469a;if((_0x23469a=this['transformD'+'ata'])!=null&&_0x23469a['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x56f4ba=this['getProp']('time_index');if(_0x56f4ba)return new Float32Array(_0x56f4ba);}['calcFocalP'+'oint'](_0x1f2385,_0x2b7c8a){const _0x53729c=this['getProp']('x'),_0x3a74ac=this['getProp']('y'),_0x56fd4d=this['getProp']('z'),_0x13efd5=this['getProp']('scale_0'),_0x24de0e=this['getProp']('scale_1'),_0x10e96f=this['getProp']('scale_2');_0x1f2385['x']=0x3*0x959+0x6fd*-0x1+0x9a*-0x23,_0x1f2385['y']=0x1853*-0x1+0xe9c+0x3*0x33d,_0x1f2385['z']=0x83*-0x2f+0xc84+0xb89;let _0x234b2e=-0x1*0x14e7+0x134c+0x1*0x19b;for(let _0x450173=-0x7bc+0x990+-0x1d4;_0x450173<this['numSplats'];++_0x450173){if(_0x2b7c8a&&!_0x2b7c8a(_0x450173))continue;const _0x21376d=_0x53729c[_0x450173],_0x485ab3=_0x3a74ac[_0x450173],_0x20cd47=_0x56fd4d[_0x450173];if(!isFinite(_0x21376d)||!isFinite(_0x485ab3)||!isFinite(_0x20cd47))continue;const _0x22155e=(0x24b7+0x20*0x11+0x136b*-0x2)/(-0x35f*-0xa+0x25df+-0x3*0x17dc+Math['exp'](Math['max'](_0x13efd5[_0x450173],_0x24de0e[_0x450173],_0x10e96f[_0x450173])));_0x1f2385['x']+=_0x21376d*_0x22155e,_0x1f2385['y']+=_0x485ab3*_0x22155e,_0x1f2385['z']+=_0x20cd47*_0x22155e,_0x234b2e+=_0x22155e;}_0x1f2385['mulScalar']((-0x1*0xd81+0x2305+-0x1583*0x1)/_0x234b2e);}['renderWire'+'frameBound'+'s'](_0xfec39d,_0x3c8737){const _0x238778=new D(),_0xcfeee2=new le(),_0x15cad5=new D(),_0x2d2019=new D(),_0x21b560=new D(),_0x3ff136=this['createIter'](_0x238778,_0xcfeee2,_0x15cad5);for(let _0x3480dd=0x1*-0x17db+0xf29+-0x6a*-0x15;_0x3480dd<this['numSplats'];++_0x3480dd)_0x3ff136['read'](_0x3480dd),_g(za,_0x238778,_0xcfeee2),za['mul2'](_0x3c8737,za),_0x2d2019['set'](_0x15cad5['x']*-(-0x97+0x26a3*-0x1+0x1*0x273c),_0x15cad5['y']*-(0x2094+0x570+0x79a*-0x5),_0x15cad5['z']*-(0x24f0+-0x33*-0x63+-0x1*0x38a7)),_0x21b560['set'](_0x15cad5['x']*(0x303*0x7+-0x2270+0xd5d),_0x15cad5['y']*(-0x26b4+0x155*-0x2+0x14b*0x20),_0x15cad5['z']*(-0x1104+0x3ab*-0x2+0x185c)),_0xfec39d['immediate']['drawWireAl'+'ignedBox'](_0x2d2019,_0x21b560,KA,!(0x1e7*0x11+0x1*-0xcdb+-0x137c),_0xfec39d['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x217f+0x1486+-0x4*0xd81);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2a04f9=-0x11d9*0x2+-0xa2*0x29+0x523*0xc;_0x2a04f9<-0x1198*-0x2+-0x9d9*-0x1+-0x2cdc;++_0x2a04f9)if(!this['getProp']('f_rest_'+_0x2a04f9))return _0x2a04f9;return 0x251b+-0x144+0x11d5*-0x2;})())]??0xbd0+0x1*0x25b6+0x6*-0x841;}['calcMorton'+'Order'](){const _0x37a49d=_0x19ba0c=>{let _0x41af1d=_0x19ba0c[0x1887+-0x51*-0x1b+-0x2112],_0x58714d=_0x19ba0c[-0x6ee+0x534*-0x7+0x2b5a];for(let _0x3cae4e=-0x1*0x470+0x1d2e+0x1*-0x18bd;_0x3cae4e<_0x19ba0c['length'];_0x3cae4e++)_0x19ba0c[_0x3cae4e]<_0x41af1d&&(_0x41af1d=_0x19ba0c[_0x3cae4e]),_0x19ba0c[_0x3cae4e]>_0x58714d&&(_0x58714d=_0x19ba0c[_0x3cae4e]);return{'min':_0x41af1d,'max':_0x58714d};},_0x310a04=(_0x2a59f8,_0x308ee6,_0xa59de0)=>{const _0x5367bf=_0xfec504=>(_0xfec504&=0x1*0x47f+-0x2437+0x23b7,_0xfec504=(_0xfec504^_0xfec504<<-0x556*-0x7+0xe23+-0x336d)&-0x1e9ce39d8+-0x1f7*0xb3651b+0x17026*0x2fb06,_0xfec504=(_0xfec504^_0xfec504<<-0x1ab6+-0xc6e+0x272c)&-0x3bf93c6*0x1+-0x31fad7b*-0x1+0x2*0x1d06b2d,_0xfec504=(_0xfec504^_0xfec504<<0x133f+-0x17ee+0x4b3)&0x5e6519d+-0x44*-0xa2031+-0x58aadde,_0xfec504=(_0xfec504^_0xfec504<<-0x256e+0x257d+0x1*-0xd)&0x51381*-0x204+0x22e1*-0x36fe+0x1addf38b,_0xfec504);return(_0x5367bf(_0xa59de0)<<-0x1c90+0x92d*-0x2+0x2eec)+(_0x5367bf(_0x308ee6)<<0x20cb+-0x2*0xaea+-0x2e*0x3d)+_0x5367bf(_0x2a59f8);},_0x3016fe=this['getProp']('x'),_0x4f69c3=this['getProp']('y'),_0x14110b=this['getProp']('z'),{min:_0x1cc254,max:_0x225b52}=_0x37a49d(_0x3016fe),{min:_0x5f3ab5,max:_0x18fefe}=_0x37a49d(_0x4f69c3),{min:_0x251e34,max:_0x2b5a51}=_0x37a49d(_0x14110b),_0x414785=_0x1cc254===_0x225b52?0x1*0x1667+-0x2006+-0x335*-0x3:(0x1b8b+0x1315+-0x2aa0)/(_0x225b52-_0x1cc254),_0x4bf30e=_0x5f3ab5===_0x18fefe?-0x26de+-0x5*-0x5c3+0xa0f:(0x18f9+0x663*0x1+-0x1b5c)/(_0x18fefe-_0x5f3ab5),_0x475660=_0x251e34===_0x2b5a51?0x4*-0x8ed+-0x1902+0x332*0x13:(-0x23e+-0x1ce+0x80c)/(_0x2b5a51-_0x251e34),_0x3e6378=new Map();for(let _0x45283e=-0x1183*-0x1+-0x5*0x22f+-0x698;_0x45283e<this['numSplats'];_0x45283e++){const _0x565d6d=Math['min'](-0xd53+0x56a+0xbe8,Math['floor']((_0x3016fe[_0x45283e]-_0x1cc254)*_0x414785)),_0x5aa83b=Math['min'](0x21e1+-0x2ab*-0x8+-0x1*0x333a,Math['floor']((_0x4f69c3[_0x45283e]-_0x5f3ab5)*_0x4bf30e)),_0x2928af=Math['min'](0x113c+-0xb5*-0x25+0x3*-0xd22,Math['floor']((_0x14110b[_0x45283e]-_0x251e34)*_0x475660)),_0x3d7329=_0x310a04(_0x565d6d,_0x5aa83b,_0x2928af),_0x6e01d3=_0x3e6378['get'](_0x3d7329);_0x6e01d3?_0x6e01d3['push'](_0x45283e):_0x3e6378['set'](_0x3d7329,[_0x45283e]);}const _0x241704=Array['from'](_0x3e6378['keys']())['sort']((_0x15c67d,_0x20ccbc)=>_0x15c67d-_0x20ccbc),_0x4acafc=new Uint32Array(this['numSplats']);let _0x128ad2=-0x7*0x4d7+0x6da*0x2+0x142d;for(let _0x22b31d=0x17b*-0xd+-0x1959+0x2c98;_0x22b31d<_0x241704['length'];++_0x22b31d){const _0x1fdc78=_0x3e6378['get'](_0x241704[_0x22b31d]);for(let _0x4a7098=-0xf1e+0x2b*0xca+0x1c*-0xac;_0x4a7098<_0x1fdc78['length'];++_0x4a7098)_0x4acafc[_0x128ad2++]=_0x1fdc78[_0x4a7098];}return _0x4acafc;}['reorder'](_0x48beb7){const _0x179f19=new Map(),_0xcf092f=_0x4e2791=>{if(_0x179f19['has'](_0x4e2791)){const _0x95233a=_0x179f19['get'](_0x4e2791);return _0x179f19['delete'](_0x4e2791),_0x95233a;}return new ArrayBuffer(_0x4e2791);},_0x1af09c=_0x8ed6e1=>{_0x179f19['set'](_0x8ed6e1['byteLength'],_0x8ed6e1);},_0xe24e41=_0x2e2b26=>{const _0x17187f=new _0x2e2b26['constructo'+'r'](_0xcf092f(_0x2e2b26['byteLength']));for(let _0x48a072=0x2098+-0x4a*-0x49+-0x35b2;_0x48a072<_0x48beb7['length'];_0x48a072++)_0x17187f[_0x48a072]=_0x2e2b26[_0x48beb7[_0x48a072]];return _0x1af09c(_0x2e2b26['buffer']),_0x17187f;};this['elements']['forEach'](_0x31a175=>{_0x31a175['properties']['forEach'](_0x237262=>{_0x237262['storage']&&(_0x237262['storage']=_0xe24e41(_0x237262['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x4ee738=new Float32Array(0x22d9*0x1+-0x2271+0x1*-0x67);new Int32Array(_0x4ee738['buffer']);let _0x5b60e6=-0x6f*0x1a+-0x3da+0xf20,_0x6941b8={};self['onmessage']=async _0x403890=>{const {data:_0xdb2fb8}=_0x403890;switch(_0xdb2fb8['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x17a576(_0xdb2fb8['properties'],_0xdb2fb8['timeIndex'],_0xdb2fb8['timeOption']);break;case'releaseSeq'+'Data':_0x30870e(_0xdb2fb8['index']);break;case'releaseAll'+'SeqData':_0x4d3e6c();break;case'destroyWor'+'ker':_0x5e6b82();break;}};const _0x3ede2=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x6125a=-0x3a*0x8f+-0x8*0x45b+0x433e;_0x6125a<-0x4*-0x815+0x45*0x79+-0x40c4;++_0x6125a)if(!_0x6941b8['f_rest_'+_0x6125a])return _0x6125a;return-0x1114+0x6f7*0x1+0xa4a*0x1;})())]??-0x126e+-0xa2a*-0x1+0x844),_0x17a576=(_0x20aa48,_0x579a27,_0x58e984)=>{var _0x521dc3,_0x5eaad5;_0x5b60e6+=(((_0x521dc3=_0x20aa48['position'])==null?void(-0x9*-0x44+0x727*0x1+-0x98b):_0x521dc3['length'])??-0x1b2e+0x1157+0x1*0x9d7)/(0xffb*0x1+0x1150+-0x852*0x4),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x5b60e6,(((_0x5eaad5=_0x20aa48['position'])==null?void(0x1*-0x218c+0x1532+0x20f*0x6):_0x5eaad5['length'])??-0x6*0x1c6+-0x4cd*-0x2+0x10a)/(0x778+0x34a+-0xabf));const _0x202489=Object['keys'](_0x20aa48);for(let _0x9a963d=0x258b+0xed*0xb+-0x2fba;_0x9a963d<_0x202489['length'];_0x9a963d++){const _0x2a8c38=_0x202489[_0x9a963d],_0x365601=_0x20aa48[_0x2a8c38],_0x40a9ec=_0x6941b8[_0x2a8c38]??new Float32Array(0x13d8+0x7b6+-0x1b8e);if(_0x365601){let _0x186b14=null;switch(_0x2a8c38){case'position':_0x186b14=new Float32Array(_0x5b60e6*(0x178e+-0xa*0xd6+-0xf2f));break;case'color_opac'+'ity':_0x186b14=new Uint16Array(_0x5b60e6*(0x1*0x2167+0x2109+-0x426c));break;case'scale':_0x186b14=new Uint16Array(_0x5b60e6*(-0x153b*-0x1+-0xdb1+-0x787*0x1));break;case'motion':_0x186b14=new Float32Array(_0x5b60e6*(0x2db+0x5b*0x15+-0xa4f*0x1));break;case'rotation':_0x186b14=new Float32Array(_0x5b60e6*(0x155a+0x1285+-0x9f7*0x4));break;default:_0x186b14=new Float32Array(_0x5b60e6);break;}_0x186b14['set'](_0x40a9ec,-0x13c9+-0x1ff6*-0x1+-0xc2d),_0x186b14['set'](_0x365601,_0x40a9ec['length']),_0x6941b8[_0x2a8c38]=_0x186b14;}}const _0x4f8477={};Object['keys'](_0x6941b8)['forEach'](_0xd2f549=>{_0xd2f549==='scale'||_0xd2f549==='color_opac'+'ity'?_0x4f8477[_0xd2f549]=new Uint16Array(_0x6941b8[_0xd2f549]['buffer']['slice']()):_0x4f8477[_0xd2f549]=new Float32Array(_0x6941b8[_0xd2f549]['buffer']['slice']());});const _0x2c076c=Object['keys'](_0x4f8477)['map'](_0x2cd2a2=>_0x4f8477[_0x2cd2a2]['buffer']),_0x401989=_0x4848e9(),_0x5e74ac=Object['keys'](_0x401989)['map'](_0x303c1e=>_0x401989[_0x303c1e]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x4f8477,'transformData':_0x401989},_0x2c076c['concat'](_0x5e74ac));},_0x4848e9=()=>{const _0x2dc416=_0x6941b8['position']['length']/(-0x94c+-0x2213+-0x1*-0x2b62),_0x48d0b5=_0x6941b8['position'],_0xf37e7=_0x6941b8['scale'],_0x2000a0=_0x6941b8['rotation'],_0x2bf4a9=_0x6941b8['motion'],_0x35378a=_0x6941b8['t'],_0x559b71=_0x6941b8['t_scale'],_0x70f4cb=_0x6941b8['time_index'],_0x5a7bd6=_0x6941b8['color_opac'+'ity'],_0xcc0fc9=(_0x35378a==null?void(-0x1*0x22b+-0x7d6+-0xd*-0xc5):_0x35378a['length'])>0x64*0x32+-0xfd3+0x1*-0x3b5;let _0x3a6794=null,_0x5b9b69=null,_0x1feb81=null,_0x2f05d2=null;_0xcc0fc9&&(_0x5b9b69=new Float32Array(_0x2dc416*(0x1820+0x51*0x6b+-0x39f8)),_0x2f05d2=new Float32Array(_0x2dc416),_0x3a6794=new Float32Array(_0x2bf4a9['buffer']['slice']()),_0x1feb81=new Float32Array(_0x2bf4a9['buffer']['slice']()));const _0x3dddb5=new Float32Array(_0x48d0b5['buffer']['slice']()),_0x30de45=new Float32Array(_0x48d0b5['buffer']['slice']()),_0x2ed57c=new Uint16Array(_0x5a7bd6['buffer']['slice']()),_0x5e0946=new Uint16Array(_0xf37e7['buffer']['slice']()),_0x167d5b=new Float32Array(_0x2000a0['buffer']['slice']());for(let _0x5477c3=0x23b*-0xb+0x7*-0x4db+0x1382*0x3;_0x5477c3<_0x2dc416;++_0x5477c3)_0xcc0fc9&&_0x5b9b69&&_0x2f05d2&&(_0x2f05d2[_0x5477c3]=_0x559b71?Math['exp'](_0x559b71[_0x5477c3]):0x24c7+-0x1*0x1b73+-0x31c*0x3,_0x5b9b69[_0x5477c3*(0x2615*0x1+-0x1e18+-0x7fa*0x1)+(-0x263e+0x13e2+-0x92e*-0x2)]=_0x35378a?_0x35378a[_0x5477c3]:0x1b*-0x87+-0xada*-0x2+-0x1*0x777,_0x5b9b69[_0x5477c3*(0x2*0x36e+0x33*0xac+-0x291d)+(0x13c6+-0x26ef*-0x1+-0xd*0x484)]=_0x2f05d2[_0x5477c3]);const _0x21ff14=_0x28963f();let _0x5bb2e7={'dataColor':_0x2ed57c,'dataCenters':_0x30de45,'dataPosition':_0x3dddb5,'dataScale':_0x5e0946,'dataRotation':_0x167d5b,..._0x21ff14};return _0xcc0fc9&&(_0x5bb2e7={..._0x5bb2e7,'dataMotion':_0x3a6794,'dataTime':_0x5b9b69,'motion':_0x1feb81,'tScaleArray':_0x2f05d2,'muT':new Float32Array(_0x35378a),'timeIndex':new Float32Array(_0x70f4cb)}),_0x5bb2e7;},_0x352333=_0x30cee2=>{const _0x31e933=[];for(let _0x24276b=0x9*-0x34a+0x259f+-0x805;_0x24276b<_0x30cee2;++_0x24276b)_0x31e933['push'](_0x6941b8['f_rest_'+_0x24276b]);return _0x31e933;},_0x28963f=()=>{const _0x45bbcf=_0x3ede2();if(_0x45bbcf<=0x1a17+0xda7*0x1+-0x27be)return{};const _0x28ee29=_0x6941b8['x']['length'],_0x13621d=new Uint32Array(_0x28ee29*(-0x1a51+0x21b1+-0x75c)),_0x450ec3=new Uint32Array(_0x28ee29*(0x104*-0x1f+0x4ac+0x1ad4)),_0x37a12e=new Uint32Array(_0x28ee29*(0x3*-0xb57+0xac*-0x5+0xc77*0x3)),_0x31335b=new Uint32Array(_0x28ee29*(-0x1*0x110a+-0x1*0x247b+-0x5*-0xab5)),_0x3b5170={0x1:0x3,0x2:0x8,0x3:0xf}[_0x45bbcf],_0x9f0084=_0x352333(_0x3b5170*(-0x469*-0x7+0x2344+-0x10*0x422)),_0x3827f4=0x1203+-0xe*-0x100+0x2*-0xc02,_0xdd747a=0x1*-0x1505+-0x2588+-0x3e8c*-0x1,_0x5eafb5=new Float32Array(0x2323+-0x152*-0xd+0x2*-0x1a26),_0x31d5e8=new Uint32Array(_0x5eafb5['buffer']),_0x5e418c=new Array(_0x3b5170*(0x2568+0x1b1c+-0x7*0x937))['fill'](-0x187b+0x1*0x180a+-0x1*-0x71);for(let _0x2d3d6d=0xff2+0x1*0x2056+-0x3048;_0x2d3d6d<_0x28ee29;++_0x2d3d6d){for(let _0x192ec6=0x1*0x25a9+0x20a+0x1*-0x27b3;_0x192ec6<_0x3b5170;++_0x192ec6)_0x5e418c[_0x192ec6*(-0x143f+-0x3b*-0x98+-0xec6)]=_0x9f0084[_0x192ec6][_0x2d3d6d],_0x5e418c[_0x192ec6*(0x31*-0x60+-0x16a6+0x835*0x5)+(-0x222f*0x1+0x14d*-0x5+0x28b1)]=_0x9f0084[_0x192ec6+_0x3b5170][_0x2d3d6d],_0x5e418c[_0x192ec6*(-0x856+-0x1d2d+0x3*0xc82)+(0x609*-0x2+-0x15d*-0xa+-0x2*0xc7)]=_0x9f0084[_0x192ec6+_0x3b5170*(-0x630+-0xd*0x20b+-0xc3*-0x2b)][_0x2d3d6d];let _0x189b90=_0x5e418c[0x123c+-0x13af+0x173];for(let _0x569425=-0x1*-0x105+0x2386+-0x248a;_0x569425<_0x3b5170*(-0x1*-0x182b+0x41*0x7e+0x1*-0x3826);++_0x569425)_0x189b90=Math['max'](_0x189b90,Math['abs'](_0x5e418c[_0x569425]));if(_0x189b90!==0x1*-0xb6f+0x2512+-0x1*0x19a3){for(let _0x437e9a=0x188a+-0x1c9d+0x413;_0x437e9a<_0x3b5170;++_0x437e9a)_0x5e418c[_0x437e9a*(0x211b+0x1eb4+-0x3fcc)+(-0x122a+0x12aa*0x2+-0xdf*0x16)]=Math['max'](0x2572+-0x383*-0x1+-0x28f5,Math['min'](_0x3827f4,Math['floor']((_0x5e418c[_0x437e9a*(0x2397+-0x6c9+-0x1ccb)+(0x2*-0xb61+-0x1a3b+0x30fd*0x1)]/_0x189b90*(-0xc1+-0x5d3*0x3+0x123a+0.5)+(-0x8ee+-0x262a+0x2f18+0.5))*_0x3827f4+(0xb*0x1a5+0x862*0x2+0x1*-0x22db+0.5)))),_0x5e418c[_0x437e9a*(-0x94+-0xb36+0xbcd)+(-0x13d4+0xc23+0x7b2)]=Math['max'](0x1257+-0xef0+-0x43*0xd,Math['min'](_0xdd747a,Math['floor']((_0x5e418c[_0x437e9a*(-0x261a+-0x1*0x224a+0x4867)+(0x15a9+-0x1361+-0x247)]/_0x189b90*(-0x20af+-0x251c+-0x11*-0x41b+0.5)+(-0xa*0xaf+-0x1800+0x1ed6+0.5))*_0xdd747a+(-0x1147+-0xed5+0x201c+0.5)))),_0x5e418c[_0x437e9a*(0x1192+-0xc56+0x1*-0x539)+(-0x20f2*-0x1+-0x174a*-0x1+-0x383a)]=Math['max'](0x25*-0x19+0xf4e*-0x1+0x12eb,Math['min'](_0x3827f4,Math['floor']((_0x5e418c[_0x437e9a*(-0x12de+0x1a66*0x1+0x181*-0x5)+(0x23dd+0x12fd+-0x1b6c*0x2)]/_0x189b90*(0x614+0xf62*-0x1+0x18d*0x6+0.5)+(-0x21e5+-0x1f3*-0x6+0x1633+0.5))*_0x3827f4+(-0x2479*0x1+-0x1aae+0x13d*0x33+0.5))));_0x5eafb5[0x1*0x2117+-0x1*0x754+-0x19c3]=_0x189b90,_0x13621d[_0x2d3d6d*(0x1*0x539+0x222a+-0x275f)+(-0xe43+-0x742*0x5+0x328d*0x1)]=_0x31d5e8[-0x3*-0x231+0x1a72*0x1+-0x2105*0x1],_0x13621d[_0x2d3d6d*(-0x1*0x1f5a+-0x1*0xf47+0x1*0x2ea5)+(0x1*-0x1acf+0x1c59+-0x1*0x189)]=_0x5e418c[-0x7f*0x9+-0x13bb+0x1832]<<0x4*0x1f6+0x2361+-0x2b24|_0x5e418c[0x7f+-0x7*0x9+-0x3f]<<-0x2c9*-0x7+-0x2a2+-0x10d2|_0x5e418c[-0x1*0x94f+-0x22f*-0x11+-0x1bce],_0x13621d[_0x2d3d6d*(0xc3d+0xdb3+-0x19ec)+(-0x14a2*0x1+0x1837*-0x1+0x2cdb)]=_0x5e418c[-0x178+-0x180a+0x1985]<<-0x1*-0xeda+0xcb+0x1f2*-0x8|_0x5e418c[0x4*0x84b+0xe5*-0x1+0x1*-0x2043]<<0x1535+0x780+0x6*-0x4c7|_0x5e418c[0x1*0x801+-0x18c5+0x10c9],_0x13621d[_0x2d3d6d*(-0x108f+0x117e*-0x1+0x2211)+(0xacd+-0x3*0xb4f+0x1723*0x1)]=_0x5e418c[-0x9*-0x1ab+0x50*-0x7b+0x1773]<<0x13*-0x185+0x20f0+-0x3fc|_0x5e418c[-0xc22+-0x102d+0x1c56]<<0x3*-0x433+0x1d50+0x856*-0x2|_0x5e418c[-0x193b+0xc1b*0x1+0x8*0x1a5],_0x45bbcf>0x1*0x197f+-0x1a9*-0xa+-0x150c*0x2&&(_0x450ec3[_0x2d3d6d*(0x21+-0x15a5+0x1588)+(0xc64+0x1a18+-0x267c*0x1)]=_0x5e418c[-0x1*-0xc69+0x23a5*0x1+-0x3005]<<0x1476+0x180b+0xb1b*-0x4|_0x5e418c[-0x37e*0x9+0x13*-0xb6+0x2cfa]<<0x372+0x2*-0x35f+0x357|_0x5e418c[0xd7c+-0x2d*0x7+-0x61b*0x2],_0x450ec3[_0x2d3d6d*(0xc09*0x3+-0x1030+-0x13e7*0x1)+(-0x35*0x35+-0x1d19+0x2813)]=_0x5e418c[-0xb3c+-0x20b7*-0x1+-0x3b*0x5d]<<-0x2*0x88f+-0x1*0xf92+0x1*0x20c5|_0x5e418c[-0x1a2f+0x880*-0x3+0x2b*0x134]<<0x1e6+0x24cc+-0x26a7|_0x5e418c[-0x1*0x835+-0xc45+-0x1*-0x1488],_0x450ec3[_0x2d3d6d*(-0xb*0x1a+0x9*-0x2+0x134)+(-0x1e36+-0x201a+0x3e52)]=_0x5e418c[-0x2085+-0x1e6+0x227a]<<0x56d+-0x1*-0x685+0xbdd*-0x1|_0x5e418c[0xa8a+0xad4+-0x1*0x154e]<<-0x1eb7+-0x8e1+0x27a3|_0x5e418c[-0x448*-0x3+0x907*0x2+-0x1*0x1ed5],_0x450ec3[_0x2d3d6d*(0x4*-0x54a+0xb21+-0xa0b*-0x1)+(0x152f+-0x1309+0x223*-0x1)]=_0x5e418c[-0x2*0xdd4+0x637+-0x1*-0x1583]<<-0x10*-0x13e+-0x316+-0x10b5|_0x5e418c[0x1c43*-0x1+-0x117f+0x2dd5]<<0x4cd*-0x3+-0x1*0xdff+0x1c71|_0x5e418c[-0xf77+0x1bff+-0xc74],_0x45bbcf>-0xbfd*0x1+0xc75*0x1+0x3b*-0x2?(_0x37a12e[_0x2d3d6d*(0x87*0x9+0x1967+-0x1e22)+(-0x7e7+0x1de6*-0x1+-0x1*-0x25cd)]=_0x5e418c[0x1645+0x29e+-0xfe*0x19]<<-0xbf4+-0x4b8+-0x10c1*-0x1|_0x5e418c[-0x17c8+0x19fe+0x1*-0x220]<<0xab*0x5+0xe8d+0x11d9*-0x1|_0x5e418c[-0x315*0x1+-0xe97+0x11c3],_0x37a12e[_0x2d3d6d*(-0x1*0xdbb+-0xb1*0x10+-0xdb*-0x1d)+(-0x16aa+0xa5b*-0x2+0x2b61)]=_0x5e418c[0x23f7+0x7fa*-0x1+-0x1be5]<<0x4b*0x38+-0x1*-0x956+-0x19a9|_0x5e418c[-0xaac+-0x523+0xfe8]<<0x6a8+-0xc49+0x5ac|_0x5e418c[0x1*-0x238d+0x1*0x1aad+-0x6*-0x17f],_0x37a12e[_0x2d3d6d*(0x2*0x971+-0x1851+0x1*0x573)+(-0xffd*-0x1+-0x11*0xf5+0x4a)]=_0x5e418c[0x983+0x2103+-0x1*0x2a6b]<<0x671+-0x1*-0x6cf+0xd2b*-0x1|_0x5e418c[-0x8*0x283+0x28f+0x11a5]<<0x1d65+-0x1*0x13c1+-0x3f*0x27|_0x5e418c[0x14f6+0x1234+0x270d*-0x1],_0x37a12e[_0x2d3d6d*(0x184a+-0x13*-0x180+-0x34c6)+(0x3*0xbd+-0x1*0x124a+0x47*0x3a)]=_0x5e418c[0x2*0x346+0x4d1*-0x8+-0x100d*-0x2]<<-0x767+0x1*0x2279+0x3db*-0x7|_0x5e418c[0x611*-0x3+0x1*-0xf19+0x1d*0x127]<<-0x1b44+0x3bb+0xbca*0x2|_0x5e418c[0x5*0x777+-0x229d+-0x296],_0x31335b[_0x2d3d6d*(-0x12c3+-0x1a4f+0x2d16)+(0x26dd+-0x2*-0x107b+0x2a9*-0x1b)]=_0x5e418c[0x11a7*0x2+-0x79e+-0x1b8f]<<0x1*0x1ff7+0x92e+-0x3*0xdb0|_0x5e418c[-0x195b+0x2*0xbd9+0x1cb]<<0x5c6+-0x24eb+-0x3e6*-0x8|_0x5e418c[0xf66+-0x433*-0x7+-0x2ca8],_0x31335b[_0x2d3d6d*(0x191c+-0xd36+-0x3*0x3f6)+(0x3b*-0xa3+-0xee9+-0x347b*-0x1)]=_0x5e418c[0x2f9*0xa+0x125e+-0x2ff4]<<-0xb96+0x85a+0x351|_0x5e418c[-0x13d0*0x1+0x39f+0x33*0x52]<<-0x7dc+-0x17bf+0x1fa6|_0x5e418c[-0x23b*-0x2+-0x13e3*0x1+-0x531*-0x3],_0x31335b[_0x2d3d6d*(-0x1*-0xee4+0xd95+0xeb*-0x1f)+(0x2*0x7c9+0xd81+-0x1d11)]=_0x5e418c[-0x6e9+-0xf29+-0x1639*-0x1]<<0xc6e+-0x2646+0x19ed|_0x5e418c[-0x64*-0x3+0x1b23+-0x1*0x1c27]<<0xb7a+-0xa90+-0xdf|_0x5e418c[-0x4*-0xc9+-0x17c+-0x1*0x17f],_0x31335b[_0x2d3d6d*(-0xe1*0x1+0x16be+0x11*-0x149)+(0x795+0x1eba+0x2b*-0xe4)]=_0x5e418c[-0x5ce+0x830+-0x8e*0x4]<<0x1*-0x329+0x21*0xb0+0x9b9*-0x2|_0x5e418c[-0xdbe+-0x18cd+-0x2*-0x135b]<<-0x410+-0xd*-0xc5+-0x5e6|_0x5e418c[-0x1d8+-0x2*-0xb5+0xe*0xb]):_0x37a12e[_0x2d3d6d]=_0x5e418c[-0x3*-0xc7+-0x1*0x1c4f+0x1*0x1a0f]<<-0x1399+-0x329+0x16d7|_0x5e418c[-0x1*-0x1f87+0x2b5+0x3*-0xb62]<<-0x974+-0x1119+-0x25*-0xb8|_0x5e418c[0xb1c+0x106d+-0x1b72]);}}return{'sh1to3Data':_0x13621d,'sh4to7Data':_0x450ec3,'sh8to11Data':_0x37a12e,'sh12to15Data':_0x31335b};},_0x30870e=_0x16d754=>{if(!_0x6941b8['time_index'])return;const _0x247baf=_0x6941b8['time_index']['findIndex'](_0x5f1b4c=>_0x5f1b4c===_0x16d754);let _0x427a67=_0x6941b8['time_index']['findIndex']((_0xbe090f,_0x514e25)=>_0xbe090f!==_0x16d754&&_0x514e25>_0x247baf);if(_0x427a67===-(0x5ad+0x1c88+-0x2234)&&_0x247baf===-(-0x1*-0x63a+-0x1286+0x43*0x2f))return;_0x427a67===-(0x459*-0x7+0xd*0xd0+0x27c*0x8)&&_0x247baf!==-(0x5d2+-0x184+-0x44d)&&(_0x427a67=_0x6941b8['time_index']['length']),_0x5b60e6-=_0x427a67-_0x247baf,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x5b60e6,_0x427a67-_0x247baf);const _0x4bcd32=Object['keys'](_0x6941b8);for(let _0x7901e9=-0x47*0x4f+0x877+0x6b9*0x2;_0x7901e9<_0x4bcd32['length'];_0x7901e9++){const _0x294662=_0x4bcd32[_0x7901e9],_0x2a90a7=_0x6941b8[_0x294662];if(_0x2a90a7){let _0x202746=-0x53*-0x43+-0x25bf+0x1007;switch(_0x294662){case'position':_0x202746=0xabf+-0x1ab9+-0x1*-0xffd;break;case'color_opac'+'ity':_0x202746=0xedb*-0x1+-0xbc4+0x8e1*0x3;break;case'scale':_0x202746=0x3*-0x815+-0x9*0x372+0x3744;break;case'motion':_0x202746=0x188a+-0x1*0x1073+0x4*-0x205;break;case'rotation':_0x202746=0x1a5e+-0x1436+-0x625;break;default:_0x202746=0xbdc*-0x3+-0x1325+0x3*0x123e;break;}const _0x506007=new Float32Array(_0x5b60e6*_0x202746);_0x247baf>-0x20a+-0x3e+-0x124*-0x2?(_0x506007['set'](_0x2a90a7['subarray'](-0x1f05*0x1+0x98f+0x1576,_0x247baf*_0x202746),-0x1*0x1e95+0x1a*-0xcd+0x3367),_0x506007['set'](_0x2a90a7['subarray'](_0x427a67*_0x202746),_0x247baf*_0x202746)):_0x506007['set'](_0x2a90a7['subarray'](_0x427a67*_0x202746),0x20ad+0x61a+0x44f*-0x9),_0x6941b8[_0x294662]=_0x506007;}}},_0x4d3e6c=()=>{const _0x19f244=Object['keys'](_0x6941b8);for(let _0x17ac93=0x2347+-0x3e6*-0x6+-0x17*0x28d;_0x17ac93<_0x19f244['length'];_0x17ac93++){const _0x5dba57=_0x19f244[_0x17ac93];_0x6941b8[_0x5dba57]&&(_0x6941b8[_0x5dba57]=[]);}},_0x5e6b82=()=>{_0x6941b8={},_0x5b60e6=0x61d*-0x2+0x216f+-0x1*0x1535;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x4b8d64,_0x99cf46,_0x27d09c,_0x425615=!(0x5*0x2bf+0x1142+-0xa54*0x3)){var _0x47a989,_0x4c9b50;const _0x2c242b={};return _0x4b8d64['elements'][0x167*0x10+-0x92b+0xd45*-0x1]['properties']['forEach'](_0x346ee0=>{_0x2c242b[_0x346ee0['name']]=_0x346ee0['storage'];}),_0x425615?(_0x47a989=this['worker'])==null||_0x47a989['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2c242b,'timeIndex':_0x99cf46,'timeOption':_0x27d09c},_0x4b8d64['elements'][0x1f*0x131+0x14a1+-0x6*0x998]['properties']['map'](_0x3079c6=>_0x3079c6['storage']['buffer'])):(_0x4c9b50=this['worker'])==null||_0x4c9b50['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2c242b,'timeIndex':_0x99cf46,'timeOption':_0x27d09c}),new Promise(_0x5c3d7c=>{this['worker']['onmessage']=_0x59bae8=>{if(!this['worker'])return;const {data:_0x439671}=_0x59bae8;_0x439671['type']==='newAppendD'+'ata'&&_0x5c3d7c(_0x439671);};});}async['releaseSeq'+'Data'](_0x2489bd){var _0x21f2c9;(_0x21f2c9=this['worker'])==null||_0x21f2c9['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x2489bd});}async['releaseAll'+'SeqData'](){var _0x48abc1;(_0x48abc1=this['worker'])==null||_0x48abc1['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0xe9cd68;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0xe9cd68=this['worker'])==null||_0xe9cd68['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x9fd+-0x7d8+-0x2*0x112,-0x17e2+-0x1519+0x2cfc,-0x1feb+-0x1e57+0x4ca*0xd,0x24c3+0x984+-0x2e47*0x1+0.4),Sg=-0x4a865+-0x3a037+-0x1ca*-0x656;class tC{constructor(_0x19f2ab,_0x32959b,_0x492b97,_0x5bd6cf,_0x2b4784,_0x5c8143){const _0x169c89=_0x19f2ab['getProp']('position'),_0x203ab9=_0x19f2ab['getProp']('color_opac'+'ity'),_0xf0187=_0x19f2ab['getProp']('scale'),_0x52a779=_0x19f2ab['getProp']('motion'),_0x5076b7=_0x19f2ab['getProp']('rotation');this['read']=_0x30d4ec=>{_0x32959b&&_0x32959b['set'](_0x169c89[_0x30d4ec*(-0x212b*0x1+0x2*0x2f5+-0x574*-0x5)+(-0x31*-0x53+0x24c6*-0x1+-0x1*-0x14e3)],_0x169c89[_0x30d4ec*(-0x4a9*-0x3+-0x381*0x1+-0xa77)+(-0xe40+-0x836+0x3*0x77d)],_0x169c89[_0x30d4ec*(0x1*0x2268+0x1369+-0x61*0x8e)+(-0x1*-0x1d0e+-0x22b1+0x5a5)]),_0x492b97&&_0x492b97['set'](_0x5076b7[_0x30d4ec*(-0x2b*0xae+-0x1*-0x841+0x14fc)+(-0x212*0x4+-0x534+0x2*0x6be)],_0x5076b7[_0x30d4ec*(0xe96*-0x1+0x15a8+-0x1*0x70f)+(-0xc11*-0x3+-0x9be*0x3+-0x1be*0x4)],_0x5076b7[_0x30d4ec*(0x11*0x183+0x1eff+-0x12e5*0x3)+(-0x1*0x176f+-0x1*-0x1725+0x4c)]),_0x5bd6cf&&_0x5bd6cf['set'](_0xf0187[_0x30d4ec*(0x735+-0x315*0x7+0xe61)+(0x1c52+0xfc5*-0x2+0x338)],_0xf0187[_0x30d4ec*(-0x1af+0x19fe+-0x184c*0x1)+(-0x65c+0xe3a+0x29f*-0x3)],_0xf0187[_0x30d4ec*(-0x49*-0x10+0x22c6*-0x1+-0x1*-0x1e39)+(0xbfa+-0xd3f+-0x147*-0x1)]),_0x5c8143&&_0x52a779&&_0x5c8143['set'](_0x52a779[_0x30d4ec*(0x20ca*0x1+-0x714+-0x2db*0x9)+(-0x1ea6+-0x986+0xa0b*0x4)],_0x52a779[_0x30d4ec*(-0x143c+-0x2d7*-0xa+-0x827*0x1)+(-0xd*-0xbd+-0x2*0x571+0x1*0x14a)],_0x52a779[_0x30d4ec*(0x24c0+0xd8e*0x1+-0x324b)+(0x1a77+-0x2*0x7ea+-0xaa1)]),_0x2b4784&&_0x2b4784['set'](_0x203ab9[_0x30d4ec*(-0x1a09+0x51*0x9+0x1734)+(0x89e*-0x2+0x92*0x9+0x1*0xc1a)],_0x203ab9[_0x30d4ec*(-0x1*-0x1357+0x1*-0x224b+-0x8*-0x1df)+(-0x3cf+-0x1*-0x3c3+0xd)],_0x203ab9[_0x30d4ec*(0x1ff2+0x7b1*-0x1+-0x183d)+(-0x19ef+-0x8ba+0x22ab)],_0x203ab9[_0x30d4ec*(0x156b+0x1c9b+-0x3202)+(0x2152+0x1*0x157d+-0x36cc)]);};}}const sC=(_0x4b02c4,_0x4cc8fe,_0xd65104)=>{gg['set'](_0xd65104['x'],_0xd65104['y'],_0xd65104['z'],_0xd65104['w'])['normalize'](),_0x4b02c4['setTRS'](_0x4cc8fe,gg,D['ONE']);};class iC{constructor(_0x168c08,_0x3eea89=[],_0x1a07f4=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x8d*-0x9+0x1322*0x1+-0x1*0x1817),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x342d8f;(_0x342d8f=this['dataWorker'])==null||_0x342d8f['destroy'](),this['dataWorker']=null;});var _0xcf03d6,_0xcaaaf2,_0x50b3a1;this['elements']=_0x168c08,this['properties']=_0x1a07f4,this['numSplats']=((_0xcf03d6=this['getElement']('vertex'))==null?void(-0x1b5*-0xd+-0x1971+0x34*0x10):_0xcf03d6['count'])??-0x1*-0x12c1+-0x1f8a+-0xcc9*-0x1,this['comments']=_0x3eea89,this['is4D']=!!((_0x50b3a1=(_0xcaaaf2=this['getElement']('vertex'))==null?void(-0x72f*-0x4+0x1531+-0x1*0x31ed):_0xcaaaf2['properties']['find'](_0xfec751=>_0xfec751['name']==='t'))!=null&&_0x50b3a1['storage']);}async['appendGSpl'+'atData'](_0x499690,_0x381cb6,_0x576a2e){var _0x6f37c0;let _0xcef071=0xb71+0x14f9*0x1+0x206a*-0x1;for(let _0x5bf8c1=0x255*0xb+0xeab+-0x2852;_0x5bf8c1<_0x576a2e['length']&&_0x381cb6>_0x576a2e[_0x5bf8c1];_0x5bf8c1+=0x98f*0x3+0x6*0x2b9+-0x2d01)_0xcef071=_0x5bf8c1/(0x12b6+0x1555+0x115*-0x25);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x235d+0x2563+0x25*-0xe,_0x576a2e));const _0x4796a6=this['getElement']('vertex');_0x4796a6&&(_0x4796a6['count']=this['numSplats']);const _0x49c12c=await this['dataWorker']['appendGSpl'+'atData'](_0x499690,_0xcef071,_0x576a2e,!(0x315+0x15*0x83+-0x4*0x375)),_0x47480d=_0x49c12c['properties'],_0x151ee7=((_0x6f37c0=this['getElement']('vertex'))==null?void(0x1*-0x2207+-0x1*0x1787+-0x2*-0x1cc7):_0x6f37c0['properties'])??[];for(const _0x5dd6dc in _0x47480d){const _0x17417b=_0x151ee7['find'](_0x482ab6=>_0x482ab6['name']===_0x5dd6dc);_0x17417b?_0x17417b['storage']=_0x47480d[_0x5dd6dc]:_0x151ee7['push']({'type':'float','name':_0x5dd6dc,'storage':_0x47480d[_0x5dd6dc],'byteSize':0x4});}this['transformD'+'ata']=_0x49c12c['transformD'+'ata'],this['numSplats']=_0x47480d['position']['length']/(0x26b+-0x1b57+0x18ef);}async['releaseSeq'+'Data'](_0x290faa){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x290faa),this['dataWorker']['releaseSeq'+'Data'](_0x290faa),this;}async['releaseAll'+'SeqData'](){var _0x2623aa;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x2623aa=this['dataWorker'])==null||_0x2623aa['releaseAll'+'SeqData'](),this;}['getProp'](_0x1e4326,_0x50f24d='vertex'){var _0x5babfc,_0xf583dd;return(_0xf583dd=(_0x5babfc=this['getElement'](_0x50f24d))==null?void(-0x3a+0xf1e*-0x1+0xf58):_0x5babfc['properties']['find'](_0x152fb9=>_0x152fb9['name']===_0x1e4326))==null?void(-0xd07*0x1+0x1db5+-0x10ae):_0xf583dd['storage'];}['getElement'](_0x171baf){return this['elements']['find'](_0x39bdb4=>_0x39bdb4['name']===_0x171baf);}['createIter'](_0x1534a9,_0x19b903,_0x2d65c1,_0x506e05,_0x4a163e){return new tC(this,_0x1534a9,_0x19b903,_0x2d65c1,_0x506e05,_0x4a163e);}['calcAabb'](_0x37a499,_0x3c313d){let _0xdeadd6=-0x88*-0x10+-0x252f+0x1caf,_0x639a57=0x173*-0x2+0x1958*-0x1+0x1c3e,_0x247c94=0x3*0xb84+0x2489+0x4715*-0x1,_0x3504f4=0x1bb1+0xfeb+-0x2b9c,_0x386aaf=-0xb5d+-0x246a+0x51*0x97,_0x5a4c8f=0x115a*-0x2+-0xc7*-0x25+0x5f1*0x1,_0xeb20ad=!(-0xbd2+-0xa59*-0x2+0x10*-0x8e);const _0x39a51c=this['getProp']('position'),_0x34fde4=this['getProp']('scale');for(let _0x5ec268=-0x12*-0x129+0x2091+-0x3573;_0x5ec268<this['numSplats'];++_0x5ec268){if(_0x3c313d&&!_0x3c313d(_0x5ec268))continue;const _0x51afe1=_0x39a51c[_0x5ec268*(-0x13a+0xf60+-0xe23)+(-0x1f6f*0x1+0x6f0+-0x1*-0x187f)],_0x2c8454=_0x39a51c[_0x5ec268*(-0x1bd2+-0x1ecf+0x3aa4)+(0x2*-0x4d2+0xeef*0x1+-0x2a5*0x2)],_0x54badf=_0x39a51c[_0x5ec268*(-0x1fed+0x11*-0x7f+0xd*0x31b)+(-0x3*0x773+-0x1*-0x230c+-0xcb1*0x1)],_0x400c0d=Math['max'](_0x34fde4[_0x5ec268*(0x21*0xb+-0x1*0x14b+-0x1d*0x1)+(0x705*0x5+-0x5b*0x59+-0x376)],_0x34fde4[_0x5ec268*(0x1633+-0x1*-0xef2+-0x2522)+(0x19d4+0x1a4c+-0x341f)],_0x34fde4[_0x5ec268*(0x56c+-0xde7*-0x2+-0x2137)+(-0x91e+0x1*0xeff+-0x5df)]);if(!isFinite(_0x51afe1)||!isFinite(_0x2c8454)||!isFinite(_0x54badf)||!isFinite(_0x400c0d))continue;const _0x398631=(0x2b*0x80+0x13*-0x42+-0xb1*0x18)*Math['exp'](_0x400c0d);_0xeb20ad?(_0xeb20ad=!(-0x601+-0x6be+0xcc0),_0xdeadd6=_0x51afe1-_0x398631,_0x639a57=_0x2c8454-_0x398631,_0x247c94=_0x54badf-_0x398631,_0x3504f4=_0x51afe1+_0x398631,_0x386aaf=_0x2c8454+_0x398631,_0x5a4c8f=_0x54badf+_0x398631):(_0xdeadd6=Math['min'](_0xdeadd6,_0x51afe1-_0x398631),_0x639a57=Math['min'](_0x639a57,_0x2c8454-_0x398631),_0x247c94=Math['min'](_0x247c94,_0x54badf-_0x398631),_0x3504f4=Math['max'](_0x3504f4,_0x51afe1+_0x398631),_0x386aaf=Math['max'](_0x386aaf,_0x2c8454+_0x398631),_0x5a4c8f=Math['max'](_0x5a4c8f,_0x54badf+_0x398631));}return _0xeb20ad||(_0x37a499['center']['set']((_0xdeadd6+_0x3504f4)*(-0xb*-0x6b+0x52b+-0x1f4*0x5+0.5),(_0x639a57+_0x386aaf)*(0xb3e+0xda*-0x1b+-0x2f0*-0x4+0.5),(_0x247c94+_0x5a4c8f)*(-0x1*-0x6da+-0x392*-0x9+-0x26fc+0.5)),_0x37a499['halfExtent'+'s']['set']((_0x3504f4-_0xdeadd6)*(0xf77+0x11b*-0xf+0x11e+0.5),(_0x386aaf-_0x639a57)*(-0x66*-0x11+-0xb*-0x20b+-0x1d3f+0.5),(_0x5a4c8f-_0x247c94)*(0x1bdd+0x1*0x1+-0x94a*0x3+0.5))),!_0xeb20ad;}['yieldToMai'+'n'](){var _0x221114;return(_0x221114=globalThis['scheduler'])!=null&&_0x221114['yield']?globalThis['scheduler']['yield']():new Promise(_0x3ee488=>{setTimeout(_0x3ee488,0x1*0x996+0x108a+0x20*-0xd1);});}async['getCenters'](_0x2f04fe){const _0xee13c5=this['getProp']('x'),_0x3fd9fd=this['getProp']('y'),_0xddd4b9=this['getProp']('z');for(let _0xd8c44b=-0x6ed*-0x5+0x2367+-0x4608*0x1;_0xd8c44b<this['numSplats'];++_0xd8c44b)_0x2f04fe[_0xd8c44b*(-0x419+0xd*0x1a+-0x1*-0x2ca)+(-0x1d63+0x1b8e+0x7*0x43)]=_0xee13c5[_0xd8c44b],_0x2f04fe[_0xd8c44b*(0x19cc+-0x15a+-0x186f)+(0xd3*-0xc+-0x495+0xe7a)]=_0x3fd9fd[_0xd8c44b],_0x2f04fe[_0xd8c44b*(0x1fa9+-0x4a3+-0x1b03)+(-0x1d1c+0x1*0x1861+-0x1*-0x4bd)]=_0xddd4b9[_0xd8c44b],_0xd8c44b%Sg===0x1073*-0x1+-0x195f+-0x65*-0x6a&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0xd14548;if((_0xd14548=this['transformD'+'ata'])!=null&&_0xd14548['muT'])return this['transformD'+'ata']['muT'];const _0x5cccbd=this['getProp']('t');return _0x5cccbd?new Float32Array(_0x5cccbd):void(0x7*0x15d+-0x1595+0xc0a);}async['getTScale'](){const _0x4070cf=this['getProp']('t_scale');if(!_0x4070cf)return;const _0x446857=new Float32Array(this['numSplats']);for(let _0x463d5d=-0x25a0+0x295*0x2+0x5*0x67e;_0x463d5d<this['numSplats'];++_0x463d5d)_0x446857[_0x463d5d]=Math['exp'](_0x4070cf[_0x463d5d]),_0x463d5d%Sg===-0x20*0x11f+-0x20e*-0x1+0x21d2&&await this['yieldToMai'+'n']();return _0x446857;}['getMotion'](_0xd0b840){const _0x33d983=this['getProp']('motion');_0x33d983&&new Float32Array(_0x33d983['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x3a1da5;if((_0x3a1da5=this['transformD'+'ata'])!=null&&_0x3a1da5['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x16a518=this['getProp']('time_index');if(_0x16a518)return new Float32Array(_0x16a518);}['calcFocalP'+'oint'](_0x43eb33,_0x4f374c){const _0x5aef4b=this['getProp']('position'),_0x48bc50=this['getProp']('scale');_0x43eb33['x']=-0x1ced*0x1+0xd8+0x1c15,_0x43eb33['y']=-0x1*0xcc9+0x15a2+-0x1*0x8d9,_0x43eb33['z']=-0x170c+0x98e*-0x3+0x1*0x33b6;let _0x3c9f51=-0x1*-0x266f+-0x1*0x2276+-0x3f9;for(let _0x410cd6=-0xa*-0x22c+0x1d5*-0xe+-0x1*-0x3ee;_0x410cd6<this['numSplats'];++_0x410cd6){if(_0x4f374c&&!_0x4f374c(_0x410cd6))continue;const _0x4cad37=_0x5aef4b[_0x410cd6*(0x1c48+0x1d39+0x995*-0x6)+(0x60e*-0x4+-0x642+0x53*0x5e)],_0x1980c2=_0x5aef4b[_0x410cd6*(0x795*-0x3+-0x125e*0x1+0x2920)+(0x1*0xcb+0x6e3*0x3+-0x143*0x11)],_0x5b9276=_0x5aef4b[_0x410cd6*(0x1913+-0x7a0+0x2e8*-0x6)+(-0x16b2+-0x9d*-0x22+0x1da)];if(!isFinite(_0x4cad37)||!isFinite(_0x1980c2)||!isFinite(_0x5b9276))continue;const _0x416174=(-0x1c1*-0x1+0x20*0x2+-0x200)/(-0x1*0x1e29+-0x1573+0x1*0x339d+Math['max'](_0x48bc50[_0x410cd6*(-0x19c1*0x1+0xf26+0xa9e)+(0xd48+-0x15*-0x8d+-0x18d9)],_0x48bc50[_0x410cd6*(-0xe15+0x11*-0x1f2+0x2f2a)+(-0x23d5+-0x10*0x248+0x5e*0xc5)],_0x48bc50[_0x410cd6*(-0x4d5*-0x4+0x16*0x3b+-0x1863)+(0x4*-0x959+0x1522+0x1044)]));_0x43eb33['x']+=_0x4cad37*_0x416174,_0x43eb33['y']+=_0x1980c2*_0x416174,_0x43eb33['z']+=_0x5b9276*_0x416174,_0x3c9f51+=_0x416174;}_0x43eb33['mulScalar']((-0x24d8+0x1da9*-0x1+0x2141*0x2)/_0x3c9f51);}['renderWire'+'frameBound'+'s'](_0xc31595,_0x28f2aa){const _0x1020e8=new D(),_0x590a12=new le(),_0x3d4936=new D(),_0x44262e=new D(),_0x4ff8c7=new D(),_0x12ad37=this['createIter'](_0x1020e8,_0x590a12,_0x3d4936);for(let _0x65f44=0x4*-0x62e+0x1b01+0xd*-0x2d;_0x65f44<this['numSplats'];++_0x65f44)_0x12ad37['read'](_0x65f44),sC(gc,_0x1020e8,_0x590a12),gc['mul2'](_0x28f2aa,gc),_0x44262e['set'](_0x3d4936['x']*-(-0x38*-0x51+0x5a1*-0x3+-0xd3),_0x3d4936['y']*-(-0x12bf+-0x1*-0x9a5+0x91c),_0x3d4936['z']*-(-0x1*-0x153b+0x201f*0x1+0x8e4*-0x6)),_0x4ff8c7['set'](_0x3d4936['x']*(0x169+-0x104a+0xee3),_0x3d4936['y']*(-0x12d3+-0x262*-0xd+-0xc25),_0x3d4936['z']*(-0x4af*0x2+0x5d2*0x1+0x41*0xe)),_0xc31595['immediate']['drawWireAl'+'ignedBox'](_0x44262e,_0x4ff8c7,eC,!(0x709*0x5+-0x5c5+-0x2*0xeb4),_0xc31595['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x1*-0x1d5+-0xbe5+0x35b*0x3);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xe5cf02=-0xe21*-0x1+0xc*0x21f+-0x2795*0x1;_0xe5cf02<0x10cb*-0x2+-0x1492+0x3655;++_0xe5cf02)if(!this['getProp']('f_rest_'+_0xe5cf02))return _0xe5cf02;return-0x8e*0x14+0x24db+-0x1996;})())]??-0x1f*0x1f+-0x1*0x196d+0x1d2e;}['calcMorton'+'Order'](){const _0x556ce6=_0x50c2ad=>{let _0x5c17e8=_0x50c2ad[0x224c+-0xc15+-0x1637],_0x2dff73=_0x50c2ad[-0x60e*-0x1+-0x89*0x2f+0x1319];for(let _0x31205c=-0x203f+-0x230c+-0x49*-0xec;_0x31205c<_0x50c2ad['length'];_0x31205c++)_0x50c2ad[_0x31205c]<_0x5c17e8&&(_0x5c17e8=_0x50c2ad[_0x31205c]),_0x50c2ad[_0x31205c]>_0x2dff73&&(_0x2dff73=_0x50c2ad[_0x31205c]);return{'min':_0x5c17e8,'max':_0x2dff73};},_0x250aa0=(_0x2d3729,_0x2c014e,_0x57614d)=>{const _0x3bcfd5=_0x328e9d=>(_0x328e9d&=-0x23b3*0x1+-0x148*0x19+0x1*0x47ba,_0x328e9d=(_0x328e9d^_0x328e9d<<0xd71+-0xc60+-0x1*0x101)&0x2033*-0x71083+0x1c16cd7e8+0x210bd330,_0x328e9d=(_0x328e9d^_0x328e9d<<0x1ad0+0x38d*0x6+-0x3016)&-0x3*0xfa8c8b+0x3bd612b+-0x1f2e5*-0x121,_0x328e9d=(_0x328e9d^_0x328e9d<<0x142b+0x1789+-0x2bb0)&-0xa53710+-0x1*0x70037d+0x4*0x1085ad4,_0x328e9d=(_0x328e9d^_0x328e9d<<0x2515+-0x1*0xaab+-0x1a68)&0x164a7*0x494+0x10735533*-0x1+0x13371af0,_0x328e9d);return(_0x3bcfd5(_0x57614d)<<0xa5d+0x2318+-0x2d73)+(_0x3bcfd5(_0x2c014e)<<0x22*-0x95+-0x68*-0x4a+-0xef*0xb)+_0x3bcfd5(_0x2d3729);},_0x303426=this['getProp']('x'),_0x1f7fd3=this['getProp']('y'),_0x3b30b9=this['getProp']('z'),{min:_0x5c7daa,max:_0x433bde}=_0x556ce6(_0x303426),{min:_0x1689ec,max:_0x107fee}=_0x556ce6(_0x1f7fd3),{min:_0x46c821,max:_0x1fdeb2}=_0x556ce6(_0x3b30b9),_0xfbc07f=_0x5c7daa===_0x433bde?-0x1*-0x85+-0x1870+-0x3*-0x7f9:(0x1*0xd5+-0x1c26+0x1f51)/(_0x433bde-_0x5c7daa),_0x3df3d6=_0x1689ec===_0x107fee?0x2477+0x33*-0x1d+-0x4*0x7ac:(0x20*-0x11+0x87b+-0xc9*0x3)/(_0x107fee-_0x1689ec),_0x411098=_0x46c821===_0x1fdeb2?-0x2*-0x407+-0x2d7+-0x1*0x537:(0x23ea*0x1+-0x14bf+-0x3*0x3b9)/(_0x1fdeb2-_0x46c821),_0x269ab=new Map();for(let _0x5aea0c=0x1ff0+-0xf92+0x105e*-0x1;_0x5aea0c<this['numSplats'];_0x5aea0c++){const _0x47ce2e=Math['min'](0x3*-0x499+-0x3b*0x41+-0x20c5*-0x1,Math['floor']((_0x303426[_0x5aea0c]-_0x5c7daa)*_0xfbc07f)),_0x3b2119=Math['min'](0x10db*0x1+-0x2*-0x964+-0x1b*0x12c,Math['floor']((_0x1f7fd3[_0x5aea0c]-_0x1689ec)*_0x3df3d6)),_0x14ae9f=Math['min'](-0x1185+0xa3f+0xb45,Math['floor']((_0x3b30b9[_0x5aea0c]-_0x46c821)*_0x411098)),_0x479061=_0x250aa0(_0x47ce2e,_0x3b2119,_0x14ae9f),_0x2e2730=_0x269ab['get'](_0x479061);_0x2e2730?_0x2e2730['push'](_0x5aea0c):_0x269ab['set'](_0x479061,[_0x5aea0c]);}const _0x5dab21=Array['from'](_0x269ab['keys']())['sort']((_0x5027bf,_0x446635)=>_0x5027bf-_0x446635),_0x5b7ff9=new Uint32Array(this['numSplats']);let _0x52a412=-0x4d*-0x4f+-0x1d65+0x5a2;for(let _0x27146e=0xb*0x7+-0x14f*0xb+0xe18;_0x27146e<_0x5dab21['length'];++_0x27146e){const _0x2f91dd=_0x269ab['get'](_0x5dab21[_0x27146e]);for(let _0x5939ed=-0x79e+0x5f*-0x35+0x1b49;_0x5939ed<_0x2f91dd['length'];++_0x5939ed)_0x5b7ff9[_0x52a412++]=_0x2f91dd[_0x5939ed];}return _0x5b7ff9;}['reorder'](_0x16d2b8){const _0x3d0a79=new Map(),_0x3f5c25=_0x1b309d=>{if(_0x3d0a79['has'](_0x1b309d)){const _0x1a2dc3=_0x3d0a79['get'](_0x1b309d);return _0x3d0a79['delete'](_0x1b309d),_0x1a2dc3;}return new ArrayBuffer(_0x1b309d);},_0x343e77=_0xd69906=>{_0x3d0a79['set'](_0xd69906['byteLength'],_0xd69906);},_0x359a1d=_0x1f6a44=>{const _0xfc9bde=new _0x1f6a44['constructo'+'r'](_0x3f5c25(_0x1f6a44['byteLength']));for(let _0x140eb7=-0x159*-0x9+-0xc0c+-0x7*0x3;_0x140eb7<_0x16d2b8['length'];_0x140eb7++)_0xfc9bde[_0x140eb7]=_0x1f6a44[_0x16d2b8[_0x140eb7]];return _0x343e77(_0x1f6a44['buffer']),_0xfc9bde;};this['elements']['forEach'](_0x48b223=>{_0x48b223['properties']['forEach'](_0x3625cd=>{_0x3625cd['storage']&&(_0x3625cd['storage']=_0x359a1d(_0x3625cd['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x2f12d0,_0x52c4d8)=>{for(const _0x1fe350 in _0x52c4d8)_0x2f12d0['resolve'](_0x1fe350)['setValue'](_0x52c4d8[_0x1fe350]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x534c36;(_0x534c36=this['executeCal'+'lback'])==null||_0x534c36['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x548122,_0x16236a){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x548122,this['gsplatInst'+'ance']=_0x16236a);const {resource:_0x4063b1}=_0x16236a,_0x4acbd5=new Map(Pe['get'](_0x548122,_0x548122['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x548122,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x4acbd5,'fragmentIncludes':_0x4acbd5,'fragmentDefines':new Map([['SH_BANDS',_0x4063b1['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x4063b1['createText'+'ure']('centroids',Ne,new J(0x1105*0x2+-0x56d+-0x35*0x89,0x1d08+0x8*-0xfb+-0x1130)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x1345+0x20b+0x154f*-0x1)}),this['renderPass']=new dC(_0x548122),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x582+-0xc74+0x11f6),this['quadRender']=new Ah(this['shader']);const {material:_0x2a1313}=_0x16236a;_0x2a1313['setDefine']('SH_BANDS','0');const {shaderChunks:_0x113d46}=_0x2a1313;_0x113d46['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x113d46['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x2a1313['update'](),_0x548122['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x2bc1c2}=this,{material:_0x8d371}=_0x2bc1c2;_0x8d371['setDefine']('SH_BANDS',_0x2bc1c2['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x4ffbdd}=_0x8d371;_0x4ffbdd['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x4ffbdd['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x8d371['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x55fef0,_0x4e28b7){const {prevDir:_0x38ab7c,updateMode:_0x169b30}=this;if(_0x169b30==='disable'||(yg['invert'](_0x4e28b7),yg['transformV'+'ector'](_0x55fef0['forward'],uo),uo['normalize'](),_0x169b30==='enable'&&uo['equalsAppr'+'ox'](_0x38ab7c,-0x205c+-0x155+0x21b1*0x1+0.001)))return;_0x38ab7c['copy'](uo);const _0x5aeb16=()=>{const {device:_0x2b523d}=this,{sh_centroids:_0x59a016,meta:_0x5c9a0e}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x2b523d['scope'],{'dir':uo['toArray'](),'centroids':_0x59a016,'shN_mins':_0x5c9a0e['shN']['mins'],'shN_maxs':_0x5c9a0e['shN']['maxs']}),_0x2b523d['setCullMod'+'e'](bt),_0x2b523d['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2b523d['setStencil'+'State'](null,null),_0x2b523d['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x5aeb16,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0x1df5*0x1+-0xda8+0x2b9d+0.28209479177387814,Ci=_0x8630d9=>_0x8630d9['read'](0xfc3+-0x425*-0x3+-0x1c32,-0x260a+0x1987+-0x1*-0xc83,_0x8630d9['width'],_0x8630d9['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x26*-0x7a+-0x45f*-0x3+0x4ff)}),mC=(_0x24cc19,_0x5c6758)=>{for(const _0x25d7b8 in _0x5c6758)_0x24cc19['resolve'](_0x25d7b8)['setValue'](_0x5c6758[_0x25d7b8]);};class _C{constructor(_0x773645,_0x521427,_0x3b169b,_0x289cf9,_0x14a048,_0x51ad91){const _0x3115df=(_0x1ad1aa,_0x4ca4e9,_0x501794)=>_0x1ad1aa*(0xb3+-0x1930+0x187e-_0x501794)+_0x4ca4e9*_0x501794,{meta:_0x3a7552}=_0x773645,{means:_0x4691ee,scales:_0x23f7ae,sh0:_0x3495f1,shN:_0x174c2b}=_0x3a7552,_0x2c4af7=_0x521427&&_0x773645['means_l']['_levels'][0x199d+-0x1c96*-0x1+-0x3633],_0x3ce833=_0x521427&&_0x773645['means_u']['_levels'][-0x6*-0x568+-0x229*-0x4+-0x2914],_0x255950=_0x3b169b&&_0x773645['quats']['_levels'][-0x2c4*-0x1+0x11f9+-0x14bd],_0x34eaf4=_0x289cf9&&_0x773645['scales']['_levels'][0x2ae*-0xb+0x9*-0xff+0x2671],_0x581ee2=_0x14a048&&_0x773645['sh0']['_levels'][0xa44+-0x21*-0x2f+-0x1053],_0x25ed80=_0x51ad91&&_0x773645['sh_labels']['_levels'][-0x1f*0x97+-0xad*-0x5+0xee8],_0x26ebf2=_0x51ad91&&_0x773645['sh_centroi'+'ds']['_levels'][-0x2046+0x39*0x88+0x1fe],_0x2ada2e=(-0x16ee+-0x149c+0x2b8c)/Math['sqrt'](-0x21ec+0x3*0x4dd+0x1357);this['read']=_0x77d9fd=>{if(_0x521427){const _0x37f9c9=_0x3115df(_0x4691ee['mins'][0x21*0x8b+0xf*0x1cd+-0x2cee],_0x4691ee['maxs'][0x1*0x1ead+-0x173+-0x1d3a],((_0x3ce833[_0x77d9fd*(0xd8d+0xa32+-0xe1*0x1b)+(0x473+0x14e5+0xcac*-0x2)]<<0xad*-0x11+-0x21ca+-0x2d4f*-0x1)+_0x2c4af7[_0x77d9fd*(0x1e50+-0xb77+-0x12d5)+(0xa7*0x1+0x5*-0x236+0xa67)])/(0x16e8+-0x1d45*-0x4+0x11*0x6d3)),_0x5345c8=_0x3115df(_0x4691ee['mins'][0x28b+-0x213*0xe+0x1a80],_0x4691ee['maxs'][0xdc+-0x2*-0x8ff+-0x12d9],((_0x3ce833[_0x77d9fd*(-0x117d+0x1*-0x873+0x19f4)+(0x1*-0x98e+0x94*0x35+-0x1515)]<<0x61+-0x184*0x17+0xb81*0x3)+_0x2c4af7[_0x77d9fd*(-0x3*-0x553+-0x2331+-0x1*-0x133c)+(0xcb*-0x8+0x9*0x455+0x20a4*-0x1)])/(0x5656*-0x2+-0x14c26+0x4f9*0x99)),_0x18b042=_0x3115df(_0x4691ee['mins'][0x245a+-0xbef+-0x1869],_0x4691ee['maxs'][0x1*0x24d9+-0x1679*0x1+-0xe5e],((_0x3ce833[_0x77d9fd*(-0x1ca*0xd+0x69a+0x61*0x2c)+(0x5f6+0x25db+-0x5*0x8c3)]<<-0x1019*-0x1+0x1ab*0xb+-0x2*0x1135)+_0x2c4af7[_0x77d9fd*(0x9e+0xf*0x18+-0x101*0x2)+(0x301*0x9+-0x3e4*0x2+-0x133f)])/(-0x17701+0x1bef7+0xb809));_0x521427['x']=Math['sign'](_0x37f9c9)*(Math['exp'](Math['abs'](_0x37f9c9))-(-0xcf7*0x2+0x3e2+0x160d)),_0x521427['y']=Math['sign'](_0x5345c8)*(Math['exp'](Math['abs'](_0x5345c8))-(0x262+-0x183e+-0x1d*-0xc1)),_0x521427['z']=Math['sign'](_0x18b042)*(Math['exp'](Math['abs'](_0x18b042))-(-0xcf0+0x152d+0x2*-0x41e));}if(_0x3b169b){const _0x4c6300=(_0x255950[_0x77d9fd*(-0xfbf*-0x2+0x8*0x21d+-0x3062)+(0x4e2*0x1+0x206c+-0x1*0x254e)]/(0x19*-0x3a+-0x216+0x1*0x8bf)-(0x1*-0x3f6+-0x365*0x5+-0x1*-0x14ef+0.5))*_0x2ada2e,_0x2325c8=(_0x255950[_0x77d9fd*(-0x6f*0x26+-0x2*0x7d5+0x31*0xa8)+(-0x177b+-0xea9*-0x1+0x8d3)]/(0x1d0d+-0x5*0x47+-0x1aab)-(0xced+-0xea2+-0x17*-0x13+0.5))*_0x2ada2e,_0x654378=(_0x255950[_0x77d9fd*(0x1f33+-0x1fa2+0x17*0x5)+(0x1*-0xae1+-0x10d4+0x21*0xd7)]/(0x3*-0x5e7+-0x1e7f+0xe5*0x37)-(-0x1b*-0x43+-0x311+-0x8*0x80+0.5))*_0x2ada2e,_0x4cb603=Math['sqrt'](Math['max'](0x5*0x2e5+0x1fdc+-0x1*0x2e55,-0x179*-0x2+-0x1ffc+0x5*0x5cf-(_0x4c6300*_0x4c6300+_0x2325c8*_0x2325c8+_0x654378*_0x654378)));switch(_0x255950[_0x77d9fd*(-0x248*-0xb+-0x1*-0x1b42+-0x3456)+(-0x1*0x1ae3+-0x255a+0x4040)]-(-0x47*-0x5c+-0xdf5+-0xa93*0x1)){case-0x1*0x180e+-0x1*0xdc1+0x1*0x25cf:_0x3b169b['set'](_0x4c6300,_0x2325c8,_0x654378,_0x4cb603);break;case 0x7a2+-0x249f+0x1cfe:_0x3b169b['set'](_0x4cb603,_0x2325c8,_0x654378,_0x4c6300);break;case 0xf49*0x1+0x6c6+0x469*-0x5:_0x3b169b['set'](_0x2325c8,_0x4cb603,_0x654378,_0x4c6300);break;case 0xb2d*-0x3+0x14e2+-0x1*-0xca8:_0x3b169b['set'](_0x2325c8,_0x654378,_0x4cb603,_0x4c6300);break;}}if(_0x289cf9){const _0x27e9bb=_0x3115df(_0x23f7ae['mins'][0x1a6d+0x16ef+-0x315c],_0x23f7ae['maxs'][-0x2ec+0x1*-0x448+0x734],_0x34eaf4[_0x77d9fd*(-0x2132*-0x1+-0x160d+-0xb21)+(0x70e+-0x5*0x191+0xc7*0x1)]/(0xd8b*-0x1+0x1ce4+0x16*-0xa7)),_0xe2c6e5=_0x3115df(_0x23f7ae['mins'][0xb*0x35f+-0x2dd+-0x2237],_0x23f7ae['maxs'][-0x1*-0x1a29+0x1*-0x2555+0xb2d*0x1],_0x34eaf4[_0x77d9fd*(0x44*-0x89+0xe2*0x22+0x1*0x664)+(0x1af2+0x2*-0x5b6+0x1d*-0x89)]/(-0x143f+-0x7b+0x15b9)),_0x40e99b=_0x3115df(_0x23f7ae['mins'][-0x139*0xb+-0x99f+-0x1*-0x1714],_0x23f7ae['maxs'][-0x188a+-0x1995+0x3221],_0x34eaf4[_0x77d9fd*(-0xe1d*0x1+0x2ea+0xb37)+(0x1*0x42e+0x1*0x1fee+-0x241a)]/(0x39d+-0x1*-0x214c+0x2*-0x11f5));_0x289cf9['set'](_0x27e9bb,_0xe2c6e5,_0x40e99b);}if(_0x14a048){const _0x2ff8ab=_0x3115df(_0x3495f1['mins'][-0x11a4*0x1+-0x142f+0x25d3],_0x3495f1['maxs'][0x1b0*0x8+-0x2*0x102b+0x12d6],_0x581ee2[_0x77d9fd*(0x32*0x53+0x1ecd*0x1+-0x2eff)+(0x2b*-0x2b+-0xa32+0x116b)]/(0x15e0+0x2062+-0x1f9*0x1b)),_0x32e389=_0x3115df(_0x3495f1['mins'][-0x6b6+-0xeeb+-0x1*-0x15a2],_0x3495f1['maxs'][-0x36*0x31+-0x13f3*0x1+0x1e4a],_0x581ee2[_0x77d9fd*(0x4*-0x17d+0x14+0x5e4)+(0x1258+-0x1337+0xe0)]/(-0x1*0xe9d+-0x12d2+0x153*0x1a)),_0x53d06c=_0x3115df(_0x3495f1['mins'][0x16eb*-0x1+-0xa*-0x319+-0x9*0xe5],_0x3495f1['maxs'][0x731*0x2+-0x11ef*0x1+-0x38f*-0x1],_0x581ee2[_0x77d9fd*(0xfa*-0xe+-0x772+-0xa*-0x21d)+(-0x197e+-0x1c2b+0x35ab)]/(0x143a*-0x1+0x2597+0x105e*-0x1)),_0x27818d=_0x3115df(_0x3495f1['mins'][0x6e9*-0x1+-0xf82+0x166e],_0x3495f1['maxs'][-0x122+0x2*-0x499+0xa57],_0x581ee2[_0x77d9fd*(-0x3*0x37e+0x1*0x2069+-0x15eb)+(-0x1*0xa1f+-0x7ab*-0x2+0x1bc*-0x3)]/(0x235e+-0x2019+-0x246));_0x14a048['set'](0x2*-0x946+0x26b3+-0x1427+0.5+_0x2ff8ab*An,0x19*0x114+-0x3b*0x6d+-0x43*0x7+0.5+_0x32e389*An,-0x1*0x1f9d+0x11*-0x233+0x4500+0.5+_0x53d06c*An,(-0xc19*-0x2+0x2cf*-0xc+0x983)/(-0x25d5+0x25*0xb7+0xb*0x109+Math['exp'](-_0x27818d)));}if(_0x51ad91){const _0x55b89e=_0x25ed80[_0x77d9fd*(-0x18cf+0x5fb+0x12d8*0x1)+(0x2e*0x6+-0x66*-0x2+-0x1e0)]+(_0x25ed80[_0x77d9fd*(-0xdd3+0x7da+0x7*0xdb)+(0x25d1+-0x1*0x10af+0x1521*-0x1)]<<-0x1*0x2577+-0x13f6+0x3975),_0x252a44=_0x55b89e%(0xc8f*0x1+-0x5*0x2bf+0x1c*0xd)*(-0xfb6*-0x1+-0x219+-0xd8e),_0x49d7c1=Math['floor'](_0x55b89e/(-0x149b+-0x305+0x17e*0x10));for(let _0x4bfd54=0x2*0x42b+0x1*0xc89+0x3*-0x6f5;_0x4bfd54<0x2637+0x225d+-0x4891;++_0x4bfd54)for(let _0x18c650=0xc14+-0x702+-0x512;_0x18c650<-0xa*-0x1a2+-0x10bf+0x7a;++_0x18c650)_0x51ad91[_0x4bfd54*(0x1*-0x114e+0x1899+-0x73c)+_0x18c650]=_0x3115df(_0x174c2b['mins'],_0x174c2b['maxs'],_0x26ebf2[(_0x252a44+_0x18c650)*(0x1*-0xfa9+-0x56*-0x4+0x3*0x4c7)+_0x4bfd54+_0x49d7c1*_0x773645['sh_centroi'+'ds']['width']*(-0x1fd6+0x7d*0x47+0x1*-0x2d1)]/(-0x24fc+0x24e4+0x117));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x4aca99,_0x5e3c48,_0x201fbe,_0x4caa49,_0x2a6d25,_0x549eaa,_0x1d0d80,_0x56261b;(_0x4aca99=this['means_l'])==null||_0x4aca99['destroy'](),(_0x5e3c48=this['means_u'])==null||_0x5e3c48['destroy'](),(_0x201fbe=this['quats'])==null||_0x201fbe['destroy'](),(_0x4caa49=this['scales'])==null||_0x4caa49['destroy'](),(_0x2a6d25=this['sh0'])==null||_0x2a6d25['destroy'](),(_0x549eaa=this['sh_centroi'+'ds'])==null||_0x549eaa['destroy'](),(_0x1d0d80=this['sh_labels'])==null||_0x1d0d80['destroy'](),(_0x56261b=this['packedText'+'ure'])==null||_0x56261b['destroy']();}['createIter'](_0x248cb9,_0x3df25a,_0x486991,_0x4b7050,_0x471dad){return new _C(this,_0x248cb9,_0x3df25a,_0x486991,_0x4b7050,_0x471dad);}['calcAabb'](_0x1c81d9){const {mins:_0x55e6d2,maxs:_0x18547f}=this['meta']['means'],_0x2ff000=_0x116265=>Math['sign'](_0x116265)*(Math['exp'](Math['abs'](_0x116265))-(-0x2656+0xf*-0x41+0x2a26));_0x1c81d9['center']['set']((_0x2ff000(_0x55e6d2[-0xbe4+0x1327*0x1+0x8f*-0xd])+_0x2ff000(_0x18547f[-0x2c*-0x37+-0x3a1+0x1f1*-0x3]))*(0x37d+-0x33b+-0x42*0x1+0.5),(_0x2ff000(_0x55e6d2[-0x17d0+0x829+-0x3*-0x538])+_0x2ff000(_0x18547f[0x18c+0x1ed8+-0x2063]))*(0x233+-0x6f4*0x5+0x2091+0.5),(_0x2ff000(_0x55e6d2[0x827+-0x1e*0x136+0xd*0x22b])+_0x2ff000(_0x18547f[-0x25*0x80+0x101a+0x268]))*(-0x69*-0x51+-0x1380+-0xdb9+0.5)),_0x1c81d9['halfExtent'+'s']['set']((_0x2ff000(_0x18547f[0x1597+-0x1a29+0x492])-_0x2ff000(_0x55e6d2[-0x7f9+0x2350+0x1b57*-0x1]))*(-0x8e6+0x20d3+-0x7d*0x31+0.5),(_0x2ff000(_0x18547f[-0x1d8*0x4+0x101a+-0x8b9])-_0x2ff000(_0x55e6d2[-0xa0e+0xf94*0x2+-0x1519]))*(-0xa3e+-0x73*0x34+0x219a+0.5),(_0x2ff000(_0x18547f[0x7f7*-0x1+-0x109e+-0x1*-0x1897])-_0x2ff000(_0x55e6d2[-0x1*0x20ae+0x84c*-0x3+0x3994]))*(0xd94+-0x153+0x1*-0xc41+0.5));}['getCenters'](_0x2f8ae5){const {meta:_0x295f58,means_l:_0x2670bb,means_u:_0x5dd9fd,numSplats:_0x1317da}=this,{means:_0x241e83}=_0x295f58,_0x5b972d=new Uint32Array(_0x5dd9fd['_levels'][0x1acb+-0x76*0x8+0x171b*-0x1]['buffer']),_0x4a1813=new Uint32Array(_0x2670bb['_levels'][0x579+-0x1*-0x18a7+0x4*-0x788]['buffer']),_0x5be498=_0x241e83['mins'][-0xe*-0xe0+-0x499+-0x7a7]/(0x2e7f+-0x1e7b2+-0x2*-0x15c99),_0x59d1dc=_0x241e83['mins'][-0x110+0xbeb*-0x1+0xcfc]/(0x1*0xf99d+-0x1a902+-0x1af64*-0x1),_0x472534=_0x241e83['mins'][-0x16f*0x1b+-0xbe9+0x30*0x10e]/(-0xd74b+-0x5*-0x3d5b+0xa483),_0x399b9f=_0x241e83['maxs'][-0x5*-0xbb+-0xb9b+-0x1*-0x7f4]/(0x3d*0x723+0x1*0x1a821+-0x25b79),_0x12797f=_0x241e83['maxs'][-0x9*0x139+0x10*0xf4+-0x43e]/(0x95*0x160+0x1c7e6+0x86ed*-0x3),_0x535bee=_0x241e83['maxs'][0x76*0x3e+0xad*0x23+-0x1cd*0x1d]/(0x3889*-0x8+-0x5d*0x4cb+0x48206);for(let _0x3d81d7=-0xbd3+0x22a2+-0x16cf;_0x3d81d7<_0x1317da;_0x3d81d7++){const _0x22994a=_0x3d81d7,_0x36ae93=_0x5b972d[_0x22994a],_0x5eba87=_0x4a1813[_0x22994a],_0x5bdd86=_0x36ae93<<-0x1656+-0x16b5*0x1+0x2d13&-0x16*-0x16b7+-0x189b8*-0x1+0x47*-0x8fe|_0x5eba87&0xd*0x61+-0x2*-0xf88+0x2*-0x117f,_0x46e793=_0x36ae93&-0x1*-0x18fe+-0x1e8ec+-0x16777*-0x2|_0x5eba87>>>-0x33b*-0x1+-0x49d*-0x2+0x1*-0xc6d&-0xd5c+-0x1c5*0x4+0x156f,_0x51bcce=_0x36ae93>>>0xf79*-0x1+-0x19ce+0x2d*0xeb&0xb3ea*0x1+0x4553*-0x7+0x10fb*0x21|_0x5eba87>>>-0x1*-0x166d+-0x184c+0x1ef&-0x19*-0x7c+-0x5fe+-0x51f,_0x5e707c=_0x5be498*(0x1d04+0x5149*-0x1+0x13444-_0x5bdd86)+_0x399b9f*_0x5bdd86,_0x3d4abf=_0x59d1dc*(-0x1a*-0x7+0x13cc9+-0x3d80-_0x46e793)+_0x12797f*_0x46e793,_0x15eaf5=_0x472534*(-0x13a37*-0x1+0x18bdd+-0x1c615-_0x51bcce)+_0x535bee*_0x51bcce,_0x52b584=_0x5e707c<0x1799+-0x16fa+-0x1*0x9f?-_0x5e707c:_0x5e707c,_0x25d9f3=_0x3d4abf<-0x1049+0x1e10+-0xdc7?-_0x3d4abf:_0x3d4abf,_0x2abe21=_0x15eaf5<-0x96e*0x2+-0x2553+0x382f?-_0x15eaf5:_0x15eaf5;_0x2f8ae5[_0x3d81d7*(-0x2*0x610+0x2*-0x38b+0x1339)]=(_0x5e707c<-0x20*-0xa8+-0x1315*-0x1+-0x14b*0x1f?-(0x1722+-0x1c2b*0x1+0x50a):0x2326*0x1+-0x2345+0x10*0x2)*(Math['exp'](_0x52b584)-(-0x1*-0x125d+0xa46+-0x1ca2)),_0x2f8ae5[_0x3d81d7*(0x2*0x6b+-0x43*0x16+-0x4ef*-0x1)+(-0x26e7+0x841+0x1ea7)]=(_0x3d4abf<0x192c+-0x2*0xfa8+0x624?-(-0x52*-0x23+0x9ca*-0x3+-0x1229*-0x1):0x2004+-0xa04+-0x15ff)*(Math['exp'](_0x25d9f3)-(-0x1871+-0x1*0x1a45+0x32b7)),_0x2f8ae5[_0x3d81d7*(-0x164e*-0x1+0x2c4+-0x190f)+(0x1*-0x12b2+0x233*-0x3+-0x33*-0x7f)]=(_0x15eaf5<0xb1a+0x783*-0x3+0xb6f*0x1?-(-0x125*-0x11+-0x1e3+-0x1*0x1191):0x3d*-0x5b+-0x2099+0x3649)*(Math['exp'](_0x2abe21)-(0x5*0x5da+-0x2*-0x1255+-0x41eb));}}['calcFocalP'+'oint'](_0x240c5e,_0x4788e9){_0x240c5e['set'](-0xb03+0xdbf+0x2bc*-0x1,-0x226d+0x1925+-0xc*-0xc6,-0x12*-0x12+0x1*0x214f+-0x1*0x2293);}get['isSogs'](){return!(0xda8*-0x2+0xe3a+0xd16);}get['shBands'](){var _0x5ab17e;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x5ab17e=this['sh_centroi'+'ds'])==null?void(-0x1e4c+0x268a+-0x83e):_0x5ab17e['width']]??0x14f*0xf+-0x1afc+-0x10d*-0x7;}async['decompress'](){const _0x561f49=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x21f1ca}=this,{means_l:_0x1a2a11,means_u:_0x1d4c0e,quats:_0x29b1e2,scales:_0x3d80a7,sh0:_0x48d0d3,sh_labels:_0x56f543,sh_centroids:_0x26f2f0}=this;if(_0x1a2a11['_levels'][0x204b+-0xc86+0x15*-0xf1]=await Ci(_0x1a2a11),_0x1d4c0e['_levels'][0x1c*0x113+0x2*0x4cf+-0x27b2]=await Ci(_0x1d4c0e),_0x29b1e2['_levels'][0x149a+0x21a9*0x1+-0x3643]=await Ci(_0x29b1e2),_0x3d80a7['_levels'][-0x86*-0xa+-0x1007+0xacb]=await Ci(_0x3d80a7),_0x48d0d3['_levels'][-0x98f+0x1616+-0xc87]=await Ci(_0x48d0d3),_0x21f1ca>0xa28+0x760*0x2+-0x63a*0x4){_0x56f543['_levels'][-0xa2+0x614+-0x572]=await Ci(_0x56f543),_0x26f2f0['_levels'][-0x22c1+0x869*0x1+-0x3*-0x8c8]=await Ci(_0x26f2f0);const _0x58d27c=[];for(let _0x3efa48=-0x1*-0x1a60+0x5*-0x464+-0x46c;_0x3efa48<-0x21aa+0x67f*-0x6+-0x7*-0xa67;++_0x3efa48)_0x58d27c['push']('f_rest_'+_0x3efa48);_0x561f49['splice'](_0x561f49['indexOf']('f_dc_0')+(0x1ba7+0x937*-0x1+-0x625*0x3),0x242f+0x1*-0x2703+0x2d4,..._0x58d27c);}const _0x4558e9={};_0x561f49['forEach'](_0x25e577=>{_0x4558e9[_0x25e577]=new Float32Array(this['numSplats']);});const _0x4b4b43=new D(),_0x38774d=new le(),_0x16361f=new D(),_0x44d99d=new re(),_0x1e0b86=_0x21f1ca>0x2580+0x87*-0x4+-0x5*0x714?new Float32Array(-0x3*-0x90d+0xc70+-0x1*0x276a):null,_0x5d2c1d=this['createIter'](_0x4b4b43,_0x38774d,_0x16361f,_0x44d99d,_0x1e0b86);for(let _0xffaf5a=0x24bd+0x9d2+-0x2e8f;_0xffaf5a<this['numSplats'];++_0xffaf5a)if(_0x5d2c1d['read'](_0xffaf5a),_0x4558e9['x'][_0xffaf5a]=_0x4b4b43['x'],_0x4558e9['y'][_0xffaf5a]=_0x4b4b43['y'],_0x4558e9['z'][_0xffaf5a]=_0x4b4b43['z'],_0x4558e9['rot_1'][_0xffaf5a]=_0x38774d['x'],_0x4558e9['rot_2'][_0xffaf5a]=_0x38774d['y'],_0x4558e9['rot_3'][_0xffaf5a]=_0x38774d['z'],_0x4558e9['rot_0'][_0xffaf5a]=_0x38774d['w'],_0x4558e9['scale_0'][_0xffaf5a]=_0x16361f['x'],_0x4558e9['scale_1'][_0xffaf5a]=_0x16361f['y'],_0x4558e9['scale_2'][_0xffaf5a]=_0x16361f['z'],_0x4558e9['f_dc_0'][_0xffaf5a]=(_0x44d99d['x']-(0xb73+0xf91+-0x1b04+0.5))/An,_0x4558e9['f_dc_1'][_0xffaf5a]=(_0x44d99d['y']-(-0x20e7*-0x1+0x1*-0x1151+-0xf96+0.5))/An,_0x4558e9['f_dc_2'][_0xffaf5a]=(_0x44d99d['z']-(0x1f1a+-0x1e31*0x1+-0xe9+0.5))/An,_0x4558e9['opacity'][_0xffaf5a]=_0x44d99d['w']<=0x3bb*-0x6+0x2*-0x11a9+0x39b4?-(-0x1fed+0x1ac6+0x3*0x1c5):_0x44d99d['w']>=0x1eb2+-0x11c+0x1*-0x1d95?-0x18c2+0xdde+0xb0c:-Math['log']((-0xeaa+0x11a9+-0x2fe)/_0x44d99d['w']-(-0x9a+0x1*-0xd01+-0x4*-0x367)),_0x1e0b86){for(let _0x38ebab=0x315*0x3+0x92*-0x7+0x541*-0x1;_0x38ebab<0x1*0x8fd+0x19ed+0x1*-0x22bd;++_0x38ebab)_0x4558e9['f_rest_'+_0x38ebab][_0xffaf5a]=_0x1e0b86[_0x38ebab];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x561f49['map'](_0x37367f=>({'name':_0x37367f,'type':'float','byteSize':0x4,'storage':_0x4558e9[_0x37367f]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x3dabcb,means_u:_0x14c0fb,quats:_0x124448,scales:_0x257af6,sh_labels:_0x310118,numSplats:_0x5306de}=this,{device:_0x48effd}=_0x3dabcb,{scope:_0xf7d74e}=_0x48effd,_0x461ac6=$t['createShad'+'er'](_0x48effd,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x5bb6fd=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x188c+-0xa38+0x22c5),'mipLevel':0x0});_0x48effd['setCullMod'+'e'](bt),_0x48effd['setBlendSt'+'ate'](pt['NOBLEND']),_0x48effd['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0xf7d74e,{'means_l':_0x3dabcb,'means_u':_0x14c0fb,'quats':_0x124448,'scales':_0x257af6,'sh_labels':_0x310118??_0x3dabcb,'numSplats':_0x5306de}),Ar(_0x48effd,_0x5bb6fd,_0x461ac6),_0x5bb6fd['destroy'](),_0x461ac6['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x20b1f1,height:_0x48fb07,width:_0x3dd0ac}=this['means_l'];this['means_l']['_levels'][-0x6*0x422+0x69d*0x1+0x122f]=await Ci(this['means_l']),this['means_u']['_levels'][-0x1*0xe71+-0x1*-0x17b0+-0x93f]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x20b1f1,{'name':'sogsPacked'+'Texture','width':_0x3dd0ac,'height':_0x48fb07,'format':Ue,'mipmaps':!(-0x807+0x15e6+-0xdde)}),_0x20b1f1['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x5e1ecd=null,_0x165579=null,_0x91329b=null,_0x258c9b=null,_0x4a212b=null,_0x43030d=null,_0x28a2d1=null,_0x368a1f=null,_0x109c69=null,_0x486471=null,_0x47f402=null,_0x463363=null,_0x39538=null,_0xe40a0=null,_0x29b0f2=null,_0x342729=null,_0x2c47f6=null,_0x549898=null,_0x1faa79=null,_0x540f15=null,_0x59129e=null,_0x48f021=null,_0x5f1d92=null,_0x1113e8=null,_0x56a1bd=Float32Array['BYTES_PER_'+'ELEMENT'],_0x57e1fb=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x45e94b=-0x949*-0x2+-0x511+-0xd81,_0x413a37=!(0x13ab+-0x9ab*0x1+0x14*-0x80),_0x117e6d,_0x24469a,_0x1ac24d={'x':0x0,'y':0x0,'z':0x0},_0x3c2282={'x':0x0,'y':0x0,'z':0x0},_0x77b9f5=!(0x99f+0x1738+-0x20d7*0x1),_0x545567=!(0x1c9*-0x2+0x1f*0x59+0xcd*-0x9),_0x4366a6=!(0x1*0x1d5b+-0xe49+-0xf11),_0x31751d=!(0x5fb+-0x2d*-0x6d+-0x1923),_0x4f5799=0x1*0x1a89+-0x13b8+-0x1*0x6d1,_0x4236ea=-0x955*-0x1+-0x75b+0x1fa*-0x1,_0xcb34f5=!(-0x7b8*0x1+-0x4*0x5ec+0x1f69),_0x18186e=null,_0xf62a7b=!(-0xc*-0x13c+0x19*-0x19+-0x2*0x62f),_0x229113=-0x1639+0x547*-0x1+0x1*0x1b80,_0x43c9af=-0x1b0+-0x1a52+-0x3*-0x956,_0xe9d86e={'x':0x0,'y':0x0,'z':0x0},_0x16ca1e={'x':0x0,'y':0x0,'z':0x0},_0xc8792d,_0x25c9ab;self['onmessage']=async _0x1b9ce7=>{const {data:_0x4c705d}=_0x1b9ce7;switch(_0x4c705d['type']){case'initWorker':await _0x355cc2(_0x4c705d['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x45e94b=_0x4c705d['centers']['length']/(-0x7*-0x4d0+-0x570+-0x1c3d),_0x45e94b<=0xe*-0xc9+0x1f93+0x1df*-0xb||!_0x165579)return;_0x43dea5(),_0x413a37=_0x4c705d['is4d'],_0xc8792d=_0x4c705d['id'];const _0xc79cce=_0x39aeb6(_0x45e94b);if(_0x43a3e2(_0xc79cce),_0x91329b[-0xd7*0x25+-0xc*-0x112+-0x1*-0x123b]=_0xe9d86e['x'],_0x91329b[0x1*-0x78b+0x16*-0x2f+0x2*0x5cb]=_0xe9d86e['y'],_0x91329b[-0x616+0x38*-0xaa+0x2*0x15a4]=_0xe9d86e['z'],_0x258c9b[0x3*0x322+-0x144e+0xae8]=_0x16ca1e['x'],_0x258c9b[-0x1*-0x13fe+-0x70*-0x3e+0x2f1d*-0x1]=_0x16ca1e['y'],_0x258c9b[-0x24e4+0x47b*0x1+0x206b]=_0x16ca1e['z'],_0x43030d&&_0x4c705d['centers']&&_0x43030d['length']===_0x4c705d['centers']['length']){const _0x419326=new Float32Array(_0x4c705d['centers']);_0x43030d['set'](_0x419326);}if(_0x368a1f&&_0x4c705d['timeIndex']&&_0x368a1f['length']===_0x4c705d['timeIndex']['length']){const _0x48acab=new Uint32Array(_0x4c705d['timeIndex']);_0x368a1f['set'](_0x48acab);}if(_0x47f402&&_0x4c705d['motion']&&_0x47f402['length']===_0x4c705d['motion']['length']){const _0x12da6b=new Float32Array(_0x4c705d['motion']);_0x47f402['set'](_0x12da6b);}if(_0x413a37&&_0x109c69&&_0x486471&&_0x4c705d['muT']&&_0x4c705d['tScale']&&_0x109c69['length']===_0x4c705d['muT']['length']&&_0x486471['length']===_0x4c705d['tScale']['length']&&(_0x109c69['set'](_0x4c705d['muT']),_0x486471['set'](_0x4c705d['tScale'])),_0x28a2d1){for(let _0x43e407=-0x2*0x480+-0xb2+0x49*0x22;_0x43e407<_0x28a2d1['length'];++_0x43e407)_0x28a2d1[_0x43e407]=_0x43e407;}_0x4a212b&&_0x4c705d['timeOption']&&_0x4a212b['set'](_0x4c705d['timeOption']),_0x3d1359(),_0xf62a7b=!(0x4d*-0x3e+-0x13c6+0x1336*0x2),_0x4366a6=!(0xb*-0x1bb+-0x675+0x197e),_0x38a80f();break;case'setTime':_0x117e6d=_0x4c705d['time'],_0x38a80f();break;case'setUseTemp'+'oralSort':_0x77b9f5=_0x4c705d['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x545567=_0x4c705d['useDynamic'+'Sort'];break;case'sort':if(!_0x91329b)return;_0x91329b[-0x1667+0x9e*-0x3d+0x3c0d*0x1]=_0x4c705d['cameraPosi'+'tion']['x'],_0x91329b[0x245f+-0x1c0+0x4f2*-0x7]=_0x4c705d['cameraPosi'+'tion']['y'],_0x91329b[-0x22e1+0x14b4+0xe2f]=_0x4c705d['cameraPosi'+'tion']['z'],_0x258c9b[0x1*0x144b+-0x1*0x234f+0x7c*0x1f]=_0x4c705d['cameraDire'+'ction']['x'],_0x258c9b[0x11f4+0x2*0xc74+-0x2adb]=_0x4c705d['cameraDire'+'ction']['y'],_0x258c9b[0xe07+0xbf9+-0x1*0x19fe]=_0x4c705d['cameraDire'+'ction']['z'],_0xe9d86e['x']=_0x4c705d['cameraPosi'+'tion']['x'],_0xe9d86e['y']=_0x4c705d['cameraPosi'+'tion']['y'],_0xe9d86e['z']=_0x4c705d['cameraPosi'+'tion']['z'],_0x16ca1e['x']=_0x4c705d['cameraDire'+'ction']['x'],_0x16ca1e['y']=_0x4c705d['cameraDire'+'ction']['y'],_0x16ca1e['z']=_0x4c705d['cameraDire'+'ction']['z'],_0x38a80f();break;}};const _0x43dea5=()=>{_0x4236ea=Math['max'](-0x19*-0x17b+0x1d0b+-0x4204,Math['min'](-0x1c6*-0x11+0x80c+-0x261e,Math['round'](Math['log2'](_0x45e94b/(0x1f7f+-0x1aef+-0x184*0x3))))),_0x4f5799=(0x1780+-0x1*0x2697+0xf19)**_0x4236ea+(-0x1334+0x1d*0xc5+-0x31c);},_0x43a3e2=_0x40966c=>{_0x463363=0x14df*-0x1+-0x2b*0xc2+0x1*0x3575,_0x39538=_0x463363+_0x45e94b*_0x56a1bd*(0x10cb+0x332+-0x2*0x9fd),_0x549898=_0x39538+(-0xfac+-0xf8*0x5+0x14e8)*_0x56a1bd*(0x6e5+-0x26e1+0x1ffe),_0x1faa79=_0x549898+_0x45e94b*_0x57e1fb,_0x540f15=_0x1faa79+(-0x2621+-0x24e+0x2872)*_0x56a1bd,_0x59129e=_0x540f15+(0x432*-0x1+0x1677*-0x1+0x1aac)*_0x56a1bd,_0x48f021=_0x59129e+(0x1d5+0x15*0x18a+-0x2224)*_0x56a1bd,_0x5f1d92=_0x48f021+(-0x9be*0x1+-0x171b+0x20dc)*_0x56a1bd,_0x1113e8=_0x5f1d92+_0x45e94b*_0x57e1fb,_0x43030d=new Float32Array(_0x40966c,_0x463363,_0x45e94b*(0x89*-0x27+-0x2654+-0x35*-0x11e)),_0x4a212b=new Float32Array(_0x40966c,_0x39538,0x2c8+-0x2*0x54d+0x44d*0x2),_0x28a2d1=new Uint32Array(_0x40966c,_0x549898,_0x45e94b),_0x91329b=new Float32Array(_0x40966c,_0x1faa79,0x269b+0x202f+-0x46c7),_0x258c9b=new Float32Array(_0x40966c,_0x540f15,0x125*-0x1b+0x86f*0x3+0x59d),_0x413a37&&(_0x342729=_0x1113e8+_0x4f5799*_0x57e1fb,_0x2c47f6=_0x342729+_0x45e94b*_0x56a1bd,_0x29b0f2=_0x2c47f6+_0x45e94b*_0x56a1bd,_0xe40a0=_0x29b0f2+_0x45e94b*(-0x6ab+-0x3*0xc86+-0x1*-0x2c40)*_0x56a1bd,_0x109c69=new Float32Array(_0x40966c,_0x342729,_0x45e94b),_0x486471=new Float32Array(_0x40966c,_0x2c47f6,_0x45e94b),_0x47f402=new Float32Array(_0x40966c,_0x29b0f2,_0x45e94b*(-0x1497+-0x1*0x2129+0x1*0x35c3)),_0x368a1f=new Uint32Array(_0x40966c,_0xe40a0,_0x45e94b));},_0x355cc2=async _0x4b2beb=>{_0x229113=-0x11*0x10+-0x3*0x6f7+-0x15f6*-0x1;const _0x245ec5={'env':{'memory':new WebAssembly['Memory']({'initial':_0x229113}),'pthread_self':function(){return-0x196e+-0x224e+0x3bbc;},'emscripten_builtin_memalign':function(){return 0x225+0x1c6a*-0x1+0x1a45;},'loggerVec3':(_0x416eb1,_0x5dbdc3,_0x4429a9,_0x312aac)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x416eb1+']\x200:'+_0x5dbdc3+'\x201:'+_0x4429a9+'\x202:'+_0x312aac);},'loggerFloat':(_0x3996bd,_0xfbf77c)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x3996bd+']\x20a:'+_0xfbf77c);},'loggerValue':(_0x428dca,_0x1faf20,_0x281877,_0x4fdc19,_0x9342d0)=>{console['log']('C++\x20logger'+'Value\x20['+_0x428dca+']\x20minDist:'+_0x1faf20+'\x20maxDist:'+_0x281877+'\x20range:'+_0x4fdc19+'\x20divider:'+_0x9342d0);},'loggerCamera':(_0x184c77,_0x556476,_0x3ae15a,_0x27d5f8,_0x133b27,_0x5012b0,_0x5727a8)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x184c77+']\x20x:'+_0x556476+'\x20y:'+_0x3ae15a+'\x20z:'+_0x27d5f8+'\x20dx:'+_0x133b27+'\x20dy:'+_0x5012b0+'\x20dz:'+_0x5727a8);},'loggerBound':(_0x45e03d,_0x76ec9b,_0x49f562,_0x391ac6,_0x50b798,_0x5a1b25)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x45e03d+'\x20minY:'+_0x76ec9b+'\x20minZ:'+_0x49f562+'\x20maxX:'+_0x391ac6+'\x20maxY:'+_0x50b798+'\x20maxZ:'+_0x5a1b25);},'loggerDebug':_0x9985c2=>{console['log']('C++\x20logger'+'Debug\x20['+_0x9985c2+']');}}};try{const _0x32f9b1=await(await fetch(_0x4b2beb))['arrayBuffe'+'r']();return _0x5e1ecd=(await WebAssembly['instantiat'+'e'](_0x32f9b1,_0x245ec5))['instance'],_0x165579=_0x245ec5['env']['memory'],_0x5e1ecd;}catch(_0x70d953){throw console['error']('WASM'+':',_0x70d953),_0x70d953;}},_0x7a7075=_0x3611ba=>{if(_0x3611ba<=-0x1a*-0x32+-0xebd+0x9a9)return 0xbc7+0x266d+-0x47*0xb5;let _0x2d577a=_0x3611ba*_0x56a1bd*(-0x15db+0x24b+0x1393);_0x2d577a+=_0x3611ba*_0x57e1fb,_0x2d577a+=(-0x172d*0x1+0x1c9a+-0x16*0x3f)*_0x56a1bd,_0x2d577a+=(-0x6*0x517+-0x2122*-0x1+-0x295)*_0x56a1bd,_0x2d577a+=(0x1197+-0x1da5+-0xc11*-0x1)*_0x56a1bd,_0x2d577a+=(-0x58*-0x44+-0x1*0x622+-0x191*0xb)*_0x56a1bd,_0x2d577a+=_0x3611ba*_0x56a1bd,_0x2d577a+=_0x4f5799*_0x57e1fb,_0x2d577a+=(0xa1c*-0x2+0x852*0x1+0x1*0xc4a)*_0x56a1bd*(0x1a8b+-0x887+0x1*-0x1202),_0x2d577a+=_0x3611ba*_0x57e1fb,_0x413a37&&(_0x2d577a+=_0x3611ba*_0x56a1bd,_0x2d577a+=_0x3611ba*_0x56a1bd,_0x2d577a+=_0x3611ba*_0x56a1bd*(-0xe5d+0x26b3*-0x1+0x3*0x11b1));const _0x2b8fa2=(0x10*0xf4+0x2188+-0x3088)*(-0x260e+-0x9*-0x191+0x1bf5);return Math['ceil'](_0x2d577a/_0x2b8fa2);},_0x39aeb6=_0x34831b=>{const _0x23d757=_0x7a7075(_0x34831b);return _0x23d757>_0x229113?(_0x165579['grow'](_0x23d757-_0x229113),_0x229113=_0x23d757):_0x165579['grow'](-0x29*-0x29+0x23b*-0x8+0xb47),_0x165579['buffer'];},_0x3d1359=()=>{if(!_0x5e1ecd)return;const {calcAABB:_0x2325d6}=_0x5e1ecd['exports'];_0x2325d6(_0x463363,_0x59129e,_0x48f021,_0x45e94b);},_0x38a80f=()=>{_0x18186e&&clearTimeout(_0x18186e),_0x18186e=setTimeout(()=>{_0x18186e=null,_0x5de38d();},0x15b9+-0x47*-0x3d+0x1352*-0x2);},_0x5de38d=()=>{if(!_0x5e1ecd||!_0xf62a7b||_0x28a2d1['length']!==_0x45e94b||_0x549898===null||_0x463363===null||_0x1faa79===null||_0x540f15===null||_0x59129e===null||_0x48f021===null)return;const _0x32c7dc=_0x91329b[0x1bff+0x1*0x759+-0x179*0x18],_0xbb570c=_0x91329b[-0x13d0+-0x17b*-0x13+0xe*-0x98],_0x96bffb=_0x91329b[-0x8*0x52+-0xd5f+0xff1],_0x1db4d5=_0x258c9b[-0x2*0xe98+0x1c99*0x1+0x97],_0x32ca83=_0x258c9b[-0x3*0xba7+-0xea7+0x319d],_0xffc0e5=_0x258c9b[0x19c0+0x2*-0xa2d+0x17*-0x3c],_0x14d4b1=-0x938+0x1673+0x469*-0x3+0.001;if(!_0x4366a6&&Math['abs'](_0x32c7dc-_0x1ac24d['x'])<_0x14d4b1&&Math['abs'](_0xbb570c-_0x1ac24d['y'])<_0x14d4b1&&Math['abs'](_0x96bffb-_0x1ac24d['z'])<_0x14d4b1&&Math['abs'](_0x1db4d5-_0x3c2282['x'])<_0x14d4b1&&Math['abs'](_0x32ca83-_0x3c2282['y'])<_0x14d4b1&&Math['abs'](_0xffc0e5-_0x3c2282['z'])<_0x14d4b1&&Math['abs'](_0x117e6d-_0x24469a)<-0x26c8+-0x2d5*-0x9+0x1*0xd4b+0.01)return;if(_0x31751d){_0xcb34f5=!(0x20df+0x7*-0x4ff+0x21a);return;}_0x31751d=!(-0x132a*-0x2+0x547+0xb7*-0x3d),_0x4366a6=!(-0xc3c+0x254d*-0x1+0x318a),_0x24469a=_0x117e6d,_0x1ac24d['x']=_0x32c7dc,_0x1ac24d['y']=_0xbb570c,_0x1ac24d['z']=_0x96bffb,_0x3c2282['x']=_0x1db4d5,_0x3c2282['y']=_0x32ca83,_0x3c2282['z']=_0xffc0e5,_0xcb34f5=!(-0x259e+-0x1556+0x3af5);const {sortIndexes:_0x2d9bc6}=_0x5e1ecd['exports'];try{const _0x3639f5=_0x2d9bc6(_0x549898,_0x463363,_0x29b0f2,_0x342729,_0x2c47f6,_0x1faa79,_0x540f15,_0x59129e,_0x48f021,_0x5f1d92,_0x1113e8,_0x117e6d||-0x13ce+0x1ac4+-0x6f6,_0x77b9f5,_0x545567,_0x413a37,_0x45e94b,_0x4f5799,_0x4236ea,_0x39538,_0xe40a0),_0x366624=new Uint32Array(_0x28a2d1);if(_0x3639f5===0x23e3*-0x1+-0x761*0x2+-0x5*-0xa21){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x3639f5);}const _0x10d3cf=_0x45e94b!==_0x43c9af||_0x25c9ab!==_0xc8792d;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x3639f5,'order':_0x366624,'isNewOrder':_0x10d3cf},[_0x366624['buffer']]),_0x43c9af=_0x45e94b,_0x25c9ab=_0xc8792d;}catch(_0x3b9593){console['error'](':',_0x3b9593),self['postMessag'+'e']({'type':'error','error':_0x3b9593['message']});}_0x31751d=!(0x18b9*0x1+0x9*0x337+-0x14f*0x29),_0xcb34f5&&_0x38a80f();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x47*-0xb+-0x19d+-0x170),h(this,'is4d',!(0x1333+-0x38*0x2b+-0x9cb)),h(this,'sortStartT'+'ime',0x14c*0x10+0x23f1+0x17*-0x277),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x444087=>{var _0x22a641;if(!this['worker'])return;const {data:_0x32c103}=_0x444087;switch(_0x32c103['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x32c103['order']&&(_0x32c103['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x22a641=this['orderTextu'+'re'])==null||_0x22a641['write'](0x1*0x1235+0x255d+0x6*-0x943,0x1ec7+-0xfa5*-0x1+-0x2e6c,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x1ab4+0x190d+-0x19e*0x20),_0x32c103['order']));let _0x14532f=-0x1024+0x1526+-0x502*0x1;this['sortStartT'+'ime']!==-0x1783+-0x1083+-0x1*-0x2806&&(_0x14532f=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x444087['data']['count'],_0x14532f,_0x32c103['isNewOrder']),this['sortStartT'+'ime']=0x91*0x22+0x3d1*0x8+-0x18e5*0x2;break;case'error':console['error']('Worker:',_0x32c103['error']),this['fire']('error',_0x32c103['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x4748ee,_0x174e92,_0x690de8,_0x1e3e66,_0x386608,_0x5ebc34,_0x2d88ba,_0x491a73){var _0x2ea18e;this['is4d']=_0x491a73,this['numSplats']=_0x174e92['length']/(-0xa9*-0x35+0x2417+-0x4711),(!_0x2d88ba||_0x2d88ba['length']===0x1932+0x2*-0x1105+0x8d8)&&(_0x2d88ba=[-0x252c+0x3cd+0x215f,-0x50+0x24be+-0x2432]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x4748ee),this['backOrderT'+'exture']=_0x4748ee;const _0x43c485=new Date()['getTime']();(_0x2ea18e=this['worker'])==null||_0x2ea18e['postMessag'+'e']({'type':'initData','centers':_0x174e92,'muT':_0x690de8,'tScale':_0x1e3e66,'motion':_0x386608,'timeIndex':_0x5ebc34,'timeOption':_0x2d88ba,'is4d':_0x491a73,'id':_0x43c485});}['setCamera'](_0x57dc20,_0x29d3ca){this['worker']&&(!_0x57dc20||!_0x29d3ca||(this['data']['cameraPosi'+'tion']={'x':_0x57dc20['x'],'y':_0x57dc20['y'],'z':_0x57dc20['z']},this['data']['cameraDire'+'ction']={'x':_0x29d3ca['x'],'y':_0x29d3ca['y'],'z':_0x29d3ca['z']},this['sortStartT'+'ime']===-0xf2c+0x6*-0x33b+0x228e&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x57dc20['x'],'y':_0x57dc20['y'],'z':_0x57dc20['z']},'cameraDirection':{'x':_0x29d3ca['x'],'y':_0x29d3ca['y'],'z':_0x29d3ca['z']}})));}['setCurrent'+'Time'](_0x1c754d){this['worker']&&(this['data']['time']=_0x1c754d,this['sortStartT'+'ime']===0x1eef+-0x12*0x1b7+-0x11*0x1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x1c754d}));}['setUseTemp'+'oralSort'](_0x26d3b0){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x26d3b0});}['setUseDyna'+'micSort'](_0x47ae6d){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x47ae6d});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x247c+0x1*0x1b41+-0x7*0x91b,0x1*-0x1079+-0x6a6+0x171f];class xC{constructor(_0xdada74,_0x1b5f04={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x24f8+-0x1596+0x16*-0xb3),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x1e1865,_0x472413=void(-0x1*0x2287+-0x2526+0x47ad))=>{(_0x472413||_0x472413===0x2118+-0x54c*-0x3+0xe4*-0x37)&&(this['material']['setParamet'+'er']('uTime',_0x472413),this['updateTime'](_0x472413)),this['sort'](_0x1e1865);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0xdada74['numSplats']),this['resource']=_0xdada74,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x1b5f04['material']?(this['_material']=_0x1b5f04['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x3*0x6b9+0x1*-0xb23+-0x4*0x242)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x264b+0x26fc+-0x4d47,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x5c8244,_0x255c1e,_0x1ffed3,_0x5b8b1f,_0x1d99a6,_0x1eae50,_0x587b65,_0x14c523,_0x57d898,_0x5e1c83,_0x140a3f;const _0x405386=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0xa5ffd1=new Float32Array(((_0x255c1e=(_0x5c8244=this['resource']['muT'])==null?void(0x24a*-0x2+-0x1*-0x586+0x2*-0x79):_0x5c8244['buffer'])==null?void(0x216+-0xf*-0x267+0x261f*-0x1):_0x255c1e['slice']())??new Float32Array()),_0x483cc6=new Float32Array(((_0x5b8b1f=(_0x1ffed3=this['resource']['tScale'])==null?void(-0x1*-0xee8+-0x1*0xd85+-0x163):_0x1ffed3['buffer'])==null?void(-0x8da+-0x271+-0x19d*-0x7):_0x5b8b1f['slice']())??new Float32Array()),_0x122652=new Float32Array(((_0x1eae50=(_0x1d99a6=this['resource']['motion'])==null?void(0x123a*0x1+-0x1fa9*0x1+0xd6f):_0x1d99a6['buffer'])==null?void(-0x19*0xb3+0x71*-0x41+0x2e2c):_0x1eae50['slice']())??new Float32Array()),_0x64f0e4=new Float32Array(((_0x14c523=(_0x587b65=this['resource']['timeIndex'])==null?void(-0x1e7*0x13+0xc24+0x1801):_0x587b65['buffer'])==null?void(-0x188*-0x11+-0x25*-0x3b+-0x228f):_0x14c523['slice']())??new Float32Array(0x1fa*0xe+-0x181b+0xb*-0x53)),_0x5ac448=new Float32Array(((_0x5e1c83=(_0x57d898=this['resource']['timeOption'])==null?void(0xf13+0x1*0x16cd+-0x25e0):_0x57d898['buffer'])==null?void(-0x7*0x449+-0xc0a+-0x3*-0xe03):_0x5e1c83['slice']())??new Float32Array());(_0x140a3f=this['sorter'])==null||_0x140a3f['initData'](this['orderTextu'+'re'],_0x405386,_0xa5ffd1,_0x483cc6,_0x122652,_0x64f0e4,_0x5ac448,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x1d8b76,_0x1de264,_0xa1a4ba)=>{var _0x43d8ae;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x1d8b76/this['resource']['instanceSi'+'ze']),_0xa1a4ba&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0xa1a4ba&&((_0x43d8ae=this['resource'])==null||_0x43d8ae['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x1d8b76);}),this['setHighQua'+'litySH'](_0x1b5f04['highQualit'+'ySH']??!(0x4*0x231+-0x2151+-0x1c1*-0xe)));}async['updateInst'+'anceData'](_0x31cdd0){var _0x2a393b,_0x234396;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x31cdd0['numSplats']),this['resource']=_0x31cdd0;const _0x479931=this['resource']['evalTextur'+'eSize'](_0x31cdd0['centers']['length']/(0x14ac+0x8*0x4cb+-0x3b01));return(_0x2a393b=this['backOrderT'+'exture'])==null||_0x2a393b['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x479931),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x1*0xbd4+-0x8a2+-0x199*0x2)),(_0x234396=this['sorter'])==null||_0x234396['initData'](this['backOrderT'+'exture'],_0x31cdd0['centers'],_0x31cdd0['muT'],_0x31cdd0['tScale'],_0x31cdd0['motion'],_0x31cdd0['timeIndex'],_0x31cdd0['timeOption'],_0x31cdd0['is4D']),new Promise(_0x1ec6ad=>{var _0x324f62;const _0x27635b=(_0x1ad161,_0x2a518a,_0x511f1)=>{var _0x3d0f4b;_0x511f1&&((_0x3d0f4b=this['sorter'])==null||_0x3d0f4b['off']('updated',_0x27635b),_0x1ec6ad(!(-0x620+-0x5*-0x4a7+-0x1123)));};(_0x324f62=this['sorter'])==null||_0x324f62['on']('updated',_0x27635b);});}['destroy'](){var _0x4245b5,_0x53de2b,_0xee5d48,_0x5f2a86,_0x1018e0,_0x469045;(_0x4245b5=this['resolveSH'])==null||_0x4245b5['destroy'](),(_0x53de2b=this['material'])==null||_0x53de2b['destroy'](),(_0xee5d48=this['meshInstan'+'ce'])==null||_0xee5d48['destroy'](),(_0x5f2a86=this['sorter'])==null||_0x5f2a86['destroy'](),(_0x1018e0=this['orderTextu'+'re'])==null||_0x1018e0['destroy'](),(_0x469045=this['backOrderT'+'exture'])==null||_0x469045['destroy']();}set['material'](_0x3f1530){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x3f1530&&(this['_material']=_0x3f1530,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3f1530));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x3698fb,_0x3411fa={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x3698fb),_0x3698fb['setParamet'+'er']('numSplats',0x11f+0x2e7*-0x6+-0x104b*-0x1),_0x3698fb['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x3698fb['setParamet'+'er']('alphaClip',0xbf5+-0x1*0x9dc+-0x219+0.3),_0x3698fb['setDefine']('DITHER_'+(_0x3411fa['dither']?'BLUENOISE':'NONE'),''),_0x3698fb['cull']=bt,_0x3698fb['blendType']=_0x3411fa['dither']?Cs:Zs,_0x3698fb['depthWrite']=!!_0x3411fa['dither'];}['updateView'+'port'](_0x55f716){var _0x8411b2;const _0x50830e=_0x55f716==null?void(-0xce0+-0x74b+0x142b):_0x55f716['camera'],_0x62ce02=_0x50830e==null?void(-0x1*-0x15c5+0x8cb*0x3+-0x3026):_0x50830e['renderTarg'+'et'],{width:_0x1919f9,height:_0x14dca8}=_0x62ce02??this['resource']['device'];Sc[0x6b*-0x1e+-0x71b+0x13a5]=_0x1919f9,Sc[0x13*0xab+-0x232a*-0x1+-0x2fda]=_0x14dca8;const _0x466a5e=(_0x8411b2=_0x50830e==null?void(-0x1*-0x1e27+0x1cca+-0x4f*0xbf):_0x50830e['camera'])==null?void(0xea1+-0x20*0x70+0x7*-0x17):_0x8411b2['xr'];_0x466a5e!=null&&_0x466a5e['active']&&_0x466a5e['views']['list']['length']===-0x5fb+-0xc36+-0x611*-0x3&&(Sc[0x208+0x1d*0x75+0x1*-0xf49]*=-0x5*0xfb+-0x1337*-0x1+-0xe50+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x51d96e){if(this['sorter']){const _0x3251c4=_0x51d96e['getWorldTr'+'ansform']();_0x3251c4['getTransla'+'tion'](Va),_0x3251c4['getZ'](Ga);const _0x3465e3=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x1be53f=vC['invert'](_0x3465e3);_0x1be53f['transformP'+'oint'](Va,Va),_0x1be53f['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x51d96e);}['update'](){var _0x4fe612;if(this['cameras']['length']>0x19*-0x39+0x13*0xe7+0x5ca*-0x2){const _0x2ff725=this['cameras'][-0x249e+-0x1f50+0x43ee];this['sort'](_0x2ff725['_node']),(_0x4fe612=this['resolveSH'])==null||_0x4fe612['render'](_0x2ff725['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0x113e+0x26cd+0x158f*-0x1;}}['setHighQua'+'litySH'](_0x948ad3){const {resource:_0x4381cf}=this,{gsplatData:_0x206b23}=_0x4381cf;_0x206b23 instanceof gC&&_0x206b23['shBands']>-0x865+0x18a*-0x5+-0x1*-0x1017&&_0x948ad3===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x4381cf['device'],this));}['updateTime'](_0x34de52){this['time']=_0x34de52;}}class Rv{constructor(_0x96f343,_0xeb7290){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x1ecf+0x792+0x3*0x7bf)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x96f343,this['gsplatData']=_0xeb7290,this['isDestroye'+'d']=!(0xd04+0xb37+0x2*-0xc1d));const _0x3838aa=0x111*-0x8+-0x32a+0xc32,_0x331063=Math['ceil'](_0xeb7290['numSplats']/_0x3838aa)*_0x3838aa/_0x3838aa,_0x116096=new Uint32Array(_0x331063);for(let _0x359223=-0x1bb0+-0x25*-0x10b+-0xae7;_0x359223<_0x331063;++_0x359223)_0x116096[_0x359223]=_0x359223*_0x3838aa;const _0x1032fe=new kt(_0x96f343,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x6*0x1e9+-0xf2*-0x3+0x20*0x45)}]),_0x3c64f0=new Float32Array((-0xca9*0x1+0xfda+-0x325)*_0x3838aa),_0x64c879=new Uint32Array((0x5e9+-0x2366+0x1d83)*_0x3838aa);for(let _0x2bfdb2=0x571*-0x1+-0x166*-0x17+-0x1ab9;_0x2bfdb2<_0x3838aa;++_0x2bfdb2){_0x3c64f0['set']([-(0x10d6+-0x221*-0x11+-0xb*0x4d2),-(-0x10d6+0x1f6+0xee1),_0x2bfdb2,-0xff8+0x1*-0x11ad+0x49*0x76,-(0x6*-0x3fd+-0x759*-0x1+0x1096),_0x2bfdb2,-0x1*-0x11c8+0x1c6e+-0x1*0x2e35,0x270c+-0x1ee+-0x1*0x251d,_0x2bfdb2,-(0x5fe+0xa3c+-0x1039*0x1),-0x1bd3+-0x3*-0x16e+-0x17*-0x106,_0x2bfdb2],_0x2bfdb2*(-0xcd5+0x80*0x1+-0x1*-0xc61));const _0x224b62=_0x2bfdb2*(-0x4*0x2db+0x1899+0x463*-0x3);_0x64c879['set']([0x1e*0x111+0x3a*-0x6d+-0x74c+_0x224b62,0x1514+-0x263e+0x1*0x112b+_0x224b62,-0x2c*0xc3+-0x267d*-0x1+-0x4f7+_0x224b62,0x8e7*0x1+-0x1*-0x12c1+0xb1*-0x28+_0x224b62,-0x4*-0x30a+0x12cf+-0x5*0x631+_0x224b62,-0xada+0x7a*0x6+0x801+_0x224b62],_0x2bfdb2*(0xab2+-0x2*-0xe2d+-0x2706));}this['mesh']=new Ge(_0x96f343),this['mesh']['setPositio'+'ns'](_0x3c64f0,0x1*0x376+-0x565+0x1f2*0x1),this['mesh']['setIndices'](_0x64c879),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x96f343,_0x1032fe,_0x331063,{'usage':ms,'data':_0x116096['buffer']});}['updateData'](){var _0x2bd8eb;const _0x1a57a4=this['gsplatData'];if(!_0x1a57a4)return;const _0x10a209=-0x1183+-0x2087*0x1+0x328a,_0x4be1db=Math['ceil'](_0x1a57a4['numSplats']/_0x10a209)*_0x10a209/_0x10a209,_0x123726=new Uint32Array(_0x4be1db);for(let _0x519a96=0x2e9+-0x1f8f*0x1+0x1ca6;_0x519a96<_0x4be1db;++_0x519a96)_0x123726[_0x519a96]=_0x519a96*_0x10a209;const _0x154055=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x6d*-0xb+0x3a7+-0x856)}]),_0x197c3e=new Float32Array((0x50b*0x1+0x31*0x73+-0x1b02)*_0x10a209),_0x6ef842=new Uint32Array((-0x5f8+-0xa*0x29c+-0xab2*-0x3)*_0x10a209);for(let _0x595596=-0x199c+0x1a9a+-0x1*0xfe;_0x595596<_0x10a209;++_0x595596){_0x197c3e['set']([-(0x119*0x1f+-0x6a*-0xa+-0x2*0x1315),-(-0x26c0*-0x1+-0xad*-0x27+0xd*-0x502),_0x595596,0x1*-0x234+-0x60b*-0x2+-0x9e1,-(-0x1*0x1ad4+0x1a1c+0xb9),_0x595596,-0x17bd+-0x363*-0x9+-0x6bd,0x3a*-0x8b+0x5*-0x755+0x885*0x8,_0x595596,-(0xf29+-0x183b+0x913),0x160*-0x2+0x14f6+0x1235*-0x1,_0x595596],_0x595596*(-0x4b7*-0x8+0x1cf8+-0xa*0x6aa));const _0x145b55=_0x595596*(-0x9*0x40d+-0x925+0x2d9e);_0x6ef842['set']([-0x1c8a+-0x23b7+-0x4041*-0x1+_0x145b55,-0x1*-0x116a+0x13e1+-0x254a+_0x145b55,-0x1562+-0x8*0x149+0xfd6*0x2+_0x145b55,-0x1bda+0x1a3f+0x19b+_0x145b55,0x10c1+-0x14e1+-0x2*-0x211+_0x145b55,-0x968*-0x1+-0xa6*0x7+-0x1*0x4db+_0x145b55],_0x595596*(0x4*0x738+0x1c30+0x12a*-0x31));}this['mesh']['setPositio'+'ns'](_0x197c3e,0x1c2e+-0x2f*-0x92+0x3*-0x1253),this['mesh']['setIndices'](_0x6ef842),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x2bd8eb=this['instanceIn'+'dices'])==null||_0x2bd8eb['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x154055,_0x4be1db,{'usage':ms,'data':_0x123726['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x20a3cc,_0x279c3b,_0x5891c4,_0x4d6766;(_0x20a3cc=this['mesh'])==null||_0x20a3cc['destroy'](),(_0x279c3b=this['instanceIn'+'dices'])==null||_0x279c3b['destroy'](),(_0x5891c4=this['gsplatData'])==null||_0x5891c4['destroy'](),this['gsplatData']=null,(_0x4d6766=this['gsplatInst'+'ance'])==null||_0x4d6766['destroy'](),this['gsplatInst'+'ance']=void(0x1562+-0x332*-0xa+-0x3556),this['isDestroye'+'d']=!(-0x1602+0xb*-0x366+0x3b64),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x1*0x7cd+0x1*-0xb2d+0x3e0;}get['numSplats'](){var _0x351499;return(_0x351499=this['gsplatData'])==null?void(0x17cd+-0x1092*0x1+0x3*-0x269):_0x351499['numSplats'];}['setSceneIn'+'fo'](_0x54bd2e){}['configureM'+'aterial'](_0x36d4ed){}['evalTextur'+'eSize'](_0xc7662c){return J['ZERO'];}['appendGSpl'+'atResource'](_0xc8aa33,_0x2c22a4,_0x2cbe79,_0x22eb8d,_0x27c007){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x34a318,_0x36579f,_0x290ab8,_0x6ae0a7){return new _e(this['device'],{'name':_0x34a318,'width':_0x290ab8['x'],'height':_0x290ab8['y'],'format':_0x36579f,'cubemap':!(0xc1f+-0x2*-0x931+-0x1e80),'mipmaps':!(0xbf+-0x8ac+-0x7ee*-0x1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x6ae0a7?{'levels':[_0x6ae0a7]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x4e4272,_0x26f9f0){return this['gsplatInst'+'ance']=new xC(_0x4e4272,_0x26f9f0),this['gsplatInst'+'ance'];}}async function TC(){const _0x49b348=new Float32Array(-0x5d8+0xc4d+-0x674),_0x3a37ff=new Int32Array(_0x49b348['buffer']);let _0x41ccf6=null,_0x4cbe26=null,_0x58e385=null,_0x367b2d=null,_0x57d5b7=null,_0x1d8c1e=null,_0x243117=null,_0x29192a=null;self['onmessage']=async _0x36cae6=>{const {data:_0x7a5785}=_0x36cae6;switch(_0x7a5785['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0xac7430(_0x7a5785['numSplats'],_0x7a5785['shBands'],_0x7a5785['SHData']);break;case'updateColo'+'rData':_0x19ed17(_0x7a5785['numSplats'],_0x7a5785['cr'],_0x7a5785['cg'],_0x7a5785['cb'],_0x7a5785['ca']);break;case'updateTran'+'sformData':_0x4f9a4c(_0x7a5785['numSplats'],_0x7a5785['is4D'],_0x7a5785['x'],_0x7a5785['y'],_0x7a5785['z'],_0x7a5785['rx'],_0x7a5785['ry'],_0x7a5785['rz'],_0x7a5785['rw'],_0x7a5785['mx'],_0x7a5785['my'],_0x7a5785['mz'],_0x7a5785['sx'],_0x7a5785['sy'],_0x7a5785['sz'],_0x7a5785['muT'],_0x7a5785['tScale']);break;case'calcAabb':_0x11576e(_0x7a5785['numSplats'],_0x7a5785['x'],_0x7a5785['y'],_0x7a5785['z'],_0x7a5785['sx'],_0x7a5785['sy'],_0x7a5785['sz']);break;case'destroyWor'+'ker':_0x15d872();break;}};class _0x357075{constructor(_0x3646a3=-0x3d*-0x1+0x1d7b+-0x1db8,_0x1ab625=0x2681+0x6*-0x367+0x1*-0x1217,_0x443df4=0x31*0xe+0x75c+0x1*-0xa0a,_0x2ac288=-0x2033+-0x223*0x1+0x2257){this['x']=_0x3646a3,this['y']=_0x1ab625,this['z']=_0x443df4,this['w']=_0x2ac288;}['set'](_0x1e3ca6,_0x5e9275,_0x3a6b2e,_0x3c8f2d){return this['x']=_0x1e3ca6,this['y']=_0x5e9275,this['z']=_0x3a6b2e,this['w']=_0x3c8f2d,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x24fd19=this){let _0x521bce=_0x24fd19['length']();return _0x521bce===0x2*0x10f3+-0x1*0x37c+-0x1e6a?(this['x']=this['y']=this['z']=0x1*-0x836+0xacb*0x3+-0x182b,this['w']=-0x65c+-0xf6b+0x15c8):(_0x521bce=(-0xb0b+-0xa0b*-0x3+-0x1*0x1315)/_0x521bce,this['x']=_0x24fd19['x']*_0x521bce,this['y']=_0x24fd19['y']*_0x521bce,this['z']=_0x24fd19['z']*_0x521bce,this['w']=_0x24fd19['w']*_0x521bce),this;}['mulScalar'](_0x351760,_0x31d0f9=this){return this['x']=_0x31d0f9['x']*_0x351760,this['y']=_0x31d0f9['y']*_0x351760,this['z']=_0x31d0f9['z']*_0x351760,this['w']=_0x31d0f9['w']*_0x351760,this;}}const _0x4fbe34=_0x907e99=>{_0x49b348[-0xb*0x79+0x1c0*0x11+-0x3*0x82f]=_0x907e99;const _0x5e4123=_0x3a37ff[-0xd*0x16f+0x24e9+-0x923*0x2];let _0x1b11d0=_0x5e4123>>0x1af+0x7c*-0x49+0x21bd*0x1&-0x2110+-0x8db*-0x16+-0x2*0x10e1,_0x425120=_0x5e4123>>-0x11f6+0x1*-0xb8d+0x1d8f&0x63d+0x118*0xe+-0xd8e;const _0x4ebfc5=_0x5e4123>>0x8b*-0xd+0x1*0x157b+-0xe55&-0x1bad+-0x5e*-0x13+0x15b2;return _0x4ebfc5<0x1e6e+-0x242*-0x6+-0x2b93?_0x1b11d0:_0x4ebfc5>-0x4e1*0x2+-0x1cf8+-0x1a3*-0x18?(_0x1b11d0|=-0x1b53*0x2+0x86b3*-0x1+0x13959,_0x1b11d0|=(_0x4ebfc5===0x16b5+0x73*0x45+-0x34b5?0x6d*-0x52+-0x9af*-0x4+-0x1e9*0x2:0x59+-0x221e+-0x16*-0x189)&&_0x5e4123&-0x5323*0x2db+0x4*0x2a20f0+0x146c*0x9a4,_0x1b11d0):_0x4ebfc5<-0x1*-0x255+-0x1*-0x12a3+0x1*-0x1487?(_0x425120|=0x887*0x1+-0x17d6+0x174f,_0x1b11d0|=(_0x425120>>-0x5*0x2d6+0xdf*0x2b+-0x7*0x343-_0x4ebfc5)+(_0x425120>>-0xc61*-0x2+-0x1*0x1905+0x12*0xa-_0x4ebfc5&-0x54c*-0x3+-0xfd*0x23+0x12b4),_0x1b11d0):(_0x1b11d0|=_0x4ebfc5-(-0x83*-0xb+0x8*-0x316+-0x1*-0x137f)<<0x1cfd+0x2171+0xb*-0x5ac|_0x425120>>-0xcb6+-0x50e*-0x7+-0x33d*0x7,_0x1b11d0+=_0x425120&-0x234d+-0x738+0x2a86,_0x1b11d0);},_0x11576e=(_0x1c6d3f,_0xc3d052,_0x367721,_0x5c4128,_0x39bcaf,_0x538702,_0x4d6123)=>{let _0x1cf03d=0x2*0x19b+0x1*-0x1ab1+-0x1*-0x177b,_0x193765=-0x64+0x3*-0x221+0x6c7,_0x118572=-0x1e31*-0x1+-0xd45+-0x13*0xe4,_0xf4e6c9=0x1099+-0x1ea0+-0x13*-0xbd,_0x1954f7=-0x2*-0x757+0x1*0x155f+-0x240d,_0x1fceab=-0x16ce*-0x1+0x2*-0xc1a+-0x1*-0x166,_0x592300=!(-0x864+-0x1*0x907+-0x5b*-0x31);const _0x233bd3=new Float32Array(-0x11bf+-0xdc3+-0x1*-0x1f85),_0x2e96b0=new Float32Array(-0x3*0x918+-0x4*-0x31d+-0x83*-0x1d);for(let _0x37b8d3=0x15a1*0x1+-0x1886+0xf7*0x3;_0x37b8d3<_0x1c6d3f;++_0x37b8d3){const _0x33e04a=_0xc3d052[_0x37b8d3],_0xfe7f6c=_0x367721[_0x37b8d3],_0x41f263=_0x5c4128[_0x37b8d3],_0x40c38a=Math['max'](_0x39bcaf[_0x37b8d3],_0x538702[_0x37b8d3],_0x4d6123[_0x37b8d3]);if(!isFinite(_0x33e04a)||!isFinite(_0xfe7f6c)||!isFinite(_0x41f263)||!isFinite(_0x40c38a))continue;const _0x402d95=(-0xc79*-0x2+0x1b8a+-0x117e*0x3)*Math['exp'](_0x40c38a);_0x592300?(_0x592300=!(-0x10f5+0xa6b*-0x1+0xa3*0x2b),_0x1cf03d=_0x33e04a-_0x402d95,_0x193765=_0xfe7f6c-_0x402d95,_0x118572=_0x41f263-_0x402d95,_0xf4e6c9=_0x33e04a+_0x402d95,_0x1954f7=_0xfe7f6c+_0x402d95,_0x1fceab=_0x41f263+_0x402d95):(_0x1cf03d=Math['min'](_0x1cf03d,_0x33e04a-_0x402d95),_0x193765=Math['min'](_0x193765,_0xfe7f6c-_0x402d95),_0x118572=Math['min'](_0x118572,_0x41f263-_0x402d95),_0xf4e6c9=Math['max'](_0xf4e6c9,_0x33e04a+_0x402d95),_0x1954f7=Math['max'](_0x1954f7,_0xfe7f6c+_0x402d95),_0x1fceab=Math['max'](_0x1fceab,_0x41f263+_0x402d95));}_0x592300||(_0x233bd3[-0x80e+-0xf5a+0x1768]=(_0x1cf03d+_0xf4e6c9)*(0x761*0x5+0x26bb+-0x4ba0+0.5),_0x233bd3[0x1*0xbcb+-0x13*-0xef+-0x1d87]=(_0x193765+_0x1954f7)*(0xbff+0xba2*0x1+0x17a1*-0x1+0.5),_0x233bd3[0x31*-0x6d+0x3*0xc01+0x3*-0x50c]=(_0x118572+_0x1fceab)*(0x18b3*0x1+0xf9*-0x24+0xa51+0.5),_0x2e96b0[0x1*0x1c27+-0x5f3*0x6+0x78b]=(_0xf4e6c9-_0x1cf03d)*(-0x7*0x265+-0x5*-0x52c+-0x11*0x89+0.5),_0x2e96b0[0x18a2+0x23*0x101+-0x3bc4]=(_0x1954f7-_0x193765)*(-0x21e9*-0x1+0x20a4*-0x1+-0x145+0.5),_0x2e96b0[-0xd51+0x1ac9+-0x6bb*0x2]=(_0x1fceab-_0x118572)*(-0x244a+-0xb39+-0x1*-0x2f83+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x233bd3,'halfExtents':_0x2e96b0});},_0x4f9a4c=(_0x559c75,_0x3035f8,_0x327a94,_0x2a4db2,_0x3743d5,_0x43ed82,_0x1ed8a7,_0x34594a,_0x30018a,_0x124f3f,_0x52721f,_0x4784fd,_0xf0bc24,_0x35d6e6,_0x5b0929,_0x1b84c6,_0x3a71e5)=>{_0x15d872(),_0x41ccf6=new Float32Array(_0x559c75*(0xb79*-0x1+-0x256c+0x28*0x139)),_0x367b2d=new Float32Array(_0x559c75*(-0x56*0xd+0x1810+-0x13af*0x1)),_0x1d8c1e=new Uint16Array(_0x559c75*(-0x160a+-0x1deb+-0x67f*-0x8)),_0x58e385=new Float32Array(_0x559c75*(0x469+0x16bf+0x1*-0x1b25)),_0x3035f8&&(_0x57d5b7=new Float32Array(_0x559c75*(-0xbdd*0x1+-0x2682+0x3262)),_0x4cbe26=new Float32Array(_0x559c75*(-0x1b71+-0xf72+0x2ae6)),_0x243117=new Float32Array(_0x559c75*(0x3*0xb0e+-0xa3c*0x2+-0xcaf)),_0x29192a=new Float32Array(_0x559c75));const _0x211f0c=new _0x357075(-0x1*0xd2+0x62f*-0x2+0xd30,0x185b+0x3d2+-0x1*0x1c2d,-0x351+-0x6*0x3d1+0x1a37*0x1,0x1*-0x1b25+0x1c0d*-0x1+0x3732);for(let _0xe481a1=0x4b1*-0x8+-0x29*-0xda+0x29e;_0xe481a1<_0x559c75;_0xe481a1++)_0x211f0c['set'](_0x43ed82[_0xe481a1],_0x1ed8a7[_0xe481a1],_0x34594a[_0xe481a1],_0x30018a[_0xe481a1]),_0x211f0c['normalize'](),_0x211f0c['w']<-0x4*0x5ed+0x160b+0x1a9&&_0x211f0c['mulScalar'](-(0x2*0xd73+-0x1d14+-0xd*-0x2b)),_0x367b2d[_0xe481a1*(0x1e4c+-0x3*-0x3b9+0x5ec*-0x7)+(-0x91d+-0x1*0xb6f+-0x523*-0x4)]=_0x327a94[_0xe481a1],_0x367b2d[_0xe481a1*(0x541+-0xf*-0x6f+-0xbbf*0x1)+(0x1a6+0x1*0x1cf9+-0x1e9e)]=_0x2a4db2[_0xe481a1],_0x367b2d[_0xe481a1*(-0xd79*-0x1+0x263+0x1*-0xfd9)+(-0xd87+0x7*-0x1af+-0xca9*-0x2)]=_0x3743d5[_0xe481a1],_0x41ccf6[_0xe481a1*(-0x1e23+-0x2246+0xd9*0x4c)+(0xd6c+0x1*-0x2077+-0xf*-0x145)]=_0x327a94[_0xe481a1],_0x41ccf6[_0xe481a1*(-0x6a9+-0x2671+0x2d1d)+(0x9*0x188+0x7d5*0x3+-0xd*0x2de)]=_0x2a4db2[_0xe481a1],_0x41ccf6[_0xe481a1*(0x13e6+0x1d3e+-0x3121)+(0x231b+-0x24b3+-0x52*-0x5)]=_0x3743d5[_0xe481a1],_0x1d8c1e[_0xe481a1*(-0x1*0x1ef7+-0x10*-0x156+0x99a)+(-0x7*-0x4b4+0x1f8b+-0x4077)]=_0x4fbe34(Math['exp'](_0xf0bc24[_0xe481a1])),_0x1d8c1e[_0xe481a1*(-0x1*0x176c+-0x3*-0x45d+0xa58)+(-0x23d6+0xb5a+-0x187d*-0x1)]=_0x4fbe34(Math['exp'](_0x35d6e6[_0xe481a1])),_0x1d8c1e[_0xe481a1*(0xfa8+-0x9da+-0x5cb)+(0xc8a+-0x166*0x6+-0x424)]=_0x4fbe34(Math['exp'](_0x5b0929[_0xe481a1])),_0x58e385[_0xe481a1*(-0x2*-0x431+-0x8a6+0x1*0x47)+(-0x23c1+-0x661*0x1+-0x1*-0x2a22)]=_0x211f0c['x'],_0x58e385[_0xe481a1*(0x1d5a+-0x1ab*-0x5+-0x25ae)+(-0x2545*0x1+-0x1c24+0x416a)]=_0x211f0c['y'],_0x58e385[_0xe481a1*(0x14a5+0x1a96+-0x1*0x2f38)+(0xb*0x23c+-0xf6e+-0x924*0x1)]=_0x211f0c['z'],_0x3035f8&&_0x57d5b7&&_0x4cbe26&&(_0x57d5b7[_0xe481a1*(-0x1cf2+0x3*-0x5b3+-0x9*-0x51e)+(0x17dc+-0x16a2+-0x13a)]=_0x124f3f[_0xe481a1],_0x57d5b7[_0xe481a1*(-0x35*0x19+0x111f+-0xd*0xeb)+(0xe*0x28+0x710+0x107*-0x9)]=_0x52721f[_0xe481a1],_0x57d5b7[_0xe481a1*(-0xf9d*-0x2+-0x13a2+-0xb95)+(0x1c28+0x2582*0x1+-0x17e*0x2c)]=_0x4784fd[_0xe481a1],_0x243117[_0xe481a1*(0x1ecb*0x1+0x67a*-0x1+-0x7a*0x33)+(0xbd0+0x5e7+-0x11b7)]=_0x124f3f[_0xe481a1],_0x243117[_0xe481a1*(-0x11dd+0x1*-0x1db7+0x2f97)+(-0x8b4*0x2+-0xfe8+0xb1b*0x3)]=_0x52721f[_0xe481a1],_0x243117[_0xe481a1*(-0x2674+-0x9*0xad+0x2c8c*0x1)+(-0x1*0xbe8+-0x15ec+-0x8e*-0x3d)]=_0x4784fd[_0xe481a1],_0x29192a[_0xe481a1]=_0x3a71e5?Math['exp'](_0x3a71e5[_0xe481a1]):0x10fa+-0x1999+0x89f*0x1,_0x4cbe26[_0xe481a1*(0x1*-0xf47+-0x16ea+-0xf*-0x28c)+(0x1f94+-0x2*-0x79+-0x2086)]=_0x1b84c6?_0x1b84c6[_0xe481a1]:0x155*0xf+0xc91*0x1+-0x4*0x823,_0x4cbe26[_0xe481a1*(0xaa5*-0x1+-0x4*0x83e+0x2ba0)+(-0x2d9+0x5*0x3e6+-0x5*0x354)]=_0x29192a[_0xe481a1]);const _0x310df9=[_0x41ccf6['buffer'],_0x367b2d['buffer'],_0x1d8c1e['buffer'],_0x58e385['buffer']];_0x3035f8&&_0x310df9['push'](_0x57d5b7['buffer'],_0x4cbe26['buffer'],_0x243117['buffer'],_0x29192a['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x41ccf6,'dataPosition':_0x367b2d,'dataScale':_0x1d8c1e,'dataRotation':_0x58e385,'dataMotion':_0x57d5b7,'dataTime':_0x4cbe26,'motion':_0x243117,'tScaleArray':_0x29192a},_0x310df9);},_0x19ed17=(_0x2ba6b4,_0x5ea681,_0x52ee13,_0x2de937,_0x394ab1)=>{const _0x3c4a3b=new Uint16Array(_0x2ba6b4*(-0x13*0xb+-0x2005*0x1+0x349*0xa)),_0x214346=0x16bc+0x1*0x1876+-0x2f32+0.28209479177387814;for(let _0x29f4d9=0x18*-0xca+0x1107*-0x1+0x129*0x1f;_0x29f4d9<_0x2ba6b4;++_0x29f4d9){const _0x4efe2c=_0x5ea681[_0x29f4d9]*_0x214346+(-0x6*0x5ae+0x18c9+0x94b+0.5),_0x267e5e=_0x52ee13[_0x29f4d9]*_0x214346+(0x1d43+-0xe4c+0xef7*-0x1+0.5),_0x593169=_0x2de937[_0x29f4d9]*_0x214346+(-0xe30+-0x1a*-0x2c+-0x4dc*-0x2+0.5),_0x204a0b=_0x394ab1[_0x29f4d9];_0x3c4a3b[_0x29f4d9*(-0x5*-0x65a+-0x25ab*0x1+0x25*0x29)+(0x1928+-0x1d7b+0x453)]=_0x4fbe34(_0x4efe2c),_0x3c4a3b[_0x29f4d9*(-0x1313*0x2+-0x24ef*-0x1+0x13b)+(-0x11*-0x1a5+0xcd8+-0x28cc)]=_0x4fbe34(_0x267e5e),_0x3c4a3b[_0x29f4d9*(0x190c+-0xa1*-0x18+0x358*-0xc)+(-0x2309+0x1612+0xcf9)]=_0x4fbe34(_0x593169),_0x3c4a3b[_0x29f4d9*(0x1*0x1777+0x1289+-0x29fc)+(-0x820+-0x1ae0+0x2303)]=_0x4fbe34(_0x204a0b);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x3c4a3b});},_0xac7430=(_0x408955,_0x1defd0,_0xdec5b4)=>{const _0x2d0e6d=new Uint32Array(_0x408955*(-0x1*0x1fbc+0x22f2+-0x332)),_0x13903a=new Uint32Array(_0x408955*(0x22b8+0x1*-0x19f9+-0x8bb)),_0x5939f6=new Uint32Array(_0x408955*(-0x167+-0x3d7*0x5+0x149e)),_0x5009b0=new Uint32Array(_0x408955*(-0xa32+0x1*-0xd8e+0xbe2*0x2)),_0x393783={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1defd0],_0x11b7ce=_0xdec5b4,_0x3deacb=0xaa5*-0x3+-0x1777+0x3f65,_0x44329c=-0x1c5a+-0x1*0x11bb+0x502*0xa,_0x89ad7e=new Float32Array(0x1*0x1a0+0xc05+-0x24*0x61),_0x407bd6=new Uint32Array(_0x89ad7e['buffer']),_0x4006f7=new Array(_0x393783*(0x2646+0x25f*-0x6+-0x1809))['fill'](-0x2319+0x823+0x1af6);for(let _0x1a4fa8=0x1778+0x882+-0x1ffa;_0x1a4fa8<_0x408955;++_0x1a4fa8){for(let _0x5e161d=0x12d6*0x2+-0xd8+0x24d4*-0x1;_0x5e161d<_0x393783;++_0x5e161d)_0x4006f7[_0x5e161d*(-0x7b1+0x26df*0x1+-0x1f2b)]=_0x11b7ce[_0x5e161d][_0x1a4fa8],_0x4006f7[_0x5e161d*(-0xeed+-0x841+0x1731)+(-0x1*-0x6b3+-0x1bbe+0x150c)]=_0x11b7ce[_0x5e161d+_0x393783][_0x1a4fa8],_0x4006f7[_0x5e161d*(0x5bf*0x2+-0x306+0x1*-0x875)+(-0x62b*-0x2+0x53*-0x18+0x6*-0xc2)]=_0x11b7ce[_0x5e161d+_0x393783*(-0x4a+-0x15f6+0x9a*0x25)][_0x1a4fa8];let _0x1383d8=_0x4006f7[0x18d*0xa+0x161e+-0x25a0];for(let _0x422f8d=-0x1dd*0xb+-0x1de4+-0x50a*-0xa;_0x422f8d<_0x393783*(0x1d*0x4+-0x16*0xb9+0xf75);++_0x422f8d)_0x1383d8=Math['max'](_0x1383d8,Math['abs'](_0x4006f7[_0x422f8d]));if(_0x1383d8!==0x1+-0xa87+-0x1*-0xa86){for(let _0x2c32f6=-0x3b*-0x80+-0x25b4+0x834;_0x2c32f6<_0x393783;++_0x2c32f6)_0x4006f7[_0x2c32f6*(-0x117+0x7*-0x1f7+0xedb*0x1)+(-0x305+-0x1678+0x197d)]=Math['max'](-0x18d*-0x19+0x313*0xb+-0x4896,Math['min'](_0x3deacb,Math['floor']((_0x4006f7[_0x2c32f6*(0x1*-0x17af+-0x33*0x98+0x2*0x1afd)+(0x106f+0x1*0x260b+-0x1b3d*0x2)]/_0x1383d8*(-0x1942+0x8dc+0x1066+0.5)+(0x1f1e+-0x1560+-0x9be+0.5))*_0x3deacb+(0x46f+0x1ce+-0x63d+0.5)))),_0x4006f7[_0x2c32f6*(0x19a9+-0x5b*0x1+-0x39d*0x7)+(0x112*-0x19+-0x97c*-0x3+-0x1b1)]=Math['max'](0xf59+-0x203a+0x10e1,Math['min'](_0x44329c,Math['floor']((_0x4006f7[_0x2c32f6*(-0x25a0+0x1b*0xb3+0x2ae*0x7)+(-0x1eb8+-0x2288+-0x4141*-0x1)]/_0x1383d8*(0x1c*0x47+0x2649+-0x2e0d*0x1+0.5)+(-0x355*0xb+-0x2139+0x45e0+0.5))*_0x44329c+(-0x1b5*-0x3+-0x1*-0x5d3+0x1d3*-0x6+0.5)))),_0x4006f7[_0x2c32f6*(0x137*-0x1f+0x1431+0x117b)+(-0x1ac7+0x3f*0x7e+-0x1*0x439)]=Math['max'](0x16bd*0x1+0x139*-0x9+-0x5de*0x2,Math['min'](_0x3deacb,Math['floor']((_0x4006f7[_0x2c32f6*(-0x2513*0x1+-0x1d0e*0x1+-0x1089*-0x4)+(-0xb24*0x1+-0xb12+0x1638)]/_0x1383d8*(-0xbf*-0x30+-0x4ee+-0x1ee2+0.5)+(0x24ee*-0x1+-0x827*0x1+-0x2d15*-0x1+0.5))*_0x3deacb+(-0xa4e*0x1+0x16a3+-0xc55+0.5))));_0x89ad7e[0x2b*-0x9f+0x19b2+0x103*0x1]=_0x1383d8,_0x2d0e6d[_0x1a4fa8*(0x1457+0x1a49*-0x1+0x5f6*0x1)+(0x944*-0x2+0x4f*0x67+-0xd41)]=_0x407bd6[-0x2b*-0xad+-0xdff+-0xf10],_0x2d0e6d[_0x1a4fa8*(0x5*-0x799+0x7*-0x317+0x1c1*0x22)+(0x2203+0x2320+0x4522*-0x1)]=_0x4006f7[-0x887+-0xacd+-0x4*-0x4d5]<<0x1cf6+0x24a2+-0x4183|_0x4006f7[-0x716+-0x1446*0x1+0x1b5d]<<-0x10c6*-0x2+-0x832+0x24d*-0xb|_0x4006f7[0xa7e+-0xacf+0x53*0x1],_0x2d0e6d[_0x1a4fa8*(0x1888+0x12*0x1f2+-0x3b88)+(-0xffd+-0xaf1+0x1af0)]=_0x4006f7[0x3*0x868+0x6*-0x295+0x9b7*-0x1]<<-0x2c0+0x1595+-0x6*0x320|_0x4006f7[0x2*0x243+0x1253+-0x16d5]<<0x3d9*0x9+-0xb83*0x1+-0x1713|_0x4006f7[0x1a63+0x3*-0x11+0x3bd*-0x7],_0x2d0e6d[_0x1a4fa8*(0x20fa+0x1f45+-0x403b)+(0x2*-0xc02+-0x3e6+0x94f*0x3)]=_0x4006f7[-0x749+-0xe2*-0x4+0x3c7*0x1]<<0x4f*0x34+-0x3c*0x71+0xa85|_0x4006f7[-0x8c8*-0x4+0x1*0xf19+0x202*-0x19]<<-0xffb*0x1+-0x1*0x6da+-0x6*-0x3d0|_0x4006f7[-0x1d08+0x2dd*-0x1+0x1fed],_0x1defd0>-0x4b4+-0x1*0x1c5a+0x210f&&(_0x13903a[_0x1a4fa8*(-0x1e9b+0x2c*0xd0+-0x521)+(-0x7eb+0x26da+-0x1eef)]=_0x4006f7[-0x389+-0x2*-0x7e2+-0x7*0x1be]<<-0x91*0x1a+0x1647+-0x3bc*0x2|_0x4006f7[-0xf75+0x16b8+-0x2b*0x2b]<<-0x1fd*-0x11+-0x7a*-0x1+0xe*-0x272|_0x4006f7[-0xb*-0x161+0x18bb+0xb3*-0x39],_0x13903a[_0x1a4fa8*(-0x7*-0x1c5+0x435*0x1+0x1*-0x1094)+(0xa1b+-0x3*-0x593+-0x7*0x3d5)]=_0x4006f7[0x602*0x1+-0x1802+0x120c]<<0x39c+0x2dd*0x1+-0x664|_0x4006f7[0x94*-0xe+-0xb5*0x10+-0x125*-0x11]<<-0x1*-0xb2+0x1ca4+0x1d4b*-0x1|_0x4006f7[-0x23e6+-0x1131+-0x38b*-0xf],_0x13903a[_0x1a4fa8*(0x5fd*0x3+0x20c3*0x1+-0x2*0x195b)+(-0x2bd*0x2+-0x435+-0x33b*-0x3)]=_0x4006f7[0xc3a*0x1+-0x1e20+0x11f5]<<0x4b*0x75+0x18*0x148+-0x40f2|_0x4006f7[0x1939+0x26f8+-0x1*0x4021]<<0x9*-0x2b5+0x1*0x50e+0x2*0x9ad|_0x4006f7[0x26c9+-0x2*-0x49+-0x6b*0x5e],_0x13903a[_0x1a4fa8*(-0x1177+-0x1*-0xd69+-0x209*-0x2)+(-0x18*-0x63+0x2170+0x1d*-0x179)]=_0x4006f7[-0x1fb0+-0x1469+0x342b]<<-0x848+0xfca*-0x2+0x27f1|_0x4006f7[-0x25e5+0x5bf+0x2039]<<0x5*-0x316+-0x62f*-0x2+-0x9f*-0x5|_0x4006f7[0x587*0x1+-0x1*-0x1cec+-0x1a3*0x15],_0x1defd0>-0x5*0x8a+-0xb59+-0x147*-0xb?(_0x5939f6[_0x1a4fa8*(-0xe30+-0x1cdf+0x2b13)+(0x131b+0x32d*-0x1+0x7f7*-0x2)]=_0x4006f7[-0x12a8+-0x2345+0x3602]<<0xd*-0x2c5+0x1e77+0x59f|_0x4006f7[0x1aec*-0x1+-0x6d*-0x4f+-0x1*0x6a1]<<0x19e+0x2655+-0x27e8|_0x4006f7[0x125b+-0x1*-0x2507+-0x374b],_0x5939f6[_0x1a4fa8*(0x26f0+-0x1*0xca9+-0x1a43)+(0x1001*-0x1+-0x1de5+0x2de7)]=_0x4006f7[-0x9d+-0xd6*-0x2+-0xf7]<<-0x1798*0x1+0x1*-0x1ffa+0x37a7|_0x4006f7[-0x1*-0x34c+0x2262+-0x1*0x2595]<<-0x628+-0x8*0x36e+0x21a3|_0x4006f7[0x1*0x1f01+-0x13*0x1bf+0x1*0x246],_0x5939f6[_0x1a4fa8*(0x185f*-0x1+-0x22af+-0x3b12*-0x1)+(-0x1*0x161b+0xcc5+0x256*0x4)]=_0x4006f7[0x1*0xdb8+-0x1*-0x1195+-0x1f32]<<-0xb96+-0x1669*-0x1+-0xabe|_0x4006f7[-0x9a*-0x1a+0x1993*0x1+-0x291b*0x1]<<0x1621+-0x1d*0xa+-0x3*0x6fc|_0x4006f7[0x14d*0x12+-0x22de+0xb91*0x1],_0x5939f6[_0x1a4fa8*(-0x2*0x10b1+-0x1b9*0x14+-0xa*-0x6c9)+(-0x1618+0xc34+0x9e7)]=_0x4006f7[0xd*0x232+-0x187*0x5+0x139*-0x11]<<0x2653*-0x1+-0x1*-0xf86+0x16e2|_0x4006f7[-0x184c+-0x5*-0x7bd+-0xe46]<<-0x5*-0x90+0x9*0x13e+-0xdf3|_0x4006f7[0x45*-0x2b+-0x2*0x22d+-0x1c9*-0x9],_0x5009b0[_0x1a4fa8*(-0x21*-0x81+0x1*0x1865+0xb5*-0x3a)+(0x1522+-0x1515+-0xd)]=_0x4006f7[-0x418+-0x1237+-0xb38*-0x2]<<0x144c+0x35d*-0x7+0x47*0xc|_0x4006f7[0x29*-0xa5+-0x2d9*-0x7+0x6a0]<<-0xb37+0x4*-0x6ac+0x6*0x653|_0x4006f7[0x13a1+0xb0*0x17+-0x234e],_0x5009b0[_0x1a4fa8*(0x3*-0xc30+0x4*-0x50e+0x2*0x1c66)+(0x6d6+-0x1f4e+-0xb3*-0x23)]=_0x4006f7[0x194d+0xad9*-0x1+-0xe50]<<-0x19c8+-0xcef+0xd*0x2fc|_0x4006f7[0x1c8c+-0x14*-0x144+-0x1*0x35b7]<<-0x1*-0x116+0x1*-0xec8+-0xdbd*-0x1|_0x4006f7[0xeec+0x1446+-0x230c],_0x5009b0[_0x1a4fa8*(-0x809+-0x6*-0x2a1+-0x293*0x3)+(-0x10a2*-0x1+-0x1b*-0x5d+-0x1a6f)]=_0x4006f7[-0x2*-0xf3d+0x257c+0x1*-0x43cf]<<0x1ab3+-0x2622*-0x1+-0x40c0|_0x4006f7[-0x63d+0x1ba+0x4ab]<<-0x37*0x17+-0x1*-0x20fd+-0x1c01|_0x4006f7[-0x1723*-0x1+0x565+-0x1c5f],_0x5009b0[_0x1a4fa8*(-0x114a+0x67*-0x6+-0x13b8*-0x1)+(-0x1354+-0x2*0x4af+0x1cb5*0x1)]=_0x4006f7[0xe00+0xf6d+0x1*-0x1d43]<<-0xa23+-0x1*-0x1f75+-0x153d*0x1|_0x4006f7[-0x1981*-0x1+-0xe2c+0xb2a*-0x1]<<0x5ad*-0x4+-0x1385+0x2a44|_0x4006f7[0x4*-0xdb+0x1e1*0xa+-0xf32]):_0x5939f6[_0x1a4fa8]=_0x4006f7[0x31d+0x26*0x24+-0x860]<<0x61d*-0x5+0x98*-0x13+-0x14f7*-0x2|_0x4006f7[0x23df*-0x1+0x1*0x35+0x340*0xb]<<-0x95*-0x2+-0x2f9*0xa+0x1c9b|_0x4006f7[0x3*0x985+0x8b9*0x2+-0x2dea]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x2d0e6d,'sh4to7Data':_0x13903a,'sh8to11Data':_0x5939f6,'sh12to15Data':_0x5009b0}},[_0x2d0e6d['buffer'],_0x13903a['buffer'],_0x5939f6['buffer'],_0x5009b0['buffer']]);},_0x15d872=()=>{_0x41ccf6=null,_0x4cbe26=null,_0x58e385=null,_0x367b2d=null,_0x57d5b7=null,_0x1d8c1e=null,_0x243117=null,_0x29192a=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x7d55db,_0x1f0c42,_0xe93ffb){_0x7d55db['onmessage']=_0xf710d9=>{if(!this['worker'])return;const {data:_0x1c6a7b}=_0xf710d9;if(_0x1c6a7b['type']===_0x1f0c42)switch(_0x1f0c42){case'updatedSHD'+'ata1':_0xe93ffb(_0x1c6a7b['data']);break;case'updatedCol'+'orData':_0xe93ffb(_0x1c6a7b['data']);break;case'updatedTra'+'nsformData':_0xe93ffb(_0x1c6a7b);break;case'updatedAab'+'bData':_0xe93ffb(_0x1c6a7b);break;}};}['updateSHDa'+'ta1'](_0x21d8d4,_0x20152f,_0xb89a75){var _0x22fd8a;return(_0x22fd8a=this['worker'])==null||_0x22fd8a['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x21d8d4,'shBands':_0x20152f,'SHData':_0xb89a75}),new Promise(_0x3b378b=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0xdf8722=>{_0x3b378b(_0xdf8722);});});}async['updateColo'+'rData'](_0x16ace5,_0x5a5549,_0x58a913,_0x1fd2f8,_0x42f017){var _0x2f795b;return(_0x2f795b=this['worker'])==null||_0x2f795b['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x16ace5,'cr':_0x5a5549,'cg':_0x58a913,'cb':_0x1fd2f8,'ca':_0x42f017}),new Promise(_0x18b56b=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x2af2b4=>{_0x18b56b(_0x2af2b4);});});}async['calcAabb'](_0x5ca6b2,_0x2c333b,_0x3f26b0,_0x48bb12,_0x2bc564,_0x229230,_0xb848f1){var _0x50762f;const _0x282f35=new Float32Array(_0x2c333b),_0xd1f6db=new Float32Array(_0x3f26b0),_0x29fe13=new Float32Array(_0x48bb12),_0x2d0c8c=new Float32Array(_0x2bc564),_0x2f5b6a=new Float32Array(_0x229230),_0x5d9f24=new Float32Array(_0xb848f1);return(_0x50762f=this['worker'])==null||_0x50762f['postMessag'+'e']({'type':'calcAabb','numSplats':_0x5ca6b2,'x':_0x282f35,'y':_0xd1f6db,'z':_0x29fe13,'sx':_0x2d0c8c,'sy':_0x2f5b6a,'sz':_0x5d9f24},[_0x282f35['buffer'],_0xd1f6db['buffer'],_0x29fe13['buffer'],_0x2d0c8c['buffer'],_0x2f5b6a['buffer'],_0x5d9f24['buffer']]),new Promise(_0x2f0cfb=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x48165e=>{_0x2f0cfb(_0x48165e);});});}async['updateTran'+'sData'](_0x29d452,_0x36d00d,_0x4f3f13,_0x43c103,_0x3730fc,_0x3c2426,_0x7e56ce,_0x2a97a4,_0x13af9b,_0x2ced09,_0x3e058c,_0xa68f87,_0x2b1e1e,_0x1d078b,_0x323ed2,_0x1e79a3,_0x1ee15b){var _0x32ce2e;return(_0x32ce2e=this['worker'])==null||_0x32ce2e['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x29d452,'is4D':_0x36d00d,'x':_0x4f3f13,'y':_0x43c103,'z':_0x3730fc,'rx':_0x3c2426,'ry':_0x7e56ce,'rz':_0x2a97a4,'rw':_0x13af9b,'mx':_0x2ced09,'my':_0x3e058c,'mz':_0xa68f87,'sx':_0x2b1e1e,'sy':_0x1d078b,'sz':_0x323ed2,'muT':_0x1e79a3,'tScale':_0x1ee15b}),new Promise(_0x306f75=>{const _0x5e3996=_0x494e78=>{_0x306f75(_0x494e78);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x5e3996);});}['destroy'](){var _0x1b4f02;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1b4f02=this['worker'])==null||_0x1b4f02['terminate'](),this['worker']=null);}};const vg=(_0x4e3db8,_0x1998d4)=>{const _0x101a05=[];for(let _0x1c25cb=0x9b0*-0x3+0xe40+0x768*0x2;_0x1c25cb<_0x1998d4;++_0x1c25cb)_0x101a05['push'](_0x4e3db8['getProp']('f_rest_'+_0x1c25cb));return _0x101a05;};class EC extends Rv{constructor(_0x4b284f,_0x3d0e8d){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x4b284f,_0x3d0e8d),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x185a+0xe1+-0x193a*0x1)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1907*-0x1+-0x1*-0x1809+0x103);}async['updateData'](){var _0x513c85,_0x93994e,_0x3615a7,_0x2264e7,_0x5adc99,_0xb86cd7,_0x49f6f1,_0x4d53d1,_0x21851a,_0x32972f,_0x17987f;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0xa8d966=this['gsplatData'];if(!_0xa8d966)return;this['is4D']=_0xa8d966['is4D'];const _0x19526e=await this['getTransfo'+'rmDataByWo'+'rker'](_0xa8d966);this['aabb']=new De(),await _0xa8d966['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x19526e['centers'],this['motion']=_0x19526e['motion'],this['tScale']=_0x19526e['tScaleArra'+'y'],this['muT']=await _0xa8d966['getMuT'](),this['timeIndex']=await _0xa8d966['getTimeInd'+'ex']();const _0x3fef7d=this['evalTextur'+'eSize'](_0xa8d966['numSplats']);this['colorTextu'+'re']?((_0x513c85=this['colorTextu'+'re2'])==null||_0x513c85['destroy'](),(_0x93994e=this['transformA'+'Texture2'])==null||_0x93994e['destroy'](),(_0x3615a7=this['transformB'+'Texture2'])==null||_0x3615a7['destroy'](),(_0x2264e7=this['transformR'+'Texture2'])==null||_0x2264e7['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3fef7d),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3fef7d),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3fef7d),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3fef7d),this['is4D']&&((_0x5adc99=this['transformM'+'otionTextu'+'re2'])==null||_0x5adc99['destroy'](),(_0xb86cd7=this['transformL'+'ifecycleTe'+'xture2'])==null||_0xb86cd7['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3fef7d),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3fef7d))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x3fef7d),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3fef7d),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x3fef7d),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3fef7d),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x3fef7d),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3fef7d),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x3fef7d),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3fef7d),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x3fef7d),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3fef7d),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x3fef7d),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3fef7d))),await this['updateColo'+'rData'](_0xa8d966),await this['updateTran'+'sformFromD'+'ata'](_0x19526e),this['shBands']=_0xa8d966['shBands'],this['shBands']>-0x4ee+0xbc*-0x10+-0x131*-0xe&&(this['sh1to3Text'+'ure']?((_0x49f6f1=this['sh1to3Text'+'ure2'])==null||_0x49f6f1['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3fef7d),this['shBands']>0x2*-0xc55+-0xb*0x106+0x23ed&&((_0x4d53d1=this['sh4to7Text'+'ure2'])==null||_0x4d53d1['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3fef7d),this['shBands']>-0x4*0x169+-0xc06+0x8d6*0x2?((_0x21851a=this['sh8to11Tex'+'ture2'])==null||_0x21851a['destroy'](),(_0x32972f=this['sh12to15Te'+'xture2'])==null||_0x32972f['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3fef7d),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3fef7d)):((_0x17987f=this['sh8to11Tex'+'ture2'])==null||_0x17987f['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3fef7d)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3fef7d),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x3fef7d),this['shBands']>0x12f+-0x19e7+0x1*0x18b9&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x3fef7d),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3fef7d),this['shBands']>-0x1bc9+0x1f0a+-0x33f?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x3fef7d),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3fef7d),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x3fef7d),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3fef7d)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x3fef7d),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x3fef7d)))),await this['updateSHDa'+'taByWorker'](_0xa8d966));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x4c3354){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x4c3354}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x3c2206,_0x820166,_0x376c95,_0xd8d4e9,_0x228a63){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x3c2206,'timeOption':_0x820166,'loadedTime':_0x376c95,'asset':_0xd8d4e9,'events':_0x228a63}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0xc2*0x33+-0x7e1*0x2+-0x16e4);try{for(;this['appendQueu'+'e']['length']>0x1cd3+-0x1d6f+-0x3*-0x34;){const _0x1b3ecb=this['appendQueu'+'e']['shift']();_0x1b3ecb['type']==='append'?await this['processApp'+'endTask'](_0x1b3ecb['data']):_0x1b3ecb['type']==='release'&&await this['processRel'+'easeTask'](_0x1b3ecb['data']);}}finally{this['isProcessi'+'ngQueue']=!(0xa4e+-0x8fa*0x3+-0x3*-0x58b);}}}async['processRel'+'easeTask'](_0x1cc315){const {index:_0x45b8f3}=_0x1cc315;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x45b8f3),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x45b8f3);}async['processApp'+'endTask'](_0x9fdd5d){var _0xd15df;const {gsplatData:_0x17b56f,timeOption:_0x3a5352,loadedTime:_0x2e439e,asset:_0x942372,events:_0x329cf0}=_0x9fdd5d;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x3a5352,await this['gsplatData']['appendGSpl'+'atData'](_0x17b56f,_0x2e439e,_0x3a5352),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x20ef+0x2*0x5de+0x6f*-0x67),_0x17b56f['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x17b56f['numSplats'])['toFixed'](0x2*-0x6fc+-0x150c+0x2307)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1981+0xce4+-0x2663),_0x17b56f['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0xd15df=this['gsplatInst'+'ance'])==null||_0xd15df['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1011+0x1*0x8da+0x18e9*-0x1),_0x17b56f['numSplats']),this['asset']=_0x942372,this['assetsMana'+'gerLoadedT'+'ime']=_0x2e439e,this['events']=_0x329cf0);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x3153d5;const _0x3bf1f9=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x3bf1f9),(_0x3153d5=this['asset'])==null||_0x3153d5['fire']('setAssetsL'+'oaded',_0x3bf1f9);}['destroy'](){var _0xda70a7,_0x580177,_0x14bbf6,_0x518841,_0x19dc48,_0x4b558d,_0x46601f,_0x235e84,_0xbc1746,_0x42b812,_0x7def9c,_0x60eb32,_0xb568dd,_0x3a36b6,_0x5a7e43,_0x70aa8f,_0x36b3ed,_0x102ddc,_0x170af3,_0x522dc4,_0x3f3fca;(_0xda70a7=this['updateData'+'Worker'])==null||_0xda70a7['destroy'](),this['updateData'+'Worker']=void(0x25b4+-0x216a+-0x44a),(_0x580177=this['colorTextu'+'re'])==null||_0x580177['destroy'](),(_0x14bbf6=this['transformA'+'Texture'])==null||_0x14bbf6['destroy'](),(_0x518841=this['transformB'+'Texture'])==null||_0x518841['destroy'](),(_0x19dc48=this['transformR'+'Texture'])==null||_0x19dc48['destroy'](),(_0x4b558d=this['transformM'+'otionTextu'+'re'])==null||_0x4b558d['destroy'](),(_0x46601f=this['transformL'+'ifecycleTe'+'xture'])==null||_0x46601f['destroy'](),(_0x235e84=this['sh1to3Text'+'ure'])==null||_0x235e84['destroy'](),(_0xbc1746=this['sh4to7Text'+'ure'])==null||_0xbc1746['destroy'](),(_0x42b812=this['sh8to11Tex'+'ture'])==null||_0x42b812['destroy'](),(_0x7def9c=this['sh12to15Te'+'xture'])==null||_0x7def9c['destroy'](),(_0x60eb32=this['colorTextu'+'re2'])==null||_0x60eb32['destroy'](),(_0xb568dd=this['transformA'+'Texture2'])==null||_0xb568dd['destroy'](),(_0x3a36b6=this['transformB'+'Texture2'])==null||_0x3a36b6['destroy'](),(_0x5a7e43=this['transformR'+'Texture2'])==null||_0x5a7e43['destroy'](),(_0x70aa8f=this['transformM'+'otionTextu'+'re2'])==null||_0x70aa8f['destroy'](),(_0x36b3ed=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x36b3ed['destroy'](),(_0x102ddc=this['sh1to3Text'+'ure2'])==null||_0x102ddc['destroy'](),(_0x170af3=this['sh4to7Text'+'ure2'])==null||_0x170af3['destroy'](),(_0x522dc4=this['sh8to11Tex'+'ture2'])==null||_0x522dc4['destroy'](),(_0x3f3fca=this['sh12to15Te'+'xture2'])==null||_0x3f3fca['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x2ab4ee){var _0x589db5,_0x3447b8,_0x3b59d4,_0x549d2d,_0xff6742,_0x3d5463,_0x23e1c3,_0x4b2b21,_0x26e7fb,_0x52f516,_0x27de25,_0x1be5e2,_0x2449cd;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x52144a=((_0x589db5=_0x2ab4ee['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1*0x1f17+-0xd*0x224+-0xa7*0x5):_0x589db5['data'])??0x22fb+-0x11*-0x20f+-0x45fa,_0xd06f9b=((_0x3447b8=_0x2ab4ee['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x2*0xf7c+0x17f7+-0x11f*0x31):_0x3447b8['data'])??0x7*0x4ff+0x1566+-0x27*0x172,_0x11c76f=((_0x3b59d4=_0x2ab4ee['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x19c6*0x1+-0x2d7*-0x5+-0x3*0xd53):_0x3b59d4['data'])??0x1cad+-0x1a69+0xc1*-0x3,_0x2c084c=((_0x549d2d=_0x2ab4ee['getParamet'+'er']('uHueOffset'))==null?void(-0xbb4+0x291*-0x4+-0x57e*-0x4):_0x549d2d['data'])??-0x2*0x1d7+-0x2710+0x2abe,_0x18f96b=((_0xff6742=_0x2ab4ee['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x217c+-0x1*0x3c5+0x2541):_0xff6742['data'])??-0x1dbd+0x361+0x2*0xd2e,_0x3b750f=((_0x3d5463=_0x2ab4ee['getParamet'+'er']('uOpacity'))==null?void(0x13*-0x191+0x138a+0xa39):_0x3d5463['data'])??0x1*0x2221+-0xbd2+-0xa*0x23b,_0x255693=((_0x23e1c3=_0x2ab4ee['getParamet'+'er']('clrOffset'))==null?void(-0x3*-0x128+-0x10ac+-0x2a4*-0x5):_0x23e1c3['data'])??[-0x1cfe+-0x223c+0x3f3a,-0x14e3+0xf41+0x5a2,0xc0a*0x2+0x1133*0x1+0x1*-0x2947,0x1ac9+-0x292*-0x3+-0x227e],_0xc06a5d=((_0x4b2b21=_0x2ab4ee['getParamet'+'er']('clrScale'))==null?void(-0x1dca+-0x1568+0x3332):_0x4b2b21['data'])??[-0x2229+0x2*0x1c1+0x368*0x9,0x17f*-0x13+0x908+-0xbf*-0x1a,-0x88e+0x160b+0x2*-0x6be,-0x1*-0x1e73+0x1b57+-0x1343*0x3],_0x21bd24=((_0x26e7fb=_0x2ab4ee['getParamet'+'er']('uShapeN'))==null?void(-0x979+0x3*0x801+-0x2*0x745):_0x26e7fb['data'])??-0x1*-0x1d41+0x21d3+-0x3f14,_0x10a443=((_0x52f516=_0x2ab4ee['getParamet'+'er']('mode'))==null?void(0x1716+0x234c+0x6a*-0x8d):_0x52f516['data'])??0x23*0xbf+0x4cf+-0x1eec,_0x32aede=((_0x27de25=_0x2ab4ee['getParamet'+'er']('ringSize'))==null?void(0x20c1+-0x622*-0x4+0x7*-0x82f):_0x27de25['data'])??-0x247+-0x151*0x3+0x63a,_0x2c0a9e=((_0x1be5e2=_0x2ab4ee['defines'])==null?void(0xa95+0x1b38+-0x25cd):_0x1be5e2['get']('uOpenAnim'))??'0',_0x2ca099=((_0x2449cd=_0x2ab4ee['defines'])==null?void(-0xe85+0x8e6*-0x1+0x176b):_0x2449cd['get']('uControlCo'+'lorMode'))??'0';_0x2ab4ee['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x2ab4ee['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x2ab4ee['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x2ab4ee['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x2ab4ee['setParamet'+'er']('uSplatScal'+'e',_0xd06f9b),_0x2ab4ee['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x52144a),_0x2ab4ee['setParamet'+'er']('uSaturatio'+'n',_0x11c76f),_0x2ab4ee['setParamet'+'er']('uHueOffset',_0x2c084c),_0x2ab4ee['setParamet'+'er']('uInvertOpa'+'city',_0x18f96b),_0x2ab4ee['setParamet'+'er']('uOpacity',_0x3b750f),_0x2ab4ee['setParamet'+'er']('clrOffset',_0x255693),_0x2ab4ee['setParamet'+'er']('clrScale',_0xc06a5d),_0x2ab4ee['setParamet'+'er']('uShapeN',_0x21bd24),_0x2ab4ee['setParamet'+'er']('mode',_0x10a443),_0x2ab4ee['setParamet'+'er']('ringSize',_0x32aede),_0x2ab4ee['setParamet'+'er']('prerenderC'+'Time',-0xb2*-0x13+0x23d*0xd+-0x2a4f),_0x2ab4ee['setParamet'+'er']('renderSpac'+'e',-0x1135+0x1cb8+-0xb79),_0x2ab4ee['setParamet'+'er']('endSpace',-0x2*-0x3be+-0x2*0x995+0xbb8),_0x2ab4ee['setDefine']('uOpenAnim',_0x2c0a9e),_0x2ab4ee['setDefine']('uControlCo'+'lorMode',_0x2ca099),this['transformM'+'otionTextu'+'re']&&_0x2ab4ee['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x2ab4ee['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x2ab4ee['setDefine']('SH_BANDS',this['shBands']),_0x2ab4ee['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x2ab4ee['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x2ab4ee['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x2ab4ee['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x2ab4ee['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x4d5811){const _0x3afe25=Math['ceil'](Math['sqrt'](_0x4d5811)),_0x4a9285=Math['ceil'](_0x4d5811/_0x3afe25);return new J(_0x3afe25,_0x4a9285);}async['updateColo'+'rData'](_0xdb4881){var _0x10205a;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x411e33=this['colorTextu'+'re2'];if(!_0x411e33||this['isDestroye'+'d'])return;const _0x5ab611=_0xdb4881['getProp']('f_dc_0'),_0x296ec2=_0xdb4881['getProp']('f_dc_1'),_0x1e0cd5=_0xdb4881['getProp']('f_dc_2'),_0x432834=_0xdb4881['getProp']('opacity');let _0x2b12ce=(_0x10205a=_0xdb4881['transformD'+'ata'])==null?void(0x12ac+-0x1a18+0x32*0x26):_0x10205a['dataColor'];_0x2b12ce||(_0x2b12ce=await this['updateData'+'Worker']['updateColo'+'rData'](_0xdb4881['numSplats'],_0x5ab611,_0x296ec2,_0x1e0cd5,_0x432834)),await this['idleUpdate'+'TexturePro'+'mise'](_0x411e33,_0x2b12ce);}async['getTransfo'+'rmDataByWo'+'rker'](_0x4911b9){var _0x305f06;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x305f06=_0x4911b9['transformD'+'ata'])!=null&&_0x305f06['dataCenter'+'s'])return{'centers':_0x4911b9['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x4911b9['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x4911b9['transformD'+'ata']['dataScale'],'dataRotation':_0x4911b9['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x4911b9['transformD'+'ata']['dataMotion'],'dataTime':_0x4911b9['transformD'+'ata']['dataTime'],'motion':_0x4911b9['transformD'+'ata']['motion'],'tScaleArray':_0x4911b9['transformD'+'ata']['tScaleArra'+'y']};const _0x5baf09=_0x4911b9['getProp']('x'),_0x2e748b=_0x4911b9['getProp']('y'),_0x50ee26=_0x4911b9['getProp']('z'),_0x251910=_0x4911b9['getProp']('rot_1'),_0x19d5ae=_0x4911b9['getProp']('rot_2'),_0x45475c=_0x4911b9['getProp']('rot_3'),_0xb241e5=_0x4911b9['getProp']('rot_0'),_0x1579c3=_0x4911b9['getProp']('motion_0'),_0x4a2936=_0x4911b9['getProp']('motion_1'),_0x1782f1=_0x4911b9['getProp']('motion_2'),_0x205772=_0x4911b9['getProp']('scale_0'),_0x3e4a44=_0x4911b9['getProp']('scale_1'),_0x458aa8=_0x4911b9['getProp']('scale_2'),_0x10dfdc=_0x4911b9['getProp']('t'),_0x4763bf=_0x4911b9['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x4911b9['numSplats'],this['is4D'],_0x5baf09,_0x2e748b,_0x50ee26,_0x251910,_0x19d5ae,_0x45475c,_0xb241e5,_0x1579c3,_0x4a2936,_0x1782f1,_0x205772,_0x3e4a44,_0x458aa8,_0x10dfdc,_0x4763bf);}async['updateTran'+'sformFromD'+'ata'](_0x2e5fa3){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x2e5fa3['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x2e5fa3['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x2e5fa3['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x2e5fa3['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x2e5fa3['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x42b20c,_0x4973d2){if(!this['isDestroye'+'d'])return new Promise(_0xf24323=>{requestIdleCallback(()=>{const _0x17d49a=_0x42b20c['lock']();_0x17d49a==null||_0x17d49a['set'](_0x4973d2),_0x42b20c['unlock'](),_0xf24323(!(0xc59+0x1*-0x8aa+0x17*-0x29));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x30d624){var _0x21e320,_0x2e63ce,_0x17b383,_0x4e053d;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x1d1bf5=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x21fa7f=this['transformA'+'Texture']['lock'](),_0x2af592=this['transformR'+'Texture']['lock'](),_0x26418d=this['transformB'+'Texture']['lock'](),_0xd4629=(_0x21e320=this['transformM'+'otionTextu'+'re'])==null?void(0x1*0x1cda+-0xd21+-0xfb9):_0x21e320['lock'](),_0x171bb0=(_0x2e63ce=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x9fe+-0x3f1+-0x60d*0x1):_0x2e63ce['lock'](),_0x5bf1d6=new D(),_0xcc615e=new le(),_0x5e554d=new D(),_0x27d17a=new D(),_0x47f6ca=_0x30d624['createIter'](_0x5bf1d6,_0xcc615e,_0x5e554d,null,_0x27d17a),_0x37a262=_0x30d624['getProp']('t'),_0x17464f=_0x30d624['getProp']('t_scale');for(let _0x413962=0x1ace+-0x80b+0x641*-0x3;_0x413962<_0x30d624['numSplats'];_0x413962++)_0x47f6ca['read'](_0x413962),_0xcc615e['normalize'](),_0xcc615e['w']<-0x1b*0x11b+0x15fa+-0x41*-0x1f&&_0xcc615e['mulScalar'](-(-0x2*-0x8f5+-0x672+-0xb77)),_0x21fa7f[_0x413962*(0x17d9+-0x1f27+0x1*0x751)+(-0x93*-0x3b+0x2241+0x22*-0x201)]=_0x5bf1d6['x'],_0x21fa7f[_0x413962*(-0x50f+0x4ed+0x25)+(-0x76+0xbff+-0xb88)]=_0x5bf1d6['y'],_0x21fa7f[_0x413962*(-0x165*0x5+-0x1ac+0x8*0x115)+(-0x64a+0x2605*0x1+0x1fb9*-0x1)]=_0x5bf1d6['z'],_0x26418d[_0x413962*(-0x8*-0x4bc+0xc1a+0x1*-0x31f7)+(-0x6*-0x345+-0x1*0xa42+-0x95c)]=_0x1d1bf5(_0x5e554d['x']),_0x26418d[_0x413962*(0x1*0x190c+-0xbce*0x3+0x1*0xa61)+(-0x11ff+-0xf7f*0x1+0x217f)]=_0x1d1bf5(_0x5e554d['y']),_0x26418d[_0x413962*(0x67*0x45+-0x5ea*0x1+-0x15d6)+(-0x1eda+-0x4a0+0x5ea*0x6)]=_0x1d1bf5(_0x5e554d['z']),_0x2af592[_0x413962*(0x322*-0x2+0x5*0x4e3+0x245*-0x8)+(-0x5ff+-0x1095+0x11*0x154)]=_0xcc615e['x'],_0x2af592[_0x413962*(0x1*0x9f0+-0x89*0x16+0x1d9)+(0x1a91+0x7*-0x24+-0x1994*0x1)]=_0xcc615e['y'],_0x2af592[_0x413962*(0x20ef*0x1+0x5*0x22c+0x15e4*-0x2)+(0x0+0x3e2+-0x10*0x3e)]=_0xcc615e['z'],this['is4D']&&_0xd4629&&_0x171bb0&&(_0xd4629[_0x413962*(0x17b*-0x2+0x103a+0xd*-0x105)+(0xf6f+-0x129a+0x32b*0x1)]=_0x27d17a['x'],_0xd4629[_0x413962*(-0x1d*0x3+-0x25f1+0x264b)+(-0x2*-0xd5d+0x1f96+-0x3a4f)]=_0x27d17a['y'],_0xd4629[_0x413962*(0x1*0x25ce+0xa5a+-0x3025)+(0x4b3*-0x8+-0x236e+0x1*0x4908)]=_0x27d17a['z'],_0x171bb0[_0x413962*(0x1e77+-0xec0+0xf*-0x10c)+(0xad*0x1f+0xa5*0xa+-0x1b65)]=_0x37a262?_0x37a262[_0x413962]:-0x5b1+-0x833+0xde4,_0x171bb0[_0x413962*(0x190*0x5+-0x19fc+0x7*0x299)+(-0x38a+-0x1a0e+0x1d99)]=_0x17464f?Math['exp'](_0x17464f[_0x413962]):-0xe*0xad+-0x114c+0x1ac2);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x17b383=this['transformM'+'otionTextu'+'re'])==null||_0x17b383['unlock'](),(_0x4e053d=this['transformL'+'ifecycleTe'+'xture'])==null||_0x4e053d['unlock']();}async['updateSHDa'+'ta'](_0x562e7d){var _0x32d434,_0x559911,_0x2d723d,_0x2c45a4,_0x23bd92,_0x150b37,_0x3fa0ba,_0x460281;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x1f475f=(_0x32d434=this['sh1to3Text'+'ure2'])==null?void(0x1a9e+0xd*-0x8c+-0x1382):_0x32d434['lock'](),_0x1012ed=(_0x559911=this['sh4to7Text'+'ure2'])==null?void(0x3*-0xca1+0x11*0x115+-0x2*-0x9bf):_0x559911['lock'](),_0x93d2e=(_0x2d723d=this['sh8to11Tex'+'ture2'])==null?void(-0xce5*0x2+-0x3b*0x1+0x1a05):_0x2d723d['lock'](),_0x43ab4c=(_0x2c45a4=this['sh12to15Te'+'xture2'])==null?void(0x13*-0x14+0xa76*-0x2+0x4*0x59a):_0x2c45a4['lock'](),_0x12594d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x24aa76=vg(_0x562e7d,_0x12594d*(-0x129e+0x2388+-0x10e7*0x1)),_0x5a2447=0x17bd+-0x359*-0x5+0x67f*-0x5,_0x22791d=0x1*0x1aad+0x1661+-0x903*0x5,_0xca35c4=new Float32Array(0x9*0x247+0x1f40+-0x1*0x33be),_0x31f046=new Uint32Array(_0xca35c4['buffer']),_0x1a9a27=new Array(_0x12594d*(-0x67*0x55+-0x1*0x14c3+0x36f9))['fill'](-0x55a+0x2561+-0x3*0xaad);for(let _0x56a34c=0x15b3+0x770+-0x1d23;_0x56a34c<_0x562e7d['numSplats'];++_0x56a34c){for(let _0x76703d=-0x26bf*-0x1+-0x1d7c+0x1*-0x943;_0x76703d<_0x12594d;++_0x76703d)_0x1a9a27[_0x76703d*(-0x1f27+-0x1526+-0x7c*-0x6c)]=_0x24aa76[_0x76703d][_0x56a34c],_0x1a9a27[_0x76703d*(0x13d9+-0x3b*0x5f+0x11*0x1f)+(-0x706*0x4+-0x8e*-0x27+0x677)]=_0x24aa76[_0x76703d+_0x12594d][_0x56a34c],_0x1a9a27[_0x76703d*(-0x17d*0x1a+-0x25ab*-0x1+-0x7*-0x26)+(0x1d82+-0x19*-0x3d+-0x139*0x1d)]=_0x24aa76[_0x76703d+_0x12594d*(0x743+-0xf94+0x853)][_0x56a34c];let _0x4ffdd6=_0x1a9a27[-0x716+-0xd*-0x101+-0x5f7];for(let _0x538a00=-0x485+-0x2316+-0x4*-0x9e7;_0x538a00<_0x12594d*(0x1e4c+0x1ab*-0x7+-0x129c);++_0x538a00)_0x4ffdd6=Math['max'](_0x4ffdd6,Math['abs'](_0x1a9a27[_0x538a00]));if(_0x4ffdd6!==0x1d93+-0xd47+-0x104c){for(let _0x32b5ed=-0x2a0+-0xb*-0x1ba+-0x105e;_0x32b5ed<_0x12594d;++_0x32b5ed)_0x1a9a27[_0x32b5ed*(0x12e4+0x6fa+-0x19db)+(0x16c8+-0x206d*0x1+-0x3*-0x337)]=Math['max'](-0x26f8+0x1880+-0x39e*-0x4,Math['min'](_0x5a2447,Math['floor']((_0x1a9a27[_0x32b5ed*(0x1e23*-0x1+-0x5c7+-0x11*-0x21d)+(0x59e+-0x1ec3+0x1925)]/_0x4ffdd6*(0x745*0x2+-0x9ac+-0x4de+0.5)+(-0xa4*0x24+0x128b+-0x59*-0xd+0.5))*_0x5a2447+(0x136*-0x7+0xff*0xd+0xe5*-0x5+0.5)))),_0x1a9a27[_0x32b5ed*(-0x25be+-0x11*0x1eb+0x465c)+(-0x1*-0x1bc0+-0x8*-0x427+0x1*-0x3cf7)]=Math['max'](-0x2ff*-0x1+-0x15f4+0x12f5,Math['min'](_0x22791d,Math['floor']((_0x1a9a27[_0x32b5ed*(0x5*0x493+0xd*-0xfd+-0xe9*0xb)+(0x1ba5+-0x1*-0x2359+-0xf*0x433)]/_0x4ffdd6*(0x4d+-0x23*0x17+0x2d8*0x1+0.5)+(-0x101*-0x12+0x1d*-0xfb+0xa5d+0.5))*_0x22791d+(0x128*0xb+0x25e5+-0x329d+0.5)))),_0x1a9a27[_0x32b5ed*(0x5e3+-0x1253*-0x1+-0x23*0xb1)+(0x1*0x511+0xa23+-0xf32)]=Math['max'](-0x3*-0x353+0x1037+0x1a3*-0x10,Math['min'](_0x5a2447,Math['floor']((_0x1a9a27[_0x32b5ed*(0x13f7+0x2119+0x1f7*-0x1b)+(-0x3*0x8dd+0x1*0x25e2+-0xb49)]/_0x4ffdd6*(0xdee*-0x2+0x1657+-0x3*-0x1d7+0.5)+(-0x1b69+0x228c+-0x723*0x1+0.5))*_0x5a2447+(-0x20cb+0x16ed+0x9de+0.5))));_0xca35c4[-0x5d3+-0x1*0x5ad+0xb80]=_0x4ffdd6,_0x1f475f[_0x56a34c*(-0x61*0x1a+-0x7d5+0x1*0x11b3)+(-0x1*0xd77+-0x35*-0xb5+-0x1802)]=_0x31f046[0x1*-0x1823+0x6a*-0x19+0x227d],_0x1f475f[_0x56a34c*(0x2146*-0x1+-0x2*-0x355+0x10*0x1aa)+(-0x38a+0x1da8+0x1*-0x1a1d)]=_0x1a9a27[0x50b+-0x178f+0x1284]<<-0x131f+-0x2220+-0x1aaa*-0x2|_0x1a9a27[0x6e*0x1f+-0x1*0x445+-0x90c]<<-0x1*0x1c3f+0x2b*0x47+0x105d|_0x1a9a27[-0x1d64+-0x6*-0x453+-0x1*-0x374],_0x1f475f[_0x56a34c*(-0x1c95+0x5*0x81+-0x1*-0x1a14)+(0x170*0x15+0x34*-0x3+-0x1*0x1d92)]=_0x1a9a27[0x1fb*-0x3+-0x1881+0x1e75]<<0x16ec+-0xcf4+-0x1*0x9e3|_0x1a9a27[0xf4d+-0x1*-0x10fc+0x2045*-0x1]<<0x970+-0x1a17+0x10b2*0x1|_0x1a9a27[0xac8+0x92d+-0x13f0],_0x1f475f[_0x56a34c*(-0x8c1+-0x2361+0x2c26)+(0x124a+0xae9+-0x1d30)]=_0x1a9a27[-0x4*-0x9a7+0x1f67+-0x1b5*0x29]<<0x3a*0x7+-0xb*0x7f+0x1fa*0x2|_0x1a9a27[0x9b7+-0x43*-0x1d+-0x1147]<<-0x3f1*-0x1+0x17e3+-0x3*0x943|_0x1a9a27[0x1284+-0x809*-0x2+0x2*-0x1147],this['shBands']>-0x1*0x70d+-0x36c+-0x1*-0xa7a&&(_0x1012ed[_0x56a34c*(0x1*0x43a+0x1*0xbec+-0x5*0x33a)+(-0xb62+-0x244+0xda6)]=_0x1a9a27[-0x1*0x1d07+0x1*0x841+0x14cf*0x1]<<0x612+-0x1343+-0xd46*-0x1|_0x1a9a27[0x264+-0xff6*-0x1+-0x1250]<<-0xd*0x167+0x26f+0x1*0xfd7|_0x1a9a27[-0x705*0x2+-0x2575+0x338a],_0x1012ed[_0x56a34c*(-0xaf4+0x2*0x125e+-0x44*0x61)+(-0x1d58+-0x1549+0x32a2)]=_0x1a9a27[0x2679+-0x2569+-0x104]<<0x1ab0+0x2a*-0xb1+0x26f|_0x1a9a27[0xbad+-0x1*0x15b+-0xb*0xef]<<0xd8b*0x2+0x1*-0xb60+-0xfab|_0x1a9a27[0x191f*-0x1+0x1*0xed1+0xa5c],_0x1012ed[_0x56a34c*(0x209*0x1+0x2f*0x19+-0x2*0x34e)+(0x12ce+-0x1*0x1805+0x7*0xbf)]=_0x1a9a27[-0xf*-0x194+-0x9b*0x3+0x1e*-0xba]<<-0x119b+0x199*0x1+0x1017|_0x1a9a27[-0x410*-0x6+0x1238+-0x2a88]<<0x27d+0x2d3*-0x5+0xbad*0x1|_0x1a9a27[-0x9*-0x80+0xc56*0x2+-0x1d1b],_0x1012ed[_0x56a34c*(0x1b31*-0x1+0x187d*0x1+0x2b8)+(0x1b*0xd+0xbb9+-0xd15*0x1)]=_0x1a9a27[-0x118+-0x1*0x1fb+-0x73*-0x7]<<-0x1*-0x2034+-0x1a5d+-0x43*0x16|_0x1a9a27[-0x16a9+-0x1421+0x2add]<<0x1d3c+0x1632+-0xf*0x36d|_0x1a9a27[-0x1*-0x1fcd+-0x43*-0x3+-0x39*0x92],this['shBands']>0x1726+-0x1d*0xbf+-0x181?(_0x93d2e[_0x56a34c*(0x58b+0x1*-0x1e9a+0x7*0x395)+(0x1*0xa36+-0x2*-0x10dc+-0x2bee)]=_0x1a9a27[-0xb11*0x2+-0x1*-0xb11+-0xb26*-0x1]<<-0xed9*0x1+0x329+0xbc5*0x1|_0x1a9a27[0x4d6*-0x6+-0x542*-0x5+-0x12*-0x28]<<-0x1fb8+0x29*-0xa4+0x3a07|_0x1a9a27[0x1*-0xd95+0x3*0xbee+0x2*-0xb0f],_0x93d2e[_0x56a34c*(-0x13f3*0x1+-0xb7*0x23+-0xb3f*-0x4)+(0x1765+0x63*0x5d+-0x3b5b)]=_0x1a9a27[0x946+-0xcf1*-0x3+-0x3001]<<0x1e75+-0x45f*-0x5+-0x343b|_0x1a9a27[-0xe6f*-0x1+-0x1e62+0x100c]<<0xc2d+0x584*-0x7+0x1a7a*0x1|_0x1a9a27[-0x1530+0x22ba+-0xd70],_0x93d2e[_0x56a34c*(-0x246f+0x1756+-0x3*-0x45f)+(0x1e91*0x1+0x3f3*-0x2+-0x16a9)]=_0x1a9a27[0x9*0x2d1+-0xed+0x4b*-0x53]<<-0x14*0x10f+0x1583+-0x42|_0x1a9a27[-0x1c6f+0x1828+0x463]<<0x1e7c+0x1*-0x1835+-0x63c|_0x1a9a27[-0x11*0x1d+-0x2569*0x1+0x2773*0x1],_0x93d2e[_0x56a34c*(0x1e75+-0x43*0x88+-0x1*-0x527)+(0x2325+-0x20f1+-0xbb*0x3)]=_0x1a9a27[0xa27+0x1a05+0x5*-0x736]<<-0x167b+0x3*-0x482+0x2416|_0x1a9a27[-0x68f*0x2+0x1883+-0xb46]<<0xc40+0x11a+-0x1*0xd4f|_0x1a9a27[0x3bd*-0x7+0x311*0x1+-0x7be*-0x3],_0x43ab4c[_0x56a34c*(0x230c*0x1+0x1*-0x1ca6+0x331*-0x2)+(-0xa53+-0xbc3*0x3+-0x79a*-0x6)]=_0x1a9a27[0x164b+-0xfc*0xb+-0xb56]<<-0x1c7f+-0x21f2+0x3e86|_0x1a9a27[0xf37+0x927+-0x183c]<<-0x5*-0x44f+0x259d*0x1+-0x3b1d|_0x1a9a27[0x1915*0x1+0x2a*-0x6+-0x17f6],_0x43ab4c[_0x56a34c*(0x2*-0xe90+0x2077+-0x353)+(0x62c+-0x34a+0x2e1*-0x1)]=_0x1a9a27[0x6*0x2ec+0x2051+-0x31b5]<<0x106*-0x10+0x525*0x7+-0x138e|_0x1a9a27[-0x30+0x3b+-0x1*-0x1a]<<0x199*-0x6+0x1ae*0x2+0x645|_0x1a9a27[-0x8e*-0x29+-0x7e1*0x1+-0xeb7],_0x43ab4c[_0x56a34c*(0x4*-0x56+-0x261d+0x1*0x2779)+(0x1d2+0xad*0x30+-0x89*0x40)]=_0x1a9a27[0x1758+-0x1ce7+0x5b6]<<-0x1921+0x1679*0x1+0x1*0x2bd|_0x1a9a27[-0x89*-0x1+0x1*0xb89+-0xbea]<<0x1*0x260a+-0x25ed+0x2*-0x9|_0x1a9a27[-0x2*-0x6ee+0x200b+0x2*-0x16df],_0x43ab4c[_0x56a34c*(-0xa7e+-0x1565+0x1fe7)+(0x13af+-0x263+-0x5*0x375)]=_0x1a9a27[0x10a0+-0xe6f*0x2+0xc68]<<-0x1766+-0x1d*-0x150+-0x1*0xe95|_0x1a9a27[0x1*0x13fc+0x1635*0x1+-0x2a06]<<0xe0e+-0x206b+0x1268|_0x1a9a27[-0x1b2e+-0xaeb+-0x65*-0x61]):_0x93d2e[_0x56a34c]=_0x1a9a27[-0x3d*-0x1b+-0x2016+-0x36*-0x7a]<<0x1197+0x1045+-0x21c7|_0x1a9a27[0x37f+-0x669+0x300]<<-0x1f8+0x24de*-0x1+-0x10d*-0x25|_0x1a9a27[0x1*0x12c3+-0xafc+-0x8*0xf6]);}}(_0x23bd92=this['sh1to3Text'+'ure2'])==null||_0x23bd92['unlock'](),(_0x150b37=this['sh4to7Text'+'ure2'])==null||_0x150b37['unlock'](),(_0x3fa0ba=this['sh8to11Tex'+'ture2'])==null||_0x3fa0ba['unlock'](),(_0x460281=this['sh12to15Te'+'xture2'])==null||_0x460281['unlock']();}async['updateSHDa'+'taByWorker'](_0xe91b43){var _0x13cd49,_0x981ddd,_0x28c88e,_0x3dcabe,_0x1b6db4;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x478b1e={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x100c06,_0x234212,_0x597cfd,_0x509920;if((_0x13cd49=_0xe91b43['transformD'+'ata'])!=null&&_0x13cd49['sh1to3Data'])_0x100c06=(_0x981ddd=_0xe91b43['transformD'+'ata'])==null?void(0x10*0x133+-0x852+0xade*-0x1):_0x981ddd['sh1to3Data'],_0x234212=(_0x28c88e=_0xe91b43['transformD'+'ata'])==null?void(-0x1631+0x5d3*0x2+0xa8b):_0x28c88e['sh4to7Data'],_0x597cfd=(_0x3dcabe=_0xe91b43['transformD'+'ata'])==null?void(-0x36a+0x1*-0x1387+0x16f1):_0x3dcabe['sh8to11Dat'+'a'],_0x509920=(_0x1b6db4=_0xe91b43['transformD'+'ata'])==null?void(0x11*-0x119+0x124c+0x5d):_0x1b6db4['sh12to15Da'+'ta'];else{const _0x4b2ca4=vg(_0xe91b43,_0x478b1e*(0x8f7*-0x2+-0x5*0x455+0x112*0x25)),_0x43b607=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0xe91b43['numSplats'],this['shBands'],_0x4b2ca4);_0x100c06=_0x43b607['sh1to3Data'],_0x234212=_0x43b607['sh4to7Data'],_0x597cfd=_0x43b607['sh8to11Dat'+'a'],_0x509920=_0x43b607['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x100c06),this['shBands']>0x6f6+0x1f37+-0x262c&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x234212),this['shBands']>-0x104f+0x5*-0x2cf+0x1e5c?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x597cfd),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x509920)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x597cfd));}}async function bC(){const _0x4454a1=new Float32Array(-0x205b+-0x49*0x1a+-0xd42*-0x3);new Int32Array(_0x4454a1['buffer']);let _0x358429=null,_0x556469=null,_0x55bfa1=null,_0x2e681b=null,_0x47b715=null,_0x46e422=null,_0x5ba2ec=null,_0x64642f=null;self['onmessage']=async _0x108de9=>{const {data:_0x449e1a}=_0x108de9;switch(_0x449e1a['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x2b30a9(_0x449e1a['numSplats'],_0x449e1a['shBands'],_0x449e1a['SHData']);break;case'updateTran'+'sformData':_0x1d0fa3(_0x449e1a['numSplats'],_0x449e1a['is4D'],_0x449e1a['position'],_0x449e1a['rotation'],_0x449e1a['motion'],_0x449e1a['scale'],_0x449e1a['muT'],_0x449e1a['tScale']);break;case'destroyWor'+'ker':_0x13a0cf();break;}};const _0x1d0fa3=(_0x37a781,_0x1140e8,_0x5392d6,_0x4cc2c9,_0x484ff1,_0x4b622e,_0x3892e3,_0x4447a7)=>{_0x13a0cf(),_0x1140e8&&(_0x556469=new Float32Array(_0x37a781*(0x65*-0x23+-0xef*-0x1+0xce3)),_0x64642f=new Float32Array(_0x37a781),_0x47b715=new Float32Array(_0x484ff1['buffer']['slice']()),_0x5ba2ec=new Float32Array(_0x484ff1['buffer']['slice']())),_0x2e681b=new Float32Array(_0x5392d6['buffer']['slice']()),_0x358429=new Float32Array(_0x5392d6['buffer']['slice']()),_0x46e422=new Uint16Array(_0x4b622e['buffer']['slice']()),_0x55bfa1=new Float32Array(_0x4cc2c9['buffer']['slice']());for(let _0x209cac=-0x25b6+0x2162+0x4*0x115;_0x209cac<_0x37a781;_0x209cac++)_0x1140e8&&_0x556469&&(_0x64642f[_0x209cac]=_0x4447a7?Math['exp'](_0x4447a7[_0x209cac]):-0x25*0x4c+0x1dd8+0x1*-0x12dc,_0x556469[_0x209cac*(0x12*-0xdc+-0x26e3+0x365e)+(0x91c+-0x1a70+0x2*0x8aa)]=_0x3892e3?_0x3892e3[_0x209cac]:0x222d+0x1*0x142b+0x128*-0x2f,_0x556469[_0x209cac*(-0x1346+0x2b9*-0xa+0x2e83)+(0x1c4*0x10+0xa97+-0x26d6)]=_0x64642f[_0x209cac]);const _0xe37b2b=[_0x358429['buffer'],_0x2e681b['buffer'],_0x46e422['buffer'],_0x55bfa1['buffer']];_0x1140e8&&_0xe37b2b['push'](_0x47b715['buffer'],_0x556469['buffer'],_0x5ba2ec['buffer'],_0x64642f['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x358429,'dataPosition':_0x2e681b,'dataScale':_0x46e422,'dataRotation':_0x55bfa1,'dataMotion':_0x47b715,'dataTime':_0x556469,'motion':_0x5ba2ec,'tScaleArray':_0x64642f},_0xe37b2b);},_0x2b30a9=(_0x2fe2fa,_0x5b75d3,_0x3c7970)=>{const _0x3c8926=new Uint32Array(_0x2fe2fa*(0x4c4+0x1b1f+0xc7*-0x29)),_0x4c5468=new Uint32Array(_0x2fe2fa*(-0x2b*0xa+0x2*-0x1223+-0x21c*-0x12)),_0x208a71=new Uint32Array(_0x2fe2fa*(-0x14*-0x1b9+-0x2208+-0x68)),_0x49a724=new Uint32Array(_0x2fe2fa*(-0x6*-0x5e7+-0x723*0x2+0x34*-0x68)),_0x475b6e={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5b75d3],_0x4565d2=_0x3c7970,_0x55155a=-0x1ad1+0x122*-0x1c+0x4288*0x1,_0x2be3f7=0x1*-0x195a+0xecc+-0x5*-0x2e9,_0x41e6f2=new Float32Array(-0x22b*-0x7+-0x2303*-0x1+-0x1bb*0x1d),_0x215bc4=new Uint32Array(_0x41e6f2['buffer']),_0x3a717a=new Array(_0x475b6e*(-0x1fac+0xb48*-0x2+0x363f))['fill'](0x11da+0x164d+0x13*-0x21d);for(let _0x579a8f=-0x968+-0x1442+0x1daa;_0x579a8f<_0x2fe2fa;++_0x579a8f){for(let _0x584eed=0x79+0x23b*0x11+0x5b*-0x6c;_0x584eed<_0x475b6e;++_0x584eed)_0x3a717a[_0x584eed*(-0x1055*-0x1+-0x49d+-0xbb5)]=_0x4565d2[_0x584eed][_0x579a8f],_0x3a717a[_0x584eed*(0x21c5+-0x8b*0x37+-0x3e5)+(0x7*0x1a6+0x17a9*0x1+-0x2332)]=_0x4565d2[_0x584eed+_0x475b6e][_0x579a8f],_0x3a717a[_0x584eed*(-0x164a+-0x2b*-0x77+0x250)+(0x247d+-0x42f+0x1a*-0x13e)]=_0x4565d2[_0x584eed+_0x475b6e*(0x2b*-0xc6+-0x1c93+0x3dd7)][_0x579a8f];let _0x43d626=_0x3a717a[-0x1*0x1a06+-0x14ec+-0x1*-0x2ef2];for(let _0xb8ff40=-0x2b*0x50+-0xf51+0x1cc2;_0xb8ff40<_0x475b6e*(-0xbe0+-0x20eb+0x2cce);++_0xb8ff40)_0x43d626=Math['max'](_0x43d626,Math['abs'](_0x3a717a[_0xb8ff40]));if(_0x43d626!==0x1*-0x15f7+-0x7fd*-0x3+0x40*-0x8){for(let _0x4f1ae1=-0x1*0x1965+0x1c*0x126+-0x6c3;_0x4f1ae1<_0x475b6e;++_0x4f1ae1)_0x3a717a[_0x4f1ae1*(0x345+-0x73e+0x6*0xaa)+(0xf0d+0x23fa+-0x3307*0x1)]=Math['max'](-0x1eea+-0x1c4f*0x1+0x3b39,Math['min'](_0x55155a,Math['floor']((_0x3a717a[_0x4f1ae1*(0x1*-0xa60+0x5b6+0x3*0x18f)+(0x38b*0xb+-0x183+-0x2ad*0xe)]/_0x43d626*(0xfcc*0x2+-0x2484+0x69*0xc+0.5)+(0x1216+-0x1d88+0x24a*0x5+0.5))*_0x55155a+(0x20e4+-0x2533+0x44f+0.5)))),_0x3a717a[_0x4f1ae1*(0x449+-0x55*-0x46+-0x4*0x6e1)+(0x1d79+-0x3*0x53a+-0xdca)]=Math['max'](-0x4c1*-0x7+0x10*0x112+-0x11*0x2f7,Math['min'](_0x2be3f7,Math['floor']((_0x3a717a[_0x4f1ae1*(0x12d1+0x25fa+-0x38c8)+(0xb*-0x1eb+0x1f8f+0x1*-0xa75)]/_0x43d626*(0x1431*0x1+0x1c86+-0x30b7+0.5)+(-0x79*-0xa+-0x125a+-0x6d0*-0x2+0.5))*_0x2be3f7+(0x838+0x24eb+-0x2d23+0.5)))),_0x3a717a[_0x4f1ae1*(-0x13f*0x17+-0x1960+0x360c)+(-0x81*0x45+-0x10a0+0x3367)]=Math['max'](-0x1abf+-0x1*0x186e+0xb*0x4a7,Math['min'](_0x55155a,Math['floor']((_0x3a717a[_0x4f1ae1*(-0x3f*0x34+0xd7+0x2fe*0x4)+(0x12c+-0x19b+-0x71*-0x1)]/_0x43d626*(0x32*0xf+-0x55*-0xc+-0x3b*0x1e+0.5)+(-0x131d+-0x1abe+0x2ddb+0.5))*_0x55155a+(-0x21e7+0x1b49+0x69e+0.5))));_0x41e6f2[0x1340+-0x8da+-0xa66]=_0x43d626,_0x3c8926[_0x579a8f*(-0xa2*-0x3c+-0x42*0x64+-0xc2c)+(0x25c4+-0x1ea7+-0x3*0x25f)]=_0x215bc4[-0x1107+-0x184a*0x1+-0x7*-0x5e7],_0x3c8926[_0x579a8f*(0x1ba3+0x2*-0x5db+-0xfe9)+(0x9ef+-0x4cd+-0x1*0x521)]=_0x3a717a[-0x3*0x859+0x1107+0xc*0xab]<<-0x957*-0x3+-0x1*-0x26c9+-0x42b9|_0x3a717a[0x12c6+-0x1*0x23ea+0x18f*0xb]<<-0x1*-0x11cf+0x2*-0xe54+0xae4|_0x3a717a[-0x98c+-0x4b9*-0x8+-0x1c3a],_0x3c8926[_0x579a8f*(0x35*-0x3b+0x9f1+0x24a)+(0x350+-0x71*-0x3+-0x4a1)]=_0x3a717a[0x20dd+0x80e*0x3+-0x3904]<<0x2397+-0x82f+0x577*-0x5|_0x3a717a[0x2*-0x4a9+-0x61*0x41+0x21f7]<<-0x35*-0x35+-0x3*0x5f2+-0x34*-0x22|_0x3a717a[0x486+0x14cb+-0x2*0xca6],_0x3c8926[_0x579a8f*(-0xd07*-0x1+0x2093+0xf*-0x30a)+(0x1*-0x22e5+0x1*-0x2bf+0x25a7)]=_0x3a717a[-0x1*-0xa39+-0xe*-0x7d+-0x1109]<<0x20e*-0x2+0x79+0x4*0xee|_0x3a717a[0x59b+0xa*-0x3af+0x1f42]<<-0x3*0x5c+0x1*0x1b16+-0x19f7|_0x3a717a[-0x4e*-0x1+-0xd2+-0x1c*-0x5],_0x5b75d3>0x1a67*0x1+-0x16*-0x107+-0x3100&&(_0x4c5468[_0x579a8f*(0x3*-0x626+-0x1086+0x22fc)+(0x73d*-0x1+-0x18af+0x1fec)]=_0x3a717a[-0x47f+-0x15*0xf6+0x18b6*0x1]<<-0xe14+0x1*0x8df+0x54a|_0x3a717a[0x6aa+-0xb*-0xf8+-0x1148]<<-0x5*-0x32f+0x1ee1+0x2ec1*-0x1|_0x3a717a[0xa4f+-0x1cac+-0x1268*-0x1],_0x4c5468[_0x579a8f*(-0x1d7*-0x10+0x97b*-0x4+0x8*0x110)+(0x23*-0xe2+0x6*-0x336+0x322b)]=_0x3a717a[-0x4*-0x8c8+0x14f4+-0x3808]<<0x26ec+0x1a0e+-0x40e5|_0x3a717a[0x1bd9+-0x1*-0x2680+-0x424c*0x1]<<0x1ca9+0x23be+0x3*-0x1574|_0x3a717a[0xbe3+0xfb0+-0x1b85],_0x4c5468[_0x579a8f*(0x23b*-0x6+-0x232c+0x3092)+(0xe97+0x1249*-0x1+0x2*0x1da)]=_0x3a717a[0x44b+-0x15*0x14f+0x1*0x173f]<<0x1017+0x2514+-0x3516|_0x3a717a[0x1509+0x5*0x28a+0x33*-0xa9]<<-0xd01*0x1+-0x1014+0x1d20|_0x3a717a[-0x2e*0x41+0x6d4+-0x4eb*-0x1],_0x4c5468[_0x579a8f*(0x2026+0x415+-0x2437)+(-0x11d7*0x2+-0x1*-0x26af+0x2fe*-0x1)]=_0x3a717a[-0x18*0xa1+0x1562+-0x1*0x638]<<-0x4a*0x16+-0x4dc+-0x107*-0xb|_0x3a717a[0xbaf+-0xfda+0x43e]<<0x2475+0xdf*-0x1d+-0xb27|_0x3a717a[0x825+0x1*-0xc25+-0x1*-0x414],_0x5b75d3>-0x1*-0x22ca+0x18cb+0x65*-0x97?(_0x208a71[_0x579a8f*(-0x7*-0x152+0x201c+-0x2956)+(0x1c5d+0x21a2+0x3dff*-0x1)]=_0x3a717a[0x84f*-0x3+-0x8*0x6b+0x1c5a]<<-0x220*0xc+0x1f4b+-0x5b6|_0x3a717a[0x2b*-0x97+0x53b+0x1438]<<-0xfff+0x9b*-0x7+0x1447|_0x3a717a[-0xc6f+-0x1*-0x2641+-0x19bb],_0x208a71[_0x579a8f*(0x5*-0x6b9+-0x1*0x136d+-0x2*-0x1a87)+(0x7a2*0x4+0x120a*0x2+-0x429b)]=_0x3a717a[0x4c*0x39+-0xad*-0x26+-0x2a82]<<-0x2b*-0xa7+-0x1e7a*-0x1+-0x1*0x3a72|_0x3a717a[0x201f+0x6*-0x5dd+0x328]<<0x28f*0x5+0x1*0x1841+0x2501*-0x1|_0x3a717a[0x63*0x6+-0x8a9+0x671*0x1],_0x208a71[_0x579a8f*(0xad*0x1f+-0x744+-0xdab*0x1)+(0x94d*-0x3+-0x1*-0x31f+0x18ca)]=_0x3a717a[0x1d56+0x162b+-0x3366]<<0xaaa+-0x1c29+0x12*0xfa|_0x3a717a[-0xd9e+0x2*-0xc27+0x2*0x1304]<<-0x5*0x337+-0x2033+0x3051|_0x3a717a[0x119+-0xd99+-0xc9d*-0x1],_0x208a71[_0x579a8f*(0x980+-0x457+-0x1b7*0x3)+(0x1473+0x1*-0xe9+-0x1387)]=_0x3a717a[-0xc9+0x460+0x7f*-0x7]<<-0x24ac+0x185+0x233c|_0x3a717a[0x812*-0x4+0x1c17+0x450]<<0x2144+-0xc*-0x3a+-0x23f1*0x1|_0x3a717a[-0x2658+0x1*0xed7+0x17*0x107],_0x49a724[_0x579a8f*(-0x956+0x6d*-0x25+-0x1*-0x191b)+(-0x2*-0xde9+0x1*0x2033+0x1*-0x3c05)]=_0x3a717a[-0x2651*-0x1+0x67*-0x47+-0x335*0x3]<<-0x1a5d+-0xf10*0x2+-0xd*-0x45a|_0x3a717a[-0xd98+-0x10bc+0x1e76]<<-0x7aa+0x1128+-0x973*0x1|_0x3a717a[-0x1daf+0x253a*-0x1+-0x430c*-0x1],_0x49a724[_0x579a8f*(0x1c5e+0x185*-0x13+-0x1*-0x85)+(0x198*-0x1+-0x2*-0xf49+-0x1cf9)]=_0x3a717a[-0x1*0x1013+0x7*0x1ab+-0xe*-0x53]<<0xd51+0x2555+-0x3291|_0x3a717a[-0x2*-0x10a3+0x6d*-0x3+0x38a*-0x9]<<-0xc84+0x495*0x5+-0xa5a|_0x3a717a[-0x1b61*0x1+0x1393*0x1+0x7f4],_0x49a724[_0x579a8f*(0x51a*-0x2+-0x1*-0x823+0xd*0x29)+(-0x21a1+0x4ca+0x1cd9)]=_0x3a717a[-0x2635*0x1+0x1c7c+-0x278*-0x4]<<0x2*0x78a+0x2452+0x57*-0x97|_0x3a717a[0x78*0x1f+-0x509*0x6+0xfd6*0x1]<<-0x2632*0x1+-0xae3+-0xc*-0x418|_0x3a717a[0x8d9*-0x1+0x3d*-0x8b+0x5*0x86d],_0x49a724[_0x579a8f*(-0x20b*-0x8+-0x3*-0xa55+-0x2f53)+(0x18df+-0x9cf+-0xf0d)]=_0x3a717a[0x11b+0x41*0x53+-0x1604]<<0x11*0x6d+0x23da+-0x5*0x89a|_0x3a717a[0x4eb*0x3+0x1641+0x24d7*-0x1]<<-0x129f+0xcb2+-0x4*-0x17e|_0x3a717a[0x1*-0x1ee3+0x1ae*0x15+-0x437]):_0x208a71[_0x579a8f]=_0x3a717a[-0x11bf+-0x156b+0x1*0x273f]<<0x1ccd*-0x1+-0x25cb+0x1*0x42ad|_0x3a717a[0x121a*-0x1+-0x23d*-0xd+-0xae9]<<-0xc*0x15a+-0xb7f*0x3+-0x40*-0xcb|_0x3a717a[0x2526+-0xac3+-0x1a4c]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x3c8926,'sh4to7Data':_0x4c5468,'sh8to11Data':_0x208a71,'sh12to15Data':_0x49a724}},[_0x3c8926['buffer'],_0x4c5468['buffer'],_0x208a71['buffer'],_0x49a724['buffer']]);},_0x13a0cf=()=>{_0x358429=null,_0x556469=null,_0x55bfa1=null,_0x2e681b=null,_0x47b715=null,_0x46e422=null,_0x5ba2ec=null,_0x64642f=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x3307db,_0x2b07c2,_0x4b3ede){_0x3307db['onmessage']=_0x10f816=>{if(!this['worker'])return;const {data:_0x101494}=_0x10f816;if(_0x101494['type']===_0x2b07c2)switch(_0x2b07c2){case'updatedSHD'+'ata1':_0x4b3ede(_0x101494['data']);break;case'updatedCol'+'orData':_0x4b3ede(_0x101494['data']);break;case'updatedTra'+'nsformData':_0x4b3ede(_0x101494);break;}};}['updateSHDa'+'ta1'](_0x319c8f,_0x280943,_0xa95b91){var _0x4302ab;return(_0x4302ab=this['worker'])==null||_0x4302ab['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x319c8f,'shBands':_0x280943,'SHData':_0xa95b91}),new Promise(_0x16c717=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x598d9d=>{_0x16c717(_0x598d9d);});});}async['updateTran'+'sData'](_0x323aac,_0x3d4f90,_0x56532e,_0x963c7a,_0x1a1bd4,_0x193dde,_0x49f654,_0x92903f){var _0xf8723;return(_0xf8723=this['worker'])==null||_0xf8723['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x323aac,'is4D':_0x3d4f90,'position':_0x56532e,'rotation':_0x963c7a,'motion':_0x1a1bd4,'scale':_0x193dde,'muT':_0x49f654,'tScale':_0x92903f}),new Promise(_0x58f7d3=>{const _0x1ce2ff=_0x58d405=>{_0x58f7d3(_0x58d405);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1ce2ff);});}['destroy'](){var _0xb65389;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0xb65389=this['worker'])==null||_0xb65389['terminate'](),this['worker']=null);}}const xg=(_0x1f0f32,_0x39c2ba)=>{const _0x5856da=[];for(let _0x217e98=-0x35b+-0x12a+0x485;_0x217e98<_0x39c2ba;++_0x217e98)_0x5856da['push'](_0x1f0f32['getProp']('f_rest_'+_0x217e98));return _0x5856da;};class CC extends Rv{constructor(_0x224c80,_0x71b578){super(_0x224c80,_0x71b578),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0xc*-0xad+-0xc6d*0x1+0x148a)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x6a7*-0x1+0x1199+-0xaed);}['setSceneIn'+'fo'](_0x1bf299){this['sceneInfo']['duration']=_0x1bf299['duration'],this['sceneInfo']['fps']=_0x1bf299['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x1bf299['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x1bf299['globalBoun'+'dingBox']['min'][-0x1*-0x1ed9+-0x11*0x40+-0x1*0x1a99],_0x1bf299['globalBoun'+'dingBox']['min'][0x218c*0x1+-0xc11+-0x157a],_0x1bf299['globalBoun'+'dingBox']['min'][-0x298*-0xe+0x154b+-0x3999]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x1bf299['globalBoun'+'dingBox']['max'][0xfc1*-0x1+-0x69d*0x1+0x165e],_0x1bf299['globalBoun'+'dingBox']['max'][-0x1*0x1b56+0x10fa+0xa5d*0x1],_0x1bf299['globalBoun'+'dingBox']['max'][-0x1*-0x1f46+-0x3e*0x5+0x2*-0xf07]);const _0x422667=_0x1bf299['globalBoun'+'dingBox']['min'][-0x15bb*0x1+0xcc*-0xc+0x1*0x1f4b],_0x6c51f7=_0x1bf299['globalBoun'+'dingBox']['min'][0x1*0xbe1+0xba7*0x3+0x1*-0x2ed5],_0x513ec2=_0x1bf299['globalBoun'+'dingBox']['min'][0xe72+0x1a3+-0x1013],_0x529990=_0x1bf299['globalBoun'+'dingBox']['max'][-0x843*-0x1+0x171a+-0x1f5d*0x1],_0x10d4a1=_0x1bf299['globalBoun'+'dingBox']['max'][0x1c5+0x1330+-0x4*0x53d],_0x5db440=_0x1bf299['globalBoun'+'dingBox']['max'][-0x2*0x1cd+-0x36a+0x706],_0x4fab02=new D((_0x422667+_0x529990)*(-0x3*-0x43c+-0xc*0xd8+-0x294+0.5),(_0x6c51f7+_0x10d4a1)*(-0x2f*0x29+-0x13af+-0x81*-0x36+0.5),(_0x513ec2+_0x5db440)*(-0x1*-0xe8f+-0x3*0x6c4+0x5bd+0.5)),_0x20e9c8=new D((_0x529990-_0x422667)*(-0xa5b+0x6d*-0x4d+-0x16*-0x1f6+0.5),(_0x10d4a1-_0x6c51f7)*(0xe6c+-0x2362+0x14f6+0.5),(_0x5db440-_0x513ec2)*(-0x1933+-0x30a*-0x4+0xd0b+0.5)),_0x366842=new De(_0x4fab02,_0x20e9c8);this['sceneInfo']['globalBoun'+'dingBox']=_0x366842,this['aabb']=_0x366842;}async['updateData'](){var _0x341ee6,_0x2a95d6,_0x455cd8,_0x202226,_0xb2b2f0,_0x564c51,_0x25ffb7,_0x45bda8,_0x39436d,_0x27a102,_0xab3d19;await super['updateData']();const _0x134f7f=this['gsplatData'];if(!_0x134f7f)return;this['is4D']=_0x134f7f['is4D'];const _0x2b79c2=await this['getTransfo'+'rmDataByWo'+'rker'](_0x134f7f);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x2b79c2['centers'],this['motion']=_0x2b79c2['motion'],this['tScale']=_0x2b79c2['tScaleArra'+'y'],this['muT']=await _0x134f7f['getMuT'](),this['timeIndex']=await _0x134f7f['getTimeInd'+'ex']();const _0x517aa2=this['evalTextur'+'eSize'](_0x134f7f['numSplats']);this['colorTextu'+'re']?((_0x341ee6=this['colorTextu'+'re2'])==null||_0x341ee6['destroy'](),(_0x2a95d6=this['transformA'+'Texture2'])==null||_0x2a95d6['destroy'](),(_0x455cd8=this['transformB'+'Texture2'])==null||_0x455cd8['destroy'](),(_0x202226=this['transformR'+'Texture2'])==null||_0x202226['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x517aa2),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x517aa2),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x517aa2),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x517aa2),this['is4D']&&((_0xb2b2f0=this['transformM'+'otionTextu'+'re2'])==null||_0xb2b2f0['destroy'](),(_0x564c51=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x564c51['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x517aa2),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x517aa2))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x517aa2),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x517aa2),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x517aa2),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x517aa2),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x517aa2),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x517aa2),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x517aa2),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x517aa2),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x517aa2),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x517aa2),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x517aa2),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x517aa2))),await this['updateColo'+'rData'](_0x134f7f),await this['updateTran'+'sformFromD'+'ata'](_0x2b79c2),this['shBands']=_0x134f7f['shBands'],this['shBands']>0x594+-0x12bb+0x25*0x5b&&(this['sh1to3Text'+'ure']?((_0x25ffb7=this['sh1to3Text'+'ure2'])==null||_0x25ffb7['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x517aa2),this['shBands']>0x2*-0xf1c+0x565*0x1+-0x7*-0x38c&&((_0x45bda8=this['sh4to7Text'+'ure2'])==null||_0x45bda8['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x517aa2),this['shBands']>-0x2*-0xd5e+-0x1465*0x1+0x1*-0x655?((_0x39436d=this['sh8to11Tex'+'ture2'])==null||_0x39436d['destroy'](),(_0x27a102=this['sh12to15Te'+'xture2'])==null||_0x27a102['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x517aa2),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x517aa2)):((_0xab3d19=this['sh8to11Tex'+'ture2'])==null||_0xab3d19['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x517aa2)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x517aa2),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x517aa2),this['shBands']>-0x8*-0x12a+-0x175*-0x7+-0x1382&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x517aa2),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x517aa2),this['shBands']>0x325+0x1*-0x1baf+0x188c?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x517aa2),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x517aa2),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x517aa2),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x517aa2)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x517aa2),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x517aa2)))),await this['updateSHDa'+'taByWorker'](_0x134f7f));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x1bf0a4){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x1bf0a4}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x125233,_0x32f9da,_0x438481,_0x507c1c,_0x215e8e,_0xe57087){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x125233,'timeOption':_0x32f9da,'loadedTime':_0x438481,'asset':_0x507c1c,'events':_0x215e8e,'seekCB':_0xe57087}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x221e+0x5*0x29c+-0x2*0x1795);try{for(;this['appendQueu'+'e']['length']>0xbc5+-0x23c0+-0x7*-0x36d;){const _0x2a8baf=this['appendQueu'+'e']['shift']();_0x2a8baf['type']==='append'?await this['processApp'+'endTask'](_0x2a8baf['data']):_0x2a8baf['type']==='release'&&await this['processRel'+'easeTask'](_0x2a8baf['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x16f9*-0x1+0x2310+-0xd*0xee);}}}async['processRel'+'easeTask'](_0x497e76){const {index:_0x16eb6d}=_0x497e76;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x16eb6d);}async['processApp'+'endTask'](_0x2e5151){var _0x20b16c;const {gsplatData:_0x37ac54,timeOption:_0x4d2d8d,loadedTime:_0x5adbc1,asset:_0x3a7b51,events:_0x50d193,seekCB:_0x23fa28}=_0x2e5151;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x4d2d8d,this['asset']=_0x3a7b51,this['assetsMana'+'gerLoadedT'+'ime']=_0x5adbc1,this['events']=_0x50d193,await this['gsplatData']['appendGSpl'+'atData'](_0x37ac54,_0x5adbc1,_0x4d2d8d),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1f1+0x63*-0x3d+-0x48*-0x4d),_0x37ac54['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x37ac54['numSplats'])['toFixed'](0x3*0xac7+-0x6dc+0xcbb*-0x2)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x178f+-0x1c6a+0x4dd),_0x37ac54['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x20b16c=this['gsplatInst'+'ance'])==null?void(0x243+-0x232e+0x20eb):_0x20b16c['updateInst'+'anceData'](this,_0x5adbc1,_0x23fa28)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x85*-0x16+0x48*0x62+-0x26fc),_0x37ac54['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x22acc2,_0x62bd5){var _0x3b33c0;const _0x273456=_0x22acc2||this['assetsMana'+'gerLoadedT'+'ime'];(_0x3b33c0=this['asset'])==null||_0x3b33c0['fire']('setAssetsL'+'oaded',_0x273456,_0x62bd5);}['destroy'](){var _0x217a66,_0xfb670e,_0x25342d,_0x4945cc,_0x26de16,_0x22486b,_0x5a1658,_0x33114e,_0x2b546e,_0xe00b79,_0x510dd4,_0x317eab,_0x32c6bf,_0x4b026d,_0x2ccdf6,_0x2440d2,_0x2dc011,_0x2bb114,_0x5eb419,_0x2d93f3,_0x5a091e;(_0x217a66=this['updateData'+'Worker'])==null||_0x217a66['destroy'](),this['updateData'+'Worker']=void(0xf77*-0x1+-0x1b07+-0xe*-0x309),(_0xfb670e=this['colorTextu'+'re'])==null||_0xfb670e['destroy'](),(_0x25342d=this['transformA'+'Texture'])==null||_0x25342d['destroy'](),(_0x4945cc=this['transformB'+'Texture'])==null||_0x4945cc['destroy'](),(_0x26de16=this['transformR'+'Texture'])==null||_0x26de16['destroy'](),(_0x22486b=this['transformM'+'otionTextu'+'re'])==null||_0x22486b['destroy'](),(_0x5a1658=this['transformL'+'ifecycleTe'+'xture'])==null||_0x5a1658['destroy'](),(_0x33114e=this['sh1to3Text'+'ure'])==null||_0x33114e['destroy'](),(_0x2b546e=this['sh4to7Text'+'ure'])==null||_0x2b546e['destroy'](),(_0xe00b79=this['sh8to11Tex'+'ture'])==null||_0xe00b79['destroy'](),(_0x510dd4=this['sh12to15Te'+'xture'])==null||_0x510dd4['destroy'](),(_0x317eab=this['colorTextu'+'re2'])==null||_0x317eab['destroy'](),(_0x32c6bf=this['transformA'+'Texture2'])==null||_0x32c6bf['destroy'](),(_0x4b026d=this['transformB'+'Texture2'])==null||_0x4b026d['destroy'](),(_0x2ccdf6=this['transformR'+'Texture2'])==null||_0x2ccdf6['destroy'](),(_0x2440d2=this['transformM'+'otionTextu'+'re2'])==null||_0x2440d2['destroy'](),(_0x2dc011=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x2dc011['destroy'](),(_0x2bb114=this['sh1to3Text'+'ure2'])==null||_0x2bb114['destroy'](),(_0x5eb419=this['sh4to7Text'+'ure2'])==null||_0x5eb419['destroy'](),(_0x2d93f3=this['sh8to11Tex'+'ture2'])==null||_0x2d93f3['destroy'](),(_0x5a091e=this['sh12to15Te'+'xture2'])==null||_0x5a091e['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x2fbd4f){var _0x4b2153,_0x1c5eea,_0x197934,_0x3bb3d4,_0x41670c,_0x4a1c8a,_0x3bfda1,_0x3dc0e3,_0xdcb266,_0x41ad4e,_0x35bed0,_0x1a5220,_0x45f7a7;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x23c7bc=((_0x4b2153=_0x2fbd4f['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1b03+-0x1125+-0x2*0x4ef):_0x4b2153['data'])??-0x47*-0x1+0xde1+-0xe28,_0x260dcc=((_0x1c5eea=_0x2fbd4f['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x112*-0xe+0x55d+0x99f):_0x1c5eea['data'])??-0x2e*0x2b+-0x92f*-0x4+0x1*-0x1d01,_0x4b9ec9=((_0x197934=_0x2fbd4f['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x14cf+0x6c2+-0x1b91):_0x197934['data'])??0x2169+-0x22fc+0x194,_0x577806=((_0x3bb3d4=_0x2fbd4f['getParamet'+'er']('uHueOffset'))==null?void(-0x39e+0x2578*-0x1+0x2916):_0x3bb3d4['data'])??0x1*-0x1ba7+0x120d+0x99a,_0x3f3934=((_0x41670c=_0x2fbd4f['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x929+-0x1b8+0xae1):_0x41670c['data'])??0x1ea3+0x21*-0x35+-0x17ce,_0x49d994=((_0x4a1c8a=_0x2fbd4f['getParamet'+'er']('uOpacity'))==null?void(-0x1*-0x1613+0x239b+-0x39ae):_0x4a1c8a['data'])??-0x3ac+-0x125e+0x39*0x63,_0x22ae8b=((_0x3bfda1=_0x2fbd4f['getParamet'+'er']('clrOffset'))==null?void(-0x66*-0x2e+-0xf6e+-0x7*0x6a):_0x3bfda1['data'])??[-0x6*0x24f+-0x50b*-0x4+0x2*-0x329,-0x107e+0x6f0+0x98e,0x12d9+-0x6bb+-0xb*0x11a,-0x742*-0x2+0x1*0x1beb+-0x2a6e],_0x331cad=((_0x3dc0e3=_0x2fbd4f['getParamet'+'er']('clrScale'))==null?void(0xc7f+0x21d7+-0x2e56):_0x3dc0e3['data'])??[-0x2520+-0x254d+0x4a6e,0x1db1+-0x29*0x2b+-0x16cd,-0xeb2+-0xb19*-0x3+-0x5*0x3b8,-0x47a*-0x1+0x1d1d+0x6*-0x599],_0x703cc=((_0xdcb266=_0x2fbd4f['getParamet'+'er']('uShapeN'))==null?void(0xce8+0x1650+-0xc4*0x2e):_0xdcb266['data'])??0x5bb*-0x1+-0x3c6+0x981,_0x7912a2=((_0x41ad4e=_0x2fbd4f['getParamet'+'er']('mode'))==null?void(0x4*0x646+0x14*-0x1+-0x2*0xc82):_0x41ad4e['data'])??0x10*0x15+0x18fb+-0x1a4b,_0x1eb54c=((_0x35bed0=_0x2fbd4f['getParamet'+'er']('ringSize'))==null?void(0xb2c*0x3+-0x1*-0x75b+0x28df*-0x1):_0x35bed0['data'])??-0x7*0x20f+0x9af*-0x1+0x1818,_0x2fb01e=((_0x1a5220=_0x2fbd4f['defines'])==null?void(-0x1d3*0x1+-0xd03*-0x1+-0xb30):_0x1a5220['get']('uOpenAnim'))??'0',_0x4b04de=((_0x45f7a7=_0x2fbd4f['defines'])==null?void(0xe2*0x9+-0x2*0x377+0xd*-0x14):_0x45f7a7['get']('uControlCo'+'lorMode'))??'0';_0x2fbd4f['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x2fbd4f['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x2fbd4f['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x2fbd4f['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x2fbd4f['setParamet'+'er']('uSplatScal'+'e',_0x260dcc),_0x2fbd4f['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x23c7bc),_0x2fbd4f['setParamet'+'er']('uSaturatio'+'n',_0x4b9ec9),_0x2fbd4f['setParamet'+'er']('uHueOffset',_0x577806),_0x2fbd4f['setParamet'+'er']('uInvertOpa'+'city',_0x3f3934),_0x2fbd4f['setParamet'+'er']('uOpacity',_0x49d994),_0x2fbd4f['setParamet'+'er']('clrOffset',_0x22ae8b),_0x2fbd4f['setParamet'+'er']('clrScale',_0x331cad),_0x2fbd4f['setParamet'+'er']('uShapeN',_0x703cc),_0x2fbd4f['setParamet'+'er']('mode',_0x7912a2),_0x2fbd4f['setParamet'+'er']('ringSize',_0x1eb54c),_0x2fbd4f['setParamet'+'er']('prerenderC'+'Time',-0x18d5*-0x1+-0x2454+0xb7f),_0x2fbd4f['setParamet'+'er']('renderSpac'+'e',0x6c6*0x5+0x4*-0x45b+0x18*-0xaf),_0x2fbd4f['setParamet'+'er']('endSpace',-0xd*-0x15d+0x5c9*0x5+-0x1*0x2e9c),_0x2fbd4f['setDefine']('uOpenAnim',_0x2fb01e),_0x2fbd4f['setDefine']('uControlCo'+'lorMode',_0x4b04de),this['transformM'+'otionTextu'+'re']&&_0x2fbd4f['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x2fbd4f['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x2fbd4f['setDefine']('SH_BANDS',this['shBands']),_0x2fbd4f['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x2fbd4f['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x2fbd4f['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x2fbd4f['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x2fbd4f['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x245947){const _0x5a5db1=Math['ceil'](Math['sqrt'](_0x245947)),_0x18bf71=Math['ceil'](_0x245947/_0x5a5db1);return new J(_0x5a5db1,_0x18bf71);}async['updateColo'+'rData'](_0x10fcc6){var _0x36c3bf;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x162578=this['colorTextu'+'re2'];if(!_0x162578||this['isDestroye'+'d'])return;let _0x370613=(_0x36c3bf=_0x10fcc6['transformD'+'ata'])==null?void(0x1aa9+0x1*0x2485+-0x3f2e):_0x36c3bf['dataColor'];if(!_0x370613){const _0x33fe19=_0x10fcc6['getProp']('color_opac'+'ity');_0x370613=new Uint16Array(_0x33fe19['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x162578,_0x370613);}async['getTransfo'+'rmDataByWo'+'rker'](_0x1037f2){var _0x475129;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x475129=_0x1037f2['transformD'+'ata'])!=null&&_0x475129['dataCenter'+'s'])return{'centers':_0x1037f2['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x1037f2['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x1037f2['transformD'+'ata']['dataScale'],'dataRotation':_0x1037f2['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x1037f2['transformD'+'ata']['dataMotion'],'dataTime':_0x1037f2['transformD'+'ata']['dataTime'],'motion':_0x1037f2['transformD'+'ata']['motion'],'tScaleArray':_0x1037f2['transformD'+'ata']['tScaleArra'+'y']};const _0x170683=_0x1037f2['getProp']('position'),_0x3baee2=_0x1037f2['getProp']('motion'),_0x3ad803=_0x1037f2['getProp']('rotation'),_0x3d72ea=_0x1037f2['getProp']('scale'),_0x3f2fe7=_0x1037f2['getProp']('t'),_0x555fff=_0x1037f2['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x1037f2['numSplats'],this['is4D'],_0x170683,_0x3ad803,_0x3baee2,_0x3d72ea,_0x3f2fe7,_0x555fff);}async['updateTran'+'sformFromD'+'ata'](_0xdb09ff){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0xdb09ff['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0xdb09ff['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0xdb09ff['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0xdb09ff['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0xdb09ff['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x2ae8c4,_0x52d2f8){if(!this['isDestroye'+'d'])return new Promise(_0x12963e=>{requestIdleCallback(()=>{const _0x355ba0=_0x2ae8c4['lock']();_0x355ba0==null||_0x355ba0['set'](_0x52d2f8),_0x2ae8c4['unlock'](),_0x12963e(!(0x3*-0x515+0x113*-0xb+0x1b10));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x29d130){var _0x47aa13,_0x34b01a,_0x4118c9,_0x4253aa,_0x124751,_0x323be2,_0x57535e,_0x375e06;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x4e6547=(_0x47aa13=this['sh1to3Text'+'ure2'])==null?void(-0x16*-0x129+0x1351+-0x1*0x2cd7):_0x47aa13['lock'](),_0x1c71c9=(_0x34b01a=this['sh4to7Text'+'ure2'])==null?void(-0x39*0x95+0x1*0x33a+0x11*0x1c3):_0x34b01a['lock'](),_0x44c48c=(_0x4118c9=this['sh8to11Tex'+'ture2'])==null?void(0x7*-0x195+0x1fc*0x1+0xd*0xb3):_0x4118c9['lock'](),_0x2e9bba=(_0x4253aa=this['sh12to15Te'+'xture2'])==null?void(-0xb*-0x293+-0x4a7*0x3+0x72e*-0x2):_0x4253aa['lock'](),_0x458c63={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x497f60=xg(_0x29d130,_0x458c63*(-0x1951+0x1d82+0xd6*-0x5)),_0x13a143=0x3*-0x787+0x5a*0x29+0x102a,_0x58c5d3=0x1dba+0x1*0xb33+-0x2*0x1277,_0x198ce0=new Float32Array(0x8cc+-0x75f+0x1*-0x16c),_0x384a8f=new Uint32Array(_0x198ce0['buffer']),_0x4724ae=new Array(_0x458c63*(0xcf8+-0x1822+0xb2d))['fill'](0x16ed+-0x47a+0x1273*-0x1);for(let _0x3d01c8=0x1bbf+0x76+0x3*-0x967;_0x3d01c8<_0x29d130['numSplats'];++_0x3d01c8){for(let _0x28e79f=0x583+0x8*0x34+0x3f*-0x1d;_0x28e79f<_0x458c63;++_0x28e79f)_0x4724ae[_0x28e79f*(-0x21*-0x25+-0x23*-0x9d+-0x1a39)]=_0x497f60[_0x28e79f][_0x3d01c8],_0x4724ae[_0x28e79f*(0x1cd3+-0x23*-0x4f+0x1*-0x279d)+(0x1412*0x1+0xe3e*0x2+-0x565*0x9)]=_0x497f60[_0x28e79f+_0x458c63][_0x3d01c8],_0x4724ae[_0x28e79f*(-0x9e7+-0xfc3+0x19ad)+(-0x2660+0x226+0x243c)]=_0x497f60[_0x28e79f+_0x458c63*(0xfd3*0x1+0x1d6b+-0xc1*0x3c)][_0x3d01c8];let _0x1ef438=_0x4724ae[0x1efd+0x2c*0x60+-0x2f7d*0x1];for(let _0x173263=-0x2e*-0x3f+0x1094+0x1be5*-0x1;_0x173263<_0x458c63*(0x1135+-0x358+-0xdda);++_0x173263)_0x1ef438=Math['max'](_0x1ef438,Math['abs'](_0x4724ae[_0x173263]));if(_0x1ef438!==-0xbd5*0x2+0x38*0x56+0x4da){for(let _0x561e33=-0x1*-0x63b+-0x43a+-0x201;_0x561e33<_0x458c63;++_0x561e33)_0x4724ae[_0x561e33*(0xced*0x2+0x6b*-0x28+0x1*-0x91f)+(-0x7*-0x169+0x1f0b*0x1+-0x28ea*0x1)]=Math['max'](-0xd36+0x1afb+-0xdc5*0x1,Math['min'](_0x13a143,Math['floor']((_0x4724ae[_0x561e33*(0x1a*-0x139+0x803+-0x69*-0x3a)+(-0x1*0x145f+0xc*0xc+0x13cf)]/_0x1ef438*(-0x283+-0x23e9+0x266c+0.5)+(0xe5e+0x20e*0x13+0x8*-0x6ad+0.5))*_0x13a143+(0x619*-0x1+-0x1b*0x6+0x6bb+0.5)))),_0x4724ae[_0x561e33*(-0x1041+0x169b+-0x657)+(0x22e0+0x3*0x879+-0x3c4a)]=Math['max'](-0x1*-0x20cc+-0x74c+0x8*-0x330,Math['min'](_0x58c5d3,Math['floor']((_0x4724ae[_0x561e33*(-0x1*-0x10fd+-0x1*0xef9+-0x9*0x39)+(0x25*-0x29+-0x1ed+0x1*0x7db)]/_0x1ef438*(-0x2405+-0xdbc+0x2f*0x10f+0.5)+(0x32b*-0x2+0x5*-0x162+0x40*0x35+0.5))*_0x58c5d3+(-0x7*-0x121+-0x2f*-0x65+-0x1a72+0.5)))),_0x4724ae[_0x561e33*(-0x21a8+-0x2*0x107b+-0x25*-0x1cd)+(-0x233b+-0x18c*-0x2+0x2025)]=Math['max'](0x16*-0x148+0xd7e+0xeb2*0x1,Math['min'](_0x13a143,Math['floor']((_0x4724ae[_0x561e33*(-0x74d*0x1+0x37*0xf+0x417)+(0x1969+-0x458+-0x3*0x705)]/_0x1ef438*(-0x1e9*-0x2+-0x1c52+0x1880+0.5)+(0x1e4+-0x1d*0x16+-0x9a*-0x1+0.5))*_0x13a143+(0xa32+-0x638+0x1*-0x3fa+0.5))));_0x198ce0[-0x2b*0x91+-0x1938+0x715*0x7]=_0x1ef438,_0x4e6547[_0x3d01c8*(0x2d7*-0xb+0x1ad*-0x17+0x2*0x22e6)+(0x1c33+0xe8c+0x1*-0x2abf)]=_0x384a8f[0x22ce+0x1024+-0x32f2],_0x4e6547[_0x3d01c8*(0x1d73+0x1df*0x2+0x95*-0x39)+(-0xc56+-0x5db*-0x1+0x67c)]=_0x4724ae[-0x1891*0x1+-0x8f*0xc+-0x5*-0x641]<<0x665+-0xcf1+0x6a1|_0x4724ae[0x519*0x3+-0x73a+-0x81*0x10]<<0xfe6+0x8*0x18b+-0x1c33|_0x4724ae[0x1ce5*-0x1+-0x4cb+0x21b2],_0x4e6547[_0x3d01c8*(0xb40*0x1+-0x1751+0x1*0xc15)+(0x1e9d+-0x1e3c+-0x5f)]=_0x4724ae[0xc79*-0x1+0x3f0+0x88c]<<0x119f+0x158a+-0x2714|_0x4724ae[-0xeaa*-0x2+0x22f0+0x1*-0x4040]<<0x273*0xf+-0x5b1*-0x4+-0x76*0x81|_0x4724ae[-0xf9a+0x515*0x2+0x575],_0x4e6547[_0x3d01c8*(0x10cb+-0x1*0x299+-0xe2e)+(-0x421+0x1*0xd4a+-0x926)]=_0x4724ae[-0xa0*-0xe+-0xf35*-0x1+-0x17ef]<<0x1*-0xbea+0x63+0xb9c|_0x4724ae[0x2461*0x1+-0xce*0x28+-0x42a]<<0x12cd+0x6f*0x17+-0x1*0x1cbb|_0x4724ae[-0x36*-0x76+0x14d2+0x3*-0xf3a],this['shBands']>-0x185e+0x1*0x1f95+-0x736&&(_0x1c71c9[_0x3d01c8*(-0x82b+0x1eb6+0x1*-0x1687)+(0x9c3+0x2685+-0x3048)]=_0x4724ae[-0x321+0xbe7+0x8bd*-0x1]<<-0x21aa+0x1*0x1048+0x11*0x107|_0x4724ae[-0xbf4+-0x184f+-0x1*-0x244d]<<0x2*-0x82f+0x2*0x11ff+-0x1*0x1395|_0x4724ae[0x12fb*-0x1+0x3*0x6b9+-0x125],_0x1c71c9[_0x3d01c8*(-0x2*0x317+-0x1*0x2fa+0x92c)+(0x8f2+0xbc3+-0x19*0xd4)]=_0x4724ae[0x1*0x1bd3+0x1ee+-0x1db5]<<-0x19d9+-0x1afb+0x34e9|_0x4724ae[0x15*0x5c+0x22e3+0x136*-0x23]<<0x5*-0x50d+-0x15a1+-0x125*-0x29|_0x4724ae[0x824*0x3+-0x3c3+-0x149b],_0x1c71c9[_0x3d01c8*(0x45c+0x1d7d+0xb47*-0x3)+(0x2*0xaec+0xc7*0x3+0x10d*-0x17)]=_0x4724ae[0x1165*-0x1+-0x1a65*0x1+0x2bd9]<<-0x1442+-0x9f1+0xa18*0x3|_0x4724ae[-0x1*0x757+0x21*0x9+0x63e]<<0x15*-0x10d+0x4b3*0x1+0x1169|_0x4724ae[-0x13aa+0x34*0x64+-0x95*0x1],_0x1c71c9[_0x3d01c8*(0x1163*0x1+-0x21dc+-0x57f*-0x3)+(0x206b*0x1+0xb*0x107+0x43*-0xa7)]=_0x4724ae[0x746+0x901+-0x1035]<<0x185*-0x16+-0x24eb+0x466e|_0x4724ae[0x1008+0x1c64+0x2c59*-0x1]<<0x2001+-0x1d1*-0xc+-0x35c2|_0x4724ae[0x1f*-0x13d+0x179c+-0xedb*-0x1],this['shBands']>-0x17df+0x266*0x1+-0x1*-0x157b?(_0x44c48c[_0x3d01c8*(0x359*-0x6+-0x2*-0x9d6+0x6e)+(-0xad*-0x29+-0x1*0xde4+-0x3*0x49b)]=_0x4724ae[-0x76*-0x30+0x65e+-0x1*0x1c69]<<-0x1197+-0x1b24+-0x3*-0xef0|_0x4724ae[0x7*0x30b+0xfe+0x1635*-0x1]<<0x1501+-0x1cc1+0x7cb|_0x4724ae[0x54e+0xf80+0x1*-0x14b7],_0x44c48c[_0x3d01c8*(0xf2*-0xf+-0x6*0x123+0x1504)+(-0x1*-0xce1+0x9b*0x12+-0x17c6)]=_0x4724ae[0x26*-0x5c+0x680+-0x3a0*-0x2]<<-0x14ff+-0x221e+0xf*0x3ae|_0x4724ae[-0x9*-0x257+0x245*-0xc+-0x16*-0x49]<<-0x1dd9*0x1+0x2120+-0x33c|_0x4724ae[0x5ea+-0x53b*0x7+-0x13*-0x19f],_0x44c48c[_0x3d01c8*(-0xfa2+0x1*0x293+0xd13)+(0x2*-0x18a+-0x1db3*0x1+0x20c9)]=_0x4724ae[0x2f3*-0x3+-0x7*0x91+-0xceb*-0x1]<<0x1b12+0x22c1*-0x1+0x7*0x11c|_0x4724ae[0x18ca+0x42d*0x6+-0x31bc]<<0x11fa+-0x2070+0x4f*0x2f|_0x4724ae[-0x1*-0x6bd+-0x26d+0x2b*-0x19],_0x44c48c[_0x3d01c8*(0x1204+0x33a+-0x153a)+(0x207*-0xf+0x1c1c+0x25*0x10)]=_0x4724ae[-0x1*0x1faf+0xc74+-0x1*-0x1359]<<0x1e2e+0x206b*-0x1+0xc6*0x3|_0x4724ae[-0x1*0x1c12+-0xc2*0x19+0x2f23]<<0x2117+0x1503+0x360f*-0x1|_0x4724ae[-0x1f06+0x2181+0x43*-0x9],_0x2e9bba[_0x3d01c8*(-0x119*0x1+0x1*0x1bf8+-0x1adb)+(0x118a+-0x49c+-0xcee)]=_0x4724ae[-0x49*0x49+0x16e3+-0x47*0x7]<<-0x21f7+0x1c6*-0xb+-0x11da*-0x3|_0x4724ae[-0x1ca5*0x1+-0x1d5d*-0x1+0x1*-0x96]<<-0x546+-0x1*-0x1be+0x131*0x3|_0x4724ae[-0x8*-0x97+0x63*0x55+-0x2574],_0x2e9bba[_0x3d01c8*(-0x9e3*0x2+-0x100*-0x11+-0xee*-0x3)+(0x945+-0x2561+0x1c1d)]=_0x4724ae[-0x1*0x16a2+-0x4d4*-0x4+0x1bb*0x2]<<-0x1*0x1267+0x1*-0x1ec4+0x628*0x8|_0x4724ae[0x8fb+-0x1915+0x103f]<<0x1*0xd06+-0x1036+-0x1*-0x33b|_0x4724ae[-0x1a83+-0x16e1+0x11*0x2ea],_0x2e9bba[_0x3d01c8*(-0x1*-0x143b+-0x601+-0xe36)+(-0x39*-0x83+0xca+0x1c3*-0x11)]=_0x4724ae[-0x305*0x1+-0x136c+0x1698]<<0x3*0x2a4+0xb*0x37+0xa34*-0x1|_0x4724ae[-0x1a07+-0x3*0x321+0x3a*0x9d]<<-0x30f+0x2310+0x1*-0x1ff6|_0x4724ae[-0x1d2c+-0x161b+-0x337*-0x10],_0x2e9bba[_0x3d01c8*(0x4*-0x283+-0x2cc*0xa+0x2608)+(0x16c2+-0x11*0x71+-0xf3e)]=_0x4724ae[-0x44*0x5e+0x9f*-0x8+0x1e1a]<<-0x89b*0x1+0x1b*-0xc1+-0x1*-0x1d0b|_0x4724ae[-0xae*0x1d+-0x441+0x1822]<<-0x2*-0x439+-0x2280+0x1a19|_0x4724ae[0x19d8+-0x106d+-0x9*0x107]):_0x44c48c[_0x3d01c8]=_0x4724ae[-0xf7*-0x6+-0x2507+0x1f52]<<0x1*0x122b+-0x3*-0x6fe+0x32*-0xc8|_0x4724ae[-0x1091+0x1*0x23b9+-0x1*0x1312]<<-0x7d6*0x2+0x47d*-0x2+0x18b1|_0x4724ae[0x3*-0xb47+0x195*-0x10+-0x3b3c*-0x1]);}}(_0x124751=this['sh1to3Text'+'ure2'])==null||_0x124751['unlock'](),(_0x323be2=this['sh4to7Text'+'ure2'])==null||_0x323be2['unlock'](),(_0x57535e=this['sh8to11Tex'+'ture2'])==null||_0x57535e['unlock'](),(_0x375e06=this['sh12to15Te'+'xture2'])==null||_0x375e06['unlock']();}async['updateSHDa'+'taByWorker'](_0x191e11){var _0x16ae10,_0x3bf224,_0xb01fb5,_0x2c1e85,_0x333a8c;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4b8bec={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x2b97a5,_0x1071db,_0x316ebb,_0xf22102;if((_0x16ae10=_0x191e11['transformD'+'ata'])!=null&&_0x16ae10['sh1to3Data'])_0x2b97a5=(_0x3bf224=_0x191e11['transformD'+'ata'])==null?void(0x1d69+0x1cdb+0x1c4*-0x21):_0x3bf224['sh1to3Data'],_0x1071db=(_0xb01fb5=_0x191e11['transformD'+'ata'])==null?void(0x270b+0x3*0xc7f+0x8*-0x991):_0xb01fb5['sh4to7Data'],_0x316ebb=(_0x2c1e85=_0x191e11['transformD'+'ata'])==null?void(0x7d*0x49+-0x57*-0x3b+-0x37b2*0x1):_0x2c1e85['sh8to11Dat'+'a'],_0xf22102=(_0x333a8c=_0x191e11['transformD'+'ata'])==null?void(0x65*-0x4f+-0x6ad*-0x1+-0x6*-0x415):_0x333a8c['sh12to15Da'+'ta'];else{const _0x2d5270=xg(_0x191e11,_0x4b8bec*(0x11a+0xe5+-0x1fc)),_0x55d804=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x191e11['numSplats'],this['shBands'],_0x2d5270);_0x2b97a5=_0x55d804['sh1to3Data'],_0x1071db=_0x55d804['sh4to7Data'],_0x316ebb=_0x55d804['sh8to11Dat'+'a'],_0xf22102=_0x55d804['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x2b97a5),this['shBands']>-0x1241+0x24c2+0x4a*-0x40&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x1071db),this['shBands']>0x3*0x7ef+0xb4c+-0x2317?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x316ebb),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0xf22102)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x316ebb));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0xa05e74){Ov=_0xa05e74;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x50480c){w['assert'](_0x50480c),_0x50480c['frameUpdat'+'e']();const _0x5179e6=_0x50480c['beforePass'+'es'];for(let _0x4255cc=-0x1*0x2267+0x493+0x775*0x4;_0x4255cc<_0x5179e6['length'];_0x4255cc++){const _0x2fb485=_0x5179e6[_0x4255cc];_0x2fb485['enabled']&&this['addRenderP'+'ass'](_0x2fb485);}_0x50480c['enabled']&&this['renderPass'+'es']['push'](_0x50480c);const _0x505fc0=_0x50480c['afterPasse'+'s'];for(let _0x37a444=-0xad4+-0x3b*0x9e+-0x2*-0x179f;_0x37a444<_0x505fc0['length'];_0x37a444++){const _0x15a58f=_0x505fc0[_0x37a444];_0x15a58f['enabled']&&this['addRenderP'+'ass'](_0x15a58f);}}['reset'](){this['renderPass'+'es']['length']=0x2a4+0x1b8e+-0x1e32;}['compile'](){const _0x143607=this['renderTarg'+'etMap'],_0x5532ee=this['renderPass'+'es'];for(let _0xbc23cc=0x1efd+-0x1002*-0x1+-0x2eff;_0xbc23cc<_0x5532ee['length'];_0xbc23cc++){const _0x5c2f5d=_0x5532ee[_0xbc23cc],_0x564334=_0x5c2f5d['renderTarg'+'et'];if(_0x564334!==void(-0x52*-0x31+0x2247+-0x31f9)){const _0x161d0d=_0x143607['get'](_0x564334);if(_0x161d0d){const _0x578527=_0x5c2f5d['colorArray'+'Ops']['length'];for(let _0x4c47e8=0xa46+0x16b*0x11+0x1*-0x2261;_0x4c47e8<_0x578527;_0x4c47e8++)_0x5c2f5d['colorArray'+'Ops'][_0x4c47e8]['clear']||(_0x161d0d['colorArray'+'Ops'][_0x4c47e8]['store']=!(-0x146*0x3+0x1ad0+-0xda*0x1b));_0x5c2f5d['depthStenc'+'ilOps']['clearDepth']||(_0x161d0d['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0x125f+0x530+-0x87*-0x19)),_0x5c2f5d['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x161d0d['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x7db+-0x11ff+0xa24));}_0x143607['set'](_0x564334,_0x5c2f5d);}}for(let _0x2441f9=0x17b0+0x151b+-0x1*0x2ccb;_0x2441f9<_0x5532ee['length']-(-0xa9*0x2a+-0x3*0x4d7+0x2a40);_0x2441f9++){const _0x19e274=_0x5532ee[_0x2441f9],_0x2bcf55=_0x19e274['renderTarg'+'et'],_0x9039b8=_0x5532ee[_0x2441f9+(-0x1469+0x11a0+0x1*0x2ca)],_0x456ceb=_0x9039b8['renderTarg'+'et'];_0x2bcf55!==_0x456ceb||_0x2bcf55===void(-0x9a*0x2f+0x2*0xe1d+-0x6*-0x2)||_0x9039b8['depthStenc'+'ilOps']['clearDepth']||_0x9039b8['depthStenc'+'ilOps']['clearStenc'+'il']||_0x9039b8['colorArray'+'Ops']['some'](_0x5aef14=>_0x5aef14['clear'])||_0x19e274['afterPasse'+'s']['length']>-0x11f1+-0x13*0x9b+0x1d72||_0x9039b8['beforePass'+'es']['length']>-0xac5*-0x3+-0xdd*-0x25+0x2020*-0x2||(_0x19e274['_skipEnd']=!(0x139+0x1*-0xc14+0x7*0x18d),_0x9039b8['_skipStart']=!(-0x1955+0x1201+0x754));}let _0x408ba6=null,_0x1d3a11=null;for(let _0x19c76e=0x122*-0x1a+0x2*-0x1025+-0x469*-0xe;_0x19c76e<_0x5532ee['length'];_0x19c76e++){const _0x4b9396=_0x5532ee[_0x19c76e],_0x42e444=_0x4b9396['renderTarg'+'et'],_0x785da=_0x42e444==null?void(0x1*-0x1007+0x665+0x4d1*0x2):_0x42e444['colorBuffe'+'r'];if(_0x785da!=null&&_0x785da['cubemap']){if(_0x408ba6===_0x785da){const _0x151a94=_0x1d3a11['colorArray'+'Ops']['length'];for(let _0x3b3338=0x2e*-0x89+0x1c6f+-0x3d1;_0x3b3338<_0x151a94;_0x3b3338++)_0x1d3a11['colorArray'+'Ops'][_0x3b3338]['mipmaps']=!(0xe7f+0xc9e+0x14*-0x15b);}_0x408ba6=_0x42e444['colorBuffe'+'r'],_0x1d3a11=_0x4b9396;}else _0x4b9396['requiresCu'+'bemaps']&&(_0x408ba6=null,_0x1d3a11=null);}_0x143607['clear']();}['render'](_0x4ab0f3){this['compile']();const _0x886f3a=this['renderPass'+'es'];for(let _0x51094a=-0xeb*0x11+-0xe9*0xd+-0x10*-0x1b7;_0x51094a<_0x886f3a['length'];_0x51094a++)_0x886f3a[_0x51094a]['render']();}}class IC{constructor(_0x16f65c,_0x3c9c39){this['texture0']=_0x16f65c,this['texture1']=_0x3c9c39;}['destroy'](){var _0x56fa52,_0x29a63e;(_0x56fa52=this['texture0'])==null||_0x56fa52['destroy'](),(_0x29a63e=this['texture1'])==null||_0x29a63e['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x5314dd,_0x37e254,_0x4f9136,_0x25246b=''){return new _e(_0x5314dd,{'name':'AreaLightL'+'UT'+_0x25246b,'width':_0x4f9136,'height':_0x4f9136,'format':_0x37e254,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1357+0xb*-0x151+-0x7*-0x4d5)});}static['applyTextu'+'res'](_0x71597d,_0x45c243,_0x2d66cc){Eg['remove'](_0x71597d),Eg['get'](_0x71597d,()=>new IC(_0x45c243,_0x45c243===_0x2d66cc?null:_0x2d66cc)),_0x71597d['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x45c243),_0x71597d['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x2d66cc);}static['createPlac'+'eholder'](_0x5b7ced){const _0x1a5a3e=ia['createText'+'ure'](_0x5b7ced,nt,0x16*-0x13e+0x1ac0+-0x32*-0x3,'placeholde'+'r');_0x1a5a3e['lock']()['fill'](0x848+-0x1f3a+0x3*0x7a6),_0x1a5a3e['unlock'](),ia['applyTextu'+'res'](_0x5b7ced,_0x1a5a3e,_0x1a5a3e);}static['set'](_0x433697,_0x34b2a6,_0x2f8963){function _0x40eb60(_0x50aebc,_0x4ef5d1,_0x3d2af8){const _0x29026d=ia['createText'+'ure'](_0x50aebc,_0x3d2af8,0x10c6+-0x1198+0x112);return _0x29026d['lock']()['set'](_0x4ef5d1),_0x29026d['unlock'](),_0x29026d;}function _0x33b50b(_0x2d62ba){const _0x26124c=_0x2d62ba['length'],_0x395123=new Uint16Array(_0x26124c),_0x533354=Mn['float2Half'];for(let _0x3a99a6=0x97e+-0x984*-0x1+-0x1302;_0x3a99a6<_0x26124c;_0x3a99a6++)_0x395123[_0x3a99a6]=_0x533354(_0x2d62ba[_0x3a99a6]);return _0x395123;}const _0x3fcd57=_0x34b2a6,_0x5c179f=_0x2f8963,_0x24fe3c=_0x33b50b(_0x3fcd57),_0x491f14=_0x33b50b(_0x5c179f),_0x55617c=_0x40eb60(_0x433697,_0x24fe3c,nt),_0x2ab015=_0x40eb60(_0x433697,_0x491f14,nt);ia['applyTextu'+'res'](_0x433697,_0x55617c,_0x2ab015);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x36206f,_0x5a0752){for(let _0x2bd12c=0x27c*-0xb+-0x134c+0x2*0x1750,_0x20a72a=_0x36206f['length'];_0x2bd12c<_0x20a72a;_0x2bd12c++)Sm[_0x36206f[_0x2bd12c]]=_0x5a0752;}function Oi(_0x4dbd55){const _0x5ec949=_0x4dbd55['indexOf']('-');return _0x5ec949!==-(0x1f35+0x694+-0x25c8)?_0x4dbd55['substring'](-0x222+-0x315*-0x9+0x73*-0x39,_0x5ec949):_0x4dbd55;}function LC(_0x31a708,_0x339b5a){const _0x3e4ac8=_0x31a708['indexOf']('-');return _0x3e4ac8!==-(-0x1467*0x1+-0x657*0x3+-0x276d*-0x1)?_0x339b5a+_0x31a708['substring'](_0x3e4ac8):_0x339b5a;}function Fv(_0x171129,_0x3502fa){if(_0x3502fa[_0x171129])return _0x171129;let _0x2eed34=Mh[_0x171129];if(_0x2eed34&&_0x3502fa[_0x2eed34])return _0x2eed34;const _0x2586f6=Oi(_0x171129);return _0x2eed34=Mh[_0x2586f6],_0x3502fa[_0x2eed34]?_0x2eed34:_0x3502fa[_0x2586f6]?_0x2586f6:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x1b32e2=>0x1747+0x1*0xfb6+-0x455*0x9),Dr(['fa','hi'],_0x38c67d=>_0x38c67d>=0x5f*0x25+0xe*0x29+-0xff9&&_0x38c67d<=0x22eb+-0x2b*-0x89+0x3*-0x134f?-0x242a+0x1*0x1a95+-0x1*-0x995:-0x1fa3*-0x1+0x439*-0x5+-0x1*0xa85),Dr(['fr','pt'],_0x300ef5=>_0x300ef5>=-0x1ec9+0x17e8+0x6e1&&_0x300ef5<-0x1*-0x1521+0x15f8+-0x3*0xe5d?0x1946+-0xe6a+-0x56e*0x2:-0x1de*-0xe+-0x7c*0x46+0x7c5),Dr(['da'],_0x4dc1ae=>_0x4dc1ae===0x1*0x10bd+-0xe0f+-0x1*0x2ad||!Number['isInteger'](_0x4dc1ae)&&_0x4dc1ae>=-0x123+-0x1*-0x38d+-0x26a&&_0x4dc1ae<=-0x1845+-0x3*-0xc23+-0x1*0xc23?-0x22*-0xc9+0x201c+0x27*-0x182:-0xe3e+0x1*-0x2303+-0x3142*-0x1),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x163ed2=>_0x163ed2===0xa*-0xb9+-0x5*-0x6f5+-0x1b8e?-0x2401+-0x1d2+0x25d3:-0x2*-0x12eb+0x6*-0x70+0x1*-0x2335),Dr(['ru','uk'],_0x3e12cf=>{if(Number['isInteger'](_0x3e12cf)){const _0x20e43f=_0x3e12cf%(-0xe69+0x249d*-0x1+0x3310),_0x44e88f=_0x3e12cf%(0x14d+-0x6cf+0x5e6);if(_0x20e43f===-0x22*0x1+-0x313*0x4+-0x1*-0xc6f&&_0x44e88f!==-0x1*-0x1eb6+0x1*-0x8d7+0xaea*-0x2)return 0x261b*-0x1+0x157f+0x109c;if(_0x20e43f>=0x3e*-0x2+-0x23b2+-0x1218*-0x2&&_0x20e43f<=-0x293*0xb+-0x56*0x2b+-0x2f*-0xe9&&(_0x44e88f<0x1*0x114a+0xc3d+-0x1d7b||_0x44e88f>-0x139b+0x9c+0x130d))return-0x233f+0x2cb*-0xc+-0x44c4*-0x1;if(_0x20e43f===0x13*-0x1e5+-0x1deb+0x1*0x41ea||_0x20e43f>=0xb3e+0xb8f+0xd8*-0x1b&&_0x20e43f<=0x11b3+-0x186e+0x6c4||_0x44e88f>=0x21ae+-0x15f+-0x2044&&_0x44e88f<=-0x1*-0x94e+-0x1ffb+0x16bb)return 0xb*0xe5+-0x1492+-0xabd*-0x1;}return-0xa*0x3c5+0x14*-0x52+0x2c1d;}),Dr(['pl'],_0x1c2a13=>{if(Number['isInteger'](_0x1c2a13)){if(_0x1c2a13===-0x1*0x1d9a+-0x324+0x20bf)return-0x2*-0x12ac+-0x244d+-0x10b*0x1;const _0x43f232=_0x1c2a13%(0x1c3c+0x173+-0x1da5),_0xcb2bc8=_0x1c2a13%(-0x83+0x6*-0xa3+0x4b9);if(_0x43f232>=-0x5fc+0x61*0x3+0x4db&&_0x43f232<=-0x5b3+-0x1b*0xca+0x1b05&&(_0xcb2bc8<-0xad*-0x1d+-0x2101+0xd74||_0xcb2bc8>0x2465+-0x1195+-0x12c2))return 0x1*0x238f+-0x18d7*-0x1+-0x3c65;if(_0x43f232>=-0x101*0x1+0x71d+0x22*-0x2e&&_0x43f232<=0x1a89*-0x1+0x266*-0x8+0x2dba||_0x43f232>=-0x1692+0x1a1a+-0x383*0x1&&_0x43f232<=-0x1fb3+-0x6cc+-0x89*-0x48||_0xcb2bc8>=0x5*-0x449+0x2*-0x4bc+0x1*0x1ef1&&_0xcb2bc8<=-0x958+0x2b*0x28+0x2ae)return 0x740*-0x4+0xe*-0x27c+0x3fca;}return 0x661+-0xe00+0x7a2;}),Dr(['ar'],_0x37e89c=>{if(_0x37e89c===-0x1*0x93+-0x4ca+-0x1*-0x55d)return-0x190a+-0x2051+0x395b;if(_0x37e89c===-0x2*0x7c9+-0x99+0xa*0x19e)return 0x26bc+-0x38a+-0x27*0xe7;if(_0x37e89c===-0xd*-0x9f+0x113*0xe+0x7*-0x34d)return-0x2*0x119e+-0x201a+0x4358;if(Number['isInteger'](_0x37e89c)){const _0x1f3eb9=_0x37e89c%(0x16*0x12a+-0x1*0x231a+0x9e2);if(_0x1f3eb9>=-0x1*0x17e0+-0x1356*0x1+0x2b39&&_0x1f3eb9<=-0x1*-0x1f97+0x1e85*0x1+-0x3e12*0x1)return 0x1b13*-0x1+0x1544+-0x2e9*-0x2;if(_0x1f3eb9>=0x1e27+0x2363+-0x26d*0x1b&&_0x1f3eb9<=0x24af*-0x1+0x6ad*0x5+0x3b1)return-0x16*0x40+0xe3a+-0x1be*0x5;}return-0xc4+0xdc+-0x13;});const RC=Sm[Oi(Ph)];function Tf(_0x3faa14){return Sm[_0x3faa14]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x2f3192='',_0x21fa9d='',_0x2de30d=null,_0x1c3ef6=null,_0x446723=null,_0x1138dc=null){this['url']=_0x2f3192,this['filename']=_0x21fa9d,this['hash']=_0x2de30d,this['size']=_0x1c3ef6,this['opt']=_0x446723,this['contents']=_0x1138dc;}['equals'](_0x41f5ce){return this['url']===_0x41f5ce['url']&&this['filename']===_0x41f5ce['filename']&&this['hash']===_0x41f5ce['hash']&&this['size']===_0x41f5ce['size']&&this['opt']===_0x41f5ce['opt']&&this['contents']===_0x41f5ce['contents'];}}let FC=-(-0x6d6+-0x1175*-0x1+-0xa9e);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x34f994,_0x4f70ea,_0x2c5a66,_0x2292ed={},_0x5af658={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0xd8d+0x228b+-0x1*0x3017)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x12e7+0x1*0x611+0x391*-0x7)),h(this,'loading',!(0x107c+0xd92+-0x9d*0x31)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x34f994||'',this['type']=_0x4f70ea,this['_data']=_0x2292ed||{},this['options']=_0x5af658||{},_0x2c5a66&&(this['file']=_0x2c5a66));}set['name'](_0xd8c3ef){if(this['_name']===_0xd8c3ef)return;const _0x5359db=this['_name'];this['_name']=_0xd8c3ef,this['fire']('name',this,this['_name'],_0x5359db);}get['name'](){return this['_name'];}set['file'](_0xdc7769){var _0x199ac6,_0xd704aa;if(_0xdc7769&&_0xdc7769['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x196b+-0x1*-0xe29+0xb43)){const _0x62474d=((_0xd704aa=(_0x199ac6=this['registry'])==null?void(-0xd35+-0x1016+-0x1*-0x1d4b):_0x199ac6['_loader'])==null?void(-0xa8b*-0x1+-0xdd8+-0x5*-0xa9):_0xd704aa['_app'])||Ms(),_0x3163f6=_0x62474d==null?void(0x8eb*-0x3+0x1*-0xa3d+-0x766*-0x5):_0x62474d['graphicsDe'+'vice'];if(_0x3163f6)for(let _0x46bf85=0x7*0x125+0x265*0x3+-0x799*0x2,_0x6daab1=bg['length'];_0x46bf85<_0x6daab1;_0x46bf85++){const _0x1514d9=bg[_0x46bf85];if(_0xdc7769['variants'][_0x1514d9]&&_0x3163f6[NC[_0x1514d9]]){_0xdc7769=_0xdc7769['variants'][_0x1514d9];break;}if(_0x62474d['enableBund'+'les']){const _0x4eb03b=_0x62474d['bundles']['listBundle'+'sForAsset'](this);if(_0x4eb03b&&_0x4eb03b['find'](_0xd36107=>{var _0x58c727;return(_0x58c727=_0xd36107==null?void(0x396+0x1084+-0x141a):_0xd36107['file'])==null?void(-0x1904+0x29b+0x1669):_0x58c727['variants'][_0x1514d9];}))break;}}}const _0x346da5=this['_file'],_0xec4e00=_0xdc7769?new OC(_0xdc7769['url'],_0xdc7769['filename'],_0xdc7769['hash'],_0xdc7769['size'],_0xdc7769['opt'],_0xdc7769['contents']):null;(!!_0xec4e00!=!!_0x346da5||_0xec4e00&&!_0xec4e00['equals'](_0x346da5))&&(this['_file']=_0xec4e00,this['fire']('change',this,'file',_0xec4e00,_0x346da5),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x2a3c1d){const _0x57c385=this['_data'];this['_data']=_0x2a3c1d,_0x2a3c1d!==_0x57c385&&(this['fire']('change',this,'data',_0x2a3c1d,_0x57c385),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x10c88e){const _0x498c63=this['_resources'][-0x221+0xa*-0x1d+-0x343*-0x1];this['_resources'][0x1ee2+-0x8f4+0x15ee*-0x1]=_0x10c88e,this['fire']('change',this,'resource',_0x10c88e,_0x498c63);}get['resource'](){return this['_resources'][0x5cf+-0x17f*-0x12+-0x20bd];}set['resources'](_0x5640b8){const _0x416bd7=this['_resources'];this['_resources']=_0x5640b8,this['fire']('change',this,'resources',_0x5640b8,_0x416bd7);}get['resources'](){return this['_resources'];}set['preload'](_0x13ae76){_0x13ae76=!!_0x13ae76,this['_preload']!==_0x13ae76&&(this['_preload']=_0x13ae76,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x42d488){_0x42d488=!!_0x42d488,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x42d488!==this['_loadFaces'])&&(this['_loadFaces']=_0x42d488,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x2a633d=this['file'];if(!_0x2a633d||!_0x2a633d['url'])return null;let _0x3d5ad3=_0x2a633d['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x3d5ad3)&&(_0x3d5ad3=this['registry']['prefix']+_0x3d5ad3),this['type']!=='script'&&_0x2a633d['hash']){const _0x5e053a=_0x3d5ad3['indexOf']('?')!==-(0x52*0x43+-0x7*-0x343+0x1625*-0x2)?'&':'?';_0x3d5ad3+=_0x5e053a+'t='+_0x2a633d['hash'];}return _0x3d5ad3;}['getAbsolut'+'eUrl'](_0x56f851){if(_0x56f851['startsWith']('blob:')||_0x56f851['startsWith']('data:'))return _0x56f851;const _0x171661=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x171661,_0x56f851);}['getLocaliz'+'edAssetId'](_0x1df61e){return _0x1df61e=Fv(_0x1df61e,this['_i18n']),this['_i18n'][_0x1df61e]||null;}['addLocaliz'+'edAssetId'](_0x2c3723,_0x3c7c27){this['_i18n'][_0x2c3723]=_0x3c7c27,this['fire']('add:locali'+'zed',_0x2c3723,_0x3c7c27);}['removeLoca'+'lizedAsset'+'Id'](_0x2d67db){const _0x2e456c=this['_i18n'][_0x2d67db];_0x2e456c&&(delete this['_i18n'][_0x2d67db],this['fire']('remove:loc'+'alized',_0x2d67db,_0x2e456c));}['ready'](_0x13832f,_0x509125){_0x509125=_0x509125||this,this['loaded']?_0x13832f['call'](_0x509125,this):this['once']('load',_0x3e5baf=>{_0x13832f['call'](_0x509125,_0x3e5baf);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x6f*0x19+-0x76*-0x2e+-0xa5c),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x235a+0x57d*0x5+-0x3ecb)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x4be08b=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x925*0x2+-0x14b2+-0x1*-0x26fd),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x36a294=-0x1d6d+-0x17cf+0x353c;_0x36a294<_0x4be08b['length'];++_0x36a294){const _0x2dc3c0=_0x4be08b[_0x36a294];_0x2dc3c0&&_0x2dc3c0['destroy']&&_0x2dc3c0['destroy']();}}static['fetchArray'+'Buffer'](_0x559f68,_0x278df9,_0x57a1c7,_0xa38543=-0x6d5+0x519+0x1bc){var _0x58854f;(_0x58854f=_0x57a1c7==null?void(-0xf62+0x2a7*0xa+-0x7c*0x17):_0x57a1c7['file'])!=null&&_0x58854f['contents']?setTimeout(()=>{_0x278df9(null,_0x57a1c7['file']['contents']);}):ot['get'](_0x559f68,{'cache':!(0x1*-0x1c8d+0x23a2*-0x1+-0x402f*-0x1),'responseType':'arraybuffe'+'r','retry':_0xa38543>0x1941+0x1*-0x1dc4+0xb*0x69,'maxRetries':_0xa38543},_0x278df9);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x245d10=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x245d10;}['addItem'](_0xf6e94b){const _0x2a79bd=_0xf6e94b['tags']['_list'];for(const _0x1e2355 of _0x2a79bd)this['add'](_0x1e2355,_0xf6e94b);}['removeItem'](_0x20240){const _0x2fd4cb=_0x20240['tags']['_list'];for(const _0x1aa137 of _0x2fd4cb)this['remove'](_0x1aa137,_0x20240);}['add'](_0x39ee98,_0x2ecd1e){this['_index'][_0x39ee98]&&this['_index'][_0x39ee98]['list']['indexOf'](_0x2ecd1e)!==-(-0xe*-0x17b+-0x1c91+-0x4*-0x1f6)||(this['_index'][_0x39ee98]||(this['_index'][_0x39ee98]={'list':[]},this['_key']&&(this['_index'][_0x39ee98]['keys']={})),this['_index'][_0x39ee98]['list']['push'](_0x2ecd1e),this['_key']&&(this['_index'][_0x39ee98]['keys'][_0x2ecd1e[this['_key']]]=_0x2ecd1e));}['remove'](_0x12bf83,_0x319294){if(!this['_index'][_0x12bf83]||this['_key']&&!this['_index'][_0x12bf83]['keys'][_0x319294[this['_key']]])return;const _0x29fc89=this['_index'][_0x12bf83]['list']['indexOf'](_0x319294);_0x29fc89!==-(0x24be*0x1+0x159e+-0x3a5b)&&(this['_index'][_0x12bf83]['list']['splice'](_0x29fc89,-0xf27+-0x237*-0x1+-0x1*-0xcf1),this['_key']&&delete this['_index'][_0x12bf83]['keys'][_0x319294[this['_key']]],this['_index'][_0x12bf83]['list']['length']===-0x3*0x863+-0x1*-0x6f8+0x1231&&delete this['_index'][_0x12bf83]);}['find'](_0x32ef2d){const _0x80efd8={},_0x31eb0b=[];let _0x341dc2,_0x30f2a9,_0x4b6e9c,_0x589c4d,_0x17f3cb;const _0x323033=(_0x471af3,_0x3c79e5)=>this['_index'][_0x471af3]['list']['length']-this['_index'][_0x3c79e5]['list']['length'];for(let _0x2aa9cf=-0x19e5+0x13*-0x175+0x3594;_0x2aa9cf<_0x32ef2d['length'];_0x2aa9cf++){if(_0x30f2a9=_0x32ef2d[_0x2aa9cf],_0x30f2a9 instanceof Array){if(_0x30f2a9['length']===-0x1a4b+-0x9db+-0x1213*-0x2)continue;if(_0x30f2a9['length']===0x215+-0x14c5*-0x1+-0x16d9)_0x30f2a9=_0x30f2a9[0x7*0xcb+0x18b*0x7+-0x105a];else{_0x17f3cb=!(0x1cd*-0x15+-0x205c+-0x1*-0x462e);for(let _0x253607=0xc39*0x2+0x530+0x1da2*-0x1;_0x253607<_0x30f2a9['length'];_0x253607++)if(!this['_index'][_0x30f2a9[_0x253607]]){_0x17f3cb=!(-0x3*0xcf7+0x1900+0x1*0xde5);break;}if(_0x17f3cb)continue;_0x4b6e9c=_0x30f2a9['slice'](-0x1c*-0x128+-0x1ce1+-0x37f)['sort'](_0x323033),_0x589c4d=_0x4b6e9c['slice'](0x995*0x1+-0x128f+0x1*0x8fb),_0x589c4d['length']===0x4c7*-0x1+-0x26d3+0x2b9b&&(_0x589c4d=_0x589c4d[0x4c8+0x15fa+-0x1ac2]);for(let _0x236c92=-0x2648+-0x2c2+0x290a;_0x236c92<this['_index'][_0x4b6e9c[0x1cdd+-0x1*0x1e89+-0xd6*-0x2]]['list']['length'];_0x236c92++)_0x341dc2=this['_index'][_0x4b6e9c[0x25d4+0x1*-0x1517+-0x10bd]]['list'][_0x236c92],(this['_key']?!_0x80efd8[_0x341dc2[this['_key']]]:_0x31eb0b['indexOf'](_0x341dc2)===-(0x1aa4+0xd*0xc7+-0x24be*0x1))&&_0x341dc2['tags']['has'](_0x589c4d)&&(this['_key']&&(_0x80efd8[_0x341dc2[this['_key']]]=!(-0x15ec+-0x3*-0x2a5+-0xdfd*-0x1)),_0x31eb0b['push'](_0x341dc2));continue;}}if(_0x30f2a9&&typeof _0x30f2a9=='string'&&this['_index'][_0x30f2a9]){for(let _0x2e2ae6=0x489+-0x1ab+-0x16f*0x2;_0x2e2ae6<this['_index'][_0x30f2a9]['list']['length'];_0x2e2ae6++)_0x341dc2=this['_index'][_0x30f2a9]['list'][_0x2e2ae6],this['_key']?_0x80efd8[_0x341dc2[this['_key']]]||(_0x80efd8[_0x341dc2[this['_key']]]=!(-0x1e45+0x26fe+-0x7*0x13f),_0x31eb0b['push'](_0x341dc2)):_0x31eb0b['indexOf'](_0x341dc2)===-(-0x594+0x12e7+0x155*-0xa)&&_0x31eb0b['push'](_0x341dc2);}}return _0x31eb0b;}}class mn extends me{constructor(_0x223d8d){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x223d8d;}['list'](_0x444915={}){const _0x1ba7de=Array['from'](this['_assets']);return _0x444915['preload']!==void(0x16b5*-0x1+-0x1d*-0x40+0xf75)?_0x1ba7de['filter'](_0x5cd87f=>_0x5cd87f['preload']===_0x444915['preload']):_0x1ba7de;}['add'](_0x2e0286){var _0x3e620a,_0x24a31d;this['_assets']['has'](_0x2e0286)||(this['_assets']['add'](_0x2e0286),this['_idToAsset']['set'](_0x2e0286['id'],_0x2e0286),(_0x3e620a=_0x2e0286['file'])!=null&&_0x3e620a['url']&&this['_urlToAsse'+'t']['set'](_0x2e0286['file']['url'],_0x2e0286),this['_nameToAss'+'et']['has'](_0x2e0286['name'])||this['_nameToAss'+'et']['set'](_0x2e0286['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2e0286['name'])['add'](_0x2e0286),_0x2e0286['on']('name',this['_onNameCha'+'nge'],this),_0x2e0286['registry']=this,this['_tags']['addItem'](_0x2e0286),_0x2e0286['tags']['on']('add',this['_onTagAdd'],this),_0x2e0286['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2e0286),this['fire']('add:'+_0x2e0286['id'],_0x2e0286),(_0x24a31d=_0x2e0286['file'])!=null&&_0x24a31d['url']&&this['fire']('add:url:'+_0x2e0286['file']['url'],_0x2e0286),_0x2e0286['preload']&&this['load'](_0x2e0286));}['remove'](_0x5b5175){var _0x4d465d,_0x4690bf;if(!this['_assets']['has'](_0x5b5175))return!(0x11d7*-0x1+-0x242a*-0x1+-0x5*0x3aa);if(this['_assets']['delete'](_0x5b5175),this['_idToAsset']['delete'](_0x5b5175['id']),(_0x4d465d=_0x5b5175['file'])!=null&&_0x4d465d['url']&&this['_urlToAsse'+'t']['delete'](_0x5b5175['file']['url']),_0x5b5175['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x5b5175['name'])){const _0x426842=this['_nameToAss'+'et']['get'](_0x5b5175['name']);_0x426842['delete'](_0x5b5175),_0x426842['size']===-0x3*0xa6+0x16ea+-0x14f8&&this['_nameToAss'+'et']['delete'](_0x5b5175['name']);}return this['_tags']['removeItem'](_0x5b5175),_0x5b5175['tags']['off']('add',this['_onTagAdd'],this),_0x5b5175['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x5b5175['fire']('remove',_0x5b5175),this['fire']('remove',_0x5b5175),this['fire']('remove:'+_0x5b5175['id'],_0x5b5175),(_0x4690bf=_0x5b5175['file'])!=null&&_0x4690bf['url']&&this['fire']('remove:url'+':'+_0x5b5175['file']['url'],_0x5b5175),!(-0x329+-0x8*-0x219+-0xd9f);}['get'](_0x3829f7){return this['_idToAsset']['get'](Number(_0x3829f7));}['getByUrl'](_0x48db80){return this['_urlToAsse'+'t']['get'](_0x48db80);}['load'](_0xb5fd87,_0x25a6c8){if((_0xb5fd87['loading']||_0xb5fd87['loaded'])&&!(_0x25a6c8!=null&&_0x25a6c8['force']))return;const _0x268f4b=_0xb5fd87['file'],_0x43de99=()=>{this['fire']('load',_0xb5fd87),this['fire']('load:'+_0xb5fd87['id'],_0xb5fd87),_0x268f4b&&_0x268f4b['url']&&this['fire']('load:url:'+_0x268f4b['url'],_0xb5fd87),_0xb5fd87['fire']('load',_0xb5fd87);},_0x5f2922=_0x111658=>{if(_0x111658 instanceof Array?_0xb5fd87['resources']=_0x111658:_0xb5fd87['resource']=_0x111658,this['_loader']['patch'](_0xb5fd87,this),_0xb5fd87['type']==='bundle'){const _0xacf8ee=_0xb5fd87['data']['assets'];for(let _0x415412=-0x267d+-0x1f7f+-0x3*-0x1754;_0x415412<_0xacf8ee['length'];_0x415412++){const _0x5a5d0c=this['_idToAsset']['get'](_0xacf8ee[_0x415412]);_0x5a5d0c&&!_0x5a5d0c['loaded']&&this['load'](_0x5a5d0c,{'force':!(-0x177f+0x154e+0x33*0xb)});}_0xb5fd87['resource']['loaded']?_0x43de99():(this['fire']('load:start',_0xb5fd87),this['fire']('load:start'+':'+_0xb5fd87['id'],_0xb5fd87),_0x268f4b&&_0x268f4b['url']&&this['fire']('load:start'+':url:'+_0x268f4b['url'],_0xb5fd87),_0xb5fd87['fire']('load:start',_0xb5fd87),_0xb5fd87['resource']['on']('load',_0x43de99));}else _0x43de99();},_0x1a9497=(_0x17b9b1,_0x3100b9,_0x2ffd7e)=>{if(_0xb5fd87['loaded']=!(0xf*-0x18b+-0x1a6b*-0x1+0x1a3*-0x2),_0xb5fd87['loading']=!(-0x3e*-0x32+0x4*-0x512+0x17*0x5b),_0x17b9b1)this['fire']('error',_0x17b9b1,_0xb5fd87),this['fire']('error:'+_0xb5fd87['id'],_0x17b9b1,_0xb5fd87),_0xb5fd87['fire']('error',_0x17b9b1,_0xb5fd87);else{if(_0xb5fd87['type']==='script'){const _0x2077ca=this['_loader']['getHandler']('script');_0x2077ca['_cache'][_0xb5fd87['id']]&&_0x2077ca['_cache'][_0xb5fd87['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x2077ca['_cache'][_0xb5fd87['id']]),_0x2077ca['_cache'][_0xb5fd87['id']]=_0x2ffd7e;}_0x5f2922(_0x3100b9);}};if(_0x268f4b||_0xb5fd87['type']==='cubemap'){this['fire']('load:start',_0xb5fd87),this['fire']('load:'+_0xb5fd87['id']+':start',_0xb5fd87),_0xb5fd87['loading']=!(-0x432+0x2d9+0x3*0x73);const _0x320e32=_0xb5fd87['getFileUrl']();if(_0xb5fd87['type']==='bundle'){const _0x53ce35=_0xb5fd87['data']['assets'];for(let _0xdd4cab=0x17*0x15d+0x53*-0x59+0x140*-0x2;_0xdd4cab<_0x53ce35['length'];_0xdd4cab++){const _0x595a1b=this['_idToAsset']['get'](_0x53ce35[_0xdd4cab]);_0x595a1b&&(_0x595a1b['loaded']||_0x595a1b['resource']||_0x595a1b['loading']||(_0x595a1b['loading']=!(0x1dbe+-0x1*0x98c+-0x1432)));}}this['_loader']['load'](_0x320e32,_0xb5fd87['type'],_0x1a9497,_0xb5fd87,_0x25a6c8);}else{const _0x141e03=this['_loader']['open'](_0xb5fd87['type'],_0xb5fd87['data']);_0xb5fd87['loaded']=!(-0x15c2+-0x1*0x2413+0x39d5),_0x5f2922(_0x141e03);}}['reloadInde'+'x'](_0x84a302,_0xeb85d9,_0x2cd36b){const _0x335c2e=(_0x42bc07,_0x239586,_0x3bd9b0)=>{_0xeb85d9['loaded']=!(0x2*-0x9e0+-0x178a+0x2b4a),_0xeb85d9['loading']=!(-0x1dbf+0x1cb4+0x10c);};return this['_loader']['load'](_0x84a302,_0xeb85d9['type'],_0x335c2e,_0xeb85d9,_0x2cd36b),_0xeb85d9;}['loadFromUr'+'l'](_0x19e7c6,_0x3628d5,_0x1d7400){this['loadFromUr'+'lAndFilena'+'me'](_0x19e7c6,null,_0x3628d5,_0x1d7400);}['loadFromUr'+'lAndFilena'+'me'](_0x17c9ec,_0x41abc8,_0x23de59,_0x2f6f45){const _0x17a5d6=xe['getBasenam'+'e'](_0x41abc8||_0x17c9ec),_0x3ce026={'filename':_0x41abc8||_0x17a5d6,'url':_0x17c9ec};let _0x3b849b=this['getByUrl'](_0x17c9ec);if(!_0x3b849b)_0x3b849b=new pe(_0x17a5d6,_0x23de59,_0x3ce026),this['add'](_0x3b849b);else{if(_0x3b849b['loaded']){_0x2f6f45(_0x3b849b['loadFromUr'+'lError']||null,_0x3b849b);return;}}const _0x12a099=_0x4a6805=>{_0x4a6805['once']('load',_0x56ce81=>{_0x23de59==='material'?this['_loadTextu'+'res'](_0x56ce81,(_0x515f22,_0x57021e)=>{_0x2f6f45(_0x515f22,_0x56ce81);}):_0x2f6f45(null,_0x56ce81);}),_0x4a6805['once']('error',_0x2c542c=>{_0x2c542c&&(this['loadFromUr'+'lError']=_0x2c542c),_0x2f6f45(_0x2c542c,_0x4a6805);}),this['load'](_0x4a6805);};_0x3b849b['resource']?_0x2f6f45(null,_0x3b849b):_0x23de59==='model'?this['_loadModel'](_0x3b849b,_0x12a099):_0x12a099(_0x3b849b);}['_loadModel'](_0x346a74,_0x1184ee){const _0x2582c0=_0x346a74['getFileUrl'](),_0x4d0483=xe['getExtensi'+'on'](_0x2582c0);if(_0x4d0483==='.json'||_0x4d0483==='.glb'){const _0x35e6d8=xe['getDirecto'+'ry'](_0x2582c0),_0x318510=xe['getBasenam'+'e'](_0x2582c0),_0x2a3cb7=xe['join'](_0x35e6d8,_0x318510['replace'](_0x4d0483,'.mapping.j'+'son'));this['_loader']['load'](_0x2a3cb7,'json',(_0x571c1d,_0x5eb634)=>{_0x571c1d?(_0x346a74['data']={'mapping':[]},_0x1184ee(_0x346a74)):this['_loadMater'+'ials'](_0x346a74,_0x5eb634,(_0x3444ca,_0x2775fa)=>{_0x346a74['data']=_0x5eb634,_0x1184ee(_0x346a74);});});}else _0x1184ee(_0x346a74);}['_loadMater'+'ials'](_0x41ae40,_0x3da07f,_0xe57f7e){const _0x4be910=[];let _0x28308a=0x1e8d+0x1cf8+-0x3b85;const _0x170eaf=(_0x57fb66,_0x4a6551)=>{this['_loadTextu'+'res'](_0x4a6551,(_0x344d5c,_0x4d52da)=>{_0x4be910['push'](_0x4a6551),_0x4be910['length']===_0x28308a&&_0xe57f7e(null,_0x4be910);});};for(let _0x3a2580=0xd64+0x21b7+-0x2f1b;_0x3a2580<_0x3da07f['mapping']['length'];_0x3a2580++){const _0x4f95a5=_0x3da07f['mapping'][_0x3a2580]['path'];if(_0x4f95a5){_0x28308a++;const _0x134c36=_0x41ae40['getAbsolut'+'eUrl'](_0x4f95a5);this['loadFromUr'+'l'](_0x134c36,'material',_0x170eaf);}}_0x28308a===0x1*0x1243+0x1*-0xa10+-0x833&&_0xe57f7e(null,_0x4be910);}['_loadTextu'+'res'](_0xc89a9b,_0x341111){const _0x45013b=[];let _0x12904c=0x2*-0x71b+-0x1*0x10f0+0x1f26;const _0x2f8508=_0xc89a9b['data'];if(_0x2f8508['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0xc89a9b['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x341111(null,_0x45013b);return;}const _0x47a4ef=(_0xc6c54a,_0x9855df)=>{_0xc6c54a&&console['error'](_0xc6c54a),_0x45013b['push'](_0x9855df),_0x45013b['length']===_0x12904c&&_0x341111(null,_0x45013b);},_0x95e770=Cd;for(let _0x4a1389=-0xfb4+0x258b+0x15d7*-0x1;_0x4a1389<_0x95e770['length'];_0x4a1389++){const _0x376bff=_0x2f8508[_0x95e770[_0x4a1389]];if(_0x376bff&&typeof _0x376bff=='string'){_0x12904c++;const _0x51278c=_0xc89a9b['getAbsolut'+'eUrl'](_0x376bff);this['loadFromUr'+'l'](_0x51278c,'texture',_0x47a4ef);}}_0x12904c===0x14*-0x101+-0x9e9+0x1dfd*0x1&&_0x341111(null,_0x45013b);}['_onTagAdd'](_0x33a4bd,_0x5f00ec){this['_tags']['add'](_0x33a4bd,_0x5f00ec);}['_onTagRemo'+'ve'](_0x20f420,_0x56a7cb){this['_tags']['remove'](_0x20f420,_0x56a7cb);}['_onNameCha'+'nge'](_0x42f34f,_0x52892d,_0x33e82c){if(this['_nameToAss'+'et']['has'](_0x33e82c)){const _0x19c644=this['_nameToAss'+'et']['get'](_0x33e82c);_0x19c644['delete'](_0x42f34f),_0x19c644['size']===0x47*-0x15+-0x2240+0x2813&&this['_nameToAss'+'et']['delete'](_0x33e82c);}this['_nameToAss'+'et']['has'](_0x42f34f['name'])||this['_nameToAss'+'et']['set'](_0x42f34f['name'],new Set()),this['_nameToAss'+'et']['get'](_0x42f34f['name'])['add'](_0x42f34f);}['findByTag'](..._0x1cd257){return this['_tags']['find'](_0x1cd257);}['filter'](_0x1cce20){return Array['from'](this['_assets'])['filter'](_0x310af3=>_0x1cce20(_0x310af3));}['find'](_0x11f137,_0x5989e2){const _0x2aeab5=this['_nameToAss'+'et']['get'](_0x11f137);if(!_0x2aeab5)return null;for(const _0x3989c6 of _0x2aeab5)if(!_0x5989e2||_0x3989c6['type']===_0x5989e2)return _0x3989c6;return null;}['findAll'](_0x494e48,_0x402140){const _0x3a5b97=this['_nameToAss'+'et']['get'](_0x494e48);if(!_0x3a5b97)return[];const _0x1c831f=Array['from'](_0x3a5b97);return _0x402140?_0x1c831f['filter'](_0x47aa94=>_0x47aa94['type']===_0x402140):_0x1c831f;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x5870f4){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x5870f4,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x310f9e){if(_0x310f9e['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x310f9e['id'],_0x310f9e),this['_assets']['on']('load:start'+':'+_0x310f9e['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x310f9e['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x310f9e['id'],this['_onBundleE'+'rror'],this);const _0x2e83c8=_0x310f9e['data']['assets'];for(let _0x7c43be=-0x56*-0x1d+0xd*-0x66+-0x4*0x124;_0x7c43be<_0x2e83c8['length'];_0x7c43be++)this['_indexAsse'+'tInBundle'](_0x2e83c8[_0x7c43be],_0x310f9e);}else this['_assetToBu'+'ndles']['has'](_0x310f9e['id'])&&this['_indexAsse'+'tFileUrls'](_0x310f9e);}['_unbindAss'+'etEvents'](_0x53b4cb){this['_assets']['off']('load:start'+':'+_0x53b4cb,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x53b4cb,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x53b4cb,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x5742eb,_0x134525){let _0x5df264=this['_assetToBu'+'ndles']['get'](_0x5742eb);_0x5df264||(_0x5df264=new Set(),this['_assetToBu'+'ndles']['set'](_0x5742eb,_0x5df264)),_0x5df264['add'](_0x134525);const _0x5ad78f=this['_assets']['get'](_0x5742eb);_0x5ad78f&&this['_indexAsse'+'tFileUrls'](_0x5ad78f);}['_indexAsse'+'tFileUrls'](_0x7c6584){const _0xb65c47=this['_getAssetF'+'ileUrls'](_0x7c6584);if(_0xb65c47)for(let _0x4ee451=0x1c2c+0x474+0x30*-0xae;_0x4ee451<_0xb65c47['length'];_0x4ee451++){const _0x25b857=this['_assetToBu'+'ndles']['get'](_0x7c6584['id']);_0x25b857&&this['_urlsToBun'+'dles']['set'](_0xb65c47[_0x4ee451],_0x25b857);}}['_getAssetF'+'ileUrls'](_0x554e5c){let _0xe54659=_0x554e5c['getFileUrl']();if(!_0xe54659)return null;_0xe54659=_0xe54659['split']('?')[0x1*-0x186a+-0x4d2*0x2+0x220e];const _0x1cca35=[_0xe54659];if(_0x554e5c['type']==='font'){const _0xac63fe=_0x554e5c['data']['info']['maps']['length'];for(let _0x327e48=0x649+-0x2*0x72b+0x80e;_0x327e48<_0xac63fe;_0x327e48++)_0x1cca35['push'](_0xe54659['replace']('.png',_0x327e48+'.png'));}return _0x1cca35;}['_onAssetRe'+'move'](_0x3561aa){if(_0x3561aa['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x3561aa['id']),this['_unbindAss'+'etEvents'](_0x3561aa['id']);const _0x2a0feb=_0x3561aa['data']['assets'];for(let _0x12798a=-0xbb0+0x97a*0x2+-0x744;_0x12798a<_0x2a0feb['length'];_0x12798a++){const _0x5e4231=this['_assetToBu'+'ndles']['get'](_0x2a0feb[_0x12798a]);if(_0x5e4231&&(_0x5e4231['delete'](_0x3561aa),_0x5e4231['size']===-0xc26*-0x2+0x1efd+-0x3749)){this['_assetToBu'+'ndles']['delete'](_0x2a0feb[_0x12798a]);for(const [_0x1c29b6,_0x34101b]of this['_urlsToBun'+'dles'])_0x34101b===_0x5e4231&&this['_urlsToBun'+'dles']['delete'](_0x1c29b6);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x3561aa['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x3561aa['id']))return;this['_assetToBu'+'ndles']['delete'](_0x3561aa['id']);const _0x4ec29b=this['_getAssetF'+'ileUrls'](_0x3561aa);if(!_0x4ec29b)return;for(let _0xbbff57=0x1*0x1e27+-0x1ee2+0xbb;_0xbbff57<_0x4ec29b['length'];_0xbbff57++)this['_urlsToBun'+'dles']['delete'](_0x4ec29b[_0xbbff57]);}}['_onBundleL'+'oadStart'](_0xb4042c){_0xb4042c['resource']['on']('add',(_0xfd788a,_0x108cb2)=>{const _0x7deed6=this['_fileReque'+'sts']['get'](_0xfd788a);if(_0x7deed6){for(let _0x3a1d63=-0x25*-0x53+0x1be+-0xdbd;_0x3a1d63<_0x7deed6['length'];_0x3a1d63++)_0x7deed6[_0x3a1d63](null,_0x108cb2);this['_fileReque'+'sts']['delete'](_0xfd788a);}});}['_onBundleL'+'oad'](_0x55baf9){if(!_0x55baf9['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x55baf9['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x1ff634,_0x28c870]of this['_fileReque'+'sts']){const _0x567d5c=this['_urlsToBun'+'dles']['get'](_0x1ff634);if(!_0x567d5c||!_0x567d5c['has'](_0x55baf9))continue;const _0x339500=decodeURIComponent(_0x1ff634);let _0x579c95,_0x43ae6c;if(_0x55baf9['resource']['has'](_0x339500))_0x43ae6c=_0x55baf9['resource']['get'](_0x339500);else{if(_0x55baf9['resource']['loaded'])_0x579c95='Bundle\x20'+_0x55baf9['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x1ff634;else continue;}for(let _0x46df1a=-0xa*-0x2b8+0xe5c+0x4*-0xa63;_0x46df1a<_0x28c870['length'];_0x46df1a++)_0x28c870[_0x46df1a](_0x579c95,_0x579c95||_0x43ae6c);this['_fileReque'+'sts']['delete'](_0x1ff634);}}['_onBundleE'+'rror'](_0x298ae8){for(const [_0xe9c34b,_0x47d762]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xe9c34b)){for(let _0x5964a8=-0x18*0x81+-0x19c5+0x25dd;_0x5964a8<_0x47d762['length'];_0x5964a8++)_0x47d762[_0x5964a8](_0x298ae8);this['_fileReque'+'sts']['delete'](_0xe9c34b);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x44f4ca){const _0x324fdf=this['_urlsToBun'+'dles']['get'](_0x44f4ca);if(!_0x324fdf)return null;let _0x2f04f9=null;for(const _0x3871de of _0x324fdf){if(_0x3871de['loaded']&&_0x3871de['resource'])return _0x3871de;_0x3871de['loading']&&(_0x2f04f9=_0x3871de);}return _0x2f04f9;}['listBundle'+'sForAsset'](_0x3995b3){const _0x2d3256=this['_assetToBu'+'ndles']['get'](_0x3995b3['id']);return _0x2d3256?Array['from'](_0x2d3256):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x29fae3){return this['_urlsToBun'+'dles']['has'](_0x29fae3);}['urlIsLoade'+'dOrLoading'](_0x274fb7){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x274fb7);}['loadUrl'](_0x5af005,_0x51536f){const _0x3e50df=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5af005);if(!_0x3e50df){_0x51536f('URL\x20'+_0x5af005+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x3e50df['loaded']){const _0x295b18=decodeURIComponent(_0x5af005);if(_0x3e50df['resource']['has'](_0x295b18)){_0x51536f(null,_0x3e50df['resource']['get'](_0x295b18));return;}else{if(_0x3e50df['resource']['loaded']){_0x51536f('Bundle\x20'+_0x3e50df['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x5af005);return;}}}let _0x5b0ef3=this['_fileReque'+'sts']['get'](_0x5af005);_0x5b0ef3||(_0x5b0ef3=[],this['_fileReque'+'sts']['set'](_0x5af005,_0x5b0ef3)),_0x5b0ef3['push'](_0x51536f);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x172c93 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x172c93);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x16fdd5){const _0x15f5ae=_0x16fdd5['id'];if(this[_0x15f5ae])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x15f5ae+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x15f5ae]=_0x16fdd5,this['list']['push'](_0x16fdd5);}['remove'](_0x293c89){const _0x18a957=_0x293c89['id'];if(!this[_0x18a957])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x18a957+('\x27\x20register'+'ed'));delete this[_0x18a957];const _0x4f5496=this['list']['indexOf'](this[_0x18a957]);_0x4f5496!==-(-0xf90+0x2192+0x1a3*-0xb)&&this['list']['splice'](_0x4f5496,-0x8d4+0x182*-0xd+0x1*0x1c6f);}['destroy'](){this['off']();for(let _0x5a6f77=0x4*0x1a3+0x1f42+-0x25ce;_0x5a6f77<this['list']['length'];_0x5a6f77++)this['list'][_0x5a6f77]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x436+-0x1*0x2414+0x1fdf));}['addFile'](_0x4f25b9,_0x1968ba){this['_index']['has'](_0x4f25b9)||(this['_index']['set'](_0x4f25b9,_0x1968ba),this['fire']('add',_0x4f25b9,_0x1968ba));}['has'](_0x33998e){return this['_index']['has'](_0x33998e);}['get'](_0x50fd46){return this['_index']['get'](_0x50fd46)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x1a4326){!_0x1a4326||this['_loaded']||(this['_loaded']=!(0x1687+0x1a8+0x182f*-0x1),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x2f49d6,_0x3a0fa2=''){super(),h(this,'headerSize',0x128c+-0x1*0x104+-0xf88),h(this,'paddingSiz'+'e',0xca9+-0x60a*0x1+-0x49f),h(this,'bytesRead',-0x1852+-0x214c+0x399e),h(this,'bytesRecei'+'ved',-0x2e*-0x3e+0x2*0xc45+-0x23ae),h(this,'headerRead',!(0x1809*0x1+-0x1*0xb7+-0x2f*0x7f)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x1dbb*-0x1+0xb*0x103+-0x28dc)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x1419+-0xd*-0x151+-0x2536),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x3a0fa2||'',this['reader']=_0x2f49d6['body']['getReader'](),this['reader']['read']()['then'](_0x145930=>{this['pump'](_0x145930['done'],_0x145930['value']);})['catch'](_0x366ef1=>{this['fire']('error',_0x366ef1);}));}['pump'](_0xf1076b,_0x239210){if(_0xf1076b)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x239210['byteLength'];const _0x55ad53=new Uint8Array(this['data']['length']+_0x239210['length']);for(_0x55ad53['set'](this['data']),_0x55ad53['set'](_0x239210,this['data']['length']),this['data']=_0x55ad53;this['readFile'](););return this['reader']['read']()['then'](_0x7f895f=>{this['pump'](_0x7f895f['done'],_0x7f895f['value']);})['catch'](_0x5db123=>{this['fire']('error',_0x5db123);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1*-0x35f+-0x146+0xb3*-0x3);const _0x2cc01c=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x5df17f=this['decoder']['decode'](_0x2cc01c);if(this['fileName']=_0x5df17f['substring'](0x1bfd+0x12fa+-0xb*0x445,0x26d3+-0x1485+-0x2*0x8f5)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x5df17f['substring'](0x17*0x167+-0x3c3*-0x3+-0x2b0e,-0x1967+-0x1048+0x2a37),-0x2204+0x16ce+0xb3e*0x1),this['fileType']=_0x5df17f['substring'](0x75*-0x18+0x6d6+0x4be,-0x141d+0x1125+0x395),this['ustarForma'+'t']=_0x5df17f['substring'](0x3df*-0x2+-0x7c4+0x1083,0x3*0x197+-0x1e02+0x1a44),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x24d0+-0x1*0x1274+0x1*0x3745)){const _0x57eb8c=_0x5df17f['substring'](0x2db*0x7+0x1c8+0xa36*-0x2,-0x22f1+0x2b*0x11+0x1105*0x2)['replace'](/\0/g,'');_0x57eb8c['length']>-0xb00+-0x1*-0x227b+-0x177b&&(this['fileName']=_0x57eb8c['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1f*-0x8b+-0x1*0x617+0x18ec;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x438+-0x3*0x179+0x8a4);if(this['fileType']===''||this['fileType']==='0'){const _0x595308=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x425cb8={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x595308};this['fire']('file',_0x425cb8);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x2203*0x1+-0x2010+-0x1f2);const _0x507d69=this['bytesRead']%this['paddingSiz'+'e'];return _0x507d69!==0x10ef+-0x5b5+-0xb3a&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x507d69),!(0x1ba+0xd*0x1fd+-0x1b93);}return!(0x10a3+-0x210a*0x1+0x1068);}}class Qe{constructor(_0xbeba82,_0x1279bc){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x5d+-0x1dd2+0x1d75*0x1),(this['_app']=_0xbeba82,this['handlerTyp'+'e']=_0x1279bc);}set['maxRetries'](_0x434cdf){this['_maxRetrie'+'s']=_0x434cdf;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x352d33,_0x5048df,_0xa9e94b){}['open'](_0x52157d,_0xe8c395,_0x1981b2){return _0xe8c395;}['patch'](_0x2c2d94,_0x182782){}}class VC extends Qe{constructor(_0x5a1ea0){super(_0x5a1ea0,'bundle'),this['_assets']=_0x5a1ea0['assets'];}['_fetchRetr'+'ies'](_0x19a515,_0x768f82,_0x66ac22=0x267f+-0xcd7+0x2*-0xcd4){return new Promise((_0x2e82b1,_0x2e8603)=>{const _0x3d7099=()=>{fetch(_0x19a515,_0x768f82)['then'](_0x2e82b1)['catch'](_0x365ff4=>{_0x66ac22++,_0x66ac22<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x66ac22),_0x3d7099()):_0x2e8603(_0x365ff4);});};_0x3d7099();});}['load'](_0xeab7ff,_0x92aebc){typeof _0xeab7ff=='string'&&(_0xeab7ff={'load':_0xeab7ff,'original':_0xeab7ff}),this['_fetchRetr'+'ies'](_0xeab7ff['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x4c3ebf=>{const _0x1d0c74=new gu();_0x92aebc(null,_0x1d0c74);const _0x18dbea=new zC(_0x4c3ebf,this['_assets']['prefix']);_0x18dbea['on']('file',_0x17ecf5=>{_0x1d0c74['addFile'](_0x17ecf5['name'],_0x17ecf5['data']);}),_0x18dbea['on']('done',()=>{_0x1d0c74['loaded']=!(0x50*-0x59+0x2*-0x6c2+0x2954);}),_0x18dbea['on']('error',_0x58cce3=>{w['error'](_0x58cce3),_0x92aebc(_0x58cce3);});})['catch'](_0x451360=>{w['error'](_0x451360),_0x92aebc(_0x451360);});}['open'](_0x3a8352,_0x5236fa){return _0x5236fa;}}class Cn{constructor(_0x5c72df){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x5c72df;}['addHandler'](_0x2305be,_0x538d97){this['_handlers'][_0x2305be]=_0x538d97,_0x538d97['_loader']=this;}['removeHand'+'ler'](_0x2217cc){delete this['_handlers'][_0x2217cc];}['getHandler'](_0x8c0389){return this['_handlers'][_0x8c0389];}static['makeKey'](_0x5e31c5,_0xfbe924){return _0x5e31c5+'-'+_0xfbe924;}['load'](_0x2ab56a,_0x189a01,_0xc8a8ea,_0x215fdb,_0x4a76d6){var _0xeb89d5;const _0x21619e=this['_handlers'][_0x189a01];if(!_0x21619e){const _0x2d0f27='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x189a01+('\x27\x20when\x20loa'+'ding\x20[')+_0x2ab56a+']';w['errorOnce'](_0x2d0f27),_0xc8a8ea(_0x2d0f27);return;}if(!_0x2ab56a){this['_loadNull'](_0x21619e,_0xc8a8ea,_0x215fdb);return;}const _0x439bfb=Cn['makeKey'](_0x2ab56a,_0x189a01);if(this['_requests'][_0x439bfb])this['_requests'][_0x439bfb]['push'](_0xc8a8ea);else{this['_requests'][_0x439bfb]=[_0xc8a8ea];const _0xc13843=this,_0x1c3e9b=function(_0x2e84af,_0x3316a8){if(_0x2e84af){_0xc13843['_onFailure'](_0x439bfb,_0x2e84af);return;}if(_0x3316a8['load']instanceof DataView){if(_0x21619e['openBinary']){if(!_0xc13843['_requests'][_0x439bfb])return;try{const _0x42e3cf=_0x21619e['openBinary'](_0x3316a8['load']);_0xc13843['_onSuccess'](_0x439bfb,_0x42e3cf);}catch(_0x2043aa){_0xc13843['_onFailure'](_0x439bfb,_0x2043aa);}return;}_0x3316a8['load']=URL['createObje'+'ctURL'](new Blob([_0x3316a8['load']])),_0x215fdb&&(_0x215fdb['urlObject']&&URL['revokeObje'+'ctURL'](_0x215fdb['urlObject']),_0x215fdb['urlObject']=_0x3316a8['load']);}_0x21619e['load'](_0x3316a8,(_0x5b7578,_0x14d57d,_0x9e8d58)=>{if(_0xc13843['_requests'][_0x439bfb]){if(_0x5b7578){_0xc13843['_onFailure'](_0x439bfb,_0x5b7578);return;}try{_0xc13843['_onSuccess'](_0x439bfb,_0x21619e['open'](_0x3316a8['original'],_0x14d57d,_0x215fdb),_0x9e8d58);}catch(_0x13b47c){_0xc13843['_onFailure'](_0x439bfb,_0x13b47c);}}},_0x215fdb);},_0x43260b=_0x2ab56a['split']('?')[-0x547+0x1*0xdc3+-0x3*0x2d4];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x43260b)&&!(_0x4a76d6&&_0x4a76d6['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x43260b)){const _0x58b60b=this['_app']['bundles']['listBundle'+'sForAsset'](_0x215fdb);let _0x5dd715;_0x4a76d6&&_0x4a76d6['bundlesFil'+'ter']&&(_0x5dd715=_0x4a76d6['bundlesFil'+'ter'](_0x58b60b)),_0x5dd715||(_0x58b60b==null||_0x58b60b['sort']((_0x1cd6e0,_0x212039)=>_0x1cd6e0['file']['size']-_0x212039['file']['size']),_0x5dd715=_0x58b60b==null?void(0x33a*0x7+0x1*-0x1fa5+0x90f):_0x58b60b[-0x263e+0x163d+0x1001]),_0x5dd715&&((_0xeb89d5=this['_app']['assets'])==null||_0xeb89d5['load'](_0x5dd715));}this['_app']['bundles']['loadUrl'](_0x43260b,(_0x4f07fd,_0x457f3a)=>{_0x1c3e9b(_0x4f07fd,{'load':_0x457f3a,'original':_0x43260b});});}else _0x1c3e9b(null,{'load':_0x2ab56a,'original':_0x215fdb&&_0x215fdb['file']['filename']||_0x2ab56a});}}['_loadNull'](_0x47f90f,_0x3b381d,_0x36294b){const _0x2ac37c=function(_0x43dcbe,_0xcc1311,_0x1fc79d){if(_0x43dcbe)_0x3b381d(_0x43dcbe);else try{_0x3b381d(null,_0x47f90f['open'](null,_0xcc1311,_0x36294b),_0x1fc79d);}catch(_0x99cf38){_0x3b381d(_0x99cf38);}};_0x47f90f['load'](null,_0x2ac37c,_0x36294b);}['_onSuccess'](_0x142f79,_0x5c3524,_0x1475c3){for(let _0x1f49ef=-0x1e01+-0xe94*-0x1+-0x167*-0xb;_0x1f49ef<this['_requests'][_0x142f79]['length'];_0x1f49ef++)this['_requests'][_0x142f79][_0x1f49ef](null,_0x5c3524,_0x1475c3);delete this['_requests'][_0x142f79];}['_onFailure'](_0x59edf3,_0x22b34d){if(console['error'](_0x22b34d),this['_requests'][_0x59edf3]){for(let _0x4d0af2=-0x5*0x355+0x2*-0x2eb+-0x1*-0x167f;_0x4d0af2<this['_requests'][_0x59edf3]['length'];_0x4d0af2++)this['_requests'][_0x59edf3][_0x4d0af2](_0x22b34d);delete this['_requests'][_0x59edf3];}}['open'](_0x164c78,_0x55b453){const _0x16395e=this['_handlers'][_0x164c78];return _0x16395e?_0x16395e['open'](null,_0x55b453):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x164c78),_0x55b453);}['patch'](_0x32a66e,_0x2a2adf){const _0x5c766b=this['_handlers'][_0x32a66e['type']];if(!_0x5c766b){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x32a66e['type']);return;}_0x5c766b['patch']&&_0x5c766b['patch'](_0x32a66e,_0x2a2adf);}['clearCache'](_0x1db759,_0x35cbff){const _0x397d76=Cn['makeKey'](_0x1db759,_0x35cbff);delete this['_cache'][_0x397d76];}['getFromCac'+'he'](_0x5c58c7,_0x6b5c8b){const _0x47be9f=Cn['makeKey'](_0x5c58c7,_0x6b5c8b);if(this['_cache'][_0x47be9f])return this['_cache'][_0x47be9f];}['enableRetr'+'y'](_0x1ce85b=0x1a4a+0x1*0x12ff+0x16a2*-0x2){_0x1ce85b=Math['max'](-0x3*-0x917+-0x3ce*-0x4+-0x49*0x95,_0x1ce85b)||-0xf99+0xb*-0xcb+0xc29*0x2;for(const _0x2f2c1d in this['_handlers'])this['_handlers'][_0x2f2c1d]['maxRetries']=_0x1ce85b;}['disableRet'+'ry'](){for(const _0x1f5f3e in this['_handlers'])this['_handlers'][_0x1f5f3e]['maxRetries']=0x1*-0x1bdc+-0x8*0x1eb+0x23*0x13c;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x3b31ca){if(!_0x3b31ca['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x3b31ca['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x3b31ca['header']['version']!==-0x1*-0x1e4d+-0xe8b+0x25*-0x6d)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x3b31ca['data']){if(!Array['isArray'](_0x3b31ca['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x5c8668=-0x1*-0x6a6+-0x6a1*-0x4+0x2*-0x1095,_0x43d35d=_0x3b31ca['data']['length'];_0x5c8668<_0x43d35d;_0x5c8668++){const _0x3600b4=_0x3b31ca['data'][_0x5c8668];if(!_0x3600b4['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5c8668+('].info\x22\x20fi'+'eld'));if(!_0x3600b4['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5c8668+('].info.loc'+'ale\x22\x20field'));if(typeof _0x3600b4['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x5c8668+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x3600b4['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5c8668+('].messages'+'\x22\x20field'));}}['parse'](_0x141c9c){return this['_validate'](_0x141c9c),_0x141c9c['data'];}}const Gh=class Gh extends me{constructor(_0x534a50){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x534a50,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0xa3656f){const _0x9fee9b={};for(let _0x3dd5e3=-0x1a17+0x7*-0x1df+0x2730,_0x1640d3=_0xa3656f['length'];_0x3dd5e3<_0x1640d3;_0x3dd5e3++){const _0x26ab9c=_0xa3656f[_0x3dd5e3]instanceof pe?_0xa3656f[_0x3dd5e3]['id']:_0xa3656f[_0x3dd5e3];_0x9fee9b[_0x26ab9c]=!(-0x12d0+-0x4*-0x3ac+0x420);}let _0x34e293=this['_assets']['length'];for(;_0x34e293--;){const _0x8b3ebb=this['_assets'][_0x34e293];if(!_0x9fee9b[_0x8b3ebb]){this['_app']['assets']['off']('add:'+_0x8b3ebb,this['_onAssetAd'+'d'],this);const _0xb367f5=this['_app']['assets']['get'](_0x8b3ebb);_0xb367f5&&this['_onAssetRe'+'move'](_0xb367f5),this['_assets']['splice'](_0x34e293,-0x1f*0x115+-0x8b*-0x43+-0x2d5);}}for(const _0x1a609d in _0x9fee9b){const _0x1e6a63=parseInt(_0x1a609d,-0x80*-0x41+-0x18bc+-0x7ba);if(this['_assets']['indexOf'](_0x1e6a63)!==-(-0x1*-0x1a99+0x11e9+-0x1*0x2c81))continue;this['_assets']['push'](_0x1e6a63);const _0xad512c=this['_app']['assets']['get'](_0x1e6a63);_0xad512c?this['_onAssetAd'+'d'](_0xad512c):this['_app']['assets']['once']('add:'+_0x1e6a63,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x5db8e2){if(this['_locale']===_0x5db8e2)return;let _0x4466a8=Oi(_0x5db8e2);if(_0x4466a8==='in'&&(_0x4466a8='id',_0x5db8e2=LC(_0x5db8e2,_0x4466a8),this['_locale']===_0x5db8e2))return;const _0x3f817b=this['_locale'];this['_locale']=_0x5db8e2,this['_lang']=_0x4466a8,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x5db8e2,_0x3f817b);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x50ebd2,_0x4f9035){return Fv(_0x50ebd2,_0x4f9035);}['findAvaila'+'bleLocale'](_0x32ec61){if(this['_translati'+'ons'][_0x32ec61])return _0x32ec61;const _0x4661d6=Oi(_0x32ec61);return this['_findFallb'+'ackLocale'](_0x32ec61,_0x4661d6);}['getText'](_0x5860d5,_0x462743){let _0x92ab1f=_0x5860d5,_0x18ae7e;_0x462743||(_0x462743=this['_locale'],_0x18ae7e=this['_lang']);let _0x822577=this['_translati'+'ons'][_0x462743];return _0x822577||(_0x18ae7e||(_0x18ae7e=Oi(_0x462743)),_0x462743=this['_findFallb'+'ackLocale'](_0x462743,_0x18ae7e),_0x822577=this['_translati'+'ons'][_0x462743]),_0x822577&&_0x822577['hasOwnProp'+'erty'](_0x5860d5)&&(_0x92ab1f=_0x822577[_0x5860d5],Array['isArray'](_0x92ab1f)&&(_0x92ab1f=_0x92ab1f[0x2289+0x6e4+0x2c3*-0xf]),_0x92ab1f==null&&(_0x92ab1f=_0x5860d5)),_0x92ab1f;}['getPluralT'+'ext'](_0x1603c2,_0x6ed9c9,_0x2cf26f){let _0x54a1cb=_0x1603c2,_0x946d60,_0x271e18;_0x2cf26f?(_0x946d60=Oi(_0x2cf26f),_0x271e18=Tf(_0x946d60)):(_0x2cf26f=this['_locale'],_0x946d60=this['_lang'],_0x271e18=this['_pluralFn']);let _0xd28ef1=this['_translati'+'ons'][_0x2cf26f];if(_0xd28ef1||(_0x2cf26f=this['_findFallb'+'ackLocale'](_0x2cf26f,_0x946d60),_0x946d60=Oi(_0x2cf26f),_0x271e18=Tf(_0x946d60),_0xd28ef1=this['_translati'+'ons'][_0x2cf26f]),_0xd28ef1&&_0xd28ef1[_0x1603c2]&&_0x271e18){const _0x1c8ac2=_0x271e18(_0x6ed9c9);_0x54a1cb=_0xd28ef1[_0x1603c2][_0x1c8ac2],_0x54a1cb==null&&(_0x54a1cb=_0x1603c2);}return _0x54a1cb;}['addData'](_0x2878be){let _0x4b4368;try{_0x4b4368=this['_parser']['parse'](_0x2878be);}catch(_0x1ca6cb){console['error'](_0x1ca6cb);return;}for(let _0x9a275a=0x19c4+-0xb*0x1ff+-0xd*0x4b,_0x5cbbd9=_0x4b4368['length'];_0x9a275a<_0x5cbbd9;_0x9a275a++){const _0x252e89=_0x4b4368[_0x9a275a],_0x451afc=_0x252e89['info']['locale'],_0x38f20e=_0x252e89['messages'];if(!this['_translati'+'ons'][_0x451afc]){this['_translati'+'ons'][_0x451afc]={};const _0x53c77c=Oi(_0x451afc);this['_available'+'Langs'][_0x53c77c]||(this['_available'+'Langs'][_0x53c77c]=_0x451afc);}Object['assign'](this['_translati'+'ons'][_0x451afc],_0x38f20e),this['fire']('data:add',_0x451afc,_0x38f20e);}}['removeData'](_0x49cac6){let _0x3c47f7;try{_0x3c47f7=this['_parser']['parse'](_0x49cac6);}catch(_0x32d4da){console['error'](_0x32d4da);return;}for(let _0x110ec6=-0x1*0x237c+-0x1*-0x2518+-0x67*0x4,_0x2e7b3e=_0x3c47f7['length'];_0x110ec6<_0x2e7b3e;_0x110ec6++){const _0x5ddae7=_0x3c47f7[_0x110ec6],_0xf9240d=_0x5ddae7['info']['locale'],_0x2aeef3=this['_translati'+'ons'][_0xf9240d];if(!_0x2aeef3)continue;const _0x2d62bf=_0x5ddae7['messages'];for(const _0x2f47b3 in _0x2d62bf)delete _0x2aeef3[_0x2f47b3];Object['keys'](_0x2aeef3)['length']===-0x22b3+-0x22b5+0x4568*0x1&&(delete this['_translati'+'ons'][_0xf9240d],delete this['_available'+'Langs'][Oi(_0xf9240d)]),this['fire']('data:remov'+'e',_0xf9240d,_0x2d62bf);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x4f2e47,_0x545479){let _0x3701d6=Mh[_0x4f2e47];return _0x3701d6&&this['_translati'+'ons'][_0x3701d6]||(_0x3701d6=Mh[_0x545479],_0x3701d6&&this['_translati'+'ons'][_0x3701d6])||(_0x3701d6=this['_available'+'Langs'][_0x545479],_0x3701d6&&this['_translati'+'ons'][_0x3701d6])?_0x3701d6:Ph;}['_onAssetAd'+'d'](_0x19e34f){_0x19e34f['on']('load',this['_onAssetLo'+'ad'],this),_0x19e34f['on']('change',this['_onAssetCh'+'ange'],this),_0x19e34f['on']('remove',this['_onAssetRe'+'move'],this),_0x19e34f['on']('unload',this['_onAssetUn'+'load'],this),_0x19e34f['resource']&&this['_onAssetLo'+'ad'](_0x19e34f);}['_onAssetLo'+'ad'](_0x24bcf0){this['addData'](_0x24bcf0['resource']);}['_onAssetCh'+'ange'](_0x557988){_0x557988['resource']&&this['addData'](_0x557988['resource']);}['_onAssetRe'+'move'](_0x1ca806){_0x1ca806['off']('load',this['_onAssetLo'+'ad'],this),_0x1ca806['off']('change',this['_onAssetCh'+'ange'],this),_0x1ca806['off']('remove',this['_onAssetRe'+'move'],this),_0x1ca806['off']('unload',this['_onAssetUn'+'load'],this),_0x1ca806['resource']&&this['removeData'](_0x1ca806['resource']),this['_app']['assets']['once']('add:'+_0x1ca806['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x30149a){_0x30149a['resource']&&this['removeData'](_0x30149a['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x20167f){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x20167f;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x257766,_0x1e5cbb){_0x1e5cbb&&this['_scriptSch'+'emas']['set'](_0x257766,_0x1e5cbb);}['getSchema'](_0x27f847){return this['_scriptSch'+'emas']['get'](_0x27f847);}['add'](_0x5e2c1e){const _0x2877ac=_0x5e2c1e['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x2877ac)?(setTimeout(()=>{if(_0x5e2c1e['prototype']['swap']){const _0x43ddf2=this['_scripts'][_0x2877ac],_0x5f0a3f=this['_list']['indexOf'](_0x43ddf2);this['_list'][_0x5f0a3f]=_0x5e2c1e,this['_scripts'][_0x2877ac]=_0x5e2c1e,this['fire']('swap',_0x2877ac,_0x5e2c1e),this['fire']('swap:'+_0x2877ac,_0x5e2c1e);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x2877ac+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0xab*0x2f+0x35*-0x8b+0x1*-0x29d)):(this['_scripts'][_0x2877ac]=_0x5e2c1e,this['_list']['push'](_0x5e2c1e),this['fire']('add',_0x2877ac,_0x5e2c1e),this['fire']('add:'+_0x2877ac,_0x5e2c1e),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x2877ac)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0xd3b905=this['app']['systems']['script']['_component'+'s'];let _0x4d2d57;const _0x2bfdf5=[],_0x4799b1=[];for(_0xd3b905['loopIndex']=0x1590+-0x25d0+0x1040;_0xd3b905['loopIndex']<_0xd3b905['length'];_0xd3b905['loopIndex']++){const _0xd7a770=_0xd3b905['items'][_0xd3b905['loopIndex']];if(_0xd7a770['_scriptsIn'+'dex'][_0x2877ac]&&_0xd7a770['_scriptsIn'+'dex'][_0x2877ac]['awaiting']){_0xd7a770['_scriptsDa'+'ta']&&_0xd7a770['_scriptsDa'+'ta'][_0x2877ac]&&(_0x4d2d57=_0xd7a770['_scriptsDa'+'ta'][_0x2877ac]['attributes']);const _0x2036db=_0xd7a770['create'](_0x2877ac,{'preloading':!(-0x1a9c+-0x2413+-0x1*-0x3eaf),'ind':_0xd7a770['_scriptsIn'+'dex'][_0x2877ac]['ind'],'attributes':_0x4d2d57});_0x2036db&&_0x2bfdf5['push'](_0x2036db);for(const _0x5bc296 of _0xd7a770['scripts'])_0xd7a770['initialize'+'Attributes'](_0x5bc296);}}for(let _0x2154b9=-0x1*-0x1a84+-0x158d+-0x4f7;_0x2154b9<_0x2bfdf5['length'];_0x2154b9++)_0x2bfdf5[_0x2154b9]['enabled']&&(_0x2bfdf5[_0x2154b9]['_initializ'+'ed']=!(0x354*0xa+-0x6e6+-0xb*0x266),_0x4799b1['push'](_0x2bfdf5[_0x2154b9]),_0x2bfdf5[_0x2154b9]['initialize']&&_0x2bfdf5[_0x2154b9]['initialize']());for(let _0x243f1e=0x11e*0x17+-0x2534+-0xb82*-0x1;_0x243f1e<_0x4799b1['length'];_0x243f1e++)!_0x4799b1[_0x243f1e]['enabled']||_0x4799b1[_0x243f1e]['_postIniti'+'alized']||(_0x4799b1[_0x243f1e]['_postIniti'+'alized']=!(-0x2345+-0x1058+0x339d),_0x4799b1[_0x243f1e]['postInitia'+'lize']&&_0x4799b1[_0x243f1e]['postInitia'+'lize']());}),!(-0xecd+0xdb*0x5+0xa86));}['remove'](_0x4e7ec8){let _0xe1156d=_0x4e7ec8,_0x23218c=_0x4e7ec8;if(typeof _0x23218c!='string'?_0x23218c=_0xe1156d['__name']:_0xe1156d=this['get'](_0x23218c),this['get'](_0x23218c)!==_0xe1156d)return!(0xa7d+-0x3d*-0x9f+-0x7*0x6e9);delete this['_scripts'][_0x23218c];const _0x3fc537=this['_list']['indexOf'](_0xe1156d);return this['_list']['splice'](_0x3fc537,-0x122c+-0x13f9+-0x2626*-0x1),this['fire']('remove',_0x23218c,_0xe1156d),this['fire']('remove:'+_0x23218c,_0xe1156d),!(-0x265b+-0x1*0x1f92+0xd*0x561);}['get'](_0x36a228){return this['_scripts'][_0x36a228]||null;}['has'](_0x22e761){if(typeof _0x22e761=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x22e761);if(!_0x22e761)return!(-0x229a+0x1dec+0x4af);const _0x2e5f8e=_0x22e761['__name'];return this['_scripts'][_0x2e5f8e]===_0x22e761;}['list'](){return this['_list'];}}const WC=(_0x1d36d1,_0xb2760e)=>_0x1d36d1['constructo'+'r']['order']-_0xb2760e['constructo'+'r']['order'],$C=_0x331e42=>_0x331e42['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x120b71=>{_0x120b71['length']=-0xee*-0x2+0x17*-0x175+0x1fa7,Nv['push'](_0x120b71);},Hh=class Hh extends Ie{constructor(_0x1f3dd7,_0xabad46=Ms()){super(_0x1f3dd7),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x1849+0x9*-0xd7+0x1fd9)),h(this,'_guid',null),h(this,'_template',!(-0x19d4+-0x1006+-0x1*-0x29db)),(w['assert'](_0xabad46,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0xabad46);}['addCompone'+'nt'](_0x565b46,_0x3f0130){const _0x4b8988=this['_app']['systems'][_0x565b46];return _0x4b8988?this['c'][_0x565b46]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x565b46+('\x27\x20componen'+'t')),null):_0x4b8988['addCompone'+'nt'](this,_0x3f0130):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x565b46+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x4ae076){const _0x3e1595=this['_app']['systems'][_0x4ae076];if(!_0x3e1595){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x4ae076+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x4ae076]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x4ae076+('\x27\x20componen'+'t'));return;}_0x3e1595['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x20b196){const _0x1b8813=this['findOne'](_0x273745=>{var _0x2b75a9;return(_0x2b75a9=_0x273745['c'])==null?void(-0x1*-0x1475+-0xb*0x76+-0xd*0x12f):_0x2b75a9[_0x20b196];});return _0x1b8813&&_0x1b8813['c'][_0x20b196];}['findCompon'+'ents'](_0x4b14c3){return this['find'](_0x4a7a9c=>{var _0x3093dd;return(_0x3093dd=_0x4a7a9c['c'])==null?void(0x1602+0x95c*-0x2+-0x34a):_0x3093dd[_0x4b14c3];})['map'](_0x47fc1e=>_0x47fc1e['c'][_0x4b14c3]);}['findScript'](_0x4f6fc0){const _0x55db80=this['findOne'](_0x487039=>{var _0xa631ae,_0x2eaed6;return(_0x2eaed6=(_0xa631ae=_0x487039['c'])==null?void(-0x1*-0x144d+-0x2*-0xe5d+-0x3107):_0xa631ae['script'])==null?void(-0x6a9+-0x1*0x232+0x8db):_0x2eaed6['has'](_0x4f6fc0);});return _0x55db80==null?void(0xd*-0x25+-0x114e+0x132f):_0x55db80['c']['script']['get'](_0x4f6fc0);}['findScript'+'s'](_0x5adb48){return this['find'](_0x28bb30=>{var _0x209f57,_0x532f36;return(_0x532f36=(_0x209f57=_0x28bb30['c'])==null?void(0x19eb+0x1e05+0x14*-0x2cc):_0x209f57['script'])==null?void(0xd13+-0x1d04+-0x1*-0xff1):_0x532f36['has'](_0x5adb48);})['map'](_0x58f5a0=>_0x58f5a0['c']['script']['get'](_0x5adb48));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x50c751){const _0x4c7e67=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x4c7e67[this['_guid']],this['_guid']=_0x50c751,_0x4c7e67[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3d9000,_0x45488d){let _0x1d4fd8=!(0x2*0x1387+0x2018+-0x4725);_0x3d9000===this&&po['length']===-0x14e2+0x243f+0x9*-0x1b5&&(_0x1d4fd8=!(-0xef*-0x6+0x6a*-0x1b+0x594)),_0x3d9000['_beingEnab'+'led']=!(0x1087+0x1beb+-0x2c72),_0x3d9000['_onHierarc'+'hyStateCha'+'nged'](_0x45488d),_0x3d9000['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x3d9000);const _0x510218=_0x3d9000['_children'];for(let _0x45f563=0x85d*0x1+0x26*-0x35+-0x7f*0x1,_0x6ebbb4=_0x510218['length'];_0x45f563<_0x6ebbb4;_0x45f563++)_0x510218[_0x45f563]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x510218[_0x45f563],_0x45488d);if(_0x3d9000['_beingEnab'+'led']=!(0xef1+0x3*-0x641+-0xb*-0x59),_0x1d4fd8){for(let _0x284394=0x181*-0x1+0x10b6*-0x1+0x1237;_0x284394<po['length'];_0x284394++)po[_0x284394]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=-0x497+-0x1a33+0x1eca;}}['_onHierarc'+'hyStateCha'+'nged'](_0x5d5de1){super['_onHierarc'+'hyStateCha'+'nged'](_0x5d5de1);const _0xa53f8d=this['_getSorted'+'Components']();for(let _0xa9f468=0x8f9+0x173*0x19+-0x2d34;_0xa9f468<_0xa53f8d['length'];_0xa9f468++){const _0x5268b6=_0xa53f8d[_0xa9f468];_0x5268b6['enabled']&&(_0x5d5de1?_0x5268b6['onEnable']():_0x5268b6['onDisable']());}Ag(_0xa53f8d);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x3e0d1e=this['_getSorted'+'Components']();for(let _0x579bfd=0x1*0x1885+-0x1d0a+0x485;_0x579bfd<_0x3e0d1e['length'];_0x579bfd++)_0x3e0d1e[_0x579bfd]['onPostStat'+'eChange']();Ag(_0x3e0d1e);}['findByGuid'](_0x4d14bb){if(this['_guid']===_0x4d14bb)return this;const _0x41eb34=this['_app']['_entityInd'+'ex'][_0x4d14bb];return _0x41eb34&&(_0x41eb34===this||_0x41eb34['isDescenda'+'ntOf'](this))?_0x41eb34:null;}['destroy'](){this['_destroyin'+'g']=!(0x1937+0x213d*0x1+-0x3a74);for(const _0x1c74ee in this['c'])this['c'][_0x1c74ee]['enabled']=!(-0x1b99+0x163+0x1a37);for(const _0x4e633b in this['c'])this['c'][_0x4e633b]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1*0x1837+0x1*-0xb43+-0x125*-0x1f);}['clone'](){const _0x15397c={},_0x35b162=this['_cloneRecu'+'rsively'](_0x15397c);return _0x15397c[this['getGuid']()]=_0x35b162,kv(this,this,_0x35b162,_0x15397c),_0x35b162;}['_getSorted'+'Components'](){const _0x574595=this['c'],_0x5723ae=XC();let _0x4e24bc=-0xd87*-0x2+-0xcbd*0x1+0xe51*-0x1;for(const _0x372ef7 in _0x574595)if(_0x574595['hasOwnProp'+'erty'](_0x372ef7)){const _0x245017=_0x574595[_0x372ef7];_0x4e24bc|=_0x245017['constructo'+'r']['order']!==-0xd97+-0x14f*0x1d+0x338a,_0x5723ae['push'](_0x245017);}return _0x4e24bc&&_0x5723ae['length']>0x5de+0x35*-0x8e+0x4b5*0x5&&$C(_0x5723ae),_0x5723ae;}['_cloneRecu'+'rsively'](_0x1de459){const _0x1d5674=new this['constructo'+'r'](void(-0xa7b+0x1*-0xaeb+0x1566),this['_app']);super['_cloneInte'+'rnal'](_0x1d5674);for(const _0x317f8e in this['c'])this['c'][_0x317f8e]['system']['cloneCompo'+'nent'](this,_0x1d5674);for(let _0x523c10=-0x12e3+-0x6a3+0x1986;_0x523c10<this['_children']['length'];_0x523c10++){const _0x4daf7e=this['_children'][_0x523c10];if(_0x4daf7e instanceof Hh){const _0x3cf73b=_0x4daf7e['_cloneRecu'+'rsively'](_0x1de459);_0x1d5674['addChild'](_0x3cf73b),_0x1de459[_0x4daf7e['getGuid']()]=_0x3cf73b;}}return _0x1d5674;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0xb54b8d,_0xd5aab4,_0x3ebc73,_0x3c7c43){if(_0xd5aab4 instanceof lt){const _0x5c3e68=_0xd5aab4['c'];for(const _0x22a05e in _0x5c3e68){const _0x1bd088=_0x5c3e68[_0x22a05e],_0x49b162=_0x1bd088['system']['getPropert'+'iesOfType']('entity');for(let _0x319220=0x2056+0xe17+-0x1*0x2e6d,_0xb8a6f=_0x49b162['length'];_0x319220<_0xb8a6f;_0x319220++){const _0xf893e8=_0x49b162[_0x319220]['name'],_0x5dc57f=_0x1bd088[_0xf893e8];if(!!_0xb54b8d['findByGuid'](_0x5dc57f)){const _0x288aaa=_0x3c7c43[_0x5dc57f]['getGuid']();_0x288aaa?_0x3ebc73['c'][_0x22a05e][_0xf893e8]=_0x288aaa:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x5c3e68['script']&&_0x3ebc73['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['script'],_0x3c7c43),_0x5c3e68['render']&&_0x3ebc73['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['render'],_0x3c7c43),_0x5c3e68['button']&&_0x3ebc73['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['button'],_0x3c7c43),_0x5c3e68['scrollview']&&_0x3ebc73['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['scrollview'],_0x3c7c43),_0x5c3e68['scrollbar']&&_0x3ebc73['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['scrollbar'],_0x3c7c43),_0x5c3e68['anim']&&_0x3ebc73['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c3e68['anim'],_0x3c7c43);const _0x66514e=_0xd5aab4['children']['filter'](_0x1174a9=>_0x1174a9 instanceof lt),_0x127b92=_0x3ebc73['children']['filter'](_0x181447=>_0x181447 instanceof lt);for(let _0x5d515e=0x26b*0x3+-0x1de7+0xb53*0x2,_0x3bb082=_0x66514e['length'];_0x5d515e<_0x3bb082;_0x5d515e++)kv(_0xb54b8d,_0x66514e[_0x5d515e],_0x127b92[_0x5d515e],_0x3c7c43);}}class Cg{constructor(_0x18d383,_0xcc838b){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x2250+-0x189*0x7+0x4*-0x5e4)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x18d383,this['url']=_0xcc838b);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x297b3f){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x297b3f;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x5e7c30,_0x501e01){if(this['_index']['hasOwnProp'+'erty'](_0x5e7c30))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x5e7c30),!(-0x135a+0xbd3+-0x4*-0x1e2);const _0x39c95c=new Cg(_0x5e7c30,_0x501e01),_0x4398c0=this['_list']['push'](_0x39c95c);return this['_index'][_0x39c95c['name']]=_0x4398c0-(-0x1*0x261a+0x3*0x97+-0x122b*-0x2),this['_urlIndex'][_0x39c95c['url']]=_0x4398c0-(0x1*0x1587+-0x1*0x2106+0xb80),!(-0xe5*-0x7+-0x86a+0x1d*0x13);}['find'](_0x520e1a){return this['_index']['hasOwnProp'+'erty'](_0x520e1a)?this['_list'][this['_index'][_0x520e1a]]:null;}['findByUrl'](_0x459872){return this['_urlIndex']['hasOwnProp'+'erty'](_0x459872)?this['_list'][this['_urlIndex'][_0x459872]]:null;}['remove'](_0x2c043a){if(this['_index']['hasOwnProp'+'erty'](_0x2c043a)){const _0x7b334=this['_index'][_0x2c043a];let _0x3ebf68=this['_list'][_0x7b334];delete this['_urlIndex'][_0x3ebf68['url']],delete this['_index'][_0x2c043a],this['_list']['splice'](_0x7b334,0x21f5*-0x1+-0xaec*-0x1+0x170a);for(let _0x58cd65=0x1*0xcb3+-0x1f91+0xa*0x1e3;_0x58cd65<this['_list']['length'];_0x58cd65++)_0x3ebf68=this['_list'][_0x58cd65],this['_index'][_0x3ebf68['name']]=_0x58cd65,this['_urlIndex'][_0x3ebf68['url']]=_0x58cd65;}}['_loadScene'+'Data'](_0x11b7a4,_0x5a8870,_0x33435b){const _0x2d43ac=this['_app'];let _0x5c45dc=_0x11b7a4;if(typeof _0x11b7a4=='string'&&(_0x11b7a4=this['findByUrl'](_0x5c45dc)||this['find'](_0x5c45dc)||new Cg('Untitled',_0x5c45dc)),_0x5c45dc=_0x11b7a4['url'],!_0x5c45dc){_0x33435b('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x11b7a4['loaded']){_0x33435b(null,_0x11b7a4);return;}_0x2d43ac['assets']&&_0x2d43ac['assets']['prefix']&&!jn['test'](_0x5c45dc)&&(_0x5c45dc=xe['join'](_0x2d43ac['assets']['prefix'],_0x5c45dc)),_0x11b7a4['_onLoadedC'+'allbacks']['push'](_0x33435b),_0x11b7a4['_loading']||_0x2d43ac['loader']['getHandler']('hierarchy')['load'](_0x5c45dc,(_0x22f334,_0x19e05a)=>{_0x11b7a4['data']=_0x19e05a,_0x11b7a4['_loading']=!(-0x1*0x1d8f+0xdff*-0x2+0x398e);for(let _0x373ff3=0x36*0x99+-0x172c+-0x91a*0x1;_0x373ff3<_0x11b7a4['_onLoadedC'+'allbacks']['length'];_0x373ff3++)_0x11b7a4['_onLoadedC'+'allbacks'][_0x373ff3](_0x22f334,_0x11b7a4);_0x5a8870||(_0x11b7a4['data']=null),_0x11b7a4['_onLoadedC'+'allbacks']['length']=-0x1ff1*0x1+-0x1454+-0x1*-0x3445;}),_0x11b7a4['_loading']=!(-0x49e+0x388+0x116);}['loadSceneD'+'ata'](_0x5e14cb,_0x211926){this['_loadScene'+'Data'](_0x5e14cb,!(-0x2261+-0x1*-0x1aaa+0x7b7),_0x211926);}['unloadScen'+'eData'](_0x5837c6){typeof _0x5837c6=='string'&&(_0x5837c6=this['findByUrl'](_0x5837c6)),_0x5837c6&&(_0x5837c6['data']=null);}['_loadScene'+'Hierarchy'](_0x5335a2,_0x2800b2,_0x16f0ff){this['_loadScene'+'Data'](_0x5335a2,!(0x279*-0xb+-0x3*-0x4cf+0x1*0xcc7),(_0x528e61,_0x4390c8)=>{if(_0x528e61){_0x16f0ff&&_0x16f0ff(_0x528e61);return;}_0x2800b2&&_0x2800b2(_0x4390c8);const _0x55b48c=this['_app'],_0xbe3f74=()=>{const _0xc60190=_0x55b48c['loader']['getHandler']('hierarchy');_0x55b48c['systems']['script']['preloading']=!(0x244c+-0x6f*-0x1+0x1*-0x24bb);const _0x13a5a1=_0xc60190['open'](_0x4390c8['url'],_0x4390c8['data']);_0x55b48c['systems']['script']['preloading']=!(-0x1747+-0x1826+-0x17b7*-0x2),_0x55b48c['loader']['clearCache'](_0x4390c8['url'],'hierarchy'),_0x55b48c['root']['addChild'](_0x13a5a1),_0x55b48c['systems']['fire']('initialize',_0x13a5a1),_0x55b48c['systems']['fire']('postInitia'+'lize',_0x13a5a1),_0x55b48c['systems']['fire']('postPostIn'+'itialize',_0x13a5a1),_0x16f0ff&&_0x16f0ff(null,_0x13a5a1);};_0x55b48c['_preloadSc'+'ripts'](_0x4390c8['data'],_0xbe3f74);});}['loadSceneH'+'ierarchy'](_0x12999e,_0x5b395b){this['_loadScene'+'Hierarchy'](_0x12999e,null,_0x5b395b);}['loadSceneS'+'ettings'](_0x441d31,_0xa0a59a){this['_loadScene'+'Data'](_0x441d31,!(-0x1e01+0x1be2+0x88*0x4),(_0xe2a170,_0x20717f)=>{_0xe2a170?_0xa0a59a&&_0xa0a59a(_0xe2a170):(this['_app']['applyScene'+'Settings'](_0x20717f['data']['settings']),_0xa0a59a&&_0xa0a59a(null));});}['changeScen'+'e'](_0x3ba120,_0x1a3c39){const _0x289665=this['_app'],_0x2c63e3=_0x325e80=>{const {children:_0x35421e}=_0x289665['root'];for(;_0x35421e['length'];)_0x35421e[0x2329+-0xe02+-0x1527]['destroy']();_0x289665['applyScene'+'Settings'](_0x325e80['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x3ba120,_0x2c63e3,_0x1a3c39);}['loadScene'](_0x3f246c,_0x2a30d8){const _0x1b5e9a=this['_app'],_0x36a9f2=_0x1b5e9a['loader']['getHandler']('scene');_0x1b5e9a['assets']&&_0x1b5e9a['assets']['prefix']&&!jn['test'](_0x3f246c)&&(_0x3f246c=xe['join'](_0x1b5e9a['assets']['prefix'],_0x3f246c)),_0x36a9f2['load'](_0x3f246c,(_0x1d6af0,_0x4aeb14)=>{if(_0x1d6af0)_0x2a30d8&&_0x2a30d8(_0x1d6af0);else{const _0x252376=()=>{_0x1b5e9a['systems']['script']['preloading']=!(0xb2*-0x2+-0x1*0x9c6+0xb2a);const _0x5cdcd0=_0x36a9f2['open'](_0x3f246c,_0x4aeb14),_0x4ecc0e=this['findByUrl'](_0x3f246c);_0x4ecc0e&&!_0x4ecc0e['loaded']&&(_0x4ecc0e['data']=_0x4aeb14),_0x1b5e9a['systems']['script']['preloading']=!(0x10c9+-0x1daa+-0x22*-0x61),_0x1b5e9a['loader']['clearCache'](_0x3f246c,'scene'),_0x1b5e9a['loader']['patch']({'resource':_0x5cdcd0,'type':'scene'},_0x1b5e9a['assets']),_0x1b5e9a['root']['addChild'](_0x5cdcd0['root']),_0x1b5e9a['systems']['rigidbody']&&typeof Ammo<'u'&&_0x1b5e9a['systems']['rigidbody']['gravity']['set'](_0x5cdcd0['_gravity']['x'],_0x5cdcd0['_gravity']['y'],_0x5cdcd0['_gravity']['z']),_0x2a30d8&&_0x2a30d8(null,_0x5cdcd0);};_0x1b5e9a['_preloadSc'+'ripts'](_0x4aeb14,_0x252376);}});}}class jC{constructor(_0x1df913){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x1df913['_shaderSta'+'ts'],this['vram']=_0x1df913['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x1f786d;return(_0x1f786d=Ms()['lightmappe'+'r'])==null?void(0x1*0x2ee+-0x1ea6+-0xddc*-0x2):_0x1f786d['stats'];}get['batcher'](){const _0x177e42=Ms()['_batcher'];return _0x177e42?_0x177e42['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x51c56e){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0x2*-0x15a+0x40a*-0x9+0x21a7*0x1)),h(this,'_inFrameUp'+'date',!(-0x544*0x3+-0x3c*0xa3+0x3601)),h(this,'_libraries'+'Loaded',!(-0x2046+-0xb79*-0x1+-0x14ce*-0x1)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x25*0x3b+-0x1835+0xa*0x346)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0x1858+-0x2018+0x1*0x7c1)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x1b3*0xd+0x49c+-0x557*0x5),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1*0x1042+-0x1243+-0x5c1*-0x6),h(this,'maxDeltaTi'+'me',-0x12fa+-0x1*-0x1e5+0x1115+0.1),h(this,'frame',-0x11ef*0x1+0x109d*0x1+0x2*0xa9),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0x1671*-0x1+-0xf29+-0x4*0x1d2)),h(this,'renderNext'+'Frame',!(0x79d*0x1+-0xf6*0x1+0x2*-0x353)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0x71*-0x5+-0x1172+0xf3d):hn['indexOf']('$'))<0x3fa*0x7+0xbb1+-0x2787*0x1&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x51c56e['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x640+-0x1ef6+0x2536));}['init'](_0x4b7b31){const {assetPrefix:_0x3b5203,batchManager:_0x43f36e,componentSystems:_0x397a62,elementInput:_0x31c997,gamepads:_0x272de7,graphicsDevice:_0x14aa67,keyboard:_0x15b912,lightmapper:_0x1d1769,mouse:_0x5c204d,resourceHandlers:_0x55effc,scriptsOrder:_0x35be37,scriptPrefix:_0x15ebbb,soundManager:_0x30262d,touch:_0x51a21c,xr:_0xdf33f0}=_0x4b7b31;w['assert'](_0x14aa67,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x14aa67,Pe['get'](_0x14aa67,Fe)['add'](Z2),Pe['get'](_0x14aa67,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x14aa67),this['_soundMana'+'ger']=_0x30262d,this['scene']=new Et(_0x14aa67),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x3b5203&&(this['assets']['prefix']=_0x3b5203),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x35be37||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x159+0x16c4*-0x1+0x181e),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x2d95dd=new du('default');_0x2d95dd['pushOpaque'](this['defaultLay'+'erWorld']),_0x2d95dd['pushOpaque'](this['defaultLay'+'erDepth']),_0x2d95dd['pushOpaque'](this['defaultLay'+'erSkybox']),_0x2d95dd['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x2d95dd['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x2d95dd['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x2d95dd['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x2d95dd,ia['createPlac'+'eholder'](_0x14aa67),this['renderer']=new fl(_0x14aa67),this['renderer']['scene']=this['scene'],_0x1d1769&&(this['lightmappe'+'r']=new _0x1d1769(_0x14aa67,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x43f36e&&(this['_batcher']=new _0x43f36e(_0x14aa67,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x15b912||null,this['mouse']=_0x5c204d||null,this['touch']=_0x51a21c||null,this['gamepads']=_0x272de7||null,_0x31c997&&(this['elementInp'+'ut']=_0x31c997,this['elementInp'+'ut']['app']=this),this['xr']=_0xdf33f0?new _0xdf33f0(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x15ebbb||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x55effc['forEach'](_0x365488=>{const _0x328788=new _0x365488(this);this['loader']['addHandler'](_0x328788['handlerTyp'+'e'],_0x328788);}),_0x397a62['forEach'](_0x1eee9b=>{this['systems']['add'](new _0x1eee9b(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x21*-0x49+-0x14*-0xa4+-0x1639)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1b1*0xb+0xf66+-0x2200))):document['mozHidden']!==void(-0x6d7*-0x1+-0x2479+0x1*0x1da2)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1924+-0x9b1+-0xf72))):document['msHidden']!==void(0x87e+-0x9*-0x67+-0xc1d)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x192b+0x8c8+0x4*0x419))):document['webkitHidd'+'en']!==void(-0x24e3+-0x21c1+0xc*0x5e3)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x8f6*0x2+0xe1f+-0x200a)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x5458e4){return _0x5458e4?ea['_applicati'+'ons'][_0x5458e4]:Ms();}['_initDefau'+'ltMaterial'](){const _0x39b5b9=new Ut();_0x39b5b9['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x39b5b9);}['_initProgr'+'amLibrary'](){const _0x17d00a=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x17d00a);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4a1277,_0x12203a){ot['get'](_0x4a1277,(_0x207f3f,_0x12c116)=>{if(_0x207f3f){_0x12203a(_0x207f3f);return;}const _0x33900c=_0x12c116['applicatio'+'n_properti'+'es'],_0x1b8441=_0x12c116['scenes'],_0x4b05f0=_0x12c116['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x33900c,_0x1525f6=>{this['_parseScen'+'es'](_0x1b8441),this['_parseAsse'+'ts'](_0x4b05f0),_0x12203a(_0x1525f6||null);});});}['preload'](_0x29d7fa){this['fire']('preload:st'+'art');const _0x3c1571=this['assets']['list']({'preload':!(0x101e*-0x2+-0x4eb*-0x3+0x117b)});if(_0x3c1571['length']===-0x17b6+-0x1*-0x30a+-0x6e4*-0x3){this['fire']('preload:en'+'d'),_0x29d7fa();return;}let _0x575a21=0xc73*-0x1+-0x2*0x8d1+0x1e15;const _0x391476=()=>{_0x575a21++,this['fire']('preload:pr'+'ogress',_0x575a21/_0x3c1571['length']),_0x575a21===_0x3c1571['length']&&(this['fire']('preload:en'+'d'),_0x29d7fa());};_0x3c1571['forEach'](_0x2584fb=>{_0x2584fb['loaded']?_0x391476():(_0x2584fb['once']('load',_0x391476),_0x2584fb['once']('error',_0x391476),this['assets']['load'](_0x2584fb));});}['_preloadSc'+'ripts'](_0x4d7deb,_0x362577){_0x362577();}['_parseAppl'+'icationPro'+'perties'](_0x4747e4,_0x251236){if(typeof _0x4747e4['maxAssetRe'+'tries']=='number'&&_0x4747e4['maxAssetRe'+'tries']>0x11+0x27*0x17+-0x392&&this['loader']['enableRetr'+'y'](_0x4747e4['maxAssetRe'+'tries']),_0x4747e4['useDeviceP'+'ixelRatio']||(_0x4747e4['useDeviceP'+'ixelRatio']=_0x4747e4['use_device'+'_pixel_rat'+'io']),_0x4747e4['resolution'+'Mode']||(_0x4747e4['resolution'+'Mode']=_0x4747e4['resolution'+'_mode']),_0x4747e4['fillMode']||(_0x4747e4['fillMode']=_0x4747e4['fill_mode']),this['_width']=_0x4747e4['width'],this['_height']=_0x4747e4['height'],_0x4747e4['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x4747e4['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x4747e4['fillMode'],this['_width'],this['_height']),_0x4747e4['layers']&&_0x4747e4['layerOrder']){const _0x4e68b7=new du('applicatio'+'n'),_0x4c07d2={};for(const _0x242b06 in _0x4747e4['layers']){const _0x341458=_0x4747e4['layers'][_0x242b06];_0x341458['id']=parseInt(_0x242b06,-0x1b3a+-0x22*-0xd6+-0x128),_0x341458['enabled']=_0x341458['id']!==ps,_0x4c07d2[_0x242b06]=new Ot(_0x341458);}for(let _0x18a460=0x7b8*-0x3+0x109b+0x68d,_0xce2222=_0x4747e4['layerOrder']['length'];_0x18a460<_0xce2222;_0x18a460++){const _0x5aba95=_0x4747e4['layerOrder'][_0x18a460],_0x173786=_0x4c07d2[_0x5aba95['layer']];_0x173786&&(_0x5aba95['transparen'+'t']?_0x4e68b7['pushTransp'+'arent'](_0x173786):_0x4e68b7['pushOpaque'](_0x173786),_0x4e68b7['subLayerEn'+'abled'][_0x18a460]=_0x5aba95['enabled']);}this['scene']['layers']=_0x4e68b7;}if(_0x4747e4['batchGroup'+'s']){const _0x58b06a=this['batcher'];if(_0x58b06a)for(let _0x292f59=-0x8d2+0x2532+-0x4*0x718,_0x1ece2f=_0x4747e4['batchGroup'+'s']['length'];_0x292f59<_0x1ece2f;_0x292f59++){const _0x220413=_0x4747e4['batchGroup'+'s'][_0x292f59];_0x58b06a['addGroup'](_0x220413['name'],_0x220413['dynamic'],_0x220413['maxAabbSiz'+'e'],_0x220413['id'],_0x220413['layers']);}}_0x4747e4['i18nAssets']&&(this['i18n']['assets']=_0x4747e4['i18nAssets']),this['_loadLibra'+'ries'](_0x4747e4['libraries'],_0x251236);}['_loadLibra'+'ries'](_0x4eca46,_0xda1c8b){const _0x4ef615=_0x4eca46['length'];let _0x3c46ad=_0x4ef615;const _0x1ef0d4=/^https?:\/\//;if(_0x4ef615){const _0x4fe47e=(_0x543b55,_0x3492a0)=>{_0x3c46ad--,_0x543b55?_0xda1c8b(_0x543b55):_0x3c46ad===0x282*-0xb+-0x49a+-0x1018*-0x2&&(this['onLibrarie'+'sLoaded'](),_0xda1c8b(null));};for(let _0x5caaca=-0x61*0x4b+-0x11*0x102+-0x1*-0x2d8d;_0x5caaca<_0x4ef615;++_0x5caaca){let _0x278d34=_0x4eca46[_0x5caaca];!_0x1ef0d4['test'](_0x278d34['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x278d34=xe['join'](this['_scriptPre'+'fix'],_0x278d34)),this['loader']['load'](_0x278d34,'script',_0x4fe47e);}}else this['onLibrarie'+'sLoaded'](),_0xda1c8b(null);}['_parseScen'+'es'](_0x2ee960){if(_0x2ee960){for(let _0x26a003=0xd*0x213+-0x199*0x17+0x9c8;_0x26a003<_0x2ee960['length'];_0x26a003++)this['scenes']['add'](_0x2ee960[_0x26a003]['name'],_0x2ee960[_0x26a003]['url']);}}['_parseAsse'+'ts'](_0x746f78){const _0x53cc20=[],_0x3bcbc4={},_0x2c589e={};for(let _0x2d04b8=0x38c+-0x1*0x13ed+0x1061;_0x2d04b8<this['scriptsOrd'+'er']['length'];_0x2d04b8++){const _0x442afe=this['scriptsOrd'+'er'][_0x2d04b8];_0x746f78[_0x442afe]&&(_0x3bcbc4[_0x442afe]=!(-0x249+0x9ad+-0x764),_0x53cc20['push'](_0x746f78[_0x442afe]));}if(this['enableBund'+'les']){for(const _0x13ec5f in _0x746f78)_0x746f78[_0x13ec5f]['type']==='bundle'&&(_0x2c589e[_0x13ec5f]=!(0x26b4+0x1e*0x68+-0x32e4),_0x53cc20['push'](_0x746f78[_0x13ec5f]));}for(const _0x3bd72b in _0x746f78)_0x3bcbc4[_0x3bd72b]||_0x2c589e[_0x3bd72b]||_0x53cc20['push'](_0x746f78[_0x3bd72b]);for(let _0x590981=-0x1*0x2111+-0x1b6b+0x3c7c;_0x590981<_0x53cc20['length'];_0x590981++){const _0x5a77ef=_0x53cc20[_0x590981],_0x41e9a2=new pe(_0x5a77ef['name'],_0x5a77ef['type'],_0x5a77ef['file'],_0x5a77ef['data']);if(_0x41e9a2['id']=parseInt(_0x5a77ef['id'],0x7*-0x229+-0x50e*0x7+0xe3*0x39),_0x41e9a2['preload']=_0x5a77ef['preload']?_0x5a77ef['preload']:!(-0x1ad5+-0x12e8*-0x1+0x7ee),_0x41e9a2['loaded']=_0x5a77ef['type']==='script'&&_0x5a77ef['data']&&_0x5a77ef['data']['loadingTyp'+'e']>-0x1641+-0x17f5+0xd*0x38e,_0x41e9a2['tags']['add'](_0x5a77ef['tags']),_0x5a77ef['i18n']){for(const _0x434bc3 in _0x5a77ef['i18n'])_0x41e9a2['addLocaliz'+'edAssetId'](_0x434bc3,_0x5a77ef['i18n'][_0x434bc3]);}this['assets']['add'](_0x41e9a2);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x1*-0x1c01+-0x18a2+-0x31*-0x113);}),this['frame']=0xde8+0x3a*-0x94+0x13a0,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0xb1c9f7){this['controller']&&this['controller']['update'](_0xb1c9f7),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3773cf){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3773cf),this['systems']['fire']('animationU'+'pdate',_0x3773cf),this['systems']['fire']('postUpdate',_0x3773cf),this['fire']('update',_0x3773cf),this['inputUpdat'+'e'](_0x3773cf),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0x194*-0x13+0xbd9*-0x3+0x3d*0x113,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x54397c){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x54397c),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x54397c),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x574e63,_0x4e5cc3,_0x17a883){const _0x591f3b=this['stats']['frame'];_0x591f3b['dt']=_0x4e5cc3,_0x591f3b['ms']=_0x17a883,_0x574e63>_0x591f3b['_timeToCou'+'ntFrames']?(_0x591f3b['fps']=_0x591f3b['_fpsAccum'],_0x591f3b['_fpsAccum']=-0x2482+-0x2046+0x44c8,_0x591f3b['_timeToCou'+'ntFrames']=_0x574e63+(0x2b*0x1f+0xd*0x241+0x2*-0xf4d)):_0x591f3b['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x22d6+-0x107*0x1+0x23dd;}['_fillFrame'+'Stats'](){let _0x3224e3=this['stats']['frame'];_0x3224e3['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x3224e3['materials']=this['renderer']['_materialS'+'witches'],_0x3224e3['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x3224e3['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x3224e3['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x3224e3['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x3224e3['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x1791ec=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x3224e3['triangles']=_0x1791ec[js]/(0xfda*-0x2+-0x137*-0x1b+-0x116)+Math['max'](_0x1791ec[Er]-(0x3*-0x6f8+-0xb06+0x1ff0),0x27c*0x1+0x3c7*0x1+-0x643)+Math['max'](_0x1791ec[oa]-(-0x25*0x73+0x12ef+-0x24e),0x1ee9+-0xfd8*0x2+-0xc7*-0x1),_0x3224e3['cullTime']=this['renderer']['_cullTime'],_0x3224e3['sortTime']=this['renderer']['_sortTime'],_0x3224e3['skinTime']=this['renderer']['_skinTime'],_0x3224e3['morphTime']=this['renderer']['_morphTime'],_0x3224e3['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x3224e3['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x3224e3['otherPrimi'+'tives']=-0x230d+0xb9+0x2254;for(let _0x2c0edd=0x79+-0x1*-0x15bb+0xe*-0x196;_0x2c0edd<_0x1791ec['length'];_0x2c0edd++)_0x2c0edd<js&&(_0x3224e3['otherPrimi'+'tives']+=_0x1791ec[_0x2c0edd]),_0x1791ec[_0x2c0edd]=-0x2*0xc22+-0x1657+-0x29*-0x123;this['renderer']['_camerasRe'+'ndered']=-0x6*0x12a+0x65*0x1+0x697*0x1,this['renderer']['_materialS'+'witches']=-0x1*-0x892+0x5*0x119+-0x3b*0x3d,this['renderer']['_shadowMap'+'Updates']=-0x2542+-0x2562+0x4aa4,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x267a*-0x1+-0x1*-0x576+0x2104,this['renderer']['_cullTime']=0xa60*0x1+0xaa+-0xb0a,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x34c*-0x2+-0x5e1+-0xb7,this['renderer']['_lightClus'+'tersTime']=-0x1937+-0x2585+0x3ebc,this['renderer']['_sortTime']=0x171c+0x4a*0x8+-0xcb6*0x2,this['renderer']['_skinTime']=0x26be+-0x25e9+0x47*-0x3,this['renderer']['_morphTime']=0x81+-0x2f0+-0x26f*-0x1,this['renderer']['_shadowMap'+'Time']=0x2339+0x1e1c+-0x15c7*0x3,this['renderer']['_depthMapT'+'ime']=-0x1f15+-0x780+0x2695,this['renderer']['_forwardTi'+'me']=-0x1*0x13+-0x1*-0x19c7+-0x19b4,_0x3224e3=this['stats']['drawCalls'],_0x3224e3['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x3224e3['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x3224e3['depth']=-0x20cc+-0x2d*-0xa3+-0x425*-0x1,_0x3224e3['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x3224e3['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x3224e3['immediate']=0x1dcf+-0x1bb5+0x2*-0x10d,_0x3224e3['instanced']=0x2bf+0x25e1*0x1+0x34*-0xc8,_0x3224e3['removedByI'+'nstancing']=0x26bf+-0x14fa+-0x11c5,_0x3224e3['misc']=_0x3224e3['total']-(_0x3224e3['forward']+_0x3224e3['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1dae+0x550+0x185e,this['renderer']['_shadowDra'+'wCalls']=0x152+-0x1*0x1bb3+-0x1a61*-0x1,this['renderer']['_forwardDr'+'awCalls']=0x1974+0x1314+0x2c88*-0x1,this['renderer']['_numDrawCa'+'llsCulled']=-0x8d5*0x1+-0x10b5+0x198a,this['renderer']['_skinDrawC'+'alls']=-0x11*-0x71+-0xba8*0x1+0x427,this['renderer']['_immediate'+'Rendered']=-0x7*0xd+-0x13*-0x149+0x37*-0x70,this['renderer']['_instanced'+'DrawCalls']=-0x1c5f*-0x1+-0x4c1*0x3+-0xe1c,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x3224e3=this['stats']['particles'],_0x3224e3['updatesPer'+'Frame']=_0x3224e3['_updatesPe'+'rFrame'],_0x3224e3['frameTime']=_0x3224e3['_frameTime'],_0x3224e3['_updatesPe'+'rFrame']=-0x811+-0x25d0+0x2de1,_0x3224e3['_frameTime']=-0x7*-0x40f+-0x928+-0x1341;}['setCanvasF'+'illMode'](_0x3f4405,_0x2b809f,_0x11f7e8){this['_fillMode']=_0x3f4405,this['resizeCanv'+'as'](_0x2b809f,_0x11f7e8);}['setCanvasR'+'esolution'](_0x411753,_0x1d3bbb,_0x142437){this['_resolutio'+'nMode']=_0x411753,_0x411753===wg&&_0x1d3bbb===void(-0x168f+-0x7*-0x4bd+-0x61*0x1c)&&(_0x1d3bbb=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x142437=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x1d3bbb,_0x142437);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x47ae2e,_0x518e00){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0xe4662c=window['innerWidth'],_0x34ece6=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x1f79cd=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x5d7617=_0xe4662c/_0x34ece6;_0x1f79cd>_0x5d7617?(_0x47ae2e=_0xe4662c,_0x518e00=_0x47ae2e/_0x1f79cd):(_0x518e00=_0x34ece6,_0x47ae2e=_0x518e00*_0x1f79cd);}else this['_fillMode']===PC&&(_0x47ae2e=_0xe4662c,_0x518e00=_0x34ece6);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x47ae2e+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x518e00+'px',this['updateCanv'+'asSize'](),{'width':_0x47ae2e,'height':_0x518e00};}['updateCanv'+'asSize'](){var _0x477922;if(!(!this['_allowResi'+'ze']||(_0x477922=this['xr'])!=null&&_0x477922['active'])&&this['_resolutio'+'nMode']===wg){const _0x4d7954=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4d7954['clientWidt'+'h'],_0x4d7954['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x15b2+-0x46*-0x6a+-0x32ae),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x5ea2ba){let _0x1635f5;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x11e18b,_0x767581,_0x1fd99b]=_0x5ea2ba['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x11e18b,_0x767581,_0x1fd99b);}this['scene']['applySetti'+'ngs'](_0x5ea2ba),_0x5ea2ba['render']['hasOwnProp'+'erty']('skybox')&&(_0x5ea2ba['render']['skybox']?(_0x1635f5=this['assets']['get'](_0x5ea2ba['render']['skybox']),_0x1635f5?this['setSkybox'](_0x1635f5):this['assets']['once']('add:'+_0x5ea2ba['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x48a621,_0x69842d){_0x48a621&&_0x69842d?ia['set'](this['graphicsDe'+'vice'],_0x48a621,_0x69842d):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x343000){if(_0x343000!==this['_skyboxAss'+'et']){const _0x5edf29=()=>{this['setSkybox'](null);},_0x3142c2=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x3142c2,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x5edf29,this),this['_skyboxAss'+'et']['off']('change',_0x3142c2,this)),this['_skyboxAss'+'et']=_0x343000,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x3142c2,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x5edf29,this),this['_skyboxAss'+'et']['on']('change',_0x3142c2,this),this['scene']['skyboxMip']===-0xdb8+-0x2195+-0x2f4d*-0x1&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0xb9*0x1d+0x1*0xba2+0x953)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x3142c2();}}['_firstBake'](){var _0x49d6e0;(_0x49d6e0=this['lightmappe'+'r'])==null||_0x49d6e0['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x5cf9c8;(_0x5cf9c8=this['batcher'])==null||_0x5cf9c8['generate']();}['_processTi'+'mestamp'](_0x5ccb96){return _0x5ccb96;}['drawLine'](_0x16c0f3,_0x36803d,_0x4fbcb5,_0x31c5e5,_0x586a7c){this['scene']['drawLine'](_0x16c0f3,_0x36803d,_0x4fbcb5,_0x31c5e5,_0x586a7c);}['drawLines'](_0x255a85,_0x5ecdc2,_0x5c1a89=!(-0x1c4e+0xacd+0x1181),_0x323880=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x255a85,_0x5ecdc2,_0x5c1a89,_0x323880);}['drawLineAr'+'rays'](_0x3976de,_0x3daefd,_0x59225e=!(0x1*-0x18ec+0x18d7+0x3*0x7),_0x29ff7b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x3976de,_0x3daefd,_0x59225e,_0x29ff7b);}['drawWireSp'+'here'](_0x4d0b3f,_0x480fdb,_0x21e5fb=ie['WHITE'],_0x4660f0=0x198*0x11+0x15d7+-0x1*0x30db,_0x13fa26=!(-0x1658+0x1e18+-0x7c0),_0x5b461e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x4d0b3f,_0x480fdb,_0x21e5fb,_0x4660f0,_0x13fa26,_0x5b461e);}['drawWireAl'+'ignedBox'](_0x20c8ef,_0x56a2d3,_0x4fe458=ie['WHITE'],_0x3361dc=!(0x148c+0x19a3+0x699*-0x7),_0x3d5f01=this['scene']['defaultDra'+'wLayer'],_0x5d6f43){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x20c8ef,_0x56a2d3,_0x4fe458,_0x3361dc,_0x3d5f01,_0x5d6f43);}['drawMeshIn'+'stance'](_0x48b97f,_0x5ee268=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x48b97f,_0x5ee268);}['drawMesh'](_0x8e9bb,_0x4e4ccb,_0x4ac4cd,_0x3bc574=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x4e4ccb,_0x4ac4cd,_0x8e9bb,null,_0x3bc574);}['drawQuad'](_0x5695d9,_0x3c4f09,_0x3467ac=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x3c4f09,_0x5695d9,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x3467ac);}['drawTextur'+'e'](_0x255f9c,_0x44f04d,_0x4a3528,_0x377682,_0x2bcceb,_0x2e08f7,_0x4a1a99=this['scene']['defaultDra'+'wLayer'],_0x535bc9=!(-0x112f+-0x26fc+-0x1*-0x382b)){if(_0x535bc9===!(0x3*-0xaee+-0xb*-0x4f+0x1d66)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x2d84e9=new te();_0x2d84e9['setTRS'](new D(_0x255f9c,_0x44f04d,-0x1e00+-0x1121+0x7f*0x5f),le['IDENTITY'],new D(_0x4a3528,-_0x377682,-0x1*0x26bd+0x2201+0x4bc)),_0x2e08f7||(_0x2e08f7=new Xn(),_0x2e08f7['cull']=bt,_0x2e08f7['setParamet'+'er']('colorMap',_0x2bcceb),_0x2e08f7['shaderDesc']=_0x535bc9?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x2bcceb['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x2e08f7['update']()),this['drawQuad'](_0x2d84e9,_0x2e08f7,_0x4a1a99);}['drawDepthT'+'exture'](_0x49c615,_0x35f1d2,_0x173935,_0xea7b7c,_0x55a684=this['scene']['defaultDra'+'wLayer']){const _0x2f210c=new Xn();_0x2f210c['cull']=bt,_0x2f210c['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x2f210c['update'](),this['drawTextur'+'e'](_0x49c615,_0x35f1d2,_0x173935,_0xea7b7c,null,_0x2f210c,_0x55a684);}['destroy'](){var _0xe03662,_0x18084a,_0x1ebdaa,_0x365c8a;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x18ab+0x1*0xbe1+0x923*-0x4);return;}const _0x43ce8e=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x129a+0xd3b+-0xac*-0x8)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x8c7+0x392*0x2+-0x2*-0xd2)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x2336+-0x1921+-0xa*0x102)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x81*0x39+-0x2*0x134b+-0x435*-0x10))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x31e1e1=this['assets']['list']();for(let _0x11b7fa=-0x1950+0x59*-0x25+0x262d;_0x11b7fa<_0x31e1e1['length'];_0x11b7fa++)_0x31e1e1[_0x11b7fa]['unload'](),_0x31e1e1[_0x11b7fa]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x2be865=this['loader']['getHandler']('script');_0x2be865==null||_0x2be865['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0xe03662=this['lightmappe'+'r'])==null||_0xe03662['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x18084a=this['xr'])==null||_0x18084a['end'](),(_0x1ebdaa=this['xr'])==null||_0x1ebdaa['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x365c8a=this['_soundMana'+'ger'])==null||_0x365c8a['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x43ce8e]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x4b2f5a){_0x4b2f5a['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x4b2f5a['frameReque'+'stId']),_0x4b2f5a['frameReque'+'stId']=void(-0x1*0x1d93+-0x1*0xc23+-0x2*-0x14db));}['getEntityF'+'romIndex'](_0x187b73){return this['_entityInd'+'ex'][_0x187b73];}['_registerS'+'ceneImmedi'+'ate'](_0x31ccb1){this['on']('postrender',_0x31ccb1['immediate']['onPostRend'+'er'],_0x31ccb1['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x6f28af){const _0x215aa5=_0x6f28af;return function(_0x2cd3b4,_0x515d15){var _0x21f668,_0x32a235,_0x216cfc,_0x72533;if(!_0x215aa5['graphicsDe'+'vice'])return;_0x215aa5['frameReque'+'stId']&&((_0x32a235=(_0x21f668=_0x215aa5['xr'])==null?void(0x16de+0x1e83+0x1*-0x3561):_0x21f668['session'])==null||_0x32a235['cancelAnim'+'ationFrame'](_0x215aa5['frameReque'+'stId']),cancelAnimationFrame(_0x215aa5['frameReque'+'stId']),_0x215aa5['frameReque'+'stId']=null),_0x215aa5['_inFrameUp'+'date']=!(0x2*0x329+-0x1*-0x1820+0x1*-0x1e72),_u(_0x215aa5);const _0x2b165f=_0x215aa5['_processTi'+'mestamp'](_0x2cd3b4)||de(),_0x38c96f=_0x2b165f-(_0x215aa5['_time']||_0x2b165f);let _0x123a3d=_0x38c96f/(0x1965+-0xa*-0x39+0x1*-0x17b7);if(_0x123a3d=Y['clamp'](_0x123a3d,0x151*-0x1d+0x1c53*-0x1+0x4280,_0x215aa5['maxDeltaTi'+'me']),_0x123a3d*=_0x215aa5['timeScale'],_0x215aa5['_time']=_0x2b165f,(_0x216cfc=_0x215aa5['xr'])!=null&&_0x216cfc['session']?_0x215aa5['frameReque'+'stId']=_0x215aa5['xr']['session']['requestAni'+'mationFram'+'e'](_0x215aa5['tick']):_0x215aa5['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x215aa5['tick']):null,_0x215aa5['graphicsDe'+'vice']['contextLos'+'t'])return;_0x215aa5['_fillFrame'+'StatsBasic'](_0x2b165f,_0x123a3d,_0x38c96f),_0x215aa5['_fillFrame'+'Stats'](),_0x215aa5['fire']('frameupdat'+'e',_0x38c96f);let _0x2cbc31=!(-0x133*0x19+0x96f+-0x148d*-0x1);_0x515d15?(_0x2cbc31=!((_0x72533=_0x215aa5['xr'])!=null&&_0x72533['update'](_0x515d15)),_0x215aa5['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x515d15['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x215aa5['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x2cbc31&&!_0x215aa5['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x215aa5['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x1206*-0x2+-0x511*0x1+-0x291f*-0x1)+'ms'),_0x215aa5['update'](_0x123a3d),_0x215aa5['fire']('framerende'+'r'),(_0x215aa5['autoRender']||_0x215aa5['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x98*-0x38+0xb43+0x3*0x755)+'ms'),_0x215aa5['render'](),_0x215aa5['renderNext'+'Frame']=!(0xbb*-0x2e+-0x402+0x259d),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0x220d+-0x1*-0x10d5+-0x1970*0x2)+'ms')),_0x215aa5['fire']('frameend')),_0x215aa5['_inFrameUp'+'date']=!(0x2ef*-0x7+0x22c9+-0xe3f),_0x215aa5['_destroyRe'+'quested']&&_0x215aa5['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x2284d1,_0x33f917,_0x26009b){this['scene']=_0x2284d1,this['light']=_0x33f917,this['store'](),_0x33f917['numCascade'+'s']=-0x744+-0x1b55+0x229a,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x26009b['shadowsEna'+'bled']&&(_0x33f917['castShadow'+'s']=!(0x1af*0x13+-0x1ec2+-0x13a)),_0x33f917['type']!==ve&&(_0x33f917['_node']['getWorldTr'+'ansform'](),_0x33f917['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x166d36=this['light'];_0x166d36['mask']=this['mask'],_0x166d36['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x166d36['enabled']=this['enabled'],_0x166d36['intensity']=this['intensity'],_0x166d36['_node']['setLocalRo'+'tation'](this['rotation']),_0x166d36['numCascade'+'s']=this['numCascade'+'s'],_0x166d36['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x24bf+-0xe7c+-0x1643),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x3e0745){const _0x514259=this['light'];_0x514259['enabled']=!(0x1e00+-0x1c*0xd+-0x1c93),_0x514259['shadowMap']&&(_0x514259['shadowMap']['cached']&&_0x3e0745['add'](_0x514259,_0x514259['shadowMap']),_0x514259['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0xf1d5a1,_0x59ca34){super(_0xf1d5a1['scene'],_0x59ca34,_0xf1d5a1['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x3dd*-0x7+0xf85+-0x2a8f;}['prepareVir'+'tualLight'](_0x4aad71,_0x5be42d){const _0x5dd310=this['light'];if(_0x5dd310['_node']['setLocalRo'+'tation'](this['rotation']),_0x4aad71>0xc8f*0x1+-0x195a+0xccb*0x1){const _0x1559e8=_0x5dd310['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x4aad71,_0x5be42d),yc['mulScalar'](_0x1559e8*(-0x2d+-0x1feb+0x2018+0.5)),_0x5dd310['_node']['rotateLoca'+'l'](yc['x'],0x1a51+0x3*-0x249+-0x1376,yc['y']);}_0x5dd310['_node']['getWorldTr'+'ansform']();const _0x2c66d7=0xd0a*-0x2+0x2b*0x89+-0x1*-0x313+0.20000000000000018,_0x2c98a8=Math['pow'](this['intensity'],_0x2c66d7);_0x5dd310['intensity']=Math['pow'](_0x2c98a8/_0x5be42d,(0x2*-0x129+-0x22a8+-0x1*-0x24fb)/_0x2c66d7);}}const Pg=new D();class Mg extends Uv{constructor(_0x208837){const _0x134e03=_0x208837['scene'],_0x402abe=new lt('AmbientLig'+'ht');_0x402abe['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0xc*0xae+0x1ff3+-0x281b),'affectLightmapped':!(-0x20a3+-0x12b5*0x2+-0x31*-0x16e),'bake':!(0x1eef*-0x1+-0x23c1+0x42b0),'bakeNumSamples':_0x134e03['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x4ab+0x6*-0x54a+0x2467),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x211*0x7+-0x3*-0x67e+-0x21f0)}),super(_0x134e03,_0x402abe['light']['light'],_0x208837['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x5eae24,_0x11557f){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x5eae24,_0x11557f,-0x1234+-0x253f*0x1+0x3773,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x1bd5+-0x11ef+-0x9e5*0x1))),this['light']['_node']['rotateLoca'+'l'](0x894+0x142+-0x97c,0x3*-0xcff+0x13*-0x1fd+0x4cc4,0x1cb8*0x1+-0x2235+-0x119*-0x5);const _0x1bd7f8=0x21bf+0x7*0x322+0x37ab*-0x1+0.20000000000000018,_0x3ce44e=(0x21*-0x10f+-0x1*0x15a5+0x3896*0x1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x1e13e6=Math['pow'](_0x3ce44e,_0x1bd7f8);this['light']['intensity']=Math['pow'](_0x1e13e6/_0x11557f,(-0x1ce5+0x1b42*0x1+0x1a4)/_0x1bd7f8);}}class vc{constructor(_0x4caaef,_0x555d68=null){this['node']=_0x4caaef,this['component']=_0x4caaef['render']||_0x4caaef['model'],_0x555d68=_0x555d68||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x555d68,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x1f21+-0xcf5+-0x121d,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x1d2931){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x1d2931,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x1d2931['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x1d2931['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x5*0x12a+-0xe12+-0x6a2*-0x3),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x2b11d2){this['constantTe'+'xSource']['setValue'](_0x2b11d2);}['prepare'](_0x22f4d1,_0x3c0fbc){this['pixelOffse'+'t'][0x852+-0x4d*0x43+0xbd5]=(0x1361*0x2+0x146*-0x5+-0x2063)/_0x22f4d1,this['pixelOffse'+'t'][-0xe87*-0x1+0x2226+-0x30ac]=(0x4f*-0x2b+-0x7*-0x4b1+-0x1391*0x1)/_0x3c0fbc,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x84a08e,_0xd35b65,_0x307f24){const _0x3aca2e=_0x307f24?0x2274+-0xe1f+0x411*-0x5:0x2*0xb8d+-0x4*0x2c3+-0xc0d;if(!this['shaderDeno'+'ise'][_0x3aca2e]){const _0x517a68=new Map();_0x517a68['set']('{MSIZE}',-0x13*-0x18a+-0x1afd+-0x232),_0x307f24&&_0x517a68['set']('HDR',''),this['shaderDeno'+'ise'][_0x3aca2e]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x307f24?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x517a68}),this['sigmas']=new Float32Array(-0x1*0x74b+0x29d*0xd+-0x1aac),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x9*0x377+0x1fde+-0x3f0d*0x1]=_0x84a08e,this['sigmas'][0xd46+-0x13bd+0x678]=_0xd35b65,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x84a08e,_0xd35b65);}['getDenoise'](_0x2fda50){const _0x47c38d=_0x2fda50?-0xd21+-0x143+-0x2*-0x732:0x1993+-0x1403+-0x58f;return this['shaderDeno'+'ise'][_0x47c38d];}['getDilate'](_0x1d2e6d,_0xf9fd86){const _0x257429=_0xf9fd86?-0x1645+0xc*0x14d+-0x5*-0x155:-0x181d*-0x1+0x17fa+-0x180b*0x2;if(!this['shaderDila'+'te'][_0x257429]){const _0x131147=_0xf9fd86?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x257429]=$t['createShad'+'er'](_0x1d2e6d,{'uniqueName':'lmDilate-'+(_0xf9fd86?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x131147+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x131147+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x257429];}['evaluateDe'+'noiseUnifo'+'rms'](_0xbc267,_0xf624bb){function _0x138a78(_0x3bcbac,_0x3186a8){return(-0x2d4*-0x1+0x2*-0x1147+0x2*0xfdd+0.39894)*Math['exp'](-(-0x1*-0x1b53+-0x15cc+0x587*-0x1+0.5)*_0x3bcbac*_0x3bcbac/(_0x3186a8*_0x3186a8))/_0x3186a8;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x21d68e=this['kernel'],_0x45804b=Math['floor']((Dg-(0x4f5+-0x1e7*0xe+0x15ae))/(0xd*0x15d+-0x1*-0x204+-0x13bb*0x1));for(let _0x5a6abd=-0x9bd*-0x2+0x2*0xe3e+-0x6da*0x7;_0x5a6abd<=_0x45804b;++_0x5a6abd){const _0x288fdc=_0x138a78(_0x5a6abd,_0xbc267);_0x21d68e[_0x45804b+_0x5a6abd]=_0x288fdc,_0x21d68e[_0x45804b-_0x5a6abd]=_0x288fdc;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x497690=(-0x1611*-0x1+0x1*-0xb1b+-0xaf5)/_0x138a78(0x587*0x6+-0x27f+0x1*-0x1eab,_0xf624bb);this['bZnorm']['setValue'](_0x497690);}}class hL extends ys{constructor(_0x3bc2ad,_0x19655f,_0x529ab0,_0x3f86aa,_0x43abd6,_0x5be622){super(_0x3bc2ad),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x19655f,this['camera']=_0x529ab0,this['worldClust'+'ers']=_0x3f86aa,this['receivers']=_0x43abd6,this['lightArray']=_0x5be622);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x56e0a7=>{_0x56e0a7['defaultUni'+'formBuffer']['destroy'](),_0x56e0a7['destroy']();}),this['viewBindGr'+'oups']['length']=0x1018+-0xa64+-0x5b4;}['execute'](){const _0x419276=this['device'];Q['pushGpuMar'+'ker'](_0x419276,'Lightmappe'+'r');const {renderer:_0x57c20c,camera:_0x31545a,receivers:_0x3558b3,renderTarget:_0x3ea495,worldClusters:_0x19033b,lightArray:_0x8d78ae}=this;_0x57c20c['renderForw'+'ardLayer'](_0x31545a,_0x3ea495,null,void(-0x1a07+-0x184a*0x1+0x3251),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x3558b3,'splitLights':_0x8d78ae,'lightClusters':_0x19033b}),Q['popGpuMark'+'er'](_0x419276);}}const dL=-0x1cfe*-0x1+0x1*0x23c5+-0x1*0x38c3,fL=-0x2*-0xa51+-0x22*0x1e+0x853*-0x2,uL=0x3d*0x7a+-0xed9+-0xe38,xc=new D();class pL{constructor(_0x18c3a9,_0x4407e5,_0x46f6c7,_0x2e9cc1,_0x3db9ff){this['device']=_0x18c3a9,this['root']=_0x4407e5,this['scene']=_0x46f6c7,this['renderer']=_0x2e9cc1,this['assets']=_0x3db9ff,this['shadowMapC'+'ache']=_0x2e9cc1['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x1*-0x1a3d+0xde1+-0x281d),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x2c25e0;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x2c25e0=this['camera'])==null||_0x2c25e0['destroy'](),this['camera']=null;}['initBake'](_0x4f91c0){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x1125+-0x1285+-0x58*-0x4),this['lightmapFi'+'lters']=new cL(_0x4f91c0),this['constantBa'+'keDir']=_0x4f91c0['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x1f7187=new Fl();_0x1f7187['clearColor']['set'](0x6c3*-0x1+-0x17e*-0x16+0x1a11*-0x1,0x3*-0x8f2+0x1a02*0x1+0xd4,-0x13f*-0x19+0x1*0x1bb8+-0x7*0x869,0x165*-0x11+-0x5ef*-0x5+-0x5f6),_0x1f7187['clearColor'+'Buffer']=!(-0x176d+-0x200+0x196d),_0x1f7187['clearDepth'+'Buffer']=!(-0x47*-0x21+-0x1cee+0xc*0x1a6),_0x1f7187['clearStenc'+'ilBuffer']=!(0x2*0xe9b+0x1*-0x1f70+-0x23b*-0x1),_0x1f7187['frustumCul'+'ling']=!(0x1*-0x409+0x3*-0xae6+0x1*0x24bc),_0x1f7187['projection']=En,_0x1f7187['aspectRati'+'o']=-0x266d+-0x2*-0x39b+0x4a*0x6c,_0x1f7187['node']=new Ie(),this['camera']=_0x1f7187,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x2032ee=new Mv(_0x4f91c0['supportsAr'+'eaLights'],_0x4f91c0['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x2032ee;const _0xbd9b38=this['scene']['lighting'];_0x2032ee['shadowsEna'+'bled']=_0xbd9b38['shadowsEna'+'bled'],_0x2032ee['shadowAtla'+'sResolutio'+'n']=_0xbd9b38['shadowAtla'+'sResolutio'+'n'],_0x2032ee['cookiesEna'+'bled']=_0xbd9b38['cookiesEna'+'bled'],_0x2032ee['cookieAtla'+'sResolutio'+'n']=_0xbd9b38['cookieAtla'+'sResolutio'+'n'],_0x2032ee['areaLights'+'Enabled']=_0xbd9b38['areaLights'+'Enabled'],_0x2032ee['cells']=new D(-0x23bf*-0x1+0x5e9*-0x6+-0x46,0x34b+0x10de*0x1+-0x1426,0x5*-0x2ae+0xd*0x242+-0xff1),_0x2032ee['maxLightsP'+'erCell']=-0x36e+-0x20*-0x85+-0xd2e,this['worldClust'+'ers']=new cu(_0x4f91c0),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x5a186c){this['materials']=[];function _0x3681c3(_0x18d5d7){zi['decRef'](_0x18d5d7['colorBuffe'+'r']),_0x18d5d7['destroy']();}this['renderTarg'+'ets']['forEach'](_0xa5f57d=>{_0x3681c3(_0xa5f57d);}),this['renderTarg'+'ets']['clear'](),_0x5a186c['forEach'](_0x1b568c=>{_0x1b568c['renderTarg'+'ets']['forEach'](_0x29d6c3=>{_0x3681c3(_0x29d6c3);}),_0x1b568c['renderTarg'+'ets']['length']=-0x1*0x148c+-0x1cb7*0x1+-0x1*-0x3143;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x217822,_0x22d0ae,_0x5210d8){const _0x38227a=new Ut();return _0x38227a['name']='lmMaterial'+'-pass:'+_0x22d0ae+'-ambient:'+_0x5210d8,_0x38227a['setDefine']('UV1LAYOUT',''),_0x38227a['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x22d0ae===fL?(_0x38227a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x5210d8?_0x38227a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x38227a['ambient']=new ie(0x2008+-0x1198*-0x1+-0x31a0,0x45a+0x12e9*-0x1+0x1*0xe8f,0x11a5+0x1916+0x2abb*-0x1),this['bakeHDR']||_0x38227a['setDefine']('LIGHTMAP_R'+'GBM',''),_0x38227a['lightMap']=this['blackTex']):(_0x38227a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x38227a['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x38227a['cull']=bt,_0x38227a['forceUv1']=!(-0x4*-0x686+-0x1422+-0x5f6),_0x38227a['update'](),_0x38227a;}['createMate'+'rials'](_0x219439,_0x2efc52,_0x32d748){for(let _0x155ecf=-0x222e+-0x2214+0x4442*0x1;_0x155ecf<_0x32d748;_0x155ecf++)this['passMateri'+'als'][_0x155ecf]||(this['passMateri'+'als'][_0x155ecf]=this['createMate'+'rialForPas'+'s'](_0x2efc52,_0x155ecf,!(-0x14e8+-0x5ac*-0x4+0x5*-0x5b)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2efc52,-0x1744+-0x13f2+-0x2*-0x159b,!(0x1a5e*0x1+0x1eb0+-0x86*0x6d)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1c0032){return _0x1c0032['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*-0x614+0x5*0x216+-0x45a),_0x1c0032['litOptions']['separateAm'+'bient']=!(0x3*0x125+-0x16e7*-0x1+-0x1a56),_0x1c0032;});}['createText'+'ure'](_0x2c38a8,_0x58c5e4){return new _e(this['device'],{'profilerHint':vy,'width':_0x2c38a8,'height':_0x2c38a8,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x1bed+0x21e7+-0x1*0x3dd3),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x58c5e4});}['collectMod'+'els'](_0xe686e6,_0x1b2a16,_0x3fa4dc){var _0x542d74,_0x27e710,_0x419b95;if(!_0xe686e6['enabled'])return;let _0x17555a;if((_0x542d74=_0xe686e6['model'])!=null&&_0x542d74['model']&&((_0x27e710=_0xe686e6['model'])!=null&&_0x27e710['enabled'])&&(_0x3fa4dc&&_0x3fa4dc['push'](new vc(_0xe686e6)),_0xe686e6['model']['lightmappe'+'d']&&_0x1b2a16&&(_0x17555a=_0xe686e6['model']['model']['meshInstan'+'ces'])),(_0x419b95=_0xe686e6['render'])!=null&&_0x419b95['enabled']&&(_0x3fa4dc&&_0x3fa4dc['push'](new vc(_0xe686e6)),_0xe686e6['render']['lightmappe'+'d']&&_0x1b2a16&&(_0x17555a=_0xe686e6['render']['meshInstan'+'ces'])),_0x17555a){let _0xa75a59=!(-0x3cd*0x3+-0x1f91+0xc8*0x37);for(let _0x28c358=-0xd7*-0x14+0x106*0x13+-0x1*0x243e;_0x28c358<_0x17555a['length'];_0x28c358++)if(!_0x17555a[_0x28c358]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0xe686e6['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0xa75a59=!(0x5cd+0x5*-0x541+0x1479);break;}if(_0xa75a59){const _0x2d163f=[];for(let _0x500fe3=0x212b+-0x6d*-0x1+-0x2198;_0x500fe3<_0x17555a['length'];_0x500fe3++){const _0x1c6d1b=_0x17555a[_0x500fe3]['mesh'];this['_tempSet']['has'](_0x1c6d1b)?_0x1b2a16['push'](new vc(_0xe686e6,[_0x17555a[_0x500fe3]])):_0x2d163f['push'](_0x17555a[_0x500fe3]),this['_tempSet']['add'](_0x1c6d1b);}this['_tempSet']['clear'](),_0x2d163f['length']>0x62+0x1*0x204f+-0x20b1&&_0x1b2a16['push'](new vc(_0xe686e6,_0x2d163f));}}for(let _0x134db6=-0x4a+-0x2555+0x259f;_0x134db6<_0xe686e6['_children']['length'];_0x134db6++)this['collectMod'+'els'](_0xe686e6['_children'][_0x134db6],_0x1b2a16,_0x3fa4dc);}['prepareSha'+'dowCasters'](_0x1a8f41){const _0x40603d=[];for(let _0x33ee28=-0x2013+0xe9*-0x18+0x2b*0x141;_0x33ee28<_0x1a8f41['length'];_0x33ee28++){const _0x4db5ec=_0x1a8f41[_0x33ee28]['component'];if(_0x4db5ec['castShadow'+'s']=_0x4db5ec['castShadow'+'sLightmap'],_0x4db5ec['castShadow'+'sLightmap']){const _0x30681e=_0x1a8f41[_0x33ee28]['meshInstan'+'ces'];for(let _0x7f00d4=-0x2*-0xfeb+-0x1*-0x1bf7+-0x3bcd;_0x7f00d4<_0x30681e['length'];_0x7f00d4++)_0x30681e[_0x7f00d4]['visibleThi'+'sFrame']=!(0x21c4+0xd3+-0x2297),_0x40603d['push'](_0x30681e[_0x7f00d4]);}}return _0x40603d;}['updateTran'+'sforms'](_0x28f54d){for(let _0x4752f0=-0x1c0d+0x407+0x29*0x96;_0x4752f0<_0x28f54d['length'];_0x4752f0++){const _0x329751=_0x28f54d[_0x4752f0]['meshInstan'+'ces'];for(let _0x2e8a1c=0x79f*0x3+0x209b+-0x3778;_0x2e8a1c<_0x329751['length'];_0x2e8a1c++)_0x329751[_0x2e8a1c]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x8a170e){let _0xb4557;const _0xb21aa8=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x7*-0x3d+0x8c*-0x8+0x2c5,_0x8d429f=xc;let _0x1133a0,_0x3e0b05;_0x8a170e['model']?(_0x3e0b05=_0x8a170e['model']['lightmapSi'+'zeMultipli'+'er'],_0x8a170e['model']['asset']?(_0xb4557=this['assets']['get'](_0x8a170e['model']['asset'])['data'],_0xb4557['area']&&(_0x1133a0=_0xb4557['area'])):_0x8a170e['model']['_area']&&(_0xb4557=_0x8a170e['model'],_0xb4557['_area']&&(_0x1133a0=_0xb4557['_area']))):_0x8a170e['render']&&(_0x3e0b05=_0x8a170e['render']['lightmapSi'+'zeMultipli'+'er'],_0x8a170e['render']['type']!=='asset'&&_0x8a170e['render']['_area']&&(_0xb4557=_0x8a170e['render'],_0xb4557['_area']&&(_0x1133a0=_0xb4557['_area'])));const _0x422e5a={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x1133a0&&(_0x422e5a['x']=_0x1133a0['x'],_0x422e5a['y']=_0x1133a0['y'],_0x422e5a['z']=_0x1133a0['z'],_0x422e5a['uv']=_0x1133a0['uv']);const _0x567f99=_0x3e0b05||-0x1461+-0x68+0x14ca;_0x422e5a['x']*=_0x567f99,_0x422e5a['y']*=_0x567f99,_0x422e5a['z']*=_0x567f99;const _0x3d418c=_0x8a170e['render']||_0x8a170e['model'],_0x1a7e6e=this['computeNod'+'eBounds'](_0x3d418c['meshInstan'+'ces']);_0x8d429f['copy'](_0x1a7e6e['halfExtent'+'s']);let _0x146634=_0x422e5a['x']*_0x8d429f['y']*_0x8d429f['z']+_0x422e5a['y']*_0x8d429f['x']*_0x8d429f['z']+_0x422e5a['z']*_0x8d429f['x']*_0x8d429f['y'];return _0x146634/=_0x422e5a['uv'],_0x146634=Math['sqrt'](_0x146634),Math['min'](Y['nextPowerO'+'fTwo'](_0x146634*_0xb21aa8),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x127d18,_0x533d77,_0x3fdb51,_0x143d96){for(let _0x5731f0=-0x187f*0x1+0x9*0x2e7+0x2*-0xd0;_0x5731f0<_0x127d18['length'];_0x5731f0++){const _0x2bb694=_0x127d18[_0x5731f0],_0x401dfc=_0x2bb694['meshInstan'+'ces'];for(let _0xf5f8b5=0x5c0*0x3+-0xa*0x15c+-0x34*0x12;_0xf5f8b5<_0x401dfc['length'];_0xf5f8b5++){const _0x53db9b=_0x401dfc[_0xf5f8b5];if(_0x53db9b['setLightma'+'pped'](_0x533d77),_0x533d77){_0x143d96&&(_0x53db9b['_shaderDef'+'s']|=_0x143d96),_0x53db9b['mask']=di;for(let _0x1566cc=0xe*0x43+-0x3*0x132+0x1*-0x14;_0x1566cc<_0x3fdb51;_0x1566cc++){const _0x12f259=_0x2bb694['renderTarg'+'ets'][_0x1566cc]['colorBuffe'+'r'];_0x12f259['minFilter']=vt,_0x12f259['magFilter']=vt,_0x53db9b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x1566cc],_0x12f259);}}}}}['bake'](_0x20d901,_0x7eeb60=jc){const _0x248a18=this['device'],_0x8988f7=de();this['scene']['_updateSky'+'Mesh'](),_0x248a18['fire']('lightmappe'+'r:start',{'timestamp':_0x8988f7,'target':this}),this['stats']['renderPass'+'es']=0xeb9*-0x1+0xa07+0x4b2,this['stats']['shadowMapT'+'ime']=0x1fbb*-0x1+-0xc99*-0x2+0x689,this['stats']['forwardTim'+'e']=-0x3*0xc46+0x7d1+0x129*0x19;const _0x329cb8=_0x248a18['_shaderSta'+'ts']['linked'],_0x39045d=_0x248a18['_renderTar'+'getCreatio'+'nTime'],_0x4f8b8b=_0x248a18['_shaderSta'+'ts']['compileTim'+'e'],_0x309c15=[],_0x5bc4a3=[];if(_0x20d901){for(let _0x5aa864=0xe25+0x13bb+-0x21e0;_0x5aa864<_0x20d901['length'];_0x5aa864++)this['collectMod'+'els'](_0x20d901[_0x5aa864],_0x309c15,null);this['collectMod'+'els'](this['root'],null,_0x5bc4a3);}else this['collectMod'+'els'](this['root'],_0x309c15,_0x5bc4a3);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x309c15['length']>0x1*-0xadb+-0x4*-0x74f+-0x1*0x1261){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x489d6f=_0x7eeb60===jc?0x146d+-0x7f3*-0x1+-0x1c5e:-0x11f8+0x123b+-0x42;this['setLightma'+'pping'](_0x309c15,!(-0x43*-0x31+-0x24*-0x3+-0xd3e),_0x489d6f),this['initBake'](_0x248a18),this['bakeIntern'+'al'](_0x489d6f,_0x309c15,_0x5bc4a3);let _0x3540a=ou;_0x7eeb60===jc&&(_0x3540a|=uv),this['scene']['ambientBak'+'e']&&(_0x3540a|=pv),this['setLightma'+'pping'](_0x309c15,!(0x3b*0x12+-0x35d*0x7+0x1365),_0x489d6f,_0x3540a),this['finishBake'](_0x309c15);}Q['popGpuMark'+'er'](this['device']);const _0x57fc67=de();this['stats']['totalRende'+'rTime']=_0x57fc67-_0x8988f7,this['stats']['shadersLin'+'ked']=_0x248a18['_shaderSta'+'ts']['linked']-_0x329cb8,this['stats']['compileTim'+'e']=_0x248a18['_shaderSta'+'ts']['compileTim'+'e']-_0x4f8b8b,this['stats']['fboTime']=_0x248a18['_renderTar'+'getCreatio'+'nTime']-_0x39045d,this['stats']['lightmapCo'+'unt']=_0x309c15['length'],_0x248a18['fire']('lightmappe'+'r:end',{'timestamp':_0x57fc67,'target':this});}['allocateTe'+'xtures'](_0x125908,_0x45f4f6){for(let _0xe979c4=0x9ce+-0x67c+0x5*-0xaa;_0xe979c4<_0x125908['length'];_0xe979c4++){const _0x2d76f1=_0x125908[_0xe979c4],_0x46e655=this['calculateL'+'ightmapSiz'+'e'](_0x2d76f1['node']);for(let _0x28adfe=0x1915*-0x1+0x7ab*0x2+0x9bf;_0x28adfe<_0x45f4f6;_0x28adfe++){const _0x22f034=this['createText'+'ure'](_0x46e655,'lightmappe'+'r_lightmap'+'_'+_0xe979c4);zi['incRef'](_0x22f034),_0x2d76f1['renderTarg'+'ets'][_0x28adfe]=new gt({'colorBuffer':_0x22f034,'depth':!(-0x2077+0xaf4+-0xa2*-0x22)});}if(!this['renderTarg'+'ets']['has'](_0x46e655)){const _0x37e2c7=this['createText'+'ure'](_0x46e655,'lightmappe'+'r_temp_lig'+'htmap_'+_0x46e655);zi['incRef'](_0x37e2c7),this['renderTarg'+'ets']['set'](_0x46e655,new gt({'colorBuffer':_0x37e2c7,'depth':!(-0x1*0x16e8+-0x160f*-0x1+0x2*0x6d)}));}}}['prepareLig'+'htsToBake'](_0x797f85,_0x456dd0){if(this['scene']['ambientBak'+'e']){const _0x4c4fa0=new Mg(this);_0x456dd0['push'](_0x4c4fa0);}const _0x347bae=this['renderer']['lights'];for(let _0x3e457a=-0xdb2+0x2264+-0x14b2;_0x3e457a<_0x347bae['length'];_0x3e457a++){const _0x1aae43=_0x347bae[_0x3e457a],_0x3e1f9f=new sL(this,_0x1aae43);_0x797f85['push'](_0x3e1f9f),_0x1aae43['enabled']&&(_0x1aae43['mask']&fi)!==0x62*-0x49+0x1c60+-0x6e&&(_0x1aae43['mask']=fi|di|Ss,_0x1aae43['shadowUpda'+'teMode']=_0x1aae43['type']===ve?lm:xr,_0x456dd0['push'](_0x3e1f9f));}_0x456dd0['sort']();}['restoreLig'+'hts'](_0x37ce54){for(let _0x177feb=0x2313+-0x3*0x9ad+0x9*-0xac;_0x177feb<_0x37ce54['length'];_0x177feb++)_0x37ce54[_0x177feb]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x19*-0x28+0x1*0x371+0x77,0x21f7+0xe*-0x1fd+-0x621,-0x4f9+0x1c66+-0x176d*0x1),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x59fb6c){const _0x4ccd5c=new De();if(_0x59fb6c['length']>0x4*-0x3b4+0x13*0x1e0+-0x1bc*0xc){_0x4ccd5c['copy'](_0x59fb6c[-0xe*0x4e+-0x1e*-0x96+-0x1aa*0x8]['aabb']);for(let _0x361a8c=-0x5*-0xca+-0x18f6+0x1505;_0x361a8c<_0x59fb6c['length'];_0x361a8c++)_0x4ccd5c['add'](_0x59fb6c[_0x361a8c]['aabb']);}return _0x4ccd5c;}['computeNod'+'esBounds'](_0x127117){for(let _0x2febbb=0x742*0x1+0x7*-0x1c1+0x505;_0x2febbb<_0x127117['length'];_0x2febbb++){const _0x1f356d=_0x127117[_0x2febbb]['meshInstan'+'ces'];_0x127117[_0x2febbb]['bounds']=this['computeNod'+'eBounds'](_0x1f356d);}}['computeBou'+'nds'](_0x37073e){const _0x394cb8=new De();for(let _0x153525=0x2*0x9d5+0x11eb+-0x2595;_0x153525<_0x37073e['length'];_0x153525++){_0x394cb8['copy'](_0x37073e[-0x20a*0x1+-0x3*0xcb5+0x2829]['aabb']);for(let _0x38d5cb=-0x1*0x12+-0x7*-0x541+-0x24b4;_0x38d5cb<_0x37073e['length'];_0x38d5cb++)_0x394cb8['add'](_0x37073e[_0x38d5cb]['aabb']);}return _0x394cb8;}['backupMate'+'rials'](_0x39b428){for(let _0x26a43e=-0x2*-0xa5a+0xa*0x19c+-0x24cc;_0x26a43e<_0x39b428['length'];_0x26a43e++)this['materials'][_0x26a43e]=_0x39b428[_0x26a43e]['material'];}['restoreMat'+'erials'](_0x56b8f8){for(let _0x580683=-0xa29+-0x1ab1+0x24da;_0x580683<_0x56b8f8['length'];_0x580683++)_0x56b8f8[_0x580683]['material']=this['materials'][_0x580683];}['lightCamer'+'aPrepare'](_0x5eeb3a,_0x445240){const _0x49c457=_0x445240['light'];let _0x53229e;return _0x49c457['type']===Ze&&(_0x53229e=_0x49c457['getRenderD'+'ata'](null,0x1af*0x4+0x1b16+-0x21d2*0x1)['shadowCame'+'ra'],_0x53229e['_node']['setPositio'+'n'](_0x49c457['_node']['getPositio'+'n']()),_0x53229e['_node']['setRotatio'+'n'](_0x49c457['_node']['getRotatio'+'n']()),_0x53229e['_node']['rotateLoca'+'l'](-(0xc5b*-0x1+-0x30*0x3a+-0x1*-0x1795),0x1852+-0x19f*-0x1+-0x19f1,0x91*-0x20+0x17fb+-0x1*0x5db),_0x53229e['projection']=ni,_0x53229e['nearClip']=_0x49c457['attenuatio'+'nEnd']/(-0x4f*0x1+0x746+-0x30f),_0x53229e['farClip']=_0x49c457['attenuatio'+'nEnd'],_0x53229e['aspectRati'+'o']=0x5*-0x6fd+0x5*-0x14f+0x297d,_0x53229e['fov']=_0x49c457['_outerCone'+'Angle']*(0xc29+0x556*-0x2+-0x1*0x17b),this['renderer']['updateCame'+'raFrustum'](_0x53229e)),_0x53229e;}['lightCamer'+'aPrepareAn'+'dCull'](_0x2ab62c,_0x3cab72,_0x502811,_0x5c2144){const _0x224ded=_0x2ab62c['light'];let _0x251bea=!(0x1893+0x1*-0x4cf+-0x13c4);if(_0x224ded['type']===ve){xc['copy'](_0x5c2144['center']),xc['y']+=_0x5c2144['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x1d86+-0x1*-0x115f+-0xb*-0x123),-0x5*-0x3ab+0x5*0x78b+-0x380e,-0x11*-0x3e+-0x28*0x3+-0x3a6),this['camera']['nearClip']=0x2533*0x1+-0xa*0x4+0x1d*-0x147,this['camera']['farClip']=_0x5c2144['halfExtent'+'s']['y']*(-0x1bb*0x1+-0x2a1+0x1a*0x2b);const _0x191d70=Math['max'](_0x5c2144['halfExtent'+'s']['x'],_0x5c2144['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x191d70;}else _0x2ab62c['lightBound'+'s']['intersects'](_0x3cab72['bounds'])||(_0x251bea=!(0x221f*-0x1+-0xe*0x223+0x400a*0x1));if(_0x224ded['type']===Ze){let _0x3d2d99=!(-0x488+-0x198b+0x1e14);const _0x560389=_0x3cab72['meshInstan'+'ces'];for(let _0x243df2=0x1*-0x655+-0x755*-0x2+-0x3*0x2c7;_0x243df2<_0x560389['length'];_0x243df2++)if(_0x560389[_0x243df2]['_isVisible'](_0x502811)){_0x3d2d99=!(0x656+0xe5*0x19+0x1f*-0xed);break;}_0x3d2d99||(_0x251bea=!(-0x237e*0x1+-0x10f*0x23+0x488c));}return _0x251bea;}['setupLight'+'Array'](_0x4612b2,_0x3e94f0){_0x4612b2[ve]['length']=0x1b*0x169+-0x1bb*0x16+-0x1,_0x4612b2[Ke]['length']=-0x1*-0x20b5+-0x1*-0x26e5+-0x479a,_0x4612b2[Ze]['length']=-0xd*0x2b0+-0x3*-0x463+0x15c7,_0x4612b2[_0x3e94f0['type']][-0x1*0x46c+0x5*-0x573+0x1fab]=_0x3e94f0,_0x3e94f0['visibleThi'+'sFrame']=!(0x53*0x7+-0x2b2+0x6d*0x1);}['renderShad'+'owMap'](_0x4df99f,_0x11339e,_0x300e56,_0x761961){const _0x2fa2fc=_0x761961['light'],_0x4e5123=this['scene']['clusteredL'+'ightingEna'+'bled'],_0xaec247=_0x2fa2fc['castShadow'+'s']&&(!_0x4e5123||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x11339e&&_0xaec247){if(!_0x2fa2fc['shadowMap']&&!_0x4e5123&&(_0x2fa2fc['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x2fa2fc)),_0x2fa2fc['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2fa2fc,_0x4df99f,this['camera'],_0x300e56);const _0x53fd5b=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x2fa2fc,this['camera']);_0x53fd5b==null||_0x53fd5b['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0xcaa+0xb*-0x53+-0xf*-0x115);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x2fa2fc,_0x4df99f,_0x300e56),this['renderer']['shadowRend'+'erer']['render'](_0x2fa2fc,this['camera'],!(-0x9ef*-0x1+0x65*-0x29+0x63f));}}return!(0x3*-0x1c+0x205*-0x13+0x26b3);}['postproces'+'sTextures'](_0x28812e,_0xa4459b,_0x43a252){const _0x26caab=this['lightmapFi'+'lters']['getDilate'](_0x28812e,this['bakeHDR']);let _0x4b0020;const _0xc63d6c=this['scene']['lightmapFi'+'lterEnable'+'d'];_0xc63d6c&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x4b0020=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x28812e['setBlendSt'+'ate'](pt['NOBLEND']),_0x28812e['setDepthSt'+'ate'](Yt['NODEPTH']),_0x28812e['setStencil'+'State'](null,null);for(let _0x494abe=-0x5e7*0x2+-0x5e5+0x11b3;_0x494abe<_0xa4459b['length'];_0x494abe++){const _0xe27361=_0xa4459b[_0x494abe];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x494abe);for(let _0x988941=-0x3e3+0x394*0x2+-0x345;_0x988941<_0x43a252;_0x988941++){const _0x425309=_0xe27361['renderTarg'+'ets'][_0x988941],_0xa533ee=_0x425309['colorBuffe'+'r'],_0xb86f39=this['renderTarg'+'ets']['get'](_0xa533ee['width']),_0xf549cd=_0xb86f39['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0xa533ee['width'],_0xa533ee['height']);for(let _0x3d9a87=0x781+-0x2702+0x1f81;_0x3d9a87<-0x39a*0x3+0x911*-0x1+0x13e0;_0x3d9a87++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0xa533ee),Ar(_0x28812e,_0xb86f39,_0xc63d6c&&_0x988941===-0x236f+0x151*-0x19+0x4458&&_0x3d9a87===0x188+0x5d0+0x758*-0x1?_0x4b0020:_0x26caab),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0xf549cd),Ar(_0x28812e,_0x425309,_0x26caab);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x3a131c,_0x127dbc,_0x58df03){const _0x34d1e5=this['scene'],_0x132856=_0x34d1e5['layers'],_0x25cd61=this['device'],_0x1fe1dc=_0x34d1e5['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x25cd61,_0x34d1e5,_0x3a131c),this['setupScene'](),_0x132856['_update'](),this['computeNod'+'esBounds'](_0x127dbc),this['allocateTe'+'xtures'](_0x127dbc,_0x3a131c),this['renderer']['collectLig'+'hts'](_0x132856);const _0x57a2f3=[],_0x157ae2=[];this['prepareLig'+'htsToBake'](_0x57a2f3,_0x157ae2),this['updateTran'+'sforms'](_0x58df03);const _0x56d49c=this['prepareSha'+'dowCasters'](_0x58df03);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x56d49c),this['renderer']['gpuUpdate'](_0x56d49c);const _0x3c4fa2=this['computeBou'+'nds'](_0x56d49c);let _0x25d904,_0x5f18b8,_0x2d4d23,_0x5e0503;for(_0x25d904=-0x197a+-0x1852+0x31cc;_0x25d904<_0x127dbc['length'];_0x25d904++)for(_0x2d4d23=_0x127dbc[_0x25d904]['meshInstan'+'ces'],_0x5f18b8=0x1ad6+-0x1ad6+0x0;_0x5f18b8<_0x2d4d23['length'];_0x5f18b8++)_0x5e0503=_0x2d4d23[_0x5f18b8],_0x5e0503['setLightma'+'pped'](!(-0x26c4+0x1b7*0xb+0x188*0xd)),_0x5e0503['mask']=fi,_0x5e0503['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x9*0x329+-0x75e+-0x1513],this['blackTex']),_0x5e0503['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0xae*-0x8+-0x24dc+-0x5*-0x649],this['blackTex']);for(_0x5f18b8=0x2265+0x8a+-0x22ef;_0x5f18b8<_0x157ae2['length'];_0x5f18b8++)_0x157ae2[_0x5f18b8]['light']['enabled']=!(-0x2*0xad8+-0x21bd+0x1*0x376e);const _0x5ef071=[[],[],[]];let _0x55cbc6,_0x847458,_0x43ec5d=!(0x14c2*0x1+-0xca5+-0x81c);for(_0x25d904=-0x209*0x13+-0xd3a+0x5*0xa61;_0x25d904<_0x157ae2['length'];_0x25d904++){const _0x1e9f2e=_0x157ae2[_0x25d904],_0x95a029=_0x1e9f2e instanceof Mg,_0x52f76c=_0x1e9f2e['light']['type']===ve;let _0x3e6bf8=_0x1e9f2e['numVirtual'+'Lights'];_0x3a131c>-0x66*0x5c+0x1df1+0x6b8&&_0x3e6bf8>0xbaa+-0x6*0x589+0x158d*0x1&&_0x1e9f2e['light']['bakeDir']&&(_0x3e6bf8=-0x1e42+0x1*-0x9ff+0x2842,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x5b0c03=0x4bc*0x1+-0x6dd+0x221;_0x5b0c03<_0x3e6bf8;_0x5b0c03++){Q['pushGpuMar'+'ker'](_0x25cd61,'Light:'+_0x1e9f2e['light']['_node']['name']+':'+_0x5b0c03),_0x3e6bf8>-0x1afa+0x1235+-0x2*-0x463&&_0x1e9f2e['prepareVir'+'tualLight'](_0x5b0c03,_0x3e6bf8),_0x1e9f2e['startBake']();let _0x2c3358=!(-0x1*0x1638+-0xb3c*0x2+0x2cb1);const _0x3c6bc5=this['lightCamer'+'aPrepare'](_0x25cd61,_0x1e9f2e);for(_0x847458=0x1ec8+0x98f*0x2+-0x31e6;_0x847458<_0x127dbc['length'];_0x847458++){const _0x10d1db=_0x127dbc[_0x847458];if(_0x2d4d23=_0x10d1db['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x1e9f2e,_0x10d1db,_0x3c6bc5,_0x3c4fa2))continue;this['setupLight'+'Array'](_0x5ef071,_0x1e9f2e['light']);const _0xda9fe6=_0x52f76c?[]:[_0x1e9f2e['light']];for(_0x1fe1dc&&this['renderer']['lightTextu'+'reAtlas']['update'](_0xda9fe6,this['lightingPa'+'rams']),_0x2c3358=this['renderShad'+'owMap'](_0x132856,_0x2c3358,_0x56d49c,_0x1e9f2e),_0x1fe1dc&&this['worldClust'+'ers']['update'](_0xda9fe6,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x2d4d23),_0x55cbc6=0xc5+0xacb+-0xb90;_0x55cbc6<_0x3a131c&&!(_0x55cbc6>-0xebc+-0xaf7*0x1+0x19b3&&_0x5b0c03>0x13e2+-0x9*-0x3cb+-0x3605||_0x95a029&&_0x55cbc6>-0x1f4c+-0x104*-0x1+0xcc*0x26);_0x55cbc6++){Q['pushGpuMar'+'ker'](_0x25cd61,'LMPass:'+_0x55cbc6);const _0x38be8f=_0x10d1db['renderTarg'+'ets'][_0x55cbc6],_0x338460=_0x10d1db['renderTarg'+'ets'][_0x55cbc6]['colorBuffe'+'r']['width'],_0x288967=this['renderTarg'+'ets']['get'](_0x338460),_0x374ca5=_0x288967['colorBuffe'+'r'];_0x55cbc6===-0x5f4+-0x1*0x25bd+-0x5*-0x8bd?_0x43ec5d=_0x34d1e5['updateShad'+'ers']:_0x43ec5d&&(_0x34d1e5['updateShad'+'ers']=!(-0xcdd+-0xdfb+0x35b*0x8));let _0x47387a=this['passMateri'+'als'][_0x55cbc6];for(_0x95a029&&_0x5b0c03+(-0x38f*0x3+0x20da+-0x162c)===_0x3e6bf8&&_0x55cbc6===-0x10c1*0x1+-0x23e0+0x3*0x118b&&(_0x47387a=this['ambientAOM'+'aterial']),_0x5f18b8=0x5ad+0x211+-0x7be;_0x5f18b8<_0x2d4d23['length'];_0x5f18b8++)_0x2d4d23[_0x5f18b8]['material']=_0x47387a;if(this['renderer']['updateShad'+'ers'](_0x2d4d23),_0x55cbc6===uL&&this['constantBa'+'keDir']['setValue'](_0x1e9f2e['light']['bakeDir']?-0x5*0x224+-0x8ce+0x1383:0xcb0+-0xe*0xd9+-0xd2),_0x25cd61['isWebGPU']){const _0x2201ce=new hL(_0x25cd61,this['renderer'],this['camera'],_0x1fe1dc?this['worldClust'+'ers']:null,_0x2d4d23,_0x5ef071);_0x2201ce['init'](_0x288967),_0x2201ce['render'](),_0x2201ce['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x288967,!(-0x1b62+-0xb3*-0x29+0x149*-0x1)),_0x1fe1dc&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x355+0xf*0x92+-0xb3*0x11,this['renderer']['_shadowMap'+'Time']=-0x407+-0x93f*0x4+-0x2903*-0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0x288967,_0x2d4d23,_0x5ef071,Aa),_0x25cd61['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x10d1db['renderTarg'+'ets'][_0x55cbc6]=_0x288967,this['renderTarg'+'ets']['set'](_0x338460,_0x38be8f),_0x5f18b8=0x23df+0x1535+-0xe45*0x4;_0x5f18b8<_0x2d4d23['length'];_0x5f18b8++)_0x5e0503=_0x2d4d23[_0x5f18b8],_0x5e0503['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x55cbc6],_0x374ca5),_0x5e0503['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x25cd61);}this['restoreMat'+'erials'](_0x2d4d23);}_0x1e9f2e['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x25cd61);}}for(this['postproces'+'sTextures'](_0x25cd61,_0x127dbc,_0x3a131c),_0x847458=0x38b*-0x1+0x6d*0x3d+-0x1d*0xc6;_0x847458<_0x58df03['length'];_0x847458++)_0x58df03[_0x847458]['restore']();this['restoreLig'+'hts'](_0x57a2f3),this['restoreSce'+'ne'](),_0x1fe1dc||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x147c42,_0x2995b5){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x147c42,this['entity']=_0x2995b5,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x34ded3,_0x4b5ee3,_0x30984c){this['fire']('set_'+_0x34ded3,_0x34ded3,_0x4b5ee3,_0x30984c);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x41ff8e,_0x54a593){_0x54a593['forEach'](_0x704ad3=>{const _0x584dc7=typeof _0x704ad3=='object'?_0x704ad3['name']:_0x704ad3;Object['defineProp'+'erty'](_0x41ff8e,_0x584dc7,{'get':function(){return this['data'][_0x584dc7];},'set':function(_0x2b769b){const _0x2694b2=this['data'],_0x5d1c86=_0x2694b2[_0x584dc7];_0x2694b2[_0x584dc7]=_0x2b769b,this['fire']('set',_0x584dc7,_0x5d1c86,_0x2b769b);},'configurable':!(0x866*-0x1+0x214a*0x1+-0x18e4)});}),_0x41ff8e['_accessors'+'Built']=!(0x658*-0x4+0xc7*0x6+0x14b6);}['buildAcces'+'sors'](_0x13015e){Wh['_buildAcce'+'ssors'](this,_0x13015e);}['onSetEnabl'+'ed'](_0x23782f,_0x2917bf,_0x42b7c6){_0x2917bf!==_0x42b7c6&&this['entity']['enabled']&&(_0x42b7c6?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x42f0e3=this['system']['store'][this['entity']['getGuid']()];return _0x42f0e3?_0x42f0e3['data']:null;}set['enabled'](_0x20ff29){}get['enabled'](){return!(0x247*-0xd+0xe*0x259+-0x343);}};h(Wh,'order',-0x235d*-0x1+0x7a*-0xa+-0x45f*0x7);let we=Wh;class ct extends me{constructor(_0x50d17c){super(),this['app']=_0x50d17c,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x1b816b,_0x5bf815={}){const _0x2fd629=new this['ComponentT'+'ype'](this,_0x1b816b),_0x445ec8=new this['DataType']();return this['store'][_0x1b816b['getGuid']()]={'entity':_0x1b816b,'data':_0x445ec8},_0x1b816b[this['id']]=_0x2fd629,_0x1b816b['c'][this['id']]=_0x2fd629,this['initialize'+'ComponentD'+'ata'](_0x2fd629,_0x5bf815,[]),this['fire']('add',_0x1b816b,_0x2fd629),_0x2fd629;}['removeComp'+'onent'](_0x429c57){const _0x12f877=this['id'],_0x6570e1=this['store'][_0x429c57['getGuid']()],_0x7beafb=_0x429c57['c'][_0x12f877];_0x7beafb['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x429c57,_0x7beafb),delete this['store'][_0x429c57['getGuid']()],_0x429c57[_0x12f877]=void(0x165*0x7+0x65*-0x31+-0x5*-0x1ea),delete _0x429c57['c'][_0x12f877],this['fire']('remove',_0x429c57,_0x6570e1['data']);}['cloneCompo'+'nent'](_0x27f48d,_0xa0cac6){const _0x3c5a07=this['store'][_0x27f48d['getGuid']()];return this['addCompone'+'nt'](_0xa0cac6,_0x3c5a07['data']);}['initialize'+'ComponentD'+'ata'](_0x2a229e,_0x2a1084={},_0xf2b393){for(let _0x328e6c=0x1fb3+-0xb9f+-0x14*0x101,_0x3409a3=_0xf2b393['length'];_0x328e6c<_0x3409a3;_0x328e6c++){const _0x33eb58=_0xf2b393[_0x328e6c];let _0x3236e0,_0x26e0a0;typeof _0x33eb58=='object'?(_0x3236e0=_0x33eb58['name'],_0x26e0a0=_0x33eb58['type']):(_0x3236e0=_0x33eb58,_0x26e0a0=void(-0xbd9+0x2af+0x92a));let _0x4bb450=_0x2a1084[_0x3236e0];_0x4bb450!==void(0x156b+0x1*-0x1e46+0x8db)?(_0x26e0a0!==void(0x1608+-0x8a*0xc+-0xf90)&&(_0x4bb450=mL(_0x4bb450,_0x26e0a0)),_0x2a229e[_0x3236e0]=_0x4bb450):_0x2a229e[_0x3236e0]=_0x2a229e['data'][_0x3236e0];}_0x2a229e['enabled']&&_0x2a229e['entity']['enabled']&&_0x2a229e['onEnable']();}['getPropert'+'iesOfType'](_0x39cb9d){const _0x543366=[];return(this['schema']||[])['forEach'](_0x4e34fe=>{_0x4e34fe&&typeof _0x4e34fe=='object'&&_0x4e34fe['type']===_0x39cb9d&&_0x543366['push'](_0x4e34fe);}),_0x543366;}['destroy'](){this['off']();}}function mL(_0x43a1e6,_0x335a88){if(!_0x43a1e6)return _0x43a1e6;switch(_0x335a88){case'rgb':return _0x43a1e6 instanceof ie?_0x43a1e6['clone']():new ie(_0x43a1e6[-0x432+0x2d7*-0x3+-0x15*-0x9b],_0x43a1e6[0x631*-0x2+0x24a3+-0x1840],_0x43a1e6[0x1*-0x8d3+-0x1424+-0x1cf9*-0x1]);case'rgba':return _0x43a1e6 instanceof ie?_0x43a1e6['clone']():new ie(_0x43a1e6[-0x1*0x2395+-0x1395+0x372a],_0x43a1e6[0x1bee+-0x1567+-0x686],_0x43a1e6[0x1*-0xd7+-0x161*0x19+-0x112*-0x21],_0x43a1e6[0x17*-0x6f+0x135+-0x1*-0x8c7]);case'vec2':return _0x43a1e6 instanceof J?_0x43a1e6['clone']():new J(_0x43a1e6[-0x860+0x207a+0x2*-0xc0d],_0x43a1e6[-0x12be+0x1b7+0x5*0x368]);case'vec3':return _0x43a1e6 instanceof D?_0x43a1e6['clone']():new D(_0x43a1e6[-0x26f0*-0x1+-0x9b+-0x2655],_0x43a1e6[0x2677+0x130d+-0x3983],_0x43a1e6[-0x1*0xcaf+0x4*-0x4cc+0x1fe1]);case'vec4':return _0x43a1e6 instanceof re?_0x43a1e6['clone']():new re(_0x43a1e6[0x775*0x3+0x1e7*-0x1+-0x83*0x28],_0x43a1e6[0xbf6*-0x1+-0x61b+0x3*0x606],_0x43a1e6[0x26b3+0x22ed+-0x3*0x188a],_0x43a1e6[-0xc*0x31+-0x1dad*-0x1+-0x1b5e]);case'boolean':case'number':case'string':return _0x43a1e6;case'entity':return _0x43a1e6;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x335a88);}}const Bv=0x182d+0xf52+-0x277f,Su=-0x276*-0x1+0x1baa*-0x1+-0x1b*-0xef,yu=0x1*-0x1525+0x1871+-0x34a;class _L{constructor(){this['_left']=(-0x2*-0x447+-0x3*0x3e3+0x2*0x18e)/(0x352+-0x55*-0x17+-0xaf5),this['_right']=-(-0x20a4+-0x198a+0x3a2f)/(0x2*-0x56b+0x1*0x362+0x774),this['_len']=0x2355+-0x1861*-0x1+-0x3bb6,this['_recip']=-0x171a+-0xaf4+-0x220e*-0x1,this['_p0']=-0xe*0x7e+0x1c58+-0x1574,this['_p1']=0x8a5+-0x9*-0x2ac+0x1*-0x20b1,this['_t']=-0xcb0+0x2260*-0x1+0x2f10,this['_hermite']={'valid':!(-0x132d+0x1*0x199d+-0x66f),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x3f44c1,_0x51f001){if(_0x3f44c1<this['_left']||_0x3f44c1>=this['_right']){const _0x4fcfaf=_0x51f001['length'];if(!_0x4fcfaf)this['_left']=-(0x7*-0x115+0xd54+-0x2*0x2e0)/(0x1a8*-0x16+0x1*-0x1b8e+0x3ffe),this['_right']=(0x97a+-0x26*-0x45+-0x13b7)/(-0x241c+0x1b04+-0x1*-0x918),this['_len']=0x25e4+0x445*0x7+-0x43c7,this['_recip']=-0x209*0xb+-0x316+0x1979,this['_p0']=this['_p1']=0x1ceb*0x1+-0x1ead*0x1+0x1c2;else{if(_0x3f44c1<_0x51f001[-0x752+-0xb9*0x2b+0x2665])this['_left']=-(0xe*0x1d8+0x1541+-0x2f10)/(0x1b6a+-0xa*-0x6b+-0x151*0x18),this['_right']=_0x51f001[-0x1c*0xb+0xc4b+-0xb17],this['_len']=-0x1c15*0x1+-0x175*-0x19+-0x858,this['_recip']=0x234e+0x1354+-0x612*0x9,this['_p0']=this['_p1']=-0x1*-0x40d+0x17e1*-0x1+0x12*0x11a;else{if(_0x3f44c1>=_0x51f001[_0x4fcfaf-(-0x653*0x2+-0x2*-0x64d+0x1*0xd)])this['_left']=_0x51f001[_0x4fcfaf-(-0x200a+0x3*-0x626+0x327d)],this['_right']=(0x1*0x15cd+-0xbb0+-0xa1c)/(0x24b*-0x1+0x18a*-0x19+0x5d3*0x7),this['_len']=-0x1c83+0xf*-0x11+0x1d82,this['_recip']=0x1b6f+-0xd5f+-0xe10,this['_p0']=this['_p1']=_0x4fcfaf-(-0x1c87*0x1+-0x17f5+-0x117f*-0x3);else{const _0x188b3c=this['_findKey'](_0x3f44c1,_0x51f001);this['_left']=_0x51f001[_0x188b3c],this['_right']=_0x51f001[_0x188b3c+(0x1cfe+-0x263b+-0x2*-0x49f)],this['_len']=this['_right']-this['_left'];const _0x59e251=(-0xb*0x281+-0x1303+0x2e8f)/this['_len'];this['_recip']=isFinite(_0x59e251)?_0x59e251:0x23dd*0x1+-0x2*-0x106c+0x1*-0x44b5,this['_p0']=_0x188b3c,this['_p1']=_0x188b3c+(0x60d*0x2+0x2477*0x1+-0x3090);}}}}this['_t']=this['_recip']===-0x2*0xcf7+-0x6ad*0x4+0x34a2?-0x1884+0xa73+0xe11:(_0x3f44c1-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x2*0xb2a+0xe5*-0x13+0x554*-0x1);}['_findKey'](_0x45b910,_0x2b7c38){let _0x2f906c=-0x215e*-0x1+-0x79e+-0x19c0;for(;_0x45b910>=_0x2b7c38[_0x2f906c+(-0xfb*0xd+-0xd14+0x57*0x4c)];)_0x2f906c++;return _0x2f906c;}['eval'](_0x3fea5e,_0x1877ef,_0x198665){const _0x42b5b8=_0x198665['_data'],_0x408947=_0x198665['_component'+'s'],_0xd964d4=this['_p0']*_0x408947;if(_0x1877ef===Bv){for(let _0x1f9c07=-0x156*-0x10+-0x2267+-0x1d*-0x73;_0x1f9c07<_0x408947;++_0x1f9c07)_0x3fea5e[_0x1f9c07]=_0x42b5b8[_0xd964d4+_0x1f9c07];}else{const _0x19081c=this['_t'],_0x469143=this['_p1']*_0x408947;switch(_0x1877ef){case Su:for(let _0x29d608=0x2*0x100f+-0x5f9*-0x2+-0x2c10;_0x29d608<_0x408947;++_0x29d608)_0x3fea5e[_0x29d608]=Y['lerp'](_0x42b5b8[_0xd964d4+_0x29d608],_0x42b5b8[_0x469143+_0x29d608],_0x19081c);break;case yu:{const _0x5e594c=this['_hermite'];if(!_0x5e594c['valid']){const _0x3c8742=_0x19081c*_0x19081c,_0x12115c=_0x19081c+_0x19081c,_0xd4364d=0x4e5+0x1337+-0x181b-_0x19081c,_0x37c895=_0xd4364d*_0xd4364d;_0x5e594c['valid']=!(-0x6cc+0xba5+-0x4d9),_0x5e594c['p0']=(0x195a+0x217f+-0x3ad8+_0x12115c)*_0x37c895,_0x5e594c['m0']=_0x19081c*_0x37c895,_0x5e594c['p1']=_0x3c8742*(-0x1b82+0x1*0xb49+0x103c-_0x12115c),_0x5e594c['m1']=_0x3c8742*(_0x19081c-(-0x17a0+0x6ee+-0x9*-0x1db));}const _0x575fa5=(this['_p0']*(-0x85f+0x152*0x19+0x8*-0x314)+(0x205f+0x1*0x168+0x16*-0x189))*_0x408947,_0x2a0338=(this['_p0']*(0x1*-0x1225+-0x39*0x4d+0x234d)+(-0x1405+-0x16ce+-0x3*-0xe47))*_0x408947,_0x421373=(this['_p1']*(0x1*0x982+0x3*0x3d+-0xa36*0x1)+(-0x1*0x1f60+0xff2+0xf6f))*_0x408947,_0x18119b=(this['_p1']*(0x557+-0xa68+0x514*0x1)+(0x1*-0x6e3+-0x12*0x194+-0x41*-0x8b))*_0x408947;for(let _0x2fec4f=0x1a9*-0x8+-0x2635+-0x337d*-0x1;_0x2fec4f<_0x408947;++_0x2fec4f)_0x3fea5e[_0x2fec4f]=_0x5e594c['p0']*_0x42b5b8[_0x575fa5+_0x2fec4f]+_0x5e594c['m0']*_0x42b5b8[_0x2a0338+_0x2fec4f]*this['_len']+_0x5e594c['p1']*_0x42b5b8[_0x421373+_0x2fec4f]+_0x5e594c['m1']*_0x42b5b8[_0x18119b+_0x2fec4f]*this['_len'];break;}}}}}class Ig{constructor(_0x1e599f){this['_name']=_0x1e599f['name']+'Snapshot',this['_time']=-(-0x5fc+-0x105+-0xd*-0x8a),this['_cache']=[],this['_results']=[];for(let _0x239672=0x1611+-0x32*-0xa1+-0x3583;_0x239672<_0x1e599f['_inputs']['length'];++_0x239672)this['_cache'][_0x239672]=new _L();const _0x85e914=_0x1e599f['_curves'],_0xb8fb9a=_0x1e599f['_outputs'];for(let _0x1be23c=-0x62+-0x7c1*-0x5+0x1f*-0x13d;_0x1be23c<_0x85e914['length'];++_0x1be23c){const _0xdf8b8f=_0x85e914[_0x1be23c],_0xeaf725=_0xb8fb9a[_0xdf8b8f['_output']],_0x4e3e5e=[];for(let _0x17cb90=0x2510+-0x473*-0x1+0x2983*-0x1;_0x17cb90<_0xeaf725['_component'+'s'];++_0x17cb90)_0x4e3e5e[_0x17cb90]=0x683*0x1+-0x12f4+0x5b*0x23;this['_results'][_0x1be23c]=_0x4e3e5e;}}}const qo=class qo{constructor(_0x1efccd,_0x320ecd,_0x44a8d2,_0x272487,_0xbbc2cf,_0x24266e){this['_name']=_0x1efccd['name'],this['_track']=_0x1efccd,this['_snapshot']=new Ig(_0x1efccd),this['_playing']=_0x272487,this['_time']=_0x320ecd,this['_speed']=_0x44a8d2,this['_loop']=_0xbbc2cf,this['_blendWeig'+'ht']=0x1*-0x22d7+0x38f*-0x1+0xccd*0x3,this['_blendOrde'+'r']=-0x2*-0x12a7+-0x13*-0x43+-0x89*0x4f,this['_eventHand'+'ler']=_0x24266e,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x232b79){this['_name']=_0x232b79;}get['name'](){return this['_name'];}set['track'](_0x53622e){this['_track']=_0x53622e,this['_snapshot']=new Ig(_0x53622e);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x46102c){this['_time']=_0x46102c,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x2fc65e){const _0x47ff8d=Math['sign'](_0x2fc65e)!==Math['sign'](this['_speed']);this['_speed']=_0x2fc65e,_0x47ff8d&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x4e1a64){this['_loop']=_0x4e1a64;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x3f3af3){this['_blendWeig'+'ht']=_0x3f3af3;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x49aaf0){this['_blendOrde'+'r']=_0x49aaf0;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x3c0a12){this['_eventCurs'+'or']=_0x3c0a12;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x1*0x226f+-0xc6f+0x2ede:this['_track']['events']['length']-(0x112e*-0x1+-0x4*-0x6ed+-0xa85);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x68a+0xea5+-0x152f;}['nextEventA'+'headOfTime'](_0x20107d){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x20107d:this['nextEvent']['time']>=_0x20107d:!(-0x3*0xa2a+-0x8f9*0x2+0x3071);}['nextEventB'+'ehindTime'](_0x35ae39){return this['nextEvent']?_0x35ae39===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x35ae39:this['nextEvent']['time']<=_0x35ae39:this['isReverse']?this['nextEvent']['time']>_0x35ae39:this['nextEvent']['time']<_0x35ae39:!(0x1*-0x24fe+0x12a7+0x1258);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x2497+-0x37*-0x9e+0x2a6):0xe55*-0x1+-0x1bb1+0x2a06;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x5f*-0x3+0x15aa+0xa*-0x247):0x8fc+-0x5ee+0xb*-0x47,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x83f*-0x3+-0x2e6*0xd+0x227*0x1d:this['_eventCurs'+'or']<-0xf*-0x29+-0x4d9*-0x7+-0x1*0x2456&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x1a38+0x2097+-0x3ace));}['clipFrameT'+'ime'](_0x4abdfc){const _0x2938b0=qo['eventFrame'];_0x2938b0['start']=0x1e3*-0x7+0x10b*0x1+-0x12*-0xad,_0x2938b0['end']=_0x4abdfc,_0x2938b0['residual']=-0x18+-0xd01*-0x3+-0x26eb,this['isReverse']?_0x4abdfc<-0x808+-0x1cb6+0x1*0x24be&&(_0x2938b0['start']=this['track']['duration'],_0x2938b0['end']=0x56f+-0x4d3+-0x27*0x4,_0x2938b0['residual']=_0x4abdfc+this['track']['duration']):_0x4abdfc>this['track']['duration']&&(_0x2938b0['start']=-0x6e9*-0x2+0x7aa+-0x37*0x64,_0x2938b0['end']=this['track']['duration'],_0x2938b0['residual']=_0x4abdfc-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x2c8e58,_0x2744aa){return this['nextEventA'+'headOfTime'](_0x2c8e58)&&this['nextEventB'+'ehindTime'](_0x2744aa)?(this['fireNextEv'+'ent'](),!(-0x19f*0x13+-0x10dd+-0x1*-0x2faa)):!(-0x14e*-0xd+-0xa6a+-0x68b);}['activeEven'+'tsForFrame'](_0x379ea6,_0x59e830){const _0xbc20ea=qo['eventFrame'];this['clipFrameT'+'ime'](_0x59e830);const _0x1117ef=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x379ea6,_0xbc20ea['end'])&&_0x1117ef!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0xbc20ea['residual'])>-0x69a+0xb7c+0x19*-0x32&&this['activeEven'+'tsForFrame'](_0xbc20ea['start'],_0xbc20ea['residual']);}['progressFo'+'rTime'](_0xcf48aa){return _0xcf48aa*this['_speed']/this['_track']['duration'];}['_update'](_0x477f91){if(this['_playing']){let _0x54bbd7=this['_time'];const _0x22b44b=this['_track']['duration'],_0x3d8362=this['_speed'],_0x31ecb8=this['_loop'];this['_track']['events']['length']>0x1e16+-0x1163*0x1+-0xcb3&&_0x22b44b>-0x1de3+0x50a+-0x18d9*-0x1&&this['activeEven'+'tsForFrame'](_0x54bbd7,_0x54bbd7+_0x3d8362*_0x477f91),_0x54bbd7+=_0x3d8362*_0x477f91,_0x3d8362>=0x21f2+-0x56*0x9+0x2*-0xf76?_0x54bbd7>_0x22b44b&&(_0x31ecb8?_0x54bbd7=_0x54bbd7%_0x22b44b||-0x541+-0x1583+0x1ac4:(_0x54bbd7=this['_track']['duration'],this['pause']())):_0x54bbd7<0x1*0x11d2+-0x4d3+-0xcff&&(_0x31ecb8?_0x54bbd7=_0x22b44b+(_0x54bbd7%_0x22b44b||-0x73c+-0x173+0x8af):(_0x54bbd7=-0xcb3+-0x3*0x6ed+0x359*0xa,this['pause']())),this['_time']=_0x54bbd7;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0xbc6+0xebf+-0x1a85),this['_time']=0x763+-0x14da+0x47d*0x3;}['stop'](){this['_playing']=!(0xd9+0x21b+-0x2f3),this['_time']=-0x24db+0xfdd+0x14fe;}['pause'](){this['_playing']=!(-0xc*0x26b+-0x947*0x4+0x37b*0x13);}['resume'](){this['_playing']=!(-0x198+0x1229+-0x1091*0x1);}['reset'](){this['_time']=0x496+-0x365*-0x2+0x20*-0x5b;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x4bb53d,_0x405932){const _0x4bd3d7=_0x4bb53d['length'];let _0x4412af=0x37*0x29+0x7eb+-0x10ba;for(let _0x35f92f=0x1b7c+-0x20c0+0x2*0x2a2;_0x35f92f<_0x4bd3d7;++_0x35f92f)_0x4412af+=_0x4bb53d[_0x35f92f]*_0x405932[_0x35f92f];return _0x4412af;}static['normalize'](_0x109b1d){let _0x2258b8=Ht['dot'](_0x109b1d,_0x109b1d);if(_0x2258b8>0x7*0x373+0x12e5*-0x1+-0x2a*0x20){_0x2258b8=(-0xba8*0x1+0xd4b+-0xd1*0x2)/Math['sqrt'](_0x2258b8);const _0x43ed89=_0x109b1d['length'];for(let _0x358eaa=0xcf6+0x1bbf*0x1+-0x28b5;_0x358eaa<_0x43ed89;++_0x358eaa)_0x109b1d[_0x358eaa]*=_0x2258b8;}}static['set'](_0x31d325,_0xfd0b45,_0x4216eb){const _0x30dfe8=_0x31d325['length'];if(_0x4216eb==='quaternion'){let _0x5429c6=Ht['dot'](_0xfd0b45,_0xfd0b45);_0x5429c6>-0x21e6+0x26b1+0x3*-0x199&&(_0x5429c6=(-0x89*0x4+0x16*0x15+-0x1d*-0x3)/Math['sqrt'](_0x5429c6));for(let _0x6a0f59=0x1*0x74+-0x1ab0+0x4*0x68f;_0x6a0f59<_0x30dfe8;++_0x6a0f59)_0x31d325[_0x6a0f59]=_0xfd0b45[_0x6a0f59]*_0x5429c6;}else{for(let _0x38eb03=-0x1a33+0x60e+0x1b*0xbf;_0x38eb03<_0x30dfe8;++_0x38eb03)_0x31d325[_0x38eb03]=_0xfd0b45[_0x38eb03];}}static['blendVec'](_0x25b6f0,_0x3282d3,_0x41861b,_0x2e45bc){const _0x4c9ca2=_0x2e45bc?0x170+-0x1738+0x15c9:-0x1c0c+0x43*-0x12+0x20c3-_0x41861b,_0x1665cb=_0x25b6f0['length'];for(let _0x4c80e0=0x1*0x19bb+0x1e4f*-0x1+-0x4*-0x125;_0x4c80e0<_0x1665cb;++_0x4c80e0)_0x25b6f0[_0x4c80e0]=_0x25b6f0[_0x4c80e0]*_0x4c9ca2+_0x3282d3[_0x4c80e0]*_0x41861b;}static['blendQuat'](_0x55b86e,_0x506649,_0x116fdc,_0x4b7b1c){const _0x2fd9af=_0x55b86e['length'],_0x13c732=_0x4b7b1c?-0x14*-0x192+-0x3*-0x8be+-0x39a1:0x1dcf+0x1846*-0x1+-0x588-_0x116fdc;Ht['dot'](_0x55b86e,_0x506649)<0x1a81+-0xf70+-0xb11&&(_0x116fdc=-_0x116fdc);for(let _0x2e1476=-0x1900+0xacc+-0x2*-0x71a;_0x2e1476<_0x2fd9af;++_0x2e1476)_0x55b86e[_0x2e1476]=_0x55b86e[_0x2e1476]*_0x13c732+_0x506649[_0x2e1476]*_0x116fdc;_0x4b7b1c||Ht['normalize'](_0x55b86e);}static['blend'](_0x224349,_0x58a516,_0x4ac981,_0xaaeec2,_0x273fa0){_0xaaeec2==='quaternion'?Ht['blendQuat'](_0x224349,_0x58a516,_0x4ac981,_0x273fa0):Ht['blendVec'](_0x224349,_0x58a516,_0x4ac981,_0x273fa0);}static['stableSort'](_0x19250e,_0x58452c){const _0x2ca260=_0x19250e['length'];for(let _0xf3eaf=-0x3*0x78+-0x2a2+0x40a;_0xf3eaf<_0x2ca260-(-0x1*-0x1d2a+-0xf7+0x12*-0x191);++_0xf3eaf)for(let _0xbb2dde=_0xf3eaf+(0x848+-0x5*-0x74b+0xeea*-0x3);_0xbb2dde<_0x2ca260;++_0xbb2dde)if(_0x58452c(_0x19250e[_0xbb2dde],_0x19250e[_0xf3eaf])){const _0x2abc1c=_0x19250e[_0xf3eaf];_0x19250e[_0xf3eaf]=_0x19250e[_0xbb2dde],_0x19250e[_0xbb2dde]=_0x2abc1c;}}}const st=class st{constructor(_0x1ba74f,_0x3177e2){this['_component']=_0x1ba74f,this['mask']=new Int8Array(_0x1ba74f['layers']['length']),this['weights']=new Float32Array(_0x1ba74f['layers']['length']),this['totalWeigh'+'t']=-0x6b1+-0x2543+0x2bf4,this['counter']=-0x18*-0x13c+-0xe2d+-0xf73*0x1,this['layerCount'+'er']=0x1469+-0x9*0x1eb+0xd*-0x3e,this['valueType']=_0x3177e2,this['dirty']=!(-0x1*-0x1c51+-0x2102+0x4b1),this['value']=_0x3177e2===st['TYPE_QUAT']?[-0x6*-0x667+0x1ce5*0x1+-0x434f,0x3*-0x57d+-0x4*-0x131+0xbb3,-0x23a1+-0x1a*0x6+0x243d,-0x565+-0x341*0xb+0x3*0xdbb]:[0x1b5a+-0x5f*0x39+-0x633,0x254c+0x769*0x5+-0x4a59,0xb1c+0x1adf+-0x25fb],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x1515f2){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0xcfb+-0x14b2+0x21ad||!this['mask'][_0x1515f2]?0x137*0x1+0x21bb+-0x22f2:this['_normalize'+'Weights']?this['weights'][_0x1515f2]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x1515f2],0x2416+-0x2382+-0x94,-0xb*-0x119+0x1*-0xd15+-0x103*-0x1);}['_layerBlen'+'dType'](_0x1a600c){return this['_component']['layers'][_0x1a600c]['blendType'];}['setMask'](_0x529ca0,_0x41cdfb){this['mask'][_0x529ca0]=_0x41cdfb,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x529ca0]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x26dc+-0x1b82+0x5ad*-0x2,0x2c6+-0x1*0x1c6f+-0x19a9*-0x1,_0x529ca0)),this['dirty']=!(0x17bb+0x12d5+0x18*-0x1c6));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x23e3+0x2f*-0xc1+0x4752;for(let _0x25d1d5=-0xf6d+0x595+0x9d8;_0x25d1d5<this['weights']['length'];_0x25d1d5++)this['weights'][_0x25d1d5]=this['_component']['layers'][_0x25d1d5]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x25d1d5]*this['weights'][_0x25d1d5];this['dirty']=!(-0x1569+0x5f*0x23+0x1*0x86d);}['updateValu'+'e'](_0x47688f,_0x138141){if(this['counter']===0x234d+0x3a9+0x1*-0x26f6&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0x518+0xfde+-0x14f5,this['valueType'])),!(!this['mask'][_0x47688f]||this['getWeight'](_0x47688f)===-0x2*-0x1123+-0xc74+-0x15d2)){if(this['_layerBlen'+'dType'](_0x47688f)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x5612e4=st['q1']['set'](this['value'][0x14fe+0xf5c+-0x245a],this['value'][-0x7*0x523+0x1d46+-0x1ac*-0x4],this['value'][-0x2f0+0x2596+-0x22a4],this['value'][0x6d6+0x1561*-0x1+0xe8e]),_0x1ce89d=st['q2']['set'](this['baseValue'][0x2d9+-0x301*-0xb+-0x23e4],this['baseValue'][-0x79c+-0x1d39+0x24d6],this['baseValue'][-0x1b92+0x1e60+-0x2cc],this['baseValue'][0x2cb+-0xb8+-0x210]),_0x2e1ad6=st['q3']['set'](_0x138141[0x1*0x187f+0xc*0x1c4+0x2daf*-0x1],_0x138141[0xe76+0x1c7c+-0x2af1*0x1],_0x138141[0xd66+-0x1453+-0x163*-0x5],_0x138141[-0x7*0x318+-0x1349*0x1+0x147a*0x2]),_0x9cc876=_0x1ce89d['invert']()['mul'](_0x2e1ad6);_0x9cc876['slerp'](le['IDENTITY'],_0x9cc876,this['getWeight'](_0x47688f)),_0x5612e4['mul'](_0x9cc876),st['quatArr'][-0x115+0x74a+0x635*-0x1]=_0x5612e4['x'],st['quatArr'][0x2126+0x3*-0xb18+0x23]=_0x5612e4['y'],st['quatArr'][0x4ff+-0x207*0x11+-0xb*-0x2ae]=_0x5612e4['z'],st['quatArr'][0x1*-0x8c8+0x1daa+0x1*-0x14df]=_0x5612e4['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0xd68+0x15*0xb7+-0x1c6b]=_0x138141[-0x20*0x134+0x1*-0x369+0x1*0x29e9]-this['baseValue'][0xdf8+-0xd2f+0x3*-0x43],st['vecArr'][0xd13*-0x1+0x19ab*-0x1+0x26bf]=_0x138141[-0x34a*0x1+0x20*0xdd+-0x1855*0x1]-this['baseValue'][-0x5d+0xe1e+-0xb*0x140],st['vecArr'][0x9*0x381+-0xf*0x17+-0x1e2e]=_0x138141[0x1d64+0x24d3+-0x4235]-this['baseValue'][-0xf53+-0xd33+-0x4*-0x722],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x47688f),this['valueType'],!(0x1ba*-0xe+0x19f8+-0x1cc));}else Ht['blend'](this['value'],_0x138141,this['getWeight'](_0x47688f),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0x4f9*-0x6+-0x7a4*-0x2+0xe8e,-0x321+-0xa09+-0x1*-0xd2a,-0x4d*-0x4d+0x233*-0x1+-0x1*0x14f6,0x2685+0x21bf*-0x1+0xb*-0x6f]),h(st,'vecArr',[0x1d51+-0x1d*0x37+-0x1716,-0x5*-0x76b+-0xcf5+0x2*-0xc11,-0x4*-0x99f+0x11*-0x238+0x7*-0x1c]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0x42c+-0x2511+0x293d,-0x1b58+0x2131*0x1+0x3*-0x1f3,-0xc18+-0x1*0x2287+0x2e9f,0xfc4+0x1*-0x946+0x1*-0x67d]);let Vo=st;class Gv{constructor(_0x3c1393){this['_binder']=_0x3c1393,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x3ec790){const _0x6d366f=this['_targets'],_0x5d10a7=this['_binder'],_0x4cd03a=_0x3ec790['track']['curves'],_0x345a5f=_0x3ec790['snapshot'],_0x3326b2=[],_0x570313=[];for(let _0xe81207=0x1a9c+-0x1*0x1732+-0x36a;_0xe81207<_0x4cd03a['length'];++_0xe81207){const _0x32232d=_0x4cd03a[_0xe81207]['paths'];for(let _0x55990e=0x11*-0x18+-0x88f+-0x17*-0x71;_0x55990e<_0x32232d['length'];++_0x55990e){const _0x237145=_0x32232d[_0x55990e],_0x4d7681=_0x5d10a7['resolve'](_0x237145);let _0x22827a=_0x6d366f[_0x4d7681&&_0x4d7681['targetPath']||null];if(!_0x22827a&&_0x4d7681){_0x22827a={'target':_0x4d7681,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x32260d=0x1e27+-0x1fe5+0x1be;_0x32260d<_0x22827a['target']['components'];++_0x32260d)_0x22827a['value']['push'](0x76a*0x2+0x1313+-0x21*0x107);if(_0x6d366f[_0x4d7681['targetPath']]=_0x22827a,_0x5d10a7['animCompon'+'ent']){if(!_0x5d10a7['animCompon'+'ent']['targets'][_0x4d7681['targetPath']]){let _0x7fc9e2;_0x4d7681['targetPath']['substring'](_0x4d7681['targetPath']['length']-(0x1*-0x1171+0x1*-0x1d73+0x2ef1))==='localRotat'+'ion'?_0x7fc9e2=Vo['TYPE_QUAT']:_0x7fc9e2=Vo['TYPE_VEC3'],_0x5d10a7['animCompon'+'ent']['targets'][_0x4d7681['targetPath']]=new Vo(_0x5d10a7['animCompon'+'ent'],_0x7fc9e2);}_0x5d10a7['animCompon'+'ent']['targets'][_0x4d7681['targetPath']]['layerCount'+'er']++,_0x5d10a7['animCompon'+'ent']['targets'][_0x4d7681['targetPath']]['setMask'](_0x5d10a7['layerIndex'],-0x25be*-0x1+-0x3*0xa59+0x6b2*-0x1);}}_0x22827a&&(_0x22827a['curves']++,_0x3326b2['push'](_0x345a5f['_results'][_0xe81207]),_0x570313['push'](_0x22827a));}}this['_clips']['push'](_0x3ec790),this['_inputs']['push'](_0x3326b2),this['_outputs']['push'](_0x570313);}['removeClip'](_0x5f305){const _0x580725=this['_targets'],_0x41eec5=this['_binder'],_0xa5fabd=this['_clips'],_0x227c85=_0xa5fabd[_0x5f305]['track']['curves'];for(let _0x4f85fc=-0x1644+-0x1*0x8c6+-0xf85*-0x2;_0x4f85fc<_0x227c85['length'];++_0x4f85fc){const _0x214817=_0x227c85[_0x4f85fc]['paths'];for(let _0x57fd6e=-0x233b+0x50b*0x3+-0x1f*-0xa6;_0x57fd6e<_0x214817['length'];++_0x57fd6e){const _0x376aca=_0x214817[_0x57fd6e],_0x31cd8f=this['_binder']['resolve'](_0x376aca);_0x31cd8f&&(_0x31cd8f['curves']--,_0x31cd8f['curves']===-0x1f59+-0x246c+0x43c5&&(_0x41eec5['unresolve'](_0x376aca),delete _0x580725[_0x31cd8f['targetPath']],_0x41eec5['animCompon'+'ent']&&_0x41eec5['animCompon'+'ent']['targets'][_0x31cd8f['targetPath']]['layerCount'+'er']--));}}_0xa5fabd['splice'](_0x5f305,-0x55*0x9+-0xa2a*-0x3+-0x50*0x58),this['_inputs']['splice'](_0x5f305,-0x985+-0x1804+0x9f*0x36),this['_outputs']['splice'](_0x5f305,-0xad*-0x35+0x1*0x12ff+-0x36cf*0x1);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1943+0xb*0x192+0x7fd;)this['removeClip'](0x253f+0xd4d+0xa1c*-0x5);}['updateClip'+'Track'](_0x2108f2,_0x159ed0){this['_clips']['forEach'](_0x4bf864=>{_0x4bf864['name']['includes'](_0x2108f2)&&(_0x4bf864['track']=_0x159ed0);}),this['rebind']();}['findClip'](_0x492629){const _0x10e0f5=this['_clips'];for(let _0x504612=0x1852+0x6*0x3fc+-0x181d*0x2;_0x504612<_0x10e0f5['length'];++_0x504612){const _0x3bce40=_0x10e0f5[_0x504612];if(_0x3bce40['name']===_0x492629)return _0x3bce40;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x232fa5=[...this['clips']];this['removeClip'+'s'](),_0x232fa5['forEach'](_0x206379=>{this['addClip'](_0x206379);});}['assignMask'](_0x10f20f){return this['_binder']['assignMask'](_0x10f20f);}['update'](_0x4c80dd,_0x1b3fa7=!(0x633+0x1*0x2658+-0x2c8b)){const _0x4319eb=this['_clips'],_0x1b260f=_0x4319eb['map']((_0x15d19d,_0x384bf8)=>_0x384bf8);Ht['stableSort'](_0x1b260f,(_0x39799c,_0xd69143)=>_0x4319eb[_0x39799c]['blendOrder']<_0x4319eb[_0xd69143]['blendOrder']);for(let _0x5f5b5b=-0x4*0x2c8+-0x1443+0x1f63;_0x5f5b5b<_0x1b260f['length'];++_0x5f5b5b){const _0x1f16bf=_0x1b260f[_0x5f5b5b],_0x46bd9e=_0x4319eb[_0x1f16bf],_0xf5d47=this['_inputs'][_0x1f16bf],_0x26d89a=this['_outputs'][_0x1f16bf],_0x148762=_0x46bd9e['blendWeigh'+'t'];if(_0x148762>0x1110+-0x21ac+0x109c&&_0x46bd9e['_update'](_0x4c80dd),!_0x1b3fa7)break;let _0x8b02f8,_0x301894,_0x567c59;if(_0x148762>=0x1*-0x63+-0x7b*0x39+-0x223*-0xd){for(let _0x3caefa=-0x1*-0x246a+0x1*-0x29d+-0x21cd*0x1;_0x3caefa<_0xf5d47['length'];++_0x3caefa)_0x8b02f8=_0xf5d47[_0x3caefa],_0x301894=_0x26d89a[_0x3caefa],_0x567c59=_0x301894['value'],Ht['set'](_0x567c59,_0x8b02f8,_0x301894['target']['type']),_0x301894['blendCount'+'er']++;}else{if(_0x148762>-0x11*0x1d7+0x691+0x18b6){for(let _0x7a5df3=-0xfb3*0x2+0x335*0x1+0x1c31;_0x7a5df3<_0xf5d47['length'];++_0x7a5df3)_0x8b02f8=_0xf5d47[_0x7a5df3],_0x301894=_0x26d89a[_0x7a5df3],_0x567c59=_0x301894['value'],_0x301894['blendCount'+'er']===-0x5*0xb+0x1*0x13a6+-0x136f?Ht['set'](_0x567c59,_0x8b02f8,_0x301894['target']['type']):Ht['blend'](_0x567c59,_0x8b02f8,_0x148762,_0x301894['target']['type']),_0x301894['blendCount'+'er']++;}}}const _0x3d348=this['_targets'],_0x4afa03=this['_binder'];for(const _0x4f29dc in _0x3d348)if(_0x3d348['hasOwnProp'+'erty'](_0x4f29dc)){const _0x364688=_0x3d348[_0x4f29dc];if(_0x4afa03['animCompon'+'ent']&&_0x364688['target']['isTransfor'+'m']){const _0x4d9d32=_0x4afa03['animCompon'+'ent']['targets'][_0x4f29dc];_0x4d9d32['counter']===_0x4d9d32['layerCount'+'er']&&(_0x4d9d32['counter']=0x2a2*0x9+0x13*0x183+0x15*-0x27f),_0x4d9d32['path']||(_0x4d9d32['path']=_0x4f29dc,_0x4d9d32['baseValue']=_0x364688['target']['get'](),_0x4d9d32['setter']=_0x364688['target']['set']),_0x4d9d32['updateValu'+'e'](_0x4afa03['layerIndex'],_0x364688['value']),_0x4d9d32['counter']++;}else _0x364688['target']['set'](_0x364688['value']);_0x364688['blendCount'+'er']=0x27*-0x34+-0x8*-0x46b+-0x1b6c;}this['_binder']['update'](_0x4c80dd);}}class Hv{constructor(_0x2afad0){this['_events']=[..._0x2afad0],this['_events']['sort']((_0x455d45,_0x48448d)=>_0x455d45['time']-_0x48448d['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x356080,_0x1f56ce,_0x1934e6,_0xc27c9c,_0x28acd6,_0x1ab671=new Hv([])){this['_name']=_0x356080,this['_duration']=_0x1f56ce,this['_inputs']=_0x1934e6,this['_outputs']=_0xc27c9c,this['_curves']=_0x28acd6,this['_animEvent'+'s']=_0x1ab671;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0xd7b204){this['_animEvent'+'s']=_0xd7b204;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x72b1f8,_0x30a313){_0x30a313['_time']=_0x72b1f8;const _0x1162d6=this['_inputs'],_0x5424a0=this['_outputs'],_0x47380e=this['_curves'],_0x2650df=_0x30a313['_cache'],_0x4ae07a=_0x30a313['_results'];for(let _0x461cc8=0x22c4+-0x1267+-0x1*0x105d;_0x461cc8<_0x1162d6['length'];++_0x461cc8)_0x2650df[_0x461cc8]['update'](_0x72b1f8,_0x1162d6[_0x461cc8]['_data']);for(let _0x135c79=0x16b9+0xc*0x1e2+-0x2d51;_0x135c79<_0x47380e['length'];++_0x135c79){const _0x5c4341=_0x47380e[_0x135c79],_0x5e536b=_0x5424a0[_0x5c4341['_output']],_0x1fe0dd=_0x4ae07a[_0x135c79];_0x2650df[_0x5c4341['_input']]['eval'](_0x1fe0dd,_0x5c4341['_interpola'+'tion'],_0x5e536b);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0xf9362c,_0x50906d){_0x50906d=_0x50906d||'.';const _0x276f9f=function(_0x9332fd){return _0x9332fd['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x50906d,'g'),'\x5c'+_0x50906d);};return _0xf9362c['map'](_0x276f9f)['join'](_0x50906d);}static['splitPath'](_0x2c54bd,_0x3c34c6){_0x3c34c6=_0x3c34c6||'.';const _0x138fbb=[];let _0x3d1419='',_0x3dd3a5=0xd*0x2d8+-0x10c*-0xc+-0x3188;for(;_0x3dd3a5<_0x2c54bd['length'];){let _0x132b36=_0x2c54bd[_0x3dd3a5++];_0x132b36==='\x5c'&&_0x3dd3a5<_0x2c54bd['length']?(_0x132b36=_0x2c54bd[_0x3dd3a5++],_0x132b36==='\x5c'||_0x132b36===_0x3c34c6?_0x3d1419+=_0x132b36:_0x3d1419+='\x5c'+_0x132b36):_0x132b36===_0x3c34c6?(_0x138fbb['push'](_0x3d1419),_0x3d1419=''):_0x3d1419+=_0x132b36;}return _0x3d1419['length']>-0x4df+-0x27*0x32+-0x17*-0x8b&&_0x138fbb['push'](_0x3d1419),_0x138fbb;}static['encode'](_0x134fbf,_0x2d8d49,_0x4dbee4){return(Array['isArray'](_0x134fbf)?_0x134fbf['join']('/'):_0x134fbf)+'/'+_0x2d8d49+'/'+(Array['isArray'](_0x4dbee4)?_0x4dbee4['join']('/'):_0x4dbee4);}['resolve'](_0x52b048){return null;}['unresolve'](_0x4e5a06){}['update'](_0x332808){}}class xu{constructor(_0x4d9b40,_0x49266e,_0x234056,_0x4299e2){_0x4d9b40['set']?(this['_set']=_0x4d9b40['set'],this['_get']=_0x4d9b40['get']):this['_set']=_0x4d9b40,this['_type']=_0x49266e,this['_component'+'s']=_0x234056,this['_targetPat'+'h']=_0x4299e2,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x337*-0x9+0x1ee8+-0x3bca))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x25f0+0x268c+-0x4c6f*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x586+-0xe*0x2+0x5ac))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x210747){h(this,'_isPathInM'+'ask',(_0x12c909,_0x474231)=>{const _0x5927c3=this['_mask'][_0x12c909];if(_0x5927c3){if(_0x5927c3['children']||_0x474231&&_0x5927c3['value']!==!(0x1*-0x1bc5+0x1c1e+0x58*-0x1))return!(-0x156b*0x1+-0x1*0x22b9+0xe09*0x4);}else return!(-0x52*0x3+-0x37*0x4a+0x10dd);return!(-0x1*-0x1664+-0xdb9+-0x8aa);});if(this['graph']=_0x210747,!_0x210747)return;this['_mask']=null;const _0x3fbc47={},_0x2d7f06=function(_0x2c8193){_0x3fbc47[_0x2c8193['name']]=_0x2c8193;for(let _0xb6f18b=-0x1d*0x41+0x74*0x30+-0x1d*0x7f;_0xb6f18b<_0x2c8193['children']['length'];++_0xb6f18b)_0x2d7f06(_0x2c8193['children'][_0xb6f18b]);};_0x2d7f06(_0x210747),this['nodes']=_0x3fbc47,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x1e7852=function(_0x47a1e4){let _0x42e3fb=_0x47a1e4;for(;_0x42e3fb&&!(_0x42e3fb instanceof lt);)_0x42e3fb=_0x42e3fb['parent'];let _0xf8808c;return _0x42e3fb&&(_0x42e3fb['render']?_0xf8808c=_0x42e3fb['render']['meshInstan'+'ces']:_0x42e3fb['model']&&(_0xf8808c=_0x42e3fb['model']['meshInstan'+'ces'])),_0xf8808c;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x460cd5){const _0x43f368=_0x460cd5['localPosit'+'ion'],_0x294119=function(_0x48874f){_0x43f368['set'](..._0x48874f);};return Sr['createAnim'+'Target'](_0x294119,'vector',0xbe1+0x27b+-0xe59,_0x460cd5,'localPosit'+'ion');},'localRotation':function(_0x410ff3){const _0x4b248c=_0x410ff3['localRotat'+'ion'],_0x508f7c=function(_0xa172a3){_0x4b248c['set'](..._0xa172a3);};return Sr['createAnim'+'Target'](_0x508f7c,'quaternion',-0x198d+0x6*0x1a9+-0x2f*-0x55,_0x410ff3,'localRotat'+'ion');},'localScale':function(_0x5063a7){const _0x4eba20=_0x5063a7['localScale'],_0x460a12=function(_0x58648a){_0x4eba20['set'](..._0x58648a);};return Sr['createAnim'+'Target'](_0x460a12,'vector',-0x22f4+0x9ce+-0x1929*-0x1,_0x5063a7,'localScale');},'weight':function(_0x332c08,_0x39d0c7){_0x39d0c7['indexOf']('name.')===0x2*-0xbcb+-0xe54+-0x1*-0x25ea?_0x39d0c7=_0x39d0c7['replace']('name.',''):_0x39d0c7=Number(_0x39d0c7);const _0x586061=_0x1e7852(_0x332c08);let _0x357b4c;if(_0x586061){for(let _0x1b98aa=0x112e+0x23a7+-0x34d5;_0x1b98aa<_0x586061['length'];++_0x1b98aa)if(_0x586061[_0x1b98aa]['node']['name']===_0x332c08['name']&&_0x586061[_0x1b98aa]['morphInsta'+'nce']){const _0x2c8cdb=_0x586061[_0x1b98aa]['morphInsta'+'nce'],_0x9cb966=_0x7ff12a=>{_0x2c8cdb['setWeight'](_0x39d0c7,_0x7ff12a[0x8d4+0x1af*0x14+-0x2a80]);};_0x357b4c||(_0x357b4c=[]),_0x357b4c['push'](_0x9cb966);}}if(_0x357b4c){const _0xc01284=_0x42a6a7=>{for(let _0x4884df=0x23eb+-0xb4d*-0x2+-0x47*0xd3;_0x4884df<_0x357b4c['length'];++_0x4884df)_0x357b4c[_0x4884df](_0x42a6a7);};return Sr['createAnim'+'Target'](_0xc01284,'number',-0x20cc+-0x2180+0xb*0x607,_0x332c08,'weight.'+_0x39d0c7);}return null;},'materialTexture':(_0x25b3eb,_0x4cebf8)=>{const _0x4d5e63=_0x1e7852(_0x25b3eb);if(_0x4d5e63){let _0x5b8691;for(let _0x3b0e8c=0x251e+0x1305+0x3823*-0x1;_0x3b0e8c<_0x4d5e63['length'];++_0x3b0e8c)if(_0x4d5e63[_0x3b0e8c]['node']['name']===_0x25b3eb['name']){_0x5b8691=_0x4d5e63[_0x3b0e8c];break;}if(_0x5b8691){const _0x225122=_0x4ac335=>{const _0x230f4e=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x4ac335[0x1f1c+0x235d*-0x1+0x441]);_0x230f4e&&_0x230f4e['resource']&&_0x230f4e['type']==='texture'&&(_0x5b8691['material'][_0x4cebf8]=_0x230f4e['resource'],_0x5b8691['material']['update']());};return Sr['createAnim'+'Target'](_0x225122,'vector',-0x102d*0x1+-0x175*0x6+0x18ec,_0x25b3eb,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x2f6861){if(!this['_mask'])return!(0x1*-0x2416+0x1f*-0xd+0x25a9);const _0x50ee0d=[_0x2f6861['entityPath'][-0x222*0x3+-0x1*0x1e16+0x247c],this['graph']['name']];for(let _0x4ddc00=-0x8ad+-0x1*-0xe53+-0x6*0xf1;_0x4ddc00<_0x50ee0d['length'];++_0x4ddc00){let _0x3eb178=_0x50ee0d[_0x4ddc00];if(this['_isPathInM'+'ask'](_0x3eb178,_0x2f6861['entityPath']['length']===-0x14e7+0x25b3*-0x1+-0x9*-0x683))return!(0x1315+0x444+-0x1759);for(let _0x31259c=0x24ce+-0x124f*0x2+0x1*-0x2f;_0x31259c<_0x2f6861['entityPath']['length'];_0x31259c++)if(_0x3eb178+='/'+_0x2f6861['entityPath'][_0x31259c],this['_isPathInM'+'ask'](_0x3eb178,_0x31259c===_0x2f6861['entityPath']['length']-(-0x1*-0x905+0x1295*-0x1+0x991*0x1)))return!(-0x13+0x7*0x27+-0x1*0xfe);}return!(0x1a2b+0x879+-0x22a3);}['findNode'](_0xe001d8){if(!this['_isPathAct'+'ive'](_0xe001d8))return null;let _0x3c76f3;if(this['graph']&&(_0x3c76f3=this['graph']['findByPath'](_0xe001d8['entityPath']),_0x3c76f3||(_0x3c76f3=this['graph']['findByPath'](_0xe001d8['entityPath']['slice'](-0xeb*0xd+-0x1*-0xea9+-0x2b9)))),!_0x3c76f3){_0x3c76f3=this['nodes'][_0xe001d8['entityPath'][_0xe001d8['entityPath']['length']-(-0x2660+0x7*-0x4bd+0x478c)]||''];const _0x866215=ra['encode'](_0xe001d8['entityPath'][_0xe001d8['entityPath']['length']-(0x61d+0x7af*0x3+-0x1*0x1d29)]||'','graph',_0xe001d8['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x866215]===0xb*-0x1a3+-0x1*-0x847+0x9bb&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x866215+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x866215])?this['visitedFal'+'lbackGraph'+'Paths'][_0x866215]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x866215]=-0x2*-0x6b2+0x2c*-0xb5+0x11b8;}return _0x3c76f3;}static['createAnim'+'Target'](_0x31a36b,_0x4bc24f,_0x5d003b,_0x598f7b,_0x447990,_0x2814ae){const _0x19eef5=ra['encode'](_0x598f7b['path'],_0x2814ae||'entity',_0x447990);return new xu(_0x31a36b,_0x4bc24f,_0x5d003b,_0x19eef5);}['resolve'](_0x56a618){const _0x33150e=ra['encode'](_0x56a618['entityPath'],_0x56a618['component'],_0x56a618['propertyPa'+'th']);let _0x4a8603=this['targetCach'+'e'][_0x33150e];if(_0x4a8603)return _0x4a8603;const _0x21fe11=this['findNode'](_0x56a618);if(!_0x21fe11)return null;const _0x985067=this['handlers'][_0x56a618['propertyPa'+'th']];return!_0x985067||(_0x4a8603=_0x985067(_0x21fe11),!_0x4a8603)?null:(this['targetCach'+'e'][_0x33150e]=_0x4a8603,this['nodeCounts'][_0x21fe11['path']]?this['nodeCounts'][_0x21fe11['path']]++:(this['activeNode'+'s']['push'](_0x21fe11),this['nodeCounts'][_0x21fe11['path']]=-0xe*-0x1fd+-0x115f*0x2+0x6e9),_0x4a8603);}['unresolve'](_0x4f68d7){if(_0x4f68d7['component']!=='graph')return;const _0x1d17bf=this['nodes'][_0x4f68d7['entityPath'][_0x4f68d7['entityPath']['length']-(-0x533*-0x1+-0xf91+0xa5f)]||''];if(this['nodeCounts'][_0x1d17bf['path']]--,this['nodeCounts'][_0x1d17bf['path']]===-0x1a34+-0x1c2*-0x11+-0x6*0x9d){const _0x297c65=this['activeNode'+'s'],_0x303ac6=_0x297c65['indexOf'](_0x1d17bf['node']),_0x46d537=_0x297c65['length'];_0x303ac6<_0x46d537-(0x1164+-0xc98+-0x4cb)&&(_0x297c65[_0x303ac6]=_0x297c65[_0x46d537-(-0xb09+-0x3ae+0xeb8)]),_0x297c65['pop']();}}['update'](_0x29c6e5){const _0x82f04a=this['activeNode'+'s'];for(let _0x3d6a28=-0x187d*0x1+-0x1f6*-0x11+0x3*-0x2f3;_0x3d6a28<_0x82f04a['length'];++_0x3d6a28)_0x82f04a[_0x3d6a28]['_dirtifyLo'+'cal']();}['assignMask'](_0x442e80){return _0x442e80!==this['_mask']?(this['_mask']=_0x442e80,!(0x2e*0x13+0x22dc+-0x2646)):!(0x2*-0x5cf+0x10*-0x235+-0x2d*-0x10b);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(0x3a1+0x44b+-0x1a*0x4e)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x198e*-0x1+-0x2f9*-0x2+0x139c),h(this,'blending',!(-0x633+0x2444+-0x1e10)),h(this,'blendSpeed',0x8f*0x35+0x41*-0x1f+-0x34*0x6b),h(this,'activate',!(-0xd*-0xfd+-0x2*-0x1286+-0xf1*0x35)),h(this,'speed',0x139b+-0x2627+0x3*0x62f);}set['animations'](_0x43d936){this['_animation'+'s']=_0x43d936,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x2e57c4){const _0x528c1f=this['_assets'];if(_0x528c1f&&_0x528c1f['length']){for(let _0x2d51a5=-0x175*0xa+-0x8a5+0x1737;_0x2d51a5<_0x528c1f['length'];_0x2d51a5++)if(_0x528c1f[_0x2d51a5]){const _0x5c10a2=this['system']['app']['assets']['get'](_0x528c1f[_0x2d51a5]);if(_0x5c10a2){_0x5c10a2['off']('change',this['onAssetCha'+'nged'],this),_0x5c10a2['off']('remove',this['onAssetRem'+'oved'],this);const _0x346853=this['animations'+'Index'][_0x5c10a2['id']];this['currAnim']===_0x346853&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x346853],delete this['animations'+'Index'][_0x5c10a2['id']];}}}this['_assets']=_0x2e57c4;const _0x4bb881=_0x2e57c4['map'](_0xdb2df3=>_0xdb2df3 instanceof pe?_0xdb2df3['id']:_0xdb2df3);this['loadAnimat'+'ionAssets'](_0x4bb881);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3e2a52){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3e2a52,this['skeleton']['addTime'](0x53*0x15+0x2317+-0xad*0x3e),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0xf48e74=this['animEvalua'+'tor']['clips'];for(let _0x30f67d=0x5*-0x3cd+-0x255d+-0x1a*-0x22b;_0x30f67d<_0xf48e74['length'];++_0x30f67d)_0xf48e74[_0x30f67d]['time']=_0x3e2a52;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x5d4d9b=this['animEvalua'+'tor']['clips'];if(_0x5d4d9b['length']>0x116d+0x10fe+-0x226b)return _0x5d4d9b[_0x5d4d9b['length']-(0x219e+-0x197c+0x1*-0x821)]['time'];}return 0x7ec+0x19*0x77+-0x138b;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0xac3+-0x5*-0x43+-0xc12);}set['loop'](_0x18de61){if(this['_loop']=_0x18de61,this['skeleton']&&(this['skeleton']['looping']=_0x18de61),this['animEvalua'+'tor']){for(let _0x1c06e5=-0x115*-0xb+-0x15fb+0x3*0x35c;_0x1c06e5<this['animEvalua'+'tor']['clips']['length'];++_0x1c06e5)this['animEvalua'+'tor']['clips'][_0x1c06e5]['loop']=_0x18de61;}}get['loop'](){return this['_loop'];}['play'](_0x16af41,_0x1625a4=0x13fb+-0xd*-0x11b+-0x1*0x225a){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x16af41]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x16af41+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x16af41,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x4f4cd7=this['animations'][this['prevAnim']],_0x44c18c=this['animations'][this['currAnim']];if(this['blending']=_0x1625a4>0x250a*-0x1+-0x1*0x355+0x109*0x27&&!!this['prevAnim'],this['blending']&&(this['blend']=0x21d+-0x3d*-0x8e+-0x1*0x23f3,this['blendSpeed']=(0xb64+0x25f7+-0x315a*0x1)/_0x1625a4),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x4f4cd7,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x44c18c):this['skeleton']['animation']=_0x44c18c),this['animEvalua'+'tor']){const _0x3ad0b0=this['animEvalua'+'tor'];if(this['blending']){for(;_0x3ad0b0['clips']['length']>0x21d8+0x1b10+0x3ce7*-0x1;)_0x3ad0b0['removeClip'](0xd7f+-0x109f*0x2+0x13bf);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x54e940=new Dh(this['animations'][this['currAnim']],0x2072+-0x29f+-0x1fd*0xf,-0xa7d+-0xb*-0x19e+-0x3a6*0x2,!(0x20ea+-0x1d22+-0x3c8),this['loop']);_0x54e940['name']=this['currAnim'],_0x54e940['blendWeigh'+'t']=this['blending']?0x503*-0x1+0x44*-0x72+0x5*0x70f:-0x15*0x7+-0x6cb+-0x1*-0x75f,_0x54e940['reset'](),this['animEvalua'+'tor']['addClip'](_0x54e940);}}this['playing']=!(0x32a+-0x21e5+0x1ebb*0x1);}}['getAnimati'+'on'](_0xce47c4){return this['animations'][_0xce47c4];}['setModel'](_0x42e7e8){_0x42e7e8!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x42e7e8,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x4f0716=this['entity']['model'];if(_0x4f0716){const _0x51c640=_0x4f0716['model'];_0x51c640&&_0x51c640!==this['model']&&this['setModel'](_0x51c640);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x544a1e=Object['keys'](this['_animation'+'s']);_0x544a1e['length']>0x6a3*0x1+-0xc2b+0x18*0x3b&&this['play'](_0x544a1e[0x1c82+-0x22c7+0x645]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x27e048=this['model'],_0x5a5241=this['animations'];let _0x45af16=!(-0xd48+0x1d*0x24+0x1*0x935),_0x56486a=!(-0x1a85+-0xa7*-0x2b+-0x187);for(const _0x52176d in _0x5a5241)_0x5a5241['hasOwnProp'+'erty'](_0x52176d)&&(_0x5a5241[_0x52176d]['constructo'+'r']===Qi?_0x56486a=!(-0x11*-0x67+0x1*-0x99e+0x4f*0x9):_0x45af16=!(-0x157*-0x1+-0xfc*-0x1+-0x253));const _0x467066=_0x27e048['getGraph']();_0x45af16?(this['fromSkel']=new Sf(_0x467066),this['toSkel']=new Sf(_0x467066),this['skeleton']=new Sf(_0x467066),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x467066)):_0x56486a&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0xc294a0){if(!_0xc294a0||!_0xc294a0['length'])return;const _0x5ba46e=this['system']['app']['assets'],_0x1a8ef8=_0x5aa75c=>{if(_0x5aa75c['resources']['length']>-0x1544+0x24b3*0x1+-0xf6e){for(let _0x388b57=0x88*-0x2+-0x535+0x645;_0x388b57<_0x5aa75c['resources']['length'];_0x388b57++)this['animations'][_0x5aa75c['resources'][_0x388b57]['name']]=_0x5aa75c['resources'][_0x388b57],this['animations'+'Index'][_0x5aa75c['id']]=_0x5aa75c['resources'][_0x388b57]['name'];}else this['animations'][_0x5aa75c['name']]=_0x5aa75c['resource'],this['animations'+'Index'][_0x5aa75c['id']]=_0x5aa75c['name'];this['animations']=this['animations'];},_0x1727ab=_0x3b9f52=>{_0x3b9f52['off']('change',this['onAssetCha'+'nged'],this),_0x3b9f52['on']('change',this['onAssetCha'+'nged'],this),_0x3b9f52['off']('remove',this['onAssetRem'+'oved'],this),_0x3b9f52['on']('remove',this['onAssetRem'+'oved'],this),_0x3b9f52['resource']?_0x1a8ef8(_0x3b9f52):(_0x3b9f52['once']('load',_0x1a8ef8,this),this['enabled']&&this['entity']['enabled']&&_0x5ba46e['load'](_0x3b9f52));};for(let _0x13bedd=0x186e+0x23e5+-0x3c53*0x1,_0x4ad155=_0xc294a0['length'];_0x13bedd<_0x4ad155;_0x13bedd++){const _0x163613=_0x5ba46e['get'](_0xc294a0[_0x13bedd]);_0x163613?_0x1727ab(_0x163613):_0x5ba46e['on']('add:'+_0xc294a0[_0x13bedd],_0x1727ab);}}['onAssetCha'+'nged'](_0x8bb107,_0x48e90c,_0x37e2d6,_0x356b25){if(_0x48e90c==='resource'||_0x48e90c==='resources'){if(_0x48e90c==='resources'&&_0x37e2d6&&_0x37e2d6['length']===0x1b0f+0x9fe+0x5*-0x769&&(_0x37e2d6=null),_0x37e2d6){let _0x22002a=!(-0x8fc+-0x2d5*0x2+0xea7);if(_0x37e2d6['length']>0x20e5+-0x1823+-0xf9*0x9){if(_0x356b25&&_0x356b25['length']>-0x1753+0xa97*-0x2+-0xd3*-0x36){for(let _0x407e0d=-0x22dc+-0x2*0x98f+0x35fa*0x1;_0x407e0d<_0x356b25['length'];_0x407e0d++)delete this['animations'][_0x356b25[_0x407e0d]['name']];}else delete this['animations'][_0x8bb107['name']];_0x22002a=!(0xca9+0x1*0x1693+-0x1*0x233b);for(let _0xcdb65a=0x2155+0x23d+-0x2392;_0xcdb65a<_0x37e2d6['length'];_0xcdb65a++)this['animations'][_0x37e2d6[_0xcdb65a]['name']]=_0x37e2d6[_0xcdb65a],!_0x22002a&&this['currAnim']===_0x37e2d6[_0xcdb65a]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x22002a=!(0xbe+0x102+-0x20*0xe),this['play'](_0x37e2d6[_0xcdb65a]['name']));_0x22002a||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x356b25&&_0x356b25['length']>0x1cc5*-0x1+0x125c+-0x2b*-0x3e){for(let _0x3375a0=-0x1*-0x67a+0x26db+0x37*-0xd3;_0x3375a0<_0x356b25['length'];_0x3375a0++)delete this['animations'][_0x356b25[_0x3375a0]['name']];}this['animations'][_0x8bb107['name']]=_0x37e2d6[-0x6c6+0x1*-0xf61+0x1627]||_0x37e2d6,_0x22002a=!(-0x5c6+0x713+-0x14c),this['currAnim']===_0x8bb107['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x22002a=!(-0x1*-0x4fc+-0x1f4b+0x1a4f),this['play'](_0x8bb107['name'])),_0x22002a||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x8bb107['id']]=_0x8bb107['name'];}else{if(_0x356b25['length']>0xbb6+-0x1140+0xb*0x81){for(let _0x3ac172=-0x1722+-0x430*0x4+0x27e2*0x1;_0x3ac172<_0x356b25['length'];_0x3ac172++)delete this['animations'][_0x356b25[_0x3ac172]['name']],this['currAnim']===_0x356b25[_0x3ac172]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x8bb107['name']],this['currAnim']===_0x8bb107['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x8bb107['id']];}}}['onAssetRem'+'oved'](_0x1f3b59){if(_0x1f3b59['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x1f3b59['resources']['length']>-0x1*-0x1021+-0x1127*0x2+0x122e){for(let _0x1c55a1=0x2175+0x7af*-0x2+-0x1217;_0x1c55a1<_0x1f3b59['resources']['length'];_0x1c55a1++)delete this['animations'][_0x1f3b59['resources'][_0x1c55a1]['name']],this['currAnim']===_0x1f3b59['resources'][_0x1c55a1]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x1f3b59['name']],this['currAnim']===_0x1f3b59['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x1f3b59['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x925+0x9d*-0x3+0xafd),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x2274+0x1805+-0xa6f*-0x1,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x16ee5d=-0x1d8e+-0x3*-0x321+0x142b;_0x16ee5d<this['animEvalua'+'tor']['clips']['length'];++_0x16ee5d)this['animEvalua'+'tor']['clips'][_0x16ee5d]['stop']();this['animEvalua'+'tor']['update'](0x100b+-0x7c0+-0xb*0xc1),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x2a9ec9=this['assets'],_0x4d57ac=this['system']['app']['assets'];if(_0x2a9ec9)for(let _0xfb1250=-0x3e*-0x60+0x1e81*-0x1+0x741,_0xf66dfa=_0x2a9ec9['length'];_0xfb1250<_0xf66dfa;_0xfb1250++){let _0x508849=_0x2a9ec9[_0xfb1250];_0x508849 instanceof pe||(_0x508849=_0x4d57ac['get'](_0x508849)),_0x508849&&!_0x508849['resource']&&_0x4d57ac['load'](_0x508849);}if(this['activate']&&!this['currAnim']){const _0x45526d=Object['keys'](this['animations']);_0x45526d['length']>-0x402+-0x17c9*0x1+0x1bcb&&this['play'](_0x45526d[0x468+-0x1*-0x25b1+-0x33d*0xd]);}}['onBeforeRe'+'move'](){for(let _0x1b70a4=0x5*0x2fe+-0x176+-0xd80;_0x1b70a4<this['assets']['length'];_0x1b70a4++){let _0x3de4b8=this['assets'][_0x1b70a4];typeof _0x3de4b8=='number'&&(_0x3de4b8=this['system']['app']['assets']['get'](_0x3de4b8)),_0x3de4b8&&(_0x3de4b8['off']('change',this['onAssetCha'+'nged'],this),_0x3de4b8['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x740e52){if(this['blending']&&(this['blend']+=_0x740e52*this['blendSpeed'],this['blend']>=0x13d9+-0x1ad7+0x6ff&&(this['blend']=-0xaf6*-0x1+0xdea+0x1*-0x18df)),this['playing']){const _0x59d17b=this['skeleton'];if(_0x59d17b!==null&&this['model']!==null){if(this['blending'])_0x59d17b['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x1c0023=_0x740e52*this['speed'];_0x59d17b['addTime'](_0x1c0023),this['speed']>-0x1964+-0xd*-0x1ce+0x1ee&&_0x59d17b['_time']===_0x59d17b['animation']['duration']&&!this['loop']?this['playing']=!(0x21*-0x4a+0x92c*0x3+-0x11f9):this['speed']<-0x25f*-0x8+-0x1efd+-0xc05*-0x1&&_0x59d17b['_time']===-0x3a*-0x25+0x201a+-0x287c&&!this['loop']&&(this['playing']=!(0x1*-0x24ad+-0x1*0x11c0+-0x366e*-0x1));}this['blending']&&this['blend']===-0x7db+0xf6*0x5+0x30e&&(_0x59d17b['animation']=this['toSkel']['animation']),_0x59d17b['updateGrap'+'h']();}}const _0x40496c=this['animEvalua'+'tor'];if(_0x40496c){for(let _0x3814fd=-0xcbf*0x1+-0x2132+0x2df1;_0x3814fd<_0x40496c['clips']['length'];++_0x3814fd){const _0x2a3793=_0x40496c['clips'][_0x3814fd];_0x2a3793['speed']=this['speed'],this['playing']?_0x2a3793['resume']():_0x2a3793['pause']();}this['blending']&&_0x40496c['clips']['length']>-0x37a+-0x569+0x8e4*0x1&&(_0x40496c['clips'][-0x1*0x153e+0x1756+0x1*-0x217]['blendWeigh'+'t']=this['blend']),_0x40496c['update'](_0x740e52);}this['blending']&&this['blend']===-0x1a95+0x4b5*0x1+0x15e1&&(this['blending']=!(0x1b36+0xd6b+-0x19*0x1a0));}}class LL{constructor(){this['enabled']=!(-0x155e+0xe*-0x5f+0xaa*0x28);}}const Tu=['enabled'];class RL extends ct{constructor(_0x2faaa8){super(_0x2faaa8),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xbdd221,_0x5af90e,_0x5f1608){_0x5f1608=['activate','enabled','loop','speed','assets'];for(const _0x429b55 of _0x5f1608)_0x5af90e['hasOwnProp'+'erty'](_0x429b55)&&(_0xbdd221[_0x429b55]=_0x5af90e[_0x429b55]);super['initialize'+'ComponentD'+'ata'](_0xbdd221,_0x5af90e,Tu);}['cloneCompo'+'nent'](_0x5608b7,_0x34e60c){this['addCompone'+'nt'](_0x34e60c,{}),_0x34e60c['animation']['assets']=_0x5608b7['animation']['assets']['slice'](),_0x34e60c['animation']['speed']=_0x5608b7['animation']['speed'],_0x34e60c['animation']['loop']=_0x5608b7['animation']['loop'],_0x34e60c['animation']['activate']=_0x5608b7['animation']['activate'],_0x34e60c['animation']['enabled']=_0x5608b7['animation']['enabled'];const _0x3fd0b1={},_0x518e06=_0x5608b7['animation']['animations'];for(const _0x20ca7a in _0x518e06)_0x518e06['hasOwnProp'+'erty'](_0x20ca7a)&&(_0x3fd0b1[_0x20ca7a]=_0x518e06[_0x20ca7a]);_0x34e60c['animation']['animations']=_0x3fd0b1;const _0x4a82b5={},_0x570ea0=_0x5608b7['animation']['animations'+'Index'];for(const _0x3ebe84 in _0x570ea0)_0x570ea0['hasOwnProp'+'erty'](_0x3ebe84)&&(_0x4a82b5[_0x3ebe84]=_0x570ea0[_0x3ebe84]);return _0x34e60c['animation']['animations'+'Index']=_0x4a82b5,_0x34e60c['animation'];}['onBeforeRe'+'move'](_0x17b59c,_0x52a33d){_0x52a33d['onBeforeRe'+'move']();}['onUpdate'](_0x5d2043){const _0x36b026=this['store'];for(const _0x3bf292 in _0x36b026)if(_0x36b026['hasOwnProp'+'erty'](_0x3bf292)){const _0x4bf916=_0x36b026[_0x3bf292];_0x4bf916['data']['enabled']&&_0x4bf916['entity']['enabled']&&_0x4bf916['entity']['animation']['update'](_0x5d2043);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x5b0673,_0x43715f,_0x10f20a,_0x599535,_0x5570b1=0x10a4+0x40*0x7d+-0x2fe3){this['_state']=_0x5b0673,this['_parent']=_0x43715f,this['_name']=_0x10f20a,Array['isArray'](_0x599535)?(this['_point']=new J(_0x599535[0xb*0xb0+0x7a6*0x3+-0x1e82],_0x599535[-0xa5d*0x1+0x1f8+0x866]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x599535,this['_pointLeng'+'th']=_0x599535),this['_speed']=_0x5570b1,this['_weightedS'+'peed']=-0x1*-0x10e1+0x12*-0x76+0x3d*-0x24,this['_weight']=0x1fb9+-0xa*0x90+-0x1a18,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0xc3fcfe){this['_weight']=_0xc3fcfe;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x1e4fee=this['_state']['totalWeigh'+'t'];return _0x1e4fee===-0x958+0x59*-0x19+0x1209?0xac+0x648+-0x6f4:this['weight']/_0x1e4fee;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x4a7cf8){this['_weightedS'+'peed']=_0x4a7cf8;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x4a07ad){this['_animTrack']=_0x4a07ad;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x5946d8,_0x4104de,_0x3c0a2d,_0x41f872,_0x11a5b2,_0x51d4a7,_0x1c11fa,_0x12e99d,_0x763f72){super(_0x5946d8,_0x4104de,_0x3c0a2d,_0x41f872),this['_parameter'+'s']=_0x11a5b2,this['_parameter'+'Values']=new Array(_0x11a5b2['length']),this['_children']=[],this['_findParam'+'eter']=_0x763f72,this['_syncAnima'+'tions']=_0x1c11fa!==!(-0x2597*-0x1+-0x26*0x43+-0x1ba4),this['_pointCach'+'e']={};for(let _0x310a90=0x1*0x110+0x2*-0x7c9+-0x741*-0x2;_0x310a90<_0x51d4a7['length'];_0x310a90++){const _0x4324a1=_0x51d4a7[_0x310a90];_0x4324a1['children']?this['_children']['push'](_0x12e99d(_0x4324a1['type'],_0x5946d8,this,_0x4324a1['name'],-0x1*-0x11a1+-0x377*-0x8+0x8*-0x5ab,_0x4324a1['parameter']?[_0x4324a1['parameter']]:_0x4324a1['parameters'],_0x4324a1['children'],_0x4324a1['syncAnimat'+'ions'],_0x12e99d,_0x763f72)):this['_children']['push'](new ml(_0x5946d8,this,_0x4324a1['name'],_0x4324a1['point'],_0x4324a1['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x4bcf43){for(let _0x59d18a=-0xe75+-0x1ab9+0x292e;_0x59d18a<this['_children']['length'];_0x59d18a++)if(this['_children'][_0x59d18a]['name']===_0x4bcf43)return this['_children'][_0x59d18a];return null;}['updatePara'+'meterValue'+'s'](){let _0x433ef3=!(-0x1bd9+0x161*-0x9+-0x2*-0x1421);for(let _0x402a74=0x2*0x137e+0x133*0x6+0x17*-0x202;_0x402a74<this['_parameter'+'Values']['length'];_0x402a74++){const _0x290517=this['_findParam'+'eter'](this['_parameter'+'s'][_0x402a74])['value'];this['_parameter'+'Values'][_0x402a74]!==_0x290517&&(this['_parameter'+'Values'][_0x402a74]=_0x290517,_0x433ef3=!(-0xf*0x5+0xb52+0x22*-0x53));}return _0x433ef3;}['getNodeWei'+'ghtedDurat'+'ion'](_0x48a39c){return this['_children'][_0x48a39c]['animTrack']['duration']/this['_children'][_0x48a39c]['speedMulti'+'plier']*this['_children'][_0x48a39c]['weight'];}['getNodeCou'+'nt'](){let _0xaeda26=0xd79*0x2+-0x1*-0xd4b+-0x283d;for(let _0x34b167=0x11e5+-0x2396+0x11b1;_0x34b167<this['_children']['length'];_0x34b167++)this['_children'][_0x34b167]['constructo'+'r']===Jn?_0xaeda26+=this['_children'][_0x34b167]['getNodeCou'+'nt']():_0xaeda26++;return _0xaeda26;}}class OL extends Jn{constructor(_0x58e1d7,_0x29d9b9,_0x211e90,_0x264f00,_0x28d0da,_0x4740f9,_0x4275d1,_0x21f962,_0x500429){_0x4740f9['sort']((_0x28da02,_0x4beb63)=>_0x28da02['point']-_0x4beb63['point']),super(_0x58e1d7,_0x29d9b9,_0x211e90,_0x264f00,_0x28d0da,_0x4740f9,_0x4275d1,_0x21f962,_0x500429);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3a960c=-0x18*0x18e+-0x39*-0x7+0x23c1;this['_children'][-0x1*0x21f1+0xf8e*-0x1+0x317f]['weight']=-0x17*0xfb+0xd22+0x96b;for(let _0x291114=-0xb55+0x5*-0x630+0x2a45;_0x291114<this['_children']['length'];_0x291114++){const _0x3ebfc3=this['_children'][_0x291114];if(_0x291114!==this['_children']['length']-(-0x1c9f+0x1f*-0x83+0x2c7d)){const _0x353287=this['_children'][_0x291114+(0xc*0x58+0x1*-0x1e75+0x2*0xd2b)];if(_0x3ebfc3['point']===_0x353287['point'])_0x3ebfc3['weight']=-0x100d+0x3*-0x733+0x12d3*0x2+0.5,_0x353287['weight']=-0x95d+-0x7*0x1ca+0x15e3+0.5;else{if(Y['between'](this['_parameter'+'Values'][0x261b+-0x1374+-0x12a7],_0x3ebfc3['point'],_0x353287['point'],!(-0x1be9+0x1053+0xb96))){const _0x3cda10=Math['abs'](_0x3ebfc3['point']-_0x353287['point']),_0x37fa8e=Math['abs'](_0x3ebfc3['point']-this['_parameter'+'Values'][-0x2671+0x15fb+0x1076]),_0x32bf16=(_0x3cda10-_0x37fa8e)/_0x3cda10;_0x3ebfc3['weight']=_0x32bf16,_0x353287['weight']=-0x1*-0x12cb+0x10dd+-0x23a7-_0x32bf16;}else _0x353287['weight']=-0x17b*-0x1+-0x2391+0x2*0x110b;}}this['_syncAnima'+'tions']&&(_0x3a960c+=_0x3ebfc3['animTrack']['duration']/_0x3ebfc3['absoluteSp'+'eed']*_0x3ebfc3['weight']);}if(this['_syncAnima'+'tions'])for(let _0x591c17=0x144b+-0xa21*0x1+0xa2a*-0x1;_0x591c17<this['_children']['length'];_0x591c17++){const _0x1c0534=this['_children'][_0x591c17];_0x1c0534['weightedSp'+'eed']=_0x1c0534['animTrack']['duration']/_0x1c0534['absoluteSp'+'eed']/_0x3a960c;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x55698d,_0x2aa03){const _0x4b5604=''+_0x55698d+_0x2aa03;return this['_pointCach'+'e'][_0x4b5604]||(this['_pointCach'+'e'][_0x4b5604]=this['_children'][_0x2aa03]['point']['clone']()['sub'](this['_children'][_0x55698d]['point'])),this['_pointCach'+'e'][_0x4b5604];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1b1fb4,_0x1fc965;ki['_p']['set'](...this['_parameter'+'Values']),_0x1b1fb4=-0x35b+0x219d+-0x1e42,_0x1fc965=0x1e5*-0x1+-0x31*0x9b+0x1f90;for(let _0x5a05cf=-0x1a4f+-0x21b5+0x3c04;_0x5a05cf<this['_children']['length'];_0x5a05cf++){const _0x45b392=this['_children'][_0x5a05cf],_0x29cda9=_0x45b392['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x29cda9);let _0x2f5007=Number['MAX_VALUE'];for(let _0x8bbf11=-0x35*-0xd+-0x35*-0xad+0x5d*-0x6a;_0x8bbf11<this['_children']['length'];_0x8bbf11++){if(_0x5a05cf===_0x8bbf11)continue;const _0x21dc91=this['pointDista'+'nceCache'](_0x5a05cf,_0x8bbf11),_0x35c996=Y['clamp'](-0x2638+-0x1618+0x3*0x141b-ki['_pip']['dot'](_0x21dc91)/_0x21dc91['lengthSq'](),0x2*-0x3d3+0x3*0x53+0x6ad,0x9*-0x295+-0x4*0x8b1+-0x9*-0x672);_0x35c996<_0x2f5007&&(_0x2f5007=_0x35c996);}_0x45b392['weight']=_0x2f5007,_0x1b1fb4+=_0x2f5007,this['_syncAnima'+'tions']&&(_0x1fc965+=_0x45b392['animTrack']['duration']/_0x45b392['absoluteSp'+'eed']*_0x45b392['weight']);}for(let _0x485a3c=0x445+-0xc24+0x7df;_0x485a3c<this['_children']['length'];_0x485a3c++){const _0x2161d8=this['_children'][_0x485a3c];_0x2161d8['weight']=_0x2161d8['_weight']/_0x1b1fb4,this['_syncAnima'+'tions']&&(_0x2161d8['weightedSp'+'eed']=_0x2161d8['animTrack']['duration']/_0x2161d8['absoluteSp'+'eed']/_0x1fc965);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x8800ef,_0x522b51){const _0x378280=''+_0x8800ef+_0x522b51;return this['_pointCach'+'e'][_0x378280]||(this['_pointCach'+'e'][_0x378280]=new J((this['_children'][_0x522b51]['pointLengt'+'h']-this['_children'][_0x8800ef]['pointLengt'+'h'])/((this['_children'][_0x522b51]['pointLengt'+'h']+this['_children'][_0x8800ef]['pointLengt'+'h'])/(-0x587*-0x7+0x5*0xdf+0x1585*-0x2)),J['angleRad'](this['_children'][_0x8800ef]['point'],this['_children'][_0x522b51]['point'])*(0x2707+0x1*-0x1261+0x4*-0x529))),this['_pointCach'+'e'][_0x378280];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5390b9,_0x1995dc;Ui['_p']['set'](...this['_parameter'+'Values']);const _0xf2da69=Ui['_p']['length']();_0x5390b9=-0x2*-0xaff+-0x19f3+0x3f5,_0x1995dc=-0x14+-0x1881+0x1d*0xd9;for(let _0x594a7c=-0x21d1*-0x1+-0x1*0x1802+-0x9cf;_0x594a7c<this['_children']['length'];_0x594a7c++){const _0x213e61=this['_children'][_0x594a7c],_0x3be568=_0x213e61['point'],_0xe4e990=_0x213e61['pointLengt'+'h'];let _0x42ee01=Number['MAX_VALUE'];for(let _0x29c5fc=0x557*-0x6+0x8*-0x417+0x1596*0x3;_0x29c5fc<this['_children']['length'];_0x29c5fc++){if(_0x594a7c===_0x29c5fc)continue;const _0x116152=this['pointCache'](_0x594a7c,_0x29c5fc),_0x17bda7=this['_children'][_0x29c5fc]['pointLengt'+'h'];Ui['_pip']['set']((_0xf2da69-_0xe4e990)/((_0x17bda7+_0xe4e990)/(0xe*0x139+-0x1ccc+0xbb0)),J['angleRad'](_0x3be568,Ui['_p'])*(-0x1*0x2185+-0x23cc+0x4553));const _0x2a9fab=Y['clamp'](-0x5e3*0x1+-0x1fe5+-0x11*-0x239-Math['abs'](Ui['_pip']['dot'](_0x116152)/_0x116152['lengthSq']()),0x127d+-0x1*-0xd9a+-0x2017,0xfb4+-0x1a75+-0x1*-0xac2);_0x2a9fab<_0x42ee01&&(_0x42ee01=_0x2a9fab);}_0x213e61['weight']=_0x42ee01,_0x5390b9+=_0x42ee01,this['_syncAnima'+'tions']&&(_0x1995dc+=_0x213e61['animTrack']['duration']/_0x213e61['absoluteSp'+'eed']*_0x213e61['weight']);}for(let _0x512a84=0x10bf+-0x15c+-0xf63;_0x512a84<this['_children']['length'];_0x512a84++){const _0x3f6ff8=this['_children'][_0x512a84];if(_0x3f6ff8['weight']=_0x3f6ff8['_weight']/_0x5390b9,this['_syncAnima'+'tions']){const _0x3ff13b=_0x3f6ff8['animTrack']['duration']/_0x1995dc*_0x5390b9;_0x3f6ff8['weightedSp'+'eed']=_0x3f6ff8['absoluteSp'+'eed']*_0x3ff13b;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1acc14=-0x9f5*-0x1+-0xf6e+0x579,_0x5e0653=0xd*0xd+-0x1*0x2011+0x1f68;for(let _0x152424=0x2589+0x1cae+-0x4237;_0x152424<this['_children']['length'];_0x152424++)if(_0x1acc14+=Math['max'](this['_parameter'+'Values'][_0x152424],-0x584+-0x2*-0x4f1+-0x45e),this['_syncAnima'+'tions']){const _0x342ea1=this['_children'][_0x152424];_0x5e0653+=_0x342ea1['animTrack']['duration']/_0x342ea1['absoluteSp'+'eed']*_0x342ea1['weight'];}for(let _0x40430f=0x1289+0x1*0x1eb+-0x77*0x2c;_0x40430f<this['_children']['length'];_0x40430f++){const _0x4114c9=this['_children'][_0x40430f],_0x58ab1e=Math['max'](this['_parameter'+'Values'][_0x40430f],0x2060+0xbb7+-0x2c17);_0x1acc14?(_0x4114c9['weight']=_0x58ab1e/_0x1acc14,this['_syncAnima'+'tions']&&(_0x4114c9['weightedSp'+'eed']=_0x4114c9['animTrack']['duration']/_0x4114c9['absoluteSp'+'eed']/_0x5e0653)):(_0x4114c9['weight']=-0x2569+-0x19a+0x2703,this['_syncAnima'+'tions']&&(_0x4114c9['weightedSp'+'eed']=0x17cb*-0x1+0x1154+0x677));}}}class Fg{constructor(_0x3c42ad,_0x3a2b47,_0x527637=-0x5fb+0x23b6*0x1+-0x5*0x5f2,_0x5a8594=!(-0x110b*0x2+0xbd9+0x163d),_0x8a1a1d){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x3c42ad,this['_name']=_0x3a2b47,this['_speed']=_0x527637,this['_loop']=_0x5a8594,this['_hasAnimat'+'ions']=!(0x1130+-0xc6d*-0x3+-0x3676),_0x8a1a1d?this['_blendTree']=this['_createTre'+'e'](_0x8a1a1d['type'],this,null,_0x3a2b47,-0x1*0x22b1+-0x1938+0x1*0x3bea,_0x8a1a1d['parameter']?[_0x8a1a1d['parameter']]:_0x8a1a1d['parameters'],_0x8a1a1d['children'],_0x8a1a1d['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x3a2b47,-0x1f36+0x1*0xd53+0x11e4,_0x527637));}['_createTre'+'e'](_0x276a5c,_0x1a872d,_0x3095f3,_0x498171,_0x33e27e,_0x149aba,_0x3fa0f7,_0x5e75be,_0x3f9b37,_0x1c8013){switch(_0x276a5c){case CL:return new OL(_0x1a872d,_0x3095f3,_0x498171,_0x33e27e,_0x149aba,_0x3fa0f7,_0x5e75be,_0x3f9b37,_0x1c8013);case ML:return new wu(_0x1a872d,_0x3095f3,_0x498171,_0x33e27e,_0x149aba,_0x3fa0f7,_0x5e75be,_0x3f9b37,_0x1c8013);case PL:return new Eu(_0x1a872d,_0x3095f3,_0x498171,_0x33e27e,_0x149aba,_0x3fa0f7,_0x5e75be,_0x3f9b37,_0x1c8013);case DL:return new FL(_0x1a872d,_0x3095f3,_0x498171,_0x33e27e,_0x149aba,_0x3fa0f7,_0x5e75be,_0x3f9b37,_0x1c8013);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x276a5c);}['_getNodeFr'+'omPath'](_0x241965){let _0x575e5c=this['_blendTree'];for(let _0x59dc42=-0x1c1f+-0x1e49*-0x1+0x1*-0x229;_0x59dc42<_0x241965['length'];_0x59dc42++)_0x575e5c=_0x575e5c['getChild'](_0x241965[_0x59dc42]);return _0x575e5c;}['addAnimati'+'on'](_0x5b96dd,_0x324e3c){const _0x4098bc=_0x5b96dd['join']('.'),_0x2e81d2=this['_animation'+'List']['findIndex'](_0x802962=>_0x802962['path']===_0x4098bc);if(_0x2e81d2>=0x1531+0x16cf+-0x2*0x1600)this['_animation'+'List'][_0x2e81d2]['animTrack']=_0x324e3c;else{const _0x9f86e2=this['_getNodeFr'+'omPath'](_0x5b96dd);_0x9f86e2['animTrack']=_0x324e3c,this['_animation'+'List']['push'](_0x9f86e2);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x26c2+0x145e+-0x2c*-0x6b&&this['_animation'+'List']['every'](_0x61c4bc=>_0x61c4bc['animTrack']&&_0x61c4bc['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x4d7558){this['_animation'+'List']=_0x4d7558,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x5a6bda){this['_speed']=_0x5a6bda;}get['speed'](){return this['_speed'];}set['loop'](_0x5590df){this['_loop']=_0x5590df;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x2329+0x1*-0x26ef+0x4a19:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x109a+0x1*-0x689+-0xa10)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x1273+-0x1cce+-0x1*-0x2f41){const _0x144bd4=this['name']+'.'+this['animations'][-0x1846+0x570+0x2*0x96b]['animTrack']['name'],_0x5d3067=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x144bd4);if(_0x5d3067)return _0x5d3067['loop'];}return!(-0x2011*-0x1+0x4*0x148+-0x8*0x4a6);}get['totalWeigh'+'t'](){let _0x4fbd94=-0xd*-0x1b1+0xb*0x36b+0x3a*-0x107;for(let _0x9dcf06=0xc7d+0xdcc*-0x2+0xf1b;_0x9dcf06<this['animations']['length'];_0x9dcf06++)_0x4fbd94+=this['animations'][_0x9dcf06]['weight'];return _0x4fbd94;}get['timelineDu'+'ration'](){let _0x1e008c=0xf2d+0xdb6*-0x2+0xc3f;for(let _0x3c4f04=0x1453+0x834+-0x1c87;_0x3c4f04<this['animations']['length'];_0x3c4f04++){const _0x8f4746=this['animations'][_0x3c4f04];_0x8f4746['animTrack']['duration']>_0x1e008c&&(_0x1e008c=_0x8f4746['animTrack']['duration']);}return _0x1e008c;}}class Lh{constructor({from:_0x572afe,to:_0x3628a5,time:_0x2f87c6=0x2dd+-0x26*-0x2+-0x1*0x329,priority:_0x2b2a0e=0x1ea9+-0x15b8+0x2fb*-0x3,conditions:_0x3c0f77=[],exitTime:_0x508ad7=null,transitionOffset:_0x12797b=null,interruptionSource:_0x17b73f=zv}){this['_from']=_0x572afe,this['_to']=_0x3628a5,this['_time']=_0x2f87c6,this['_priority']=_0x2b2a0e,this['_condition'+'s']=_0x3c0f77,this['_exitTime']=_0x508ad7,this['_transitio'+'nOffset']=_0x12797b,this['_interrupt'+'ionSource']=_0x17b73f;}get['from'](){return this['_from'];}set['to'](_0x1f6215){this['_to']=_0x1f6215;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0xf6a7ad,_0x3e842b,_0x474189,_0x3dd979,_0x195572,_0x14ee61,_0x11ff40){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0xb*-0xa1+-0x104c+0x1737),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x1252+0x100+-0x1352)),h(this,'_playing',!(-0xbf1+-0x1fe*0x5+0x15e8)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x76*0x36+0x52*-0x17+0x2043),h(this,'_totalTran'+'sitionTime',0x21e1+0x15b1+-0x3791),h(this,'_isTransit'+'ioning',!(-0x168+-0x1*-0x15e7+-0x147e)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',-0x1b29*-0x1+0x68*0x49+-0x38d1*0x1),h(this,'_timeInSta'+'teBefore',0x1*-0x6f2+-0xb6b+0x3*0x61f),h(this,'findParame'+'ter',_0x4192a8=>this['_findParam'+'eter'](_0x4192a8)),(this['_animEvalu'+'ator']=_0xf6a7ad,this['_eventHand'+'ler']=_0x195572,this['_findParam'+'eter']=_0x14ee61,this['_consumeTr'+'igger']=_0x11ff40);for(let _0x1ddf9d=-0x15c*-0x3+0x193c+-0x10*0x1d5;_0x1ddf9d<_0x3e842b['length'];_0x1ddf9d++)this['_states'][_0x3e842b[_0x1ddf9d]['name']]=new Fg(this,_0x3e842b[_0x1ddf9d]['name'],_0x3e842b[_0x1ddf9d]['speed'],_0x3e842b[_0x1ddf9d]['loop'],_0x3e842b[_0x1ddf9d]['blendTree']),this['_stateName'+'s']['push'](_0x3e842b[_0x1ddf9d]['name']);this['_transitio'+'ns']=_0x474189['map'](_0x345f17=>new Lh({..._0x345f17})),this['_activate']=_0x3dd979;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x9dbc93){this['_activeSta'+'teName']=_0x9dbc93;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x518fbf){this['_previousS'+'tateName']=_0x518fbf;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x40291c=!(0x1e22+0x1e01*-0x1+-0xb*0x3);for(let _0xdd7586=-0x987*-0x3+0x1*0x347+-0x1fdc;_0xdd7586<this['_stateName'+'s']['length'];_0xdd7586++)this['_states'][this['_stateName'+'s'][_0xdd7586]]['playable']||(_0x40291c=!(-0x2c4+0x3b*-0x1+0x3*0x100));return _0x40291c;}set['playing'](_0xae2f3d){this['_playing']=_0xae2f3d;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x4ae263=0x1*-0x2242+-0x1f*0xcd+0x3b15;for(let _0x5458f3=-0xfcc+-0x1*-0x134d+-0x12b*0x3;_0x5458f3<this['activeStat'+'eAnimation'+'s']['length'];_0x5458f3++){const _0x15d38f=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5458f3]['name']);_0x15d38f&&(_0x4ae263=Math['max'](_0x4ae263,_0x15d38f['track']['duration']));}this['_activeSta'+'teDuration']=_0x4ae263,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1b27+0x1*0x1b1a+0xe);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4ffe33){this['_timeInSta'+'teBefore']=_0x4ffe33,this['_timeInSta'+'te']=_0x4ffe33;for(let _0x5807b6=0xfc1*-0x1+0x7*-0x547+0xa*0x545;_0x5807b6<this['activeStat'+'eAnimation'+'s']['length'];_0x5807b6++){const _0x5435ee=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5807b6]['name']);_0x5435ee&&(_0x5435ee['time']=_0x4ffe33);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x2a547b){return this['_animEvalu'+'ator']['assignMask'](_0x2a547b);}['_findState'](_0x52f86a){return this['_states'][_0x52f86a];}['_getActive'+'StateProgr'+'essForTime'](_0x1c7006){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0x443*0x8+-0x501*-0x2+0x1817*0x1;const _0x53c0d2=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x49d*-0x1+-0x1*-0x22cf+-0x276c]['name']);return _0x53c0d2?_0x53c0d2['progressFo'+'rTime'](_0x1c7006):null;}['_findTrans'+'itionsFrom'+'State'](_0x4f7280){let _0xed019b=this['_findTrans'+'itionsFrom'+'StateCache'][_0x4f7280];return _0xed019b||(_0xed019b=this['_transitio'+'ns']['filter'](_0x33e1ec=>_0x33e1ec['from']===_0x4f7280),ul(_0xed019b),this['_findTrans'+'itionsFrom'+'StateCache'][_0x4f7280]=_0xed019b),_0xed019b;}['_findTrans'+'itionsBetw'+'eenStates'](_0x2ec299,_0x388d65){let _0xd03900=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2ec299+'->'+_0x388d65];return _0xd03900||(_0xd03900=this['_transitio'+'ns']['filter'](_0x47093c=>_0x47093c['from']===_0x2ec299&&_0x47093c['to']===_0x388d65),ul(_0xd03900),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2ec299+'->'+_0x388d65]=_0xd03900),_0xd03900;}['_transitio'+'nHasCondit'+'ionsMet'](_0x48ab4f){const _0x2f5189=_0x48ab4f['conditions'];for(let _0x5f3b2a=-0xadb+-0x1d1e*-0x1+-0x1243;_0x5f3b2a<_0x2f5189['length'];_0x5f3b2a++){const _0x347749=_0x2f5189[_0x5f3b2a],_0x1a9e28=this['_findParam'+'eter'](_0x347749['parameterN'+'ame']);switch(_0x347749['predicate']){case xL:if(!(_0x1a9e28['value']>_0x347749['value']))return!(-0x234+-0x15d0+0x8f*0x2b);break;case TL:if(!(_0x1a9e28['value']<_0x347749['value']))return!(0x9da+-0x409+-0x2*0x2e8);break;case wL:if(!(_0x1a9e28['value']>=_0x347749['value']))return!(-0x4d6*0x2+0x1b83+-0x3*0x5f2);break;case EL:if(!(_0x1a9e28['value']<=_0x347749['value']))return!(0x1a5+-0x3*0x54e+0xe46);break;case bL:if(_0x1a9e28['value']!==_0x347749['value'])return!(-0x1591+-0xa98+0xb3*0x2e);break;case AL:if(_0x1a9e28['value']===_0x347749['value'])return!(0x6d*0x1f+0x7d7+0x5*-0x435);break;}}return!(-0x42f*0x5+-0x1692+0x3*0xe7f);}['_findTrans'+'ition'](_0x16d001,_0x5375de){let _0x5b15d2=[];if(_0x16d001&&_0x5375de)_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x16d001,_0x5375de));else{if(!this['_isTransit'+'ioning'])_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5b15d2=_0x5b15d2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x5b15d2=_0x5b15d2['filter'](_0x4a6236=>{if(_0x4a6236['to']===this['activeStat'+'eName'])return!(-0x1ac+0x2*-0x84f+0x124b);if(_0x4a6236['hasExitTim'+'e']){let _0x531b7a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x4f9380=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x4a6236['exitTime']<0x302+-0x1a8f+0x178e&&this['activeStat'+'e']['loop']&&(_0x531b7a-=Math['floor'](_0x531b7a),_0x4f9380-=Math['floor'](_0x4f9380)),_0x4f9380===_0x531b7a){if(_0x4f9380!==_0x4a6236['exitTime'])return null;}else{if(!(_0x4a6236['exitTime']>_0x531b7a&&_0x4a6236['exitTime']<=_0x4f9380))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x4a6236);}),_0x5b15d2['length']>-0x1a0*-0x13+-0x519+-0x19c7*0x1){const _0x15b4fc=_0x5b15d2[-0x18a+-0x179f*-0x1+-0x1615];if(_0x15b4fc['to']===vu){const _0x2b0d56=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x1937*0x1+-0x1c73*-0x1+-0x9*0x5c];_0x15b4fc['to']=_0x2b0d56['to'];}return _0x15b4fc;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x194e9c){let _0x42720a,_0x5f2d47,_0x5205d5;this['previousSt'+'ate']=_0x194e9c['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x194e9c['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0xc02+0x7e2+-0x13e4);for(let _0x330a4a=0x4*-0x32b+-0x2461+0x1d*0x1b1;_0x330a4a<_0x194e9c['conditions']['length'];_0x330a4a++){const _0x2c67f9=_0x194e9c['conditions'][_0x330a4a];this['_findParam'+'eter'](_0x2c67f9['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x2c67f9['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x59d40e=Math['min'](this['_totalTran'+'sitionTime']!==-0x2212+0xf55+0x12bd?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1dcb+0x1*0xfc9+-0x2d93,-0x1c17+0x1b4f*0x1+0xc9);for(let _0x23372e=0xd*0x1af+-0x4*0x288+-0xbc3;_0x23372e<this['_transitio'+'nPreviousS'+'tates']['length'];_0x23372e++){this['_isTransit'+'ioning']?_0x23372e!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1d00*0x1+0x359+-0x2058)?this['_transitio'+'nPreviousS'+'tates'][_0x23372e]['weight']*=0x11*0x1ca+0xa3*-0x14+-0x11ad-_0x59d40e:this['_transitio'+'nPreviousS'+'tates'][_0x23372e]['weight']=_0x59d40e:this['_transitio'+'nPreviousS'+'tates'][_0x23372e]['weight']=0x185*-0x10+-0xfa0+0x1*0x27f1,_0x42720a=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x23372e]['name']);for(let _0x3e3e15=-0x16*-0x175+0x224b+-0xd45*0x5;_0x3e3e15<_0x42720a['animations']['length'];_0x3e3e15++)_0x5f2d47=_0x42720a['animations'][_0x3e3e15],_0x5205d5=this['_animEvalu'+'ator']['findClip'](_0x5f2d47['name']+'.previous.'+_0x23372e),_0x5205d5||(_0x5205d5=this['_animEvalu'+'ator']['findClip'](_0x5f2d47['name']),_0x5205d5['name']=_0x5f2d47['name']+'.previous.'+_0x23372e),_0x23372e!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x15f2*0x1+-0x1de*0x9+0xceb*0x3)&&_0x5205d5['pause']();}}this['_isTransit'+'ioning']=!(-0x19a8+-0x220f+0x3bb7),this['_totalTran'+'sitionTime']=_0x194e9c['time'],this['_currTrans'+'itionTime']=0xe49*0x1+-0x2d7*0x2+-0x1*0x89b,this['_transitio'+'nInterrupt'+'ionSource']=_0x194e9c['interrupti'+'onSource'];const _0x1ec42e=this['activeStat'+'e'],_0x37c568=_0x194e9c['transition'+'Offset']&&_0x194e9c['transition'+'Offset']>0xc0+0x9f+0x3*-0x75&&_0x194e9c['transition'+'Offset']<0x24a*0x8+0x3*-0x5c4+-0x1*0x103;let _0x34926f=-0x446*-0x8+0x209d+0x31*-0x15d,_0xb18b16=-0xdba+-0xfd6*-0x1+-0x21c;if(_0x37c568){const _0x2f526c=_0x1ec42e['timelineDu'+'ration']*_0x194e9c['transition'+'Offset'];_0x34926f=_0x2f526c,_0xb18b16=_0x2f526c;}this['_timeInSta'+'te']=_0x34926f,this['_timeInSta'+'teBefore']=_0xb18b16;for(let _0x10c8ce=-0x186a*-0x1+0x19be+-0x3228;_0x10c8ce<_0x1ec42e['animations']['length'];_0x10c8ce++){if(_0x5205d5=this['_animEvalu'+'ator']['findClip'](_0x1ec42e['animations'][_0x10c8ce]['name']),_0x5205d5)_0x5205d5['reset']();else{const _0x28b979=Number['isFinite'](_0x1ec42e['animations'][_0x10c8ce]['speed'])?_0x1ec42e['animations'][_0x10c8ce]['speed']:_0x1ec42e['speed'];_0x5205d5=new Dh(_0x1ec42e['animations'][_0x10c8ce]['animTrack'],this['_timeInSta'+'te'],_0x28b979,!(-0x1a9d+0x6*-0x261+0x28e3),_0x1ec42e['loop'],this['_eventHand'+'ler']),_0x5205d5['name']=_0x1ec42e['animations'][_0x10c8ce]['name'],this['_animEvalu'+'ator']['addClip'](_0x5205d5);}if(_0x194e9c['time']>-0x2530+-0xf3b+-0x3*-0x1179?_0x5205d5['blendWeigh'+'t']=0xa61+0x26d1+-0x6*0x833:_0x5205d5['blendWeigh'+'t']=_0x1ec42e['animations'][_0x10c8ce]['normalized'+'Weight'],_0x5205d5['play'](),_0x37c568)_0x5205d5['time']=_0x1ec42e['timelineDu'+'ration']*_0x194e9c['transition'+'Offset'];else{const _0x510bab=_0x1ec42e['speed']>=-0x1b76+0xdb*-0x2+0x1d2c?0x5f8+0x19*-0x74+0x55c:this['activeStat'+'eDuration'];_0x5205d5['time']=_0x510bab;}}}['_transitio'+'nToState'](_0x5bd89b){if(!this['_findState'](_0x5bd89b))return;let _0x56f93=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x5bd89b);_0x56f93||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x56f93=new Lh({'from':null,'to':_0x5bd89b})),this['updateStat'+'eFromTrans'+'ition'](_0x56f93);}['assignAnim'+'ation'](_0x3d84cd,_0x1d3052,_0x241a25,_0x15ca72){const _0x479a64=_0x3d84cd['split']('.');let _0x20b32d=this['_findState'](_0x479a64[-0x1ce3+0x11*0x175+0x41e]);_0x20b32d||(_0x20b32d=new Fg(this,_0x479a64[0xac*-0x4+-0xaf5+0xda5],_0x241a25),this['_states'][_0x479a64[-0x8d+-0xa*0x8c+0x605]]=_0x20b32d,this['_stateName'+'s']['push'](_0x479a64[0x1*0x116f+-0x9b9*0x1+0x3db*-0x2])),_0x20b32d['addAnimati'+'on'](_0x479a64,_0x1d3052),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x20b32d['name'],_0x1d3052),_0x241a25!==void(0x66c+0x24e2+-0x15a7*0x2)&&(_0x20b32d['speed']=_0x241a25),_0x15ca72!==void(-0x1*0x2593+0x9d*0x15+-0x1d*-0xda)&&(_0x20b32d['loop']=_0x15ca72),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x12b3*0x2+0x206e+0x4f8);}['removeNode'+'Animations'](_0x1895ba){if(Ih['indexOf'](_0x1895ba)!==-(0x2036+-0xbad*-0x1+0x2be2*-0x1))return!(-0x1*-0xcfe+0x25bf+-0x32bc);const _0x38dba6=this['_findState'](_0x1895ba);return _0x38dba6?(_0x38dba6['animations']=[],!(-0xa7*-0x2+-0x7*0x542+-0x1*-0x2380)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x1895ba),!(-0x20c4+0x1ce9*-0x1+0x3dae));}['play'](_0x3e20c1){_0x3e20c1&&this['_transitio'+'nToState'](_0x3e20c1),this['_playing']=!(0xc8c+-0x3*0x15+-0xc4d);}['pause'](){this['_playing']=!(0x1f57+0x2499+-0x43ef);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x1bf8+-0x29b+-0x195c),this['_currTrans'+'itionTime']=-0x1*-0x1b14+0x1496+0x2fa9*-0x1,this['_totalTran'+'sitionTime']=-0x458*-0x4+0x4d1*0x2+0x1b01*-0x1,this['_isTransit'+'ioning']=!(0x41+0xc77*0x1+0x9b*-0x15),this['_timeInSta'+'te']=0x1704+0x3e5+-0x1ae9,this['_timeInSta'+'teBefore']=0xdeb+-0x1*0x23a9+0x15be,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x266f9a){if(!this['_playing'])return;let _0x4d45a4,_0x4be915,_0x36b33e;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x266f9a*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x266f9a=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x30361b=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x30361b&&this['updateStat'+'eFromTrans'+'ition'](_0x30361b),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x266f9a,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x52c0cb=this['_totalTran'+'sitionTime']!==0x216e+-0x1194+-0xfda?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x718+-0x1855+-0x113e*-0x1;for(let _0x3f2d76=0x9a5+-0x773+-0x232;_0x3f2d76<this['_transitio'+'nPreviousS'+'tates']['length'];_0x3f2d76++){_0x4d45a4=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x3f2d76]['name']);const _0x179172=this['_transitio'+'nPreviousS'+'tates'][_0x3f2d76]['weight'];for(let _0x101a01=-0x1af*0x1+-0x2430+0x25df;_0x101a01<_0x4d45a4['animations']['length'];_0x101a01++)_0x4be915=_0x4d45a4['animations'][_0x101a01],_0x36b33e=this['_animEvalu'+'ator']['findClip'](_0x4be915['name']+'.previous.'+_0x3f2d76),_0x36b33e&&(_0x36b33e['blendWeigh'+'t']=(0xab2+0x1c44+-0x1*0x26f5-_0x52c0cb)*_0x4be915['normalized'+'Weight']*_0x179172);}_0x4d45a4=this['activeStat'+'e'];for(let _0x4c40a7=-0x1bf7*-0x1+0x25f*0xb+-0x4*0xd83;_0x4c40a7<_0x4d45a4['animations']['length'];_0x4c40a7++)_0x4be915=_0x4d45a4['animations'][_0x4c40a7],this['_animEvalu'+'ator']['findClip'](_0x4be915['name'])['blendWeigh'+'t']=_0x52c0cb*_0x4be915['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1*0x455+-0x42f+0x1*-0x25);const _0x406020=this['activeStat'+'eAnimation'+'s']['length'],_0x306f04=this['_animEvalu'+'ator']['clips']['length'];for(let _0x1b323e=0x485+-0x2072+-0x1bed*-0x1;_0x1b323e<_0x306f04-_0x406020;_0x1b323e++)this['_animEvalu'+'ator']['removeClip'](-0x10db+-0x1*0x1859+0x12*0x24a);this['_transitio'+'nPreviousS'+'tates']=[],_0x4d45a4=this['activeStat'+'e'];for(let _0x312f0a=-0xb*0x1aa+0x1c2d+0x85*-0x13;_0x312f0a<_0x4d45a4['animations']['length'];_0x312f0a++)_0x4be915=_0x4d45a4['animations'][_0x312f0a],_0x36b33e=this['_animEvalu'+'ator']['findClip'](_0x4be915['name']),_0x36b33e&&(_0x36b33e['blendWeigh'+'t']=_0x4be915['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x4d45a4=this['activeStat'+'e'];for(let _0x2ac619=-0x1b7*0x7+0x10b4+-0x4b3;_0x2ac619<_0x4d45a4['animations']['length'];_0x2ac619++)_0x4be915=_0x4d45a4['animations'][_0x2ac619],_0x36b33e=this['_animEvalu'+'ator']['findClip'](_0x4be915['name']),_0x36b33e&&(_0x36b33e['blendWeigh'+'t']=_0x4be915['normalized'+'Weight'],_0x4be915['parent']['syncAnimat'+'ions']&&(_0x36b33e['speed']=_0x4be915['speed']));}}this['_animEvalu'+'ator']['update'](_0x266f9a,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x3a2096,_0x7f6382,_0x2d535d,_0x917993,_0x5ba89b){super(_0x7f6382),this['animCompon'+'ent']=_0x3a2096,this['_mask']=_0x917993,this['layerName']=_0x2d535d,this['layerIndex']=_0x5ba89b;}static['_packFloat'](_0x1cf265){return _0x1cf265[0x1e8e+-0xc52+-0x123c];}static['_packBoole'+'an'](_0x163538){return!!_0x163538[0x107b+-0x1226+0x7*0x3d];}static['_packVec2'](_0xf333fd){return wf['x']=_0xf333fd[-0x225*0xb+0x54a+-0x124d*-0x1],wf['y']=_0xf333fd[-0x1*0x22fd+0x1*0x213b+0x1c3],wf;}static['_packVec3'](_0x2ddc26){return Tc['x']=_0x2ddc26[0x9b*0x25+0xb5+0xc*-0x1ed],Tc['y']=_0x2ddc26[-0x10*-0x1+0x24f8+-0x2507],Tc['z']=_0x2ddc26[-0xd1c+0x151*0xb+-0x15d*0x1],Tc;}static['_packVec4'](_0x1a5063){return _o['x']=_0x1a5063[-0x5*-0x511+-0x2298+0x943],_o['y']=_0x1a5063[-0x262+0x24df*0x1+-0x89f*0x4],_o['z']=_0x1a5063[0x10*-0x248+-0x7e*-0x34+0xaea*0x1],_o['w']=_0x1a5063[-0x7*-0x286+-0x824+-0x5*0x1e7],_o;}static['_packColor'](_0x3c01af){return go['r']=_0x3c01af[-0x1*-0x4e+-0x21ad*0x1+0x1*0x215f],go['g']=_0x3c01af[0x2ae*-0x4+0x2d*0x2b+0x32a],go['b']=_0x3c01af[-0x1d3*-0x3+-0x9f7+0x480],go['a']=_0x3c01af[0xd05+0x1300+0x2*-0x1001],go;}static['_packQuat'](_0x5229ff){return So['x']=_0x5229ff[-0x2432+0xce*0x9+-0x1cf4*-0x1],So['y']=_0x5229ff[0x1707+-0x2566+0xe60],So['z']=_0x5229ff[-0x1c4f+-0xb37+0x2788],So['w']=_0x5229ff[0xd8e+-0x216+-0xb75],So;}['resolve'](_0x51b28b){const _0x243dbf=ra['encode'](_0x51b28b['entityPath'],_0x51b28b['component'],_0x51b28b['propertyPa'+'th']);let _0x15ca2f=this['targetCach'+'e'][_0x243dbf];if(_0x15ca2f)return _0x15ca2f;let _0x239517,_0x515172,_0x4d65f7;switch(_0x51b28b['component']){case'entity':_0x239517=this['_getEntity'+'FromHierar'+'chy'](_0x51b28b['entityPath']),_0x4d65f7=ra['encode'](_0x239517['path'],'entity',_0x51b28b['propertyPa'+'th']),_0x515172=_0x239517;break;case'graph':if(_0x515172=this['findNode'](_0x51b28b),!_0x515172)return null;_0x4d65f7=ra['encode'](_0x515172['path'],'graph',_0x51b28b['propertyPa'+'th']);break;default:if(_0x239517=this['_getEntity'+'FromHierar'+'chy'](_0x51b28b['entityPath']),_0x515172=_0x239517['findCompon'+'ent'](_0x51b28b['component']),!_0x515172)return null;_0x4d65f7=ra['encode'](_0x239517['path'],_0x51b28b['component'],_0x51b28b['propertyPa'+'th']);break;}return _0x15ca2f=this['_createAni'+'mTargetFor'+'Property'](_0x515172,_0x51b28b['propertyPa'+'th'],_0x4d65f7),this['targetCach'+'e'][_0x243dbf]=_0x15ca2f,_0x15ca2f;}['update'](_0x37c70d){const _0x2d4ada=this['activeNode'+'s'];if(_0x2d4ada){for(let _0x2e4d0=0xde1+0x26*-0xc9+0x5*0x331;_0x2e4d0<_0x2d4ada['length'];_0x2e4d0++)_0x2d4ada[_0x2e4d0]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x438041){if(!this['animCompon'+'ent']['entity']['name']===_0x438041[-0x1*0x1b1+-0x36d*-0x4+-0x3*0x401])return null;const _0x4f3854=this['animCompon'+'ent']['entity'];return _0x438041['length']===0x1102+0xec9*-0x2+-0xc91*-0x1?_0x4f3854:_0x4f3854['_parent']['findByPath'](_0x438041);}['_resolvePa'+'th'](_0x378ff2,_0x1b85f1,_0x4844bc){const _0x2fb08c=_0x1b85f1['length']-(_0x4844bc?-0x4*0x456+0x203a+-0xee2:0x1e+0x6e1+-0x6fe);for(let _0x2665d4=0x651+-0x1*-0xf86+0x1*-0x15d7;_0x2665d4<_0x2fb08c;_0x2665d4++)_0x378ff2=_0x378ff2[_0x1b85f1[_0x2665d4]];return _0x378ff2;}['_setter'](_0x5f0cb3,_0x4aee7a,_0x6b2a3c){const _0x49e2e2=this['_resolvePa'+'th'](_0x5f0cb3,_0x4aee7a),_0xf348e0=_0x4aee7a[_0x4aee7a['length']-(0x52*-0x76+-0xfad*-0x2+0x673)],_0x4ede24='set'+_0xf348e0['substring'](-0x1*0x1085+-0x277+0x12fc,0x1323*0x1+0x1*0x11c3+-0x761*0x5)['toUpperCas'+'e']()+_0xf348e0['substring'](0xb2+0x1*0x13f9+-0x2e*0x73);if(_0x49e2e2[_0x4ede24]){let _0x330eb9=_0x49e2e2['get'+_0xf348e0['substring'](-0x1f29+-0xc21+0x3*0xe6e,-0x218c+-0x1*0x2287+0x2*0x220a)['toUpperCas'+'e']()+_0xf348e0['substring'](-0x2*-0x11e+0xba9+-0xde4)]['bind'](_0x49e2e2)();_0x330eb9=[_0x330eb9['x'],_0x330eb9['y'],_0x330eb9['z'],_0x330eb9['w']];const _0x2b60c3=_0x49e2e2[_0x4ede24]['bind'](_0x49e2e2);return{'set':_0x20178f=>{_0x2b60c3(_0x6b2a3c(_0x20178f));},'get':()=>_0x330eb9};}const _0x110c84=_0x49e2e2[_0xf348e0];if(typeof _0x110c84=='object'&&_0x110c84['hasOwnProp'+'erty']('copy'))return function(_0x13ea81){_0x110c84['copy'](_0x6b2a3c(_0x13ea81));};if([J,D,re,ie,le]['indexOf'](_0x49e2e2['constructo'+'r'])!==-(0x407+-0x3*0x566+0xc2c)&&_0x4aee7a['length']>0x1d*-0x11b+-0x212e+0x413e){const _0x2445f1=_0x4aee7a['length']>-0x249e+-0x3d*-0x95+-0x7*-0x29?this['_resolvePa'+'th'](_0x5f0cb3,_0x4aee7a['slice'](-0x1*0x20c2+0x1dc5+0x2fd,-(0x1*0x1cb5+-0x9f5*-0x1+0xce3*-0x3))):_0x5f0cb3,_0x26a47b=_0x4aee7a[_0x4aee7a['length']-(0xb68+0x13a1+-0x2f*0xa9)];return function(_0x10b756){_0x49e2e2[_0xf348e0]=_0x6b2a3c(_0x10b756),_0x2445f1[_0x26a47b]=_0x49e2e2;};}return function(_0x1975b6){_0x49e2e2[_0xf348e0]=_0x6b2a3c(_0x1975b6);};}['_createAni'+'mTargetFor'+'Property'](_0x3e334b,_0x1c6822,_0x22f386){if(this['handlers']&&_0x1c6822[-0x1c01+0x2703+-0xb02]['startsWith']('weight.'))return this['handlers']['weight'](_0x3e334b,_0x1c6822[0xf1*0x29+0x116f*-0x2+-0x3bb]['replace']('weight.',''));if(this['handlers']&&_0x1c6822[0x7*0x1c+0x1952+-0x1a16]==='material'&&_0x1c6822['length']===0xd*-0x2a5+0x9dd*0x1+0x1886){const _0x1ce7ff=_0x1c6822[-0xfc5+0x1e32+0x8e*-0x1a];if(_0x1ce7ff['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x3e334b,_0x1ce7ff);}const _0x50df78=this['_resolvePa'+'th'](_0x3e334b,_0x1c6822,!(-0x3*0x1b8+-0x107d+-0x1*-0x15a5));if(typeof _0x50df78>'u')return null;let _0x3478f8,_0x34dcf8,_0x49efe4;if(typeof _0x50df78=='number')_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packFloat']),_0x34dcf8='vector',_0x49efe4=0x1920+0x1*-0x250b+-0x2*-0x5f6;else{if(typeof _0x50df78=='boolean')_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packBoole'+'an']),_0x34dcf8='vector',_0x49efe4=0x1d*0xe5+0x9*0x97+-0x1f3f;else{if(typeof _0x50df78=='object')switch(_0x50df78['constructo'+'r']){case J:_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packVec2']),_0x34dcf8='vector',_0x49efe4=-0x4b7*0x4+-0x1*0xe5d+0x213b;break;case D:_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packVec3']),_0x34dcf8='vector',_0x49efe4=0x8a*0x1b+-0xe68*0x1+0x7*-0x5;break;case re:_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packVec4']),_0x34dcf8='vector',_0x49efe4=0x1*-0xda9+0x223b+-0x36d*0x6;break;case ie:_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packColor']),_0x34dcf8='vector',_0x49efe4=0x178f+-0x589+-0x1202;break;case le:_0x3478f8=this['_setter'](_0x3e334b,_0x1c6822,Fi['_packQuat']),_0x34dcf8='quaternion',_0x49efe4=0x25fd*0x1+0x39*-0xa9+-0x8*0xb;break;default:return null;}}}return _0x1c6822['indexOf']('material')!==-(-0xcac*0x2+0x14*-0x97+0x2525)?new xu(_0x245abb=>{_0x3478f8(_0x245abb),_0x3e334b['material']['update']();},_0x34dcf8,_0x49efe4,_0x22f386):new xu(_0x3478f8,_0x34dcf8,_0x49efe4,_0x22f386);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x428de6={},_0x586600=function(_0x3de4b0){_0x428de6[_0x3de4b0['name']]=_0x3de4b0;for(let _0x31c34d=-0x503*0x1+0x6d8*0x2+-0x1*0x8ad;_0x31c34d<_0x3de4b0['children']['length'];++_0x31c34d)_0x586600(_0x3de4b0['children'][_0x31c34d]);};_0x586600(this['graph']),this['nodes']=_0x428de6;}}class kL{constructor(_0x45f09d,_0x53087c,_0x5350cc,_0x21a167=0x1f9e+-0xb12*0x1+-0x3*0x6d9,_0x5b7413=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x2451+0x1938+-0x3d89),h(this,'_blendTime'+'Elapsed',-0x18e1+0x1bab+-0x3*0xee),h(this,'_startingW'+'eight',0xc1*0x2e+-0x586+-0x2*0xe94),h(this,'_targetWei'+'ght',0x639+0x18eb*0x1+-0x4*0x7c9),(this['_name']=_0x45f09d,this['_controlle'+'r']=_0x53087c,this['_component']=_0x5350cc,this['_weight']=_0x21a167,this['_blendType']=_0x5b7413);}get['name'](){return this['_name'];}set['playing'](_0x4562ed){this['_controlle'+'r']['playing']=_0x4562ed;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x233242){const _0xe77c11=this['_controlle'+'r'],_0x22bd78=_0xe77c11['playing'];_0xe77c11['playing']=!(-0x41b*0x5+-0x2540+-0x39c7*-0x1),_0xe77c11['activeStat'+'eCurrentTi'+'me']=_0x233242,_0x22bd78||_0xe77c11['update'](0x225a+-0x2389*-0x1+-0x45e3),_0xe77c11['playing']=_0x22bd78;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x45a97a){this['_weight']=_0x45a97a,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x3d0666){_0x3d0666!==this['_blendType']&&(this['_blendType']=_0x3d0666,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x5a319b){this['_controlle'+'r']['assignMask'](_0x5a319b)&&this['_component']['rebind'](),this['_mask']=_0x5a319b;}get['mask'](){return this['_mask'];}['play'](_0x2617f3){this['_controlle'+'r']['play'](_0x2617f3);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x5bb592){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x5bb592):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1*-0x1c64+-0xfd6*0x1+0x2c3a,this['_blendTime'+'Elapsed']=0x1*0x1607+0x1*0x1a+-0x1621,this['_startingW'+'eight']=-0x1f5c+0x1*-0x3dc+0x2338,this['_targetWei'+'ght']=0x1*0x23ad+-0xb30+-0x187d)),this['_controlle'+'r']['update'](_0x5bb592);}['blendToWei'+'ght'](_0xe4b12e,_0x37a268){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0xe4b12e,this['_blendTime']=Math['max'](0x1145+-0xc0d+-0x538,_0x37a268),this['_blendTime'+'Elapsed']=0x177d+-0x85*0x47+0xd66;}['assignAnim'+'ation'](_0x4e0416,_0x5ac851,_0x27078c,_0x19e2b2){if(!(_0x5ac851 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x4e0416,_0x5ac851,_0x27078c,_0x19e2b2),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x280*0xd+0x182b*-0x1+0x59*0xa3&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x4e0416})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1*-0xad0+0x189+0x947*0x1));}['removeNode'+'Animations'](_0x17b1d6){this['_controlle'+'r']['removeNode'+'Animations'](_0x17b1d6)&&(this['_component']['playing']=!(0x1665+-0xc2e+-0xa36));}['getAnimati'+'onAsset'](_0x1eeddc){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x1eeddc];}['transition'](_0x23b137,_0x1a9cca=-0xf1*0x1f+0x902+0x142d,_0x19b7c2=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x23b137,'time':_0x1a9cca,'transitionOffset':_0x19b7c2}));}}class Jc{constructor(_0x29af8b){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x29af8b['layers']))this['_layers']=_0x29af8b['layers'];else for(const _0x54a49d in _0x29af8b['layers']){const _0x5982d5=_0x29af8b['layers'][_0x54a49d],_0xd23aad={'name':_0x5982d5['name'],'blendType':_0x5982d5['blendType'],'weight':_0x5982d5['weight'],'states':[],'transitions':[]};for(let _0x421c5b=-0x21a3+-0x166b+0x380e;_0x421c5b<_0x5982d5['states']['length'];_0x421c5b++)_0xd23aad['states']['push'](_0x29af8b['states'][_0x5982d5['states'][_0x421c5b]]);for(let _0x40fd9d=0x1*-0x40b+0x1280+-0xe75;_0x40fd9d<_0x5982d5['transition'+'s']['length'];_0x40fd9d++){const _0x387b9a=_0x29af8b['transition'+'s'][_0x5982d5['transition'+'s'][_0x40fd9d]];if(_0x387b9a['conditions']&&!Array['isArray'](_0x387b9a['conditions'])){const _0x2e5a49=Object['keys'](_0x387b9a['conditions']),_0x7bedfa=[];for(let _0x36fd07=0x1e53+0x659+-0x24ac;_0x36fd07<_0x2e5a49['length'];_0x36fd07++){const _0x119447=_0x387b9a['conditions'][_0x2e5a49[_0x36fd07]];_0x119447['parameterN'+'ame']&&_0x7bedfa['push'](_0x119447);}_0x387b9a['conditions']=_0x7bedfa;}Number['isInteger'](_0x387b9a['from'])&&(_0x387b9a['from']=_0x29af8b['states'][_0x387b9a['from']]['name']),Number['isInteger'](_0x387b9a['to'])&&(_0x387b9a['to']=_0x29af8b['states'][_0x387b9a['to']]['name']),_0xd23aad['transition'+'s']['push'](_0x387b9a);}this['_layers']['push'](_0xd23aad);}for(const _0x48df3c in _0x29af8b['parameters']){const _0x3dfa2d=_0x29af8b['parameters'][_0x48df3c];this['_parameter'+'s'][_0x3dfa2d['name']]={'type':_0x3dfa2d['type'],'value':_0x3dfa2d['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x165*-0x11+-0x17fc+0x4*0x12),h(this,'_activate',!(0xae8+-0xe3*-0xe+0x6*-0x3e3)),h(this,'_playing',!(0x1*0x26c6+-0x263+-0x2462)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x1070+-0x199+0x2*0x905)),h(this,'findParame'+'ter',_0xb5603c=>this['_parameter'+'s'][_0xb5603c]),h(this,'consumeTri'+'gger',_0x35046d=>{this['_consumedT'+'riggers']['add'](_0x35046d);});}set['stateGraph'+'Asset'](_0x358e3f){if(_0x358e3f===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x17a6f8,_0x1c9b4b;_0x358e3f instanceof pe?(_0x17a6f8=_0x358e3f['id'],_0x1c9b4b=this['system']['app']['assets']['get'](_0x17a6f8),_0x1c9b4b||(this['system']['app']['assets']['add'](_0x358e3f),_0x1c9b4b=this['system']['app']['assets']['get'](_0x17a6f8))):(_0x17a6f8=_0x358e3f,_0x1c9b4b=this['system']['app']['assets']['get'](_0x17a6f8)),!(!_0x1c9b4b||this['_stateGrap'+'hAsset']===_0x17a6f8)&&(_0x1c9b4b['resource']?(this['_stateGrap'+'h']=_0x1c9b4b['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x1c9b4b['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x1c9b4b['once']('load',_0x384b29=>{this['_stateGrap'+'h']=_0x384b29['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x1c9b4b['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x1c9b4b)),this['_stateGrap'+'hAsset']=_0x17a6f8);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x11a7ae){this['_normalize'+'Weights']=_0x11a7ae,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2cbb26){this['_animation'+'Assets']=_0x2cbb26,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x10fcaf){this['_speed']=_0x10fcaf;}get['speed'](){return this['_speed'];}set['activate'](_0x283443){this['_activate']=_0x283443;}get['activate'](){return this['_activate'];}set['playing'](_0x3d4439){this['_playing']=_0x3d4439;}get['playing'](){return this['_playing'];}set['rootBone'](_0x2c6384){if(typeof _0x2c6384=='string'){const _0x392f04=this['entity']['root']['findByGuid'](_0x2c6384);w['assert'](_0x392f04,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x2c6384+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x392f04;}else _0x2c6384 instanceof lt?this['_rootBone']=_0x2c6384:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x580678){this['_stateGrap'+'h']=_0x580678;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x595849){this['_layerIndi'+'ces']=_0x595849;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x8145db){this['_parameter'+'s']=_0x8145db;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x329ad6){this['_targets']=_0x329ad6;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x2ecc05=-0x1866+-0x1c0d+0x3473*0x1;_0x2ecc05<this['_layers']['length'];_0x2ecc05++)if(!this['_layers'][_0x2ecc05]['playable'])return!(0x1724+-0xe*0x2a+-0x61*0x37);return!(0xcc8+0xb81+-0x1849);}get['baseLayer'](){return this['_layers']['length']>0x7*0x25a+0x23ff+-0x3475*0x1?this['_layers'][-0x1c24+-0x10eb+0x2d0f]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x19e24e){const _0x513b05=this['animationA'+'ssets'],_0x135dca=this['layers']['map'](_0x12f52e=>_0x12f52e['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x19e24e['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x513b05,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x461043,_0xc218e9)=>{_0x461043['mask']=_0x135dca[_0xc218e9];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x53050e=Object['values'](this['_targets']);for(let _0x508462=-0x1a24+-0x167*0x3+0x1e59*0x1;_0x508462<_0x53050e['length'];_0x508462++)_0x53050e[_0x508462]['dirty']=!(0x2*-0xb39+-0x16a2+-0xa*-0x482);}['_addLayer']({name:_0x55c5f4,states:_0x24f97c,transitions:_0x38274f,weight:_0x239c2d,mask:_0x50451d,blendType:_0x12c998}){let _0x1afebb;this['rootBone']?_0x1afebb=this['rootBone']:_0x1afebb=this['entity'];const _0x16f506=this['_layers']['length'],_0xb7549e=new Fi(this,_0x1afebb,_0x55c5f4,_0x50451d,_0x16f506),_0x40c3f5=new Gv(_0xb7549e),_0x10c2eb=new NL(_0x40c3f5,_0x24f97c,_0x38274f,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x55c5f4,_0x10c2eb,this,_0x239c2d,_0x12c998)),this['_layerIndi'+'ces'][_0x55c5f4]=_0x16f506,this['_layers'][_0x16f506];}['addLayer'](_0x4eda37,_0x2d2491,_0x39a6ef,_0x521115){const _0x2fb89e=this['findAnimat'+'ionLayer'](_0x4eda37);if(_0x2fb89e)return _0x2fb89e;const _0x4c8759=[{'name':'START','speed':0x1}],_0x268108=[];return this['_addLayer']({'name':_0x4eda37,'states':_0x4c8759,'transitions':_0x268108,'weight':_0x2d2491,'mask':_0x39a6ef,'blendType':_0x521115});}['_assignPar'+'ameters'](_0xdc8907){this['_parameter'+'s']={};const _0x53a745=Object['keys'](_0xdc8907['parameters']);for(let _0x23072d=-0x1ac0+-0x99b+0x245b;_0x23072d<_0x53a745['length'];_0x23072d++){const _0x50788e=_0x53a745[_0x23072d];this['_parameter'+'s'][_0x50788e]={'type':_0xdc8907['parameters'][_0x50788e]['type'],'value':_0xdc8907['parameters'][_0x50788e]['value']};}}['loadStateG'+'raph'](_0x5d39ac){this['_stateGrap'+'h']=_0x5d39ac,this['_assignPar'+'ameters'](_0x5d39ac),this['_layers']=[];let _0x4a0a8c=!(-0xc*-0x68+-0x2071+-0x1*-0x1b92);for(let _0xdc18b8=-0xb59+0x1eba+-0x1361;_0xdc18b8<_0x5d39ac['layers']['length'];_0xdc18b8++){const _0x1a8cbb=_0x5d39ac['layers'][_0xdc18b8];this['_addLayer']({..._0x1a8cbb}),_0x1a8cbb['states']['some'](_0x17da9b=>_0x17da9b['blendTree'])&&(_0x4a0a8c=!(0x1073*0x1+0x5*-0x373+0xcc));}_0x4a0a8c||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x54cb11=-0x1dc1+0x9*-0x4b+0x2064;_0x54cb11<this['_layers']['length'];_0x54cb11++){const _0x480a2f=this['_layers'][_0x54cb11],_0x52556d=_0x480a2f['name'];for(let _0x3a2189=-0x1*0x2041+0x1930+0x711;_0x3a2189<_0x480a2f['states']['length'];_0x3a2189++){const _0xafd980=_0x480a2f['states'][_0x3a2189];if(Ih['indexOf'](_0xafd980)===-(-0xa0b*0x3+0x23e4+-0x5c2)){const _0x10c084=_0x52556d+':'+_0xafd980;this['_animation'+'Assets'][_0x10c084]||(this['_animation'+'Assets'][_0x10c084]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x59417a=-0x201+0x264*-0x7+0x12bd;_0x59417a<this['_layers']['length'];_0x59417a++){const _0x5215d9=this['_layers'][_0x59417a];for(let _0x327a25=-0x1*-0x177+-0x13d5+0x125e;_0x327a25<_0x5215d9['states']['length'];_0x327a25++){const _0x3c166f=_0x5215d9['states'][_0x327a25];if(Ih['indexOf'](_0x3c166f)!==-(0x195d+0x7*-0x2c9+-0x5dd))continue;const _0x94a329=this['_animation'+'Assets'][_0x5215d9['name']+':'+_0x3c166f];if(!_0x94a329||!_0x94a329['asset']){this['findAnimat'+'ionLayer'](_0x5215d9['name'])['assignAnim'+'ation'](_0x3c166f,Qi['EMPTY']);continue;}const _0x2347c2=_0x94a329['asset'],_0x5368c6=this['system']['app']['assets']['get'](_0x2347c2);_0x5368c6&&(_0x5368c6['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x5215d9['name'],_0x3c166f,_0x5368c6):(_0x5368c6['once']('load',function(_0x5f2d83,_0x4aaabd){return function(_0x184825){this['onAnimatio'+'nAssetLoad'+'ed'](_0x5f2d83,_0x4aaabd,_0x184825);}['bind'](this);}['bind'](this)(_0x5215d9['name'],_0x3c166f)),this['system']['app']['assets']['load'](_0x5368c6)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x2e1070,_0xa11f00,_0x5d55af){this['findAnimat'+'ionLayer'](_0x2e1070)['assignAnim'+'ation'](_0xa11f00,_0x5d55af['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x2f5*-0x6+-0x1ad*-0x16+-0x1*0x369b),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x51bd4c=0x933*-0x4+-0x3*-0x5c3+-0x25*-0x87;_0x51bd4c<this['_layers']['length'];_0x51bd4c++){const _0x2ac859=this['_layers'][_0x51bd4c]['playing'];this['_layers'][_0x51bd4c]['reset'](),this['_layers'][_0x51bd4c]['playing']=_0x2ac859;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x22122e=>{this['_targets'][_0x22122e]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x29dde3=0x4*0x3ad+0x63*-0x1+0x5*-0x2dd;_0x29dde3<this['_layers']['length'];_0x29dde3++)this['_layers'][_0x29dde3]['rebind']();}['findAnimat'+'ionLayer'](_0x4450eb){const _0xcca808=this['_layerIndi'+'ces'][_0x4450eb];return this['_layers'][_0xcca808]||null;}['addAnimati'+'onState'](_0x39744c,_0x1b9e9c,_0x3813c1=-0xde6+-0x20ca+0x2eb1,_0x1eb774=!(0x26*0x31+0x21d5+-0x291b),_0x9909a5='Base'){var _0x41b5d4;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x9909a5,'states':[{'name':'START','speed':0x1},{'name':_0x39744c,'speed':_0x3813c1,'loop':_0x1eb774,'defaultState':!(0x1*0x1201+-0x974+-0x88d)}],'transitions':[{'from':'START','to':_0x39744c}]}],'parameters':{}}));const _0x427954=this['findAnimat'+'ionLayer'](_0x9909a5);_0x427954?_0x427954['assignAnim'+'ation'](_0x39744c,_0x1b9e9c,_0x3813c1,_0x1eb774):(_0x41b5d4=this['addLayer'](_0x9909a5))==null||_0x41b5d4['assignAnim'+'ation'](_0x39744c,_0x1b9e9c,_0x3813c1,_0x1eb774);}['assignAnim'+'ation'](_0xb083cb,_0x666bea,_0x411666,_0x1121cd=-0x4f+-0x517+0x567,_0x3b0684=!(-0x1068+0x139d*-0x1+-0x1*-0x2405)){if(!this['_stateGrap'+'h']&&_0xb083cb['indexOf']('.')===-(-0x1bf3+-0x4*0x2cf+-0x2730*-0x1)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0xb083cb,'speed':_0x1121cd,'loop':_0x3b0684,'defaultState':!(0x1d94+0x6de+-0x2472)}],'transitions':[{'from':'START','to':_0xb083cb}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0xb083cb,_0x666bea);return;}const _0x375e2e=_0x411666?this['findAnimat'+'ionLayer'](_0x411666):this['baseLayer'];if(!_0x375e2e){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x375e2e['assignAnim'+'ation'](_0xb083cb,_0x666bea,_0x1121cd,_0x3b0684);}['removeNode'+'Animations'](_0x1ae612,_0x2b92c8){const _0x188428=_0x2b92c8?this['findAnimat'+'ionLayer'](_0x2b92c8):this['baseLayer'];if(!_0x188428){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x188428['removeNode'+'Animations'](_0x1ae612);}['getParamet'+'erValue'](_0x40d9d3,_0x1f47e4){const _0x281540=this['_parameter'+'s'][_0x40d9d3];if(_0x281540&&_0x281540['type']===_0x1f47e4)return _0x281540['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x40d9d3+('\x22\x20of\x20type\x20'+'\x22')+_0x1f47e4+'\x22');}['setParamet'+'erValue'](_0x274d7d,_0x409f57,_0x487f63){const _0x4320fc=this['_parameter'+'s'][_0x274d7d];if(_0x4320fc&&_0x4320fc['type']===_0x409f57){_0x4320fc['value']=_0x487f63;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x274d7d+('\x22\x20of\x20type\x20'+'\x22')+_0x409f57+'\x22');}['getFloat'](_0x2dd5c3){return this['getParamet'+'erValue'](_0x2dd5c3,Rg);}['setFloat'](_0x5d13ce,_0x5230fe){this['setParamet'+'erValue'](_0x5d13ce,Rg,_0x5230fe);}['getInteger'](_0x59f74d){return this['getParamet'+'erValue'](_0x59f74d,Lg);}['setInteger'](_0x17c1b,_0x1ae998){typeof _0x1ae998=='number'&&_0x1ae998%(0xfa1*-0x1+-0x799+0x1*0x173b)===-0x14bb+0x1231*-0x1+0x26ec*0x1?this['setParamet'+'erValue'](_0x17c1b,Lg,_0x1ae998):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x17c1b,_0x1ae998);}['getBoolean'](_0x58a39d){return this['getParamet'+'erValue'](_0x58a39d,Og);}['setBoolean'](_0x5eca75,_0x176e1d){this['setParamet'+'erValue'](_0x5eca75,Og,!!_0x176e1d);}['getTrigger'](_0x230c88){return this['getParamet'+'erValue'](_0x230c88,Qc);}['setTrigger'](_0x14d698,_0x319ecb=!(-0x8f2+-0x20aa+0x299d*0x1)){this['setParamet'+'erValue'](_0x14d698,Qc,!(-0xa89+-0x225f+0x2ce8)),_0x319ecb&&this['_consumedT'+'riggers']['add'](_0x14d698);}['resetTrigg'+'er'](_0x125a30){this['setParamet'+'erValue'](_0x125a30,Qc,!(-0x7c*0x6+0x254b+-0x2262));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x846a9c){for(let _0x167d18=-0xcaa+0xe*-0x9a+0x1516;_0x167d18<this['layers']['length'];_0x167d18++)this['layers'][_0x167d18]['update'](_0x846a9c*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x185cfe=>{this['parameters'][_0x185cfe]['value']=!(0xd2e+-0x1f7f+0x1252);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x19b9c7,_0x3ff661){_0x19b9c7['rootBone']&&_0x3ff661[_0x19b9c7['rootBone']['getGuid']()]?this['rootBone']=_0x3ff661[_0x19b9c7['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x1fcb+-0xd4*0x2e+0x64d*0x1);}}const bu=['enabled'];class BL extends ct{constructor(_0x316a9d){super(_0x316a9d),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4618d8,_0x5c3fcf,_0x1895fb){super['initialize'+'ComponentD'+'ata'](_0x4618d8,_0x5c3fcf,bu);const _0x13942f=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x5c3fcf)['forEach'](_0x3fdff5=>{_0x13942f['includes'](_0x3fdff5)||(_0x4618d8[_0x3fdff5]=_0x5c3fcf[_0x3fdff5]);}),_0x5c3fcf['stateGraph']&&(_0x4618d8['stateGraph']=_0x5c3fcf['stateGraph'],_0x4618d8['loadStateG'+'raph'](_0x4618d8['stateGraph'])),_0x5c3fcf['layers']&&_0x5c3fcf['layers']['forEach']((_0x5ea870,_0x20036d)=>{_0x5ea870['_controlle'+'r']['states']['forEach'](_0x553639=>{_0x5ea870['_controlle'+'r']['_states'][_0x553639]['_animation'+'List']['forEach'](_0x27efaa=>{if(!_0x27efaa['animTrack']||_0x27efaa['animTrack']===Qi['EMPTY']){const _0xa91572=this['app']['assets']['get'](_0x5ea870['_component']['_animation'+'Assets'][_0x5ea870['name']+':'+_0x27efaa['name']]['asset']);_0xa91572&&!_0xa91572['loaded']&&_0xa91572['once']('load',()=>{_0x4618d8['layers'][_0x20036d]['assignAnim'+'ation'](_0x27efaa['name'],_0xa91572['resource']);});}else _0x4618d8['layers'][_0x20036d]['assignAnim'+'ation'](_0x27efaa['name'],_0x27efaa['animTrack']);});});}),_0x5c3fcf['animationA'+'ssets']&&(_0x4618d8['animationA'+'ssets']=Object['assign'](_0x4618d8['animationA'+'ssets'],_0x5c3fcf['animationA'+'ssets'])),_0x5c3fcf['masks']&&Object['keys'](_0x5c3fcf['masks'])['forEach'](_0x223019=>{if(_0x4618d8['layers'][_0x223019]){const _0x127f05=_0x5c3fcf['masks'][_0x223019]['mask'],_0x521150={};Object['keys'](_0x127f05)['forEach'](_0x325cd6=>{_0x521150[decodeURI(_0x325cd6)]=_0x127f05[_0x325cd6];}),_0x4618d8['layers'][_0x223019]['mask']=_0x521150;}});}['onAnimatio'+'nUpdate'](_0x2bcb42){const _0x16f870=this['store'];for(const _0x531837 in _0x16f870)if(_0x16f870['hasOwnProp'+'erty'](_0x531837)){const _0x3f7218=_0x16f870[_0x531837]['entity']['anim'];_0x3f7218['data']['enabled']&&_0x3f7218['entity']['enabled']&&_0x3f7218['playing']&&_0x3f7218['update'](_0x2bcb42);}}['cloneCompo'+'nent'](_0x3ccf9f,_0x1d8bfa){let _0x17e067;(!_0x3ccf9f['anim']['rootBone']||_0x3ccf9f['anim']['rootBone']===_0x3ccf9f)&&(_0x17e067={},_0x3ccf9f['anim']['layers']['forEach']((_0x4d3965,_0xfcf48b)=>{if(_0x4d3965['mask']){const _0x118e3b={};Object['keys'](_0x4d3965['mask'])['forEach'](_0x316aae=>{const _0x5a9f01=_0x316aae['split']('/');_0x5a9f01['shift']();const _0x159245=[_0x1d8bfa['name'],..._0x5a9f01]['join']('/');_0x118e3b[_0x159245]=_0x4d3965['mask'][_0x316aae];}),_0x17e067[_0xfcf48b]={'mask':_0x118e3b};}}));const _0x1b6ab4={'enabled':_0x3ccf9f['anim']['enabled'],'stateGraphAsset':_0x3ccf9f['anim']['stateGraph'+'Asset'],'animationAssets':_0x3ccf9f['anim']['animationA'+'ssets'],'speed':_0x3ccf9f['anim']['speed'],'activate':_0x3ccf9f['anim']['activate'],'playing':_0x3ccf9f['anim']['playing'],'rootBone':_0x3ccf9f['anim']['rootBone'],'stateGraph':_0x3ccf9f['anim']['stateGraph'],'layers':_0x3ccf9f['anim']['layers'],'layerIndices':_0x3ccf9f['anim']['layerIndic'+'es'],'parameters':_0x3ccf9f['anim']['parameters'],'normalizeWeights':_0x3ccf9f['anim']['normalizeW'+'eights'],'masks':_0x17e067};return this['addCompone'+'nt'](_0x1d8bfa,_0x1b6ab4);}['onBeforeRe'+'move'](_0x1097fb,_0x1554c2){_0x1554c2['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0xddc9b3=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0xddc9b3);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x1dc2+0x21b0+-0x3f72);}}const qv=['enabled'];class VL extends ct{constructor(_0x3aae53){super(_0x3aae53),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x3aae53['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x25cfb0,_0x1f95d0,_0x419f50){_0x419f50=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x25cfb0,_0x1f95d0,_0x419f50);}['onUpdate'](_0x1bfd4d){if(this['current']){const _0x5f33ea=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x5f33ea);const _0x2f4036=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x2f4036);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x557+-0x1f40+0x13*0x1ed,Ng=0x1ba1*-0x1+0x3*0x67f+-0x2b7*-0x3,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x3fbf1d,_0x4bf5c1){super(_0x3fbf1d,_0x4bf5c1),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x3*0xa5b+0x60d*-0x1+-0x2db*-0xd)),h(this,'_hoveringC'+'ounter',-0xca+-0x1*-0x3b0+0x173*-0x2),h(this,'_isPressed',!(0x26e0+0x1c10+-0x42ef)),h(this,'_defaultTi'+'nt',new ie(-0x7cf*-0x2+-0x49*0x26+-0x4c7,0x16e8+-0x224f+0x14*0x92,-0xe8*-0xd+-0x2028+0x1461,-0x1779+0x2b*0x1+-0x15f*-0x11)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x18f3+-0xb2*-0x11+0xd21*0x1),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(-0x1aa7*-0x1+0xf06+-0x379*0xc),this['_hoveringC'+'ounter']=-0xd25*0x1+0xb*-0xd+0xdb4,this['_isPressed']=!(-0x2*0x130c+-0x22e6*0x1+0x48ff),this['_defaultTi'+'nt']=new ie(-0xc5b+0xb6e+0xee,-0x101*-0x13+0x1*0x6c5+-0x19d7,-0x1093+0x188c+0x5*-0x198,0x1585+0xe7b+-0x23ff),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x1b97+0x2*0xdff+0x99*-0x5d,this['_toggleLif'+'ecycleList'+'eners']('on',_0x3fbf1d));}get['data'](){const _0x14907c=this['system']['store'][this['entity']['getGuid']()];return _0x14907c?_0x14907c['data']:null;}set['enabled'](_0x30960f){this['_setValue']('enabled',_0x30960f);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x2d2e5a){this['_setValue']('active',_0x2d2e5a);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x3e8229){if(this['_imageEnti'+'ty']!==_0x3e8229){const _0x1ac891=typeof _0x3e8229=='string';if(this['_imageEnti'+'ty']&&_0x1ac891&&this['_imageEnti'+'ty']['getGuid']()===_0x3e8229)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x3e8229 instanceof Ie?this['_imageEnti'+'ty']=_0x3e8229:_0x1ac891?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x3e8229)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1ac891&&_0x3e8229&&(this['data']['imageEntit'+'y']=_0x3e8229);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0xef9f36){this['_setValue']('hitPadding',_0xef9f36);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x380531){this['_setValue']('transition'+'Mode',_0x380531);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x3a3459){this['_setValue']('hoverTint',_0x3a3459);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x470321){this['_setValue']('pressedTin'+'t',_0x470321);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x219915){this['_setValue']('inactiveTi'+'nt',_0x219915);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x23b1a2){this['_setValue']('fadeDurati'+'on',_0x23b1a2);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4f2a7a){this['_setValue']('hoverSprit'+'eAsset',_0x4f2a7a);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x3a0d34){this['_setValue']('hoverSprit'+'eFrame',_0x3a0d34);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x2209b1){this['_setValue']('pressedSpr'+'iteAsset',_0x2209b1);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x1b9429){this['_setValue']('pressedSpr'+'iteFrame',_0x1b9429);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x3cd639){this['_setValue']('inactiveSp'+'riteAsset',_0x3cd639);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x60a4f9){this['_setValue']('inactiveSp'+'riteFrame',_0x60a4f9);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x10fd35,_0x5bcf67){const _0x3ecead=this['data'],_0x190ee7=_0x3ecead[_0x10fd35];_0x3ecead[_0x10fd35]=_0x5bcf67,this['fire']('set',_0x10fd35,_0x190ee7,_0x5bcf67);}['_toggleLif'+'ecycleList'+'eners'](_0x408850,_0x1552f4){var _0x1cf748;this[_0x408850]('set_active',this['_onSetActi'+'ve'],this),this[_0x408850]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x408850]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x408850]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x408850==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x1cf748=this['_evtElemen'+'tAdd'])==null||_0x1cf748['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x528e2d,_0x48a54c,_0x5df85e){_0x48a54c!==_0x5df85e&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x70aadf,_0x41110e,_0x56933e){_0x41110e!==_0x56933e&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x41110e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x524e12,_0x4219df,_0x35d0a1){_0x4219df!==_0x35d0a1&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x315f10,_0xc78ea5;(_0x315f10=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x315f10['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0xc78ea5=this['_imageEnti'+'ty'])!=null&&_0xc78ea5['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x38280b=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x38280b['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x38280b['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x38280b['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x38280b['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x38280b['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x53ae07,_0x1adb69,_0x8a07d3,_0x4df36e,_0x57b888;(_0x53ae07=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x53ae07['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x1adb69=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x1adb69['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x8a07d3=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x8a07d3['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x4df36e=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x4df36e['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x57b888=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x57b888['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x21f027){if(this['entity']['element']){const _0x30f827=_0x21f027==='on';if(_0x30f827&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x21f027]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x21f027]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x21f027]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x21f027]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x21f027]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x21f027]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x21f027]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x21f027]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x21f027]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x21f027]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x21f027]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x21f027]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x21f027]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x21f027]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x30f827;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x25512a;const _0x5315fd=(_0x25512a=this['_imageEnti'+'ty'])==null?void(0xf54+-0x20a4+0x1150):_0x25512a['element'];!_0x5315fd||_0x5315fd['type']===eh||(this['_storeDefa'+'ultColor'](_0x5315fd['color']),this['_storeDefa'+'ultOpacity'](_0x5315fd['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x5315fd['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x5315fd['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x4529df){this['_defaultTi'+'nt']['r']=_0x4529df['r'],this['_defaultTi'+'nt']['g']=_0x4529df['g'],this['_defaultTi'+'nt']['b']=_0x4529df['b'];}['_storeDefa'+'ultOpacity'](_0x2c6a58){this['_defaultTi'+'nt']['a']=_0x2c6a58;}['_storeDefa'+'ultSpriteA'+'sset'](_0x2856db){this['_defaultSp'+'riteAsset']=_0x2856db;}['_storeDefa'+'ultSpriteF'+'rame'](_0x543dc5){this['_defaultSp'+'riteFrame']=_0x543dc5;}['_onSetColo'+'r'](_0x5f4956){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x5f4956),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x5bd0c9){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x5bd0c9),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x1f16a8){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x1f16a8),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x1baaa3){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x1baaa3),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x112334){this['_isHoverin'+'g']=!(0x3*-0x81d+-0xe11+0x2668),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x112334);}['_onMouseLe'+'ave'](_0x23194d){this['_isHoverin'+'g']=!(-0xc70+0x1e3d+-0x11cc),this['_isPressed']=!(-0x24f8+0x1004+0x14f5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x23194d);}['_onMouseDo'+'wn'](_0x212fc5){this['_isPressed']=!(-0x1acd+-0x21cd+0x3c9a*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x212fc5);}['_onMouseUp'](_0x1eddd7){this['_isPressed']=!(-0x54e+-0xd66+0x12b5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x1eddd7);}['_onTouchSt'+'art'](_0x351667){this['_isPressed']=!(-0xd*0x234+0x1533+0xf*0x7f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x351667);}['_onTouchEn'+'d'](_0x158837){_0x158837['event']['preventDef'+'ault'](),this['_isPressed']=!(0xe*-0x91+-0x4b1+0xca0*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x158837);}['_onTouchLe'+'ave'](_0x33e8d6){this['_isPressed']=!(-0x1*-0x17c+-0x11*0x21+0xb6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x33e8d6);}['_onTouchCa'+'ncel'](_0x7dcf57){this['_isPressed']=!(-0x2*0x251+0x4*0x939+-0x2041*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x7dcf57);}['_onSelectS'+'tart'](_0x3ee417){this['_isPressed']=!(-0x1b0a+-0x247e+-0x3f88*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x3ee417);}['_onSelectE'+'nd'](_0x489a8b){this['_isPressed']=!(0x1ab9+0x1e26+-0x38de),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x489a8b);}['_onSelectE'+'nter'](_0x38c547){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x1e9a+0x12*-0x224+0x4523&&(this['_isHoverin'+'g']=!(0x2ba+0xe75+-0x112f),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x38c547);}['_onSelectL'+'eave'](_0x52fb56){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0xc6f+0x9*-0x1c1+0x35a&&(this['_isHoverin'+'g']=!(-0x1*0x13ae+0xad4+-0x8db*-0x1),this['_isPressed']=!(0x1442*0x1+0x4b*-0x1+-0x13f6),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x52fb56);}['_onClick'](_0x379f3f){this['_fireIfAct'+'ive']('click',_0x379f3f);}['_fireIfAct'+'ive'](_0x5c647f,_0x4cbfcb){this['data']['active']&&this['fire'](_0x5c647f,_0x4cbfcb);}['_updateVis'+'ualState'](_0x357d88){const _0x5b1b60=this['_visualSta'+'te'],_0x2a21a1=this['_determine'+'VisualStat'+'e']();if((_0x5b1b60!==_0x2a21a1||_0x357d88)&&this['enabled'])switch(this['_visualSta'+'te']=_0x2a21a1,_0x5b1b60===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5b1b60===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x2a21a1===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x2a21a1===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x12c699=kl[this['_visualSta'+'te']],_0x2a3a4e=this[_0x12c699];this['_applyTint'](_0x2a3a4e);break;}case Ng:{const _0x54c31f=Ul[this['_visualSta'+'te']],_0x244edd=Bl[this['_visualSta'+'te']],_0x56ef06=this[_0x54c31f],_0x1f7476=this[_0x244edd];this['_applySpri'+'te'](_0x56ef06,_0x1f7476);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x104e*-0x2+0x1285+-0x3321*0x1));}['_resetToDe'+'faultVisua'+'lState'](_0x568d3a){var _0x3cdf6e;if((_0x3cdf6e=this['_imageEnti'+'ty'])!=null&&_0x3cdf6e['element'])switch(_0x568d3a){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0xee1d66,_0x39b79b){var _0x4a5754;const _0x2f58f8=(_0x4a5754=this['_imageEnti'+'ty'])==null?void(0x3*0xced+-0x1c71+-0xa56):_0x4a5754['element'];_0x2f58f8&&(_0x39b79b=_0x39b79b||-0x1*0x1d2e+-0x1126+0x2e54,this['_isApplyin'+'gSprite']=!(0x5*-0x36d+-0x180+0x12a1),_0x2f58f8['spriteAsse'+'t']!==_0xee1d66&&(_0x2f58f8['spriteAsse'+'t']=_0xee1d66),_0x2f58f8['spriteFram'+'e']!==_0x39b79b&&(_0x2f58f8['spriteFram'+'e']=_0x39b79b),this['_isApplyin'+'gSprite']=!(-0xebf+0x2*0xad5+-0xb1*0xa));}['_applyTint'](_0x16a029){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x2*-0x132d+-0x11*0x22c+0x4b46?this['_applyTint'+'Immediatel'+'y'](_0x16a029):this['_applyTint'+'WithTween'](_0x16a029);}['_applyTint'+'Immediatel'+'y'](_0x281c99){var _0x56ba93;const _0x2e18c1=(_0x56ba93=this['_imageEnti'+'ty'])==null?void(0x17*0x37+0x1*-0x35d+-0x194):_0x56ba93['element'];if(!_0x281c99||!_0x2e18c1||_0x2e18c1['type']===eh)return;const _0x1b84d3=kg(_0x281c99);this['_isApplyin'+'gTint']=!(0x670*0x3+0x3*-0x557+-0x34b),_0x1b84d3['equals'](_0x2e18c1['color'])||(_0x2e18c1['color']=_0x1b84d3),_0x2e18c1['opacity']!==_0x281c99['a']&&(_0x2e18c1['opacity']=_0x281c99['a']),this['_isApplyin'+'gTint']=!(0x3*-0x386+0x11*-0x14b+-0x6*-0x56d);}['_applyTint'+'WithTween'](_0x526d8c){var _0x169250;const _0x342a30=(_0x169250=this['_imageEnti'+'ty'])==null?void(-0x157*-0x1+-0xa39*0x1+0x3*0x2f6):_0x169250['element'];if(!_0x526d8c||!_0x342a30||_0x342a30['type']===eh)return;const _0x4ced5e=kg(_0x526d8c),_0x83cfa7=_0x342a30['color'],_0x16d7cd=_0x342a30['opacity'];_0x4ced5e['equals'](_0x83cfa7)&&_0x526d8c['a']===_0x16d7cd||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x83cfa7['r'],_0x83cfa7['g'],_0x83cfa7['b'],_0x16d7cd),'to':_0x526d8c['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x528d45=de()-this['_tweenInfo']['startTime'];let _0x3dbb1d=this['fadeDurati'+'on']===-0xa11*0x2+-0x1*-0x1bd7+0x7b5*-0x1?0x792+0x16f*0x5+-0xebc:_0x528d45/this['fadeDurati'+'on'];if(_0x3dbb1d=Y['clamp'](_0x3dbb1d,-0x26ef*0x1+-0x1346+0x3a35,0x202c+0x227b+-0x42a6),Math['abs'](_0x3dbb1d-(-0x10*0x1a2+-0x8cc*0x2+-0x111*-0x29))>-0x6e0+-0x13fe+-0xb5*-0x26+0.00001){const _0x276874=this['_tweenInfo']['lerpColor'];_0x276874['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x3dbb1d),this['_applyTint'+'Immediatel'+'y'](new ie(_0x276874['r'],_0x276874['g'],_0x276874['b'],_0x276874['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1838+0xa44+-0xd*0x2a7),this['_hoveringC'+'ounter']=0x25*0x8e+-0x473+-0x337*0x5,this['_isPressed']=!(-0x18d6+0x37*-0x9a+0x39ed),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3736e3,_0x20ff6b){_0x3736e3['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x20ff6b[_0x3736e3['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x44b576){return new ie(_0x44b576['r'],_0x44b576['g'],_0x44b576['b']);}class WL{constructor(){this['enabled']=!(-0x1*0xacb+-0x618+0x10e3),this['active']=!(-0x2036+0xb53+0x14e3),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x264d+0x1dca+0x1*-0x4417+0.75,-0x1*0x2551+-0x1*0x188+0x26d9+0.75,-0xa79+-0xd9a+-0x1813*-0x1+0.75),this['pressedTin'+'t']=new ie(-0x1*-0x2695+-0x1*0x22+-0x2673+0.5,0x2595+-0x1c1e+-0x977+0.5,-0x7*0x1cd+-0x7cc+0x1467+0.5),this['inactiveTi'+'nt']=new ie(-0xa53*0x2+0x1603+0x1*-0x15d+0.25,-0x15*-0xbf+-0x11f5*-0x1+-0x21a0+0.25,0x1afe+-0xd89+-0xd75+0.25),this['fadeDurati'+'on']=-0x9f*-0xe+0x6*-0x176+0x9*0x2,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x7*-0xf0+0x1*-0x152d+0xe9d,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x14ce+-0x79*-0xe+-0x718*-0x2,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x7f9*0x1+0x21c2+-0x29bb;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x9280a7){super(_0x9280a7),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x12a43f,_0x3259dd,_0x510883){_0x12a43f['imageEntit'+'y']=_0x3259dd['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x12a43f,_0x3259dd,Ug);}['onUpdate'](_0x5d3a34){const _0x1a6411=this['store'];for(const _0x29bbab in _0x1a6411){const _0x446e11=_0x1a6411[_0x29bbab]['entity'],_0x50e7ad=_0x446e11['button'];_0x50e7ad['enabled']&&_0x446e11['enabled']&&_0x50e7ad['onUpdate']();}}['_onRemoveC'+'omponent'](_0x471b65,_0x567e4d){_0x567e4d['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x592913,_0x5b4cd8){super(_0x592913,_0x5b4cd8),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x180*-0xc+-0xb*-0x1eb+-0x2*0x18c)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x32d057=this['system']['store'][this['entity']['getGuid']()];return _0x32d057?_0x32d057['data']:null;}set['enabled'](_0x1268c8){this['_setValue']('enabled',_0x1268c8);}get['enabled'](){return this['data']['enabled'];}set['type'](_0xa021c7){this['_setValue']('type',_0xa021c7);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x57aec0){this['_setValue']('halfExtent'+'s',_0x57aec0);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x551dd9){this['_setValue']('linearOffs'+'et',_0x551dd9);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x395e8f){this['_setValue']('angularOff'+'set',_0x395e8f);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x2f2fde){this['_setValue']('radius',_0x2f2fde);}get['radius'](){return this['data']['radius'];}set['axis'](_0x1c428f){this['_setValue']('axis',_0x1c428f);}get['axis'](){return this['data']['axis'];}set['height'](_0x54fe82){this['_setValue']('height',_0x54fe82);}get['height'](){return this['data']['height'];}set['asset'](_0x21870d){this['_setValue']('asset',_0x21870d);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x37e2ad){this['_setValue']('renderAsse'+'t',_0x37e2ad);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0xe50eb6){this['_setValue']('convexHull',_0xe50eb6);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xc88736){this['_setValue']('shape',_0xc88736);}get['shape'](){return this['data']['shape'];}set['model'](_0x48e4e9){this['_setValue']('model',_0x48e4e9);}get['model'](){return this['data']['model'];}set['render'](_0x14e2d8){this['_setValue']('render',_0x14e2d8);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x35cbef){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x35cbef);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x5881a3,_0x56b675){const _0x32a9e3=this['data'],_0x26960f=_0x32a9e3[_0x5881a3];_0x32a9e3[_0x5881a3]=_0x56b675,this['fire']('set',_0x5881a3,_0x26960f,_0x56b675);}['onSetType'](_0x2e5de0,_0x4c3503,_0x374761){_0x4c3503!==_0x374761&&this['system']['changeType'](this,_0x4c3503,_0x374761);}['onSetHalfE'+'xtents'](_0x4c2c23,_0x499101,_0x33bf90){const _0x2084de=this['data']['type'];this['data']['initialize'+'d']&&_0x2084de==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x5b1000,_0xe60900,_0xea201d){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x2b3026,_0x1c5c6b,_0x2695cd){const _0x22943e=this['data']['type'];this['data']['initialize'+'d']&&(_0x22943e==='sphere'||_0x22943e==='capsule'||_0x22943e==='cylinder'||_0x22943e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x1caf0e,_0x302679,_0x34595c){const _0x30e561=this['data']['type'];this['data']['initialize'+'d']&&(_0x30e561==='capsule'||_0x30e561==='cylinder'||_0x30e561==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x165514,_0x565407,_0x2f625c){const _0x5eb867=this['data']['type'];this['data']['initialize'+'d']&&(_0x5eb867==='capsule'||_0x5eb867==='cylinder'||_0x5eb867==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0xa9e590,_0x4e1ff3,_0x5a1cef){const _0x2d09fb=this['system']['app']['assets'];if(_0x4e1ff3){const _0x23b746=_0x2d09fb['get'](_0x4e1ff3);_0x23b746&&_0x23b746['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x5a1cef){_0x5a1cef instanceof pe&&(this['data']['asset']=_0x5a1cef['id']);const _0x231c64=_0x2d09fb['get'](this['data']['asset']);_0x231c64&&(_0x231c64['off']('remove',this['onAssetRem'+'oved'],this),_0x231c64['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5a1cef||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x3ad8f6,_0xfadfec,_0x11b414){const _0x3f674f=this['system']['app']['assets'];if(_0xfadfec){const _0x7c0a92=_0x3f674f['get'](_0xfadfec);_0x7c0a92&&_0x7c0a92['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x11b414){_0x11b414 instanceof pe&&(this['data']['renderAsse'+'t']=_0x11b414['id']);const _0x195e96=_0x3f674f['get'](this['data']['renderAsse'+'t']);_0x195e96&&(_0x195e96['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x195e96['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x11b414||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x964b3d,_0x505cc5,_0x5c5a17){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x31e35b,_0x353e5d,_0x45608d){this['onSetModel'](_0x31e35b,_0x353e5d,_0x45608d);}['onAssetRem'+'oved'](_0x54a7dc){_0x54a7dc['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x54a7dc['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x2b95cf){_0x2b95cf['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x2b95cf['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x4c69f7){const _0x5ad12e=this['data']['shape'],_0x23b71f=_0x5ad12e['getNumChil'+'dShapes']();for(let _0x3a7a55=0x863*0x3+-0x1141+-0x4*0x1fa;_0x3a7a55<_0x23b71f;_0x3a7a55++){const _0x44c72b=_0x5ad12e['getChildSh'+'ape'](_0x3a7a55);if(Ammo['getPointer'](_0x44c72b)===Ammo['getPointer'](_0x4c69f7))return _0x3a7a55;}return null;}['_onInsert'](_0x1dbea6){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x236ddc=this['entity']['parent'];for(;_0x236ddc;){if(_0x236ddc['collision']&&_0x236ddc['collision']['type']==='compound'){_0x236ddc['collision']['shape']['getNumChil'+'dShapes']()===-0x79*0x33+0x1a26+-0x20b?this['system']['recreatePh'+'ysicalShap'+'es'](_0x236ddc['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x236ddc=_0x236ddc['parent'];}}}}}['_updateCom'+'pound'](){const _0x16ad29=this['entity'];if(_0x16ad29['_dirtyWorl'+'d']){let _0xc387ff=_0x16ad29['_dirtyLoca'+'l'],_0x545e18=_0x16ad29;for(;_0x545e18&&!_0xc387ff&&!(_0x545e18['collision']&&_0x545e18['collision']===this['_compoundP'+'arent']);)_0x545e18['_dirtyLoca'+'l']&&(_0xc387ff=!(-0x60e+0x18bb+-0x12ad)),_0x545e18=_0x545e18['parent'];if(_0xc387ff){_0x16ad29['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x16ad29);const _0x3f6654=this['_compoundP'+'arent']['entity']['rigidbody'];_0x3f6654&&_0x3f6654['activate']();}}}['getShapePo'+'sition'](){const _0x33a1cb=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x63d20c=this['entity']['getRotatio'+'n'](),_0x404bb8=this['data']['linearOffs'+'et'];return zg['copy'](_0x63d20c)['transformV'+'ector'](_0x404bb8,Bg),Bg['add'](_0x33a1cb);}return _0x33a1cb;}['getShapeRo'+'tation'](){const _0x3bf95b=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x3bf95b)['mul'](this['data']['angularOff'+'set']):_0x3bf95b;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x236142=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x236142&&(!_0x236142['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x729+0x23b*0x11+-0x2d14)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x52daec=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x52daec,this['data']['shape']),Ammo['destroy'](_0x52daec),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(0x75b*0x1+0x10*0x250+-0x1*0x2c5b),this['type']='box',this['halfExtent'+'s']=new D(0x33*0x77+-0x1e8e+0x6d9+0.5,0x14*0xf4+0x71f*-0x1+-0xbf1+0.5,-0x1a89*-0x1+-0x24f3+0xa6a+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0xb75*0x1+-0x3*-0x48e+-0x235+0.5,this['axis']=0x5*0x535+0x17bc+-0x31c4,this['height']=-0x2670+-0x33*-0x29+0x1e47,this['convexHull']=!(-0x649*0x1+0x2327+-0x9*0x335),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x143e+-0x1a18+0x2e56),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0xf11+0x1*-0xc29+-0x1b3b*-0x1);}}const yo='static',ks='dynamic',Ha='kinematic',qL=0x154f*0x1+-0x3*-0xcb9+-0x1dbc*0x2,Po=-0x4*-0x49d+-0x7b*0x33+0x611*0x1,Pu=0x117*-0xf+-0x2429+0x3483,Vg=0x1*0x8e7+-0x4cd*0x4+-0x13*-0x8b,Yv=0x1902+0x2*-0x740+-0xf*0xb3,jL=0xf*-0xae+-0x1e85*-0x1+0x9*-0x242,Gg=-0x1d07+0x1023+0xce6,YL=0xd60+-0x1c19+0xebd,Hg=-0x1*0x1d0f+-0x1eb+-0xf85*-0x2,Wg=-0x2*-0x9e87+-0x1a*0x442+0x31a5*0x1,Mu=0xa907+-0x126e5*0x1+0x17ddb;let Us,zr,Wa;class Kv{constructor(_0x4346e2,_0x2f17cf,_0x59c0d6){this['entity']=_0x2f17cf['entity'],this['component']=_0x2f17cf,this['app']=_0x4346e2,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x59c0d6);}['initialize'](_0x3efdba){const _0x49ec88=this['entity'],_0x52a4dd=_0x3efdba['shape'];if(_0x52a4dd&&typeof Ammo<'u'){_0x49ec88['trigger']&&_0x49ec88['trigger']['destroy']();const _0x375700=-0x15*0x17f+0x16df+-0x88d*-0x1,_0x2d6601=this['component'];if(_0x2d6601){const _0x2159eb=_0x2d6601['getShapePo'+'sition'](),_0x441fe2=_0x2d6601['getShapeRo'+'tation']();Us['setValue'](_0x2159eb['x'],_0x2159eb['y'],_0x2159eb['z']),zr['setValue'](_0x441fe2['x'],_0x441fe2['y'],_0x441fe2['z'],_0x441fe2['w']);}else{const _0x47f9f1=_0x49ec88['getPositio'+'n'](),_0xff7920=_0x49ec88['getRotatio'+'n']();Us['setValue'](_0x47f9f1['x'],_0x47f9f1['y'],_0x47f9f1['z']),zr['setValue'](_0xff7920['x'],_0xff7920['y'],_0xff7920['z'],_0xff7920['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x286bd6=this['app']['systems']['rigidbody']['createBody'](_0x375700,_0x52a4dd,Wa);_0x286bd6['setRestitu'+'tion'](-0x1cfd+0x84+0x1c79*0x1),_0x286bd6['setFrictio'+'n'](-0x3*-0xbe9+-0xa01*0x1+-0xcdd*0x2),_0x286bd6['setDamping'](0x1*-0x12e6+-0x1605+0x82f*0x5,-0x826+-0x1b19+0x233f*0x1),Us['setValue'](0x20e9+0x8e1+-0x2*0x14e5,0x1d5c+0x1*0x1b68+-0x38c4,-0x202c+0x2349*0x1+-0x31d),_0x286bd6['setLinearF'+'actor'](Us),_0x286bd6['setAngular'+'Factor'](Us),_0x286bd6['setCollisi'+'onFlags'](_0x286bd6['getCollisi'+'onFlags']()|Po),_0x286bd6['entity']=_0x49ec88,this['body']=_0x286bd6,this['component']['enabled']&&_0x49ec88['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0xe8efc2){const _0x281a58=this['component'];if(_0x281a58){const _0x2d7426=_0x281a58['getShapePo'+'sition'](),_0x11f587=_0x281a58['getShapeRo'+'tation']();Us['setValue'](_0x2d7426['x'],_0x2d7426['y'],_0x2d7426['z']),zr['setValue'](_0x11f587['x'],_0x11f587['y'],_0x11f587['z'],_0x11f587['w']);}else{const _0x295025=this['entity']['getPositio'+'n'](),_0x3abc17=this['entity']['getRotatio'+'n']();Us['setValue'](_0x295025['x'],_0x295025['y'],_0x295025['z']),zr['setValue'](_0x3abc17['x'],_0x3abc17['y'],_0x3abc17['z'],_0x3abc17['w']);}_0xe8efc2['setOrigin'](Us),_0xe8efc2['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x3948b9=this['body'];_0x3948b9['setWorldTr'+'ansform'](Wa),_0x3948b9['activate']();}['enable'](){const _0x1c6ac7=this['body'];if(!_0x1c6ac7)return;const _0x2713f2=this['app']['systems']['rigidbody'];_0x2713f2['_triggers']['indexOf'](this)<0xad*-0xf+0x1*0x1da4+0x1*-0x1381&&(_0x2713f2['addBody'](_0x1c6ac7,Hg,Mu^Hg),_0x2713f2['_triggers']['push'](this)),_0x1c6ac7['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x290bd9=this['body'];if(!_0x290bd9)return;const _0x21718e=this['app']['systems']['rigidbody'],_0x204bea=_0x21718e['_triggers']['indexOf'](this);_0x204bea>-(0x7a8+-0xed4+0x72d*0x1)&&(_0x21718e['removeBody'](_0x290bd9),_0x21718e['_triggers']['splice'](_0x204bea,0x1815+0x23d7+-0x13f9*0x3)),_0x290bd9['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x58ac07){this['system']=_0x58ac07;}['beforeInit'+'ialize'](_0x28c19f,_0x425703){_0x425703['shape']=null,_0x425703['model']=new sr(),_0x425703['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x411f9a,_0x447e40){this['recreatePh'+'ysicalShap'+'es'](_0x411f9a),_0x411f9a['data']['initialize'+'d']=!(0xf19*0x2+-0x25f*-0xb+-0x3847);}['reset'](_0x3bae58,_0x10ba21){this['beforeInit'+'ialize'](_0x3bae58,_0x10ba21),this['afterIniti'+'alize'](_0x3bae58,_0x10ba21);}['recreatePh'+'ysicalShap'+'es'](_0x141360){const _0x33f704=_0x141360['entity'],_0x5eea8c=_0x141360['data'];if(typeof Ammo<'u'){_0x33f704['trigger']&&(_0x33f704['trigger']['destroy'](),delete _0x33f704['trigger']),_0x5eea8c['shape']&&(_0x141360['_compoundP'+'arent']&&(_0x141360!==_0x141360['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x141360['_compoundP'+'arent'],_0x5eea8c['shape']),_0x141360['_compoundP'+'arent']['entity']['rigidbody']&&_0x141360['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x5eea8c)),_0x5eea8c['shape']=this['createPhys'+'icalShape'](_0x141360['entity'],_0x5eea8c);const _0x185a65=!_0x141360['_compoundP'+'arent'];if(_0x5eea8c['type']==='compound'&&(!_0x141360['_compoundP'+'arent']||_0x141360===_0x141360['_compoundP'+'arent']))_0x141360['_compoundP'+'arent']=_0x141360,_0x33f704['forEach'](this['_addEachDe'+'scendant'],_0x141360);else{if(_0x5eea8c['type']!=='compound'&&!_0x141360['rigidbody']){_0x141360['_compoundP'+'arent']=null;let _0x12ea5b=_0x33f704['parent'];for(;_0x12ea5b;){if(_0x12ea5b['collision']&&_0x12ea5b['collision']['type']==='compound'){_0x141360['_compoundP'+'arent']=_0x12ea5b['collision'];break;}_0x12ea5b=_0x12ea5b['parent'];}}}_0x141360['_compoundP'+'arent']&&_0x141360!==_0x141360['_compoundP'+'arent']&&(_0x185a65&&_0x141360['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x2457+0x6a*-0x21+0xfb*0x33?this['system']['recreatePh'+'ysicalShap'+'es'](_0x141360['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x33f704,!(0x58*-0x51+0x11*-0x5+0x1c2d*0x1)),_0x141360['_compoundP'+'arent']['entity']['rigidbody']&&_0x141360['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x33f704['rigidbody']?(_0x33f704['rigidbody']['disableSim'+'ulation'](),_0x33f704['rigidbody']['createBody'](),_0x33f704['enabled']&&_0x33f704['rigidbody']['enabled']&&_0x33f704['rigidbody']['enableSimu'+'lation']()):_0x141360['_compoundP'+'arent']||(_0x33f704['trigger']?_0x33f704['trigger']['initialize'](_0x5eea8c):_0x33f704['trigger']=new Kv(this['system']['app'],_0x141360,_0x5eea8c));}}['createPhys'+'icalShape'](_0x2147bd,_0x28b389){}['updateTran'+'sform'](_0x5e2534,_0x30d816,_0x36f5d9,_0xb129ca){_0x5e2534['entity']['trigger']&&_0x5e2534['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x1d1586){_0x1d1586['shape']&&(Ammo['destroy'](_0x1d1586['shape']),_0x1d1586['shape']=null);}['beforeRemo'+'ve'](_0x3b7f5f,_0x38e750){_0x38e750['data']['shape']&&(_0x38e750['_compoundP'+'arent']&&!_0x38e750['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x38e750['_compoundP'+'arent'],_0x38e750['data']['shape']),_0x38e750['_compoundP'+'arent']['entity']['rigidbody']&&_0x38e750['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x38e750['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x38e750['data']));}['remove'](_0x25f2be,_0x7cda63){_0x25f2be['rigidbody']&&_0x25f2be['rigidbody']['body']&&_0x25f2be['rigidbody']['disableSim'+'ulation'](),_0x25f2be['trigger']&&(_0x25f2be['trigger']['destroy'](),delete _0x25f2be['trigger']);}['clone'](_0x4c441c,_0x297ae3){const _0x4daa7a=this['system']['store'][_0x4c441c['getGuid']()],_0x2dd648={'enabled':_0x4daa7a['data']['enabled'],'type':_0x4daa7a['data']['type'],'halfExtents':[_0x4daa7a['data']['halfExtent'+'s']['x'],_0x4daa7a['data']['halfExtent'+'s']['y'],_0x4daa7a['data']['halfExtent'+'s']['z']],'linearOffset':[_0x4daa7a['data']['linearOffs'+'et']['x'],_0x4daa7a['data']['linearOffs'+'et']['y'],_0x4daa7a['data']['linearOffs'+'et']['z']],'angularOffset':[_0x4daa7a['data']['angularOff'+'set']['x'],_0x4daa7a['data']['angularOff'+'set']['y'],_0x4daa7a['data']['angularOff'+'set']['z'],_0x4daa7a['data']['angularOff'+'set']['w']],'radius':_0x4daa7a['data']['radius'],'axis':_0x4daa7a['data']['axis'],'height':_0x4daa7a['data']['height'],'convexHull':_0x4daa7a['data']['convexHull'],'asset':_0x4daa7a['data']['asset'],'renderAsset':_0x4daa7a['data']['renderAsse'+'t'],'model':_0x4daa7a['data']['model'],'render':_0x4daa7a['data']['render'],'checkVertexDuplicates':_0x4daa7a['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x297ae3,_0x2dd648);}}class JL extends Ca{['createPhys'+'icalShape'](_0x3de0bb,_0x3bc4ad){if(typeof Ammo<'u'){const _0x161a47=_0x3bc4ad['halfExtent'+'s'],_0x47378f=new Ammo['btVector3'](_0x161a47?_0x161a47['x']:-0x53b+0xcac+0x1*-0x771+0.5,_0x161a47?_0x161a47['y']:0xe6+0x61*-0x43+0x187d+0.5,_0x161a47?_0x161a47['z']:0xa*0xd8+0x2f*-0xa3+-0x1*-0x157d+0.5),_0x55179e=new Ammo['btBoxShape'](_0x47378f);return Ammo['destroy'](_0x47378f),_0x55179e;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x4a6f4c,_0x598507){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x598507['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x35182b,_0x3b369e){const _0x9abc00=_0x3b369e['axis']??-0xb29+0x9e9+0x3*0x6b,_0x3287c8=_0x3b369e['radius']??-0x1d4*0x12+-0xbc1*0x1+0x2ca9+0.5,_0xf0395d=Math['max']((_0x3b369e['height']??-0x1ab*0x7+0x1*-0x1499+-0x8*-0x409)-(0x13ce+-0xdfd+0x1*-0x5cf)*_0x3287c8,-0xf*0x3+0xddb+-0xdae);let _0x29e4b0=null;if(typeof Ammo<'u')switch(_0x9abc00){case-0x1df8+0x24fb+-0x703:_0x29e4b0=new Ammo['btCapsuleS'+'hapeX'](_0x3287c8,_0xf0395d);break;case 0x9d*-0x1+0x74b*0x5+-0x23d9:_0x29e4b0=new Ammo['btCapsuleS'+'hape'](_0x3287c8,_0xf0395d);break;case-0x1bb8+0x11*-0x2f+-0x1*-0x1ed9:_0x29e4b0=new Ammo['btCapsuleS'+'hapeZ'](_0x3287c8,_0xf0395d);break;}return _0x29e4b0;}}class sR extends Ca{['createPhys'+'icalShape'](_0x30cc1d,_0x151f1d){const _0x372b20=_0x151f1d['axis']??0x1f4*-0x11+0x1f39+-0xfe*-0x2,_0x1aaa41=_0x151f1d['radius']??-0xac8+-0x195a+-0x1*-0x2422+0.5,_0x28d44d=_0x151f1d['height']??-0x441+0x157d+0xb*-0x191;let _0x256951=null,_0x5a80b6=null;if(typeof Ammo<'u')switch(_0x372b20){case-0x33b*0x7+0x17*0xeb+0x180:_0x256951=new Ammo['btVector3'](_0x28d44d*(-0x2007+0x197+-0x2*-0xf38+0.5),_0x1aaa41,_0x1aaa41),_0x5a80b6=new Ammo['btCylinder'+'ShapeX'](_0x256951);break;case-0x15d3*0x1+0x4b*0x23+0xb93:_0x256951=new Ammo['btVector3'](_0x1aaa41,_0x28d44d*(-0x4c*-0x6f+0x3*-0x997+-0x42f+0.5),_0x1aaa41),_0x5a80b6=new Ammo['btCylinder'+'Shape'](_0x256951);break;case 0x3*-0xbd9+-0xa*0x3a9+-0x8d*-0x83:_0x256951=new Ammo['btVector3'](_0x1aaa41,_0x1aaa41,_0x28d44d*(0x1*0x21d9+0x1a0b+-0x3be4+0.5)),_0x5a80b6=new Ammo['btCylinder'+'ShapeZ'](_0x256951);break;}return _0x256951&&Ammo['destroy'](_0x256951),_0x5a80b6;}}class iR extends Ca{['createPhys'+'icalShape'](_0x2dc91b,_0xf1664b){const _0x1e9a03=_0xf1664b['axis']??0x20e7*0x1+0x27c+-0x2362,_0x1dd91b=_0xf1664b['radius']??-0x2a2+-0xd5c+-0x2e*-0x59+0.5,_0x927359=_0xf1664b['height']??0x1*0x101e+-0x1*0x859+-0x2*0x3e2;let _0x11d07e=null;if(typeof Ammo<'u')switch(_0x1e9a03){case-0x2d+0x20ae+0x1*-0x2081:_0x11d07e=new Ammo['btConeShap'+'eX'](_0x1dd91b,_0x927359);break;case 0x1b05+0x245d+-0x3f61:_0x11d07e=new Ammo['btConeShap'+'e'](_0x1dd91b,_0x927359);break;case 0x2392+0x3*0x687+-0x3725:_0x11d07e=new Ammo['btConeShap'+'eZ'](_0x1dd91b,_0x927359);break;}return _0x11d07e;}}class rR extends Ca{['beforeInit'+'ialize'](_0x17502c,_0x8e5724){}['createAmmo'+'Hull'](_0x4c623d,_0x1a8f90,_0x42d92b,_0x33441d){const _0x424c16=new Ammo['btConvexHu'+'llShape'](),_0x568be6=new Ammo['btVector3'](),_0x344351=[];_0x4c623d['getPositio'+'ns'](_0x344351);for(let _0xaa244f=0x2557+0x2*0xfa3+-0x449d;_0xaa244f<_0x344351['length'];_0xaa244f+=0x7*0x572+-0xd*0x1f+-0x2488)_0x568be6['setValue'](_0x344351[_0xaa244f]*_0x33441d['x'],_0x344351[_0xaa244f+(-0x1*-0x8db+0xf21*-0x1+0x647*0x1)]*_0x33441d['y'],_0x344351[_0xaa244f+(-0x2364+-0x9*0x27e+0x39d4)]*_0x33441d['z']),_0x424c16['addPoint'](_0x568be6,!(-0xb02+-0x1*0xfb2+0x1ab5));Ammo['destroy'](_0x568be6),_0x424c16['recalcLoca'+'lAabb'](),_0x424c16['setMargin'](0x60c+-0x6*-0x259+-0x1422+0.01);const _0x3b05a8=this['system']['_getNodeTr'+'ansform'](_0x1a8f90);_0x42d92b['addChildSh'+'ape'](_0x3b05a8,_0x424c16),Ammo['destroy'](_0x3b05a8);}['createAmmo'+'Mesh'](_0x356d6c,_0x3e247f,_0x560682,_0x36c926,_0x4f5fdd=!(0xbce+0xbcd+-0x179b)){const _0x409c6d=this['system'];let _0x2a115a;if(_0x409c6d['_triMeshCa'+'che'][_0x356d6c['id']])_0x2a115a=_0x409c6d['_triMeshCa'+'che'][_0x356d6c['id']];else{const _0x1d27c7=_0x356d6c['vertexBuff'+'er'],_0x47be87=_0x1d27c7['getFormat']();let _0x481741,_0x53a870;for(let _0x290ab0=0x1c94+-0x33d*-0xb+0x1*-0x4033;_0x290ab0<_0x47be87['elements']['length'];_0x290ab0++){const _0xfc345d=_0x47be87['elements'][_0x290ab0];if(_0xfc345d['name']===Me){_0x53a870=new Float32Array(_0x1d27c7['lock'](),_0xfc345d['offset']),_0x481741=_0xfc345d['stride']/(0xf8e*-0x2+0xd64+0x11bc);break;}}const _0xf8401a=[];_0x356d6c['getIndices'](_0xf8401a);const _0x2315df=_0x356d6c['primitive'][-0x4*0x3c7+-0x3a6+0x12c2]['count']/(-0xb*-0xb1+0x1*0x167d+-0x11*0x1c5),_0x1fc899=new Ammo['btVector3']();let _0x4b0257,_0x4ab0dc,_0xe09b39;const _0x43871a=_0x356d6c['primitive'][-0xe5*0xb+0x287*0xc+0x5*-0x419]['base'];_0x2a115a=new Ammo['btTriangle'+'Mesh'](),_0x409c6d['_triMeshCa'+'che'][_0x356d6c['id']]=_0x2a115a;const _0x18464e=new Map();w['assert'](typeof _0x2a115a['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x51684e=_0x2a115a['getIndexed'+'MeshArray']();_0x51684e['at'](-0x1d73+-0x80*0x42+0x3e73)['m_numTrian'+'gles']=_0x2315df;const _0x524474=_0x36c926?_0x36c926['x']:0x1570+-0x1ed+0x2*-0x9c1,_0x2b78f4=_0x36c926?_0x36c926['y']:-0x9e*-0x2b+-0x18fb+0xc7*-0x2,_0x514a6b=_0x36c926?_0x36c926['z']:0xb*0xbe+0x1*0x26c5+0x2eee*-0x1,_0x5470f3=_0x26ec3b=>{const _0x176eba=_0x53a870[_0x26ec3b*_0x481741]*_0x524474,_0x2a8f32=_0x53a870[_0x26ec3b*_0x481741+(0x2a9*0xb+0x8*0x49+-0x16f*0x16)]*_0x2b78f4,_0x40a2e9=_0x53a870[_0x26ec3b*_0x481741+(-0x5*0x6e5+-0x1a68+0x3ce3)]*_0x514a6b;let _0x17703f;if(_0x4f5fdd){const _0x1769b3=_0x176eba+':'+_0x2a8f32+':'+_0x40a2e9;if(_0x17703f=_0x18464e['get'](_0x1769b3),_0x17703f!==void(-0x79*-0xf+-0x52d+0xe*-0x23))return _0x17703f;_0x1fc899['setValue'](_0x176eba,_0x2a8f32,_0x40a2e9),_0x17703f=_0x2a115a['findOrAddV'+'ertex'](_0x1fc899,!(0x1d9f*0x1+-0xcd7+-0x10c7)),_0x18464e['set'](_0x1769b3,_0x17703f);}else _0x1fc899['setValue'](_0x176eba,_0x2a8f32,_0x40a2e9),_0x17703f=_0x2a115a['findOrAddV'+'ertex'](_0x1fc899,!(-0x14f9+0x3*-0xbe3+-0x1*-0x38a3));return _0x17703f;};for(let _0x5d811e=-0x1*0x2476+0x3d*-0x8d+0x460f;_0x5d811e<_0x2315df;_0x5d811e++)_0x4b0257=_0x5470f3(_0xf8401a[_0x43871a+_0x5d811e*(0xa*0x3d2+-0x915+-0x1d1c)]),_0x4ab0dc=_0x5470f3(_0xf8401a[_0x43871a+_0x5d811e*(0x52c*-0x1+-0x1910+0x1e3f)+(0x2f*0xc1+-0x2*-0xd6d+-0x3e48)]),_0xe09b39=_0x5470f3(_0xf8401a[_0x43871a+_0x5d811e*(0x23*-0x3e+-0xe1b*0x1+0x1698)+(0xc77+0xa85*-0x3+0x131a)]),_0x2a115a['addIndex'](_0x4b0257),_0x2a115a['addIndex'](_0x4ab0dc),_0x2a115a['addIndex'](_0xe09b39);Ammo['destroy'](_0x1fc899);}const _0x1ec038=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x2a115a,!(0x1*-0x1d1e+0x133f+0x169*0x7));if(!_0x36c926){const _0xeefa86=_0x409c6d['_getNodeSc'+'aling'](_0x3e247f);_0x1ec038['setLocalSc'+'aling'](_0xeefa86),Ammo['destroy'](_0xeefa86);}const _0x2bda2b=_0x409c6d['_getNodeTr'+'ansform'](_0x3e247f);_0x560682['addChildSh'+'ape'](_0x2bda2b,_0x1ec038),Ammo['destroy'](_0x2bda2b);}['createPhys'+'icalShape'](_0x13d7ea,_0x4be907){if(!(typeof Ammo>'u')&&(_0x4be907['model']||_0x4be907['render'])){const _0x147de2=new Ammo['btCompound'+'Shape'](),_0x46b6e4=_0x13d7ea['getWorldTr'+'ansform']()['getScale']();if(_0x4be907['render']){const _0x22ec23=_0x4be907['render']['meshes'];for(let _0x582d05=-0x46*-0x38+0x1*0x1e0d+0xf1f*-0x3;_0x582d05<_0x22ec23['length'];_0x582d05++)_0x4be907['convexHull']?this['createAmmo'+'Hull'](_0x22ec23[_0x582d05],$g,_0x147de2,_0x46b6e4):this['createAmmo'+'Mesh'](_0x22ec23[_0x582d05],$g,_0x147de2,_0x46b6e4,_0x4be907['checkVerte'+'xDuplicate'+'s']);}else{if(_0x4be907['model']){const _0xd9890b=_0x4be907['model']['meshInstan'+'ces'];for(let _0x6f8a21=-0x849+-0x11*0x125+0x1bbe;_0x6f8a21<_0xd9890b['length'];_0x6f8a21++)this['createAmmo'+'Mesh'](_0xd9890b[_0x6f8a21]['mesh'],_0xd9890b[_0x6f8a21]['node'],_0x147de2,null,_0x4be907['checkVerte'+'xDuplicate'+'s']);const _0x465cc1=new Ammo['btVector3'](_0x46b6e4['x'],_0x46b6e4['y'],_0x46b6e4['z']);_0x147de2['setLocalSc'+'aling'](_0x465cc1),Ammo['destroy'](_0x465cc1);}}return _0x147de2;}}['recreatePh'+'ysicalShap'+'es'](_0x2b086c){const _0x39bdf8=_0x2b086c['data'];if((_0x39bdf8['renderAsse'+'t']||_0x39bdf8['asset'])&&_0x2b086c['enabled']&&_0x2b086c['entity']['enabled']){this['loadAsset'](_0x2b086c,_0x39bdf8['renderAsse'+'t']||_0x39bdf8['asset'],_0x39bdf8['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x2b086c);}['loadAsset'](_0x28d205,_0x3c9f5e,_0x18c096){const _0x3ecc34=_0x28d205['data'],_0x5e5b0d=this['system']['app']['assets'],_0x50ebd1=_0x3ecc34[_0x18c096],_0x58d0d0=_0x1108d6=>{_0x3ecc34[_0x18c096]===_0x50ebd1&&(_0x3ecc34[_0x18c096]=_0x1108d6['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x28d205));},_0x15ccdc=_0x270413=>{_0x270413['ready'](_0x151d86=>{if(_0x151d86['data']['containerA'+'sset']){const _0x13c5c7=_0x5e5b0d['get'](_0x151d86['data']['containerA'+'sset']);_0x13c5c7['loaded']?_0x58d0d0(_0x151d86):(_0x13c5c7['ready'](()=>{_0x58d0d0(_0x151d86);}),_0x5e5b0d['load'](_0x13c5c7));}else _0x58d0d0(_0x151d86);}),_0x5e5b0d['load'](_0x270413);},_0xfee894=_0x5e5b0d['get'](_0x3c9f5e);_0xfee894?_0x15ccdc(_0xfee894):_0x5e5b0d['once']('add:'+_0x3c9f5e,_0x15ccdc);}['doRecreate'+'PhysicalSh'+'ape'](_0x3eeed9){const _0x3e806e=_0x3eeed9['entity'],_0x221d05=_0x3eeed9['data'];_0x221d05['model']||_0x221d05['render']?(this['destroySha'+'pe'](_0x221d05),_0x221d05['shape']=this['createPhys'+'icalShape'](_0x3e806e,_0x221d05),_0x3e806e['rigidbody']?(_0x3e806e['rigidbody']['disableSim'+'ulation'](),_0x3e806e['rigidbody']['createBody'](),_0x3e806e['enabled']&&_0x3e806e['rigidbody']['enabled']&&_0x3e806e['rigidbody']['enableSimu'+'lation']()):_0x3e806e['trigger']?_0x3e806e['trigger']['initialize'](_0x221d05):_0x3e806e['trigger']=new Kv(this['system']['app'],_0x3eeed9,_0x221d05)):(this['beforeRemo'+'ve'](_0x3e806e,_0x3eeed9),this['remove'](_0x3e806e,_0x221d05));}['updateTran'+'sform'](_0x586ab7,_0x344ff7,_0x4a490d,_0x183282){if(_0x586ab7['shape']){const _0x37c90e=_0x586ab7['entity']['getWorldTr'+'ansform']()['getScale'](),_0x217cf3=_0x586ab7['shape']['getLocalSc'+'aling']();(_0x37c90e['x']!==_0x217cf3['x']()||_0x37c90e['y']!==_0x217cf3['y']()||_0x37c90e['z']!==_0x217cf3['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x586ab7);}super['updateTran'+'sform'](_0x586ab7,_0x344ff7,_0x4a490d,_0x183282);}['destroySha'+'pe'](_0x2c504c){if(!_0x2c504c['shape'])return;const _0x33a0d3=_0x2c504c['shape']['getNumChil'+'dShapes']();for(let _0xbaaccc=0xa*0x1c5+0x172c+-0x28de;_0xbaaccc<_0x33a0d3;_0xbaaccc++){const _0x37dcc5=_0x2c504c['shape']['getChildSh'+'ape'](_0xbaaccc);Ammo['destroy'](_0x37dcc5);}Ammo['destroy'](_0x2c504c['shape']),_0x2c504c['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x2fc075,_0x23216f){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x48dfe3){!_0x48dfe3['collision']||_0x48dfe3['rigidbody']||(_0x48dfe3['collision']['_compoundP'+'arent']=this,_0x48dfe3!==this['entity']&&_0x48dfe3['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x48dfe3['collision']));}['_updateEac'+'hDescendan'+'t'](_0x370f0d){_0x370f0d['collision']&&_0x370f0d['collision']['_compoundP'+'arent']===this&&(_0x370f0d['collision']['_compoundP'+'arent']=null,_0x370f0d!==this['entity']&&!_0x370f0d['rigidbody']&&_0x370f0d['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x370f0d['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x187341){!_0x187341['collision']||_0x187341['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x187341,!(0x603+0x239b+-0x299d));}}class nR extends ct{constructor(_0x1ecd5a){super(_0x1ecd5a),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x16f14b,_0x43f410,_0x4cb514){_0x4cb514=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x5b84bd={};for(let _0x551176=-0x20dc+-0x2254+-0x2*-0x2198,_0x43a745=_0x4cb514['length'];_0x551176<_0x43a745;_0x551176++){const _0x64355a=_0x4cb514[_0x551176];_0x5b84bd[_0x64355a]=_0x43f410[_0x64355a];}let _0x38deda;if(_0x43f410['hasOwnProp'+'erty']('asset')?(_0x38deda=_0x4cb514['indexOf']('model'),_0x38deda!==-(-0x26e*0xd+-0x311+0x22a8)&&_0x4cb514['splice'](_0x38deda,0x1efd+0xdce+0x4fa*-0x9),_0x38deda=_0x4cb514['indexOf']('render'),_0x38deda!==-(0xd85*-0x1+0x519+0x86d)&&_0x4cb514['splice'](_0x38deda,0x1986+-0x52f*0x3+0x8*-0x13f)):_0x43f410['hasOwnProp'+'erty']('model')&&(_0x38deda=_0x4cb514['indexOf']('asset'),_0x38deda!==-(0x1*0x5f7+0x1e49+-0x243f)&&_0x4cb514['splice'](_0x38deda,0x553+-0x166d+0x111b)),_0x5b84bd['type']||(_0x5b84bd['type']=_0x16f14b['data']['type']),_0x16f14b['data']['type']=_0x5b84bd['type'],Array['isArray'](_0x5b84bd['halfExtent'+'s'])&&(_0x5b84bd['halfExtent'+'s']=new D(_0x5b84bd['halfExtent'+'s'])),Array['isArray'](_0x5b84bd['linearOffs'+'et'])&&(_0x5b84bd['linearOffs'+'et']=new D(_0x5b84bd['linearOffs'+'et'])),Array['isArray'](_0x5b84bd['angularOff'+'set'])){const _0x4d0b8=_0x5b84bd['angularOff'+'set'];_0x4d0b8['length']===-0xb*0xe3+-0x1c65+0x1*0x2629?_0x5b84bd['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x4d0b8[0x1297*-0x1+0x70c+0xb8b],_0x4d0b8[0x152*-0x7+-0x1662+0x1fa1],_0x4d0b8[0xb9e+-0x1fee+0x1452]):_0x5b84bd['angularOff'+'set']=new le(_0x5b84bd['angularOff'+'set']);}const _0x16847d=this['_createImp'+'lementatio'+'n'](_0x5b84bd['type']);_0x16847d['beforeInit'+'ialize'](_0x16f14b,_0x5b84bd),super['initialize'+'ComponentD'+'ata'](_0x16f14b,_0x5b84bd,_0x4cb514),_0x16847d['afterIniti'+'alize'](_0x16f14b,_0x5b84bd);}['_createImp'+'lementatio'+'n'](_0x37828d){if(this['implementa'+'tions'][_0x37828d]===void(0xc*-0x4a+-0x2541+0x8b*0x4b)){let _0x2b832b;switch(_0x37828d){case'box':_0x2b832b=new JL(this);break;case'sphere':_0x2b832b=new eR(this);break;case'capsule':_0x2b832b=new tR(this);break;case'cylinder':_0x2b832b=new sR(this);break;case'cone':_0x2b832b=new iR(this);break;case'mesh':_0x2b832b=new rR(this);break;case'compound':_0x2b832b=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x37828d);}this['implementa'+'tions'][_0x37828d]=_0x2b832b;}return this['implementa'+'tions'][_0x37828d];}['_getImplem'+'entation'](_0x17098f){return this['implementa'+'tions'][_0x17098f['collision']['data']['type']];}['cloneCompo'+'nent'](_0xae65f7,_0x7c3461){return this['_getImplem'+'entation'](_0xae65f7)['clone'](_0xae65f7,_0x7c3461);}['onBeforeRe'+'move'](_0x27b8e4,_0x2492ab){this['implementa'+'tions'][_0x2492ab['data']['type']]['beforeRemo'+'ve'](_0x27b8e4,_0x2492ab),_0x2492ab['onBeforeRe'+'move']();}['onRemove'](_0x4916e4,_0x2bdd1d){this['implementa'+'tions'][_0x2bdd1d['type']]['remove'](_0x4916e4,_0x2bdd1d);}['updateComp'+'oundChildT'+'ransform'](_0x14ee50,_0x8a4e33){const _0x3c7255=_0x14ee50['collision']['_compoundP'+'arent'];if(_0x3c7255!==_0x14ee50['collision']&&_0x14ee50['enabled']&&_0x14ee50['collision']['enabled']&&(_0x14ee50['_dirtyLoca'+'l']||_0x8a4e33)){const _0x2f73d8=this['_getNodeTr'+'ansform'](_0x14ee50,_0x3c7255['entity']),_0x25a997=_0x3c7255['getCompoun'+'dChildShap'+'eIndex'](_0x14ee50['collision']['shape']);_0x25a997===null?_0x3c7255['shape']['addChildSh'+'ape'](_0x2f73d8,_0x14ee50['collision']['data']['shape']):_0x3c7255['shape']['updateChil'+'dTransform'](_0x25a997,_0x2f73d8,!(0xa*0x2ab+0x1c83+0x3731*-0x1)),Ammo['destroy'](_0x2f73d8);}}['_removeCom'+'poundChild'](_0x35f97f,_0x4136dc){if(_0x35f97f['shape']['getNumChil'+'dShapes']()!==-0xc0a+0x1f*0x29+0x713){if(_0x35f97f['shape']['removeChil'+'dShape'])_0x35f97f['shape']['removeChil'+'dShape'](_0x4136dc);else{const _0x178516=_0x35f97f['getCompoun'+'dChildShap'+'eIndex'](_0x4136dc);_0x178516!==null&&_0x35f97f['shape']['removeChil'+'dShapeByIn'+'dex'](_0x178516);}}}['onTransfor'+'mChanged'](_0x5acc41,_0x157864,_0x37dc06,_0x12d2a3){this['implementa'+'tions'][_0x5acc41['data']['type']]['updateTran'+'sform'](_0x5acc41,_0x157864,_0x37dc06,_0x12d2a3);}['changeType'](_0x1ae491,_0x3763e1,_0xb3151b){this['implementa'+'tions'][_0x3763e1]['beforeRemo'+'ve'](_0x1ae491['entity'],_0x1ae491),this['implementa'+'tions'][_0x3763e1]['remove'](_0x1ae491['entity'],_0x1ae491['data']),this['_createImp'+'lementatio'+'n'](_0xb3151b)['reset'](_0x1ae491,_0x1ae491['data']);}['recreatePh'+'ysicalShap'+'es'](_0x4c2fea){this['implementa'+'tions'][_0x4c2fea['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x4c2fea);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x4bd901,_0x9c23f4){if(_0x4bd901===_0x9c23f4){const _0x3ce339=_0x4bd901['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x3ce339['x'],_0x3ce339['y'],_0x3ce339['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x4bd901['parent'],_0x9c23f4),wc['mul'](_0x4bd901['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x140dd0){const _0x17a060=_0x140dd0['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x17a060['x'],_0x17a060['y'],_0x17a060['z']);}['_getNodeTr'+'ansform'](_0x36d437,_0x5a9e00){let _0x451048,_0x560f66;_0x5a9e00?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x36d437,_0x5a9e00),_0x451048=KL,_0x560f66=Vr,wc['getTransla'+'tion'](_0x451048),_0x560f66['setFromMat'+'4'](wc)):(_0x451048=_0x36d437['getPositio'+'n'](),_0x560f66=_0x36d437['getRotatio'+'n']());const _0x1ed186=new Ammo['btQuaterni'+'on'](),_0x38a97d=new Ammo['btTransfor'+'m']();_0x38a97d['setIdentit'+'y']();const _0x5e752b=_0x38a97d['getOrigin'](),_0x563658=_0x36d437['collision'];if(_0x563658&&_0x563658['_hasOffset']){const _0x14a737=_0x563658['data']['linearOffs'+'et'],_0x50efb5=_0x563658['data']['angularOff'+'set'],_0x5d484a=ZL;Vr['copy'](_0x560f66)['transformV'+'ector'](_0x14a737,_0x5d484a),_0x5d484a['add'](_0x451048),Vr['copy'](_0x560f66)['mul'](_0x50efb5),_0x5e752b['setValue'](_0x5d484a['x'],_0x5d484a['y'],_0x5d484a['z']),_0x1ed186['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x5e752b['setValue'](_0x451048['x'],_0x451048['y'],_0x451048['z']),_0x1ed186['setValue'](_0x560f66['x'],_0x560f66['y'],_0x560f66['z'],_0x560f66['w']);return _0x38a97d['setRotatio'+'n'](_0x1ed186),Ammo['destroy'](_0x1ed186),_0x38a97d;}['destroy'](){for(const _0x4f356e in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4f356e]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x376a16,_0x23b4ee,_0x1dbf3c){this['_entity']=_0x376a16,this['_element']=_0x376a16['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x23b4ee,this['meshInstan'+'ce']=new He(this['mesh'],_0x1dbf3c,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x376a16['name'],this['meshInstan'+'ce']['castShadow']=!(0x663*0x1+-0x2272+0x1c10),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1*-0xe5c+-0x1ed*0x6+-0x2cd),this['_meshDirty']=!(-0x162c+0xc9c+0x991),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x47372d,_0x166570;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x47372d=this['meshInstan'+'ce'])==null||_0x47372d['destroy'](),this['meshInstan'+'ce']=null,(_0x166570=this['unmaskMesh'+'Instance'])==null||_0x166570['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x46acf5){this['meshInstan'+'ce']&&(this['mesh']=_0x46acf5,this['meshInstan'+'ce']['mesh']=_0x46acf5,this['meshInstan'+'ce']['visible']=!!_0x46acf5,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x46acf5),this['forceUpdat'+'eAabb']());}['setMask'](_0x41088f){var _0x2d7bb3;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x41088f){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x1415+0x1d24+-0x3138),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x488+-0x1f96*0x1+0x241f),this['unmaskMesh'+'Instance']['pick']=!(0x13e*0x11+0x14ef+-0x12*0x256),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x386d08 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x386d08,this['meshInstan'+'ce']['parameters'][_0x386d08]['data']);}else{const _0x43466a=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x43466a>=0x1*-0x1142+-0x20a5+0x19*0x1ff&&this['model']['meshInstan'+'ces']['splice'](_0x43466a,-0x1*-0x1ae5+-0x2*0x3e+-0x1a68);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x41088f||((_0x2d7bb3=this['unmaskMesh'+'Instance'])==null||_0x2d7bb3['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x54ce38){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x54ce38,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x54ce38));}['setParamet'+'er'](_0x112f1b,_0x421909){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x112f1b,_0x421909),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x112f1b,_0x421909));}['deletePara'+'meter'](_0x3b317e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x3b317e),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x3b317e));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x167594=function(_0x1bd311){let _0x318615;const _0x329f1b=_0x1bd311['children'],_0x5cf089=_0x329f1b['length'];if(_0x5cf089){for(let _0x2ea337=0x1c7f*-0x1+-0x1c78+0x38f7;_0x2ea337<_0x5cf089;_0x2ea337++)_0x329f1b[_0x2ea337]['element']&&(_0x318615=_0x329f1b[_0x2ea337]);if(!_0x318615)return null;const _0x7eddb5=_0x167594(_0x318615);return _0x7eddb5||_0x318615;}return null;};if(this['unmaskMesh'+'Instance']){const _0x310011=_0x167594(this['_entity']);_0x310011&&_0x310011['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x310011['element']['drawOrder']+_0x310011['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x96cb9d){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x96cb9d),this['meshInstan'+'ce']['drawOrder']=_0x96cb9d);}['setCull'](_0x450ec7){if(!this['meshInstan'+'ce'])return;const _0x440280=this['_element'];let _0x385392=null;_0x450ec7&&_0x440280['_isScreenS'+'pace']()&&(_0x385392=function(_0xb2bd58){return _0x440280['isVisibleF'+'orCamera'](_0xb2bd58);}),this['meshInstan'+'ce']['cull']=_0x450ec7,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x385392,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x450ec7,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x385392);}['setScreenS'+'pace'](_0x32b1de){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x32b1de,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x32b1de));}['setLayer'](_0x282821){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x282821,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x282821));}['forceUpdat'+'eAabb'](_0x44e592){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x247+0x882*-0x1+0xaca),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x836+0x11*0x6d+-0xf72)));}['setAabbFun'+'c'](_0x4c7da7){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x4c7da7,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x4c7da7));}}class cR{constructor(_0x4e0429){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x4e0429,this['_entity']=_0x4e0429['entity'],this['_system']=_0x4e0429['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x6af*-0x2+-0x1*0x142d+-0x53*-0x15,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x399*0x1+0x1*-0xb5c+0x47*0x1c),this['_rect']=new re(0xbc*-0x1a+-0x2071*0x1+0xa7*0x4f,0x95c*0x3+-0x2*-0xd1d+-0x364e,0x12c9+-0x26e2+0xa6*0x1f,-0x1c29+0xe9+0x1b41),this['_mask']=!(-0x22dd+-0x1*0x1805+-0xe1*-0x43),this['_maskRef']=-0x13c1+0x144e+0x3*-0x2f,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0x1fdb+-0xf*-0x1e1+-0x13a*-0x3),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x97*-0x11+0xc3d*-0x2+0x1*0xe77),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0xa24+0x41*0x6b+-0x254b),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x130d+-0x89*0x13+0x1*-0x8e1,-0x2436+0x1f66+0x4d1,-0x2*-0xe4c+0x77f*0x1+-0x3e*0x95,0x19fe+0x5b+-0x1a58),this['_colorUnif'+'orm']=new Float32Array([0x167a+-0x158b*0x1+-0xee,-0x261e+0xcc*-0x2f+0x4b93,0x1e90+-0x124e+-0xc41]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1ce1+-0xb*-0x305+-0x455),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x4aced2){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x540af6){this['_updateMat'+'erial'](_0x540af6);}['_onScreenC'+'hange'](_0x5e169f,_0x49104c){_0x5e169f?this['_updateMat'+'erial'](_0x5e169f['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1dde+-0x17*0x53+-0x1de*0xc));}['_onDrawOrd'+'erChange'](_0x5d56a3){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x5d56a3),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x1f58+0x16cd+0x88c);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x2289bc){const _0x344693=!!this['_mask'],_0x5e9e15=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x3dc6e8=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x2289bc,_0x344693,_0x5e9e15,_0x3dc6e8)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x2289bc),this['_renderabl'+'e']['setLayer'](_0x2289bc?Ow:Ky));}['_createMes'+'h'](){const _0x5345d1=this['_element'],_0x52843f=_0x5345d1['calculated'+'Width'],_0x5cd3a2=_0x5345d1['calculated'+'Height'],_0x4ed664=this['_rect'],_0x562d34=this['_system']['app']['graphicsDe'+'vice'],_0x36952f=new Float32Array([_0x52843f,0x2474+0x1*0xc1d+-0x1*0x3091,-0x1f60+-0x20c4+0x335*0x14,-0x1ae2+0x29*-0xa4+0x3526*0x1,-0x1208+-0xfe7+0x1*0x21ef,-0x31*-0x32+-0x45*0x33+0x5*0xd6,_0x4ed664['x']+_0x4ed664['z'],-0x529*0x2+0x16cb+-0xc78-_0x4ed664['y'],_0x52843f,_0x5cd3a2,-0x3cd*-0x4+0x26d8+-0x360c,0x151*-0x3+-0x493*0x6+0x9*0x37d,0x1370*0x2+0x1*-0x10c7+0x1*-0x1619,0x35*-0x19+-0x311*0x1+0x83f*0x1,_0x4ed664['x']+_0x4ed664['z'],0xa1b+0x16c6+-0x1*0x20e0-(_0x4ed664['y']+_0x4ed664['w']),-0x4f3*-0x6+0x31*0x4b+-0x2c0d,-0x392+-0x1*-0x2345+-0x1fb3,0x1a*0x43+0x1b30+-0x21fe,-0x4e9*-0x3+0x17c8+-0x2683,-0x23db*-0x1+0x213e+-0x4519*0x1,-0xd38+0x179c+0xa63*-0x1,_0x4ed664['x'],0x2*0x9e2+-0xcc0+0x5*-0x167-_0x4ed664['y'],-0xc28+-0x1fba+0x2be2,_0x5cd3a2,-0x1*0x2211+-0x1*0x2020+-0xd3d*-0x5,0x65*0x36+0xa79*0x2+-0x2a40,-0x1f8c+-0x61*0x2e+0x30fa,-0x1dfb+-0x1233+0x302f,_0x4ed664['x'],0x1*0x1907+0x1933+-0x2b*0x12b-(_0x4ed664['y']+_0x4ed664['w'])]),_0x1aba23=oR['get'](_0x562d34,()=>new kt(_0x562d34,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x123bc3=new Is(_0x562d34,_0x1aba23,0xf2b+-0x109f+-0x4*-0x5e,{'data':_0x36952f['buffer']}),_0x2fb486=new Ge(_0x562d34);return _0x2fb486['vertexBuff'+'er']=_0x123bc3,_0x2fb486['primitive'][-0x16b*-0x6+-0x74*0x2+-0x3cd*0x2]['type']=Er,_0x2fb486['primitive'][0x9*0x2a9+0x22db*0x1+-0x3acc]['base']=-0x2*-0x4b0+0x742+-0x10a2,_0x2fb486['primitive'][0x3*-0xcdf+-0x1e3f+0x44dc]['count']=-0xddf+-0x5ba+0x139d*0x1,_0x2fb486['primitive'][-0x5*-0x69d+-0x307*0x1+0xa*-0x301]['indexed']=!(-0x26b3+-0x4c4+0x2b78),_0x2fb486['aabb']['setMinMax'](D['ZERO'],new D(_0x52843f,_0x5cd3a2,0x1b1a+0xff9+0x1*-0x2b13)),this['_updateMes'+'h'](_0x2fb486),_0x2fb486;}['_updateMes'+'h'](_0x532fe9){const _0x2f2228=this['_element'];let _0x2f0fbb=_0x2f2228['calculated'+'Width'],_0x59340d=_0x2f2228['calculated'+'Height'];if(_0x2f2228['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x1c8+-0x4*-0x97+0x2*-0x4a){const _0x3b222e=_0x2f2228['calculated'+'Width']/_0x2f2228['calculated'+'Height'];_0x2f2228['fitMode']===GL&&_0x3b222e>this['_targetAsp'+'ectRatio']||_0x2f2228['fitMode']===HL&&_0x3b222e<this['_targetAsp'+'ectRatio']?_0x2f0fbb=_0x2f2228['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x59340d=_0x2f2228['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1d59a1=_0x2f2228['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1d59a1),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x31b6d9=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x124d40=(-0x15f6+-0x77*0x22+0x25c6)/_0x31b6d9['rect']['z'],_0x23b774=(-0x1fce*-0x1+-0xd*0x73+0x1bb*-0xf)/_0x31b6d9['rect']['w'];this['_innerOffs'+'et']['set'](_0x31b6d9['border']['x']*_0x124d40,_0x31b6d9['border']['y']*_0x23b774,_0x31b6d9['border']['z']*_0x124d40,_0x31b6d9['border']['w']*_0x23b774);const _0x31a963=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x31b6d9['rect']['x']/_0x31a963['width'],_0x31b6d9['rect']['y']/_0x31a963['height'],_0x31b6d9['rect']['z']/_0x31a963['width'],_0x31b6d9['rect']['w']/_0x31a963['height']);const _0x519027=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x2b5ee4=_0x31b6d9['rect']['z']/_0x519027,_0x34650b=_0x31b6d9['rect']['w']/_0x519027;this['_outerScal'+'e']['set'](Math['max'](_0x2f0fbb,this['_innerOffs'+'et']['x']*_0x2b5ee4),Math['max'](_0x59340d,this['_innerOffs'+'et']['y']*_0x34650b));let _0x317f2d=_0x2b5ee4,_0x3e0173=_0x34650b;this['_outerScal'+'e']['x']/=_0x2b5ee4,this['_outerScal'+'e']['y']/=_0x34650b,_0x317f2d*=Y['clamp'](_0x2f0fbb/(this['_innerOffs'+'et']['x']*_0x2b5ee4),-0x1479+-0x1*0x1529+0x1*0x29a2+0.0001,-0x1d46+0x27*-0x91+-0x20e*-0x19),_0x3e0173*=Y['clamp'](_0x59340d/(this['_innerOffs'+'et']['y']*_0x34650b),0x11d*-0x6+0x1*0xac4+0x20b*-0x2+0.0001,-0x1c4b+0x1a15+0x1*0x237),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0xd7b*-0x1+-0xb*-0x12f+-0x1a80]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x78d*-0x5+0x223a+0x388]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xa81*0x2+-0x1b65+0x3069]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1*0xf33+0x7cd*-0x1+-0x763]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x233d+-0x11ac+0x5e1*0x9]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0xa07+0xc1*-0x1f+-0x473*-0x3]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1654*0x1+0x160+-0x17b2]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1*0x2482+-0x15c5+-0xeba]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1b30+0x105b*0x1+-0x2b8b]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x291*-0x7+-0xdb+-0x4f*-0x3d]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x317f2d,_0x3e0173,0x13ac*-0x1+0xd11+0x12*0x5e),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xc41*0x2+0x2708+-0x3f8a+0.5-_0x2f2228['pivot']['x'])*_0x2f0fbb,(0x2ae*-0xe+-0x1*0x22bd+-0x4841*-0x1+0.5-_0x2f2228['pivot']['y'])*_0x59340d,-0x1*0x1d89+0x2243+-0x4ba));}else{const _0x3f0512=_0x532fe9['vertexBuff'+'er'],_0x3e43a5=new Float32Array(_0x3f0512['lock']()),_0x45e125=_0x2f2228['pivot']['x'],_0xd36041=_0x2f2228['pivot']['y'];_0x3e43a5[0x711+0x9d*-0x5+-0x1*0x400]=_0x2f0fbb-_0x45e125*_0x2f0fbb,_0x3e43a5[-0x1da2+0x2389+-0x5e6]=-0x9*0x33e+0x1c9e+0x90-_0xd36041*_0x59340d,_0x3e43a5[0x2656+-0x36*0x63+-0x116c]=_0x2f0fbb-_0x45e125*_0x2f0fbb,_0x3e43a5[-0x6*-0x4a3+0xe97*0x1+0x8*-0x54c]=_0x59340d-_0xd36041*_0x59340d,_0x3e43a5[-0xcd2+-0xd*0x1b7+0x232d]=0x1*0x6dd+-0x1*0x1c85+0x15a8-_0x45e125*_0x2f0fbb,_0x3e43a5[-0x4ac*0x7+-0x1*-0x1163+-0xb*-0x166]=-0x1*0x89b+0x2510+0x1*-0x1c75-_0xd36041*_0x59340d,_0x3e43a5[0x241*0x10+0x509*-0x3+0x6d*-0x31]=0xd*-0x290+0xd8*-0x2+-0x14*-0x1c0-_0x45e125*_0x2f0fbb,_0x3e43a5[0x326*0x3+-0x1d11+0x13b8]=_0x59340d-_0xd36041*_0x59340d;let _0x323922=0x206+0x1549*-0x1+0x1344,_0x5e8e8a=0x2643+0x512+-0xbc*0x3b,_0x1926a5=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x1d0765=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x1d0765&&(_0x1926a5=_0x1d0765['rect'],_0x323922=this['_sprite']['atlas']['texture']['width'],_0x5e8e8a=this['_sprite']['atlas']['texture']['height']);}_0x3e43a5[-0xa1*0x38+-0x103e+0x337c]=(_0x1926a5['x']+_0x1926a5['z'])/_0x323922,_0x3e43a5[0x2*0xa94+-0x34*0x81+0x513]=0x103a+0x6e*0xe+0x163d*-0x1-_0x1926a5['y']/_0x5e8e8a,_0x3e43a5[-0x959*-0x4+0x1*-0x12a1+-0x12b5]=(_0x1926a5['x']+_0x1926a5['z'])/_0x323922,_0x3e43a5[0x2b1*-0x6+-0x1b0f*-0x1+-0xada]=0xe37+-0xc4e+-0x1e8-(_0x1926a5['y']+_0x1926a5['w'])/_0x5e8e8a,_0x3e43a5[-0x12d*-0x16+0x7d7+-0x219f]=_0x1926a5['x']/_0x323922,_0x3e43a5[-0x242e+-0x1*0x8b1+0xa*0x47f]=-0xd19*0x1+-0x11c2+-0x4f*-0x64-_0x1926a5['y']/_0x5e8e8a,_0x3e43a5[-0x2193+-0xa4e+0x2bff]=_0x1926a5['x']/_0x323922,_0x3e43a5[0x864+-0x17*0xda+0xb51]=0x2*0x11fb+-0x14e6+-0xf0f-(_0x1926a5['y']+_0x1926a5['w'])/_0x5e8e8a,_0x3f0512['unlock']();const _0x21e7da=new D(-0x25e1+0x1*0x5d8+0x2009-_0x45e125*_0x2f0fbb,-0x1f7a+0x1*-0xabd+0x2a37-_0xd36041*_0x59340d,0x20e7+-0x23e3+0x2*0x17e),_0x1f2aa4=new D(_0x2f0fbb-_0x45e125*_0x2f0fbb,_0x59340d-_0xd36041*_0x59340d,0x2652+0x4ef+0x2b41*-0x1);_0x532fe9['aabb']['setMinMax'](_0x21e7da,_0x1f2aa4),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x6*-0x13d+-0x268+-0x1*-0x9d7,-0x2319+0x3*0xc6d+-0x22d,-0x1a0d+-0xd*-0x28b+-0x1*0x701),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x1c90+-0x1cd5+0x45,-0x3c3+-0x1627*-0x1+0x499*-0x4,0xfe*0x13+0x5*0x71+-0x150f*0x1),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x487+0x1*-0x17c1+0x9*0x223);}['_updateSpr'+'ite'](){let _0x5c7cef=!(-0x8fd+0x9*0x1b7+-0x671),_0x55d5d7=null;if(this['_targetAsp'+'ectRatio']=-(0x1750+0xfa9+-0x2b*0xe8),this['_sprite']&&this['_sprite']['atlas']){_0x55d5d7=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x5c7cef=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x4eae18=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x4eae18==null?void(0x1074+0x2f7*0x7+0x2535*-0x1):_0x4eae18['rect']['w'])>0x1*0x1f23+-0xb95*0x2+-0x7f9&&(this['_targetAsp'+'ectRatio']=_0x4eae18['rect']['z']/_0x4eae18['rect']['w']);}this['mesh']=_0x5c7cef?_0x55d5d7:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1*0xdc1+-0x148e*-0x1+-0x6cd):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x47efc3){return _0x47efc3['center']['set'](0x235b+0x10*-0x180+-0xb5b,0x237f+-0x16c+-0x319*0xb,-0x1db+-0x1b5b*0x1+0x1d36),_0x47efc3['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2164+0x26e4+-0x4848+0.5),this['_outerScal'+'e']['y']*(-0x1742+-0x7aa*0x4+0x1*0x35ea+0.5),-0xd78+-0x6*0x1f6+-0x11*-0x17c+0.001),_0x47efc3['setFromTra'+'nsformedAa'+'bb'](_0x47efc3,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x47efc3;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0xd6d54d=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xd6d54d),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x4816bc){this['material']=_0x4816bc['resource'];}['_onMateria'+'lAdded'](_0x4d98df){this['_system']['app']['assets']['off']('add:'+_0x4d98df['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x4d98df['id']&&this['_bindMater'+'ialAsset'](_0x4d98df);}['_bindMater'+'ialAsset'](_0x386e21){this['_entity']['enabled']&&(_0x386e21['on']('load',this['_onMateria'+'lLoad'],this),_0x386e21['on']('change',this['_onMateria'+'lChange'],this),_0x386e21['on']('remove',this['_onMateria'+'lRemove'],this),_0x386e21['resource']?this['_onMateria'+'lLoad'](_0x386e21):this['_system']['app']['assets']['load'](_0x386e21));}['_unbindMat'+'erialAsset'](_0x270b79){_0x270b79['off']('load',this['_onMateria'+'lLoad'],this),_0x270b79['off']('change',this['_onMateria'+'lChange'],this),_0x270b79['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x3df585){this['_system']['app']['assets']['off']('add:'+_0x3df585['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x3df585['id']&&this['_bindTextu'+'reAsset'](_0x3df585);}['_bindTextu'+'reAsset'](_0x47dd28){this['_entity']['enabled']&&(_0x47dd28['on']('load',this['_onTexture'+'Load'],this),_0x47dd28['on']('change',this['_onTexture'+'Change'],this),_0x47dd28['on']('remove',this['_onTexture'+'Remove'],this),_0x47dd28['resource']?this['_onTexture'+'Load'](_0x47dd28):this['_system']['app']['assets']['load'](_0x47dd28));}['_unbindTex'+'tureAsset'](_0x58dd2a){_0x58dd2a['off']('load',this['_onTexture'+'Load'],this),_0x58dd2a['off']('change',this['_onTexture'+'Change'],this),_0x58dd2a['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x5c5c5d){this['texture']=_0x5c5c5d['resource'];}['_onTexture'+'Change'](_0x44639c){}['_onTexture'+'Remove'](_0x3a510d){}['_onSpriteA'+'ssetAdded'](_0x498ee5){this['_system']['app']['assets']['off']('add:'+_0x498ee5['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x498ee5['id']&&this['_bindSprit'+'eAsset'](_0x498ee5);}['_bindSprit'+'eAsset'](_0x4d3638){this['_entity']['enabled']&&(_0x4d3638['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4d3638['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x4d3638['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4d3638['resource']?this['_onSpriteA'+'ssetLoad'](_0x4d3638):this['_system']['app']['assets']['load'](_0x4d3638));}['_unbindSpr'+'iteAsset'](_0x5d6bdf){_0x5d6bdf['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5d6bdf['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x5d6bdf['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5d6bdf['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x5d6bdf['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x11ef30){if(!_0x11ef30||!_0x11ef30['resource'])this['sprite']=null;else{if(_0x11ef30['resource']['atlas'])this['sprite']=_0x11ef30['resource'];else{const _0x953522=_0x11ef30['data']['textureAtl'+'asAsset'];if(_0x953522){const _0x3c4b4c=this['_system']['app']['assets'];_0x3c4b4c['off']('load:'+_0x953522,this['_onTexture'+'AtlasLoad'],this),_0x3c4b4c['once']('load:'+_0x953522,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x1419d9){this['_onSpriteA'+'ssetLoad'](_0x1419d9);}['_onSpriteA'+'ssetRemove'](_0xccab7b){}['_bindSprit'+'e'](_0x30beb4){this['_evtSetMes'+'hes']=_0x30beb4['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x30beb4['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x30beb4['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x30beb4['atlas']&&_0x30beb4['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x2d3158){var _0x3c85e5;(_0x3c85e5=this['_evtSetMes'+'hes'])==null||_0x3c85e5['off'](),this['_evtSetMes'+'hes']=null,_0x2d3158['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2d3158['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2d3158['atlas']&&_0x2d3158['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0xbee+-0x173*0x12+0x656*0x6,this['_sprite']['frameKeys']['length']-(-0x1c36+-0x1cbd+0x38f4))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x232b6a){const _0x36d2a4=this['_spriteAss'+'et'];_0x36d2a4 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x36d2a4):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x36d2a4));}['onEnable'](){if(this['_materialA'+'sset']){const _0x3b6b85=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x3b6b85&&_0x3b6b85['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x3b6b85);}if(this['_textureAs'+'set']){const _0x46d09=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x46d09&&_0x46d09['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x46d09);}if(this['_spriteAss'+'et']){const _0x4fda51=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4fda51&&_0x4fda51['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x4fda51);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x7a77b7){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x7a77b7,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x7a77b7;let _0x2748eb=0x32b*0xb+-0x5*-0x45+0xe2*-0x29;if(this['_element']['maskedBy']&&(_0x2748eb=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x1a61bd=new pi({'ref':_0x2748eb+(-0x1*0x25a2+0x1f99+0x1*0x60a),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x1a61bd,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x1a61bd;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x295*-0xd+0x864+0x29f5*-0x1]=Ec['r'],this['_colorUnif'+'orm'][-0x1*-0x89+-0x1f40+0x1eb8]=Ec['g'],this['_colorUnif'+'orm'][0x1*0x1b92+-0xe21*0x2+0xb2]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x5155ba){this['_color']===_0x5155ba&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x19f596,g:_0xd82311,b:_0x91ac0b}=_0x5155ba;(this['_color']['r']!==_0x19f596||this['_color']['g']!==_0xd82311||this['_color']['b']!==_0x91ac0b)&&(this['_color']['r']=_0x19f596,this['_color']['g']=_0xd82311,this['_color']['b']=_0x91ac0b,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x3edb22){_0x3edb22!==this['_color']['a']&&(this['_color']['a']=_0x3edb22,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x3edb22)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3edb22);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x1ce4c1){this['_rect']===_0x1ce4c1&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x48fd41,_0x503a82,_0x22e721,_0x506a9e;_0x1ce4c1 instanceof re?(_0x48fd41=_0x1ce4c1['x'],_0x503a82=_0x1ce4c1['y'],_0x22e721=_0x1ce4c1['z'],_0x506a9e=_0x1ce4c1['w']):(_0x48fd41=_0x1ce4c1[-0x17*0xcb+0x11*-0x187+0x45*0xa4],_0x503a82=_0x1ce4c1[-0x1*-0x17ec+-0x6*-0x1f7+-0x21*0x115],_0x22e721=_0x1ce4c1[-0x126a+0x13f4+-0x188],_0x506a9e=_0x1ce4c1[-0x1b7e+0x1e4e+-0x2cd]),!(_0x48fd41===this['_rect']['x']&&_0x503a82===this['_rect']['y']&&_0x22e721===this['_rect']['z']&&_0x506a9e===this['_rect']['w'])&&(this['_rect']['set'](_0x48fd41,_0x503a82,_0x22e721,_0x506a9e),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x37a+-0x1*-0xc7f+-0x905):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x10ed3e=this['_system']['app']['assets'];_0x10ed3e['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x1d3361=_0x10ed3e['get'](this['_materialA'+'sset']);_0x1d3361&&(_0x1d3361['off']('load',this['_onMateria'+'lLoad'],this),_0x1d3361['off']('change',this['_onMateria'+'lChange'],this),_0x1d3361['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x46c720){if(this['_material']!==_0x46c720){if(!_0x46c720){const _0x2c17a2=this['_element']['_isScreenS'+'pace']();this['mask']?_0x46c720=_0x2c17a2?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x46c720=_0x2c17a2?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x46c720,this['_materialA'+'sset']){const _0x481957=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x481957||_0x481957['resource']!==_0x46c720)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x46c720&&(this['_renderabl'+'e']['setMateria'+'l'](_0x46c720),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1e5207){const _0x199668=this['_system']['app']['assets'];let _0x1c9012=_0x1e5207;if(_0x1e5207 instanceof pe&&(_0x1c9012=_0x1e5207['id']),this['_materialA'+'sset']!==_0x1c9012){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x1c9012,this['_materialA'+'sset']){const _0xd893d2=_0x199668['get'](this['_materialA'+'sset']);_0xd893d2?this['_bindMater'+'ialAsset'](_0xd893d2):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1c9012,_0x199668['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1c9012;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x3c0368){if(this['_texture']!==_0x3c0368){if(this['_textureAs'+'set']){const _0x33123c=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x33123c&&_0x33123c['resource']!==_0x3c0368&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x3c0368,_0x3c0368){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x18d0e0=this['_texture']['width']/this['_texture']['height'];_0x18d0e0!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x18d0e0,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x3*-0x825+-0x906+-0x1*-0x2176),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0xbb398b){const _0x878729=this['_system']['app']['assets'];let _0x3bee0c=_0xbb398b;if(_0xbb398b instanceof pe&&(_0x3bee0c=_0xbb398b['id']),this['_textureAs'+'set']!==_0x3bee0c){if(this['_textureAs'+'set']){_0x878729['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x11704a=_0x878729['get'](this['_textureAs'+'set']);_0x11704a&&(_0x11704a['off']('load',this['_onTexture'+'Load'],this),_0x11704a['off']('change',this['_onTexture'+'Change'],this),_0x11704a['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3bee0c,this['_textureAs'+'set']){const _0x4fc4e7=_0x878729['get'](this['_textureAs'+'set']);_0x4fc4e7?this['_bindTextu'+'reAsset'](_0x4fc4e7):(this['texture']=null,_0x878729['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x473965){const _0x344ebc=this['_system']['app']['assets'];let _0x1a4f63=_0x473965;if(_0x473965 instanceof pe&&(_0x1a4f63=_0x473965['id']),this['_spriteAss'+'et']!==_0x1a4f63){if(this['_spriteAss'+'et']){_0x344ebc['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x30922b=_0x344ebc['get'](this['_spriteAss'+'et']);_0x30922b&&this['_unbindSpr'+'iteAsset'](_0x30922b);}if(this['_spriteAss'+'et']=_0x1a4f63,this['_spriteAss'+'et']){const _0x2070f9=_0x344ebc['get'](this['_spriteAss'+'et']);_0x2070f9?this['_bindSprit'+'eAsset'](_0x2070f9):(this['sprite']=null,_0x344ebc['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x1a4f63);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0xdb0cd7){if(this['_sprite']!==_0xdb0cd7){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x3a834e=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x3a834e&&_0x3a834e['resource']!==_0xdb0cd7&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0xdb0cd7,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x3*-0x7c9+-0x987*-0x3+0x33f*-0x10,this['_sprite']['frameKeys']['length']-(-0x236+0x2*-0x266+0x703))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x2fecbb){const _0x205ec0=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x2fecbb,-0x2000+0x11bb+-0x1*-0xe45,this['_sprite']['frameKeys']['length']-(-0x22c9+-0xb7b+-0x1*-0x2e45)):this['_spriteFra'+'me']=_0x2fecbb,this['_spriteFra'+'me']!==_0x205ec0&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x2fecbb);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x21441b){this['_renderabl'+'e']['setMesh'](_0x21441b),this['_defaultMe'+'sh']===_0x21441b?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x1b52c3){this['_mask']!==_0x1b52c3&&(this['_mask']=_0x1b52c3,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x500f27){this['_pixelsPer'+'Unit']!==_0x500f27&&(this['_pixelsPer'+'Unit']=_0x500f27,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x231b06){super(),this['_app']=_0x231b06,_0x231b06['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x11db+-0x157c+0xf*0x3e),this['_disableLo'+'calization']=!(0x212a+0x1a33*0x1+0x83*-0x74),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1375f1){const _0x5ed17f=_0x1375f1 instanceof pe?_0x1375f1['id']:_0x1375f1;this['_defaultAs'+'set']!==_0x5ed17f&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x5ed17f,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x488820){const _0x8f965b=_0x488820 instanceof pe?_0x488820['id']:_0x488820;this['_localized'+'Asset']!==_0x8f965b&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x8f965b,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x1b6def){this['_autoLoad']!==_0x1b6def&&(this['_autoLoad']=_0x1b6def,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x4864be){this['_disableLo'+'calization']!==_0x4864be&&(this['_disableLo'+'calization']=_0x4864be,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x5cd51c=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5cd51c?this['_onDefault'+'AssetAdd'](_0x5cd51c):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x5eaba9=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5eaba9&&(_0x5eaba9['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5eaba9['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x5eaba9['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x557d1f){this['_defaultAs'+'set']===_0x557d1f['id']&&(_0x557d1f['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x557d1f['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x557d1f['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x5bbfbe){this['_defaultAs'+'set']===_0x5bbfbe['id']&&(_0x5bbfbe['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5bbfbe['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x2a3c8c=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2a3c8c&&(_0x2a3c8c['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2a3c8c['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2a3c8c['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x2a3c8c['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x2a3c8c):this['_app']['assets']['load'](_0x2a3c8c));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x528c35=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x528c35&&(_0x528c35['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x528c35['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x528c35['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x1445a5){this['_localized'+'Asset']===_0x1445a5['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x3894f4){this['fire']('load',_0x3894f4);}['_onLocaliz'+'edAssetCha'+'nge'](_0x513e6c,_0x27f55c,_0x530655,_0x352a62){this['fire']('change',_0x513e6c,_0x27f55c,_0x530655,_0x352a62);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4432d3){this['_localized'+'Asset']===_0x4432d3['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4432d3);}['_onLocaleA'+'dd'](_0x101f37,_0x3549a3){this['_app']['i18n']['locale']===_0x101f37&&this['_onSetLoca'+'le'](_0x101f37);}['_onLocaleR'+'emove'](_0x487544,_0x580081){this['_app']['i18n']['locale']===_0x487544&&this['_onSetLoca'+'le'](_0x487544);}['_onSetLoca'+'le'](_0x572135){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x98c399=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x98c399||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x4875f7=_0x98c399['getLocaliz'+'edAssetId'](_0x572135);if(!_0x4875f7){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x4875f7;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0x1336+-0x222f*-0x1+-0x1*0x3565,an=0x61+0x1003+-0x1063,Du=0x1bcd*0x1+-0x2e2+-0x18e9*0x1,Zv=0x551+-0x264e+0x40*0x84,Iu=0x13d4+-0x2196+0xdc6,Lu=0x2c2*0x6+0x1*-0x3c1+-0xcc6,Ru=0x207*0xe+-0x12c2+-0x4cd*0x2,Ou=-0xc59+-0x270c+0x336c,Xg=-0x2*0xcd2+-0x22da+0x3c86,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x28895c){this['_symbols']=_0x28895c,this['_index']=-0x92*-0x6+0x1*-0x1a77+0x15b*0x11,this['_last']=-0x7d3*-0x2+0x1*0x1813+0x1*-0x27b9,this['_cur']=this['_symbols']['length']>-0xb77*-0x3+0x955*-0x2+-0xfbb?this['_symbols'][-0x1f80+0x372+0x1*0x1c0e]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x57f20d=this['_read']();for(;_0x57f20d===Xg;)_0x57f20d=this['_read']();return _0x57f20d!==Mo&&_0x57f20d!==an&&(this['_last']=this['_index']),_0x57f20d;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x31c991=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0xc91d27=this['read'](),_0x196740='';for(;_0x196740+=(_0x196740['length']>-0x1be2+0x21*0xcc+0x1*0x196?'\x0a':'')+_0x31c991[_0xc91d27]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0xc91d27===Mo||_0xc91d27===an);)_0xc91d27=this['read']();return _0x196740;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x185*0x14+0x1a1*-0xd+0x937*-0x1?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x355+-0x1e4+-0x171?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x21df+-0x12ff+-0xedf);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x1eca8c){return _0x1eca8c['length']===-0x214f*-0x1+0x95d*-0x1+0x1b*-0xe3&&_0x1eca8c['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x17dc6d){this['_buf']['push'](_0x17dc6d);}}class mR{constructor(_0x1ec833){this['_scanner']=new pR(_0x1ec833),this['_error']=null;}['parse'](_0x1a1954,_0x45025b){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x701*0x1+-0x33*0x1+0x4*0x1cd);case an:return!(-0x837+0xfc6+-0x78e);case Du:Array['prototype']['push']['apply'](_0x1a1954,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x1a1954,_0x45025b))return!(-0x2510+-0x58c*0x1+0x2a9d*0x1);break;default:return!(-0x1d9a+0x1e9e+-0x25*0x7);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x552604,_0xc2c435){let _0x2a202c=this['_scanner']['read']();if(_0x2a202c!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0xc60+0xf22+-0x8d*0x5);const _0x3973ba=this['_scanner']['buf']()['join']('');if(_0x3973ba[-0x571+0x6c5+-0x154]==='/'){for(let _0x3b8198=_0xc2c435['length']-(-0xa10+0xd91*-0x2+0x2533);_0x3b8198>=0x172+-0x1de5+0x1c73*0x1;--_0x3b8198)if(_0x3973ba==='/'+_0xc2c435[_0x3b8198]['name']&&_0xc2c435[_0x3b8198]['end']===null)return _0xc2c435[_0x3b8198]['end']=_0x552604['length'],_0x2a202c=this['_scanner']['read'](),_0x2a202c!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0xc5+0x1162+-0x109c)):!(-0x283*0xe+-0x1*0x40f+-0x3*-0xd13);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0xf4*0xc+-0x92b+-0x244);}const _0x439860={'name':_0x3973ba,'value':null,'attributes':{},'start':_0x552604['length'],'end':null};if(_0x2a202c=this['_scanner']['read'](),_0x2a202c===Lu){if(_0x2a202c=this['_scanner']['read'](),_0x2a202c!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1d6a+0xba1+-0x290a);_0x439860['value']=this['_scanner']['buf']()['join'](''),_0x2a202c=this['_scanner']['read']();}for(;;){switch(_0x2a202c){case Iu:return _0xc2c435['push'](_0x439860),!(0x7d*-0x1+0x20fe+0x2081*-0x1);case Ou:{const _0x4582c0=this['_scanner']['buf']()['join']('');if(_0x2a202c=this['_scanner']['read'](),_0x2a202c!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x3*-0x373+0xdf*0x11+-0x2f*0x89);if(_0x2a202c=this['_scanner']['read'](),_0x2a202c!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1da8+-0x143f*0x1+0xac*-0xe);const _0x27c294=this['_scanner']['buf']()['join']('');_0x439860['attributes'][_0x4582c0]=_0x27c294;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x2*0x531+0xfae+-0x1a0f);}_0x2a202c=this['_scanner']['read']();}}}function Qv(_0x5c75cf,_0x209446){for(const _0x286568 in _0x209446){if(!_0x209446['hasOwnProp'+'erty'](_0x286568))continue;const _0x4c2f5a=_0x209446[_0x286568];_0x4c2f5a instanceof Object?(_0x5c75cf['hasOwnProp'+'erty'](_0x286568)||(_0x5c75cf[_0x286568]={}),Qv(_0x5c75cf[_0x286568],_0x209446[_0x286568])):_0x5c75cf[_0x286568]=_0x4c2f5a;}}function _R(_0x4516c1){if(_0x4516c1['length']===0x1*0x1361+-0x1*0x33b+-0x1026)return null;const _0x3d210a={};for(let _0x252b55=0xaa5*-0x3+-0x1efc+0x3eeb;_0x252b55<_0x4516c1['length'];++_0x252b55){const _0x27ef84=_0x4516c1[_0x252b55],_0x446c3f={};_0x446c3f[_0x27ef84['name']]={'value':_0x27ef84['value'],'attributes':_0x27ef84['attributes']},Qv(_0x3d210a,_0x446c3f);}return _0x3d210a;}function gR(_0x3b22e8,_0x3574e8){if(_0x3b22e8['length']===-0x78*-0xa+0x6*-0x86+-0x18c)return null;const _0x12ab70={};for(let _0xa7ab29=0xb9+-0x2619*-0x1+-0x26d2;_0xa7ab29<_0x3b22e8['length'];++_0xa7ab29){const _0x2f4c2f=_0x3b22e8[_0xa7ab29];_0x12ab70['hasOwnProp'+'erty'](_0x2f4c2f['start'])?_0x12ab70[_0x2f4c2f['start']]['open']===null?_0x12ab70[_0x2f4c2f['start']]['open']=[_0x2f4c2f]:_0x12ab70[_0x2f4c2f['start']]['open']['push'](_0x2f4c2f):_0x12ab70[_0x2f4c2f['start']]={'open':[_0x2f4c2f],'close':null},_0x12ab70['hasOwnProp'+'erty'](_0x2f4c2f['end'])?_0x12ab70[_0x2f4c2f['end']]['close']===null?_0x12ab70[_0x2f4c2f['end']]['close']=[_0x2f4c2f]:_0x12ab70[_0x2f4c2f['end']]['close']['push'](_0x2f4c2f):_0x12ab70[_0x2f4c2f['end']]={'open':null,'close':[_0x2f4c2f]};}let _0x5d4ca6=[];function _0x49d054(_0x5d5653){_0x5d4ca6=_0x5d4ca6['filter'](_0x5907eb=>_0x5d5653['find'](_0x244026=>_0x244026===_0x5907eb)===void(-0x14f7+-0x26ce+0x1*0x3bc5));}function _0x4a2c32(_0x1aaef6){for(let _0x4f8c27=-0x2557*-0x1+0x313*0x2+-0x4d5*0x9;_0x4f8c27<_0x1aaef6['length'];++_0x4f8c27)_0x5d4ca6['push'](_0x1aaef6[_0x4f8c27]);}const _0x2624e5=Object['keys'](_0x12ab70)['sort']((_0x25f165,_0x34765a)=>_0x25f165-_0x34765a),_0x5ef3e4=[];for(let _0x2055b9=-0x1d5+0x561*0x5+-0x322*0x8;_0x2055b9<_0x2624e5['length'];++_0x2055b9){const _0x1efa75=_0x12ab70[_0x2624e5[_0x2055b9]];_0x1efa75['close']!==null&&_0x49d054(_0x1efa75['close']),_0x1efa75['open']!==null&&_0x4a2c32(_0x1efa75['open']),_0x5ef3e4['push']({'start':_0x2624e5[_0x2055b9],'tags':_R(_0x5d4ca6)});}const _0x387182=[];let _0x17a78f=null;for(let _0x43a215=0xe9*0x16+0x303+-0x1709;_0x43a215<_0x5ef3e4['length'];++_0x43a215){const _0x5f4c9e=_0x5ef3e4[_0x43a215];for(;_0x387182['length']<_0x5f4c9e['start'];)_0x387182['push'](_0x17a78f?_0x17a78f['tags']:null);_0x17a78f=_0x5f4c9e;}for(;_0x387182['length']<_0x3574e8;)_0x387182['push'](null);return _0x387182;}function SR(_0x2b045a){const _0x4722b8=new mR(_0x2b045a),_0x1d143d=[],_0x269013=[];if(!_0x4722b8['parse'](_0x1d143d,_0x269013))return console['warn'](_0x4722b8['error']()),{'symbols':_0x2b045a,'tags':null};const _0x4bd979=_0x269013['find'](_0x5a252a=>_0x5a252a['end']===null);if(_0x4bd979)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x4bd979['name']+'\x27'),{'symbols':_0x2b045a,'tags':null};const _0x575a3a=gR(_0x269013,_0x1d143d['length']);return{'symbols':_0x1d143d,'tags':_0x575a3a};}class yR{static['evaluate'](_0x396d81){return SR(_0x396d81);}}class vR{constructor(){this['count']=-0xd7*-0x5+0xf8*-0x11+0xc45,this['quad']=-0x54a*-0x2+-0x574*0x1+-0x520,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x473705,_0x4b51bd){const _0x3fdad7=new Ge(_0x473705);return _0x3fdad7['setPositio'+'ns'](_0x4b51bd['positions']),_0x3fdad7['setNormals'](_0x4b51bd['normals']),_0x3fdad7['setColors3'+'2'](_0x4b51bd['colors']),_0x3fdad7['setUvs'](-0xbb1+0x248+-0x3*-0x323,_0x4b51bd['uvs']),_0x3fdad7['setIndices'](_0x4b51bd['indices']),_0x3fdad7['setVertexS'+'tream'](Ko,_0x4b51bd['outlines'],-0x1*0x2cd+-0x384*0x1+-0x4*-0x195,void(-0x443*-0x5+0x27a*-0xb+0x5ef*0x1),Ve,!(0x10a2*-0x1+0x19*-0xd1+0x250c)),_0x3fdad7['setVertexS'+'tream'](Zo,_0x4b51bd['shadows'],-0x553+0x13d*-0xb+0x12f5,void(-0x5bc+0x4e1*-0x6+-0x1*-0x2302),Ve,!(-0x4f*0x2b+0x2f*0x61+0x3*-0x183)),_0x3fdad7['update'](),_0x3fdad7;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x5ebb62){this['_element']=_0x5ebb62,this['_system']=_0x5ebb62['system'],this['_entity']=_0x5ebb62['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x16d5+0x1e43*-0x1+0x3518),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0xb1d+0x24*-0xb5+0xe58,-0x403+-0x3f5*-0x4+0x5e8*-0x2,-0xe21*0x1+-0x22cd+0x1*0x30ef,0x33*0x89+-0x20f2+0x8*0xb5),this['_colorUnif'+'orm']=new Float32Array(-0x264b+0x1d9e+0x8b0),this['_spacing']=0x1d*0x32+0x142f+-0x19d8,this['_fontSize']=0x331*-0x1+-0x1f3a+0x228b*0x1,this['_fontMinY']=-0x417*-0x5+0x65a+-0x1acd,this['_fontMaxY']=-0xe31+-0x97*-0x11+0x42a,this['_originalF'+'ontSize']=0xc20*-0x1+0x78*0x1a+0x2*0x8,this['_maxFontSi'+'ze']=0x21a8+-0x5f4+0x1*-0x1b94,this['_minFontSi'+'ze']=0x175*-0x12+-0x21*-0x7f+0x9e3*0x1,this['_autoFitWi'+'dth']=!(-0x1e0b+0x8*-0x315+-0x9*-0x614),this['_autoFitHe'+'ight']=!(-0x5c*0x44+-0x8e*0x25+0x2cf7),this['_maxLines']=-(0x883*0x4+0x1*-0x1e61+0x7*-0x86),this['_lineHeigh'+'t']=0x12*-0xf+-0x1*0x1295+0x13c3,this['_scaledLin'+'eHeight']=-0x12+0x6cc*0x5+0x6c2*-0x5,this['_wrapLines']=!(0x22f5+-0x1560+-0xd94),this['_drawOrder']=0x2336+0x22b3+-0x45e9,this['_alignment']=new J(0x258e+-0x2480+-0x10e*0x1+0.5,-0x2*0x38b+0x56*0x55+-0x1578+0.5),this['_autoWidth']=!(0x24*0x65+0x159e+-0xa*0x395),this['_autoHeigh'+'t']=!(-0x145e+0x20a3+-0xc45),this['width']=-0x1*0x1529+0x1608+-0xdf,this['height']=0x172f+0x34*-0x3a+-0xb67,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x1*0x51d+-0x3*0x83+-0x4a*-0x17),this['_aabb']=new De(),this['_noResize']=!(-0x2527*0x1+-0x33e+0x1*0x2866),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1a3f+-0xe4c+-0xbf2),this['_unicodeCo'+'nverter']=!(0x109*-0xc+-0xa6+-0x1*-0xd13),this['_rtl']=!(-0x628+-0x7*-0x3db+0x2*-0xa6a),this['_outlineCo'+'lor']=new ie(-0xe4e+-0xeec*0x2+-0x2*-0x1613,0x94c*0x1+0x1cf0+-0x1*0x263c,0x462+-0x1a46+0x15e4,-0x19fe+0x265b+-0xc5c),this['_outlineCo'+'lorUniform']=new Float32Array(-0xd*0x263+-0x69f+-0x25aa*-0x1),this['_outlineTh'+'icknessSca'+'le']=0x137e+0x19*0x140+0x6*-0x875+0.2,this['_outlineTh'+'ickness']=-0x1a65+-0x2027+0x3a8c,this['_shadowCol'+'or']=new ie(0x40d*0x1+0x24c1+-0x28ce*0x1,0x4d3+0x879*0x3+-0x1e3e,0x900+0x174+-0xa74,-0x550*0x6+0x1914+-0x6cd*-0x1),this['_shadowCol'+'orUniform']=new Float32Array(-0xc87*-0x1+0x4b*-0x33+0x26e),this['_shadowOff'+'setScale']=0x1*0x14e3+-0x1412+-0xd1+0.005,this['_shadowOff'+'set']=new J(0x16a1+-0xf42+-0x75f,0x11e7+-0xd3e+-0x4a9*0x1),this['_shadowOff'+'setUniform']=new Float32Array(-0x2425+0x3b*-0xa+0x2675),this['_enableMar'+'kup']=!(-0x20db+0x3a9*-0x8+0x3e24),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5ebb62['on']('resize',this['_onParentR'+'esize'],this),_0x5ebb62['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5ebb62['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5ebb62['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5ebb62['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1401+-0x17*-0x3+-0x1446,this['_rangeEnd']=0x1*-0x15a6+-0x1727*-0x1+0x4d*-0x5;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x11b245,_0x2d449f){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x6d3b74){_0x6d3b74?this['_updateMat'+'erial'](_0x6d3b74['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x256f*-0x1+0x131*0x7+-0x1*0x2dc5));}['_onScreenS'+'paceChange'](_0x358f58){this['_updateMat'+'erial'](_0x358f58);}['_onDrawOrd'+'erChange'](_0x2d0cd6){if(this['_drawOrder']=_0x2d0cd6,this['_model']){for(let _0x536652=-0x591+-0x24d8+-0x15*-0x205,_0x51a647=this['_model']['meshInstan'+'ces']['length'];_0x536652<_0x51a647;_0x536652++)this['_model']['meshInstan'+'ces'][_0x536652]['drawOrder']=_0x2d0cd6;}}['_onPivotCh'+'ange'](_0x1420a9){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x13b059){if(this['_i18nKey']){if(this['fontAsset']){const _0xe65612=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xe65612||!_0xe65612['resource']||_0xe65612['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x4d53b5,_0x31c3b9){this['_i18nKey']&&_0x31c3b9[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x33c763){if(this['unicodeCon'+'verter']){const _0x502c4e=this['_system']['getUnicode'+'Converter']();_0x502c4e?_0x33c763=_0x502c4e(_0x33c763):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x33c763&&(this['_font']&&this['_updateTex'+'t'](_0x33c763),this['_text']=_0x33c763);}['_updateTex'+'t'](_0x54117a){let _0x1d460c;if(_0x54117a===void(-0x4f7*-0x1+-0x2*0xcb5+0x15d*0xf)&&(_0x54117a=this['_text']),this['_symbols']=Hc['getSymbols'](_0x54117a['normalize']?_0x54117a['normalize']('NFC'):_0x54117a),this['_symbols']['length']===-0x1*0x1bd7+0x18c2+-0x1*-0x315&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x368ccc=yR['evaluate'](this['_symbols']);this['_symbols']=_0x368ccc['symbols'],_0x1d460c=_0x368ccc['tags']||[];}if(this['_rtlReorde'+'r']){const _0x5c6867=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x5c6867){const _0x49025a=_0x5c6867(this['_symbols']);this['_rtl']=_0x49025a['rtl'],this['_symbols']=_0x49025a['mapping']['map'](function(_0x34592e){return this['_symbols'][_0x34592e];},this),_0x1d460c&&(_0x1d460c=_0x49025a['mapping']['map'](_0xe4101=>_0x1d460c[_0xe4101]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x2415+0x225c+0x508*-0xe);const _0x47f868=(_0x9b6406,_0x31ed7f)=>_0x9b6406['toString'](!(0x1e6b*0x1+0x4*0x7c1+-0x3d6f*0x1))['toLowerCas'+'e']()+':'+_0x31ed7f['toFixed'](-0x87e*-0x1+-0xc5a+0x3de),_0x109976=(_0x6dfe18,_0x4a8086)=>_0x6dfe18['toString'](!(0x1*0x92c+0x258b+0x2eb7*-0x1))['toLowerCas'+'e']()+':'+_0x4a8086['x']['toFixed'](-0x16c8+-0x1110+0x27da)+':'+_0x4a8086['y']['toFixed'](-0x6+-0x223d+0x2245);if(_0x1d460c){const _0x573a0e={},_0x496aac={},_0x41d05a={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0xed8+0x269*-0xe+-0x1*-0x13e5)),Math['round'](this['_color']['g']*(0x9*0x8a+-0x1*-0x169d+-0x1a78)),Math['round'](this['_color']['b']*(0x6ff+0x2251+0x1*-0x2851))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x2565+0x105f+-0x9*0x5dd)),Math['round'](this['_outlineCo'+'lor']['g']*(0x4*-0x43b+0x107e+-0x5*-0x49)),Math['round'](this['_outlineCo'+'lor']['b']*(0xfe+-0x31*-0x57+-0x10a6)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x1*0x2492+-0x1*-0xa45+0x1*0x1b4c)),Math['round'](this['_outlineTh'+'ickness']*(0xec3+0xa*0x382+-0x3*0x1048))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x2*-0xc2f+-0x2c*-0x8e+-0x2fc7)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1e9f+0x337*-0x6+0x32e8)),Math['round'](this['_shadowCol'+'or']['b']*(0x1*0x917+-0x4a7+-0x371)),Math['round'](this['_shadowCol'+'or']['a']*(-0x10be+0x1*0xffa+-0xb*-0x29)),Math['round'](this['_shadowOff'+'set']['x']*(0xd*-0x2cf+0xcfe*-0x1+0x3200)),Math['round'](this['_shadowOff'+'set']['y']*(-0x5*-0x59e+-0x19ba+-0x1dd))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x573a0e[this['_color']['toString'](!(0x2356+-0x1687+0xb*-0x12a))['toLowerCas'+'e']()]=0x1*0x229b+-0x8b7*-0x1+-0x2b52,_0x496aac[_0x47f868(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x552+-0x13*-0x12e+0x19*-0x11c,_0x41d05a[_0x109976(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x3*-0x365+0x1a84*0x1+0x757*-0x5;for(let _0x28f401=-0xcd6+-0x241+0xf17,_0x36d48d=this['_symbols']['length'];_0x28f401<_0x36d48d;++_0x28f401){const _0x57918b=_0x1d460c[_0x28f401];let _0x28efe9=-0x23ff+-0x18be+0x3cbd;if(_0x57918b&&_0x57918b['color']&&_0x57918b['color']['value']){const _0x2a7ee1=_0x57918b['color']['value'];if(_0x2a7ee1['length']===-0xb25+0x419+0x713&&_0x2a7ee1[-0x224*0xa+0x11ee+0x37a]==='#'){const _0x1f4d8a=_0x2a7ee1['substring'](-0x5d6*0x1+-0x1*-0x127e+-0x4f*0x29)['toLowerCas'+'e']();_0x573a0e['hasOwnProp'+'erty'](_0x1f4d8a)?_0x28efe9=_0x573a0e[_0x1f4d8a]:/^[0-9a-f]{6}$/['test'](_0x1f4d8a)&&(_0x28efe9=this['_colorPale'+'tte']['length']/(0x1*-0x236f+0x22ca+0xa8),_0x573a0e[_0x1f4d8a]=_0x28efe9,this['_colorPale'+'tte']['push'](parseInt(_0x1f4d8a['substring'](-0xba1+-0x1d*0x4a+0x1*0x1403,-0x1c4c+-0x2606+0x4254),0x41*-0x6a+0x1*-0x58a+0x4*0x821)),this['_colorPale'+'tte']['push'](parseInt(_0x1f4d8a['substring'](0x1*-0x468+0x1*-0x13ca+0x1834*0x1,-0x1bb5*-0x1+0x43*-0x2f+-0xf64),-0x957*0x3+-0x2*0x7b2+-0x1*-0x2b79)),this['_colorPale'+'tte']['push'](parseInt(_0x1f4d8a['substring'](0x14f3+0xeaf+0x2*-0x11cf,0xd6d*0x1+-0x1*0x1081+0x31a),0x61*-0x22+0xfa6*0x1+-0x2b4)));}}this['_symbolCol'+'ors']['push'](_0x28efe9);let _0x5afc1d=-0x53f*0x2+0x8ef*-0x1+0x136d;if(_0x57918b&&_0x57918b['outline']&&(_0x57918b['outline']['attributes']['color']||_0x57918b['outline']['attributes']['thickness'])){let _0x4781b1=_0x57918b['outline']['attributes']['color']?Kg['fromString'](_0x57918b['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x38dcf1=Number(_0x57918b['outline']['attributes']['thickness']);(Number['isNaN'](_0x4781b1['r'])||Number['isNaN'](_0x4781b1['g'])||Number['isNaN'](_0x4781b1['b'])||Number['isNaN'](_0x4781b1['a']))&&(_0x4781b1=this['_outlineCo'+'lor']),Number['isNaN'](_0x38dcf1)&&(_0x38dcf1=this['_outlineTh'+'ickness']);const _0x5ec766=_0x47f868(_0x4781b1,_0x38dcf1);_0x496aac['hasOwnProp'+'erty'](_0x5ec766)?_0x5afc1d=_0x496aac[_0x5ec766]:(_0x5afc1d=this['_outlinePa'+'lette']['length']/(-0xe53+-0x893*0x1+0x16eb),_0x496aac[_0x5ec766]=_0x5afc1d,this['_outlinePa'+'lette']['push'](Math['round'](_0x4781b1['r']*(0xdd3+-0x5e5*-0x1+-0x12b9)),Math['round'](_0x4781b1['g']*(-0x181c+0x1c96+-0xb*0x51)),Math['round'](_0x4781b1['b']*(0xa*-0x3bc+-0xb2*0x7+0x1*0x2b35)),Math['round'](_0x4781b1['a']*(0xb*0x1ac+0x1*-0x21a3+-0xc6*-0x15)),Math['round'](_0x38dcf1*(0x2b2*-0x1+0x71+0x340))));}this['_symbolOut'+'lineParams']['push'](_0x5afc1d);let _0xcd37dd=-0x844+-0x194f+0x2193;if(_0x57918b&&_0x57918b['shadow']&&(_0x57918b['shadow']['attributes']['color']||_0x57918b['shadow']['attributes']['offset']||_0x57918b['shadow']['attributes']['offsetX']||_0x57918b['shadow']['attributes']['offsetY'])){let _0x22c7a1=_0x57918b['shadow']['attributes']['color']?Kg['fromString'](_0x57918b['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x5d8947=Number(_0x57918b['shadow']['attributes']['offset']),_0x300937=Number(_0x57918b['shadow']['attributes']['offsetX']),_0x5c48f0=Number(_0x57918b['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x22c7a1['r'])||Number['isNaN'](_0x22c7a1['g'])||Number['isNaN'](_0x22c7a1['b'])||Number['isNaN'](_0x22c7a1['a']))&&(_0x22c7a1=this['_shadowCol'+'or']);const _0x2044c6=CR['set'](Number['isNaN'](_0x300937)?Number['isNaN'](_0x5d8947)?this['_shadowOff'+'set']['x']:_0x5d8947:_0x300937,Number['isNaN'](_0x5c48f0)?Number['isNaN'](_0x5d8947)?this['_shadowOff'+'set']['y']:_0x5d8947:_0x5c48f0),_0x23c917=_0x109976(_0x22c7a1,_0x2044c6);_0x41d05a['hasOwnProp'+'erty'](_0x23c917)?_0xcd37dd=_0x41d05a[_0x23c917]:(_0xcd37dd=this['_shadowPal'+'ette']['length']/(0x4e*0x57+-0x1*-0x749+-0x21c5),_0x41d05a[_0x23c917]=_0xcd37dd,this['_shadowPal'+'ette']['push'](Math['round'](_0x22c7a1['r']*(-0x4a3*0x7+0x27*0xd7+-0x1*-0xb3)),Math['round'](_0x22c7a1['g']*(0x11e5+-0x17ab+0x1*0x6c5)),Math['round'](_0x22c7a1['b']*(-0x831+-0x15a0+0x8*0x3da)),Math['round'](_0x22c7a1['a']*(0x1d*-0x15+0x20f8+-0x1d98)),Math['round'](_0x2044c6['x']*(0xbbc*-0x2+0x56f+-0x1*-0x1288)),Math['round'](_0x2044c6['y']*(-0x3fb*-0x2+-0x232c+0x1bb5))));}this['_symbolSha'+'dowParams']['push'](_0xcd37dd);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x41895d=this['_calculate'+'CharsPerTe'+'xture']();let _0x16ce87=!(0x6*0x65a+0x227d+-0x4898);const _0x48031d=this['_element'],_0x20acfd=_0x48031d['_isScreenS'+'pace'](),_0x3c456a=_0x48031d['_isScreenC'+'ulled'](),_0x85e17f=function(_0x413694){return _0x48031d['isVisibleF'+'orCamera'](_0x413694);};for(let _0x53029e=-0xd8d*0x1+0x2566+-0x17d9,_0x4ea2a9=this['_meshInfo']['length'];_0x53029e<_0x4ea2a9;_0x53029e++){const _0x1189ae=_0x41895d[_0x53029e]||0x365+-0x8aa+0x13*0x47,_0xc45722=this['_meshInfo'][_0x53029e];if(_0xc45722['count']!==_0x1189ae){if(_0x16ce87||(_0x48031d['removeMode'+'lFromLayer'+'s'](this['_model']),_0x16ce87=!(-0x6fe+0x5cb*0x4+-0x2*0x817)),_0xc45722['count']=_0x1189ae,_0xc45722['positions']['length']=_0xc45722['normals']['length']=_0x1189ae*(0x93a*-0x2+0x23*0xe3+-0x1*0xc92)*(0x1506+0x25e*0x6+-0x2336),_0xc45722['indices']['length']=_0x1189ae*(-0x73*0x4a+-0xd5b+0x2e9c)*(-0xc72+-0x1697*0x1+0x230b*0x1),_0xc45722['uvs']['length']=_0x1189ae*(0x1*-0x23ba+0x2277+-0x1*-0x145)*(-0x1a4+0x11*0x1fd+-0x2025),_0xc45722['colors']['length']=_0x1189ae*(-0x1191*-0x2+-0x23d6+0xb8)*(0x3e7+0x143*0x1+-0x526),_0xc45722['outlines']['length']=_0x1189ae*(-0x19*0x139+-0x1738+0x35cd)*(-0x417+0xbdd*0x1+-0x7c3*0x1),_0xc45722['shadows']['length']=_0x1189ae*(-0x870+-0x1c7f+-0x24f3*-0x1)*(-0x63d*-0x1+-0x1620+0xfe6),_0xc45722['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0xc45722['meshInstan'+'ce']),_0x1189ae===-0x1142+0x1ab1+-0x96f){_0xc45722['meshInstan'+'ce']=null;continue;}for(let _0x4f1dda=-0x1aa0+-0xf62+0x2a02;_0x4f1dda<_0x1189ae;_0x4f1dda++)_0xc45722['indices'][_0x4f1dda*(-0x133b+-0x2653+0x3991)*(0x698+-0x168f+0xff9)+(0x163c+0x615*-0x6+0x16d*0xa)]=_0x4f1dda*(-0x196f+0x18a*0x10+0xd3),_0xc45722['indices'][_0x4f1dda*(-0x1*-0x2626+0x5*-0x5e+-0x244d)*(-0xe+-0x25*0x43+-0x1*-0x9bf)+(0xafa+-0x175a+0xc61)]=_0x4f1dda*(0x589+-0x938+0x3b3)+(-0x1*-0x1709+-0xcbe*0x1+-0x6*0x1b7),_0xc45722['indices'][_0x4f1dda*(0x1a8a+-0x23bd*0x1+-0x6*-0x189)*(0x18*0xe+0x1f32+-0x2080)+(0x1f5+-0xb*-0x36d+-0x27a2)]=_0x4f1dda*(0x177a+-0x1767+-0xf)+(-0x2*0xa3d+-0x29*0xbf+0x1c*0x1d3),_0xc45722['indices'][_0x4f1dda*(-0xc9f*0x1+-0x14d1+-0x2173*-0x1)*(0x275*-0x5+-0x8f*0x16+0x1895)+(0x2*0x185+-0x158*-0x3+-0x70f)]=_0x4f1dda*(0x1*0x2241+0x7c9+-0x21*0x146)+(0x1097+0x212d+-0x31c2),_0xc45722['indices'][_0x4f1dda*(-0x55c+-0x14ca+-0x25*-0xb5)*(-0x60*-0x5+0x1c2*0x10+-0x1dfe)+(0x1db5+0x1*-0x1070+-0xd41)]=_0x4f1dda*(0x6e4+0x22*-0x2+-0x69c)+(0x1e07+0xd66+-0x2b6a),_0xc45722['indices'][_0x4f1dda*(0x177b+-0xd2d*-0x1+-0x24a5)*(0x1a4b+-0xc2e+-0xe1b)+(-0x8f*0x21+-0x1*0x1091+0x2305)]=_0x4f1dda*(0x7*-0x357+0x1a80+-0x31b)+(-0x1c26*-0x1+-0x16bd+-0x4*0x15a),_0xc45722['normals'][_0x4f1dda*(-0x4*0x1cf+0x86a+-0x12a)*(-0xb25*-0x2+0x85c+-0x1ea3)+(-0x2*0x397+0x2322+-0xdfa*0x2)]=0x7f*0x2b+0xe11+-0x2366,_0xc45722['normals'][_0x4f1dda*(-0xd0*0x12+-0x1755+0x25f9)*(-0x170c+-0x19*-0x27+-0x70*-0x2c)+(0x165+0x25bb+-0x7d3*0x5)]=-0xe47+0x80f*-0x2+0x1e65,_0xc45722['normals'][_0x4f1dda*(-0xf0a+-0xc65+0x1b73)*(-0x1*0xf45+-0xb64+-0xc*-0x239)+(-0x1f6f*0x1+-0x1b7*-0xd+-0x926*-0x1)]=-(0x11d*0x10+-0x1cd*0x7+0x24*-0x25),_0xc45722['normals'][_0x4f1dda*(0x1778+0x21a*-0xf+0x409*0x2)*(0x1*-0x26e5+-0x1cd*0xf+-0x2a3*-0x19)+(0x233d+-0x1*0x1733+-0xc07)]=0xd8b+-0x1b63+0xdd8,_0xc45722['normals'][_0x4f1dda*(-0x2074+0x8d8*0x2+0x2*0x764)*(-0xdc*-0x25+-0x26dd*0x1+-0xc*-0x97)+(-0x1eb7+-0x2*-0x6b7+-0x1*-0x114d)]=-0x4*-0x11b+0x2427*-0x1+0x1*0x1fbb,_0xc45722['normals'][_0x4f1dda*(-0x50*0x5c+-0x180f*-0x1+0x4b5)*(0x2424+0xda*0x15+-0x3603)+(0x6*0x1bf+-0x1d38+0x12c3)]=-(-0xebe+-0x892*0x2+0x1fe3),_0xc45722['normals'][_0x4f1dda*(0xdee+-0x79*0x11+-0x2b*0x23)*(0xf*0xe3+0x1bb*0x5+0x15f1*-0x1)+(0x1e4*-0x1+0x145b*-0x1+0x1645)]=-0x26ca+0x62*0x5f+0x26c,_0xc45722['normals'][_0x4f1dda*(-0x2397+0x2*-0x67a+0x308f)*(0x17*0x45+0x2*-0x11a3+0x1d16)+(-0x25c6+-0x2316+0x48e3)]=0x14f2+0x301*-0xa+0x6*0x184,_0xc45722['normals'][_0x4f1dda*(0x19*-0x4b+0x4*0x789+0xd*-0x1c1)*(0x1846+0xf5+-0x1938)+(0x1*-0xd09+-0x107d+0x1d8e)]=-(0x456+-0x5f5+0x1*0x1a0),_0xc45722['normals'][_0x4f1dda*(0x98f+0x3dc+-0xd67)*(-0x6d1+0x22a2+-0x1bce*0x1)+(0x1*-0x1658+-0xd9+0xb9d*0x2)]=0x1*0x1f4d+-0x11e*0x1+-0x1*0x1e2f,_0xc45722['normals'][_0x4f1dda*(-0x343*0x2+0xa63*-0x2+-0x13*-0x170)*(0x2*-0xfa9+0xb5*-0x2b+0x1494*0x3)+(-0x45*-0xb+-0x231+-0xbc)]=-0x2cb+0x1*-0x172c+-0x1*-0x19f7,_0xc45722['normals'][_0x4f1dda*(-0x5f0+0x2*-0x626+0x490*0x4)*(-0x6d*-0xc+-0x16*-0x52+-0xc25)+(-0x227*0xb+-0x1cb5+0x346d)]=-(0x1c6+0x3e*-0x84+-0x35b*-0x9);const _0x540431=xR(this['_system']['app']['graphicsDe'+'vice'],_0xc45722),_0x341513=new He(_0x540431,this['_material'],this['_node']);if(_0x341513['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x341513['castShadow']=!(0x185f+-0x2e*0x59+-0x860),_0x341513['receiveSha'+'dow']=!(0x786+0x3ff*-0x1+-0x2*0x1c3),_0x341513['cull']=!_0x20acfd,_0x341513['screenSpac'+'e']=_0x20acfd,_0x341513['drawOrder']=this['_drawOrder'],_0x3c456a&&(_0x341513['cull']=!(0xe91+-0x1*-0x22c8+-0x3159),_0x341513['isVisibleF'+'unc']=_0x85e17f),this['_setTextur'+'eParams'](_0x341513,this['_font']['textures'][_0x53029e]),_0x341513['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x341513['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x341513['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x341513['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x341513['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x53029e]['width']),_0x341513['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x341513['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x341513['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1157*0x1+-0x1*0x2363+0x34ba]=0xc4b+-0x2*0x457+-0x39d,this['_shadowOff'+'setUniform'][0xb79+0xfe*-0x26+0x1a3c]=0x2607+0x181e+-0x3e25*0x1;else{const _0x39d7b1=-this['_font']['data']['info']['maps'][_0x53029e]['width']/this['_font']['data']['info']['maps'][_0x53029e]['height'];this['_shadowOff'+'setUniform'][0x1*-0x167b+-0x1*-0x623+-0x4*-0x416]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1*-0xae+-0x2047+0x2*0xfcd]=_0x39d7b1*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x341513['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0xc45722['meshInstan'+'ce']=_0x341513,this['_model']['meshInstan'+'ces']['push'](_0x341513);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x16ce87&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x96c*-0x1+0x14ca+-0x1e36,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x4a31e9){_0x4a31e9['destroy']();const _0x1b389d=this['_model']['meshInstan'+'ces']['indexOf'](_0x4a31e9);_0x1b389d!==-(0x1c4a+0xe9d+0x121*-0x26)&&this['_model']['meshInstan'+'ces']['splice'](_0x1b389d,-0x3bd+-0x1366+0x1*0x1724);}['_setMateri'+'al'](_0x4621a1){if(this['_material']=_0x4621a1,this['_model'])for(let _0x269ad5=0xcce*-0x1+-0x7*0x509+0x300d,_0x2a993a=this['_model']['meshInstan'+'ces']['length'];_0x269ad5<_0x2a993a;_0x269ad5++){const _0x192f51=this['_model']['meshInstan'+'ces'][_0x269ad5];_0x192f51['material']=_0x4621a1;}}['_updateMat'+'erial'](_0x3f0efc){const _0x3da91d=this['_element'],_0x3b9506=_0x3da91d['_isScreenC'+'ulled'](),_0x49b2a9=function(_0x26e1df){return _0x3da91d['isVisibleF'+'orCamera'](_0x26e1df);},_0x38a6e8=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x3f0efc,_0x38a6e8,this['_enableMar'+'kup']),this['_model'])for(let _0x46f10b=-0x95*0x30+-0x2287+-0x1*-0x3e77,_0x973dcf=this['_model']['meshInstan'+'ces']['length'];_0x46f10b<_0x973dcf;_0x46f10b++){const _0x1e9d0b=this['_model']['meshInstan'+'ces'][_0x46f10b];_0x1e9d0b['cull']=!_0x3f0efc,_0x1e9d0b['material']=this['_material'],_0x1e9d0b['screenSpac'+'e']=_0x3f0efc,_0x3b9506?(_0x1e9d0b['cull']=!(0x817*0x3+0x5*-0x354+-0xd9*0x9),_0x1e9d0b['isVisibleF'+'unc']=_0x49b2a9):_0x1e9d0b['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1*-0xe6f+0x9d2+-0x1*-0x49d]=-0x13ab+-0x16a*0x18+0x359c,this['_colorUnif'+'orm'][0x14d8+0x18e*-0x16+-0x1*-0xd5d]=0xd*-0x241+0x5c5+0xf1*0x19,this['_colorUnif'+'orm'][-0x16ac+0x1*-0x1ed+0x1*0x189b]=-0x1ea5+0x2*-0xabf+0x11c*0x2f):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x15c0+-0xd21+-0x1*0x89f]=We['r'],this['_colorUnif'+'orm'][-0xf7*-0x17+0x550+-0x1b80]=We['g'],this['_colorUnif'+'orm'][0x3*0x17f+0x167d+-0x1af8]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x1d24+-0x6b*-0xf+0x25*-0xf5]=-0xded+-0x1*-0x1d1c+0x1*-0xf2f,this['_outlineCo'+'lorUniform'][0x13ef+-0x33e*0xa+0xc7e]=-0x1c15*-0x1+0xb6*-0x2b+0xd*0x31,this['_outlineCo'+'lorUniform'][-0x1dca+-0x4bc+0x2288]=0x2660+0x176a+-0x3dca,this['_outlineCo'+'lorUniform'][0x7cb*0x1+0x767+-0xf2f]=0x20f*0xc+0x29*0x4a+0x1*-0x248d):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1128+-0x1*-0x1a11+-0x8e9]=We['r'],this['_outlineCo'+'lorUniform'][0x39e*-0x3+-0x9d+0xb78]=We['g'],this['_outlineCo'+'lorUniform'][-0xada+-0xa*0x197+0x1ac2]=We['b'],this['_outlineCo'+'lorUniform'][-0x1fc*0x1+-0xc2*-0xc+0x4f*-0x17]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1e69*0x1+-0xbf5*-0x2+-0x3653]=0x193d+-0x3d*0x9a+0xb75,this['_shadowCol'+'orUniform'][0x15b9+0x244a+0x6*-0x9ab]=0x1506+-0x3*0x97b+0x76b,this['_shadowCol'+'orUniform'][0x9*0x9d+0x4*-0x390+0x1*0x8bd]=0xb5*0x34+0x24c5+-0xf*0x4e7,this['_shadowCol'+'orUniform'][-0x254b+-0x3*-0x1eb+0x1f8d]=0x5a*-0x67+-0x853*0x1+0x2c89):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0xed1*0x1+-0x3*0x273+-0x3bc*0x2]=We['r'],this['_shadowCol'+'orUniform'][0x82f*-0x1+0x6b5*-0x5+0x29b9]=We['g'],this['_shadowCol'+'orUniform'][0x59a*-0x3+0x1*0x699+0xa37]=We['b'],this['_shadowCol'+'orUniform'][0x13db+-0x1e7e+0xaa6*0x1]=We['a']);}['_isWordBou'+'ndary'](_0x2e72f4){return jg['test'](_0x2e72f4);}['_isValidNe'+'xtChar'](_0x329b3b){return _0x329b3b!==null&&!ER['test'](_0x329b3b);}['_isNextCJK'+'Boundary'](_0x4469e6,_0x38374d){return Yg['test'](_0x4469e6)&&(jg['test'](_0x38374d)||wR['test'](_0x38374d));}['_isNextCJK'+'WholeWord'](_0x17d34d){return Yg['test'](_0x17d34d);}['_updateMes'+'hes'](){const _0x5e7749=this['_font']['data'],_0x1f8466=this,_0x56b2fb=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x1e9c41=this['_maxFontSi'+'ze'],_0x369c1d=this['_shouldAut'+'oFit']();_0x369c1d&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0xc72078=-0x91+0x169+0x17*-0x8,_0x31e5c0=this['_symbols']['length'];let _0x2a1cba=0xb84+0x1*-0x2490+-0x190c*-0x1,_0x27311c=0x8b*-0x7+0x6a*-0x56+0x2769,_0x1adb21=0x16c3+0xa3b+0x29*-0xce,_0x4b3b0d=-0xea*0x4+0x56*-0x31+0xa*0x203,_0x4199e1=-0xb7*0x3+0xa5d+-0x837,_0x59cc29=0x31a*-0x4+0x7*-0x2e8+0x20c0,_0x298521=0x26c*0x3+0x103b+-0x4b3*0x5,_0x545785=0x1*0x2534+-0x1*-0x29f+0x1*-0x27d3,_0x5dd605=-0x2386+0x885*-0x1+0x2c0b,_0x101e0c=-0x6c3+0xa3*-0x28+0x203b,_0x5d45ff=-0x1fe6+0x24e4+-0x4fe;const _0x1f3892=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1207+0x1c1d*0x1+-0xa16+0.0001;let _0x41be8f=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x1f3892||!this['_wrapLines'])&&(_0x41be8f=Number['POSITIVE_I'+'NFINITY']);let _0x4776a7=0x166e+-0x14f3+0x1*-0x17b,_0x3400ad=0x48a+-0x193e+0x14b4,_0xf1a7e6,_0x1f5c27,_0x272a96,_0x5c9c77;function _0x45ecec(_0x5da3f5,_0x5dffbd,_0x5a8816){_0x1f8466['_lineWidth'+'s']['push'](Math['abs'](_0x5a8816));const _0x546821=_0x545785>_0x5dffbd?_0x5dffbd+(-0x20a1+-0x88*0x43+0x443a):_0x545785,_0x231d31=_0x545785>_0x5dffbd?_0x545785+(0x706+0x12b0+-0x19b5):_0x5dffbd,_0xb0a9f2=_0x5da3f5['slice'](_0x546821,_0x231d31);if(_0x5d45ff){let _0x12668d=_0xb0a9f2['length'];for(;_0x12668d--&&_0x5d45ff>-0x11a2*-0x1+-0x67*-0x5+-0x6b*0x2f;)qg['test'](_0xb0a9f2[_0x12668d])&&(_0xb0a9f2['splice'](_0x12668d,-0x6a1+0x6a*-0x38+0x1dd2),_0x5d45ff--);}_0x1f8466['_lineConte'+'nts']['push'](_0xb0a9f2['join']('')),_0x2a1cba=0x1cce+-0x5*-0x29d+0x3*-0xdf5,_0x27311c-=_0x1f8466['_scaledLin'+'eHeight'],_0x4199e1++,_0x5dd605=0x6*-0x56e+-0x14a+0x21de,_0x101e0c=0x819+0xe94+-0x16ad,_0x5d45ff=-0x29b*0x8+0x1c3+0x1315,_0x59cc29=-0x1e*-0x17+0x267f+0x3*-0xdbb,_0x545785=_0x5dffbd;}let _0x11d82b=!(-0x6d*0x2b+-0x155e+0x27ad);for(;_0x11d82b;){_0x11d82b=!(0x4*-0x690+-0xd81*0x2+-0x38d*-0xf),_0x369c1d?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1*-0xab4+-0x1*0x1cd+0x35*-0x2b+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1924+-0x19*0x173+0xb17,this['height']=0x8c1+-0xc39+0x378,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x2a1cba=0x1046+0x2ec*0x5+-0x1ee2,_0x27311c=-0xa89*-0x1+0x1cdc+-0x2765,_0x1adb21=0x246d+0x979+-0x2de6,_0x4b3b0d=0x1*0xf63+0x335*0x4+-0x1c37,_0x4199e1=-0x1*0x1336+-0x13bf+0x26f6,_0x59cc29=0x12e2+0x31d*0xb+-0x3521,_0x298521=-0x41+0x1*-0x4d7+0x518,_0x545785=0xe4+0x1588+-0x166c,_0x5dd605=-0x12*0x173+-0x2*-0x8ef+0x107*0x8,_0x101e0c=0x1117+-0x3de+-0xd39,_0x5d45ff=0x348+-0x2188+0x1e40;const _0x18c1c7=this['_fontSize']/_0xc72078;_0x4776a7=this['_fontMinY']*_0x18c1c7,_0x3400ad=this['_fontMaxY']*_0x18c1c7;for(let _0x908fb7=-0x239e+-0x718+0x2ab6;_0x908fb7<this['_meshInfo']['length'];_0x908fb7++)this['_meshInfo'][_0x908fb7]['quad']=-0xf3f*-0x1+-0x52a+0x1*-0xa15,this['_meshInfo'][_0x908fb7]['lines']={};let _0x1aeaa8=0x1*0x25bd+0x1349+-0x3807,_0x272354=-0x65*0x27+-0x390+0x13f2,_0xc0a6b0=0x1520+0x41e*-0x1+0x1003*-0x1,_0x4bbcab=0x1714*0x1+-0xe72+-0x7a3+(-0x2281+-0x2*0xf10+-0x96*-0x70)*(0x1*-0x389+0x19d*0x15+-0x1d58),_0x572290=-0x1*0xe01+-0x3d*0x35+0x1ba1+(0x1*0x441+0x10da+-0x141c)*(-0xd1*0x16+-0x7f0*-0x1+0x583*0x2),_0x5a3d56=-0x1*0x1700+-0x25bc+0x3cbc,_0x328cf5=0x2b+0x1c61+-0x92f*0x3+(0x3*0x56b+0x1c70+0x1*-0x2bb2)*(0x713+0x4ec+0x233*-0x5),_0xfd1172=-0x35*-0x42+-0x759+-0x552+(-0x1*0x243a+0x996+-0x11b*-0x19)*(0xf4e+-0x577*0x1+-0x8d7),_0x5c2dae=0x871+-0x2*-0xeef+-0x25d0+(0x1*0xd1f+-0x84f*-0x2+-0x1d3e)*(-0x89f*-0x2+0x22d5+-0xa37*0x5);for(let _0x1b417b=0x17*-0x47+0x2*-0xbf+-0x9b*-0xd;_0x1b417b<_0x31e5c0;_0x1b417b++){if(_0xf1a7e6=this['_symbols'][_0x1b417b],_0x5c9c77=_0x1b417b+(0x1*-0x23c0+0x2343+0x7e)>=_0x31e5c0?null:this['_symbols'][_0x1b417b+(0x1721+-0x182b+-0x1*-0x10b)],qg['test'](_0xf1a7e6)){_0x5d45ff++,(!this['_wrapLines']||this['_maxLines']<0x2*-0x4a3+0x13d4+-0xa8e*0x1||_0x4199e1<this['_maxLines'])&&(_0x45ecec(this['_symbols'],_0x1b417b,_0x4b3b0d),_0x298521=_0x1b417b+(-0x6*0x362+-0x931*0x1+0x1d7e*0x1),_0x545785=_0x1b417b+(-0x1*0x797+0x1f97*0x1+0x1*-0x17ff));continue;}let _0x876a37=0x26*0x73+-0x137*-0x1f+-0x36bb,_0x1f3705=-0xe8c+0x23a2+-0x1516,_0x58aaf1=-0x2324+-0x515*-0x7+-0x3*0x25,_0xd05865=-0x1d*0x77+-0x179f+0x17*0x19d,_0x168987,_0xd6137b;if(_0x1f5c27=_0x5e7749['chars'][_0xf1a7e6],!_0x1f5c27){if(bR['indexOf'](_0xf1a7e6)!==-(-0xaa*-0xf+0x1*-0x207d+0x1688))_0x1f5c27=AR;else{if(_0x5e7749['chars']['\x20'])_0x1f5c27=_0x5e7749['chars']['\x20'];else for(const _0x33d6bc in _0x5e7749['chars']){_0x1f5c27=_0x5e7749['chars'][_0x33d6bc];break;}_0x5e7749['missingCha'+'rs']||(_0x5e7749['missingCha'+'rs']=new Set()),_0x5e7749['missingCha'+'rs']['has'](_0xf1a7e6)||(console['warn']('Character\x20'+'\x27'+_0xf1a7e6+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x5e7749['info']['face']),_0x5e7749['missingCha'+'rs']['add'](_0xf1a7e6));}}if(_0x1f5c27){let _0x36073a=-0x93b+0x243d+-0x1*0x1b02;if(_0x101e0c>0x1115+0x338+0x144d*-0x1){const _0x15ceea=this['_font']['data']['kerning'];if(_0x15ceea){const _0x3f2e37=_0x15ceea[Hc['getCodePoi'+'nt'](this['_symbols'][_0x1b417b-(0x1989+0x1cb5*0x1+-0x363d)])||-0x16d*-0x7+0xd09*-0x2+0x1017];_0x3f2e37&&(_0x36073a=_0x3f2e37[Hc['getCodePoi'+'nt'](this['_symbols'][_0x1b417b])||0x1d1+0x47*0x4f+0x17ba*-0x1]||-0x1b38+0x1*-0x2209+0x3d41);}}_0x168987=_0x1f5c27['scale']||0x1862+0xd4c+0x3*-0xc8f,_0xd6137b=(_0x1f5c27['width']+_0x1f5c27['height'])/(0xde2+0x293*0xe+0x1*-0x31ea),_0xd05865=_0x18c1c7*_0xd6137b/_0x168987,_0x58aaf1=(_0x1f5c27['xadvance']+_0x36073a)*_0x18c1c7,_0x876a37=(_0x1f5c27['xoffset']-_0x36073a)*_0x18c1c7,_0x1f3705=_0x1f5c27['yoffset']*_0x18c1c7;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0xf1a7e6+'\x27');const _0x40bd46=TR['test'](_0xf1a7e6),_0x1db1be=_0x1f5c27&&_0x1f5c27['map']||0xd97*0x1+-0x141d*-0x1+0x2*-0x10da,_0x470d2c=-this['_font']['data']['info']['maps'][_0x1db1be]['width']/this['_font']['data']['info']['maps'][_0x1db1be]['height'],_0x1a774a=this['_meshInfo'][_0x1db1be],_0x186789=_0x2a1cba+this['_spacing']*_0x58aaf1;if(_0x186789>_0x41be8f&&_0x101e0c>-0x22a*-0x10+0x1*-0x1fd8+-0x2c8&&!_0x40bd46&&(this['_maxLines']<0x377*0x9+0x121d+0x4ee*-0xa||_0x4199e1<this['_maxLines'])){if(_0x5dd605===0x4f*0x9+0x701+0x4*-0x272)_0x298521=_0x1b417b,_0x45ecec(this['_symbols'],_0x1b417b,_0x4b3b0d);else{const _0x4c0ef9=Math['max'](_0x1b417b-_0x298521,0x2604+-0x2477+-0x18d*0x1);if(this['_meshInfo']['length']<=0x6f3+0x2381*0x1+0x1*-0x2a73)_0x1a774a['lines'][_0x4199e1-(0x18ea+-0xea4+-0xa45)]-=_0x4c0ef9,_0x1a774a['quad']-=_0x4c0ef9;else{const _0x25e9b7=_0x298521,_0x300b82=_0x1b417b;for(let _0x258e53=_0x25e9b7;_0x258e53<_0x300b82;_0x258e53++){const _0x2229da=this['_symbols'][_0x258e53],_0x1bcae6=_0x5e7749['chars'][_0x2229da],_0x2f5e97=this['_meshInfo'][_0x1bcae6&&_0x1bcae6['map']||0x1f2+0xc73*0x1+-0xe65];_0x2f5e97['lines'][_0x4199e1-(0xdb7*0x1+0x5d8*0x4+0x128b*-0x2)]-=0xd*-0x18e+-0x6*0x29d+0x23e5,_0x2f5e97['quad']-=0x29e+-0x929+0x68c*0x1;}}_0x1b417b-=_0x4c0ef9+(0x5d*0x36+0xd11+0xb2*-0x2f),_0x45ecec(this['_symbols'],_0x298521,_0x59cc29);continue;}}_0x272a96=_0x1a774a['quad'],_0x1a774a['lines'][_0x4199e1-(0xf68+0x1810+-0x2777*0x1)]=_0x272a96;let _0x513bc1=_0x2a1cba-_0x876a37,_0x31c613=_0x513bc1+_0xd05865;const _0x39df2a=_0x27311c-_0x1f3705,_0x51758a=_0x39df2a+_0xd05865;if(this['_rtl']){const _0x4fb91f=_0xd05865-_0x876a37-this['_spacing']*_0x58aaf1-_0x876a37;_0x513bc1-=_0x4fb91f,_0x31c613-=_0x4fb91f;}_0x1a774a['positions'][_0x272a96*(0x2*-0x1cd+0x1*0x2473+0xcd*-0x29)*(0x1*-0x173d+0x26f9+-0xfb9)+(0x1491*0x1+0x1760+0x1*-0x2bf1)]=_0x513bc1,_0x1a774a['positions'][_0x272a96*(0x4c0+-0x4a3*-0x2+0x701*-0x2)*(0x1*-0x1cf3+0x1551+0x7a5)+(-0x2eb+-0x1c96+0x1f82)]=_0x39df2a,_0x1a774a['positions'][_0x272a96*(0x6c2+0x2064+-0x2722)*(0xc7*0x17+-0x21df+0x1001)+(0x1365+0x1*-0x6f1+-0x12*0xb1)]=_0x1adb21,_0x1a774a['positions'][_0x272a96*(0x2*0x10ba+0x841*-0x2+0x2*-0x877)*(-0x16a8+0x109a+-0x1*-0x611)+(-0x7f*0x17+0xc6b*-0x3+0x30ad)]=_0x31c613,_0x1a774a['positions'][_0x272a96*(-0x17d9+0x4*-0xf6+0x1bb5*0x1)*(-0x5f5*0x4+0x3c*-0x7b+-0x34ab*-0x1)+(-0x554*0x5+0x899+-0x17*-0xc9)]=_0x39df2a,_0x1a774a['positions'][_0x272a96*(0x4*-0x15a+-0xb1e*-0x2+-0x10d0)*(-0x1*-0x293+-0x1*0xef2+0x2*0x631)+(-0x16d2+-0x1dde+0x1*0x34b5)]=_0x1adb21,_0x1a774a['positions'][_0x272a96*(-0x2f2*-0x1+0x3*-0x583+0xd9b)*(0x746+-0x1*-0x1a7b+-0x21be)+(-0xb*-0x35b+0x10bc+-0x359f)]=_0x31c613,_0x1a774a['positions'][_0x272a96*(0xd3*-0x1b+0x6*0x2f+-0x1*-0x152b)*(0x937*-0x4+-0x37*0x4+0x25bb)+(0x2a*0x9+0x182d+-0x19a0)]=_0x51758a,_0x1a774a['positions'][_0x272a96*(-0x1a47+-0xc8f*-0x2+0x1*0x12d)*(-0x526+-0x5c*0x52+0x2d*0xc5)+(-0x2489+-0x219f+0x10*0x463)]=_0x1adb21,_0x1a774a['positions'][_0x272a96*(-0x9*-0x33d+-0x1*0x4d2+-0x184f)*(-0x2154+-0x631*-0x1+-0x2b7*-0xa)+(-0xf51+-0x9*0x1f+-0x17*-0xb7)]=_0x513bc1,_0x1a774a['positions'][_0x272a96*(0x1*0x7c9+-0x8bd+0xf8)*(-0x1*0x92+0x2573+-0x1a*0x16b)+(0x20*0x29+0x1c69+0x4c9*-0x7)]=_0x51758a,_0x1a774a['positions'][_0x272a96*(-0x587*-0x3+0x1*-0xb1+-0x1fc*0x8)*(-0x2295+-0x1*0x1219+0x34b1)+(0x1297*-0x2+0x202a+-0x5*-0x103)]=_0x1adb21,this['width']=Math['max'](this['width'],_0x186789);let _0x41d2ce;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x41d2ce=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x624*0x2+-0x4b0+0x3cc*-0x2+0.0001)),_0x41d2ce=Y['clamp'](_0x41d2ce,_0x56b2fb,_0x1e9c41),_0x41d2ce!==this['_element']['fontSize'])){this['_fontSize']=_0x41d2ce,_0x11d82b=!(-0x1*0x2197+0x12d7+-0x10*-0xec);break;}if(this['height']=Math['max'](this['height'],_0x3400ad-(_0x27311c+_0x4776a7)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x41d2ce=Y['clamp'](this['_fontSize']-(-0x23ef+-0x3*-0x292+0x1c3a),_0x56b2fb,_0x1e9c41),_0x41d2ce!==this['_element']['fontSize'])){this['_fontSize']=_0x41d2ce,_0x11d82b=!(0x96b+0x4f0+-0xe5b);break;}_0x2a1cba+=this['_spacing']*_0x58aaf1,_0x40bd46||(_0x4b3b0d=_0x2a1cba),(this['_isWordBou'+'ndary'](_0xf1a7e6)||this['_isValidNe'+'xtChar'](_0x5c9c77)&&(this['_isNextCJK'+'Boundary'](_0xf1a7e6,_0x5c9c77)||this['_isNextCJK'+'WholeWord'](_0x5c9c77)))&&(_0x5dd605++,_0x59cc29=_0x4b3b0d,_0x298521=_0x1b417b+(0x14e+-0x2068+0x1f1b)),_0x101e0c++;const _0x6a3808=this['_getUv'](_0xf1a7e6);if(_0x1a774a['uvs'][_0x272a96*(0x2*-0x316+0x1589*-0x1+-0x2f*-0x97)*(-0x17*-0x1a5+0x1f03*0x1+0x5*-0xdc4)+(0x1*-0x1013+0x1*-0x15cb+-0x1*-0x25de)]=_0x6a3808[-0x1c9*-0x7+0x3*0x8b9+-0x1355*0x2],_0x1a774a['uvs'][_0x272a96*(-0x2003+0x86*-0x3c+0x3f6f)*(-0x620+-0x700+0xd22)+(-0x1c51+-0x35*0x6b+0x3279)]=-0x47*0x81+0x98+0x2330-_0x6a3808[0x1d7b*-0x1+-0x36*-0x95+-0x1f2],_0x1a774a['uvs'][_0x272a96*(-0x16f6+-0x3a*0x65+-0x24b*-0x14)*(-0x25f5+0xafe+0x565*0x5)+(0x27+-0x1ad*0x12+0x1e05)]=_0x6a3808[0x1*-0x7f+-0x1d30+0x1db1],_0x1a774a['uvs'][_0x272a96*(0x9b2+-0x2076+0x16c8)*(0x395+-0x77*-0x30+-0x19e3)+(-0x72f*-0x1+-0x24ed+0x1dc1)]=0x1c*-0x94+0xc77+-0x1*-0x3ba-_0x6a3808[0x2c*-0x42+0xa1f*0x2+-0x21*0x45],_0x1a774a['uvs'][_0x272a96*(0x186+-0x1*0x1bf7+0xd*0x209)*(-0x1*-0x1976+-0x10b*-0x23+0x14a7*-0x3)+(-0x542+0x336*-0x1+0x87c)]=_0x6a3808[-0x7*-0x2b9+-0x1*0x4b5+0x88*-0x1b],_0x1a774a['uvs'][_0x272a96*(0xa59*-0x1+0x3*-0x5cb+0x1bbe)*(-0x243d*0x1+-0x35*0x98+0x43b7)+(-0x5e7+0x37*0x53+-0xbe9)]=0x19e8+0xc9a*0x1+-0x2681-_0x6a3808[-0xdcc+-0x1b0e+0x28dd],_0x1a774a['uvs'][_0x272a96*(-0x28d*-0x1+0x221c+0x24a5*-0x1)*(-0x74b+0x255a+0x1*-0x1e0d)+(-0x1*-0x74c+-0xae*-0x2b+-0x920*0x4)]=_0x6a3808[-0x1*-0x2001+-0x3*-0xa0a+-0x3e1f],_0x1a774a['uvs'][_0x272a96*(-0x2*-0xa30+0x1297+-0x26f3)*(0xe*0x292+-0x475*-0x1+-0x3ad*0xb)+(0xb53*-0x1+-0x9db*-0x1+0x17f*0x1)]=-0x2*-0x7b7+-0x6e*0x23+0x21*-0x3-_0x6a3808[-0x17ab+-0x1a80+0x85d*0x6],this['_symbolCol'+'ors']){const _0x388bff=this['_symbolCol'+'ors'][_0x1b417b]*(-0x2300+-0x21dc+0x44df);_0x1aeaa8=this['_colorPale'+'tte'][_0x388bff],_0x272354=this['_colorPale'+'tte'][_0x388bff+(0x851+0x1271*0x1+-0x1ac1*0x1)],_0xc0a6b0=this['_colorPale'+'tte'][_0x388bff+(0xab7*0x1+-0x249a+0x7*0x3b3)];}if(_0x1a774a['colors'][_0x272a96*(0x1*0x13bb+0x761*0x1+-0x8*0x363)*(0x1*-0x1e4d+0x2186+-0x335)+(0xff8+0x4*-0x5d4+0x758)]=_0x1aeaa8,_0x1a774a['colors'][_0x272a96*(-0x1ef9+0x1*0x1814+0x6e9)*(0x8e7*-0x3+-0x107*0x13+-0x171f*-0x2)+(0x24ae+0x575*0x2+-0x3*0xfdd)]=_0x272354,_0x1a774a['colors'][_0x272a96*(0x13d7+0x9*0x2cd+0x1684*-0x2)*(-0xd*-0x167+0x119e+0x23d5*-0x1)+(-0x1f53+0x1566+0x9ef)]=_0xc0a6b0,_0x1a774a['colors'][_0x272a96*(0x1*-0x213c+0x2022+0x11e)*(0x2688+-0x59*0x2e+-0x1686)+(0xa94+-0x431*0x1+0x198*-0x4)]=-0x1f7*0x5+-0x1b58+-0xa*-0x3d1,_0x1a774a['colors'][_0x272a96*(0xaa2*-0x1+0x22e2+-0x183c)*(0x4b*-0x4e+-0x430+0x1b0e*0x1)+(0x85d*-0x1+0x20d4*0x1+-0x1873)]=_0x1aeaa8,_0x1a774a['colors'][_0x272a96*(0x13*0x97+0x223a+-0x2d6b)*(-0x1a82+0x21*0x1+-0x1d*-0xe9)+(0xc14+0x12ea+-0x1*0x1ef9)]=_0x272354,_0x1a774a['colors'][_0x272a96*(0x901+-0x1ea0+0x15a3)*(-0x187c+-0x1501+0x2d81)+(-0x1c20+-0xee2+0x2b08)]=_0xc0a6b0,_0x1a774a['colors'][_0x272a96*(-0x1b7d*0x1+-0x21*0xa6+0x30e7)*(0x6a0*-0x3+-0x1*0x5d1+0x19b5)+(-0x1b23*0x1+0x7fd+0x132d)]=0x5*0x298+0xf28+-0x1b21,_0x1a774a['colors'][_0x272a96*(0x1065+0x1fd+-0x125e)*(-0x1368+0x58c*-0x1+0x18f8)+(-0x676+0xae3+-0xe1*0x5)]=_0x1aeaa8,_0x1a774a['colors'][_0x272a96*(-0x100*-0x23+-0x8*-0x1a9+-0x3044)*(-0x105+-0x1042+0x13*0xe9)+(0x522+-0x1462+-0x1*-0xf49)]=_0x272354,_0x1a774a['colors'][_0x272a96*(0xffc+0x24b1+-0x1*0x34a9)*(0x6a7+-0xf26+0x883*0x1)+(0x191*0xb+0xc0a+-0x1d3b)]=_0xc0a6b0,_0x1a774a['colors'][_0x272a96*(-0x1*-0x1dfb+-0x144d*-0x1+-0x2*0x1922)*(-0xecc*-0x1+0x15f1+-0x24b9)+(-0x167+0x530+-0x3be)]=-0x1a41*0x1+-0x621*0x5+0x39e5,_0x1a774a['colors'][_0x272a96*(-0x2192*0x1+-0x5cc+0x47*0x8e)*(0x0+-0xb16+0xb1a)+(0x36a*0x4+-0x41*0x45+0x4d*0xd)]=_0x1aeaa8,_0x1a774a['colors'][_0x272a96*(-0x990+0x8ed*0x3+-0x103*0x11)*(-0x1*-0x2ce+-0x1*0x4a5+-0x1db*-0x1)+(0x7d5*0x1+-0x47f*-0x2+-0x10c6)]=_0x272354,_0x1a774a['colors'][_0x272a96*(0x1e1b+0x3d*-0x61+-0x6fa)*(-0xa42+0xc20+-0xed*0x2)+(-0x2467+0xa3b+0x1*0x1a3a)]=_0xc0a6b0,_0x1a774a['colors'][_0x272a96*(0x15af+-0xf37+-0x76*0xe)*(-0x1349+0x3*0xbe9+-0x106e)+(0x623*0x5+-0x1261+-0xc3f)]=-0x377*0x8+-0x107*-0x10+0xc47,this['_symbolOut'+'lineParams']){const _0x454f58=this['_symbolOut'+'lineParams'][_0x1b417b]*(-0x1fe5+-0x970+0x86*0x4f);_0x4bbcab=this['_outlinePa'+'lette'][_0x454f58]+this['_outlinePa'+'lette'][_0x454f58+(0xc13+-0x7*-0x177+-0x477*0x5)]*(0x1fe4+-0x1*0x2615+0x731*0x1),_0x572290=this['_outlinePa'+'lette'][_0x454f58+(0x1*-0x1915+-0x3*0x669+0x2c52)]+this['_outlinePa'+'lette'][_0x454f58+(0x365+-0x20af+0x1d4d)]*(-0xb*-0x266+-0x3*0x6de+0x66*-0xc),_0x5a3d56=this['_outlinePa'+'lette'][_0x454f58+(0x7e7+-0x1f6c*0x1+0x1789)];}if(_0x1a774a['outlines'][_0x272a96*(0x1b7c+0x3*-0x22f+0x14eb*-0x1)*(0x250e+0x1d8d*-0x1+-0x77e)+(-0xb3*-0x35+-0x1b70+-0x99f)]=_0x4bbcab,_0x1a774a['outlines'][_0x272a96*(-0x14e4+0x95+0x1453)*(-0x12af*0x1+0x3*-0x8d0+0x2d22)+(0x103a+-0x2af*0x8+0x53f)]=_0x572290,_0x1a774a['outlines'][_0x272a96*(-0x85d*0x3+-0x75*0x44+-0x2f5*-0x13)*(0x1401*0x1+-0x369*-0xb+-0x3981*0x1)+(0x3d*-0x2f+-0x6d4+0x1209)]=_0x5a3d56,_0x1a774a['outlines'][_0x272a96*(-0x1f*0x9+0x1*0xe62+0x3*-0x46d)*(0x6b*-0x33+0x1e20+0x2*-0x466)+(-0xa3*-0x32+-0x3*0x935+0x434*-0x1)]=_0x4bbcab,_0x1a774a['outlines'][_0x272a96*(-0x268*0x10+-0x976*0x1+-0x216*-0x17)*(0x1009+0xcc4+-0x1cca)+(-0xf8e*0x2+-0xcd3+-0x1*-0x2bf3)]=_0x572290,_0x1a774a['outlines'][_0x272a96*(-0x1*-0x1202+0x2541+-0x373f)*(0x1d82+-0x2aa*0xb+0x31*-0x1)+(-0x158*-0x1a+-0x1a32+0xcb*-0xb)]=_0x5a3d56,_0x1a774a['outlines'][_0x272a96*(-0x49*-0x47+0x417*-0x5+0x38)*(-0x8cd+-0x34*0x70+0x1f90)+(-0x1*0x935+-0x4*-0x23d+-0x47*-0x1)]=_0x4bbcab,_0x1a774a['outlines'][_0x272a96*(-0x24ff*-0x1+0xf1*0x9+0x2*-0x16ba)*(-0x1*0x191a+-0x203a+-0x131d*-0x3)+(0x16*-0x1c3+0x2*-0xe7+0x2897)]=_0x572290,_0x1a774a['outlines'][_0x272a96*(0x154f+-0x19d2+0x487*0x1)*(-0x360+-0x7*-0xbf+0x1d6*-0x1)+(0xe67+-0x7a5*-0x1+-0x1604)]=_0x5a3d56,_0x1a774a['outlines'][_0x272a96*(0x1f04+-0x1*0x1eee+0x9*-0x2)*(-0x35*-0x29+-0x4e1*0x7+0x19ad)+(0x11*0x5+-0xa1*0x37+0x224b)]=_0x4bbcab,_0x1a774a['outlines'][_0x272a96*(0x1735+0x2664+-0x3d95)*(-0x1*0x1dff+0x26ec+-0x8ea)+(-0x728+-0xf82+0x16b4)]=_0x572290,_0x1a774a['outlines'][_0x272a96*(0x76b*0x1+-0xac5*0x3+-0x4*-0x63a)*(-0x44*-0x4f+0x9bf+-0x1*0x1eb8)+(-0x1940+0x1*-0x3d+-0x2b*-0x98)]=_0x5a3d56,this['_symbolSha'+'dowParams']){const _0x1ac67a=this['_symbolSha'+'dowParams'][_0x1b417b]*(-0x1941+-0x2*-0x109c+0x1*-0x7f1);_0x328cf5=this['_shadowPal'+'ette'][_0x1ac67a]+this['_shadowPal'+'ette'][_0x1ac67a+(-0x1578+-0x2153+-0x4*-0xdb3)]*(0xf1e+-0xa9e+-0x38*0x10),_0xfd1172=this['_shadowPal'+'ette'][_0x1ac67a+(0x1d92+-0x1050+0x1a8*-0x8)]+this['_shadowPal'+'ette'][_0x1ac67a+(0x223c+0x216a+0x1*-0x43a3)]*(-0xa9b+-0x1b89+-0x1392*-0x2),_0x5c2dae=this['_shadowPal'+'ette'][_0x1ac67a+(-0x1393+0xc7d+0x71a)]+(-0x26a*-0xb+0xe94+-0x67*0x65)+Math['round'](_0x470d2c*this['_shadowPal'+'ette'][_0x1ac67a+(-0x15cd+-0xadf+-0x1*-0x20b1)]+(0x266*0x3+0x2514+-0x2bc7))*(-0x25bd+-0xc*0x11b+-0x3401*-0x1);}_0x1a774a['shadows'][_0x272a96*(-0x107d+0x61*-0x1+-0x2*-0x871)*(-0x1561+0x2155+-0xbf1)+(-0x544*-0x2+-0x17*0x52+-0x195*0x2)]=_0x328cf5,_0x1a774a['shadows'][_0x272a96*(0x17ba+-0x24d*-0xd+-0x359f)*(-0x1a27+-0x1a18+0x3442)+(-0x167+-0x1053*0x1+0x11bb)]=_0xfd1172,_0x1a774a['shadows'][_0x272a96*(-0x741+-0x20db+-0x6*-0x6b0)*(0xddd+-0x2d*0x75+0x6b7)+(-0x258e+-0x207a+-0x5*-0xe02)]=_0x5c2dae,_0x1a774a['shadows'][_0x272a96*(0x1d26+-0x1*-0x2585+-0x42a7)*(0x309*0xb+0x2*-0x4e+0x4*-0x831)+(0x889+-0x1316+0x1a*0x68)]=_0x328cf5,_0x1a774a['shadows'][_0x272a96*(0xbd6+-0x1*0x165a+0x2*0x544)*(-0x20ff+-0x7cc*0x2+0x309a)+(-0x2020+0x65e+-0xce3*-0x2)]=_0xfd1172,_0x1a774a['shadows'][_0x272a96*(0x1b1c+0x1dbd+0x1*-0x38d5)*(0x7db*-0x1+-0x1feb+0x27c9)+(0xcd9+-0x1efb+-0x1*-0x1227)]=_0x5c2dae,_0x1a774a['shadows'][_0x272a96*(0x1*-0x20d6+0x8ba+0x20*0xc1)*(-0x2563+-0x2062+0x45c8)+(0x5*-0x33b+0x2*-0x4a7+0x197b)]=_0x328cf5,_0x1a774a['shadows'][_0x272a96*(-0x2*-0x18e+-0x1*-0x13fa+0x1*-0x1712)*(-0x1956+0x13d5+0x2*0x2c2)+(-0x6ef+-0x2381+0x2a77*0x1)]=_0xfd1172,_0x1a774a['shadows'][_0x272a96*(-0x23b*0xc+0x10*0x32+0x17a8*0x1)*(-0x1*0x1dde+0x199*0x11+0x2b8)+(0xbf7*0x1+0xf08*0x2+-0x29ff)]=_0x5c2dae,_0x1a774a['shadows'][_0x272a96*(0x21d2+0x11d5+-0x33a3*0x1)*(0x1118*-0x1+0x9*-0x259+0x263c*0x1)+(0x12fb*-0x1+-0xa81*-0x3+-0xc7f)]=_0x328cf5,_0x1a774a['shadows'][_0x272a96*(0x1ee8+-0x35f*0x6+-0x69*0x1a)*(0x7*-0x19b+-0x4b3*-0x1+0x68d)+(0x5cf*-0x3+-0x1503+0x267a)]=_0xfd1172,_0x1a774a['shadows'][_0x272a96*(0x1ee*0x6+-0x26f9+0x1b69)*(0x2*-0xb32+0x25a*-0x7+-0x1*-0x26dd)+(0x193*0xb+0x1*-0x97b+-0x7cb)]=_0x5c2dae,_0x1a774a['quad']++;}_0x11d82b||_0x545785<_0x31e5c0&&_0x45ecec(this['_symbols'],_0x31e5c0,_0x2a1cba);}this['_noResize']=!(0x88c+-0xb31+0x2a5),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x66f+0x5c+0x16*-0x4f);const _0x5e210a=this['_element']['pivot']['x'],_0x3d37ca=this['_element']['pivot']['y'],_0x24da7d=this['_alignment']['x'],_0x240727=this['_alignment']['y'];for(let _0x5331bc=0x1*-0x10d+0x1b3b+0xd17*-0x2;_0x5331bc<this['_meshInfo']['length'];_0x5331bc++){if(this['_meshInfo'][_0x5331bc]['count']===0x119e+-0x1*0x228a+-0x39*-0x4c)continue;let _0x3912f7=-0x9f*0x24+-0x12fd+0x2959;for(const _0xd1e478 in this['_meshInfo'][_0x5331bc]['lines']){const _0x27c7bb=this['_meshInfo'][_0x5331bc]['lines'][_0xd1e478],_0x5643b2=this['_lineWidth'+'s'][parseInt(_0xd1e478,0x23c6+0x13f2+0x37ae*-0x1)],_0x67c237=-_0x5e210a*this['_element']['calculated'+'Width']+_0x24da7d*(this['_element']['calculated'+'Width']-_0x5643b2)*(this['_rtl']?-(0x14a2+0x1222*0x1+-0x26c3):0xb9*0x4+0x24d6+-0x27b9),_0x2e08af=(-0x9ee+-0x593+0xf82-_0x3d37ca)*this['_element']['calculated'+'Height']-_0x3400ad-(-0x525*-0x7+0x89*0x19+-0x3163-_0x240727)*(this['_element']['calculated'+'Height']-this['height']);for(let _0xa76c12=_0x3912f7;_0xa76c12<=_0x27c7bb;_0xa76c12++)this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(0x1*0x13e1+0x48c+-0x1869)*(-0xfdf+-0x21c6+0x1*0x31a8)]+=_0x67c237,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(0x1*-0x12ce+-0x2*0xe7f+0x2fd0)*(0x7*-0x1ee+-0x13a8+0xb0f*0x3)+(0x1730+0x1*0xd85+0x4d*-0x7a)]+=_0x67c237,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(-0xf27+0x13dc+-0x4b1*0x1)*(0xc3b+0xc*0x13f+0x1*-0x1b2c)+(0x1c3a+-0x10f2*-0x1+0x1*-0x2d26)]+=_0x67c237,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(0x1a09+-0x29*0xe9+0xb4c)*(0x2db+0xf*0x1cd+-0x1ddb)+(-0x1231+0x9d5+0x865)]+=_0x67c237,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(-0x626+-0x99b+0x16f*0xb)*(0x8cb+-0x2c*-0xce+0x650*-0x7)+(0x6e6+-0x1c65+0x10*0x158)]+=_0x2e08af,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(0x4e8*0x6+-0x9f7*0x2+-0x36*0x2d)*(-0x4*-0x329+-0x175*-0x2+-0xf8b)+(-0x24cf+-0x15bf*-0x1+-0x78a*-0x2)]+=_0x2e08af,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(-0x16fc+-0x13d*-0x4+0x120c)*(0x913+-0x3*-0x625+-0x1b7f)+(0xf2+0x1b43+-0x1c2e)]+=_0x2e08af,this['_meshInfo'][_0x5331bc]['positions'][_0xa76c12*(-0x14ac+0x6*0x12a+-0x1*-0xdb4)*(-0xa1a+0xd10+-0x2f3)+(-0x1*0x2513+-0x1c39*-0x1+-0x8e4*-0x1)]+=_0x2e08af;if(this['_rtl'])for(let _0x2ab20f=_0x3912f7;_0x2ab20f<=_0x27c7bb;_0x2ab20f++){const _0x4c54fa=_0x2ab20f*(0x13f7+-0xf43+-0x50*0xf)*(-0x509+0x2ef*-0x1+0x7fb);for(let _0x2e54db=0x9b9+-0x5e*0x56+0x15db;_0x2e54db<0x142d+-0xf8f+-0x49a;++_0x2e54db)this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+_0x2e54db*(0x3d5+0xd77+-0x1149)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+_0x2e54db*(-0x17*0x175+0x22e7+-0x1*0x161)]+_0x67c237*(0x135a*-0x2+0x108b+0x19*0xe3);const _0x3e826d=this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0x59*0x5b+0xab1+0x1*0x14f5)],_0x4a152c=this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(0x2099+0xb*0x11f+-0x2ce8)];this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0x217*0xe+0x1*-0x4ed+0x1*0x2232)]=this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0x63*0x54+-0x15*-0x1+0x2067)],this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0xb93*-0x2+-0x347*0x7+0x1*-0x2f)]=this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0x1*0x18f5+-0x1627*0x1+0x2f25)],this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(-0x1f71+-0x1406*-0x1+0x4f*0x25)]=_0x3e826d,this['_meshInfo'][_0x5331bc]['positions'][_0x4c54fa+(0x1*0x76+0x926+-0x81*0x13)]=_0x4a152c;}_0x3912f7=_0x27c7bb+(-0x1b08+-0x1a2d+0x3536);}const _0x367650=this['_meshInfo'][_0x5331bc]['count']*(-0x8ce*-0x2+-0xe79+-0x31f),_0x10f84a=this['_meshInfo'][_0x5331bc]['quad']*(-0x1*-0x1af9+0x12*0x7a+-0x33b*0xb),_0x9353d6=new Uo(this['_meshInfo'][_0x5331bc]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x53e6b7=-0x24f0+0x25c7+0x1*-0xd7;_0x53e6b7<_0x367650;_0x53e6b7++)_0x53e6b7>=_0x10f84a?(_0x9353d6['element'][Me]['set'](-0x24c9+0x29*-0xed+0x9*0x84e,-0x2*0xb99+0x1037+0x1*0x6fb,-0x2323+-0x1*0x4d0+0x27f3),_0x9353d6['element'][is]['set'](0xff4+0x136*0x3+-0x2*0x9cb,0x2ef*0x2+-0x67a+-0x4*-0x27),_0x9353d6['element'][Wt]['set'](0x111+0xa8c+0xb9d*-0x1,-0x10e7*0x2+-0x14f3+0x36c1,-0xbd4+-0x1b1d+0x26f1,0x1*0x42d+0x2562+0x1*-0x298f),_0x9353d6['element'][Ko]['set'](-0x740*-0x4+-0x1*0x64d+-0x3*0x791,0x2413+0x5ab*-0x1+0x3cd*-0x8,-0x11*-0x12d+0x168b+-0x2a88,0x3f7*0x4+0xd94+-0x1d70),_0x9353d6['element'][Zo]['set'](-0xaba+0x1*0x2689+-0x1bcf,0x258c+-0x1ea2+-0x6ea,0x1a7d+-0x164d+0x430*-0x1,0x1a*-0x47+0x761+-0x2b)):(_0x9353d6['element'][Me]['set'](this['_meshInfo'][_0x5331bc]['positions'][_0x53e6b7*(0x2459+0x9c5+-0x2e1b)+(-0x100e+-0xc1f+0x1c2d*0x1)],this['_meshInfo'][_0x5331bc]['positions'][_0x53e6b7*(-0x151b*0x1+0xb2*-0x9+-0xc*-0x248)+(-0x34+0x2*0x541+-0x36f*0x3)],this['_meshInfo'][_0x5331bc]['positions'][_0x53e6b7*(0x2*-0x84e+-0x1*-0x19b5+-0x916)+(-0x27*-0xab+0x1100+0x1*-0x2b0b)]),_0x9353d6['element'][is]['set'](this['_meshInfo'][_0x5331bc]['uvs'][_0x53e6b7*(-0x2344+-0x49e+0x27e4)+(0xe3e+-0x4*-0x1ec+-0xe*0x191)],this['_meshInfo'][_0x5331bc]['uvs'][_0x53e6b7*(0xcf6+-0x2692+-0x6*-0x445)+(0x7*-0x115+0x218c+0x22a*-0xc)]),_0x9353d6['element'][Wt]['set'](this['_meshInfo'][_0x5331bc]['colors'][_0x53e6b7*(-0x632*-0x1+0xeb3+-0x14e1*0x1)+(0x192b+0xad4+0x1e5*-0x13)],this['_meshInfo'][_0x5331bc]['colors'][_0x53e6b7*(0x80e*-0x3+-0x132c+0xb3*0x3e)+(-0x1*0x204f+0x25ee+-0x59e)],this['_meshInfo'][_0x5331bc]['colors'][_0x53e6b7*(-0x22*0x3b+-0x179+0x953)+(-0x23a4+-0xb15*0x1+-0x2ebb*-0x1)],this['_meshInfo'][_0x5331bc]['colors'][_0x53e6b7*(0x5*0x2f5+-0x6*0x2e+0x1*-0xdb1)+(-0x213d+0x14*-0x1d2+0x45a8*0x1)]),_0x9353d6['element'][Ko]['set'](this['_meshInfo'][_0x5331bc]['outlines'][_0x53e6b7*(-0x2243*0x1+-0xef*0x1f+0x3f37)+(-0x4*-0x2fd+-0xae5*-0x3+-0x27*0x125)],this['_meshInfo'][_0x5331bc]['outlines'][_0x53e6b7*(0x1612+0xc2f+-0x223e)+(0x8*0x3d7+0x5c*0x13+-0x55d*0x7)],this['_meshInfo'][_0x5331bc]['outlines'][_0x53e6b7*(0xf47*-0x2+-0xb*-0x6b+0x19f8)+(0xe71+-0x5*-0x47+-0x1b*0x96)]),_0x9353d6['element'][Zo]['set'](this['_meshInfo'][_0x5331bc]['shadows'][_0x53e6b7*(-0x1*0x5ab+-0x9*-0x2ad+-0x2a1*0x7)+(-0x8fb+0x250f+-0x1c14)],this['_meshInfo'][_0x5331bc]['shadows'][_0x53e6b7*(0x1*-0x9e8+0x6*-0xf8+-0x1*-0xfbb)+(0x2350+0x75f+-0x2aae)],this['_meshInfo'][_0x5331bc]['shadows'][_0x53e6b7*(-0x26c9+-0x1c56+0x4322)+(-0x17c8+0x246f*0x1+0x53*-0x27)])),_0x9353d6['next']();_0x9353d6['end'](),this['_meshInfo'][_0x5331bc]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x5331bc]['positions']),this['_meshInfo'][_0x5331bc]['meshInstan'+'ce']['_aabbVer']=-(0x24a*-0x4+0x3d*0x34+-0x33b);}this['_aabbDirty']=!(0xd79+-0x387+-0x9f2);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0xb4b469){this['font']!==_0xb4b469['resource']&&(this['font']=_0xb4b469['resource']);}['_onFontCha'+'nge'](_0x500770,_0xa3fb5a,_0x515889,_0x3ec42e){if(_0xa3fb5a==='data'){this['_font']['data']=_0x515889;const _0x408de7=this['_font']['data']['info']['maps']['length'];for(let _0x445888=-0x1*-0x1181+0x1d*0xbc+-0x26cd;_0x445888<_0x408de7;_0x445888++){if(!this['_meshInfo'][_0x445888])continue;const _0x17ab69=this['_meshInfo'][_0x445888]['meshInstan'+'ce'];_0x17ab69&&(_0x17ab69['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x17ab69['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x17ab69['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x445888]['width']));}}}['_onFontRem'+'ove'](_0x5c19a2){}['_setTextur'+'eParams'](_0x16fed0,_0x263f8e){this['_font']&&(this['_font']['type']===Rh?(_0x16fed0['deletePara'+'meter']('texture_em'+'issiveMap'),_0x16fed0['deletePara'+'meter']('texture_op'+'acityMap'),_0x16fed0['setParamet'+'er']('texture_ms'+'dfMap',_0x263f8e)):this['_font']['type']===dR&&(_0x16fed0['deletePara'+'meter']('texture_ms'+'dfMap'),_0x16fed0['setParamet'+'er']('texture_em'+'issiveMap',_0x263f8e),_0x16fed0['setParamet'+'er']('texture_op'+'acityMap',_0x263f8e)));}['_getPxRang'+'e'](_0x25c015){const _0x5009ff=Object['keys'](this['_font']['data']['chars']);for(let _0x4d543d=-0x3d*0x2+0xd66+-0x33b*0x4;_0x4d543d<_0x5009ff['length'];_0x4d543d++){const _0x5d6f59=this['_font']['data']['chars'][_0x5009ff[_0x4d543d]];if(_0x5d6f59['range'])return(_0x5d6f59['scale']||-0x1*-0x16c3+-0x19ae+0x2ec)*_0x5d6f59['range'];}return-0x1991+0x1869+0x12a;}['_getUv'](_0x4b6d43){const _0x537edb=this['_font']['data'];if(!_0x537edb['chars'][_0x4b6d43])return _0x537edb['chars']['\x20']?this['_getUv']('\x20'):[-0x2b*0x16+0x1994+0x1*-0x15e2,0x1*0x5b+0xebd+-0xf18,0x2432+-0x1e11+-0x1*0x621,0x763*0x3+0x11*0x65+0x2*-0xe6f];const _0x1e1484=_0x537edb['chars'][_0x4b6d43]['map'],_0x436a50=_0x537edb['info']['maps'][_0x1e1484]['width'],_0x14c58f=_0x537edb['info']['maps'][_0x1e1484]['height'],_0x1a63ca=_0x537edb['chars'][_0x4b6d43]['x'],_0x5829c0=_0x537edb['chars'][_0x4b6d43]['y'],_0x43d741=_0x1a63ca,_0x4150ee=_0x5829c0,_0x3ea72d=_0x1a63ca+_0x537edb['chars'][_0x4b6d43]['width'],_0x59cf24=_0x5829c0-_0x537edb['chars'][_0x4b6d43]['height'],_0x4bda17=-0x262e+0x12*0xc5+-0x1*-0x1855-_0x537edb['chars'][_0x4b6d43]['height']/_0x14c58f;return[_0x43d741/_0x436a50,_0x4bda17-_0x4150ee/_0x14c58f,_0x3ea72d/_0x436a50,_0x4bda17-_0x59cf24/_0x14c58f];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x11f9+0x26e6+0x45*-0xd3),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x1a4d+0x1*-0x1957+0x23*-0x7),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x524cc6){if(this['_model']){const _0x526670=this['_model']['meshInstan'+'ces'];for(let _0x544ce3=-0x1*-0x15f+-0x1a98+0x1939;_0x544ce3<_0x526670['length'];_0x544ce3++)_0x526670[_0x544ce3]['stencilFro'+'nt']=_0x524cc6,_0x526670[_0x544ce3]['stencilBac'+'k']=_0x524cc6;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x52bc63){const _0xacf47e={};_0x52bc63===void(0xa97*0x2+-0x294+-0x129a)&&(_0x52bc63=this['_symbols']['length']);for(let _0x17269f=0x3*-0xacc+-0x1ad6+0x3b3a,_0x70b007=_0x52bc63;_0x17269f<_0x70b007;_0x17269f++){const _0x31369e=this['_symbols'][_0x17269f];let _0x1f06bb=this['_font']['data']['chars'][_0x31369e];_0x1f06bb||(_0x1f06bb=this['_font']['data']['chars']['\x20'],_0x1f06bb||(_0x1f06bb=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x1ec6*-0x1+0x71*0x34+-0x16*-0x5b]]));const _0x5aae7c=_0x1f06bb['map'];_0xacf47e[_0x5aae7c]?_0xacf47e[_0x5aae7c]++:_0xacf47e[_0x5aae7c]=-0x5b*-0x26+-0x40+-0xd41;}return _0xacf47e;}['_updateRen'+'derRange'](){const _0x2bd0fb=this['_rangeStar'+'t']===-0x22f*-0xe+-0x2*0x180+-0x1b92?0x1d58+0x7*0x220+-0x2c38:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x222434=this['_rangeEnd']===0xe6a*-0x2+-0x1b86+0x385a?0xa7*0x2+-0x1c0a+-0x1abc*-0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1ae055=-0x77e+-0x208c+0x280a,_0x3f93fb=this['_meshInfo']['length'];_0x1ae055<_0x3f93fb;_0x1ae055++){const _0x312b12=_0x2bd0fb[_0x1ae055]||0x1514+0x16c0+-0xaa*0x42,_0x51728e=_0x222434[_0x1ae055]||0x127*0x1+0x1*0x24fd+-0x2624,_0x514baa=this['_meshInfo'][_0x1ae055]['meshInstan'+'ce'];if(_0x514baa){const _0x357746=_0x514baa['mesh'];_0x357746&&(_0x357746['primitive'][-0x640*0x5+0x7*-0x13+0x3*0xa97]['base']=_0x312b12*(-0x480+0x19d5+-0x1552*0x1)*(0x2643+0x1513+-0x1daa*0x2),_0x357746['primitive'][0x242e+-0x170+-0x22be*0x1]['count']=(_0x51728e-_0x312b12)*(-0x21d*-0x5+0xe4f+-0x18dd)*(-0xb3*-0x29+-0x2387+0x6de));}}}set['text'](_0x23fb72){this['_i18nKey']=null;const _0xf05e2e=_0x23fb72!=null&&_0x23fb72['toString']()||'';this['_setText'](_0xf05e2e);}get['text'](){return this['_text'];}set['key'](_0x24c89c){const _0x2e6c55=_0x24c89c!==null?_0x24c89c['toString']():null;this['_i18nKey']!==_0x2e6c55&&(this['_i18nKey']=_0x2e6c55,_0x2e6c55?(this['_fontAsset']['disableLoc'+'alization']=!(0x1e01*-0x1+-0x1*-0x218f+-0x38d),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x1825+0x1d0*0x7+-0x24d5));}get['key'](){return this['_i18nKey'];}set['color'](_0xafb8df){const _0x43ae81=_0xafb8df['r'],_0x1367f7=_0xafb8df['g'],_0xedd8cf=_0xafb8df['b'];if(this['_color']===_0xafb8df&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x43ae81&&this['_color']['g']===_0x1367f7&&this['_color']['b']===_0xedd8cf)&&(this['_color']['r']=_0x43ae81,this['_color']['g']=_0x1367f7,this['_color']['b']=_0xedd8cf,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x19b1*0x1+-0x225b+-0x455*-0x2]=We['r'],this['_colorUnif'+'orm'][0xbce+-0x12b5*-0x1+-0x1e82*0x1]=We['g'],this['_colorUnif'+'orm'][0xa2b+0x5d*0x1d+-0x14b2]=We['b'];for(let _0x53ea7e=0x48f+0x1*0x10ac+-0x153b,_0x506fb8=this['_model']['meshInstan'+'ces']['length'];_0x53ea7e<_0x506fb8;_0x53ea7e++)this['_model']['meshInstan'+'ces'][_0x53ea7e]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1d14df){if(this['_color']['a']!==_0x1d14df&&(this['_color']['a']=_0x1d14df,this['_model'])){for(let _0x2ace0a=0x2*0xdca+0x1*0x14ba+-0x304e,_0xdc8a95=this['_model']['meshInstan'+'ces']['length'];_0x2ace0a<_0xdc8a95;_0x2ace0a++)this['_model']['meshInstan'+'ces'][_0x2ace0a]['setParamet'+'er']('material_o'+'pacity',_0x1d14df);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1d14df);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x11e43b){const _0x42124a=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x11e43b,this['_scaledLin'+'eHeight']=_0x11e43b,_0x42124a!==_0x11e43b&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x49dbd0){const _0xaffb82=this['_wrapLines'];this['_wrapLines']=_0x49dbd0,_0xaffb82!==_0x49dbd0&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x5b4087){const _0x2535c0=this['_spacing'];this['_spacing']=_0x5b4087,_0x2535c0!==_0x5b4087&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x5759b8){const _0x15d02b=this['_fontSize'];this['_fontSize']=_0x5759b8,this['_originalF'+'ontSize']=_0x5759b8,_0x15d02b!==_0x5759b8&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x528380){this['_fontAsset']['defaultAss'+'et']=_0x528380;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x2dafa7){let _0x51e686;if(this['_font']&&(_0x51e686=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x2dafa7,this['_fontMinY']=-0x7*0x45d+0x2b*0x3a+-0x163*-0xf,this['_fontMaxY']=0x1fc+0x7*0xbd+-0x727,!_0x2dafa7)return;const _0x5b107a=this['_font']['data'];for(const _0x496684 in _0x5b107a['chars']){const _0x4643f4=_0x5b107a['chars'][_0x496684];_0x4643f4['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x4643f4['bounds'][0x3b*-0x51+0x1212+0x9a]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x4643f4['bounds'][-0x14b1+0x58*-0x69+0x38cc]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x2dafa7['type']!==_0x51e686){const _0x24c759=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x24c759);}for(let _0x52783f=-0x12e2*-0x1+-0x1*0xc90+0x329*-0x2,_0x4b99c2=this['_font']['textures']['length'];_0x52783f<_0x4b99c2;_0x52783f++)if(!this['_meshInfo'][_0x52783f])this['_meshInfo'][_0x52783f]=new vR();else{const _0xe35b6=this['_meshInfo'][_0x52783f]['meshInstan'+'ce'];_0xe35b6&&(_0xe35b6['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0xe35b6['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0xe35b6['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x52783f]['width']),this['_setTextur'+'eParams'](_0xe35b6,this['_font']['textures'][_0x52783f]));}let _0x2a4081=!(0x1e05*-0x1+-0x167a+0x118*0x30);for(let _0x273cd1=this['_font']['textures']['length'];_0x273cd1<this['_meshInfo']['length'];_0x273cd1++)this['_meshInfo'][_0x273cd1]['meshInstan'+'ce']&&(_0x2a4081||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2a4081=!(0x5f+0xb7e+0xbdd*-0x1)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x273cd1]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x511926){_0x511926 instanceof J?this['_alignment']['set'](_0x511926['x'],_0x511926['y']):this['_alignment']['set'](_0x511926[-0x265*-0x7+-0x2681+0x15be],_0x511926[0x8af+-0xeb7+0x1*0x609]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x56f63b){const _0x560ea5=this['_autoWidth'];if(this['_autoWidth']=_0x56f63b,_0x56f63b&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0xb13*-0x1+-0x56c+0x107f+0.0001&&(this['_element']['width']=this['width']),_0x560ea5!==_0x56f63b){const _0x2dcb44=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2dcb44!==this['_fontSize']&&(this['_fontSize']=_0x2dcb44,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x234c6d){const _0x4d8afb=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x234c6d,_0x234c6d&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x1489+-0x1*-0x2cc+-0x1*-0x11bd+0.0001&&(this['_element']['height']=this['height']),_0x4d8afb!==_0x234c6d){const _0x2425ff=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2425ff!==this['_fontSize']&&(this['_fontSize']=_0x2425ff,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x43e6ba){this['_rtlReorde'+'r']!==_0x43e6ba&&(this['_rtlReorde'+'r']=_0x43e6ba,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x22d377){this['_unicodeCo'+'nverter']!==_0x22d377&&(this['_unicodeCo'+'nverter']=_0x22d377,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x29a15b=!(-0x1*-0xdcd+-0x1cf*0x9+0x27b);for(let _0x3ca220=-0x1b83+-0x9*-0x36d+-0x352;_0x3ca220<this['_meshInfo']['length'];_0x3ca220++)this['_meshInfo'][_0x3ca220]['meshInstan'+'ce']&&(_0x29a15b?this['_aabb']['add'](this['_meshInfo'][_0x3ca220]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x3ca220]['meshInstan'+'ce']['aabb']),_0x29a15b=!(-0x1216+0x13af+0x1*-0x199)));this['_aabbDirty']=!(0xf*0x1d9+-0x1cd5*-0x1+-0x388b);}return this['_aabb'];}set['outlineCol'+'or'](_0x378941){const _0x42a2da=_0x378941 instanceof ie?_0x378941['r']:_0x378941[-0x30f+0x47c+-0x16d],_0x3a9172=_0x378941 instanceof ie?_0x378941['g']:_0x378941[-0x5*-0x749+-0x3*-0x74f+-0x3a59],_0x48c669=_0x378941 instanceof ie?_0x378941['b']:_0x378941[-0x2*0xf07+-0x268f*0x1+0x449f*0x1],_0x4f11b6=_0x378941 instanceof ie?_0x378941['a']:_0x378941[0x1*0x7a3+0xa0*-0x1a+-0x4*-0x228];if(this['_outlineCo'+'lor']===_0x378941&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x42a2da&&this['_outlineCo'+'lor']['g']===_0x3a9172&&this['_outlineCo'+'lor']['b']===_0x48c669&&this['_outlineCo'+'lor']['a']===_0x4f11b6)&&(this['_outlineCo'+'lor']['r']=_0x42a2da,this['_outlineCo'+'lor']['g']=_0x3a9172,this['_outlineCo'+'lor']['b']=_0x48c669,this['_outlineCo'+'lor']['a']=_0x4f11b6,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0xb97+0xca*0x5+0x7a5]=We['r'],this['_outlineCo'+'lorUniform'][0x270a+-0x137e+0x1*-0x138b]=We['g'],this['_outlineCo'+'lorUniform'][0x1bb3+0x21ad+-0xa*0x623]=We['b'],this['_outlineCo'+'lorUniform'][-0x5b*0x39+0x5*0x6a4+-0xcee]=We['a'];for(let _0x4b2160=-0x134*-0x3+0x7b*-0xd+0x2a3,_0x1c08f7=this['_model']['meshInstan'+'ces']['length'];_0x4b2160<_0x1c08f7;_0x4b2160++)this['_model']['meshInstan'+'ces'][_0x4b2160]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x46e6ee){const _0x21459b=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x46e6ee,_0x21459b!==_0x46e6ee&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x291803=-0x1*-0x1739+0x1cb7+-0x33f0,_0x139aa1=this['_model']['meshInstan'+'ces']['length'];_0x291803<_0x139aa1;_0x291803++)this['_model']['meshInstan'+'ces'][_0x291803]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x228940){const _0x12bc89=_0x228940 instanceof ie?_0x228940['r']:_0x228940[-0xba*0x2d+-0xbd6+-0x4c*-0x96],_0x566c56=_0x228940 instanceof ie?_0x228940['g']:_0x228940[-0x2310+0xef*0x4+0x269*0xd],_0x1a7a79=_0x228940 instanceof ie?_0x228940['b']:_0x228940[0x2*-0x488+-0x1*0x25d+0xb6f],_0x2b5d84=_0x228940 instanceof ie?_0x228940['a']:_0x228940[0x218f+0x24b4+-0x10*0x464];if(this['_shadowCol'+'or']===_0x228940&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x12bc89&&this['_shadowCol'+'or']['g']===_0x566c56&&this['_shadowCol'+'or']['b']===_0x1a7a79&&this['_shadowCol'+'or']['a']===_0x2b5d84)&&(this['_shadowCol'+'or']['r']=_0x12bc89,this['_shadowCol'+'or']['g']=_0x566c56,this['_shadowCol'+'or']['b']=_0x1a7a79,this['_shadowCol'+'or']['a']=_0x2b5d84,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xaca*0x3+-0x1d77*-0x1+0x2e7]=We['r'],this['_shadowCol'+'orUniform'][-0x1383+0x219f+-0xe1b]=We['g'],this['_shadowCol'+'orUniform'][-0x1962+0x1e4d*0x1+-0x1*0x4e9]=We['b'],this['_shadowCol'+'orUniform'][0x1851+-0x1ccc+0x1*0x47e]=We['a'];for(let _0x1c27fc=-0x8b2+0x6a6*-0x3+0xc*0x263,_0x4e74bc=this['_model']['meshInstan'+'ces']['length'];_0x1c27fc<_0x4e74bc;_0x1c27fc++)this['_model']['meshInstan'+'ces'][_0x1c27fc]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x508e77){const _0x2c852e=_0x508e77 instanceof J?_0x508e77['x']:_0x508e77[0x209d+-0xe09*0x1+-0x1294],_0x650070=_0x508e77 instanceof J?_0x508e77['y']:_0x508e77[0x207a+0x1daa+0x3e23*-0x1];if(!(this['_shadowOff'+'set']['x']===_0x2c852e&&this['_shadowOff'+'set']['y']===_0x650070)&&(this['_shadowOff'+'set']['set'](_0x2c852e,_0x650070),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x1f238d=-0xb42*-0x1+-0x680+-0x2*0x261,_0x481c1d=this['_model']['meshInstan'+'ces']['length'];_0x1f238d<_0x481c1d;_0x1f238d++){const _0xb5296=-this['_font']['data']['info']['maps'][_0x1f238d]['width']/this['_font']['data']['info']['maps'][_0x1f238d]['height'];this['_shadowOff'+'setUniform'][-0x1d21+-0xb3*0x27+0x3866]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x15d*-0x1+-0xf25*-0x2+0x4*-0x73b]=_0xb5296*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x1f238d]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x19c387){this['_minFontSi'+'ze']!==_0x19c387&&(this['_minFontSi'+'ze']=_0x19c387,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x35f9ac){this['_maxFontSi'+'ze']!==_0x35f9ac&&(this['_maxFontSi'+'ze']=_0x35f9ac,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x4536e8){this['_autoFitWi'+'dth']!==_0x4536e8&&(this['_autoFitWi'+'dth']=_0x4536e8,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3fcc9e){this['_autoFitHe'+'ight']!==_0x3fcc9e&&(this['_autoFitHe'+'ight']=_0x3fcc9e,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x1ba44c){this['_maxLines']!==_0x1ba44c&&(_0x1ba44c===null&&this['_maxLines']===-(0xdda+-0xad5*-0x3+-0x2e58)||(this['_maxLines']=_0x1ba44c===null?-(0x65*0x13+-0xd*-0x221+-0x1*0x232b):_0x1ba44c,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x5a5d5b){if(_0x5a5d5b=!!_0x5a5d5b,this['_enableMar'+'kup']===_0x5a5d5b)return;this['_enableMar'+'kup']=_0x5a5d5b,this['font']&&this['_updateTex'+'t']();const _0x1ea02e=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1ea02e);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x59cf30){return this['_colorPale'+'tte']['slice'](_0x59cf30*(0x1983+-0x8b3+-0x187*0xb),_0x59cf30*(0x2b+-0x1048+0x56*0x30)+(0x9*-0x1c+0x1*-0x25dc+0xcb*0x31));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x5adb6a){return this['_outlinePa'+'lette']['slice'](_0x5adb6a*(0x2*0x2dc+0x8*0x305+-0x1ddb),_0x5adb6a*(0x1dcf+0x1*-0x599+-0x1831)+(0x1cd*0x11+0xd8e+0x1613*-0x2));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x384b93){return this['_shadowPal'+'ette']['slice'](_0x384b93*(-0x204c+0xdf*-0x18+0x353a),_0x384b93*(-0x14*0x4+0x13*0xcd+0xee1*-0x1)+(0x811+0x2693+-0x2e9e));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x368f7b){_0x368f7b=Math['max'](-0x2*-0xb11+0x134f+0x2971*-0x1,Math['min'](_0x368f7b,this['_symbols']['length'])),_0x368f7b!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x368f7b,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x35f753){_0x35f753=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x35f753,this['_symbols']['length'])),_0x35f753!==this['_rangeEnd']&&(this['_rangeEnd']=_0x35f753,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x47c8dd,_0x297dae){super(_0x47c8dd,_0x297dae),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x81*-0x4b+-0x1aec+0x40b8),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x18f2+-0x1eb6+0x37c8,this['_height']=this['_calculate'+'dHeight']=-0x27*0xc2+-0x486+0x31c*0xb,this['_margin']=new re(-0x2066+0x1*0x1de7+-0x1*-0x27f,0x21b9+-0x1183+0x19f*-0xa,-(-0x831+-0x245f*0x1+0x2cb0),-(0x3*-0x8ce+0x7b*0x35+0x113)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x3a1+0x16aa+-0x7f*0x35),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0xf99+-0x4*0x959+0x34fd),this['_canvasCor'+'nersDirty']=!(-0x171e*-0x1+-0x2136+0xa18),this['_worldCorn'+'ersDirty']=!(0x1a*-0x106+-0x26a+0x1d06),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x1*-0x173b+-0x6*0x562+-0x1*-0x3787,this['_fitMode']=th,this['_useInput']=!(0x195b+0x1295*0x1+-0xa3*0x45),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0xb3d+0x2041+-0x1503),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0xa61*0x2+-0x10*0x265+0x118e,this['_maskOffse'+'t']=-0xac6+0xf0b+0x1*-0x445+0.5,this['_maskedBy']=null);}get['data'](){const _0x23e1db=this['system']['store'][this['entity']['getGuid']()];return _0x23e1db?_0x23e1db['data']:null;}set['enabled'](_0x713562){const _0x34780f=this['data'],_0x90c47e=_0x34780f['enabled'];_0x34780f['enabled']=_0x713562,this['fire']('set','enabled',_0x90c47e,_0x713562);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x1*-0x1229+0x1*0x24c1+0x1*-0x36ea+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x3*0xe3+-0x2665+0x1*0x23bc+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x46c7bd){_0x46c7bd instanceof re?this['_anchor']['copy'](_0x46c7bd):this['_anchor']['set'](..._0x46c7bd),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0xfd1+-0x1336+0x2307),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x7d4ca1){var _0x3d8579,_0x5a50b5;this['_batchGrou'+'pId']!==_0x7d4ca1&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x16ee+-0x2*-0x337+-0x4*0x757&&((_0x3d8579=this['system']['app']['batcher'])==null||_0x3d8579['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x7d4ca1>=-0x211b+-0x8d1+0x29ec&&((_0x5a50b5=this['system']['app']['batcher'])==null||_0x5a50b5['insert'](St['ELEMENT'],_0x7d4ca1,this['entity'])),_0x7d4ca1<0x988*0x1+-0x3b5*0x1+0x1*-0x5d3&&this['_batchGrou'+'pId']>=0xec5+-0x1a8b+0xbc6&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x7d4ca1);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x4f63e4){this['_margin']['y']=_0x4f63e4;const _0x5dca5d=this['entity']['getLocalPo'+'sition'](),_0xe753d6=this['_absTop'],_0x4d7d3d=this['_localAnch'+'or']['y']+_0x4f63e4;this['_setHeight'](_0xe753d6-_0x4d7d3d),_0x5dca5d['y']=_0x4f63e4+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x5dca5d);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0xac31d){this['_setCalcul'+'atedWidth'](_0xac31d,!(-0x3*-0x1a3+0x65*-0x4+0x355*-0x1));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x258b18){this['_setCalcul'+'atedHeight'](_0x258b18,!(0x3bd*0x9+-0x213*-0x1+0x48*-0x7f));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x4c213c=this['system']['app']['graphicsDe'+'vice'],_0x4007f8=this['screenCorn'+'ers'],_0x37ee27=_0x4c213c['canvas']['clientWidt'+'h']/_0x4c213c['width'],_0x58ed19=_0x4c213c['canvas']['clientHeig'+'ht']/_0x4c213c['height'];for(let _0x471aae=-0xb81+-0x25f*-0x5+0xf*-0x6;_0x471aae<-0x1bb1*-0x1+0x638*-0x5+0x36b;_0x471aae++)this['_canvasCor'+'ners'][_0x471aae]['set'](_0x4007f8[_0x471aae]['x']*_0x37ee27,(_0x4c213c['height']-_0x4007f8[_0x471aae]['y'])*_0x58ed19);return this['_canvasCor'+'nersDirty']=!(-0x2*-0x161+-0x3*0x667+0x2be*0x6),this['_canvasCor'+'ners'];}set['drawOrder'](_0x1d7ff3){let _0x491216=-0x199e+-0x2703+-0x158b*-0x3;this['screen']&&(_0x491216=this['screen']['screen']['priority']),_0x1d7ff3>0x1f5b*0xae5+-0x543*0x4d87+0xe039b*0x17&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x1d7ff3=-0x1cafcc5+-0x574a*0x4b5+-0x1*-0x465dc16),this['_drawOrder']=(_0x491216<<0xb58+-0x3aa*0x1+-0x2*0x3cb)+_0x1d7ff3,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x1930bb){this['_height']=_0x1930bb,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x1930bb,!(0x3aa+-0x22a+0x1*-0x180)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4bf318){if(this['_addedMode'+'ls']['length'])for(let _0x3b25c3=0x6bb*0x2+0x29*0xae+-0x2e*0xe6;_0x3b25c3<this['_layers']['length'];_0x3b25c3++){const _0x2afeab=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3b25c3]);if(_0x2afeab){for(let _0x594c46=-0x1e2*0x11+0x1fa0+-0x31*-0x2;_0x594c46<this['_addedMode'+'ls']['length'];_0x594c46++)_0x2afeab['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x594c46]['meshInstan'+'ces']);}}if(this['_layers']=_0x4bf318,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x4b92f4=0x652+-0x1*-0x17e7+-0x1e39;_0x4b92f4<this['_layers']['length'];_0x4b92f4++){const _0x9f844c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4b92f4]);if(_0x9f844c){for(let _0x34427f=-0xb*0xdf+-0xd*-0xe5+0x20c*-0x1;_0x34427f<this['_addedMode'+'ls']['length'];_0x34427f++)_0x9f844c['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x34427f]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x42aa51){this['_margin']['x']=_0x42aa51;const _0x542b3a=this['entity']['getLocalPo'+'sition'](),_0x17652e=this['_absRight'],_0x526c77=this['_localAnch'+'or']['x']+_0x42aa51;this['_setWidth'](_0x17652e-_0x526c77),_0x542b3a['x']=_0x42aa51+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x542b3a);}get['left'](){return this['_margin']['x'];}set['margin'](_0x47efe3){this['_margin']['copy'](_0x47efe3),this['_calculate'+'Size'](!(0x109d+-0x44*-0x2e+-0x1cd5),!(0x611*-0x5+0x142e+0xa27)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0xd431a8){const {pivot:_0x33dc10,margin:_0x1cc35f}=this,_0x507e2a=_0x33dc10['x'],_0x545032=_0x33dc10['y'];_0xd431a8 instanceof J?_0x33dc10['copy'](_0xd431a8):_0x33dc10['set'](..._0xd431a8);const _0x73bbea=_0x1cc35f['x']+_0x1cc35f['z'],_0x231c5d=_0x33dc10['x']-_0x507e2a;_0x1cc35f['x']+=_0x73bbea*_0x231c5d,_0x1cc35f['z']-=_0x73bbea*_0x231c5d;const _0x22e0bc=_0x1cc35f['y']+_0x1cc35f['w'],_0x30b4c3=_0x33dc10['y']-_0x545032;_0x1cc35f['y']+=_0x22e0bc*_0x30b4c3,_0x1cc35f['w']-=_0x22e0bc*_0x30b4c3,this['_anchorDir'+'ty']=!(-0x1*0xe35+-0x77c+0x3*0x73b),this['_cornersDi'+'rty']=!(0x91*0x12+-0x9*0xae+-0x414),this['_worldCorn'+'ersDirty']=!(-0x51d+-0x21c+0x739),this['_calculate'+'Size'](!(-0xe2*0x1+-0x1841+0x1*0x1924),!(-0x136a+0xc9c+0x6cf)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x33dc10);}get['pivot'](){return this['_pivot'];}set['right'](_0x89970a){this['_margin']['z']=_0x89970a;const _0x271458=this['entity']['getLocalPo'+'sition'](),_0x4bd442=this['_absLeft'],_0x4dfc30=this['_localAnch'+'or']['z']-_0x89970a;this['_setWidth'](_0x4dfc30-_0x4bd442),_0x271458['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x89970a-this['_calculate'+'dWidth']*(0x1277+-0xd*0x29c+-0x1*-0xf76-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x271458);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x4dbb13=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x1fa7+-0x8ed+-0x31*-0xd4];this['_screenCor'+'ners'][-0x1475+-0x1a93+0x2f08]['set'](this['_absLeft'],this['_absBottom'],0x1d3f+-0x1cd2+-0x6d*0x1),this['_screenCor'+'ners'][-0x22d+0x239e*-0x1+0x3b*0xa4]['set'](this['_absRight'],this['_absBottom'],0x1*-0x158+0x2575*0x1+-0x241d),this['_screenCor'+'ners'][-0xb*-0xd2+-0x2*-0xfdd+-0x28be]['set'](this['_absRight'],this['_absTop'],0x445*-0x1+-0x1f*-0x135+-0x2126),this['_screenCor'+'ners'][-0x500+0x2*-0xf47+0x2391]['set'](this['_absLeft'],this['_absTop'],0x30*-0x76+-0x1*-0x1ed4+-0x8b4);const _0x56e956=this['screen']['screen']['screenSpac'+'e'];for(let _0x48d22a=0x228b+0x1437+0x146*-0x2b;_0x48d22a<-0x1b6f+-0x1047+0x2bba;_0x48d22a++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x48d22a],this['_screenCor'+'ners'][_0x48d22a]),_0x56e956&&this['_screenCor'+'ners'][_0x48d22a]['mulScalar'](this['screen']['screen']['scale']),_0x4dbb13&&this['_screenCor'+'ners'][_0x48d22a]['add'](_0x4dbb13);return this['_cornersDi'+'rty']=!(0x1*0x104d+0x112+-0x115e),this['_canvasCor'+'nersDirty']=!(-0x181a*0x1+0xe41+-0x9d9*-0x1),this['_worldCorn'+'ersDirty']=!(0xa9e+0x605*0x2+-0x16a8),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x627+0x1*-0x207a+0x1a53;}get['textHeight'](){return this['_text']?this['_text']['height']:0x11f4+-0x1dd5+0xbe1;}set['top'](_0x4c3188){this['_margin']['w']=_0x4c3188;const _0x25a553=this['entity']['getLocalPo'+'sition'](),_0x504b85=this['_absBottom'],_0x45698a=this['_localAnch'+'or']['w']-_0x4c3188;this['_setHeight'](_0x45698a-_0x504b85),_0x25a553['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x4c3188-this['_calculate'+'dHeight']*(-0x23a2+-0x507+0x1e*0x15b-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x25a553);}get['top'](){return this['_margin']['w'];}set['type'](_0x5283c8){_0x5283c8!==this['_type']&&(this['_type']=_0x5283c8,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x5283c8===Cu?this['_image']=new cR(this):_0x5283c8===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x595b9f){this['_useInput']!==_0x595b9f&&(this['_useInput']=_0x595b9f,this['system']['app']['elementInp'+'ut']?_0x595b9f?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x166a+0x1545+0x125)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x595b9f));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0xcff3e2){this['_fitMode']=_0xcff3e2,this['_calculate'+'Size'](!(0x1e41+0x111+0x1*-0x1f52),!(-0x1*-0x4cd+-0x1294+0xdc7)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0xa4e95b){this['_width']=_0xa4e95b,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0xa4e95b,!(0xe5d*-0x1+0x145f+-0x602)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0xa1fd5f=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x924+-0xa*0x343+0x29cf]=-ws['data'][0x1532+-0x1cfa+0x5*0x191],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x36de29=0x40c+0x7f*-0x11+-0x463*-0x1;_0x36de29<0xbba*-0x2+-0x5*0x3e6+0x2af6;_0x36de29++)ws['transformP'+'oint'](_0xa1fd5f[_0x36de29],this['_worldCorn'+'ers'][_0x36de29]);}}else{const _0x452110=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x452110['x'],-_0x452110['y'],-_0x452110['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x452110['x'],_0x452110['y'],_0x452110['z']);const _0x1ee07a=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x1ee07a['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x452110['x']-this['pivot']['x']*this['calculated'+'Width'],_0x452110['y']-this['pivot']['y']*this['calculated'+'Height'],_0x452110['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x24c+-0x1d46+0xd7d*0x2]),Pi['set'](_0x452110['x']+(-0x441*0x1+-0x25cb+0x1*0x2a0d-this['pivot']['x'])*this['calculated'+'Width'],_0x452110['y']-this['pivot']['y']*this['calculated'+'Height'],_0x452110['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x32*-0xc6+-0x1b*-0x82+-0x3461]),Pi['set'](_0x452110['x']+(-0x8*-0x36f+-0xe86*0x2+-0x195*-0x1-this['pivot']['x'])*this['calculated'+'Width'],_0x452110['y']+(0xb*0x28c+0xf12+-0x2b15-this['pivot']['y'])*this['calculated'+'Height'],_0x452110['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x26d5+0xe7+-0x6*0x69f]),Pi['set'](_0x452110['x']-this['pivot']['x']*this['calculated'+'Width'],_0x452110['y']+(0x3cb*-0x1+-0x1a34+0x1e00-this['pivot']['y'])*this['calculated'+'Height'],_0x452110['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1cf1+-0x1d31+0x3a25]);}return this['_worldCorn'+'ersDirty']=!(-0x131*-0x7+0xcb3*-0x2+0x1110),this['_worldCorn'+'ers'];}set['fontSize'](_0x5e1c0b){this['_setValue']('fontSize',_0x5e1c0b);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x480935){this['_setValue']('minFontSiz'+'e',_0x480935);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x1e6343){this['_setValue']('maxFontSiz'+'e',_0x1e6343);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x1eac2b){this['_setValue']('maxLines',_0x1eac2b);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x4119fb){this['_setValue']('autoFitWid'+'th',_0x4119fb);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x1b41f8){this['_setValue']('autoFitHei'+'ght',_0x1b41f8);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x2cc02a){this['_setValue']('color',_0x2cc02a);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x25d00e){this['_setValue']('font',_0x25d00e);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x47600f){this['_setValue']('fontAsset',_0x47600f);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x54a4d6){this['_setValue']('spacing',_0x54a4d6);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x148a3a){this['_setValue']('lineHeight',_0x148a3a);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x418742){this['_setValue']('wrapLines',_0x418742);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x1f6c78){this['_setValue']('lines',_0x1f6c78);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x5ba1e4){this['_setValue']('alignment',_0x5ba1e4);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x576f2e){this['_setValue']('autoWidth',_0x576f2e);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x168fb4){this['_setValue']('autoHeight',_0x168fb4);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x333878){this['_setValue']('rtlReorder',_0x333878);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0xfd86d1){this['_setValue']('unicodeCon'+'verter',_0xfd86d1);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x2e3acd){this['_setValue']('text',_0x2e3acd);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x5b919a){this['_setValue']('key',_0x5b919a);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x132336){this['_setValue']('texture',_0x132336);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x5c32b2){this['_setValue']('textureAss'+'et',_0x5c32b2);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x2ad6ec){this['_setValue']('material',_0x2ad6ec);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x3da810){this['_setValue']('materialAs'+'set',_0x3da810);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x345901){this['_setValue']('sprite',_0x345901);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x205ac6){this['_setValue']('spriteAsse'+'t',_0x205ac6);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x374186){this['_setValue']('spriteFram'+'e',_0x374186);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0xe1e928){this['_setValue']('pixelsPerU'+'nit',_0xe1e928);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3f9835){this['_setValue']('opacity',_0x3f9835);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x520898){this['_setValue']('rect',_0x520898);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x24506a){this['_setValue']('mask',_0x24506a);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x5385b5){this['_setValue']('outlineCol'+'or',_0x5385b5);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x1df3da){this['_setValue']('outlineThi'+'ckness',_0x1df3da);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x2dae0b){this['_setValue']('shadowColo'+'r',_0x2dae0b);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x2daa19){this['_setValue']('shadowOffs'+'et',_0x2daa19);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4e3de3){this['_setValue']('enableMark'+'up',_0x4e3de3);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x1d4d6d){this['_setValue']('rangeStart',_0x1d4d6d);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1ee815){this['_setValue']('rangeEnd',_0x1ee815);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x1814b3,_0x13a53a){this['_text']?(this['_text'][_0x1814b3]!==_0x13a53a&&this['_dirtyBatc'+'h'](),this['_text'][_0x1814b3]=_0x13a53a):this['_image']&&(this['_image'][_0x1814b3]!==_0x13a53a&&this['_dirtyBatc'+'h'](),this['_image'][_0x1814b3]=_0x13a53a);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x3ffad2,_0x39afca,_0xc72d82){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x3ffad2,_0x39afca,_0xc72d82);return;}_0x3ffad2 instanceof D?Ef['copy'](_0x3ffad2):Ef['set'](_0x3ffad2,_0x39afca,_0xc72d82),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x1c77ca,_0x477106,_0x225e4d){_0x1c77ca instanceof D?this['localPosit'+'ion']['copy'](_0x1c77ca):this['localPosit'+'ion']['set'](_0x1c77ca,_0x477106,_0x225e4d);const _0x12bff0=this['element'],_0x49160b=this['localPosit'+'ion'],_0x8d4fd9=_0x12bff0['_pivot'];_0x12bff0['_margin']['x']=_0x49160b['x']-_0x12bff0['_calculate'+'dWidth']*_0x8d4fd9['x'],_0x12bff0['_margin']['z']=_0x12bff0['_localAnch'+'or']['z']-_0x12bff0['_localAnch'+'or']['x']-_0x12bff0['_calculate'+'dWidth']-_0x12bff0['_margin']['x'],_0x12bff0['_margin']['y']=_0x49160b['y']-_0x12bff0['_calculate'+'dHeight']*_0x8d4fd9['y'],_0x12bff0['_margin']['w']=_0x12bff0['_localAnch'+'or']['w']-_0x12bff0['_localAnch'+'or']['y']-_0x12bff0['_calculate'+'dHeight']-_0x12bff0['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x174e7f=this['element'],_0x2211db=_0x174e7f['screen'];if(_0x2211db){if(_0x174e7f['_anchorDir'+'ty']){let _0x33650a=0x1cef+0x1*0x7f7+-0x24e6,_0x5a646a=0x771*0x4+-0x1d1c+0x2a*-0x4,_0x1ea0da=-0x76*-0xd+0x0+-0x5fe*0x1,_0x11e7f0=-0x44+-0x3a*0x5e+0x1591;if(this['_parent']&&this['_parent']['element'])_0x33650a=this['_parent']['element']['calculated'+'Width'],_0x5a646a=this['_parent']['element']['calculated'+'Height'],_0x1ea0da=this['_parent']['element']['pivot']['x'],_0x11e7f0=this['_parent']['element']['pivot']['y'];else{const _0x522a33=_0x2211db['screen']['resolution'];_0x33650a=_0x522a33['x']/_0x2211db['screen']['scale'],_0x5a646a=_0x522a33['y']/_0x2211db['screen']['scale'];}_0x174e7f['_anchorTra'+'nsform']['setTransla'+'te'](_0x33650a*(_0x174e7f['anchor']['x']-_0x1ea0da),-(_0x5a646a*(_0x11e7f0-_0x174e7f['anchor']['y'])),-0x17b9+-0xe*-0xe4+0xb41),_0x174e7f['_anchorDir'+'ty']=!(-0x43a*0x1+-0x1*-0x1de6+-0x19ab),_0x174e7f['_calculate'+'LocalAncho'+'rs']();}_0x174e7f['_sizeDirty']&&_0x174e7f['_calculate'+'Size'](!(0x20f4+-0xad*-0x35+-0x44c4),!(0x1*-0x13ff+0x1*-0xc77+0x1*0x2077));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x502c55=this['localPosit'+'ion'],_0xaad5a8=_0x174e7f['_pivot'];_0x174e7f['_margin']['x']=_0x502c55['x']-_0x174e7f['_calculate'+'dWidth']*_0xaad5a8['x'],_0x174e7f['_margin']['z']=_0x174e7f['_localAnch'+'or']['z']-_0x174e7f['_localAnch'+'or']['x']-_0x174e7f['_calculate'+'dWidth']-_0x174e7f['_margin']['x'],_0x174e7f['_margin']['y']=_0x502c55['y']-_0x174e7f['_calculate'+'dHeight']*_0xaad5a8['y'],_0x174e7f['_margin']['w']=_0x174e7f['_localAnch'+'or']['w']-_0x174e7f['_localAnch'+'or']['y']-_0x174e7f['_calculate'+'dHeight']-_0x174e7f['_margin']['y'],this['_dirtyLoca'+'l']=!(0x2*0x61+-0x1b7d*0x1+0x6af*0x4);}if(!_0x2211db){this['_dirtyWorl'+'d']&&(_0x174e7f['_cornersDi'+'rty']=!(-0x197*-0x1+-0x247e+0x22e7),_0x174e7f['_canvasCor'+'nersDirty']=!(-0xac0+-0x327+0xde7*0x1),_0x174e7f['_worldCorn'+'ersDirty']=!(0x1588+-0x2327+0xd9f*0x1)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x174e7f['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x174e7f['_anchorTra'+'nsform']):_0x174e7f['_screenToW'+'orld']['copy'](_0x174e7f['_anchorTra'+'nsform']),_0x174e7f['_modelTran'+'sform']['mul2'](_0x174e7f['_screenToW'+'orld'],this['localTrans'+'form']),_0x2211db){_0x174e7f['_screenToW'+'orld']['mul2'](_0x2211db['screen']['_screenMat'+'rix'],_0x174e7f['_screenToW'+'orld']),_0x2211db['screen']['screenSpac'+'e']||_0x174e7f['_screenToW'+'orld']['mul2'](_0x2211db['worldTrans'+'form'],_0x174e7f['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x174e7f['_screenToW'+'orld'],this['localTrans'+'form']);const _0x1cb7bf=_0x174e7f['_parentWor'+'ldTransfor'+'m'];_0x1cb7bf['setIdentit'+'y']();const _0xbc557b=this['_parent'];_0xbc557b&&_0xbc557b['element']&&_0xbc557b!==_0x2211db&&(ws['setTRS'](D['ZERO'],_0xbc557b['getLocalRo'+'tation'](),_0xbc557b['getLocalSc'+'ale']()),_0x1cb7bf['mul2'](_0xbc557b['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x3066f9=Pi;_0x3066f9['set'](0x1fff+0xaa0+-0x2a9f,0x20*0x25+-0xb01+0x661,this['localPosit'+'ion']['z']);const _0x3851cb=MR;_0x3851cb['set'](_0x174e7f['_absLeft']+_0x174e7f['_pivot']['x']*_0x174e7f['calculated'+'Width'],_0x174e7f['_absBottom']+_0x174e7f['_pivot']['y']*_0x174e7f['calculated'+'Height'],-0x7*-0x2c9+-0x8*-0x2df+-0x2a77),ws['setTransla'+'te'](-_0x3851cb['x'],-_0x3851cb['y'],-_0x3851cb['z']),bc['setTRS'](_0x3066f9,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x3851cb['x'],_0x3851cb['y'],_0x3851cb['z']),_0x174e7f['_screenTra'+'nsform']['mul2'](_0x174e7f['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x174e7f['_cornersDi'+'rty']=!(-0x1181+0x8d8+0x8a9),_0x174e7f['_canvasCor'+'nersDirty']=!(-0x26e6+0x2b*-0xd7+0x4b03),_0x174e7f['_worldCorn'+'ersDirty']=!(-0x3*-0x38b+-0x1613+0x5*0x24a);}else this['worldTrans'+'form']['copy'](_0x174e7f['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x349+0x10*0xc3+-0x8e6);}}['_onInsert'](_0x370485){const _0x38fc2f=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x38fc2f['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x27e6f5=this['entity'];for(;_0x27e6f5;){const _0x1e9eee=_0x27e6f5['parent'];if((_0x1e9eee===null||_0x1e9eee['screen'])&&_0x27e6f5['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x18e375=this['system']['_prerender']['indexOf'](this['entity']);_0x18e375>=0x116*0x18+0x201a+-0x3a2a&&this['system']['_prerender']['splice'](_0x18e375,0x35*0x1b+-0x1f05*0x1+0x1*0x196f),this['system']['_prerender']['indexOf'](_0x27e6f5)<0x1d4c+0x1159+-0x2ea5&&this['system']['_prerender']['push'](_0x27e6f5),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x27e6f5['name']);}_0x27e6f5=_0x1e9eee;}}['_onPrerend'+'er'](){for(let _0x16d163=0x1b25+0x14c5*-0x1+-0x30*0x22;_0x16d163<this['system']['_prerender']['length'];_0x16d163++){const _0x22f3fe=this['system']['_prerender'][_0x16d163];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x22f3fe['name']),_0x22f3fe['element']&&_0x22f3fe['element']['syncMask'](0x16f9*-0x1+-0x3a9+0x1aa3);}this['system']['_prerender']['length']=0x1*0xaf3+-0x31f*-0x6+-0x1dad*0x1;}['_bindScree'+'n'](_0x51401c){_0x51401c['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x1abbec){_0x1abbec['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2b9720){this['screen']&&this['screen']!==_0x2b9720&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x1c1f68=this['screen'];this['screen']=_0x2b9720,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x1c1f68),this['_anchorDir'+'ty']=!(0xd*-0x136+-0xf21+0x1edf);const _0xb609ea=this['entity']['children'];for(let _0x4656d7=0x1*-0x1aad+0x76*0x2d+0x5ef,_0x2f2185=_0xb609ea['length'];_0x4656d7<_0x2f2185;_0x4656d7++)_0xb609ea[_0x4656d7]['element']&&_0xb609ea[_0x4656d7]['element']['_updateScr'+'een'](_0x2b9720);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x343fe1){const _0x18962d=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x18962d['mask'],_0x343fe1);}['_setMasked'+'By'](_0x5c43f1){const _0x428f97=this['_image']||this['_text'];if(_0x5c43f1){const _0x2666f9=_0x5c43f1['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x2666f9),_0x428f97==null||_0x428f97['_setStenci'+'l'](new pi({'ref':_0x2666f9,'func':dh})),this['_maskedBy']=_0x5c43f1;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x428f97==null||_0x428f97['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x49b452,_0x4aa67b){var _0x299970,_0x2e32b4;if(_0x49b452){if(this['_setMasked'+'By'](_0x49b452),this['mask']){const _0x57f492=_0x49b452['element']['_image']['_maskRef'],_0x2591df=new pi({'ref':_0x57f492,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x2591df),this['_image']['_maskRef']=_0x4aa67b,_0x4aa67b++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x2591df['ref']+(-0xef*0x27+-0xc2b+0x3095))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x4aa67b),_0x49b452=this['entity'];}const _0x233228=this['entity']['children'];for(let _0x56c034=0x10dc+0xef*-0x11+0xfd*-0x1,_0x1e80a2=_0x233228['length'];_0x56c034<_0x1e80a2;_0x56c034++)(_0x299970=_0x233228[_0x56c034]['element'])==null||_0x299970['_updateMas'+'k'](_0x49b452,_0x4aa67b);this['mask']&&_0x4aa67b--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x5a424d=new pi({'ref':_0x4aa67b,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x5a424d),this['_image']['_maskRef']=_0x4aa67b,_0x4aa67b++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x5a424d['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x4aa67b),_0x49b452=this['entity'];}const _0x44354a=this['entity']['children'];for(let _0x19ef2f=-0x3*0xaad+-0x1426+0x2bf*0x13,_0x408ee5=_0x44354a['length'];_0x19ef2f<_0x408ee5;_0x19ef2f++)(_0x2e32b4=_0x44354a[_0x19ef2f]['element'])==null||_0x2e32b4['_updateMas'+'k'](_0x49b452,_0x4aa67b);this['mask']&&_0x4aa67b--;}}['_parseUpTo'+'Screen'](){const _0x11d211={'screen':null,'mask':null};let _0x56fd37=this['entity']['_parent'];for(;_0x56fd37&&!_0x56fd37['screen'];)_0x56fd37['element']&&_0x56fd37['element']['mask']&&(_0x11d211['mask']||(_0x11d211['mask']=_0x56fd37)),_0x56fd37=_0x56fd37['parent'];return _0x56fd37&&_0x56fd37['screen']&&(_0x11d211['screen']=_0x56fd37),_0x11d211;}['_onScreenR'+'esize'](_0x9cd4b0){this['_anchorDir'+'ty']=!(-0x1*-0x1f+0x1838+-0x1857),this['_cornersDi'+'rty']=!(-0x253a+0xdfa+-0x40*-0x5d),this['_worldCorn'+'ersDirty']=!(0x2c6*-0x2+-0x1f2c+-0x19*-0x178),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x9cd4b0);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x102854=0x1d12+0x1ccf+-0x151*0x29,_0x388076=-0x296*-0x6+-0x10b6*-0x1+-0x1c52;const _0x52f2b=this['entity']['_parent'];if(_0x52f2b&&_0x52f2b['element'])_0x102854=_0x52f2b['element']['calculated'+'Width'],_0x388076=_0x52f2b['element']['calculated'+'Height'];else{if(this['screen']){const _0xfa5c27=this['screen']['screen']['resolution'],_0x3f9801=this['screen']['screen']['scale'];_0x102854=_0xfa5c27['x']/_0x3f9801,_0x388076=_0xfa5c27['y']/_0x3f9801;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x102854,this['_anchor']['y']*_0x388076,this['_anchor']['z']*_0x102854,this['_anchor']['w']*_0x388076);}['getOffsetP'+'osition'](_0x59ef4e,_0x1c09c9){const _0x5d2883=this['entity']['getLocalPo'+'sition']()['clone']();return _0x5d2883['x']+=_0x59ef4e,_0x5d2883['y']+=_0x1c09c9,this['_screenToW'+'orld']['transformP'+'oint'](_0x5d2883,_0x5d2883),_0x5d2883;}['onLayersCh'+'anged'](_0x4fe372,_0x43abda){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x4fe372['off']('add',this['onLayerAdd'+'ed'],this),_0x4fe372['off']('remove',this['onLayerRem'+'oved'],this),_0x43abda['on']('add',this['onLayerAdd'+'ed'],this),_0x43abda['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x55cf05){this['layers']['indexOf'](_0x55cf05['id'])<0x1da7*0x1+0x22f9+-0x40a0||(this['_image']?_0x55cf05['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x55cf05['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0xd324a0){this['layers']['indexOf'](_0xd324a0['id'])<-0x255a*0x1+0x34d*-0x8+0x2*0x1fe1||(this['_image']?_0xd324a0['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0xd324a0['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x567790;const _0x2272c8=this['system']['app']['scene'],_0x518b66=_0x2272c8['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x2272c8['on']('set:layers',this['onLayersCh'+'anged'],this),_0x518b66&&(this['_evtLayerA'+'dded']=_0x518b66['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x518b66['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x161*-0xb+-0x2*-0x10a5+-0x3075&&((_0x567790=this['system']['app']['batcher'])==null||_0x567790['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x38895d,_0x2a8b8e,_0x3a4601,_0x28d321;const _0x6793aa=this['system']['app']['scene']['layers'];(_0x38895d=this['_evtLayers'+'Changed'])==null||_0x38895d['off'](),this['_evtLayers'+'Changed']=null,_0x6793aa&&((_0x2a8b8e=this['_evtLayerA'+'dded'])==null||_0x2a8b8e['off'](),this['_evtLayerA'+'dded']=null,(_0x3a4601=this['_evtLayerR'+'emoved'])==null||_0x3a4601['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0xd5b*0x1+0xa24+0x337*0x1&&((_0x28d321=this['system']['app']['batcher'])==null||_0x28d321['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x227475,_0x127647){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x237876=this['_absRight']-this['_absLeft'],_0x343b63=this['_absTop']-this['_absBottom'];_0x227475?this['_setWidth'](_0x237876):this['_setCalcul'+'atedWidth'](_0x237876,!(-0x281*0x9+-0x13*0x29+0x1*0x1995)),_0x127647?this['_setHeight'](_0x343b63):this['_setCalcul'+'atedHeight'](_0x343b63,!(0x1ced+0x14b4+-0x10*0x31a));const _0x305d47=this['entity']['getLocalPo'+'sition']();_0x305d47['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x305d47['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x305d47),this['_sizeDirty']=!(0x20e*-0xd+0x13*-0x1e9+0x3f02);}['_setWidth'](_0x566030){this['_width']=_0x566030,this['_setCalcul'+'atedWidth'](_0x566030,!(-0x1d6a+-0x1*0x1903+-0x1*-0x366e)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x5d8dd4){this['_height']=_0x5d8dd4,this['_setCalcul'+'atedHeight'](_0x5d8dd4,!(0x4d2+-0x1b*-0x9+-0x1ec*0x3)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x569a37,_0xe0b187){if(!(Math['abs'](_0x569a37-this['_calculate'+'dWidth'])<=-0x1490+-0x1f9*-0x1+0x1*0x1297+0.0001)){if(this['_calculate'+'dWidth']=_0x569a37,this['entity']['_dirtifyLo'+'cal'](),_0xe0b187){const _0x30dae4=this['entity']['getLocalPo'+'sition'](),_0x2d8b3f=this['_pivot'];this['_margin']['x']=_0x30dae4['x']-this['_calculate'+'dWidth']*_0x2d8b3f['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2f5eeb,_0x5db0d0){if(!(Math['abs'](_0x2f5eeb-this['_calculate'+'dHeight'])<=-0x1*0x1286+0x26ca+0x511*-0x4+0.0001)){if(this['_calculate'+'dHeight']=_0x2f5eeb,this['entity']['_dirtifyLo'+'cal'](),_0x5db0d0){const _0x269a86=this['entity']['getLocalPo'+'sition'](),_0x5c0118=this['_pivot'];this['_margin']['y']=_0x269a86['y']-this['_calculate'+'dHeight']*_0x5c0118['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x4f2862=this['entity']['_children'];for(let _0x10add3=0x113b+-0x1c24+-0x1*-0xae9,_0xfe57e0=_0x4f2862['length'];_0x10add3<_0xfe57e0;_0x10add3++)_0x4f2862[_0x10add3]['element']&&(_0x4f2862[_0x10add3]['element']['_anchorDir'+'ty']=!(0x1095+-0x1baa*-0x1+-0x1*0x2c3f),_0x4f2862[_0x10add3]['element']['_sizeDirty']=!(0x19cf+-0x96b+-0x1064));}['addModelTo'+'Layers'](_0x4ec956){this['_addedMode'+'ls']['push'](_0x4ec956);for(let _0x9e5ecd=0x58d+-0x1234+0xca7;_0x9e5ecd<this['layers']['length'];_0x9e5ecd++){const _0x917c98=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x9e5ecd]);_0x917c98&&_0x917c98['addMeshIns'+'tances'](_0x4ec956['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x184ff8){const _0x3d34b1=this['_addedMode'+'ls']['indexOf'](_0x184ff8);_0x3d34b1>=0x1130+0x355*0x3+-0x1b2f&&this['_addedMode'+'ls']['splice'](_0x3d34b1,0x1d55+-0x2120*-0x1+0x1*-0x3e74);for(let _0x565ebb=0xa36*0x2+-0x13eb+-0x81;_0x565ebb<this['layers']['length'];_0x565ebb++){const _0x48ece3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x565ebb]);_0x48ece3&&_0x48ece3['removeMesh'+'Instances'](_0x184ff8['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x49c50f=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x49c50f&&(this['_maskOffse'+'t']=-0x776*-0x1+-0x118+0x32f*-0x2+0.5,this['_offsetRea'+'dAt']=_0x49c50f);const _0x4f32d8=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x1be*-0x2+-0x167b+0x1*0x12ff+0.001,_0x4f32d8;}['isVisibleF'+'orCamera'](_0x5eadd9){let _0x10f197,_0x355763,_0x17407c,_0x421851;if(this['maskedBy']){const _0x2868c0=this['maskedBy']['element']['screenCorn'+'ers'];_0x10f197=Math['min'](Math['min'](_0x2868c0[0x1898+0x16ab+-0x2f43]['x'],_0x2868c0[0x1fcd+-0x1caa*0x1+-0x322]['x']),Math['min'](_0x2868c0[-0x29*0x16+0xa7c+-0x14*0x59]['x'],_0x2868c0[0x725*-0x1+-0x1951+-0x11*-0x1e9]['x'])),_0x355763=Math['max'](Math['max'](_0x2868c0[0x5*0x53d+0x133*0x11+-0x2e94]['x'],_0x2868c0[-0x7ad+0x3*0x2a7+-0x1*0x47]['x']),Math['max'](_0x2868c0[0xb29*-0x2+-0xaa9*-0x1+0xbab]['x'],_0x2868c0[0x178d+-0x4*0x44a+-0x331*0x2]['x'])),_0x421851=Math['min'](Math['min'](_0x2868c0[-0x7*-0x593+-0x2087+-0x67e]['y'],_0x2868c0[0x15*-0x34+0x140*-0x7+-0xb*-0x12f]['y']),Math['min'](_0x2868c0[0x6c3+0x15*0x52+-0xd7b]['y'],_0x2868c0[-0x14a4+-0x371+-0xc*-0x202]['y'])),_0x17407c=Math['max'](Math['max'](_0x2868c0[-0x24a7+0x694+0x1e13*0x1]['y'],_0x2868c0[0x3f5+0x3b0*-0x2+0x49*0xc]['y']),Math['max'](_0x2868c0[-0x1*-0x17ec+0x1f*0x103+-0x3747]['y'],_0x2868c0[0x706*-0x4+0x1*0x102d+0x6*0x1fd]['y']));}else{const _0x574f80=this['system']['app']['graphicsDe'+'vice']['width'],_0x3eea8f=this['system']['app']['graphicsDe'+'vice']['height'],_0x1b5711=_0x5eadd9['_rect']['z']*_0x574f80,_0x1fdfd3=_0x5eadd9['_rect']['w']*_0x3eea8f;_0x10f197=_0x5eadd9['_rect']['x']*_0x574f80,_0x355763=_0x10f197+_0x1b5711,_0x17407c=(-0x2*0x1244+0x36e*-0x5+0x35af-_0x5eadd9['_rect']['y'])*_0x3eea8f,_0x421851=_0x17407c-_0x1fdfd3;}const _0x312509=this['screenCorn'+'ers'],_0x2d3983=Math['min'](Math['min'](_0x312509[-0x6de+0x21e2+-0x1b04]['x'],_0x312509[0x2392+0x1683+-0x4*0xe85]['x']),Math['min'](_0x312509[-0x3*0xad+-0x70*0x3e+0x1d29]['x'],_0x312509[-0x11*0x6d+-0x1*-0x215b+-0x1a1b]['x'])),_0x5ac438=Math['max'](Math['max'](_0x312509[0x3*0x34b+0x2428+-0x2e09]['x'],_0x312509[-0x1b5*-0x3+-0x2*-0x200+-0x3*0x30a]['x']),Math['max'](_0x312509[0x574+-0x12*0x140+0x4a*0x3b]['x'],_0x312509[-0x8a0+-0x9c9+0x24*0x83]['x'])),_0x37fade=Math['min'](Math['min'](_0x312509[-0x11*-0x15+0x184a+-0x19af]['y'],_0x312509[0x1496+-0x17*0x16d+-0xc36*-0x1]['y']),Math['min'](_0x312509[0x1*0x342+-0x4*0x1b5+0x394]['y'],_0x312509[0x2f*-0xa9+0x1550+0xa6*0xf]['y'])),_0x2b34c2=Math['max'](Math['max'](_0x312509[0xbc1+0x1*0x1ca8+-0x5*0x815]['y'],_0x312509[0xd7*-0x2b+0x1cfe+0x720]['y']),Math['max'](_0x312509[0x1*0x24e4+0x577*0x1+-0x2a59]['y'],_0x312509[0x1e+-0x1b12+-0x27*-0xb1]['y']));return!(_0x5ac438<_0x10f197||_0x2d3983>_0x355763||_0x37fade>_0x17407c||_0x2b34c2<_0x421851);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x767*0x1+-0x7a0+-0x1d*-0x2);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x1995+0x266d+0x1*-0x4001);}['_dirtyBatc'+'h'](){var _0x3af513;this['batchGroup'+'Id']!==-(-0x5cf*0x2+0x190+0x1*0xa0f)&&((_0x3af513=this['system']['app']['batcher'])==null||_0x3af513['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x137+0x1*-0x1fa9+-0x8*-0x41c);}}const IR=['enabled'];class LR extends ct{constructor(_0x1c532a){super(_0x1c532a),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x1c532a['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x36a9a9=this['_defaultTe'+'xture']['lock'](),_0x318dad=new Uint8Array(0x3c*0x79+0x3a6+0x69*-0x4e);_0x318dad[-0x13*0x99+0x1*-0x2591+0x30ec]=-0x1*0x1835+-0x11*0x8e+0x22a2,_0x318dad[-0x1aa4+-0xd30+0x46d*0x9]=-0x7cc*-0x2+0x2cf+-0x2*0x8b4,_0x318dad[-0x1*0x1bee+-0x7ea*-0x1+0x1406]=0x2261+-0x1535*-0x1+-0x3697,_0x318dad[-0x21e+0x116b+-0xf4a]=0x35f*-0x2+-0xd*-0x39+0x14*0x3e,_0x36a9a9['set'](_0x318dad),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x569be9,_0x3e217e,_0x4c5e92){_0x569be9['_beingInit'+'ialized']=!(0x9b0+-0x1*-0xf3f+-0x1*0x18ef),_0x3e217e['anchor']!==void(-0x1efe+0x61*0xb+0x3f*0x6d)&&(_0x3e217e['anchor']instanceof re?_0x569be9['anchor']['copy'](_0x3e217e['anchor']):_0x569be9['anchor']['set'](_0x3e217e['anchor'][0x1cd1+0x221b+0x1*-0x3eec],_0x3e217e['anchor'][-0x1091*0x1+-0x1*-0x23b+0x1*0xe57],_0x3e217e['anchor'][0x3a5+-0x1f02+-0x8f*-0x31],_0x3e217e['anchor'][-0xc20+0xc2b+-0x8])),_0x3e217e['pivot']!==void(-0x16b2+-0x24c3+0x1eb*0x1f)&&(_0x3e217e['pivot']instanceof J?_0x569be9['pivot']['copy'](_0x3e217e['pivot']):_0x569be9['pivot']['set'](_0x3e217e['pivot'][-0x7*-0xd+0x11dd+-0x48e*0x4],_0x3e217e['pivot'][-0x5f7*-0x1+0x2302+-0x28f8]));const _0x2bddb6=Math['abs'](_0x569be9['anchor']['x']-_0x569be9['anchor']['z'])>-0x2*-0x981+0x23f4+-0x36f6+0.001,_0x5a9209=Math['abs'](_0x569be9['anchor']['y']-_0x569be9['anchor']['w'])>-0x1*-0x161e+0xf2d+-0x254b+0.001;let _0x5f1c12=!(-0xbcf*-0x1+0x1a5*0xb+-0x1de5),_0x17cfaa;_0x3e217e['margin']!==void(0x4*0x5ea+-0x29*0x6b+-0x685*0x1)&&(_0x3e217e['margin']instanceof re?_0x569be9['margin']['copy'](_0x3e217e['margin']):_0x569be9['_margin']['set'](_0x3e217e['margin'][0x2484+0x243*0x1+-0x3*0xced],_0x3e217e['margin'][-0x1a23*-0x1+0x1*0x1d7d+-0x379f*0x1],_0x3e217e['margin'][-0x235d+0x10dc+-0x1283*-0x1],_0x3e217e['margin'][0x2a5*-0x1+-0x21a*-0x3+-0x1*0x3a6]),_0x5f1c12=!(0x5*0x597+-0x271+0xcc1*-0x2)),_0x3e217e['left']!==void(0x37*0x30+0x1*-0xe0e+-0x3be*-0x1)&&(_0x569be9['_margin']['x']=_0x3e217e['left'],_0x5f1c12=!(-0x26a2+0x2*0x6b9+0x1930)),_0x3e217e['bottom']!==void(-0x3*0x805+0x6b3+0xb*0x194)&&(_0x569be9['_margin']['y']=_0x3e217e['bottom'],_0x5f1c12=!(0x1be6*0x1+-0x13f9+-0x7ed)),_0x3e217e['right']!==void(-0xa4c+0x25c4+-0xc*0x24a)&&(_0x569be9['_margin']['z']=_0x3e217e['right'],_0x5f1c12=!(0x58*-0x66+0x1084+-0x128c*-0x1)),_0x3e217e['top']!==void(0x1a68*-0x1+-0xf*-0x7a+0x9a1*0x2)&&(_0x569be9['_margin']['w']=_0x3e217e['top'],_0x5f1c12=!(-0x1d9+-0x1e57*-0x1+-0x1c7e)),_0x5f1c12&&(_0x569be9['margin']=_0x569be9['_margin']);let _0x4c7db7=!(-0x3*-0x4b+-0xb*-0x16f+-0x1*0x10a5);_0x3e217e['width']!==void(0x29f*0x3+0x2b*0x9b+-0x21e6)&&!_0x2bddb6?_0x569be9['width']=_0x3e217e['width']:_0x2bddb6&&(_0x4c7db7=!(-0x20a4+0x14b*0x2+-0x1e0e*-0x1)),_0x3e217e['height']!==void(0x682+0x1*-0xd92+0x710)&&!_0x5a9209?_0x569be9['height']=_0x3e217e['height']:_0x5a9209&&(_0x4c7db7=!(-0x600+-0x1*0x1f6d+0x2e1*0xd)),_0x4c7db7&&(_0x569be9['anchor']=_0x569be9['anchor']),_0x3e217e['enabled']!==void(0x1*0x124a+0x1*-0x1e42+0xbf8)&&(_0x569be9['enabled']=_0x3e217e['enabled']),_0x3e217e['useInput']!==void(0x26ff+0x1*-0x2117+-0x3f*0x18)&&(_0x569be9['useInput']=_0x3e217e['useInput']),_0x3e217e['fitMode']!==void(0x1340+-0x4aa+-0xe96)&&(_0x569be9['fitMode']=_0x3e217e['fitMode']),_0x569be9['batchGroup'+'Id']=_0x3e217e['batchGroup'+'Id']===void(0x1347+-0x3aa+0x1*-0xf9d)||_0x3e217e['batchGroup'+'Id']===null?-(-0xa36+-0x6a*-0x53+-0x1b*0xe5):_0x3e217e['batchGroup'+'Id'],_0x3e217e['layers']&&Array['isArray'](_0x3e217e['layers'])&&(_0x569be9['layers']=_0x3e217e['layers']['slice'](0x3*0x40d+-0x2c+0x1*-0xbfb)),_0x3e217e['type']!==void(-0xd4e*-0x1+0x136c+-0x1*0x20ba)&&(_0x569be9['type']=_0x3e217e['type']),_0x569be9['type']===Cu?(_0x3e217e['rect']!==void(0x869+0x1*-0x14cd+0xc64)&&(_0x569be9['rect']=_0x3e217e['rect']),_0x3e217e['color']!==void(-0x1723+0x4db+0x1248)&&(_0x17cfaa=_0x3e217e['color'],_0x17cfaa instanceof ie||(_0x17cfaa=new ie(_0x3e217e['color'][0x1*-0x2ff+0x1*0x2621+-0x2322],_0x3e217e['color'][-0x469*-0x7+-0x2178+0x29a],_0x3e217e['color'][0xc*0x291+0x8*0x293+0x2*-0x19b1])),_0x569be9['color']=_0x17cfaa),_0x3e217e['opacity']!==void(-0x128a+0x52b*0x3+-0x3*-0x103)&&(_0x569be9['opacity']=_0x3e217e['opacity']),_0x3e217e['textureAss'+'et']!==void(0x1b8+-0x566*-0x1+0x2*-0x38f)&&(_0x569be9['textureAss'+'et']=_0x3e217e['textureAss'+'et']),_0x3e217e['texture']&&(_0x569be9['texture']=_0x3e217e['texture']),_0x3e217e['spriteAsse'+'t']!==void(-0x5*-0x436+0xbb4+0x257*-0xe)&&(_0x569be9['spriteAsse'+'t']=_0x3e217e['spriteAsse'+'t']),_0x3e217e['sprite']&&(_0x569be9['sprite']=_0x3e217e['sprite']),_0x3e217e['spriteFram'+'e']!==void(0x1b90+0x10dd+-0x2c6d)&&(_0x569be9['spriteFram'+'e']=_0x3e217e['spriteFram'+'e']),_0x3e217e['pixelsPerU'+'nit']!==void(-0x12bc+0x1d35*0x1+-0xa79)&&_0x3e217e['pixelsPerU'+'nit']!==null&&(_0x569be9['pixelsPerU'+'nit']=_0x3e217e['pixelsPerU'+'nit']),_0x3e217e['materialAs'+'set']!==void(0x1912*0x1+0x13c1*0x1+0x1*-0x2cd3)&&(_0x569be9['materialAs'+'set']=_0x3e217e['materialAs'+'set']),_0x3e217e['material']&&(_0x569be9['material']=_0x3e217e['material']),_0x3e217e['mask']!==void(0x100+0x7ba*-0x1+-0x2*-0x35d)&&(_0x569be9['mask']=_0x3e217e['mask'])):_0x569be9['type']===jv&&(_0x3e217e['autoWidth']!==void(0x1*0x1ebb+0x18c6*0x1+-0x3781)&&(_0x569be9['autoWidth']=_0x3e217e['autoWidth']),_0x3e217e['autoHeight']!==void(-0x2339+0xd*0xf0+0x1709*0x1)&&(_0x569be9['autoHeight']=_0x3e217e['autoHeight']),_0x3e217e['rtlReorder']!==void(-0x2268+-0x4*0x4c+0x2398)&&(_0x569be9['rtlReorder']=_0x3e217e['rtlReorder']),_0x3e217e['unicodeCon'+'verter']!==void(0xdce+0xff0+-0x1dbe)&&(_0x569be9['unicodeCon'+'verter']=_0x3e217e['unicodeCon'+'verter']),_0x3e217e['text']!==null&&_0x3e217e['text']!==void(0x1a79+0x1fdd+-0x39*0x106)?_0x569be9['text']=_0x3e217e['text']:_0x3e217e['key']!==null&&_0x3e217e['key']!==void(-0x12ce+0x11b5*-0x1+-0x2cf*-0xd)&&(_0x569be9['key']=_0x3e217e['key']),_0x3e217e['color']!==void(-0x446*0x2+-0x13e9+0x5*0x5b1)&&(_0x17cfaa=_0x3e217e['color'],_0x17cfaa instanceof ie||(_0x17cfaa=new ie(_0x17cfaa[0x2552+-0x1b92*0x1+-0x9c0],_0x17cfaa[-0x1cdd+-0x7b6+0x1*0x2494],_0x17cfaa[-0x2622+-0x1a17*0x1+-0xcb*-0x51])),_0x569be9['color']=_0x17cfaa),_0x3e217e['opacity']!==void(-0x39b*-0xa+0x144e+-0x385c)&&(_0x569be9['opacity']=_0x3e217e['opacity']),_0x3e217e['spacing']!==void(0x3f7*0x1+-0x9f5*0x1+0x76*0xd)&&(_0x569be9['spacing']=_0x3e217e['spacing']),_0x3e217e['fontSize']!==void(-0x206*0x3+0x22c9+0x1*-0x1cb7)&&(_0x569be9['fontSize']=_0x3e217e['fontSize'],_0x3e217e['lineHeight']||(_0x569be9['lineHeight']=_0x3e217e['fontSize'])),_0x3e217e['lineHeight']!==void(-0x12c2+-0x7*-0x4a7+-0xdcf)&&(_0x569be9['lineHeight']=_0x3e217e['lineHeight']),_0x3e217e['maxLines']!==void(-0x315+-0x26b5+0x29ca)&&(_0x569be9['maxLines']=_0x3e217e['maxLines']),_0x3e217e['wrapLines']!==void(-0x2*-0x1093+-0x1c6*-0xd+-0x3834)&&(_0x569be9['wrapLines']=_0x3e217e['wrapLines']),_0x3e217e['minFontSiz'+'e']!==void(-0x1193*0x1+-0x4ba*-0x2+0x2b5*0x3)&&(_0x569be9['minFontSiz'+'e']=_0x3e217e['minFontSiz'+'e']),_0x3e217e['maxFontSiz'+'e']!==void(-0x1421+0x11*-0x248+0x3ae9)&&(_0x569be9['maxFontSiz'+'e']=_0x3e217e['maxFontSiz'+'e']),_0x3e217e['autoFitWid'+'th']&&(_0x569be9['autoFitWid'+'th']=_0x3e217e['autoFitWid'+'th']),_0x3e217e['autoFitHei'+'ght']&&(_0x569be9['autoFitHei'+'ght']=_0x3e217e['autoFitHei'+'ght']),_0x3e217e['fontAsset']!==void(0x1e8e+-0x15d*0x1b+0x641*0x1)&&(_0x569be9['fontAsset']=_0x3e217e['fontAsset']),_0x3e217e['font']!==void(0xc2c+-0xaed*-0x1+-0x1719)&&(_0x569be9['font']=_0x3e217e['font']),_0x3e217e['alignment']!==void(0x1*-0x1444+-0x19f4+0x2*0x171c)&&(_0x569be9['alignment']=_0x3e217e['alignment']),_0x3e217e['outlineCol'+'or']!==void(0x1*-0x251b+-0x2436+0x4951)&&(_0x569be9['outlineCol'+'or']=_0x3e217e['outlineCol'+'or']),_0x3e217e['outlineThi'+'ckness']!==void(0x13bb*0x1+-0xffa+0x1*-0x3c1)&&(_0x569be9['outlineThi'+'ckness']=_0x3e217e['outlineThi'+'ckness']),_0x3e217e['shadowColo'+'r']!==void(0x7*0x27a+0x2*-0xfc6+0xe36)&&(_0x569be9['shadowColo'+'r']=_0x3e217e['shadowColo'+'r']),_0x3e217e['shadowOffs'+'et']!==void(0x1615+0x1779*-0x1+-0x59*-0x4)&&(_0x569be9['shadowOffs'+'et']=_0x3e217e['shadowOffs'+'et']),_0x3e217e['enableMark'+'up']!==void(0x1860+0x2124+-0x3984)&&(_0x569be9['enableMark'+'up']=_0x3e217e['enableMark'+'up']));const _0x5c2e0a=_0x569be9['_parseUpTo'+'Screen']();_0x5c2e0a['screen']&&_0x569be9['_updateScr'+'een'](_0x5c2e0a['screen']),super['initialize'+'ComponentD'+'ata'](_0x569be9,_0x3e217e,_0x4c5e92),_0x569be9['_beingInit'+'ialized']=!(-0x7*0x23b+-0xa*0x376+0x323a),_0x569be9['type']===Cu&&_0x569be9['_image']['_meshDirty']&&_0x569be9['_image']['_updateMes'+'h'](_0x569be9['_image']['mesh']);}['onAddCompo'+'nent'](_0x1225d3,_0x38c9d7){_0x1225d3['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x5a1557,_0x476790){_0x476790['onRemove']();}['cloneCompo'+'nent'](_0x27ba3f,_0x5a339b){const _0x270931=_0x27ba3f['element'],_0x57b850={'enabled':_0x270931['enabled'],'width':_0x270931['width'],'height':_0x270931['height'],'anchor':_0x270931['anchor']['clone'](),'pivot':_0x270931['pivot']['clone'](),'margin':_0x270931['margin']['clone'](),'alignment':_0x270931['alignment']&&_0x270931['alignment']['clone']()||_0x270931['alignment'],'autoWidth':_0x270931['autoWidth'],'autoHeight':_0x270931['autoHeight'],'type':_0x270931['type'],'rect':_0x270931['rect']&&_0x270931['rect']['clone']()||_0x270931['rect'],'rtlReorder':_0x270931['rtlReorder'],'unicodeConverter':_0x270931['unicodeCon'+'verter'],'materialAsset':_0x270931['materialAs'+'set'],'material':_0x270931['material'],'color':_0x270931['color']&&_0x270931['color']['clone']()||_0x270931['color'],'opacity':_0x270931['opacity'],'textureAsset':_0x270931['textureAss'+'et'],'texture':_0x270931['texture'],'spriteAsset':_0x270931['spriteAsse'+'t'],'sprite':_0x270931['sprite'],'spriteFrame':_0x270931['spriteFram'+'e'],'pixelsPerUnit':_0x270931['pixelsPerU'+'nit'],'spacing':_0x270931['spacing'],'lineHeight':_0x270931['lineHeight'],'wrapLines':_0x270931['wrapLines'],'layers':_0x270931['layers'],'fontSize':_0x270931['fontSize'],'minFontSize':_0x270931['minFontSiz'+'e'],'maxFontSize':_0x270931['maxFontSiz'+'e'],'autoFitWidth':_0x270931['autoFitWid'+'th'],'autoFitHeight':_0x270931['autoFitHei'+'ght'],'maxLines':_0x270931['maxLines'],'fontAsset':_0x270931['fontAsset'],'font':_0x270931['font'],'useInput':_0x270931['useInput'],'fitMode':_0x270931['fitMode'],'batchGroupId':_0x270931['batchGroup'+'Id'],'mask':_0x270931['mask'],'outlineColor':_0x270931['outlineCol'+'or']&&_0x270931['outlineCol'+'or']['clone']()||_0x270931['outlineCol'+'or'],'outlineThickness':_0x270931['outlineThi'+'ckness'],'shadowColor':_0x270931['shadowColo'+'r']&&_0x270931['shadowColo'+'r']['clone']()||_0x270931['shadowColo'+'r'],'shadowOffset':_0x270931['shadowOffs'+'et']&&_0x270931['shadowOffs'+'et']['clone']()||_0x270931['shadowOffs'+'et'],'enableMarkup':_0x270931['enableMark'+'up']};return _0x270931['key']!==void(0xef8+-0x16eb+-0x37*-0x25)&&_0x270931['key']!==null?_0x57b850['key']=_0x270931['key']:_0x57b850['text']=_0x270931['text'],this['addCompone'+'nt'](_0x5a339b,_0x57b850);}['getTextEle'+'mentMateri'+'al'](_0x4d0901,_0x2f549c,_0x14bd14){const _0x37c33c=(_0x4d0901&&-0x4*0x87a+-0x2cd*-0x7+0xe4e)|(_0x2f549c&&0x17ba*-0x1+-0x1dc0+0x28c*0x15)|(_0x14bd14&&-0xa3f*-0x1+-0x177a+0xd3f);let _0x4d3d21=this['_defaultTe'+'xtMaterial'+'s'][_0x37c33c];if(_0x4d3d21)return _0x4d3d21;let _0x4f0de7='TextMateri'+'al';return _0x4d3d21=new Ut(),_0x2f549c?(_0x4d3d21['msdfMap']=this['_defaultTe'+'xture'],_0x4d3d21['msdfTextAt'+'tribute']=_0x14bd14,_0x4d3d21['emissive']['set'](-0x1*0x1cc9+0x1695+0x635,-0x9d9*-0x2+-0x19e9+0x638,-0x162b+0x1d4a+-0x71e)):(_0x4f0de7='Bitmap'+_0x4f0de7,_0x4d3d21['emissive']['set'](0x14e8+-0x3*0x65a+0x2b*-0xb,-0x7ca+0x98e+0x29*-0xb,-0x4bb+0x2*-0x2fe+0x1*0xab8),_0x4d3d21['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x4d3d21['opacityMap']=this['_defaultTe'+'xture'],_0x4d3d21['opacityMap'+'Channel']='a'),_0x4d0901&&(_0x4f0de7='ScreenSpac'+'e'+_0x4f0de7,_0x4d3d21['depthTest']=!(0x1*0x1874+0x1754+0x9*-0x54f)),_0x4d3d21['name']='default'+_0x4f0de7,_0x4d3d21['useLightin'+'g']=!(0x135e+-0x187*0x1+-0x11d6),_0x4d3d21['useTonemap']=!(-0xc09*0x3+-0x252f+0x1d*0x287),_0x4d3d21['useFog']=!(0x2285+-0x1*0x2453+-0x1*-0x1cf),_0x4d3d21['useSkybox']=!(-0x1*0x1522+0x1*-0x14de+0x2a01),_0x4d3d21['diffuse']['set'](0x1aa6+0x3e*-0x7d+0x3a0,0x10e8+-0x5*0xbf+-0xd2d,0x1*-0x1350+-0x1*0x220f+0x355f),_0x4d3d21['opacity']=-0x926+-0x7ff+0x1125+0.5,_0x4d3d21['blendType']=Gn,_0x4d3d21['depthWrite']=!(0x1979+0xa29+-0x23a1),_0x4d3d21['emissiveVe'+'rtexColor']=!(-0x133*0x1+0x1335+-0x1cd*0xa),_0x4d3d21['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x37c33c]=_0x4d3d21,_0x4d3d21;}['_createBas'+'eImageMate'+'rial'](){const _0x301c00=new Ut();return _0x301c00['diffuse']['set'](0x148e+-0xdc3+-0x6cb,0xa9f*0x2+0x18c3+-0x2e01,0x1e1f+0x25c5+0x4f*-0xdc),_0x301c00['emissive']['set'](0x11d6+-0x20*0x1a+-0xe95,-0xda3*-0x2+0x16dd*-0x1+-0x468,-0x24cf+-0x39*-0x49+-0x148f*-0x1),_0x301c00['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x301c00['opacityMap']=this['_defaultTe'+'xture'],_0x301c00['opacityMap'+'Channel']='a',_0x301c00['useLightin'+'g']=!(-0x2296+-0x10a3+-0x2*-0x199d),_0x301c00['useTonemap']=!(0x222e*0x1+-0x1a37+-0x7f6),_0x301c00['useFog']=!(0x6d+-0x2710+0x26a4),_0x301c00['useSkybox']=!(-0xf58+-0x2101+-0x1*-0x305a),_0x301c00['blendType']=Gn,_0x301c00['depthWrite']=!(0x2d9*0xd+0x54a+-0x2*0x1527),_0x301c00;}['getImageEl'+'ementMater'+'ial'](_0x3243b6,_0x54b25d,_0x319324,_0x18a4e7){return _0x3243b6?_0x54b25d?_0x319324?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x83*0x31+0x1578+-0x2e8a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x656*-0x1+-0x709+-0xd60*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x23cc+0x1*0x1849+0x4*0x2e1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0xacd*0x1+0x1f*-0x2+0xe*-0xc1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x17ba*0x1+-0x1580+0x1*-0x239),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x1c5d*0x1+-0x1*0x1b28+0x2*-0x9a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x18a4e7?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1346+0x12f1+-0x2636),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1*-0x34a+-0x1*0x1c3a+0x18f1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x3b9*-0xa+0x4*-0x13b+0x2a27),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x4a*-0x73+-0xad8*-0x3+-0x95*0x71),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x5c5+0x219*0xa+-0xf34*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x971*-0x3+-0x18d6+-0x37c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x585+-0x7*0x39f+0x13d5),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x3*-0x9e4+0x2511*-0x1+0x3b3*0x2,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x1*-0x1312+0x224d+0xf3a*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x2*-0xf6c+-0x240c+-0xd61*-0x5),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x257f+0x725+0x1e5b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x13*0x15a+-0xcc2+0x1*-0xceb),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x319324?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x1564+-0x22db+-0xf0*-0x3c),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x18a4e7?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1a4a+0x335*0x1+-0x2f3*0xa),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x1a61+-0x52*0x4f+-0x10*-0x33b),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x54b25d?_0x319324?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x1608+-0x244d+-0x13*-0x312,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1*-0x2202+0x2090+0x1*0x173),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x190f*0x1+-0x9aa+0x22ba),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0xe6f*0x1+-0x1b*-0x79+0xd*0x21),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x1f5e+-0x5*-0x303+-0x2e6c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x18a4e7?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x1*-0x39+0xeb5+-0x1*0xeed,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x2*-0xfaf+-0x1870+-0x37cf*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0xa12*0x3+0x5db*0x1+0x185c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0xdab*-0x1+0x165*0xb+-0x1d01),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x2471+-0x10e0+0x9c8*-0x2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1afd+0x1*-0x177b+-0x381,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0xe20+0x1dcc*0x1+-0x2beb),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x112b*-0x1+-0x1c4b+-0x1*-0x2d77),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x1*-0x236d+0x5b4+0x1dba),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x1251+0x1529+-0xeb*0x2b),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x319324?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x18a4e7?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x39852d){this['_unicodeCo'+'nverter']=_0x39852d;}['registerRt'+'lReorder'](_0x34028a){this['_rtlReorde'+'r']=_0x34028a;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x6c4a94,_0x51125a){super(_0x6c4a94,_0x51125a),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1152+0x1347+-0x2499*0x1),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0x2148*0x1+0x1*0xbcf+-0x2d17,-0x10f1+0x248*0x2+0xc61),this['_linearSpr'+'ingX']=!(0x17f1+-0x1c24+0x10d*0x4),this['_linearSti'+'ffnessX']=-0x25d0+-0x6a2*0x1+0x2c72*0x1,this['_linearDam'+'pingX']=0x3*0x4d2+0x142c+-0x22a1,this['_linearEqu'+'ilibriumX']=0x109d*0x1+-0x3*-0xa52+-0x2f93,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x199+-0x74*-0x11+-0x1*0x94d,-0x258a+-0x240e+0x4998),this['_linearSpr'+'ingY']=!(-0xbf6+-0x2088+0x2c7f),this['_linearSti'+'ffnessY']=0x2522+0x5*-0x718+-0x3*0x8e,this['_linearDam'+'pingY']=0x277*0xb+-0xd24*-0x2+-0x3564,this['_linearEqu'+'ilibriumY']=-0x457*-0x4+0x1*-0x1b9d+-0x36b*-0x3,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x1*-0xdc4+0x1d1f+0x2ae3*-0x1,-0x1954+0x15c*-0xf+-0x4d*-0x98),this['_linearSpr'+'ingZ']=!(-0x6f1+-0xdf0*-0x1+-0x1*0x6fe),this['_linearSti'+'ffnessZ']=0x1*-0xd55+0x17ac+-0xa57,this['_linearDam'+'pingZ']=0x25+-0x1*-0x5c2+0x5*-0x12e,this['_linearEqu'+'ilibriumZ']=0xda3+0xcda+-0x1a7d,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0x1b9b+-0x2452+0x3fed,-0x58+-0x8f4+0x94c),this['_angularSp'+'ringX']=!(0x303+0x1362*0x1+-0x4*0x599),this['_angularSt'+'iffnessX']=0x57c+-0x220b+-0x985*-0x3,this['_angularDa'+'mpingX']=-0x88a*0x3+-0x4b6+-0x611*-0x5,this['_angularEq'+'uilibriumX']=-0x36*-0x5a+0x1*0x139b+-0x10b*0x25,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x1*0x2693+-0x4b+-0x26de*-0x1,0x549+-0x1518+0xfcf),this['_angularSp'+'ringY']=!(-0xc*-0x335+-0x22c0+-0xbf*0x5),this['_angularSt'+'iffnessY']=0x1b59+-0x12f3+-0x866,this['_angularDa'+'mpingY']=0x2*0x7cd+0x3*0x41e+-0x1bf3,this['_angularEq'+'uilibriumY']=0x5*0x75d+0x8*-0x55+-0x2229,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x2*0x161+-0x22*-0xb+-0xa6*-0x2,0x2*0x57d+-0x119*0xa+0x0),this['_angularSp'+'ringZ']=!(-0x2128*0x1+-0xe5*-0x11+0x11f4),this['_angularEq'+'uilibriumZ']=0xf69+-0xb5d*-0x1+0xd63*-0x2,this['_angularDa'+'mpingZ']=0x9*0x3b2+-0x621*-0x3+0x52a*-0xa,this['_angularSt'+'iffnessZ']=0x33*-0x14+0xa35+0x213*-0x3,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x40258e){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x40258e,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0xdf4d7){this['_destroyCo'+'nstraint'](),this['_entityB']=_0xdf4d7,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x271005){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x271005&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x271005),this['_breakForc'+'e']=_0x271005);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x3faa49){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x3faa49,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x528b0f){this['_angularLi'+'mitsX']['equals'](_0x528b0f)||(this['_angularLi'+'mitsX']['copy'](_0x528b0f),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0xdfede){this['_angularMo'+'tionX']!==_0xdfede&&(this['_angularMo'+'tionX']=_0xdfede,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x26898a){this['_angularLi'+'mitsY']['equals'](_0x26898a)||(this['_angularLi'+'mitsY']['copy'](_0x26898a),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x3d6ef8){this['_angularMo'+'tionY']!==_0x3d6ef8&&(this['_angularMo'+'tionY']=_0x3d6ef8,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x267eca){this['_angularLi'+'mitsZ']['equals'](_0x267eca)||(this['_angularLi'+'mitsZ']['copy'](_0x267eca),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x10551c){this['_angularMo'+'tionZ']!==_0x10551c&&(this['_angularMo'+'tionZ']=_0x10551c,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x46f070){this['_linearLim'+'itsX']['equals'](_0x46f070)||(this['_linearLim'+'itsX']['copy'](_0x46f070),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0xc8ccb3){this['_linearMot'+'ionX']!==_0xc8ccb3&&(this['_linearMot'+'ionX']=_0xc8ccb3,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x1c84a1){this['_linearLim'+'itsY']['equals'](_0x1c84a1)||(this['_linearLim'+'itsY']['copy'](_0x1c84a1),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x178511){this['_linearMot'+'ionY']!==_0x178511&&(this['_linearMot'+'ionY']=_0x178511,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x84d985){this['_linearLim'+'itsZ']['equals'](_0x84d985)||(this['_linearLim'+'itsZ']['copy'](_0x84d985),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x15d594){this['_linearMot'+'ionZ']!==_0x15d594&&(this['_linearMot'+'ionZ']=_0x15d594,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x5b4958,_0x1fdf04){const _0x510b65=_0x5b4958['getTransla'+'tion'](),_0x31620b=new le();_0x31620b['setFromMat'+'4'](_0x5b4958);const _0x4dd1e5=new Ammo['btVector3'](_0x510b65['x'],_0x510b65['y'],_0x510b65['z']),_0x133399=new Ammo['btQuaterni'+'on'](_0x31620b['x'],_0x31620b['y'],_0x31620b['z'],_0x31620b['w']);_0x1fdf04['setOrigin'](_0x4dd1e5),_0x1fdf04['setRotatio'+'n'](_0x133399),Ammo['destroy'](_0x4dd1e5),Ammo['destroy'](_0x133399);}['_updateAng'+'ularLimits'](){const _0x27c382=this['_constrain'+'t'];if(_0x27c382){let _0x3c8c82,_0x4fc399,_0x598219,_0x5a2b40,_0x4cd39f,_0x81853;this['_angularMo'+'tionX']===qa?(_0x3c8c82=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x5a2b40=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x3c8c82=0x24f0+0x207e*-0x1+-0x17b*0x3,_0x5a2b40=-0x2115+-0x1*-0x2399+0xa1*-0x4):_0x3c8c82=_0x5a2b40=-0x1*0x188c+0x87b+0x1011*0x1,this['_angularMo'+'tionY']===qa?(_0x4fc399=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x4cd39f=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x4fc399=0x23f*0x7+0x6f7*-0x5+0x131b,_0x4cd39f=0x3*-0xc05+0x355*-0x7+0x2*0x1db1):_0x4fc399=_0x4cd39f=-0x911*-0x2+-0x3*-0x3b4+0x26*-0xc5,this['_angularMo'+'tionZ']===qa?(_0x598219=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x81853=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x598219=-0xf1e+0x7e4*-0x4+0x11*0x2bf,_0x81853=0x16f9+-0xb*-0x24c+-0xe9*0x35):_0x598219=_0x81853=-0x260*-0xa+-0x3*0x295+-0x1001;const _0x4a7814=new Ammo['btVector3'](_0x3c8c82,_0x4fc399,_0x598219);_0x27c382['setAngular'+'LowerLimit'](_0x4a7814),_0x4a7814['setValue'](_0x5a2b40,_0x4cd39f,_0x81853),_0x27c382['setAngular'+'UpperLimit'](_0x4a7814),Ammo['destroy'](_0x4a7814);}}['_updateLin'+'earLimits'](){const _0x6bee=this['_constrain'+'t'];if(_0x6bee){let _0x2dafdc,_0x1e25b2,_0x414d07,_0x14f81f,_0x335249,_0x436445;this['_linearMot'+'ionX']===qa?(_0x2dafdc=this['_linearLim'+'itsX']['x'],_0x14f81f=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x2dafdc=-0xd5f+-0x7f4*0x1+0x1554,_0x14f81f=0x7c3+-0x989+0x1c6):_0x2dafdc=_0x14f81f=0x1be4*-0x1+-0xab9+0x269d,this['_linearMot'+'ionY']===qa?(_0x1e25b2=this['_linearLim'+'itsY']['x'],_0x335249=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x1e25b2=-0xf60+-0x1*0x17e9+0x2*0x13a5,_0x335249=0x187a+-0x782*-0x5+-0x3e04):_0x1e25b2=_0x335249=0xf35*-0x2+-0x148d+-0x3*-0x10fd,this['_linearMot'+'ionZ']===qa?(_0x414d07=this['_linearLim'+'itsZ']['x'],_0x436445=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x414d07=0x68c*0x5+-0x1162+-0xf59,_0x436445=-0x9*0x1ca+0x1*-0x196d+0x2987):_0x414d07=_0x436445=-0x1974*0x1+0x1*0x90d+0x11*0xf7;const _0x9c0b1e=new Ammo['btVector3'](_0x2dafdc,_0x1e25b2,_0x414d07);_0x6bee['setLinearL'+'owerLimit'](_0x9c0b1e),_0x9c0b1e['setValue'](_0x14f81f,_0x335249,_0x436445),_0x6bee['setLinearU'+'pperLimit'](_0x9c0b1e),Ammo['destroy'](_0x9c0b1e);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x56f2b1=new te(),_0x715ad8=this['_entityA']['rigidbody']['body'];_0x715ad8['activate']();const _0x18f0c1=this['entity']['getWorldTr'+'ansform'](),_0x85fd48=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x56f2b1['mul2'](_0x85fd48,_0x18f0c1);const _0x27638d=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x56f2b1,_0x27638d),this['_entityB']&&this['_entityB']['rigidbody']){const _0x285bf3=this['_entityB']['rigidbody']['body'];_0x285bf3['activate']();const _0x3a0a82=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x56f2b1['mul2'](_0x3a0a82,_0x18f0c1);const _0x4c7d49=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x56f2b1,_0x4c7d49),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x715ad8,_0x285bf3,_0x27638d,_0x4c7d49,!this['_enableCol'+'lision']),Ammo['destroy'](_0x4c7d49);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x715ad8,_0x27638d,!this['_enableCol'+'lision']);Ammo['destroy'](_0x27638d);const _0x3fa906=['X','Y','Z','X','Y','Z'];for(let _0x1a7a73=0xbb3+0x1*0x100a+0x107*-0x1b;_0x1a7a73<0x1*0x1537+0x6*0x2b0+-0x2551;_0x1a7a73++){const _0x1c9b95=_0x1a7a73<-0x7*-0x16b+0x55b+0x3*-0x517?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x1a7a73,this[_0x1c9b95+'Spring'+_0x3fa906[_0x1a7a73]]),this['_constrain'+'t']['setDamping'](_0x1a7a73,this[_0x1c9b95+'Damping'+_0x3fa906[_0x1a7a73]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x1a7a73,this[_0x1c9b95+('Equilibriu'+'m')+_0x3fa906[_0x1a7a73]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x1a7a73,this[_0x1c9b95+'Stiffness'+_0x3fa906[_0x1a7a73]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x3aa43d){for(const _0x1ea6e4 of RR)_0x3aa43d['hasOwnProp'+'erty'](_0x1ea6e4)&&(_0x3aa43d[_0x1ea6e4]instanceof J?this['_'+_0x1ea6e4]['copy'](_0x3aa43d[_0x1ea6e4]):this['_'+_0x1ea6e4]=_0x3aa43d[_0x1ea6e4]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x3c23ca,_0x5e3c22,_0x25fa31){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x179c29=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x42fb96=>{['X','Y','Z']['forEach'](_0x14e6b9=>{const _0x46e9ed=_0x179c29+_0x42fb96+_0x14e6b9,_0x58c88d='_'+_0x46e9ed;let _0x428249=_0x179c29==='linear'?0x611*0x1+-0x67f*-0x4+0x200d*-0x1:0x9b4+-0x3*0x494+0x40b;_0x14e6b9==='Y'&&(_0x428249+=0x2f1*-0xd+0xb55*-0x3+0x483d*0x1),_0x14e6b9==='Z'&&(_0x428249+=-0x1d3f+-0x1213*-0x1+0xb2e),Object['defineProp'+'erty'](ym['prototype'],_0x46e9ed,{'get':function(){return this[_0x58c88d];},'set':function(_0x17510f){this[_0x58c88d]!==_0x17510f&&(this[_0x58c88d]=_0x17510f,this['_constrain'+'t'][OR[_0x42fb96]](_0x428249,_0x17510f));}});});});});class FR{constructor(){this['enabled']=!(0x91d*0x1+-0x1199+0x1*0x87c);}}const Fu=['enabled'];class NR extends ct{constructor(_0x412aaf){super(_0x412aaf),this['id']='joint',this['app']=_0x412aaf,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0xc6b777,_0x17ffb8,_0x355c91){_0xc6b777['initFromDa'+'ta'](_0x17ffb8),super['initialize'+'ComponentD'+'ata'](_0xc6b777,_0x17ffb8,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x316+0x6*0x207+0xf4*-0x10),h(this,'_minHeight',-0x218e+-0x394+0x61*0x62),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x263f*-0x1+0x1229*-0x2+-0x1*0x1ed),h(this,'_fitHeight'+'Proportion',-0x17*0x2+-0x86b+0x899),h(this,'_excludeFr'+'omLayout',!(0x242d+-0x2012+-0xd2*0x5));}set['minWidth'](_0x587f64){_0x587f64!==this['_minWidth']&&(this['_minWidth']=_0x587f64,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x394c1d){_0x394c1d!==this['_minHeight']&&(this['_minHeight']=_0x394c1d,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x570253){_0x570253!==this['_maxWidth']&&(this['_maxWidth']=_0x570253,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x3affbe){_0x3affbe!==this['_maxHeight']&&(this['_maxHeight']=_0x3affbe,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x5edb7a){_0x5edb7a!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x5edb7a,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x285047){_0x285047!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x285047,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0xd212cb){_0xd212cb!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0xd212cb,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0xf56+-0x2*-0x47+-0xfe4);}}const e0=['enabled'];class UR extends ct{constructor(_0x524eee){super(_0x524eee),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x1c5446,_0x5cbd80,_0x273f1a){_0x5cbd80['enabled']!==void(-0x2*-0x3b0+0x1e2*0xa+-0x56*0x4e)&&(_0x1c5446['enabled']=_0x5cbd80['enabled']),_0x5cbd80['minWidth']!==void(0x2*-0x994+-0x25ba+-0x97b*-0x6)&&(_0x1c5446['minWidth']=_0x5cbd80['minWidth']),_0x5cbd80['minHeight']!==void(0x152*0x10+0x632+-0x2*0xda9)&&(_0x1c5446['minHeight']=_0x5cbd80['minHeight']),_0x5cbd80['maxWidth']!==void(-0x145c+0x2207+0xdab*-0x1)&&(_0x1c5446['maxWidth']=_0x5cbd80['maxWidth']),_0x5cbd80['maxHeight']!==void(0x196d+0x1a1*0x13+-0x3860)&&(_0x1c5446['maxHeight']=_0x5cbd80['maxHeight']),_0x5cbd80['fitWidthPr'+'oportion']!==void(-0x4*0x83c+0x5c6*-0x1+-0x7be*-0x5)&&(_0x1c5446['fitWidthPr'+'oportion']=_0x5cbd80['fitWidthPr'+'oportion']),_0x5cbd80['fitHeightP'+'roportion']!==void(0x1db2+0x1*-0x26b6+0x904)&&(_0x1c5446['fitHeightP'+'roportion']=_0x5cbd80['fitHeightP'+'roportion']),_0x5cbd80['excludeFro'+'mLayout']!==void(-0x1031*0x1+0x97*0x8+0x3d3*0x3)&&(_0x1c5446['excludeFro'+'mLayout']=_0x5cbd80['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1c5446,_0x5cbd80,_0x273f1a);}['cloneCompo'+'nent'](_0xa17be2,_0x240e41){const _0x57dcc6=_0xa17be2['layoutchil'+'d'];return this['addCompone'+'nt'](_0x240e41,{'enabled':_0x57dcc6['enabled'],'minWidth':_0x57dcc6['minWidth'],'minHeight':_0x57dcc6['minHeight'],'maxWidth':_0x57dcc6['maxWidth'],'maxHeight':_0x57dcc6['maxHeight'],'fitWidthProportion':_0x57dcc6['fitWidthPr'+'oportion'],'fitHeightProportion':_0x57dcc6['fitHeightP'+'roportion'],'excludeFromLayout':_0x57dcc6['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x6a1*-0x2+0x4*-0x925+0x31d6,BR=0x446*0x5+-0x1ff8+0x21f*0x5,Qg=0x2*0x128c+0x1e61+0x9*-0x77f,zR=-0xcc1+-0x1*-0x18be+-0x1*0xbfa,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x3047a6){let _0x50740e;const _0x1f9156=Oh[_0x3047a6],_0x24ad3d=Oh[vm[_0x3047a6]];function _0x53f0ee(_0x92c1e2,_0x53e97d){return-_0x53e97d[_0x1f9156['size']]*_0x92c1e2['pivot'][_0x1f9156['axis']];}function _0x86c9cd(_0x243e12,_0x12bc84){return-_0x12bc84[_0x24ad3d['size']]*_0x243e12['pivot'][_0x24ad3d['axis']];}function _0x440205(_0x4cec5b,_0xa07433){return _0xa07433[_0x1f9156['size']]*(-0x1391*0x1+0x1*-0x1ca5+0x3037-_0x4cec5b['pivot'][_0x1f9156['axis']]);}function _0x516d0e(_0x33a422,_0x48deb6){_0x33a422=_0x33a422['filter'](_0x3707cd),_0x50740e=_0x48deb6,ls['x']=_0x50740e['containerS'+'ize']['x']-_0x50740e['padding']['x']-_0x50740e['padding']['z'],ls['y']=_0x50740e['containerS'+'ize']['y']-_0x50740e['padding']['y']-_0x50740e['padding']['w'],_0x2f1dff(_0x33a422);const _0x25ba13=_0x1741cc(_0x4844f7(_0x33a422)),_0x56ab87=_0x1171ad(_0x25ba13,_0xf3b7e1(_0x25ba13)),_0x510f65=_0x3220f6(_0x25ba13,_0x56ab87);return _0x1dd901(_0x25ba13,_0x56ab87,_0x510f65),_0x45adf9(_0x25ba13,_0x56ab87,_0x510f65),_0x338709(_0x25ba13);}function _0x3707cd(_0x21a61f){const _0x3e52a6=_0x21a61f['entity']['layoutchil'+'d'];return!_0x3e52a6||!_0x3e52a6['enabled']||!_0x3e52a6['excludeFro'+'mLayout'];}function _0x2f1dff(_0x5df673){for(let _0x1e4f4b=0x5a5*-0x5+0xbeb+0x2*0x827;_0x1e4f4b<_0x5df673['length'];++_0x1e4f4b){const _0x24e1b3=_0x5df673[_0x1e4f4b],_0x4a769e=_0x24e1b3['anchor'];(_0x4a769e['x']!==-0x124f+-0x36d*-0x7+-0x5ac||_0x4a769e['y']!==0x6bb*0x5+0x679+0x1*-0x2820||_0x4a769e['z']!==0x1896+-0x1*-0x759+-0x1fef||_0x4a769e['w']!==0x1*-0x10a3+-0x1*0x25b3+-0x1a*-0x217)&&(_0x24e1b3['anchor']=re['ZERO']);}}function _0x4844f7(_0x49deb0){if(!_0x50740e['wrap'])return[_0x49deb0];const _0x2778c4=[[]],_0x2c1fd8=_0x3b12bc(_0x49deb0);let _0x1256af=0x25d6+0x5*0x7ab+0x4c2d*-0x1;const _0x194922=_0x50740e[_0x1f9156['fitting']]===Qg;for(let _0x1e66e4=-0x449*-0x6+-0x260f+0xc59;_0x1e66e4<_0x49deb0['length'];++_0x1e66e4){_0x2778c4[_0x2778c4['length']-(-0xf4*-0x17+-0x1*0x1c53+0x668)]['length']>-0x2172+0x1*-0xfa9+0x311b&&(_0x1256af+=_0x50740e['spacing'][_0x1f9156['axis']]);const _0x2eea83=_0x2c1fd8[_0x1e66e4][_0x1f9156['size']];_0x1256af+=_0x2eea83,!_0x194922&&_0x1256af>ls[_0x1f9156['axis']]&&_0x2778c4[_0x2778c4['length']-(0x71*0x42+0x2255+-0x3f76)]['length']!==0x34f+0x19c+-0x4eb*0x1&&(_0x1256af=_0x2eea83,_0x2778c4['push']([])),_0x2778c4[_0x2778c4['length']-(-0x2*0x5+-0x7*-0x1f6+-0xdaf)]['push'](_0x49deb0[_0x1e66e4]),_0x194922&&_0x1256af>ls[_0x1f9156['axis']]&&_0x1e66e4!==_0x49deb0['length']-(0xfef+0x1015*-0x1+-0xd*-0x3)&&(_0x1256af=0x243c+-0x1*0x13e2+-0x105a,_0x2778c4['push']([]));}return _0x2778c4;}function _0x1741cc(_0x3f871b){const _0x3742b7=_0x50740e['orientatio'+'n']===Ce&&_0x50740e['reverseX']||_0x50740e['orientatio'+'n']===je&&_0x50740e['reverseY'],_0x425c81=_0x50740e['orientatio'+'n']===Ce&&_0x50740e['reverseY']||_0x50740e['orientatio'+'n']===je&&_0x50740e['reverseX'];if(_0x3742b7){for(let _0x255325=-0x19aa+-0x1de*-0x1+0x17cc;_0x255325<_0x3f871b['length'];++_0x255325)_0x3742b7&&_0x3f871b[_0x255325]['reverse']();}return _0x425c81&&_0x3f871b['reverse'](),_0x3f871b;}function _0xf3b7e1(_0x5a7a6b){const _0x171f50=[];for(let _0x2a1faa=0x1c7a+-0x242c+0x7b2;_0x2a1faa<_0x5a7a6b['length'];++_0x2a1faa){const _0x218a1c=_0x5a7a6b[_0x2a1faa],_0x502f98=_0x3b12bc(_0x218a1c),_0x2ab708=_0x130d47(_0x502f98,_0x1f9156),_0x4ede08=_0xb5a7d8(_0x50740e[_0x1f9156['fitting']],_0x2ab708,ls[_0x1f9156['axis']]);_0x4ede08===os['APPLY_STRE'+'TCHING']?_0x2b1b81(_0x502f98,_0x2ab708,_0x1f9156):_0x4ede08===os['APPLY_SHRI'+'NKING']&&_0x2aa876(_0x502f98,_0x2ab708,_0x1f9156),_0x171f50['push'](_0x502f98);}return _0x171f50;}function _0x1171ad(_0x42eb25,_0x56478a){const _0x22699a=[],_0x3ac4cb=[];for(let _0x51d16d=-0x16d8+-0x1*0xe1d+-0x1*-0x24f5;_0x51d16d<_0x42eb25['length'];++_0x51d16d){const _0x4ebd94=_0x42eb25[_0x51d16d];_0x4ebd94['largestEle'+'ment']=null,_0x4ebd94['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0xfd01d=0x1dee+0x79a*-0x5+-0x2*-0x40a;_0xfd01d<_0x4ebd94['length'];++_0xfd01d){const _0x3ff3f6=_0x56478a[_0x51d16d][_0xfd01d];_0x3ff3f6[_0x24ad3d['size']]>_0x4ebd94['largestSiz'+'e'][_0x24ad3d['size']]&&(_0x4ebd94['largestEle'+'ment']=_0x4ebd94[_0xfd01d],_0x4ebd94['largestSiz'+'e']=_0x3ff3f6);}_0x22699a['push'](_0x4ebd94['largestEle'+'ment']),_0x3ac4cb['push'](_0x4ebd94['largestSiz'+'e']);}const _0x51abcf=_0x130d47(_0x3ac4cb,_0x24ad3d),_0x36164b=_0xb5a7d8(_0x50740e[_0x24ad3d['fitting']],_0x51abcf,ls[_0x24ad3d['axis']]);_0x36164b===os['APPLY_STRE'+'TCHING']?_0x2b1b81(_0x3ac4cb,_0x51abcf,_0x24ad3d):_0x36164b===os['APPLY_SHRI'+'NKING']&&_0x2aa876(_0x3ac4cb,_0x51abcf,_0x24ad3d);for(let _0x12a319=0x1bf6+0x1*0xa22+-0x2618;_0x12a319<_0x42eb25['length'];++_0x12a319){const _0xeb139d=_0x42eb25[_0x12a319];for(let _0x579384=0x1*0x259d+0x1163+-0x3700;_0x579384<_0xeb139d['length'];++_0x579384){const _0x2a931a=_0x56478a[_0x12a319][_0x579384],_0x214033=_0x2a931a[_0x24ad3d['size']],_0x4c518f=_0x42eb25['length']===-0x11af+-0x6ca+0x2*0xc3d?ls[_0x24ad3d['axis']]:_0xeb139d['largestSiz'+'e'][_0x24ad3d['size']],_0x422374=_0xb5a7d8(_0x50740e[_0x24ad3d['fitting']],_0x214033,_0x4c518f);_0x422374===os['APPLY_STRE'+'TCHING']?_0x2a931a[_0x24ad3d['size']]=Math['min'](_0x4c518f,_0x2a931a[_0x24ad3d['maxSize']]):_0x422374===os['APPLY_SHRI'+'NKING']&&(_0x2a931a[_0x24ad3d['size']]=Math['max'](_0x4c518f,_0x2a931a[_0x24ad3d['minSize']]));}}return _0x56478a;}function _0xb5a7d8(_0x26595b,_0x64eff6,_0x43523b){switch(_0x26595b){case Nu:return os['NONE'];case BR:return _0x64eff6<_0x43523b?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x64eff6>=_0x43523b?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x64eff6<_0x43523b?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x26595b);}}function _0x130d47(_0x1373be,_0x59266e){const _0x19020e=_0x5e6c8c(_0x1373be,_0x59266e['size']),_0x11b64b=(_0x1373be['length']-(-0x1d3*0x1+0x23*0x11b+-0x24dd))*_0x50740e['spacing'][_0x59266e['axis']];return _0x19020e+_0x11b64b;}function _0x2b1b81(_0x32d329,_0x5aaa29,_0x7ce3ae){const _0x45e70d=_0x4f2e11(_0x32d329,_0x7ce3ae['maxSize']),_0x4fb356=_0x4f17a0(_0x32d329,_0x7ce3ae['fittingPro'+'portion']),_0x3b4eb9=_0x2fc34d(_0x4fb356,_0x45e70d);let _0x4cc272=ls[_0x7ce3ae['axis']]-_0x5aaa29;for(let _0x20f95b=0x1*-0xa35+0x2*0x1223+-0x1a11;_0x20f95b<_0x32d329['length'];++_0x20f95b){const _0x17c525=_0x45e70d[_0x20f95b],_0x57eb7a=_0x512122(_0x17c525,_0x4cc272,_0x4fb356,_0x3b4eb9),_0x44849b=_0x32d329[_0x17c525][_0x7ce3ae['size']]+_0x57eb7a,_0x485a0d=_0x32d329[_0x17c525][_0x7ce3ae['maxSize']],_0x5248c6=Math['min'](_0x44849b,_0x485a0d);_0x32d329[_0x17c525][_0x7ce3ae['size']]=_0x5248c6;const _0x4fab58=Math['max'](_0x44849b-_0x5248c6,-0x2615+0xcab+0x196a),_0x4ee940=_0x57eb7a-_0x4fab58;_0x4cc272-=_0x4ee940;}}function _0x2aa876(_0x59c06f,_0x33af9e,_0x329e35){const _0x575d9a=_0x4f2e11(_0x59c06f,_0x329e35['minSize'],!(0x1ca3*-0x1+0x2e7*0x5+0xe20)),_0x2ec92a=_0x4f17a0(_0x59c06f,_0x329e35['fittingPro'+'portion']),_0x573f68=_0x378f50(_0x2ec92a),_0xa9fd4f=_0x2fc34d(_0x573f68,_0x575d9a);let _0x231b54=_0x33af9e-ls[_0x329e35['axis']];for(let _0x1d7f54=0x2*0x9d4+-0x1a19+0x671;_0x1d7f54<_0x59c06f['length'];++_0x1d7f54){const _0x1ea6c2=_0x575d9a[_0x1d7f54],_0x5302ec=_0x512122(_0x1ea6c2,_0x231b54,_0x573f68,_0xa9fd4f),_0x16a835=_0x59c06f[_0x1ea6c2][_0x329e35['size']]-_0x5302ec,_0x102da9=_0x59c06f[_0x1ea6c2][_0x329e35['minSize']],_0x3f8751=Math['max'](_0x16a835,_0x102da9);_0x59c06f[_0x1ea6c2][_0x329e35['size']]=_0x3f8751;const _0x521f35=Math['max'](_0x3f8751-_0x16a835,-0x7f7+0x574+0x283),_0x1a24a7=_0x5302ec-_0x521f35;_0x231b54-=_0x1a24a7;}}function _0x512122(_0x44fdb7,_0x250547,_0x5e3773,_0x1468be){const _0x5b1934=_0x5e3773[_0x44fdb7],_0x10c356=_0x1468be[_0x44fdb7];return Math['abs'](_0x5b1934)<0x5de+-0x2*-0x11cb+-0x17b*0x1c+0.00001&&Math['abs'](_0x10c356)<0x70*-0xe+-0x45*0xd+-0x1*-0x9a1+0.00001?_0x250547:_0x250547*_0x5b1934/_0x10c356;}function _0x3220f6(_0x4c4a3a,_0x240255){const _0x588d30={};_0x588d30[_0x1f9156['axis']]=0x41c+0x1*-0x1105+0x1*0xce9,_0x588d30[_0x24ad3d['axis']]=0x122b+-0x10ff+-0x12c,_0x4c4a3a[_0x1f9156['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x3bb24b=[];for(let _0x532da2=-0x43*-0x8f+-0x1cf0+-0x1*0x87d;_0x532da2<_0x4c4a3a['length'];++_0x532da2){const _0x5c10a4=_0x4c4a3a[_0x532da2];if(_0x5c10a4['length']===-0x11dd*-0x2+-0x12ee*-0x1+-0x36a8){_0x3bb24b['push']([]);continue;}const _0xcda16b=[],_0x220ca0=_0x240255[_0x532da2];for(let _0xd2940a=-0x1b59+0x1e71+-0x318;_0xd2940a<_0x5c10a4['length'];++_0xd2940a){const _0xc2ecb3=_0x5c10a4[_0xd2940a],_0x23ef3b=_0x220ca0[_0xd2940a];_0x588d30[_0x24ad3d['axis']]-=_0x86c9cd(_0xc2ecb3,_0x23ef3b),_0x588d30[_0x1f9156['axis']]-=_0x53f0ee(_0xc2ecb3,_0x23ef3b),_0xcda16b[_0xd2940a]={},_0xcda16b[_0xd2940a][_0x1f9156['axis']]=_0x588d30[_0x1f9156['axis']],_0xcda16b[_0xd2940a][_0x24ad3d['axis']]=_0x588d30[_0x24ad3d['axis']],_0x588d30[_0x24ad3d['axis']]+=_0x86c9cd(_0xc2ecb3,_0x23ef3b),_0x588d30[_0x1f9156['axis']]+=_0x440205(_0xc2ecb3,_0x23ef3b)+_0x50740e['spacing'][_0x1f9156['axis']];}_0x5c10a4[_0x1f9156['size']]=_0x588d30[_0x1f9156['axis']]-_0x50740e['spacing'][_0x1f9156['axis']],_0x5c10a4[_0x24ad3d['size']]=_0x5c10a4['largestSiz'+'e'][_0x24ad3d['size']],_0x4c4a3a[_0x1f9156['size']]=Math['max'](_0x4c4a3a[_0x1f9156['size']],_0x5c10a4[_0x1f9156['size']]),_0x588d30[_0x1f9156['axis']]=0x3d*-0x31+-0x64f+0x11fc,_0x588d30[_0x24ad3d['axis']]+=_0x5c10a4[_0x24ad3d['size']]+_0x50740e['spacing'][_0x24ad3d['axis']],_0x3bb24b['push'](_0xcda16b);}return _0x4c4a3a[_0x24ad3d['size']]=_0x588d30[_0x24ad3d['axis']]-_0x50740e['spacing'][_0x24ad3d['axis']],_0x3bb24b;}function _0x1dd901(_0x28b84a,_0x36c80f,_0x4dc02f){const _0x47f6fe=_0x50740e['alignment'][_0x1f9156['axis']],_0x21df0c=_0x50740e['alignment'][_0x24ad3d['axis']],_0x246476=_0x50740e['padding'][_0x1f9156['axis']],_0x4955bf=_0x50740e['padding'][_0x24ad3d['axis']];for(let _0x4aabde=0x8c4*-0x2+-0x2*0x41b+0xa*0x293;_0x4aabde<_0x28b84a['length'];++_0x4aabde){const _0x1e1242=_0x28b84a[_0x4aabde],_0x5dadad=_0x36c80f[_0x4aabde],_0x1a24ae=_0x4dc02f[_0x4aabde],_0x5a4509=(ls[_0x1f9156['axis']]-_0x1e1242[_0x1f9156['size']])*_0x47f6fe+_0x246476,_0x45701c=(ls[_0x24ad3d['axis']]-_0x28b84a[_0x24ad3d['size']])*_0x21df0c+_0x4955bf;for(let _0x48562d=-0x193b+0x4ac*0x1+-0x13*-0x115;_0x48562d<_0x1e1242['length'];++_0x48562d){const _0x300036=(_0x1e1242[_0x24ad3d['size']]-_0x5dadad[_0x48562d][_0x24ad3d['size']])*_0x50740e['alignment'][_0x24ad3d['axis']];_0x1a24ae[_0x48562d][_0x1f9156['axis']]+=_0x5a4509,_0x1a24ae[_0x48562d][_0x24ad3d['axis']]+=_0x45701c+_0x300036;}}}function _0x45adf9(_0x58b085,_0x5cd03e,_0x245ed5){for(let _0x510c1d=0xc*-0x158+-0x11*-0xf8+0x16*-0x4;_0x510c1d<_0x58b085['length'];++_0x510c1d){const _0x358106=_0x58b085[_0x510c1d],_0x22695f=_0x5cd03e[_0x510c1d],_0x85e613=_0x245ed5[_0x510c1d];for(let _0x402f04=-0x3a+-0x1426+0x1460;_0x402f04<_0x358106['length'];++_0x402f04){const _0x55536e=_0x358106[_0x402f04];_0x55536e[_0x1f9156['calculated'+'Size']]=_0x22695f[_0x402f04][_0x1f9156['size']],_0x55536e[_0x24ad3d['calculated'+'Size']]=_0x22695f[_0x402f04][_0x24ad3d['size']],_0x50740e['orientatio'+'n']===Ce?_0x55536e['entity']['setLocalPo'+'sition'](_0x85e613[_0x402f04][_0x1f9156['axis']],_0x85e613[_0x402f04][_0x24ad3d['axis']],_0x55536e['entity']['getLocalPo'+'sition']()['z']):_0x55536e['entity']['setLocalPo'+'sition'](_0x85e613[_0x402f04][_0x24ad3d['axis']],_0x85e613[_0x402f04][_0x1f9156['axis']],_0x55536e['entity']['getLocalPo'+'sition']()['z']);}}}function _0x338709(_0x1de1d5){const _0x58fd20=_0x1de1d5['width'],_0x36fc05=_0x1de1d5['height'],_0x191eb8=(ls['x']-_0x58fd20)*_0x50740e['alignment']['x']+_0x50740e['padding']['x'],_0x262ad9=(ls['y']-_0x36fc05)*_0x50740e['alignment']['y']+_0x50740e['padding']['y'];return{'bounds':new re(_0x191eb8,_0x262ad9,_0x58fd20,_0x36fc05)};}function _0x3b12bc(_0x38279f){const _0x40e018=[];for(let _0x1c4748=0x1e40+0x120e*-0x1+-0xc32;_0x1c4748<_0x38279f['length'];++_0x1c4748){const _0x10e231=_0x38279f[_0x1c4748],_0x44e72e=Math['max'](_0x40adb4(_0x10e231,'minWidth'),0x26ab+-0x689+-0x2022),_0x5a673c=Math['max'](_0x40adb4(_0x10e231,'minHeight'),0x1*-0xed+-0x120b*0x1+0x12f8),_0x117015=Math['max'](_0x40adb4(_0x10e231,'maxWidth'),_0x44e72e),_0x3e9451=Math['max'](_0x40adb4(_0x10e231,'maxHeight'),_0x5a673c),_0x4207f5=_0x243072(_0x40adb4(_0x10e231,'width'),_0x44e72e,_0x117015),_0xfdce55=_0x243072(_0x40adb4(_0x10e231,'height'),_0x5a673c,_0x3e9451),_0x4ac5ff=_0x40adb4(_0x10e231,'fitWidthPr'+'oportion'),_0x3e9fa3=_0x40adb4(_0x10e231,'fitHeightP'+'roportion');_0x40e018['push']({'minWidth':_0x44e72e,'minHeight':_0x5a673c,'maxWidth':_0x117015,'maxHeight':_0x3e9451,'width':_0x4207f5,'height':_0xfdce55,'fitWidthProportion':_0x4ac5ff,'fitHeightProportion':_0x3e9fa3});}return _0x40e018;}function _0x40adb4(_0x139c23,_0x1d28fa){const _0x218d15=_0x139c23['entity']['layoutchil'+'d'];return _0x218d15&&_0x218d15['enabled']&&_0x218d15[_0x1d28fa]!==void(-0x21d8*-0x1+0xea1+-0x3079)&&_0x218d15[_0x1d28fa]!==null?_0x218d15[_0x1d28fa]:_0x139c23[_0x1d28fa]!==void(0x1*-0xfef+0x12f6+0x307*-0x1)?_0x139c23[_0x1d28fa]:VR[_0x1d28fa];}function _0x243072(_0x171c69,_0x503e2f,_0x5ec363){return Math['min'](Math['max'](_0x171c69,_0x503e2f),_0x5ec363);}function _0x5e6c8c(_0x36682f,_0x508642){return _0x36682f['reduce']((_0x3cace5,_0x306b6a)=>_0x3cace5+_0x306b6a[_0x508642],0x2*-0xb88+0x4*-0x233+0x4*0x7f7);}function _0x4f17a0(_0xf371c8,_0x4fcf95){const _0xe9fb28=_0x5e6c8c(_0xf371c8,_0x4fcf95),_0x45853e=[],_0x2f5ccc=_0xf371c8['length'];if(_0xe9fb28===0x1e08+-0x137a+0xc1*-0xe){for(let _0x3c0bc8=-0x76*0x4f+-0x26e1+0x4b4b;_0x3c0bc8<_0x2f5ccc;++_0x3c0bc8)_0x45853e['push']((0x20cc+-0x57e+-0x1b4d)/_0x2f5ccc);}else{for(let _0x18db63=0x42c+-0x1f4d+0x1b21;_0x18db63<_0x2f5ccc;++_0x18db63)_0x45853e['push'](_0xf371c8[_0x18db63][_0x4fcf95]/_0xe9fb28);}return _0x45853e;}function _0x378f50(_0x33aa36){if(_0x33aa36['length']===0xe2+0x1*-0x47a+-0x3*-0x133)return[-0x4a*0x56+-0x445*-0x9+-0xd90];const _0x2f8f4e=[],_0x3f044f=_0x33aa36['length'];for(let _0x1e0556=0x1*-0x24ed+-0x883*0x3+0x3e76;_0x1e0556<_0x3f044f;++_0x1e0556)_0x2f8f4e['push']((-0x412+0x1696+-0x1283-_0x33aa36[_0x1e0556])/(_0x3f044f-(0x9*-0x297+0xa17+-0x1*-0xd39)));return _0x2f8f4e;}function _0x4f2e11(_0x548d0f,_0x3407a8,_0x289e6e){return _0x548d0f['forEach'](_0x2f9f81),_0x548d0f['slice']()['sort']((_0x462567,_0x56e8fd)=>_0x289e6e?_0x56e8fd[_0x3407a8]-_0x462567[_0x3407a8]:_0x462567[_0x3407a8]-_0x56e8fd[_0x3407a8])['map'](_0x43508e);}function _0x2f9f81(_0x21f277,_0x21358e){_0x21f277['index']=_0x21358e;}function _0x43508e(_0x49568f){return _0x49568f['index'];}function _0x2fc34d(_0x5d48da,_0x10ae8d){const _0x19cb29=[];_0x19cb29[_0x10ae8d[_0x5d48da['length']-(0x1ff0+0x1*0x16ca+-0x36b9*0x1)]]=_0x5d48da[_0x10ae8d[_0x5d48da['length']-(0x1610+0x6fb*-0x2+-0x819)]];for(let _0x1deec7=_0x5d48da['length']-(-0x93*0x25+0x2b*-0x75+0x28e8);_0x1deec7>=-0x7a*0x8+0x3d5+-0x5;--_0x1deec7)_0x19cb29[_0x10ae8d[_0x1deec7]]=_0x19cb29[_0x10ae8d[_0x1deec7+(-0x1e05+0x3d*0x53+0xa3f)]]+_0x5d48da[_0x10ae8d[_0x1deec7]];return _0x19cb29;}return _0x516d0e;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0xec4933,_0x19b6a4){const _0x7e7af3=xm[_0x19b6a4['orientatio'+'n']];if(_0x7e7af3)return _0x7e7af3(_0xec4933,_0x19b6a4);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x19b6a4['orientatio'+'n']);}}function Jg(_0xf6c649){return _0xf6c649['element'];}function HR(_0x46bed3){return _0x46bed3['enabled']&&_0x46bed3['element']&&_0x46bed3['element']['enabled'];}class s0 extends we{constructor(_0x4d4e13,_0x106351){super(_0x4d4e13,_0x106351),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x132b*0x1+0x8f*0x7+0xf43)),h(this,'_reverseY',!(0xa61*-0x2+0xc6b*0x3+-0x107f)),h(this,'_alignment',new J(0x660+0x1df*0x1+-0x83f,0xbf*0x23+-0x1da4+0x388)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0xf4b+0x1ba6+-0xc5a)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x217d47=>{this['_listenFor'+'ReflowEven'+'ts'](_0x217d47,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x4d4e13['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x4d4e13['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x4d4e13['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x4d4e13['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x4d4e13['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x4d4e13['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x25b636){_0x25b636!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x25b636,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x46fa08){_0x46fa08!==this['_reverseX']&&(this['_reverseX']=_0x46fa08,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x111681){_0x111681!==this['_reverseY']&&(this['_reverseY']=_0x111681,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x3a82c6){_0x3a82c6['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x3a82c6),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x3c2963){_0x3c2963['equals'](this['_padding'])||(this['_padding']['copy'](_0x3c2963),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x18f430){_0x18f430['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x18f430),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x94c8c7){_0x94c8c7!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x94c8c7,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x2c7eb1){_0x2c7eb1!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x2c7eb1,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x8296e0){_0x8296e0!==this['_wrap']&&(this['_wrap']=_0x8296e0,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x2f278e){return _0x2f278e===this['entity']||this['entity']['children']['indexOf'](_0x2f278e)!==-(0x444*0x8+0x903*0x4+0x30d*-0x17);}['_listenFor'+'ReflowEven'+'ts'](_0x238e48,_0x2dca0e){_0x238e48['element']&&(_0x238e48['element'][_0x2dca0e]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x238e48['element'][_0x2dca0e]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x238e48['element'][_0x2dca0e]('resize',this['_scheduleR'+'eflow'],this),_0x238e48['element'][_0x2dca0e]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x238e48['layoutchil'+'d']&&(_0x238e48['layoutchil'+'d'][_0x2dca0e]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x238e48['layoutchil'+'d'][_0x2dca0e]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x2414b5){this['_isSelfOrC'+'hild'](_0x2414b5)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2414b5,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x5d2b0a){this['_isSelfOrC'+'hild'](_0x5d2b0a)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5d2b0a,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x427b84){this['_listenFor'+'ReflowEven'+'ts'](_0x427b84,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xad9c40){this['_listenFor'+'ReflowEven'+'ts'](_0xad9c40,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x55ba9c=Jg(this['entity']),_0x41c6c=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x55ba9c||_0x41c6c['length']===-0x1f18+-0x897+-0x27af*-0x1)return;const _0x1f4f3a=Math['max'](_0x55ba9c['calculated'+'Width'],-0x41*-0x5e+-0x3e*-0x67+-0x1*0x30d0),_0x3620d9=Math['max'](_0x55ba9c['calculated'+'Height'],-0x21a4+0xbd1+0x15d3),_0x539262={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x1f4f3a,_0x3620d9)};this['_isPerform'+'ingReflow']=!(0x5*-0x3bb+0x246a+-0x11c3);const _0x32dc3a=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x41c6c,_0x539262);this['_isPerform'+'ingReflow']=!(-0x10d0+-0x17e0+0x1*0x28b1),this['fire']('reflow',_0x32dc3a);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0xa9f926=>{this['_listenFor'+'ReflowEven'+'ts'](_0xa9f926,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x472+-0x1*0x182d+0x1*0x13bb);}}const i0=['enabled'],$R=-0x1ffa+-0x6*-0x58a+-0xde;class XR extends ct{constructor(_0x471688){super(_0x471688),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x518ce8,_0x4967ca,_0x7fb6ea){_0x4967ca['enabled']!==void(-0x2581+-0x3*-0xc11+0x14e)&&(_0x518ce8['enabled']=_0x4967ca['enabled']),_0x4967ca['orientatio'+'n']!==void(0x2700+0x188+0x4*-0xa22)&&(_0x518ce8['orientatio'+'n']=_0x4967ca['orientatio'+'n']),_0x4967ca['reverseX']!==void(0x649+-0x1130+0xae7*0x1)&&(_0x518ce8['reverseX']=_0x4967ca['reverseX']),_0x4967ca['reverseY']!==void(0x2169+-0xd72+0x13f7*-0x1)&&(_0x518ce8['reverseY']=_0x4967ca['reverseY']),_0x4967ca['alignment']!==void(-0x21d2+0x10ca+0x1108)&&(_0x518ce8['alignment']=Array['isArray'](_0x4967ca['alignment'])?new J(_0x4967ca['alignment']):_0x4967ca['alignment']),_0x4967ca['padding']!==void(0x25f*-0x5+-0x1fb9+0x2b94)&&(_0x518ce8['padding']=Array['isArray'](_0x4967ca['padding'])?new re(_0x4967ca['padding']):_0x4967ca['padding']),_0x4967ca['spacing']!==void(0x125*0x11+-0x268a+-0x1315*-0x1)&&(_0x518ce8['spacing']=Array['isArray'](_0x4967ca['spacing'])?new J(_0x4967ca['spacing']):_0x4967ca['spacing']),_0x4967ca['widthFitti'+'ng']!==void(0x8a1+0xc7*-0x13+0x4*0x189)&&(_0x518ce8['widthFitti'+'ng']=_0x4967ca['widthFitti'+'ng']),_0x4967ca['heightFitt'+'ing']!==void(0x24bc*-0x1+0x1f20+0x59c)&&(_0x518ce8['heightFitt'+'ing']=_0x4967ca['heightFitt'+'ing']),_0x4967ca['wrap']!==void(-0x1f12*-0x1+-0x8c7+0x1*-0x164b)&&(_0x518ce8['wrap']=_0x4967ca['wrap']),super['initialize'+'ComponentD'+'ata'](_0x518ce8,_0x4967ca,_0x7fb6ea);}['cloneCompo'+'nent'](_0x2aa23d,_0x2e0afb){const _0x1c33e2=_0x2aa23d['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x2e0afb,{'enabled':_0x1c33e2['enabled'],'orientation':_0x1c33e2['orientatio'+'n'],'reverseX':_0x1c33e2['reverseX'],'reverseY':_0x1c33e2['reverseY'],'alignment':_0x1c33e2['alignment'],'padding':_0x1c33e2['padding'],'spacing':_0x1c33e2['spacing'],'widthFitting':_0x1c33e2['widthFitti'+'ng'],'heightFitting':_0x1c33e2['heightFitt'+'ing'],'wrap':_0x1c33e2['wrap']});}['scheduleRe'+'flow'](_0x43f9bd){this['_reflowQue'+'ue']['indexOf'](_0x43f9bd)===-(-0x3*-0xbed+-0x2b*0x61+-0x137b)&&this['_reflowQue'+'ue']['push'](_0x43f9bd);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x6f+0x1*0x10ff+0x8*-0x212)return;let _0x65c00b=-0x3a9*0x7+0x4+0x199b;for(;this['_reflowQue'+'ue']['length']>0x12*0x71+-0x256a+0x8*0x3af;){const _0x33e804=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x1*-0x24eb+-0x5*-0x625+-0x43a4,_0x33e804['sort']((_0x35331c,_0x112534)=>_0x35331c['entity']['graphDepth']-_0x112534['entity']['graphDepth']);for(let _0x2782b4=-0x24b0*-0x1+-0x1d06+-0x7aa;_0x2782b4<_0x33e804['length'];++_0x2782b4)_0x33e804[_0x2782b4]['reflow']();if(++_0x65c00b>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x5320f4,_0x300ff1){_0x300ff1['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x152064){this['map']['forEach'](_0xe8f2eb=>_0xe8f2eb['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x479029,_0x5ad3f6)=>{const _0xbb7ddb=jR['get'](_0x479029,()=>new qR());let _0x311836=_0xbb7ddb['map']['get'](_0x5ad3f6);if(!_0x311836){let _0x66b409,_0x14e376;switch(_0x5ad3f6){case'box':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new mu()),_0x14e376={'x':0x2,'y':0x2,'z':0x2,'uv':(-0xae5+0x51*0x33+-0x53c)/(-0x5*-0x79d+-0x1b32*0x1+-0xadc*0x1)};break;case'capsule':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new GA({'radius':0.5,'height':0x2})),_0x14e376={'x':Math['PI']*(0x25dd*-0x1+0x11c5+0x141a),'y':Math['PI'],'z':Math['PI']*(-0x7a0+-0x2319*0x1+0x2abb),'uv':(-0x8ba+-0x143+0x9fe)/(0x2708+0x222e+-0x4933)+(0x5e5+0x488+-0xa6c)/(-0x1*-0x239+0x45*-0x57+0x1*0x153d)/(0x47b+0x1*-0x878+-0x10*-0x40)*(0x1ce5+0xab1+-0x2794)};break;case'cone':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x14e376={'x':2.54,'y':2.54,'z':2.54,'uv':(0x373*-0x1+-0x2*-0x1ac+0x4*0x7)/(0x116c+0x26eb+-0x3854)+(0x329*0x1+-0x1d46+0x1a1e)/(-0x105*0x6+-0x354*0xb+0x7*0x61b)/(-0xe20+0x2a5+0xb7e)};break;case'cylinder':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new WA({'radius':0.5,'height':0x1})),_0x14e376={'x':Math['PI'],'y':(-0x72*-0x4f+0x1e5a+-0x4188+0.79)*(0x1442+0x1414*-0x1+-0x2c),'z':Math['PI'],'uv':(-0x1b45+-0x2208+0x3d4e)/(0x88d+-0xdf*0x9+-0xb3)+(0x1b33+-0xd05+-0xe2d)/(-0x3d*0x49+-0x2346+-0x34ae*-0x1)/(-0xf72+0x20*0x116+-0x134b)*(0x2*0x59c+-0x4f7*-0x2+-0x1524)};break;case'plane':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new $A({'halfExtents':new J(-0x1*0x164f+-0x2627+0x3c76+0.5,-0x29+0x2399+-0x46e*0x8+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x14e376={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new _m({'radius':0.5})),_0x14e376={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x66b409=Ge['fromGeomet'+'ry'](_0x479029,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x14e376={'x':Math['PI']*(-0x1844+-0x6*-0x6b+0x15c2+0.5)*(-0x4ae*0x1+-0x1891*-0x1+-0x13e3+0.5)-Math['PI']*(-0xa4c+0x86c+0x1e0+0.1)*(-0xfd7+-0x9f3+0x19ca+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x5ad3f6);}_0x66b409['incRefCoun'+'t'](),_0x311836={'mesh':_0x66b409,'area':_0x14e376},_0xbb7ddb['map']['set'](_0x5ad3f6,_0x311836);}return _0x311836;};class Tm extends we{constructor(_0x36b12f,_0xeb7f2e){super(_0x36b12f,_0xeb7f2e),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0xc1e+0x1e55+-0x1*0x2a73)),h(this,'_receiveSh'+'adows',!(0x2*-0xf7a+0xad*0x1a+0xd62)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x1f51+0x1795+0x7bc)),h(this,'_lightmapp'+'ed',!(-0x1*-0x164e+-0x1b55+0x508)),h(this,'_lightmapS'+'izeMultipl'+'ier',0xcf0+-0x71*0x5+-0xaba),h(this,'isStatic',!(-0x1*0x329+-0xcf+0x3f9)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x48*-0x44+0x1b78+-0x23*0x3d)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0xc3*-0x19+0x1*-0x18f1+0x2bfd*0x1)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x36b12f['defaultMat'+'erial'],_0xeb7f2e['on']('remove',this['onRemoveCh'+'ild'],this),_0xeb7f2e['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xeb7f2e['on']('insert',this['onInsertCh'+'ild'],this),_0xeb7f2e['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x1fbf4e){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x1fbf4e);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x2daedb){if(this['_customAab'+'b']=_0x2daedb,this['_model']){const _0x15c1c4=this['_model']['meshInstan'+'ces'];if(_0x15c1c4){for(let _0x18e033=-0xe47+0x1f43+-0x10fc;_0x18e033<_0x15c1c4['length'];_0x18e033++)_0x15c1c4[_0x18e033]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x21a09e){if(this['_type']!==_0x21a09e){if(this['_area']=null,this['_type']=_0x21a09e,_0x21a09e==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x548db5=r0(this['system']['app']['graphicsDe'+'vice'],_0x21a09e);this['_area']=_0x548db5['area'];const _0x424643=_0x548db5['mesh'],_0xfbe537=new Ie(),_0x1e7e78=new sr();_0x1e7e78['graph']=_0xfbe537,_0x1e7e78['meshInstan'+'ces']=[new He(_0x424643,this['_material'],_0xfbe537)],this['model']=_0x1e7e78,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x1ce56c){const _0x223e87=this['system']['app']['assets'];let _0x51a6ae=_0x1ce56c;if(_0x1ce56c instanceof pe&&(_0x51a6ae=_0x1ce56c['id']),this['_asset']!==_0x51a6ae){if(this['_asset']){_0x223e87['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x257526=_0x223e87['get'](this['_asset']);_0x257526&&this['_unbindMod'+'elAsset'](_0x257526);}if(this['_asset']=_0x51a6ae,this['_asset']){const _0x4ae7db=_0x223e87['get'](this['_asset']);_0x4ae7db?this['_bindModel'+'Asset'](_0x4ae7db):(this['model']=null,_0x223e87['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x3d5285){if(this['_model']!==_0x3d5285){if(_0x3d5285&&_0x3d5285['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x1*0x6cf+-0x1d20+-0x47e*-0x8),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1545+0x3*-0x4df+-0x6a7))),this['_model']=_0x3d5285,this['_model']){this['_model']['_immutable']=!(-0x13fd+-0x376*0x1+0x105*0x17);const _0x2086cb=this['_model']['meshInstan'+'ces'];for(let _0x3233d1=-0x1*0xbbf+0x1695+-0xad6;_0x3233d1<_0x2086cb['length'];_0x3233d1++)_0x2086cb[_0x3233d1]['castShadow']=this['_castShado'+'ws'],_0x2086cb[_0x3233d1]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x2086cb[_0x3233d1]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x46f180){if(_0x46f180!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x46f180,this['_model'])){const _0x363e56=this['_model']['meshInstan'+'ces'];for(let _0x2ddcea=-0xb*0x281+-0x2c*0x9d+0x1*0x3687;_0x2ddcea<_0x363e56['length'];_0x2ddcea++)_0x363e56[_0x2ddcea]['setLightma'+'pped'](_0x46f180);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x47b243){if(this['_castShado'+'ws']===_0x47b243)return;const _0x484ade=this['_model'];if(_0x484ade){const _0x114a47=this['layers'],_0x187d24=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x47b243)for(let _0x202fbe=0x17fb+-0x1c7d+0x482;_0x202fbe<_0x114a47['length'];_0x202fbe++){const _0xdb7c56=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x202fbe]);_0xdb7c56&&_0xdb7c56['removeShad'+'owCasters'](_0x484ade['meshInstan'+'ces']);}const _0x3800b9=_0x484ade['meshInstan'+'ces'];for(let _0x582dcd=0x151b*-0x1+0xa21*0x2+0xd9;_0x582dcd<_0x3800b9['length'];_0x582dcd++)_0x3800b9[_0x582dcd]['castShadow']=_0x47b243;if(!this['_castShado'+'ws']&&_0x47b243)for(let _0x816575=-0x1*0x26cb+0x1326+0x13a5;_0x816575<_0x114a47['length'];_0x816575++){const _0x4719a0=_0x187d24['layers']['getLayerBy'+'Id'](_0x114a47[_0x816575]);_0x4719a0&&_0x4719a0['addShadowC'+'asters'](_0x484ade['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x47b243;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4669e8){if(this['_receiveSh'+'adows']!==_0x4669e8&&(this['_receiveSh'+'adows']=_0x4669e8,this['_model'])){const _0x11d824=this['_model']['meshInstan'+'ces'];for(let _0x1746e3=-0x1*0x98b+0x24fa+-0x1b6f,_0x1f449b=_0x11d824['length'];_0x1746e3<_0x1f449b;_0x1746e3++)_0x11d824[_0x1746e3]['receiveSha'+'dow']=_0x4669e8;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x331366){this['_castShado'+'wsLightmap']=_0x331366;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3dc19a){this['_lightmapS'+'izeMultipl'+'ier']=_0x3dc19a;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x675c3b){const _0x91b0a=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0xc8f6c7=-0x19*-0x164+-0x1*-0x617+-0x28db;_0xc8f6c7<this['_layers']['length'];_0xc8f6c7++){const _0x30c5d8=_0x91b0a['getLayerBy'+'Id'](this['_layers'][_0xc8f6c7]);_0x30c5d8&&_0x30c5d8['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0xd*-0x1ed+0x2006+0x21d*-0x1b;for(let _0x583a7d=0x2308+0xb21+-0x2e29;_0x583a7d<_0x675c3b['length'];_0x583a7d++)this['_layers'][_0x583a7d]=_0x675c3b[_0x583a7d];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x3af7a6=0x89*-0x21+-0x12bd+0x2466;_0x3af7a6<this['_layers']['length'];_0x3af7a6++){const _0x4da816=_0x91b0a['getLayerBy'+'Id'](this['_layers'][_0x3af7a6]);_0x4da816&&_0x4da816['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x181fe7){var _0x2ac428,_0x57cf09;this['_batchGrou'+'pId']!==_0x181fe7&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x47d+0x240a+-0x81b*0x5&&((_0x2ac428=this['system']['app']['batcher'])==null||_0x2ac428['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x181fe7>=-0x2240+-0x12*-0x49+0x2*0xe8f&&((_0x57cf09=this['system']['app']['batcher'])==null||_0x57cf09['insert'](St['MODEL'],_0x181fe7,this['entity'])),_0x181fe7<0xecf+-0x1c40+-0x1*-0xd71&&this['_batchGrou'+'pId']>=-0x56*-0x34+0xb*-0x3e+-0xece&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x181fe7);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x119c0d){let _0x48e3b9=_0x119c0d;_0x119c0d instanceof pe&&(_0x48e3b9=_0x119c0d['id']);const _0x47cc35=this['system']['app']['assets'];if(_0x48e3b9!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x47cc35['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0xd9f12b=_0x47cc35['get'](this['_materialA'+'sset']);_0xd9f12b&&this['_unbindMat'+'erialAsset'](_0xd9f12b);}if(this['_materialA'+'sset']=_0x48e3b9,this['_materialA'+'sset']){const _0x5e4f01=_0x47cc35['get'](this['_materialA'+'sset']);_0x5e4f01?this['_bindMater'+'ialAsset'](_0x5e4f01):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x47cc35['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x4f4f95){this['_material']!==_0x4f4f95&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x4f4f95));}get['material'](){return this['_material'];}set['mapping'](_0x428c88){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x428c88||(_0x428c88={}),this['_mapping']=_0x428c88,!this['_model']))return;const _0x187a02=this['_model']['meshInstan'+'ces'],_0x5676b4=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x587707=_0x5676b4?_0x5676b4['data']['mapping']:null;let _0x34beb3=null;for(let _0x57a9f3=0x115+-0x28+-0xed,_0x5b19dd=_0x187a02['length'];_0x57a9f3<_0x5b19dd;_0x57a9f3++)if(_0x428c88[_0x57a9f3]!==void(-0x1d42+0x9f5+0x134d))_0x428c88[_0x57a9f3]?(_0x34beb3=this['system']['app']['assets']['get'](_0x428c88[_0x57a9f3]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x34beb3,_0x187a02[_0x57a9f3],_0x57a9f3)):_0x187a02[_0x57a9f3]['material']=this['system']['defaultMat'+'erial'];else{if(_0x587707){if(_0x587707[_0x57a9f3]&&(_0x587707[_0x57a9f3]['material']||_0x587707[_0x57a9f3]['path'])){if(_0x587707[_0x57a9f3]['material']!==void(0x4*-0x47a+-0x45*-0x45+-0xb1))_0x34beb3=this['system']['app']['assets']['get'](_0x587707[_0x57a9f3]['material']);else{if(_0x587707[_0x57a9f3]['path']!==void(0x11c5*-0x1+-0x1df1+-0x3e*-0xc5)){const _0xafd5f2=this['_getMateri'+'alAssetUrl'](_0x587707[_0x57a9f3]['path']);_0xafd5f2&&(_0x34beb3=this['system']['app']['assets']['getByUrl'](_0xafd5f2));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x34beb3,_0x187a02[_0x57a9f3],_0x57a9f3);}else _0x187a02[_0x57a9f3]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x428bb3=this['system']['app']['scene']['layers'];for(let _0x1da635=-0x65*0x5f+0x14ba+0x10c1;_0x1da635<this['_layers']['length'];_0x1da635++){const _0x37eb17=_0x428bb3['getLayerBy'+'Id'](this['_layers'][_0x1da635]);_0x37eb17&&_0x37eb17['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x453925=this['system']['app']['scene']['layers'];for(let _0x29b6ac=-0x1*-0x3ee+0x19db*0x1+-0x1dc9;_0x29b6ac<this['_layers']['length'];_0x29b6ac++){const _0x2f2efd=_0x453925['getLayerBy'+'Id'](this['_layers'][_0x29b6ac]);_0x2f2efd&&_0x2f2efd['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x58676d,_0x4559a9){this['addModelTo'+'Layers'](),_0x58676d['off']('add',this['onLayerAdd'+'ed'],this),_0x58676d['off']('remove',this['onLayerRem'+'oved'],this),_0x4559a9['on']('add',this['onLayerAdd'+'ed'],this),_0x4559a9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x16f0e8){this['layers']['indexOf'](_0x16f0e8['id'])<-0xac+-0x1*-0x13eb+-0x133f||_0x16f0e8['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x266254){this['layers']['indexOf'](_0x266254['id'])<0x92c*-0x3+-0xe7e*0x1+-0x26*-0x11b||_0x266254['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x68ff5a,_0x225e1a,_0xd4a25d,_0x3f4f8b){const _0x271667=_0x225e1a+':'+_0xd4a25d;this['system']['app']['assets']['on'](_0x271667,_0x3f4f8b,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x68ff5a]||(this['_materialE'+'vents'][_0x68ff5a]={}),this['_materialE'+'vents'][_0x68ff5a][_0x271667]={'id':_0xd4a25d,'handler':_0x3f4f8b};}['_unsetMate'+'rialEvents'](){const _0x44cd8c=this['system']['app']['assets'],_0x1e1aff=this['_materialE'+'vents'];if(_0x1e1aff){for(let _0x1f4d9e=0x1*0xa0f+0x347+-0xd56,_0x3cb974=_0x1e1aff['length'];_0x1f4d9e<_0x3cb974;_0x1f4d9e++){if(!_0x1e1aff[_0x1f4d9e])continue;const _0x3ced7d=_0x1e1aff[_0x1f4d9e];for(const _0x4c4ff0 in _0x3ced7d)_0x44cd8c['off'](_0x4c4ff0,_0x3ced7d[_0x4c4ff0]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x294ac4){let _0x3e0a1a=null;if(!isNaN(parseInt(_0x294ac4,0x1e7e+0x21f5+-0x4069*0x1)))_0x3e0a1a=this['system']['app']['assets']['get'](_0x294ac4);else{if(this['asset']){const _0x2450bb=this['_getMateri'+'alAssetUrl'](_0x294ac4);_0x2450bb&&(_0x3e0a1a=this['system']['app']['assets']['getByUrl'](_0x2450bb));}}return _0x3e0a1a;}['_getMateri'+'alAssetUrl'](_0x3df848){if(!this['asset'])return null;const _0x353b8b=this['system']['app']['assets']['get'](this['asset']);return _0x353b8b?_0x353b8b['getAbsolut'+'eUrl'](_0x3df848):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x220b8c,_0x40d5cf,_0x3b8601){const _0x244af8=this['system']['app']['assets'];_0x220b8c&&(_0x220b8c['resource']?(_0x40d5cf['material']=_0x220b8c['resource'],this['_setMateri'+'alEvent'](_0x3b8601,'remove',_0x220b8c['id'],function(){_0x40d5cf['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x3b8601,'load',_0x220b8c['id'],function(_0x2b770d){_0x40d5cf['material']=_0x2b770d['resource'],this['_setMateri'+'alEvent'](_0x3b8601,'remove',_0x220b8c['id'],function(){_0x40d5cf['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x244af8['load'](_0x220b8c)));}['onEnable'](){var _0x5c858e;const _0x38655c=this['system']['app'],_0x952e99=_0x38655c['scene'],_0x2a5d5f=_0x952e99==null?void(-0x1ee+0x23fc+-0x220e):_0x952e99['layers'];this['_evtLayers'+'Changed']=_0x952e99['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2a5d5f&&(this['_evtLayerA'+'dded']=_0x2a5d5f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2a5d5f['on']('remove',this['onLayerRem'+'oved'],this));const _0xf90431=this['_type']==='asset';let _0x593f85;if(this['_model']?this['addModelTo'+'Layers']():_0xf90431&&this['_asset']&&(_0x593f85=_0x38655c['assets']['get'](this['_asset']),_0x593f85&&_0x593f85['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x593f85)),this['_materialA'+'sset']&&(_0x593f85=_0x38655c['assets']['get'](this['_materialA'+'sset']),_0x593f85&&_0x593f85['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x593f85)),_0xf90431&&this['_mapping']){for(const _0x88a131 in this['_mapping'])this['_mapping'][_0x88a131]&&(_0x593f85=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x88a131]),_0x593f85&&!_0x593f85['resource']&&_0x38655c['assets']['load'](_0x593f85));}this['_batchGrou'+'pId']>=-0x2*0xdf1+0x8fd+0x12e5&&((_0x5c858e=_0x38655c['batcher'])==null||_0x5c858e['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5d68f4,_0x4faad4,_0x194f4d,_0xfced48;const _0x3ed34f=this['system']['app'],_0x2c5b5d=_0x3ed34f['scene']['layers'];(_0x5d68f4=this['_evtLayers'+'Changed'])==null||_0x5d68f4['off'](),this['_evtLayers'+'Changed']=null,_0x2c5b5d&&((_0x4faad4=this['_evtLayerA'+'dded'])==null||_0x4faad4['off'](),this['_evtLayerA'+'dded']=null,(_0x194f4d=this['_evtLayerR'+'emoved'])==null||_0x194f4d['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x2629*0x1+0x1+-0xde*-0x2c&&((_0xfced48=_0x3ed34f['batcher'])==null||_0xfced48['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x4b4f3d=this['_model']['meshInstan'+'ces'];for(let _0x507ac3=-0x128*0xa+0x13a6+-0x816,_0x24b323=_0x4b4f3d['length'];_0x507ac3<_0x24b323;_0x507ac3++)_0x4b4f3d[_0x507ac3]['visible']=!(-0x2e3+-0xd*-0x2ee+-0x2332);}}['show'](){if(this['_model']){const _0x355162=this['_model']['meshInstan'+'ces'];for(let _0x124204=-0xa91+-0x223*-0xa+-0xacd,_0x487c31=_0x355162['length'];_0x124204<_0x487c31;_0x124204++)_0x355162[_0x124204]['visible']=!(0x1*-0x1c1f+0x22a5+-0x5*0x14e);}}['_bindMater'+'ialAsset'](_0x4585c8){if(_0x4585c8['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x4585c8['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4585c8['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4585c8['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x4585c8['resource'])this['_onMateria'+'lAssetLoad'](_0x4585c8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4585c8);}}['_unbindMat'+'erialAsset'](_0x2df600){_0x2df600['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x2df600['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x2df600['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x2df600['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x3ca661){this['system']['app']['assets']['off']('add:'+_0x3ca661['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x3ca661['id']&&this['_bindMater'+'ialAsset'](_0x3ca661);}['_onMateria'+'lAssetLoad'](_0x1ec7cf){this['_setMateri'+'al'](_0x1ec7cf['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x3487fe){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x422d10){this['_onMateria'+'lAssetUnlo'+'ad'](_0x422d10);}['_onMateria'+'lAssetChan'+'ge'](_0x4b6aa2){}['_bindModel'+'Asset'](_0xb2d9f8){if(this['_unbindMod'+'elAsset'](_0xb2d9f8),_0xb2d9f8['on']('load',this['_onModelAs'+'setLoad'],this),_0xb2d9f8['on']('unload',this['_onModelAs'+'setUnload'],this),_0xb2d9f8['on']('change',this['_onModelAs'+'setChange'],this),_0xb2d9f8['on']('remove',this['_onModelAs'+'setRemove'],this),_0xb2d9f8['resource'])this['_onModelAs'+'setLoad'](_0xb2d9f8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xb2d9f8);}}['_unbindMod'+'elAsset'](_0x650fc){_0x650fc['off']('load',this['_onModelAs'+'setLoad'],this),_0x650fc['off']('unload',this['_onModelAs'+'setUnload'],this),_0x650fc['off']('change',this['_onModelAs'+'setChange'],this),_0x650fc['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x2aa71a){this['system']['app']['assets']['off']('add:'+_0x2aa71a['id'],this['_onModelAs'+'setAdded'],this),_0x2aa71a['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x2aa71a);}['_onModelAs'+'setLoad'](_0x259e07){this['model']=_0x259e07['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1d6a+0x65*0x45+0x231);}['_onModelAs'+'setUnload'](_0x5ca1b3){this['model']=null;}['_onModelAs'+'setChange'](_0x5ac70b,_0xc2f301,_0x38d508,_0x4713ce){_0xc2f301==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0xc1eccf){this['model']=null;}['_setMateri'+'al'](_0x1f14c3){if(this['_material']===_0x1f14c3)return;this['_material']=_0x1f14c3;const _0x3cf9c6=this['_model'];if(_0x3cf9c6&&this['_type']!=='asset'){const _0x252c8d=_0x3cf9c6['meshInstan'+'ces'];for(let _0x238a3e=-0x1f05+0x17*0x48+0x188d,_0x2b5eb6=_0x252c8d['length'];_0x238a3e<_0x2b5eb6;_0x238a3e++)_0x252c8d[_0x238a3e]['material']=_0x1f14c3;}}}class YR{constructor(){this['enabled']=!(0x10df+-0x26f*-0xe+-0x32f1);}}const a0=['enabled'];class KR extends ct{constructor(_0x2f8ab0){super(_0x2f8ab0),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x2f8ab0['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x52833e,_0x271277,_0x1e5e2c){_0x1e5e2c=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x271277['batchGroup'+'Id']===null||_0x271277['batchGroup'+'Id']===void(0x722*0x1+0x8bd+-0xfdf*0x1))&&(_0x271277['batchGroup'+'Id']=-(-0x1578+-0x215+0x178e)),_0x271277['layers']&&_0x271277['layers']['length']&&(_0x271277['layers']=_0x271277['layers']['slice'](-0x27*0x75+0x1328*0x1+-0x155));for(let _0x38cc3d=-0xdcd*0x1+-0x1b10+0x28dd;_0x38cc3d<_0x1e5e2c['length'];_0x38cc3d++)_0x271277['hasOwnProp'+'erty'](_0x1e5e2c[_0x38cc3d])&&(_0x52833e[_0x1e5e2c[_0x38cc3d]]=_0x271277[_0x1e5e2c[_0x38cc3d]]);_0x271277['aabbCenter']&&_0x271277['aabbHalfEx'+'tents']&&(_0x52833e['customAabb']=new De(new D(_0x271277['aabbCenter']),new D(_0x271277['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x52833e,_0x271277,['enabled']);}['cloneCompo'+'nent'](_0x339b9e,_0x49045a){const _0x51ef19={'type':_0x339b9e['model']['type'],'asset':_0x339b9e['model']['asset'],'castShadows':_0x339b9e['model']['castShadow'+'s'],'receiveShadows':_0x339b9e['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x339b9e['model']['castShadow'+'sLightmap'],'lightmapped':_0x339b9e['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x339b9e['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x339b9e['model']['isStatic'],'enabled':_0x339b9e['model']['enabled'],'layers':_0x339b9e['model']['layers'],'batchGroupId':_0x339b9e['model']['batchGroup'+'Id'],'mapping':ah({},_0x339b9e['model']['mapping'])};let _0x5e21c3=_0x339b9e['model']['materialAs'+'set'];!(_0x5e21c3 instanceof pe)&&_0x5e21c3!=null&&(_0x5e21c3=this['app']['assets']['get'](_0x5e21c3));const _0x214f42=_0x339b9e['model']['material'];(!_0x214f42||_0x214f42===this['defaultMat'+'erial']||!_0x5e21c3||_0x214f42===_0x5e21c3['resource'])&&(_0x51ef19['materialAs'+'set']=_0x5e21c3);const _0x3d0fc7=this['addCompone'+'nt'](_0x49045a,_0x51ef19);if(_0x339b9e['model']['model']&&_0x339b9e['model']['type']==='asset'&&!_0x339b9e['model']['asset']&&(_0x3d0fc7['model']=_0x339b9e['model']['model']['clone'](),_0x3d0fc7['_clonedMod'+'el']=!(-0xa36+-0x47d+0xeb3)),_0x51ef19['materialAs'+'set']||(_0x3d0fc7['material']=_0x214f42),_0x339b9e['model']['model']){const _0x20c991=_0x339b9e['model']['model']['meshInstan'+'ces'],_0x1c047e=_0x3d0fc7['model']['meshInstan'+'ces'];for(let _0x14444f=0x459+0x1da*0xb+-0x18b7;_0x14444f<_0x20c991['length'];_0x14444f++)_0x1c047e[_0x14444f]['mask']=_0x20c991[_0x14444f]['mask'],_0x1c047e[_0x14444f]['material']=_0x20c991[_0x14444f]['material'],_0x1c047e[_0x14444f]['layer']=_0x20c991[_0x14444f]['layer'],_0x1c047e[_0x14444f]['receiveSha'+'dow']=_0x20c991[_0x14444f]['receiveSha'+'dow'];}return _0x339b9e['model']['customAabb']&&(_0x3d0fc7['customAabb']=_0x339b9e['model']['customAabb']['clone']()),_0x3d0fc7;}['onRemove'](_0xb9c14a,_0x436409){_0x436409['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0xebbc07,_0x4581c9){super(_0xebbc07,_0x4581c9),h(this,'_requested'+'Depth',!(0x1*-0x1e53+0x1*-0x2299+0x40ed)),h(this,'_drawOrder',-0x1*-0xe68+0xb31+-0x1999),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x3e804e=>{this['on']('set_'+_0x3e804e,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x312105=>{this['on']('set_'+_0x312105,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x75e356=>{this['on']('set_'+_0x75e356,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x335e15=this['system']['store'][this['entity']['getGuid']()];return _0x335e15?_0x335e15['data']:null;}set['enabled'](_0x5bbd4c){this['_setValue']('enabled',_0x5bbd4c);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2eaf9a){this['_setValue']('autoPlay',_0x2eaf9a);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x428ad6){this['_setValue']('numParticl'+'es',_0x428ad6);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0xdc046){this['_setValue']('lifetime',_0xdc046);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x3444de){this['_setValue']('rate',_0x3444de);}get['rate'](){return this['data']['rate'];}set['rate2'](_0xc75d5){this['_setValue']('rate2',_0xc75d5);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x10dbb8){this['_setValue']('startAngle',_0x10dbb8);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x37796b){this['_setValue']('startAngle'+'2',_0x37796b);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x106d03){this['_setValue']('loop',_0x106d03);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x4b3c4c){this['_setValue']('preWarm',_0x4b3c4c);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0xd49f7){this['_setValue']('lighting',_0xd49f7);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x2cf495){this['_setValue']('halfLamber'+'t',_0x2cf495);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x27f83a){this['_setValue']('intensity',_0x27f83a);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x3cac7a){this['_setValue']('depthWrite',_0x3cac7a);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x5b3d68){this['_setValue']('noFog',_0x5b3d68);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x2922a7){this['_setValue']('depthSofte'+'ning',_0x2922a7);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x283050){this['_setValue']('sort',_0x283050);}get['sort'](){return this['data']['sort'];}set['blendType'](_0xf460fe){this['_setValue']('blendType',_0xf460fe);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x1ad1ec){this['_setValue']('stretch',_0x1ad1ec);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x2c4b45){this['_setValue']('alignToMot'+'ion',_0x2c4b45);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x1f4dd4){this['_setValue']('emitterSha'+'pe',_0x1f4dd4);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x3bbd6e){this['_setValue']('emitterExt'+'ents',_0x3bbd6e);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x2b7342){this['_setValue']('emitterExt'+'entsInner',_0x2b7342);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x862ea2){this['_setValue']('emitterRad'+'ius',_0x862ea2);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x41059f){this['_setValue']('emitterRad'+'iusInner',_0x41059f);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x5e37a2){this['_setValue']('initialVel'+'ocity',_0x5e37a2);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x49658b){this['_setValue']('wrap',_0x49658b);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x5a2103){this['_setValue']('wrapBounds',_0x5a2103);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x32033e){this['_setValue']('localSpace',_0x32033e);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0xe2e3e2){this['_setValue']('screenSpac'+'e',_0xe2e3e2);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x26fabb){this['_setValue']('colorMapAs'+'set',_0x26fabb);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x29b666){this['_setValue']('normalMapA'+'sset',_0x29b666);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x4165db){this['_setValue']('mesh',_0x4165db);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x980036){this['_setValue']('meshAsset',_0x980036);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x4d8f60){this['_setValue']('renderAsse'+'t',_0x4d8f60);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x10efb0){this['_setValue']('orientatio'+'n',_0x10efb0);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x4ee474){this['_setValue']('particleNo'+'rmal',_0x4ee474);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x21c866){this['_setValue']('localVeloc'+'ityGraph',_0x21c866);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x40c792){this['_setValue']('localVeloc'+'ityGraph2',_0x40c792);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0xa8918c){this['_setValue']('velocityGr'+'aph',_0xa8918c);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x5bc12c){this['_setValue']('velocityGr'+'aph2',_0x5bc12c);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x46e493){this['_setValue']('rotationSp'+'eedGraph',_0x46e493);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x522dc8){this['_setValue']('rotationSp'+'eedGraph2',_0x522dc8);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x360bdd){this['_setValue']('radialSpee'+'dGraph',_0x360bdd);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x404a58){this['_setValue']('radialSpee'+'dGraph2',_0x404a58);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x29238c){this['_setValue']('scaleGraph',_0x29238c);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x158b33){this['_setValue']('scaleGraph'+'2',_0x158b33);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x16ba83){this['_setValue']('colorGraph',_0x16ba83);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x52c6ba){this['_setValue']('colorGraph'+'2',_0x52c6ba);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x5cb6ab){this['_setValue']('alphaGraph',_0x5cb6ab);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x41c209){this['_setValue']('alphaGraph'+'2',_0x41c209);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x43cf85){this['_setValue']('colorMap',_0x43cf85);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x2e607b){this['_setValue']('normalMap',_0x2e607b);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0xc22b64){this['_setValue']('animTilesX',_0xc22b64);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x4d8950){this['_setValue']('animTilesY',_0x4d8950);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x14cb90){this['_setValue']('animStartF'+'rame',_0x14cb90);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x1df0ac){this['_setValue']('animNumFra'+'mes',_0x1df0ac);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x2476af){this['_setValue']('animNumAni'+'mations',_0x2476af);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x3b7a44){this['_setValue']('animIndex',_0x3b7a44);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x1a0e7e){this['_setValue']('randomizeA'+'nimIndex',_0x1a0e7e);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x3714c1){this['_setValue']('animSpeed',_0x3714c1);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x52ecb6){this['_setValue']('animLoop',_0x52ecb6);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5e3994){this['_setValue']('layers',_0x5e3994);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x3e9e9b){this['_drawOrder']=_0x3e9e9b,this['emitter']&&(this['emitter']['drawOrder']=_0x3e9e9b);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x3c19c0,_0x2638ca){const _0x49efc2=this['data'],_0xb810ea=_0x49efc2[_0x3c19c0];_0x49efc2[_0x3c19c0]=_0x2638ca,this['fire']('set',_0x3c19c0,_0xb810ea,_0x2638ca);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x40ebdc=-0x78e*-0x4+-0x262f+0x7f7;_0x40ebdc<this['layers']['length'];_0x40ebdc++){const _0x29bdb6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x40ebdc]);_0x29bdb6&&(_0x29bdb6['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x29bdb6);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x4c38ef=-0x1*-0x127+-0x221f+0x20f8;_0x4c38ef<this['layers']['length'];_0x4c38ef++){const _0x22aaca=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4c38ef]);_0x22aaca&&_0x22aaca['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x3cc142,_0x21d4de,_0x38175a){if(this['emitter']){for(let _0x363310=-0x1*-0x223b+-0x16c+0x20cf*-0x1;_0x363310<_0x21d4de['length'];_0x363310++){const _0xfb0ce=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x21d4de[_0x363310]);_0xfb0ce&&_0xfb0ce['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x5cef9e=0x8cc*-0x1+-0x1*-0x107d+-0x7b1;_0x5cef9e<_0x38175a['length'];_0x5cef9e++){const _0x6494d3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x38175a[_0x5cef9e]);_0x6494d3&&_0x6494d3['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x154513,_0xd64a35){this['addMeshIns'+'tanceToLay'+'ers'](),_0x154513['off']('add',this['onLayerAdd'+'ed'],this),_0x154513['off']('remove',this['onLayerRem'+'oved'],this),_0xd64a35['on']('add',this['onLayerAdd'+'ed'],this),_0xd64a35['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x49b6c5){!this['emitter']||this['layers']['indexOf'](_0x49b6c5['id'])<0x1705+-0x5*0x16f+-0xfda||_0x49b6c5['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x45d062){!this['emitter']||this['layers']['indexOf'](_0x45d062['id'])<0x9db+-0x1ba*0x2+-0x667||_0x45d062['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x218946){if(_0x218946['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x218946['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x218946['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x218946['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x218946['resource'])this['_onColorMa'+'pAssetLoad'](_0x218946);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x218946);}}['_unbindCol'+'orMapAsset'](_0x2c2cd9){_0x2c2cd9['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x2c2cd9['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x2c2cd9['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x2c2cd9['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3fe8ea){this['colorMap']=_0x3fe8ea['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x39ee56){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x6b6bf2){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x6b6bf2);}['_onColorMa'+'pAssetChan'+'ge'](_0x3094d9){}['onSetColor'+'MapAsset'](_0x13e906,_0x3ce967,_0x5222eb){const _0x5d42ed=this['system']['app']['assets'];if(_0x3ce967){const _0x3b6b52=_0x5d42ed['get'](_0x3ce967);_0x3b6b52&&this['_unbindCol'+'orMapAsset'](_0x3b6b52);}if(_0x5222eb){_0x5222eb instanceof pe&&(this['data']['colorMapAs'+'set']=_0x5222eb['id'],_0x5222eb=_0x5222eb['id']);const _0x456689=_0x5d42ed['get'](_0x5222eb);_0x456689?this['_bindColor'+'MapAsset'](_0x456689):_0x5d42ed['once']('add:'+_0x5222eb,_0x69b7c4=>{this['_bindColor'+'MapAsset'](_0x69b7c4);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x322c20){if(_0x322c20['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x322c20['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x322c20['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x322c20['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x322c20['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x322c20);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x322c20);}}['_unbindNor'+'malMapAsse'+'t'](_0x8dd3d6){_0x8dd3d6['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x8dd3d6['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x8dd3d6['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x8dd3d6['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x39a5a0){this['normalMap']=_0x39a5a0['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x33ff4d){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x1b9d53){this['_onNormalM'+'apAssetUnl'+'oad'](_0x1b9d53);}['_onNormalM'+'apAssetCha'+'nge'](_0x773833){}['onSetNorma'+'lMapAsset'](_0x450297,_0x557c81,_0x45fb9a){const _0x4c3cf3=this['system']['app']['assets'];if(_0x557c81){const _0x301733=_0x4c3cf3['get'](_0x557c81);_0x301733&&this['_unbindNor'+'malMapAsse'+'t'](_0x301733);}if(_0x45fb9a){_0x45fb9a instanceof pe&&(this['data']['normalMapA'+'sset']=_0x45fb9a['id'],_0x45fb9a=_0x45fb9a['id']);const _0x1ea79f=_0x4c3cf3['get'](_0x45fb9a);_0x1ea79f?this['_bindNorma'+'lMapAsset'](_0x1ea79f):_0x4c3cf3['once']('add:'+_0x45fb9a,_0x4ec7e5=>{this['_bindNorma'+'lMapAsset'](_0x4ec7e5);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x1fcd79){if(_0x1fcd79['on']('load',this['_onMeshAss'+'etLoad'],this),_0x1fcd79['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x1fcd79['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x1fcd79['on']('change',this['_onMeshAss'+'etChange'],this),_0x1fcd79['resource'])this['_onMeshAss'+'etLoad'](_0x1fcd79);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1fcd79);}}['_unbindMes'+'hAsset'](_0x2b3de2){_0x2b3de2['off']('load',this['_onMeshAss'+'etLoad'],this),_0x2b3de2['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x2b3de2['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x2b3de2['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x112247){this['_onMeshCha'+'nged'](_0x112247['resource']);}['_onMeshAss'+'etUnload'](_0x14a905){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x3bb0f1){this['_onMeshAss'+'etUnload'](_0x3bb0f1);}['_onMeshAss'+'etChange'](_0x4df602){}['onSetMeshA'+'sset'](_0xf1de23,_0xab9905,_0x386ef0){const _0x5bbb69=this['system']['app']['assets'];if(_0xab9905){const _0x32b759=_0x5bbb69['get'](_0xab9905);_0x32b759&&this['_unbindMes'+'hAsset'](_0x32b759);}if(_0x386ef0){_0x386ef0 instanceof pe&&(this['data']['meshAsset']=_0x386ef0['id'],_0x386ef0=_0x386ef0['id']);const _0x5b12e4=_0x5bbb69['get'](_0x386ef0);_0x5b12e4&&this['_bindMeshA'+'sset'](_0x5b12e4);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x199e66,_0x3b6923,_0x58fdd7){!_0x58fdd7||_0x58fdd7 instanceof pe||typeof _0x58fdd7=='number'?this['meshAsset']=_0x58fdd7:this['_onMeshCha'+'nged'](_0x58fdd7);}['_onMeshCha'+'nged'](_0x3fe395){_0x3fe395&&!(_0x3fe395 instanceof Ge)&&(_0x3fe395['meshInstan'+'ces'][-0x1d88+0x5*-0x382+0x2f12]?_0x3fe395=_0x3fe395['meshInstan'+'ces'][0x49*-0x76+0x1*0x513+0x5f*0x4d]['mesh']:_0x3fe395=null),this['data']['mesh']=_0x3fe395,this['emitter']&&(this['emitter']['mesh']=_0x3fe395,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x2044e2,_0xb62039,_0x186847){const _0x1c6ede=this['system']['app']['assets'];if(_0xb62039){const _0x299131=_0x1c6ede['get'](_0xb62039);_0x299131&&this['_unbindRen'+'derAsset'](_0x299131);}if(_0x186847){_0x186847 instanceof pe&&(this['data']['renderAsse'+'t']=_0x186847['id'],_0x186847=_0x186847['id']);const _0x5b2ffc=_0x1c6ede['get'](_0x186847);_0x5b2ffc&&this['_bindRende'+'rAsset'](_0x5b2ffc);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x245525){if(_0x245525['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x245525['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x245525['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x245525['resource'])this['_onRenderA'+'ssetLoad'](_0x245525);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x245525);}}['_unbindRen'+'derAsset'](_0x2553dd){var _0x956e87;_0x2553dd['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x2553dd['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2553dd['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x956e87=this['_evtSetMes'+'hes'])==null||_0x956e87['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x56f48e){this['_onRenderC'+'hanged'](_0x56f48e['resource']);}['_onRenderA'+'ssetUnload'](_0x422d03){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x34ecee){this['_onRenderA'+'ssetUnload'](_0x34ecee);}['_onRenderC'+'hanged'](_0x539f79){var _0x237115;if(!_0x539f79){this['_onMeshCha'+'nged'](null);return;}(_0x237115=this['_evtSetMes'+'hes'])==null||_0x237115['off'](),this['_evtSetMes'+'hes']=_0x539f79['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x539f79['meshes']&&this['_onRenderS'+'etMeshes'](_0x539f79['meshes']);}['_onRenderS'+'etMeshes'](_0x55579d){this['_onMeshCha'+'nged'](_0x55579d&&_0x55579d[-0x1*-0x613+0xbc4+-0x1*0x11d7]);}['onSetLoop'](_0x2a426f,_0x5b44e3,_0x33b744){this['emitter']&&(this['emitter'][_0x2a426f]=_0x33b744,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x14175c,_0x7d00e7,_0x4a458d){this['emitter']&&(this['emitter'][_0x14175c]=_0x4a458d,this['emitter']['material']['blendType']=_0x4a458d,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0xad3+0x1f26+-0x29f9)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0xed*-0xb+-0x86*-0x35+0x652*-0x6));}['onSetDepth'+'Softening'](_0x1feb1d,_0x49006a,_0x5c6976){_0x49006a!==_0x5c6976&&(_0x5c6976?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1feb1d]=_0x5c6976)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1feb1d]=_0x5c6976)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0xbdbe23,_0x5bbb65,_0x5b04c6){this['emitter']&&(this['emitter'][_0xbdbe23]=_0x5b04c6,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x4845df,_0x5344b9,_0x58de41){this['emitter']&&(this['emitter'][_0x4845df]=_0x58de41,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x517d83,_0x215ce2,_0x2216ec){this['emitter']&&(this['emitter'][_0x517d83]=_0x2216ec,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x255681=this['system']['app']['scene'],_0x1e26cd=_0x255681['layers'],_0x2743d5=this['data'];for(let _0x56ba69=-0xfbf*0x1+0x95f+-0xcc*-0x8,_0x1bc1d1=Cc['length'];_0x56ba69<_0x1bc1d1;_0x56ba69++){let _0x3a426f=_0x2743d5[Cc[_0x56ba69]];if(_0x3a426f){if(!(_0x3a426f instanceof pe)){if(parseInt(_0x3a426f,0x1*0x2155+0x8*-0x492+0x345)>=0x14ef+0x3ea+-0x1*0x18d9)_0x3a426f=this['system']['app']['assets']['get'](_0x3a426f);else continue;}_0x3a426f&&!_0x3a426f['resource']&&this['system']['app']['assets']['load'](_0x3a426f);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x298acc=_0x2743d5['mesh'];_0x298acc instanceof Ge||(_0x298acc=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2743d5['numParticl'+'es'],'emitterExtents':_0x2743d5['emitterExt'+'ents'],'emitterExtentsInner':_0x2743d5['emitterExt'+'entsInner'],'emitterRadius':_0x2743d5['emitterRad'+'ius'],'emitterRadiusInner':_0x2743d5['emitterRad'+'iusInner'],'emitterShape':_0x2743d5['emitterSha'+'pe'],'initialVelocity':_0x2743d5['initialVel'+'ocity'],'wrap':_0x2743d5['wrap'],'localSpace':_0x2743d5['localSpace'],'screenSpace':_0x2743d5['screenSpac'+'e'],'wrapBounds':_0x2743d5['wrapBounds'],'lifetime':_0x2743d5['lifetime'],'rate':_0x2743d5['rate'],'rate2':_0x2743d5['rate2'],'orientation':_0x2743d5['orientatio'+'n'],'particleNormal':_0x2743d5['particleNo'+'rmal'],'animTilesX':_0x2743d5['animTilesX'],'animTilesY':_0x2743d5['animTilesY'],'animStartFrame':_0x2743d5['animStartF'+'rame'],'animNumFrames':_0x2743d5['animNumFra'+'mes'],'animNumAnimations':_0x2743d5['animNumAni'+'mations'],'animIndex':_0x2743d5['animIndex'],'randomizeAnimIndex':_0x2743d5['randomizeA'+'nimIndex'],'animSpeed':_0x2743d5['animSpeed'],'animLoop':_0x2743d5['animLoop'],'startAngle':_0x2743d5['startAngle'],'startAngle2':_0x2743d5['startAngle'+'2'],'scaleGraph':_0x2743d5['scaleGraph'],'scaleGraph2':_0x2743d5['scaleGraph'+'2'],'colorGraph':_0x2743d5['colorGraph'],'colorGraph2':_0x2743d5['colorGraph'+'2'],'alphaGraph':_0x2743d5['alphaGraph'],'alphaGraph2':_0x2743d5['alphaGraph'+'2'],'localVelocityGraph':_0x2743d5['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2743d5['localVeloc'+'ityGraph2'],'velocityGraph':_0x2743d5['velocityGr'+'aph'],'velocityGraph2':_0x2743d5['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2743d5['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2743d5['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2743d5['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2743d5['radialSpee'+'dGraph2'],'colorMap':_0x2743d5['colorMap'],'normalMap':_0x2743d5['normalMap'],'loop':_0x2743d5['loop'],'preWarm':_0x2743d5['preWarm'],'sort':_0x2743d5['sort'],'stretch':_0x2743d5['stretch'],'alignToMotion':_0x2743d5['alignToMot'+'ion'],'lighting':_0x2743d5['lighting'],'halfLambert':_0x2743d5['halfLamber'+'t'],'intensity':_0x2743d5['intensity'],'depthSoftening':_0x2743d5['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x298acc,'depthWrite':_0x2743d5['depthWrite'],'noFog':_0x2743d5['noFog'],'node':this['entity'],'blendType':_0x2743d5['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2743d5['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x26ae+-0x8*-0x420+0x5af));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x255681['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1e26cd&&(this['_evtLayerA'+'dded']=_0x1e26cd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1e26cd['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2743d5['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x3efc9b,_0x29acc8,_0x86e410;const _0x385df1=this['system']['app']['scene']['layers'];(_0x3efc9b=this['_evtLayers'+'Changed'])==null||_0x3efc9b['off'](),this['_evtLayers'+'Changed']=null,_0x385df1&&((_0x29acc8=this['_evtLayerA'+'dded'])==null||_0x29acc8['off'](),this['_evtLayerA'+'dded']=null,(_0x86e410=this['_evtLayerR'+'emoved'])==null||_0x86e410['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x630*-0x3+0xef*0x2+-0x146d)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x1f1960=0xb47*-0x2+-0x175a+0x2de8;_0x1f1960<Cc['length'];_0x1f1960++){const _0x427171=Cc[_0x1f1960];this['data'][_0x427171]&&(this[_0x427171]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x277*0x8+0x2b*0xd3+-0xfb8),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x149*0x1d+-0x50b*-0x6+0x703,!(-0x209d+0x1ad1+0x5cc)));}['pause'](){this['data']['paused']=!(0x694*-0x5+-0x151f+0x3603);}['unpause'](){this['data']['paused']=!(0x8*0x39e+0x5bd+-0x22ac);}['play'](){this['data']['paused']=!(-0x1d01+-0x1e6e+0x3b70),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x2259+0x16*0x123+0xbdf*-0x5),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0xd8e+-0x1d5a+0xfcd):this['emitter']&&this['emitter']['loop']?!(0x17f3+0x922+-0x2115):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1bc82c}=this;_0x1bc82c&&!_0x1bc82c['inTools']&&(_0x1bc82c['inTools']=!(0x63*-0x37+0x4*-0x7c1+0x3449),this['rebuild']());}['rebuild'](){const _0x473bfd=this['enabled'];this['enabled']=!(-0x1557+-0x1190*0x2+0x3878),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x473bfd;}}class t3{constructor(){this['numParticl'+'es']=-0xd*-0xc1+-0x1ceb+0x1*0x131f,this['rate']=-0x2*-0x3df+0xc99+0x1456*-0x1,this['rate2']=null,this['startAngle']=-0x10*-0x205+0xbf7+-0x5*0x8db,this['startAngle'+'2']=null,this['lifetime']=-0x6d5+-0xa21+-0x48*-0x3d,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0xc7b+0x16ad+-0x3e8*0x9,this['emitterRad'+'iusInner']=0x529*0x3+-0x1*-0x10f4+-0x206f,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0xfe0+0x52*0x13+-0x3*0x752,this['wrap']=!(-0x1809+0x17a0+0x6a),this['wrapBounds']=new D(),this['localSpace']=!(0xdd4+-0x23ba+0x9*0x26f),this['screenSpac'+'e']=!(-0xb9*-0x5+0x5*-0x304+0xb78),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1*-0xf1+-0x27e+0x36f),this['preWarm']=!(0x1cd5+0x13e4+0x30b8*-0x1),this['sort']=-0x25f5+-0x503*0x5+-0x25*-0x1b4,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x1*0xccd+0x19ab+-0x1*0xcdd),this['halfLamber'+'t']=!(0x1*-0x1026+0x2001+0xfda*-0x1),this['intensity']=-0x235e+0x1*-0xa5+0x39a*0xa,this['stretch']=-0x102*0x25+0x25ba+-0x70,this['alignToMot'+'ion']=!(0x918+0xe13+0x2*-0xb95),this['depthSofte'+'ning']=0x2511+-0x25b*-0x6+-0x303*0x11,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x2*-0x311+-0x1e98+0x24bb),this['noFog']=!(-0x34f*0x7+0xeea*-0x1+0x2614),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x1250+0x204b+0x4a9*-0x3,-0x2*-0x7fa+0x9f+-0x1092,0x1*0x2105+-0x97*0x1+-0x206e),this['animTilesX']=0x1c1+-0x29*-0x3d+-0x1*0xb85,this['animTilesY']=0x1c6a+0x73*-0x48+-0x3ef*-0x1,this['animStartF'+'rame']=-0x2646+0x20d0+0x2bb*0x2,this['animNumFra'+'mes']=-0x21ff+-0xe39+0x1013*0x3,this['animNumAni'+'mations']=-0x1f1d+0x52b+0x19f3,this['animIndex']=0xf02+-0x8d*-0x6+0x10*-0x125,this['randomizeA'+'nimIndex']=!(-0x1a46+0x2c*-0x6a+0x2c7f),this['animSpeed']=0x56*-0x4b+-0xbae+-0x419*-0x9,this['animLoop']=!(0xcb*0x4+0x1e2e+-0x215a),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x1e16+-0x7*-0x423+0x1*-0x3b0b),this['paused']=!(0xf43+0x303*0x7+-0x2457),this['autoPlay']=!(-0x1907+0x1e3d+-0x536),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x30af9e){super(_0x30af9e),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x30af9e['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x30af9e['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x114912,_0x56df95,_0x158243){const _0x3f92b4={};_0x158243=[];const _0x5d6277=this['propertyTy'+'pes'];(_0x56df95['mesh']instanceof pe||typeof _0x56df95['mesh']=='number')&&(_0x56df95['meshAsset']=_0x56df95['mesh'],delete _0x56df95['mesh']);for(const _0x584711 in _0x56df95){if(_0x56df95['hasOwnProp'+'erty'](_0x584711)&&(_0x158243['push'](_0x584711),_0x3f92b4[_0x584711]=_0x56df95[_0x584711]),_0x5d6277[_0x584711]==='vec3')Array['isArray'](_0x3f92b4[_0x584711])&&(_0x3f92b4[_0x584711]=new D(_0x3f92b4[_0x584711][0x1*-0x87b+-0x1*-0x1879+-0xffe],_0x3f92b4[_0x584711][0x14ae+0x25*0xc6+-0x314b],_0x3f92b4[_0x584711][0x8*0x25f+-0x1151*0x1+0x1a5*-0x1]));else{if(_0x5d6277[_0x584711]==='curve'){if(!(_0x3f92b4[_0x584711]instanceof qs)){const _0x27132f=_0x3f92b4[_0x584711]['type'];_0x3f92b4[_0x584711]=new qs(_0x3f92b4[_0x584711]['keys']),_0x3f92b4[_0x584711]['type']=_0x27132f;}}else{if(_0x5d6277[_0x584711]==='curveset'&&!(_0x3f92b4[_0x584711]instanceof na)){const _0x428927=_0x3f92b4[_0x584711]['type'];_0x3f92b4[_0x584711]=new na(_0x3f92b4[_0x584711]['keys']),_0x3f92b4[_0x584711]['type']=_0x428927;}}}_0x3f92b4['layers']&&Array['isArray'](_0x3f92b4['layers'])&&(_0x3f92b4['layers']=_0x3f92b4['layers']['slice'](-0x11*0x8e+0x4*0x3d7+-0x21*0x2e));}super['initialize'+'ComponentD'+'ata'](_0x114912,_0x3f92b4,_0x158243);}['cloneCompo'+'nent'](_0x3b3fca,_0x13f1e5){const _0x21220c=_0x3b3fca['particlesy'+'stem']['data'],_0x48c81c=this['schema'],_0x16bff4={};for(let _0x1726c9=0x99a*-0x1+-0x23d4+0x2d6e,_0x97b614=_0x48c81c['length'];_0x1726c9<_0x97b614;_0x1726c9++){const _0x5de92e=_0x48c81c[_0x1726c9];let _0x429514=_0x21220c[_0x5de92e];_0x429514 instanceof D||_0x429514 instanceof qs||_0x429514 instanceof na?(_0x429514=_0x429514['clone'](),_0x16bff4[_0x5de92e]=_0x429514):_0x5de92e==='layers'?_0x16bff4['layers']=_0x21220c['layers']['slice'](0x1*0x206f+0x3ad+-0x1*0x241c):_0x429514!=null&&(_0x16bff4[_0x5de92e]=_0x429514);}return this['addCompone'+'nt'](_0x13f1e5,_0x16bff4);}['onUpdate'](_0xc37c32){const _0x114dd7=this['store'],_0x151bed=this['app']['stats']['particles'],_0x1a7234=this['app']['scene']['layers'];for(let _0x4d1376=0x1705+-0x9ef*-0x3+-0x34d2;_0x4d1376<_0x1a7234['layerList']['length'];_0x4d1376++)_0x1a7234['layerList'][_0x4d1376]['requiresLi'+'ghtCube']=!(0x139f+-0x1cb8*0x1+0x91a);for(const _0x108c73 in _0x114dd7)if(_0x114dd7['hasOwnProp'+'erty'](_0x108c73)){const _0x5639a4=_0x114dd7[_0x108c73],_0x185a26=_0x5639a4['entity'],_0x2df55b=_0x5639a4['data'];if(_0x2df55b['enabled']&&_0x185a26['enabled']){const _0x53897f=_0x185a26['particlesy'+'stem']['emitter'];if(!(_0x53897f!=null&&_0x53897f['meshInstan'+'ce']['visible']))continue;if(_0x53897f['lighting']){const _0x232078=_0x2df55b['layers'];for(let _0x9e052=0x2*-0xbe4+-0xd*-0x109+0xa53;_0x9e052<_0x232078['length'];_0x9e052++){const _0xa917d7=_0x1a7234['getLayerBy'+'Id'](_0x232078[_0x9e052]);_0xa917d7&&(_0xa917d7['requiresLi'+'ghtCube']=!(-0xe98+-0x1ab*0x16+0x1f9*0x1a));}}if(!_0x2df55b['paused']){let _0x5e4eb6=0x255*-0x1+-0x2665+0x28ba;if(_0x53897f['simTime']+=_0xc37c32,_0x53897f['simTime']>=_0x53897f['fixedTimeS'+'tep']&&(_0x5e4eb6=Math['floor'](_0x53897f['simTime']/_0x53897f['fixedTimeS'+'tep']),_0x53897f['simTime']-=_0x5e4eb6*_0x53897f['fixedTimeS'+'tep']),_0x5e4eb6){_0x5e4eb6=Math['min'](_0x5e4eb6,_0x53897f['maxSubStep'+'s']);for(let _0x193d36=0x1651*0x1+0x4a5*0x5+0x6*-0x797;_0x193d36<_0x5e4eb6;_0x193d36++)_0x53897f['addTime'](_0x53897f['fixedTimeS'+'tep'],!(0x27b*-0x6+0x26d*0xd+-0x10a6));_0x151bed['_updatesPe'+'rFrame']+=_0x5e4eb6,_0x151bed['_frameTime']+=_0x53897f['_addTimeTi'+'me'],_0x53897f['_addTimeTi'+'me']=-0x248f+-0x14cd+0x395c;}_0x53897f['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x592fd7,_0x236ba2){_0x236ba2['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x56dede,_0x5e2b1f){super(),this['skin']=_0x56dede,this['skinInstan'+'ce']=_0x5e2b1f;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x4b2eed,_0xb4b69f)=>{console['log'](_0xb4b69f['name']+':\x20Array('+_0x4b2eed['length']+')');for(let _0x1825f5=0x1*0x6f5+-0x106*0x5+-0x1d7;_0x1825f5<_0x4b2eed['length'];_0x1825f5++)console['log']('\x20\x20'+_0x1825f5+(':\x20RefCount'+'\x20')+_0x4b2eed[_0x1825f5]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x2ed79c,_0x463019,_0x418cce){let _0x1eef05=Gs['getCachedS'+'kinInstanc'+'e'](_0x2ed79c,_0x463019);return _0x1eef05||(_0x1eef05=new Ol(_0x2ed79c),_0x1eef05['resolve'](_0x463019,_0x418cce),Gs['addCachedS'+'kinInstanc'+'e'](_0x2ed79c,_0x463019,_0x1eef05)),_0x1eef05;}static['getCachedS'+'kinInstanc'+'e'](_0x24e06f,_0x638120){let _0x4e5310=null;const _0x4077d4=Gs['_skinInsta'+'nceCache']['get'](_0x638120);if(_0x4077d4){const _0x5b2091=_0x4077d4['find'](_0x3d8240=>_0x3d8240['skin']===_0x24e06f);_0x5b2091&&(_0x5b2091['incRefCoun'+'t'](),_0x4e5310=_0x5b2091['skinInstan'+'ce']);}return _0x4e5310;}static['addCachedS'+'kinInstanc'+'e'](_0x49e8e6,_0x3fea31,_0x5c4e5d){let _0x139f5d=Gs['_skinInsta'+'nceCache']['get'](_0x3fea31);_0x139f5d||(_0x139f5d=[],Gs['_skinInsta'+'nceCache']['set'](_0x3fea31,_0x139f5d));let _0x5aea14=_0x139f5d['find'](_0xa168a2=>_0xa168a2['skin']===_0x49e8e6);_0x5aea14||(_0x5aea14=new UO(_0x49e8e6,_0x5c4e5d),_0x139f5d['push'](_0x5aea14)),_0x5aea14['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x5295b3){if(_0x5295b3){const _0xacb013=_0x5295b3['rootBone'];if(_0xacb013){const _0xed1bd8=Gs['_skinInsta'+'nceCache']['get'](_0xacb013);if(_0xed1bd8){const _0x56bce8=_0xed1bd8['findIndex'](_0x23cd73=>_0x23cd73['skinInstan'+'ce']===_0x5295b3);if(_0x56bce8>=0x5b*-0x4d+-0x270f+0x426e){const _0x4a3b44=_0xed1bd8[_0x56bce8];_0x4a3b44['decRefCoun'+'t'](),_0x4a3b44['refCount']===-0x2669+0x21dc+0x48d&&(_0xed1bd8['splice'](_0x56bce8,0x2a6*0xa+-0x1*0x243e+0x9c3),_0xed1bd8['length']||Gs['_skinInsta'+'nceCache']['delete'](_0xacb013),_0x5295b3&&(_0x5295b3['destroy'](),_0x4a3b44['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x3d0b70,_0x3ed16f,_0x1be7ad,_0x233ccf,_0xefd7d1){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x3d0b70,this['parent']=_0x3ed16f,this['_scope']=_0xefd7d1,this['_registry']=_0x1be7ad,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x233ccf['load'],this['_onAssetAd'+'d']=_0x233ccf['add'],this['_onAssetRe'+'move']=_0x233ccf['remove'],this['_onAssetUn'+'load']=_0x233ccf['unload']);}set['id'](_0x23d4e1){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x23d4e1,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x520e0b){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x520e0b,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x58b1e0,_0x27c358,_0x335d82,_0xf9511a,_0x5ba37b,_0x56909b,_0x5a1207;this['id']&&((_0x58b1e0=this['_evtLoadBy'+'Id'])==null||_0x58b1e0['off'](),this['_evtLoadBy'+'Id']=null,(_0x27c358=this['_evtAddByI'+'d'])==null||_0x27c358['off'](),this['_evtAddByI'+'d']=null,(_0x335d82=this['_evtRemove'+'ById'])==null||_0x335d82['off'](),this['_evtRemove'+'ById']=null,(_0xf9511a=this['_evtUnload'+'ById'])==null||_0xf9511a['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x5ba37b=this['_evtLoadBy'+'Url'])==null||_0x5ba37b['off'](),this['_evtLoadBy'+'Url']=null,(_0x56909b=this['_evtAddByU'+'rl'])==null||_0x56909b['off'](),this['_evtAddByU'+'rl']=null,(_0x5a1207=this['_evtRemove'+'ByUrl'])==null||_0x5a1207['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1a42aa){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1a42aa);}['_onAdd'](_0x3ab5ff){this['asset']=_0x3ab5ff,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3ab5ff);}['_onRemove'](_0x354168){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x354168),this['asset']=null;}['_onUnload'](_0x33cb0a){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x33cb0a);}}class n0 extends we{constructor(_0x40dc94,_0x343449){super(_0x40dc94,_0x343449),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(-0x2325+-0x1*-0x6a1+0x5b4*0x5)),h(this,'_receiveSh'+'adows',!(0x25f*-0x10+-0x2222+0x4812)),h(this,'_castShado'+'wsLightmap',!(0x1ff7+-0x2*-0xccf+-0x1*0x3995)),h(this,'_lightmapp'+'ed',!(-0x268a+0x481*0x8+0x283)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x6bf+-0x1*-0x45d+-0xb1b*0x1),h(this,'isStatic',!(0x1ca5+0x23e+-0x1ee2)),h(this,'_batchGrou'+'pId',-(0xe64+0x24a2+0x25*-0x161)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x40dc94['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x40dc94['defaultMat'+'erial'],_0x343449['on']('remove',this['onRemoveCh'+'ild'],this),_0x343449['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x343449['on']('insert',this['onInsertCh'+'ild'],this),_0x343449['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x56a8f2){this['_renderSty'+'le']!==_0x56a8f2&&(this['_renderSty'+'le']=_0x56a8f2,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x56a8f2));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x3ac28a){this['_customAab'+'b']=_0x3ac28a;const _0x4081df=this['_meshInsta'+'nces'];if(_0x4081df){for(let _0x4d59e8=-0x7ea*-0x3+0x19b*0xe+-0xcc*0x3a;_0x4d59e8<_0x4081df['length'];_0x4d59e8++)_0x4081df[_0x4d59e8]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x254242){if(this['_type']!==_0x254242&&(this['_area']=null,this['_type']=_0x254242,this['destroyMes'+'hInstances'](),_0x254242!=='asset')){let _0x3d7176=this['_material'];(!_0x3d7176||_0x3d7176===this['system']['defaultMat'+'erial'])&&(_0x3d7176=this['_materialR'+'eferences'][0x1814+0x1d8f+-0x255*0x17]&&this['_materialR'+'eferences'][-0x349*-0x4+0x1*0x9b6+0x1*-0x16da]['asset']&&this['_materialR'+'eferences'][-0xe5e+-0x20b*0x4+0x168a]['asset']['resource']);const _0x2070ce=r0(this['system']['app']['graphicsDe'+'vice'],_0x254242);this['_area']=_0x2070ce['area'],this['meshInstan'+'ces']=[new He(_0x2070ce['mesh'],_0x3d7176||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x57efd9){if(w['assert'](Array['isArray'](_0x57efd9),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x57efd9,this['_meshInsta'+'nces']){const _0x9148c7=this['_meshInsta'+'nces'];for(let _0x164cfa=-0x1832+-0x1b83*-0x1+0x3*-0x11b;_0x164cfa<_0x9148c7['length'];_0x164cfa++)_0x9148c7[_0x164cfa]['node']||(_0x9148c7[_0x164cfa]['node']=this['entity']),_0x9148c7[_0x164cfa]['castShadow']=this['_castShado'+'ws'],_0x9148c7[_0x164cfa]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x9148c7[_0x164cfa]['renderStyl'+'e']=this['_renderSty'+'le'],_0x9148c7[_0x164cfa]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x9148c7[_0x164cfa]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x2817cb){if(_0x2817cb!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x2817cb;const _0x55e6c2=this['_meshInsta'+'nces'];if(_0x55e6c2){for(let _0x34df4d=0x24f7+-0x4da*0x1+-0x1*0x201d;_0x34df4d<_0x55e6c2['length'];_0x34df4d++)_0x55e6c2[_0x34df4d]['setLightma'+'pped'](_0x2817cb);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x40cfd3){if(this['_castShado'+'ws']!==_0x40cfd3){const _0x4dd015=this['_meshInsta'+'nces'];if(_0x4dd015){const _0x654e72=this['layers'],_0x4e9433=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x40cfd3)for(let _0x580dc3=0x19cd+-0xa*-0x26a+0x5*-0x9fd;_0x580dc3<_0x654e72['length'];_0x580dc3++){const _0x54dc03=_0x4e9433['layers']['getLayerBy'+'Id'](this['layers'][_0x580dc3]);_0x54dc03&&_0x54dc03['removeShad'+'owCasters'](_0x4dd015);}for(let _0x349277=-0x19*0x76+0x1*-0xee3+0x1a69;_0x349277<_0x4dd015['length'];_0x349277++)_0x4dd015[_0x349277]['castShadow']=_0x40cfd3;if(!this['_castShado'+'ws']&&_0x40cfd3)for(let _0x11230c=0xd81+-0x1*0x7ed+-0x1dc*0x3;_0x11230c<_0x654e72['length'];_0x11230c++){const _0x193ffd=_0x4e9433['layers']['getLayerBy'+'Id'](_0x654e72[_0x11230c]);_0x193ffd&&_0x193ffd['addShadowC'+'asters'](_0x4dd015);}}this['_castShado'+'ws']=_0x40cfd3;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x5e3e33){if(this['_receiveSh'+'adows']!==_0x5e3e33){this['_receiveSh'+'adows']=_0x5e3e33;const _0x51bf34=this['_meshInsta'+'nces'];if(_0x51bf34){for(let _0x58c792=0x6*0x169+-0xac5+0x24f;_0x58c792<_0x51bf34['length'];_0x58c792++)_0x51bf34[_0x58c792]['receiveSha'+'dow']=_0x5e3e33;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xc03288){this['_castShado'+'wsLightmap']=_0xc03288;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x523c27){this['_lightmapS'+'izeMultipl'+'ier']=_0x523c27;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2da36b){const _0x2752ce=this['system']['app']['scene']['layers'];let _0x930fc5;if(this['_meshInsta'+'nces']){for(let _0x421a07=-0xe0d+-0x2157+-0x151*-0x24;_0x421a07<this['_layers']['length'];_0x421a07++)_0x930fc5=_0x2752ce['getLayerBy'+'Id'](this['_layers'][_0x421a07]),_0x930fc5&&_0x930fc5['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x2*-0x1329+0x3*0x5df+-0x13*-0x117;for(let _0x458634=0x33f+0x15c4+-0x1*0x1903;_0x458634<_0x2da36b['length'];_0x458634++)this['_layers'][_0x458634]=_0x2da36b[_0x458634];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5d1f5f=0x4a0+0x1281*0x2+-0x92*0x49;_0x5d1f5f<this['_layers']['length'];_0x5d1f5f++)_0x930fc5=_0x2752ce['getLayerBy'+'Id'](this['_layers'][_0x5d1f5f]),_0x930fc5&&_0x930fc5['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x18d7d9){var _0x1c3dc8,_0xef4491;this['_batchGrou'+'pId']!==_0x18d7d9&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1a2a+-0x1651+-0x3d9&&((_0x1c3dc8=this['system']['app']['batcher'])==null||_0x1c3dc8['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x18d7d9>=-0x22ec+0x12c+0x21c0&&((_0xef4491=this['system']['app']['batcher'])==null||_0xef4491['insert'](St['RENDER'],_0x18d7d9,this['entity'])),_0x18d7d9<-0x15ce+-0x1ab9+0x3087&&this['_batchGrou'+'pId']>=-0x16e5*0x1+0xae+0xb*0x205&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x18d7d9);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x202b15){if(this['_material']!==_0x202b15&&(this['_material']=_0x202b15,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x403864=0x123c+-0x14ad+0x271;_0x403864<this['_meshInsta'+'nces']['length'];_0x403864++)this['_meshInsta'+'nces'][_0x403864]['material']=_0x202b15;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0xee4a3c=[]){if(this['_materialR'+'eferences']['length']>_0xee4a3c['length']){for(let _0x6514f=_0xee4a3c['length'];_0x6514f<this['_materialR'+'eferences']['length'];_0x6514f++)this['_materialR'+'eferences'][_0x6514f]['id']=null;this['_materialR'+'eferences']['length']=_0xee4a3c['length'];}for(let _0xc8cf41=-0x22e4+0x931+-0x891*-0x3;_0xc8cf41<_0xee4a3c['length'];_0xc8cf41++)if(this['_materialR'+'eferences'][_0xc8cf41]||this['_materialR'+'eferences']['push'](new gl(_0xc8cf41,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0xee4a3c[_0xc8cf41]){const _0x5e422b=_0xee4a3c[_0xc8cf41]instanceof pe?_0xee4a3c[_0xc8cf41]['id']:_0xee4a3c[_0xc8cf41];this['_materialR'+'eferences'][_0xc8cf41]['id']!==_0x5e422b&&(this['_materialR'+'eferences'][_0xc8cf41]['id']=_0x5e422b),this['_materialR'+'eferences'][_0xc8cf41]['asset']&&this['_onMateria'+'lAdded'](_0xc8cf41,this,this['_materialR'+'eferences'][_0xc8cf41]['asset']);}else this['_materialR'+'eferences'][_0xc8cf41]['id']=null,this['_meshInsta'+'nces'][_0xc8cf41]&&(this['_meshInsta'+'nces'][_0xc8cf41]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x25c8b2=>_0x25c8b2['id']);}set['asset'](_0xe03cf1){const _0x300c11=_0xe03cf1 instanceof pe?_0xe03cf1['id']:_0xe03cf1;this['_assetRefe'+'rence']['id']!==_0x300c11&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x300c11,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0xba4c9c){const _0x2eea8d=_0xba4c9c instanceof pe?_0xba4c9c['id']:_0xba4c9c;this['_assetRefe'+'rence']['id']=_0x2eea8d;}set['rootBone'](_0x441300){if(this['_rootBone']!==_0x441300){const _0x1a34cc=typeof _0x441300=='string';if(this['_rootBone']&&_0x1a34cc&&this['_rootBone']['getGuid']()===_0x441300)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x441300 instanceof Ie?this['_rootBone']=_0x441300:_0x1a34cc?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x441300)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x12eaf9=this['_meshInsta'+'nces'];if(_0x12eaf9){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x40c771=0x9*-0x433+0x2c*0x7+0x2497;_0x40c771<_0x12eaf9['length'];_0x40c771++)_0x12eaf9[_0x40c771]['destroy']();this['_meshInsta'+'nces']['length']=-0x41*-0x4+0x157f*0x1+-0x1683;}}['addToLayer'+'s'](){const _0x13070b=this['system']['app']['scene']['layers'];for(let _0x5cfcbb=0xce*0xe+-0x164a+0xb06;_0x5cfcbb<this['_layers']['length'];_0x5cfcbb++){const _0x13ba83=_0x13070b['getLayerBy'+'Id'](this['_layers'][_0x5cfcbb]);_0x13ba83&&_0x13ba83['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xe09a42=this['system']['app']['scene']['layers'];for(let _0x40b865=-0x4*-0x166+0x1*0x38a+-0x922;_0x40b865<this['_layers']['length'];_0x40b865++){const _0x23d587=_0xe09a42['getLayerBy'+'Id'](this['_layers'][_0x40b865]);_0x23d587&&_0x23d587['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x5249b8=0x16ba+-0xc9c+-0xa1e;_0x5249b8<this['_materialR'+'eferences']['length'];_0x5249b8++)this['_materialR'+'eferences'][_0x5249b8]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x958183,_0x4f3286){this['addToLayer'+'s'](),_0x958183['off']('add',this['onLayerAdd'+'ed'],this),_0x958183['off']('remove',this['onLayerRem'+'oved'],this),_0x4f3286['on']('add',this['onLayerAdd'+'ed'],this),_0x4f3286['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2228fa){this['layers']['indexOf'](_0x2228fa['id'])<-0x2+0x55*-0x32+0x109c||_0x2228fa['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x57181a){this['layers']['indexOf'](_0x57181a['id'])<0x1a71+0xe7e+-0x1*0x28ef||_0x57181a['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0xe556dc;const _0x1b6f93=this['system']['app'],_0x494cf7=_0x1b6f93['scene'],_0x3a38c3=_0x494cf7['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x494cf7['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3a38c3&&(this['_evtLayerA'+'dded']=_0x3a38c3['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3a38c3['on']('remove',this['onLayerRem'+'oved'],this));const _0x183979=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x183979&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x909703=0x563+-0x1fd*-0xa+-0x1945;_0x909703<this['_materialR'+'eferences']['length'];_0x909703++)this['_materialR'+'eferences'][_0x909703]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x909703]['asset']);this['_batchGrou'+'pId']>=-0x11f*-0x1+-0x425+0x306&&((_0xe556dc=_0x1b6f93['batcher'])==null||_0xe556dc['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x1fef47,_0x3b29cd,_0x7932a0,_0x2d8cc2;const _0x1a1cec=this['system']['app'],_0x4f76ad=_0x1a1cec['scene']['layers'];(_0x1fef47=this['_evtLayers'+'Changed'])==null||_0x1fef47['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x4f76ad&&((_0x3b29cd=this['_evtLayerA'+'dded'])==null||_0x3b29cd['off'](),this['_evtLayerA'+'dded']=null,(_0x7932a0=this['_evtLayerR'+'emoved'])==null||_0x7932a0['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xe65+0x1ac9+-0xd*0xf4&&((_0x2d8cc2=_0x1a1cec['batcher'])==null||_0x2d8cc2['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x3b6099=-0x1*0x1c4c+0x12f7*0x1+0x955;_0x3b6099<this['_meshInsta'+'nces']['length'];_0x3b6099++)this['_meshInsta'+'nces'][_0x3b6099]['visible']=!(-0x14bd+-0x725+0x1*0x1be3);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x71c984=-0x1*0x919+0x11a5+0x446*-0x2;_0x71c984<this['_meshInsta'+'nces']['length'];_0x71c984++)this['_meshInsta'+'nces'][_0x71c984]['visible']=!(0x1e02*0x1+0x43*0x81+-0x1*0x3fc5);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x5e1ac7;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x131370=this['_assetRefe'+'rence']['asset']['resource'];(_0x5e1ac7=this['_evtSetMes'+'hes'])==null||_0x5e1ac7['off'](),this['_evtSetMes'+'hes']=_0x131370['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x131370['meshes']&&this['_onSetMesh'+'es'](_0x131370['meshes']);}}['_onSetMesh'+'es'](_0x57f532){this['_cloneMesh'+'es'](_0x57f532);}['_clearSkin'+'Instances'](){for(let _0x215258=-0x1fa3+-0x14d2+0x3475;_0x215258<this['_meshInsta'+'nces']['length'];_0x215258++){const _0xdef2b=this['_meshInsta'+'nces'][_0x215258];_l['removeCach'+'edSkinInst'+'ance'](_0xdef2b['skinInstan'+'ce']),_0xdef2b['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x116c9b=-0x2*0x521+0x1712+-0xcd0;_0x116c9b<this['_meshInsta'+'nces']['length'];_0x116c9b++){const _0x262004=this['_meshInsta'+'nces'][_0x116c9b],_0x1b4c94=_0x262004['mesh'];_0x1b4c94['skin']&&!_0x262004['skinInstan'+'ce']&&(_0x262004['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1b4c94['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x51690a){if(_0x51690a&&_0x51690a['length']){const _0x98d928=[];for(let _0x5d6df2=-0xd9b+0x20f4+0xd*-0x17d;_0x5d6df2<_0x51690a['length'];_0x5d6df2++){const _0x7e9f44=_0x51690a[_0x5d6df2],_0x1fa151=this['_materialR'+'eferences'][_0x5d6df2]&&this['_materialR'+'eferences'][_0x5d6df2]['asset']&&this['_materialR'+'eferences'][_0x5d6df2]['asset']['resource'],_0x5dcee9=new He(_0x7e9f44,_0x1fa151||this['system']['defaultMat'+'erial'],this['entity']);_0x98d928['push'](_0x5dcee9),_0x7e9f44['morph']&&(_0x5dcee9['morphInsta'+'nce']=new xa(_0x7e9f44['morph']));}this['meshInstan'+'ces']=_0x98d928,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x5175de;(_0x5175de=this['_evtSetMes'+'hes'])==null||_0x5175de['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x1f5eff,_0x33f031,_0x53310b){_0x53310b['resource']?this['_onMateria'+'lLoad'](_0x1f5eff,_0x33f031,_0x53310b):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x53310b);}['_updateMai'+'nMaterial'](_0x19517e,_0x5c7d9c){_0x19517e===-0x5b9+-0x4*0xfd+0x9ad&&(this['material']=_0x5c7d9c);}['_onMateria'+'lLoad'](_0x3c61e5,_0x51ac11,_0x69c685){this['_meshInsta'+'nces'][_0x3c61e5]&&(this['_meshInsta'+'nces'][_0x3c61e5]['material']=_0x69c685['resource']),this['_updateMai'+'nMaterial'](_0x3c61e5,_0x69c685['resource']);}['_onMateria'+'lRemove'](_0x4f67e4,_0x42af05,_0x2cdc6f){this['_meshInsta'+'nces'][_0x4f67e4]&&(this['_meshInsta'+'nces'][_0x4f67e4]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4f67e4,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x321157,_0x521655,_0x182362){this['_meshInsta'+'nces'][_0x321157]&&(this['_meshInsta'+'nces'][_0x321157]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x321157,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x12c029,_0x442103){_0x12c029['rootBone']&&(this['rootBone']=_0x442103[_0x12c029['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x12*0x1a8+0x34c*-0x5+-0xd54);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x51d945){super(_0x51d945),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x51d945['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3c3322,_0x38d53a,_0x5cc8f3){(_0x38d53a['batchGroup'+'Id']===null||_0x38d53a['batchGroup'+'Id']===void(0x20e2+-0x1ad*0x17+0x5a9))&&(_0x38d53a['batchGroup'+'Id']=-(-0xc83*0x1+0xa4b*-0x1+0x1*0x16cf)),_0x38d53a['layers']&&_0x38d53a['layers']['length']&&(_0x38d53a['layers']=_0x38d53a['layers']['slice'](0xe*-0x242+0x2a0+0x46*0x6a));for(let _0x30eb69=0x1e27+0x18b6+-0x36dd;_0x30eb69<Gr['length'];_0x30eb69++)_0x38d53a['hasOwnProp'+'erty'](Gr[_0x30eb69])&&(_0x3c3322[Gr[_0x30eb69]]=_0x38d53a[Gr[_0x30eb69]]);_0x38d53a['aabbCenter']&&_0x38d53a['aabbHalfEx'+'tents']&&(_0x3c3322['customAabb']=new De(new D(_0x38d53a['aabbCenter']),new D(_0x38d53a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3c3322,_0x38d53a,ku);}['cloneCompo'+'nent'](_0x344c0c,_0x95c610){const _0x722cdb={};for(let _0x39bfe9=-0x1c*-0x70+0x47*0x3d+-0x1d2b;_0x39bfe9<Gr['length'];_0x39bfe9++)_0x722cdb[Gr[_0x39bfe9]]=_0x344c0c['render'][Gr[_0x39bfe9]];_0x722cdb['enabled']=_0x344c0c['render']['enabled'],delete _0x722cdb['meshInstan'+'ces'];const _0x1fa9fe=this['addCompone'+'nt'](_0x95c610,_0x722cdb),_0x4b131f=_0x344c0c['render']['meshInstan'+'ces'],_0x6134e2=_0x4b131f['map'](_0x47a8bc=>_0x47a8bc['mesh']);_0x1fa9fe['_onSetMesh'+'es'](_0x6134e2);for(let _0x5cb4df=0x1*-0x9a9+-0x79d+-0x1*-0x1146;_0x5cb4df<_0x4b131f['length'];_0x5cb4df++)_0x1fa9fe['meshInstan'+'ces'][_0x5cb4df]['material']=_0x4b131f[_0x5cb4df]['material'];return _0x344c0c['render']['customAabb']&&(_0x1fa9fe['customAabb']=_0x344c0c['render']['customAabb']['clone']()),_0x1fa9fe;}['onRemove'](_0x444b47,_0x381680){_0x381680['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x197fed,_0x1f5cb6){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0x6b*0x4a+0x16a1*0x1+0x11*0x7d),(this['_construct'+'or']=_0x197fed,this['_resize'](_0x1f5cb6));}['_resize'](_0x40a50d){if(_0x40a50d>this['_pool']['length']){for(let _0x374d62=this['_pool']['length'];_0x374d62<_0x40a50d;_0x374d62++)this['_pool'][_0x374d62]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0xeba+-0x135d+0x2219)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x76*0x21+-0xb3b+-0x3fb;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x15c5*-0x1+-0x11a5+-0x60*0xb),h(this,'_angularFa'+'ctor',new D(-0xe*0x21e+0x1e42+-0x1*0x9d,-0x1*-0x2395+-0x243f+-0x13*-0x9,-0x63+0x2569+-0x2505)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x1*0xf64+-0xc*-0x1b0+-0x2*0x26e+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0x52a*0x4+-0x1*-0x241d+-0x38c5),h(this,'_linearFac'+'tor',new D(-0x3c+-0x1*-0x207e+-0x2041*0x1,0x1373+-0x894+0xd6*-0xd,0x1*0x18e9+-0x25*-0x57+0x5f*-0x65)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x2*-0x83f+0x16e5+-0x2762),h(this,'_restituti'+'on',0x279*-0x7+0x115+-0x1*-0x103a),h(this,'_rollingFr'+'iction',0x6f0+-0x459*-0x1+-0xb49),h(this,'_simulatio'+'nEnabled',!(0x740+0x25ee*0x1+-0x9*0x505)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x5837f5){this['_angularDa'+'mping']!==_0x5837f5&&(this['_angularDa'+'mping']=_0x5837f5,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x5837f5));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x18df3d){this['_angularFa'+'ctor']['equals'](_0x18df3d)||(this['_angularFa'+'ctor']['copy'](_0x18df3d),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x18df3d['x'],_0x18df3d['y'],_0x18df3d['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0xb442c){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0xb442c['x'],_0xb442c['y'],_0xb442c['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0xb442c));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x49e5cd=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x49e5cd['x'](),_0x49e5cd['y'](),_0x49e5cd['z']());}return this['_angularVe'+'locity'];}set['body'](_0x1bdf55){this['_body']!==_0x1bdf55&&(this['_body']=_0x1bdf55,_0x1bdf55&&this['_simulatio'+'nEnabled']&&_0x1bdf55['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5a8156){this['_friction']!==_0x5a8156&&(this['_friction']=_0x5a8156,this['_body']&&this['_body']['setFrictio'+'n'](_0x5a8156));}get['friction'](){return this['_friction'];}set['group'](_0x500731){this['_group']!==_0x500731&&(this['_group']=_0x500731,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x24234c){this['_linearDam'+'ping']!==_0x24234c&&(this['_linearDam'+'ping']=_0x24234c,this['_body']&&this['_body']['setDamping'](_0x24234c,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2024ef){this['_linearFac'+'tor']['equals'](_0x2024ef)||(this['_linearFac'+'tor']['copy'](_0x2024ef),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x2024ef['x'],_0x2024ef['y'],_0x2024ef['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x11d3be){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x11d3be['x'],_0x11d3be['y'],_0x11d3be['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x11d3be));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x39ebe3=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x39ebe3['x'](),_0x39ebe3['y'](),_0x39ebe3['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x270525){this['_mask']!==_0x270525&&(this['_mask']=_0x270525,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x24e8af){if(this['_mass']!==_0x24e8af&&(this['_mass']=_0x24e8af,this['_body']&&this['_type']===ks)){const _0x11c42c=this['enabled']&&this['entity']['enabled'];_0x11c42c&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x24e8af,Re),this['_body']['setMassPro'+'ps'](_0x24e8af,Re),this['_body']['updateIner'+'tiaTensor'](),_0x11c42c&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x57dddf){this['_restituti'+'on']!==_0x57dddf&&(this['_restituti'+'on']=_0x57dddf,this['_body']&&this['_body']['setRestitu'+'tion'](_0x57dddf));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x4ca7d7){this['_rollingFr'+'iction']!==_0x4ca7d7&&(this['_rollingFr'+'iction']=_0x4ca7d7,this['_body']&&this['_body']['setRolling'+'Friction'](_0x4ca7d7));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x4d5363){if(this['_type']!==_0x4d5363){switch(this['_type']=_0x4d5363,this['disableSim'+'ulation'](),_0x4d5363){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x565caf=this['entity'];let _0x33fe96;if(_0x565caf['collision']&&(_0x33fe96=_0x565caf['collision']['shape'],_0x565caf['trigger']&&(_0x565caf['trigger']['destroy'](),delete _0x565caf['trigger'])),_0x33fe96){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x744406=this['_type']===ks?this['_mass']:0xddc+0x2411*0x1+-0x31ed;this['_getEntity'+'Transform'](cs);const _0x2dea37=this['system']['createBody'](_0x744406,_0x33fe96,cs);if(_0x2dea37['setRestitu'+'tion'](this['_restituti'+'on']),_0x2dea37['setFrictio'+'n'](this['_friction']),_0x2dea37['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x2dea37['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x45cfb3=this['_linearFac'+'tor'];Re['setValue'](_0x45cfb3['x'],_0x45cfb3['y'],_0x45cfb3['z']),_0x2dea37['setLinearF'+'actor'](Re);const _0x945678=this['_angularFa'+'ctor'];Re['setValue'](_0x945678['x'],_0x945678['y'],_0x945678['z']),_0x2dea37['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x2dea37['setCollisi'+'onFlags'](_0x2dea37['getCollisi'+'onFlags']()|qL),_0x2dea37['setActivat'+'ionState'](Vg));_0x2dea37['entity']=_0x565caf,this['body']=_0x2dea37,this['enabled']&&_0x565caf['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x949*0x1+0x1f3a+-0x68*0x36);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x378fee=this['entity'];if(_0x378fee['collision']&&_0x378fee['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3434e7=this['_body'];if(_0x3434e7){switch(this['system']['addBody'](_0x3434e7,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x3434e7['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x3434e7['forceActiv'+'ationState'](Vg);break;case yo:_0x3434e7['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x378fee['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x378fee['collision']),_0x3434e7['activate'](),this['_simulatio'+'nEnabled']=!(0x18f6+0x109c*-0x1+-0x85a);}}}['disableSim'+'ulation'](){const _0xbf436d=this['_body'];if(_0xbf436d&&this['_simulatio'+'nEnabled']){const _0x49c81e=this['system'];let _0x162873=_0x49c81e['_compounds']['indexOf'](this['entity']['collision']);_0x162873>-(-0x789*0x5+0x1*0x10ea+-0x3*-0x6ec)&&_0x49c81e['_compounds']['splice'](_0x162873,-0x14fa+-0x1d62*0x1+0x325d),_0x162873=_0x49c81e['_dynamic']['indexOf'](this),_0x162873>-(-0x53e+0x25ff*-0x1+0x10e*0x29)&&_0x49c81e['_dynamic']['splice'](_0x162873,-0xe0*-0x2+0x1df8+-0x1fb7),_0x162873=_0x49c81e['_kinematic']['indexOf'](this),_0x162873>-(0x7*-0x30d+0x1*-0x3b4+0x1910)&&_0x49c81e['_kinematic']['splice'](_0x162873,-0x327+-0x20cf+-0x1*-0x23f7),_0x49c81e['removeBody'](_0xbf436d),_0xbf436d['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x1770+0x1a3*-0x1+-0x3*-0x85c);}}['applyForce'](_0x2777b2,_0x33c9c,_0x219caf,_0x24ef29,_0x25e9ed,_0x2f53a2){const _0xcb4c2d=this['_body'];_0xcb4c2d&&(_0xcb4c2d['activate'](),_0x2777b2 instanceof D?Re['setValue'](_0x2777b2['x'],_0x2777b2['y'],_0x2777b2['z']):Re['setValue'](_0x2777b2,_0x33c9c,_0x219caf),_0x33c9c instanceof D?Bs['setValue'](_0x33c9c['x'],_0x33c9c['y'],_0x33c9c['z']):_0x24ef29!==void(0xb90+0x1*0x2611+-0x31a1)?Bs['setValue'](_0x24ef29,_0x25e9ed,_0x2f53a2):Bs['setValue'](-0x2336+-0x15df*0x1+0x3915,0x23cb+-0x1*-0x1db9+-0x4184,-0x17a0+0x1fcd+0x1*-0x82d),_0xcb4c2d['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x35c88d,_0x44f647,_0x23b7a9){const _0x3820d3=this['_body'];_0x3820d3&&(_0x3820d3['activate'](),_0x35c88d instanceof D?Re['setValue'](_0x35c88d['x'],_0x35c88d['y'],_0x35c88d['z']):Re['setValue'](_0x35c88d,_0x44f647,_0x23b7a9),_0x3820d3['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x20e0ee,_0x8bf1cc,_0x46fe27,_0x1794d7,_0x22e65e,_0x949fbd){const _0x510c3a=this['_body'];_0x510c3a&&(_0x510c3a['activate'](),_0x20e0ee instanceof D?Re['setValue'](_0x20e0ee['x'],_0x20e0ee['y'],_0x20e0ee['z']):Re['setValue'](_0x20e0ee,_0x8bf1cc,_0x46fe27),_0x8bf1cc instanceof D?Bs['setValue'](_0x8bf1cc['x'],_0x8bf1cc['y'],_0x8bf1cc['z']):_0x1794d7!==void(-0x795+0xadd+-0xf*0x38)?Bs['setValue'](_0x1794d7,_0x22e65e,_0x949fbd):Bs['setValue'](-0x2*-0xe5e+0x3*-0xd3+0x8c1*-0x3,0x1094+0x1b62+-0x2bf6,0x2c3*0xb+0x23a7*-0x1+0x546),_0x510c3a['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x5c1ea4,_0x5d6f9c,_0x431e92){const _0x59ede3=this['_body'];_0x59ede3&&(_0x59ede3['activate'](),_0x5c1ea4 instanceof D?Re['setValue'](_0x5c1ea4['x'],_0x5c1ea4['y'],_0x5c1ea4['z']):Re['setValue'](_0x5c1ea4,_0x5d6f9c,_0x431e92),_0x59ede3['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0xbb0765){const _0x599b7a=this['entity'],_0x564142=_0x599b7a['collision'];if(_0x564142){const _0x41d22f=_0x564142['getShapePo'+'sition'](),_0x2b9131=_0x564142['getShapeRo'+'tation']();Re['setValue'](_0x41d22f['x'],_0x41d22f['y'],_0x41d22f['z']),Ka['setValue'](_0x2b9131['x'],_0x2b9131['y'],_0x2b9131['z'],_0x2b9131['w']);}else{const _0x5ccc39=_0x599b7a['getPositio'+'n'](),_0x22d21e=_0x599b7a['getRotatio'+'n']();Re['setValue'](_0x5ccc39['x'],_0x5ccc39['y'],_0x5ccc39['z']),Ka['setValue'](_0x22d21e['x'],_0x22d21e['y'],_0x22d21e['z'],_0x22d21e['w']);}_0xbb0765['setOrigin'](Re),_0xbb0765['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x1a9422=this['_body'];if(_0x1a9422){if(this['_getEntity'+'Transform'](cs),_0x1a9422['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x1c53d0=_0x1a9422['getMotionS'+'tate']();_0x1c53d0&&_0x1c53d0['setWorldTr'+'ansform'](cs);}_0x1a9422['activate']();}}['_updateDyn'+'amic'](){const _0x5a1492=this['_body'];if(_0x5a1492['isActive']()){const _0x1dee72=_0x5a1492['getMotionS'+'tate']();if(_0x1dee72){const _0x5330e9=this['entity'];_0x1dee72['getWorldTr'+'ansform'](cs);const _0x2d1a4b=cs['getOrigin'](),_0x2db117=cs['getRotatio'+'n'](),_0x5894e9=_0x5330e9['collision'];if(_0x5894e9&&_0x5894e9['_hasOffset']){const _0x51f8e0=_0x5894e9['data']['linearOffs'+'et'],_0x5b0e91=_0x5894e9['data']['angularOff'+'set'],_0x3c4ae1=GO['copy'](_0x5b0e91)['invert'](),_0x39a6b6=VO['set'](_0x2db117['x'](),_0x2db117['y'](),_0x2db117['z'](),_0x2db117['w']())['mul'](_0x3c4ae1);_0x39a6b6['transformV'+'ector'](_0x51f8e0,Pc),_0x5330e9['setPositio'+'n'](_0x2d1a4b['x']()-Pc['x'],_0x2d1a4b['y']()-Pc['y'],_0x2d1a4b['z']()-Pc['z']),_0x5330e9['setRotatio'+'n'](_0x39a6b6);}else _0x5330e9['setPositio'+'n'](_0x2d1a4b['x'](),_0x2d1a4b['y'](),_0x2d1a4b['z']()),_0x5330e9['setRotatio'+'n'](_0x2db117['x'](),_0x2db117['y'](),_0x2db117['z'](),_0x2db117['w']());}}}['_updateKin'+'ematic'](){const _0xf0130c=this['_body']['getMotionS'+'tate']();_0xf0130c&&(this['_getEntity'+'Transform'](cs),_0xf0130c['setWorldTr'+'ansform'](cs));}['teleport'](_0x20c323,_0x171f5c,_0x32e60d,_0x2176e1,_0x2487a1,_0x369792){_0x20c323 instanceof D?this['entity']['setPositio'+'n'](_0x20c323):this['entity']['setPositio'+'n'](_0x20c323,_0x171f5c,_0x32e60d),_0x171f5c instanceof le?this['entity']['setRotatio'+'n'](_0x171f5c):_0x171f5c instanceof D?this['entity']['setEulerAn'+'gles'](_0x171f5c):_0x2176e1!==void(-0xa30+0x2063+-0x1*0x1633)&&this['entity']['setEulerAn'+'gles'](_0x2176e1,_0x2487a1,_0x369792),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0xe*-0x1a+-0x29c*-0x8+-0xd*0x17f));class HO{constructor(){this['enabled']=!(0x779*-0x5+-0x799+-0x2cf6*-0x1);}}let Mi,Di;class eS{constructor(_0x34c9a8,_0x5e657f,_0xca4336,_0x11e1ff){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x34c9a8,this['point']=_0x5e657f,this['normal']=_0xca4336,this['hitFractio'+'n']=_0x11e1ff);}}class WO{constructor(_0x1197c0,_0x30b9da,_0x1b6de7){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0xbd6+0x6af*-0x5+0x2d41?(this['a']=_0x1197c0,this['b']=_0x30b9da,this['impulse']=_0x1b6de7['impulse'],this['localPoint'+'A']=_0x1b6de7['localPoint'],this['localPoint'+'B']=_0x1b6de7['localPoint'+'Other'],this['pointA']=_0x1b6de7['point'],this['pointB']=_0x1b6de7['pointOther'],this['normal']=_0x1b6de7['normal']):(this['a']=null,this['b']=null,this['impulse']=0x1*-0x6bb+0x2*0x1349+0x3*-0xa9d,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x56e0ed=new D(),_0x115a71=new D(),_0x5497a5=new D(),_0x2f0e5d=new D(),_0x167950=new D(),_0x356493=0x3*-0xb99+0x121e+0x58f*0x3){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x56e0ed,this['localPoint'+'Other']=_0x115a71,this['point']=_0x5497a5,this['pointOther']=_0x2f0e5d,this['normal']=_0x167950,this['impulse']=_0x356493);}}class XO{constructor(_0x5cc003,_0xe217e6){h(this,'other'),h(this,'contacts'),(this['other']=_0x5cc003,this['contacts']=_0xe217e6);}}const o0=['enabled'];class wm extends ct{constructor(_0x624cfa){super(_0x624cfa),h(this,'maxSubStep'+'s',0xcd9*0x1+-0x1f28+0x29f*0x7),h(this,'fixedTimeS'+'tep',(0x5*0x50b+-0x423*-0x1+-0x2ab*0xb)/(0x1*0x1573+0x16e7*0x1+-0x2c1e)),h(this,'gravity',new D(-0x3fb+-0x1546+0x3*0x86b,-(-0x56f*-0x2+0x6d*0x16+-0x1433+0.8100000000000005),0x24a3+-0x1d1*-0x4+-0x2be7)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x1193+-0x112f*0x1+0x22c5*0x1)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x624cfa['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x14392f=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x14392f);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0x1b98+0x6*-0x2b7+0x2be3),this['contactRes'+'ultPool']=new bf(XO,0x17*-0x10c+-0x3df*-0x7+-0x182*0x2),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x1*-0xef+-0x6*-0x3f9+-0x18c4),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3258f9,_0x6d7478,_0x5d37cb){const _0x24e3b6=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x13b1d2 of _0x24e3b6)if(_0x6d7478['hasOwnProp'+'erty'](_0x13b1d2)){const _0xbbb8d9=_0x6d7478[_0x13b1d2];Array['isArray'](_0xbbb8d9)?_0x3258f9[_0x13b1d2]=new D(_0xbbb8d9[0x1bd6*0x1+0xd4*-0x2b+-0x7c6*-0x1],_0xbbb8d9[0xbb*0x30+0xaf*0x6+-0x2729*0x1],_0xbbb8d9[-0xdf*0x1f+-0x1775*-0x1+0x38e]):_0x3258f9[_0x13b1d2]=_0xbbb8d9;}super['initialize'+'ComponentD'+'ata'](_0x3258f9,_0x6d7478,['enabled']);}['cloneCompo'+'nent'](_0x8a1aad,_0x102be3){const _0x196abc=_0x8a1aad['rigidbody'],_0x507893={'enabled':_0x196abc['enabled'],'mass':_0x196abc['mass'],'linearDamping':_0x196abc['linearDamp'+'ing'],'angularDamping':_0x196abc['angularDam'+'ping'],'linearFactor':[_0x196abc['linearFact'+'or']['x'],_0x196abc['linearFact'+'or']['y'],_0x196abc['linearFact'+'or']['z']],'angularFactor':[_0x196abc['angularFac'+'tor']['x'],_0x196abc['angularFac'+'tor']['y'],_0x196abc['angularFac'+'tor']['z']],'friction':_0x196abc['friction'],'rollingFriction':_0x196abc['rollingFri'+'ction'],'restitution':_0x196abc['restitutio'+'n'],'type':_0x196abc['type'],'group':_0x196abc['group'],'mask':_0x196abc['mask']};return this['addCompone'+'nt'](_0x102be3,_0x507893);}['onBeforeRe'+'move'](_0x1b8ba5,_0x73a510){_0x73a510['enabled']&&(_0x73a510['enabled']=!(0xe37+0xd79*0x1+0x1baf*-0x1)),_0x73a510['body']&&(this['destroyBod'+'y'](_0x73a510['body']),_0x73a510['body']=null);}['addBody'](_0x14786e,_0x40f3ac,_0x53b0a0){_0x40f3ac!==void(-0x245a+-0x463*0x3+0x3183)&&_0x53b0a0!==void(0x5e6*-0x2+-0x1066+0xe19*0x2)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x14786e,_0x40f3ac,_0x53b0a0):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x14786e);}['removeBody'](_0x4636eb){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x4636eb);}['createBody'](_0x596673,_0x34dbb8,_0x3bdc75){const _0x315b19=new Ammo['btVector3'](-0x10c9+-0x1772+0x283b,-0x2*0xcaf+0x1f25+-0x5c7,-0x56*-0x55+0x1*-0x2375+0x1f*0x39);_0x596673!==0x5ad*0x1+0x24c4*0x1+-0x2a71&&_0x34dbb8['calculateL'+'ocalInerti'+'a'](_0x596673,_0x315b19);const _0x155616=new Ammo['btDefaultM'+'otionState'](_0x3bdc75),_0x2070f1=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x596673,_0x155616,_0x34dbb8,_0x315b19),_0x41feea=new Ammo['btRigidBod'+'y'](_0x2070f1);return Ammo['destroy'](_0x2070f1),Ammo['destroy'](_0x315b19),_0x41feea;}['destroyBod'+'y'](_0x348f8e){const _0x56411f=_0x348f8e['getMotionS'+'tate']();_0x56411f&&Ammo['destroy'](_0x56411f),Ammo['destroy'](_0x348f8e);}['raycastFir'+'st'](_0x579ce3,_0x1d3404,_0x7a357b={}){if(_0x7a357b['filterTags']||_0x7a357b['filterCall'+'back'])return _0x7a357b['sort']=!(-0x1a7b*-0x1+-0x3*0x505+0x56*-0x22),this['raycastAll'](_0x579ce3,_0x1d3404,_0x7a357b)[-0x611*0x1+-0x257+0x4*0x21a]||null;let _0x4caa7d=null;Mi['setValue'](_0x579ce3['x'],_0x579ce3['y'],_0x579ce3['z']),Di['setValue'](_0x1d3404['x'],_0x1d3404['y'],_0x1d3404['z']);const _0x504b65=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x7a357b['filterColl'+'isionGroup']=='number'&&_0x504b65['set_m_coll'+'isionFilte'+'rGroup'](_0x7a357b['filterColl'+'isionGroup']),typeof _0x7a357b['filterColl'+'isionMask']=='number'&&_0x504b65['set_m_coll'+'isionFilte'+'rMask'](_0x7a357b['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x504b65),_0x504b65['hasHit']()){const _0x28953e=_0x504b65['get_m_coll'+'isionObjec'+'t'](),_0x3f7589=Ammo['castObject'](_0x28953e,Ammo['btRigidBod'+'y']);if(_0x3f7589){const _0x461d9f=_0x504b65['get_m_hitP'+'ointWorld'](),_0x1da44a=_0x504b65['get_m_hitN'+'ormalWorld']();_0x4caa7d=new eS(_0x3f7589['entity'],new D(_0x461d9f['x'](),_0x461d9f['y'](),_0x461d9f['z']()),new D(_0x1da44a['x'](),_0x1da44a['y'](),_0x1da44a['z']()),_0x504b65['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x504b65),_0x4caa7d;}['raycastAll'](_0x268091,_0x141c2a,_0x500ac8={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x6564f7=[];Mi['setValue'](_0x268091['x'],_0x268091['y'],_0x268091['z']),Di['setValue'](_0x141c2a['x'],_0x141c2a['y'],_0x141c2a['z']);const _0x4433d6=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x500ac8['filterColl'+'isionGroup']=='number'&&_0x4433d6['set_m_coll'+'isionFilte'+'rGroup'](_0x500ac8['filterColl'+'isionGroup']),typeof _0x500ac8['filterColl'+'isionMask']=='number'&&_0x4433d6['set_m_coll'+'isionFilte'+'rMask'](_0x500ac8['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x4433d6),_0x4433d6['hasHit']()){const _0x3ce8c6=_0x4433d6['get_m_coll'+'isionObjec'+'ts'](),_0x2ccfe5=_0x4433d6['get_m_hitP'+'ointWorld'](),_0x1cda37=_0x4433d6['get_m_hitN'+'ormalWorld'](),_0x4d6ea6=_0x4433d6['get_m_hitF'+'ractions'](),_0x315439=_0x3ce8c6['size']();for(let _0x18800c=-0x16bd+0x2317+0xc5a*-0x1;_0x18800c<_0x315439;_0x18800c++){const _0x1895aa=Ammo['castObject'](_0x3ce8c6['at'](_0x18800c),Ammo['btRigidBod'+'y']);if(_0x1895aa&&_0x1895aa['entity']){if(_0x500ac8['filterTags']&&!_0x1895aa['entity']['tags']['has'](..._0x500ac8['filterTags'])||_0x500ac8['filterCall'+'back']&&!_0x500ac8['filterCall'+'back'](_0x1895aa['entity']))continue;const _0x33c80f=_0x2ccfe5['at'](_0x18800c),_0x191dd3=_0x1cda37['at'](_0x18800c),_0xf2cb4e=new eS(_0x1895aa['entity'],new D(_0x33c80f['x'](),_0x33c80f['y'](),_0x33c80f['z']()),new D(_0x191dd3['x'](),_0x191dd3['y'](),_0x191dd3['z']()),_0x4d6ea6['at'](_0x18800c));_0x6564f7['push'](_0xf2cb4e);}}_0x500ac8['sort']&&_0x6564f7['sort']((_0x2002f9,_0x237db0)=>_0x2002f9['hitFractio'+'n']-_0x237db0['hitFractio'+'n']);}return Ammo['destroy'](_0x4433d6),_0x6564f7;}['_storeColl'+'ision'](_0x3d5464,_0x1b1270){let _0xadbf29=!(-0x57*0x52+-0x8*0x443+0x1*0x3df7);const _0x2bb7fd=_0x3d5464['getGuid']();return this['collisions'][_0x2bb7fd]=this['collisions'][_0x2bb7fd]||{'others':[],'entity':_0x3d5464},this['collisions'][_0x2bb7fd]['others']['indexOf'](_0x1b1270)<0x1*-0x527+-0x22f+0x756&&(this['collisions'][_0x2bb7fd]['others']['push'](_0x1b1270),_0xadbf29=!(-0x508+-0x1*-0x2141+-0x1c39)),this['frameColli'+'sions'][_0x2bb7fd]=this['frameColli'+'sions'][_0x2bb7fd]||{'others':[],'entity':_0x3d5464},this['frameColli'+'sions'][_0x2bb7fd]['others']['push'](_0x1b1270),_0xadbf29;}['_createCon'+'tactPointF'+'romAmmo'](_0x4e42d6){const _0x6807ac=_0x4e42d6['get_m_loca'+'lPointA'](),_0xb463cc=_0x4e42d6['get_m_loca'+'lPointB'](),_0x562854=_0x4e42d6['getPositio'+'nWorldOnA'](),_0xa7835c=_0x4e42d6['getPositio'+'nWorldOnB'](),_0x452f94=_0x4e42d6['get_m_norm'+'alWorldOnB'](),_0x1a5081=this['contactPoi'+'ntPool']['allocate']();return _0x1a5081['localPoint']['set'](_0x6807ac['x'](),_0x6807ac['y'](),_0x6807ac['z']()),_0x1a5081['localPoint'+'Other']['set'](_0xb463cc['x'](),_0xb463cc['y'](),_0xb463cc['z']()),_0x1a5081['point']['set'](_0x562854['x'](),_0x562854['y'](),_0x562854['z']()),_0x1a5081['pointOther']['set'](_0xa7835c['x'](),_0xa7835c['y'](),_0xa7835c['z']()),_0x1a5081['normal']['set'](_0x452f94['x'](),_0x452f94['y'](),_0x452f94['z']()),_0x1a5081['impulse']=_0x4e42d6['getApplied'+'Impulse'](),_0x1a5081;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x2c9293){const _0x1c6ae6=_0x2c9293['get_m_loca'+'lPointA'](),_0x29681a=_0x2c9293['get_m_loca'+'lPointB'](),_0x45429a=_0x2c9293['getPositio'+'nWorldOnA'](),_0x2fff6e=_0x2c9293['getPositio'+'nWorldOnB'](),_0x16c611=_0x2c9293['get_m_norm'+'alWorldOnB'](),_0x2b6fe6=this['contactPoi'+'ntPool']['allocate']();return _0x2b6fe6['localPoint'+'Other']['set'](_0x1c6ae6['x'](),_0x1c6ae6['y'](),_0x1c6ae6['z']()),_0x2b6fe6['localPoint']['set'](_0x29681a['x'](),_0x29681a['y'](),_0x29681a['z']()),_0x2b6fe6['pointOther']['set'](_0x45429a['x'](),_0x45429a['y'](),_0x45429a['z']()),_0x2b6fe6['point']['set'](_0x2fff6e['x'](),_0x2fff6e['y'](),_0x2fff6e['z']()),_0x2b6fe6['normal']['set'](_0x16c611['x'](),_0x16c611['y'](),_0x16c611['z']()),_0x2b6fe6['impulse']=_0x2c9293['getApplied'+'Impulse'](),_0x2b6fe6;}['_createSin'+'gleContact'+'Result'](_0x135931,_0x3fb247,_0x3a46a1){const _0x3f45f2=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x3f45f2['a']=_0x135931,_0x3f45f2['b']=_0x3fb247,_0x3f45f2['localPoint'+'A']=_0x3a46a1['localPoint'],_0x3f45f2['localPoint'+'B']=_0x3a46a1['localPoint'+'Other'],_0x3f45f2['pointA']=_0x3a46a1['point'],_0x3f45f2['pointB']=_0x3a46a1['pointOther'],_0x3f45f2['normal']=_0x3a46a1['normal'],_0x3f45f2['impulse']=_0x3a46a1['impulse'],_0x3f45f2;}['_createCon'+'tactResult'](_0x4767b6,_0x112547){const _0xb7523c=this['contactRes'+'ultPool']['allocate']();return _0xb7523c['other']=_0x4767b6,_0xb7523c['contacts']=_0x112547,_0xb7523c;}['_cleanOldC'+'ollisions'](){for(const _0x3809c2 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x3809c2)){const _0x4c7f28=this['frameColli'+'sions'][_0x3809c2],_0x43528e=this['collisions'][_0x3809c2],_0x223511=_0x43528e['entity'],_0x22f6b7=_0x223511['collision'],_0x4a2c27=_0x223511['rigidbody'],_0x3b3716=_0x43528e['others'];let _0x194fe7=_0x3b3716['length'];for(;_0x194fe7--;){const _0x3c5387=_0x3b3716[_0x194fe7];(!_0x4c7f28||_0x4c7f28['others']['indexOf'](_0x3c5387)<0x1900+-0x9ba+-0xf46)&&(_0x3b3716['splice'](_0x194fe7,-0x1def+-0x5*0xef+0x229b),_0x223511['trigger']?(_0x22f6b7&&_0x22f6b7['fire']('triggerlea'+'ve',_0x3c5387),_0x3c5387['rigidbody']&&_0x3c5387['rigidbody']['fire']('triggerlea'+'ve',_0x223511)):_0x3c5387['trigger']||(_0x4a2c27&&_0x4a2c27['fire']('collisione'+'nd',_0x3c5387),_0x22f6b7&&_0x22f6b7['fire']('collisione'+'nd',_0x3c5387)));}_0x3b3716['length']===0x1fb4+-0x1ddb+-0x2b*0xb&&delete this['collisions'][_0x3809c2];}}['_hasContac'+'tEvent'](_0xe36b3d){const _0x49e634=_0xe36b3d['collision'];if(_0x49e634&&(_0x49e634['hasEvent']('collisions'+'tart')||_0x49e634['hasEvent']('collisione'+'nd')||_0x49e634['hasEvent']('contact')))return!(0x25*-0x86+0xd03+-0x1*-0x65b);const _0x566b54=_0xe36b3d['rigidbody'];return _0x566b54&&(_0x566b54['hasEvent']('collisions'+'tart')||_0x566b54['hasEvent']('collisione'+'nd')||_0x566b54['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x45b61c,_0xc85061){const _0x59ff0d=Ammo['wrapPointe'+'r'](_0x45b61c,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x10fcae=_0x59ff0d['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x48d18d=0x2242+-0xd2c*-0x2+0x2*-0x1e4d;_0x48d18d<_0x10fcae;_0x48d18d++){const _0x393e92=_0x59ff0d['getManifol'+'dByIndexIn'+'ternal'](_0x48d18d),_0x4bb320=_0x393e92['getBody0'](),_0x40e3b4=_0x393e92['getBody1'](),_0x5f362=Ammo['castObject'](_0x4bb320,Ammo['btRigidBod'+'y']),_0x3f16ad=Ammo['castObject'](_0x40e3b4,Ammo['btRigidBod'+'y']),_0x37dae8=_0x5f362['entity'],_0x16c3b8=_0x3f16ad['entity'];if(!_0x37dae8||!_0x16c3b8)continue;const _0xfdd813=_0x5f362['getCollisi'+'onFlags'](),_0xaac758=_0x3f16ad['getCollisi'+'onFlags'](),_0x478713=_0x393e92['getNumCont'+'acts'](),_0x556958=[],_0x131e10=[];let _0x319000;if(_0x478713>0x405*0x1+0xa*0x3d1+-0x2a2f*0x1){if(_0xfdd813&Po||_0xaac758&Po){const _0x106b15=_0x37dae8['collision']&&(_0x37dae8['collision']['hasEvent']('triggerent'+'er')||_0x37dae8['collision']['hasEvent']('triggerlea'+'ve')),_0x16a526=_0x16c3b8['collision']&&(_0x16c3b8['collision']['hasEvent']('triggerent'+'er')||_0x16c3b8['collision']['hasEvent']('triggerlea'+'ve')),_0x4493e2=_0x37dae8['rigidbody']&&(_0x37dae8['rigidbody']['hasEvent']('triggerent'+'er')||_0x37dae8['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x351d3d=_0x16c3b8['rigidbody']&&(_0x16c3b8['rigidbody']['hasEvent']('triggerent'+'er')||_0x16c3b8['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x106b15&&(_0x319000=this['_storeColl'+'ision'](_0x37dae8,_0x16c3b8),_0x319000&&!(_0xaac758&Po)&&_0x37dae8['collision']['fire']('triggerent'+'er',_0x16c3b8)),_0x16a526&&(_0x319000=this['_storeColl'+'ision'](_0x16c3b8,_0x37dae8),_0x319000&&!(_0xfdd813&Po)&&_0x16c3b8['collision']['fire']('triggerent'+'er',_0x37dae8)),_0x4493e2&&(_0x319000||(_0x319000=this['_storeColl'+'ision'](_0x16c3b8,_0x37dae8)),_0x319000&&_0x37dae8['rigidbody']['fire']('triggerent'+'er',_0x16c3b8)),_0x351d3d&&(_0x319000||(_0x319000=this['_storeColl'+'ision'](_0x37dae8,_0x16c3b8)),_0x319000&&_0x16c3b8['rigidbody']['fire']('triggerent'+'er',_0x37dae8));}else{const _0x486614=this['_hasContac'+'tEvent'](_0x37dae8),_0x32852e=this['_hasContac'+'tEvent'](_0x16c3b8),_0x40b3e6=this['hasEvent']('contact');if(_0x40b3e6||_0x486614||_0x32852e){for(let _0x31f4b2=0x25*-0x47+0xa89+-0xa*0x7;_0x31f4b2<_0x478713;_0x31f4b2++){const _0xae1cfd=_0x393e92['getContact'+'Point'](_0x31f4b2),_0x2e7a3e=this['_createCon'+'tactPointF'+'romAmmo'](_0xae1cfd);if(_0x486614||_0x32852e){_0x556958['push'](_0x2e7a3e);const _0x3ae1df=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xae1cfd);_0x131e10['push'](_0x3ae1df);}if(_0x40b3e6){const _0x4a2c26=this['_createSin'+'gleContact'+'Result'](_0x37dae8,_0x16c3b8,_0x2e7a3e);this['fire']('contact',_0x4a2c26);}}if(_0x486614){const _0x537df5=this['_createCon'+'tactResult'](_0x16c3b8,_0x556958);_0x319000=this['_storeColl'+'ision'](_0x37dae8,_0x16c3b8),_0x37dae8['collision']&&(_0x37dae8['collision']['fire']('contact',_0x537df5),_0x319000&&_0x37dae8['collision']['fire']('collisions'+'tart',_0x537df5)),_0x37dae8['rigidbody']&&(_0x37dae8['rigidbody']['fire']('contact',_0x537df5),_0x319000&&_0x37dae8['rigidbody']['fire']('collisions'+'tart',_0x537df5));}if(_0x32852e){const _0x1504a6=this['_createCon'+'tactResult'](_0x37dae8,_0x131e10);_0x319000=this['_storeColl'+'ision'](_0x16c3b8,_0x37dae8),_0x16c3b8['collision']&&(_0x16c3b8['collision']['fire']('contact',_0x1504a6),_0x319000&&_0x16c3b8['collision']['fire']('collisions'+'tart',_0x1504a6)),_0x16c3b8['rigidbody']&&(_0x16c3b8['rigidbody']['fire']('contact',_0x1504a6),_0x319000&&_0x16c3b8['rigidbody']['fire']('collisions'+'tart',_0x1504a6));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x26582f){let _0x1192a4,_0x116864;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0x5*0x61e+0x20cc+-0x236]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x233f*-0x1+0x1*-0x1f29+-0x415]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x10ea+-0x14b0+-0x58*-0xb]=this['gravity']['z'];const _0x30f4b2=this['dynamicsWo'+'rld']['getGravity']();(_0x30f4b2['x']()!==this['_gravityFl'+'oat32'][0xe2*0x13+-0x3c7*-0x4+-0x1fe2]||_0x30f4b2['y']()!==this['_gravityFl'+'oat32'][0x1747+-0x3*0x62f+-0x4b9]||_0x30f4b2['z']()!==this['_gravityFl'+'oat32'][0xcbe+-0xb*0x1d3+0x755])&&(_0x30f4b2['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x30f4b2));const _0xba7dc6=this['_triggers'];for(_0x1192a4=0x1d09+0xad9+-0x27e2,_0x116864=_0xba7dc6['length'];_0x1192a4<_0x116864;_0x1192a4++)_0xba7dc6[_0x1192a4]['updateTran'+'sform']();const _0x322884=this['_compounds'];for(_0x1192a4=0x3*0x351+-0xd3*0x26+-0x1*-0x155f,_0x116864=_0x322884['length'];_0x1192a4<_0x116864;_0x1192a4++)_0x322884[_0x1192a4]['_updateCom'+'pound']();const _0x389c7a=this['_kinematic'];for(_0x1192a4=0x2+-0x88a+0x888,_0x116864=_0x389c7a['length'];_0x1192a4<_0x116864;_0x1192a4++)_0x389c7a[_0x1192a4]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x26582f,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x269ca6=this['_dynamic'];for(_0x1192a4=-0xa91+-0x13b7+0x4c*0x66,_0x116864=_0x269ca6['length'];_0x1192a4<_0x116864;_0x1192a4++)_0x269ca6[_0x1192a4]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x26582f),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x260bff,_0x553deb){super(_0x260bff,_0x553deb),this['_resolutio'+'n']=new J(-0x1d89+-0x1262+0x326b,0x285+-0x2414+0x43*0x85),this['_reference'+'Resolution']=new J(0x6*-0x47a+0x1559+0x125*0x7,-0x11*0x40+0x5*-0x2f9+0x145d),this['_scaleMode']=Za,this['scale']=0xd2f+-0x365*0x7+0xa95,this['_scaleBlen'+'d']=-0x26d4+-0x1fb4+0x1e8*0x25+0.5,this['_priority']=0xf07*-0x2+-0x1abf+0x6f*0x83,this['_screenSpa'+'ce']=!(-0x1461+0x8c4+0xb9e*0x1),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x260bff['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x5202ad,_0x168198){var _0x46d885;if(!(_0x5202ad instanceof lt))return _0x168198;if(_0x5202ad['element']){const _0x501907=_0x5202ad['element']['drawOrder'];_0x5202ad['element']['drawOrder']=_0x168198++,_0x5202ad['element']['_batchGrou'+'pId']>=0x263+-0x2067+0x4*0x781&&_0x501907!==_0x5202ad['element']['drawOrder']&&((_0x46d885=this['system']['app']['batcher'])==null||_0x46d885['markGroupD'+'irty'](_0x5202ad['element']['_batchGrou'+'pId']));}_0x5202ad['particlesy'+'stem']&&(_0x5202ad['particlesy'+'stem']['drawOrder']=_0x168198++);const _0xba964c=_0x5202ad['children'];for(let _0x50d432=-0x3db+-0x1*0x1a9+0x584;_0x50d432<_0xba964c['length'];_0x50d432++)_0x168198=this['_recurseDr'+'awOrderSyn'+'c'](_0xba964c[_0x50d432],_0x168198);return _0x168198;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x1*0x262d+-0x16bc+0xa27*0x6),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x259978=this['_resolutio'+'n']['x']/this['scale'],_0x18dd51=this['_resolutio'+'n']['y']/this['scale'],_0x528714=-0x21*0x5e+-0x13af+0x1fcd,_0x520f80=_0x259978,_0x23ae35=-_0x18dd51;this['_screenMat'+'rix']['setOrtho'](_0x528714,_0x520f80,_0x23ae35,0x121*0x6+-0x167d+0xfb7,0x1ff7+-0x1745+-0x19*0x59,-(0x1666+-0x5f4*0x6+0xd53)),this['_screenSpa'+'ce']||(tS['setScale']((0xd9f+-0x14ba+0x71b+0.5)*_0x259978,(-0x1*0x3d1+0xd09+-0x938+0.5)*_0x18dd51,0x1fa4+0x6*0x2a5+0x1*-0x2f81),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x465d22,_0xc2e815){const _0x2bde3a=Math['log2']((_0x465d22['x']||-0x36f+-0x26d7*-0x1+-0x2367)/_0xc2e815['x']),_0xceb253=Math['log2']((_0x465d22['y']||-0x3*0x319+-0x2*-0xc51+-0xf56)/_0xc2e815['y']);return Math['pow'](-0x1d71+-0xb94+0x2907*0x1,_0x2bde3a*(0x19ed+0x184*0x13+0x1*-0x36b8-this['_scaleBlen'+'d'])+_0xceb253*this['_scaleBlen'+'d']);}['_onResize'](_0x5d90f8,_0x5cc0bb){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x5d90f8,_0x5cc0bb),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x2dc49e){this['_elements']['add'](_0x2dc49e);}['_unbindEle'+'ment'](_0x52f0c4){this['_elements']['delete'](_0x52f0c4);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x3df482=>_0x3df482['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x25c838){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x25c838['x'],_0x25c838['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x22a574=>_0x22a574['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x207c08){this['_reference'+'Resolution']['set'](_0x207c08['x'],_0x207c08['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x331716=>_0x331716['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x19d66a){this['_screenSpa'+'ce']=_0x19d66a,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0xc70165=>_0xc70165['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x559d38){_0x559d38!==Za&&_0x559d38!==qO&&(_0x559d38=Za),!this['_screenSpa'+'ce']&&_0x559d38!==Za&&(_0x559d38=Za),this['_scaleMode']=_0x559d38,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x381dd1){this['_scaleBlen'+'d']=_0x381dd1,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x338567=>_0x338567['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x46418c){_0x46418c>-0xb1d+-0x44b+0x1067&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x46418c+'\x20to\x20255'),_0x46418c=-0x1a7*0x11+-0x95b*-0x1+-0x13bb*-0x1),this['_priority']!==_0x46418c&&(this['_priority']=_0x46418c,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x1*0x184b+0xb3*-0x1+-0x5*0x4b8);}}const Uu=['enabled'];class YO extends ct{constructor(_0xda326b){super(_0xda326b),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x33e9de,_0x28fbf2,_0x1c432f){_0x28fbf2['priority']!==void(-0x1c9a+0x903+0x3b*0x55)&&(_0x33e9de['priority']=_0x28fbf2['priority']),_0x28fbf2['screenSpac'+'e']!==void(0x255+-0x15cd+-0x59*-0x38)&&(_0x33e9de['screenSpac'+'e']=_0x28fbf2['screenSpac'+'e']),_0x33e9de['cull']=_0x33e9de['screenSpac'+'e'],_0x28fbf2['scaleMode']!==void(-0x13d4+0x251*0xe+0x1*-0xc9a)&&(_0x33e9de['scaleMode']=_0x28fbf2['scaleMode']),_0x28fbf2['scaleBlend']!==void(0x15aa+-0x13a8+-0x1*0x202)&&(_0x33e9de['scaleBlend']=_0x28fbf2['scaleBlend']),_0x28fbf2['resolution']!==void(0x1e4d+-0x1*0x240b+-0xd2*-0x7)&&(_0x28fbf2['resolution']instanceof J?_0x33e9de['_resolutio'+'n']['copy'](_0x28fbf2['resolution']):_0x33e9de['_resolutio'+'n']['set'](_0x28fbf2['resolution'][0x1a43+0x4f0+-0x1f33],_0x28fbf2['resolution'][0x10fa+0x43*0x9+-0x1354]),_0x33e9de['resolution']=_0x33e9de['_resolutio'+'n']),_0x28fbf2['referenceR'+'esolution']!==void(-0x13de*0x1+0x1b74*0x1+0x1*-0x796)&&(_0x28fbf2['referenceR'+'esolution']instanceof J?_0x33e9de['_reference'+'Resolution']['copy'](_0x28fbf2['referenceR'+'esolution']):_0x33e9de['_reference'+'Resolution']['set'](_0x28fbf2['referenceR'+'esolution'][-0x1*0x19b7+0x5ba+0x13fd],_0x28fbf2['referenceR'+'esolution'][-0x1*-0x1122+-0x1*0x23a5+0x1284]),_0x33e9de['referenceR'+'esolution']=_0x33e9de['_reference'+'Resolution']),_0x33e9de['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x33e9de,_0x28fbf2,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x3f1cc3){const _0x21bee7=this['store'];for(const _0x3c5b09 in _0x21bee7)_0x21bee7[_0x3c5b09]['entity']['screen']['update']&&_0x21bee7[_0x3c5b09]['entity']['screen']['update'](_0x3f1cc3);}['_onResize'](_0x1c9d3a,_0xfaca8c){this['windowReso'+'lution']['x']=_0x1c9d3a,this['windowReso'+'lution']['y']=_0xfaca8c;}['cloneCompo'+'nent'](_0x467e28,_0x635444){const _0x44188a=_0x467e28['screen'];return this['addCompone'+'nt'](_0x635444,{'enabled':_0x44188a['enabled'],'screenSpace':_0x44188a['screenSpac'+'e'],'scaleMode':_0x44188a['scaleMode'],'resolution':_0x44188a['resolution']['clone'](),'referenceResolution':_0x44188a['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x4eeec7,_0x2fb2dc){_0x2fb2dc['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x29d032=this['_drawOrder'+'SyncQueue']['list']();for(let _0x5b9cea=-0x2271+0x169+0x2108;_0x5b9cea<_0x29d032['length'];_0x5b9cea++){const _0x3510bf=_0x29d032[_0x5b9cea];_0x3510bf['callback']['call'](_0x3510bf['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x31a56d,_0x421ae1,_0x352c2e){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x31a56d)||this['_drawOrder'+'SyncQueue']['push'](_0x31a56d,{'callback':_0x421ae1,'scope':_0x352c2e});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x523713,_0x4b6c0b){if(super(),!_0x523713||!(_0x523713 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4b6c0b&&_0x4b6c0b!=='x'&&_0x4b6c0b!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4b6c0b);this['_element']=_0x523713,this['_app']=_0x523713['system']['app'],this['_axis']=_0x4b6c0b||null,this['_enabled']=!(0x1ffa+0xa1c*-0x3+-0x1a6),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x2412+-0x1*0x61f+-0x1df2),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2d10b9){this['_element'][_0x2d10b9]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2d10b9]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2d10b9]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x803143){const _0x43d74e=_0x803143==='on';this['_hasDragLi'+'steners']&&_0x43d74e||(this['_app']['mouse']&&(this['_element'][_0x803143]('mousemove',this['_onMove'],this),this['_element'][_0x803143]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x803143]('touchmove',this['_onMove'],this),this['_element'][_0x803143]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x803143]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x803143]('selectmove',this['_onMove'],this),this['_element'][_0x803143]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x43d74e);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x3c9555){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x3c9555['camera'],this['_calculate'+'DragScale']();const _0x309004=this['_screenToL'+'ocal'](_0x3c9555);_0x309004&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x1*-0x19c7+-0xda*-0xe+-0x25b3),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x309004),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x7c+-0x41b+-0x74*-0x8),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x1b54ed){return _0x1b54ed['inputSourc'+'e']?Hr['set'](_0x1b54ed['inputSourc'+'e']['getOrigin'](),_0x1b54ed['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x1b54ed),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x15e3+0x8e+0x2*0xaab)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x39d7cd){const _0x510740=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x39d7cd['x']<'u'&&typeof _0x39d7cd['y']<'u'?(lr['x']=_0x39d7cd['x']*_0x510740,lr['y']=_0x39d7cd['y']*_0x510740):_0x39d7cd['changedTou'+'ches']?(lr['x']=_0x39d7cd['changedTou'+'ches'][-0x405+0x2eb+0x11a]['x']*_0x510740,lr['y']=_0x39d7cd['changedTou'+'ches'][-0x6*-0xce+-0x16f*-0x3+-0x7b*0x13]['y']*_0x510740):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0x1c1c+-0x3a8+-0x4c*-0x6b),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x240b+0x1*0x11ef+-0x1*-0x121d)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x56b955=this['_element']['entity']['parent'];const _0x32b449=this['_element']['screen']&&this['_element']['screen']['screen'],_0x327232=_0x32b449&&_0x32b449['screenSpac'+'e'],_0x51f20e=_0x327232?_0x32b449['scale']:-0xf82+0x14*0xae+0x1eb,_0x22486a=this['_dragScale'];for(_0x22486a['set'](_0x51f20e,_0x51f20e,_0x51f20e);_0x56b955&&(_0x22486a['mul'](_0x56b955['getLocalSc'+'ale']()),_0x56b955=_0x56b955['parent'],!(_0x327232&&_0x56b955['screen'])););_0x22486a['x']=(-0xc4+0x824+-0x3*0x275)/_0x22486a['x'],_0x22486a['y']=(-0x569+0x16cf+-0x1165)/_0x22486a['y'],_0x22486a['z']=0x3d7*-0x5+-0x13*0x31+0x16d6;}['_onMove'](_0x2dbd52){const {_element:_0x23d9c2,_deltaMousePosition:_0xf4463a,_deltaHandlePosition:_0x358da2,_axis:_0x4ade05}=this;if(_0x23d9c2&&this['_isDraggin'+'g']&&this['enabled']&&_0x23d9c2['enabled']&&_0x23d9c2['entity']['enabled']){const _0x51593f=this['_screenToL'+'ocal'](_0x2dbd52);if(_0x51593f){if(_0xf4463a['sub2'](_0x51593f,this['_dragStart'+'MousePosit'+'ion']),_0x358da2['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0xf4463a),_0x4ade05){const _0x59e447=_0x23d9c2['entity']['getLocalPo'+'sition'](),_0x3ff255=ZO[_0x4ade05];_0x358da2[_0x3ff255]=_0x59e447[_0x3ff255];}_0x23d9c2['entity']['setLocalPo'+'sition'](_0x358da2),this['fire']('drag:move',_0x358da2);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x158859){this['_enabled']=_0x158859;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=-0x111a+0x8b*0x2b+-0x63f,aS=0xd10+-0x812+-0x1*0x4fd,JO=0x22d*0x2+-0x2390+0x1f38,eF=0x2*0x51b+0x113a+-0x2*0xdb8,tF=-0x1746+-0x21fe+0x51*0xb5,xo=new J();class c0 extends we{constructor(_0x36f0f3,_0xe28301){super(_0x36f0f3,_0xe28301),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x43a*-0x5+-0x72*0x1b+0x2129),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x568014=this['system']['store'][this['entity']['getGuid']()];return _0x568014?_0x568014['data']:null;}set['enabled'](_0xc9cb15){this['_setValue']('enabled',_0xc9cb15);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x4eee0e){this['_setValue']('horizontal',_0x4eee0e);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x16db19){this['_setValue']('vertical',_0x16db19);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x2dbeb7){this['_setValue']('scrollMode',_0x2dbeb7);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x3c1dd3){this['_setValue']('bounceAmou'+'nt',_0x3c1dd3);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3d7f1f){this['_setValue']('friction',_0x3d7f1f);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0xdff3e0){this['_setValue']('dragThresh'+'old',_0xdff3e0);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x4eb9ae){this['_setValue']('useMouseWh'+'eel',_0x4eb9ae);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x13ce19){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x13ce19);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x2d06c9){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x2d06c9);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x282c1b){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x282c1b);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x539d6c){if(this['_viewportE'+'ntity']===_0x539d6c)return;const _0x1069c0=typeof _0x539d6c=='string';this['_viewportE'+'ntity']&&_0x1069c0&&this['_viewportE'+'ntity']['getGuid']()===_0x539d6c||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x539d6c instanceof Ie?this['_viewportE'+'ntity']=_0x539d6c:_0x1069c0?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x539d6c)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x1069c0&&_0x539d6c&&(this['data']['viewportEn'+'tity']=_0x539d6c));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2b1aaa){if(this['_contentEn'+'tity']===_0x2b1aaa)return;const _0x232b32=typeof _0x2b1aaa=='string';this['_contentEn'+'tity']&&_0x232b32&&this['_contentEn'+'tity']['getGuid']()===_0x2b1aaa||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2b1aaa instanceof Ie?this['_contentEn'+'tity']=_0x2b1aaa:_0x232b32?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2b1aaa)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x232b32&&_0x2b1aaa&&(this['data']['contentEnt'+'ity']=_0x2b1aaa));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x573bcf){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x573bcf)return;const _0x383721=typeof _0x573bcf=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x383721&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x573bcf||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x573bcf instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x573bcf:_0x383721?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x573bcf)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x383721&&_0x573bcf&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x573bcf));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x502a40){if(this['_verticalS'+'crollbarEn'+'tity']===_0x502a40)return;const _0x17f15c=typeof _0x502a40=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x17f15c&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x502a40||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x502a40 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x502a40:_0x17f15c?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x502a40)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x17f15c&&_0x502a40&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x502a40));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x1c2612){this['_onSetScro'+'ll'](_0x1c2612['x'],_0x1c2612['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x380272,_0x2b0460){const _0x2bee38=this['data'],_0x25d42f=_0x2bee38[_0x380272];_0x2bee38[_0x380272]=_0x2b0460,this['fire']('set',_0x380272,_0x25d42f,_0x2b0460);}['_toggleLif'+'ecycleList'+'eners'](_0x55dcd1){this[_0x55dcd1]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x55dcd1]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x55dcd1]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x5d4fe9){if(this['entity']['element']){if(_0x5d4fe9==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x5d4fe9]('resize',this['_syncAll'],this),this['entity']['element'][_0x5d4fe9]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x5d4fe9==='on';}}['_onElement'+'ComponentA'+'dd'](_0x428f15){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x1de30c){var _0x55730f;(_0x55730f=this['_evtElemen'+'tRemove'])==null||_0x55730f['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5ed4b0,_0x1816ff;(_0x5ed4b0=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5ed4b0['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x1816ff=this['_viewportE'+'ntity'])!=null&&_0x1816ff['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x4f624d=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x4f624d['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x4f624d['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x2c3f20,_0x4580f2;(_0x2c3f20=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x2c3f20['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x4580f2=this['_evtViewpo'+'rtResize'])==null||_0x4580f2['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0xe6cd63,_0xd78948;(_0xe6cd63=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0xe6cd63['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0xd78948=this['_contentEn'+'tity'])!=null&&_0xd78948['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x14afe2=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x14afe2['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x14afe2['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x32d568,_0x989699;(_0x32d568=this['_evtConten'+'tElementRe'+'move'])==null||_0x32d568['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x989699=this['_evtConten'+'tResize'])==null||_0x989699['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x2e7585){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x143b*0x1+-0xc5*0x8+0x1*0x1a63),this['_setScroll'+'FromConten'+'tPosition'](_0x2e7585),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2e7585),!this['_disabledC'+'ontentInpu'+'t'])){const _0x539d8=_0x2e7585['x']-this['_dragStart'+'Position']['x'],_0x12c70b=_0x2e7585['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x539d8)>this['dragThresh'+'old']||Math['abs'](_0x12c70b)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x3fec9e;(_0x3fec9e=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x3fec9e['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x2a8095;(_0x2a8095=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x2a8095['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x12fb96){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x12fb96,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x377cfb){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x377cfb);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x375c56;const _0x5979ec=(_0x375c56=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x1fd+0x1238+-0x1435):_0x375c56['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x5979ec['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x5979ec['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x4d0126;const _0x4f233d=(_0x4d0126=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x1012+0x8*-0x1e5+0x1f3a):_0x4d0126['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x4f233d['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x4f233d['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x1c3de6,_0x439e5a;(_0x1c3de6=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x1c3de6['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x439e5a=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x439e5a['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x1bfb8a,_0x5a3ae6;(_0x1bfb8a=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x1bfb8a['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x5a3ae6=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x5a3ae6['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0xbedd46,_0x1e4458,_0x47bdc1){_0x47bdc1!==!(-0x101*-0x2+-0x1156*0x2+0x20ab)&&this['_velocity']['set'](0x3f6*0x5+-0xeb2+-0x51c*0x1,-0x3*0x7c3+-0xd7b+0x24c4,-0x253c+0x24ce+-0x1*-0x6e);const _0xbd05c7=this['_updateAxi'+'s'](_0xbedd46,'x',Ce),_0x48d8c6=this['_updateAxi'+'s'](_0x1e4458,'y',je);(_0xbd05c7||_0x48d8c6)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x57198f,_0x1f08bd,_0x439b51){const _0x318748=_0x57198f!==null&&Math['abs'](_0x57198f-this['_scroll'][_0x1f08bd])>-0x2cc*0x2+-0x2*-0x121e+0x4*-0x7a9+0.00001;return(_0x318748||this['_isDraggin'+'g']()||_0x57198f===0x53b+-0x1df1+0x18b6)&&(this['_scroll'][_0x1f08bd]=this['_determine'+'NewScrollV'+'alue'](_0x57198f,_0x1f08bd,_0x439b51),this['_syncConte'+'ntPosition'](_0x439b51),this['_syncScrol'+'lbarPositi'+'on'](_0x439b51)),_0x318748;}['_determine'+'NewScrollV'+'alue'](_0x140437,_0x4e6b34,_0x1340ef){if(!this['_getScroll'+'ingEnabled'](_0x1340ef))return this['_scroll'][_0x4e6b34];switch(this['scrollMode']){case QO:return Y['clamp'](_0x140437,-0xe1b+-0x1*0x248e+0x32a9,this['_getMaxScr'+'ollValue'](_0x1340ef));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x140437,_0x4e6b34,_0x1340ef),_0x140437;case JO:return _0x140437;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x140437;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x5af010){if(!this['_contentEn'+'tity'])return;const _0x417033=this['_getAxis'](_0x5af010),_0xf651e=this['_getSign'](_0x5af010),_0x153218=this['_prevConte'+'ntSizes'][_0x5af010],_0x59844a=this['_getConten'+'tSize'](_0x5af010);if(_0x153218!==null&&Math['abs'](_0x153218-_0x59844a)>0x240e+-0x13f*-0x16+-0x3f78+0.0001){const _0x4976da=this['_getMaxOff'+'set'](_0x5af010,_0x153218),_0x17685a=this['_getMaxOff'+'set'](_0x5af010,_0x59844a);_0x17685a===-0x19*0x23+-0x1*-0x9ad+-0x642?this['_scroll'][_0x417033]=0x131e+0x2562+-0x387f:this['_scroll'][_0x417033]=Y['clamp'](this['_scroll'][_0x417033]*_0x4976da/_0x17685a,0x10cb+-0x1f7d+-0x26*-0x63,-0x22cb+0xe8c+0x510*0x4);}const _0x17cfd4=this['_scroll'][_0x417033]*this['_getMaxOff'+'set'](_0x5af010),_0x3d9793=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3d9793[_0x417033]=_0x17cfd4*_0xf651e,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3d9793),this['_prevConte'+'ntSizes'][_0x5af010]=_0x59844a;}['_syncScrol'+'lbarPositi'+'on'](_0x4cc552){const _0x5ebfb5=this['_scrollbar'+'Entities'][_0x4cc552];if(!(_0x5ebfb5!=null&&_0x5ebfb5['scrollbar']))return;const _0x13e04c=this['_getAxis'](_0x4cc552);this['_scrollbar'+'UpdateFlag'+'s'][_0x4cc552]=!(0x25*0xc1+0x11*-0x171+0x1c*-0x1f),_0x5ebfb5['scrollbar']['value']=this['_scroll'][_0x13e04c],_0x5ebfb5['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x13e04c,_0x4cc552),this['_scrollbar'+'UpdateFlag'+'s'][_0x4cc552]=!(-0xeb9*0x1+0x5e6+0x8d4);}['_syncScrol'+'lbarEnable'+'dState'](_0x120c4f){const _0x247ae1=this['_scrollbar'+'Entities'][_0x120c4f];if(!_0x247ae1)return;const _0x46e02d=this['_getScroll'+'ingEnabled'](_0x120c4f),_0x23228e=this['_getScroll'+'barVisibil'+'ity'](_0x120c4f);switch(_0x23228e){case eF:_0x247ae1['enabled']=_0x46e02d;return;case tF:_0x247ae1['enabled']=_0x46e02d&&this['_contentIs'+'LargerThan'+'Viewport'](_0x120c4f);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x23228e),_0x247ae1['enabled']=_0x46e02d;}}['_contentIs'+'LargerThan'+'Viewport'](_0x4ed4ec){return this['_getConten'+'tSize'](_0x4ed4ec)>this['_getViewpo'+'rtSize'](_0x4ed4ec);}['_contentPo'+'sitionToSc'+'rollValue'](_0x3de6b2){const _0x20aa7a=this['_getMaxOff'+'set'](Ce),_0x57ab43=this['_getMaxOff'+'set'](je);return _0x20aa7a===-0x10b*0x11+-0x727+0x18e2?xo['x']=-0x2*0x85f+0xea0+0x21e:xo['x']=_0x3de6b2['x']/_0x20aa7a,_0x57ab43===0x4*0x45b+0x7e6+-0xe*0x1cf?xo['y']=0x1178+0xff2+-0x216a:xo['y']=_0x3de6b2['y']/-_0x57ab43,xo;}['_getMaxOff'+'set'](_0x2c54ca,_0x55fec9){_0x55fec9=_0x55fec9===void(-0x1c34+0x21c5+-0x591)?this['_getConten'+'tSize'](_0x2c54ca):_0x55fec9;const _0x3105c7=this['_getViewpo'+'rtSize'](_0x2c54ca);return _0x55fec9<_0x3105c7?-this['_getViewpo'+'rtSize'](_0x2c54ca):_0x3105c7-_0x55fec9;}['_getMaxScr'+'ollValue'](_0x1c55c6){return this['_contentIs'+'LargerThan'+'Viewport'](_0x1c55c6)?0xa93+0x7*-0x553+0x1ab3*0x1:-0x20c8+0x1935+-0x793*-0x1;}['_getScroll'+'barHandleS'+'ize'](_0x4819f4,_0x41a098){const _0x25d360=this['_getViewpo'+'rtSize'](_0x41a098),_0x350cd3=this['_getConten'+'tSize'](_0x41a098);if(Math['abs'](_0x350cd3)<-0x1*0x1c8d+-0x305*0x4+0x28a1+0.001)return 0x1370+0x371*-0x4+-0x1*0x5ab;const _0x2d3796=Math['min'](_0x25d360/_0x350cd3,0xb47*-0x1+0x1d4c+0x481*-0x4),_0x20a81c=this['_toOversho'+'ot'](this['_scroll'][_0x4819f4],_0x41a098);return _0x20a81c===0x1297*0x2+-0x1336*-0x1+0x3*-0x12cc?_0x2d3796:_0x2d3796/(-0x1*0x1c24+-0x2*-0x5ce+0x1089+Math['abs'](_0x20a81c));}['_getViewpo'+'rtSize'](_0x2df8eb){return this['_getSize'](_0x2df8eb,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2f7619){return this['_getSize'](_0x2f7619,this['_contentEn'+'tity']);}['_getSize'](_0xbdae30,_0x2285a0){return _0x2285a0!=null&&_0x2285a0['element']?_0x2285a0['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xbdae30)]:0x1a83+0x2*0x1223+-0x1*0x3ec9;}['_getScroll'+'ingEnabled'](_0x34a6e5){if(_0x34a6e5===Ce)return this['horizontal'];if(_0x34a6e5===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x34a6e5);}['_getScroll'+'barVisibil'+'ity'](_0x3947b9){if(_0x3947b9===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x3947b9===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3947b9);}['_getSign'](_0x25bf44){return _0x25bf44===Ce?0x264d+0x8bf+-0x2f0b*0x1:-(-0x1a2e+0xab3+-0x2*-0x7be);}['_getAxis'](_0x4e8eba){return _0x4e8eba===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x363590){return _0x363590===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x9b2+0x2a4+-0xc56+0.0001||Math['abs'](this['_velocity']['y'])>0x53c*-0x2+0xd98+-0x320*0x1+0.0001){const _0x2c36fc=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2c36fc['x']+=this['_velocity']['x'],_0x2c36fc['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2c36fc),this['_setScroll'+'FromConten'+'tPosition'](_0x2c36fc);}this['_velocity']['x']*=0x1*0x1b3b+-0x1*-0x2361+-0x3e9b-this['friction'],this['_velocity']['y']*=-0x1*0x2613+0x2*-0xd51+-0x6*-0xac9-this['friction'];}}['_hasOversh'+'oot'](_0x5f4ab6,_0x26872a){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x5f4ab6],_0x26872a))>0x20fa+0x1c47+0x1*-0x3d41+0.001;}['_toOversho'+'ot'](_0x3ec9c8,_0xdf6e05){const _0x1aa65d=this['_getMaxScr'+'ollValue'](_0xdf6e05);return _0x3ec9c8<-0xb*-0x37+-0xb48+0x8eb?_0x3ec9c8:_0x3ec9c8>_0x1aa65d?_0x3ec9c8-_0x1aa65d:-0x173c*0x1+-0x89d*0x1+0x1fd9;}['_setVeloci'+'tyFromOver'+'shoot'](_0x143c18,_0x33e66b,_0x213c37){const _0x585497=this['_toOversho'+'ot'](_0x143c18,_0x213c37)*this['_getMaxOff'+'set'](_0x213c37)*this['_getSign'](_0x213c37);Math['abs'](_0x585497)>0x1509+-0x131+-0x13d8&&(this['_velocity'][_0x33e66b]=-_0x585497/(this['bounceAmou'+'nt']*(-0x1932+-0xf25*0x1+0x481*0x9)+(-0x148d+0x93d+0x1*0xb51)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x56c1d7){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x56c1d7,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x56c1d7)):(this['_velocity']['set'](-0xb3*-0x24+-0x1*-0x54c+-0xc*0x28a,-0xc98*-0x3+0x379*0x1+-0x2941,0x56*0x3+0x262b+-0x272d),this['_prevConte'+'ntDragPosi'+'tion']=_0x56c1d7['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x31d1b1){let _0x204830=this['_contentPo'+'sitionToSc'+'rollValue'](_0x31d1b1);this['_isDraggin'+'g']()&&(_0x204830=this['_applyScro'+'llValueTen'+'sion'](_0x204830)),this['_onSetScro'+'ll'](_0x204830['x'],_0x204830['y'],!(0x1*-0x22e1+-0x2491+-0x15*-0x367));}['_applyScro'+'llValueTen'+'sion'](_0x9c4dc2){let _0x1d84f2=this['_getMaxScr'+'ollValue'](Ce),_0x4f7ec9=this['_toOversho'+'ot'](_0x9c4dc2['x'],Ce);return _0x4f7ec9>0x22d7+0x5*-0x324+-0x1323?_0x9c4dc2['x']=_0x1d84f2+(0x4d*0x55+-0x199a+0x2*0x5)*Math['log10'](-0xb*-0x388+0x1de1*0x1+-0x44b8+_0x4f7ec9):_0x4f7ec9<-0x7d8+0x1141+-0x969&&(_0x9c4dc2['x']=-(0x1b05+-0x1*-0x1c16+-0x371a)*Math['log10'](-0x18fb+-0x6*-0x4b8+-0x354-_0x4f7ec9)),_0x1d84f2=this['_getMaxScr'+'ollValue'](je),_0x4f7ec9=this['_toOversho'+'ot'](_0x9c4dc2['y'],je),_0x4f7ec9>-0x1c5b+-0x146d+0xc32*0x4?_0x9c4dc2['y']=_0x1d84f2+(0x1e*-0x2b+-0x4f*-0x2+0x46d)*Math['log10'](0x1989+-0x1f3*-0x5+-0x1*0x2347+_0x4f7ec9):_0x4f7ec9<-0x1a6a+0x1*-0x1472+0x2edc&&(_0x9c4dc2['y']=-(0xe44+0x1e07+0x1*-0x2c4a)*Math['log10'](0x41*0x6b+-0x40d+0x61*-0x3d-_0x4f7ec9)),_0x9c4dc2;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x431ec1){var _0x185a13,_0x41af79;(_0x185a13=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x185a13['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x431ec1),(_0x41af79=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x41af79['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x431ec1);}['_setConten'+'tDraggingE'+'nabled'](_0xd2011d){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0xd2011d);}['_onMouseWh'+'eel'](_0x3a0ac8){var _0x24819c;if(!this['useMouseWh'+'eel']||!((_0x24819c=this['_contentEn'+'tity'])!=null&&_0x24819c['element']))return;const _0x8d662e=_0x3a0ac8['event'],_0x3a1d27=_0x8d662e['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x8f86d0=_0x8d662e['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x24c636=Y['clamp'](this['_scroll']['x']+_0x3a1d27,-0xbdd*0x1+-0x2*-0x9+0xbcb,this['_getMaxScr'+'ollValue'](Ce)),_0x1a5d19=Y['clamp'](this['_scroll']['y']+_0x8f86d0,0x2673*0x1+0xde5+-0x3458,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x24c636,_0x1a5d19);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x39b639=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x39b639['element']&&(_0x39b639['element']['useInput']=!(0xd99+0x30b+0x47*-0x3c));}this['_disabledC'+'ontentInpu'+'t']=!(-0x6*-0x542+0x1479+-0xd01*0x4);}['_disableCo'+'ntentInput'](){const _0x39df38=_0x31011c=>{_0x31011c['element']&&_0x31011c['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x31011c),_0x31011c['element']['useInput']=!(-0x26a9+-0x7*-0xc+0x1*0x2656));const _0x38a576=_0x31011c['children'];for(let _0x1dbd64=-0xc24+-0x62e+0x929*0x2,_0x431706=_0x38a576['length'];_0x1dbd64<_0x431706;_0x1dbd64++)_0x39df38(_0x38a576[_0x1dbd64]);};if(this['_contentEn'+'tity']){const _0x30d124=this['_contentEn'+'tity']['children'];for(let _0x162bbf=0x1*-0x2637+0x220+0x2417*0x1,_0x3119b2=_0x30d124['length'];_0x162bbf<_0x3119b2;_0x162bbf++)_0x39df38(_0x30d124[_0x162bbf]);}this['_disabledC'+'ontentInpu'+'t']=!(0x7*-0x2b4+0x18b8+0xd4*-0x7);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1ec9*0x1+-0x1f9e+0x1*0xd5)),this['_setConten'+'tDraggingE'+'nabled'](!(0x23e*-0xa+-0x25f1+-0x38d*-0x11)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x2009*0x1+0x39*0x30+0x155a)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x497+0x1d65+-0x1*0x18cd));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1ee774,_0x149c5b){_0x1ee774['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x149c5b[_0x1ee774['viewportEn'+'tity']['getGuid']()]),_0x1ee774['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x149c5b[_0x1ee774['contentEnt'+'ity']['getGuid']()]),_0x1ee774['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x149c5b[_0x1ee774['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x1ee774['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x149c5b[_0x1ee774['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x157e+0x2507+-0xf7f;class iF{constructor(){h(this,'enabled',!(-0x2060+-0x17ab*0x1+0x380b)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x1070*0x2+0x213e+0x27*-0x1b2)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0xddf+0xd9b+-0x1*0x1b79,0x139a+-0x128a+-0x1*0x10f)),h(this,'horizontal'+'ScrollbarV'+'isibility',0xe0+0x1c30+-0x1d10),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x5ce+-0x2c3*0xd+0x29b5),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0x175+0x250d+-0x238e;class aF extends ct{constructor(_0x1b44db){super(_0x1b44db),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2e586f,_0xab9d05,_0x28dc7c){_0xab9d05['dragThresh'+'old']===void(0x135*-0x19+-0x1*0xe91+0x1*0x2cbe)&&(_0xab9d05['dragThresh'+'old']=rF),_0xab9d05['useMouseWh'+'eel']===void(0xad*-0x20+-0xded+0x238d)&&(_0xab9d05['useMouseWh'+'eel']=!(-0x99e+0x14ab+0x1*-0xb0d)),_0xab9d05['mouseWheel'+'Sensitivit'+'y']===void(-0x43*0x43+-0x1818+0x29a1)&&(_0xab9d05['mouseWheel'+'Sensitivit'+'y']=new J(0x779+0x144e+0x4f*-0x5a,0x59a+-0x174b*0x1+0x11b2)),super['initialize'+'ComponentD'+'ata'](_0x2e586f,_0xab9d05,nS),_0x2e586f['viewportEn'+'tity']=_0xab9d05['viewportEn'+'tity'],_0x2e586f['contentEnt'+'ity']=_0xab9d05['contentEnt'+'ity'],_0x2e586f['horizontal'+'ScrollbarE'+'ntity']=_0xab9d05['horizontal'+'ScrollbarE'+'ntity'],_0x2e586f['verticalSc'+'rollbarEnt'+'ity']=_0xab9d05['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x1b9eea){const _0x1337f3=this['store'];for(const _0x434588 in _0x1337f3){const _0x1787f0=_0x1337f3[_0x434588]['entity'],_0x294e40=_0x1787f0['scrollview'];_0x294e40['enabled']&&_0x1787f0['enabled']&&_0x294e40['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4f61f4,_0x2eb292){_0x2eb292['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x5aeb40,_0x4f960e){super(_0x5aeb40,_0x4f960e),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x2bc363=this['system']['store'][this['entity']['getGuid']()];return _0x2bc363?_0x2bc363['data']:null;}set['enabled'](_0x411b48){this['_setValue']('enabled',_0x411b48);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x45e6cf){this['_setValue']('orientatio'+'n',_0x45e6cf);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x1ecb63){this['_setValue']('value',_0x1ecb63);}get['value'](){return this['data']['value'];}set['handleSize'](_0x25f0d1){this['_setValue']('handleSize',_0x25f0d1);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x10dff2){if(this['_handleEnt'+'ity']===_0x10dff2)return;const _0x308435=typeof _0x10dff2=='string';this['_handleEnt'+'ity']&&_0x308435&&this['_handleEnt'+'ity']['getGuid']()===_0x10dff2||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x10dff2 instanceof Ie?this['_handleEnt'+'ity']=_0x10dff2:_0x308435?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x10dff2)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x308435&&_0x10dff2&&(this['data']['handleEnti'+'ty']=_0x10dff2));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0xbb4bf5,_0x369859){const _0x13b97b=this['data'],_0x219326=_0x13b97b[_0xbb4bf5];_0x13b97b[_0xbb4bf5]=_0x369859,this['fire']('set',_0xbb4bf5,_0x219326,_0x369859);}['_toggleLif'+'ecycleList'+'eners'](_0x3c30b9){this[_0x3c30b9]('set_value',this['_onSetValu'+'e'],this),this[_0x3c30b9]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x3c30b9]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x326eb6,_0x264b80;(_0x326eb6=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x326eb6['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x264b80=this['_handleEnt'+'ity'])!=null&&_0x264b80['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0xe177fd=this['_handleEnt'+'ity']['element'],_0x35e115=this['_evtHandle'+'EntityChan'+'ges'];_0x35e115['push'](_0xe177fd['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x35e115['push'](_0xe177fd['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x35e115['push'](_0xe177fd['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x35e115['push'](_0xe177fd['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x55a7b9=0xc7*-0x31+-0x1e0+0x27f7;_0x55a7b9<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x55a7b9++)this['_evtHandle'+'EntityChan'+'ges'][_0x55a7b9]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x1*0x8eb+0x1d9d+-0xa59*0x2;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x1b242a){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x1b242a[this['_getAxis']()]));}['_onSetValu'+'e'](_0x35bc4e,_0x31abd7,_0x2601fb){Math['abs'](_0x2601fb-_0x31abd7)>-0x1808*-0x1+0xe31*0x1+-0x2639+0.00001&&(this['data']['value']=Y['clamp'](_0x2601fb,0x12*-0x40+-0x1059+0x14d9,0x11*-0xdf+-0x9c7*-0x3+-0x7*0x213),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x19684d,_0x788449,_0x998cd4){Math['abs'](_0x998cd4-_0x788449)>-0xd1d+0x1*-0x23e+0x1*0xf5b+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x998cd4,0x25+0x150d+-0x1532,-0x388+0xa6+-0x1*-0x2e3),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x4850c7,_0x881299,_0x15f2a2){var _0x3722a5;_0x15f2a2!==_0x881299&&((_0x3722a5=this['_handleEnt'+'ity'])!=null&&_0x3722a5['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x30*-0xb8+0x2181+0xff);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x3879ec=this['_handleEnt'+'ity'],_0x2b008c=_0x3879ec==null?void(0xf45+-0x59*0x52+0xd3d):_0x3879ec['element'];if(_0x3879ec){const _0x21f480=_0x3879ec['getLocalPo'+'sition']();_0x21f480[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x3879ec['setLocalPo'+'sition'](_0x21f480);}_0x2b008c&&(_0x2b008c[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x533ad2){return _0x533ad2*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x2bf445){return _0x2bf445*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1679+-0x43a+0x5*0x557+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x10f2+0x2*0xc07+-0x71c;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x47a+-0x1*-0x82d+-0x1*0xca6:-(-0x36e*-0x4+0x171b+-0x24d2);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x1cd59b){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x1cd59b);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x28*-0xbb+-0x35*0x6f+-0x63d*0x1));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x930+0xe9d*-0x1+0x17ce));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x375b40,_0x19ee92){_0x375b40['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x19ee92[_0x375b40['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x1cdc+-0x2*-0x409+-0x24ee)),h(this,'orientatio'+'n',Ce),h(this,'value',0x27f*-0xd+0x15f0+0x27*0x45),h(this,'handleSize',0x1f5f+-0xc96+-0x12c9),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x54e825){super(_0x54e825),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x53e2a1,_0x382083,_0x5ae76a){super['initialize'+'ComponentD'+'ata'](_0x53e2a1,_0x382083,oS),_0x53e2a1['handleEnti'+'ty']=_0x382083['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x205604){_0x205604['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x1701e6,_0x1aa9e6){_0x1aa9e6['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(0x273+-0x5c8+0x356),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x29565a,_0x111d71='Untitled',_0x37530c={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x29565a,this['_assets']=_0x29565a['system']['app']['assets'],this['_manager']=_0x29565a['system']['manager'],this['name']=_0x111d71,this['_volume']=_0x37530c['volume']!==void(0x1479+-0x17b*-0x11+-0x2da4)?Y['clamp'](Number(_0x37530c['volume'])||0x6d*-0x14+0x16ab*-0x1+0x1f2f,0x2f6*-0x9+-0x598+0x203e,0x277*0xb+0xedf+-0x3d1*0xb):0x3d*0x77+0x1*-0x319+-0x1941,this['_pitch']=_0x37530c['pitch']!==void(-0x4*0x599+0x512*-0x3+0x259a)?Math['max'](0x954+0x1*-0x247a+0x1b26+0.01,Number(_0x37530c['pitch'])||0x2236+0x1*-0xd5b+-0x13*0x119):-0x5a0+0x3*0xeb+0x20*0x17,this['_loop']=!!(_0x37530c['loop']!==void(-0x20a2+-0x650+0xa*0x3e5)&&_0x37530c['loop']),this['_duration']=_0x37530c['duration']>-0x1232+-0x1a83+0x2cb5?_0x37530c['duration']:null,this['_startTime']=Math['max'](-0x1810+0x231f+-0xb0f,Number(_0x37530c['startTime'])||-0x6df*-0x1+0x1b58+-0x2237*0x1),this['_overlap']=!!_0x37530c['overlap'],this['_autoPlay']=!!_0x37530c['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x37530c['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x12f665){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x175217=_0x12f665;if(_0x175217||(_0x175217=this['_createIns'+'tance'](),this['instances']['push'](_0x175217)),this['isLoaded'])_0x175217['play']();else{const _0x454054=function(_0x56cede){const _0x5a8803=_0x175217['_playWhenL'+'oaded'];_0x175217['sound']=_0x56cede,_0x5a8803&&_0x175217['play']();};this['off']('load',_0x454054),this['once']('load',_0x454054),this['load']();}return _0x175217;}['pause'](){let _0x22fe37=!(0x251e*-0x1+0x155d+0xfc2);const _0x50f2a6=this['instances'];for(let _0x134a95=-0x1f15+0x2*0x63f+0x1297*0x1,_0x1cc82a=_0x50f2a6['length'];_0x134a95<_0x1cc82a;_0x134a95++)_0x50f2a6[_0x134a95]['pause']()&&(_0x22fe37=!(0x1206+-0x159e+0x398));return _0x22fe37;}['resume'](){let _0x3b285c=!(-0x223+-0x1263+0x1487);const _0x90bdf1=this['instances'];for(let _0x501262=-0x1*-0x2360+0x5*0x3fd+0x7e7*-0x7,_0x18331f=_0x90bdf1['length'];_0x501262<_0x18331f;_0x501262++)_0x90bdf1[_0x501262]['resume']()&&(_0x3b285c=!(-0x135a*0x1+0xed4+-0x2*-0x243));return _0x3b285c;}['stop'](){let _0x5f33a3=!(-0x23ca+0xc39+0x1*0x1792);const _0x41a34b=this['instances'];let _0x233d76=_0x41a34b['length'];for(;_0x233d76--;)_0x41a34b[_0x233d76]['stop'](),_0x5f33a3=!(0x1d74+-0x2399+-0x79*-0xd);return _0x41a34b['length']=0x128d*-0x1+0x2*0xf1+0x10ab,_0x5f33a3;}['load'](){if(!this['_hasAsset']())return;const _0x5b90f5=this['_assets']['get'](this['_asset']);if(!_0x5b90f5){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x5b90f5['off']('remove',this['_onAssetRe'+'moved'],this),_0x5b90f5['on']('remove',this['_onAssetRe'+'moved'],this),!_0x5b90f5['resource']){_0x5b90f5['off']('load',this['_onAssetLo'+'ad'],this),_0x5b90f5['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x5b90f5);return;}this['fire']('load',_0x5b90f5['resource']);}['setExterna'+'lNodes'](_0xd05be9,_0x41ebdc){if(!_0xd05be9){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x41ebdc||(_0x41ebdc=_0xd05be9),this['_firstNode']=_0xd05be9,this['_lastNode']=_0x41ebdc,!this['_overlap']){const _0x3c7661=this['instances'];for(let _0x236f1d=-0x9f8+-0x1b8d+-0x1*-0x2585,_0x5269a5=_0x3c7661['length'];_0x236f1d<_0x5269a5;_0x236f1d++)_0x3c7661[_0x236f1d]['setExterna'+'lNodes'](_0xd05be9,_0x41ebdc);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x5a59c7=this['instances'];for(let _0x38702e=0x2*-0xd62+0x487+-0x1*-0x163d,_0x33fb9d=_0x5a59c7['length'];_0x38702e<_0x33fb9d;_0x38702e++)_0x5a59c7[_0x38702e]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x5edb34=null;const _0x29cd56=this['_component'];let _0x11ca21=null;if(this['_hasAsset']()){const _0x42892a=this['_assets']['get'](this['_asset']);_0x42892a&&(_0x11ca21=_0x42892a['resource']);}const _0x1c1941=lF;return _0x1c1941['volume']=this['_volume']*_0x29cd56['volume'],_0x1c1941['pitch']=this['_pitch']*_0x29cd56['pitch'],_0x1c1941['loop']=this['_loop'],_0x1c1941['startTime']=this['_startTime'],_0x1c1941['duration']=this['_duration'],_0x1c1941['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x1c1941['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x1c1941['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x1c1941['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x1c1941['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x29cd56['positional']?(_0x1c1941['position']['copy'](_0x29cd56['entity']['getPositio'+'n']()),_0x1c1941['maxDistanc'+'e']=_0x29cd56['maxDistanc'+'e'],_0x1c1941['refDistanc'+'e']=_0x29cd56['refDistanc'+'e'],_0x1c1941['rollOffFac'+'tor']=_0x29cd56['rollOffFac'+'tor'],_0x1c1941['distanceMo'+'del']=_0x29cd56['distanceMo'+'del'],_0x5edb34=new sn(this['_manager'],_0x11ca21,_0x1c1941)):_0x5edb34=new As(this['_manager'],_0x11ca21,_0x1c1941),this['_firstNode']&&_0x5edb34['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x5edb34;}['_onInstanc'+'ePlay'](_0x3d08bd){this['fire']('play',_0x3d08bd),this['_component']['fire']('play',this,_0x3d08bd);}['_onInstanc'+'ePause'](_0xb8986d){this['fire']('pause',_0xb8986d),this['_component']['fire']('pause',this,_0xb8986d);}['_onInstanc'+'eResume'](_0x2b1b14){this['fire']('resume',_0x2b1b14),this['_component']['fire']('resume',this,_0x2b1b14);}['_onInstanc'+'eStop'](_0xf98da5){const _0x1f4b30=this['instances']['indexOf'](_0xf98da5);_0x1f4b30!==-(0xc7*0x28+-0x66c+0x4ef*-0x5)&&this['instances']['splice'](_0x1f4b30,-0x1e54+0xdb3*0x1+0x10a2),this['fire']('stop',_0xf98da5),this['_component']['fire']('stop',this,_0xf98da5);}['_onInstanc'+'eEnd'](_0x256825){const _0x3319c6=this['instances']['indexOf'](_0x256825);_0x3319c6!==-(0x2f*0x84+-0x1ad*0xb+-0x2*0x2e6)&&this['instances']['splice'](_0x3319c6,-0x1c97+-0x3*-0x570+0xc48),this['fire']('end',_0x256825),this['_component']['fire']('end',this,_0x256825);}['_onAssetAd'+'d'](_0x81299b){this['load']();}['_onAssetLo'+'ad'](_0xbed607){this['load']();}['_onAssetRe'+'moved'](_0x1ac1e9){_0x1ac1e9['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x1ac1e9['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xc4e998){const _0x2be2dd=this['instances'];for(let _0x3c7358=0x2509+0x10d*0x2+-0x2723,_0x15c571=_0x2be2dd['length'];_0x3c7358<_0x15c571;_0x3c7358++)_0x2be2dd[_0x3c7358]['position']=_0xc4e998;}set['asset'](_0x4bf58e){const _0x54b808=this['_asset'];if(_0x54b808){this['_assets']['off']('add:'+_0x54b808,this['_onAssetAd'+'d'],this);const _0xe34fde=this['_assets']['get'](_0x54b808);_0xe34fde&&_0xe34fde['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x4bf58e,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x51c5e1){this['_autoPlay']=!!_0x51c5e1;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x1b4107){if(this['_duration']=Math['max'](0x3*-0x5d5+0x4ce+0x9*0x169,Number(_0x1b4107)||-0x1d62*-0x1+0x66*-0x30+-0xa42)||null,!this['_overlap']){const _0xd050d6=this['instances'];for(let _0x3ecf27=-0x19*0xe3+0x11de+0x44d,_0x3c58ae=_0xd050d6['length'];_0x3ecf27<_0x3c58ae;_0x3ecf27++)_0xd050d6[_0x3ecf27]['duration']=this['_duration'];}}get['duration'](){let _0x40850a=0x5cc+0x1d*0xa+-0x6ee;if(this['_hasAsset']()){const _0xac5bbf=this['_assets']['get'](this['_asset']);_0x40850a=_0xac5bbf!=null&&_0xac5bbf['resource']?_0xac5bbf['resource']['duration']:0xab1+-0x3*-0x1fd+-0x10a8;}return this['_duration']!=null?this['_duration']%(_0x40850a||0xd89+-0xeb1*-0x2+0x2aea*-0x1):_0x40850a;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2ef282=this['_assets']['get'](this['_asset']);if(_0x2ef282)return!!_0x2ef282['resource'];}return!(-0x349*0x8+0x1*-0x147e+-0x2ec7*-0x1);}get['isPaused'](){const _0x4fae32=this['instances'],_0xf0cfb8=_0x4fae32['length'];if(_0xf0cfb8===0x2384*-0x1+0x3*0xd5+0x2105)return!(0x141c+0x1ae3+-0x2efe);for(let _0x51368b=-0x16cc*0x1+-0x1fcf+-0x7cd*-0x7;_0x51368b<_0xf0cfb8;_0x51368b++)if(!_0x4fae32[_0x51368b]['isPaused'])return!(0x533*0x4+0x253a+0x1*-0x3a05);return!(0x2416+0x73c+-0x2b52);}get['isPlaying'](){const _0x44765b=this['instances'];for(let _0x588e0b=-0x88e*0x4+0x27b+0x5*0x659,_0x352eca=_0x44765b['length'];_0x588e0b<_0x352eca;_0x588e0b++)if(_0x44765b[_0x588e0b]['isPlaying'])return!(0x6cc*-0x1+-0x6a*-0x12+-0x38*0x3);return!(0x665*0x5+0x4ab+-0x24a3);}get['isStopped'](){const _0x5e9fe2=this['instances'];for(let _0x2c29ae=0xa3*-0x26+0x1*0x10cd+0x765,_0x415988=_0x5e9fe2['length'];_0x2c29ae<_0x415988;_0x2c29ae++)if(!_0x5e9fe2[_0x2c29ae]['isStopped'])return!(-0x55*-0x5e+-0x1*0x28d+0x7*-0x418);return!(0x3*0x991+-0x2056+-0x3a3*-0x1);}set['loop'](_0x121f9a){this['_loop']=!!_0x121f9a;const _0x5d34e6=this['instances'];for(let _0x3fe319=0x25d2+0x5b3*0x2+-0x3138,_0x42d5d6=_0x5d34e6['length'];_0x3fe319<_0x42d5d6;_0x3fe319++)_0x5d34e6[_0x3fe319]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x5cdaa9){this['_overlap']=!!_0x5cdaa9;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x4263e9){if(this['_pitch']=Math['max'](Number(_0x4263e9)||-0x1eb+-0x21b+0x5*0xce,0x4af*0x7+0x2325*0x1+-0x43ee+0.01),!this['_overlap']){const _0x5e534d=this['instances'];for(let _0x26675c=0x136d*-0x1+0x18d1+-0x5*0x114,_0x4556a4=_0x5e534d['length'];_0x26675c<_0x4556a4;_0x26675c++)_0x5e534d[_0x26675c]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x566cb5){if(this['_startTime']=Math['max'](-0x2*0x312+-0x64*0x53+-0x269*-0x10,Number(_0x566cb5)||0x1a2*-0x6+0x35f*-0x1+0xd2b),!this['_overlap']){const _0x2a25ca=this['instances'];for(let _0x3ffef4=-0x261d+-0x61c+-0x2c39*-0x1,_0x3a9a2e=_0x2a25ca['length'];_0x3ffef4<_0x3a9a2e;_0x3ffef4++)_0x2a25ca[_0x3ffef4]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0xa7ccf1){if(this['_volume']=Y['clamp'](Number(_0xa7ccf1)||0x20ef+0xe03+-0x2ef2,0x52e+-0x1*0x18b1+0x1383,0xf48+0x803*0x4+-0x2f53),!this['_overlap']){const _0xddf47b=this['instances'];for(let _0x399bba=0x1bf4+-0x2dd*0xb+-0x1*-0x38b,_0x5ef3b2=_0xddf47b['length'];_0x399bba<_0x5ef3b2;_0x399bba++)_0xddf47b[_0x399bba]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0xe*-0x213+0x13*-0x16a+0x37e9),h(this,'_pitch',-0x7*0x377+0xbe6*-0x1+0x2428),h(this,'_positiona'+'l',!(0x1*-0x1e86+-0x6f2+0x2578*0x1)),h(this,'_refDistan'+'ce',-0x6fc+-0x75*0x49+0x285a),h(this,'_maxDistan'+'ce',0x194e+0x295*-0x1d+0x1*0x58a3),h(this,'_rollOffFa'+'ctor',-0x1d72+0x1f4c+0x2b*-0xb),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x45c281,_0x1c7d43,_0x11881f){const _0x4f7ede=this['_slots'];for(const _0x1396df in _0x4f7ede){const _0x5929b2=_0x4f7ede[_0x1396df];if(!_0x5929b2['overlap']){const _0x3e151f=_0x5929b2['instances'];for(let _0x5e134b=0x210a+0x2*-0xb73+-0x2*0x512,_0x470148=_0x3e151f['length'];_0x5e134b<_0x470148;_0x5e134b++)_0x3e151f[_0x5e134b][_0x45c281]=_0x11881f?_0x5929b2[_0x45c281]*_0x1c7d43:_0x1c7d43;}}}set['distanceMo'+'del'](_0x19b070){this['_distanceM'+'odel']=_0x19b070,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x19b070,!(0x199e+0x57*0x1b+-0x22ca));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x401bdd){this['_maxDistan'+'ce']=_0x401bdd,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x401bdd,!(0x1aff+-0x2420+0x922));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x120385){this['_refDistan'+'ce']=_0x120385,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x120385,!(-0x13d4*0x1+-0x73*0x39+0x2d70));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x339afd){this['_rollOffFa'+'ctor']=_0x339afd,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x339afd,!(-0x9e4+-0xba7+0x158c));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2b4b61){this['_pitch']=_0x2b4b61,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2b4b61,!(0x156+-0x1*0xb9c+0x20e*0x5));}get['pitch'](){return this['_pitch'];}set['volume'](_0x4b5a36){this['_volume']=_0x4b5a36,this['_updateSou'+'ndInstance'+'s']('volume',_0x4b5a36,!(-0x4*0x80f+-0x13*0x2b+0x236d));}get['volume'](){return this['_volume'];}set['positional'](_0x2be5ac){this['_positiona'+'l']=_0x2be5ac;const _0x5e105e=this['_slots'];for(const _0x64ada4 in _0x5e105e){const _0x569a98=_0x5e105e[_0x64ada4];if(!_0x569a98['overlap']){const _0x4ae82f=_0x569a98['instances'],_0x85aac6=_0x4ae82f['length'];for(let _0x30601b=_0x85aac6-(-0x241e+-0x579+0xa66*0x4);_0x30601b>=-0x813+-0x8f9*0x2+0x1a05;_0x30601b--){const _0x55e3a3=_0x4ae82f[_0x30601b]['isPlaying']||_0x4ae82f[_0x30601b]['isSuspende'+'d'],_0x47dd1e=_0x4ae82f[_0x30601b]['currentTim'+'e'];_0x55e3a3&&_0x4ae82f[_0x30601b]['stop']();const _0x166997=_0x569a98['_createIns'+'tance']();_0x55e3a3&&(_0x166997['play'](),_0x166997['currentTim'+'e']=_0x47dd1e),_0x4ae82f['push'](_0x166997);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x1cf82b){const _0x5ce65b=this['_slots'];if(_0x5ce65b){for(const _0x1e2089 in _0x5ce65b)_0x5ce65b[_0x1e2089]['stop']();}const _0x50e616={};for(const _0x41bdd in _0x1cf82b)_0x1cf82b[_0x41bdd]instanceof Gi?_0x50e616[_0x1cf82b[_0x41bdd]['name']]=_0x1cf82b[_0x41bdd]:_0x1cf82b[_0x41bdd]['name']&&(_0x50e616[_0x1cf82b[_0x41bdd]['name']]=new Gi(this,_0x1cf82b[_0x41bdd]['name'],_0x1cf82b[_0x41bdd]));this['_slots']=_0x50e616,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x77785d=this['_slots'],_0x46fd35=this['_playingBe'+'foreDisabl'+'e'];for(const _0x302c8c in _0x77785d){const _0x12fd7a=_0x77785d[_0x302c8c];_0x12fd7a['autoPlay']&&_0x12fd7a['isStopped']?_0x12fd7a['play']():_0x46fd35[_0x302c8c]?_0x12fd7a['resume']():_0x12fd7a['isLoaded']||_0x12fd7a['load']();}}['onDisable'](){const _0x17f759=this['_slots'],_0x2b3fc1={};for(const _0x5e7c76 in _0x17f759)_0x17f759[_0x5e7c76]['overlap']||_0x17f759[_0x5e7c76]['isPlaying']&&(_0x17f759[_0x5e7c76]['pause'](),_0x2b3fc1[_0x5e7c76]=!(0x233*0x6+-0x1882*-0x1+-0x25b4));this['_playingBe'+'foreDisabl'+'e']=_0x2b3fc1;}['onRemove'](){this['off']();}['addSlot'](_0x2d35fe,_0x1cc97e){const _0x49de0c=this['_slots'];if(_0x49de0c[_0x2d35fe])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x2d35fe+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x564dae=new Gi(this,_0x2d35fe,_0x1cc97e);return _0x49de0c[_0x2d35fe]=_0x564dae,_0x564dae['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x564dae['play'](),_0x564dae;}['removeSlot'](_0x4d9bc8){const _0x1e19bc=this['_slots'];_0x1e19bc[_0x4d9bc8]&&(_0x1e19bc[_0x4d9bc8]['stop'](),delete _0x1e19bc[_0x4d9bc8]);}['slot'](_0x50c183){return this['_slots'][_0x50c183];}['_getSlotPr'+'operty'](_0x15d764,_0x3807e6){if(!this['enabled']||!this['entity']['enabled'])return;const _0x178b5b=this['_slots'][_0x15d764];if(!_0x178b5b){w['warn']('Trying\x20to\x20'+'get\x20'+_0x3807e6+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x15d764+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x178b5b[_0x3807e6];}['isPlaying'](_0x4bf964){return this['_getSlotPr'+'operty'](_0x4bf964,'isPlaying')||!(-0x259a*0x1+0xb32*0x1+0x1a69*0x1);}['isLoaded'](_0x700156){return this['_getSlotPr'+'operty'](_0x700156,'isLoaded')||!(0x236d*0x1+-0xa7*-0x35+-0x45ff);}['isPaused'](_0x5ab32a){return this['_getSlotPr'+'operty'](_0x5ab32a,'isPaused')||!(0x67a+-0x449+-0x230);}['isStopped'](_0x2d4f8a){return this['_getSlotPr'+'operty'](_0x2d4f8a,'isStopped')||!(-0x1482+-0x7d3*-0x3+0x1*-0x2f6);}['play'](_0x17a7c8){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x45fee8=this['_slots'][_0x17a7c8];return _0x45fee8?_0x45fee8['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x17a7c8+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x262e25){const _0x5240ab=this['_slots'];if(_0x262e25){const _0x2a51f0=_0x5240ab[_0x262e25];if(!_0x2a51f0){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x262e25+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x2a51f0['pause']();}else{for(const _0x1d538d in _0x5240ab)_0x5240ab[_0x1d538d]['pause']();}}['resume'](_0x7d0a41){const _0x1346de=this['_slots'];if(_0x7d0a41){const _0x584b3d=_0x1346de[_0x7d0a41];if(!_0x584b3d){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x7d0a41+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x584b3d['isPaused']&&_0x584b3d['resume']();}else{for(const _0x21b590 in _0x1346de)_0x1346de[_0x21b590]['resume']();}}['stop'](_0x33da39){const _0x471249=this['_slots'];if(_0x33da39){const _0x332875=_0x471249[_0x33da39];if(!_0x332875){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x33da39+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x332875['stop']();}else{for(const _0xc689bd in _0x471249)_0x471249[_0xc689bd]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x1fd0+0x200b*0x1+-0x3b*0x1);}}const d0=['enabled'];class hF extends ct{constructor(_0x4c0bfb){super(_0x4c0bfb),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x4c0bfb['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x502d86){this['manager']['volume']=_0x502d86;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x132387,_0x1a4a93,_0x4130c0){_0x4130c0=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0xda3229=0x1392+0x4e7+0x5*-0x4e5;_0xda3229<_0x4130c0['length'];_0xda3229++)_0x1a4a93['hasOwnProp'+'erty'](_0x4130c0[_0xda3229])&&(_0x132387[_0x4130c0[_0xda3229]]=_0x1a4a93[_0x4130c0[_0xda3229]]);super['initialize'+'ComponentD'+'ata'](_0x132387,_0x1a4a93,['enabled']);}['cloneCompo'+'nent'](_0x46b80c,_0x4e434b){const _0x2d70b1=_0x46b80c['sound'],_0x3beed1=_0x2d70b1['slots'],_0x1c380b={};for(const _0x146a46 in _0x3beed1){const _0x166cef=_0x3beed1[_0x146a46];_0x1c380b[_0x146a46]={'name':_0x166cef['name'],'volume':_0x166cef['volume'],'pitch':_0x166cef['pitch'],'loop':_0x166cef['loop'],'duration':_0x166cef['duration'],'startTime':_0x166cef['startTime'],'overlap':_0x166cef['overlap'],'autoPlay':_0x166cef['autoPlay'],'asset':_0x166cef['asset']};}const _0x5e4675={'distanceModel':_0x2d70b1['distanceMo'+'del'],'enabled':_0x2d70b1['enabled'],'maxDistance':_0x2d70b1['maxDistanc'+'e'],'pitch':_0x2d70b1['pitch'],'positional':_0x2d70b1['positional'],'refDistance':_0x2d70b1['refDistanc'+'e'],'rollOffFactor':_0x2d70b1['rollOffFac'+'tor'],'slots':_0x1c380b,'volume':_0x2d70b1['volume']};return this['addCompone'+'nt'](_0x4e434b,_0x5e4675);}['onUpdate'](_0x52abd4){const _0x36acab=this['store'];for(const _0x27c908 in _0x36acab)if(_0x36acab['hasOwnProp'+'erty'](_0x27c908)){const _0x15d0fc=_0x36acab[_0x27c908]['entity'];if(_0x15d0fc['enabled']){const _0x1e9b01=_0x15d0fc['sound'];if(_0x1e9b01['enabled']&&_0x1e9b01['positional']){const _0x40cbf8=_0x15d0fc['getPositio'+'n'](),_0x59b64e=_0x1e9b01['slots'];for(const _0x36bab7 in _0x59b64e)_0x59b64e[_0x36bab7]['updatePosi'+'tion'](_0x40cbf8);}}}}['onBeforeRe'+'move'](_0x15eb07,_0x42608d){const _0x4c5b87=_0x42608d['slots'];for(const _0x8f2725 in _0x4c5b87)_0x4c5b87[_0x8f2725]['overlap']||_0x4c5b87[_0x8f2725]['stop']();_0x42608d['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x149bea,_0xc7fa07){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x149bea,this['_frame']=0x13f2+0x9*-0x28+-0x128a,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0xc7fa07['spriteAsse'+'t'],this['name']=_0xc7fa07['name'],this['fps']=_0xc7fa07['fps']||-0x5c*-0x3d+-0x42+-0x15aa,this['loop']=_0xc7fa07['loop']||!(-0x194d+0x11e1*-0x1+0x2b2f),this['_playing']=!(-0x7*0x36d+-0x366+0x1b62),this['_paused']=!(-0xfc8+-0xdd4+0x1d9d),this['_time']=-0xa49*-0x1+-0x9*0x38f+0xfd*0x16);}get['duration'](){if(this['_sprite']){const _0x501777=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x501777);}return-0x1c9a+0x10d6+0x2f1*0x4;}set['frame'](_0x513ee7){this['_setFrame'](_0x513ee7);const _0x2c1685=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x2c1685);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x4de37e){var _0x4e9f87;if(this['_sprite']&&((_0x4e9f87=this['_evtSetMes'+'hes'])==null||_0x4e9f87['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x4de37e,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x2a01af;!_0x4de37e||!_0x4de37e['atlas']?(_0x2a01af=this['_component']['_meshInsta'+'nce'],_0x2a01af&&(_0x2a01af['deletePara'+'meter']('texture_em'+'issiveMap'),_0x2a01af['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x4de37e['atlas']['texture']&&(_0x2a01af=this['_component']['_meshInsta'+'nce'],_0x2a01af&&(_0x2a01af['setParamet'+'er']('texture_em'+'issiveMap',_0x4de37e['atlas']['texture']),_0x2a01af['setParamet'+'er']('texture_op'+'acityMap',_0x4de37e['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x3efcb2){const _0x4e4fec=this['_component']['system']['app']['assets'];let _0x1a0dbf=_0x3efcb2;if(_0x3efcb2 instanceof pe&&(_0x1a0dbf=_0x3efcb2['id']),this['_spriteAss'+'et']!==_0x1a0dbf){if(this['_spriteAss'+'et']){const _0x306ce0=_0x4e4fec['get'](this['_spriteAss'+'et']);_0x306ce0&&this['_unbindSpr'+'iteAsset'](_0x306ce0);}if(this['_spriteAss'+'et']=_0x1a0dbf,this['_spriteAss'+'et']){const _0x4e73ee=_0x4e4fec['get'](this['_spriteAss'+'et']);_0x4e73ee?this['_bindSprit'+'eAsset'](_0x4e73ee):(this['sprite']=null,_0x4e4fec['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x4e8779){this['_setTime'](_0x4e8779),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x10cf+0x17b*0x1a+-0x374c),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x2072*-0x1+-0x1642+0x4*-0x28c;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x31c436){this['_component']['system']['app']['assets']['off']('add:'+_0x31c436['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x31c436['id']&&this['_bindSprit'+'eAsset'](_0x31c436);}['_bindSprit'+'eAsset'](_0x32c21d){_0x32c21d['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x32c21d['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x32c21d['resource']?this['_onSpriteA'+'ssetLoad'](_0x32c21d):this['_component']['system']['app']['assets']['load'](_0x32c21d);}['_unbindSpr'+'iteAsset'](_0x16d92e){_0x16d92e&&(_0x16d92e['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x16d92e['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x16d92e['resource']&&!_0x16d92e['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x16d92e['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x349da2){if(!_0x349da2['resource'])this['sprite']=null;else{if(_0x349da2['resource']['atlas'])this['sprite']=_0x349da2['resource'];else{const _0x7c29b1=_0x349da2['data']['textureAtl'+'asAsset'],_0x1c9467=this['_component']['system']['app']['assets'];_0x1c9467['off']('load:'+_0x7c29b1,this['_onTexture'+'AtlasLoad'],this),_0x1c9467['once']('load:'+_0x7c29b1,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x47453c){const _0x317fd6=this['_spriteAss'+'et'];_0x317fd6 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x317fd6):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x317fd6));}['_onSpriteA'+'ssetRemove'](_0x4bd4b4){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0xbadf72){if(this['fps']===-0x917+-0x20dd+0x29f4||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x4139a9=this['fps']<-0x85a+0x80*-0x32+0x6*0x58f?-(0x3ee*0x2+-0x3*0x2c2+-0x6b*-0x1):-0x1*-0xbfb+-0x35b*-0x5+-0x1cc1,_0x81e61d=this['_time']+_0xbadf72*this['_component']['speed']*_0x4139a9,_0x4ff9fc=this['duration'],_0x34e8eb=_0x81e61d>_0x4ff9fc||_0x81e61d<-0x12d+0x51c*0x3+-0xe27;this['_setTime'](_0x81e61d);let _0x32fe0c=this['frame'];this['_sprite']?_0x32fe0c=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x4ff9fc):_0x32fe0c=0x1*-0x1867+-0x1*-0x1759+-0x36*-0x5,_0x32fe0c!==this['_frame']&&this['_setFrame'](_0x32fe0c),_0x34e8eb&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x1*0x132d+0x1341+-0x13),this['_paused']=!(0x2*-0x902+0x31*0x3+0x1172),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x1557be){this['_time']=_0x1557be;const _0x849ba8=this['duration'];this['_time']<-0x315*-0x9+0xdf1+0x14d7*-0x2?this['loop']?this['_time']=this['_time']%_0x849ba8+_0x849ba8:this['_time']=0x3d6+0xe5+0x1*-0x4bb:this['_time']>_0x849ba8&&(this['loop']?this['_time']%=_0x849ba8:this['_time']=_0x849ba8);}['_setFrame'](_0x3c0c2c){this['_sprite']?this['_frame']=Y['clamp'](_0x3c0c2c,-0x1*0x27a+0x1ae6+0x6*-0x412,this['_sprite']['frameKeys']['length']-(-0x4e9+0x2068+-0x2e*0x99)):this['_frame']=_0x3c0c2c,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x28b052=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x28b052['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x2221+-0x17e0+-0xa41),this['_paused']=!(0x1ce2+-0x18d*0x1+-0x247*0xc),this['frame']=-0x54*0x71+-0x28*0x61+0x343c,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x3b*0x7a+-0x1*-0x1462+-0x3080),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x23ab+-0x865+0x2c11),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1715+-0x1d7b+0x1*0x667),this['_paused']=!(0x1aa7+0x4eb+-0x1f91),this['_time']=0x19fe+-0x4*0x53d+-0x50a,this['frame']=-0x11a0+0x6*0x593+-0xa2*0x19,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x4a8d86,_0x15841e){super(_0x4a8d86,_0x15841e),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x4a8d86['defaultMat'+'erial'],this['_color']=new ie(-0x20ab+0x36*-0x12+0x614*0x6,-0x1c07+0x962*0x1+0x12a6,-0x2444*-0x1+-0x185f+-0xbe4,0x1c0+-0x1*0x7b4+0x1*0x5f5),this['_colorUnif'+'orm']=new Float32Array(0x270+-0xc31+0x5*0x1f4),this['_speed']=-0x2*-0xa9b+0x1f7b*0x1+0x2*-0x1a58,this['_flipX']=!(0x1*0x24f+-0x1*0x1dc3+0x1b75),this['_flipY']=!(-0x33e*0x4+-0xf25+-0x76*-0x3d),this['_width']=0x5*-0x17e+-0x13ba+-0x1b31*-0x1,this['_height']=0x1727*0x1+0x4e1*-0x1+-0x1245,this['_drawOrder']=0x23ba+-0x1fa9*0x1+-0x411,this['_layers']=[er],this['_outerScal'+'e']=new J(0x1*0x1fa5+-0x202+-0x2*0xed1,0x69d+-0x1d55+0x16b9),this['_outerScal'+'eUniform']=new Float32Array(0x19*0x147+-0x1dca+-0x1*0x223),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0xbc1+-0x314*-0x8+-0xcdb),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x113e*0x2+-0x87*0x33+0x7*-0x115),this['_batchGrou'+'pId']=-(-0x19d0+0x21ce+-0x1*0x7fd),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x15841e['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x15841e,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1f3a+0x1*0x11c1+-0x30fa*0x1),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1*-0x10b5+-0x4*-0x3f3+-0x2080),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0xab6916){this['_type']!==_0xab6916&&(this['_type']=_0xab6916,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x51225d){this['_currentCl'+'ip']['frame']=_0x51225d;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x22fbbb){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x22fbbb;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x176fc0){this['_currentCl'+'ip']['sprite']=_0x176fc0;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x577980){this['_material']=_0x577980,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x577980);}get['material'](){return this['_material'];}set['color'](_0x2a4d8d){this['_color']['r']=_0x2a4d8d['r'],this['_color']['g']=_0x2a4d8d['g'],this['_color']['b']=_0x2a4d8d['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x16f8+0x2*0xce5+0x2*-0x169]=this['_color']['r'],this['_colorUnif'+'orm'][-0x1*0x25a8+0x727+-0xb*-0x2c6]=this['_color']['g'],this['_colorUnif'+'orm'][-0xe*0x20b+-0x236c*-0x1+0x10*-0x6d]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x352a0e){this['_color']['a']=_0x352a0e,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x352a0e);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x1171be){if(!_0x1171be){for(const _0x4f81ce in this['_clips'])this['removeClip'](_0x4f81ce);return;}for(const _0x67234 in this['_clips']){let _0x5c90f7=!(-0x1*-0x10f2+0x1ac1+-0x2bb2);for(const _0x32ffef in _0x1171be)if(_0x1171be[_0x32ffef]['name']===_0x67234){_0x5c90f7=!(-0x2*-0xcbe+0x376*0x1+0x39*-0x82),this['_clips'][_0x67234]['fps']=_0x1171be[_0x32ffef]['fps'],this['_clips'][_0x67234]['loop']=_0x1171be[_0x32ffef]['loop'],_0x1171be[_0x32ffef]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x67234]['sprite']=_0x1171be[_0x32ffef]['sprite']:_0x1171be[_0x32ffef]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x67234]['spriteAsse'+'t']=_0x1171be[_0x32ffef]['spriteAsse'+'t']);break;}_0x5c90f7||this['removeClip'](_0x67234);}for(const _0x1921b2 in _0x1171be)this['_clips'][_0x1171be[_0x1921b2]['name']]||this['addClip'](_0x1171be[_0x1921b2]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x2e418f){this['_speed']=_0x2e418f;}get['speed'](){return this['_speed'];}set['flipX'](_0xa060f7){this['_flipX']!==_0xa060f7&&(this['_flipX']=_0xa060f7,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x434708){this['_flipY']!==_0x434708&&(this['_flipY']=_0x434708,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x3790a4){_0x3790a4!==this['_width']&&(this['_width']=_0x3790a4,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0xb3154e){_0xb3154e!==this['_height']&&(this['_height']=_0xb3154e,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x42d7c6){var _0x1a4705,_0x6028a3;if(this['_batchGrou'+'pId']===_0x42d7c6)return;const _0x1c00e4=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x42d7c6,this['entity']['enabled']&&_0x1c00e4>=0x25*0x8b+0x19d7+-0x2dee&&((_0x1a4705=this['system']['app']['batcher'])==null||_0x1a4705['remove'](St['SPRITE'],_0x1c00e4,this['entity'])),this['entity']['enabled']&&_0x42d7c6>=0x14a6+0xa03+0xa7*-0x2f?(_0x6028a3=this['system']['app']['batcher'])==null||_0x6028a3['insert'](St['SPRITE'],_0x42d7c6,this['entity']):_0x1c00e4>=0x16c0+0x261d+-0x3cdd*0x1&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x1822eb){this['_autoPlayC'+'lip']=_0x1822eb instanceof Hi?_0x1822eb['name']:_0x1822eb,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x99d161){this['_drawOrder']=_0x99d161,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x99d161);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x3816b2){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x3816b2,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x3ee2e4;const _0x24fb27=this['system']['app'],_0xb76a80=_0x24fb27['scene'],_0x558d54=_0xb76a80['layers'];this['_evtLayers'+'Changed']=_0xb76a80['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x558d54&&(this['_evtLayerA'+'dded']=_0x558d54['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x558d54['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x1*0x23b5+-0x263*-0x1+0x8*-0x4c3&&((_0x3ee2e4=_0x24fb27['batcher'])==null||_0x3ee2e4['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x184e1c,_0x386531,_0x435bc3,_0x183e40;const _0x57018e=this['system']['app'],_0x574eb5=_0x57018e['scene']['layers'];(_0x184e1c=this['_evtLayers'+'Changed'])==null||_0x184e1c['off'](),this['_evtLayers'+'Changed']=null,_0x574eb5&&((_0x386531=this['_evtLayerA'+'dded'])==null||_0x386531['off'](),this['_evtLayerA'+'dded']=null,(_0x435bc3=this['_evtLayerR'+'emoved'])==null||_0x435bc3['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x255a+-0xbe1+-0x1979&&((_0x183e40=_0x57018e['batcher'])==null||_0x183e40['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5d62d0;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x3922d2 in this['_clips'])this['_clips'][_0x3922d2]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5d62d0=this['_node'])==null||_0x5d62d0['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0xae628d=[this['_meshInsta'+'nce']];for(let _0x5228b4=0x5bb+0x251*0x3+-0xcae,_0x56918e=this['_layers']['length'];_0x5228b4<_0x56918e;_0x5228b4++){const _0x1de0d9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5228b4]);_0x1de0d9&&_0x1de0d9['addMeshIns'+'tances'](_0xae628d);}this['_addedMode'+'l']=!(0x1294+0x77d+0x1a11*-0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x4166d5=[this['_meshInsta'+'nce']];for(let _0x1646a1=0x1c3f+-0x511*0x1+-0x6*0x3dd,_0x45be70=this['_layers']['length'];_0x1646a1<_0x45be70;_0x1646a1++){const _0x28c93e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1646a1]);_0x28c93e&&_0x28c93e['removeMesh'+'Instances'](_0x4166d5);}this['_addedMode'+'l']=!(-0x19e*0xd+0xf*0x251+0x1b7*-0x8);}['_showFrame'](_0x3b4729){if(!this['sprite'])return;const _0x21bdc2=this['sprite']['meshes'][_0x3b4729];if(!_0x21bdc2){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x229+0x2dc+0x141*-0x4));return;}let _0x4f6f1f;if(this['sprite']['renderMode']===Pt?_0x4f6f1f=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x4f6f1f=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x4f6f1f=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x21bdc2,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x1ac6+0xc4d+0xda*0x11),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1f*-0x136+0x5*0x115+0x2*0x1011),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0xb*-0x287+-0x15*0xd+-0x1abc]=this['_color']['r'],this['_colorUnif'+'orm'][0xc96+-0x189d+0xc08]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1c*-0x3+-0x1fa3*0x1+0x1f51]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x4f6f1f&&(this['_meshInsta'+'nce']['material']=_0x4f6f1f),this['_meshInsta'+'nce']['mesh']!==_0x21bdc2&&(this['_meshInsta'+'nce']['mesh']=_0x21bdc2,this['_meshInsta'+'nce']['visible']=!(-0x45*-0x3e+0x115*0x5+-0x161f),this['_meshInsta'+'nce']['_aabbVer']=-(-0x1d03+-0x1ec+-0x58*-0x5a)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x4b15a5=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x3b4729]];if(_0x4b15a5){const _0x2ed70a=(-0x3*-0x645+-0x1*-0x443+-0x1710)/_0x4b15a5['rect']['z'],_0x31509a=(0x1509+0x833*-0x4+0xbc5)/_0x4b15a5['rect']['w'];this['_innerOffs'+'et']['set'](_0x4b15a5['border']['x']*_0x2ed70a,_0x4b15a5['border']['y']*_0x31509a,_0x4b15a5['border']['z']*_0x2ed70a,_0x4b15a5['border']['w']*_0x31509a);const _0x5a0cba=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x4b15a5['rect']['x']/_0x5a0cba['width'],_0x4b15a5['rect']['y']/_0x5a0cba['height'],_0x4b15a5['rect']['z']/_0x5a0cba['width'],_0x4b15a5['rect']['w']/_0x5a0cba['height']);}else this['_innerOffs'+'et']['set'](-0x196d+0xb2f+0xe3e,-0x231b+0x1d47+0x175*0x4,-0x3b6*-0x8+0x272*-0x3+-0x165a,-0x17*-0x53+-0x1f*-0x47+-0x336*0x5);this['_innerOffs'+'etUniform'][0x1bd1+0x23e3+-0x3fb4]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x2111*-0x1+-0xd6e+0x2ce*-0x7]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x2297+-0x1ce2+-0x5b3*0x1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x4ef+0x1cf7+-0x1d9*0xd]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1112+0x11ce+0x1*-0xbc]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x66*0x3b+0x21b7+0x4*-0x28d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x4e*0x10+-0xa9*-0x25+0x1*-0x1d4b]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1*0x3a1+0x3*-0x301+-0x4f*-0x29]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x5d26ca=this['flipX']?-(0x731*-0x1+0x241*-0x1+0x973):0x5d2+-0x1fc*0x13+0x1fe3,_0x43ce7a=this['flipY']?-(-0x424*0x3+0x1*0x21cd+-0x1560):0x1b*-0x127+-0x2cc+0x21ea,_0x166b49=-0xf03+0x18f5+0x13*-0x86,_0x3cb0d1=0x2343+0x17*-0x187+-0x22;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x38930f=0x2a2+0x1d94+-0x2035,_0x65ccf3=0x127*-0x5+0xd4*-0x14+0x1*0x1654;if(this['sprite']['atlas']){const _0x24ca11=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x24ca11&&(_0x38930f=_0x24ca11['rect']['z'],_0x65ccf3=_0x24ca11['rect']['w'],_0x166b49=(0x543*0x4+-0x1*-0x2205+-0x3*0x125b+0.5-_0x24ca11['pivot']['x'])*this['_width'],_0x3cb0d1=(0x1941+-0x3*-0xbdf+-0x62*0x9f+0.5-_0x24ca11['pivot']['y'])*this['_height']);}const _0xa62823=_0x38930f/this['sprite']['pixelsPerU'+'nit'],_0x41347a=_0x65ccf3/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xa62823),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x41347a)),_0x5d26ca*=_0xa62823,_0x43ce7a*=_0x41347a,this['_outerScal'+'e']['x']/=_0xa62823,this['_outerScal'+'e']['y']/=_0x41347a,_0x5d26ca*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xa62823),0x277+-0xd*0xd+-0x1ce+0.0001,-0x2168+-0x61+0x21ca),_0x43ce7a*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x41347a),0xe5*0x25+-0x1f99*-0x1+-0xe*0x49f+0.0001,0x1383+-0x16f4+0x372),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x17fb+-0x1f46+-0x74b*-0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1adc+-0x11bb*0x1+-0x920]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x5d26ca,_0x43ce7a,0xb2*0x2f+-0x1efa+-0x91*0x3),this['_node']['setLocalPo'+'sition'](_0x166b49,_0x3cb0d1,-0xa69+0x1db1*-0x1+0x140d*0x2);}['_updateAab'+'b'](_0xec804c){return _0xec804c['center']['set'](-0x1a*-0x26+0x336*-0x6+0xf68,0x1747+-0xd*-0x2a1+-0xe5d*0x4,-0x1*-0x178d+-0x24a8+0xd1b),_0xec804c['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x182*0xd+-0x1*0x1223+-0x25bd*-0x1+0.5),this['_outerScal'+'e']['y']*(-0x80e+-0x1a8*0x17+0x2e26+0.5),-0x10e*-0x25+-0x15c*-0xa+-0x349e+0.001),_0xec804c['setFromTra'+'nsformedAa'+'bb'](_0xec804c,this['_node']['getWorldTr'+'ansform']()),_0xec804c;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x1c1de9=this['_clips'][this['_autoPlayC'+'lip']];_0x1c1de9&&!_0x1c1de9['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1c1de9['name']);}['_onLayersC'+'hanged'](_0x3df15b,_0x2ed975){_0x3df15b['off']('add',this['onLayerAdd'+'ed'],this),_0x3df15b['off']('remove',this['onLayerRem'+'oved'],this),_0x2ed975['on']('add',this['onLayerAdd'+'ed'],this),_0x2ed975['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x1bb148){this['layers']['indexOf'](_0x1bb148['id'])<0x6*-0x136+0x6*0x3bd+-0x3*0x50e||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x1bb148['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x46fa7e){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x46fa7e['id'])<-0x904+0x7e*0x2+0x1*0x808||_0x46fa7e['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x5c80dc=-0x290*-0x3+-0x1*0xa69+0x2b9;_0x5c80dc<this['layers']['length'];_0x5c80dc++){const _0x35a1e3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c80dc]);_0x35a1e3&&_0x35a1e3['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x23e670){const _0x5ceecc=new Hi(this,{'name':_0x23e670['name'],'fps':_0x23e670['fps'],'loop':_0x23e670['loop'],'spriteAsset':_0x23e670['spriteAsse'+'t']});return this['_clips'][_0x23e670['name']]=_0x5ceecc,_0x5ceecc['name']&&_0x5ceecc['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x5ceecc;}['removeClip'](_0x30d92c){delete this['_clips'][_0x30d92c];}['clip'](_0x5d969f){return this['_clips'][_0x5d969f];}['play'](_0x5d84a8){const _0x2106b3=this['_clips'][_0x5d84a8],_0x37b625=this['_currentCl'+'ip'];return _0x37b625&&_0x37b625!==_0x2106b3&&(_0x37b625['_playing']=!(-0x98*0x34+-0xf2a+-0xf59*-0x3)),this['_currentCl'+'ip']=_0x2106b3,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x2106b3,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x5d84a8+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x2106b3;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0x281*-0xf+-0x630*0x6+-0x1*-0x4aaf);}}const f0=['enabled'];class mF extends ct{constructor(_0x5a9ed2){super(_0x5a9ed2),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x122293){this['_defaultMa'+'terial']=_0x122293;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x42fb8a=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x4aef45=new Uint8Array(_0x42fb8a['lock']());_0x4aef45[0x90*-0x17+0x6*-0x5a7+0x2eda]=_0x4aef45[0x1592+-0xa63+-0xb2e]=_0x4aef45[-0x1cc7+0x184e+0x47b]=_0x4aef45[0x2*0x15d+-0x31*-0x5b+-0x1422]=-0x2365*0x1+-0xc*0x1cd+-0x1*-0x3a00,_0x42fb8a['unlock']();const _0x2b728b=new Ut();_0x2b728b['diffuse']['set'](-0x13*-0x77+0x22f1+0xd*-0x35e,-0x5*0x266+0x1d*0xe9+-0xe67*0x1,-0x215f+-0xf57+0x30b6),_0x2b728b['emissive']['set'](-0x98d+0xf36+-0x5a8,-0xd45+0x1*-0x1fee+0x2d34,0x2300+0x258f+-0x488e),_0x2b728b['emissiveMa'+'p']=_0x42fb8a,_0x2b728b['opacityMap']=_0x42fb8a,_0x2b728b['opacityMap'+'Channel']='a',_0x2b728b['useLightin'+'g']=!(0x964+0x21df+0x2*-0x15a1),_0x2b728b['useTonemap']=!(-0x1191+0x5ec*-0x2+-0x1*-0x1d6a),_0x2b728b['useFog']=!(-0x11e9+0x2082+0x74c*-0x2),_0x2b728b['useSkybox']=!(-0x1*0x629+0xd7c+0x2*-0x3a9),_0x2b728b['blendType']=Gn,_0x2b728b['depthWrite']=!(-0x157e+-0x4*0x58+0x16df),_0x2b728b['pixelSnap']=!(0x1160*0x1+0x22c0+-0x1*0x341f),_0x2b728b['cull']=bt,_0x2b728b['update'](),this['_defaultTe'+'xture']=_0x42fb8a,this['_defaultMa'+'terial']=_0x2b728b;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x224780){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x224780;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x4f9e79=this['defaultMat'+'erial']['clone']();_0x4f9e79['nineSliced'+'Mode']=Pt,_0x4f9e79['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4f9e79;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x1ad49b){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x1ad49b;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x307c78=this['defaultMat'+'erial']['clone']();_0x307c78['nineSliced'+'Mode']=Mt,_0x307c78['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x307c78;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x9bc1a9,_0xd9b8bd,_0x5fb68e){if(_0xd9b8bd['enabled']!==void(-0x1ad2*-0x1+0x2fe*0xd+-0x41b8)&&(_0x9bc1a9['enabled']=_0xd9b8bd['enabled']),_0x9bc1a9['type']=_0xd9b8bd['type'],_0xd9b8bd['layers']&&Array['isArray'](_0xd9b8bd['layers'])&&(_0x9bc1a9['layers']=_0xd9b8bd['layers']['slice'](0x140d+0x182a+-0xebd*0x3)),_0xd9b8bd['drawOrder']!==void(-0x224+0x231+-0xd)&&(_0x9bc1a9['drawOrder']=_0xd9b8bd['drawOrder']),_0xd9b8bd['color']!==void(0x11db+-0x918+-0x8c3)&&(_0xd9b8bd['color']instanceof ie?_0x9bc1a9['color']['set'](_0xd9b8bd['color']['r'],_0xd9b8bd['color']['g'],_0xd9b8bd['color']['b'],_0xd9b8bd['opacity']??-0x20+0x23a*0x11+-0x105*0x25):_0x9bc1a9['color']['set'](_0xd9b8bd['color'][-0xc3c*0x3+-0xcaa+0x315e],_0xd9b8bd['color'][0x8ae+0x679*-0x5+-0x5ec*-0x4],_0xd9b8bd['color'][-0xe44+-0xe5d+0x1ca3],_0xd9b8bd['opacity']??-0x1*-0x19cf+-0x2401+-0x175*-0x7),_0x9bc1a9['color']=_0x9bc1a9['color']),_0xd9b8bd['opacity']!==void(0x2536+0x1*-0x11b1+-0x1385*0x1)&&(_0x9bc1a9['opacity']=_0xd9b8bd['opacity']),_0xd9b8bd['flipX']!==void(-0x4c2+-0x585*-0x2+-0x648)&&(_0x9bc1a9['flipX']=_0xd9b8bd['flipX']),_0xd9b8bd['flipY']!==void(0x1830+-0xbb1+0x1c9*-0x7)&&(_0x9bc1a9['flipY']=_0xd9b8bd['flipY']),_0xd9b8bd['width']!==void(-0x2415*0x1+-0x772*-0x3+0xdbf)&&(_0x9bc1a9['width']=_0xd9b8bd['width']),_0xd9b8bd['height']!==void(-0x6*0x23a+-0x2e0*0x6+-0xa34*-0x3)&&(_0x9bc1a9['height']=_0xd9b8bd['height']),_0xd9b8bd['spriteAsse'+'t']!==void(-0x1*0xf51+-0x4*0x893+0x319d*0x1)&&(_0x9bc1a9['spriteAsse'+'t']=_0xd9b8bd['spriteAsse'+'t']),_0xd9b8bd['sprite']&&(_0x9bc1a9['sprite']=_0xd9b8bd['sprite']),_0xd9b8bd['frame']!==void(-0x241f+-0x1*-0xb89+-0x1896*-0x1)&&(_0x9bc1a9['frame']=_0xd9b8bd['frame']),_0xd9b8bd['clips']){for(const _0x437f4e in _0xd9b8bd['clips'])_0x9bc1a9['addClip'](_0xd9b8bd['clips'][_0x437f4e]);}_0xd9b8bd['speed']!==void(0x172b+-0x1*-0x23f9+-0x3b24)&&(_0x9bc1a9['speed']=_0xd9b8bd['speed']),_0xd9b8bd['autoPlayCl'+'ip']&&(_0x9bc1a9['autoPlayCl'+'ip']=_0xd9b8bd['autoPlayCl'+'ip']),_0x9bc1a9['batchGroup'+'Id']=_0xd9b8bd['batchGroup'+'Id']===void(0x1bd6*0x1+0x260f*-0x1+-0x1*-0xa39)||_0xd9b8bd['batchGroup'+'Id']===null?-(-0x920+-0x13d9+0x2*0xe7d):_0xd9b8bd['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x9bc1a9,_0xd9b8bd,_0x5fb68e);}['cloneCompo'+'nent'](_0x4c4f2b,_0x104f2b){const _0x4f943a=_0x4c4f2b['sprite'];return this['addCompone'+'nt'](_0x104f2b,{'enabled':_0x4f943a['enabled'],'type':_0x4f943a['type'],'spriteAsset':_0x4f943a['spriteAsse'+'t'],'sprite':_0x4f943a['sprite'],'width':_0x4f943a['width'],'height':_0x4f943a['height'],'frame':_0x4f943a['frame'],'color':_0x4f943a['color']['clone'](),'opacity':_0x4f943a['opacity'],'flipX':_0x4f943a['flipX'],'flipY':_0x4f943a['flipY'],'speed':_0x4f943a['speed'],'clips':_0x4f943a['clips'],'autoPlayClip':_0x4f943a['autoPlayCl'+'ip'],'batchGroupId':_0x4f943a['batchGroup'+'Id'],'drawOrder':_0x4f943a['drawOrder'],'layers':_0x4f943a['layers']['slice'](-0x559*0x6+0x3*-0x3d3+-0x19d*-0x1b)});}['onUpdate'](_0x446ddb){const _0x4bf996=this['store'];for(const _0x58d3a3 in _0x4bf996)if(_0x4bf996['hasOwnProp'+'erty'](_0x58d3a3)){const _0x1c6a39=_0x4bf996[_0x58d3a3];if(_0x1c6a39['data']['enabled']&&_0x1c6a39['entity']['enabled']){const _0x28ac04=_0x1c6a39['entity']['sprite'];_0x28ac04['_currentCl'+'ip']&&_0x28ac04['_currentCl'+'ip']['_update'](_0x446ddb);}}}['onBeforeRe'+'move'](_0x258f82,_0x3ebe88){_0x3ebe88['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x570d8d,_0x231ec8){super(_0x570d8d,_0x231ec8),this['_oldState']=!(-0xeb*-0x19+0x8e3+-0x1fd6),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x331bf0){_0x331bf0 instanceof D?this['_size']['copy'](_0x331bf0):_0x331bf0 instanceof Array&&_0x331bf0['length']>=0x23a5+0x43f*0x9+-0x3e3*0x13&&this['size']['set'](_0x331bf0[-0x43a+-0xf*0x227+0x2483*0x1],_0x331bf0[-0x554*-0x2+0x8b*-0x23+-0x2*-0x42d],_0x331bf0[0x1112+-0x25f*-0x4+-0x1a8c]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x4e0ab0,_0x858bb7,_0x4fc572){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x2a46db=this['enabled']&&this['entity']['enabled'];_0x2a46db!==this['_oldState']&&(this['_oldState']=_0x2a46db,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x1973+-0x3*-0x2e1+-0x2216);}}const u0=['enabled'];class gF extends ct{constructor(_0x3e22b4){super(_0x3e22b4),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x253c81,_0x4313c3,_0x26a831){_0x253c81['enabled']=_0x4313c3['hasOwnProp'+'erty']('enabled')?!!_0x4313c3['enabled']:!(-0x2ac+-0x1eb*0x4+0x296*0x4),_0x4313c3['size']&&(_0x4313c3['size']instanceof D?_0x253c81['size']['copy'](_0x4313c3['size']):_0x4313c3['size']instanceof Array&&_0x4313c3['size']['length']>=-0x1*-0x1cf3+0x1f09+-0x3bf9&&_0x253c81['size']['set'](_0x4313c3['size'][0x1a95+-0x19cb+0xca*-0x1],_0x4313c3['size'][-0x7f*-0x15+-0x15cd+-0x37*-0x35],_0x4313c3['size'][-0x368*0x3+0x2*-0x110a+0x2c4e]));}['cloneCompo'+'nent'](_0x5a4e5c,_0x2c58c3){const _0x37b149={'enabled':_0x5a4e5c['zone']['enabled'],'size':_0x5a4e5c['zone']['size']};return this['addCompone'+'nt'](_0x2c58c3,_0x37b149);}['_onBeforeR'+'emove'](_0x1c0f5a,_0x599ad0){_0x599ad0['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x28f7ba,_0x15ad56){this['effect']=_0x28f7ba,this['inputTarge'+'t']=_0x15ad56,this['outputTarg'+'et']=null,this['name']=_0x28f7ba['constructo'+'r']['name'];}}class yF{constructor(_0x4adb67,_0x35edd5){this['app']=_0x4adb67,this['camera']=_0x35edd5,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x94f*-0x4+0xa*0x26a+0x1475*-0x3),this['depthTarge'+'t']=null,_0x35edd5['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x1dc69b,_0xc3a9){const _0x36152b=this['camera']['rect'],_0x7f8315=this['destinatio'+'nRenderTar'+'get'],_0x5cac34=this['app']['graphicsDe'+'vice'],_0x2ab013=Math['floor'](_0x36152b['z']*((_0x7f8315==null?void(-0x1e5+-0x3ae*-0x8+-0xb*0x281):_0x7f8315['width'])??_0x5cac34['width'])),_0x1ee77a=Math['floor'](_0x36152b['w']*((_0x7f8315==null?void(-0x4cd+-0x14ce*0x1+0x199b):_0x7f8315['height'])??_0x5cac34['height']));return new _e(_0x5cac34,{'name':_0xc3a9,'format':_0x1dc69b,'width':_0x2ab013,'height':_0x1ee77a,'mipmaps':!(-0xbc+-0x26e8+0x27a5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x51fd06,_0x491b93){const _0x542b1d=this['app']['graphicsDe'+'vice'],_0x16c7d3=(this['destinatio'+'nRenderTar'+'get']??_0x542b1d['backBuffer'])['isColorBuf'+'ferSrgb'](0x2*0x4ca+-0x7*0x1c9+0x2eb),_0x5c2301=(_0x491b93&&_0x542b1d['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x81d*0x3+0x2210+0x83*-0x13)))??(_0x16c7d3?_s:Ne),_0x12e27a=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x5605db=this['_allocateC'+'olorBuffer'](_0x5c2301,_0x12e27a);return new gt({'colorBuffer':_0x5605db,'depth':_0x51fd06,'stencil':_0x51fd06&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x51fd06?_0x542b1d['samples']:-0xd24+0x93f+-0x2*-0x1f3});}['_resizeOff'+'screenTarg'+'et'](_0x1f8679){const _0x1f2368=_0x1f8679['colorBuffe'+'r']['format'],_0x2e0ac9=_0x1f8679['colorBuffe'+'r']['name'];_0x1f8679['destroyFra'+'meBuffers'](),_0x1f8679['destroyTex'+'tureBuffer'+'s'](),_0x1f8679['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x1f2368,_0x2e0ac9),_0x1f8679['_colorBuff'+'ers']=[_0x1f8679['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4a54c2){_0x4a54c2['destroyTex'+'tureBuffer'+'s'](),_0x4a54c2['destroy']();}['addEffect'](_0x1f8225){const _0x3a02d6=this['effects'],_0x373c84=_0x3a02d6['length']===-0x1c1*0x1+0x2261+0x828*-0x4,_0xef3a64=this['_createOff'+'screenTarg'+'et'](_0x373c84,_0x1f8225['hdr']),_0x13bf0c=new SF(_0x1f8225,_0xef3a64);_0x3a02d6['push'](_0x13bf0c),this['_sourceTar'+'get']=_0x13bf0c['inputTarge'+'t'],_0x3a02d6['length']>-0x1*-0x210a+-0x1077+-0xe*0x12f&&(_0x3a02d6[_0x3a02d6['length']-(-0x149d+-0x14a1+0x2940)]['outputTarg'+'et']=_0x13bf0c['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1f8225,_0x1f8225['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x951+0x176b+-0x4*0x82f);}['removeEffe'+'ct'](_0x3cfe6a){let _0x133b04=-(-0x188b+-0x6c4+-0x1f50*-0x1);for(let _0x163f7d=-0xdec+-0x867*0x2+0x1eba,_0x3947db=this['effects']['length'];_0x163f7d<_0x3947db;_0x163f7d++)if(this['effects'][_0x163f7d]['effect']===_0x3cfe6a){_0x133b04=_0x163f7d;break;}_0x133b04>=-0x261b+-0x1629+0x196*0x26&&(_0x133b04>-0x1f2*-0x1+-0x1c19+0x1a27?this['effects'][_0x133b04-(-0x1ac0+0x106*0x1c+-0x1e7)]['outputTarg'+'et']=_0x133b04+(0x12*0x67+0x665+-0xda2)<this['effects']['length']?this['effects'][_0x133b04+(0x198+-0x47*0x22+0x1*0x7d7)]['inputTarge'+'t']:null:this['effects']['length']>-0x3*0xa43+0x1*-0x2379+-0x1*-0x4243&&(this['effects'][0x29+-0x2*0x10fd+-0x6*-0x5a3]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x238d+-0x4f9*-0x3+-0x3277]['inputTarge'+'t']),this['effects'][-0x8b*-0x1f+-0x229e+0x2*0x8e5]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x25b*-0x9+0xca0+0x893),this['effects'][-0x3e5*0x1+0x22c9*0x1+-0x1ee3]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x8*0xc7+-0x11bc+0x1*0x17f5]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x1*-0x107b+0x2665*0x1+0x1*-0x15e9]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x133b04]['inputTarge'+'t']),this['effects']['splice'](_0x133b04,-0x4*0x68f+-0x1767+0x31a4)),this['enabled']&&_0x3cfe6a['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x17da+0x3aa+-0x1b84&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x56a755=0x1fa6+0x1d9+-0x157*0x19,_0x1a0f28=this['effects']['length'];_0x56a755<_0x1a0f28;_0x56a755++){const _0x1db274=this['effects'][_0x56a755]['effect'];this['_newPostEf'+'fect']!==_0x1db274&&_0x1db274['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x4e6793=-0x1*-0x804+0x7*-0xa3+-0x38f*0x1,_0x1f3739=this['effects']['length'];_0x4e6793<_0x1f3739;_0x4e6793++)this['effects'][_0x4e6793]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x1723c3=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x1723c3&&(_0x1723c3['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x189*-0x14+-0x1505*0x1+0x1*0x33b9)));}['_releaseDe'+'pthMap'](){const _0x463324=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x463324&&(_0x463324['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x19f8+-0x1d*-0x61+0xefc)));}['destroy'](){for(let _0x3657f5=-0x1*-0x108d+0x1659+-0x1373*0x2,_0xa0f3c5=this['effects']['length'];_0x3657f5<_0xa0f3c5;_0x3657f5++)this['effects'][_0x3657f5]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1*0x20c6+0xa77+0x164f,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x1d57+-0x1d62+0x3ab9*0x1),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x43*-0x56+-0x20eb+0x376d]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0xda400b=null;const _0x3db449=this['effects']['length'];if(_0x3db449)for(let _0x51d13b=0x7f*-0x2+0x144a+0x9a6*-0x2;_0x51d13b<_0x3db449;_0x51d13b++){const _0x1cd3dc=this['effects'][_0x51d13b];let _0x6e443a=_0x1cd3dc['outputTarg'+'et'];_0x51d13b===_0x3db449-(-0x200c+0xac1*0x1+0x154c)&&(_0xda400b=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x6e443a=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x1cd3dc['name']),_0x1cd3dc['effect']['render'](_0x1cd3dc['inputTarge'+'t'],_0x6e443a,_0xda400b),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1d1a+0x25a4*-0x1+0x989*0x7),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x1cc499,_0x3bef30){const _0x4a9f37=this['camera']['rect'],_0x237cbd=this['destinatio'+'nRenderTar'+'get'];_0x1cc499=(_0x237cbd==null?void(0x199c+-0xde4*0x1+-0xbb8):_0x237cbd['width'])??_0x1cc499,_0x3bef30=(_0x237cbd==null?void(-0x9*-0x446+-0x425*-0x5+-0x3b2f):_0x237cbd['height'])??_0x3bef30,this['camera']['camera']['aspectRati'+'o']=_0x1cc499*_0x4a9f37['z']/(_0x3bef30*_0x4a9f37['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x3b80ef=this['app']['graphicsDe'+'vice'],_0x49e250=this['destinatio'+'nRenderTar'+'get'],_0x6acbc0=(_0x49e250==null?void(-0xbb0+0x1231+0xf*-0x6f):_0x49e250['width'])??_0x3b80ef['width'],_0x10e88f=(_0x49e250==null?void(-0x1211+0xbf0+0x621):_0x49e250['height'])??_0x3b80ef['height'],_0x120f81=this['camera']['rect'],_0x352929=Math['floor'](_0x120f81['z']*_0x6acbc0),_0x52d309=Math['floor'](_0x120f81['w']*_0x10e88f),_0x34855f=this['effects'];for(let _0x1e779e=0x5*0x61f+0x29*-0x19+-0x1a9a,_0x1f9681=_0x34855f['length'];_0x1e779e<_0x1f9681;_0x1e779e++){const _0x299854=_0x34855f[_0x1e779e];(_0x299854['inputTarge'+'t']['width']!==_0x352929||_0x299854['inputTarge'+'t']['height']!==_0x52d309)&&this['_resizeOff'+'screenTarg'+'et'](_0x299854['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5aa7d3,_0x3caf70,_0x366a87){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x186657,_0x428dfe){super(_0x186657,_0x428dfe),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x9*-0x287+0x13e8+0x2aa7*-0x1),h(this,'_renderSce'+'neColorMap',0x252f+-0x3*0x89+-0x63*0x5c),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x150*-0x5+0xc5a+-0x12e9)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x2689+0xd41+-0x1*-0x1949)),h(this,'_priority',0xe11+0x2d8*0xa+-0x27*0x117),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x428dfe,this['_postEffec'+'ts']=new yF(_0x186657['app'],this));}['setShaderP'+'ass'](_0x4bd779){const _0x564be3=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x44978f=_0x4bd779?_0x564be3['allocate'](_0x4bd779,{'isForward':!(-0x1eec+0x251b*-0x1+0x4407)}):null;return this['_camera']['shaderPass'+'Info']=_0x44978f,_0x44978f['index'];}['getShaderP'+'ass'](){var _0x475957;return(_0x475957=this['_camera']['shaderPass'+'Info'])==null?void(0x4d6*-0x7+-0x49d*0x8+0x6*0xbcb):_0x475957['name'];}set['renderPass'+'es'](_0x514b99){this['_camera']['renderPass'+'es']=_0x514b99||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x1359+-0xbc1+-0x798);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x5a9caf){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x5a9caf;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x55b097){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x55b097;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x18592e){this['_camera']['fogParams']=_0x18592e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x3f0452){this['_camera']['aperture']=_0x3f0452;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x279e05){this['_camera']['aspectRati'+'o']=_0x279e05;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0xecd2ab){this['_camera']['aspectRati'+'oMode']=_0xecd2ab;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x12c093){this['_camera']['calculateP'+'rojection']=_0x12c093;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x203cbe){this['_camera']['calculateT'+'ransform']=_0x203cbe;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x573bae){this['_camera']['clearColor']=_0x573bae;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x26aac6){this['_camera']['clearColor'+'Buffer']=_0x26aac6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x2889ea){this['_camera']['clearDepth'+'Buffer']=_0x2889ea,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x302e19){this['_camera']['clearStenc'+'ilBuffer']=_0x302e19,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x58a8c9){this['_camera']['cullFaces']=_0x58a8c9;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x169911){this['_disablePo'+'stEffectsL'+'ayer']=_0x169911,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x105fb2){this['_camera']['farClip']=_0x105fb2;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x755b5c){this['_camera']['flipFaces']=_0x755b5c;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x4d0443){this['_camera']['fov']=_0x4d0443;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x6a4a6){this['_camera']['frustumCul'+'ling']=_0x6a4a6;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x349679){this['_camera']['horizontal'+'Fov']=_0x349679;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x598184){const _0x48b576=this['_camera']['layers'],_0x514b79=this['system']['app']['scene'];_0x48b576['forEach'](_0x1f8024=>{const _0x3c98e6=_0x514b79['layers']['getLayerBy'+'Id'](_0x1f8024);_0x3c98e6==null||_0x3c98e6['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x598184,this['enabled']&&this['entity']['enabled']&&_0x598184['forEach'](_0x42ae0f=>{const _0x150b75=_0x514b79['layers']['getLayerBy'+'Id'](_0x42ae0f);_0x150b75==null||_0x150b75['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x57d00c){this['_camera']['jitter']=_0x57d00c;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0xea7776){this['_camera']['nearClip']=_0xea7776;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x5c4fc3){this['_camera']['orthoHeigh'+'t']=_0x5c4fc3;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x3c2cda){this['_priority']=_0x3c2cda,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x21514e){this['_camera']['projection']=_0x21514e;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x1ffd58){this['_camera']['rect']=_0x1ffd58,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x4dc3b9){_0x4dc3b9&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x1bd8+0x1c52+-0x7a)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xb1*-0x16+0x3a*0x6e+-0x2822)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x3e*0x3+0x1*-0x995+0x8dc)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1c*-0x13d+0x223*0x7+0x4*-0xc68));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x164a+0x2360+-0x39aa;}set['renderScen'+'eDepthMap'](_0x22a428){_0x22a428&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x2547+-0x26*-0xf+0x2781*-0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x24*0x91+0x2213+-0x49*0xbf)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x15e+0xdb*-0x1f+0x1928)),this['_sceneDept'+'hMapReques'+'ted']=!(0x3e5*-0x7+0x1fe0+-0x49c));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x7b3*-0x4+-0xe05+0x2cd1;}set['renderTarg'+'et'](_0x421907){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x611+-0x2102+0x1af1&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x421907,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x37f3cb){this['_camera']['scissorRec'+'t']=_0x37f3cb;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x43ad7a){this['_camera']['sensitivit'+'y']=_0x43ad7a;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x17175a){this['_camera']['shutter']=_0x17175a;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x6766d8){if(this['layers']['find'](_0x31db4b=>_0x31db4b===ps)){const _0x5d5d55=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x6766d8?_0x5d5d55==null||_0x5d5d55['incrementC'+'ounter']():_0x5d5d55==null||_0x5d5d55['decrementC'+'ounter']();}else{if(_0x6766d8)return!(-0x3*-0x489+0x329*0xb+0x305d*-0x1);}return!(0x133b+-0x1*0xae9+0xf*-0x8e);}['requestSce'+'neColorMap'](_0x213e8a){this['_renderSce'+'neColorMap']+=_0x213e8a?0x11fd+0xdd*0x5+0x21*-0xad:-(-0x241*0xb+0x5*0x5c9+-0x421),w['assert'](this['_renderSce'+'neColorMap']>=0x296*0x7+0x1ca6+-0x8*0x5d8),this['_enableDep'+'thLayer'](_0x213e8a)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x25db1c){this['_renderSce'+'neDepthMap']+=_0x25db1c?-0x1c6*0x1+0x20a8+-0x55*0x5d:-(-0x1d*0x31+0x62f+0x17*-0x7),w['assert'](this['_renderSce'+'neDepthMap']>=-0x182b*0x1+0x878+0xfb3*0x1),this['_enableDep'+'thLayer'](_0x25db1c)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x522f5c=this['system']['app']['scene']['layers'];_0x522f5c['_dirty']=!(0x1370+-0x2481+0x101*0x11);}['screenToWo'+'rld'](_0x16bc7c,_0x5e70c6,_0x134c28,_0x301683){const _0x1b2780=this['system']['app']['graphicsDe'+'vice'],{width:_0x3fbead,height:_0x3cf21c}=_0x1b2780['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x16bc7c,_0x5e70c6,_0x134c28,_0x3fbead,_0x3cf21c,_0x301683);}['worldToScr'+'een'](_0x5e3715,_0x3ac563){const _0x563d1e=this['system']['app']['graphicsDe'+'vice'],{width:_0x15cd28,height:_0x55e0f2}=_0x563d1e['clientRect'];return this['_camera']['worldToScr'+'een'](_0x5e3715,_0x15cd28,_0x55e0f2,_0x3ac563);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x878+0x5*0x6be+-0x2a2e),this['_camera']['_viewProjM'+'atDirty']=!(0x4*0x4b+0x2c3*0xd+-0x2513);}['addCameraT'+'oLayers'](){const _0x117422=this['layers'];for(let _0x538ba1=0x5b0+0x133b+0x18eb*-0x1;_0x538ba1<_0x117422['length'];_0x538ba1++){const _0x39bc52=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x117422[_0x538ba1]);_0x39bc52&&_0x39bc52['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x571ebb=this['layers'];for(let _0x1c3b0f=-0xef3+-0xff*-0x5+0x9f8;_0x1c3b0f<_0x571ebb['length'];_0x1c3b0f++){const _0x1f3e2f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x571ebb[_0x1c3b0f]);_0x1f3e2f&&_0x1f3e2f['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x25a294,_0x4dc51d){this['addCameraT'+'oLayers'](),_0x25a294['off']('add',this['onLayerAdd'+'ed'],this),_0x25a294['off']('remove',this['onLayerRem'+'oved'],this),_0x4dc51d['on']('add',this['onLayerAdd'+'ed'],this),_0x4dc51d['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3dca6d){this['layers']['indexOf'](_0x3dca6d['id'])<-0x2200+-0x1d12+-0x15f*-0x2e||_0x3dca6d['addCamera'](this);}['onLayerRem'+'oved'](_0x5e4689){this['layers']['indexOf'](_0x5e4689['id'])<0x18e9*-0x1+0x46*-0x66+-0x78b*-0x7||_0x5e4689['removeCame'+'ra'](this);}['onEnable'](){var _0xa16765,_0x3473c5,_0x40b7ff;const _0x40de41=this['system']['app']['scene'],_0x29b2df=_0x40de41['layers'];this['system']['addCamera'](this),(_0xa16765=this['_evtLayers'+'Changed'])==null||_0xa16765['off'](),this['_evtLayers'+'Changed']=_0x40de41['on']('set:layers',this['onLayersCh'+'anged'],this),_0x29b2df&&((_0x3473c5=this['_evtLayerA'+'dded'])==null||_0x3473c5['off'](),this['_evtLayerA'+'dded']=_0x29b2df['on']('add',this['onLayerAdd'+'ed'],this),(_0x40b7ff=this['_evtLayerR'+'emoved'])==null||_0x40b7ff['off'](),this['_evtLayerR'+'emoved']=_0x29b2df['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x5a6fee,_0x49c244,_0x3d2a58;const _0x1acfcf=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x5a6fee=this['_evtLayers'+'Changed'])==null||_0x5a6fee['off'](),this['_evtLayers'+'Changed']=null,_0x1acfcf&&((_0x49c244=this['_evtLayerA'+'dded'])==null||_0x49c244['off'](),this['_evtLayerA'+'dded']=null,(_0x3d2a58=this['_evtLayerR'+'emoved'])==null||_0x3d2a58['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x2756d7){const _0x4abb1e=this['system']['app']['graphicsDe'+'vice'],_0x1463fa=_0x2756d7?_0x2756d7['width']:_0x4abb1e['width'],_0x3bce6a=_0x2756d7?_0x2756d7['height']:_0x4abb1e['height'];return _0x1463fa*this['rect']['z']/(_0x3bce6a*this['rect']['w']);}['frameUpdat'+'e'](_0xba2322){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0xba2322));}['startXr'](_0x595360,_0x78d555,_0x554a6d){this['system']['app']['xr']['start'](this,_0x595360,_0x78d555,_0x554a6d);}['endXr'](_0x2f0e99){if(!this['_camera']['xr']){_0x2f0e99&&_0x2f0e99(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x2f0e99);}['copy'](_0x195ab9){this['aperture']=_0x195ab9['aperture'],this['aspectRati'+'o']=_0x195ab9['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x195ab9['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x195ab9['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x195ab9['calculateT'+'ransform'],this['clearColor']=_0x195ab9['clearColor'],this['clearColor'+'Buffer']=_0x195ab9['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x195ab9['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x195ab9['clearStenc'+'ilBuffer'],this['cullFaces']=_0x195ab9['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x195ab9['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x195ab9['farClip'],this['flipFaces']=_0x195ab9['flipFaces'],this['fov']=_0x195ab9['fov'],this['frustumCul'+'ling']=_0x195ab9['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x195ab9['horizontal'+'Fov'],this['layers']=_0x195ab9['layers'],this['nearClip']=_0x195ab9['nearClip'],this['orthoHeigh'+'t']=_0x195ab9['orthoHeigh'+'t'],this['priority']=_0x195ab9['priority'],this['projection']=_0x195ab9['projection'],this['rect']=_0x195ab9['rect'],this['renderTarg'+'et']=_0x195ab9['renderTarg'+'et'],this['scissorRec'+'t']=_0x195ab9['scissorRec'+'t'],this['sensitivit'+'y']=_0x195ab9['sensitivit'+'y'],this['shutter']=_0x195ab9['shutter'];}}class vF{constructor(){this['enabled']=!(-0x2011*-0x1+-0x3*0xc11+-0x2e*-0x17);}}const p0=['enabled'];class xF extends ct{constructor(_0x526449){super(_0x526449),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x5e2c1b,_0x11bcd6,_0x2dc76c){_0x2dc76c=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x375559=-0x1420+-0x6*0x314+0x2698;_0x375559<_0x2dc76c['length'];_0x375559++){const _0x1413a4=_0x2dc76c[_0x375559];if(_0x11bcd6['hasOwnProp'+'erty'](_0x1413a4)){const _0x34df56=_0x11bcd6[_0x1413a4];switch(_0x1413a4){case'rect':case'scissorRec'+'t':Array['isArray'](_0x34df56)?_0x5e2c1b[_0x1413a4]=new re(_0x34df56[0x263*-0x1+0x153*0x11+-0x1420],_0x34df56[-0x1*0xebb+-0x1*0x16ba+0x2576],_0x34df56[0x138*-0x3+0x2504+-0x6*0x58f],_0x34df56[0x159*-0x4+-0x1*-0x2525+-0x2*0xfdf]):_0x5e2c1b[_0x1413a4]=_0x34df56;break;case'clearColor':Array['isArray'](_0x34df56)?_0x5e2c1b[_0x1413a4]=new ie(_0x34df56[-0x1de3*0x1+-0x7f4+0x25d7],_0x34df56[0xac0+0x2128+-0x2be7],_0x34df56[-0xbe0+0x24bf+-0x18dd],_0x34df56[0x606*0x3+0x1*-0x166d+0x45e]):_0x5e2c1b[_0x1413a4]=_0x34df56;break;default:_0x5e2c1b[_0x1413a4]=_0x34df56;break;}}}super['initialize'+'ComponentD'+'ata'](_0x5e2c1b,_0x11bcd6,['enabled']);}['cloneCompo'+'nent'](_0x3c28d9,_0x41ad36){const _0x5eb495=_0x3c28d9['camera'];return this['addCompone'+'nt'](_0x41ad36,{'aspectRatio':_0x5eb495['aspectRati'+'o'],'aspectRatioMode':_0x5eb495['aspectRati'+'oMode'],'calculateProjection':_0x5eb495['calculateP'+'rojection'],'calculateTransform':_0x5eb495['calculateT'+'ransform'],'clearColor':_0x5eb495['clearColor'],'clearColorBuffer':_0x5eb495['clearColor'+'Buffer'],'clearDepthBuffer':_0x5eb495['clearDepth'+'Buffer'],'clearStencilBuffer':_0x5eb495['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x5eb495['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x5eb495['renderScen'+'eColorMap'],'cullFaces':_0x5eb495['cullFaces'],'enabled':_0x5eb495['enabled'],'farClip':_0x5eb495['farClip'],'flipFaces':_0x5eb495['flipFaces'],'fov':_0x5eb495['fov'],'frustumCulling':_0x5eb495['frustumCul'+'ling'],'horizontalFov':_0x5eb495['horizontal'+'Fov'],'layers':_0x5eb495['layers'],'renderTarget':_0x5eb495['renderTarg'+'et'],'nearClip':_0x5eb495['nearClip'],'orthoHeight':_0x5eb495['orthoHeigh'+'t'],'projection':_0x5eb495['projection'],'priority':_0x5eb495['priority'],'rect':_0x5eb495['rect'],'scissorRect':_0x5eb495['scissorRec'+'t'],'aperture':_0x5eb495['aperture'],'sensitivity':_0x5eb495['sensitivit'+'y'],'shutter':_0x5eb495['shutter'],'gammaCorrection':_0x5eb495['gammaCorre'+'ction'],'toneMapping':_0x5eb495['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x5322a2,_0x2d4a75){this['removeCame'+'ra'](_0x2d4a75),_0x2d4a75['onRemove']();}['onAppPrere'+'nder'](){for(let _0x363387=0x1331+-0x1d50+-0x1*-0xa1f,_0x2717a9=this['cameras']['length'];_0x363387<_0x2717a9;_0x363387++)this['cameras'][_0x363387]['onAppPrere'+'nder']();}['addCamera'](_0x46c958){this['cameras']['push'](_0x46c958),ul(this['cameras']);}['removeCame'+'ra'](_0x3be76b){const _0x5285f3=this['cameras']['indexOf'](_0x3be76b);_0x5285f3>=0xc4f+-0x467+0x2*-0x3f4&&(this['cameras']['splice'](_0x5285f3,0x255c+-0xe45*-0x1+-0x33a0),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x3a6*-0x1+-0x9*0x36d+-0x4ed*-0x7)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0xd1d+0x23ca+0xb56*-0x2,-0x1*-0x1051+-0x1*0x104b+-0x1*0x5,0x1b5f+0x729+-0x2287*0x1)),h(this,'intensity',-0x1*0x25c1+-0x1*-0x223+0x239f),h(this,'luminance',0xe92+0x438+-0x12ca),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x3*0x20f+-0x1*-0x6c5+-0x98)),h(this,'castShadow'+'s',!(0x87b*-0x1+-0x7f*-0x1+-0x199*-0x5)),h(this,'shadowDist'+'ance',0x18bf+-0xfd6*-0x2+-0x3843),h(this,'shadowInte'+'nsity',0x198e+0x1*0x543+-0x1ed0),h(this,'shadowReso'+'lution',-0x1ce8+0x11b*0xa+-0x15da*-0x1),h(this,'shadowBias',0xf09+0x1d5*0xa+-0x215b*0x1+0.05),h(this,'numCascade'+'s',0x1caa*0x1+-0x1ab*0x1+0x2b3*-0xa),h(this,'cascadeBle'+'nd',0x2*-0x903+0x13d*-0x1a+0x3238),h(this,'bakeNumSam'+'ples',-0xd5b+-0x84b*0x3+0x263d),h(this,'bakeArea',0xf07+-0x1af0+-0x1*-0xbe9),h(this,'cascadeDis'+'tribution',-0x1*-0x1480+0x1208+-0x2688+0.5),h(this,'normalOffs'+'etBias',0x119*-0x1c+0x22ae*-0x1+0x3*0x15ce),h(this,'range',0x161f+-0x202+-0x1413),h(this,'innerConeA'+'ngle',0x1*-0x665+-0x6*0x647+0x2c37),h(this,'outerConeA'+'ngle',0x17de+0x684*0x2+0x11*-0x229),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x1*-0x214e+-0x5e5*-0x5+-0x1*0x3ebc),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x2062+-0x254+0x6*0x5c9+0.01)*(0x14a*-0x17+0x1b81+-0x1*-0x225+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',0x1c46*-0x1+-0xcd6*-0x3+0x9*-0x123),h(this,'cookieFall'+'off',!(0x264b*-0x1+-0x1b*-0xae+0x13f1)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x1eed+-0xa*-0x25+-0x205f),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x11*0x215+-0x18cf+0x3c35),h(this,'affectDyna'+'mic',!(-0x1b5*0x12+0x16d3+-0x1*-0x7e7)),h(this,'affectLigh'+'tmapped',!(0x1c*-0x123+-0x16e1*0x1+0x36b6)),h(this,'bake',!(-0x1fa7+-0x2525+0x44cd)),h(this,'bakeDir',!(-0x2b+-0x98e*-0x2+0xd*-0x175)),h(this,'isStatic',!(-0x25*-0xd1+-0x1d8*-0xb+-0x10d4*0x3)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0x1dd8+0x54*0x7+0x3*0x92f),h(this,'penumbraFa'+'lloff',0x52*-0x57+0x1*0x2e7+0x31f*0x8),h(this,'shadowSamp'+'les',0x16d2*0x1+-0x2051*0x1+0x98f*0x1),h(this,'shadowBloc'+'kerSamples',-0x1c4b+0xb*0x16f+0x1*0xc96);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x17e1+0x1fbb+-0x379b)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x2b2087=this['system']['store'][this['entity']['getGuid']()];return _0x2b2087?_0x2b2087['data']:null;}set['enabled'](_0x5b996a){this['_setValue']('enabled',_0x5b996a,function(_0x4fd34d,_0xdf8e37){this['onSetEnabl'+'ed'](null,_0xdf8e37,_0x4fd34d);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x490e5b){this['_setValue']('light',_0x490e5b);}get['light'](){return this['data']['light'];}set['type'](_0x1fd942){this['_setValue']('type',_0x1fd942,function(_0x470f42,_0x44db6b){this['system']['changeType'](this,_0x44db6b,_0x470f42),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x40df23){this['_setValue']('color',_0x40df23,function(_0x294277,_0x5bf6b1){this['light']['setColor'](_0x294277);},!(0x5bc*0x5+-0x1*0x21a1+-0x9*-0x8d));}get['color'](){return this['data']['color'];}set['intensity'](_0x2bceb1){this['_setValue']('intensity',_0x2bceb1,function(_0x1f79fd,_0x454cbc){this['light']['intensity']=_0x1f79fd;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x3d7db7){this['_setValue']('luminance',_0x3d7db7,function(_0x7b7093,_0x57fa1b){this['light']['luminance']=_0x7b7093;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x27a748){this['_setValue']('shape',_0x27a748,function(_0x5ca867,_0xc3ba93){this['light']['shape']=_0x5ca867;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x52d186){this['_setValue']('affectSpec'+'ularity',_0x52d186,function(_0x5a9a47,_0x22f0f0){this['light']['affectSpec'+'ularity']=_0x5a9a47;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x291f3c){this['_setValue']('castShadow'+'s',_0x291f3c,function(_0x3976db,_0x1512c2){this['light']['castShadow'+'s']=_0x3976db;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x39c71e){this['_setValue']('shadowDist'+'ance',_0x39c71e,function(_0xda9fe5,_0x5678d1){this['light']['shadowDist'+'ance']=_0xda9fe5;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x256282){this['_setValue']('shadowInte'+'nsity',_0x256282,function(_0x5257d2,_0x538c97){this['light']['shadowInte'+'nsity']=_0x5257d2;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x46c3c9){this['_setValue']('shadowReso'+'lution',_0x46c3c9,function(_0x51340c,_0xb4b86a){this['light']['shadowReso'+'lution']=_0x51340c;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x4e2ddf){this['_setValue']('shadowBias',_0x4e2ddf,function(_0x2716be,_0x9e8e4d){this['light']['shadowBias']=-(-0x21a1+0x78d+0x1a14+0.01)*Y['clamp'](_0x2716be,0x23e7+0x2062+0x3*-0x16c3,0x1767+0xddc+-0x13*0x1f6);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x38572d){this['_setValue']('numCascade'+'s',_0x38572d,function(_0x6e21e9,_0x350f75){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x6e21e9),0x2195+-0x8c*0xd+0x1c*-0xf2,-0x2*-0x7c+0x1d4+0x1*-0x2c8);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x1458fc){this['_setValue']('cascadeBle'+'nd',_0x1458fc,function(_0x328bb2,_0x409c09){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x328bb2,-0x2c*0x7b+-0x2104+-0x6c5*-0x8,-0x124a*0x1+-0x5e5*-0x6+0x1f*-0x8d);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x527e6f){this['_setValue']('bakeNumSam'+'ples',_0x527e6f,function(_0x4b128c,_0x2d262c){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x4b128c),0x11b4*-0x2+-0x117f+0x8*0x69d,-0x1*-0x18e3+-0x2266+0xa82);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xcd28fd){this['_setValue']('bakeArea',_0xcd28fd,function(_0x441123,_0x208e1f){this['light']['bakeArea']=Y['clamp'](_0x441123,0x57a*-0x3+-0x1ef6+0x2f64,0x1639+-0xb31+-0x52a*0x2);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x13d654){this['_setValue']('cascadeDis'+'tribution',_0x13d654,function(_0x50e839,_0x3ce7cb){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x50e839,-0x1138+0x2454+-0x2*0x98e,0x11b*-0x5+0x10a3+-0xb1b);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x5b7615){this['_setValue']('normalOffs'+'etBias',_0x5b7615,function(_0x828d11,_0x3253c1){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x828d11,-0x2*-0xb2+0x25*0x2b+-0x79b,0x101a+-0x584+-0x183*0x7);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0xfca325){this['_setValue']('range',_0xfca325,function(_0x508651,_0x4f9c97){this['light']['attenuatio'+'nEnd']=_0x508651;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x45e799){this['_setValue']('innerConeA'+'ngle',_0x45e799,function(_0x1f7d18,_0x452943){this['light']['innerConeA'+'ngle']=_0x1f7d18;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x3a1d09){this['_setValue']('outerConeA'+'ngle',_0x3a1d09,function(_0x426ef1,_0x5dadf6){this['light']['outerConeA'+'ngle']=_0x426ef1;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x5446d8){this['_setValue']('falloffMod'+'e',_0x5446d8,function(_0x29f638,_0x32876f){this['light']['falloffMod'+'e']=_0x29f638;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x40764d){this['_setValue']('shadowType',_0x40764d,function(_0x5e2314,_0x362c68){this['light']['shadowType']=_0x5e2314;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x39667c){this['_setValue']('vsmBlurSiz'+'e',_0x39667c,function(_0x13c2fd,_0x5a37d7){this['light']['vsmBlurSiz'+'e']=_0x13c2fd;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0xe3dd77){this['_setValue']('vsmBlurMod'+'e',_0xe3dd77,function(_0x346d76,_0x2f1f31){this['light']['vsmBlurMod'+'e']=_0x346d76;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x3d79b0){this['_setValue']('vsmBias',_0x3d79b0,function(_0x398f47,_0x233f2c){this['light']['vsmBias']=Y['clamp'](_0x398f47,0x9e7+-0x1627+0xc40,-0x26fe+0xf39*0x1+0x17c6);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3854e8){this['_setValue']('cookieAsse'+'t',_0x3854e8,function(_0x1c1f43,_0x4fa928){if(!(this['_cookieAss'+'etId']&&(_0x1c1f43 instanceof pe&&_0x1c1f43['id']===this['_cookieAss'+'etId']||_0x1c1f43===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x1c1f43 instanceof pe)this['data']['cookieAsse'+'t']=_0x1c1f43['id'],this['_cookieAss'+'etId']=_0x1c1f43['id'],this['onCookieAs'+'setAdd'](_0x1c1f43);else{if(typeof _0x1c1f43=='number'){this['_cookieAss'+'etId']=_0x1c1f43;const _0x41298d=this['system']['app']['assets']['get'](_0x1c1f43);_0x41298d?this['onCookieAs'+'setAdd'](_0x41298d):(this['_cookieAss'+'etAdd']=!(0x2e*-0x7b+-0xa6f+0x2089),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x16d376){this['_setValue']('cookie',_0x16d376,function(_0x2b18a5,_0x2ea675){this['light']['cookie']=_0x2b18a5;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x4782ae){this['_setValue']('cookieInte'+'nsity',_0x4782ae,function(_0x4d379a,_0x3a841f){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x4d379a,-0x22bf+-0xb*-0x2d7+-0x382*-0x1,0x1d1d*-0x1+0x1b0b+0x213);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x5e92c7){this['_setValue']('cookieFall'+'off',_0x5e92c7,function(_0x8f2958,_0xb5298d){this['light']['cookieFall'+'off']=_0x8f2958;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x7f9c6a){this['_setValue']('cookieChan'+'nel',_0x7f9c6a,function(_0x1e1a36,_0x302e08){this['light']['cookieChan'+'nel']=_0x1e1a36;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x228bd3){this['_setValue']('cookieAngl'+'e',_0x228bd3,function(_0x527ae9,_0x33ac9e){if(_0x527ae9!==-0x2c4+-0xbdd*-0x1+-0x919*0x1||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x4dea2a=0x2ea*0x1+-0x5*-0x3b9+0x3a*-0x5f,_0x1493d2=-0x16c6+-0x84*0x2c+-0x1*-0x2d77;this['cookieScal'+'e']&&(_0x4dea2a=this['cookieScal'+'e']['x'],_0x1493d2=this['cookieScal'+'e']['y']);const _0x163a86=Math['cos'](_0x527ae9*Y['DEG_TO_RAD']),_0x13f1f4=Math['sin'](_0x527ae9*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x163a86/_0x4dea2a,-_0x13f1f4/_0x4dea2a,_0x13f1f4/_0x1493d2,_0x163a86/_0x1493d2),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x1289ce){this['_setValue']('cookieScal'+'e',_0x1289ce,function(_0x4cb871,_0x2c5f6f){if(_0x4cb871!==null||this['cookieAngl'+'e']!==-0x9c8+0x5*-0x4a2+0x20f2){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x385152=_0x4cb871['x'],_0x3b9d71=_0x4cb871['y'],_0x25bec4=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x30ed9d=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x25bec4/_0x385152,-_0x30ed9d/_0x385152,_0x30ed9d/_0x3b9d71,_0x25bec4/_0x3b9d71),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x597+0x1ba4+0x160d*-0x1));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x145a1a){this['_setValue']('cookieOffs'+'et',_0x145a1a,function(_0x22d6f3,_0x3a5167){this['light']['cookieOffs'+'et']=_0x22d6f3;},!(-0x20ca+-0x1f19+0x3fe3));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x17481f){this['_setValue']('shadowUpda'+'teMode',_0x17481f,function(_0x5e59ed,_0xee2922){this['light']['shadowUpda'+'teMode']=_0x5e59ed;},!(-0x1ab3+0x1bbe+-0x10b));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x25f850){this['_setValue']('mask',_0x25f850,function(_0x312315,_0x18f85e){this['light']['mask']=_0x312315;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x5b1cca){this['_setValue']('affectDyna'+'mic',_0x5b1cca,function(_0x47b9a4,_0x39128d){_0x47b9a4?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0xd045b){this['_setValue']('affectLigh'+'tmapped',_0xd045b,function(_0x771822,_0x43ef01){_0x771822?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x4cc3bc){this['_setValue']('bake',_0x4cc3bc,function(_0x334128,_0x58bacd){_0x334128?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x35e34f){this['_setValue']('bakeDir',_0x35e34f,function(_0x36236c,_0x2728b3){this['light']['bakeDir']=_0x36236c;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x22d134){this['_setValue']('isStatic',_0x22d134,function(_0x251a88,_0x5bc27e){this['light']['isStatic']=_0x251a88;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x51ddf6){this['_setValue']('layers',_0x51ddf6,function(_0xe78ee1,_0x2ce82d){for(let _0x1bd195=0x71*-0x1f+0x1*-0x574+0x1323;_0x1bd195<_0x2ce82d['length'];_0x1bd195++){const _0xf754fe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2ce82d[_0x1bd195]);_0xf754fe&&(_0xf754fe['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xf754fe));}for(let _0x36a92a=0x199a+-0xe0f*0x1+0x3d9*-0x3;_0x36a92a<_0xe78ee1['length'];_0x36a92a++){const _0x4ae5e5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xe78ee1[_0x36a92a]);_0x4ae5e5&&this['enabled']&&this['entity']['enabled']&&(_0x4ae5e5['addLight'](this),this['light']['addLayer'](_0x4ae5e5));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3c8756){this['light']['shadowUpda'+'teOverride'+'s']=_0x3c8756;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x5c8aa0){this['light']['shadowSamp'+'les']=_0x5c8aa0;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x4e2ec2){this['light']['shadowBloc'+'kerSamples']=_0x4e2ec2;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0xed4deb){this['light']['penumbraSi'+'ze']=_0xed4deb;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0xa40a3d){this['light']['penumbraFa'+'lloff']=_0xa40a3d;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0xa613ca,_0xe4bafb,_0x377bd1,_0x3c933e){const _0x1195a7=this['data'],_0x52a6c1=_0x1195a7[_0xa613ca];!_0x3c933e&&_0x52a6c1===_0xe4bafb||(_0x1195a7[_0xa613ca]=_0xe4bafb,_0x377bd1&&_0x377bd1['call'](this,_0xe4bafb,_0x52a6c1));}['addLightTo'+'Layers'](){for(let _0x2ed633=-0x20cc+-0x2651+0x14b*0x37;_0x2ed633<this['layers']['length'];_0x2ed633++){const _0x18d3d9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2ed633]);_0x18d3d9&&(_0x18d3d9['addLight'](this),this['light']['addLayer'](_0x18d3d9));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x13f377=0x245c+0x24e1+-0x493d;_0x13f377<this['layers']['length'];_0x13f377++){const _0x3d1169=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x13f377]);_0x3d1169&&(_0x3d1169['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3d1169));}}['onLayersCh'+'anged'](_0x3572c7,_0xa5dbb8){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x3572c7['off']('add',this['onLayerAdd'+'ed'],this),_0x3572c7['off']('remove',this['onLayerRem'+'oved'],this),_0xa5dbb8['on']('add',this['onLayerAdd'+'ed'],this),_0xa5dbb8['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5cd832){this['layers']['indexOf'](_0x5cd832['id'])>=0x33*-0xba+-0x1bad+0x40bb&&this['enabled']&&this['entity']['enabled']&&(_0x5cd832['addLight'](this),this['light']['addLayer'](_0x5cd832));}['onLayerRem'+'oved'](_0x2f416f){this['layers']['indexOf'](_0x2f416f['id'])>=-0x2350*-0x1+-0x1*0x99b+-0x19b5&&(_0x2f416f['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2f416f));}['refreshPro'+'perties'](){for(let _0x1b3467=0x226+0x21c+-0x442;_0x1b3467<Ho['length'];_0x1b3467++){const _0x7617d6=Ho[_0x1b3467];this[_0x7617d6]=this[_0x7617d6];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x270f5b=!(-0x1ede+-0x3e6*-0x1+0x1af9);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x1a7f+0x1946+0x1*-0x33c5),_0x270f5b=!(-0x1103+-0x176b+-0x6*-0x6bd)),(!this['_cookieAss'+'et']['resource']||_0x270f5b)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x21f714){this['_cookieAss'+'etId']===_0x21f714['id']&&(this['_cookieAss'+'et']=_0x21f714,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x45*-0x13+-0xdac*0x2+0x163a)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x3911e8=this['system']['app']['scene'],_0x393214=_0x3911e8['layers'];this['light']['enabled']=!(0xc9d*-0x1+0x25*-0x69+0x1bca),this['_evtLayers'+'Changed']=_0x3911e8['on']('set:layers',this['onLayersCh'+'anged'],this),_0x393214&&(this['_evtLayerA'+'dded']=_0x393214['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x393214['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x1e2812,_0x1549af,_0x556062;const _0x100167=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1941+-0x15eb+0x1*-0x355),(_0x1e2812=this['_evtLayers'+'Changed'])==null||_0x1e2812['off'](),this['_evtLayers'+'Changed']=null,_0x100167&&((_0x1549af=this['_evtLayerA'+'dded'])==null||_0x1549af['off'](),this['_evtLayerA'+'dded']=null,(_0x556062=this['_evtLayerR'+'emoved'])==null||_0x556062['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x54ce28){super(_0x54ce28),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x30389f,_0x5a1a79){const _0x46fe00={..._0x5a1a79};_0x46fe00['type']||(_0x46fe00['type']=_0x30389f['data']['type']),_0x30389f['data']['type']=_0x46fe00['type'],_0x46fe00['layers']&&Array['isArray'](_0x46fe00['layers'])&&(_0x46fe00['layers']=_0x46fe00['layers']['slice'](-0x26a+-0x1*-0x17ab+0x1541*-0x1)),_0x46fe00['color']&&Array['isArray'](_0x46fe00['color'])&&(_0x46fe00['color']=new ie(_0x46fe00['color'][0x462+0x1*-0x4a9+0x1*0x47],_0x46fe00['color'][0x2*-0x364+-0x50d*-0x2+-0x351],_0x46fe00['color'][-0x1265*0x1+-0x35e*0x9+0x30b5])),_0x46fe00['cookieOffs'+'et']&&_0x46fe00['cookieOffs'+'et']instanceof Array&&(_0x46fe00['cookieOffs'+'et']=new J(_0x46fe00['cookieOffs'+'et'][0xb37+0xf2+-0xc29*0x1],_0x46fe00['cookieOffs'+'et'][0x4*-0x302+-0x2349+0x3*0xfc6])),_0x46fe00['cookieScal'+'e']&&_0x46fe00['cookieScal'+'e']instanceof Array&&(_0x46fe00['cookieScal'+'e']=new J(_0x46fe00['cookieScal'+'e'][-0x954+0x278*0xd+0x5b1*-0x4],_0x46fe00['cookieScal'+'e'][0x4*-0x39e+-0x158f+-0x902*-0x4])),_0x46fe00['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x46fe00['enabled']=_0x46fe00['enable']),_0x46fe00['shape']||(_0x46fe00['shape']=Ys);const _0x3fbffd=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x3fbffd['type']=fu[_0x46fe00['type']],_0x3fbffd['_node']=_0x30389f['entity'],_0x30389f['data']['light']=_0x3fbffd,super['initialize'+'ComponentD'+'ata'](_0x30389f,_0x46fe00,Ho);}['_onRemoveC'+'omponent'](_0x12d1f1,_0x246603){_0x246603['onRemove']();}['cloneCompo'+'nent'](_0x10392a,_0x317865){const _0x410270=_0x10392a['light'],_0x4ce5fc=[];let _0x130890;for(let _0x202279=0x3*-0x4d4+-0x2491+0x330d;_0x202279<Ho['length'];_0x202279++)_0x130890=Ho[_0x202279],_0x130890!=='light'&&(_0x410270[_0x130890]&&_0x410270[_0x130890]['clone']?_0x4ce5fc[_0x130890]=_0x410270[_0x130890]['clone']():_0x4ce5fc[_0x130890]=_0x410270[_0x130890]);return this['addCompone'+'nt'](_0x317865,_0x4ce5fc);}['changeType'](_0x1404ae,_0x32c15e,_0x5a4410){_0x32c15e!==_0x5a4410&&(_0x1404ae['light']['type']=fu[_0x5a4410]);}}const EF=['x','y','z','w'],bF=[void(-0x1f00+0x3cf+-0x1*-0x1b31),void(0x2*0x7b+0x133+0x4f*-0x7),J,D,re];function Yn(_0xcc5596,_0x5ed0c8,_0x1ab9bc,_0x22e9e1){switch(_0x5ed0c8['type']){case'boolean':return!!_0x1ab9bc;case'number':if(typeof _0x1ab9bc=='number')return _0x1ab9bc;if(typeof _0x1ab9bc=='string'){const _0x4339e7=parseInt(_0x1ab9bc,-0x1*0x11e7+-0x6*-0x1d6+0x3*0x24f);return isNaN(_0x4339e7)?null:_0x4339e7;}else{if(typeof _0x1ab9bc=='boolean')return-0x15f5+0x1197+0x45e+_0x1ab9bc;}return null;case'json':{const _0x14e906={};if(Array['isArray'](_0x5ed0c8['schema'])){(!_0x1ab9bc||typeof _0x1ab9bc!='object')&&(_0x1ab9bc={});for(let _0x548dc1=0x24*0xf5+-0x2193+0x3*-0x4b;_0x548dc1<_0x5ed0c8['schema']['length'];_0x548dc1++){const _0x16b33b=_0x5ed0c8['schema'][_0x548dc1];if(_0x16b33b['name']){if(_0x16b33b['array']){_0x14e906[_0x16b33b['name']]=[];const _0x3f69dc=Array['isArray'](_0x1ab9bc[_0x16b33b['name']])?_0x1ab9bc[_0x16b33b['name']]:[];for(let _0x298aad=0xa2f+0x6*-0x2f7+0x79b;_0x298aad<_0x3f69dc['length'];_0x298aad++)_0x14e906[_0x16b33b['name']]['push'](Yn(_0xcc5596,_0x16b33b,_0x3f69dc[_0x298aad]));}else{const _0x4c305b=_0x1ab9bc['hasOwnProp'+'erty'](_0x16b33b['name'])?_0x1ab9bc[_0x16b33b['name']]:_0x16b33b['default'];_0x14e906[_0x16b33b['name']]=Yn(_0xcc5596,_0x16b33b,_0x4c305b);}}}}return _0x14e906;}case'asset':return _0x1ab9bc instanceof pe?_0x1ab9bc:typeof _0x1ab9bc=='number'?_0xcc5596['assets']['get'](_0x1ab9bc)||null:typeof _0x1ab9bc=='string'&&_0xcc5596['assets']['get'](parseInt(_0x1ab9bc,-0x64*-0x5b+-0x1bbb+0x7c7*-0x1))||null;case'entity':return _0x1ab9bc instanceof Ie?_0x1ab9bc:typeof _0x1ab9bc=='string'?_0xcc5596['getEntityF'+'romIndex'](_0x1ab9bc):null;case'rgb':case'rgba':if(_0x1ab9bc instanceof ie)return _0x22e9e1 instanceof ie?(_0x22e9e1['copy'](_0x1ab9bc),_0x22e9e1):_0x1ab9bc['clone']();if(_0x1ab9bc instanceof Array&&_0x1ab9bc['length']>=-0x6*-0x527+-0x17*-0xe8+0xd*-0x3fb&&_0x1ab9bc['length']<=0x2382+0x2639*0x1+0xa7*-0x71){for(let _0x4293a0=-0xe8f+0x24cd+-0x163e*0x1;_0x4293a0<_0x1ab9bc['length'];_0x4293a0++)if(typeof _0x1ab9bc[_0x4293a0]!='number')return null;return _0x22e9e1||(_0x22e9e1=new ie()),_0x22e9e1['r']=_0x1ab9bc[0xc2d*0x1+0x69b*-0x4+0x7*0x209],_0x22e9e1['g']=_0x1ab9bc[0x5*0x3d+-0x435+-0x305*-0x1],_0x22e9e1['b']=_0x1ab9bc[-0x1ace+0x2e+0x1aa2],_0x22e9e1['a']=_0x1ab9bc['length']===-0x15*-0xb1+-0x18dd+-0xb*-0xf1?0x1*0x1d87+-0x1b3e+-0x248:_0x1ab9bc[0x2e6*0x1+-0x16c*0xd+0xf99],_0x22e9e1;}else{if(typeof _0x1ab9bc=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x1ab9bc))return _0x22e9e1||(_0x22e9e1=new ie()),_0x22e9e1['fromString'](_0x1ab9bc),_0x22e9e1;}return null;case'vec2':case'vec3':case'vec4':{const _0x5288ae=parseInt(_0x5ed0c8['type']['slice'](0x26*0xc0+-0x1b18*-0x1+0x62d*-0x9),-0x1b+0x123a*-0x2+0x15b*0x1b),_0x7986e1=bF[_0x5288ae];if(_0x1ab9bc instanceof _0x7986e1)return _0x22e9e1 instanceof _0x7986e1?(_0x22e9e1['copy'](_0x1ab9bc),_0x22e9e1):_0x1ab9bc['clone']();if(_0x1ab9bc instanceof Array&&_0x1ab9bc['length']===_0x5288ae){for(let _0x2ddc22=-0x27e*0x8+-0x2de*0x8+0x2ae0;_0x2ddc22<_0x1ab9bc['length'];_0x2ddc22++)if(typeof _0x1ab9bc[_0x2ddc22]!='number')return null;_0x22e9e1||(_0x22e9e1=new _0x7986e1());for(let _0x1666ed=-0x18db+0x1358*-0x1+0x8d7*0x5;_0x1666ed<_0x5288ae;_0x1666ed++)_0x22e9e1[EF[_0x1666ed]]=_0x1ab9bc[_0x1666ed];return _0x22e9e1;}return null;}case'curve':if(_0x1ab9bc){let _0x299af3;if(_0x1ab9bc instanceof qs||_0x1ab9bc instanceof na)_0x299af3=_0x1ab9bc['clone']();else{const _0x28cc6a=_0x1ab9bc['keys'][0x1*0x15ca+-0x24ef+0xf25]instanceof Array?na:qs;_0x299af3=new _0x28cc6a(_0x1ab9bc['keys']),_0x299af3['type']=_0x1ab9bc['type'];}return _0x299af3;}break;}return _0x1ab9bc;}function _0(_0x46b681,_0x366fcb,_0x79fb7f,_0x462a20){return _0x366fcb['array']?_0x79fb7f['map']((_0x786f4b,_0x275bf6)=>Yn(_0x46b681,_0x366fcb,_0x786f4b,_0x462a20?_0x462a20[_0x275bf6]:null)):Yn(_0x46b681,_0x366fcb,_0x79fb7f,_0x462a20);}function g0(_0x34ab80,_0x47f180,_0x1d82f6,_0xb9af8b){if(_0x1d82f6)for(const _0x135f7f in _0x47f180){const _0xd0682a=_0x47f180[_0x135f7f],_0x1d5e92=_0x1d82f6[_0x135f7f];_0x1d5e92!==void(0x29*0xdf+0x1b7*0x14+-0x1*0x4603)&&(_0xb9af8b[_0x135f7f]=_0(_0x34ab80,_0xd0682a,_0x1d5e92,_0xb9af8b[_0x135f7f]));}}const yn=class yn{constructor(_0x5d0778){this['scriptType']=_0x5d0778,this['index']={};}['add'](_0x1e7914,_0x4a1273){if(this['index'][_0x1e7914]){w['warn']('attribute\x20'+'\x27'+_0x1e7914+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x1e7914)){w['warn']('attribute\x20'+'\x27'+_0x1e7914+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x1e7914]=_0x4a1273,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x1e7914,{'get':function(){return this['__attribut'+'es'][_0x1e7914];},'set':function(_0x4f6aa2){const _0x32239d='attr',_0x3180b2='attr:'+_0x1e7914,_0x59c9e5=this['__attribut'+'es'][_0x1e7914];let _0x2c93c3=_0x59c9e5;if(_0x59c9e5&&_0x4a1273['type']!=='json'&&_0x4a1273['type']!=='entity'&&_0x59c9e5['clone']&&(this['hasEvent'](_0x32239d)||this['hasEvent'](_0x3180b2))&&(_0x2c93c3=_0x59c9e5['clone']()),_0x4a1273['array']){if(this['__attribut'+'es'][_0x1e7914]=[],_0x4f6aa2){for(let _0x1e315b=0x2bd*0x1+0x6*-0x47a+0x181f,_0x1f9e9b=_0x4f6aa2['length'];_0x1e315b<_0x1f9e9b;_0x1e315b++)this['__attribut'+'es'][_0x1e7914]['push'](Yn(this['app'],_0x4a1273,_0x4f6aa2[_0x1e315b],_0x59c9e5?_0x59c9e5[_0x1e315b]:null));}}else this['__attribut'+'es'][_0x1e7914]=Yn(this['app'],_0x4a1273,_0x4f6aa2,_0x59c9e5);this['fire'](_0x32239d,_0x1e7914,this['__attribut'+'es'][_0x1e7914],_0x2c93c3),this['fire'](_0x3180b2,this['__attribut'+'es'][_0x1e7914],_0x2c93c3);}});}['remove'](_0x4b6ef0){return this['index'][_0x4b6ef0]?(delete this['index'][_0x4b6ef0],delete this['scriptType']['prototype'][_0x4b6ef0],!(0x147*-0x13+0xa*-0x31f+-0x7ed*-0x7)):!(-0x301+-0x1fb4+-0x22b6*-0x1);}['has'](_0x37aeac){return!!this['index'][_0x37aeac];}['get'](_0x8a19b1){return this['index'][_0x8a19b1]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x3d9b56){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x3d9b56);}set['enabled'](_0x351cf1){this['_enabled']=!!_0x351cf1,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x20e+-0x3e*0x98+0x7c6*0x5),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1519+-0x4*0x4b1+-0x1*-0x27dd),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x2ed1c5){const _0x540cfa=this['constructo'+'r'];w['assert'](_0x2ed1c5&&_0x2ed1c5['app']&&_0x2ed1c5['entity'],'script\x20['+_0x540cfa['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x2ed1c5['app'],this['entity']=_0x2ed1c5['entity'],this['_enabled']=typeof _0x2ed1c5['enabled']=='boolean'?_0x2ed1c5['enabled']:!(-0xcb3+0x51*-0x12+0x115*0x11),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x1626+0x321*-0x2+0x1c69*0x1),this['__scriptTy'+'pe']=_0x540cfa,this['__executio'+'nOrder']=-(-0x1*-0x8ff+-0x1987+0x1089);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0xa80939){if(typeof _0xa80939!='function')return;if(_0xa80939['scriptName'])return _0xa80939['scriptName'];if('name'in Function['prototype'])return _0xa80939['name'];if(_0xa80939===Function||_0xa80939===Function['prototype']['constructo'+'r'])return'Function';const _0xd56e0c=(''+_0xa80939)['match'](MF);return _0xd56e0c?_0xd56e0c[0x3f1*-0x2+0x753+-0x3*-0x30]:void(-0x201c+0x95*0x2a+-0x3d5*-0x2);}class Wo extends ts{constructor(_0x197962){super(_0x197962),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x197962);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x1d8a6d){ts['prototype']['initScript']['call'](this,_0x1d8a6d),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x1d8a6d['attributes']||{};}['initScript'+'Type'](_0x2799e4){this['initScript'](_0x2799e4);}['__initiali'+'zeAttribut'+'es'](_0x2a0581){if(!(!_0x2a0581&&!this['__attribut'+'esRaw'])){for(const _0xb8fb0b in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0xb8fb0b)?this[_0xb8fb0b]=this['__attribut'+'esRaw'][_0xb8fb0b]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0xb8fb0b)||(this['__scriptTy'+'pe']['attributes']['index'][_0xb8fb0b]['hasOwnProp'+'erty']('default')?this[_0xb8fb0b]=this['__scriptTy'+'pe']['attributes']['index'][_0xb8fb0b]['default']:this[_0xb8fb0b]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x556e14){for(const _0x467a6d in _0x556e14)_0x556e14['hasOwnProp'+'erty'](_0x467a6d)&&(this['prototype'][_0x467a6d]=_0x556e14[_0x467a6d]);}}const DF=_0x2e41b7=>_0x2e41b7[0x2532+-0x3b3*0x1+-0xf5*0x23]['toLowerCas'+'e']()+_0x2e41b7['substring'](0x165e+-0x4f2+-0x116b*0x1);class Ii extends we{constructor(_0x68afbd,_0x633cf8){super(_0x68afbd,_0x633cf8),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x103a+-0x79c+0x17d7),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1b5+-0x733+-0xa*-0xe4),this['_enabled']=!(0x2ab*-0x9+0x20*0x8e+0x643),this['_beingEnab'+'led']=!(0x5*0x6a2+-0x25a+-0x1ecf),this['_isLooping'+'ThroughScr'+'ipts']=!(0x70e+0x1241+-0x194e),this['_execution'+'Order']=-(0x9*-0x3f1+0x250b+-0x191),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x2f21cf){this['_scriptsDa'+'ta']=_0x2f21cf;for(const _0x5b0bbf in _0x2f21cf){if(!_0x2f21cf['hasOwnProp'+'erty'](_0x5b0bbf))continue;const _0xb8f5a3=this['_scriptsIn'+'dex'][_0x5b0bbf];if(_0xb8f5a3){if(typeof _0x2f21cf[_0x5b0bbf]['enabled']=='boolean'&&(_0xb8f5a3['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0xb8f5a3);}),_0xb8f5a3['enabled']=!!_0x2f21cf[_0x5b0bbf]['enabled']),typeof _0x2f21cf[_0x5b0bbf]['attributes']=='object'){for(const _0x37f082 in _0x2f21cf[_0x5b0bbf]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x37f082)){if(!_0xb8f5a3['__attribut'+'es']['hasOwnProp'+'erty'](_0x37f082)){const _0xc5fc09=this['system']['app']['scripts']['get'](_0x5b0bbf);_0xc5fc09&&_0xc5fc09['attributes']['add'](_0x37f082,{});}_0xb8f5a3[_0x37f082]=_0x2f21cf[_0x5b0bbf]['attributes'][_0x37f082];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x4e34ea){const _0x70ec51=this['_enabled'];this['_enabled']=_0x4e34ea,this['fire']('set','enabled',_0x70ec51,_0x4e34ea);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x1*-0x931+-0xcb*-0x29+-0x9d*0x44),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x3*-0x805+0x9a4+-0x21b2);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0xf071b3=this['_beginLoop'+'ing']();for(let _0x2fd9b4=0x1bf*0xf+-0x17c+-0x18b5,_0x206399=this['scripts']['length'];_0x2fd9b4<_0x206399;_0x2fd9b4++){const _0x5d1641=this['scripts'][_0x2fd9b4];_0x5d1641['_initializ'+'ed']&&!_0x5d1641['_postIniti'+'alized']&&_0x5d1641['enabled']&&(_0x5d1641['_postIniti'+'alized']=!(0x360*0x4+-0x51*0x67+0xb5*0x1b),_0x5d1641['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x5d1641,zu));}this['_endLoopin'+'g'](_0xf071b3);}['_beginLoop'+'ing'](){const _0x68f179=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x370*-0x1+0x2fe*-0x1+-0x72),_0x68f179;}['_endLoopin'+'g'](_0x8de78b){this['_isLooping'+'ThroughScr'+'ipts']=_0x8de78b,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x21cc00,_0x241f22,_0x111e07){this['_beingEnab'+'led']=!(-0x92b+0x1*-0x119a+0x3d3*0x7),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x1*0xdf+-0x17*-0xb4+-0xf4c);}['_checkStat'+'e'](){const _0x4e27d3=this['enabled']&&this['entity']['enabled'];if(_0x4e27d3===this['_oldState'])return;this['_oldState']=_0x4e27d3,this['fire'](_0x4e27d3?'enable':'disable'),this['fire']('state',_0x4e27d3),_0x4e27d3?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0xb51921=this['_beginLoop'+'ing']();for(let _0x14af9c=0x146f+-0x3*0x183+-0xa*0x197,_0x5acd6b=this['scripts']['length'];_0x14af9c<_0x5acd6b;_0x14af9c++){const _0x5ddebc=this['scripts'][_0x14af9c];_0x5ddebc['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x5ddebc);}),_0x5ddebc['enabled']=_0x5ddebc['_enabled'];}this['_endLoopin'+'g'](_0xb51921);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x27e39f=this['_beginLoop'+'ing']();for(let _0x1bbbe0=0x1f82+-0xf77+-0x100b;_0x1bbbe0<this['scripts']['length'];_0x1bbbe0++){const _0x3c6861=this['scripts'][_0x1bbbe0];_0x3c6861&&this['destroy'](_0x3c6861['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x27e39f);}['_removeDes'+'troyedScri'+'pts'](){const _0x5696f7=this['_destroyed'+'Scripts']['length'];if(_0x5696f7){for(let _0x435a7e=0x1adb+0x1763*0x1+-0x323e;_0x435a7e<_0x5696f7;_0x435a7e++){const _0xcffe89=this['_destroyed'+'Scripts'][_0x435a7e];this['_removeScr'+'iptInstanc'+'e'](_0xcffe89);}this['_destroyed'+'Scripts']['length']=0x1*-0xac5+0x25fa+-0x1b35,this['_resetExec'+'utionOrder'](0x1e*0x10d+-0x11*0x1af+-0x2e7,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x16da21=-0xb1*-0x29+0x845+-0x249e,_0x2e0c02=this['scripts']['length'];_0x16da21<_0x2e0c02;_0x16da21++){const _0x2df6f3=this['scripts'][_0x16da21];this['initialize'+'Attributes'](_0x2df6f3);}}['initialize'+'Attributes'](_0x16ca4b){var _0x3cad51;if(_0x16ca4b instanceof Wo)_0x16ca4b['__initiali'+'zeAttribut'+'es']();else{const _0x30c4ff=_0x16ca4b['__scriptTy'+'pe']['__name'],_0x2066a5=this['_attribute'+'DataMap']['get'](_0x30c4ff);if(!_0x2066a5)return;const _0x4fbb02=(_0x3cad51=this['system']['app']['scripts'])==null?void(-0x21df+0x63b+0x1ba4):_0x3cad51['getSchema'](_0x30c4ff);_0x4fbb02||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x30c4ff+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x4fbb02['attributes'],_0x2066a5,_0x16ca4b);}}['_scriptMet'+'hod'](_0x352621,_0x464833,_0x733779){try{_0x352621[_0x464833](_0x733779);}catch(_0x5d5486){_0x352621['enabled']=!(-0x46*-0x22+0x1*-0xd89+0x6*0xb5),_0x352621['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x464833+'\x22\x20for\x20\x22'+_0x352621['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x5d5486),console['error'](_0x5d5486)),_0x352621['fire']('error',_0x5d5486,_0x464833),this['fire']('error',_0x352621,_0x5d5486,_0x464833);}}['_onInitial'+'ize'](){const _0x27fb6f=this['_scripts'],_0x24a373=this['_beginLoop'+'ing']();for(let _0x15a2fa=-0x1c4a+-0x11f8+-0x1721*-0x2,_0x4d95a5=_0x27fb6f['length'];_0x15a2fa<_0x4d95a5;_0x15a2fa++){const _0x12da76=_0x27fb6f[_0x15a2fa];!_0x12da76['_initializ'+'ed']&&_0x12da76['enabled']&&(_0x12da76['_initializ'+'ed']=!(0x2603*0x1+0x1bdc+0x3*-0x15f5),_0x12da76['initialize']&&this['_scriptMet'+'hod'](_0x12da76,Bu));}this['_endLoopin'+'g'](_0x24a373);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x52d658){const _0x4ca0cb=this['_updateLis'+'t'];if(!_0x4ca0cb['length'])return;const _0x382182=this['_beginLoop'+'ing']();for(_0x4ca0cb['loopIndex']=-0x36b*0xa+0x5*0x6dc+-0x1e;_0x4ca0cb['loopIndex']<_0x4ca0cb['length'];_0x4ca0cb['loopIndex']++){const _0x5e3d04=_0x4ca0cb['items'][_0x4ca0cb['loopIndex']];_0x5e3d04['enabled']&&this['_scriptMet'+'hod'](_0x5e3d04,AF,_0x52d658);}this['_endLoopin'+'g'](_0x382182);}['_onPostUpd'+'ate'](_0x4280a4){const _0x3dd75b=this['_postUpdat'+'eList'];if(!_0x3dd75b['length'])return;const _0x8a492f=this['_beginLoop'+'ing']();for(_0x3dd75b['loopIndex']=0x2f4+0x1fa0+0x1*-0x2294;_0x3dd75b['loopIndex']<_0x3dd75b['length'];_0x3dd75b['loopIndex']++){const _0x4acf92=_0x3dd75b['items'][_0x3dd75b['loopIndex']];_0x4acf92['enabled']&&this['_scriptMet'+'hod'](_0x4acf92,CF,_0x4280a4);}this['_endLoopin'+'g'](_0x8a492f);}['_insertScr'+'iptInstanc'+'e'](_0x410969,_0x443a2a,_0x307e0b){_0x443a2a===-(-0xf9*-0x17+0x3*-0xc9a+-0x68*-0x26)?(this['_scripts']['push'](_0x410969),_0x410969['__executio'+'nOrder']=_0x307e0b,_0x410969['update']&&this['_updateLis'+'t']['append'](_0x410969),_0x410969['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x410969)):(this['_scripts']['splice'](_0x443a2a,-0x1742+-0x1*0xa07+0x2149,_0x410969),_0x410969['__executio'+'nOrder']=_0x443a2a,this['_resetExec'+'utionOrder'](_0x443a2a+(-0x887+0xf9d+0x25*-0x31),_0x307e0b+(0x2142+-0x1115*0x2+-0xe9*-0x1)),_0x410969['update']&&this['_updateLis'+'t']['insert'](_0x410969),_0x410969['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x410969));}['_removeScr'+'iptInstanc'+'e'](_0x33c73c){const _0x49b557=this['_scripts']['indexOf'](_0x33c73c);return _0x49b557===-(-0xfe*-0xb+0x2009+0x1579*-0x2)||(this['_scripts']['splice'](_0x49b557,0x1819+0x7*-0x2a9+-0x1d3*0x3),_0x33c73c['update']&&this['_updateLis'+'t']['remove'](_0x33c73c),_0x33c73c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x33c73c)),_0x49b557;}['_resetExec'+'utionOrder'](_0x1ef81f,_0x594baa){for(let _0x37f1d7=_0x1ef81f;_0x37f1d7<_0x594baa;_0x37f1d7++)this['_scripts'][_0x37f1d7]['__executio'+'nOrder']=_0x37f1d7;}['_resolveEn'+'tityScript'+'Attribute'](_0x2fe49e,_0x2bea,_0x323937,_0x20159c,_0x5d48bf,_0x464a55){if(_0x2fe49e['array']){const _0x27c5df=_0x323937['length'];if(!_0x27c5df)return;const _0x309659=_0x323937['slice']();for(let _0x3bcd9d=-0x1*-0x202d+-0x502*-0x6+-0x3e39;_0x3bcd9d<_0x27c5df;_0x3bcd9d++){const _0x3f087c=_0x309659[_0x3bcd9d]instanceof lt?_0x309659[_0x3bcd9d]['getGuid']():_0x309659[_0x3bcd9d];_0x464a55[_0x3f087c]&&(_0x309659[_0x3bcd9d]=_0x20159c?_0x464a55[_0x3f087c]['getGuid']():_0x464a55[_0x3f087c]);}_0x5d48bf[_0x2bea]=_0x309659;}else{if(_0x323937 instanceof lt)_0x323937=_0x323937['getGuid']();else{if(typeof _0x323937!='string')return;}_0x464a55[_0x323937]&&(_0x5d48bf[_0x2bea]=_0x464a55[_0x323937]);}}['has'](_0x18a19c){if(typeof _0x18a19c=='string')return!!this['_scriptsIn'+'dex'][_0x18a19c];if(!_0x18a19c)return!(0x1*-0x19fc+-0x24d8+0x3ed5);const _0x4aace4=_0x18a19c,_0x769a32=_0x4aace4['__name'],_0x2a8944=this['_scriptsIn'+'dex'][_0x769a32];return(_0x2a8944&&_0x2a8944['instance'])instanceof _0x4aace4;}['get'](_0x200254){if(typeof _0x200254=='string'){const _0x4f7442=this['_scriptsIn'+'dex'][_0x200254];return _0x4f7442?_0x4f7442['instance']:null;}if(!_0x200254)return null;const _0x2bf364=_0x200254,_0x32c6b4=_0x2bf364['__name'],_0xe65d02=this['_scriptsIn'+'dex'][_0x32c6b4],_0x70fe74=_0xe65d02&&_0xe65d02['instance'];return _0x70fe74 instanceof _0x2bf364?_0x70fe74:null;}['create'](_0x4f6dd5,_0x3dbea1={}){const _0x57cb6f=this;let _0x581a14=_0x4f6dd5,_0x315386=_0x4f6dd5;if(typeof _0x581a14=='string')_0x581a14=this['system']['app']['scripts']['get'](_0x581a14);else{if(_0x581a14){const _0xcb9c13=S0(_0x581a14),_0x188719=DF(_0xcb9c13);!(_0x581a14['prototype']instanceof Wo)&&!_0x581a14['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xcb9c13+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xcb9c13+('.scriptNam'+'e\x20=\x20\x22')+_0x188719+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x581a14['__name']??(_0x581a14['__name']=_0x581a14['scriptName']??_0x188719),_0x315386=_0x581a14['__name'];}}if(_0x581a14){if(!this['_scriptsIn'+'dex'][_0x315386]||!this['_scriptsIn'+'dex'][_0x315386]['instance']){const _0x37c737=new _0x581a14({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3dbea1['hasOwnProp'+'erty']('enabled')?_0x3dbea1['enabled']:!(0x1*0x25fa+-0x7f*0x3+0x247d*-0x1),'attributes':_0x3dbea1['attributes']||{}});_0x3dbea1['properties']&&typeof _0x3dbea1['properties']=='object'&&Object['assign'](_0x37c737,_0x3dbea1['properties']),_0x37c737 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x315386,_0x3dbea1['attributes']);const _0x470ee9=this['_scripts']['length'];let _0x12feb1=-(-0x28d*0xd+-0x111*0x11+0x334b);return typeof _0x3dbea1['ind']=='number'&&_0x3dbea1['ind']!==-(-0x1a8a+0x10af*0x1+0x9dc)&&_0x470ee9>_0x3dbea1['ind']&&(_0x12feb1=_0x3dbea1['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x37c737,_0x12feb1,_0x470ee9),this['_scriptsIn'+'dex'][_0x315386]={'instance':_0x37c737,'onSwap':function(){_0x57cb6f['swap'](_0x315386);}},this[_0x315386]=_0x37c737,_0x3dbea1['preloading']||this['initialize'+'Attributes'](_0x37c737),this['fire']('create',_0x315386,_0x37c737),this['fire']('create:'+_0x315386,_0x37c737),this['system']['app']['scripts']['on']('swap:'+_0x315386,this['_scriptsIn'+'dex'][_0x315386]['onSwap']),_0x3dbea1['preloading']||(_0x37c737['enabled']&&!_0x37c737['_initializ'+'ed']&&(_0x37c737['_initializ'+'ed']=!(-0x1a03+-0xfac+0x29af),_0x37c737['initialize']&&this['_scriptMet'+'hod'](_0x37c737,Bu)),_0x37c737['enabled']&&!_0x37c737['_postIniti'+'alized']&&(_0x37c737['_postIniti'+'alized']=!(-0x466+0x2582*0x1+-0x211c),_0x37c737['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x37c737,zu))),_0x37c737;}w['warn']('script\x20\x27'+_0x315386+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x315386]={'awaiting':!(0x1bfe+-0x68*-0xa+0x1*-0x200e),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x315386+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x39508d){let _0x4324cd=_0x39508d,_0x4ca8e0=_0x39508d;typeof _0x4ca8e0=='string'?_0x4ca8e0=this['system']['app']['scripts']['get'](_0x4ca8e0):_0x4ca8e0&&(_0x4324cd=_0x4ca8e0['__name']);const _0x36c9cd=this['_scriptsIn'+'dex'][_0x4324cd];if(delete this['_scriptsIn'+'dex'][_0x4324cd],!_0x36c9cd)return!(-0x101+0x374*-0x4+0xed2);this['_attribute'+'DataMap']['delete'](_0x4324cd);const _0x3513e0=_0x36c9cd['instance'];if(_0x3513e0&&!_0x3513e0['_destroyed']){if(_0x3513e0['enabled']=!(-0x159*-0x14+-0xc8d+-0xe66),_0x3513e0['_destroyed']=!(-0x1315*-0x1+-0x184d*0x1+0x538),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x3513e0);else{const _0x5e05da=this['_removeScr'+'iptInstanc'+'e'](_0x3513e0);_0x5e05da>=0x1e44+-0x1258+0xbec*-0x1&&this['_resetExec'+'utionOrder'](_0x5e05da,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x4324cd,_0x36c9cd['onSwap']),delete this[_0x4324cd],this['fire']('destroy',_0x4324cd,_0x3513e0||null),this['fire']('destroy:'+_0x4324cd,_0x3513e0||null),_0x3513e0&&_0x3513e0['fire']('destroy'),!(0x6dd*0x1+-0x1f4a+0x186d);}['swap'](_0x18cca8){let _0x4353e6=_0x18cca8,_0x176062=_0x18cca8;typeof _0x176062=='string'?_0x176062=this['system']['app']['scripts']['get'](_0x176062):_0x176062&&(_0x4353e6=_0x176062['__name']);const _0x1189af=this['_scriptsIn'+'dex'][_0x4353e6];if(!_0x1189af||!_0x1189af['instance'])return!(0x503+-0x1811*-0x1+-0x1d13);const _0x4a0f93=_0x1189af['instance'],_0x3f38f2=this['_scripts']['indexOf'](_0x4a0f93),_0x56a190=new _0x176062({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4a0f93['enabled'],'attributes':_0x4a0f93['__attribut'+'es']});return _0x56a190['swap']?(this['initialize'+'Attributes'](_0x56a190),this['_scripts'][_0x3f38f2]=_0x56a190,this['_scriptsIn'+'dex'][_0x4353e6]['instance']=_0x56a190,this[_0x4353e6]=_0x56a190,_0x56a190['__executio'+'nOrder']=_0x3f38f2,_0x4a0f93['update']&&this['_updateLis'+'t']['remove'](_0x4a0f93),_0x4a0f93['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4a0f93),_0x56a190['update']&&this['_updateLis'+'t']['insert'](_0x56a190),_0x56a190['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x56a190),this['_scriptMet'+'hod'](_0x56a190,PF,_0x4a0f93),this['fire']('swap',_0x4353e6,_0x56a190),this['fire']('swap:'+_0x4353e6,_0x56a190),!(0x142f*-0x1+0x8bb+-0x1*-0xb74)):!(0x2*-0x11a4+0x9f4+0x5*0x511);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x144355,_0xd1ed9){var _0x1dbcfa,_0x250c35,_0x48d85b;const _0x167d31=this['entity']['script'];for(const _0x165e23 in _0x144355['_scriptsIn'+'dex']){const _0x29ca9a=this['system']['app']['scripts']['get'](_0x165e23);if(!_0x29ca9a)continue;const _0x5be27d=_0x144355['_scriptsIn'+'dex'][_0x165e23];if(!_0x5be27d||!_0x5be27d['instance'])continue;const _0x575707=_0x167d31[_0x165e23]['__attribut'+'esRaw']??_0x167d31['_attribute'+'DataMap']['get'](_0x165e23),_0x212407=_0x167d31[_0x165e23]['__attribut'+'es'];if(!_0x575707&&!_0x212407)continue;const _0x18cbc8=!!_0x575707,_0x31f929=_0x5be27d['instance']['__attribut'+'es']??_0x167d31['_attribute'+'DataMap']['get'](_0x165e23);for(const _0x28e753 in _0x31f929){if(!_0x31f929[_0x28e753])continue;const _0x3739be=((_0x1dbcfa=_0x29ca9a['attributes'])==null?void(-0x20ec+-0xe*-0x2a2+-0xe*0x48):_0x1dbcfa['get'](_0x28e753))??((_0x48d85b=(_0x250c35=this['system']['app']['scripts']['getSchema'](_0x165e23))==null?void(-0x26f2+-0x1c8b+0x437d):_0x250c35['attributes'])==null?void(-0x90c+-0x1e+0x92a):_0x48d85b[_0x28e753]);if(_0x3739be){if(_0x3739be['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x3739be,_0x28e753,_0x31f929[_0x28e753],_0x18cbc8,_0x575707||_0x212407,_0xd1ed9);else{if(_0x3739be['type']==='json'&&Array['isArray'](_0x3739be['schema'])){const _0x3abecd=_0x31f929[_0x28e753],_0x561bd6=_0x575707?_0x575707[_0x28e753]:_0x212407[_0x28e753];for(let _0x1621ec=0x2bd*-0x3+-0xe*0x131+0x18e5;_0x1621ec<_0x3739be['schema']['length'];_0x1621ec++){const _0x5465dd=_0x3739be['schema'][_0x1621ec];if(_0x5465dd['type']==='entity'){if(_0x3739be['array']){for(let _0x275415=0xb1*0xa+-0x3cc*-0x1+-0xab6;_0x275415<_0x3abecd['length'];_0x275415++)this['_resolveEn'+'tityScript'+'Attribute'](_0x5465dd,_0x5465dd['name'],_0x3abecd[_0x275415][_0x5465dd['name']],_0x18cbc8,_0x561bd6[_0x275415],_0xd1ed9);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x5465dd,_0x5465dd['name'],_0x3abecd[_0x5465dd['name']],_0x18cbc8,_0x561bd6,_0xd1ed9);}}}}}}}}['move'](_0xbb25a1,_0x3b5f41){const _0x3ad938=this['_scripts']['length'];if(_0x3b5f41>=_0x3ad938||_0x3b5f41<-0x1f5e+-0x2*-0xad9+0x9ac)return!(0xb99*-0x3+0x12a0*-0x2+0x480c);let _0x2dbbe0=_0xbb25a1,_0x99b346=_0xbb25a1;typeof _0x99b346!='string'?_0x99b346=_0xbb25a1['__name']:_0x2dbbe0=null;const _0x5eb6b4=this['_scriptsIn'+'dex'][_0x99b346];if(!_0x5eb6b4||!_0x5eb6b4['instance'])return!(0x1e50+0x1b95+-0x39e4);const _0x46e9a8=_0x5eb6b4['instance'];if(_0x2dbbe0&&!(_0x46e9a8 instanceof _0x2dbbe0))return!(0xcb8+-0x6*-0x545+-0x61*0x75);const _0x623a12=this['_scripts']['indexOf'](_0x46e9a8);return _0x623a12===-(0x4*-0x67f+-0x389*0x5+0xa2*0x45)||_0x623a12===_0x3b5f41?!(0x2525+-0xebd+-0x1*0x1667):(this['_scripts']['splice'](_0x3b5f41,-0xb00+0x24d7*-0x1+-0x2fd7*-0x1,this['_scripts']['splice'](_0x623a12,-0x5*0x27+-0x9*0x3f+-0x7*-0x6d)[-0x1832+0x1*-0x208+0xd1d*0x2]),this['_resetExec'+'utionOrder'](0xc91*-0x1+-0x1eee+0x2b7f,_0x3ad938),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x99b346,_0x46e9a8,_0x3b5f41,_0x623a12),this['fire']('move:'+_0x99b346,_0x46e9a8,_0x3b5f41,_0x623a12),!(-0xd2+-0x8*-0x159+-0x9f6));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x251+0x24*0x3+0x1*-0x2bd);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x78b*-0x1+0x0+0x1*-0x78b;class kF extends ct{constructor(_0x3b9a36){super(_0x3b9a36),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x1*-0x6ec+-0x226e+0x2*0xdc1),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x21a439,_0x4cee65){if(_0x21a439['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x21a439),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x21a439['enabled']=_0x4cee65['hasOwnProp'+'erty']('enabled')?!!_0x4cee65['enabled']:!(0x268a+0x9c2+-0x304c),_0x21a439['enabled']&&_0x21a439['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x21a439),_0x4cee65['hasOwnProp'+'erty']('order')&&_0x4cee65['hasOwnProp'+'erty']('scripts')){_0x21a439['_scriptsDa'+'ta']=_0x4cee65['scripts'];for(let _0x5ebd55=-0x527+0x473*-0x4+0x16f3;_0x5ebd55<_0x4cee65['order']['length'];_0x5ebd55++)_0x21a439['create'](_0x4cee65['order'][_0x5ebd55],{'enabled':_0x4cee65['scripts'][_0x4cee65['order'][_0x5ebd55]]['enabled'],'attributes':_0x4cee65['scripts'][_0x4cee65['order'][_0x5ebd55]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x2546d9,_0x5961a2){var _0x54d53f;const _0xbc9e3a=[],_0x50f80f={};for(let _0x56e048=-0x16f5+0x55*0x73+0xf3a*-0x1;_0x56e048<_0x2546d9['script']['_scripts']['length'];_0x56e048++){const _0x4daed2=_0x2546d9['script']['_scripts'][_0x56e048],_0x20f51c=_0x4daed2['__scriptTy'+'pe']['__name'];_0xbc9e3a['push'](_0x20f51c);const _0x227847=((_0x54d53f=_0x2546d9['script']['_attribute'+'DataMap'])==null?void(-0x2*-0xd3+-0x831+-0x1*-0x68b):_0x54d53f['get'](_0x20f51c))||{};for(const _0xa025f4 in _0x4daed2['__attribut'+'es'])_0x227847[_0xa025f4]=_0x4daed2['__attribut'+'es'][_0xa025f4];_0x50f80f[_0x20f51c]={'enabled':_0x4daed2['_enabled'],'attributes':_0x227847};}for(const _0x2bd9d8 in _0x2546d9['script']['_scriptsIn'+'dex'])_0x2bd9d8['awaiting']&&_0xbc9e3a['splice'](_0x2bd9d8['ind'],-0x4f*0xd+-0xfef+0x13f2,_0x2bd9d8);const _0xf827ec={'enabled':_0x2546d9['script']['enabled'],'order':_0xbc9e3a,'scripts':_0x50f80f};return this['addCompone'+'nt'](_0x5961a2,_0xf827ec);}['_resetExec'+'utionOrder'](){Mc=0x21a4+0xba8+-0x2d4c;for(let _0x1a59d8=-0xe29+0xc*0x1e2+-0x86f,_0x50ef9b=this['_component'+'s']['length'];_0x1a59d8<_0x50ef9b;_0x1a59d8++)this['_component'+'s']['items'][_0x1a59d8]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x2500bb,_0x2b0f30,_0x13abc6){for(_0x2500bb['loopIndex']=-0x62*-0x50+0x4c*0x45+0x2*-0x198e;_0x2500bb['loopIndex']<_0x2500bb['length'];_0x2500bb['loopIndex']++)_0x2500bb['items'][_0x2500bb['loopIndex']][_0x2b0f30](_0x13abc6);}['_onInitial'+'ize'](){this['preloading']=!(-0x1ecf+-0x11*0xf1+0x2ed1),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x37d244){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x37d244);}['_onPostUpd'+'ate'](_0x1bce9f){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x1bce9f);}['_addCompon'+'entToEnabl'+'ed'](_0x549e4e){this['_enabledCo'+'mponents']['insert'](_0x549e4e);}['_removeCom'+'ponentFrom'+'Enabled'](_0x4b7bde){this['_enabledCo'+'mponents']['remove'](_0x4b7bde);}['_onBeforeR'+'emove'](_0xce82d5,_0xe9c705){this['_component'+'s']['items']['indexOf'](_0xe9c705)>=0xbde+0x149+-0x5b*0x25&&_0xe9c705['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0xe9c705),this['_component'+'s']['remove'](_0xe9c705);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x16ca6c,_0x10e32e){super(_0x16ca6c,_0x10e32e),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x167d+-0x15f1*0x1+-0x1*-0x2c6e)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x9d2*-0x1+0x1493+-0x2*0xf32)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x16ca6c['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x10e32e['on']('remove',this['onRemoveCh'+'ild'],this),_0x10e32e['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x10e32e['on']('insert',this['onInsertCh'+'ild'],this),_0x10e32e['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x2a472a){var _0xdcfe62,_0x45741c;this['_customAab'+'b']=_0x2a472a,(_0x45741c=(_0xdcfe62=this['_instance'])==null?void(-0x2131+0x735+0x19fc):_0xdcfe62['meshInstan'+'ce'])==null||_0x45741c['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x5d909b){if(this['destroyIns'+'tance'](),this['_instance']=_0x5d909b,this['_instance']){const _0xd76c28=this['_instance']['meshInstan'+'ce'];_0xd76c28['node']||(_0xd76c28['node']=this['entity']),_0xd76c28['castShadow']=this['_castShado'+'ws'],_0xd76c28['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x52c722){this['_instance']?this['_instance']['material']=_0x52c722:this['_materialT'+'mp']=_0x52c722;}get['material'](){var _0x5c7ce5;return((_0x5c7ce5=this['_instance'])==null?void(-0x3*0x77f+-0x1a*-0x163+-0xd91*0x1):_0x5c7ce5['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x4d1f5a){_0x4d1f5a!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x4d1f5a,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x4d1f5a));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x43642d){var _0x3d9deb;if(this['_castShado'+'ws']!==_0x43642d){const _0x5dc59c=(_0x3d9deb=this['instance'])==null?void(0x2698+-0x23cc+-0x2cc):_0x3d9deb['meshInstan'+'ce'];if(_0x5dc59c){const _0x4d4415=this['layers'],_0x29e8d2=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x43642d)for(let _0x10ba1c=0x1c5a+-0x19*0x1+0x3*-0x96b;_0x10ba1c<_0x4d4415['length'];_0x10ba1c++){const _0x38b4f8=_0x29e8d2['layers']['getLayerBy'+'Id'](this['layers'][_0x10ba1c]);_0x38b4f8&&_0x38b4f8['removeShad'+'owCasters']([_0x5dc59c]);}if(_0x5dc59c['castShadow']=_0x43642d,!this['_castShado'+'ws']&&_0x43642d)for(let _0x186589=0x110d+-0x64b*0x1+-0xac2;_0x186589<_0x4d4415['length'];_0x186589++){const _0x137041=_0x29e8d2['layers']['getLayerBy'+'Id'](_0x4d4415[_0x186589]);_0x137041&&_0x137041['addShadowC'+'asters']([_0x5dc59c]);}}this['_castShado'+'ws']=_0x43642d;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x108d63){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1eca+-0x12ba+-0xc10;for(let _0x5e46a5=-0xb1b+0x764*0x3+-0xb11;_0x5e46a5<_0x108d63['length'];_0x5e46a5++)this['_layers'][_0x5e46a5]=_0x108d63[_0x5e46a5];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x508afe){const _0x3c6603=_0x508afe instanceof pe?_0x508afe['id']:_0x508afe;this['_assetRefe'+'rence']['id']!==_0x3c6603&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x3c6603,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0xf369e7;this['_instance']&&(this['removeFrom'+'Layers'](),(_0xf369e7=this['_instance'])==null||_0xf369e7['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x59bafe,_0x2a8c07;const _0x2a9114=(_0x59bafe=this['instance'])==null?void(-0x17*-0x5+0x1*-0xf86+0x11*0xe3):_0x59bafe['meshInstan'+'ce'];if(_0x2a9114){const _0x3320c2=this['system']['app']['scene']['layers'];for(let _0x246d69=0x1c31+0x19f8*0x1+0x5*-0xad5;_0x246d69<this['_layers']['length'];_0x246d69++)(_0x2a8c07=_0x3320c2['getLayerBy'+'Id'](this['_layers'][_0x246d69]))==null||_0x2a8c07['addMeshIns'+'tances']([_0x2a9114]);}}['removeFrom'+'Layers'](){var _0x52c2fb,_0x7677c7;const _0x598d31=(_0x52c2fb=this['instance'])==null?void(0x25*-0x53+0x1*-0x1e12+-0xb*-0x3d3):_0x52c2fb['meshInstan'+'ce'];if(_0x598d31){const _0x102656=this['system']['app']['scene']['layers'];for(let _0x4fe316=0x256c*0x1+-0x3*0x7b5+-0xe4d;_0x4fe316<this['_layers']['length'];_0x4fe316++)(_0x7677c7=_0x102656['getLayerBy'+'Id'](this['_layers'][_0x4fe316]))==null||_0x7677c7['removeMesh'+'Instances']([_0x598d31]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x5a282f,_0x120037){this['addToLayer'+'s'](),_0x5a282f['off']('add',this['onLayerAdd'+'ed'],this),_0x5a282f['off']('remove',this['onLayerRem'+'oved'],this),_0x120037['on']('add',this['onLayerAdd'+'ed'],this),_0x120037['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x6eceae){this['layers']['indexOf'](_0x6eceae['id'])<-0x1fe4+-0x5a*0x2d+0x2fb6||this['_instance']&&_0x6eceae['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0xdb8229){this['layers']['indexOf'](_0xdb8229['id'])<0x208d+-0x1*-0x25d2+-0x465f||this['_instance']&&_0xdb8229['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1ca6b2=this['system']['app']['scene'],_0x364b7d=_0x1ca6b2['layers'];this['_evtLayers'+'Changed']=_0x1ca6b2['on']('set:layers',this['onLayersCh'+'anged'],this),_0x364b7d&&(this['_evtLayerA'+'dded']=_0x364b7d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x364b7d['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x28da84,_0x5b3f5c,_0x22904c;const _0x11789b=this['system']['app']['scene']['layers'];(_0x28da84=this['_evtLayers'+'Changed'])==null||_0x28da84['off'](),this['_evtLayers'+'Changed']=null,_0x11789b&&((_0x5b3f5c=this['_evtLayerA'+'dded'])==null||_0x5b3f5c['off'](),this['_evtLayerA'+'dded']=null,(_0x22904c=this['_evtLayerR'+'emoved'])==null||_0x22904c['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x47*-0x37+0x24b9+-0x311*0x7));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xbce+0x1ef4+0x81*-0x26));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x5757f4=this['_assetRefe'+'rence']['asset'];_0x5757f4&&(this['instance']=_0x5757f4['resource']['createInst'+'ance'](_0x5757f4['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x3*0x7c9+0x181e+-0x3*0x41);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x21c2d3){super(_0x21c2d3),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x15f45b,_0x1834b7,_0x4540a2){_0x1834b7['layers']&&_0x1834b7['layers']['length']&&(_0x1834b7['layers']=_0x1834b7['layers']['slice'](-0xae9+0x1f1*0x11+-0x1618));for(let _0x141e1e=0x5*0x676+-0x1dd6+-0x278;_0x141e1e<To['length'];_0x141e1e++)_0x1834b7['hasOwnProp'+'erty'](To[_0x141e1e])&&(_0x15f45b[To[_0x141e1e]]=_0x1834b7[To[_0x141e1e]]);_0x1834b7['aabbCenter']&&_0x1834b7['aabbHalfEx'+'tents']&&(_0x15f45b['customAabb']=new De(new D(_0x1834b7['aabbCenter']),new D(_0x1834b7['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x15f45b,_0x1834b7,Vu);}['cloneCompo'+'nent'](_0x257df8,_0x5737f1){const _0x149c28=_0x257df8['gsplat'],_0x321028={};To['forEach'](_0x360119=>{_0x360119==='material'?_0x321028[_0x360119]=_0x149c28[_0x360119]['clone']():_0x321028[_0x360119]=_0x149c28[_0x360119];}),_0x321028['enabled']=_0x149c28['enabled'];const _0x5d3adf=this['addCompone'+'nt'](_0x5737f1,_0x321028);return _0x149c28['customAabb']&&(_0x5d3adf['customAabb']=_0x149c28['customAabb']['clone']()),_0x5d3adf;}['onRemove'](_0xdf33c6,_0x18e3a4){_0x18e3a4['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x222432){this['decRefMesh'+'es'](),this['_meshes']=_0x222432,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x222432);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x53223b;(_0x53223b=this['_meshes'])==null||_0x53223b['forEach']((_0x11d116,_0x199a75)=>{_0x11d116&&(_0x11d116['decRefCoun'+'t'](),_0x11d116['refCount']<0x133d+-0x975+-0x9c7&&(_0x11d116['destroy'](),this['_meshes'][_0x199a75]=null));});}['incRefMesh'+'es'](){var _0x46b568;(_0x46b568=this['_meshes'])==null||_0x46b568['forEach'](_0x11d2ab=>{_0x11d2ab==null||_0x11d2ab['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x2b3ebb){const _0x1005d7=this;if(!_0x1005d7['resource'])return;const _0x5f1d6a=_0x2b3ebb['resource'],_0x41df1a=_0x5f1d6a['renders']&&_0x5f1d6a['renders'][_0x1005d7['data']['renderInde'+'x']];_0x41df1a&&(_0x1005d7['resource']['meshes']=_0x41df1a['resource']['meshes']);}function pS(_0x37b78b){const _0x54e858=this;_0x54e858['registry']['off']('load:'+_0x37b78b['id'],sh,_0x54e858),_0x54e858['registry']['on']('load:'+_0x37b78b['id'],sh,_0x54e858),_0x54e858['registry']['off']('remove:'+_0x37b78b['id'],mS,_0x54e858),_0x54e858['registry']['once']('remove:'+_0x37b78b['id'],mS,_0x54e858),_0x37b78b['resource']?sh['call'](_0x54e858,_0x37b78b):_0x54e858['registry']['load'](_0x37b78b);}function mS(_0x15f1b5){const _0x4caab1=this;_0x4caab1['registry']['off']('load:'+_0x15f1b5['id'],sh,_0x4caab1),_0x4caab1['resource']&&_0x4caab1['resource']['destroy']();}class zF extends Qe{constructor(_0x109077){super(_0x109077,'render'),this['_registry']=_0x109077['assets'];}['open'](_0x1e89ee,_0x44a4a0){return new Em();}['patch'](_0xd49d8e,_0x2a94a3){if(!_0xd49d8e['data']['containerA'+'sset'])return;const _0xe2e144=_0x2a94a3['get'](_0xd49d8e['data']['containerA'+'sset']);if(!_0xe2e144){_0x2a94a3['once']('add:'+_0xd49d8e['data']['containerA'+'sset'],pS,_0xd49d8e);return;}pS['call'](_0xd49d8e,_0xe2e144);}}class v0{constructor(_0x35a8c5,_0x36b141,_0x296b2a,_0xec4777){this['_paths']=_0x35a8c5,this['_input']=_0x36b141,this['_output']=_0x296b2a,this['_interpola'+'tion']=_0xec4777;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x457fd9,_0x5e82b7){this['_component'+'s']=_0x457fd9,this['_data']=_0x5e82b7;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x2047cc,_0xe3a30){let _0x1da345;const _0x1ccf10=(_0x2d026e,_0x2bc350)=>{switch(_0x2bc350){case _0x1da345['DT_INT8']:return new Int8Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']);case _0x1da345['DT_INT16']:return new Int16Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']/(-0x597+-0x1e93+0x4*0x90b));case _0x1da345['DT_INT32']:return new Int32Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']/(-0x201+-0x1f3*-0x5+0x2b*-0x2e));case _0x1da345['DT_UINT8']:return new Uint8Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']);case _0x1da345['DT_UINT16']:return new Uint16Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']/(-0x6d*0x2f+-0x12f+0x76*0x2e));case _0x1da345['DT_UINT32']:return new Uint32Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']/(-0x9b7+-0x7*-0x37c+-0xea9));case _0x1da345['DT_FLOAT32']:return new Float32Array(_0x2d026e['buffer'],_0x2d026e['byteOffset'],_0x2d026e['byteLength']/(0x412*0x1+-0xa*0x1f+-0x2d8));}return null;},_0x4fce8b=_0xda6f4b=>{switch(_0xda6f4b){case _0x1da345['DT_INT8']:return 0xf2a*0x2+-0x20b0+0x25d;case _0x1da345['DT_INT16']:return-0x9c2+-0x1b62*0x1+0x631*0x6;case _0x1da345['DT_INT32']:return 0x2309+-0xc1+-0x2244;case _0x1da345['DT_UINT8']:return 0x1214+-0xb69+-0x6aa;case _0x1da345['DT_UINT16']:return-0x14+-0x13*-0x183+-0x1ca3;case _0x1da345['DT_UINT32']:return-0x1de5+-0xb*-0x181+0xd5e;case _0x1da345['DT_FLOAT32']:return 0x1*0x26f6+-0x1d55+-0x1*0x99d;}return-0x1*0x9+-0x1927+0x1931;},_0x1e6426=_0x3c7fc0=>_0x3c7fc0['num_compon'+'ents']()*_0x4fce8b(_0x3c7fc0['data_type']()),_0x479af1={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x1abfc4=(_0x1dcce0,_0x4fac3b)=>{const _0x355309=(_0x1eafee,_0x5a3983,_0x260e67)=>{_0x1eafee[0x77f*0x1+-0x2448+0x1*0x1cc9]=_0x5a3983[0x2*-0x2d3+-0x41*0x37+0x139d]-_0x260e67[0x1*-0x158d+-0x5da+-0x57b*-0x5],_0x1eafee[0x2352+0x79*0xd+-0x2976]=_0x5a3983[-0x1046+0x17cd+-0x786]-_0x260e67[-0x11c1+0x454+0xbf*0x12],_0x1eafee[0x19ee+0x332+0x2*-0xe8f]=_0x5a3983[0x1*-0x18d9+-0x2f*0x5d+-0x3*-0xdfa]-_0x260e67[0x6f1*-0x3+0x44b*0x1+0x108a];},_0x49369d=(_0x1c3a83,_0x491d0c,_0x1f6e4f)=>{_0x1c3a83[0x1f6d+0x1a23+-0x3990]=_0x491d0c[0x3*-0x87e+0x326+-0x1*-0x1655]*_0x1f6e4f[0xd*-0x1e1+0xe+-0x1*-0x1861]-_0x1f6e4f[0x14ca+0x267b+0x2*-0x1da2]*_0x491d0c[0x26ea+-0x231b+-0x3cd],_0x1c3a83[0x1df9*0x1+0xbae+-0x2*0x14d3]=_0x491d0c[0x2*0xe3+0x19a3+-0x5*0x57b]*_0x1f6e4f[0x1617*0x1+0x497+-0x1aae]-_0x1f6e4f[0x207e+-0x258e+0x512]*_0x491d0c[0x14b*-0xe+-0x6*0x680+0x391a],_0x1c3a83[0x446*-0x2+0x76*0x27+-0x96c]=_0x491d0c[-0x139f+0x1ac8+-0x729]*_0x1f6e4f[-0x23c7+0x23a+0x218e]-_0x1f6e4f[0x6bb+0x6b*0x46+-0x1*0x23fd]*_0x491d0c[-0x1*0x1a73+0x3*0x260+0x1354];},_0x5af97f=(_0x1affa4,_0x473527)=>{const _0x5b1190=_0x1affa4[_0x473527+(0x1a75+-0x222b+-0x6*-0x149)],_0x529de3=_0x1affa4[_0x473527+(-0x3*0x24+0x1aa5+-0x1a38)],_0x321248=_0x1affa4[_0x473527+(-0x3c4*0xa+0x157*-0x6+-0x1c2*-0x1a)],_0x3ff645=(-0x14f1+0x136b+0x187*0x1)/Math['sqrt'](_0x5b1190*_0x5b1190+_0x529de3*_0x529de3+_0x321248*_0x321248);_0x1affa4[_0x473527+(0x13e+0xd6e+-0xeac)]*=_0x3ff645,_0x1affa4[_0x473527+(0x26a3+-0x14f4*0x1+0x3e*-0x49)]*=_0x3ff645,_0x1affa4[_0x473527+(0x2*0x38+-0x118*0xc+-0x32*-0x41)]*=_0x3ff645;},_0x38cdc8=(_0xea3351,_0x38a92e,_0x1f8af5)=>{for(let _0xd95fa2=-0x47*-0x5f+-0x68+-0x19f1;_0xd95fa2<-0xd88+-0x2f1+-0xa*-0x1a6;++_0xd95fa2)_0xea3351[_0xd95fa2]=_0x38a92e[_0x1f8af5+_0xd95fa2];},_0x3ad4dc=_0x4fac3b['length']/(0x1*0x10bb+-0x10*0x13e+-0x1*-0x328),_0x1d3607=_0x1dcce0['length']/(0x2*-0x379+-0x29*0x82+-0x1*-0x1bc7),_0x1d3945=new Float32Array(_0x1dcce0['length']),_0x3695ef=[-0x1*0x156d+-0xaba*0x2+0x2ae1,0xb48+0x1148+-0x1c90*0x1,-0x1*-0x1d21+0x55d+-0x2*0x113f],_0x308cb6=[-0x1*0xb7+0xf58+-0xea1,0x4cf*-0x1+-0xb*0xfd+-0xfae*-0x1,0x1a6b+-0x8d6*0x3+0x17*0x1],_0x311bf9=[0xd8c+0x1a14+-0x27a0,0x846+-0x2e*-0x94+-0x22de,-0x1*-0x1e41+0x5b3*0x2+-0x29a7],_0x33254a=[0x2023+-0x3*-0xa0b+-0x3e44,0x1030+-0x8*0xa1+-0xb28,-0xbe7+-0x126e+0x1e55],_0x436f02=[-0x6*0x152+-0x1*-0x7f7+0xb*-0x1,-0x1*-0x21f5+0x1f09+-0x8d*0x76,-0x977*0x1+0x26a9+-0x1d32],_0x4fb312=[0x1b*0x63+-0x111f*0x1+0x6ae,0x2115+0x1e02+-0x3f17,-0x3*0x2e5+-0x295+0xb44];for(let _0x3921a5=0x1c46+0x3*0x5e5+-0x2df5;_0x3921a5<_0x3ad4dc;++_0x3921a5){const _0x1edbce=_0x4fac3b[_0x3921a5*(0x46*-0x53+-0x1d40+0x33f5)+(-0x6f7+-0xc61+0x1358)]*(-0x347*-0x1+0x185*0x13+-0x2023),_0x56063f=_0x4fac3b[_0x3921a5*(0x1737+0xcb9*0x1+-0x23ed)+(-0x783*-0x5+0x265*-0x7+-0x14cb)]*(0x1b3c+0x1ba5*-0x1+0x24*0x3),_0x579d41=_0x4fac3b[_0x3921a5*(-0x700+-0x1a7f+-0x2*-0x10c1)+(-0x1*-0xe8+0x236b+-0x409*0x9)]*(0x13*0x65+0x3*-0x5b3+0x99d);_0x38cdc8(_0x3695ef,_0x1dcce0,_0x1edbce),_0x38cdc8(_0x308cb6,_0x1dcce0,_0x56063f),_0x38cdc8(_0x311bf9,_0x1dcce0,_0x579d41),_0x355309(_0x33254a,_0x308cb6,_0x3695ef),_0x355309(_0x436f02,_0x311bf9,_0x3695ef),_0x49369d(_0x4fb312,_0x33254a,_0x436f02),_0x5af97f(_0x4fb312,-0x2*0x133e+-0x12cd+0x3949);for(let _0x18f6b7=-0x198f+0x27*-0xc2+-0x1*-0x371d;_0x18f6b7<0x1d8*-0xc+-0xf4d+0x2*0x12b8;++_0x18f6b7)_0x1d3945[_0x1edbce+_0x18f6b7]+=_0x4fb312[_0x18f6b7],_0x1d3945[_0x56063f+_0x18f6b7]+=_0x4fb312[_0x18f6b7],_0x1d3945[_0x579d41+_0x18f6b7]+=_0x4fb312[_0x18f6b7];}for(let _0x1d6bec=0xe70+-0x34*-0x6d+-0x925*0x4;_0x1d6bec<_0x1d3607;++_0x1d6bec)_0x5af97f(_0x1d3945,_0x1d6bec*(-0x1052+0xd9*0x26+-0xfe1));return new Uint8Array(_0x1d3945['buffer']);},_0x1dcd17=_0x51c07f=>{const _0x4f3046={},_0x31d3a4=new _0x1da345['DecoderBuf'+'fer']();_0x31d3a4['Init'](_0x51c07f,_0x51c07f['length']);const _0x285795=new _0x1da345['Decoder']();if(_0x285795['GetEncoded'+'GeometryTy'+'pe'](_0x31d3a4)!==_0x1da345['TRIANGULAR'+'_MESH'])return _0x4f3046['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x4f3046;const _0x45324b=new _0x1da345['Mesh'](),_0xab2db2=_0x285795['DecodeBuff'+'erToMesh'](_0x31d3a4,_0x45324b);if(!_0xab2db2||!_0xab2db2['ok']()||_0x1da345['getPointer'](_0x45324b)===-0x1*-0x157f+0x2324+-0x38a3)return _0x4f3046['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x4f3046;const _0x148965=_0x45324b['num_faces']()*(0x2589*0x1+-0x179d+-0xde9),_0xc539da=_0x45324b['num_points']()<=-0x1e9f2+-0xc73*-0x15+0x1e482,_0x3d6e57=_0x148965*(_0xc539da?-0x1da7+-0x146b+0x3214:0x351+-0x1a1*-0x15+0x12c1*-0x2),_0x557756=_0x1da345['_malloc'](_0x3d6e57);_0xc539da?(_0x285795['GetTriangl'+'esUInt16Ar'+'ray'](_0x45324b,_0x3d6e57,_0x557756),_0x4f3046['indices']=new Uint16Array(_0x1da345['HEAPU16']['buffer'],_0x557756,_0x148965)['slice']()['buffer']):(_0x285795['GetTriangl'+'esUInt32Ar'+'ray'](_0x45324b,_0x3d6e57,_0x557756),_0x4f3046['indices']=new Uint32Array(_0x1da345['HEAPU32']['buffer'],_0x557756,_0x148965)['slice']()['buffer']),_0x1da345['_free'](_0x557756);const _0x2af263=[];for(let _0x197da5=0x26e5+-0x16f5+0x1*-0xff0;_0x197da5<_0x45324b['num_attrib'+'utes']();++_0x197da5)_0x2af263['push'](_0x285795['GetAttribu'+'te'](_0x45324b,_0x197da5));_0x2af263['sort']((_0x326b0c,_0x36a514)=>(_0x479af1[_0x326b0c['attribute_'+'type']()]??_0x479af1['length'])-(_0x479af1[_0x36a514['attribute_'+'type']()]??_0x479af1['length'])),_0x4f3046['attributes']=_0x2af263['map'](_0x5e365f=>_0x5e365f['unique_id']());let _0x351c77=0x3*-0xe3+-0x2539+0x27e2;const _0xaa3ddd=_0x2af263['map'](_0x1a9264=>{const _0x4f495f=_0x351c77;return _0x351c77+=Math['ceil'](_0x1e6426(_0x1a9264)/(0x12f1*0x1+-0x1a3b+0x74e))*(-0x4*0x259+0x244*-0xb+0x2254),_0x4f495f;}),_0x43a1a4=_0x2af263['some'](_0x9b1e69=>_0x9b1e69['attribute_'+'type']()===0x35*-0x35+-0x5*0x539+0x2517),_0x297e4f=_0xaa3ddd[0x20fc*0x1+-0x143a+-0x1*0xcc1];if(!_0x43a1a4){for(let _0x53350f=0x1a1e+0x1566+-0x2f83;_0x53350f<_0xaa3ddd['length'];++_0x53350f)_0xaa3ddd[_0x53350f]+=-0x293*0x9+-0x3*-0x232+0x10a1;_0x351c77+=0xa8a+-0xfc5*0x1+0x547;}_0x4f3046['vertices']=new ArrayBuffer(_0x45324b['num_points']()*_0x351c77);const _0x4decaf=new Uint8Array(_0x4f3046['vertices']);for(let _0x26bdf9=0x2368+0x167*-0x3+-0x1*0x1f33;_0x26bdf9<_0x45324b['num_attrib'+'utes']();++_0x26bdf9){const _0x56098c=_0x2af263[_0x26bdf9],_0x1971cd=_0x1e6426(_0x56098c),_0x4cc04a=_0x45324b['num_points']()*_0x1971cd,_0x188ecb=_0x1da345['_malloc'](_0x4cc04a);_0x285795['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x45324b,_0x56098c,_0x56098c['data_type'](),_0x4cc04a,_0x188ecb);const _0x4ac352=new Uint8Array(_0x1da345['HEAPU8']['buffer'],_0x188ecb,_0x4cc04a);for(let _0x286033=-0x259b+-0x22e1+-0x121f*-0x4;_0x286033<_0x45324b['num_points']();++_0x286033)for(let _0x43be52=0x1eee+0x1755*-0x1+-0x799;_0x43be52<_0x1971cd;++_0x43be52)_0x4decaf[_0x286033*_0x351c77+_0xaa3ddd[_0x26bdf9]+_0x43be52]=_0x4ac352[_0x286033*_0x1971cd+_0x43be52];if(!_0x43a1a4&&_0x56098c['attribute_'+'type']()===-0x8d3+0x2c9*0x4+-0x1*0x251){const _0x1676b0=_0x1abfc4(_0x1ccf10(_0x4ac352,_0x56098c['data_type']()),_0xc539da?new Uint16Array(_0x4f3046['indices']):new Uint32Array(_0x4f3046['indices']));for(let _0x20ee28=0xb53+-0x8fe+0xc7*-0x3;_0x20ee28<_0x45324b['num_points']();++_0x20ee28)for(let _0x2b960a=0xff6+-0xdb9+-0x23d;_0x2b960a<0x20b7+0xf4d+0x14*-0x266;++_0x2b960a)_0x4decaf[_0x20ee28*_0x351c77+_0x297e4f+_0x2b960a]=_0x1676b0[_0x20ee28*(0x14c4+-0x2a1*-0xb+-0x61*0x83)+_0x2b960a];}_0x1da345['_free'](_0x188ecb);}return _0x1da345['destroy'](_0x45324b),_0x1da345['destroy'](_0x285795),_0x1da345['destroy'](_0x31d3a4),_0x4f3046;},_0x1d106b=_0x54f3ac=>{const _0x8fbbf8=_0x1dcd17(new Uint8Array(_0x54f3ac['buffer']));self['postMessag'+'e']({'jobId':_0x54f3ac['jobId'],'error':_0x8fbbf8['error'],'indices':_0x8fbbf8['indices'],'vertices':_0x8fbbf8['vertices'],'attributes':_0x8fbbf8['attributes']},[_0x8fbbf8['indices'],_0x8fbbf8['vertices']]['filter'](_0x56e27e=>_0x56e27e!=null));},_0x4f6f00=[];self['onmessage']=_0x5c4714=>{const _0x283cb0=_0x5c4714['data'];switch(_0x283cb0['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x2c4062,_0x1e4dc5)=>(WebAssembly['instantiat'+'e'](_0x283cb0['module'],_0x2c4062)['then'](_0x577375=>_0x1e4dc5(_0x577375))['catch'](_0x7ea1b6=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x7ea1b6)),{})})['then'](_0x1d1a27=>{_0x1da345=_0x1d1a27,_0x4f6f00['forEach'](_0x17c4b0=>_0x1d106b(_0x17c4b0));});break;case'decodeMesh':_0x1da345?_0x1d106b(_0x283cb0):_0x4f6f00['push'](_0x283cb0);break;}};}const _S=0x29*0x3e+0x2*-0x1000+0x1615*0x1;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0xe3*0x2a+-0x162f+-0x1*-0x3b6d,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x57488c,_0x1927e0)=>{_0x57488c['postMessag'+'e']({'type':'decodeMesh','jobId':_0x1927e0['jobId'],'buffer':_0x1927e0['buffer']},[_0x1927e0['buffer']]);};}['init'](_0x80db8e){for(_0x80db8e['forEach'](_0x115404=>{_0x115404['addEventLi'+'stener']('message',_0x56d5e4=>{const _0xd2df4c=_0x56d5e4['data'],_0x482661=this['jobCallbac'+'ks']['get'](_0xd2df4c['jobId']);if(_0x482661&&_0x482661(_0xd2df4c['error'],{'indices':_0xd2df4c['indices'],'vertices':_0xd2df4c['vertices'],'attributes':_0xd2df4c['attributes']}),this['jobCallbac'+'ks']['delete'](_0xd2df4c['jobId']),this['jobQueue']['length']>0x157*-0x6+-0x48*0x4f+0x1e42){const _0x25c461=this['jobQueue']['shift']();this['run'](_0x115404,_0x25c461);}else{const _0x4cdb50=this['workers'][0x1d*-0xdf+0x9a9*-0x2+0x2f9*0xf]['indexOf'](_0x115404);if(_0x4cdb50!==-(0xde8+-0xcee+-0xf9*0x1))this['workers'][-0x987*0x3+-0x1*-0xd4f+-0x28c*-0x6]['splice'](_0x4cdb50,0x1500+-0x1dfb+-0x47e*-0x2),this['workers'][-0x6*0x266+-0x16*-0x9f+0xbb]['push'](_0x115404);else{const _0x2fae90=this['workers'][-0x2361+0x1955+0xa0d]['indexOf'](_0x115404);_0x2fae90!==-(0x257*-0xe+0x2*-0x199+0x23f5)?(this['workers'][-0x26aa+0x10d4+-0x15d7*-0x1]['splice'](_0x2fae90,-0x238f+-0x13f6+0x2e*0x135),this['workers'][-0x4a3*-0x7+-0x160c+-0xa69]['push'](_0x115404)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x1fcb+-0x1331+0x32fc]=_0x80db8e;this['jobQueue']['length']&&(this['workers'][-0x1*-0x452+0x2676+-0x2ac8]['length']||this['workers'][-0x3f*0x17+-0x5*-0x7bd+-0x2107]['length']);){const _0x1b665b=this['jobQueue']['shift']();if(this['workers'][0x24bd+0x5*0x106+-0x5*0x85f]['length']>0x109a+0x20a2+0x189e*-0x2){const _0x23a70d=this['workers'][-0x1*0x1192+0xbf5*-0x1+0x1*0x1d87]['shift']();this['workers'][-0x1*-0x17f5+0x2205+-0x1353*0x3]['push'](_0x23a70d),this['run'](_0x23a70d,_0x1b665b);}else{const _0x2a4a8c=this['workers'][-0x1010+0x26fc+-0x16eb*0x1]['shift']();this['workers'][0x22a2+0x25d8+-0x60a*0xc]['push'](_0x2a4a8c),this['run'](_0x2a4a8c,_0x1b665b);}}}['enqueueJob'](_0x1cfd73,_0x2560dd){const _0x7fa130={'jobId':this['jobId']++,'buffer':_0x1cfd73};if(this['jobCallbac'+'ks']['set'](_0x7fa130['jobId'],_0x2560dd),this['workers'][0x1*-0x2447+-0x1eb5+0x10bf*0x4]['length']>-0x1afd+0x11d7*-0x2+0x1*0x3eab){const _0x3ff403=this['workers'][0xc91*0x1+0x17e9+-0xa1*0x3a]['shift']();this['workers'][-0x1*0x25d+0x93*0x17+0x19*-0x6f]['push'](_0x3ff403),this['run'](_0x3ff403,_0x7fa130);}else{if(this['workers'][-0x42a*-0x7+-0x26bd*-0x1+-0x43e2*0x1]['length']>-0xb9*-0x27+-0x2*0x6d3+-0x1*0xe89){const _0x313905=this['workers'][-0xd2*0x9+0x1b4e+-0x13eb]['shift']();this['workers'][0x68*0x5c+-0xd9d+-0x3*0x7eb]['push'](_0x313905),this['run'](_0x313905,_0x7fa130);}else this['jobQueue']['push'](_0x7fa130);}}}const HF=_0x50d2bb=>new Promise((_0x13d023,_0x4e03e8)=>{const _0x486593={'cache':!(-0xd43+0x255c+0x1819*-0x1),'responseType':'text','retry':_S>0x7ef*0x1+0x1*-0x246b+0xe3e*0x2,'maxRetries':_S};ot['get'](_0x50d2bb,_0x486593,(_0x32bf2e,_0x282932)=>{_0x32bf2e?_0x4e03e8(_0x32bf2e):_0x13d023(_0x282932);});}),WF=_0x9e3355=>{const _0xf0dfe3=()=>fetch(_0x9e3355)['then'](_0x3b148f=>_0x3b148f['arrayBuffe'+'r']())['then'](_0x4867a0=>WebAssembly['compile'](_0x4867a0)),_0x4e4a8e=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x9e3355))['catch'](_0x1f3d54=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x9e3355+'\x20('+_0x1f3d54+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xf0dfe3()));return WebAssembly['compileStr'+'eaming']?_0x4e4a8e():_0xf0dfe3();},gS=-0x1*-0x203+-0x451*0x1+0x24f;let ih;const $F=_0x176569=>{if(ih)return!(-0x17c6+-0x1f50+0x3716);if(!_0x176569){const _0x191bbb=YS['getConfig']('DracoDecod'+'erModule');_0x191bbb?_0x176569={'jsUrl':_0x191bbb['glueUrl'],'wasmUrl':_0x191bbb['wasmUrl'],'numWorkers':_0x191bbb['numWorkers']}:_0x176569={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x176569['jsUrl']||!_0x176569['wasmUrl']?!(-0x5*-0x665+-0x2242+0x24a):(ih=new GF(),Promise['all']([HF(_0x176569['jsUrl']),WF(_0x176569['wasmUrl'])])['then'](([_0x1718e4,_0x3aecea])=>{const _0x5e679e=['/*\x20draco\x20*'+'/',_0x1718e4,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x3b39b1=new Blob([_0x5e679e],{'type':'applicatio'+'n/javascri'+'pt'}),_0x15294a=URL['createObje'+'ctURL'](_0x3b39b1),_0x2a85b5=Math['max'](0x1aa7*-0x1+0xc2*0x1a+-0xb2*-0xa,Math['min'](0x98d+0xdca+0x65*-0x3b,_0x176569['numWorkers']||gS)),_0x3e98b4=[];for(let _0x9c60aa=0x223f+0x1*0x130d+0x3*-0x11c4;_0x9c60aa<_0x2a85b5;++_0x9c60aa){const _0x3982f9=new Worker(_0x15294a);_0x3982f9['postMessag'+'e']({'type':'init','module':_0x3aecea}),_0x3e98b4['push'](_0x3982f9);}ih['init'](_0x3e98b4);}),!(0x577*-0x1+0x6*0x10b+0x7*-0x1d));},XF=(_0x2c48ae,_0x1ccaa6)=>$F()?(ih['enqueueJob'](_0x2c48ae,_0x1ccaa6),!(0x1a6f+0x19b8+-0x3427*0x1)):!(-0x57c+-0x3ee+-0x96b*-0x1);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2c7928=>{_0x2c7928['meshes']=null;});}}const x0=_0x554269=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x554269),jF=_0x166b31=>_0x166b31['substring'](_0x166b31['indexOf'](':')+(0x8f+-0x953*0x2+0x1218*0x1),_0x166b31['indexOf'](';')),yl=_0x3ac89b=>{switch(_0x3ac89b){case'SCALAR':return 0x291*0x1+-0x15*0x157+-0x1993*-0x1;case'VEC2':return-0x1de8+0x1070+0x6*0x23f;case'VEC3':return-0xf01+0x10b3+-0x1af;case'VEC4':return 0x43b+-0xf4+-0xa7*0x5;case'MAT2':return-0xa1*0x2+0x4ca*-0x1+-0x10*-0x61;case'MAT3':return-0x2356+0xfbd+0x7*0x2ce;case'MAT4':return-0x8*-0x496+-0x563*-0x2+0x2*-0x17b3;default:return 0x2cc*-0xb+-0x1bb6+-0x3*-0x137f;}},Dd=_0x56bef3=>{switch(_0x56bef3){case-0x22cc+-0x21bd*0x1+0x5889:return dd;case-0x1cb4+-0xc0c+0x3cc1*0x1:return la;case-0x7bb*-0x1+-0x13ab+-0x3a*-0x8d:return fd;case 0x202e*-0x1+0x24a4+0x3*0x52f:return Ml;case-0x7*-0x4cf+-0x1e11+0x106c:return Ty;case-0x6be+-0x22ab+0x147a*0x3:return el;case-0x26d3+0x27b9+0x1320:return Ve;default:return-0xa9f+0x1*-0x1ef1+-0xa64*-0x4;}},YF=_0x3b9925=>{switch(_0x3b9925){case 0x5d1+0x264b+-0x181c:return 0x61*0x3a+-0x73b*0x1+-0xebe;case 0x26b*-0x5+0x2577+-0x55f:return 0x1b61+-0x995+-0x11cb;case 0xe9+-0x1015+0x232e:return 0x188c*-0x1+0x3*0x308+0xf76;case-0x23a*-0x1+0x875*-0x3+0x2b28:return 0x2489*-0x1+0x17bd+0xcce;case-0xcf*-0x31+0x2c*0x39+-0x1d67:return 0xc*-0x123+-0x1325*-0x2+0x836*-0x3;case-0x1*-0x478+0x1e14+-0xe87:return 0x1b37+-0x9*0x41b+0x8*0x138;case-0xa61+0x14d0+-0x1eb*-0x5:return 0x2260+0x119b+-0x33f7;default:return 0x11b3*-0x1+0x95*-0x41+-0x4*-0xde2;}},KF=_0x52e300=>{switch(_0x52e300){case-0x6a9*-0x3+0x223f+0x111d*-0x2:return Int8Array;case 0xa08*-0x2+0xa10+0x1e01:return Uint8Array;case-0x1570+0x1465*0x1+0x150d:return Int16Array;case 0x471*-0x2+0x1*-0x1433+0x3118*0x1:return Uint16Array;case 0x1*-0x812+-0x6f7+0x9*0x3e5:return Int32Array;case 0x1b1c+0x1525*0x1+-0x1c3c:return Uint32Array;case 0x9*-0xa9+-0x1*-0x2231+-0x83a:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x5d1*0x6+0x2335*-0x1+0x4f*0x1,[gs]:-0x1888*0x1+0x5cf*-0x2+0x2427,[yi]:-0x4d*-0x4+-0xe2d+0xcfb,[Wt]:-0x31e+-0x25d4+-0x2d*-0xe9,[us]:-0x1822*0x1+0x4*0x5f3+0x5a,[gi]:0x1aa+-0x17cb+0x46*0x51,[is]:0x269f+-0x2527+-0x1*0x172,[ba]:-0x3b*-0x47+0x1dc8+-0x2e1e,[wl]:-0x1a18+-0x1547+0x2f67,[El]:-0x5f0+-0x8ef*-0x2+-0x5*0x261,[bl]:-0x1f*0x142+0x11*0xe9+-0x25*-0xa3,[Al]:-0x191*0x4+-0x25e1*0x1+0x2c30,[Cl]:-0x1*-0x2bd+-0x2*0x4ef+0x72d,[Pl]:-0x2*-0x1ee+-0xbc8+0x7f9},ZF=_0x254eda=>{switch(_0x254eda){case dd:return _0x1cf7c6=>Math['max'](_0x1cf7c6/(-0x607+0x1*-0x1f66+-0xca4*-0x3),-(0x12d9+-0x1b7e+0x8a6));case la:return _0x4386c6=>_0x4386c6/(0x3*0x171+-0x1cd3+-0x3d*-0x6b);case fd:return _0x2d00f1=>Math['max'](_0x2d00f1/(0x782*-0x2+-0x4b5b*0x2+0x125b9),-(0x1*-0x1f+-0x1d67+0x1d87*0x1));case Ml:return _0x239f55=>_0x239f55/(0x2*-0xa2e2+0x1*0x1c611+-0x7fb2*-0x1);default:return _0x1fcf5d=>_0x1fcf5d;}},Gu=(_0xa8d9b7,_0x36920c,_0x4c6ef6)=>{const _0x2aae63=ZF(_0x4c6ef6),_0x5c9738=_0x36920c['length'];for(let _0x1eb196=-0x20*0x12a+0x995*-0x3+0x6d*0x9b;_0x1eb196<_0x5c9738;++_0x1eb196)_0xa8d9b7[_0x1eb196]=_0x2aae63(_0x36920c[_0x1eb196]);return _0xa8d9b7;},ua=(_0x11b393,_0x55dbc9,_0x2c6481=!(0x1a8f+-0x1*0x4eb+0x15a3*-0x1))=>{const _0x2da94d=yl(_0x11b393['type']),_0x4ccea2=KF(_0x11b393['componentT'+'ype']);if(!_0x4ccea2)return null;let _0x2e121c;if(_0x11b393['sparse']){const _0x1ce31e=_0x11b393['sparse'],_0x4e31fd={'count':_0x1ce31e['count'],'type':'SCALAR'},_0x104d23=ua(Object['assign'](_0x4e31fd,_0x1ce31e['indices']),_0x55dbc9,!(0x1ac3+-0x218e+-0x25*-0x2f)),_0x54f0d9={'count':_0x1ce31e['count'],'type':_0x11b393['type'],'componentType':_0x11b393['componentT'+'ype']},_0x3d965b=ua(Object['assign'](_0x54f0d9,_0x1ce31e['values']),_0x55dbc9,!(0x1cad+-0x397*-0x8+-0x3965));if(_0x11b393['hasOwnProp'+'erty']('bufferView')){const _0x56a4db={'bufferView':_0x11b393['bufferView'],'byteOffset':_0x11b393['byteOffset'],'componentType':_0x11b393['componentT'+'ype'],'count':_0x11b393['count'],'type':_0x11b393['type']};_0x2e121c=ua(_0x56a4db,_0x55dbc9,!(0x856+0x1ae7+-0x233d))['slice']();}else _0x2e121c=new _0x4ccea2(_0x11b393['count']*_0x2da94d);for(let _0x421607=0x8e*-0xb+0x5e7+0x33;_0x421607<_0x1ce31e['count'];++_0x421607){const _0x1b15d1=_0x104d23[_0x421607];for(let _0x4f98be=-0x7*-0x360+0x923*0x3+0x5*-0xa35;_0x4f98be<_0x2da94d;++_0x4f98be)_0x2e121c[_0x1b15d1*_0x2da94d+_0x4f98be]=_0x3d965b[_0x421607*_0x2da94d+_0x4f98be];}}else{if(_0x11b393['hasOwnProp'+'erty']('bufferView')){const _0x5a3913=_0x55dbc9[_0x11b393['bufferView']];if(_0x2c6481&&_0x5a3913['hasOwnProp'+'erty']('byteStride')){const _0x382450=_0x2da94d*_0x4ccea2['BYTES_PER_'+'ELEMENT'],_0x1dc322=new ArrayBuffer(_0x11b393['count']*_0x382450),_0x3590ac=new Uint8Array(_0x1dc322);let _0x11ef2c=-0x20ae+-0x5*-0x1b5+0x373*0x7;for(let _0x5c7486=-0x1db0+0xe67+0x22f*0x7;_0x5c7486<_0x11b393['count'];++_0x5c7486){let _0x531416=(_0x11b393['byteOffset']||-0x14ba+-0x2350+0x380a)+_0x5c7486*_0x5a3913['byteStride'];for(let _0x39d1fe=-0xc31*0x3+0x2f1+0x7b*0x46;_0x39d1fe<_0x382450;++_0x39d1fe)_0x3590ac[_0x11ef2c++]=_0x5a3913[_0x531416++];}_0x2e121c=new _0x4ccea2(_0x1dc322);}else _0x2e121c=new _0x4ccea2(_0x5a3913['buffer'],_0x5a3913['byteOffset']+(_0x11b393['byteOffset']||-0x5*0x4cb+-0x2194+0x398b*0x1),_0x11b393['count']*_0x2da94d);}else _0x2e121c=new _0x4ccea2(_0x11b393['count']*_0x2da94d);}return _0x2e121c;},Pn=(_0xe3f8e0,_0x2598a1)=>{const _0x323685=ua(_0xe3f8e0,_0x2598a1,!(-0x2*-0xfc1+-0x91c+0x2f*-0x7a));if(_0x323685 instanceof Float32Array||!_0xe3f8e0['normalized'])return _0x323685;const _0x4d8cbf=new Float32Array(_0x323685['length']);return Gu(_0x4d8cbf,_0x323685,Dd(_0xe3f8e0['componentT'+'ype'])),_0x4d8cbf;},Hu=_0x4039da=>{let _0x29a9ef=_0x4039da['min'],_0x200e49=_0x4039da['max'];if(!_0x29a9ef||!_0x200e49)return null;if(_0x4039da['normalized']){const _0x10751c=Dd(_0x4039da['componentT'+'ype']);_0x29a9ef=Gu([],_0x29a9ef,_0x10751c),_0x200e49=Gu([],_0x200e49,_0x10751c);}return new De(new D((_0x200e49[0x1451+-0x18cc+0x47b]+_0x29a9ef[-0x2506+-0x808+0x2d0e])*(-0x1*-0x1a05+-0x42d*0x1+-0x15d8+0.5),(_0x200e49[-0x11ef*0x2+-0x1b7b+0x3f5a]+_0x29a9ef[-0x1a9f+-0x740+-0x20*-0x10f])*(-0x3*0xa03+-0x119*0x1a+0x3a93+0.5),(_0x200e49[0x1*0x125d+-0x125f+-0x1*-0x4]+_0x29a9ef[0x1*0x849+0x1*0x1198+0x19df*-0x1])*(-0x1856+0x1a44+-0x1ee+0.5)),new D((_0x200e49[-0x1*-0x184f+-0x11e9+-0x7*0xea]-_0x29a9ef[-0x21cb*0x1+-0xf59+0x3124])*(-0x1ffd+-0x6d*0x15+0x3e*0xa9+0.5),(_0x200e49[-0x22df*0x1+-0x2*0x7d8+0x3290]-_0x29a9ef[0x21ef+-0x2108+-0xe6])*(-0x1*-0x1e55+-0x1*-0x4fa+-0x234f+0.5),(_0x200e49[-0x17ba+0xc94+0x165*0x8]-_0x29a9ef[0x1bcf+-0x4ca+-0x1703])*(-0x1*-0xac1+-0x1*-0x2da+0x81*-0x1b+0.5)));},T0=_0x27f646=>{if(!_0x27f646['hasOwnProp'+'erty']('mode'))return js;switch(_0x27f646['mode']){case 0xc9*-0x15+-0x25b+-0x86*-0x24:return cd;case 0x6*-0x241+0x5a9+0x7de:return hd;case-0x22f1+0x902+0x1d*0xe5:return _y;case 0x1cbc*0x1+0x44*-0x8e+0x8ff:return gy;case 0x7c1*0x5+-0x17f0+-0xed1:return js;case 0x57d*-0x4+-0x13*0xb1+0xe*0x282:return Er;case-0x2708+-0xf40+0x364e:return oa;default:return js;}},QF=_0x8c78f0=>{const _0x323cbb=new Uint16Array(_0x8c78f0);for(let _0xda930=-0x1979+-0x1555+-0x6*-0x7cd;_0xda930<_0x8c78f0;_0xda930++)_0x323cbb[_0xda930]=_0xda930;return _0x323cbb;},JF=(_0x54d6d4,_0x43b9cc)=>{const _0x15eede=_0x54d6d4[Me];if(!_0x15eede||_0x15eede['components']!==0x16a6*0x1+-0x1f*0xbf+-0xe*-0x9)return;let _0xf6e44a;if(_0x15eede['size']!==_0x15eede['stride']){const _0x4dbe96=_0x15eede['stride']/No[_0x15eede['type']],_0x3e94b4=new wn[_0x15eede['type']](_0x15eede['buffer'],_0x15eede['offset'],_0x15eede['count']*_0x4dbe96);_0xf6e44a=new wn[_0x15eede['type']](_0x15eede['count']*(0x9*0x256+-0x1*0x22f3+0xdf0));for(let _0x5f03c1=0x11a2+0x180*0x8+-0x1da2;_0x5f03c1<_0x15eede['count'];++_0x5f03c1)_0xf6e44a[_0x5f03c1*(0x1e65+0xfa*-0x9+0x8*-0x2b3)+(-0x2*-0xcbe+-0x18d*-0x19+-0x4041)]=_0x3e94b4[_0x5f03c1*_0x4dbe96+(0x6*-0xb3+0x2456+-0x2024)],_0xf6e44a[_0x5f03c1*(0x1a4d*-0x1+-0x258a+-0x3fda*-0x1)+(0x1857+0x257c*-0x1+0xd26)]=_0x3e94b4[_0x5f03c1*_0x4dbe96+(-0x6aa*0x1+0x17*0xdf+-0xd5e*0x1)],_0xf6e44a[_0x5f03c1*(0x3b9*0x1+0x1d3e+-0x20f4)+(0x258b+-0x3f2*-0x8+-0x3a3*0x13)]=_0x3e94b4[_0x5f03c1*_0x4dbe96+(-0x3*0x445+0x1032+-0x361)];}else _0xf6e44a=new wn[_0x15eede['type']](_0x15eede['buffer'],_0x15eede['offset'],_0x15eede['count']*(0x1*-0x1a85+-0xc65+0x26ed));const _0x393965=_0x15eede['count'];_0x43b9cc||(_0x43b9cc=QF(_0x393965));const _0x44af7a=Iv(_0xf6e44a,_0x43b9cc),_0x47ee37=new Float32Array(_0x44af7a['length']);_0x47ee37['set'](_0x44af7a),_0x54d6d4[gs]={'buffer':_0x47ee37['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x393965,'components':0x3,'type':Ve};},eN=_0x24ea35=>{const _0x30043b=_0x311a30=>{const _0x5d9d35=[];for(let _0x262b74=-0x6e2+-0x2*0x499+0x2ae*0x6;_0x262b74<_0x311a30['_levels']['length'];++_0x262b74){let _0x2cd3d9=[];if(_0x311a30['cubemap']){for(let _0x5eeff9=-0xf48+0x1*-0x830+0x1778;_0x5eeff9<-0x1601*0x1+-0x33*0xc+0x13*0x149;++_0x5eeff9)_0x2cd3d9['push'](_0x311a30['_levels'][_0x262b74][_0x5eeff9]);}else _0x2cd3d9=_0x311a30['_levels'][_0x262b74];_0x5d9d35['push'](_0x2cd3d9);}return _0x5d9d35;},_0x23e81b=new _e(_0x24ea35['device'],_0x24ea35);return _0x23e81b['_levels']=_0x30043b(_0x24ea35),_0x23e81b;},tN=_0x18573d=>{const _0x284533=new pe(_0x18573d['name']+'_clone',_0x18573d['type'],_0x18573d['file'],_0x18573d['data'],_0x18573d['options']);return _0x284533['loaded']=!(0x1*0x25fe+-0x12f5+-0x1bb*0xb),_0x284533['resource']=eN(_0x18573d['resource']),_0x18573d['registry']['add'](_0x284533),_0x284533;},sN=(_0x1d8b73,_0x195665)=>{const _0x10e0ae=_0x195665[Me];if(!_0x10e0ae)return null;const _0x124be6=_0x10e0ae['count'],_0x4ac3de=[];for(const _0x300420 in _0x195665)if(_0x195665['hasOwnProp'+'erty'](_0x300420)){const _0x20c9d8={'semantic':_0x300420,'components':_0x195665[_0x300420]['components'],'type':_0x195665[_0x300420]['type'],'normalize':!!_0x195665[_0x300420]['normalize']};kt['isElementV'+'alid'](_0x1d8b73,_0x20c9d8)||_0x20c9d8['components']++,_0x4ac3de['push'](_0x20c9d8);}_0x4ac3de['sort']((_0x9ae62e,_0x43e051)=>SS[_0x9ae62e['semantic']]-SS[_0x43e051['semantic']]);let _0x265f43,_0x17c7a5,_0x626e27,_0x229cb9,_0x5c41ff,_0x37caa7;const _0x98217a=new kt(_0x1d8b73,_0x4ac3de);let _0xac48e2=!(-0x21df+0xb2*-0x2+0x2343);for(_0x265f43=-0x752+0x25fc+-0x1eaa;_0x265f43<_0x98217a['elements']['length'];++_0x265f43)if(_0x5c41ff=_0x98217a['elements'][_0x265f43],_0x229cb9=_0x195665[_0x5c41ff['name']],_0x37caa7=_0x229cb9['offset']-_0x10e0ae['offset'],_0x229cb9['buffer']!==_0x10e0ae['buffer']||_0x229cb9['stride']!==_0x5c41ff['stride']||_0x229cb9['size']!==_0x5c41ff['size']||_0x37caa7!==_0x5c41ff['offset']){_0xac48e2=!(-0x185+0xf*0xaa+0x12*-0x78);break;}const _0x50d44f=new Is(_0x1d8b73,_0x98217a,_0x124be6),_0x415afd=_0x50d44f['lock'](),_0x3d27a3=new Uint32Array(_0x415afd);let _0x2e839e;if(_0xac48e2)_0x2e839e=new Uint32Array(_0x10e0ae['buffer'],_0x10e0ae['offset'],_0x124be6*_0x50d44f['format']['size']/(-0x2243+-0x258a+0x47d1)),_0x3d27a3['set'](_0x2e839e);else{let _0x2bd218,_0x36bf80;for(_0x265f43=0x5c*-0x17+-0x66*0x47+-0x248e*-0x1;_0x265f43<_0x50d44f['format']['elements']['length'];++_0x265f43){_0x5c41ff=_0x50d44f['format']['elements'][_0x265f43],_0x2bd218=_0x5c41ff['stride']/(-0x2e6*-0x5+0x200a+-0x2e84),_0x229cb9=_0x195665[_0x5c41ff['name']],_0x36bf80=_0x229cb9['stride']/(-0x1*0x10ab+-0x2171+0x3220),_0x2e839e=new Uint32Array(_0x229cb9['buffer'],_0x229cb9['offset'],(_0x229cb9['count']-(0x52d+0x655+-0x13*0x9b))*_0x36bf80+(_0x229cb9['size']+(-0x1*-0x1eb6+-0xcfb+-0x11b8))/(-0x91*0xf+-0x2*0xcf1+0x2265));let _0x2b840f=-0x7*-0x1b3+0x20d2+-0x2cb7,_0x416bc8=_0x5c41ff['offset']/(0x3e1+0x9cf+0xdac*-0x1);const _0xf9794d=Math['floor']((_0x229cb9['size']+(0xae4+0xb1b+0x1d5*-0xc))/(-0xac2*-0x1+-0x1*0x21ff+0x1741*0x1));for(_0x17c7a5=-0x200*0xd+0x9e*-0xf+0x2342;_0x17c7a5<_0x124be6;++_0x17c7a5){for(_0x626e27=-0xc87+0xcfa*-0x1+-0x1*-0x1981;_0x626e27<_0xf9794d;++_0x626e27)_0x3d27a3[_0x416bc8+_0x626e27]=_0x2e839e[_0x2b840f+_0x626e27];_0x2b840f+=_0x36bf80,_0x416bc8+=_0x2bd218;}}}return _0x50d44f['unlock'](),_0x50d44f;},iN=(_0x5e412b,_0x35dafe,_0x4c2e0a,_0x40bd12,_0x3f1348,_0x476479)=>{const _0x3808d5={},_0x97a15b=[];for(const _0x59acbf in _0x35dafe)_0x35dafe['hasOwnProp'+'erty'](_0x59acbf)&&Nh['hasOwnProp'+'erty'](_0x59acbf)&&(_0x3808d5[_0x59acbf]=_0x35dafe[_0x59acbf],_0x97a15b['push'](_0x59acbf+':'+_0x35dafe[_0x59acbf]));_0x97a15b['sort']();const _0xb884b1=_0x97a15b['join']();let _0x5f1701=_0x476479[_0xb884b1];if(!_0x5f1701){const _0x1118ad={};for(const _0x265fa4 in _0x3808d5){const _0x42fe19=_0x40bd12[_0x35dafe[_0x265fa4]],_0x4aca9d=ua(_0x42fe19,_0x3f1348),_0x162aed=_0x3f1348[_0x42fe19['bufferView']],_0x2562a3=Nh[_0x265fa4],_0x1f9566=yl(_0x42fe19['type'])*YF(_0x42fe19['componentT'+'ype']),_0x24a4e6=_0x162aed&&_0x162aed['hasOwnProp'+'erty']('byteStride')?_0x162aed['byteStride']:_0x1f9566;_0x1118ad[_0x2562a3]={'buffer':_0x4aca9d['buffer'],'size':_0x1f9566,'offset':_0x4aca9d['byteOffset'],'stride':_0x24a4e6,'count':_0x42fe19['count'],'components':yl(_0x42fe19['type']),'type':Dd(_0x42fe19['componentT'+'ype']),'normalize':_0x42fe19['normalized']};}_0x1118ad['hasOwnProp'+'erty'](gs)||JF(_0x1118ad,_0x4c2e0a),_0x5f1701=sN(_0x5e412b,_0x1118ad),_0x476479[_0xb884b1]=_0x5f1701;}return _0x5f1701;},rN=(_0x1a4aa5,_0x2365f5,_0x4e67c3,_0x52e34d,_0x375051,_0x2da449)=>{let _0xe5687d,_0x468561,_0x13313a;const _0x27bea3=_0x2365f5['joints'],_0x2ab528=_0x27bea3['length'],_0x4b2fea=[];if(_0x2365f5['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0xbc94cc=_0x2365f5['inverseBin'+'dMatrices'],_0x5d50e2=ua(_0x4e67c3[_0xbc94cc],_0x52e34d,!(-0xe9f*-0x1+0x16dc+0x257b*-0x1)),_0x24621a=[];for(_0xe5687d=-0x2f*0xb5+0x4*-0x670+-0x1*-0x3afb;_0xe5687d<_0x2ab528;_0xe5687d++){for(_0x468561=-0x17ab+0x1153+0x658;_0x468561<-0x1bf1*0x1+-0xbf*-0x7+0x16c8;_0x468561++)_0x24621a[_0x468561]=_0x5d50e2[_0xe5687d*(-0x2*-0x69d+-0x31*0x1+-0xcf9)+_0x468561];_0x13313a=new te(),_0x13313a['set'](_0x24621a),_0x4b2fea['push'](_0x13313a);}}else{for(_0xe5687d=0x5*-0x382+-0x86e*0x1+0xc*0x22a;_0xe5687d<_0x2ab528;_0xe5687d++)_0x13313a=new te(),_0x4b2fea['push'](_0x13313a);}const _0x17cc61=[];for(_0xe5687d=-0x2de*-0x7+-0xb*-0x353+-0x12e1*0x3;_0xe5687d<_0x2ab528;_0xe5687d++)_0x17cc61[_0xe5687d]=_0x375051[_0x27bea3[_0xe5687d]]['name'];const _0x5732d1=_0x17cc61['join']('#');let _0xf27b53=_0x2da449['get'](_0x5732d1);return _0xf27b53||(_0xf27b53=new Lv(_0x1a4aa5,_0x4b2fea,_0x17cc61),_0x2da449['set'](_0x5732d1,_0xf27b53)),_0xf27b53;},aN=(_0x189c29,_0x4c2fd9,_0x25c7b8,_0x94e51,_0x1c8b85,_0x1461a2,_0xdf681d)=>{var _0x38e3e0;const _0x24010b=new Ge(_0x189c29);_0x24010b['aabb']=Hu(_0x25c7b8[_0x4c2fd9['attributes']['POSITION']]);const _0x58e162=[];for(const [_0x11b098,_0x167518]of Object['entries'](_0x4c2fd9['attributes'])){const _0x4d3ea4=_0x25c7b8[_0x167518],_0x248e98=Nh[_0x11b098],_0x89510c=Dd(_0x4d3ea4['componentT'+'ype']);_0x58e162['push']({'semantic':_0x248e98,'components':yl(_0x4d3ea4['type']),'type':_0x89510c,'normalize':_0x4d3ea4['normalized']??(_0x248e98===Wt&&(_0x89510c===la||_0x89510c===Ml))});}if(_0xdf681d['push'](new Promise((_0x493d5f,_0x311518)=>{const _0x42597d=_0x4c2fd9['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x94e51[_0x42597d['bufferView']]['slice']()['buffer'],(_0x4e1bf8,_0x534ff7)=>{var _0x5f1b54;if(_0x4e1bf8)console['log'](_0x4e1bf8),_0x311518(_0x4e1bf8);else{const _0x21a384={};for(const [_0x2731e5,_0x28a607]of Object['entries'](_0x42597d['attributes']))_0x21a384[Nh[_0x2731e5]]=_0x534ff7['attributes']['indexOf'](_0x28a607);_0x58e162['sort']((_0x39aad8,_0x40edf2)=>_0x21a384[_0x39aad8['semantic']]-_0x21a384[_0x40edf2['semantic']]),(_0x5f1b54=_0x4c2fd9['attributes'])!=null&&_0x5f1b54['NORMAL']||_0x58e162['splice'](-0x2*-0x3c7+0x21d4+-0x2961,0x2*0xa12+0x224*0x11+-0x3888,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x2d1fb7=new kt(_0x189c29,_0x58e162),_0x5b7469=_0x534ff7['vertices']['byteLength']/_0x2d1fb7['size'],_0x9e66fa=_0x5b7469<=-0x1cf*0x1d+0x1*0x8ee2+0xa590?Yi:wr,_0x5a5945=_0x534ff7['indices']['byteLength']/(_0x5b7469<=-0x1683e+0x1850f+0xe32e?0xb*-0x33f+0x15d0*0x1+0xde7:-0xb*-0x265+0x2*-0x185+0x1*-0x1749);w['call'](()=>{_0x5b7469!==_0x25c7b8[_0x4c2fd9['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x5a5945!==_0x25c7b8[_0x4c2fd9['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x312f38=new Is(_0x189c29,_0x2d1fb7,_0x5b7469,{'data':_0x534ff7['vertices']}),_0x41c05c=new br(_0x189c29,_0x9e66fa,_0x5a5945,ms,_0x534ff7['indices']);_0x24010b['vertexBuff'+'er']=_0x312f38,_0x24010b['indexBuffe'+'r'][0xc2e+0x887*-0x4+-0x2*-0xaf7]=_0x41c05c,_0x24010b['primitive'][-0x2*0x1cb+0xcbc+0x926*-0x1]['type']=T0(_0x4c2fd9),_0x24010b['primitive'][0x2450*-0x1+-0x198b+0x3ddb]['base']=0x7bf+-0x1d*-0x44+0x235*-0x7,_0x24010b['primitive'][-0x1*-0x504+-0x109*-0x10+-0x1594]['count']=_0x41c05c?_0x5a5945:_0x5b7469,_0x24010b['primitive'][-0x1ef+-0x1209+0x13f8]['indexed']=!!_0x41c05c,_0x493d5f();}});})),(_0x38e3e0=_0x4c2fd9==null?void(0x218a+0x26c0+-0x26*0x1e7):_0x4c2fd9['extensions'])!=null&&_0x38e3e0['KHR_materi'+'als_varian'+'ts']){const _0x31c5a7=_0x4c2fd9['extensions']['KHR_materi'+'als_varian'+'ts'],_0x14f5ad={};_0x31c5a7['mappings']['forEach'](_0x303c7a=>{_0x303c7a['variants']['forEach'](_0x35d82e=>{_0x14f5ad[_0x35d82e]=_0x303c7a['material'];});}),_0x1c8b85[_0x24010b['id']]=_0x14f5ad;}return _0x1461a2[_0x24010b['id']]=_0x4c2fd9['material'],_0x24010b;},nN=(_0x282b91,_0x442af4,_0x5ac349,_0x1f2f96,_0x542dd0,_0x2efa6e,_0x126f9f,_0x5cd33b,_0x13d84d)=>{const _0x52fdbb=[];return _0x442af4['primitives']['forEach'](_0x16b06a=>{var _0x13789a;if((_0x13789a=_0x16b06a['extensions'])!=null&&_0x13789a['KHR_draco_'+'mesh_compr'+'ession'])_0x52fdbb['push'](aN(_0x282b91,_0x16b06a,_0x5ac349,_0x1f2f96,_0x2efa6e,_0x126f9f,_0x13d84d));else{let _0x48a3ea=_0x16b06a['hasOwnProp'+'erty']('indices')?ua(_0x5ac349[_0x16b06a['indices']],_0x1f2f96,!(-0x1130+-0x32b*0xb+0x3409)):null;const _0x26463c=iN(_0x282b91,_0x16b06a['attributes'],_0x48a3ea,_0x5ac349,_0x1f2f96,_0x542dd0),_0x53bdcd=T0(_0x16b06a),_0x342595=new Ge(_0x282b91);if(_0x342595['vertexBuff'+'er']=_0x26463c,_0x342595['primitive'][-0xe3b+0x48e*0x8+-0x17b*0xf]['type']=_0x53bdcd,_0x342595['primitive'][0x814*0x1+-0x1*0x1e33+0x161f]['base']=-0xa47+-0xac4+-0x150b*-0x1,_0x342595['primitive'][0x1d*-0x25+0x1*0xdb7+0x17*-0x6a]['indexed']=_0x48a3ea!==null,_0x48a3ea!==null){let _0x1ec6d0;_0x48a3ea instanceof Uint8Array?_0x1ec6d0=$f:_0x48a3ea instanceof Uint16Array?_0x1ec6d0=Yi:_0x1ec6d0=wr,_0x1ec6d0===$f&&_0x282b91['isWebGPU']&&(_0x1ec6d0=Yi,_0x48a3ea=new Uint16Array(_0x48a3ea));const _0x5acda5=new br(_0x282b91,_0x1ec6d0,_0x48a3ea['length'],ms,_0x48a3ea);_0x342595['indexBuffe'+'r'][-0x9f+-0x1*0x1ba1+0x1c40]=_0x5acda5,_0x342595['primitive'][-0x1d7a+-0x21c8+-0x6*-0xa8b]['count']=_0x48a3ea['length'];}else _0x342595['primitive'][-0x5*-0x522+0x15b3+0x19*-0x1e5]['count']=_0x26463c['numVertice'+'s'];if(_0x16b06a['hasOwnProp'+'erty']('extensions')&&_0x16b06a['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x2f3413=_0x16b06a['extensions']['KHR_materi'+'als_varian'+'ts'],_0x107c4b={};_0x2f3413['mappings']['forEach'](_0x40b3a5=>{_0x40b3a5['variants']['forEach'](_0x2f606c=>{_0x107c4b[_0x2f606c]=_0x40b3a5['material'];});}),_0x2efa6e[_0x342595['id']]=_0x107c4b;}_0x126f9f[_0x342595['id']]=_0x16b06a['material'];let _0x1dc9c1=_0x5ac349[_0x16b06a['attributes']['POSITION']];if(_0x342595['aabb']=Hu(_0x1dc9c1),_0x16b06a['hasOwnProp'+'erty']('targets')){const _0xa95d5f=[];_0x16b06a['targets']['forEach']((_0x551356,_0x4cdbae)=>{const _0x1f35ac={};_0x551356['hasOwnProp'+'erty']('POSITION')&&(_0x1dc9c1=_0x5ac349[_0x551356['POSITION']],_0x1f35ac['deltaPosit'+'ions']=Pn(_0x1dc9c1,_0x1f2f96),_0x1f35ac['aabb']=Hu(_0x1dc9c1)),_0x551356['hasOwnProp'+'erty']('NORMAL')&&(_0x1dc9c1=_0x5ac349[_0x551356['NORMAL']],_0x1f35ac['deltaNorma'+'ls']=Pn(_0x1dc9c1,_0x1f2f96)),_0x442af4['hasOwnProp'+'erty']('extras')&&_0x442af4['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x1f35ac['name']=_0x442af4['extras']['targetName'+'s'][_0x4cdbae]:_0x1f35ac['name']=_0x4cdbae['toString'](-0x124c*-0x2+0x18bf+-0x3d4d),_0x442af4['hasOwnProp'+'erty']('weights')&&(_0x1f35ac['defaultWei'+'ght']=_0x442af4['weights'][_0x4cdbae]),_0x1f35ac['preserveDa'+'ta']=_0x5cd33b['morphPrese'+'rveData'],_0xa95d5f['push'](new Md(_0x1f35ac));}),_0x342595['morph']=new mm(_0xa95d5f,_0x282b91,{'preferHighPrecision':_0x5cd33b['morphPrefe'+'rHighPreci'+'sion']});}_0x52fdbb['push'](_0x342595);}}),_0x52fdbb;},Dt=(_0x46b7ce,_0x29a2f0,_0x12a89e)=>{var _0x21d420;let _0xfbac84;const _0x366cee=_0x46b7ce['texCoord'];if(_0x366cee){for(_0xfbac84=-0x10b*0x1f+0x1*0x1f7d+0xd8;_0xfbac84<_0x12a89e['length'];++_0xfbac84)_0x29a2f0[_0x12a89e[_0xfbac84]+'MapUv']=_0x366cee;}const _0x267ab2=[0x8f6*0x4+-0x1357*-0x1+-0x1265*0x3,0xbe9*0x3+-0x20*0x78+-0x14bb],_0x4e182f=[0x62f+0x11e0+0x1*-0x180e,0xe44+-0x7eb*0x3+0x97e],_0x36e545=(_0x21d420=_0x46b7ce['extensions'])==null?void(-0x3*-0x3be+-0x28d*0x2+0x1c*-0x38):_0x21d420['KHR_textur'+'e_transfor'+'m'];if(_0x36e545){const _0x58add7=_0x36e545['offset']||_0x267ab2,_0x3a3529=_0x36e545['scale']||_0x4e182f,_0x56f66e=_0x36e545['rotation']?-_0x36e545['rotation']*Y['RAD_TO_DEG']:0x101+-0x17b3+-0xb59*-0x2,_0x2e4169=new J(_0x3a3529[0xb49+0x8aa*-0x1+0x29f*-0x1],_0x3a3529[0x2*-0x12af+0x30c+-0x12f*-0x1d]),_0x40926a=new J(_0x58add7[-0x130a+-0x1*0xca+-0x34e*-0x6],0x5bc*0x6+0x5*0x50b+-0x3b9e-_0x3a3529[0x14d3*0x1+0x4*-0x2c5+-0x9be]-_0x58add7[0x2*0x996+-0xf02*-0x2+-0x312f]);for(_0xfbac84=0x855+0x11a1*0x1+-0x19f6;_0xfbac84<_0x12a89e['length'];++_0xfbac84)_0x29a2f0[_0x12a89e[_0xfbac84]+'MapTiling']=_0x2e4169,_0x29a2f0[_0x12a89e[_0xfbac84]+'MapOffset']=_0x40926a,_0x29a2f0[_0x12a89e[_0xfbac84]+('MapRotatio'+'n')]=_0x56f66e;}},oN=(_0x340b31,_0x313a32,_0xf5fcbb)=>{let _0x3126a7,_0x344314;if(_0x340b31['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3126a7=_0x340b31['diffuseFac'+'tor'],_0x313a32['diffuse']['set'](Math['pow'](_0x3126a7[-0x73e+-0x67+0x7a5],(-0x368*0x7+0xa*0x103+0xdbb)/(-0x1*-0x559+-0x1*-0x101a+-0xb*0x1f3+0.20000000000000018)),Math['pow'](_0x3126a7[-0x126b+0x1c9d+-0xa31*0x1],(0x2*-0xa0c+0x11d5+-0xa*-0x3a)/(0x1*-0x1d8a+-0x1e1b+0x3ba7+0.20000000000000018)),Math['pow'](_0x3126a7[0x19b2+0x26ee+-0x409e],(0x6e6+0x1de9+-0xe*0x2a1)/(-0x214e+0x1070+0x10e0+0.20000000000000018))),_0x313a32['opacity']=_0x3126a7[-0x442+0x1c45*0x1+-0x1800]):(_0x313a32['diffuse']['set'](0x1704+-0x2*0x5d9+-0xb51,0x2c9*0xb+-0x2685+-0x3*-0x2a1,0x196*0x5+-0x2243+0xd2b*0x2),_0x313a32['opacity']=0x576+-0x139b+0xe26),_0x340b31['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2ea835=_0x340b31['diffuseTex'+'ture'];_0x344314=_0xf5fcbb[_0x2ea835['index']],_0x313a32['diffuseMap']=_0x344314,_0x313a32['diffuseMap'+'Channel']='rgb',_0x313a32['opacityMap']=_0x344314,_0x313a32['opacityMap'+'Channel']='a',Dt(_0x2ea835,_0x313a32,['diffuse','opacity']);}if(_0x313a32['useMetalne'+'ss']=!(-0x16e+0x34e*-0x4+0xea7),_0x340b31['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3126a7=_0x340b31['specularFa'+'ctor'],_0x313a32['specular']['set'](Math['pow'](_0x3126a7[-0x1*0x1c6+0x15bd+-0x1*0x13f7],(-0xa6a+-0x47*-0x7a+-0x4af*0x5)/(-0x1*0xfad+0x17e2+-0x833+0.20000000000000018)),Math['pow'](_0x3126a7[-0x1*-0x198b+-0x1834+-0x156],(-0xe4c+-0x104b+0x1e98)/(-0xe6f+-0x22dc+-0x70b*-0x7+0.20000000000000018)),Math['pow'](_0x3126a7[-0x13fb+-0x934+0x35*0x8d],(0x1b39+-0x398+-0x17a0)/(0x1a0*-0x1+0xac1+0x5*-0x1d3+0.20000000000000018)))):_0x313a32['specular']['set'](-0x5*0x159+-0xe*-0x3f+0x34c,0x1*0xe44+-0x12*-0x1e9+-0x30a5,0x60*-0x2+-0x1*0x1e5f+0x1f20),_0x340b31['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x313a32['gloss']=_0x340b31['glossiness'+'Factor']:_0x313a32['gloss']=-0x5b*-0x15+-0x45d*0x7+-0x1715*-0x1,_0x340b31['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x404864=_0x340b31['specularGl'+'ossinessTe'+'xture'];_0x313a32['specularMa'+'p']=_0x313a32['glossMap']=_0xf5fcbb[_0x404864['index']],_0x313a32['specularMa'+'pChannel']='rgb',_0x313a32['glossMapCh'+'annel']='a',Dt(_0x404864,_0x313a32,['gloss','metalness']);}},lN=(_0x1276d8,_0xb85d27,_0x23f8ee)=>{if(_0x1276d8['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0xb85d27['clearCoat']=_0x1276d8['clearcoatF'+'actor']*(0x1*0x47b+0x47b+-0x8f6*0x1+0.25):_0xb85d27['clearCoat']=-0xb32*0x2+0xa7+-0x23*-0x9f,_0x1276d8['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xde554c=_0x1276d8['clearcoatT'+'exture'];_0xb85d27['clearCoatM'+'ap']=_0x23f8ee[_0xde554c['index']],_0xb85d27['clearCoatM'+'apChannel']='r',Dt(_0xde554c,_0xb85d27,['clearCoat']);}if(_0x1276d8['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0xb85d27['clearCoatG'+'loss']=_0x1276d8['clearcoatR'+'oughnessFa'+'ctor']:_0xb85d27['clearCoatG'+'loss']=0x1*0xb93+-0x43*0x7b+0x149e,_0x1276d8['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x2a213d=_0x1276d8['clearcoatR'+'oughnessTe'+'xture'];_0xb85d27['clearCoatG'+'lossMap']=_0x23f8ee[_0x2a213d['index']],_0xb85d27['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x2a213d,_0xb85d27,['clearCoatG'+'loss']);}if(_0x1276d8['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x541bc6=_0x1276d8['clearcoatN'+'ormalTextu'+'re'];_0xb85d27['clearCoatN'+'ormalMap']=_0x23f8ee[_0x541bc6['index']],Dt(_0x541bc6,_0xb85d27,['clearCoatN'+'ormal']),_0x541bc6['hasOwnProp'+'erty']('scale')?_0xb85d27['clearCoatB'+'umpiness']=_0x541bc6['scale']:_0xb85d27['clearCoatB'+'umpiness']=-0x1d67+0x2*-0x6b2+0xc*0x391;}_0xb85d27['clearCoatG'+'lossInvert']=!(0xa26+0x2216+-0x2c3c);},cN=(_0x502ed6,_0x29e9e1,_0x3856aa)=>{_0x29e9e1['useLightin'+'g']=!(0x5e7*-0x6+-0x1129+0x3494*0x1),_0x29e9e1['emissive']['copy'](_0x29e9e1['diffuse']),_0x29e9e1['emissiveMa'+'p']=_0x29e9e1['diffuseMap'],_0x29e9e1['emissiveMa'+'pUv']=_0x29e9e1['diffuseMap'+'Uv'],_0x29e9e1['emissiveMa'+'pTiling']['copy'](_0x29e9e1['diffuseMap'+'Tiling']),_0x29e9e1['emissiveMa'+'pOffset']['copy'](_0x29e9e1['diffuseMap'+'Offset']),_0x29e9e1['emissiveMa'+'pRotation']=_0x29e9e1['diffuseMap'+'Rotation'],_0x29e9e1['emissiveMa'+'pChannel']=_0x29e9e1['diffuseMap'+'Channel'],_0x29e9e1['emissiveVe'+'rtexColor']=_0x29e9e1['diffuseVer'+'texColor'],_0x29e9e1['emissiveVe'+'rtexColorC'+'hannel']=_0x29e9e1['diffuseVer'+'texColorCh'+'annel'],_0x29e9e1['useLightin'+'g']=!(-0x1*-0x1f81+0x1*-0xda3+0x10d*-0x11),_0x29e9e1['useSkybox']=!(-0x16e*0x2+-0xfde+-0x1*-0x12bb),_0x29e9e1['diffuse']['set'](0x10d6+-0xf*0xf3+0x53*-0x8,-0x1*-0x2590+0x17b3*-0x1+-0x2*0x6ee,0x4b4*0x2+-0xc2e+0x2c7),_0x29e9e1['diffuseMap']=null,_0x29e9e1['diffuseVer'+'texColor']=!(0x1e4f+0x5*0x46a+-0x3460);},hN=(_0x34b783,_0x2c86da,_0x3e8837)=>{if(_0x2c86da['useMetalne'+'ssSpecular'+'Color']=!(-0x781+-0x1*-0x7e7+-0x66),_0x34b783['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x2c86da['specularMa'+'p']=_0x3e8837[_0x34b783['specularCo'+'lorTexture']['index']],_0x2c86da['specularMa'+'pChannel']='rgb',Dt(_0x34b783['specularCo'+'lorTexture'],_0x2c86da,['specular'])),_0x34b783['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x3f8210=_0x34b783['specularCo'+'lorFactor'];_0x2c86da['specular']['set'](Math['pow'](_0x3f8210[-0xa0*0x34+0x38d+-0x1cf3*-0x1],(-0x14ca+-0x14bc+0x2987)/(0x199*-0x8+-0x949*-0x1+-0x381*-0x1+0.20000000000000018)),Math['pow'](_0x3f8210[0x7d9*-0x4+0x10b4+0xeb1*0x1],(0x1b*0xb1+-0x1c5*-0x13+-0x3449)/(0xe07+-0x11*0xf4+0x22f+0.20000000000000018)),Math['pow'](_0x3f8210[-0x11d1*0x2+-0x1*0x1a9+0x254d],(0x148+-0x2*-0x6e1+-0x1*0xf09)/(-0xd3*-0x2b+0x26*-0xb7+-0x1d*0x49+0.20000000000000018)));}else _0x2c86da['specular']['set'](0x1822+-0x75a+0x10c7*-0x1,-0x3ae*0x9+-0x1c5b+0x3d7a,-0x1dee+0xe28+0x7*0x241);_0x34b783['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x2c86da['specularit'+'yFactor']=_0x34b783['specularFa'+'ctor']:_0x2c86da['specularit'+'yFactor']=-0x187f+-0xc79+0xf*0x277,_0x34b783['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x2c86da['specularit'+'yFactorMap'+'Channel']='a',_0x2c86da['specularit'+'yFactorMap']=_0x3e8837[_0x34b783['specularTe'+'xture']['index']],Dt(_0x34b783['specularTe'+'xture'],_0x2c86da,['specularit'+'yFactor']));},dN=(_0x31d732,_0xcacc51,_0x215f6e)=>{_0x31d732['hasOwnProp'+'erty']('ior')&&(_0xcacc51['refraction'+'Index']=(0x1266+0x7c3*0x3+-0x29ae)/_0x31d732['ior']);},fN=(_0x3ee88e,_0x5a5bab,_0x4bc191)=>{_0x3ee88e['hasOwnProp'+'erty']('dispersion')&&(_0x5a5bab['dispersion']=_0x3ee88e['dispersion']);},uN=(_0x5adac4,_0x132067,_0xd530f3)=>{_0x132067['blendType']=Zs,_0x132067['useDynamic'+'Refraction']=!(0x264+-0xa3*0x3d+0x1f*0x12d),_0x5adac4['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x132067['refraction']=_0x5adac4['transmissi'+'onFactor']),_0x5adac4['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x132067['refraction'+'MapChannel']='r',_0x132067['refraction'+'Map']=_0xd530f3[_0x5adac4['transmissi'+'onTexture']['index']],Dt(_0x5adac4['transmissi'+'onTexture'],_0x132067,['refraction']));},pN=(_0x214c7c,_0x4c7347,_0x1e2342)=>{if(_0x4c7347['useSheen']=!(0x25*-0x5f+-0x1*-0xe0e+-0x53),_0x214c7c['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x268d63=_0x214c7c['sheenColor'+'Factor'];_0x4c7347['sheen']['set'](Math['pow'](_0x268d63[-0x1*-0x6a7+-0x1f*0xa2+0xcf7],(-0x3a*-0x1d+0xfb0*0x2+-0x25f1)/(0x18c0+0x2580+-0x3e*0x101+0.20000000000000018)),Math['pow'](_0x268d63[-0x388+0x308+0x81],(-0x38*-0x6f+-0x815*0x1+-0x6*0x2b3)/(0x1*0x88d+0x10*-0x266+0x1dd5+0.20000000000000018)),Math['pow'](_0x268d63[-0x7*0x43b+-0x1f79+0x2e*0x154],(-0x14e7+-0xa3f+0x19*0x13f)/(-0x11f5*-0x2+0x1*-0x137f+-0x1069*0x1+0.20000000000000018)));}else _0x4c7347['sheen']['set'](-0xa81+-0x1d14+0x2*0x13cb,0x2576+-0x20b8+0x4bd*-0x1,0x27*-0x39+-0xe8f+0x173f);_0x214c7c['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x4c7347['sheenMap']=_0x1e2342[_0x214c7c['sheenColor'+'Texture']['index']],Dt(_0x214c7c['sheenColor'+'Texture'],_0x4c7347,['sheen'])),_0x4c7347['sheenGloss']=_0x214c7c['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x214c7c['sheenRough'+'nessFactor']:-0x27c+-0x25*0xf7+0x262f,_0x214c7c['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x4c7347['sheenGloss'+'Map']=_0x1e2342[_0x214c7c['sheenRough'+'nessTextur'+'e']['index']],_0x4c7347['sheenGloss'+'MapChannel']='a',Dt(_0x214c7c['sheenRough'+'nessTextur'+'e'],_0x4c7347,['sheenGloss'])),_0x4c7347['sheenGloss'+'Invert']=!(-0x2276+0x49*-0x7f+0x46ad);},mN=(_0x4d4bf5,_0x3b8e82,_0x151955)=>{if(_0x3b8e82['blendType']=Zs,_0x3b8e82['useDynamic'+'Refraction']=!(-0x135*0x11+-0x2413+0x3898),_0x4d4bf5['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x3b8e82['thickness']=_0x4d4bf5['thicknessF'+'actor']),_0x4d4bf5['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x3b8e82['thicknessM'+'ap']=_0x151955[_0x4d4bf5['thicknessT'+'exture']['index']],_0x3b8e82['thicknessM'+'apChannel']='g',Dt(_0x4d4bf5['thicknessT'+'exture'],_0x3b8e82,['thickness'])),_0x4d4bf5['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x3b8e82['attenuatio'+'nDistance']=_0x4d4bf5['attenuatio'+'nDistance']),_0x4d4bf5['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x368404=_0x4d4bf5['attenuatio'+'nColor'];_0x3b8e82['attenuatio'+'n']['set'](Math['pow'](_0x368404[0x1f7+0x4d*-0x4a+0x1*0x144b],(0x664+-0xc04+-0x83*-0xb)/(0x3d*0x59+0x1*0x22d5+0x2c*-0x146+0.20000000000000018)),Math['pow'](_0x368404[-0x6b0+0x9e4+0x27*-0x15],(0x12e0+-0xaf0+-0x7ef*0x1)/(0x1f*0xde+-0x12d*0x21+0xbed+0.20000000000000018)),Math['pow'](_0x368404[-0x224a+-0x1bf5*-0x1+0x657],(0x21d8+0x316*0x2+-0x2803*0x1)/(0x1d63*0x1+-0x1*0x1c1+-0x1a*0x110+0.20000000000000018)));}},_N=(_0x4f51e4,_0x3a6384,_0x227437)=>{_0x4f51e4['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x3a6384['emissiveIn'+'tensity']=_0x4f51e4['emissiveSt'+'rength']);},gN=(_0x1c0981,_0x4d9416,_0x1b9564)=>{_0x4d9416['useIridesc'+'ence']=!(-0x4f*-0x6d+-0xa4*-0x11+-0x1*0x2c87),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x4d9416['iridescenc'+'e']=_0x1c0981['iridescenc'+'eFactor']),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x4d9416['iridescenc'+'eMapChanne'+'l']='r',_0x4d9416['iridescenc'+'eMap']=_0x1b9564[_0x1c0981['iridescenc'+'eTexture']['index']],Dt(_0x1c0981['iridescenc'+'eTexture'],_0x4d9416,['iridescenc'+'e'])),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x4d9416['iridescenc'+'eRefractio'+'nIndex']=_0x1c0981['iridescenc'+'eIor']),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x4d9416['iridescenc'+'eThickness'+'Min']=_0x1c0981['iridescenc'+'eThickness'+'Minimum']),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x4d9416['iridescenc'+'eThickness'+'Max']=_0x1c0981['iridescenc'+'eThickness'+'Maximum']),_0x1c0981['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x4d9416['iridescenc'+'eThickness'+'MapChannel']='g',_0x4d9416['iridescenc'+'eThickness'+'Map']=_0x1b9564[_0x1c0981['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x1c0981['iridescenc'+'eThickness'+'Texture'],_0x4d9416,['iridescenc'+'eThickness']));},SN=(_0x39db19,_0x23cc54,_0x492245)=>{if(_0x23cc54['enableGGXS'+'pecular']=!(-0x13e8+-0x12b1+-0x29*-0xf1),_0x39db19['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x23cc54['anisotropy'+'Intensity']=_0x39db19['anisotropy'+'Strength']:_0x23cc54['anisotropy'+'Intensity']=0x368*-0x2+0xdd4+-0x704,_0x39db19['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x436d9c=_0x39db19['anisotropy'+'Texture'];_0x23cc54['anisotropy'+'Map']=_0x492245[_0x436d9c['index']],Dt(_0x436d9c,_0x23cc54,['anisotropy']);}_0x39db19['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x23cc54['anisotropy'+'Rotation']=_0x39db19['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x23cc54['anisotropy'+'Rotation']=0x1*-0x17dd+0xb5*0x2e+-0x8a9;},w0=(_0x16e752,_0x71d0da)=>{const _0x60b999=new Ut();_0x16e752['hasOwnProp'+'erty']('name')&&(_0x60b999['name']=_0x16e752['name']),_0x60b999['occludeSpe'+'cular']=bd,_0x60b999['diffuseVer'+'texColor']=!(0x3*-0xb1b+-0xece*-0x1+0x1283),_0x60b999['specularTi'+'nt']=!(-0xc29*-0x2+0x16*-0x1+0x2c*-0x8d),_0x60b999['specularVe'+'rtexColor']=!(-0x2032*-0x1+-0x10bd*0x2+-0x52*-0x4),_0x60b999['specular']['set'](0x1*-0x377+0x1*0x194+0x2*0xf2,-0x1de9+-0x17dd+0x27*0x161,0x92e+-0x1a24+-0x1*-0x10f7),_0x60b999['gloss']=-0x3*0x91b+0x8*-0x1eb+-0xfe*-0x2b,_0x60b999['glossInver'+'t']=!(0x198c+-0x988+-0x1004),_0x60b999['useMetalne'+'ss']=!(0x5*-0x1cf+-0x20ae+0x29b9);let _0x1f8f40,_0x4f83fb;if(_0x16e752['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x30ceb9=_0x16e752['pbrMetalli'+'cRoughness'];if(_0x30ceb9['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x1f8f40=_0x30ceb9['baseColorF'+'actor'],_0x60b999['diffuse']['set'](Math['pow'](_0x1f8f40[-0x2c4+0x19ca*0x1+-0x1706],(0x1b77*0x1+-0x2*0x10d7+-0x638*-0x1)/(0x717+0x236+0xb7*-0xd+0.20000000000000018)),Math['pow'](_0x1f8f40[-0x141*0x1d+-0x10f1*-0x1+0x136d],(-0x126*-0x4+-0x5fe+0x167*0x1)/(-0x2113*0x1+-0x1ba4+0x3cb9+0.20000000000000018)),Math['pow'](_0x1f8f40[-0x160+0x4ec*-0x7+0x5f9*0x6],(-0x184f+-0x13*-0x1c6+-0x962)/(-0x5*-0x629+0xd3*-0x21+-0x73*0x8+0.20000000000000018))),_0x60b999['opacity']=_0x1f8f40[-0x455*0x1+-0x115e+0x15b6]),_0x30ceb9['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x19cb4e=_0x30ceb9['baseColorT'+'exture'];_0x4f83fb=_0x71d0da[_0x19cb4e['index']],_0x60b999['diffuseMap']=_0x4f83fb,_0x60b999['diffuseMap'+'Channel']='rgb',_0x60b999['opacityMap']=_0x4f83fb,_0x60b999['opacityMap'+'Channel']='a',Dt(_0x19cb4e,_0x60b999,['diffuse','opacity']);}if(_0x30ceb9['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x60b999['metalness']=_0x30ceb9['metallicFa'+'ctor']),_0x30ceb9['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x60b999['gloss']=_0x30ceb9['roughnessF'+'actor']),_0x30ceb9['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x7ac729=_0x30ceb9['metallicRo'+'ughnessTex'+'ture'];_0x60b999['metalnessM'+'ap']=_0x60b999['glossMap']=_0x71d0da[_0x7ac729['index']],_0x60b999['metalnessM'+'apChannel']='b',_0x60b999['glossMapCh'+'annel']='g',Dt(_0x7ac729,_0x60b999,['gloss','metalness']);}}if(_0x16e752['hasOwnProp'+'erty']('normalText'+'ure')){const _0x56fb10=_0x16e752['normalText'+'ure'];_0x60b999['normalMap']=_0x71d0da[_0x56fb10['index']],Dt(_0x56fb10,_0x60b999,['normal']),_0x56fb10['hasOwnProp'+'erty']('scale')&&(_0x60b999['bumpiness']=_0x56fb10['scale']);}if(_0x16e752['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x4977b0=_0x16e752['occlusionT'+'exture'];_0x60b999['aoMap']=_0x71d0da[_0x4977b0['index']],_0x60b999['aoMapChann'+'el']='r',Dt(_0x4977b0,_0x60b999,['ao']);}if(_0x16e752['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x1f8f40=_0x16e752['emissiveFa'+'ctor'],_0x60b999['emissive']['set'](Math['pow'](_0x1f8f40[-0xe83+0x3*-0x8dd+0x291a],(0x1a72*-0x1+0x1*0x1b65+-0xf2)/(-0xd1d*-0x2+-0x115a+0x2*-0x46f+0.20000000000000018)),Math['pow'](_0x1f8f40[0x1ebc+-0x1*0x142e+-0xa8d*0x1],(0x1*0x1ec+-0x260b+0x2420)/(-0x20b1*-0x1+-0x7d*0x5+-0x1e3e+0.20000000000000018)),Math['pow'](_0x1f8f40[-0xb*0x37c+-0x1453+-0x1*-0x3aa9],(0x1eca+0x1706+-0x35cf)/(-0x1*0x1d39+0x360+0x19db+0.20000000000000018)))),_0x16e752['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x31c39a=_0x16e752['emissiveTe'+'xture'];_0x60b999['emissiveMa'+'p']=_0x71d0da[_0x31c39a['index']],Dt(_0x31c39a,_0x60b999,['emissive']);}if(_0x16e752['hasOwnProp'+'erty']('alphaMode'))switch(_0x16e752['alphaMode']){case'MASK':_0x60b999['blendType']=Cs,_0x16e752['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x60b999['alphaTest']=_0x16e752['alphaCutof'+'f']:_0x60b999['alphaTest']=-0x1*-0xfd+-0x11f5*-0x1+-0x3ca*0x5+0.5;break;case'BLEND':_0x60b999['blendType']=Zs,_0x60b999['depthWrite']=!(0x13*0x193+-0xd05+-0x21*0x83);break;default:case'OPAQUE':_0x60b999['blendType']=Cs;break;}else _0x60b999['blendType']=Cs;_0x16e752['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x60b999['twoSidedLi'+'ghting']=_0x16e752['doubleSide'+'d'],_0x60b999['cull']=_0x16e752['doubleSide'+'d']?bt:pa):(_0x60b999['twoSidedLi'+'ghting']=!(-0x1ff*0xc+0xd7d+0x1*0xa78),_0x60b999['cull']=pa);const _0x3dcc06={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x16e752['hasOwnProp'+'erty']('extensions'))for(const _0x1ebc76 in _0x16e752['extensions']){const _0x59b18e=_0x3dcc06[_0x1ebc76];_0x59b18e!==void(0x1*0x17b7+0x176e+-0x9*0x53d)&&_0x59b18e(_0x16e752['extensions'][_0x1ebc76],_0x60b999,_0x71d0da);}return _0x60b999['update'](),_0x60b999;},yN=(_0x9fffd1,_0x4eaf3c,_0xbcd308,_0x3864fb,_0x32af5d,_0x26d047,_0x2fa69e)=>{const _0x11e085=_0x5eb771=>new Fh(yl(_0x5eb771['type']),Pn(_0x5eb771,_0x3864fb)),_0x136b09={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x5a7100={},_0x81f56a={},_0x50f707={};let _0x5671ba=-0x359*-0x2+0x23a0+-0x2a51,_0x2e3a96;for(_0x2e3a96=0xd84+-0x14fa+0x776;_0x2e3a96<_0x9fffd1['samplers']['length'];++_0x2e3a96){const _0x4890aa=_0x9fffd1['samplers'][_0x2e3a96];_0x5a7100['hasOwnProp'+'erty'](_0x4890aa['input'])||(_0x5a7100[_0x4890aa['input']]=_0x11e085(_0xbcd308[_0x4890aa['input']])),_0x81f56a['hasOwnProp'+'erty'](_0x4890aa['output'])||(_0x81f56a[_0x4890aa['output']]=_0x11e085(_0xbcd308[_0x4890aa['output']]));const _0x2106c5=_0x4890aa['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x136b09['hasOwnProp'+'erty'](_0x4890aa['interpolat'+'ion'])?_0x136b09[_0x4890aa['interpolat'+'ion']]:Su,_0x2a709c={'paths':[],'input':_0x4890aa['input'],'output':_0x4890aa['output'],'interpolation':_0x2106c5};_0x50f707[_0x2e3a96]=_0x2a709c;}const _0x4fbd7e=[],_0x310cbd={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x34b9d1=_0xb424be=>{const _0x2993cc=[];for(;_0xb424be;)_0x2993cc['unshift'](_0xb424be['name']),_0xb424be=_0xb424be['parent'];return _0x2993cc;},_0x5c318b=(_0x4797aa,_0x2c3fa9,_0x57eec5)=>{const _0x40ba65=_0x81f56a[_0x4797aa['output']];if(!_0x40ba65){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x57eec5+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x3e96e0;if(_0x26d047&&_0x26d047[_0x2c3fa9['mesh']]){const _0x20fd97=_0x26d047[_0x2c3fa9['mesh']];_0x20fd97['hasOwnProp'+'erty']('extras')&&_0x20fd97['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x3e96e0=_0x20fd97['extras']['targetName'+'s']);}const _0x4df5cc=_0x40ba65['data'],_0x3bcf15=_0x4df5cc['length']/_0x5a7100[_0x4797aa['input']]['data']['length'],_0x46f73d=_0x4df5cc['length']/_0x3bcf15,_0x381d57=_0x46f73d*(0x1*0x4c6+0x206e+0x8*-0x4a6),_0x34e6ba=new ArrayBuffer(_0x381d57*_0x3bcf15);for(let _0x1eef29=-0x3ce*0x1+-0xff3+-0x185*-0xd;_0x1eef29<_0x3bcf15;_0x1eef29++){const _0x3f4eb5=new Float32Array(_0x34e6ba,_0x381d57*_0x1eef29,_0x46f73d);for(let _0x1bac36=0x2632+0x1b6*0x16+-0x2*0x25eb;_0x1bac36<_0x46f73d;_0x1bac36++)_0x3f4eb5[_0x1bac36]=_0x4df5cc[_0x1bac36*_0x3bcf15+_0x1eef29];const _0x20ab44=new Fh(-0x11e2+0xe15*-0x1+-0x3ff*-0x8,_0x3f4eb5),_0x328641=_0x3e96e0!=null&&_0x3e96e0[_0x1eef29]?'name.'+_0x3e96e0[_0x1eef29]:_0x1eef29;_0x81f56a[-_0x5671ba]=_0x20ab44;const _0x11ce36={'paths':[{'entityPath':_0x57eec5,'component':'graph','propertyPath':['weight.'+_0x328641]}],'input':_0x4797aa['input'],'output':-_0x5671ba,'interpolation':_0x4797aa['interpolat'+'ion']};_0x5671ba++,_0x50f707['morphCurve'+'-'+_0x2e3a96+'-'+_0x1eef29]=_0x11ce36;}};for(_0x2e3a96=0x1*-0x81e+0xfaa+-0x78c;_0x2e3a96<_0x9fffd1['channels']['length'];++_0x2e3a96){const _0x296a79=_0x9fffd1['channels'][_0x2e3a96],_0x8fb490=_0x296a79['target'],_0x1893bb=_0x50f707[_0x296a79['sampler']],_0x2803b5=_0x32af5d[_0x8fb490['node']],_0x3e2765=_0x2fa69e[_0x8fb490['node']],_0x25f0ca=_0x34b9d1(_0x2803b5);_0x8fb490['path']['startsWith']('weights')?(_0x5c318b(_0x1893bb,_0x3e2765,_0x25f0ca),_0x50f707[_0x296a79['sampler']]['morphCurve']=!(-0x238a+0x19ba+-0x2*-0x4e8)):_0x1893bb['paths']['push']({'entityPath':_0x25f0ca,'component':'graph','propertyPath':[_0x310cbd[_0x8fb490['path']]]});}const _0x5b92c1=[],_0x323fbb=[],_0xc8e4e3=[];for(const _0x3e9bfe in _0x5a7100)_0x5b92c1['push'](_0x5a7100[_0x3e9bfe]),_0x5a7100[_0x3e9bfe]=_0x5b92c1['length']-(0xcb2+-0x5e9+-0x1f*0x38);for(const _0x11caf1 in _0x81f56a)_0x323fbb['push'](_0x81f56a[_0x11caf1]),_0x81f56a[_0x11caf1]=_0x323fbb['length']-(0x1d7*0x6+-0x2447+0x193e);for(const _0x602feb in _0x50f707){const _0x3cd4df=_0x50f707[_0x602feb];_0x3cd4df['morphCurve']||(_0xc8e4e3['push'](new v0(_0x3cd4df['paths'],_0x5a7100[_0x3cd4df['input']],_0x81f56a[_0x3cd4df['output']],_0x3cd4df['interpolat'+'ion'])),_0x3cd4df['paths']['length']>-0x1c07+-0x1a4+0x1dab&&_0x3cd4df['paths'][0x164a+0x7*0x59+-0x18b9]['propertyPa'+'th'][0x130+-0x180+0x50]==='localRotat'+'ion'&&_0x3cd4df['interpolat'+'ion']!==yu&&_0x4fbd7e['push'](_0xc8e4e3[_0xc8e4e3['length']-(0x7cf*0x1+0xf28+-0x16f6)]['output']));}_0x4fbd7e['sort']();let _0x2865ce=null,_0x4a5230;for(_0x2e3a96=0x1bd4+0x1*-0x2374+0x7a0;_0x2e3a96<_0x4fbd7e['length'];++_0x2e3a96){const _0xb363ca=_0x4fbd7e[_0x2e3a96];if(_0x2e3a96===0x26db+-0x1c9*-0x8+-0x3523||_0xb363ca!==_0x2865ce){if(_0x4a5230=_0x323fbb[_0xb363ca],_0x4a5230['components']===-0x3b7*0x4+0x97*0x3a+-0x1356){const _0x315cd8=_0x4a5230['data'],_0x48b6fb=_0x315cd8['length']-(0x2*-0x9e3+-0x399+0x1763);for(let _0xd91913=-0x204d*-0x1+-0x3*0x6bb+-0xc1c;_0xd91913<_0x48b6fb;_0xd91913+=-0x11*0x19b+0x4d7+0x1678)_0x315cd8[_0xd91913+(0x6*0x81+-0x24c1+0x21bb)]*_0x315cd8[_0xd91913+(-0xe*0x137+-0x1*-0x221e+-0x1118)]+_0x315cd8[_0xd91913+(-0x1f3+0x3*0x7c7+-0x1561)]*_0x315cd8[_0xd91913+(0x5*0x17d+-0x1415+0x1cf*0x7)]+_0x315cd8[_0xd91913+(-0x1f*-0x9d+-0x1e7d+0xb7c)]*_0x315cd8[_0xd91913+(-0x2f*-0x1a+0x6*0x2ff+0x1*-0x16ba)]+_0x315cd8[_0xd91913+(-0x12*0x141+-0x1*-0x4c1+-0x2*-0x8ea)]*_0x315cd8[_0xd91913+(0x10*-0xe8+0x2*-0x9ef+-0x3*-0xb77)]<-0x1d02+0x1e73+-0x171&&(_0x315cd8[_0xd91913+(0xf7f*0x1+0x2*0x11a7+0x32c9*-0x1)]*=-(-0x22b*-0x10+-0x1*0xd01+-0x15ae),_0x315cd8[_0xd91913+(-0x7*0x4f3+0x1*-0x1f75+0x421f*0x1)]*=-(0x1a06*0x1+0x1472+0x3d*-0xc3),_0x315cd8[_0xd91913+(-0x134*0x1f+-0x3da*-0x8+0x682)]*=-(0xb1e+0xe35+-0x39e*0x7),_0x315cd8[_0xd91913+(-0x1237+-0x2460+-0x1*-0x369e)]*=-(0x6b*0x3+-0x130e+-0x35*-0x56));}_0x2865ce=_0xb363ca;}}let _0x45b343=-0x1*-0x1467+-0x9*-0x223+0xd36*-0x3;for(_0x2e3a96=-0x5*-0x184+0x1*-0x23a1+0xa7*0x2b;_0x2e3a96<_0x5b92c1['length'];_0x2e3a96++)_0x4a5230=_0x5b92c1[_0x2e3a96]['_data'],_0x45b343=Math['max'](_0x45b343,_0x4a5230['length']===-0x1*-0x18bd+-0x1*0x98b+-0xf32*0x1?-0x103*-0x1b+0x593*0x5+-0x3730:_0x4a5230[_0x4a5230['length']-(0x1b*-0x19+-0x1a1*-0x4+0x10*-0x3e)]);return new Qi(_0x9fffd1['hasOwnProp'+'erty']('name')?_0x9fffd1['name']:'animation_'+_0x4eaf3c,_0x45b343,_0x5b92c1,_0x323fbb,_0xc8e4e3);},Dc=new te(),Qa=new D(),vN=(_0x37a9cb,_0x1b7530,_0x5abf12)=>{const _0x4a7741=new Ie();if(_0x37a9cb['hasOwnProp'+'erty']('name')&&_0x37a9cb['name']['length']>-0xa3c+-0x1ae1+0x251d?_0x4a7741['name']=_0x37a9cb['name']:_0x4a7741['name']='node_'+_0x1b7530,_0x37a9cb['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x37a9cb['matrix']),Dc['getTransla'+'tion'](Qa),_0x4a7741['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x4a7741['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x4a7741['setLocalSc'+'ale'](Qa)),_0x37a9cb['hasOwnProp'+'erty']('rotation')){const _0x54279e=_0x37a9cb['rotation'];_0x4a7741['setLocalRo'+'tation'](_0x54279e[0x7*-0x226+-0x16ed+-0x1*-0x25f7],_0x54279e[-0x1*0xe89+-0x17bf+0x3*0xcc3],_0x54279e[-0x2391+0x12f6+-0x109d*-0x1],_0x54279e[-0x11b4*-0x2+-0x1521+-0xe44]);}if(_0x37a9cb['hasOwnProp'+'erty']('translatio'+'n')){const _0xcfbc0c=_0x37a9cb['translatio'+'n'];_0x4a7741['setLocalPo'+'sition'](_0xcfbc0c[-0x15ea+-0x22+0x160c],_0xcfbc0c[0xd81+-0x82*-0x27+-0x196*0x15],_0xcfbc0c[0x22d*-0x8+-0xe4d+0x1fb7]);}if(_0x37a9cb['hasOwnProp'+'erty']('scale')){const _0x5c762b=_0x37a9cb['scale'];_0x4a7741['setLocalSc'+'ale'](_0x5c762b[-0x213c+-0x12a0+-0xcf7*-0x4],_0x5c762b[0x13de+0xc*-0xf9+-0x831],_0x5c762b[-0x1c17+0x1428+0x7f1]);}return _0x37a9cb['hasOwnProp'+'erty']('extensions')&&_0x37a9cb['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x5abf12['set'](_0x37a9cb,{'ext':_0x37a9cb['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x4a7741;},xN=(_0x2692e7,_0x30ee6a)=>{const _0x599294=_0x2692e7['type']==='orthograph'+'ic'?En:ni,_0x293bde=_0x599294===En?_0x2692e7['orthograph'+'ic']:_0x2692e7['perspectiv'+'e'],_0x45fbc8={'enabled':!(0x1b0c+0x14*0x12f+-0x32b7*0x1),'projection':_0x599294,'nearClip':_0x293bde['znear'],'aspectRatioMode':hm};_0x293bde['zfar']&&(_0x45fbc8['farClip']=_0x293bde['zfar']),_0x599294===En?(_0x45fbc8['orthoHeigh'+'t']=(-0x6f*0x34+-0x1*0x1fe0+0x366c+0.5)*_0x293bde['ymag'],_0x293bde['ymag']&&(_0x45fbc8['aspectRati'+'oMode']=lu,_0x45fbc8['aspectRati'+'o']=_0x293bde['xmag']/_0x293bde['ymag'])):(_0x45fbc8['fov']=_0x293bde['yfov']*Y['RAD_TO_DEG'],_0x293bde['aspectRati'+'o']&&(_0x45fbc8['aspectRati'+'oMode']=lu,_0x45fbc8['aspectRati'+'o']=_0x293bde['aspectRati'+'o']));const _0x29b326=new lt(_0x2692e7['name']);return _0x29b326['addCompone'+'nt']('camera',_0x45fbc8),_0x29b326;},TN=(_0x14bd2d,_0x4766f5)=>{const _0x1b086d={'enabled':!(-0xfdc+0x47*-0x2a+0x1b83),'type':_0x14bd2d['type']==='point'?'omni':_0x14bd2d['type'],'color':_0x14bd2d['hasOwnProp'+'erty']('color')?new ie(_0x14bd2d['color']):ie['WHITE'],'range':_0x14bd2d['hasOwnProp'+'erty']('range')?_0x14bd2d['range']:-0x1c1d+0x1283+0x30a9*0x1,'falloffMode':ev,'intensity':_0x14bd2d['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x14bd2d['intensity'],0xa3c*-0x1+0x94*-0x16+0x16f4,0xb8e*0x1+-0x17*-0xe9+-0x207b):-0x850+-0x4*0x11+0x895};_0x14bd2d['hasOwnProp'+'erty']('spot')&&(_0x1b086d['innerConeA'+'ngle']=_0x14bd2d['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x14bd2d['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0x20a9+-0x14*0xba+0x2f31,_0x1b086d['outerConeA'+'ngle']=_0x14bd2d['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x14bd2d['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x1aaa+0x1bd2+-0x124)),_0x14bd2d['hasOwnProp'+'erty']('intensity')&&(_0x1b086d['luminance']=_0x14bd2d['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x1b086d['type']],_0x1b086d['outerConeA'+'ngle'],_0x1b086d['innerConeA'+'ngle']));const _0x1eaf77=new lt(_0x4766f5['name']);return _0x1eaf77['rotateLoca'+'l'](-0x4*-0x153+-0x1581+-0x1d7*-0x9,0x4*0x667+0x17dd+-0x3179,0x3*-0x26b+-0x8a3+0xfe4),_0x1eaf77['addCompone'+'nt']('light',_0x1b086d),_0x1eaf77;},wN=(_0x53045e,_0x53bdb6,_0xd4fb8e,_0x3831eb)=>{if(!_0x53bdb6['hasOwnProp'+'erty']('skins')||_0x53bdb6['skins']['length']===-0x1*-0x335+-0x1ed7+0x1ba2)return[];const _0x24fe8e=new Map();return _0x53bdb6['skins']['map'](_0x42a70a=>rN(_0x53045e,_0x42a70a,_0x53bdb6['accessors'],_0x3831eb,_0xd4fb8e,_0x24fe8e));},EN=(_0x44abde,_0x475e25,_0x1f50ae,_0x15cfb5)=>{var _0x14f196,_0x459682,_0x1a95ae;const _0x15d610={},_0x3d7186={},_0x1764de={},_0x464cdf=[];return{'meshes':!_0x15cfb5['skipMeshes']&&((_0x14f196=_0x475e25==null?void(-0x1632+-0x26e5+-0xd*-0x4b3):_0x475e25['meshes'])==null?void(0x23b*-0xe+-0x15*0x166+0x3c98):_0x14f196['length'])&&((_0x459682=_0x475e25==null?void(-0xcc9+-0x1f*-0x4a+-0x3d3*-0x1):_0x475e25['accessors'])==null?void(-0xc*0x270+0xf8+0x1c48):_0x459682['length'])&&((_0x1a95ae=_0x475e25==null?void(0x63b*-0x4+0x54*-0x11+0x1e80):_0x475e25['bufferView'+'s'])==null?void(-0x25fc+-0x1a5*0x2+0x2946):_0x1a95ae['length'])?_0x475e25['meshes']['map'](_0x40672b=>nN(_0x44abde,_0x40672b,_0x475e25['accessors'],_0x1f50ae,_0x15d610,_0x3d7186,_0x1764de,_0x15cfb5,_0x464cdf)):[],'meshVariants':_0x3d7186,'meshDefaultMaterials':_0x1764de,'promises':_0x464cdf};},bN=(_0x2b8b20,_0x4745ac,_0x37859d)=>{var _0x33d5bd,_0x3e1c5d,_0x4e50e7;if(!_0x2b8b20['hasOwnProp'+'erty']('materials')||_0x2b8b20['materials']['length']===0xe*0xca+0xa7c+-0x1588)return[];const _0x1f6820=(_0x33d5bd=_0x37859d==null?void(-0x186f+-0x7de*-0x4+-0x709*0x1):_0x37859d['material'])==null?void(0x2c3+0x24b7*-0x1+0x21f4):_0x33d5bd['preprocess'],_0x481495=((_0x3e1c5d=_0x37859d==null?void(0x1*-0x138e+-0x2b*0x2+-0x10c*-0x13):_0x37859d['material'])==null?void(0x449+-0x1*-0x52c+-0x975):_0x3e1c5d['process'])??w0,_0x38bc46=(_0x4e50e7=_0x37859d==null?void(-0x923*0x1+0x127d+0x31e*-0x3):_0x37859d['material'])==null?void(0xbb7+0xd*0xe3+-0x4a6*0x5):_0x4e50e7['postproces'+'s'];return _0x2b8b20['materials']['map'](_0x29cb55=>{_0x1f6820&&_0x1f6820(_0x29cb55);const _0x1a38c1=_0x481495(_0x29cb55,_0x4745ac);return _0x38bc46&&_0x38bc46(_0x29cb55,_0x1a38c1),_0x1a38c1;});},AN=_0x106557=>{if(!_0x106557['hasOwnProp'+'erty']('extensions')||!_0x106557['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x3770c5=_0x106557['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x15d9dc={};for(let _0xbd74a0=-0x6e*-0x32+-0x1*0x2148+0xbcc;_0xbd74a0<_0x3770c5['length'];_0xbd74a0++)_0x15d9dc[_0x3770c5[_0xbd74a0]['name']]=_0xbd74a0;return _0x15d9dc;},CN=(_0x369493,_0x52ea01,_0x48befd,_0x1938bb)=>{var _0x8e7f94,_0x1ad2d0;if(!_0x369493['hasOwnProp'+'erty']('animations')||_0x369493['animations']['length']===-0x2d4*-0x9+-0x152*0x1a+-0x4*-0x238)return[];const _0x9f28b1=(_0x8e7f94=_0x1938bb==null?void(-0x53b*-0x1+-0x1*-0x1c5+-0x700):_0x1938bb['animation'])==null?void(0x1f43+-0x257*0x3+-0x2*0xc1f):_0x8e7f94['preprocess'],_0x475753=(_0x1ad2d0=_0x1938bb==null?void(-0xe*-0x126+0x76*0x4d+-0x1*0x3392):_0x1938bb['animation'])==null?void(-0x3ed*0x6+0xc4c+0xb42):_0x1ad2d0['postproces'+'s'];return _0x369493['animations']['map']((_0xdcb874,_0x33b33a)=>{_0x9f28b1&&_0x9f28b1(_0xdcb874);const _0x59efdd=yN(_0xdcb874,_0x33b33a,_0x369493['accessors'],_0x48befd,_0x52ea01,_0x369493['meshes'],_0x369493['nodes']);return _0x475753&&_0x475753(_0xdcb874,_0x59efdd),_0x59efdd;});},PN=(_0x43b813,_0x560efb,_0x39a99d,_0x2cff0f)=>{const _0x17cf2d=_0x560efb['accessors'];_0x39a99d['forEach']((_0x373c3e,_0x3fc43e)=>{const _0x3ac744=_0x373c3e['ext']['attributes'];let _0x9a914e;if(_0x3ac744['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x893776=_0x17cf2d[_0x3ac744['TRANSLATIO'+'N']];_0x9a914e=Pn(_0x893776,_0x2cff0f);}let _0x45cfe0;if(_0x3ac744['hasOwnProp'+'erty']('ROTATION')){const _0x2c02f1=_0x17cf2d[_0x3ac744['ROTATION']];_0x45cfe0=Pn(_0x2c02f1,_0x2cff0f);}let _0x29c3f4;if(_0x3ac744['hasOwnProp'+'erty']('SCALE')){const _0x439114=_0x17cf2d[_0x3ac744['SCALE']];_0x29c3f4=Pn(_0x439114,_0x2cff0f);}const _0x770e43=(_0x9a914e?_0x9a914e['length']/(-0x822+0x1e*-0x102+0x83*0x4b):0x174b+0x7ec+-0x1f37)||(_0x45cfe0?_0x45cfe0['length']/(-0x8e1*-0x2+-0x1*-0x1a21+-0x2bdf*0x1):-0x11*-0x1c2+-0x18e2+0x1*-0x500)||(_0x29c3f4?_0x29c3f4['length']/(0x9ad+0x26b*-0x4+0x2):0xc45+0x2237+-0x2e7c);if(_0x770e43){const _0x5a95a5=new Float32Array(_0x770e43*(-0x2003+-0xa*0x27e+0x38ff)),_0x18926f=new D(),_0x34397b=new le(),_0x5782d0=new D(0x1*0x2168+-0x310+0x9*-0x35f,-0x975+0x49*0x4c+-0xc36,-0x5ed*-0x2+-0x7a7+-0x432*0x1),_0x5d477a=new te();let _0x216f13=-0x2471+0xe76+0x15fb;for(let _0x5ccbe3=0x2b*-0x85+-0x701+0x1d58;_0x5ccbe3<_0x770e43;_0x5ccbe3++){const _0x5163c8=_0x5ccbe3*(0x2fb+-0x1*-0x25be+-0x36*0xc1);if(_0x9a914e&&_0x18926f['set'](_0x9a914e[_0x5163c8],_0x9a914e[_0x5163c8+(-0x1ce4+0x1dde*0x1+-0x3*0x53)],_0x9a914e[_0x5163c8+(-0x2273+-0x14c9*0x1+0x126a*0x3)]),_0x45cfe0){const _0x38384c=_0x5ccbe3*(0x143b*0x1+-0x8*-0x2c4+-0x2a57);_0x34397b['set'](_0x45cfe0[_0x38384c],_0x45cfe0[_0x38384c+(-0x12b4+0x7*-0x556+0x380f)],_0x45cfe0[_0x38384c+(0x3*-0x4de+0x215c+-0x12c0)],_0x45cfe0[_0x38384c+(-0x4c6*-0x3+-0x53*0x50+-0xd*-0xe5)]);}_0x29c3f4&&_0x5782d0['set'](_0x29c3f4[_0x5163c8],_0x29c3f4[_0x5163c8+(-0x1eac*-0x1+0x11a+-0x1fc5)],_0x29c3f4[_0x5163c8+(0xf5f+0x6fc+-0x1659)]),_0x5d477a['setTRS'](_0x18926f,_0x34397b,_0x5782d0);for(let _0x55c0cc=0x3de*0x2+-0xd34*-0x1+-0x14f0;_0x55c0cc<-0x1b*-0x69+0x3*0xe3+-0xdac;_0x55c0cc++)_0x5a95a5[_0x216f13++]=_0x5d477a['data'][_0x55c0cc];}_0x373c3e['matrices']=_0x5a95a5;}});},MN=(_0x113e9c,_0x33d00c,_0x7ba3b0)=>{var _0x40873d,_0x2958bb,_0x186a65;if(!_0x113e9c['hasOwnProp'+'erty']('nodes')||_0x113e9c['nodes']['length']===0x3b9*-0xa+0x1*0xc61+0x1*0x18d9)return[];const _0x2f2765=(_0x40873d=_0x33d00c==null?void(-0x24*-0x3d+-0x35*-0x6d+-0x1f25):_0x33d00c['node'])==null?void(0x205c+0x1429+-0x3485):_0x40873d['preprocess'],_0x8dcf25=((_0x2958bb=_0x33d00c==null?void(0x1*0xe3c+-0x27*-0xd7+-0x2efd*0x1):_0x33d00c['node'])==null?void(0x24f8+0x1*-0xd83+-0x4b1*0x5):_0x2958bb['process'])??vN,_0x311d1a=(_0x186a65=_0x33d00c==null?void(-0x33d+0x1*0x26c2+-0x2385*0x1):_0x33d00c['node'])==null?void(0xafe+0x9*0x2a1+-0xb8d*0x3):_0x186a65['postproces'+'s'],_0x29ec57=_0x113e9c['nodes']['map']((_0x53fd8d,_0x277de6)=>{_0x2f2765&&_0x2f2765(_0x53fd8d);const _0xfa5753=_0x8dcf25(_0x53fd8d,_0x277de6,_0x7ba3b0);return _0x311d1a&&_0x311d1a(_0x53fd8d,_0xfa5753),_0xfa5753;});for(let _0x55a665=0x6b*0x1d+0x112*-0xc+-0x1*-0xb9;_0x55a665<_0x113e9c['nodes']['length'];++_0x55a665){const _0x330358=_0x113e9c['nodes'][_0x55a665];if(_0x330358['hasOwnProp'+'erty']('children')){const _0x351627=_0x29ec57[_0x55a665],_0x563dd9={};for(let _0x4c9ed0=0x79f*-0x3+0x13c5+0x16*0x24;_0x4c9ed0<_0x330358['children']['length'];++_0x4c9ed0){const _0x6ddc5f=_0x29ec57[_0x330358['children'][_0x4c9ed0]];_0x6ddc5f['parent']||(_0x563dd9['hasOwnProp'+'erty'](_0x6ddc5f['name'])?_0x6ddc5f['name']+=_0x563dd9[_0x6ddc5f['name']]++:_0x563dd9[_0x6ddc5f['name']]=-0x1d*0x10f+-0x22ef+-0x1*-0x41a3,_0x351627['addChild'](_0x6ddc5f));}}}return _0x29ec57;},DN=(_0x20ad6c,_0x1467a4)=>{var _0x240fdd;const _0x16e6d0=[],_0x590b2a=_0x20ad6c['scenes']['length'];if(_0x590b2a===0xe*-0xaa+-0x116*0x5+0xebb*0x1&&((_0x240fdd=_0x20ad6c['scenes'][0x5*-0x4f+0x37*-0x8b+0x53c*0x6]['nodes'])==null?void(-0x139*0x1+0x2591+-0x2458):_0x240fdd['length'])===0x166d+0x1b81*0x1+-0x31ed){const _0x3fc69d=_0x20ad6c['scenes'][-0x4*-0x8c8+0x1061+0xf*-0x36f]['nodes'][0xde1+0x1657+-0x2438];_0x16e6d0['push'](_0x1467a4[_0x3fc69d]);}else for(let _0x5e7de6=0x22*-0x8f+-0x1f14+0x3212;_0x5e7de6<_0x590b2a;_0x5e7de6++){const _0x4547e9=_0x20ad6c['scenes'][_0x5e7de6];if(_0x4547e9['nodes']){const _0x1028c1=new Ie(_0x4547e9['name']);for(let _0x3c9631=-0x904+-0x7f1+0x3*0x5a7;_0x3c9631<_0x4547e9['nodes']['length'];_0x3c9631++){const _0x18f8ca=_0x1467a4[_0x4547e9['nodes'][_0x3c9631]];_0x1028c1['addChild'](_0x18f8ca);}_0x16e6d0['push'](_0x1028c1);}}return _0x16e6d0;},IN=(_0xfccfed,_0x259f8d,_0x5120c9)=>{var _0x4f9967,_0x2f49e5,_0x1d74e4;let _0x322fb7=null;if(_0xfccfed['hasOwnProp'+'erty']('nodes')&&_0xfccfed['hasOwnProp'+'erty']('cameras')&&_0xfccfed['cameras']['length']>0x50+0x5ed+-0x63d){const _0xf22f84=(_0x4f9967=_0x5120c9==null?void(0x1afb*0x1+-0x523*-0x1+-0x201e):_0x5120c9['camera'])==null?void(-0x2e*-0x4+0x2678+0x9cc*-0x4):_0x4f9967['preprocess'],_0x440beb=((_0x2f49e5=_0x5120c9==null?void(-0x955*-0x2+-0xf*0x187+0x1*0x43f):_0x5120c9['camera'])==null?void(0xa6f*0x1+0x5*0x4be+-0x2225):_0x2f49e5['process'])??xN,_0x47f2d2=(_0x1d74e4=_0x5120c9==null?void(-0x1*-0x4cf+-0x35*-0x10+-0x81f):_0x5120c9['camera'])==null?void(0x99*0x1+-0x1823+-0x17*-0x106):_0x1d74e4['postproces'+'s'];_0xfccfed['nodes']['forEach']((_0x4c462c,_0x2ca2ea)=>{if(_0x4c462c['hasOwnProp'+'erty']('camera')){const _0x2744f2=_0xfccfed['cameras'][_0x4c462c['camera']];if(_0x2744f2){_0xf22f84&&_0xf22f84(_0x2744f2);const _0x4073bb=_0x440beb(_0x2744f2,_0x259f8d[_0x2ca2ea]);_0x47f2d2&&_0x47f2d2(_0x2744f2,_0x4073bb),_0x4073bb&&(_0x322fb7||(_0x322fb7=new Map()),_0x322fb7['set'](_0x4c462c,_0x4073bb));}}});}return _0x322fb7;},LN=(_0x59f4e7,_0x4a3fc2,_0x32bc29)=>{var _0x40e6fb,_0x1b6483,_0x352052;let _0x48b8ad=null;if(_0x59f4e7['hasOwnProp'+'erty']('nodes')&&_0x59f4e7['hasOwnProp'+'erty']('extensions')&&_0x59f4e7['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x59f4e7['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x5c611d=_0x59f4e7['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x5c611d['length']){const _0x24377c=(_0x40e6fb=_0x32bc29==null?void(-0x23b*-0xe+0xc*-0xd0+-0x157a):_0x32bc29['light'])==null?void(0xc5b+-0xd62+0x107):_0x40e6fb['preprocess'],_0x562574=((_0x1b6483=_0x32bc29==null?void(0xbe3+0x36d+-0xf50):_0x32bc29['light'])==null?void(-0xf8b+-0x1a1f+-0x14d5*-0x2):_0x1b6483['process'])??TN,_0xbcca1d=(_0x352052=_0x32bc29==null?void(0x166*-0x8+-0x8cb+0x13fb):_0x32bc29['light'])==null?void(-0x49d+0x4c1+0xc*-0x3):_0x352052['postproces'+'s'];_0x59f4e7['nodes']['forEach']((_0x22fcc1,_0x4dce0e)=>{if(_0x22fcc1['hasOwnProp'+'erty']('extensions')&&_0x22fcc1['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x22fcc1['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xfa6fa1=_0x22fcc1['extensions']['KHR_lights'+'_punctual']['light'],_0x2e5436=_0x5c611d[_0xfa6fa1];if(_0x2e5436){_0x24377c&&_0x24377c(_0x2e5436);const _0x3a4680=_0x562574(_0x2e5436,_0x4a3fc2[_0x4dce0e]);_0xbcca1d&&_0xbcca1d(_0x2e5436,_0x3a4680),_0x3a4680&&(_0x48b8ad||(_0x48b8ad=new Map()),_0x48b8ad['set'](_0x22fcc1,_0x3a4680));}}});}}return _0x48b8ad;},RN=(_0xfc3da,_0x4eb159,_0x24f133)=>{_0xfc3da['nodes']['forEach'](_0x321e62=>{_0x321e62['hasOwnProp'+'erty']('mesh')&&_0x321e62['hasOwnProp'+'erty']('skin')&&_0x4eb159[_0x321e62['mesh']]['meshes']['forEach'](_0x28a21c=>{_0x28a21c['skin']=_0x24f133[_0x321e62['skin']];});});},ON=async(_0x4ad8ee,_0x1b04e6,_0x448f66,_0x31ad31,_0x3f40ba)=>{var _0x3bcf81,_0x47a328;const _0x4bc951=(_0x3bcf81=_0x3f40ba==null?void(-0x25a+0x125*0x5+-0x35f*0x1):_0x3f40ba['global'])==null?void(-0x313*0x6+-0x1e*-0x10+0x1092):_0x3bcf81['preprocess'],_0x564d90=(_0x47a328=_0x3f40ba==null?void(0x1c45+0x2319+-0x3f5e):_0x3f40ba['global'])==null?void(0x2*-0xe5+-0x1*-0x1ad7+0x247*-0xb):_0x47a328['postproces'+'s'];_0x4bc951&&_0x4bc951(_0x1b04e6),_0x1b04e6['asset']&&_0x1b04e6['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x5c6c76=new Map(),_0xf2467a=MN(_0x1b04e6,_0x3f40ba,_0x5c6c76),_0x33b05b=DN(_0x1b04e6,_0xf2467a),_0x201c78=LN(_0x1b04e6,_0xf2467a,_0x3f40ba),_0x2f201f=IN(_0x1b04e6,_0xf2467a,_0x3f40ba),_0x15b1b0=AN(_0x1b04e6),_0x4ae1b9=await Promise['all'](_0x448f66),{meshes:_0x1c2448,meshVariants:_0x20a012,meshDefaultMaterials:_0x3d7a96,promises:_0x4c8b8d}=EN(_0x4ad8ee,_0x1b04e6,_0x4ae1b9,_0x3f40ba),_0x174b1a=CN(_0x1b04e6,_0xf2467a,_0x4ae1b9,_0x3f40ba);PN(_0x4ad8ee,_0x1b04e6,_0x5c6c76,_0x4ae1b9);const _0x1e6552=await Promise['all'](_0x31ad31),_0x576136=_0x1e6552['map'](_0x5e8dcf=>_0x5e8dcf['resource']),_0x3ff75b=bN(_0x1b04e6,_0x576136,_0x3f40ba),_0x418141=wN(_0x4ad8ee,_0x1b04e6,_0xf2467a,_0x4ae1b9),_0x3cb1b6=[];for(let _0xa9fb6a=-0x1dc6+0x1c65+0x161;_0xa9fb6a<_0x1c2448['length'];_0xa9fb6a++)_0x3cb1b6[_0xa9fb6a]=new Em(),_0x3cb1b6[_0xa9fb6a]['meshes']=_0x1c2448[_0xa9fb6a];RN(_0x1b04e6,_0x3cb1b6,_0x418141);const _0x32baa8=new qF();return _0x32baa8['gltf']=_0x1b04e6,_0x32baa8['nodes']=_0xf2467a,_0x32baa8['scenes']=_0x33b05b,_0x32baa8['animations']=_0x174b1a,_0x32baa8['textures']=_0x1e6552,_0x32baa8['materials']=_0x3ff75b,_0x32baa8['variants']=_0x15b1b0,_0x32baa8['meshVarian'+'ts']=_0x20a012,_0x32baa8['meshDefaul'+'tMaterials']=_0x3d7a96,_0x32baa8['renders']=_0x3cb1b6,_0x32baa8['skins']=_0x418141,_0x32baa8['lights']=_0x201c78,_0x32baa8['cameras']=_0x2f201f,_0x32baa8['nodeInstan'+'cingMap']=_0x5c6c76,_0x564d90&&_0x564d90(_0x1b04e6,_0x32baa8),await Promise['all'](_0x4c8b8d),_0x32baa8;},FN=(_0x4e657c,_0x5319a6)=>{const _0x311a3f=(_0x58d6a3,_0x1052ac)=>{switch(_0x58d6a3){case 0xbfb+0x4023+-0x261e:return Te;case 0x1*-0xc40+-0x311b+0x635c:return vt;case 0x9*0x4f0+-0x4920+0x43b0:return Kh;case-0x3875+-0x2c3a+0x78*0x12a:return Qh;case 0x7d6+0x328a+0x9af*-0x2:return Zh;case-0x2*0x527+0xe5*0x41+-0x14*0x71:return ma;default:return _0x1052ac;}},_0x281465=(_0x511ccc,_0x5d1e5a)=>{switch(_0x511ccc){case 0x990*0x3+0x1*-0x4f8d+-0x2*-0x5a06:return ue;case 0xeb21*-0x1+0x9db*0x2+-0x12d*-0x127:return ip;case 0x22*-0xe1+0x37dd+-0x281*-0x6:return yt;default:return _0x5d1e5a;}};_0x4e657c&&(_0x5319a6=_0x5319a6??{},_0x4e657c['minFilter']=_0x311a3f(_0x5319a6['minFilter'],ma),_0x4e657c['magFilter']=_0x311a3f(_0x5319a6['magFilter'],vt),_0x4e657c['addressU']=_0x281465(_0x5319a6['wrapS'],yt),_0x4e657c['addressV']=_0x281465(_0x5319a6['wrapT'],yt));};let NN=0x1f3b+-0x314*0x4+0xa7*-0x1d;const nn=_0x5b4cc2=>{var _0x3aa97d,_0x2cea0e,_0x276a7a,_0x3c4de8;return((_0x2cea0e=(_0x3aa97d=_0x5b4cc2['extensions'])==null?void(-0x16*-0x16d+0x197e+0x97a*-0x6):_0x3aa97d['KHR_textur'+'e_basisu'])==null?void(0x17f+-0x1bc9+-0xa*-0x2a1):_0x2cea0e['source'])??((_0x3c4de8=(_0x276a7a=_0x5b4cc2['extensions'])==null?void(-0x94*0x15+0x7*0xf3+0xc9*0x7):_0x276a7a['EXT_textur'+'e_webp'])==null?void(-0xa94+-0x1*0x901+-0x22d*-0x9):_0x3c4de8['source'])??_0x5b4cc2['source'];},kN=(_0x3d8691,_0x8d524e,_0x37ab2a,_0x2c6d92,_0x19b28e)=>{var _0x2f26b6,_0x3471b1,_0x14a66a;if(!_0x3d8691['images']||_0x3d8691['images']['length']===-0xc95*-0x1+0x1906+0x1*-0x259b)return[];const _0x115b5b=(_0x2f26b6=_0x19b28e==null?void(0x8*-0xd0+0x3*0x6a0+0x6b0*-0x2):_0x19b28e['image'])==null?void(0x1*-0x146c+0xda9+0x3*0x241):_0x2f26b6['preprocess'],_0x56e7e9=(_0x3471b1=_0x19b28e==null?void(-0x25a*-0x7+0xf51+0x5*-0x65b):_0x19b28e['image'])==null?void(-0x7*0x4b1+0x13e8*0x1+0x1d9*0x7):_0x3471b1['processAsy'+'nc'],_0x592b0a=(_0x14a66a=_0x19b28e==null?void(-0x1c*-0xae+0xaed*0x3+-0x33cf*0x1):_0x19b28e['image'])==null?void(-0x1*0x13a3+-0x1bcf+0x2f72):_0x14a66a['postproces'+'s'],_0x6bd904={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x16af3a=_0x1d6e80=>{const _0x4eeffb=new Set();return _0x1d6e80['hasOwnProp'+'erty']('materials')&&_0x1d6e80['materials']['forEach'](_0x4deec2=>{if(_0x4deec2['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x44344c=_0x4deec2['pbrMetalli'+'cRoughness'];if(_0x44344c['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x53f35b=_0x1d6e80['textures'][_0x44344c['baseColorT'+'exture']['index']];_0x4eeffb['add'](nn(_0x53f35b));}}if(_0x4deec2['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2a3407=_0x1d6e80['textures'][_0x4deec2['emissiveTe'+'xture']['index']];_0x4eeffb['add'](nn(_0x2a3407));}if(_0x4deec2['hasOwnProp'+'erty']('extensions')){const _0x46a3e7=_0x4deec2['extensions']['KHR_materi'+'als_sheen'];if(_0x46a3e7&&_0x46a3e7['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x3c1ac2=_0x1d6e80['textures'][_0x46a3e7['sheenColor'+'Texture']['index']];_0x4eeffb['add'](nn(_0x3c1ac2));}const _0xfea643=_0x4deec2['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0xfea643&&_0xfea643['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x28ba28=_0x1d6e80['textures'][_0xfea643['specularGl'+'ossinessTe'+'xture']['index']];_0x4eeffb['add'](nn(_0x28ba28));}const _0x5e823b=_0x4deec2['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x5e823b&&_0x5e823b['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x4067ef=_0x1d6e80['textures'][_0x5e823b['specularCo'+'lorTexture']['index']];_0x4eeffb['add'](nn(_0x4067ef));}}}),_0x4eeffb;},_0x3a34d4=(_0x5dba33,_0x38378b,_0x1e4555,_0x5cbbbd,_0x8fb2f6,_0x31d73a)=>new Promise((_0x53c0a6,_0x45737d)=>{const _0x1d62cf=_0x57d0f6=>{const _0x45a2b9=(_0x5dba33['name']||'gltf-textu'+'re')+'-'+NN++,_0x4df6f6={'url':_0x38378b||_0x45a2b9};if(_0x57d0f6&&(_0x4df6f6['contents']=_0x57d0f6['slice'](0x1c8a+0x117d+-0x2e07)['buffer']),_0x5cbbbd){const _0xf7076e=_0x6bd904[_0x5cbbbd];_0xf7076e&&(_0x4df6f6['filename']=_0x4df6f6['url']+'.'+_0xf7076e);}const _0xb0d77a={'srgb':_0x31d73a},_0x594937=new pe(_0x45a2b9,'texture',_0x4df6f6,_0xb0d77a,_0x8fb2f6);_0x594937['on']('load',_0x49d151=>_0x53c0a6(_0x49d151)),_0x594937['on']('error',_0x18c398=>_0x45737d(_0x18c398)),_0x2c6d92['add'](_0x594937),_0x2c6d92['load'](_0x594937);};_0x1e4555?_0x1e4555['then'](_0x5ef31d=>_0x1d62cf(_0x5ef31d)):_0x1d62cf(null);}),_0x5f3c86=_0x16af3a(_0x3d8691);return _0x3d8691['images']['map']((_0x567e62,_0x415df7)=>{_0x115b5b&&_0x115b5b(_0x567e62);let _0xa3f7eb;return _0x56e7e9?_0xa3f7eb=new Promise((_0x3361fb,_0x30faae)=>{_0x56e7e9(_0x567e62,(_0x23543f,_0x2bc3ea)=>{_0x23543f?_0x30faae(_0x23543f):_0x3361fb(_0x2bc3ea);});}):_0xa3f7eb=new Promise(_0x1e50b2=>{_0x1e50b2(null);}),_0xa3f7eb=_0xa3f7eb['then'](_0xa75520=>{const _0x501dea=_0x5f3c86['has'](_0x415df7);return _0xa75520||(_0x567e62['hasOwnProp'+'erty']('uri')?x0(_0x567e62['uri'])?_0x3a34d4(_0x567e62,_0x567e62['uri'],null,jF(_0x567e62['uri']),null,_0x501dea):_0x3a34d4(_0x567e62,jn['test'](_0x567e62['uri'])?_0x567e62['uri']:xe['join'](_0x37ab2a,_0x567e62['uri']),null,null,{'crossOrigin':'anonymous'},_0x501dea):_0x567e62['hasOwnProp'+'erty']('bufferView')&&_0x567e62['hasOwnProp'+'erty']('mimeType')?_0x3a34d4(_0x567e62,null,_0x8d524e[_0x567e62['bufferView']],_0x567e62['mimeType'],null,_0x501dea):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x415df7)));}),_0x592b0a&&(_0xa3f7eb=_0xa3f7eb['then'](_0x3e505f=>(_0x592b0a(_0x567e62,_0x3e505f),_0x3e505f))),_0xa3f7eb;});},UN=(_0x5c75e6,_0xd2ecdc,_0x4fbe99)=>{var _0x4d3363,_0x4e8422,_0x5d7903,_0x20fa1d,_0x111624;if(!((_0x4d3363=_0x5c75e6==null?void(0x238d+0x391*-0x7+-0xa96):_0x5c75e6['images'])!=null&&_0x4d3363['length'])||!((_0x4e8422=_0x5c75e6==null?void(-0x8c5*-0x2+0x17*0xa4+-0x1b*0x132):_0x5c75e6['textures'])!=null&&_0x4e8422['length']))return[];const _0x5633ab=(_0x5d7903=_0x4fbe99==null?void(0x5a7*0x5+0x1*0x2513+-0x4156):_0x4fbe99['texture'])==null?void(0x8a2+0x255c*-0x1+0x1cba):_0x5d7903['preprocess'],_0x4c7e20=(_0x20fa1d=_0x4fbe99==null?void(0x18*-0xf4+-0x1*-0xddb+0x905):_0x4fbe99['texture'])==null?void(-0x225+0xc1*-0x33+0x2898):_0x20fa1d['processAsy'+'nc'],_0x820b79=(_0x111624=_0x4fbe99==null?void(-0x7f4*0x4+0xf3f+0x1091):_0x4fbe99['texture'])==null?void(-0xa02+0x557+0x4ab):_0x111624['postproces'+'s'],_0x182dfe=new Set();return _0x5c75e6['textures']['map'](_0x2fff54=>{_0x5633ab&&_0x5633ab(_0x2fff54);let _0x22de04;return _0x4c7e20?_0x22de04=new Promise((_0x103cd7,_0x3ce07a)=>{_0x4c7e20(_0x2fff54,_0x5c75e6['images'],(_0x5dab64,_0x574d07)=>{_0x5dab64?_0x3ce07a(_0x5dab64):_0x103cd7(_0x574d07);});}):_0x22de04=new Promise(_0xa34a93=>{_0xa34a93(null);}),_0x22de04=_0x22de04['then'](_0x1ea9d1=>{_0x1ea9d1=_0x1ea9d1??nn(_0x2fff54);const _0x561efe=_0x182dfe['has'](_0x1ea9d1);return _0x182dfe['add'](_0x1ea9d1),_0xd2ecdc[_0x1ea9d1]['then'](_0x3cc83c=>{const _0xdffa06=_0x561efe?tN(_0x3cc83c):_0x3cc83c;return FN(_0xdffa06['resource'],(_0x5c75e6['samplers']??[])[_0x2fff54['sampler']]),_0xdffa06;});}),_0x820b79&&(_0x22de04=_0x22de04['then'](_0x316fcd=>(_0x820b79(_0x2fff54,_0x316fcd),_0x316fcd))),_0x22de04;});},BN=(_0x193319,_0x14efda,_0x174d6e,_0x15a42b)=>{var _0x29216a,_0x496f7a,_0x106898;if(!_0x193319['buffers']||_0x193319['buffers']['length']===0xe86+-0xc0e+0x8*-0x4f)return[];const _0x1ff23e=(_0x29216a=_0x15a42b==null?void(0x6fa+0x1*0x1e12+-0x250c):_0x15a42b['buffer'])==null?void(0x1633+0x1f*0xd+-0x17c6):_0x29216a['preprocess'],_0x3e30fb=(_0x496f7a=_0x15a42b==null?void(-0x23ef*-0x1+0xdad+-0x319c):_0x15a42b['buffer'])==null?void(-0x2192+0x1e8e+-0x4*-0xc1):_0x496f7a['processAsy'+'nc'],_0x55ae5b=(_0x106898=_0x15a42b==null?void(-0x6a+-0x1652+0x123*0x14):_0x15a42b['buffer'])==null?void(-0xea3+0x1a8c+-0xbe9):_0x106898['postproces'+'s'];return _0x193319['buffers']['map']((_0x212468,_0x5eafd2)=>{_0x1ff23e&&_0x1ff23e(_0x212468);let _0x4b4504;return _0x3e30fb?_0x4b4504=new Promise((_0x3044bb,_0x8a7459)=>{_0x3e30fb(_0x212468,(_0x49563d,_0x56db12)=>{_0x49563d?_0x8a7459(_0x49563d):_0x3044bb(_0x56db12);});}):_0x4b4504=new Promise(_0x1008f2=>{_0x1008f2(null);}),_0x4b4504=_0x4b4504['then'](_0x352917=>{if(_0x352917)return _0x352917;if(_0x212468['hasOwnProp'+'erty']('uri')){if(x0(_0x212468['uri'])){const _0x13dec9=atob(_0x212468['uri']['split'](',')[-0x1fcd*-0x1+-0x8b*-0x3+-0x216d*0x1]),_0x351a76=new Uint8Array(_0x13dec9['length']);for(let _0x371d4c=0x1191*-0x1+0xb09+0x688;_0x371d4c<_0x13dec9['length'];_0x371d4c++)_0x351a76[_0x371d4c]=_0x13dec9['charCodeAt'](_0x371d4c);return _0x351a76;}return new Promise((_0x4bde6d,_0x4ffb96)=>{ot['get'](jn['test'](_0x212468['uri'])?_0x212468['uri']:xe['join'](_0x174d6e,_0x212468['uri']),{'cache':!(-0x41*-0x47+-0x3*-0xa9+0x1*-0x1402),'responseType':'arraybuffe'+'r','retry':!(-0x8c*-0x2+0x251c+0x379*-0xb)},(_0x427c62,_0x48d5ee)=>{_0x427c62?_0x4ffb96(_0x427c62):_0x4bde6d(new Uint8Array(_0x48d5ee));});});}return _0x14efda;}),_0x55ae5b&&(_0x4b4504=_0x4b4504['then'](_0x2114b6=>(_0x55ae5b(_0x193319['buffers'][_0x5eafd2],_0x2114b6),_0x2114b6))),_0x4b4504;});},zN=(_0x18c0b4,_0x510660)=>{const _0x495e1c=JSON['parse']((_0x3179ca=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x3179ca);let _0x34a396='';for(let _0x2447fb=0x1a35+-0x4*-0x173+-0x2001;_0x2447fb<_0x3179ca['length'];_0x2447fb++)_0x34a396+=String['fromCharCo'+'de'](_0x3179ca[_0x2447fb]);return decodeURIComponent(escape(_0x34a396));})(_0x18c0b4));if(_0x495e1c['asset']&&_0x495e1c['asset']['version']&&parseFloat(_0x495e1c['asset']['version'])<0xbcd+-0x7c5+0x67*-0xa){_0x510660('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x495e1c['asset']['version']+'\x27.');return;}_0x510660(null,_0x495e1c);},VN=(_0x47dc4c,_0x4491ce)=>{const _0x2cb341=_0x47dc4c instanceof ArrayBuffer?new DataView(_0x47dc4c):new DataView(_0x47dc4c['buffer'],_0x47dc4c['byteOffset'],_0x47dc4c['byteLength']),_0x38a40c=_0x2cb341['getUint32'](-0x25bd*-0x1+0x1319*-0x2+0x3*0x27,!(0x1069*0x2+-0x2240+0x16e)),_0x2bab13=_0x2cb341['getUint32'](-0x254+-0x5bf*0x1+0x1*0x817,!(-0x8cc*-0x4+0x1256*0x1+-0x2*0x1ac3)),_0x1ae42f=_0x2cb341['getUint32'](-0xb*-0x26f+-0x2c1+-0x17fc,!(-0x1fd4+-0x3*0xb98+0x429c));if(_0x38a40c!==-0x7ccc40fc+-0x2c5eddc7*-0x3+0x3e04140e){_0x4491ce('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x38a40c['toString'](-0x21eb+0x1*0xc9d+-0x5*-0x446));return;}if(_0x2bab13!==0xba*-0x12+-0x1*-0x2b3+-0x1*-0xa63){_0x4491ce('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2bab13);return;}if(_0x1ae42f<=-0x92b*0x1+-0x1be8+0x1*0x2513||_0x1ae42f>_0x2cb341['byteLength']){_0x4491ce('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x1ae42f);return;}const _0x2114d6=[];let _0x2424b7=-0xdf*-0x17+0x2*-0xede+0x9bf;for(;_0x2424b7<_0x1ae42f;){const _0x315aa7=_0x2cb341['getUint32'](_0x2424b7,!(-0x1*-0xd6c+0x1*0x2168+0x1bc*-0x1b));_0x2424b7+_0x315aa7+(0x9bf*-0x1+-0x12*-0x103+-0x86f)>_0x2cb341['byteLength']&&_0x4491ce('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x315aa7);const _0x3dcfac=_0x2cb341['getUint32'](_0x2424b7+(-0xd15+0x1206+0xd*-0x61),!(0xce2+0x1*-0x22f4+0x1612)),_0x134e25=new Uint8Array(_0x2cb341['buffer'],_0x2cb341['byteOffset']+_0x2424b7+(-0xe6d+-0x1e24+0x2c99),_0x315aa7);_0x2114d6['push']({'length':_0x315aa7,'type':_0x3dcfac,'data':_0x134e25}),_0x2424b7+=_0x315aa7+(-0xf5d+0xa8*-0x13+-0x3fb*-0x7);}if(_0x2114d6['length']!==-0x1*-0x6fd+-0x15e1+0x1f*0x7b&&_0x2114d6['length']!==-0x795+-0x1d92+-0x3f*-0x97){_0x4491ce('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x2114d6[-0x860+-0xf10+0x1770]['type']!==-0x44be7f*-0x6a+-0xa2acf*0x1d3+0x44648a51){_0x4491ce('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x2114d6[0xb61+0xb*-0x354+0x193b]['type']['toString'](0x1e5d*0x1+0x1d04+-0x1*0x3b51));return;}if(_0x2114d6['length']>0x1c3f*0x1+0x80e*-0x2+-0xc22&&_0x2114d6[-0x45d*0x7+0x1a29+0x463*0x1]['type']!==0x13a7b9+-0x2*0x29736e+0x8d8865){_0x4491ce('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x2114d6[-0x400+-0x2118+0x2519]['type']['toString'](0xc2b+-0x11d0+0x5b5));return;}_0x4491ce(null,{'gltfChunk':_0x2114d6[0x16cd+0x1571+-0x2c3e]['data'],'binaryChunk':_0x2114d6['length']===0x8*-0x20f+0xab5*0x1+-0x1*-0x5c5?_0x2114d6[0x239+0xf4d+-0x1185]['data']:null});},GN=(_0x5d8676,_0x54912f,_0x2ed6c4)=>{const _0x20058f=()=>{const _0x2bfe7f=new Uint8Array(_0x54912f);return _0x2bfe7f[-0x13*-0x2f+0x2594+0x2911*-0x1]===0x95*0x36+-0x25*0x16+0x1*-0x1bd9&&_0x2bfe7f[0x44*-0x4f+-0x3a*-0x6b+-0x341]===0x1b2*0x6+-0x175c+0x34*0x43&&_0x2bfe7f[0x6*0x56c+0x1*-0xbf7+0x1*-0x148f]===-0x20e1+-0x2*0x26b+0x260b&&_0x2bfe7f[-0x18fa+-0xb55+0x2452]===-0x201f+-0x1aa6+0x3b0b;};_0x5d8676&&_0x5d8676['toLowerCas'+'e']()['endsWith']('.glb')||_0x20058f()?VN(_0x54912f,_0x2ed6c4):_0x2ed6c4(null,{'gltfChunk':_0x54912f,'binaryChunk':null});},HN=(_0x240233,_0xf060a,_0x1d86db)=>{var _0x55b3d3,_0x21e592,_0x443ef3,_0xafc3;const _0x34445e=[],_0x2b3db7=(_0x55b3d3=_0x1d86db==null?void(0x1*0xac7+-0x2056+0x158f):_0x1d86db['bufferView'])==null?void(-0x6a1*-0x4+-0x9cf+-0x2f*0x5b):_0x55b3d3['preprocess'],_0x56b061=(_0x21e592=_0x1d86db==null?void(-0x123*-0x12+0x1ba5+-0x5*0x99f):_0x1d86db['bufferView'])==null?void(-0x1*-0x1495+0x335*0x2+-0x1aff):_0x21e592['processAsy'+'nc'],_0x66ecc4=(_0x443ef3=_0x1d86db==null?void(0x877+-0xf2b*-0x1+-0xa*0x25d):_0x1d86db['bufferView'])==null?void(-0x294*-0x1+0xe25+-0x10b9):_0x443ef3['postproces'+'s'];if(!((_0xafc3=_0x240233['bufferView'+'s'])!=null&&_0xafc3['length']))return _0x34445e;for(let _0x528508=0x1*0x1732+0x6b7*0x1+0x193*-0x13;_0x528508<_0x240233['bufferView'+'s']['length'];++_0x528508){const _0x7c93ed=_0x240233['bufferView'+'s'][_0x528508];_0x2b3db7&&_0x2b3db7(_0x7c93ed);let _0x2ddbb0;_0x56b061?_0x2ddbb0=new Promise((_0x3151bf,_0x2aa2e0)=>{_0x56b061(_0x7c93ed,_0xf060a,(_0x546392,_0x42ce59)=>{_0x546392?_0x2aa2e0(_0x546392):_0x3151bf(_0x42ce59);});}):_0x2ddbb0=new Promise(_0x5995b2=>{_0x5995b2(null);}),_0x2ddbb0=_0x2ddbb0['then'](_0xb3562e=>_0xb3562e||_0xf060a[_0x7c93ed['buffer']]['then'](_0x44e032=>new Uint8Array(_0x44e032['buffer'],_0x44e032['byteOffset']+(_0x7c93ed['byteOffset']||-0x3*-0x727+-0x1da2+-0x17*-0x5b),_0x7c93ed['byteLength']))),_0x7c93ed['hasOwnProp'+'erty']('byteStride')&&(_0x2ddbb0=_0x2ddbb0['then'](_0x43a79b=>(_0x43a79b['byteStride']=_0x7c93ed['byteStride'],_0x43a79b))),_0x66ecc4&&(_0x2ddbb0=_0x2ddbb0['then'](_0x5aba3f=>(_0x66ecc4(_0x7c93ed,_0x5aba3f),_0x5aba3f))),_0x34445e['push'](_0x2ddbb0);}return _0x34445e;};class kh{static['parse'](_0x334f03,_0x56dfab,_0x59b291,_0x120d22,_0x2e88cc,_0x586609,_0x1b0f07){GN(_0x334f03,_0x59b291,(_0x457fb8,_0x54f85b)=>{if(_0x457fb8){_0x1b0f07(_0x457fb8);return;}zN(_0x54f85b['gltfChunk'],(_0x289734,_0x1483c1)=>{if(_0x289734){_0x1b0f07(_0x289734);return;}const _0xc7e83e=BN(_0x1483c1,_0x54f85b['binaryChun'+'k'],_0x56dfab,_0x586609),_0x16a744=HN(_0x1483c1,_0xc7e83e,_0x586609),_0x564476=kN(_0x1483c1,_0x16a744,_0x56dfab,_0x2e88cc,_0x586609),_0x212bf3=UN(_0x1483c1,_0x564476,_0x586609);ON(_0x120d22,_0x1483c1,_0x16a744,_0x212bf3,_0x586609)['then'](_0x2c34db=>_0x1b0f07(null,_0x2c34db))['catch'](_0x3956d4=>_0x1b0f07(_0x3956d4));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x5ad1e7){super(_0x5ad1e7,'animation'),this['device']=_0x5ad1e7['graphicsDe'+'vice'],this['assets']=_0x5ad1e7['assets'];}['load'](_0x42424a,_0x455f89,_0x1852a9){typeof _0x42424a=='string'&&(_0x42424a={'load':_0x42424a,'original':_0x42424a});const _0x306fd3={'retry':this['maxRetries']>-0x19e9+0x1*0x18b9+0x130,'maxRetries':this['maxRetries']};(_0x42424a['load']['startsWith']('blob:')||_0x42424a['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x42424a['original'])['toLowerCas'+'e']()==='.glb'?_0x306fd3['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x306fd3['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x42424a['load'],_0x306fd3,(_0x2bec5d,_0x1b8482)=>{_0x2bec5d?_0x455f89('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x42424a['original']+'\x20['+_0x2bec5d+']'):xe['getExtensi'+'on'](_0x42424a['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x1b8482,this['device'],this['assets'],(_0x1852a9==null?void(-0x56*0x12+0x2261+-0x1*0x1c55):_0x1852a9['options'])??{},(_0x1fa55b,_0x186967)=>{var _0x36a8ce;if(_0x1fa55b)_0x455f89(_0x1fa55b);else{const _0x41ccb7=_0x186967['animations'];if((_0x36a8ce=_0x1852a9==null?void(0xe55+0x134e+-0x21a3):_0x1852a9['data'])!=null&&_0x36a8ce['events']){for(let _0x27d57b=-0x8*0x4+-0x6b7*0x1+-0x6d7*-0x1;_0x27d57b<_0x41ccb7['length'];_0x27d57b++)_0x41ccb7[_0x27d57b]['events']=new Hv(Object['values'](_0x1852a9['data']['events']));}_0x186967['destroy'](),_0x455f89(null,_0x41ccb7);}}):_0x455f89(null,this['_parseAnim'+'ationV'+_0x1b8482['animation']['version']](_0x1b8482));});}['open'](_0x3800b6,_0x21c3fb,_0x376afb){return _0x21c3fb;}['_parseAnim'+'ationV3'](_0x311584){const _0xa56f69=_0x311584['animation'],_0x45cd7f=new ug();_0x45cd7f['name']=_0xa56f69['name'],_0x45cd7f['duration']=_0xa56f69['duration'];for(let _0x3f19c0=0x1035+-0x7a*-0x4f+-0x11*0x32b;_0x3f19c0<_0xa56f69['nodes']['length'];_0x3f19c0++){const _0x373f33=new fg(),_0x41a6a0=_0xa56f69['nodes'][_0x3f19c0];_0x373f33['_name']=_0x41a6a0['name'];for(let _0x57b1c9=0xe*0xd+-0x1949+0x1893;_0x57b1c9<_0x41a6a0['keys']['length'];_0x57b1c9++){const _0x15bed5=_0x41a6a0['keys'][_0x57b1c9],_0x4738f5=_0x15bed5['time'],_0x44e429=_0x15bed5['pos'],_0xf56315=_0x15bed5['rot'],_0x5c63ec=_0x15bed5['scale'],_0x1e9f37=new D(_0x44e429[-0x1ab9+0x161*0x13+-0x1*-0x86],_0x44e429[0x777+-0x19e2+0x126c],_0x44e429[0x137*-0x1d+0x24e9*-0x1+0x4826]),_0x26987c=new le()['setFromEul'+'erAngles'](_0xf56315[0x1384+-0x1736+0x2b*0x16],_0xf56315[-0x15b0+0x5d9+0xfd8],_0xf56315[-0x5*-0x35f+0x24c+0x179*-0xd]),_0x56a2fa=new D(_0x5c63ec[-0x2123+-0x1af*-0xe+0x1f*0x4f],_0x5c63ec[-0x717+-0x68e*-0x4+-0x1320],_0x5c63ec[-0x223d+-0x2*0x613+0x2e65]),_0xb7cb78=new dg(_0x4738f5,_0x1e9f37,_0x26987c,_0x56a2fa);_0x373f33['_keys']['push'](_0xb7cb78);}_0x45cd7f['addNode'](_0x373f33);}return _0x45cd7f;}['_parseAnim'+'ationV4'](_0x354c7b){const _0x59d21c=_0x354c7b['animation'],_0x1899f8=new ug();_0x1899f8['name']=_0x59d21c['name'],_0x1899f8['duration']=_0x59d21c['duration'];for(let _0x36182b=0x1954+-0x7*-0x4d+-0x1b6f;_0x36182b<_0x59d21c['nodes']['length'];_0x36182b++){const _0x591a85=new fg(),_0x2bfb86=_0x59d21c['nodes'][_0x36182b];_0x591a85['_name']=_0x2bfb86['name'];const _0x5d029b=_0x2bfb86['defaults']['p'],_0x3eb263=_0x2bfb86['defaults']['r'],_0x12e14e=_0x2bfb86['defaults']['s'];for(let _0x1df75e=-0x25be+-0x187b+-0x1*-0x3e39;_0x1df75e<_0x2bfb86['keys']['length'];_0x1df75e++){const _0x4b844c=_0x2bfb86['keys'][_0x1df75e],_0x5cd87a=_0x4b844c['t'],_0x189de6=_0x5d029b||_0x4b844c['p'],_0x369f3c=_0x3eb263||_0x4b844c['r'],_0x43f79d=_0x12e14e||_0x4b844c['s'],_0x4010e6=new D(_0x189de6[-0x2157*-0x1+-0xd*-0x139+0x4*-0xc4f],_0x189de6[-0x1a75+-0x1*-0x1a50+0x26*0x1],_0x189de6[-0xd*0x277+-0x1*0xe20+-0x1*-0x2e2d]),_0x302a41=new le()['setFromEul'+'erAngles'](_0x369f3c[0x2*0x301+0x20da+-0x67a*0x6],_0x369f3c[0xa*0x281+0x10a0*0x2+-0x3a49],_0x369f3c[0x3*-0x1de+0x3*0x74b+-0x77*0x23]),_0x38a005=new D(_0x43f79d[0x2538+-0xfe9+-0x5*0x443],_0x43f79d[0x2*-0x2be+0xbb7*-0x2+0x1ceb],_0x43f79d[0x1ba*0x12+-0xd28*-0x1+-0x161d*0x2]),_0x1bbb44=new dg(_0x5cd87a,_0x4010e6,_0x302a41,_0x38a005);_0x591a85['_keys']['push'](_0x1bbb44);}_0x1899f8['addNode'](_0x591a85);}return _0x1899f8;}}class $N extends Qe{constructor(_0x2dc6e6){super(_0x2dc6e6,'animclip');}['load'](_0x137211,_0x57c18b){typeof _0x137211=='string'&&(_0x137211={'load':_0x137211,'original':_0x137211});const _0xfce61f={'retry':this['maxRetries']>0x4*-0x10b+-0x1a7*-0x12+-0x1992,'maxRetries':this['maxRetries']};_0x137211['load']['startsWith']('blob:')&&(_0xfce61f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x137211['load'],_0xfce61f,(_0x4934d0,_0x49a1e5)=>{_0x4934d0?_0x57c18b('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x137211['original']+'\x20['+_0x4934d0+']'):_0x57c18b(null,_0x49a1e5);});}['open'](_0xcbef25,_0x1415c7){const _0x58407c=_0x1415c7['name'],_0x53d7cc=_0x1415c7['duration'],_0x225133=_0x1415c7['inputs']['map'](_0x100638=>new Fh(0xe87+-0x3*0xbca+0x14d8,_0x100638)),_0x2f5b56=_0x1415c7['outputs']['map'](_0x3e05bd=>new Fh(_0x3e05bd['components'],_0x3e05bd['data'])),_0x2104b8=_0x1415c7['curves']['map'](_0x598de7=>new v0([_0x598de7['path']],_0x598de7['inputIndex'],_0x598de7['outputInde'+'x'],_0x598de7['interpolat'+'ion']));return new Qi(_0x58407c,_0x53d7cc,_0x225133,_0x2f5b56,_0x2104b8);}}class XN extends Qe{constructor(_0x311150){super(_0x311150,'animstateg'+'raph');}['load'](_0x285904,_0x5eafbf){typeof _0x285904=='string'&&(_0x285904={'load':_0x285904,'original':_0x285904});const _0x4d2ce={'retry':this['maxRetries']>-0x5c3+0x2*-0x128b+-0x61f*-0x7,'maxRetries':this['maxRetries']};_0x285904['load']['startsWith']('blob:')&&(_0x4d2ce['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x285904['load'],_0x4d2ce,(_0x5a2a83,_0x1b7d5c)=>{_0x5a2a83?_0x5eafbf('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x285904['original']+'\x20['+_0x5a2a83+']'):_0x5eafbf(null,_0x1b7d5c);});}['open'](_0x53850d,_0x2565f5){return new Jc(_0x2565f5);}}const Af=(function(){if(typeof window>'u')return!(0x2*0x65a+0x1487+-0x213a*0x1);const _0x512b10=window['navigator']['userAgent'],_0x17073c=_0x512b10['indexOf']('MSIE\x20');if(_0x17073c>0x1f1e*0x1+-0xd*-0x19+-0x1*0x2063)return parseInt(_0x512b10['substring'](_0x17073c+(-0x168b+0x1616*-0x1+0x5*0x8ee),_0x512b10['indexOf']('.',_0x17073c)),0x13a4+0x1*0xa26+-0x88*0x38);if(_0x512b10['indexOf']('Trident/')>0x261e+0xa3+-0x26c1*0x1){const _0x703dd1=_0x512b10['indexOf']('rv:');return parseInt(_0x512b10['substring'](_0x703dd1+(-0xd57+-0x200+0x5*0x312),_0x512b10['indexOf']('.',_0x703dd1)),-0x689+0x55a+0x139);}return!(0x2*-0x628+0x2*0x593+0x12b);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x40e77d){super(_0x40e77d,'audio'),this['manager']=_0x40e77d['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x11337f){const _0x4b96a5=xe['getExtensi'+'on'](_0x11337f);return qN['indexOf'](_0x4b96a5)>-(0x88*0x2+-0x9e3+0x8d4)||_0x11337f['startsWith']('blob:');}['load'](_0x559255,_0x275607){typeof _0x559255=='string'&&(_0x559255={'load':_0x559255,'original':_0x559255});const _0x22aea5=function(_0x42337d){_0x275607(null,new Mw(_0x42337d));},_0x515c1f=function(_0x2f7ab5){let _0x20d65f='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x559255['original'];_0x2f7ab5&&(_0x20d65f+=':\x20'+(_0x2f7ab5['message']||_0x2f7ab5)),console['warn'](_0x20d65f),_0x275607(_0x20d65f);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x559255['original'])){_0x515c1f('Audio\x20form'+'at\x20for\x20'+_0x559255['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x559255['load'],_0x22aea5,_0x515c1f);}else _0x515c1f(null);}['_createSou'+'nd'](_0xbdfa73,_0x3f9686,_0x1f7ab8){if(Dl()){const _0x2cb7aa=this['manager'];if(!_0x2cb7aa['context']){_0x1f7ab8('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x53e4a3={'retry':this['maxRetries']>0x9e9+0x16d*0x1+-0xb56,'maxRetries':this['maxRetries']};(_0xbdfa73['startsWith']('blob:')||_0xbdfa73['startsWith']('data:'))&&(_0x53e4a3['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0xbdfa73,_0x53e4a3,(_0x2480a1,_0x15f381)=>{if(_0x2480a1){_0x1f7ab8(_0x2480a1);return;}_0x2cb7aa['context']['decodeAudi'+'oData'](_0x15f381,_0x3f9686,_0x1f7ab8);});}else{let _0x39c9c1=null;try{_0x39c9c1=new Audio();}catch{_0x1f7ab8('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x39c9c1);const _0x483c79=function(){_0x39c9c1['removeEven'+'tListener']('canplaythr'+'ough',_0x483c79),Af&&document['body']['removeChil'+'d'](_0x39c9c1),_0x3f9686(_0x39c9c1);};_0x39c9c1['onerror']=function(){_0x39c9c1['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x39c9c1),_0x1f7ab8();},_0x39c9c1['addEventLi'+'stener']('canplaythr'+'ough',_0x483c79),_0x39c9c1['src']=_0xbdfa73;}}}class YN extends Qe{constructor(_0x4bac2){super(_0x4bac2,'binary');}['load'](_0x14dc43,_0x2b96eb){typeof _0x14dc43=='string'&&(_0x14dc43={'load':_0x14dc43,'original':_0x14dc43}),ot['get'](_0x14dc43['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1905+-0xd1*0x26+0x380b*0x1,'maxRetries':this['maxRetries']},(_0x365da9,_0x35ef32)=>{_0x365da9?_0x2b96eb('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x14dc43['original']+'\x20['+_0x365da9+']'):_0x2b96eb(null,_0x35ef32);});}['openBinary'](_0x5bac47){return _0x5bac47['buffer'];}}class yr{constructor(_0x10f90d,_0x2aecbb,_0x7a76ff,_0xdecf63){const _0xb7d5e4=function(_0x3d0d31,_0x3a3d6f,_0x3a9468){const _0x5aeaf9=yr['createAsse'+'t'](_0x2aecbb['name'],_0x3d0d31,_0x3a3d6f,_0x3a9468);return _0x7a76ff['add'](_0x5aeaf9),_0x5aeaf9;},_0x2efcf1=[];for(let _0x148877=0x56c*-0x4+-0x1525*0x1+0x2ad5;_0x148877<_0x10f90d['renders']['length'];++_0x148877)_0x2efcf1['push'](_0xb7d5e4('render',_0x10f90d['renders'][_0x148877],_0x148877));const _0x760e2=[];for(let _0xf042ac=0x2533+-0x1db8+-0x5*0x17f;_0xf042ac<_0x10f90d['materials']['length'];++_0xf042ac)_0x760e2['push'](_0xb7d5e4('material',_0x10f90d['materials'][_0xf042ac],_0xf042ac));const _0x556c8b=[];for(let _0x3564f1=-0x138+-0x1f7b*0x1+-0x1*-0x20b3;_0x3564f1<_0x10f90d['animations']['length'];++_0x3564f1)_0x556c8b['push'](_0xb7d5e4('animation',_0x10f90d['animations'][_0x3564f1],_0x3564f1));this['data']=_0x10f90d,this['_model']=null,this['_assetName']=_0x2aecbb['name'],this['_assets']=_0x7a76ff,this['_defaultMa'+'terial']=_0xdecf63,this['renders']=_0x2efcf1,this['materials']=_0x760e2,this['textures']=_0x10f90d['textures'],this['animations']=_0x556c8b;}get['model'](){if(!this['_model']){const _0x349552=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x471a56=yr['createAsse'+'t'](this['_assetName'],'model',_0x349552,-0xa7*-0x8+0xd04+-0x123c);this['_assets']['add'](_0x471a56),this['_model']=_0x471a56;}return this['_model'];}static['createAsse'+'t'](_0x5669fd,_0x1492d5,_0xeb8b52,_0x152546){const _0x300845=new pe(_0x5669fd+'/'+_0x1492d5+'/'+_0x152546,_0x1492d5,{'url':''});return _0x300845['resource']=_0xeb8b52,_0x300845['loaded']=!(0xb15+0x533*0x7+-0x2*0x17bd),_0x300845;}['instantiat'+'eModelEnti'+'ty'](_0x497327){const _0x35b69f=new lt(void(0x902+0xa52*-0x1+-0x6*-0x38),this['_assets']['_loader']['_app']);return _0x35b69f['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x497327)),_0x35b69f;}['instantiat'+'eRenderEnt'+'ity'](_0x3e8b7c){const _0x3b6138=this['_defaultMa'+'terial'],_0x3ccd8d=[],_0x3f541c=function(_0x1d241f,_0x53e67f,_0x246e98,_0x4ccd8a,_0x1beb69,_0x26b90d,_0x3e35d5,_0x26b582){const _0x3424d9=_0x1beb69[_0x246e98['id']],_0x54d8b8=_0x3424d9===void(-0x1920+-0x242b+0x47*0xdd)?_0x3b6138:_0x4ccd8a[_0x3424d9],_0x52e4eb=new He(_0x246e98,_0x54d8b8);_0x246e98['morph']&&(_0x52e4eb['morphInsta'+'nce']=new xa(_0x246e98['morph'])),_0x3e35d5['hasOwnProp'+'erty']('skin')&&_0x3ccd8d['push']({'meshInstance':_0x52e4eb,'rootBone':_0x1d241f,'entity':_0x53e67f});const _0x1d6907=_0x26b582['get'](_0x3e35d5);if(_0x1d6907){const _0x5a386e=_0x1d6907['matrices'],_0x305e54=kt['getDefault'+'Instancing'+'Format'](_0x246e98['device']),_0xc2a2df=new Is(_0x246e98['device'],_0x305e54,_0x5a386e['length']/(-0x2c1+0x1d2e*0x1+-0x1a5d),{'data':_0x5a386e});_0x52e4eb['setInstanc'+'ing'](_0xc2a2df),_0x52e4eb['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x1729+0x1f48+-0x3671);}return _0x52e4eb;},_0x4617db=(_0x3297f6,_0x313bca,_0x544e98)=>{const _0x2e40a3=new lt(void(0x5d*-0x21+-0x23df*0x1+-0x2*-0x17ee),this['_assets']['_loader']['_app']);_0x313bca['_cloneInte'+'rnal'](_0x2e40a3),_0x3297f6||(_0x3297f6=_0x2e40a3);let _0x280b2c=null,_0x38023a=null;for(let _0x27878e=0xeca+-0x6c*-0x3+-0x3*0x55a;_0x27878e<_0x544e98['nodes']['length'];_0x27878e++)if(_0x544e98['nodes'][_0x27878e]===_0x313bca){const _0xf7f241=_0x544e98['gltf']['nodes'][_0x27878e];if(_0xf7f241['hasOwnProp'+'erty']('mesh')){const _0x32bedd=_0x544e98['renders'][_0xf7f241['mesh']]['meshes'];_0x38023a=this['renders'][_0xf7f241['mesh']];for(let _0x389255=-0x9*0x36e+-0x51*0x59+0x3b07;_0x389255<_0x32bedd['length'];_0x389255++){const _0x30ac44=_0x32bedd[_0x389255];if(_0x30ac44){const _0x17a958=_0x3f541c(_0x3297f6,_0x2e40a3,_0x30ac44,_0x544e98['materials'],_0x544e98['meshDefaul'+'tMaterials'],_0x544e98['skins'],_0xf7f241,_0x544e98['nodeInstan'+'cingMap']);_0x280b2c||(_0x280b2c=[]),_0x280b2c['push'](_0x17a958);}}}if(_0x544e98['lights']){const _0x30b5f9=_0x544e98['lights']['get'](_0xf7f241);_0x30b5f9&&_0x2e40a3['addChild'](_0x30b5f9['clone']());}if(_0x544e98['cameras']){const _0x534583=_0x544e98['cameras']['get'](_0xf7f241);_0x534583&&_0x534583['camera']['system']['cloneCompo'+'nent'](_0x534583,_0x2e40a3);}}_0x280b2c&&(_0x2e40a3['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x280b2c},_0x3e8b7c)),_0x2e40a3['render']['assignAsse'+'t'](_0x38023a));const _0x228ce6=_0x313bca['children'];for(let _0x36e3e9=-0x16bd+-0xb98+0x2255;_0x36e3e9<_0x228ce6['length'];_0x36e3e9++){const _0x48b27a=_0x4617db(_0x3297f6,_0x228ce6[_0x36e3e9],_0x544e98);_0x2e40a3['addChild'](_0x48b27a);}return _0x2e40a3;},_0x4023fd=[];for(const _0x2ad963 of this['data']['scenes'])_0x4023fd['push'](_0x4617db(null,_0x2ad963,this['data']));return _0x3ccd8d['forEach'](_0x393e77=>{_0x393e77['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x393e77['meshInstan'+'ce']['mesh']['skin'],_0x393e77['rootBone'],_0x393e77['entity']),_0x393e77['meshInstan'+'ce']['node']['render']['rootBone']=_0x393e77['rootBone'];}),yr['createScen'+'eHierarchy'](_0x4023fd,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0xb8fb57,_0x9eb25e){const _0x3adc3b=_0x9eb25e?this['data']['variants'][_0x9eb25e]:null;if(_0x3adc3b===void(-0x21bd+0x22ac+0xef*-0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x9eb25e+('\x20exists\x20in'+'\x20resource'));return;}const _0x5a3723=_0xb8fb57['findCompon'+'ents']('render');for(let _0x525371=0xdb6+-0x6a*-0xd+0x4*-0x4c6;_0x525371<_0x5a3723['length'];_0x525371++){const _0x38dd71=_0x5a3723[_0x525371];this['_applyMate'+'rialVarian'+'t'](_0x3adc3b,_0x38dd71['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x213a30,_0x302583){const _0x26d1d9=_0x302583?this['data']['variants'][_0x302583]:null;if(_0x26d1d9===void(0xe*-0x3a+-0x1*-0xf38+0x101*-0xc)){w['warn']('No\x20variant'+'\x20named\x20'+_0x302583+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x26d1d9,_0x213a30);}['_applyMate'+'rialVarian'+'t'](_0x206df1,_0x1b3536){_0x1b3536['forEach'](_0x28c0b2=>{if(_0x206df1===null)_0x28c0b2['material']=this['_defaultMa'+'terial'];else{const _0xa90fa=this['data']['meshVarian'+'ts'][_0x28c0b2['mesh']['id']];_0xa90fa&&(_0x28c0b2['material']=this['data']['materials'][_0xa90fa[_0x206df1]]);}w['assert'](_0x28c0b2['material']);});}static['createScen'+'eHierarchy'](_0x30c29c,_0x4cc3e1){let _0x34fd0d=null;if(_0x30c29c['length']===0x5*-0x769+-0x2432+-0x40*-0x125)_0x34fd0d=_0x30c29c[-0x158f*-0x1+-0x1*0x263b+0x10ac];else{_0x34fd0d=new _0x4cc3e1('SceneGroup');for(const _0x443303 of _0x30c29c)_0x34fd0d['addChild'](_0x443303);}return _0x34fd0d;}static['createMode'+'l'](_0x474c72,_0x2bcb55){const _0x5f48bd=function(_0x18dab6,_0x180089,_0x5b5c57,_0x4fa466,_0x3361e7,_0x37eb54,_0x1693a2){const _0x42bcd3=_0x474c72['meshDefaul'+'tMaterials'][_0x180089['id']],_0x3bfd03=_0x42bcd3===void(0x1708+-0x84b*-0x2+-0x279e)?_0x2bcb55:_0x3361e7[_0x42bcd3],_0x5902b6=new He(_0x180089,_0x3bfd03,_0x37eb54);if(_0x180089['morph']){const _0x15ec11=new xa(_0x180089['morph']);_0x5902b6['morphInsta'+'nce']=_0x15ec11,_0x18dab6['morphInsta'+'nces']['push'](_0x15ec11);}if(_0x1693a2['hasOwnProp'+'erty']('skin')){const _0x3bdbf3=_0x1693a2['skin'],_0x2fdf96=_0x5b5c57[_0x3bdbf3];_0x180089['skin']=_0x2fdf96;const _0x4238c4=_0x4fa466[_0x3bdbf3];_0x5902b6['skinInstan'+'ce']=_0x4238c4,_0x18dab6['skinInstan'+'ces']['push'](_0x4238c4);}_0x18dab6['meshInstan'+'ces']['push'](_0x5902b6);},_0x3196a9=new sr(),_0x4b4a9b=[];for(const _0x1c968c of _0x474c72['skins']){const _0x290b84=new Ol(_0x1c968c);_0x290b84['bones']=_0x1c968c['bones'],_0x4b4a9b['push'](_0x290b84);}_0x3196a9['graph']=yr['createScen'+'eHierarchy'](_0x474c72['scenes'],Ie);for(let _0x368a1d=-0x3*-0xbdd+-0x21b9+-0x2*0xef;_0x368a1d<_0x474c72['nodes']['length'];_0x368a1d++){const _0x17c177=_0x474c72['nodes'][_0x368a1d];if(_0x17c177['root']===_0x3196a9['graph']){const _0x29f271=_0x474c72['gltf']['nodes'][_0x368a1d];if(_0x29f271['hasOwnProp'+'erty']('mesh')){const _0xf358a8=_0x474c72['renders'][_0x29f271['mesh']]['meshes'];for(let _0x17c6cd=0xc1*0xd+0x1*0x206d+0x2f*-0xe6;_0x17c6cd<_0xf358a8['length'];_0x17c6cd++){const _0x27b362=_0xf358a8[_0x17c6cd];_0x27b362&&_0x5f48bd(_0x3196a9,_0x27b362,_0x474c72['skins'],_0x4b4a9b,_0x474c72['materials'],_0x17c177,_0x29f271);}}}}return _0x3196a9;}['destroy'](){const _0x5e3716=this['_assets'],_0x148480=function(_0x4071a5){_0x5e3716['remove'](_0x4071a5),_0x4071a5['unload']();},_0x1180f4=function(_0x386549){_0x386549['forEach'](_0x10e897=>{_0x148480(_0x10e897);});};this['animations']&&(_0x1180f4(this['animations']),this['animations']=null),this['textures']&&(_0x1180f4(this['textures']),this['textures']=null),this['materials']&&(_0x1180f4(this['materials']),this['materials']=null),this['renders']&&(_0x1180f4(this['renders']),this['renders']=null),this['_model']&&(_0x148480(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x21d2ef,_0x1ffd7a,_0x35b052){this['_device']=_0x21d2ef,this['_assets']=_0x1ffd7a,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x35b052;}['_getUrlWit'+'houtParams'](_0x2e3fd1){return _0x2e3fd1['indexOf']('?')>=-0xa1f*0x1+-0x1acc+0x24eb?_0x2e3fd1['split']('?')[0x488*0x1+-0x14*0x4a+0x140*0x1]:_0x2e3fd1;}['load'](_0x446e0d,_0x43271a,_0x5b836f){pe['fetchArray'+'Buffer'](_0x446e0d['load'],(_0x24cdf8,_0x38ae1d)=>{_0x24cdf8?_0x43271a(_0x24cdf8):kh['parse'](this['_getUrlWit'+'houtParams'](_0x446e0d['original']),xe['extractPat'+'h'](_0x446e0d['load']),_0x38ae1d,this['_device'],_0x5b836f['registry'],_0x5b836f['options'],(_0x26f5e1,_0x599033)=>{_0x26f5e1?_0x43271a(_0x26f5e1):_0x43271a(null,new yr(_0x599033,_0x5b836f,this['_assets'],this['_defaultMa'+'terial']));});},_0x5b836f,this['maxRetries']);}['open'](_0x5ea0e7,_0x40c8fa,_0x3b4896){return _0x40c8fa;}['patch'](_0x194dc9,_0x32a783){}}class ZN extends Qe{constructor(_0x565fb3){super(_0x565fb3,'container'),this['glbContain'+'erParser']=new KN(_0x565fb3['graphicsDe'+'vice'],_0x565fb3['assets'],0x669+0xed1+-0x153a),this['parsers']={};}set['maxRetries'](_0x4e0c00){this['glbContain'+'erParser']['maxRetries']=_0x4e0c00;for(const _0x2fe7c3 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x2fe7c3)&&(this['parsers'][_0x2fe7c3]['maxRetries']=_0x4e0c00);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x41a753){return _0x41a753['indexOf']('?')>=0x1ddd+-0x6*-0x295+-0x2d5b?_0x41a753['split']('?')[-0x116b+-0x783+-0x2*-0xc77]:_0x41a753;}['_getParser'](_0x2cfcc6){const _0x166db2=_0x2cfcc6?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2cfcc6))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x166db2]||this['glbContain'+'erParser'];}['load'](_0x119cd2,_0x381603,_0x1c1b63){typeof _0x119cd2=='string'&&(_0x119cd2={'load':_0x119cd2,'original':_0x119cd2}),this['_getParser'](_0x119cd2['original'])['load'](_0x119cd2,_0x381603,_0x1c1b63);}['open'](_0x469773,_0x58565b,_0x4be301){return this['_getParser'](_0x469773)['open'](_0x469773,_0x58565b,_0x4be301);}}class QN extends Qe{constructor(_0x58ef98){super(_0x58ef98,'css'),h(this,'decoder',null);}['load'](_0x5463a8,_0xeba390){typeof _0x5463a8=='string'&&(_0x5463a8={'load':_0x5463a8,'original':_0x5463a8}),ot['get'](_0x5463a8['load'],{'retry':this['maxRetries']>-0x1889+-0x1093*-0x2+0x7*-0x13b,'maxRetries':this['maxRetries']},(_0x48f4be,_0x5380f4)=>{_0x48f4be?_0xeba390('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x5463a8['original']+'\x20['+_0x48f4be+']'):_0xeba390(null,_0x5380f4);});}['openBinary'](_0x289921){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x289921);}}class JN extends Qe{constructor(_0x366879){super(_0x366879,'cubemap'),this['_device']=_0x366879['graphicsDe'+'vice'],this['_registry']=_0x366879['assets'],this['_loader']=_0x366879['loader'];}['load'](_0x5c467e,_0x3d9326,_0x20c58d){this['loadAssets'](_0x20c58d,_0x3d9326);}['open'](_0x19ec58,_0x3c479e,_0x3eee57){return _0x3eee57?_0x3eee57['resource']:null;}['patch'](_0x5cb779,_0x237a6a){this['loadAssets'](_0x5cb779,(_0x32e489,_0x8887c3)=>{_0x32e489&&(_0x237a6a['fire']('error',_0x5cb779),_0x237a6a['fire']('error:'+_0x5cb779['id'],_0x32e489,_0x5cb779),_0x5cb779['fire']('error',_0x5cb779));});}['getAssetId'+'s'](_0x17e96e){const _0x24db50=[];if(_0x24db50[0x1e9d*-0x1+-0x486+0x2323]=_0x17e96e['file'],(_0x17e96e['loadFaces']||!_0x17e96e['file'])&&_0x17e96e['data']&&_0x17e96e['data']['textures']){for(let _0x58323e=0x2519*-0x1+-0x1fc*0x8+0x34f9;_0x58323e<0xd39*-0x1+-0x2694+0x33d3;++_0x58323e)_0x24db50[_0x58323e+(0x2ca+0x5b+-0x324)]=_0x17e96e['data']['textures'][_0x58323e];}else _0x24db50[0x102f+0x8f8+-0x1926*0x1]=_0x24db50[-0xb3*0x12+-0x117c+0x1e14]=_0x24db50[0x1cc*0x8+-0x161a+0x7bd]=_0x24db50[-0x22b5*0x1+-0x12ae+0x3567]=_0x24db50[-0x26d1*0x1+-0x29*0x88+0x3c9e]=_0x24db50[0x35*-0x17+0x67f+-0x2*0xdb]=null;return _0x24db50;}['compareAss'+'etIds'](_0x549c62,_0x1b8799){return _0x549c62&&_0x1b8799?parseInt(_0x549c62,-0x17e+-0x20da+-0x3d2*-0x9)===_0x549c62||typeof _0x549c62=='string'?_0x549c62===_0x1b8799:_0x549c62['url']===_0x1b8799['url']:_0x549c62!==null==(_0x1b8799!==null);}['update'](_0x41c85c,_0x297b82,_0x1e6114){const _0x25cfc9=_0x41c85c['data']||{},_0x1decf6=_0x41c85c['_handlerSt'+'ate']['assets'],_0x217a6c=_0x41c85c['_resources'];let _0x13621a,_0xfe8537,_0x5343de;const _0x139cbc=[null,null,null,null,null,null,null],_0x590a65=function(){return _0x25cfc9['hasOwnProp'+'erty']('type')?_0x25cfc9['type']:_0x25cfc9['hasOwnProp'+'erty']('rgbm')?_0x25cfc9['rgbm']?Zi:Ds:null;};if(!_0x41c85c['loaded']||_0x1e6114[0x11e5+0x24d2+-0x36b7]!==_0x1decf6[0x3d*-0x8b+0x1*-0x1ec+0x230b*0x1]){if(_0x1e6114[-0x9b+-0x1cd*0x10+0x1d6b]){if(_0x13621a=_0x1e6114[-0x170e+-0x1350+0x2a5e]['resource'],_0x13621a['cubemap']){for(_0x5343de=-0x1db3*0x1+0x1d9d+0x16*0x1;_0x5343de<-0x14e8+0x1*0x25a9+0x1*-0x10bb;++_0x5343de)_0x139cbc[_0x5343de+(0xe35*-0x2+0x247d+-0x812)]=new _e(this['_device'],{'name':_0x41c85c['name']+('_prelitCub'+'emap')+(_0x13621a['width']>>_0x5343de),'cubemap':!(-0x1*-0x253d+-0xa61+-0x1adc*0x1),'type':_0x590a65()||_0x13621a['type'],'width':_0x13621a['width']>>_0x5343de,'height':_0x13621a['height']>>_0x5343de,'format':_0x13621a['format'],'levels':[_0x13621a['_levels'][_0x5343de]],'addressU':ue,'addressV':ue,'mipmaps':_0x5343de===-0xfd7+0x1*-0x18b8+0x288f});}else _0x139cbc[-0x1*0x1a2f+0x2*0x6da+0xc7c]=_0x13621a;}}else _0x139cbc[0x248*0x8+-0x6eb+-0xb54]=_0x217a6c[-0x1*0x1b+-0x365*0x3+0xa4b]||null,_0x139cbc[0x6*0x3b9+0x2*-0xba+-0x14e0*0x1]=_0x217a6c[0x4c+-0x23e+0x1f4]||null,_0x139cbc[0x1ee*0x2+-0xd75+0xa*0xf6]=_0x217a6c[-0x1*-0x1859+0x1a17+0x326d*-0x1]||null,_0x139cbc[-0x1566+-0x1a14+0x2f7e]=_0x217a6c[0x2*0xcb9+0x1*-0xf9+0x1875*-0x1]||null,_0x139cbc[-0x11*0x146+-0xa7e+0x2029]=_0x217a6c[0x13c2+-0x2026+0xc69]||null,_0x139cbc[-0x17d3+0x458*0x3+0xd*0xd5]=_0x217a6c[0x1*0x102d+-0x408+0x1*-0xc1f]||null;const _0xe7b1d1=_0x1e6114['slice'](0xd*-0x231+0x81d+-0x6f*-0x2f);if(!_0x41c85c['loaded']||!this['cmpArrays'](_0xe7b1d1,_0x1decf6['slice'](-0x322*0x2+0x83*-0x37+-0xa*-0x371))){if(_0xe7b1d1['indexOf'](null)===-(-0x31d*0x5+-0xfef*0x1+-0x1f81*-0x1)){const _0x2f32ff=_0xe7b1d1['map'](_0x5517ea=>_0x5517ea['resource']),_0x4d7ee7=[];for(_0xfe8537=0x1*0x234+-0xbe2+0x9ae;_0xfe8537<_0x2f32ff[0x10ec*0x1+0x201b+-0x3107]['_levels']['length'];++_0xfe8537)_0x4d7ee7['push'](_0x2f32ff['map'](_0x3bcc24=>_0x3bcc24['_levels'][_0xfe8537]));const _0x5272c1=_0x2f32ff[-0x238f+-0xa65+0x2df4]['format'],_0x55512d=new _e(this['_device'],{'name':_0x41c85c['name']+'_faces','cubemap':!(-0x1016*-0x1+0xa4f*-0x3+-0x1d*-0x83),'type':_0x590a65()||_0x2f32ff[-0xb81*-0x3+0x21a8+-0x442b]['type'],'width':_0x2f32ff[0x3*-0x59f+0x16*0xb+0x5*0x32f]['width'],'height':_0x2f32ff[-0x1*0x145d+0x2ba+-0x2b*-0x69]['height'],'format':_0x5272c1===Cr?Ne:_0x5272c1,'mipmaps':_0x25cfc9['mipmaps']??!(0x11*-0x62+0x1*0xc23+-0x5a1),'levels':_0x4d7ee7,'minFilter':_0x25cfc9['hasOwnProp'+'erty']('minFilter')?_0x25cfc9['minFilter']:_0x2f32ff[0x2b5+0xd47+-0xffc]['minFilter'],'magFilter':_0x25cfc9['hasOwnProp'+'erty']('magFilter')?_0x25cfc9['magFilter']:_0x2f32ff[0x2e*-0x8f+0x1d27+-0x375]['magFilter'],'anisotropy':_0x25cfc9['hasOwnProp'+'erty']('anisotropy')?_0x25cfc9['anisotropy']:0xbab+-0x155d+0x9b3,'addressU':ue,'addressV':ue});_0x139cbc[-0xaad+-0x115*0x3+0xdec]=_0x55512d;}}else _0x139cbc[-0x1*0x144f+-0x247*0x1+0x1696]=_0x217a6c[-0x17e2+-0x12*0x183+-0x1*-0x3318]||null;if(!this['cmpArrays'](_0x139cbc,_0x217a6c)){for(_0x41c85c['resources']=_0x139cbc,_0x41c85c['_handlerSt'+'ate']['assetIds']=_0x297b82,_0x41c85c['_handlerSt'+'ate']['assets']=_0x1e6114,_0x5343de=0x2*0x2e+-0x16e*-0x2+-0x338;_0x5343de<_0x217a6c['length'];++_0x5343de)_0x217a6c[_0x5343de]!==null&&_0x139cbc['indexOf'](_0x217a6c[_0x5343de])===-(0x24ca+-0x25*0x23+-0x1fba)&&_0x217a6c[_0x5343de]['destroy']();}for(_0x5343de=-0x261f*0x1+-0x1*-0x1fb5+0x66a;_0x5343de<_0x1decf6['length'];++_0x5343de)_0x1decf6[_0x5343de]!==null&&_0x1e6114['indexOf'](_0x1decf6[_0x5343de])===-(-0x735+0xe*0x223+-0x16b4*0x1)&&_0x1decf6[_0x5343de]['unload']();}['cmpArrays'](_0x2bccaf,_0x3c735a){if(_0x2bccaf['length']!==_0x3c735a['length'])return!(-0x616*0x1+-0x1*0xe6f+0x1486);for(let _0x4ce136=-0x1*-0x9ab+-0xf65+-0x2dd*-0x2;_0x4ce136<_0x2bccaf['length'];++_0x4ce136)if(_0x2bccaf[_0x4ce136]!==_0x3c735a[_0x4ce136])return!(0x127a+-0x15b*0x1b+-0x20*-0x91);return!(-0x10d1+-0x4e7*-0x5+-0x18a*0x5);}['resolveId'](_0x3db946){const _0x4bf9d2=parseInt(_0x3db946,-0x2437+0x205f+0x3e2*0x1);return _0x4bf9d2===_0x3db946||_0x4bf9d2['toString']()===_0x3db946?_0x4bf9d2:_0x3db946;}['loadAssets'](_0x4b23c2,_0x3849e5){_0x4b23c2['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x4b23c2['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x153a26=this,_0x79a0b1=_0x153a26['getAssetId'+'s'](_0x4b23c2),_0x5f4bd6=[null,null,null,null,null,null,null],_0x3766c4=_0x4b23c2['_handlerSt'+'ate']['assetIds'],_0x4426af=_0x4b23c2['_handlerSt'+'ate']['assets'],_0x261006=_0x153a26['_registry'];let _0x5ba603=0x1*0x15c7+0x24d8+-0x2ee*0x14;const _0x33e71d=function(_0x435b94,_0x40f55c){_0x5f4bd6[_0x435b94]=_0x40f55c,_0x5ba603--,_0x5ba603===-0x41*-0x47+-0x28f+-0x108*0xf&&(_0x153a26['update'](_0x4b23c2,_0x79a0b1,_0x5f4bd6),_0x3849e5(null,_0x4b23c2['resources']));},_0x3b5eee=function(_0x565033,_0x1fe2c5,_0xc853){_0x3849e5(_0x1fe2c5);},_0x2dc8b3=function(_0x46c4bd,_0x3e6ef8){_0x3e6ef8['loaded']?_0x33e71d(_0x46c4bd,_0x3e6ef8):(_0x261006['once']('load:'+_0x3e6ef8['id'],_0x33e71d['bind'](_0x153a26,_0x46c4bd)),_0x261006['once']('error:'+_0x3e6ef8['id'],_0x3b5eee['bind'](_0x153a26,_0x46c4bd)),_0x3e6ef8['loading']||_0x261006['load'](_0x3e6ef8));};let _0x52be65;for(let _0x36be9f=-0x1cb8+-0x14f5*-0x1+-0x7c3*-0x1;_0x36be9f<-0x67e+-0xa72+0x1*0x10f7;++_0x36be9f){const _0x12c214=this['resolveId'](_0x79a0b1[_0x36be9f]);if(!_0x12c214)_0x33e71d(_0x36be9f,null);else{if(_0x153a26['compareAss'+'etIds'](_0x12c214,_0x3766c4[_0x36be9f]))_0x2dc8b3(_0x36be9f,_0x4426af[_0x36be9f]);else{if(parseInt(_0x12c214,0x105f+0x17d4+-0x3*0xd63)===_0x12c214)_0x52be65=_0x261006['get'](_0x12c214),_0x52be65?_0x2dc8b3(_0x36be9f,_0x52be65):setTimeout(((_0x4c4828,_0x52065e)=>{const _0x5a12f5=_0x261006['get'](_0x52065e);_0x5a12f5?_0x2dc8b3(_0x4c4828,_0x5a12f5):_0x3b5eee(_0x4c4828,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x52065e);})['bind'](null,_0x36be9f,_0x12c214));else{const _0x48b448=typeof _0x12c214=='string'?{'url':_0x12c214,'filename':_0x12c214}:_0x12c214,_0x17192a=_0x48b448['url']['search']('.dds')===-(-0x2db*-0xc+0x2*0x215+-0x266d)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0xd2b*-0x1+-0x1*0x261d+0x13*0x2b3)}:null;_0x52be65=new pe(_0x4b23c2['name']+'_part_'+_0x36be9f,'texture',_0x48b448,_0x17192a),_0x261006['add'](_0x52be65),_0x2dc8b3(_0x36be9f,_0x52be65);}}}}}}class ek extends Qe{constructor(_0x6d4b16){super(_0x6d4b16,'folder');}['load'](_0x4ef6ec,_0x408666){_0x408666(null,null);}}class yS{constructor(_0x3b1ae7,_0x1e3f78){this['type']=_0x1e3f78&&_0x1e3f78['type']||Rh,this['em']=0x73*-0x1f+-0x646*-0x1+-0xa*-0xc4,this['textures']=_0x3b1ae7,this['intensity']=0x1*-0x267c+0x117e+0x14fe,this['_data']=null,this['data']=_0x1e3f78;}set['data'](_0x1684fc){if(this['_data']=_0x1684fc,!!_0x1684fc&&(this['_data']['intensity']!==void(0x3d*0x3d+0x7*0x263+-0xba*0x2b)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xcf7+-0x2294*-0x1+0x159b*-0x1)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x462938 in this['_data']['chars'])this['_data']['chars'][_0x462938]['map']=-0x1517+0x1b6a+0x1*-0x653;}}get['data'](){return this['_data'];}}function Cf(_0x16a0d7){return _0x16a0d7['version']<-0x1a88+0x1717*-0x1+0x31a2&&(_0x16a0d7['version']<0x226f+0xe8*0x21+-0x4055&&(_0x16a0d7['info']['maps']=_0x16a0d7['info']['maps']||[{'width':_0x16a0d7['info']['width'],'height':_0x16a0d7['info']['height']}]),_0x16a0d7['chars']=Object['keys'](_0x16a0d7['chars']||{})['reduce']((_0x5c7a0d,_0x4ccd2e)=>{const _0x5bd3dd=_0x16a0d7['chars'][_0x4ccd2e],_0x28b6dc=_0x5bd3dd['letter']!==void(-0xe8f+0xa9*0x4+0x3f9*0x3)?_0x5bd3dd['letter']:Hc['fromCodePo'+'int'](_0x4ccd2e);return _0x16a0d7['version']<0x1943+-0x3*0x20f+0x4c5*-0x4&&(_0x5bd3dd['map']=_0x5bd3dd['map']||-0x148+-0x2091+0x21d9),_0x5c7a0d[_0x28b6dc]=_0x5bd3dd,_0x5c7a0d;},{}),_0x16a0d7['version']=-0x71*0x10+0x1d99*-0x1+0x92b*0x4),_0x16a0d7;}class tk extends Qe{constructor(_0x3f1bc8){super(_0x3f1bc8,'font'),this['_loader']=_0x3f1bc8['loader'],this['maxRetries']=-0xfce+0x303*0xa+0x394*-0x4;}['load'](_0x566de0,_0x1b5e30,_0x4a7d41){typeof _0x566de0=='string'&&(_0x566de0={'load':_0x566de0,'original':_0x566de0});const _0x46a7aa=this;xe['getExtensi'+'on'](_0x566de0['original'])==='.json'?ot['get'](_0x566de0['load'],{'retry':this['maxRetries']>-0xddc*-0x2+-0x1*-0x1746+0x6b*-0x7a,'maxRetries':this['maxRetries']},(_0x2495aa,_0x2ecb5a)=>{if(_0x2495aa)_0x1b5e30('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x566de0['original']+'\x20['+_0x2495aa+']');else{const _0x195be1=Cf(_0x2ecb5a);_0x46a7aa['_loadTextu'+'res'](_0x566de0['load']['replace']('.json','.png'),_0x195be1,(_0x5ba29b,_0x4968e1)=>{_0x5ba29b?_0x1b5e30(_0x5ba29b):_0x1b5e30(null,{'data':_0x195be1,'textures':_0x4968e1});});}}):(_0x4a7d41&&_0x4a7d41['data']&&(_0x4a7d41['data']=Cf(_0x4a7d41['data'])),this['_loadTextu'+'res'](_0x566de0['load'],_0x4a7d41&&_0x4a7d41['data'],_0x1b5e30));}['_loadTextu'+'res'](_0x5ee2bc,_0x1a06d,_0x15072a){const _0x2c3b66=_0x1a06d['info']['maps']['length'];let _0x1605cd=-0x7db+0x346*-0x2+0xe67,_0x616e3b=null;const _0x23e80c=new Array(_0x2c3b66),_0x13a13d=this['_loader'],_0x56b414=function(_0x46cb37){const _0x7bc7bf=function(_0x8c0dfa,_0x4bf9c8){if(!_0x616e3b){if(_0x8c0dfa){_0x616e3b=_0x8c0dfa,_0x15072a(_0x8c0dfa);return;}_0x4bf9c8['upload'](),_0x23e80c[_0x46cb37]=_0x4bf9c8,_0x1605cd++,_0x1605cd===_0x2c3b66&&_0x15072a(null,_0x23e80c);}};_0x46cb37===-0xa15+0x73d+0x2d8?_0x13a13d['load'](_0x5ee2bc,'texture',_0x7bc7bf):_0x13a13d['load'](_0x5ee2bc['replace']('.png',_0x46cb37+'.png'),'texture',_0x7bc7bf);};for(let _0x2f1800=0x1*-0x1dcb+-0x5*0x16c+-0xc4d*-0x3;_0x2f1800<_0x2c3b66;_0x2f1800++)_0x56b414(_0x2f1800);}['open'](_0x2f2bee,_0xb3c74b,_0x127f42){let _0x27efb5;return _0xb3c74b['textures']?_0x27efb5=new yS(_0xb3c74b['textures'],_0xb3c74b['data']):_0x27efb5=new yS(_0xb3c74b,null),_0x27efb5;}['patch'](_0x2f9990,_0x6013e4){const _0xdd8a7c=_0x2f9990['resource'];!_0xdd8a7c['data']&&_0x2f9990['data']?_0xdd8a7c['data']=_0x2f9990['data']:!_0x2f9990['data']&&_0xdd8a7c['data']&&(_0x2f9990['data']=_0xdd8a7c['data']),_0x2f9990['data']&&(_0x2f9990['data']=Cf(_0x2f9990['data']));}}async function sk(){const _0x60403f=0x2492+0xb72+0x3004*-0x1+0.28209479177387814;class _0x1509d7{constructor(_0x51aa76,_0x186956,_0x19bbac){this['x']=_0x51aa76,this['y']=_0x186956,this['z']=_0x19bbac;}}class _0x27e5fb{constructor(_0x53aeaa,_0x3e2132,_0x27d4bf,_0x24da1f){this['x']=_0x53aeaa,this['y']=_0x3e2132,this['z']=_0x27d4bf,this['w']=_0x24da1f;}}class _0x50d535{constructor(_0xb7d73,_0x457d06,_0x2ea800,_0x5ec6a0){this['x']=_0xb7d73,this['y']=_0x457d06,this['z']=_0x2ea800,this['w']=_0x5ec6a0;}['set'](_0x161f24,_0x289d31,_0x233f00,_0x37eb1d){this['x']=_0x161f24,this['y']=_0x289d31,this['z']=_0x233f00,this['w']=_0x37eb1d;}}class _0x1e3a0b{constructor(_0x2f9517,_0x112b5c,_0x4c82c8,_0x17e296,_0x4c3d84,_0x5377d3,_0x34b95f,_0xbc109e,_0x41d71d,_0xc52948,_0x17b1be,_0x33335f,_0x4c7ea8,_0x101743){const _0x3d8720=(_0xb3980e,_0x4f400f)=>{const _0x551fe0=(-0x1be+-0xc1c+0x1*0xddb<<_0x4f400f)-(-0x25*0x9d+-0x1*-0x3b9+0x12f9);return(_0xb3980e&_0x551fe0)/_0x551fe0;},_0x5e7e13=(_0x1ba843,_0xeb7992)=>{_0x1ba843['x']=_0x3d8720(_0xeb7992>>>-0x1536+0x60a+0xf41,-0x1667*-0x1+-0xc96+-0x9c6),_0x1ba843['y']=_0x3d8720(_0xeb7992>>>-0xe18+-0xc*0x25b+0x41*0xa7,-0x8f9*0x3+0x2c8*0x8+0x4b5*0x1),_0x1ba843['z']=_0x3d8720(_0xeb7992,0x1c53+0x22e7+0x3f2f*-0x1);},_0x5e9eed=(_0x101e90,_0xf002e6)=>{_0x101e90['x']=_0x3d8720(_0xf002e6>>>-0x1183+-0x741+0x637*0x4,0x41c+0x11c*-0x1c+0x1afc),_0x101e90['y']=_0x3d8720(_0xf002e6>>>0x7c*0x25+-0x20f7*0x1+0xf1b,0x75a+0x1312*-0x1+0xbc0),_0x101e90['z']=_0x3d8720(_0xf002e6>>>-0x2*0x3c2+0x37b*0x5+-0x9db*0x1,0x2*-0x3e+-0x14b3+0x1537),_0x101e90['w']=_0x3d8720(_0xf002e6,-0x4*-0x86+0x1*-0x1625+-0x1*-0x1415);},_0x3c835e=(_0x575bdf,_0x1f6b7e)=>{const _0x1a7073=(-0x62f+-0x717+0x3*0x46d)/(Math['sqrt'](0x8a8+0x152+-0x9f8)*(0x10a8+-0x3de+-0xcca+0.5)),_0x5c3593=(_0x3d8720(_0x1f6b7e>>>-0x1a7b+0x1*0x15ab+-0x1*-0x4e4,-0x86f+-0x2*0xfe1+0x283b)-(0x59*0x67+0x4*-0x8ff+-0x9*-0x5+0.5))*_0x1a7073,_0x38a44e=(_0x3d8720(_0x1f6b7e>>>0x2*-0xc3b+0x1443+0x43d*0x1,-0x1996+0x1430*0x1+0x570)-(0x1b33+-0xbcf+-0xf64+0.5))*_0x1a7073,_0x386c0d=(_0x3d8720(_0x1f6b7e,-0x2*0x1093+-0x42c*0x9+0x11af*0x4)-(-0x6cd*0x2+0x17cd+0x7*-0x175+0.5))*_0x1a7073,_0x1cc566=Math['sqrt'](0x1d1+-0x7e3+-0x1*-0x613-(_0x5c3593*_0x5c3593+_0x38a44e*_0x38a44e+_0x386c0d*_0x386c0d));switch(_0x1f6b7e>>>-0x1324+0x261c+-0x12da*0x1){case-0xbce*0x1+0x7*0xa4+0x752:_0x575bdf['set'](_0x5c3593,_0x38a44e,_0x386c0d,_0x1cc566);break;case 0x1199+0x892+-0x1a2a:_0x575bdf['set'](_0x1cc566,_0x38a44e,_0x386c0d,_0x5c3593);break;case-0x6d*-0x2d+0x915+-0xe1e*0x2:_0x575bdf['set'](_0x38a44e,_0x1cc566,_0x386c0d,_0x5c3593);break;case 0x4*0x821+-0x467*-0x2+-0x294f:_0x575bdf['set'](_0x38a44e,_0x386c0d,_0x1cc566,_0x5c3593);break;}},_0x15e1e1=(_0x812060,_0x5a0983,_0xce49ff)=>_0x812060*(0xc1*-0x24+-0x14ad*0x1+0x2fd2-_0xce49ff)+_0x5a0983*_0xce49ff,_0x38a44f=[0x241*0x2+0x7*0x21+-0x566*0x1,-0x1*-0x11ba+-0x21d7+0x1025,-0xe0f+0x27*0x7c+0xd*-0x5e][_0x34b95f-(-0x79*0x5+-0x2443*-0x1+0x1*-0x21e5)],_0x5ba3fb=-0x1*0xa39+0x17c9+-0xd8a;this['read']=_0x2db299=>{const _0x339018=Math['floor'](_0x2db299/(0x4*-0x4c0+-0x179a+-0x2*-0x15cd))*_0x112b5c;if(_0xbc109e&&(_0x5e7e13(_0xbc109e,_0x4c82c8[_0x2db299*_0x5ba3fb+(0x35*-0x13+0xb30+0x1*-0x741)]),_0xbc109e['x']=_0x15e1e1(_0x2f9517[_0x339018+(0xd38+0x1275*0x1+0x1fad*-0x1)],_0x2f9517[_0x339018+(0x516+0x1b5*0x10+0x2063*-0x1)],_0xbc109e['x']),_0xbc109e['y']=_0x15e1e1(_0x2f9517[_0x339018+(0x12f*-0x1+-0x1933*0x1+-0x5*-0x547)],_0x2f9517[_0x339018+(-0x7*-0x4cf+0x9e*-0x25+-0x1*0xacf)],_0xbc109e['y']),_0xbc109e['z']=_0x15e1e1(_0x2f9517[_0x339018+(0x57b*-0x1+-0x1*-0x47a+0x103)],_0x2f9517[_0x339018+(-0x2352*-0x1+-0x17e4+-0xb69)],_0xbc109e['z'])),_0x41d71d&&_0x3c835e(_0x41d71d,_0x4c82c8[_0x2db299*_0x5ba3fb+(-0xc33*0x1+-0x9d*-0x8+-0x2*-0x3a6)]),_0xc52948&&(_0x5e7e13(_0xc52948,_0x4c82c8[_0x2db299*_0x5ba3fb+(-0x13dc+-0x6f3*-0x1+0xceb)]),_0xc52948['x']=_0x15e1e1(_0x2f9517[_0x339018+(0x10b7*-0x1+-0x2591+0x364e)],_0x2f9517[_0x339018+(0x2359*-0x1+-0xcc8+-0x807*-0x6)],_0xc52948['x']),_0xc52948['y']=_0x15e1e1(_0x2f9517[_0x339018+(-0x1938+-0x17cb*0x1+0x1*0x310a)],_0x2f9517[_0x339018+(0x2*0xa+0xb1*0x24+-0xc77*0x2)],_0xc52948['y']),_0xc52948['z']=_0x15e1e1(_0x2f9517[_0x339018+(-0x15*-0xaf+-0x2287+0x1434)],_0x2f9517[_0x339018+(-0x20bf+0x171b+0x9af)],_0xc52948['z'])),_0x17b1be&&(_0x5e9eed(_0x17b1be,_0x4c82c8[_0x2db299*_0x5ba3fb+(-0x1*0x7f5+-0x2*0xc29+0x1025*0x2)]),_0x112b5c>0x828+0x171f+-0x63f*0x5&&(_0x17b1be['x']=_0x15e1e1(_0x2f9517[_0x339018+(-0xf63*-0x1+-0x6d*-0x1d+-0x1bb0)],_0x2f9517[_0x339018+(-0x19ad+0x504*0x2+0xfb4)],_0x17b1be['x']),_0x17b1be['y']=_0x15e1e1(_0x2f9517[_0x339018+(0x2430+0x1*-0x25e3+0xe*0x20)],_0x2f9517[_0x339018+(0x3*0x7b9+0xa77+0x2*-0x10c9)],_0x17b1be['y']),_0x17b1be['z']=_0x15e1e1(_0x2f9517[_0x339018+(0x1224+-0x24*-0xb3+0x7*-0x62e)],_0x2f9517[_0x339018+(0x2328+0x3*-0x874+-0x9bb)],_0x17b1be['z']))),_0x33335f&&(_0x5e7e13(_0x33335f,_0x4c82c8[_0x2db299*_0x5ba3fb+(0x14e9+0x558+-0x1a3d)]),_0x33335f['x']=_0x15e1e1(_0x2f9517[_0x339018+(-0x654+0x2295+0x5*-0x5a3)],_0x2f9517[_0x339018+(-0x26b5+0x173e+0xf8c)],_0x33335f['x']),_0x33335f['y']=_0x15e1e1(_0x2f9517[_0x339018+(-0xf9e+0x183+0xe2e)],_0x2f9517[_0x339018+(0x2284+-0x225a+0xa*-0x2)],_0x33335f['y']),_0x33335f['z']=_0x15e1e1(_0x2f9517[_0x339018+(0x1930+-0x387*0x5+-0x779)],_0x2f9517[_0x339018+(-0x58d+-0x105*-0x1d+0x31*-0x7d)],_0x33335f['z'])),_0x4c7ea8&&(_0x5e7e13(_0x4c7ea8,_0x4c82c8[_0x2db299*_0x5ba3fb+(0x2*0x1031+-0xb27+0x1e*-0xb5)]),_0x4c7ea8['x']=_0x15e1e1(_0x2f9517[_0x339018+(0xe36*-0x2+-0x37*-0x8e+-0x1fe)],_0x2f9517[_0x339018+(0xd2d*0x2+0x1f33+-0x3974*0x1)],_0x4c7ea8['x']),_0x4c7ea8['y']=_0x15e1e1(_0x2f9517[_0x339018+(-0xea0+0x1*-0x15a+0x1014)],_0x2f9517[_0x339018+(-0x6b2+-0x211f*-0x1+0x2*-0xd29)],_0x4c7ea8['y'])),_0x101743&&_0x34b95f>0x11f*0x1e+-0x1f95+-0x20d){const _0x4dbab5=[_0x17e296,_0x4c3d84,_0x5377d3];for(let _0xa156fc=0x543+0x691+-0xbd4;_0xa156fc<0x1ac9+0x995+-0x245b;++_0xa156fc)for(let _0x332f67=-0x241d+-0x14bc+-0x63*-0x93;_0x332f67<0x1*0x779+0xfb*0xf+0x1*-0x161f;++_0x332f67)_0x101743[_0xa156fc*(-0x69*-0x22+0x7*-0x1c1+-0x19c)+_0x332f67]=_0x332f67<_0x38a44f?_0x4dbab5[_0xa156fc][_0x2db299*(0x1d9d+-0xaec*0x3+-0x337*-0x1)+_0x332f67]*((0x2ae+-0x625*-0x5+-0x215f)/(-0xda3+-0x9*0x163+-0x1b1d*-0x1))-(0x10*0xce+-0x24b0+0xf4*0x19):-0x1675+0x1dd9+-0x764;}};}}self['onmessage']=async _0x191d62=>{const {data:_0x38b47d}=_0x191d62;switch(_0x38b47d['type']){case'initWorker':break;case'decompress':_0x100e48(_0x38b47d['numSplats'],_0x38b47d['chunkData'],_0x38b47d['chunkSize'],_0x38b47d['vertexData'],_0x38b47d['shData0'],_0x38b47d['shData1'],_0x38b47d['shData2'],_0x38b47d['shBands']);break;}};const _0x100e48=(_0x4a6b13,_0x243401,_0x5ad0e8,_0x1cb7dc,_0x4977f4,_0x516c27,_0x46afdc,_0x580a0b)=>{const _0x1b33e9=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x580a0b>-0x25ca+0x1a*0x109+-0xc*-0xe8){const _0x4bc8a4=[];for(let _0x36b7e2=-0x6*-0x2+0x1e49+-0x1e55;_0x36b7e2<-0x6*0x20+0x22b*-0xf+0x2172;++_0x36b7e2)_0x4bc8a4['push']('f_rest_'+_0x36b7e2);_0x1b33e9['splice'](_0x1b33e9['indexOf']('f_dc_0')+(0x4b9+-0x15ed+-0x371*-0x5),0x3*0x105+-0x32*0xc2+0xf1*0x25,..._0x4bc8a4);}const _0x4fedca={};_0x1b33e9['forEach'](_0x3afa08=>{_0x4fedca[_0x3afa08]=new Float32Array(_0x4a6b13);});const _0x2c2867=new _0x1509d7(),_0xa28cd=new _0x50d535(),_0x344074=new _0x1509d7(),_0x219bcd=new _0x27e5fb(),_0x300c81=new _0x1509d7(),_0x358ad8=new _0x1509d7(),_0x21ef8c=_0x580a0b>-0x334*-0x3+-0x1c02+0xf*0x13a?new Float32Array(-0xb11*-0x3+0xf07*-0x2+-0x2f8):null,_0x373043=new _0x1e3a0b(_0x243401,_0x5ad0e8,_0x1cb7dc,_0x4977f4,_0x516c27,_0x46afdc,_0x580a0b,_0x2c2867,_0xa28cd,_0x344074,_0x219bcd,_0x300c81,_0x358ad8,_0x21ef8c);for(let _0x424779=0x2396+0x18ce+-0x14*0x305;_0x424779<_0x4a6b13;++_0x424779)if(_0x373043['read'](_0x424779),_0x4fedca['x'][_0x424779]=_0x2c2867['x'],_0x4fedca['y'][_0x424779]=_0x2c2867['y'],_0x4fedca['z'][_0x424779]=_0x2c2867['z'],_0x4fedca['rot_1'][_0x424779]=_0xa28cd['x'],_0x4fedca['rot_2'][_0x424779]=_0xa28cd['y'],_0x4fedca['rot_3'][_0x424779]=_0xa28cd['z'],_0x4fedca['rot_0'][_0x424779]=_0xa28cd['w'],_0x4fedca['scale_0'][_0x424779]=_0x344074['x'],_0x4fedca['scale_1'][_0x424779]=_0x344074['y'],_0x4fedca['scale_2'][_0x424779]=_0x344074['z'],_0x4fedca['motion_0'][_0x424779]=_0x300c81['x'],_0x4fedca['motion_1'][_0x424779]=_0x300c81['y'],_0x4fedca['motion_2'][_0x424779]=_0x300c81['z'],_0x4fedca['t_scale'][_0x424779]=_0x358ad8['x'],_0x4fedca['t'][_0x424779]=_0x358ad8['y'],_0x4fedca['f_dc_0'][_0x424779]=(_0x219bcd['x']-(0x52+-0x122*0x1f+0x22cc+0.5))/_0x60403f,_0x4fedca['f_dc_1'][_0x424779]=(_0x219bcd['y']-(0x2f*-0x1f+-0x9cb+-0x4*-0x3df+0.5))/_0x60403f,_0x4fedca['f_dc_2'][_0x424779]=(_0x219bcd['z']-(0x190f+-0x9*0x9f+-0x1378+0.5))/_0x60403f,_0x4fedca['opacity'][_0x424779]=_0x219bcd['w']<=-0xce0+0x1029+0x349*-0x1?-(-0x1974+-0x19e+0x1b3a):_0x219bcd['w']>=0x11b*0x1a+-0x86f+-0xa27*0x2?0x3c5+-0x31b*-0x7+-0x195a:-Math['log']((0x1c6d+-0x1439+-0x833)/_0x219bcd['w']-(0x1*0x657+-0xad3+0x47d)),_0x21ef8c){for(let _0x403ab5=0x975+-0x77c+0x5*-0x65;_0x403ab5<-0x1eb*0x11+-0x13c3*-0x1+0xd05;++_0x403ab5)_0x4fedca['f_rest_'+_0x403ab5][_0x424779]=_0x21ef8c[_0x403ab5];}let _0x54acbb={'x':_0x4fedca['x'],'y':_0x4fedca['y'],'z':_0x4fedca['z'],'rot_1':_0x4fedca['rot_1'],'rot_2':_0x4fedca['rot_2'],'rot_3':_0x4fedca['rot_3'],'rot_0':_0x4fedca['rot_0'],'scale_0':_0x4fedca['scale_0'],'scale_1':_0x4fedca['scale_1'],'scale_2':_0x4fedca['scale_2'],'motion_0':_0x4fedca['motion_0'],'motion_1':_0x4fedca['motion_1'],'motion_2':_0x4fedca['motion_2'],'t_scale':_0x4fedca['t_scale'],'t':_0x4fedca['t'],'f_dc_0':_0x4fedca['f_dc_0'],'f_dc_1':_0x4fedca['f_dc_1'],'f_dc_2':_0x4fedca['f_dc_2'],'opacity':_0x4fedca['opacity']};_0x21ef8c&&(_0x54acbb={..._0x54acbb,'f_rest_0':_0x4fedca['f_rest_0'],'f_rest_1':_0x4fedca['f_rest_1'],'f_rest_2':_0x4fedca['f_rest_2'],'f_rest_3':_0x4fedca['f_rest_3'],'f_rest_4':_0x4fedca['f_rest_4'],'f_rest_5':_0x4fedca['f_rest_5'],'f_rest_6':_0x4fedca['f_rest_6'],'f_rest_7':_0x4fedca['f_rest_7'],'f_rest_8':_0x4fedca['f_rest_8'],'f_rest_9':_0x4fedca['f_rest_9'],'f_rest_10':_0x4fedca['f_rest_10'],'f_rest_11':_0x4fedca['f_rest_11'],'f_rest_12':_0x4fedca['f_rest_12'],'f_rest_13':_0x4fedca['f_rest_13'],'f_rest_14':_0x4fedca['f_rest_14'],'f_rest_15':_0x4fedca['f_rest_15'],'f_rest_16':_0x4fedca['f_rest_16'],'f_rest_17':_0x4fedca['f_rest_17'],'f_rest_18':_0x4fedca['f_rest_18'],'f_rest_19':_0x4fedca['f_rest_19'],'f_rest_20':_0x4fedca['f_rest_20'],'f_rest_21':_0x4fedca['f_rest_21'],'f_rest_22':_0x4fedca['f_rest_22'],'f_rest_23':_0x4fedca['f_rest_23'],'f_rest_24':_0x4fedca['f_rest_24'],'f_rest_25':_0x4fedca['f_rest_25'],'f_rest_26':_0x4fedca['f_rest_26'],'f_rest_27':_0x4fedca['f_rest_27'],'f_rest_28':_0x4fedca['f_rest_28'],'f_rest_29':_0x4fedca['f_rest_29'],'f_rest_30':_0x4fedca['f_rest_30'],'f_rest_31':_0x4fedca['f_rest_31'],'f_rest_32':_0x4fedca['f_rest_32'],'f_rest_33':_0x4fedca['f_rest_33'],'f_rest_34':_0x4fedca['f_rest_34'],'f_rest_35':_0x4fedca['f_rest_35'],'f_rest_36':_0x4fedca['f_rest_36'],'f_rest_37':_0x4fedca['f_rest_37'],'f_rest_38':_0x4fedca['f_rest_38'],'f_rest_39':_0x4fedca['f_rest_39'],'f_rest_40':_0x4fedca['f_rest_40'],'f_rest_41':_0x4fedca['f_rest_41'],'f_rest_42':_0x4fedca['f_rest_42'],'f_rest_43':_0x4fedca['f_rest_43'],'f_rest_44':_0x4fedca['f_rest_44']});const _0x1d2ff8=Object['values'](_0x54acbb)['map'](_0x4645b8=>_0x4645b8['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x54acbb},_0x1d2ff8);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4a2622=>{if(!this['worker'])return;const {data:_0x33177a}=_0x4a2622;switch(_0x33177a['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x33177a['data']);break;}};}['decompress'](_0x18be46,_0x13e63a,_0x33ce38,_0x2dd64f,_0x688fed,_0x1a360d,_0x367830,_0x40ce1a){const _0x519eec=[_0x13e63a['buffer'],_0x2dd64f['buffer']];_0x688fed&&_0x519eec['push'](_0x688fed['buffer']),_0x1a360d&&_0x519eec['push'](_0x1a360d['buffer']),_0x367830&&_0x519eec['push'](_0x367830['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x18be46,'chunkData':_0x13e63a,'chunkSize':_0x33ce38,'vertexData':_0x2dd64f,'shData0':_0x688fed,'shData1':_0x1a360d,'shData2':_0x367830,'shBands':_0x40ce1a},_0x519eec);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x56578d,_0x1c5c2e,_0xe7f613,_0x4af252,_0x2dadc7,_0x2ed7a6,_0x400280,_0x4ac07c){const _0x4b346c=(_0x513acf,_0x13b29e)=>{const _0x450b90=(0x1*0x17e1+-0x5*-0x709+-0x3b0d*0x1<<_0x13b29e)-(-0x12f5+0x1b22+-0x82c);return(_0x513acf&_0x450b90)/_0x450b90;},_0x5e709c=(_0x48ae4b,_0x336276)=>{_0x48ae4b['x']=_0x4b346c(_0x336276>>>-0x3bb+0x1107*-0x1+0x14d7,-0x1c86+-0x11dd+0x351*0xe),_0x48ae4b['y']=_0x4b346c(_0x336276>>>-0x192f+-0x1499+-0x1*-0x2dd3,0x153*0x1b+0x5db+-0x2992),_0x48ae4b['z']=_0x4b346c(_0x336276,0x1976+-0xee7*-0x2+-0x3739*0x1);},_0x46d810=(_0xb7ed04,_0x3499a1)=>{_0xb7ed04['x']=_0x4b346c(_0x3499a1>>>-0x3*0x455+0x145*0xd+-0x26*0x17,-0x1c33*-0x1+0x19e4+0x1205*-0x3),_0xb7ed04['y']=_0x4b346c(_0x3499a1>>>-0x1*-0x101e+0x1fe0+-0x2fee,0x53*-0x38+-0x757*0x1+0x1987),_0xb7ed04['z']=_0x4b346c(_0x3499a1>>>0x3f1*0x5+0x13*-0xfd+0xa*-0x17,-0x2*0xdf4+0x1*-0x1747+0x3337),_0xb7ed04['w']=_0x4b346c(_0x3499a1,-0x3e1*-0x2+0x1*-0x252+0xad*-0x8);},_0x3afb23=(_0x207533,_0x5d5f1f)=>{const _0xfee63f=(0x1*-0x1ec5+-0x11*0xe9+0x2e3f)/(Math['sqrt'](-0x1*0x24d9+0x1cca+-0x3b*-0x23)*(0xe6f+0x36e+-0x11dd+0.5)),_0x99000d=(_0x4b346c(_0x5d5f1f>>>-0x2*0x67b+-0x59*-0x33+-0x4b1,0x801*0x3+-0x1dd8+0x5df)-(-0x27*-0x90+-0x1*0x231a+0xd2a+0.5))*_0xfee63f,_0x5bde58=(_0x4b346c(_0x5d5f1f>>>0x1*0x2113+-0x1302+0x1*-0xe07,0x8dd*0x1+-0x2bd+0x616*-0x1)-(0x1422+-0x16b3*0x1+0x291+0.5))*_0xfee63f,_0x43b1f7=(_0x4b346c(_0x5d5f1f,0x13fe+0x1188+0x4*-0x95f)-(0x1169+0x74*-0x35+0x59*0x13+0.5))*_0xfee63f,_0x94b155=Math['sqrt'](-0x1f84+-0xe40*0x1+0x2dc5-(_0x99000d*_0x99000d+_0x5bde58*_0x5bde58+_0x43b1f7*_0x43b1f7));switch(_0x5d5f1f>>>-0x11f*-0x19+0x4e*0x21+-0x25f7){case-0xa47+-0x2177+0x2bbe*0x1:_0x207533['set'](_0x99000d,_0x5bde58,_0x43b1f7,_0x94b155);break;case-0x6e2+0xe32+0x1*-0x74f:_0x207533['set'](_0x94b155,_0x5bde58,_0x43b1f7,_0x99000d);break;case 0x5d3*-0x3+-0xfe9*-0x1+0x6*0x43:_0x207533['set'](_0x5bde58,_0x94b155,_0x43b1f7,_0x99000d);break;case 0x42*0x41+0x55e*0x1+0x6f*-0x33:_0x207533['set'](_0x5bde58,_0x43b1f7,_0x94b155,_0x99000d);break;}},_0x1cda52=(_0x30cb2d,_0x292493,_0xbc41ac)=>_0x30cb2d*(0x253f+-0x1*-0x12e5+-0x3823-_0xbc41ac)+_0x292493*_0xbc41ac,{chunkData:_0x5d6be4,chunkSize:_0x26e138,vertexData:_0x2b53db,shData0:_0x3d11ca,shData1:_0x2a6cbf,shData2:_0x448eaf,shBands:_0x4faf7c}=_0x56578d,_0x46c167=[-0x3*0x2ff+-0x2f5*0xc+0x4*0xb1f,0x739+0x139f*0x1+-0x1ad0,0x1884+0x4f2+-0x1d67][_0x4faf7c-(-0x73b+0x4bc+0x10*0x28)],_0x3c9976=-0x4*-0xfd+0x1*-0x12cd+-0x9*-0x1a7;this['read']=_0x1648a7=>{const _0x4b100b=Math['floor'](_0x1648a7/(0xd0b+0x1764+-0x236f))*_0x26e138;if(_0x1c5c2e&&(_0x5e709c(_0x1c5c2e,_0x2b53db[_0x1648a7*_0x3c9976+(-0xf*-0x239+0x1*0x5b4+0x7cf*-0x5)]),_0x1c5c2e['x']=_0x1cda52(_0x5d6be4[_0x4b100b+(0xe49+0x62*0x39+-0x241b)],_0x5d6be4[_0x4b100b+(-0x1bc2+-0xc81+0x2846)],_0x1c5c2e['x']),_0x1c5c2e['y']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x22b7+-0x157d+-0x1*-0x3835)],_0x5d6be4[_0x4b100b+(-0x7c1+-0x23bc+-0x2b81*-0x1)],_0x1c5c2e['y']),_0x1c5c2e['z']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x972+0x8a5*0x1+0xcf)],_0x5d6be4[_0x4b100b+(0x1124*0x1+0x1084+0x4f*-0x6d)],_0x1c5c2e['z'])),_0xe7f613&&_0x3afb23(_0xe7f613,_0x2b53db[_0x1648a7*_0x3c9976+(-0xabe+-0x6f6+-0x3*-0x5e7)]),_0x4af252&&(_0x5e709c(_0x4af252,_0x2b53db[_0x1648a7*_0x3c9976+(0x1080*-0x2+0x1*-0x29b+0x3f5*0x9)]),_0x4af252['x']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x183b*-0x1+0x359+-0x1b8e)],_0x5d6be4[_0x4b100b+(0x2617+0x1791+-0x3d9f)],_0x4af252['x']),_0x4af252['y']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x2*0xcf1+-0xdb*-0x2b+-0xae0)],_0x5d6be4[_0x4b100b+(-0x1bca+0x1559+-0x3*-0x229)],_0x4af252['y']),_0x4af252['z']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x809+-0x38d+-0xc*0x5f)],_0x5d6be4[_0x4b100b+(0x764*-0x4+0x94a+0x1451)],_0x4af252['z'])),_0x2dadc7&&(_0x46d810(_0x2dadc7,_0x2b53db[_0x1648a7*_0x3c9976+(-0x28c*0xd+-0x1*-0x19b0+0x76f)]),_0x26e138>0x10e0+-0x1*0x1a9e+0x9ca&&(_0x2dadc7['x']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x2267+-0x6*-0x4c1+-0x3ee1)],_0x5d6be4[_0x4b100b+(0x2f*0x6d+-0x144d+0x59)],_0x2dadc7['x']),_0x2dadc7['y']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x6*-0x628+0x19ec+-0x7*0x8f9)],_0x5d6be4[_0x4b100b+(-0x58+0x1*0x716+-0x6ae)],_0x2dadc7['y']),_0x2dadc7['z']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x1f*0x2b+0x125*0x5+-0xae0)],_0x5d6be4[_0x4b100b+(0x27c+-0x1*0xa5d+0xe2*0x9)],_0x2dadc7['z']))),_0x2ed7a6&&(_0x5e709c(_0x2ed7a6,_0x2b53db[_0x1648a7*_0x3c9976+(-0x147+0x17a0+-0x1655)]),_0x2ed7a6['x']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x1*0x13f3+-0x1fea*0x1+0xc09)],_0x5d6be4[_0x4b100b+(-0x1459+0xa97*-0x3+-0x7*-0x775)],_0x2ed7a6['x']),_0x2ed7a6['y']=_0x1cda52(_0x5d6be4[_0x4b100b+(-0x1919+-0x1f1d+0x1*0x3849)],_0x5d6be4[_0x4b100b+(-0x1*-0x224+0x200b+-0x2219)],_0x2ed7a6['y']),_0x2ed7a6['z']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x1*-0x6b6+-0x3b9*0x6+0x1d20)],_0x5d6be4[_0x4b100b+(-0xfb+0x5e5+-0x4d3)],_0x2ed7a6['z'])),_0x400280&&(_0x5e709c(_0x400280,_0x2b53db[_0x1648a7*_0x3c9976+(-0xb79*-0x2+-0x268c*0x1+0xf9f*0x1)]),_0x400280['x']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x2*-0x9e3+-0x5ad+0x198b)],_0x5d6be4[_0x4b100b+(0x5f*0x45+-0x576+-0x140c)],_0x400280['x']),_0x400280['y']=_0x1cda52(_0x5d6be4[_0x4b100b+(0x15fe+0x875+0x1e59*-0x1)],_0x5d6be4[_0x4b100b+(-0x17e0+-0x18e1*0x1+-0x3b*-0xd4)],_0x400280['y'])),_0x4ac07c&&_0x4faf7c>-0x1*0x1bd1+-0x311*-0x4+0xf8d){const _0x37379e=[_0x3d11ca,_0x2a6cbf,_0x448eaf];for(let _0x1d20ed=-0x57c+0xc7f+0x5*-0x167;_0x1d20ed<-0x8f*0x3+-0x2*-0xdb7+-0x19be*0x1;++_0x1d20ed)for(let _0x4895a5=-0x2512+-0x267*-0xf+0x109;_0x4895a5<0x1f36+0x5e7*0x3+-0x30dc;++_0x4895a5)_0x4ac07c[_0x1d20ed*(0x1*0x1669+0x1a8e+0x9c8*-0x5)+_0x4895a5]=_0x4895a5<_0x46c167?_0x37379e[_0x1d20ed][_0x1648a7*(-0x6ba+-0x1cfd+-0x47*-0x81)+_0x4895a5]*((0x358+0x2*-0x119b+0x1fe6)/(-0x82*-0x2c+0x1136+-0x268f))-(-0x6a6*0x4+0x1794+0x308):-0x1917+0x1*0x4d7+0x1440;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x389729,_0x4d3e07,_0x28c9ac,_0x23e545,_0x36d352,_0x4ff6b6,_0x2b91ea){return new rk(this,_0x389729,_0x4d3e07,_0x28c9ac,_0x23e545,_0x36d352,_0x4ff6b6,_0x2b91ea);}['calcAabb'](_0x3b96dd){const {chunkData:_0x3b84b2,numChunks:_0x58d9d0,chunkSize:_0x44f516}=this;let _0x286047=Math['exp'](Math['max'](_0x3b84b2[0x12b5*-0x1+0xe74+-0xb7*-0x6],_0x3b84b2[-0x2647*-0x1+0x2369+-0x49a6*0x1],_0x3b84b2[-0x2516+-0x1fe+-0x271f*-0x1])),_0x1587ab=_0x3b84b2[0xec0+-0x189e+0x9de]-_0x286047,_0x2623a4=_0x3b84b2[0x33*-0xa1+-0x18c5+0x38d9]-_0x286047,_0x2f2a86=_0x3b84b2[0x1*0x1537+-0x1*0xc56+-0x8df]-_0x286047,_0x3d7435=_0x3b84b2[0x11ef+-0x6*-0x305+-0x526*0x7]+_0x286047,_0x501393=_0x3b84b2[0x95*0x3b+-0x1*0x1985+-0x8ce]+_0x286047,_0x5d4d2c=_0x3b84b2[0x207e+-0x13e1+-0xc98]+_0x286047;for(let _0x15ae96=-0x1*-0x110+0x1fd0+0x693*-0x5;_0x15ae96<_0x58d9d0;++_0x15ae96){const _0x492ebb=_0x15ae96*_0x44f516;_0x286047=Math['exp'](Math['max'](_0x3b84b2[_0x492ebb+(0x12fd+-0x3*-0xb12+0x342a*-0x1)],_0x3b84b2[_0x492ebb+(0x217a+0x2440+-0xa*0x6f8)],_0x3b84b2[_0x492ebb+(0x7*0x593+0x8*0x1e7+0x7*-0x7be)])),_0x1587ab=Math['min'](_0x1587ab,_0x3b84b2[_0x492ebb+(0x5d6+0x5d*-0x67+-0x4d*-0x69)]-_0x286047),_0x2623a4=Math['min'](_0x2623a4,_0x3b84b2[_0x492ebb+(-0xb07+-0x111e+-0x4b1*-0x6)]-_0x286047),_0x2f2a86=Math['min'](_0x2f2a86,_0x3b84b2[_0x492ebb+(-0xf21+0xa01*-0x1+0x1924)]-_0x286047),_0x3d7435=Math['max'](_0x3d7435,_0x3b84b2[_0x492ebb+(0x1b16+0x1a3+-0x2a*0xaf)]+_0x286047),_0x501393=Math['max'](_0x501393,_0x3b84b2[_0x492ebb+(0x1831+0x2174+0x1*-0x39a1)]+_0x286047),_0x5d4d2c=Math['max'](_0x5d4d2c,_0x3b84b2[_0x492ebb+(-0x8b*-0x22+-0x760+0x1*-0xb11)]+_0x286047);}return _0x3b96dd['center']['set']((_0x1587ab+_0x3d7435)*(0x2*0x1103+0x65c*-0x6+0x17*0x2e+0.5),(_0x2623a4+_0x501393)*(-0x696*-0x2+-0x1030+0x182*0x2+0.5),(_0x2f2a86+_0x5d4d2c)*(-0x2*0xa83+-0x1b8d+0x3093+0.5)),_0x3b96dd['halfExtent'+'s']['set']((_0x3d7435-_0x1587ab)*(0x2707+0x17*0x62+-0x2fd5+0.5),(_0x501393-_0x2623a4)*(-0x1*-0x258b+0x6bc+-0x2c47+0.5),(_0x5d4d2c-_0x2f2a86)*(-0x2047+-0x1954+0x399b+0.5)),!(0x6c6+0x9dd*0x2+-0x40*0x6a);}['getCenters'](_0x1ffef4){const {vertexData:_0x3003ba,chunkData:_0x3ed4be,numChunks:_0x42116d,chunkSize:_0x22428e}=this;let _0x194ff,_0x446711,_0x276412,_0x116a9a,_0x2d2d01,_0x3dbc7c;for(let _0x2aec3d=0x9fb+0x1c4*0x12+-0x29c3*0x1;_0x2aec3d<_0x42116d;++_0x2aec3d){const _0x43b649=_0x2aec3d*_0x22428e;_0x194ff=_0x3ed4be[_0x43b649+(-0x2116+-0x1475+-0x1*-0x358b)],_0x446711=_0x3ed4be[_0x43b649+(-0x1*-0x19c7+0x6d5*0x1+-0x1*0x209b)],_0x276412=_0x3ed4be[_0x43b649+(0x1*-0x7e3+0x1*-0x1d5a+0x253f)],_0x116a9a=_0x3ed4be[_0x43b649+(-0x3*-0x826+0x1*0x222c+-0x3a9b)],_0x2d2d01=_0x3ed4be[_0x43b649+(0x1fd9+0x1e87+-0x3e5c)],_0x3dbc7c=_0x3ed4be[_0x43b649+(-0x455*0x3+0xbf2+0x112)];const _0xb51789=Math['min'](this['numSplats'],(_0x2aec3d+(-0xf23+-0x1191+0x20b5))*(-0x18a8+-0xd4b+-0x3b*-0xa9));for(let _0x42376c=_0x2aec3d*(0x5*-0x235+-0x2577+-0x480*-0xb);_0x42376c<_0xb51789;++_0x42376c){const _0x5f2952=_0x3003ba[_0x42376c*(0xedb*0x1+0xd25+-0x1bfc)],_0x4b76c3=(_0x5f2952>>>-0x27a+-0x1*-0x26ba+-0x242b)/(-0x2*0xd45+-0x27a*0x4+-0x2c71*-0x1),_0x24c36e=(_0x5f2952>>>0x1*-0x191+0x15ff+-0x11*0x133&-0x12a*-0x6+-0x3*-0x4cd+0xd4*-0x15)/(0x19cd*0x1+0x13dc+-0x29aa),_0x4f0612=(_0x5f2952&-0x4c*-0x38+-0x6*-0x481+0x23a7*-0x1)/(0xd3*-0x21+0xb81+0x17b1);_0x1ffef4[_0x42376c*(0xc2f*0x2+-0x9d*-0x17+0x3*-0xcd2)+(-0x2d2+-0x1f90+0x2262)]=(0x11*0x20b+-0x326+0x5e*-0x56-_0x4b76c3)*_0x194ff+_0x4b76c3*_0x116a9a,_0x1ffef4[_0x42376c*(-0xd*-0x2c5+-0x1bb*-0xa+-0x354c)+(-0xa94+-0x1ff8+0x2a8d)]=(-0x1*0xa31+-0x3*0xa09+0xb5*0x39-_0x24c36e)*_0x446711+_0x24c36e*_0x2d2d01,_0x1ffef4[_0x42376c*(-0x218f+0x3*0xac3+-0x1*-0x149)+(-0x5ce+-0x585*0x1+0xb55)]=(-0x175d+0x126*0xe+0x74a-_0x4f0612)*_0x276412+_0x4f0612*_0x3dbc7c;}}}['getChunks'](_0x1bebc9){const {chunkData:_0x5855a4,numChunks:_0x3d4199,chunkSize:_0x323120}=this;let _0x40ee96,_0xa80392,_0x4d4ff9,_0x467a93,_0x2b65f9,_0x4c5758;for(let _0x527faf=-0x3e7+0xfbb+0x5ea*-0x2;_0x527faf<_0x3d4199;++_0x527faf){const _0x27c61a=_0x527faf*_0x323120;_0x40ee96=_0x5855a4[_0x27c61a+(-0x24*0x58+-0x15a0+0x10*0x220)],_0xa80392=_0x5855a4[_0x27c61a+(0x1466*0x1+-0x955*-0x3+0x3064*-0x1)],_0x4d4ff9=_0x5855a4[_0x27c61a+(-0x7f1*-0x4+-0x1a51+0x7*-0xc7)],_0x467a93=_0x5855a4[_0x27c61a+(0x633*0x1+0xbbb+-0x11eb)],_0x2b65f9=_0x5855a4[_0x27c61a+(-0x511+0x18fd+0x2d8*-0x7)],_0x4c5758=_0x5855a4[_0x27c61a+(0x1d*0x112+0xe*0x1c8+-0x37f5)],_0x1bebc9[_0x527faf*(0x1525+-0xaa2*-0x2+0xe21*-0x3)+(0x1172+-0xf82+-0x1f0*0x1)]=_0x40ee96,_0x1bebc9[_0x527faf*(-0x628+-0x1d65+-0x2393*-0x1)+(-0x22e4+0x2*-0xe71+0x3fc7)]=_0xa80392,_0x1bebc9[_0x527faf*(-0x17b7*0x1+-0x3fc+0x1bb9*0x1)+(0x6e7+-0x22*0x2+-0x1*0x6a1)]=_0x4d4ff9,_0x1bebc9[_0x527faf*(0x1c63+0x1e4a+0x1ad*-0x23)+(-0x1798+0x5*0x6d+0x2*0xabd)]=_0x467a93,_0x1bebc9[_0x527faf*(0x2*0x50e+0x5a7*-0x2+0x138)+(0x2ba+0x22de+0x3c2*-0xa)]=_0x2b65f9,_0x1bebc9[_0x527faf*(-0x1b45+0x1d*-0x87+-0x8a*-0x4f)+(0x5*-0x77b+0x1f6d+-0x1*-0x5ff)]=_0x4c5758;}}['calcFocalP'+'oint'](_0x2f2f19){const {chunkData:_0x2be60d,numChunks:_0x54157c,chunkSize:_0xc3273c}=this;_0x2f2f19['x']=-0x181d+0x135b+0x4c2,_0x2f2f19['y']=0x1*0x1c8f+-0x257b+-0x23b*-0x4,_0x2f2f19['z']=-0x1583+0x496*0x2+0xc57;for(let _0x2cf77c=-0x4*0x17d+-0xdf6+-0x1*-0x13ea;_0x2cf77c<_0x54157c;++_0x2cf77c){const _0x1a8a3e=_0x2cf77c*_0xc3273c;_0x2f2f19['x']+=_0x2be60d[_0x1a8a3e+(0x28b+0x4b0+-0x73b)]+_0x2be60d[_0x1a8a3e+(-0xcf*-0x1+-0x12d7+0x1*0x120b)],_0x2f2f19['y']+=_0x2be60d[_0x1a8a3e+(0x1*-0x1661+-0x895+0x1*0x1ef7)]+_0x2be60d[_0x1a8a3e+(-0x3b3*-0x4+0x1b8+-0x420*0x4)],_0x2f2f19['z']+=_0x2be60d[_0x1a8a3e+(-0x260e+-0xd01+-0x301*-0x11)]+_0x2be60d[_0x1a8a3e+(-0x1103+-0x1*0x68e+-0xbcb*-0x2)];}_0x2f2f19['mulScalar']((0x7*0x2f9+0x24e9+0x4*-0xe6e+0.5)/_0x54157c);}get['isCompress'+'ed'](){return!(0x4be*0x7+-0x1d7*-0x12+0x1*-0x4250);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x7cf*0x2+-0x5*-0x135+0x137*-0x11));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x62fe71=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0xbde49e}=this;if(_0xbde49e>-0x90a+-0x26bd+0x2fc7){const _0x27fa8f=[];for(let _0x45bde4=-0xd5a*0x2+0x3*0xa49+0x427*-0x1;_0x45bde4<0xd2f+0xb75*-0x3+0x1*0x155d;++_0x45bde4)_0x27fa8f['push']('f_rest_'+_0x45bde4);_0x62fe71['splice'](_0x62fe71['indexOf']('f_dc_0')+(-0x8*0x256+0x2*0xcbe+-0x6cb),0x11*-0xb1+0x1*-0x1f01+0x2*0x1561,..._0x27fa8f);}const _0x52bd60=new ik();return _0x52bd60['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x10c4cf,_0x1673d2)=>{_0x52bd60['on']('decompress'+'ed',_0x2ac0f7=>{_0x52bd60['destroy'](),_0x10c4cf(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x62fe71['map'](_0x3b1e3e=>({'type':'float','name':_0x3b1e3e,'storage':_0x2ac0f7[_0x3b1e3e],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x4a19ba='super4d-ca'+'che-v1',_0x293987={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0xe9c871=new Uint8Array([0x1769*-0x1+-0x1*0xcc9+0x24a2,0x1*-0x207+0x26*0xb3+-0x181f,-0x13+0xa97+-0x359*0x3,-0x2*-0xacd+-0x80*-0x35+0x602*-0x8]),_0x38e9f1=new Uint8Array([-0x41*-0x81+0x16f8+0x1*-0x37af,0x4*-0x647+-0x1*-0x6ff+0x1282,-0x1*0x6b1+-0x40c+-0x3*-0x3b9,0x2*-0xa27+-0xa0b+-0x81*-0x3d,0x44*-0x1+-0xdf3+0x1*0xe96,0xb*0xb+-0xd7d*-0x1+-0xd8e,-0xc0b+-0x3aa*-0x3+0xb9*0x2,0xd3b*-0x1+-0x4*-0x17f+0x7a0,0x1e1a*0x1+-0x127*-0x19+0x47*-0xd3,-0x25c0+0x4c9+0x215c,-0x1008+-0x83*0x23+-0x1*-0x2263,0xe07+-0x25b5+0x17b8]),_0x1c539e=0x1a0*-0xe+-0x1b69+0x1*0x3229+0.28209479177387814,_0x5f0a24=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x183094{constructor(_0x25eedf={}){this['options']={..._0x293987,..._0x25eedf},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x71*-0xd+0x20c6+-0x2683,this['initialize'+'d']=!(-0x11b3+-0x20*-0xf3+0xcac*-0x1);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x4a19ba);const _0x22e2b5=await this['cache']['keys'](),_0x2736b9=[];for(const _0x52d2cf of _0x22e2b5){const _0xb3120e=_0x52d2cf['url'],_0xa55d26=await this['cache']['match'](_0xb3120e);if(_0xa55d26){const _0x5010b4=(await _0xa55d26['blob']())['size'],_0x1e3e26=_0xa55d26['headers']['get']('x-cache-ti'+'me');_0x1e3e26&&_0x2736b9['push']({'url':_0xb3120e,'size':_0x5010b4,'cacheTime':parseInt(_0x1e3e26)});}}_0x2736b9['sort']((_0x4cdb7c,_0xacd74d)=>_0x4cdb7c['cacheTime']-_0xacd74d['cacheTime']);for(const _0x1bec96 of _0x2736b9)this['cacheSizes']['set'](_0x1bec96['url'],_0x1bec96['size']),this['currentSiz'+'e']+=_0x1bec96['size'],this['lruList']['push'](_0x1bec96['url']);}catch(_0x771690){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x771690);}this['initialize'+'d']=!(-0x1*0x12e7+-0x12cc+0xc91*0x3);}}async['get'](_0x462100){if(await this['init'](),!this['cache'])return null;try{const _0x1b7c6a=await this['cache']['match'](_0x462100);if(!_0x1b7c6a)return null;const _0x425c8b=_0x1b7c6a['headers']['get']('x-cache-ti'+'me');return _0x425c8b&&Date['now']()-parseInt(_0x425c8b)>this['options']['maxAge']?(await this['delete'](_0x462100),null):(this['updateLRU'](_0x462100),_0x1b7c6a);}catch{return null;}}async['set'](_0x45a1dc,_0x19e5c5){if(!(!this['cache']||_0x45a1dc['startsWith']('blob:')))try{const _0x3c3e7f=_0x19e5c5['clone'](),_0x5b247c=await _0x3c3e7f['blob'](),_0x435e10=_0x5b247c['size'];this['currentSiz'+'e']+_0x435e10>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x435e10);const _0x302d75=new Headers(_0x3c3e7f['headers']);_0x302d75['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x433dc2=new Response(_0x5b247c,{'status':_0x3c3e7f['status'],'statusText':_0x3c3e7f['statusText'],'headers':_0x302d75});await this['cache']['put'](_0x45a1dc,_0x433dc2),this['cacheSizes']['set'](_0x45a1dc,_0x435e10),this['currentSiz'+'e']+=_0x435e10,this['updateLRU'](_0x45a1dc);}catch(_0x491c38){console['error']('Cache\x20set\x20'+'error:',_0x491c38);}}['updateLRU'](_0x3173ba){const _0x4c724f=this['lruList']['indexOf'](_0x3173ba);_0x4c724f>-(-0x3be+0xba8+-0x7e9)&&this['lruList']['splice'](_0x4c724f,0x3c+0xcd4+0x1*-0xd0f),this['lruList']['push'](_0x3173ba);}async['cleanupSpa'+'ce'](_0x4be0e3){const _0x2ef788=this['options']['maxSize']*(-0x1113+0xd6f+0x3a4+0.9);if(!(this['currentSiz'+'e']<=_0x2ef788))for(;this['lruList']['length']>0x1493+0x18d9*-0x1+0x446&&this['currentSiz'+'e']>_0x2ef788;){const _0x4d8168=this['lruList']['shift']();_0x4d8168&&await this['delete'](_0x4d8168);}}async['delete'](_0x458996){if(this['cache'])try{await this['cache']['delete'](_0x458996);const _0x1a5d01=this['cacheSizes']['get'](_0x458996)||0x409*-0x7+0x950+0x12ef;this['currentSiz'+'e']-=_0x1a5d01,this['cacheSizes']['delete'](_0x458996);const _0x172298=this['lruList']['indexOf'](_0x458996);_0x172298>-(-0xc31*0x3+0x31d*-0x1+0x27b1)&&this['lruList']['splice'](_0x172298,-0x6*0x3b9+-0x9de+0x2035);}catch(_0x2eaf70){console['error']('Cache\x20dele'+'te\x20error:',_0x2eaf70);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x4882a0=>Promise['all'](_0x4882a0['map'](_0xbaa505=>{var _0x5efc9c;return(_0x5efc9c=this['cache'])==null?void(0x1cbb+0x2d3*-0xb+-0x2*-0x12b):_0x5efc9c['delete'](_0xbaa505);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x73*-0x4+0xce0*0x2+-0x17f4;}catch(_0xa83d1d){console['error']('Cache\x20clea'+'r\x20error:',_0xa83d1d);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x8*-0x346+-0x816+0x2246;}}class _0x1c03db{constructor(_0x553564=[],_0x26d3ba={}){this['cacheManag'+'er']=new _0x183094(_0x26d3ba['cache']),this['retryCount']=_0x26d3ba['retryCount']||-0x68e+-0x1d51*-0x1+-0x16c0,this['retryDelay']=_0x26d3ba['retryDelay']||0xc*0x11+0xd8a*-0x1+0xd1*0x12,this['maxConcurr'+'ency']=_0x26d3ba['maxConcurr'+'ency']||0x1ae7+-0x1*-0xc7d+-0x2762,this['downloadQu'+'eue']=_0x553564,this['isProcessi'+'ngDownload'+'Queue']=!(-0x25b1+-0x1*0x2a3+0x2855),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0xdfd+0xe89+-0x1*0x8c);this['downloadQu'+'eue']['length']>-0xcd1*0x3+0x1d23+0x12a*0x8;)try{const _0x27902a=this['downloadQu'+'eue']['splice'](-0x1401+0x124b+-0x49*-0x6,this['maxConcurr'+'ency'])['map'](_0xeafce=>{if(!this['pendingRes'+'ponses']['has'](_0xeafce)){const _0x10d089=this['download'](_0xeafce);return this['pendingRes'+'ponses']['set'](_0xeafce,_0x10d089),_0x10d089['then'](()=>{this['pendingRes'+'ponses']['delete'](_0xeafce);});}return Promise['resolve']();});await Promise['all'](_0x27902a);}catch(_0x37a38f){console['error']('Download\x20e'+'rror:',_0x37a38f);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x2687+0x1838+-0x1*-0xe50);}}}async['fetch'](_0x267d2c,_0x165c9c={}){if(this['pendingRes'+'ponses']['has'](_0x267d2c))return this['pendingRes'+'ponses']['get'](_0x267d2c);const {forceRefresh:_0x22e9ea=!(0x26*-0x16+0x691+-0x1*0x34c),..._0x3de9ee}=_0x165c9c;this['pendingRes'+'ponses']['set'](_0x267d2c,this['download'](_0x267d2c,_0x3de9ee));const _0x2d8103=await this['pendingRes'+'ponses']['get'](_0x267d2c);return this['pendingRes'+'ponses']['delete'](_0x267d2c),_0x2d8103;}async['download'](_0x1dce4e,_0x521357={}){var _0x28e843;await((_0x28e843=this['cacheManag'+'er'])==null?void(0x8f9+-0x79*-0x13+0x17f*-0xc):_0x28e843['init']());const {forceRefresh:_0x1936fb=!(0x131c+0x84b+0x15*-0x14e),..._0x53957d}=_0x521357;_0x1936fb&&await this['cacheManag'+'er']['delete'](_0x1dce4e);const _0x24253e=await this['cacheManag'+'er']['get'](_0x1dce4e);if(_0x24253e)return _0x24253e;let _0x2bae23;for(let _0x116e54=-0x9*0x29e+0xa8b*0x1+-0x1*-0xd03;_0x116e54<this['retryCount'];_0x116e54++)try{const _0x4fb926=await fetch(_0x1dce4e,_0x53957d);if(!_0x4fb926['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4fb926['status']);return await this['cacheManag'+'er']['set'](_0x1dce4e,_0x4fb926),_0x4fb926;}catch(_0xecd712){console['error']('Download\x20e'+'rror:',_0xecd712),_0x2bae23=_0xecd712,_0x116e54<this['retryCount']-(-0x1827+0x2308+-0xae0)&&await new Promise(_0x218d87=>setTimeout(_0x218d87,this['retryDelay']*(_0x116e54+(-0x26b5+-0x1508+0x3bbe))));}throw _0x2bae23;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1b05+-0x1*0x2459+-0x1*-0x955),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x4f5878{constructor(){this['numSplats']=-0xbcc+0x135+0xa97,this['comments']=[],this['chunkData']=new Float32Array(0x1af7+0xd*0x11d+-0x2970),this['vertexData']=new Uint32Array(0x1fd+-0x15a9+0x4eb*0x4),this['is4D']=!(-0x20d1+0x15c3+0xb0e),this['shBands']=-0x17ba+0x57f+0x167*0xd,this['shData0']=new Uint8Array(0x487+-0x17b+-0x30c),this['shData1']=new Uint8Array(-0xb5*-0xf+0x29*-0xc1+0x144e),this['shData2']=new Uint8Array(0x1*0x512+-0x719+0x207),this['elements']=[],this['isCompress'+'ed']=!(0xe57*0x1+0x22d+-0x1084);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x3*-0x9ed+0x15f8+-0x32bf));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x4f6e74{constructor(_0xbfc025,_0x4e3d4e=[]){this['elements']=_0xbfc025,this['comments']=_0x4e3d4e,this['isCompress'+'ed']=!(0xb9b*0x3+-0x1ae3+-0x7ed);}}class _0x1bca1d{constructor(_0xfc13de,_0x4f634){this['reader']=_0xfc13de,this['progressFu'+'nc']=_0x4f634,this['head']=-0x4*-0x742+0x48*0x4+0xa*-0x304,this['tail']=0xaf6*-0x1+-0x1*-0x24ac+0x2*-0xcdb;}async['read'](){var _0x446046;const {value:_0x3a15b2,done:_0x370752}=await this['reader']['read']();if(_0x370752)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x3a15b2),(_0x446046=this['progressFu'+'nc'])==null||_0x446046['call'](this,_0x3a15b2['byteLength']);}['push'](_0x2dd58e){if(!this['data'])this['data']=_0x2dd58e,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x2dd58e['length'];else{const _0x34acf6=this['tail']-this['head'],_0x12f0c9=_0x34acf6+_0x2dd58e['length'];if(this['data']['length']>=_0x12f0c9)this['head']>0x2*0xf0b+0x215*-0x10+0x33a?(this['data']['copyWithin'](-0x203*-0xc+-0x24be+-0x64d*-0x2,this['head'],this['tail']),this['data']['set'](_0x2dd58e,_0x34acf6),this['head']=0x25f2*0x1+-0xba6+-0x693*0x4,this['tail']=_0x12f0c9):(this['data']['set'](_0x2dd58e,this['tail']),this['tail']+=_0x2dd58e['length']);else{const _0x22661a=new Uint8Array(_0x12f0c9);this['head']>-0x1*-0x16d8+-0x3*0x4eb+-0x6d*0x13||this['tail']<this['data']['length']?_0x22661a['set'](this['data']['subarray'](this['head'],this['tail']),0x398+-0x968+0x5d0*0x1):_0x22661a['set'](this['data'],0xc6+0x218e+-0x2254),_0x22661a['set'](_0x2dd58e,_0x34acf6),this['data']=_0x22661a,this['view']=new DataView(this['data']['buffer']),this['head']=-0x7b7*0x1+-0x10e*0x7+0x1*0xf19,this['tail']=_0x12f0c9;}}}['compact'](){this['head']>-0x2cf*0xb+-0x32b*-0x3+0x1564&&(this['data']['copyWithin'](-0x930+0xeab*0x1+-0x57b,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x989+-0x2fa*0xb+-0x4f*-0x89);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x3da51b=this['view']['getInt8'](this['head']);return this['head']++,_0x3da51b;}['getUint8'](){const _0x203a77=this['view']['getUint8'](this['head']);return this['head']++,_0x203a77;}['getInt16'](){const _0x53fd91=this['view']['getInt16'](this['head'],!(-0x18b8+0x74c+0x116c));return this['head']+=-0x12ec+-0x13b6+0x26a4,_0x53fd91;}['getUint16'](){const _0xe24a97=this['view']['getUint16'](this['head'],!(0x1451+0x26c4+-0x55f*0xb));return this['head']+=0x21b+0x7d*-0x13+0x72e,_0xe24a97;}['getInt32'](){const _0x529336=this['view']['getInt32'](this['head'],!(-0x14b9+0x727+0xd92));return this['head']+=-0xe8a+-0x1e20+0x2cae,_0x529336;}['getUint32'](){const _0x46ab76=this['view']['getUint32'](this['head'],!(0x475+-0x1f6b+0x1af6));return this['head']+=0x2*-0x481+0xcb4+-0x3ae,_0x46ab76;}['getFloat32'](){const _0x213846=this['view']['getFloat32'](this['head'],!(0x133f+-0x1175+0xe5*-0x2));return this['head']+=-0xb09+0x502*-0x3+0x1bd*0xf,_0x213846;}['getFloat64'](){const _0x429459=this['view']['getFloat64'](this['head'],!(-0x1a70+0x1710+0x360));return this['head']+=0x87*0x1a+0x11*-0xe5+0x187,_0x429459;}}class _0x437cc6{constructor(_0x158b56,_0x3c3db4,_0x2c91d1){this['x']=_0x158b56,this['y']=_0x3c3db4,this['z']=_0x2c91d1;}}class _0x6ec374{constructor(_0x8260e8,_0x575fcb,_0x22ab7e,_0x533545){this['x']=_0x8260e8,this['y']=_0x575fcb,this['z']=_0x22ab7e,this['w']=_0x533545;}}class _0x42210d{constructor(_0x33a559,_0x3f9374,_0xadeca3,_0x455f32){this['x']=_0x33a559,this['y']=_0x3f9374,this['z']=_0xadeca3,this['w']=_0x455f32;}['set'](_0x22f4ea,_0x38f73e,_0x3fbaee,_0x100091){this['x']=_0x22f4ea,this['y']=_0x38f73e,this['z']=_0x3fbaee,this['w']=_0x100091;}}class _0x1295f3{constructor(_0x40dda5,_0x150c35,_0x42bbad,_0x4474a0,_0x1b0403,_0x3ef2dd,_0x21c8ff,_0xe4bac1,_0x2d219a,_0x1f4f20,_0x5cb32a,_0x1f9984,_0x24145b,_0x2fbe85){const _0x1bb29b=(_0x28aa98,_0x4074a5)=>{const _0x15cb3a=(0x4*-0x333+0x1733+-0xa66<<_0x4074a5)-(0x1*-0x6cd+-0xec8+-0x12*-0x133);return(_0x28aa98&_0x15cb3a)/_0x15cb3a;},_0x22efc8=(_0x21340b,_0x7f9b6b)=>{_0x21340b['x']=_0x1bb29b(_0x7f9b6b>>>0x1d5e+-0xb49*0x3+0x492,0x25bb+0x1*-0x14b5+-0x10fb),_0x21340b['y']=_0x1bb29b(_0x7f9b6b>>>-0x52*0x1a+-0x9*-0x255+-0x55*0x26,-0x1129+0x21e0+-0x10ad),_0x21340b['z']=_0x1bb29b(_0x7f9b6b,0x6a*-0x43+-0x2*0x876+-0xee7*-0x3);},_0x10c369=(_0x298fe6,_0x4dcb92)=>{_0x298fe6['x']=_0x1bb29b(_0x4dcb92>>>-0x3d*0x4a+0x1ec3+-0xd09*0x1,-0x9cd*0x2+-0xdf*0x4+0xb*0x21a),_0x298fe6['y']=_0x1bb29b(_0x4dcb92>>>-0x204f+0x1*-0x22a6+-0x15*-0x331,-0x1b*0xef+-0x265*0x2+0x1e07*0x1),_0x298fe6['z']=_0x1bb29b(_0x4dcb92>>>0x250*-0xf+-0x21a7+0x445f,0xb49+0x128*0xf+0x1c99*-0x1),_0x298fe6['w']=_0x1bb29b(_0x4dcb92,0x2*0x1a7+0x104c+-0x1*0x1392);},_0xb0d9c2=(_0x854cf4,_0x3dcdea)=>{const _0x400271=(-0x2*0xf40+0x1*-0xb4e+-0x4d*-0x8b)/(Math['sqrt'](0x6d*0x9+0x10*-0x23d+0x1ffd)*(0x50c+0x7bf+-0xccb+0.5)),_0xa9dcf2=(_0x1bb29b(_0x3dcdea>>>-0x187*-0x3+-0x4ae*-0x4+0x29*-0x91,0x185a+-0x1087+-0x7c9)-(0x2230+-0x1bfe+-0x3d*0x1a+0.5))*_0x400271,_0x23ee6a=(_0x1bb29b(_0x3dcdea>>>-0x135*-0x4+-0x1cf*0x8+0x19d*0x6,0x12a*-0x6+-0x1401+-0x197*-0x11)-(0x1*-0x72d+-0x1ae4+0x2211+0.5))*_0x400271,_0x247dc2=(_0x1bb29b(_0x3dcdea,-0x23f+0x24db+-0x2292)-(-0xdd*-0x25+0x2367+-0x4358+0.5))*_0x400271,_0x363c77=Math['sqrt'](0x1*0x24a1+0x1099+-0x3539-(_0xa9dcf2*_0xa9dcf2+_0x23ee6a*_0x23ee6a+_0x247dc2*_0x247dc2));switch(_0x3dcdea>>>-0x1*-0x23ab+0x876*0x1+-0x2c03){case 0xb73*0x1+0x52c+-0x109f:_0x854cf4['set'](_0xa9dcf2,_0x23ee6a,_0x247dc2,_0x363c77);break;case-0x49*-0x47+0xd6+-0x26*0x8e:_0x854cf4['set'](_0x363c77,_0x23ee6a,_0x247dc2,_0xa9dcf2);break;case 0x2528+-0x146*-0x3+-0xe4*0x2e:_0x854cf4['set'](_0x23ee6a,_0x363c77,_0x247dc2,_0xa9dcf2);break;case 0xac+-0x23c1+0x2318:_0x854cf4['set'](_0x23ee6a,_0x247dc2,_0x363c77,_0xa9dcf2);break;}},_0x4f3cf2=(_0x22583a,_0x3d86cb,_0x3770f2)=>_0x22583a*(0x25fb+-0x95*-0x36+-0x4568-_0x3770f2)+_0x3d86cb*_0x3770f2,_0x37560a=[-0x22aa+-0x164*-0xe+0xf35,0x25f3+0x1a81+-0x364*0x13,0xf03+-0x4*0x74f+0xe48][_0x21c8ff-(-0xdf5+-0xde*-0x3+0xb5c)],_0x3b56c7=0x3*-0xb8a+0x56d+-0x33f*-0x9;this['read']=_0x172667=>{const _0xfcfeeb=Math['floor'](_0x172667/(0x2439+0x1*0x17c0+-0x3af9))*_0x150c35;if(_0xe4bac1&&(_0x22efc8(_0xe4bac1,_0x42bbad[_0x172667*_0x3b56c7+(0xeb8+0x1*-0x12b2+0x3fa)]),_0xe4bac1['x']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0xb04+-0x135c+0x1e60)],_0x40dda5[_0xfcfeeb+(-0xee2+-0x1dee+0x2cd3)],_0xe4bac1['x']),_0xe4bac1['y']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x1c3d*-0x1+-0x379*-0x4+-0x2a20)],_0x40dda5[_0xfcfeeb+(-0x41e+0x2*0x107a+-0x1cd2)],_0xe4bac1['y']),_0xe4bac1['z']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x14ad+-0x226*-0xd+-0x73f)],_0x40dda5[_0xfcfeeb+(0x1*-0x23cf+-0x5f2+0x29c6)],_0xe4bac1['z'])),_0x2d219a&&_0xb0d9c2(_0x2d219a,_0x42bbad[_0x172667*_0x3b56c7+(-0x32*0xaf+-0x9*0xe9+0x2a60)]),_0x1f4f20&&(_0x22efc8(_0x1f4f20,_0x42bbad[_0x172667*_0x3b56c7+(0x2*-0x865+0xdb7+-0x3*-0x107)]),_0x1f4f20['x']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0x1fb6+-0x19*-0xad+-0x1*0x3095)],_0x40dda5[_0xfcfeeb+(-0x22f+-0x1ecb+0x3ab*0x9)],_0x1f4f20['x']),_0x1f4f20['y']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0x2*-0xd8e+0x1a02+0x121)],_0x40dda5[_0xfcfeeb+(0x2218*-0x1+-0x10f7*0x1+0x1*0x3319)],_0x1f4f20['y']),_0x1f4f20['z']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x1f91+0x1cb4+0xd*0x39)],_0x40dda5[_0xfcfeeb+(0x7*-0x22+0xfa7+-0xeae)],_0x1f4f20['z'])),_0x5cb32a&&(_0x10c369(_0x5cb32a,_0x42bbad[_0x172667*_0x3b56c7+(0x2cc*-0xb+0x12*-0x1b7+0x1*0x3da5)]),_0x150c35>-0x13a6+0x1*-0x1c0f+-0x4b*-0xa3&&(_0x5cb32a['x']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x8a0+-0x8fb+0x11a7)],_0x40dda5[_0xfcfeeb+(-0x1d72+0x60d*0x6+-0x6cd)],_0x5cb32a['x']),_0x5cb32a['y']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0x85b+-0x130f+0xac1)],_0x40dda5[_0xfcfeeb+(-0x1224+-0x2a5*0x1+0x14d9)],_0x5cb32a['y']),_0x5cb32a['z']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x175e+-0x8a8+0x2014)],_0x40dda5[_0xfcfeeb+(-0x1*0x158d+0x32f*-0x8+-0x126*-0x29)],_0x5cb32a['z']))),_0x1f9984&&(_0x22efc8(_0x1f9984,_0x42bbad[_0x172667*_0x3b56c7+(0x13*-0x8d+-0x1*0x1c87+0x2702)]),_0x1f9984['x']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x1945*-0x1+-0xe19+-0xb1a)],_0x40dda5[_0xfcfeeb+(0x1*0xd2d+-0x873+-0x4a5)],_0x1f9984['x']),_0x1f9984['y']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0x21d7*-0x1+-0x883+0x1*0x2a6d)],_0x40dda5[_0xfcfeeb+(0x47e*-0x3+-0x7*-0x2d3+-0xe3*0x7)],_0x1f9984['y']),_0x1f9984['z']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0x78b*0x3+0x559*-0x7+-0x1*-0xee2)],_0x40dda5[_0xfcfeeb+(0x1f*-0x13d+0x1*0x1529+0x1151)],_0x1f9984['z'])),_0x24145b&&(_0x22efc8(_0x24145b,_0x42bbad[_0x172667*_0x3b56c7+(-0x1cd*-0x4+-0x1ab+-0x584)]),_0x24145b['x']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(-0x1c98+0x1bae+0x1*0x102)],_0x40dda5[_0xfcfeeb+(-0x18*-0xbf+0x653+-0xc11*0x2)],_0x24145b['x']),_0x24145b['y']=_0x4f3cf2(_0x40dda5[_0xfcfeeb+(0xe3c+-0x1*-0x76+-0x1*0xe98)],_0x40dda5[_0xfcfeeb+(-0x14*0x14e+0x36*-0x12+-0x1dff*-0x1)],_0x24145b['y'])),_0x2fbe85&&_0x21c8ff>0xe*0x234+0x75e+-0x2636*0x1){const _0x41ae76=[_0x4474a0,_0x1b0403,_0x3ef2dd];for(let _0x53b2ff=0x8c4+0x1ca2+-0x2*0x12b3;_0x53b2ff<0x1*-0x2203+0xb42+0x2f*0x7c;++_0x53b2ff)for(let _0x2708b2=-0x18*-0x10+0x5*-0xd3+-0x29f*-0x1;_0x2708b2<-0x19*-0x1f+0x269f*-0x1+-0x23a7*-0x1;++_0x2708b2)_0x2fbe85[_0x53b2ff*(0xee1+-0x9a7+0x9*-0x93)+_0x2708b2]=_0x2708b2<_0x37560a?_0x41ae76[_0x53b2ff][_0x172667*(-0xc61+-0x714+0x1385)+_0x2708b2]*((-0x1b15+-0x67*0x16+0x23f7)/(-0x5*-0x119+0x1a60+-0x1ede))-(0xb0+0x1*0x1095+-0x7*0x277):0x1d02+0x10*-0x200+0x2fe;}};}}self['onmessage']=async _0x341bc5=>{var _0x57ab7e,_0xe705fc,_0x5867b9;const {data:_0x85330b}=_0x341bc5;switch(_0x85330b['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x85330b['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x1c03db(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x57ab7e=globalThis['fetchWorke'+'r'])==null||_0x57ab7e['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x2f3dc1,decompress:_0x804b9}=_0x85330b;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x1c03db(globalThis['loadUrlLis'+'t']));const _0x315e78=await globalThis['fetchWorke'+'r']['fetch'](_0x2f3dc1);if(!_0x315e78||!_0x315e78['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x2f3dc1});else{const _0x5e40c7=parseInt(_0x315e78['headers']['get']('content-le'+'ngth')??'0',0x599*0x4+0x1c00+0x5*-0xa12);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x5e40c7,'bytes':0x0,'url':_0x2f3dc1});let _0x236156=await _0x5e1044(_0x315e78['body']['getReader'](),_0x1272ce=>{self['postMessag'+'e']({'type':'progress','bytes':_0x1272ce,'totalLength':_0x5e40c7,'url':_0x2f3dc1});});if(_0x804b9&&_0x236156['isCompress'+'ed']){const _0x27afc4=_0xde32a1(_0x236156),_0x3f0f91=(_0xe705fc=_0x27afc4==null?void(0x257*0x5+0x19b7+-0x12b5*0x2):_0x27afc4['elements'][-0x1264+0x1330+-0xcc])==null?void(0x6f*0x52+-0x6a9+-0x1ce5*0x1):_0xe705fc['properties']['map'](_0x41c491=>_0x41c491['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x27afc4,'url':_0x2f3dc1},_0x3f0f91);}else{if(_0x236156['isCompress'+'ed']){const _0x5eaad0=['chunkData','vertexData'];_0x236156['shData0']&&_0x5eaad0['push']('shData0','shData1','shData2');const _0x4fc1e2=_0x5eaad0['map'](_0x45a265=>{var _0x3f5bf2;return(_0x3f5bf2=_0x236156[_0x45a265])==null?void(0x8a4+0xa62+-0x1306):_0x3f5bf2['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x236156,'url':_0x2f3dc1},_0x4fc1e2);}else{_0x236156=_0x5ec76e(_0x236156);const _0x4e0068=(_0x5867b9=_0x236156==null?void(0xa*0x3d7+-0x1060*0x2+-0x1*0x5a6):_0x236156['elements'][0x1*-0x1d11+-0x1d47*-0x1+-0x36])==null?void(0x2103+0x1bb+-0x22be*0x1):_0x5867b9['properties']['map'](_0x2e6910=>_0x2e6910['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x236156,'url':_0x2f3dc1},_0x4e0068);}}}}catch(_0x496309){self['postMessag'+'e']({'type':'error','data':_0x496309['message'],'url':_0x2f3dc1});}break;}};const _0x5ec76e=_0x4aa435=>{var _0x7657ee;const _0x3eeeb5=(_0x7657ee=_0x4aa435==null?void(0xffd+0x1*0xe4d+-0x1e4a):_0x4aa435['elements'][0x390+-0x15*0x15+-0x1d7])==null?void(0x1*-0xedb+-0x3e0+-0x12bb*-0x1):_0x7657ee['properties']['find'](_0x816a68=>_0x816a68['name']==='opacity');if(_0x3eeeb5){for(let _0x148f2f=0x396+0x12e2+-0x1678;_0x148f2f<_0x3eeeb5['storage']['length'];_0x148f2f++)_0x3eeeb5['storage'][_0x148f2f]=(-0x35b*-0x3+-0x1986+0xf76*0x1)/(0x1a4c+0x19c9+0x42*-0xca+Math['exp'](-_0x3eeeb5['storage'][_0x148f2f]));}return _0x4aa435;},_0x1a98c4=_0x5cd8fb=>{const _0x36e7d3=[],_0x465f89=[];let _0x1bafcb;for(let _0x53e55d=-0x247f*0x1+-0x1d8c+-0xc*-0x581;_0x53e55d<_0x5cd8fb['length'];++_0x53e55d){const _0x325d63=_0x5cd8fb[_0x53e55d]['split']('\x20');switch(_0x325d63[0xd83+0x41f+-0x11a2]){case'comment':_0x465f89['push'](_0x325d63['slice'](-0x1*-0x15a7+-0x182e+0x288)['join']('\x20'));break;case'format':_0x1bafcb=_0x325d63[0x25e2+0x3*-0xca6+-0x1*-0x11];break;case'element':_0x36e7d3['push']({'name':_0x325d63[-0xe4b+-0xa7*0x1a+0x1f42],'count':parseInt(_0x325d63[0x3*-0x665+0x1726*-0x1+0x2a57*0x1],0x154f*-0x1+0x55d*0x5+-0x578),'properties':[]});break;case'property':{if(!_0x5f0a24['has'](_0x325d63[-0x1f29+0x102d*-0x1+0x1*0x2f57]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x325d63[-0x329+-0x2*-0x90f+-0xef4]+('\x27\x20in\x20ply\x20h'+'eader'));_0x36e7d3[_0x36e7d3['length']-(-0xe6*0x17+0x1*0x25ea+0x5*-0x373)]['properties']['push']({'type':_0x325d63[-0x995*-0x2+0x1baf*-0x1+0x443*0x2],'name':_0x325d63[-0x92+-0x5eb+0x67f*0x1],'storage':null,'byteSize':_0x5f0a24['get'](_0x325d63[0x16d5+-0x1*0x2030+0x95c])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x325d63[-0x18bc+-0x25bb+0x3e77]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x36e7d3,'format':_0x1bafcb,'comments':_0x465f89};},_0xf07002=_0x47adfb=>{const _0x5946e3=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x4b19f2=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x56269d=new Array(0x19d6+-0x195b*0x1+-0x2*0x27)['fill']('')['map']((_0x58ce8f,_0x463012)=>'f_rest_'+_0x463012),_0x365475=()=>_0x47adfb[-0x1def+-0x21*-0x12e+-0x8ff]['name']==='chunk'&&_0x47adfb[-0x2*-0x5c1+-0x1766+0xbe4]['properties']['every']((_0x114630,_0x4b8e63)=>_0x114630['name']===_0x5946e3[_0x4b8e63]&&_0x114630['type']==='float')&&_0x47adfb[-0xc53+-0x97*-0x37+-0x141d]['name']==='vertex'&&_0x47adfb[-0x2086+0x2f*-0xd3+0x4744]['properties']['every']((_0x3f4a83,_0x3a2e67)=>_0x3f4a83['name']===_0x4b19f2[_0x3a2e67]&&_0x3f4a83['type']==='uint'),_0x4a7050=()=>_0x47adfb[0x25c7+0x1c*0x98+-0x3665]['name']==='sh'&&[0xcc8+-0x11fd+0x16*0x3d,-0xfd3+-0x17*0x17c+0x320f,-0x742+0x4*-0x8ba+0x3*0xe1d]['indexOf'](_0x47adfb[-0xdaf*-0x1+0x1*0x22bd+-0x306a]['properties']['length'])!==-(0xb3*-0xd+0x22a2+-0x7*0x3a6)&&_0x47adfb[-0x30f+-0x9*-0x28f+-0x13f6]['properties']['every']((_0x14609a,_0x363bb8)=>_0x14609a['name']===_0x56269d[_0x363bb8]&&_0x14609a['type']==='uchar');return _0x47adfb['length']===0xb1d+0x5*0x5a7+-0x275e&&_0x365475()||_0x47adfb['length']===-0x14d7*0x1+0x1c95+-0x1*0x7bb&&_0x365475()&&_0x4a7050();},_0x19b6f6=_0x562bdf=>_0x562bdf['length']===0x1*0xae3+0x587*-0x5+0x10c1&&_0x562bdf[0x23ee+0xb32+0x2*-0x1790]['name']==='vertex'&&_0x562bdf[0xdf*0x17+0x833*-0x1+-0xbd6]['properties']['every'](_0x55072e=>_0x55072e['type']==='float'),_0x28a45e=async(_0x2143a1,_0x29d2a9,_0x573ea6)=>{const _0x34c531=new _0x4f5878();_0x34c531['comments']=_0x573ea6;const _0x125d7f=_0x29d2a9[-0x17c5+-0xa9b*-0x3+-0x80c]['count'],_0x4315d9=_0x29d2a9[-0x1315+0xc5e*0x1+0x6b7]['properties']['length'],_0x44163a=_0x29d2a9[-0x136f+-0x4*-0x6d+0x11bc]['count'],_0x366e0c=_0x29d2a9[-0x24d8+0x103e+-0x41f*-0x5]['properties']['some'](_0x4492d7=>_0x4492d7['name']==='packed_tim'+'e'),_0x38a23a=(_0x1d4375=>{const _0x4167c2=Math['ceil'](Math['sqrt'](_0x1d4375)),_0x4e3875=Math['ceil'](_0x1d4375/_0x4167c2);return _0x4167c2*_0x4e3875;})(_0x44163a);_0x34c531['numSplats']=_0x44163a,_0x34c531['is4D']=_0x366e0c,_0x34c531['chunkData']=new Float32Array(_0x125d7f*_0x4315d9),_0x34c531['vertexData']=new Uint32Array(_0x38a23a*(0x2f9*0x2+0x7cf*-0x1+0x1e3));const _0x9d359b=async(_0x474e69,_0xae1522)=>{const _0x252586=new Uint8Array(_0x474e69);let _0x2187c1=0x1590+-0x2356+-0x2*-0x6e3;for(;_0x2187c1<_0xae1522;){for(;_0x2143a1['remaining']===-0x130d+0x250a+0x133*-0xf;)await _0x2143a1['read']();const _0x48d0eb=Math['min'](_0xae1522-_0x2187c1,_0x2143a1['remaining']),_0x34dd38=_0x2143a1['data'];for(let _0x207704=0x217*0x11+0x2250+0x45d7*-0x1;_0x207704<_0x48d0eb;++_0x207704)_0x252586[_0x2187c1++]=_0x34dd38[_0x2143a1['head']++];}};if(await _0x9d359b(_0x34c531['chunkData']['buffer'],_0x125d7f*_0x4315d9*(0xc*-0x19c+-0x259c*0x1+0x1*0x38f0)),await _0x9d359b(_0x34c531['vertexData']['buffer'],_0x44163a*(-0x894+-0xc09+-0x14a3*-0x1)*(0x1b1+0x213d+-0x22ea)),_0x29d2a9['length']===0x1c*-0x8f+0x2430+0x1*-0x1489){const _0x58fb8e=_0x38a23a*(-0x12bd+-0xa10+-0x3*-0x99f),_0x3074d4=new Uint8Array(_0x58fb8e),_0x35c5ee=new Uint8Array(_0x58fb8e),_0x1f58bb=new Uint8Array(_0x58fb8e),_0xef8d81=-0xc*-0x279+-0xa35+-0xf77,_0x2888a5=_0x29d2a9[-0xd57*-0x1+0x1c71+0x14e3*-0x2]['properties']['length']/(-0x1d1b+-0x1f2+0x4*0x7c4),_0x716a61=new Uint8Array(_0xef8d81*_0x2888a5*(-0x2278+0xda9+0x14d2));for(let _0x40d50e=0x3e6*0x9+0xa13*-0x2+-0xef0*0x1;_0x40d50e<_0x34c531['numSplats'];_0x40d50e+=_0xef8d81){const _0x321e0c=Math['min'](_0xef8d81,_0x34c531['numSplats']-_0x40d50e);await _0x9d359b(_0x716a61['buffer'],_0x321e0c*_0x2888a5*(0xb7a+0x11*-0x229+-0x1*-0x1942));for(let _0x1b59c0=-0xb*0x296+-0x2521+-0x4193*-0x1;_0x1b59c0<_0x321e0c;++_0x1b59c0)for(let _0x272299=0x141*-0x1e+0x19f8+0xba6;_0x272299<0x270d*0x1+0x305*0x8+-0x3f26;++_0x272299){const _0x479d8a=(_0x40d50e+_0x1b59c0)*(-0x16aa+0x2522+-0xe68)+_0x272299;_0x272299<_0x2888a5?(_0x3074d4[_0x479d8a]=_0x716a61[(_0x1b59c0*(0xc2a+-0xf40+0x319)+(0xcc*-0x16+0x181b+0x693*-0x1))*_0x2888a5+_0x272299],_0x35c5ee[_0x479d8a]=_0x716a61[(_0x1b59c0*(-0x2e*0x49+0xebf+-0x19e)+(-0xab0+0x2*-0x6a2+0x17f5*0x1))*_0x2888a5+_0x272299],_0x1f58bb[_0x479d8a]=_0x716a61[(_0x1b59c0*(-0x7*0x34d+-0x1369+0x39*0xbf)+(0x922*0x3+-0x88f*0x1+-0x12d5))*_0x2888a5+_0x272299]):(_0x3074d4[_0x479d8a]=0x9e1+0x2537+-0x2e99,_0x35c5ee[_0x479d8a]=-0x27f+-0x25fd+-0x10d*-0x27,_0x1f58bb[_0x479d8a]=0x1b8b+-0x1*-0x2e7+0x1df3*-0x1);}}_0x34c531['shData0']=_0x3074d4,_0x34c531['shData1']=_0x35c5ee,_0x34c531['shData2']=_0x1f58bb,_0x34c531['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x2888a5];}else _0x34c531['shBands']=0x1b31*-0x1+-0x1*0x464+0x1f95;return _0x34c531;},_0x19a0c7=async(_0x12eed0,_0x5a138c,_0x435b69)=>{const _0x9070a0=_0x5a138c[0x18f1*-0x1+0x104d+-0x13c*-0x7],_0x40ad70=_0x9070a0['properties'],_0x5e6b16=_0x40ad70['length'],_0x1ecd86=_0x40ad70['map'](_0x22dc0b=>_0x22dc0b['storage']),_0x3762fe=_0x40ad70['reduce']((_0x505e1c,_0x3a9923)=>_0x505e1c+_0x3a9923['byteSize'],0x4cf*-0x7+0x1*-0x208c+0x4235*0x1);let _0x5f123c=-0x2620+-0x6ac+0x2ccc,_0x6152a3;const _0x267dee=()=>{const _0x2df058=_0x12eed0['data']['buffer'];(_0x6152a3==null?void(-0x1261*0x1+-0x187+0x13e8):_0x6152a3['buffer'])!==_0x2df058&&(_0x6152a3=new Float32Array(_0x2df058,-0x406*0x3+0x27b*-0x3+-0x6f*-0x2d,_0x2df058['byteLength']/(0x733+-0x6f9+-0x9*0x6)));};for(_0x267dee();_0x5f123c<_0x9070a0['count'];){for(;_0x12eed0['remaining']<_0x3762fe;)await _0x12eed0['read'](),_0x267dee();const _0x35a39c=Math['min'](_0x9070a0['count']-_0x5f123c,Math['floor'](_0x12eed0['remaining']/_0x3762fe));for(let _0x25222b=-0xf31*-0x1+-0xd98+-0x199;_0x25222b<_0x5e6b16;++_0x25222b){const _0x1cd7cf=_0x1ecd86[_0x25222b];for(let _0x2eb7b6=-0x10e8+0x1a8d+-0x9a5;_0x2eb7b6<_0x35a39c;++_0x2eb7b6)_0x1cd7cf[_0x2eb7b6+_0x5f123c]=_0x6152a3[_0x2eb7b6*_0x5e6b16+_0x25222b];}_0x5f123c+=_0x35a39c,_0x12eed0['head']+=_0x35a39c*_0x3762fe;}return new _0x4f6e74(_0x5a138c,_0x435b69);},_0x5e6e42=async(_0x222f2d,_0x5bed83,_0x2a2408)=>{for(let _0x27d08a=0x2d6+-0xd4a+0xa74;_0x27d08a<_0x5bed83['length'];++_0x27d08a){const _0x31cecb=_0x5bed83[_0x27d08a],_0x183bbf=_0x31cecb['properties']['reduce']((_0x34946c,_0x5a3c0e)=>_0x34946c+_0x5a3c0e['byteSize'],0x26a0+-0x1589+-0x1117),_0x50728d=_0x31cecb['properties']['map'](_0x1d7d68=>{if(_0x1d7d68['storage'])switch(_0x1d7d68['type']){case'char':return(_0x47ec0e,_0xaaccf)=>{_0x1d7d68['storage'][_0xaaccf]=_0x47ec0e['getInt8']();};case'uchar':return(_0x32e44e,_0x153c15)=>{_0x1d7d68['storage'][_0x153c15]=_0x32e44e['getUint8']();};case'short':return(_0x25a1e7,_0x59c8fd)=>{_0x1d7d68['storage'][_0x59c8fd]=_0x25a1e7['getInt16']();};case'ushort':return(_0x47a301,_0x42affc)=>{_0x1d7d68['storage'][_0x42affc]=_0x47a301['getUint16']();};case'int':return(_0x34c5af,_0x1e8bea)=>{_0x1d7d68['storage'][_0x1e8bea]=_0x34c5af['getInt32']();};case'uint':return(_0x27516c,_0x404fef)=>{_0x1d7d68['storage'][_0x404fef]=_0x27516c['getUint32']();};case'float':return(_0x33c717,_0x2d8e2e)=>{_0x1d7d68['storage'][_0x2d8e2e]=_0x33c717['getFloat32']();};case'double':return(_0x4301aa,_0x2cd88c)=>{_0x1d7d68['storage'][_0x2cd88c]=_0x4301aa['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x1d7d68['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x2f7f44=>{_0x2f7f44['head']+=_0x1d7d68['byteSize'];};});let _0x447903=0x305*0x9+0x1*-0x237+-0x3*0x852;for(;_0x447903<_0x31cecb['count'];){for(;_0x222f2d['remaining']<_0x183bbf;)await _0x222f2d['read']();const _0x3bec3b=Math['min'](_0x31cecb['count']-_0x447903,Math['floor'](_0x222f2d['remaining']/_0x183bbf));for(let _0x462f32=0x443+0x1e39+-0x1*0x227c;_0x462f32<_0x3bec3b;++_0x462f32){for(let _0x434e3e=-0x4*0x8+-0x366+0x386;_0x434e3e<_0x31cecb['properties']['length'];++_0x434e3e)_0x50728d[_0x434e3e](_0x222f2d,_0x447903);_0x447903++;}}}return new _0x4f6e74(_0x5bed83,_0x2a2408);},_0x5e1044=async(_0x1288d8,_0x16baa1=null)=>{const _0x4a17df=(_0x39bb07,_0x529031)=>{const _0x1d7d1c=_0x39bb07['length']-_0x529031['length'];let _0x50bfff,_0x2f553d;for(_0x50bfff=0x1fe5+-0x1421+-0xbc4;_0x50bfff<=_0x1d7d1c;++_0x50bfff){for(_0x2f553d=0x3*0x698+0xb3*0x6+-0x17fa;_0x2f553d<_0x529031['length']&&_0x39bb07[_0x50bfff+_0x2f553d]===_0x529031[_0x2f553d];++_0x2f553d);if(_0x2f553d===_0x529031['length'])return _0x50bfff;}return-(0x19*-0xa1+-0x42+0xffc);},_0x2c7579=(_0x267f2,_0xb043c8)=>{if(_0x267f2['length']<_0xb043c8['length'])return!(-0xdac+0x2*-0x6b9+0x1b1f*0x1);for(let _0x5c08d2=0x1741+-0xf1e+-0x823;_0x5c08d2<_0xb043c8['length'];++_0x5c08d2)if(_0x267f2[_0x5c08d2]!==_0xb043c8[_0x5c08d2])return!(-0x24d6+0x3a8*-0x3+-0x2fcf*-0x1);return!(0x1287+0xb9e+-0x1e25);},_0x7c40fa=new _0x1bca1d(_0x1288d8,_0x16baa1);let _0x1bb40e;for(;;){if(await _0x7c40fa['read'](),_0x7c40fa['tail']>=_0xe9c871['length']&&!_0x2c7579(_0x7c40fa['data'],_0xe9c871))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x1bb40e=_0x4a17df(_0x7c40fa['data'],_0x38e9f1),_0x1bb40e!==-(-0xafb+-0x1df*-0x3+0x1*0x55f))break;}const _0x505c38=new TextDecoder('ascii')['decode'](_0x7c40fa['data']['subarray'](0x22a6+0x706*0x1+-0x2a*0xfe,_0x1bb40e))['split']('\x0a'),{elements:_0x486fc2,format:_0x4cc7e5,comments:_0x4f5054}=_0x1a98c4(_0x505c38);if(_0x4cc7e5!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x7c40fa['head']=_0x1bb40e+_0x38e9f1['length'],_0x7c40fa['compact'](),await((async()=>_0xf07002(_0x486fc2)?await _0x28a45e(_0x7c40fa,_0x486fc2,_0x4f5054):(_0x486fc2['forEach'](_0x2a7a91=>{_0x2a7a91['properties']['forEach'](_0x507b99=>{const _0x3fbaba=_0x5f0a24['get'](_0x507b99['type']);if(_0x3fbaba){const _0x44b830=new _0x3fbaba(_0x2a7a91['count']);_0x507b99['storage']=_0x44b830;}});}),_0x19b6f6(_0x486fc2)?await _0x19a0c7(_0x7c40fa,_0x486fc2,_0x4f5054):await _0x5e6e42(_0x7c40fa,_0x486fc2,_0x4f5054)))());},_0xde32a1=_0x457bae=>{const {numSplats:_0x23168b,chunkData:_0x287b21,chunkSize:_0xbfd0ee,vertexData:_0x212a57,shData0:_0x38ca48,shData1:_0x49e66b,shData2:_0x9299f1,shBands:_0x48edcc,comments:_0x4777fd,is4D:_0x324dbb}=_0x457bae,_0x5f4cb1=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x324dbb&&_0x5f4cb1['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x48edcc>0x496+0x1*-0x795+0x2ff){const _0x9d44e9=[];for(let _0x7b7f40=-0x5*-0x7b+0x2266+-0x24cd;_0x7b7f40<-0x427*-0x1+-0x2*-0x52d+0x4*-0x395;++_0x7b7f40)_0x9d44e9['push']('f_rest_'+_0x7b7f40);_0x5f4cb1['splice'](_0x5f4cb1['indexOf']('f_dc_0')+(-0x1*-0x1133+0x1dbd*-0x1+-0x13*-0xa9),-0x1*0x1bef+0x136*0x15+-0x281*-0x1,..._0x9d44e9);}const _0x2d37cf={};_0x5f4cb1['forEach'](_0x3c5cec=>{_0x2d37cf[_0x3c5cec]=new Float32Array(_0x23168b);});const _0x76497f=new _0x437cc6(),_0xea0462=new _0x42210d(),_0x484f1a=new _0x437cc6(),_0x16e81d=new _0x6ec374(),_0x31565b=new _0x437cc6(),_0x4739a0=new _0x437cc6(),_0x940e4=_0x48edcc>-0x337*-0xa+0x1395*0x1+-0x33bb?new Float32Array(-0x57f+-0x68e+-0x5*-0x272):null,_0x2d18ba=new _0x1295f3(_0x287b21,_0xbfd0ee,_0x212a57,_0x38ca48,_0x49e66b,_0x9299f1,_0x48edcc,_0x76497f,_0xea0462,_0x484f1a,_0x16e81d,_0x31565b,_0x4739a0,_0x940e4);for(let _0x3b37ad=0x9*0x2ae+-0x570+-0x12ae;_0x3b37ad<_0x23168b;++_0x3b37ad){_0x2d18ba['read'](_0x3b37ad),_0x2d37cf['x'][_0x3b37ad]=_0x76497f['x'],_0x2d37cf['y'][_0x3b37ad]=_0x76497f['y'],_0x2d37cf['z'][_0x3b37ad]=_0x76497f['z'],_0x2d37cf['rot_1'][_0x3b37ad]=_0xea0462['x'],_0x2d37cf['rot_2'][_0x3b37ad]=_0xea0462['y'],_0x2d37cf['rot_3'][_0x3b37ad]=_0xea0462['z'],_0x2d37cf['rot_0'][_0x3b37ad]=_0xea0462['w'],_0x2d37cf['scale_0'][_0x3b37ad]=_0x484f1a['x'],_0x2d37cf['scale_1'][_0x3b37ad]=_0x484f1a['y'],_0x2d37cf['scale_2'][_0x3b37ad]=_0x484f1a['z'],_0x2d37cf['motion_0'][_0x3b37ad]=_0x31565b['x'],_0x2d37cf['motion_1'][_0x3b37ad]=_0x31565b['y'],_0x2d37cf['motion_2'][_0x3b37ad]=_0x31565b['z'],_0x2d37cf['t_scale'][_0x3b37ad]=_0x4739a0['x'],_0x2d37cf['t'][_0x3b37ad]=_0x4739a0['y'],_0x2d37cf['f_dc_0'][_0x3b37ad]=(_0x16e81d['x']-(0xb5*0x21+-0xe06+-0x94f+0.5))/_0x1c539e,_0x2d37cf['f_dc_1'][_0x3b37ad]=(_0x16e81d['y']-(0x1e47+0x269*-0x9+-0xe*0x9d+0.5))/_0x1c539e,_0x2d37cf['f_dc_2'][_0x3b37ad]=(_0x16e81d['z']-(0xf45*0x1+0xaa6+0x5*-0x52f+0.5))/_0x1c539e;const _0xb1dedb=_0x16e81d['w']<=0x1a83+0x165a*0x1+0x30dd*-0x1?-(-0x2142+-0x40*0x5c+-0xf9*-0x3a):_0x16e81d['w']>=-0x4f4+-0x3b*-0x25+0x2*-0x1c9?-0x602*-0x5+0xb92+-0x2974*0x1:-Math['log']((-0xc8*0x1f+-0x1d*-0x45+0x1068)/_0x16e81d['w']-(-0x104d+-0x19*-0xd7+-0x4b1));if(_0x2d37cf['opacity'][_0x3b37ad]=(-0xb4f+0x3*-0xba2+0x2*0x171b)/(-0x30a*0x2+-0xe9*0x9+0xe46+Math['exp'](-_0xb1dedb)),_0x940e4){for(let _0x235bde=-0x2*-0x10b1+0x2*-0x10f9+0x90;_0x235bde<0xdcd+0x18a+-0xf2a;++_0x235bde)_0x2d37cf['f_rest_'+_0x235bde][_0x3b37ad]=_0x940e4[_0x235bde];}}const _0x171f0d=[{'count':_0x23168b,'name':'vertex','properties':_0x5f4cb1['map'](_0x2f1453=>({'byteSize':0x4,'name':_0x2f1453,'type':'float','storage':_0x2d37cf[_0x2f1453]}))}];return new _0x4f6e74(_0x171f0d,_0x4777fd);};}class ok extends me{constructor(_0x3764d1){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x3764d1,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x551018,_0x570c9a,_0x1dc085=(_0x3397d5,_0x2db933)=>{},_0x96129e=(_0x2995b0,_0x3c7419,_0x2459b2)=>{},_0x36ff4a=(_0x137b10,_0x1be017)=>{}){var _0x27a7aa;return(_0x27a7aa=this['worker'])==null||_0x27a7aa['postMessag'+'e']({'type':'loadPly','url':_0x551018,'decompress':_0x570c9a}),new Promise((_0x4fe7a1,_0x34e953)=>{if(!this['worker']){_0x34e953(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x3fc417=>{if(!this['worker'])return;const {data:_0x22af86}=_0x3fc417;if(_0x551018===_0x22af86['url'])switch(_0x22af86['type']){case'totalLengt'+'h':_0x1dc085==null||_0x1dc085(_0x22af86['totalLengt'+'h'],_0x22af86['url']);break;case'progress':_0x96129e==null||_0x96129e(_0x22af86['bytes'],_0x22af86['totalLengt'+'h'],_0x22af86['url']);break;case'splatData':_0x4fe7a1(_0x22af86['data']);break;case'error':_0x36ff4a==null||_0x36ff4a(_0x22af86['data'],_0x22af86['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x2e7*0x7+0x634*-0x1+-0xe1d));}}class lk{constructor(_0xbfcb02,_0x5a4ce4){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0xbfcb02,this['maxRetries']=_0x5a4ce4,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x2330+-0x231d+0x13*-0x1);}async['load'](_0x1a7e28,_0x3ad5a8,_0x4702e1){var _0x173195,_0x5006ac,_0x5e7406;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x1a7e28['load']['includes'](',')?this['urlList']=_0x1a7e28['load']['split'](','):this['urlList']['push'](_0x1a7e28['load']);const _0x14c055=_0x4702e1['data']['createTime']!==((_0x5006ac=(_0x173195=this['onlyOneAss'+'et'])==null?void(0x1*0x1106+-0x101d+0x1*-0xe9):_0x173195['data'])==null?void(0x18b*-0x5+-0x43*0x4+0x8c3):_0x5006ac['createTime']);(!this['readWorker']||_0x14c055)&&((_0x5e7406=this['readWorker'])==null||_0x5e7406['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x43603c=_0x4702e1['data']['loadIndex']>=-0x2*0x1169+-0x11c*-0x17+0x94e?_0x4702e1['data']['loadIndex']:-0x2248+-0x1347+-0x1*-0x358f,_0x38004b=_0x4702e1['data']['loadMode']==='all'?this['urlList']['length']-_0x43603c:_0x43603c+(0x1*0x758+-0x55d*0x4+-0xe1d*-0x1),_0x42d306=_0x4702e1['data']['timeOption'],_0xd82338=_0x4702e1['data']['events'];for(let _0x43892e=_0x43603c;_0x43892e<_0x38004b;_0x43892e++)await this['loadGsplat'+'Data'](this['urlList'],_0x3ad5a8,_0x4702e1,_0x43892e,_0x42d306,_0xd82338,_0x38004b);_0xd82338['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0xa73f48,_0x88d2f3,_0x36a31f,_0x2fa46f,_0x36f7a4,_0x284f08,_0xe306cd){var _0x5dbe2e,_0x46a47a,_0x11e544;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0xa73f48[_0x2fa46f]['trim'](),_0x2fa46f);const _0x540434=_0x36f7a4[(0xaa3+-0x1fa5*0x1+-0xa82*-0x2)*_0x2fa46f]+_0x36f7a4[(-0x65*0x1f+0x91c+0x321)*_0x2fa46f+(-0x1574+0x74*-0x22+0x24dd)],_0x52c871=_0xa73f48[_0x2fa46f]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1*0xc9a+-0x76e*-0x3+-0xf5c))['toFixed'](0x1236+0x1*-0x1d23+-0x9*-0x137));try{const _0x2b1097=await((_0x5dbe2e=this['readWorker'])==null?void(0xfb5+0xb1d+0x1ad2*-0x1):_0x5dbe2e['loadPly'](_0x52c871,_0x36a31f['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x1*-0x2653+-0x1d53*-0x1+-0x1*0x43a6;},(_0x5bb305,_0x11ccca)=>{this['totalRecei'+'ved']+=_0x5bb305,_0x36a31f&&_0x284f08['fire']('progress',_0x11ccca*_0x2fa46f/_0xe306cd+this['totalRecei'+'ved']/_0xe306cd,_0x11ccca);},(_0x276c80,_0x5cba61)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x5cba61,_0x276c80);}));let _0xc73128;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x62*0x26+0xc1f*-0x2+-0xe9d*-0x2))['toFixed'](-0x2007+0xffd*0x2+-0x3*-0x5)),_0x2b1097['isCompress'+'ed']?(_0xc73128=new ak(),_0xc73128['comments']=_0x2b1097['comments'],_0xc73128['numSplats']=_0x2b1097['numSplats'],_0xc73128['is4D']=_0x2b1097['is4D'],_0xc73128['chunkData']=_0x2b1097['chunkData'],_0xc73128['vertexData']=_0x2b1097['vertexData'],_0xc73128['shData0']=_0x2b1097['shData0'],_0xc73128['shData1']=_0x2b1097['shData1'],_0xc73128['shData2']=_0x2b1097['shData2'],_0xc73128['shBands']=_0x2b1097['shBands']):_0xc73128=new qn(_0x2b1097['elements'],_0x2b1097['comments']),_0x36a31f['fire']('load:data',_0xc73128),_0xc73128['isCompress'+'ed']||_0x36a31f['data']['reorder'];const _0x360949=_0x36a31f['data']['createTime']!==((_0x11e544=(_0x46a47a=this['onlyOneAss'+'et'])==null?void(-0x6b*-0x37+-0x2462*-0x1+-0x3b5f*0x1):_0x46a47a['data'])==null?void(0x121c+0x1a5+-0x13c1):_0x11e544['createTime']);this['gsplatReso'+'urce']&&!_0x360949?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0xc73128['isCompress'+'ed']?await _0xc73128['decompress']():_0xc73128,_0x36f7a4,_0x540434,_0x36a31f,_0x284f08):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0xc73128['isCompress'+'ed']?await _0xc73128['decompress']():_0xc73128),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x36f7a4,this['onlyOneAss'+'et']=_0x36a31f),_0x88d2f3(null,this['gsplatReso'+'urce']);}catch(_0x39161c){_0x88d2f3(_0x39161c,null);}}['open'](_0x4b2ca3,_0x4a5d4f){return _0x4a5d4f;}}async function ck(){const _0x3b075c='super4d-ca'+'che-v1',_0xfc6ac3={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x2e9057=0x96b+-0x1b58+0x11ed+0.28209479177387814;class _0x4e3010{constructor(_0x15a634={}){this['options']={..._0xfc6ac3,..._0x15a634},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x31*-0x8b+-0xa9*0x7+-0x192*0xe,this['initialize'+'d']=!(-0x199d+0x6*0x101+0x1398);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3b075c);const _0x44b093=await this['cache']['keys'](),_0x3c88d1=[];for(const _0x1feb92 of _0x44b093){const _0x36a4fc=_0x1feb92['url'],_0xaafec=await this['cache']['match'](_0x36a4fc);if(_0xaafec){const _0x3f61c6=(await _0xaafec['blob']())['size'],_0x57855d=_0xaafec['headers']['get']('x-cache-ti'+'me');_0x57855d&&_0x3c88d1['push']({'url':_0x36a4fc,'size':_0x3f61c6,'cacheTime':parseInt(_0x57855d)});}}_0x3c88d1['sort']((_0x384bc0,_0x1673a7)=>_0x384bc0['cacheTime']-_0x1673a7['cacheTime']);for(const _0x259ffb of _0x3c88d1)this['cacheSizes']['set'](_0x259ffb['url'],_0x259ffb['size']),this['currentSiz'+'e']+=_0x259ffb['size'],this['lruList']['push'](_0x259ffb['url']);}catch(_0x3a8e61){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x3a8e61);}this['initialize'+'d']=!(-0xe5*0x10+0x3*-0xe3+0x1*0x10f9);}}async['get'](_0x37fa13){if(await this['init'](),!this['cache'])return null;try{const _0xc1e8e0=await this['cache']['match'](_0x37fa13);if(!_0xc1e8e0)return null;const _0x59209f=_0xc1e8e0['headers']['get']('x-cache-ti'+'me');return _0x59209f&&Date['now']()-parseInt(_0x59209f)>this['options']['maxAge']?(await this['delete'](_0x37fa13),null):(this['updateLRU'](_0x37fa13),_0xc1e8e0);}catch{return null;}}async['set'](_0x155650,_0xda74ac){if(!(!this['cache']||_0x155650['startsWith']('blob:')))try{const _0x19641e=_0xda74ac['clone'](),_0x46df5d=await _0x19641e['blob'](),_0x323bc1=_0x46df5d['size'];this['currentSiz'+'e']+_0x323bc1>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x323bc1);const _0x389825=new Headers(_0x19641e['headers']);_0x389825['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x428d31=new Response(_0x46df5d,{'status':_0x19641e['status'],'statusText':_0x19641e['statusText'],'headers':_0x389825});await this['cache']['put'](_0x155650,_0x428d31),this['cacheSizes']['set'](_0x155650,_0x323bc1),this['currentSiz'+'e']+=_0x323bc1,this['updateLRU'](_0x155650);}catch(_0x1052e4){console['error']('Cache\x20set\x20'+'error:',_0x1052e4);}}['updateLRU'](_0x3f983d){const _0x2aa2d7=this['lruList']['indexOf'](_0x3f983d);_0x2aa2d7>-(0x2*-0x137f+0x1364+0x3*0x689)&&this['lruList']['splice'](_0x2aa2d7,-0x6d9*-0x1+0x274+-0x94c),this['lruList']['push'](_0x3f983d);}async['cleanupSpa'+'ce'](_0x265ce1){const _0x3f21ad=this['options']['maxSize']*(0x2*0xf7f+0x197b+-0x3879+0.9);if(!(this['currentSiz'+'e']<=_0x3f21ad))for(;this['lruList']['length']>0x246d+0xfda+-0x3447*0x1&&this['currentSiz'+'e']>_0x3f21ad;){const _0x59f5a5=this['lruList']['shift']();_0x59f5a5&&await this['delete'](_0x59f5a5);}}async['delete'](_0x1b791c){if(this['cache'])try{await this['cache']['delete'](_0x1b791c);const _0x555a98=this['cacheSizes']['get'](_0x1b791c)||-0x21d1+0x12d0+0xf01;this['currentSiz'+'e']-=_0x555a98,this['cacheSizes']['delete'](_0x1b791c);const _0x546a6e=this['lruList']['indexOf'](_0x1b791c);_0x546a6e>-(0x1a6*0x6+0x2*0x274+0x7*-0x21d)&&this['lruList']['splice'](_0x546a6e,-0x69b+0xdf4+0x14*-0x5e);}catch(_0x5252ed){console['error']('Cache\x20dele'+'te\x20error:',_0x5252ed);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x9d71c1=>Promise['all'](_0x9d71c1['map'](_0x2a695f=>{var _0x148f0a;return(_0x148f0a=this['cache'])==null?void(-0x5ac+0x669+0x9*-0x15):_0x148f0a['delete'](_0x2a695f);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x24c1+0x31*-0xa7+0x4ca*-0x1;}catch(_0x408a52){console['error']('Cache\x20clea'+'r\x20error:',_0x408a52);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x15cd*0x1+-0x295+0x1862;}}class _0x253ec9{constructor(_0x1cc0b5=[],_0x1b43e8={}){this['cacheManag'+'er']=new _0x4e3010(_0x1b43e8['cache']),this['retryCount']=_0x1b43e8['retryCount']||0xf25+-0x19c7+0xaa5,this['retryDelay']=_0x1b43e8['retryDelay']||0x208f+-0x11*0x1ab+-0x240,this['maxConcurr'+'ency']=_0x1b43e8['maxConcurr'+'ency']||-0x229d+0x1*0x102b+-0x314*-0x6,this['downloadQu'+'eue']=_0x1cc0b5,this['isProcessi'+'ngDownload'+'Queue']=!(-0x19f9+0x7a5+0x1255),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x853*-0x2+0x1a22+-0x2ac8);this['downloadQu'+'eue']['length']>0x2258+-0x1*0x1a67+-0x6b*0x13;)try{const _0x5e565e=this['downloadQu'+'eue']['splice'](-0x255*-0x10+-0x1681+-0xecf,this['maxConcurr'+'ency'])['map'](_0x57b3b=>{if(!this['pendingRes'+'ponses']['has'](_0x57b3b)){const _0x3c08c2=this['download'](_0x57b3b);return this['pendingRes'+'ponses']['set'](_0x57b3b,_0x3c08c2),_0x3c08c2['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x57b3b);});}return Promise['resolve']();});await Promise['all'](_0x5e565e);}catch(_0x146621){console['error']('Download\x20e'+'rror:',_0x146621);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x6d1*0x2+-0x2528+0x32cb);}}}async['fetch'](_0xfccdba,_0x369979={}){if(this['pendingRes'+'ponses']['has'](_0xfccdba))return this['pendingRes'+'ponses']['get'](_0xfccdba);const {forceRefresh:_0x5958ec=!(-0x8f4+-0x1*-0x1836+0x30d*-0x5),..._0x9ddf46}=_0x369979;this['pendingRes'+'ponses']['set'](_0xfccdba,this['download'](_0xfccdba,_0x9ddf46));const _0x66bf56=await this['pendingRes'+'ponses']['get'](_0xfccdba);return this['pendingRes'+'ponses']['delete'](_0xfccdba),_0x66bf56;}async['download'](_0x1a2f5b,_0x56c751={}){var _0x116037;await((_0x116037=this['cacheManag'+'er'])==null?void(0x1a6b+-0x8*0xa6+-0x153b):_0x116037['init']());const {forceRefresh:_0x3ad64c=!(0xb*0x346+0x1*-0x140b+-0xff6),..._0x5e3f28}=_0x56c751;_0x3ad64c&&await this['cacheManag'+'er']['delete'](_0x1a2f5b);const _0x5aa5db=await this['cacheManag'+'er']['get'](_0x1a2f5b);if(_0x5aa5db)return _0x5aa5db;let _0x3378a8;for(let _0x2bd29=-0x25*0xd5+-0x1798+-0x3661*-0x1;_0x2bd29<this['retryCount'];_0x2bd29++)try{const _0x25ef07=await fetch(_0x1a2f5b,_0x5e3f28);if(!_0x25ef07['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x25ef07['status']);return await this['cacheManag'+'er']['set'](_0x1a2f5b,_0x25ef07),_0x25ef07;}catch(_0x2a7d41){console['error']('Download\x20e'+'rror:',_0x2a7d41),_0x3378a8=_0x2a7d41,_0x2bd29<this['retryCount']-(-0x2*-0x207+0x84f+0xe2*-0xe)&&await new Promise(_0xf7eb7a=>setTimeout(_0xf7eb7a,this['retryDelay']*(_0x2bd29+(0x21de+-0xb*-0x21d+-0xa*0x5b6))));}throw _0x3378a8;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x532dc4;(_0x532dc4=this['cacheManag'+'er'])==null||_0x532dc4['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*-0x11d7+0xd47+0x9*-0x375),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x383d18{constructor(_0x25bb5e,_0x30ab5a=[]){this['elements']=_0x25bb5e,this['comments']=_0x30ab5a,this['isCompress'+'ed']=!(-0x81c+-0x1888+0x20a5);}}class _0x9aea{constructor(_0x59cac3){this['url']=_0x59cac3;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x253ec9(globalThis['downloadQu'+'eueUrlList']));const _0x2f2b3d=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x2f2b3d['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x2f2b3d['statusText']);const _0x1012d6=await _0x2f2b3d['arrayBuffe'+'r'](),_0x5bb1fd=new Uint8Array(_0x1012d6);let _0x2337f6=0x2704+-0x15c9+0x1*-0x113b,{size:_0x350503,type:_0x4b1857}=this['_readBoxHe'+'ader'](_0x5bb1fd,_0x2337f6);if(_0x4b1857!=='moof')throw new Error('Not\x20a\x20moof');_0x2337f6+=-0x2e*-0x21+-0x1975+0x138f*0x1;const _0x2bbd94=_0x2337f6+_0x350503-(-0x112a+-0x1e1d+0x2f4f);let _0x5b5d33=null;for(;_0x2337f6<_0x2bbd94;){const {size:_0x2e1461,type:_0x55d667}=this['_readBoxHe'+'ader'](_0x5bb1fd,_0x2337f6);_0x2337f6+=-0x355+0x5*-0x1e7+0xce0;const _0x218f0a=_0x5bb1fd['slice'](_0x2337f6,_0x2337f6+_0x2e1461-(0x15*-0x143+0xe56+0xc31));_0x2337f6+=_0x2e1461-(0x10c8+-0x1a24+0x2*0x4b2),_0x55d667==='emsg'&&(_0x5b5d33=this['_parseEmsg'](_0x218f0a));}if(!_0x5b5d33)throw new Error('Incomplete'+'\x20moof');const {size:_0x33c6f3,type:_0x409d25}=this['_readBoxHe'+'ader'](_0x5bb1fd,_0x2337f6);if(_0x409d25!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x2337f6+=-0x1ed3+-0x221a+0x40f5;const _0x38796d=_0x5bb1fd['slice'](_0x2337f6,_0x2337f6+(_0x33c6f3-(-0x79d*0x2+-0x26b7+0x35f9)));return{'metadata':_0x5b5d33,'segmentData':_0x38796d};}['_readBoxHe'+'ader'](_0x1eeb30,_0xbe7bb4){if(_0xbe7bb4+(-0x1*0xa2e+0x15e8+0x6*-0x1f3)>_0x1eeb30['length'])throw new Error('EOF');const _0x5bb657=_0x1eeb30[_0xbe7bb4]<<-0x1*0x1ef1+0x1475*-0x1+0x3f6*0xd|_0x1eeb30[_0xbe7bb4+(-0xd*-0x1c9+0x1e3c+-0x3570)]<<-0x202b+-0xb57*-0x1+0x14e4|_0x1eeb30[_0xbe7bb4+(0x3*-0x259+-0x10ea+0x7fd*0x3)]<<-0x25d9+-0x117a+0x375b|_0x1eeb30[_0xbe7bb4+(-0x1784*-0x1+-0x21*0x23+-0x12fe)],_0x3ed325=String['fromCharCo'+'de'](_0x1eeb30[_0xbe7bb4+(0x1460+-0x12e1+-0x17b*0x1)],_0x1eeb30[_0xbe7bb4+(0x1*0x122b+0x312*-0x7+0x358)],_0x1eeb30[_0xbe7bb4+(-0x982*-0x1+0x1*0x20bc+-0x2a38)],_0x1eeb30[_0xbe7bb4+(0x1*-0x112d+-0x2a5*0x4+0x1bc8)]);return{'size':_0x5bb657,'type':_0x3ed325};}['_parseEmsg'](_0x4d7bd8){let _0x3787ed=-0x4*-0x190+-0x80b*-0x2+0xb2b*-0x2;_0x3787ed=_0x4d7bd8['indexOf'](0x1d4d+-0x1*0x2197+0x44a,_0x3787ed)+(-0xa4+-0x909+-0x7*-0x162),_0x3787ed=_0x4d7bd8['indexOf'](0xb97+0x1*-0x7cf+-0x3c8,_0x3787ed)+(-0x1*-0x281+-0x1c5d+0x3*0x89f),_0x3787ed+=-0xf4f*-0x1+-0x1fa0+0x7*0x257;const _0x6851b0=_0x4d7bd8['slice'](_0x3787ed);return globalThis['CBOR']['decode'](_0x6851b0);}}class _0x5744f0{constructor(_0x42b85b=0xa1*-0x9+-0x3c8*-0x4+-0x977,_0x1dba8c=0x1771+0x24eb+-0xf17*0x4,_0x977e9=0x1b5f+0x1*0x3c7+-0x1f26,_0x2a9bba=0x25c6+-0x2c0+0xb*-0x32f){this['x']=_0x42b85b,this['y']=_0x1dba8c,this['z']=_0x977e9,this['w']=_0x2a9bba;}['set'](_0x44e8cb,_0x3c5441,_0x477ca4,_0x5e54a0){return this['x']=_0x44e8cb,this['y']=_0x3c5441,this['z']=_0x477ca4,this['w']=_0x5e54a0,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x74000=this){let _0x3613aa=_0x74000['length']();return _0x3613aa===0x11ae*-0x1+0xd8f+0xd3*0x5?(this['x']=this['y']=this['z']=-0x164*0x13+-0x2*0x521+0x24ae,this['w']=-0x648*-0x5+0x238d+-0x10bd*0x4):(_0x3613aa=(-0xd+-0x3c7*0x1+-0x3d5*-0x1)/_0x3613aa,this['x']=_0x74000['x']*_0x3613aa,this['y']=_0x74000['y']*_0x3613aa,this['z']=_0x74000['z']*_0x3613aa,this['w']=_0x74000['w']*_0x3613aa),this;}['mulScalar'](_0x101da8,_0x20bcc7=this){return this['x']=_0x20bcc7['x']*_0x101da8,this['y']=_0x20bcc7['y']*_0x101da8,this['z']=_0x20bcc7['z']*_0x101da8,this['w']=_0x20bcc7['w']*_0x101da8,this;}}self['onmessage']=async _0x1ea1e1=>{var _0x33ff01,_0x323ba0;const {data:_0x4f6fce}=_0x1ea1e1;switch(_0x4f6fce['type']){case'initWorker':importScripts(_0x4f6fce['cborXUrl']);break;case'destroyWor'+'ker':_0x2c16a5();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x38d713,loadRepresentation:_0x514995}=_0x4f6fce,_0x45b9eb=await _0x53a9e5(_0x38d713,_0x514995);globalThis['manifestUr'+'l']=_0x38d713,globalThis['manifest']=_0x45b9eb,globalThis['resentatio'+'n']=_0x45b9eb['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x5e6d84(),globalThis['fetchWorke'+'r']=new _0x253ec9(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x45b9eb,'url':_0x38d713,'representation':_0x514995});break;case'loadGsdSeg'+'ments':try{const _0x5f359c=_0x10b107(globalThis['manifest'],globalThis['resentatio'+'n']),_0x5ddab2=await _0x678781(globalThis['manifest'],_0x5f359c),_0x2a1a34=(_0x33ff01=_0x5ddab2==null?void(0x1*0xbb2+0x411+-0xfc3):_0x5ddab2['elements'][0x4a7+-0x9cb+-0xbc*-0x7])==null?void(0x22db*0x1+0x249*0xd+-0x2*0x2048):_0x33ff01['properties']['map'](_0x54a5bf=>_0x54a5bf['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x5ddab2,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x2a1a34);}catch(_0x266123){console['error']('Error\x20load'+'ing\x20GSD:',_0x266123),self['postMessag'+'e']({'type':'error','data':_0x266123['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x364d71}=_0x4f6fce;try{const _0x36e10d=_0x10b107(globalThis['manifest'],globalThis['resentatio'+'n']),_0x448539=await _0x9544ce(globalThis['manifest'],_0x36e10d,_0x364d71),_0x103ff0=(_0x323ba0=_0x448539==null?void(0x1c9*-0x10+0x131d+0x973):_0x448539['elements'][0x1f6+-0x1*0x769+0x573])==null?void(-0x1+-0x6fb*-0x1+-0x6fa):_0x323ba0['properties']['map'](_0x322194=>_0x322194['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x448539,'timelineIndexs':_0x364d71,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x103ff0);}catch(_0x5ae04d){console['error']('Error\x20load'+'ing\x20GSD:',_0x5ae04d),self['postMessag'+'e']({'type':'error','data':_0x5ae04d['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x2c16a5=()=>{var _0xc27b49;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0xc27b49=globalThis['fetchWorke'+'r'])==null||_0xc27b49['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x5e6d84=()=>{const _0x140be6=new Set(),_0x3b43f6=_0x10b107(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4d97c2=globalThis['manifest']['baseUrl'],_0x3a59e6=_0x3b43f6['segmentTem'+'plate'][0xf9+0x407*0x1+-0x80*0xa];for(const _0x24ecb1 of _0x3a59e6['segmentTim'+'eline'])for(const _0x7c83c3 of _0x24ecb1['nl']){const _0x2067fa=''+_0x4d97c2+_0x3a59e6['media']['replace']('$SegGroupI'+'ndex$',String(_0x24ecb1['sg']))['replace']('$NodeIndex'+'$',String(_0x7c83c3));_0x140be6['add'](_0x2067fa);}return Array['from'](_0x140be6);},_0x53a9e5=async(_0x5423c5,_0x3cf2a3)=>{const _0x3602b1=await(await fetch(_0x5423c5))['text'](),_0x37fbf3=JSON['parse'](_0x3602b1);_0x37fbf3['baseUrl']=_0x5423c5['replace'](/\/[^\/]*$/,'/');const {schemas:_0x5bb5ce,gsiUrl:_0x28b793,repId:_0x8a3e14}=await _0x22bb94(_0x37fbf3,_0x3cf2a3);return _0x37fbf3['schemas']=_0x5bb5ce,_0x37fbf3['gsiUrl']=_0x28b793,_0x37fbf3['representa'+'tion']=_0x8a3e14,_0x37fbf3;},_0x22bb94=async(_0x4bf516,_0x206944)=>{let _0x7cdd0d=null,_0x4d1e59=null;for(const _0x1c70e0 of _0x4bf516['adaptation'+'Sets'])if(_0x1c70e0['contentTyp'+'e']==='4dgs'){_0x4d1e59=_0x1c70e0;for(const _0x1def47 of _0x1c70e0['representa'+'tions'])if(_0x1def47['id']===_0x206944){_0x7cdd0d=_0x1def47;break;}break;}_0x7cdd0d||(_0x7cdd0d=_0x4d1e59['representa'+'tions'][0x1aa1+-0x1924+-0x17d],console['warn']('Representa'+'tion\x20\x27'+_0x206944+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x550e49=_0x7cdd0d['id'],_0x3ecd86=_0x4bf516['baseUrl']+_0x550e49+('/init.gsi.'+'json'),_0x26480e=await(await fetch(_0x3ecd86))['text'](),_0x1f6a04=JSON['parse'](_0x26480e),_0x315006={};return _0x315006[_0x550e49]=_0x1f6a04,{'schemas':_0x315006,'gsiUrl':_0x3ecd86,'repId':_0x550e49};},_0x10b107=(_0x2fd8e3,_0x1ccd1d='high-quant'+'ized')=>{let _0x5042ad=null;for(const _0x23dc75 of _0x2fd8e3['adaptation'+'Sets'])if(_0x23dc75['contentTyp'+'e']==='4dgs'){for(const _0x219e89 of _0x23dc75['representa'+'tions'])if(_0x219e89['id']===_0x1ccd1d){_0x5042ad=_0x219e89;break;}break;}if(!_0x5042ad)throw new Error('Representa'+'tion\x20\x27'+_0x1ccd1d+('\x27\x20not\x20foun'+'d'));return _0x5042ad;},_0x678781=async(_0x301212,_0x14e81a)=>{const _0x29d578=_0x14e81a['id'],_0x16f5e9=_0x301212['schemas'][_0x29d578]['attributes'],_0x46e280=_0x14e81a['segmentTem'+'plate'][-0x1*-0x1085+-0x4bc+-0xbc9];globalThis['loadedSegm'+'ents']=[];const _0x22c5c9=[],_0x48b49b=[];for(const _0x16ba57 of _0x46e280['segmentTim'+'eline'])for(const _0x1c4892 of _0x16ba57['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x16ba57['sg']+'_'+_0x1c4892))continue;globalThis['loadedSegm'+'ents']['push'](_0x16ba57['sg']+'_'+_0x1c4892);const _0x3589a6=await _0xdc59bc(_0x301212,_0x14e81a,_0x16f5e9,_0x16ba57['sg'],_0x1c4892);_0x48b49b['push'](_0x3589a6['decoded']),_0x22c5c9['push'](_0x3589a6['metadata']);}return _0x4a8755(_0x48b49b,_0x16f5e9,_0x301212['comments']);},_0x9544ce=async(_0x127fd2,_0x50e03c,_0x2740e3)=>{if(!_0x2740e3||_0x2740e3['length']===-0x2*0xc06+0xa8b+0xd81)return{'decoded':[],'metadata':[]};const _0x3a5b47=_0x50e03c['id'],_0x1f1846=_0x127fd2['schemas'][_0x3a5b47]['attributes'],_0x4e0ce1=_0x50e03c['segmentTem'+'plate'][0x215f+-0x14a0+-0xcbf];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x545f7a=_0x4e0ce1['segmentTim'+'eline'][_0x2740e3[-0x2fe*-0x9+0x1360+0x1727*-0x2]];globalThis['currentLoa'+'dSg']!==_0x545f7a['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x10827f=>!_0x10827f['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x545f7a['sg']);let _0x5c33aa;const _0x112f42=[];for(const _0x404f32 of _0x2740e3){_0x5c33aa=_0x4e0ce1['segmentTim'+'eline'][_0x404f32];for(const _0x317ac1 of _0x5c33aa['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x5c33aa['sg']+'_'+_0x317ac1)||(globalThis['loadedSegm'+'ents']['push'](_0x5c33aa['sg']+'_'+_0x317ac1),_0x112f42['push'](_0x317ac1));}const _0x5c9ab3=await _0xdc59bc(_0x127fd2,_0x50e03c,_0x1f1846,_0x5c33aa['sg'],_0x112f42);_0x5c9ab3['metadata'];const _0x50a394=_0x5c9ab3['decoded'];return _0x4a8755(_0x50a394,_0x1f1846,_0x127fd2['comments']);},_0xdc59bc=async(_0x38b3bc,_0x5aca59,_0x3f8c2d,_0x1e2860,_0x19d800)=>{const _0x11b870=_0x38b3bc['baseUrl'],_0x2b2539=_0x5aca59['segmentTem'+'plate'][-0xe5c*0x1+0x1d45+0x15b*-0xb]['media'],_0x544ad9=_0x19d800['map'](_0x38d853=>''+_0x11b870+_0x2b2539['replace']('$SegGroupI'+'ndex$',String(_0x1e2860))['replace']('$NodeIndex'+'$',String(_0x38d853))),_0x65da0e=await Promise['all'](_0x544ad9['map'](async _0x198b8f=>{const _0x5e150e=await _0x25d398(_0x198b8f),_0x20c69e=_0x5e150e['metadata'],_0x17c6ef=_0x5e150e['segmentDat'+'a'],_0x2bc061=_0x20c69e['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x198b8f),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x20c69e['timeStart'],'segment\x20ti'+'meEnd:',_0x20c69e['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x2bc061);let _0x15c91c;if(_0x5aca59['id']['includes']('quantized')){const _0x418ae5=_0x20c69e['chunk_boun'+'ds'];_0x15c91c=_0x4442c2(_0x17c6ef,_0x2bc061,_0x3f8c2d,_0x1e2860,_0x418ae5);}else _0x15c91c=_0xd8693c(_0x17c6ef,_0x2bc061,_0x3f8c2d,_0x1e2860);return{'decoded':_0x15c91c,'metadata':_0x20c69e};})),_0x19ae9c=_0x65da0e['map'](_0x30291e=>_0x30291e['decoded']),_0x81a088=_0x65da0e['map'](_0x1c484b=>_0x1c484b['metadata']);return{'decoded':_0x19ae9c,'metadata':_0x81a088};},_0x4a8755=(_0x335150,_0xd328fa,_0x4b3da0)=>{if(_0x335150['length']===0x1c0e+0x875+-0x1*0x2483)return new _0x383d18([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0xdea+-0x1ecb*0x1+0x2cb5),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x17be+0xb23*-0x1+-0x1*-0x22e1),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x600+0x1a56*0x1+-0x2056),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x201a+-0x2393+0x379),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x1*0x821+0xc9*0x22+0x31*-0x61),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(-0x5cc+-0x1e55+0x2421),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x1c03+-0x76e*-0x4+-0x39bb),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x8b*-0x40+-0x8d1+0x8a5*-0x3),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x311*0x6+-0x1eac+-0x16*-0x23b),'byteSize':0x4}]}],_0x4b3da0);const _0x25ddda=_0x36e10c(_0x335150),[_0x4688cb,_0x2517b0,_0x539268]=_0xa78633(_0x25ddda['lifecycle'],0x204a+-0x9f*0x1b+-0xf82,Float32Array),_0xb56c9d=_0x25ddda['time_index'],_0x52abd1=_0xd328fa['find'](_0x663ede=>_0x663ede['name']==='feature_re'+'st'),_0xe54331=[];if(_0x52abd1&&_0x25ddda['feature_re'+'st']){const _0x417728=_0x52abd1['dataType']['split'](',')[-0x479*0x8+-0x1e32+-0x7f*-0x85]['trim']()['replace']('>',''),_0xaf00dd=_0xa78633(_0x25ddda['feature_re'+'st'],-0x120e+0x227d+-0x4*0x41b,Float32Array);for(const _0x281e45 of _0xaf00dd){const _0x1104ba=_0xa78633(_0x281e45,_0x417728/(-0x1*0x54d+0x99b*0x1+-0x1*0x44b),Float32Array);for(let _0x58ef87=0x2427+0x2531+0x92b*-0x8;_0x58ef87<_0x1104ba['length'];_0x58ef87++)_0xe54331['push']({'name':'f_rest_'+_0x58ef87,'type':'float','storage':_0x1104ba[_0x58ef87],'byteSize':0x4});}}return new _0x383d18([{'name':'vertex','count':_0x25ddda['position']['length']/(-0x1*0x4a9+-0x1*-0x1889+0x1*-0x13dd),'properties':[{'name':'position','type':'float','storage':_0x25ddda['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x25ddda['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x2517b0,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x4688cb,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x539268,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x25ddda['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x25ddda['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x25ddda['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0xb56c9d,'byteSize':0x4},..._0xe54331]}],_0x4b3da0);},_0xa78633=(_0x2debf3,_0x3c818e,_0x1bd159)=>{const _0x1c3116=new Array(_0x3c818e),_0x3bca63=Math['floor'](_0x2debf3['length']/_0x3c818e),_0x1948f0=_0x2debf3['length']%_0x3c818e;for(let _0x1baee5=0x1f3+-0x1*0xa85+0x1*0x892;_0x1baee5<_0x3c818e;_0x1baee5++){const _0x4a1f59=_0x1baee5<_0x1948f0?_0x3bca63+(-0x1c7a+-0x198e+-0x3609*-0x1):_0x3bca63;_0x1c3116[_0x1baee5]=new _0x1bd159(_0x4a1f59);}for(let _0x470174=-0xb75*0x1+-0x13ce+0x1f43;_0x470174<_0x2debf3['length'];_0x470174++){const _0x4e4b59=_0x470174%_0x3c818e,_0x158561=Math['floor'](_0x470174/_0x3c818e);_0x1c3116[_0x4e4b59][_0x158561]=_0x2debf3[_0x470174];}return _0x1c3116;},_0x25d398=async _0x356348=>{const _0x2b0c45=new _0x9aea(_0x356348),{metadata:_0x16eebd,segmentData:_0x3f5bb1}=await _0x2b0c45['readFragme'+'nt']();return{'metadata':_0x16eebd,'segmentData':_0x3f5bb1};},_0x2fae9d=(_0x461ec1,_0x504ff9)=>{let _0x3665fe,_0x203039,_0x10e584=-(0xb1*-0x1e+-0xa63+0x63a*0x5);if(_0x461ec1['encoding']){const _0x4076f1=_0x461ec1['encoding']['storageTyp'+'e'];if(_0x4076f1==='uint32')_0x203039=Uint32Array,_0x3665fe=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x4076f1['startsWith']('array<ucha'+'r')){_0x203039=Uint8Array;const _0x5bcd70=_0x4076f1['split'](',')[-0x17*0x9+0x4*0x3ce+0x1*-0xe68]['trim']()['replace']('>','');_0x10e584=parseInt(_0x5bcd70),_0x3665fe=_0x10e584*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x4076f1);}}else{if(_0x203039=Float32Array,_0x461ec1['dataType']==='vec3f')_0x3665fe=(0x1d77+0xc12+-0x2986)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x461ec1['dataType']==='vec4f')_0x3665fe=(-0x683+0x1*0x1d04+0x39*-0x65)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x461ec1['dataType']==='vec2f')_0x3665fe=(-0x1*-0xe15+0x2443+0x3256*-0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x461ec1['dataType']['startsWith']('array<floa'+'t')){const _0x524b39=_0x461ec1['dataType']['split'](',')[0x6b*-0x1+0x1*0x22ca+0x35*-0xa6]['trim']()['replace']('>','');_0x10e584=parseInt(_0x524b39),_0x3665fe=_0x10e584*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x461ec1['dataType']);}}}}return{'dataSize':_0x504ff9*_0x3665fe,'datatype':_0x203039,'arraySize':_0x10e584};},_0x29e520=(_0x4d39fb,_0x2611d4)=>{const _0xb5f410=(0x22d0+0x59f*-0x4+-0x1*0xc53<<_0x2611d4)-(0xe5+0x7*-0x49+0x11b*0x1);return(_0x4d39fb&_0xb5f410)/_0xb5f410;},_0x4ae614=_0x2b32dd=>{const _0x1ce78e=new Float32Array(_0x2b32dd['length']*(0x1a45+0x94f*0x4+0x36*-0x12d));for(let _0x21d58f=-0x23f+0xddc+-0xb9d;_0x21d58f<_0x2b32dd['length'];_0x21d58f++)_0x1ce78e[_0x21d58f*(0xf*-0xca+0x1*-0x759+0x1332)]=_0x29e520(_0x2b32dd[_0x21d58f]>>>0x1b6f*-0x1+0x17*-0x10d+0x1*0x33af,0x6f*-0x5+0x2655+-0x7*0x529),_0x1ce78e[_0x21d58f*(0xa2+0x54d+-0x2*0x2f6)+(-0x251f+-0x763*0x4+0xfb*0x44)]=_0x29e520(_0x2b32dd[_0x21d58f]>>>0x35*0x4f+0x25fb*-0x1+-0x2b*-0x81,0x14a0+0x236d+-0x3803),_0x1ce78e[_0x21d58f*(-0x1022+-0x2*-0x805+0x1b)+(-0x15ae+0x1513*0x1+0x9d)]=_0x29e520(_0x2b32dd[_0x21d58f],0x8b4+-0x1c19+0x8*0x26e);return _0x1ce78e;},_0x6eb560=_0x4b0f1a=>{const _0x351c87=new Float32Array(_0x4b0f1a['length']*(-0x119*0x1+0x1ddd+0x2e*-0xa0));for(let _0x426e41=-0x1bd9+-0xcc9+0x28a2;_0x426e41<_0x4b0f1a['length'];_0x426e41++)_0x351c87[_0x426e41*(0x666*-0x4+-0x1678+0x3014)]=_0x29e520(_0x4b0f1a[_0x426e41]>>>0x3*-0x169+0x4*0x65+0x2bf,-0x1458+0x20b3+0x277*-0x5),_0x351c87[_0x426e41*(0xf61+-0xaf*0xe+-0x5cb)+(0x1b89+0x977+-0x24ff)]=_0x29e520(_0x4b0f1a[_0x426e41]>>>0x17b8+0x371*0x1+0x7*-0x3df,0x1c52+0x69d+-0x22e7),_0x351c87[_0x426e41*(0x15a0+-0x16b*0x1+-0x1431)+(-0x1d8a+-0x1e55*-0x1+-0xc9)]=_0x29e520(_0x4b0f1a[_0x426e41]>>>0x35f*0x5+0x1aff+0x47*-0x9e,-0x1953*0x1+-0x1*0x1939+-0x1f2*-0x1a),_0x351c87[_0x426e41*(0x29*0x57+-0xf5*-0x25+-0x3154)+(0x11+-0x68f*0x1+0x681)]=_0x29e520(_0x4b0f1a[_0x426e41],0xc9e+-0x7f2*0x3+0xb40);return _0x351c87;},_0x46feda=_0x1332a2=>{const _0x54b8fc=new Float32Array(_0x1332a2['length']*(0x1df*-0x3+-0x2462+0x2a02)),_0x4ef4d0=(-0xf6*0x22+0x7*-0x1cd+0x114*0x2a)/(Math['sqrt'](-0x26d3+0x2e6*0x2+0x2109*0x1)*(0x25a1+-0x85a+-0x1d47+0.5));for(let _0x4c8068=0x13*-0xb7+0x1d33+-0x7cf*0x2;_0x4c8068<_0x1332a2['length'];_0x4c8068++){const _0x576a34=(_0x29e520(_0x1332a2[_0x4c8068]>>>-0x13*-0xdd+0x9ec+-0x1a3f,-0x2234+0x1*-0x44f+0x47*0x8b)-(0x1e3f+0x1fb3+-0x3*0x14a6+0.5))*_0x4ef4d0,_0x3fb516=(_0x29e520(_0x1332a2[_0x4c8068]>>>-0x1762+-0x47d+0x1be9*0x1,0x51f+-0x1*-0x3a2+-0x8b7)-(-0x7ad+0x11*-0x11+0x62*0x17+0.5))*_0x4ef4d0,_0x19e1d8=(_0x29e520(_0x1332a2[_0x4c8068],-0x167*0x11+-0x1*-0x1e9b+-0x6ba)-(0xc82*0x2+0x1*-0x243f+0xb3b+0.5))*_0x4ef4d0,_0x540387=Math['sqrt'](-0x21e0+0xb3e*0x1+-0x1*-0x16a3-(_0x576a34*_0x576a34+_0x3fb516*_0x3fb516+_0x19e1d8*_0x19e1d8));let _0x389e76=-0xb*-0x4c+-0x7b2+0x46e,_0x159d28=-0x2*0x125f+-0xce*0x28+-0x11*-0x40e,_0xf8689f=0x11*-0x1c7+0x7f2+0x1645,_0xd2adda=-0x1*-0x25d0+-0xce*-0x16+0x286*-0x16;switch(_0x1332a2[_0x4c8068]>>>-0x84d+-0xeb1+0x171c){case-0x21fe+-0x9ce+-0x4*-0xaf3:_0x389e76=_0x540387,_0x159d28=_0x576a34,_0xf8689f=_0x3fb516,_0xd2adda=_0x19e1d8;break;case-0x132f+0x1*-0x20f3+0x3423:_0x389e76=_0x540387,_0x159d28=_0x3fb516,_0xf8689f=_0x19e1d8,_0xd2adda=_0x576a34;break;case 0xf1*-0x20+0x13f1*-0x1+-0x1*-0x3213:_0x389e76=_0x3fb516,_0x159d28=_0x540387,_0xf8689f=_0x19e1d8,_0xd2adda=_0x576a34;break;case 0xd0f+0x41*0x56+0x22e2*-0x1:_0x389e76=_0x3fb516,_0x159d28=_0x19e1d8,_0xf8689f=_0x540387,_0xd2adda=_0x576a34;break;}const _0x1e118f=_0x36d02f(_0x389e76,_0x159d28,_0xf8689f,_0xd2adda);_0x54b8fc[_0x4c8068*(0x999+0xa8f+0x1425*-0x1)]=_0x1e118f['x'],_0x54b8fc[_0x4c8068*(-0x2e1*0x1+-0xd61+-0x23*-0x77)+(-0x4f*0x36+0x14f0+0x445*-0x1)]=_0x1e118f['y'],_0x54b8fc[_0x4c8068*(0x1bd9+-0x22fe+0x728)+(0x1652+-0x56*0x4+-0x14f8)]=_0x1e118f['z'];}return _0x54b8fc;},_0x400336=(_0x333171,_0x8552,_0x4398fb)=>{const _0x556a65=_0x4398fb-_0x8552,_0x42ce8b=new Float32Array(_0x333171['length']);for(let _0x1ba3c0=-0x58d*0x1+0x1*-0x31d+0x8aa;_0x1ba3c0<_0x333171['length'];_0x1ba3c0++)_0x42ce8b[_0x1ba3c0]=_0x333171[_0x1ba3c0]/(-0x9ef+0x189f+-0xdb1)*_0x556a65+_0x8552;return _0x42ce8b;},_0x516906=new Float32Array(0xc32*0x3+0x19f6+0x1b*-0x251),_0x3e8657=new Int32Array(_0x516906['buffer']),_0x1d718a=_0x2ab110=>{_0x516906[-0x5f3*-0x6+-0xee3*0x1+-0x14cf]=_0x2ab110;const _0x2dc6c3=_0x3e8657[-0x1792*0x1+-0xa40+-0x75*-0x4a];let _0xb71856=_0x2dc6c3>>0x1b*0xb5+0x2*0x10cf+-0x34a5&-0x1*0x75f1+-0x15b*0x2f+-0xa*-0x1ef7,_0x5c2ec3=_0x2dc6c3>>-0x54f*-0x1+-0x1fa3+0xd3*0x20&-0x1*0xefb+0x1898+-0x19e;const _0x55d134=_0x2dc6c3>>-0x5e*0x1d+-0x1*-0x181d+-0xd60&-0xa3*-0x11+-0x139c+0x9c8;return _0x55d134<0x7c*0x4f+0xb6c+0x155*-0x25?_0xb71856:_0x55d134>0x1*-0x11ed+-0x2c+0x5*0x3bb?(_0xb71856|=0x3a2c+-0x65f*0xd+0x285*0x3b,_0xb71856|=(_0x55d134===-0x1*-0x1cb4+-0x4c*0x47+-0x6a1?-0x423+0xf8*-0x1+0x51b:0xbd3+0x2f*-0x1f+-0x621)&&_0x2dc6c3&-0x1cdda4*-0x2+0x474105+-0xfc4e,_0xb71856):_0x55d134<0x1910+0x11d5+-0x2a74?(_0x5c2ec3|=-0x413*0x1+-0x29*0x6+-0x2f*-0x47,_0xb71856|=(_0x5c2ec3>>0xbf8+-0x1161+0x1*0x5db-_0x55d134)+(_0x5c2ec3>>0x19a9*-0x1+0x52a*-0x4+-0xd2*-0x39-_0x55d134&-0x2*-0xffb+-0x1*-0x136c+0x7*-0x757),_0xb71856):(_0xb71856|=_0x55d134-(0xef9*-0x1+0x1f06+-0xf9d)<<0x114+0x1*0x2333+-0x243d|_0x5c2ec3>>-0x1560+0x262e+-0x10cd,_0xb71856+=_0x5c2ec3&0xada+-0x790+-0x349,_0xb71856);},_0x55e95c=_0x3acf23=>{const _0x14ab8f=new Uint16Array(_0x3acf23['length']);for(let _0x56386b=0x18f5+0x5*0x125+0x2*-0xf57;_0x56386b<_0x3acf23['length']/(-0x7*0xd4+-0x13b+0x70b);++_0x56386b)_0x14ab8f[_0x56386b*(-0x97a+-0xe64*-0x2+-0x134a)]=_0x1d718a(_0x3acf23[_0x56386b*(-0x2204+0xfb1*-0x2+0x416a)]*_0x2e9057+(0x18*-0x195+-0x8aa+0x1*0x2ea2+0.5)),_0x14ab8f[_0x56386b*(-0x1f*-0xe3+0x10be+-0x21b*0x15)+(-0x4f*0x27+-0xcc4*-0x1+0x3e*-0x3)]=_0x1d718a(_0x3acf23[_0x56386b*(-0x1*0x1615+0xba4+0x1*0xa75)+(0xa7f+0x14a7*0x1+0x43*-0x77)]*_0x2e9057+(0x2179+-0x212c+-0x4d+0.5)),_0x14ab8f[_0x56386b*(-0x185+0x83*-0x3e+-0x6a7*-0x5)+(-0x6ad*0x4+0x20ec+-0x3*0x212)]=_0x1d718a(_0x3acf23[_0x56386b*(0x3*0x417+0x1763*-0x1+0x96*0x13)+(-0x3c*-0x4+-0x1c76+0x1b88)]*_0x2e9057+(-0xcc5+-0x572+0x1237+0.5)),_0x14ab8f[_0x56386b*(-0x6d*-0xe+-0x1d0d+-0x5*-0x49f)+(0x42*-0x54+-0x1a*-0x7a+0x947)]=_0x1d718a(_0x3acf23[_0x56386b*(0x12ad+-0x5f5*-0x4+-0x2a7d)+(-0x25*-0x26+0xcb*0x9+-0xc9e)]);return _0x14ab8f;},_0x2700e4=new _0x5744f0(0x254f*0x1+0x2b+-0x4e*0x7b,0x83*-0x1b+0x9e1+0x3f0,0x12b5+-0x1*-0x1cea+-0x2f9f,0x264f+0xd8f+-0x33de),_0x36d02f=(_0x187bd9,_0x3d8e27,_0x36698a,_0x113f25)=>(_0x2700e4['set'](_0x3d8e27,_0x36698a,_0x113f25,_0x187bd9),_0x2700e4['normalize'](),_0x2700e4['w']<0x18ab*-0x1+0x2*-0xc00+0x30ab&&_0x2700e4['mulScalar'](-(-0x7*-0x2d7+0x18d*0x16+-0x35fe)),_0x2700e4);function _0x4442c2(_0x29d1ae,_0x4af562,_0x5bf002,_0xb3eca9,_0x9c7041){const _0x23fcc7=_0x9c7041[Object['keys'](_0x9c7041)[-0x2*0x1061+-0xe15+-0xf9d*-0x3]]['length'],_0xacf928=-0x25e4+-0x1827+-0x1*-0x3f0b;let _0x5c2b5a=[],_0x2ed520=_0x4af562;for(let _0x44a13e=0x1*-0x104f+-0x997+0x19e6;_0x44a13e<_0x23fcc7;_0x44a13e++){const _0x2200f1=Math['min'](_0xacf928,_0x2ed520);_0x5c2b5a['push'](_0x2200f1),_0x2ed520-=_0x2200f1;}let _0x4979aa=0x1d0*0x2+0x2f7+-0x697,_0x4e8cef={};for(let _0x1254b9 of _0x5bf002){const _0x4d31a2=_0x1254b9['name'],{dataSize:_0x267856,datatype:_0x46e075}=_0x2fae9d(_0x1254b9,_0x4af562);let _0x5d4ca5=_0x29d1ae['buffer']['slice'](_0x4979aa,_0x4979aa+_0x267856),_0x18ef30=new _0x46e075(_0x5d4ca5);_0x4e8cef[_0x4d31a2]=_0x18ef30,_0x4979aa+=_0x267856;}let _0x177ea1=[],_0x4cb754=0x2015+0x98e*0x2+-0x3331;for(let _0x3e1a34=-0xe8b+-0x7af+-0x5*-0x472;_0x3e1a34<_0x23fcc7;_0x3e1a34++){const _0x51aaca=_0x38a79e(_0x4e8cef,_0x9c7041,_0x3e1a34,_0x5c2b5a,_0x4cb754,_0x5bf002),_0xe28647=_0x51aaca['chunkDecom'+'pressed'];_0x177ea1['push'](_0xe28647),_0x4cb754=_0x51aaca['chunkStart'+'Idx'];}let _0x21510c={};for(let _0x216033 of Object['keys'](_0x177ea1[0x542*-0x3+0x9*-0x3e2+-0x6*-0x874])){let _0x89613d=-0x15b+-0x734*-0x3+-0x1441;for(let _0x3debd9=0xc18+-0x1*-0x106f+-0x1c87;_0x3debd9<_0x177ea1['length'];_0x3debd9++)_0x89613d+=_0x177ea1[_0x3debd9][_0x216033]['length'];_0x216033==='color_opac'+'ity'||_0x216033==='scale'?_0x21510c[_0x216033]=new Uint16Array(_0x89613d):_0x21510c[_0x216033]=new Float32Array(_0x89613d);let _0xbe43e1=-0x4a*-0x7f+-0x1*0xbaa+-0x190c;for(let _0x2b03ae=-0x2295+0x16*0xe+-0x6ad*-0x5;_0x2b03ae<_0x177ea1['length'];_0x2b03ae++)_0x21510c[_0x216033]['set'](_0x177ea1[_0x2b03ae][_0x216033],_0xbe43e1),_0xbe43e1+=_0x177ea1[_0x2b03ae][_0x216033]['length'];}return _0x5bf002['some'](_0x565ff7=>_0x565ff7['name']==='feature_re'+'st')&&(_0x21510c['feature_re'+'st']=_0x4bc370(_0x4e8cef,_0x5bf002)),_0x21510c['time_index']=new Float32Array(_0x4af562),_0x21510c['time_index']['fill'](_0xb3eca9-(0x248b+0x2*0x72f+0x32e8*-0x1)),_0x21510c;}const _0x38a79e=(_0x31e097,_0x4816ae,_0x4ba477,_0xf1680c,_0x5868b2,_0x4a15c8)=>{const _0x33484f=_0xf1680c[_0x4ba477],_0x374be8=_0x5868b2+_0x33484f,_0x5646f0=(_0x5a9263,_0xd68ca4,_0x5da779)=>_0x5a9263*(-0x4*-0x35e+0x6a*0x3b+-0x25e5-_0x5da779)+_0xd68ca4*_0x5da779;let _0x3fbeb0={};for(let _0x4928f3 of _0x4a15c8){const _0x299fd8=_0x4928f3['name'],_0x40fbd6=_0x4928f3['encoding']['codec'],_0x57be89=_0x31e097[_0x299fd8]['slice'](_0x5868b2,_0x374be8);if(_0x40fbd6==='pack_11_10'+'_11'){if(_0x299fd8==='scale'){const _0x53e0eb=_0x4816ae['min_scales'][_0x4ba477],_0x552cf9=_0x4816ae['max_scales'][_0x4ba477],_0x471244=_0x4ae614(_0x57be89),_0x2f4ed5=_0x471244['length'],_0x117991=new Uint16Array(_0x2f4ed5);for(let _0x2f9fc5=0x1*-0x20ff+0x98f*-0x2+0x341d;_0x2f9fc5<_0x2f4ed5;_0x2f9fc5++)_0x117991[_0x2f9fc5]=_0x1d718a(Math['exp'](_0x5646f0(_0x53e0eb[_0x2f9fc5%(-0xa*0x3c7+-0x49*-0xc+-0x1cf*-0x13)],_0x552cf9[_0x2f9fc5%(-0x14d*0x3+-0x20a3+-0x248d*-0x1)],_0x471244[_0x2f9fc5])));_0x3fbeb0[_0x299fd8]=_0x117991;}else{const _0x4a3e9a=_0x4ae614(_0x57be89);let _0x36563f,_0x523b67;if(_0x299fd8==='position')_0x36563f=_0x4816ae['min_means'][_0x4ba477],_0x523b67=_0x4816ae['max_means'][_0x4ba477];else{if(_0x299fd8==='motion')_0x36563f=_0x4816ae['min_motion'][_0x4ba477],_0x523b67=_0x4816ae['max_motion'][_0x4ba477];else{if(_0x299fd8==='lifecycle'){const _0x327739=_0x4816ae['min_t_scal'+'e'][_0x4ba477],_0xd226c5=_0x4816ae['max_t_scal'+'e'][_0x4ba477],_0x58a0bc=_0x4816ae['min_time'][_0x4ba477],_0x5b571a=_0x4816ae['max_time'][_0x4ba477],_0x438273=_0x4816ae['min_cutoff'][_0x4ba477],_0x45972e=_0x4816ae['max_cutoff'][_0x4ba477];_0x36563f=[_0x327739[0x1*-0x233b+0x3*0xb09+0x22*0x10],_0x58a0bc[-0x4*0x5bf+0x61*-0x36+0x2b72],_0x438273[0x8*-0xe9+-0xe9*0x1a+0x1ef2]],_0x523b67=[_0xd226c5[0x265f+-0xf4+-0x256b],_0x5b571a[-0x124f+0x7*-0x457+0x30b0],_0x45972e[-0x5*0x51b+-0xfe6+0x3*0xdcf]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x299fd8);}}for(let _0x53cf56=-0x2*0x108+0xd35+-0x13d*0x9;_0x53cf56<_0x4a3e9a['length'];_0x53cf56++)_0x4a3e9a[_0x53cf56]=_0x5646f0(_0x36563f[_0x53cf56%(0x1*0x77b+-0xc2a+0x4b2)],_0x523b67[_0x53cf56%(-0xa3e+-0x1135+-0x2*-0xdbb)],_0x4a3e9a[_0x53cf56]);_0x3fbeb0[_0x299fd8]=_0x4a3e9a;}}else{if(_0x40fbd6==='pack_8888'){let _0x404237=_0x6eb560(_0x57be89);const _0x534889=_0x4816ae['min_colors'][_0x4ba477],_0xaf7448=_0x4816ae['max_colors'][_0x4ba477],_0x1b2ebe=new Uint16Array(_0x404237['length']);for(let _0x38fb85=-0x1*0x198f+0x1499+0x4f6;_0x38fb85<_0x404237['length'];_0x38fb85++){const _0x961673=_0x38fb85*(0x578+0x242+-0x7b6);_0x1b2ebe[_0x961673]=_0x1d718a(_0x5646f0(_0x534889[0x3ab+0x237d+-0x2728],_0xaf7448[-0x1*0x24b1+-0x1*-0x910+0x1ba1*0x1],_0x404237[_0x961673])),_0x1b2ebe[_0x961673+(0x87c+0x87f+-0x52*0x35)]=_0x1d718a(_0x5646f0(_0x534889[0x67a*0x1+-0x4ca+-0x1*0x1af],_0xaf7448[-0x1c1*-0x13+0x1*-0x24df+-0x38d*-0x1],_0x404237[_0x961673+(-0xdb1+0x1635+-0x1*0x883)])),_0x1b2ebe[_0x961673+(0xf8d*0x1+0x177f*-0x1+0x1*0x7f4)]=_0x1d718a(_0x5646f0(_0x534889[0x7a2+0x5d6+-0xd76],_0xaf7448[-0x8f7+0x1052*0x1+-0x39*0x21],_0x404237[_0x961673+(-0x1409+-0x975+0x8*0x3b0)])),_0x1b2ebe[_0x961673+(-0x21c6+0x95b+-0x6a*-0x3b)]=_0x1d718a(_0x404237[_0x961673+(-0xbd*-0x2b+-0x34*-0x53+-0x3098)]);}_0x3fbeb0[_0x299fd8]=_0x1b2ebe;}else{if(_0x40fbd6==='pack_rotat'+'ion_32'){const _0x4791ea=_0x46feda(_0x57be89);_0x3fbeb0[_0x299fd8]=_0x4791ea;}else{if(_0x40fbd6==='range_quan'+'t_u8'){if(_0x299fd8==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x40fbd6);}}}}}return{'chunkDecompressed':_0x3fbeb0,'chunkStartIdx':_0x374be8};},_0x4bc370=(_0x28800c,_0x4466c0)=>{const _0x1cb570='feature_re'+'st',_0x3ec45d=_0x4466c0['find'](_0x164846=>_0x164846['name']===_0x1cb570);let _0x58af56;const _0x456e31=_0x3ec45d['encoding']['codec'],_0x43776b=_0x28800c[_0x1cb570];if(_0x456e31==='range_quan'+'t_u8'){const [_0x340c2e,_0x34e30e]=_0x3ec45d['encoding']['range'];_0x58af56=_0x400336(_0x43776b,_0x340c2e,_0x34e30e);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x456e31);return _0x58af56;},_0xd8693c=(_0x34610b,_0x509825,_0x5f066c,_0x1e4cc6)=>{let _0x202504=-0x409+0x1*0x470+-0x67;const _0x5f3f9b={};for(const _0x476a5e of _0x5f066c){const {dataSize:_0xb1523c}=_0x2fae9d(_0x476a5e,_0x509825);if(['vec3f','vec4f','vec2f']['includes'](_0x476a5e['dataType']))_0x5f3f9b[_0x476a5e['name']]=new Float32Array(_0x34610b['buffer']['slice'](_0x202504,_0x202504+_0xb1523c));else{if(_0x476a5e['dataType']['startsWith']('array<floa'+'t'))_0x5f3f9b[_0x476a5e['name']]=new Float32Array(_0x34610b['buffer']['slice'](_0x202504,_0x202504+_0xb1523c));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x476a5e['dataType']);}_0x202504+=_0xb1523c;}const _0x459a50=new Uint16Array(_0x5f3f9b['scale']['length']);for(let _0x5cbe60=-0x1*-0xa65+0x25c6+0xd1*-0x3b;_0x5cbe60<_0x5f3f9b['scale']['length'];_0x5cbe60++)_0x459a50[_0x5cbe60]=_0x1d718a(Math['exp'](_0x5f3f9b['scale'][_0x5cbe60]));_0x5f3f9b['scale']=_0x459a50;const _0x2cae53=_0x5f3f9b['rotation']['length']/(0x155*-0x13+0x34*-0x46+0x278b),_0x192e0d=new Float32Array(_0x2cae53*(-0x11ea*-0x1+0x741+-0xe*0x1cc));for(let _0x359f03=0x220b+0x1b69+-0x3d74;_0x359f03<_0x2cae53;_0x359f03++){const _0x4a9b17=_0x36d02f(_0x5f3f9b['rotation'][_0x359f03*(0x8+0xca4+-0xca8)],_0x5f3f9b['rotation'][_0x359f03*(0x24ea+-0x12be+-0x1228)+(0x341*0x8+-0x1f31+0x52a)],_0x5f3f9b['rotation'][_0x359f03*(0x191*0xb+0x4*-0xc7+-0xe1b)+(0x5b6+0x5*-0x62d+0x192d)],_0x5f3f9b['rotation'][_0x359f03*(-0x1*0x1141+-0x71*0xd+-0x1*-0x1702)+(0x1*0xc6e+0x2ea+-0xf55)]);_0x192e0d[_0x359f03*(0x25d9+-0x2*-0x15d+0xb*-0x3b0)]=_0x4a9b17['x'],_0x192e0d[_0x359f03*(-0x2*-0xa97+-0x2*-0xa8d+-0x2a45)+(0xfe0+-0x1c8c+0xcad)]=_0x4a9b17['y'],_0x192e0d[_0x359f03*(0x1f24+-0x82e+0x1*-0x16f3)+(-0x120e*0x1+-0x2267*-0x1+-0x1057)]=_0x4a9b17['z'];}return _0x5f3f9b['rotation']=_0x192e0d,_0x5f3f9b['color_opac'+'ity']=_0x55e95c(_0x5f3f9b['color_opac'+'ity']),_0x5f3f9b['time_index']=new Float32Array(_0x509825),_0x5f3f9b['time_index']['fill'](_0x1e4cc6-(0x109+0x1c7*0x11+-0x1*0x1f3f)),_0x5f3f9b;},_0x36e10c=(_0x1db75c,_0x421d94)=>{const _0x182501={};if(_0x1db75c['length']===0x263e+-0x74c+-0x1ef1*0x1)return _0x1db75c[0x10b1+0x12c9+-0x26*0xef];for(const _0x525eba of Object['keys'](_0x1db75c[-0x231*-0xd+-0x614+0x1*-0x1669]))if(_0x1db75c[-0x4bc+-0xae2+0xf9e*0x1][_0x525eba]instanceof Float32Array||_0x1db75c[0xb7b*-0x3+0x440+-0x83*-0x3b][_0x525eba]instanceof Uint16Array){const _0x45154e=_0x1db75c['reduce']((_0x39f06a,_0x34a009)=>_0x39f06a+_0x34a009[_0x525eba]['length'],-0x52d+-0x1a04+0x63d*0x5);let _0x4ee509;_0x1db75c[-0x110*0x3+0xbb+0x275*0x1][_0x525eba]instanceof Uint16Array?_0x4ee509=new Uint16Array(_0x45154e):_0x4ee509=new Float32Array(_0x45154e);let _0xc79642=0x156+-0x18e0+-0x2e*-0x83;for(const _0x2c1d3a of _0x1db75c)_0x4ee509['set'](_0x2c1d3a[_0x525eba],_0xc79642),_0xc79642+=_0x2c1d3a[_0x525eba]['length'];_0x182501[_0x525eba]=_0x4ee509;}else Array['isArray'](_0x1db75c[-0x19b+0x1*0x189e+0x1*-0x1703][_0x525eba])?_0x182501[_0x525eba]=_0x1db75c['flatMap'](_0x3bc769=>Array['from'](_0x3bc769[_0x525eba])):_0x182501[_0x525eba]=_0x1db75c['map'](_0x3a8af7=>_0x3a8af7[_0x525eba])['flat']();return _0x182501;};}class hk extends me{constructor(_0x4080b3){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x4080b3,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x53462c){var _0x49fcb7;return(_0x49fcb7=this['worker'])==null||_0x49fcb7['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x53462c}),new Promise((_0x2490c7,_0x2e94e0)=>{if(!this['worker']){_0x2e94e0(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x40d18b=>{if(!this['worker'])return;const {data:_0x51a267}=_0x40d18b;if(this['manifestUr'+'l']===_0x51a267['url'])switch(_0x51a267['type']){case'onloadMani'+'fest':_0x2490c7({'manifest':_0x51a267['data'],'url':_0x51a267['url'],'representation':_0x51a267['representa'+'tion']});break;case'error':_0x2e94e0(_0x51a267['data']);break;}};});}['loadGsdSeg'+'ments'](_0x287e99,_0x4dcc84){var _0x59bb58;return(_0x59bb58=this['worker'])==null||_0x59bb58['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x136302,_0x3bf315)=>{if(!this['worker']){_0x3bf315(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2b28bf=>{if(!this['worker'])return;const {data:_0x5f4ebb}=_0x2b28bf;if(this['manifestUr'+'l']===_0x5f4ebb['url'])switch(_0x5f4ebb['type']){case'progress':_0x287e99==null||_0x287e99(_0x5f4ebb['bytes'],_0x5f4ebb['totalLengt'+'h'],_0x5f4ebb['url']);break;case'loadGsdSeg'+'mentsDone':_0x136302(_0x5f4ebb['data']);break;case'error':_0x4dcc84==null||_0x4dcc84(_0x5f4ebb['data'],_0x5f4ebb['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x15eda2,_0x7f86dc,_0x364d4f){var _0x18eb77;return(_0x18eb77=this['worker'])==null||_0x18eb77['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x15eda2}),new Promise((_0x5029e5,_0xf83197)=>{if(!this['worker']){_0xf83197(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x355edf=>{if(!this['worker'])return;const {data:_0x2334bb}=_0x355edf;if(this['manifestUr'+'l']===_0x2334bb['url'])switch(_0x2334bb['type']){case'progress':_0x7f86dc==null||_0x7f86dc(_0x2334bb['bytes'],_0x2334bb['totalLengt'+'h'],_0x2334bb['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x5029e5(_0x2334bb);break;case'error':_0x364d4f==null||_0x364d4f(_0x2334bb['data'],_0x2334bb['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x2*0x1117+-0x1*0xad+-0x1*-0x22db));}}const Xh=class Xh{constructor(_0x5f03c8,_0x1329d2,_0x496293){h(this,'lastLoadIn'+'dex',0x53*-0x29+0x1*-0xde5+0x1b30),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x5f03c8,this['representa'+'tion']=_0x1329d2,this['gsdAssetPa'+'rser']=_0x496293,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x5f03c8,_0x1329d2));}['getSegment'+'Timeline'](_0x330049,_0x31cf82){let _0x1ceee5=null;for(const _0x492a30 of _0x330049['adaptation'+'Sets'])if(_0x492a30['contentTyp'+'e']==='4dgs'){for(const _0x35cbf5 of _0x492a30['representa'+'tions'])if(_0x35cbf5['id']===_0x31cf82){_0x1ceee5=_0x35cbf5;break;}break;}if(!_0x1ceee5)throw new Error('Representa'+'tion\x20\x27'+_0x31cf82+('\x27\x20not\x20foun'+'d'));return _0x1ceee5['segmentTem'+'plate'][0xff3+-0x4*-0x755+0x43*-0xad]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x2f335f){const _0x1f328d=this['findSegmen'+'tTimeline'](_0x2f335f);if(!_0x1f328d)return;const _0x13b66=_0x1f328d['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x477+-0x16cd*-0x1+0x13*-0xf7)?_0x1f328d['timelineIn'+'dex']+(0x5*-0x47e+0x1df*-0x6+0x7d*0x45):0x129f+-0x4f2+0x185*-0x9;this['lastLoadIn'+'dex']!==_0x13b66&&(this['lastLoadIn'+'dex']=_0x13b66,this['loadNextSe'+'gment'](_0x13b66));}async['loadNextSe'+'gment'](_0x437d6a){const _0x3b8a01=[];for(let _0x4fe4b2=0x13*0x155+0x1b51+-0x34a0;_0x4fe4b2<Xh['CACHE_COUN'+'T'];_0x4fe4b2++)_0x3b8a01['push']((_0x437d6a+_0x4fe4b2)%this['segmentTim'+'elines']['length']);const _0x1dbeef=_0x3b8a01[_0x3b8a01['length']-(-0x1f08+0x9d*-0x3b+0x9*0x778)],_0x59ef3e=this['segmentTim'+'elines'][_0x1dbeef]['t']+this['segmentTim'+'elines'][_0x1dbeef]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x3b8a01,_0x59ef3e);}['findSegmen'+'tTimeline'](_0x240ec6){let _0x220fb2=0x245*-0x1+0x1d54+-0x3*0x905,_0x1ccb2b=this['segmentTim'+'elines']['length']-(0x4eb+-0x14d2+0x1fd*0x8);for(;_0x220fb2<=_0x1ccb2b;){const _0xc2aa92=_0x220fb2+_0x1ccb2b>>0x284*0x5+-0x21*-0x94+0xdb*-0x25,{t:_0x1cabca,d:_0x2907c5}=this['segmentTim'+'elines'][_0xc2aa92];if(_0x240ec6<_0x1cabca)_0x1ccb2b=_0xc2aa92-(-0x1*-0x176f+-0x15*0x104+-0x21a);else{if(_0x240ec6>=_0x1cabca+_0x2907c5)_0x220fb2=_0xc2aa92+(-0x383+-0xd*-0xac+-0x538);else return{'timeline':this['segmentTim'+'elines'][_0xc2aa92],'timelineIndex':_0xc2aa92};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x2273*-0x1+-0x2a*-0x11+-0x1*0x2537);let Wu=Xh;class dk{constructor(_0x3b4269,_0x475cb3){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x1*-0x23ba+-0x16d8+-0xce1)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x3b4269,this['maxRetries']=_0x475cb3,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=0x1ef7+0x14*0x18b+-0x3dd3*0x1,this['manifest']={});}async['load'](_0x4f29b2,_0x2c0be3,_0x10da6a){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x4f29b2['load']);const _0x433f8d=_0x10da6a['data']['events'];this['events']=_0x433f8d,this['asset']=_0x10da6a,this['callback']=_0x2c0be3,this['timeOption']=_0x10da6a['data']['timeOption'];let _0x293539=_0x10da6a['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x4f29b2['load']);const _0x11d569=await this['readWorker']['loadGsdMan'+'ifest'](_0x293539);this['manifest']=_0x11d569['manifest'],_0x293539=_0x11d569['manifest']['representa'+'tion']||_0x293539,this['schedule']=new Wu(this['manifest'],_0x293539,this),this['totalRecei'+'vedCount']=-0x1d55+-0x593*0x5+0x82c*0x7;const _0x1d6c05=this['getSegment'+'Timeline'](this['manifest'],_0x293539),_0x325c11=_0x1d6c05[-0x1f*0x16+-0x6*-0x11e+0x2f*-0x16]['t']+_0x1d6c05[0xa1e+-0xa11+-0xd]['d'];this['appendload'+'DataTask']([0x1e24+0x55a+-0x237e,-0x241b+-0xf5f+0x337b],_0x325c11),_0x433f8d['on']('timeChange'+'d',_0x42e993=>{var _0xb03607;(_0xb03607=this['schedule'])==null||_0xb03607['onTimeChan'+'ged'](_0x42e993);});}['getSegment'+'Timeline'](_0x126077,_0x571836){let _0x56fa7a=null;for(const _0x1c2876 of _0x126077['adaptation'+'Sets'])if(_0x1c2876['contentTyp'+'e']==='4dgs'){for(const _0x14e114 of _0x1c2876['representa'+'tions'])if(_0x14e114['id']===_0x571836){_0x56fa7a=_0x14e114;break;}break;}if(!_0x56fa7a)throw new Error('Representa'+'tion\x20\x27'+_0x571836+('\x27\x20not\x20foun'+'d'));return _0x56fa7a['segmentTem'+'plate'][0x391+0x7*0x368+-0x1b69]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x7b10b5,_0x5c9079){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x7b10b5,'loadedTime':_0x5c9079}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x4*-0x1ab+-0x151d+0x3*0x943);try{for(;this['loadDataTa'+'skQueue']['length']>-0xabe+0x6*-0x3ca+0x217a;){const _0x2e731a=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x2e731a);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0xec7+-0x4*-0x721+0x6*-0x737);}}}async['loadGsplat'+'Data'](_0x10a571){var _0x2c7ff4,_0x528830;const {segmentIndexs:_0x127772,loadedTime:_0x23d725}=_0x10a571,_0x1b6b98=this['events'],_0x1258ae=this['asset'],_0x2a686d=this['callback'],_0x56fb64=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x127772,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x679*0x2+0x2331+-0x163d));try{const _0x20cbb6=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x127772,(_0x2951a1,_0x58fbd2)=>{this['totalRecei'+'ved']+=_0x2951a1,_0x1258ae&&_0x1b6b98['fire']('progress',this['totalRecei'+'ved'],_0x58fbd2);},(_0x5d65d0,_0x2190f6)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x2190f6,_0x5d65d0);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x1fce+0xabd*-0x2+-0xa52),_0x20cbb6['data']['elements'][0xe4+0x24a*-0x1+0x166]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x20cbb6['data']['elements'][0x190b+-0xb4a+0xdc1*-0x1]['count']*(-0x81f+0x2e*0x146+-0xb65))['toFixed'](-0x2264+-0x119c+0x3402));const _0x589fbe=_0x20cbb6['data'];if(_0x589fbe['elements'][0x1305+-0x59*-0x70+0x25*-0x191]['count']===-0x1f*0xd3+0x1d09+-0x37c)return;this['totalRecei'+'vedCount']+=_0x589fbe['elements'][-0xa7*0x1b+0x21de+0xdb*-0x13]['count'];const _0x426355=new iC(_0x589fbe['elements'],_0x589fbe['comments']);_0x1258ae['fire']('load:data',_0x426355);const _0x222913=_0x1258ae['data']['createTime']!==((_0x528830=(_0x2c7ff4=this['onlyOneAss'+'et'])==null?void(-0x168+0x2450+-0x22e8):_0x2c7ff4['data'])==null?void(0x766+-0x18+-0x74e):_0x528830['createTime']);this['gsplatReso'+'urce']&&!_0x222913?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x426355,_0x56fb64,_0x23d725,_0x1258ae)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x426355),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x56fb64,this['onlyOneAss'+'et']=_0x1258ae,_0x2a686d&&_0x2a686d(null,this['gsplatReso'+'urce']),_0x1b6b98['fire']('loadAllAss'+'etsDone'));}catch(_0x5a9c7d){console['error']('loadGsplat'+'Data','error',_0x5a9c7d),_0x2a686d&&_0x2a686d(_0x5a9c7d,null);}}['open'](_0x525155,_0x3f2914){return _0x3f2914;}}class fk extends Qe{constructor(_0x270b8b){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x270b8b,'gsplat'),this['parsers']={'ply':new lk(_0x270b8b,0xf85+-0xfcb+0x49),'json':new dk(_0x270b8b,0x2137+0x2*0x241+-0x25b6)};}['_getUrlWit'+'houtParams'](_0x431098){return _0x431098['indexOf']('?')>=0x10*-0x1bf+-0x80b+0x23fb?_0x431098['split']('?')[0xe3*0x1c+-0x1f02+0x62e]:_0x431098;}['_getParser'](_0x366ba2){const _0x3bf0d9=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x366ba2))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x3bf0d9]||this['parsers']['ply'];}['load'](_0x17d7f7,_0x679b50,_0x2c7379){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x17d7f7=='string'&&(_0x17d7f7={'load':_0x17d7f7,'original':_0x17d7f7}),this['_getParser'](_0x17d7f7['original'])['load'](_0x17d7f7,_0x679b50,_0x2c7379);}['open'](_0x4e59f9,_0x5d28e8,_0x44506c){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x5d28e8;}}class $u{static['setCompres'+'sedPRS'](_0x5c6ec6,_0x385d7d,_0x4a29d5){const _0x28b201=_0x4a29d5['singleVecs'];let _0x5f0eb4,_0x3767de;const _0x21b191=_0x385d7d['___1'];_0x21b191||(_0x5f0eb4=_0x4a29d5['tripleVecs'],_0x3767de=_0x385d7d['___2']);let _0x490e0a=_0x21b191?_0x21b191[-0x2316+0x1*-0x180f+0x3b25]:_0x5f0eb4[_0x3767de];_0x5c6ec6['setLocalPo'+'sition'](_0x28b201[_0x490e0a],_0x28b201[_0x490e0a+(-0x4*-0x178+-0x2f*-0x1d+0x599*-0x2)],_0x28b201[_0x490e0a+(-0x5*0x66e+0x7*0x45a+-0x7*-0x3e)]),_0x490e0a=_0x21b191?_0x21b191[-0x1dc1+0xe8+-0x99e*-0x3]:_0x5f0eb4[_0x3767de+(0x39*-0x2f+0xee9+-0x471)],_0x5c6ec6['setLocalEu'+'lerAngles'](_0x28b201[_0x490e0a],_0x28b201[_0x490e0a+(-0x1e4c*0x1+0xd21+0x1c*0x9d)],_0x28b201[_0x490e0a+(0xae*-0x24+-0x1079+-0x28f3*-0x1)]),_0x490e0a=_0x21b191?_0x21b191[-0x1ba*0x12+0x21a5+0x5*-0x83]:_0x5f0eb4[_0x3767de+(-0x154e+-0x25b2+-0x437*-0xe)],_0x5c6ec6['setLocalSc'+'ale'](_0x28b201[_0x490e0a],_0x28b201[_0x490e0a+(0x6*0x16f+-0x23fb*0x1+-0x2bd*-0xa)],_0x28b201[_0x490e0a+(-0x18da+0x367*0x7+0x10b)]);}static['oneCharToK'+'ey'](_0x39de1e,_0x41347f){const _0x3acb8a=_0x39de1e['charCodeAt'](-0x1a9a+-0x247e+0x542*0xc)-_0x41347f['fieldFirst'+'Code'];return _0x41347f['fieldArray'][_0x3acb8a];}static['multCharTo'+'Key'](_0x335d4c,_0x172981){let _0x24b671=0xd5*0x25+0xe30+-0x2cf9;for(let _0x3e84c5=0x102f+-0x1649+0x61a;_0x3e84c5<_0x335d4c['length'];_0x3e84c5++)_0x24b671=_0x24b671*_0x172981['fieldCodeB'+'ase']+_0x335d4c['charCodeAt'](_0x3e84c5)-_0x172981['fieldFirst'+'Code'];return _0x172981['fieldArray'][_0x24b671];}}class Uh{constructor(_0x5693e0,_0x1b77a7){this['_node']=_0x5693e0,this['_data']=_0x1b77a7;}['run'](){const _0xc2fe09=Object['prototype']['toString']['call'](this['_node']);return _0xc2fe09==='[object\x20Ob'+'ject]'?this['_handleMap']():_0xc2fe09==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x21a3db){let _0x1b0765=_0x21a3db;const _0x1e1d37=_0x21a3db['length'];_0x1e1d37===0x1c89*0x1+-0xafc+-0x118c?_0x1b0765=$u['oneCharToK'+'ey'](_0x21a3db,this['_data']):_0x1e1d37===0x25f*-0x3+-0x19*0x13d+0x2614&&(_0x1b0765=$u['multCharTo'+'Key'](_0x21a3db,this['_data'])),this['_result'][_0x1b0765]=new Uh(this['_node'][_0x21a3db],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x42f279){const _0x35a362=new Uh(_0x42f279,this['_data'])['run']();this['_result']['push'](_0x35a362);}}class bm{constructor(_0x135609,_0x213bc6){this['_app']=_0x135609,this['_isTemplat'+'e']=_0x213bc6;}['parse'](_0x494651){const _0x2d7b14={};let _0x27de5b=null;const _0x2a5f4a=_0x494651['compressed'+'Format'];_0x2a5f4a&&!_0x494651['entDecompr'+'essed']&&(_0x494651['entDecompr'+'essed']=!(-0x2694+-0x23ac+0x4a40),_0x494651['entities']=new Uh(_0x494651['entities'],_0x2a5f4a)['run']());for(const _0x4d7fea in _0x494651['entities']){const _0x29aa04=_0x494651['entities'][_0x4d7fea],_0xa9f255=this['_createEnt'+'ity'](_0x29aa04,_0x2a5f4a);_0x2d7b14[_0x4d7fea]=_0xa9f255,_0x29aa04['parent']===null&&(_0x27de5b=_0xa9f255);}for(const _0x1c2bb1 in _0x494651['entities']){const _0x4a416f=_0x2d7b14[_0x1c2bb1],_0xd63ef=_0x494651['entities'][_0x1c2bb1]['children'],_0x367ca1=_0xd63ef['length'];for(let _0x553c41=0x224*-0x4+0x82b*0x4+0x607*-0x4;_0x553c41<_0x367ca1;_0x553c41++){const _0x41903b=_0x2d7b14[_0xd63ef[_0x553c41]];_0x41903b&&_0x4a416f['addChild'](_0x41903b);}}return this['_openCompo'+'nentData'](_0x27de5b,_0x494651['entities']),_0x27de5b;}['_createEnt'+'ity'](_0x4dcbe0,_0x4b26ba){const _0x56809b=new lt(_0x4dcbe0['name'],this['_app']);if(_0x56809b['setGuid'](_0x4dcbe0['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x56809b,_0x4dcbe0,_0x4b26ba),_0x56809b['_enabled']=_0x4dcbe0['enabled']??!(0xf5*-0x6+0x1da1+-0x17e3),this['_isTemplat'+'e']?_0x56809b['_template']=!(-0x1*0x1c13+-0x1*0xe5+0x1cf8*0x1):_0x56809b['_enabledIn'+'Hierarchy']=_0x56809b['_enabled'],_0x56809b['template']=_0x4dcbe0['template'],_0x4dcbe0['tags']){for(let _0x2ac3c5=0x14da+-0x70d*-0x3+-0x2a01;_0x2ac3c5<_0x4dcbe0['tags']['length'];_0x2ac3c5++)_0x56809b['tags']['add'](_0x4dcbe0['tags'][_0x2ac3c5]);}return _0x56809b;}['_setPosRot'+'Scale'](_0x357cf4,_0x48fc2a,_0x55b161){if(_0x55b161)$u['setCompres'+'sedPRS'](_0x357cf4,_0x48fc2a,_0x55b161);else{const _0x263b3d=_0x48fc2a['position'],_0x4a11e6=_0x48fc2a['rotation'],_0x3b0587=_0x48fc2a['scale'];_0x357cf4['setLocalPo'+'sition'](_0x263b3d[0x7e3+-0xf01+0x71e],_0x263b3d[0x9*0x19+0x12eb*0x2+-0x26b6],_0x263b3d[0x81e+0x7c5+-0x54b*0x3]),_0x357cf4['setLocalEu'+'lerAngles'](_0x4a11e6[0x16e+-0x1f12+-0x21e*-0xe],_0x4a11e6[-0x65*0x31+-0x1121+0x2477],_0x4a11e6[0x2*0xeb1+-0x2*0x1061+-0x362*-0x1]),_0x357cf4['setLocalSc'+'ale'](_0x3b0587[-0x14*-0x7c+0x2*-0x113c+-0xf4*-0x1a],_0x3b0587[0x6*-0x337+0x1*0x943+0xa08],_0x3b0587[0x19f6+-0x2302+-0x2*-0x487]);}}['_openCompo'+'nentData'](_0x233c05,_0x1d61ab){const _0x4982a0=this['_app']['systems']['list'];let _0x3bd884=_0x4982a0['length'];const _0x559b19=_0x1d61ab[_0x233c05['getGuid']()];for(let _0x46fde0=-0x2109+-0x10ee*0x1+-0x31f7*-0x1;_0x46fde0<_0x3bd884;_0x46fde0++){const _0x47afcf=_0x4982a0[_0x46fde0],_0x1bc9a1=_0x559b19['components'][_0x47afcf['id']];_0x1bc9a1&&_0x47afcf['addCompone'+'nt'](_0x233c05,_0x1bc9a1);}_0x3bd884=_0x559b19['children']['length'];const _0x31c3ec=_0x233c05['_children'];for(let _0x2f1991=-0x1e87+-0xdb2+0x2c39*0x1;_0x2f1991<_0x3bd884;_0x2f1991++)_0x31c3ec[_0x2f1991]?_0x31c3ec[_0x2f1991]=this['_openCompo'+'nentData'](_0x31c3ec[_0x2f1991],_0x1d61ab):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x233c05['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x233c05;}}class E0{static['load'](_0x174691,_0x5b5d39,_0x624833){typeof _0x174691=='string'&&(_0x174691={'load':_0x174691,'original':_0x174691}),ot['get'](_0x174691['load'],{'retry':_0x5b5d39>0x1*-0xf0f+0x18b6+-0x9a7,'maxRetries':_0x5b5d39},(_0x2b5407,_0x5c707b)=>{if(!_0x2b5407)_0x624833(_0x2b5407,_0x5c707b);else{let _0x6c5b0='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x174691['original'];_0x2b5407['message']?(_0x6c5b0+=':\x20'+_0x2b5407['message'],_0x2b5407['stack']&&(_0x6c5b0+='\x0a'+_0x2b5407['stack'])):_0x6c5b0+=':\x20'+_0x2b5407,_0x624833(_0x6c5b0);}});}}class uk extends Qe{constructor(_0x299d9b){super(_0x299d9b,'hierarchy');}['load'](_0x1a81ed,_0x34d21b){E0['load'](_0x1a81ed,this['maxRetries'],_0x34d21b);}['open'](_0x425cd2,_0x478748){this['_app']['systems']['script']['preloading']=!(-0x826*-0x4+-0x2b*0x9c+-0x664);const _0x53bb6b=new bm(this['_app'],!(0x1*0x973+-0x14*-0x122+0x2*-0x100d))['parse'](_0x478748);return this['_app']['systems']['script']['preloading']=!(0x22*0x7b+-0x5*0x2e9+-0x1c8),_0x53bb6b;}}class pk extends Qe{constructor(_0x453959){super(_0x453959,'html'),h(this,'decoder',null);}['load'](_0x18be33,_0x943d8c){typeof _0x18be33=='string'&&(_0x18be33={'load':_0x18be33,'original':_0x18be33}),ot['get'](_0x18be33['load'],{'retry':this['maxRetries']>0xed8+-0xb30*-0x1+-0x1a08,'maxRetries':this['maxRetries']},(_0x24f319,_0x1d9e2b)=>{_0x24f319?_0x943d8c('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x18be33['original']+'\x20['+_0x24f319+']'):_0x943d8c(null,_0x1d9e2b);});}['openBinary'](_0x450971){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x450971);}}class mk extends Qe{constructor(_0xf0e0cb){super(_0xf0e0cb,'json'),h(this,'decoder',null);}['load'](_0x5a863e,_0x251467){typeof _0x5a863e=='string'&&(_0x5a863e={'load':_0x5a863e,'original':_0x5a863e});const _0x3deb2f={'retry':this['maxRetries']>0x929+-0x80e+-0x11b,'maxRetries':this['maxRetries']};_0x5a863e['load']['startsWith']('blob:')&&(_0x3deb2f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5a863e['load'],_0x3deb2f,(_0x5ec05a,_0x466a89)=>{_0x5ec05a?_0x251467('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x5a863e['original']+'\x20['+_0x5ec05a+']'):_0x251467(null,_0x466a89);});}['openBinary'](_0x35bb3e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x35bb3e));}}class _k{constructor(){this['removeInva'+'lid']=!(0xa88+0x2*0x115a+-0x2d3c),this['valid']=!(-0x18c2+0x164+0x175e),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x1fc74f,_0x4af2bd){this['valid']=!(-0x461*-0x1+0x1f70+-0x23d0),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x1fc74f,_0x4af2bd[_0x1fc74f]),this['removeInva'+'lid']&&delete _0x4af2bd[_0x1fc74f];}['validate'](_0xeeb41b){const _0x115e17=$n,_0x691298=gb,_0x3b9812=_0xeeb41b['mappingFor'+'mat']==='path';for(const _0x583710 in _0xeeb41b){const _0x1d42e1=_0x115e17[_0x583710];if(!_0x1d42e1){_0x691298[_0x583710]?delete _0xeeb41b[_0x583710]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x583710),this['valid']=!(-0x1*0x28d+0x1*0x5f7+-0x369));continue;}if(_0x1d42e1['startsWith']('enum')){const _0x2a6517=_0x1d42e1['split'](':')[0x1cef+-0x320+-0x19ce];this['enumValida'+'tors'][_0x2a6517]&&(this['enumValida'+'tors'][_0x2a6517](_0xeeb41b[_0x583710])||this['setInvalid'](_0x583710,_0xeeb41b));}else{if(_0x1d42e1==='number')typeof _0xeeb41b[_0x583710]!='number'&&this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='boolean')typeof _0xeeb41b[_0x583710]!='boolean'&&this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='string')typeof _0xeeb41b[_0x583710]!='string'&&this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='vec2')_0xeeb41b[_0x583710]instanceof Array&&_0xeeb41b[_0x583710]['length']===0x762+0x1*-0x1ca5+0x1545||this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='rgb')_0xeeb41b[_0x583710]instanceof Array&&_0xeeb41b[_0x583710]['length']===0x455*-0x1+-0xd5+0x52d||this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='texture')_0x3b9812?typeof _0xeeb41b[_0x583710]=='string'||_0xeeb41b[_0x583710]===null||_0xeeb41b[_0x583710]instanceof _e||this['setInvalid'](_0x583710,_0xeeb41b):typeof _0xeeb41b[_0x583710]=='number'||_0xeeb41b[_0x583710]===null||_0xeeb41b[_0x583710]instanceof _e||this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='boundingbo'+'x')_0xeeb41b[_0x583710]['center']&&_0xeeb41b[_0x583710]['center']instanceof Array&&_0xeeb41b[_0x583710]['center']['length']===0x1fa3+0x5*0x6b+-0x21b7||this['setInvalid'](_0x583710,_0xeeb41b),_0xeeb41b[_0x583710]['halfExtent'+'s']&&_0xeeb41b[_0x583710]['halfExtent'+'s']instanceof Array&&_0xeeb41b[_0x583710]['halfExtent'+'s']['length']===0x47*-0x12+-0x501*-0x3+-0xa02||this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='cubemap')typeof _0xeeb41b[_0x583710]=='number'||_0xeeb41b[_0x583710]===null||_0xeeb41b[_0x583710]===void(-0xb*0x20d+-0x21de+-0x3c3*-0xf)||_0xeeb41b[_0x583710]instanceof _e&&_0xeeb41b[_0x583710]['cubemap']||this['setInvalid'](_0x583710,_0xeeb41b);else{if(_0x1d42e1==='chunks'){const _0x31eecf=Object['keys'](_0xeeb41b[_0x583710]);for(let _0x3ee400=-0x1fbb+0x192f+0x346*0x2;_0x3ee400<_0x31eecf['length'];_0x3ee400++)typeof _0xeeb41b[_0x583710][_0x31eecf[_0x3ee400]]!='string'&&this['setInvalid'](_0x31eecf[_0x3ee400],_0xeeb41b[_0x583710]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x1d42e1);}}}}}}}}}}return _0xeeb41b['validated']=!(-0x1755+0x2ec+0x1469),this['valid'];}['_createEnu'+'mValidator'](_0x209805){return function(_0xda8339){return _0x209805['indexOf'](_0xda8339)>=0xb2f+0x2*0x968+-0x1dff;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x588ee5){const _0x533634=this['migrate'](_0x588ee5),_0x493be7=this['_validate'](_0x533634),_0x4e5a5e=new Ut();return this['initialize'](_0x4e5a5e,_0x493be7),_0x4e5a5e;}['initialize'](_0x209e34,_0x59edaa){if(_0x59edaa['validated']||(_0x59edaa=this['_validate'](_0x59edaa)),_0x59edaa['chunks']&&_0x59edaa['chunks']&&Object['keys'](_0x59edaa['chunks'])['length']>-0x1a5c*0x1+-0xdc6*-0x2+-0x130){const _0x17275=_0x209e34['shaderChun'+'ks']['glsl'];Object['entries'](_0x59edaa['chunks'])['forEach'](([_0xf7c4d9,_0x165619])=>_0x17275['set'](_0xf7c4d9,_0x165619));}for(const _0x400444 in _0x59edaa){const _0x5e1686=$n[_0x400444],_0x1001cd=_0x59edaa[_0x400444];if(_0x5e1686==='vec2')_0x209e34[_0x400444]=new J(_0x1001cd[0x155d+-0xb06+-0xa57],_0x1001cd[-0x2*0x137b+0x2681+0x1*0x76]);else{if(_0x5e1686==='rgb')_0x209e34[_0x400444]=new ie(_0x1001cd[0x78e+0x24d0+-0x4ee*0x9],_0x1001cd[0x1982+0xb47*-0x2+-0x2f3],_0x1001cd[-0xb7*0x2d+0xf53*0x1+-0x1*-0x10da]);else{if(_0x5e1686==='texture')_0x1001cd instanceof _e?_0x209e34[_0x400444]=_0x1001cd:_0x209e34[_0x400444]instanceof _e&&typeof _0x1001cd=='number'&&_0x1001cd>-0x1935+-0x1bc7+0x34fc||(_0x209e34[_0x400444]=null);else{if(_0x5e1686==='cubemap')_0x1001cd instanceof _e?_0x209e34[_0x400444]=_0x1001cd:_0x209e34[_0x400444]instanceof _e&&typeof _0x1001cd=='number'&&_0x1001cd>-0xb3b+-0x2109+-0x4*-0xb11||(_0x209e34[_0x400444]=null),_0x400444==='cubeMap'&&!_0x1001cd&&(_0x209e34['prefiltere'+'dCubemaps']=null);else{if(_0x5e1686==='boundingbo'+'x'){const _0x3f3273=new D(_0x1001cd['center'][-0x1252+0x1b51+-0x149*0x7],_0x1001cd['center'][0x1*0xc19+-0x1552+0x93a],_0x1001cd['center'][0xa3*0x3a+0xad7+-0x2fc3]),_0x58942d=new D(_0x1001cd['halfExtent'+'s'][0x9d1+0x1c05+-0x25d6],_0x1001cd['halfExtent'+'s'][0x20f*-0x4+0x553+0x2ea],_0x1001cd['halfExtent'+'s'][0x5*0x527+-0xf74+0x9*-0x125]);_0x209e34[_0x400444]=new De(_0x3f3273,_0x58942d);}else _0x209e34[_0x400444]=_0x59edaa[_0x400444];}}}}}_0x209e34['update']();}['migrate'](_0x250f5d){_0x250f5d['shader']&&delete _0x250f5d['shader'],_0x250f5d['mapping_fo'+'rmat']&&(_0x250f5d['mappingFor'+'mat']=_0x250f5d['mapping_fo'+'rmat'],delete _0x250f5d['mapping_fo'+'rmat']);let _0xac6878;const _0x5afe7d=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0xac6878=0x3fc+0x1*-0x35+-0x3c7;_0xac6878<_0x5afe7d['length'];_0xac6878++){const _0x373cf6=_0x5afe7d[_0xac6878][-0x10af+0x25f8+-0x1549],_0x34986f=_0x5afe7d[_0xac6878][0xb8c+-0xa1d+-0x16e];_0x250f5d[_0x373cf6]!==void(-0x20b9*0x1+-0x1565+0x3*0x120a)&&(_0x250f5d[_0x34986f]===void(0x63*-0x1c+0x3b1+0x723)&&(_0x250f5d[_0x34986f]=_0x250f5d[_0x373cf6]),delete _0x250f5d[_0x373cf6]);}const _0xdaea11=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0xac6878=0x1f5b+0xb4c+0xb3*-0x3d;_0xac6878<_0xdaea11['length'];_0xac6878++){const _0x235aad=_0xdaea11[_0xac6878];_0x250f5d['hasOwnProp'+'erty'](_0x235aad)&&delete _0x250f5d[_0x235aad];}return _0x250f5d;}['_validate'](_0x1f668f){return _0x1f668f['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x1f668f)),_0x1f668f;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x5235f9){super(_0x5235f9,'material'),this['_assets']=_0x5235f9['assets'],this['_device']=_0x5235f9['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x404e49,_0xd1bffc){typeof _0x404e49=='string'&&(_0x404e49={'load':_0x404e49,'original':_0x404e49}),ot['get'](_0x404e49['load'],{'retry':this['maxRetries']>0x7c9+0x1d3a*-0x1+-0x1*-0x1571,'maxRetries':this['maxRetries']},(_0x1f550d,_0x54ce1f)=>{_0x1f550d?_0xd1bffc&&_0xd1bffc('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x404e49['original']+'\x20['+_0x1f550d+']'):_0xd1bffc&&(_0x54ce1f['_engine']=!(-0x75c*-0x3+0x8d2*0x4+-0x395c),_0xd1bffc(null,_0x54ce1f));});}['open'](_0x55be70,_0x5a4d50){const _0xa668fa=this['_parser']['parse'](_0x5a4d50);return _0x5a4d50['_engine']&&(_0xa668fa['_data']=_0x5a4d50,delete _0x5a4d50['_engine']),_0xa668fa;}['patch'](_0xff2385,_0x298394){_0xff2385['resource']['_data']&&(_0xff2385['_data']=_0xff2385['resource']['_data'],delete _0xff2385['resource']['_data']),_0xff2385['data']['name']=_0xff2385['name'],_0xff2385['resource']['name']=_0xff2385['name'],this['_bindAndAs'+'signAssets'](_0xff2385,_0x298394),_0xff2385['off']('unload',this['_onAssetUn'+'load'],this),_0xff2385['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x55d35f){delete _0x55d35f['data']['parameters'],delete _0x55d35f['data']['chunks'],delete _0x55d35f['data']['name'];}['_assignTex'+'ture'](_0x4cf157,_0x3c1b0a,_0x43e230){_0x3c1b0a['resource'][_0x4cf157]=_0x43e230;}['_getPlaceh'+'olderTextu'+'re'](_0x17ca0c){const _0x429c69=Sk[_0x17ca0c];return w['assert'](_0x429c69,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x17ca0c),fa(this['_device'],_0x429c69);}['_assignPla'+'ceholderTe'+'xture'](_0x20c55d,_0x35dca1){_0x35dca1['resource'][_0x20c55d]=this['_getPlaceh'+'olderTextu'+'re'](_0x20c55d);}['_onTexture'+'Load'](_0x1b81ed,_0x2c8b7c,_0x40cf3e){this['_assignTex'+'ture'](_0x1b81ed,_0x2c8b7c,_0x40cf3e['resource']),_0x2c8b7c['resource']['update']();}['_onTexture'+'Add'](_0x4e9e08,_0x2ac222,_0x650247){this['_assets']['load'](_0x650247);}['_onTexture'+'RemoveOrUn'+'load'](_0x4b3fff,_0x35d66e,_0x4bdfe1){const _0x22f155=_0x35d66e['resource'];_0x22f155&&_0x35d66e['resource'][_0x4b3fff]===_0x4bdfe1['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x4b3fff,_0x35d66e),_0x22f155['update']());}['_assignCub'+'emap'](_0x181fac,_0x4526ff,_0x166b86){if(_0x4526ff['resource'][_0x181fac]=_0x166b86[-0xd*-0x1f+0x2f*-0x52+0xd7b],_0x181fac==='cubeMap'){const _0x120c7a=_0x166b86['slice'](-0x68*0x4f+-0xfb*0x1b+0x3a92);_0x120c7a['every'](_0xf3733c=>_0xf3733c)?_0x4526ff['resource']['prefiltere'+'dCubemaps']=_0x120c7a:_0x120c7a[0x1a4a*-0x1+-0x8b0+0x22fa]&&(_0x4526ff['resource']['envAtlas']=_0x120c7a[0x1fdb+-0x21ba+0x1df]);}}['_onCubemap'+'Load'](_0x100218,_0x35bb0c,_0x10017f){this['_assignCub'+'emap'](_0x100218,_0x35bb0c,_0x10017f['resources']),this['_parser']['initialize'](_0x35bb0c['resource'],_0x35bb0c['data']);}['_onCubemap'+'Add'](_0x46a506,_0x5e802c,_0x2d499d){this['_assets']['load'](_0x2d499d);}['_onCubemap'+'RemoveOrUn'+'load'](_0x3a6c44,_0xe78033,_0x5d862f){const _0x3b66a5=_0xe78033['resource'];_0xe78033['data']['prefiltere'+'dCubeMap12'+'8']===_0x5d862f['resources'][-0x1*0x1691+-0x1*-0xab5+0xbdd]&&(this['_assignCub'+'emap'](_0x3a6c44,_0xe78033,[null,null,null,null,null,null,null]),_0x3b66a5['update']());}['_bindAndAs'+'signAssets'](_0x557e26,_0x2e45bd){const _0x3f109b=this['_parser']['migrate'](_0x557e26['data']),_0x2ce02c=_0x557e26['resource'],_0x49653d=_0x3f109b['mappingFor'+'mat']==='path',_0x1a4385=Cd;let _0x2a67f6,_0x60562f,_0x1ad83f;for(_0x2a67f6=-0x2417*0x1+0xeea+0xd*0x1a1;_0x2a67f6<_0x1a4385['length'];_0x2a67f6++){_0x60562f=_0x1a4385[_0x2a67f6],_0x1ad83f=_0x2ce02c['_assetRefe'+'rences'][_0x60562f];const _0x4cfc51=_0x3f109b[_0x60562f],_0x33943f=_0x2ce02c[_0x60562f],_0x1ed71d=_0x33943f===this['_getPlaceh'+'olderTextu'+'re'](_0x60562f),_0x31e5cf=_0x3f109b['validated'];_0x4cfc51&&(!_0x33943f||!_0x31e5cf||_0x1ed71d)?(_0x1ad83f||(_0x1ad83f=new gl(_0x60562f,_0x557e26,_0x2e45bd,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x2ce02c['_assetRefe'+'rences'][_0x60562f]=_0x1ad83f),_0x49653d?_0x1ad83f['url']=_0x557e26['getAbsolut'+'eUrl'](_0x4cfc51):_0x1ad83f['id']=_0x4cfc51,_0x1ad83f['asset']&&(_0x1ad83f['asset']['resource']?this['_assignTex'+'ture'](_0x60562f,_0x557e26,_0x1ad83f['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x60562f,_0x557e26),_0x2e45bd['load'](_0x1ad83f['asset']))):_0x1ad83f&&(_0x49653d?_0x1ad83f['url']=null:_0x1ad83f['id']=null);}const _0x591698=fm;for(_0x2a67f6=-0x208f+-0x1e26+-0x1*-0x3eb5;_0x2a67f6<_0x591698['length'];_0x2a67f6++)_0x60562f=_0x591698[_0x2a67f6],_0x1ad83f=_0x2ce02c['_assetRefe'+'rences'][_0x60562f],_0x3f109b[_0x60562f]&&!_0x557e26['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x1ad83f||(_0x1ad83f=new gl(_0x60562f,_0x557e26,_0x2e45bd,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x2ce02c['_assetRefe'+'rences'][_0x60562f]=_0x1ad83f),_0x49653d?_0x1ad83f['url']=_0x3f109b[_0x60562f]:_0x1ad83f['id']=_0x3f109b[_0x60562f],_0x1ad83f['asset']&&(_0x1ad83f['asset']['loaded']&&this['_assignCub'+'emap'](_0x60562f,_0x557e26,_0x1ad83f['asset']['resources']),_0x2e45bd['load'](_0x1ad83f['asset'])));this['_parser']['initialize'](_0x2ce02c,_0x3f109b);}}class vk{constructor(_0x185285){this['_device']=_0x185285['device'],this['_defaultMa'+'terial']=_0x185285['defaultMat'+'erial'],this['_assets']=_0x185285['assets'];}['parse'](_0x10164f,_0x71bc5e,_0x386838){kh['parse']('filename.g'+'lb','',_0x10164f,this['_device'],this['_assets'],(_0x386838==null?void(0x80f+-0xace+0x2bf):_0x386838['options'])??{},(_0x1b2732,_0x45ce98)=>{if(_0x1b2732)_0x71bc5e(_0x1b2732);else{const _0x29da7e=yr['createMode'+'l'](_0x45ce98,this['_defaultMa'+'terial']);_0x45ce98['destroy'](),_0x71bc5e(null,_0x29da7e);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x4ead1a){this['_device']=_0x4ead1a['device'],this['_defaultMa'+'terial']=_0x4ead1a['defaultMat'+'erial'];}['parse'](_0x338d47,_0x12f5c7){const _0xc28d21=_0x338d47['model'];if(!_0xc28d21){_0x12f5c7(null,null);return;}if(_0xc28d21['version']<=-0x1115*-0x1+-0xcbb+-0x459){_0x12f5c7('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4f0127=this['_parseNode'+'s'](_0x338d47),_0x295e24=this['_parseSkin'+'s'](_0x338d47,_0x4f0127),_0x22c4df=this['_parseVert'+'exBuffers'](_0x338d47),_0x1c8380=this['_parseInde'+'xBuffers'](_0x338d47,_0x22c4df),_0x58d285=this['_parseMorp'+'hs'](_0x338d47,_0x4f0127,_0x22c4df),_0x3af536=this['_parseMesh'+'es'](_0x338d47,_0x295e24['skins'],_0x58d285['morphs'],_0x22c4df,_0x1c8380['buffer'],_0x1c8380['data']),_0x1e1e86=this['_parseMesh'+'Instances'](_0x338d47,_0x4f0127,_0x3af536,_0x295e24['skins'],_0x295e24['instances'],_0x58d285['morphs'],_0x58d285['instances']),_0x459755=new sr();_0x459755['graph']=_0x4f0127[-0x1f18+-0x14d0+0x97*0x58],_0x459755['meshInstan'+'ces']=_0x1e1e86,_0x459755['skinInstan'+'ces']=_0x295e24['instances'],_0x459755['morphInsta'+'nces']=_0x58d285['instances'],_0x459755['getGraph']()['syncHierar'+'chy'](),_0x12f5c7(null,_0x459755);}['_parseNode'+'s'](_0x13e21c){const _0x2d0ae9=_0x13e21c['model'],_0x528ce8=[];let _0x45b822;for(_0x45b822=-0x11fc*0x1+0x10c+0x10f0;_0x45b822<_0x2d0ae9['nodes']['length'];_0x45b822++){const _0x230cb6=_0x2d0ae9['nodes'][_0x45b822],_0x493e1b=new Ie(_0x230cb6['name']);_0x493e1b['setLocalPo'+'sition'](_0x230cb6['position'][-0x1954+0x2*-0xfb3+0x38ba],_0x230cb6['position'][-0x1b1*-0x11+0x161b+-0x32db],_0x230cb6['position'][0x2604+-0x7a+-0x2588]),_0x493e1b['setLocalEu'+'lerAngles'](_0x230cb6['rotation'][0x1*0x2531+0x5b*0x67+-0x1*0x49ce],_0x230cb6['rotation'][-0x59*-0x49+-0x412*0x3+0x2a2*-0x5],_0x230cb6['rotation'][0x1*-0xd6d+-0x1ced+0x2a5c]),_0x493e1b['setLocalSc'+'ale'](_0x230cb6['scale'][-0x1*0x189d+-0xf93+0x2830],_0x230cb6['scale'][-0x2ce*0x1+-0x151+0x420],_0x230cb6['scale'][-0x6b*0x3+0xada+-0x997]),_0x493e1b['scaleCompe'+'nsation']=!!_0x230cb6['scaleCompe'+'nsation'],_0x528ce8['push'](_0x493e1b);}for(_0x45b822=-0xdfd*0x2+-0x1a14+0x293*0x15;_0x45b822<_0x2d0ae9['parents']['length'];_0x45b822++)_0x528ce8[_0x2d0ae9['parents'][_0x45b822]]['addChild'](_0x528ce8[_0x45b822]);return _0x528ce8;}['_parseSkin'+'s'](_0x513362,_0xbe7b89){const _0x1ac3d3=_0x513362['model'],_0x18089b=[],_0x9fb03c=[];let _0x41d9b3,_0x141a8c;for(_0x41d9b3=0x1*0x1906+-0x381+0x313*-0x7;_0x41d9b3<_0x1ac3d3['skins']['length'];_0x41d9b3++){const _0x3c3363=_0x1ac3d3['skins'][_0x41d9b3],_0x550c3=[];for(_0x141a8c=0x2257+0xf9e*-0x2+0x31b*-0x1;_0x141a8c<_0x3c3363['inverseBin'+'dMatrices']['length'];_0x141a8c++){const _0xfc54a1=_0x3c3363['inverseBin'+'dMatrices'][_0x141a8c];_0x550c3[_0x141a8c]=new te()['set'](_0xfc54a1);}const _0x24885f=new Lv(this['_device'],_0x550c3,_0x3c3363['boneNames']);_0x18089b['push'](_0x24885f);const _0x1e38e5=new Ol(_0x24885f),_0x260766=[];for(_0x141a8c=-0x2*-0x6ea+-0x1599+-0x3*-0x297;_0x141a8c<_0x24885f['boneNames']['length'];_0x141a8c++){const _0x1ad8ea=_0x24885f['boneNames'][_0x141a8c],_0x792c20=_0xbe7b89[-0x1a4b+-0x1*0x1c55+0x36a0]['findByName'](_0x1ad8ea);_0x260766['push'](_0x792c20);}_0x1e38e5['bones']=_0x260766,_0x9fb03c['push'](_0x1e38e5);}return{'skins':_0x18089b,'instances':_0x9fb03c};}['_getMorphV'+'ertexCount'](_0x1019a5,_0x4ef4e7,_0x40102d){for(let _0x5af972=-0xe81*0x1+0x1fd2+0x1151*-0x1;_0x5af972<_0x1019a5['meshes']['length'];_0x5af972++){const _0x122f0f=_0x1019a5['meshes'][_0x5af972];if(_0x122f0f['morph']===_0x4ef4e7)return _0x40102d[_0x122f0f['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x144f2a,_0x51b69d,_0x37df53){const _0x5deaf8=_0x144f2a['model'],_0x5f195f=[],_0x363ab6=[];let _0x6d7885,_0x4f3bf5,_0x21e1c8,_0x2b9a4b,_0x57fc1e,_0x9db7d4;if(_0x5deaf8['morphs']){const _0x4bad9a=function(_0x3fc92c,_0x4153bb,_0x22cb51){const _0x33803e=new Float32Array(_0x22cb51*(0x370+-0x1*0x187+0x3*-0xa2));for(let _0x45b3ea=-0x1*-0x47+-0x1*0x1bdb+0x5*0x584;_0x45b3ea<_0x4153bb['length'];_0x45b3ea++){const _0x67cfb6=_0x4153bb[_0x45b3ea]*(0x17a5+-0x1a1+-0x1601);_0x33803e[_0x67cfb6]=_0x3fc92c[_0x45b3ea*(0x727+0xa3*0x9+-0xcdf)],_0x33803e[_0x67cfb6+(-0x3*-0x60d+-0x5*-0x705+-0x353f)]=_0x3fc92c[_0x45b3ea*(0x158*-0x6+-0xe*-0x17b+0xca7*-0x1)+(0x1cbe+0xfe*-0x9+-0x13cf)],_0x33803e[_0x67cfb6+(0xe3c*0x1+-0x2*0x110f+0x4c*0x43)]=_0x3fc92c[_0x45b3ea*(0x23a4+0x19*0x10+0x1*-0x2531)+(0x21ed+0x3*0xa64+-0x4117*0x1)];}return _0x33803e;};for(_0x6d7885=-0xfd2+-0x20ef+-0x30c1*-0x1;_0x6d7885<_0x5deaf8['morphs']['length'];_0x6d7885++){for(_0x2b9a4b=_0x5deaf8['morphs'][_0x6d7885]['targets'],_0x9db7d4=[],_0x21e1c8=this['_getMorphV'+'ertexCount'](_0x5deaf8,_0x6d7885,_0x37df53),_0x4f3bf5=0x5c2+0x4*0x7ef+0x2*-0x12bf;_0x4f3bf5<_0x2b9a4b['length'];_0x4f3bf5++){const _0x230e83=_0x2b9a4b[_0x4f3bf5]['aabb'],_0x4485b1=_0x230e83['min'],_0x581307=_0x230e83['max'],_0x13cc72=new De(new D((_0x581307[-0x3a3+-0x20e7+0x248a]+_0x4485b1[0x36f*0x1+-0x1680+0x1311*0x1])*(-0x1*-0x17b5+0x1803+-0x3*0xfe8+0.5),(_0x581307[0x2079*0x1+-0x2b*-0x7+0x63*-0x57]+_0x4485b1[0x13d3+-0x1070+-0x362])*(0x3e9*0x4+0x5*-0x355+0x1d*0x9+0.5),(_0x581307[-0x11a6+-0x10c1+0x17f*0x17]+_0x4485b1[-0x1*0x1f19+-0x4e*-0x69+-0xe3])*(-0x257e+-0x21*0x6b+0x3349*0x1+0.5)),new D((_0x581307[-0xf7b*0x1+0x25d5+-0x165a*0x1]-_0x4485b1[-0xb5e+-0x5e*-0x4f+-0x11a4])*(-0x11f1+0x143*-0xd+0x2258+0.5),(_0x581307[-0x1d*-0xec+0xf45+-0x3*0xe00]-_0x4485b1[0x4b*-0x32+0x26c3+-0x181c])*(0xf1*0x2+0x4b6*0x5+-0x8*0x32e+0.5),(_0x581307[0x1694+0x22d0+-0x5bd*0xa]-_0x4485b1[-0x9*-0xaa+-0x15cf+0xfd7])*(0x2468+0x22af*-0x1+0x93*-0x3+0.5))),_0x38a44b=_0x2b9a4b[_0x4f3bf5]['indices'];let _0x178f71=_0x2b9a4b[_0x4f3bf5]['deltaPosit'+'ions'],_0x29ab5b=_0x2b9a4b[_0x4f3bf5]['deltaNorma'+'ls'];_0x38a44b&&(_0x178f71=_0x4bad9a(_0x178f71,_0x38a44b,_0x21e1c8),_0x29ab5b=_0x4bad9a(_0x29ab5b,_0x38a44b,_0x21e1c8)),_0x57fc1e=new Md({'deltaPositions':_0x178f71,'deltaNormals':_0x29ab5b,'name':_0x2b9a4b[_0x4f3bf5]['name'],'aabb':_0x13cc72}),_0x9db7d4['push'](_0x57fc1e);}const _0x424626=new mm(_0x9db7d4,this['_device']);_0x5f195f['push'](_0x424626);const _0x5e5560=new xa(_0x424626);_0x363ab6['push'](_0x5e5560);}}return{'morphs':_0x5f195f,'instances':_0x363ab6};}['_parseVert'+'exBuffers'](_0x8368ae){const _0xe2754c=_0x8368ae['model'],_0x2a1f2f=[],_0x3ea1a6={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x36678e=-0x2*-0x11b1+-0x6*0x4ae+0xa*-0xbb;_0x36678e<_0xe2754c['vertices']['length'];_0x36678e++){const _0x48c578=_0xe2754c['vertices'][_0x36678e],_0x4029a0=[];for(const _0xdd73fd in _0x48c578){const _0x220bdd=_0x48c578[_0xdd73fd];_0x4029a0['push']({'semantic':_0x3ea1a6[_0xdd73fd],'components':_0x220bdd['components'],'type':Tk[_0x220bdd['type']],'normalize':_0x3ea1a6[_0xdd73fd]===Wt});}const _0x3889b4=new kt(this['_device'],_0x4029a0),_0x546107=_0x48c578['position']['data']['length']/_0x48c578['position']['components'],_0x31b9a9=new Is(this['_device'],_0x3889b4,_0x546107),_0x5868a6=new Uo(_0x31b9a9);for(let _0x49e518=-0x3e8+-0x3*-0xba3+-0x1f01;_0x49e518<_0x546107;_0x49e518++){for(const _0x3b4397 in _0x48c578){const _0x4a791c=_0x48c578[_0x3b4397];switch(_0x4a791c['components']){case 0x9*0x7e+-0x57*-0x14+-0xdd*0xd:_0x5868a6['element'][_0x3ea1a6[_0x3b4397]]['set'](_0x4a791c['data'][_0x49e518]);break;case 0x1*-0x2312+-0xcbb*-0x2+-0x2*-0x4cf:_0x5868a6['element'][_0x3ea1a6[_0x3b4397]]['set'](_0x4a791c['data'][_0x49e518*(-0x3*-0x4f9+-0x1b+0x17b*-0xa)],0x2302+0x1*-0xb9c+-0x1765-_0x4a791c['data'][_0x49e518*(0x2*0x3ae+-0x1347+0xbed)+(-0x178c+0xa61+0x1*0xd2c)]);break;case 0x1157*0x1+-0x259d*-0x1+0x1*-0x36f1:_0x5868a6['element'][_0x3ea1a6[_0x3b4397]]['set'](_0x4a791c['data'][_0x49e518*(0xaa4+-0x10c2+0x1*0x621)],_0x4a791c['data'][_0x49e518*(-0x218a+-0xf*-0x1d7+0x5f4)+(0xfa0+-0x22e*-0x5+-0x1a85)],_0x4a791c['data'][_0x49e518*(0x156d+-0x12dd*-0x2+-0x2f5*0x14)+(-0xe30*0x1+0x192*0x17+-0x15ec)]);break;case 0x1*0x1f99+-0x1e12+-0x9*0x2b:_0x5868a6['element'][_0x3ea1a6[_0x3b4397]]['set'](_0x4a791c['data'][_0x49e518*(0x1*-0x1c9+-0x20ae+-0x2a7*-0xd)],_0x4a791c['data'][_0x49e518*(0x1a7f+-0x18d5+-0x1a6)+(-0x3*-0xcf1+0xd28+-0x33fa)],_0x4a791c['data'][_0x49e518*(-0x415+-0x192c+0x3b*0x7f)+(-0x12bc+0x1a73+-0x1*0x7b5)],_0x4a791c['data'][_0x49e518*(0xdbc+-0x9*0x9f+-0x821*0x1)+(-0x8de*0x2+0x1*-0x371+0x1530)]);break;}}_0x5868a6['next']();}_0x5868a6['end'](),_0x2a1f2f['push'](_0x31b9a9);}return _0x2a1f2f;}['_parseInde'+'xBuffers'](_0x19cfc3,_0x17ff9a){const _0x6e30ec=_0x19cfc3['model'];let _0x3da18d=null,_0x341e98=null,_0xa3da9b,_0x16dbbe=-0x183+-0x1faf+0x2132;for(_0xa3da9b=0x1aba+-0x5e2+0xb8*-0x1d;_0xa3da9b<_0x6e30ec['meshes']['length'];_0xa3da9b++){const _0x309a2d=_0x6e30ec['meshes'][_0xa3da9b];_0x309a2d['indices']!==void(-0x46e+-0x2fa*0x2+0xa62)&&(_0x16dbbe+=_0x309a2d['indices']['length']);}let _0x217dff=-0x3*0x446+0xc5e+0x74;for(_0xa3da9b=-0xc8d+-0xaff*-0x3+-0x1470;_0xa3da9b<_0x17ff9a['length'];_0xa3da9b++)_0x217dff=Math['max'](_0x217dff,_0x17ff9a[_0xa3da9b]['numVertice'+'s']);return _0x16dbbe>0xc51+-0x187a+0x1*0xc29&&(_0x217dff>-0x4ecb*-0x1+0x1*0xd7e3+-0x26af?(_0x3da18d=new br(this['_device'],wr,_0x16dbbe),_0x341e98=new Uint32Array(_0x3da18d['lock']())):(_0x3da18d=new br(this['_device'],Yi,_0x16dbbe),_0x341e98=new Uint16Array(_0x3da18d['lock']()))),{'buffer':_0x3da18d,'data':_0x341e98};}['_parseMesh'+'es'](_0x3fef22,_0x317116,_0x103129,_0x340c16,_0x1951c2,_0x5c4c11){const _0x315e9a=_0x3fef22['model'],_0x37e8fc=[];let _0x27d161=-0xa29+0x16b5+0x323*-0x4;for(let _0x3ad375=-0x2b3+-0x19c5*-0x1+-0xb89*0x2;_0x3ad375<_0x315e9a['meshes']['length'];_0x3ad375++){const _0x545c11=_0x315e9a['meshes'][_0x3ad375],_0x95016e=_0x545c11['aabb'],_0x1e1328=_0x95016e['min'],_0x4bf00e=_0x95016e['max'],_0x1b0cfb=new De(new D((_0x4bf00e[0x477+0x2*-0xbab+-0x12df*-0x1]+_0x1e1328[-0x510+-0x89*0x1f+0x15a7])*(-0x207b*-0x1+-0x7bb+-0x18c0+0.5),(_0x4bf00e[-0x19a4+-0x3*0x64e+0x11*0x29f]+_0x1e1328[-0x8e*-0x31+-0x1*0x53+-0xd6d*0x2])*(-0x10df+0x1c*-0x14b+-0x15*-0x287+0.5),(_0x4bf00e[-0xd18+0x249c+0x22*-0xb1]+_0x1e1328[0x49f*0x7+-0x9cb*-0x2+-0x5c5*0x9])*(0x55*0x29+0x22d1+-0x2*0x1837+0.5)),new D((_0x4bf00e[-0x1502+0x27b*0xd+-0xb3d]-_0x1e1328[0x2fe*0xb+0x1d2e+0x3e18*-0x1])*(0x3*-0xafb+-0x202e+0x411f+0.5),(_0x4bf00e[0x144b+-0x7d3+-0xc77]-_0x1e1328[-0xbea+-0x1258*-0x1+-0x149*0x5])*(0x1*0x9d3+0x1*0x32b+-0xcfe+0.5),(_0x4bf00e[-0x1*0x1832+0x1ac+0x1688]-_0x1e1328[0x16b*-0x5+-0x9a9*0x1+0x6*0x2cb])*(0x2639*-0x1+0x7a9+0x1e9*0x10+0.5))),_0x47ce61=_0x545c11['indices']!==void(0x20c1+-0x10db+-0xfe6),_0x8434a0=new Ge(this['_device']);_0x8434a0['vertexBuff'+'er']=_0x340c16[_0x545c11['vertices']],_0x8434a0['indexBuffe'+'r'][0x15*-0x1d+0x428+-0x5*0x5b]=_0x47ce61?_0x1951c2:null,_0x8434a0['primitive'][-0x1c5f+-0x16a4+0x5ab*0x9]['type']=xk[_0x545c11['type']],_0x8434a0['primitive'][-0x30*0x15+-0x7*0x23f+0x2cf*0x7]['base']=_0x47ce61?_0x545c11['base']+_0x27d161:_0x545c11['base'],_0x8434a0['primitive'][-0x19a0+0x39c+0x1604]['count']=_0x545c11['count'],_0x8434a0['primitive'][-0x13a*-0x1f+0x2579+0xb*-0x6dd]['indexed']=_0x47ce61,_0x8434a0['skin']=_0x545c11['skin']!==void(-0x3ae+0x1ab2+-0x1704)?_0x317116[_0x545c11['skin']]:null,_0x8434a0['morph']=_0x545c11['morph']!==void(-0x1*0x1b46+-0x1*0x76+0x1bbc)?_0x103129[_0x545c11['morph']]:null,_0x8434a0['aabb']=_0x1b0cfb,_0x47ce61&&(_0x5c4c11['set'](_0x545c11['indices'],_0x27d161),_0x27d161+=_0x545c11['indices']['length']),_0x37e8fc['push'](_0x8434a0);}return _0x1951c2!==null&&_0x1951c2['unlock'](),_0x37e8fc;}['_parseMesh'+'Instances'](_0x1858b9,_0x40a330,_0x3ebabd,_0x262a8b,_0x1de4a0,_0xf2225a,_0x5aa641){const _0x4bc93f=_0x1858b9['model'],_0x3255d4=[];let _0x4a7d28;for(_0x4a7d28=0xeb1+-0x6f*-0xb+0x1376*-0x1;_0x4a7d28<_0x4bc93f['meshInstan'+'ces']['length'];_0x4a7d28++){const _0x28ad0a=_0x4bc93f['meshInstan'+'ces'][_0x4a7d28],_0x46c755=_0x40a330[_0x28ad0a['node']],_0x5c9dc3=_0x3ebabd[_0x28ad0a['mesh']],_0x2a8387=new He(_0x5c9dc3,this['_defaultMa'+'terial'],_0x46c755);if(_0x5c9dc3['skin']){const _0x44e125=_0x262a8b['indexOf'](_0x5c9dc3['skin']);if(_0x44e125===-(-0x10b0+0x106+0xfab*0x1))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x2a8387['skinInstan'+'ce']=_0x1de4a0[_0x44e125];}if(_0x5c9dc3['morph']){const _0x3ec595=_0xf2225a['indexOf'](_0x5c9dc3['morph']);if(_0x3ec595===-(-0x1fa+-0x5bc+-0x4f*-0x19))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x2a8387['morphInsta'+'nce']=_0x5aa641[_0x3ec595];}_0x3255d4['push'](_0x2a8387);}return _0x3255d4;}}class Ek extends Qe{constructor(_0x3e9aa2){super(_0x3e9aa2,'model'),this['_parsers']=[],this['device']=_0x3e9aa2['graphicsDe'+'vice'],this['assets']=_0x3e9aa2['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x22c9e7,_0xc5edd5)=>xe['getExtensi'+'on'](_0x22c9e7)==='.json'),this['addParser'](new vk(this),(_0x2d0179,_0x48fdae)=>xe['getExtensi'+'on'](_0x2d0179)==='.glb');}['load'](_0x5845e7,_0xb589e8,_0x5b0bea){typeof _0x5845e7=='string'&&(_0x5845e7={'load':_0x5845e7,'original':_0x5845e7});const _0x4a2ae1={'retry':this['maxRetries']>0x6f9+0x1*-0x22fb+0x1c02,'maxRetries':this['maxRetries']};(_0x5845e7['load']['startsWith']('blob:')||_0x5845e7['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x5845e7['original'])['toLowerCas'+'e']()==='.glb'?_0x4a2ae1['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4a2ae1['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5845e7['load'],_0x4a2ae1,(_0x2b62a1,_0x5f11f6)=>{if(_0xb589e8){if(_0x2b62a1)_0xb589e8('Error\x20load'+'ing\x20model:'+'\x20'+_0x5845e7['original']+'\x20['+_0x2b62a1+']');else{for(let _0x236efa=0x1e4a+0x14d0+-0x1f*0x1a6;_0x236efa<this['_parsers']['length'];_0x236efa++){const _0x36ba82=this['_parsers'][_0x236efa];if(_0x36ba82['decider'](_0x5845e7['original'],_0x5f11f6)){_0x36ba82['parser']['parse'](_0x5f11f6,(_0x1a6e24,_0x202bd8)=>{_0x1a6e24?_0xb589e8(_0x1a6e24):_0xb589e8(null,_0x202bd8);},_0x5b0bea);return;}}_0xb589e8('No\x20parsers'+'\x20found');}}});}['open'](_0x4cca9e,_0x4acb84){return _0x4acb84;}['patch'](_0x2552b6,_0x375240){if(!_0x2552b6['resource'])return;const _0x1df2e9=_0x2552b6['data'],_0x5163ff=this;_0x2552b6['resource']['meshInstan'+'ces']['forEach']((_0x26233a,_0x4a5639)=>{if(_0x1df2e9['mapping']){const _0x540750=function(_0x1f131c){_0x1f131c['resource']?_0x26233a['material']=_0x1f131c['resource']:(_0x1f131c['once']('load',_0x540750),_0x375240['load'](_0x1f131c)),_0x1f131c['once']('remove',_0x6087d3=>{_0x26233a['material']===_0x6087d3['resource']&&(_0x26233a['material']=_0x5163ff['defaultMat'+'erial']);});};if(!_0x1df2e9['mapping'][_0x4a5639]){_0x26233a['material']=_0x5163ff['defaultMat'+'erial'];return;}const _0x428885=_0x1df2e9['mapping'][_0x4a5639]['material'],_0x2a6a2e=_0x1df2e9['mapping'][_0x4a5639]['path'];let _0x4578d2;if(_0x428885!==void(0x1b6a+-0x1c39+0xcf*0x1))_0x428885?(_0x4578d2=_0x375240['get'](_0x428885),_0x4578d2?_0x540750(_0x4578d2):_0x375240['once']('add:'+_0x428885,_0x540750)):_0x26233a['material']=_0x5163ff['defaultMat'+'erial'];else{if(_0x2a6a2e){const _0x2ab0cb=_0x2552b6['getAbsolut'+'eUrl'](_0x1df2e9['mapping'][_0x4a5639]['path']);_0x4578d2=_0x375240['getByUrl'](_0x2ab0cb),_0x4578d2?_0x540750(_0x4578d2):_0x375240['once']('add:url:'+_0x2ab0cb,_0x540750);}}}});}['addParser'](_0x5139b3,_0x1177bb){this['_parsers']['push']({'parser':_0x5139b3,'decider':_0x1177bb});}}class bk extends Qe{constructor(_0x312c88){super(_0x312c88,'scene');}['load'](_0x102dda,_0x3642e0){E0['load'](_0x102dda,this['maxRetries'],_0x3642e0);}['open'](_0x160e8c,_0x5610b8){this['_app']['systems']['script']['preloading']=!(0x496*-0x2+-0xb66*0x2+0x4*0x7fe);const _0x38bd54=new bm(this['_app'],!(-0x258a+-0x19b4+0x3f3f))['parse'](_0x5610b8),_0x3e4900=this['_app']['scene'];return _0x3e4900['root']=_0x38bd54,this['_app']['applyScene'+'Settings'](_0x5610b8['settings']),this['_app']['systems']['script']['preloading']=!(0x9*-0x32f+0x1540+0x768),_0x3e4900;}}const qh=class qh{static['push'](_0x2107d1){qh['_types']['push'](_0x2107d1);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0xfe3951,_0x4c81ba,_0x76c80a)=>{Ck[_0xfe3951]=0x971*0x4+-0x1138+-0x148b;});function Pk(_0x5a9f09,_0x2518ed,_0x46dfeb){if(typeof _0x5a9f09!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x5a9f09+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x5a9f09['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x5a9f09)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x2518ed=_0x2518ed||_0x5a9f09['__name']||Wo['__getScrip'+'tName'](_0x5a9f09),Ak['has'](_0x2518ed))throw new Error('script\x20nam'+'e:\x20\x27'+_0x2518ed+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x5a9f09['__name']=_0x2518ed,Ks['getApplica'+'tion']()['scripts']['add'](_0x5a9f09),aa['push'](_0x5a9f09);}const Mk=_0x2f603a=>_0x2f603a[-0x597*0x5+-0x1e87+0x2*0x1d3d]['toLowerCas'+'e']()+_0x2f603a['substring'](-0x1500+-0x16cf+0x2bd0);class Dk extends Qe{constructor(_0x3b503f){super(_0x3b503f,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x19691a in this['_cache']){const _0x363c30=this['_cache'][_0x19691a],_0x3c4438=_0x363c30['parentNode'];_0x3c4438&&_0x3c4438['removeChil'+'d'](_0x363c30);}this['_cache']={};}['load'](_0xcf6da2,_0x5e7126){typeof _0xcf6da2=='string'&&(_0xcf6da2={'load':_0xcf6da2,'original':_0xcf6da2});const _0x37581d=this;this['_app'];const _0x5a85d9=(_0xcf6da2['load'],(_0x23acfd,_0x48f5e4,_0x2243be)=>{if(_0x23acfd)_0x5e7126(_0x23acfd);else{const _0x2e2f9d={};for(let _0x35f712=-0x1374+0x1*0x1d9+0x119b*0x1;_0x35f712<aa['_types']['length'];_0x35f712++)_0x2e2f9d[aa['_types'][_0x35f712]['name']]=aa['_types'][_0x35f712];aa['_types']['length']=0x1*-0x4b1+-0x4bd*-0x5+-0x1300,_0x5e7126(null,_0x2e2f9d,_0x2243be);const _0x46b693=_0x48f5e4['split']('&hash=')[0x1ac9+-0x3*0x423+0x14*-0xb8];delete _0x37581d['_loader']['_cache'][Cn['makeKey'](_0x46b693,'script')];}}),[_0x3892f3]=_0xcf6da2['load']['split']('?');_0x3892f3['endsWith']('.mjs')?this['_loadModul'+'e'](_0x3892f3,_0x5a85d9):this['_loadScrip'+'t'](_0xcf6da2['load'],_0x5a85d9);}['open'](_0x5ec8ff,_0x139deb){return _0x139deb;}['patch'](_0x1f4b40,_0x3f5bcf){}['_loadScrip'+'t'](_0x147f47,_0x2b6263){const _0x346a99=document['head'],_0x5c096c=document['createElem'+'ent']('script');this['_cache'][_0x147f47]=_0x5c096c,_0x5c096c['async']=!(0xf86+0xa7*0x1+-0x102c),_0x5c096c['addEventLi'+'stener']('error',_0x5ee1f0=>{_0x2b6263('Script:\x20'+_0x5ee1f0['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x1a09+0x1a26+-0x1a17*0x2));let _0x599c78=!(-0xc4a+-0x11*-0x1ad+-0x1032);_0x5c096c['onload']=_0x5c096c['onreadysta'+'techange']=function(){!_0x599c78&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x599c78=!(0x1360+0x3c1+-0x1721*0x1),_0x2b6263(null,_0x147f47,_0x5c096c));},_0x5c096c['src']=_0x147f47,_0x346a99['appendChil'+'d'](_0x5c096c);}['_loadModul'+'e'](_0x327640,_0x4c4592){const _0x32e147=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x23a625=new URL(_0x327640,_0x32e147);import(_0x23a625['toString']())['then'](_0x469a1f=>{var _0x4d0fd0,_0x45cc55;const _0x5dfedf=_0x23a625['pathname']['split']('/')['pop'](),_0x173931=(_0x45cc55=(_0x4d0fd0=this['_app']['assets']['find'](_0x5dfedf,'script'))==null?void(0x1*-0x143f+0x14d*-0x2+0x16d9):_0x4d0fd0['data'])==null?void(0x25cb+-0x53*0x61+-0x658):_0x45cc55['scripts'];for(const _0x5ed21b in _0x469a1f){const _0xbdedc1=_0x469a1f[_0x5ed21b];if(_0xbdedc1['prototype']instanceof ts){const _0x3c9d15=Mk(_0xbdedc1['name']);_0xbdedc1['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xbdedc1['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xbdedc1['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x3c9d15+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x42eb88=_0xbdedc1['scriptName']??_0x3c9d15;Pk(_0xbdedc1,_0x42eb88),_0x173931&&this['_app']['scripts']['addSchema'](_0x42eb88,_0x173931[_0x42eb88]);}}_0x4c4592(null,_0x327640,null);})['catch'](_0x4ca575=>{_0x4c4592(_0x4ca575);});}}class Ik extends Qe{constructor(_0x4df1fc){super(_0x4df1fc,'shader'),h(this,'decoder',null);}['load'](_0x2c07e5,_0x467993){typeof _0x2c07e5=='string'&&(_0x2c07e5={'load':_0x2c07e5,'original':_0x2c07e5}),ot['get'](_0x2c07e5['load'],{'retry':this['maxRetries']>0xc*-0x200+0x2b*-0xb3+-0x1*-0x3611,'maxRetries':this['maxRetries']},(_0x574693,_0x180344)=>{_0x574693?_0x467993('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x2c07e5['original']+'\x20['+_0x574693+']'):_0x467993(null,_0x180344);});}['openBinary'](_0x24ac78){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x24ac78);}}function Pf(_0x536d99){const _0x1c1f5c=this;_0x1c1f5c['resource']&&(_0x1c1f5c['resource']['atlas']=_0x536d99['resource']);}function Mf(_0x5b1dfa){this['registry']['load'](_0x5b1dfa);}class Lk extends Qe{constructor(_0x1eb7c4){super(_0x1eb7c4,'sprite'),this['_assets']=_0x1eb7c4['assets'],this['_device']=_0x1eb7c4['graphicsDe'+'vice'];}['load'](_0x26bc74,_0x1d2f1a){typeof _0x26bc74=='string'&&(_0x26bc74={'load':_0x26bc74,'original':_0x26bc74}),xe['getExtensi'+'on'](_0x26bc74['original'])==='.json'&&ot['get'](_0x26bc74['load'],{'retry':this['maxRetries']>-0x366*-0x8+0x185*0x4+-0x4*0x851,'maxRetries':this['maxRetries']},(_0x18462e,_0x5c4864)=>{_0x18462e?_0x1d2f1a(_0x18462e):_0x1d2f1a(null,_0x5c4864);});}['open'](_0x1dae17,_0x48f1dc){const _0x589fce=new BA(this['_device']);return _0x1dae17&&(_0x589fce['__data']=_0x48f1dc),_0x589fce;}['patch'](_0x371dd8,_0x12b09d){const _0x55e0c6=_0x371dd8['resource'];if(_0x55e0c6['__data']&&(_0x371dd8['data']['pixelsPerU'+'nit']=_0x55e0c6['__data']['pixelsPerU'+'nit'],_0x371dd8['data']['renderMode']=_0x55e0c6['__data']['renderMode'],_0x371dd8['data']['frameKeys']=_0x55e0c6['__data']['frameKeys'],_0x55e0c6['__data']['textureAtl'+'asAsset'])){const _0x2cd41c=_0x12b09d['getByUrl'](_0x55e0c6['__data']['textureAtl'+'asAsset']);_0x2cd41c?_0x371dd8['data']['textureAtl'+'asAsset']=_0x2cd41c['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x55e0c6['__data']['textureAtl'+'asAsset']);}_0x55e0c6['startUpdat'+'e'](),_0x55e0c6['renderMode']=_0x371dd8['data']['renderMode'],_0x55e0c6['pixelsPerU'+'nit']=_0x371dd8['data']['pixelsPerU'+'nit'],_0x55e0c6['frameKeys']=_0x371dd8['data']['frameKeys'],this['_updateAtl'+'as'](_0x371dd8),_0x55e0c6['endUpdate'](),_0x371dd8['off']('change',this['_onAssetCh'+'ange'],this),_0x371dd8['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x4db38a){const _0x3df16d=_0x4db38a['resource'];if(!_0x4db38a['data']['textureAtl'+'asAsset']){_0x3df16d['atlas']=null;return;}this['_assets']['off']('load:'+_0x4db38a['data']['textureAtl'+'asAsset'],Pf,_0x4db38a),this['_assets']['on']('load:'+_0x4db38a['data']['textureAtl'+'asAsset'],Pf,_0x4db38a);const _0x437244=this['_assets']['get'](_0x4db38a['data']['textureAtl'+'asAsset']);_0x437244&&_0x437244['resource']?_0x3df16d['atlas']=_0x437244['resource']:_0x437244?this['_assets']['load'](_0x437244):(this['_assets']['off']('add:'+_0x4db38a['data']['textureAtl'+'asAsset'],Mf,_0x4db38a),this['_assets']['on']('add:'+_0x4db38a['data']['textureAtl'+'asAsset'],Mf,_0x4db38a));}['_onAssetCh'+'ange'](_0xc53235,_0x39b66b,_0x43652f,_0x291f04){_0x39b66b==='data'&&_0x43652f&&_0x43652f['textureAtl'+'asAsset']&&_0x291f04&&_0x43652f['textureAtl'+'asAsset']!==_0x291f04['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x291f04['textureAtl'+'asAsset'],Pf,_0xc53235),this['_assets']['off']('add:'+_0x291f04['textureAtl'+'asAsset'],Mf,_0xc53235));}}class vS{constructor(_0x3b8ffc,_0x26387d){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x3b8ffc,this['_data']=_0x26387d);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x433f35=new bm(this['_app'],!(-0x1126+-0xcc2+0x2*0xef4));this['_templateR'+'oot']=_0x433f35['parse'](this['_data']);}}(function(){let _0x299776;try{const _0x5060e2=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x299776=_0x5060e2();}catch(_0x3c8adb){_0x299776=window;}_0x299776['setInterva'+'l'](_0x37d061,0x1de2+-0x4*-0x95b+-0x46*0xbd);}());class Rk extends Qe{constructor(_0x8dcfb4){super(_0x8dcfb4,'template'),h(this,'decoder',null);}['load'](_0x161ede,_0x312f7c){typeof _0x161ede=='string'&&(_0x161ede={'load':_0x161ede,'original':_0x161ede});const _0x4507b5={'retry':this['maxRetries']>-0x1a*-0x8+-0x1*-0x22d2+-0x2*0x11d1,'maxRetries':this['maxRetries']};ot['get'](_0x161ede['load'],_0x4507b5,(_0x2bebf8,_0x4f460d)=>{_0x2bebf8?_0x312f7c('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x161ede['original']):_0x312f7c(_0x2bebf8,_0x4f460d);});}['open'](_0x5ceb4c,_0x37e77b){return new vS(this['_app'],_0x37e77b);}['openBinary'](_0x40c0aa){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x40c0aa)));}}class Ok extends Qe{constructor(_0xe0724b){super(_0xe0724b,'text'),h(this,'decoder',null);}['load'](_0x2579c1,_0x4fd88b){typeof _0x2579c1=='string'&&(_0x2579c1={'load':_0x2579c1,'original':_0x2579c1}),ot['get'](_0x2579c1['load'],{'retry':this['maxRetries']>0x2658+-0x536+0x2122*-0x1,'maxRetries':this['maxRetries']},(_0x32a98c,_0x4ef846)=>{_0x32a98c?_0x4fd88b('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x2579c1['original']+'\x20['+_0x32a98c+']'):_0x4fd88b(null,_0x4ef846);});}['openBinary'](_0x536c10){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x536c10);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x395850){super(_0x395850,'textureatl'+'as'),this['_loader']=_0x395850['loader'];}['load'](_0x4d3586,_0x6500de){typeof _0x4d3586=='string'&&(_0x4d3586={'load':_0x4d3586,'original':_0x4d3586});const _0x2ae429=this,_0x1adbc0=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x4d3586['original'])==='.json'?ot['get'](_0x4d3586['load'],{'retry':this['maxRetries']>0x373*-0x1+-0x1372+0x16e5,'maxRetries':this['maxRetries']},(_0x327506,_0x5636be)=>{if(_0x327506)_0x6500de(_0x327506);else{const _0x4542c3=_0x4d3586['original']['replace']('.json','.png');_0x2ae429['_loader']['load'](_0x4542c3,'texture',(_0x4ff677,_0x5c3768)=>{_0x4ff677?_0x6500de(_0x4ff677):_0x6500de(null,{'data':_0x5636be,'texture':_0x5c3768});});}}):_0x1adbc0['load'](_0x4d3586,_0x6500de);}['open'](_0x4358e6,_0x2981eb,_0x3f0e06){const _0x2e0b37=new zA();if(_0x2981eb['texture']&&_0x2981eb['data'])_0x2e0b37['texture']=_0x2981eb['texture'],_0x2e0b37['__data']=_0x2981eb['data'];else{const _0x1d63c8=this['_loader']['getHandler']('texture')['open'](_0x4358e6,_0x2981eb,_0x3f0e06);if(!_0x1d63c8)return null;_0x2e0b37['texture']=_0x1d63c8;}return _0x2e0b37;}['patch'](_0x5a1c13,_0x56c0ec){if(!_0x5a1c13['resource'])return;_0x5a1c13['resource']['__data']&&(_0x5a1c13['resource']['__data']['minfilter']!==void(-0x10a6+-0x1639*0x1+0x26df)&&(_0x5a1c13['data']['minfilter']=_0x5a1c13['resource']['__data']['minfilter']),_0x5a1c13['resource']['__data']['magfilter']!==void(0xb73+-0x13*0x2b+-0x842)&&(_0x5a1c13['data']['magfilter']=_0x5a1c13['resource']['__data']['magfilter']),_0x5a1c13['resource']['__data']['addressu']!==void(-0xf*0x13b+-0x781*0x1+0x1*0x19f6)&&(_0x5a1c13['data']['addressu']=_0x5a1c13['resource']['__data']['addressu']),_0x5a1c13['resource']['__data']['addressv']!==void(-0x3cb*0x5+0x1a23+0x6c*-0x11)&&(_0x5a1c13['data']['addressv']=_0x5a1c13['resource']['__data']['addressv']),_0x5a1c13['resource']['__data']['mipmaps']!==void(0x1098+0x1*0xd1a+0x21f*-0xe)&&(_0x5a1c13['data']['mipmaps']=_0x5a1c13['resource']['__data']['mipmaps']),_0x5a1c13['resource']['__data']['anisotropy']!==void(0x5*-0x769+-0x12a9+0x6*0x949)&&(_0x5a1c13['data']['anisotropy']=_0x5a1c13['resource']['__data']['anisotropy']),_0x5a1c13['resource']['__data']['rgbm']!==void(0x18ac*0x1+0x25cf+-0x3e7b)&&(_0x5a1c13['data']['rgbm']=!!_0x5a1c13['resource']['__data']['rgbm']),_0x5a1c13['data']['frames']=_0x5a1c13['resource']['__data']['frames'],delete _0x5a1c13['resource']['__data']);const _0x25222e=_0x5a1c13['resource']['texture'];if(_0x25222e&&(_0x25222e['name']=_0x5a1c13['name'],_0x5a1c13['data']['hasOwnProp'+'erty']('minfilter')&&_0x25222e['minFilter']!==Lc[_0x5a1c13['data']['minfilter']]&&(_0x25222e['minFilter']=Lc[_0x5a1c13['data']['minfilter']]),_0x5a1c13['data']['hasOwnProp'+'erty']('magfilter')&&_0x25222e['magFilter']!==Lc[_0x5a1c13['data']['magfilter']]&&(_0x25222e['magFilter']=Lc[_0x5a1c13['data']['magfilter']]),_0x5a1c13['data']['hasOwnProp'+'erty']('addressu')&&_0x25222e['addressU']!==Ic[_0x5a1c13['data']['addressu']]&&(_0x25222e['addressU']=Ic[_0x5a1c13['data']['addressu']]),_0x5a1c13['data']['hasOwnProp'+'erty']('addressv')&&_0x25222e['addressV']!==Ic[_0x5a1c13['data']['addressv']]&&(_0x25222e['addressV']=Ic[_0x5a1c13['data']['addressv']]),_0x5a1c13['data']['hasOwnProp'+'erty']('mipmaps')&&_0x25222e['mipmaps']!==_0x5a1c13['data']['mipmaps']&&(_0x25222e['mipmaps']=_0x5a1c13['data']['mipmaps']),_0x5a1c13['data']['hasOwnProp'+'erty']('anisotropy')&&_0x25222e['anisotropy']!==_0x5a1c13['data']['anisotropy']&&(_0x25222e['anisotropy']=_0x5a1c13['data']['anisotropy']),_0x5a1c13['data']['hasOwnProp'+'erty']('rgbm'))){const _0x17251f=_0x5a1c13['data']['rgbm']?Zi:Ds;_0x25222e['type']!==_0x17251f&&(_0x25222e['type']=_0x17251f);}_0x5a1c13['resource']['texture']=_0x25222e;const _0x580302={};for(const _0x466856 in _0x5a1c13['data']['frames']){const _0x52c534=_0x5a1c13['data']['frames'][_0x466856];_0x580302[_0x466856]={'rect':new re(_0x52c534['rect']),'pivot':new J(_0x52c534['pivot']),'border':new re(_0x52c534['border'])};}_0x5a1c13['resource']['frames']=_0x580302,_0x5a1c13['off']('change',this['_onAssetCh'+'ange'],this),_0x5a1c13['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x119273,_0xf03a93,_0x215639){let _0x4858ff;if(_0xf03a93==='data'||_0xf03a93==='data.frame'+'s'){const _0x5d0e44={};for(const _0x4cf0c9 in _0x215639['frames'])_0x4858ff=_0x215639['frames'][_0x4cf0c9],_0x5d0e44[_0x4cf0c9]={'rect':new re(_0x4858ff['rect']),'pivot':new J(_0x4858ff['pivot']),'border':new re(_0x4858ff['border'])};_0x119273['resource']['frames']=_0x5d0e44;}else{const _0x5057d0=_0xf03a93['match'](Fk);if(_0x5057d0){const _0x1895ca=_0x5057d0[0x1ab5+0x5f9+-0x20ad];_0x215639?(_0x119273['resource']['frames'][_0x1895ca]?(_0x4858ff=_0x119273['resource']['frames'][_0x1895ca],_0x4858ff['rect']['set'](_0x215639['rect'][0x2*0xd8d+0x20bf+0x3bd9*-0x1],_0x215639['rect'][-0x142d+0x22c9*0x1+-0x1*0xe9b],_0x215639['rect'][-0x1927*0x1+0x174f+0x1da],_0x215639['rect'][-0x32*0x33+0xc59+0x130*-0x2]),_0x4858ff['pivot']['set'](_0x215639['pivot'][0x4e*-0x43+0x18b+-0x1*-0x12df],_0x215639['pivot'][-0x1c15+0x1*-0x107+0x101*0x1d]),_0x4858ff['border']['set'](_0x215639['border'][-0x2*-0x10c7+-0x597+-0x1bf7],_0x215639['border'][0x930*-0x1+-0x1140+0x1a71],_0x215639['border'][-0x21f4+-0x9cb+0x2bc1],_0x215639['border'][0x7*0x83+-0x2453+0x20c1])):_0x119273['resource']['frames'][_0x1895ca]={'rect':new re(_0x215639['rect']),'pivot':new J(_0x215639['pivot']),'border':new re(_0x215639['border'])},_0x119273['resource']['fire']('set:frame',_0x1895ca,_0x119273['resource']['frames'][_0x1895ca])):_0x119273['resource']['frames'][_0x1895ca]&&(delete _0x119273['resource']['frames'][_0x1895ca],_0x119273['resource']['fire']('remove:fra'+'me',_0x1895ca));}}}}function kk(){const _0x46bfc1={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x2db3aa={'astc':_0x46bfc1['cTFASTC_4x'+'4'],'dxt':_0x46bfc1['cTFBC1'],'etc1':_0x46bfc1['cTFETC1'],'etc2':_0x46bfc1['cTFETC1'],'pvr':_0x46bfc1['cTFPVRTC1_'+'4_RGB'],'atc':_0x46bfc1['cTFATC_RGB'],'none':_0x46bfc1['cTFRGB565']},_0x9251ca={'astc':_0x46bfc1['cTFASTC_4x'+'4'],'dxt':_0x46bfc1['cTFBC3'],'etc1':_0x46bfc1['cTFRGBA444'+'4'],'etc2':_0x46bfc1['cTFETC2'],'pvr':_0x46bfc1['cTFPVRTC1_'+'4_RGBA'],'atc':_0x46bfc1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x46bfc1['cTFRGBA444'+'4']},_0x171542={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x186252=(_0x45e4e2,_0x4b4845)=>{switch(_0x45e4e2){case _0x46bfc1['cTFETC1']:return _0x4b4845['formats']['etc2']?_0x171542['ETC2_RGB']:_0x171542['ETC1'];case _0x46bfc1['cTFETC2']:return _0x171542['ETC2_RGBA'];case _0x46bfc1['cTFBC1']:return _0x171542['DXT1'];case _0x46bfc1['cTFBC3']:return _0x171542['DXT5'];case _0x46bfc1['cTFPVRTC1_'+'4_RGB']:return _0x171542['PVRTC_4BPP'+'_RGB_1'];case _0x46bfc1['cTFPVRTC1_'+'4_RGBA']:return _0x171542['PVRTC_4BPP'+'_RGBA_1'];case _0x46bfc1['cTFASTC_4x'+'4']:return _0x171542['ASTC_4x4'];case _0x46bfc1['cTFATC_RGB']:return _0x171542['ATC_RGB'];case _0x46bfc1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x171542['ATC_RGBA'];case _0x46bfc1['cTFRGBA32']:return _0x171542['R8_G8_B8_A'+'8'];case _0x46bfc1['cTFRGB565']:return _0x171542['R5_G6_B5'];case _0x46bfc1['cTFRGBA444'+'4']:return _0x171542['R4_G4_B4_A'+'4'];}},_0x202975=_0x2d0dda=>{const _0x4ddd51=function(_0x520ef5,_0x194ae6){const _0x4b10d1=_0x520ef5*(0x1*0x1438+0x1*-0x2c+-0x503*0x4+0.00784313725490196)-(-0x18*0xf6+-0xf22+0x2633),_0x251293=_0x194ae6*((-0x8bd*-0x1+-0x231c+-0x1*-0x1a61)/(-0x24e2+0x1*-0x905+0x2ee6))-(0x1488+-0x15f*0x9+-0x830),_0x5555f8=Math['sqrt'](0x1c95+0x19*-0x155+0x4b9-Math['min'](0x140b+-0x631+-0xdd9,_0x4b10d1*_0x4b10d1+_0x251293*_0x251293));return Math['max'](-0x1*0x2471+-0x4*0x65f+0x1*0x3ded,Math['min'](-0x1b52+0x3*-0x9a0+-0x3931*-0x1,Math['floor']((_0x5555f8+(-0x485+0x1*-0x1472+0x88*0x2f))*(0x2*0xfad+-0x62b*0x1+-0x192f+0.5)*(0xcc6+-0x131*-0x14+-0x239b))));};for(let _0x561192=0x1*0xde7+0xc9b+-0x1a82*0x1;_0x561192<_0x2d0dda['length'];_0x561192+=0x6*0x83+-0x17f8+0x14ea){const _0x5da8c3=_0x2d0dda[_0x561192+(-0xc87+-0x1c9*-0xb+-0x719)],_0x269847=_0x2d0dda[_0x561192+(0x2*0x109c+0x2593*-0x1+0x2*0x22e)];_0x2d0dda[_0x561192+(-0x2009*-0x1+0x1622+0x362b*-0x1)]=_0x5da8c3,_0x2d0dda[_0x561192+(-0x239*-0xd+0x7*-0xd+-0x1c88)]=_0x4ddd51(_0x5da8c3,_0x269847),_0x2d0dda[_0x561192+(0x270d+-0x9f3*-0x2+-0x3af0)]=-0xa4e+0x4*-0x629+-0x1*-0x23f1;}return _0x2d0dda;},_0x11bd79=_0x48b0f5=>{const _0x345b29=new Uint16Array(_0x48b0f5['length']/(0xcde+0x2*-0x31+-0xc78));for(let _0xf2dd63=0x2331+0x8a9+0x3*-0xe9e;_0xf2dd63<_0x48b0f5['length'];_0xf2dd63+=-0x2497+-0x2472*0x1+0x490d){const _0x2a8907=_0x48b0f5[_0xf2dd63+(0x63*0x3c+-0x4*0x359+-0x4*0x274)],_0x2f125e=_0x48b0f5[_0xf2dd63+(-0x2*0x1279+0x1351+0x11a2)],_0x1c5050=_0x48b0f5[_0xf2dd63+(-0x66f*0x3+0x1325*0x2+0x1*-0x12fb)];_0x345b29[_0xf2dd63/(0x1464+0x1*-0x11fb+-0x265)]=(_0x2a8907&-0x5f3*-0x5+-0x24da*-0x1+-0x35*0x13d)<<-0x115c+-0x863*-0x3+-0x7c5|(_0x2f125e&0x994+0x11a5+-0x1a3d)<<-0x2*0x669+0x627+0x5*0x156|_0x1c5050>>-0x1*-0x1b72+-0x3*-0x69b+-0x17a0*0x2;}return _0x345b29;},_0x538135=(_0x4970d9,_0x366cb3)=>(_0x4970d9&_0x4970d9-(0x14c2+-0x547*-0x5+-0x2f24))===-0x216f+-0x8f+0x21fe&&(_0x366cb3&_0x366cb3-(0x1f0d+0x43a*-0x5+-0x9ea))===-0x1a97+-0x23bf+-0xca*-0x4f,_0x5e4a7c=()=>typeof performance<'u'?performance['now']():-0x2*0xbf+-0xe2c+-0x322*-0x5;let _0x1a2b71,_0x5ef1ce,_0x530710;const _0x27a3e5=(_0x470268,_0x12042d,_0x243181)=>{if(_0x243181){if(_0x470268['formats']['astc'])return'astc';}else{if(_0x12042d){if(_0x470268['formats']['etc2'])return'etc2';}else{if(_0x470268['formats']['etc2'])return'etc2';if(_0x470268['formats']['etc1'])return'etc1';}}return(_0x35b67b=>{for(let _0x13da74=-0x971*-0x3+0x1cfe*0x1+-0x43*0xdb;_0x13da74<_0x35b67b['length'];++_0x13da74){const _0x3bd411=_0x35b67b[_0x13da74];if(_0x470268['formats'][_0x3bd411])return _0x3bd411;}return'none';})(_0x12042d?_0x530710:_0x5ef1ce);},_0x141ddc=(_0x13e5b7,_0x11866d,_0x464922)=>{switch(_0x464922){case _0x46bfc1['cTFETC1']:case _0x46bfc1['cTFETC2']:return!(-0xd41*0x1+-0x197+-0x13*-0xc8);case _0x46bfc1['cTFBC1']:case _0x46bfc1['cTFBC3']:return(_0x13e5b7&0x80f*-0x1+0x1d37+-0x1525)===0x1d06+0x4*-0x518+-0x8a6&&(_0x11866d&-0xe80+-0x39*0xc+-0x53*-0x35)===0x1b0d+-0x2b*-0x6d+0x4*-0xb57;case _0x46bfc1['cTFPVRTC1_'+'4_RGB']:case _0x46bfc1['cTFPVRTC1_'+'4_RGBA']:return _0x538135(_0x13e5b7,_0x11866d);case _0x46bfc1['cTFASTC_4x'+'4']:return!(0x23fc+-0xb4e+-0x2be*0x9);case _0x46bfc1['cTFATC_RGB']:case _0x46bfc1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x52f+-0x1d0f+-0x17e0*-0x1);}return!(0x5*0x6b+-0x112d*-0x1+0x1*-0x1343);},_0x11f914=(_0x36acaf,_0x42e0ac,_0x6c4967)=>{if(!_0x1a2b71['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4a8026=_0x5e4a7c(),_0x3eb9ef=new _0x1a2b71['KTX2File'](new Uint8Array(_0x42e0ac)),_0x59ea1b=_0x3eb9ef['getWidth'](),_0x1b9a05=_0x3eb9ef['getHeight'](),_0x22f9af=_0x3eb9ef['getLevels'](),_0x33a362=!!_0x3eb9ef['getHasAlph'+'a'](),_0x215ea8=_0x3eb9ef['isUASTC']&&_0x3eb9ef['isUASTC']();if(!_0x59ea1b||!_0x1b9a05||!_0x22f9af)throw _0x3eb9ef['close'](),_0x3eb9ef['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x36acaf+'\x20width='+_0x59ea1b+'\x20height='+_0x1b9a05+'\x20levels='+_0x22f9af);const _0x556a1f=_0x27a3e5(_0x6c4967['deviceDeta'+'ils'],_0x33a362,_0x215ea8),_0x5a88f6=!!_0x6c4967['isGGGR']&&_0x556a1f==='pvr';let _0xc3bdc0;if(_0x5a88f6?_0xc3bdc0=_0x46bfc1['cTFRGBA32']:(_0xc3bdc0=_0x33a362?_0x9251ca[_0x556a1f]:_0x2db3aa[_0x556a1f],_0x141ddc(_0x59ea1b,_0x1b9a05,_0xc3bdc0)||(_0xc3bdc0=_0x33a362?_0x46bfc1['cTFRGBA32']:_0x46bfc1['cTFRGB565'])),!_0x3eb9ef['startTrans'+'coding']())throw _0x3eb9ef['close'](),_0x3eb9ef['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x36acaf);let _0x9d1f60;const _0xb75381=[];for(let _0x5626d7=0x8*0x27c+0x172e+-0x2b0e;_0x5626d7<_0x22f9af;++_0x5626d7){const _0x3aa6b4=_0x3eb9ef['getImageTr'+'anscodedSi'+'zeInBytes'](_0x5626d7,0x1*-0x1ad1+0x42*0x70+0x1f*-0x11,-0x221b+0x1be*-0x14+-0x13*-0x3a1,_0xc3bdc0),_0x246d64=new Uint8Array(_0x3aa6b4);if(!_0x3eb9ef['transcodeI'+'mage'](_0x246d64,_0x5626d7,-0x15f0+-0x1*0x1cdc+0xcb3*0x4,-0x1a09+0xbdc+0x1*0xe2d,_0xc3bdc0,0x1*0xb5d+-0x1*0xf39+-0x2*-0x1ee,-(0x1*-0x1168+-0x230f+0x4*0xd1e),-(0xe89+-0x24e0+0x1658)))throw _0x3eb9ef['close'](),_0x3eb9ef['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x36acaf);const _0x5f07ef=_0xc3bdc0===_0x46bfc1['cTFRGB565']||_0xc3bdc0===_0x46bfc1['cTFRGBA444'+'4'];_0xb75381['push'](_0x5f07ef?new Uint16Array(_0x246d64['buffer']):_0x246d64);}if(_0x3eb9ef['close'](),_0x3eb9ef['delete'](),_0x5a88f6){for(_0xc3bdc0=_0x46bfc1['cTFRGB565'],_0x9d1f60=0x2016+0x2035+-0x404b;_0x9d1f60<_0xb75381['length'];++_0x9d1f60)_0xb75381[_0x9d1f60]=_0x11bd79(_0x202975(_0xb75381[_0x9d1f60]));}return{'format':_0x186252(_0xc3bdc0,_0x6c4967['deviceDeta'+'ils']),'width':_0x59ea1b,'height':_0x1b9a05,'levels':_0xb75381,'cubemap':!(0x8dc+-0x10*-0x57+-0xe4b),'transcodeTime':_0x5e4a7c()-_0x4a8026,'url':_0x36acaf,'unswizzledGGGR':_0x5a88f6};},_0x32609e=(_0xe40d3c,_0x2c4100,_0x4b99c9)=>{const _0x23efe8=_0x5e4a7c(),_0x5b0f72=new _0x1a2b71['BasisFile'](new Uint8Array(_0x2c4100)),_0x23aa90=_0x5b0f72['getImageWi'+'dth'](0x13c*0x18+0x15fa+-0x19cd*0x2,-0x1a*0x103+-0xbf4+-0x1*-0x2642),_0x2c8e7e=_0x5b0f72['getImageHe'+'ight'](-0x1d24+0x6*-0x41+-0x19*-0x13a,0xaf3*-0x2+0x42d*0x9+0x37*-0x49),_0x3770f3=_0x5b0f72['getNumImag'+'es'](),_0x3001de=_0x5b0f72['getNumLeve'+'ls'](-0x1e8d+-0x2*0x905+0x3097),_0x557932=!!_0x5b0f72['getHasAlph'+'a'](),_0x2caa5e=_0x5b0f72['isUASTC']&&_0x5b0f72['isUASTC']();if(!_0x23aa90||!_0x2c8e7e||!_0x3770f3||!_0x3001de)throw _0x5b0f72['close'](),_0x5b0f72['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xe40d3c+'\x20width='+_0x23aa90+'\x20height='+_0x2c8e7e+'\x20images='+_0x3770f3+'\x20levels='+_0x3001de);const _0x313c92=_0x27a3e5(_0x4b99c9['deviceDeta'+'ils'],_0x557932,_0x2caa5e),_0x3afcc6=!!_0x4b99c9['isGGGR']&&_0x313c92==='pvr';let _0x481c66;if(_0x3afcc6?_0x481c66=_0x46bfc1['cTFRGBA32']:(_0x481c66=_0x557932?_0x9251ca[_0x313c92]:_0x2db3aa[_0x313c92],_0x141ddc(_0x23aa90,_0x2c8e7e,_0x481c66)||(_0x481c66=_0x557932?_0x46bfc1['cTFRGBA32']:_0x46bfc1['cTFRGB565'])),!_0x5b0f72['startTrans'+'coding']())throw _0x5b0f72['close'](),_0x5b0f72['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xe40d3c);let _0x50a6fe;const _0x1c41c2=[];for(let _0x46cf9e=-0x1969*0x1+0xe9b*-0x1+0x2804;_0x46cf9e<_0x3001de;++_0x46cf9e){const _0x26049d=_0x5b0f72['getImageTr'+'anscodedSi'+'zeInBytes'](0xe*0x1f3+-0xdae+-0xd9c,_0x46cf9e,_0x481c66),_0x2910cb=new Uint8Array(_0x26049d);if(!_0x5b0f72['transcodeI'+'mage'](_0x2910cb,0x1*-0x229d+-0x1*-0x1b23+-0xae*-0xb,_0x46cf9e,_0x481c66,-0x13cf*-0x1+-0x3*-0x527+-0x1*0x2344,-0x11ba+-0x581*0x7+0x3841)){if(_0x46cf9e===_0x3001de-(0x32*-0x3d+0x8b2+0x21*0x19)&&_0x26049d===_0x1c41c2[_0x46cf9e-(-0x2676+-0x1467+0x3ade)]['buffer']['byteLength'])_0x2910cb['set'](new Uint8Array(_0x1c41c2[_0x46cf9e-(-0x1*0x17dd+-0xf70+0x45e*0x9)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0xe40d3c);else throw _0x5b0f72['close'](),_0x5b0f72['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xe40d3c);}const _0x11298c=_0x481c66===_0x46bfc1['cTFRGB565']||_0x481c66===_0x46bfc1['cTFRGBA444'+'4'];_0x1c41c2['push'](_0x11298c?new Uint16Array(_0x2910cb['buffer']):_0x2910cb);}if(_0x5b0f72['close'](),_0x5b0f72['delete'](),_0x3afcc6){for(_0x481c66=_0x46bfc1['cTFRGB565'],_0x50a6fe=-0xe0+0x2526+0x1223*-0x2;_0x50a6fe<_0x1c41c2['length'];++_0x50a6fe)_0x1c41c2[_0x50a6fe]=_0x11bd79(_0x202975(_0x1c41c2[_0x50a6fe]));}return{'format':_0x186252(_0x481c66,_0x4b99c9['deviceDeta'+'ils']),'width':_0x23aa90,'height':_0x2c8e7e,'levels':_0x1c41c2,'cubemap':!(0x11e1+0xbf*0x6+-0x165a*0x1),'transcodeTime':_0x5e4a7c()-_0x23efe8,'url':_0xe40d3c,'unswizzledGGGR':_0x3afcc6};},_0x2bf1f5=(_0x463d1f,_0x3f0190,_0xc11a0)=>_0xc11a0['isKTX2']?_0x11f914(_0x463d1f,_0x3f0190,_0xc11a0):_0x32609e(_0x463d1f,_0x3f0190,_0xc11a0),_0x3704ad=(_0x2fb208,_0x489058,_0x19a1c9)=>{try{const _0x38b834=_0x2bf1f5(_0x2fb208,_0x489058,_0x19a1c9);_0x38b834['levels']=_0x38b834['levels']['map'](_0x4dbf8e=>_0x4dbf8e['buffer']),self['postMessag'+'e']({'url':_0x2fb208,'data':_0x38b834},_0x38b834['levels']);}catch(_0x1841aa){self['postMessag'+'e']({'url':_0x2fb208,'err':_0x1841aa},null);}},_0x116930=(_0x3e8188,_0x51e916)=>{const _0x2ff85c=(_0x274089,_0x5d5f75)=>(WebAssembly['instantiat'+'e'](_0x3e8188['module'],_0x274089)['then'](_0x1c0ff1=>{_0x5d5f75(_0x1c0ff1);})['catch'](_0x2d09b0=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2d09b0);}),{});self['BASIS'](_0x3e8188['module']?{'instantiateWasm':_0x2ff85c}:null)['then'](_0xb7e868=>{_0xb7e868['initialize'+'Basis'](),_0x1a2b71=_0xb7e868,_0x5ef1ce=_0x3e8188['rgbPriorit'+'y'],_0x530710=_0x3e8188['rgbaPriori'+'ty'],_0x51e916(null);});},_0x17a6ef=[];self['onmessage']=_0x12a4bb=>{const _0x14d28c=_0x12a4bb['data'];switch(_0x14d28c['type']){case'init':_0x116930(_0x14d28c['config'],()=>{for(let _0x587c51=-0x1*0x24b8+0x27*0x51+-0x1*-0x1861;_0x587c51<_0x17a6ef['length'];++_0x587c51)_0x3704ad(_0x17a6ef[_0x587c51]['url'],_0x17a6ef[_0x587c51]['data'],_0x17a6ef[_0x587c51]['options']);_0x17a6ef['length']=-0xcb5+-0x772+-0x1427*-0x1;});break;case'transcode':_0x1a2b71?_0x3704ad(_0x14d28c['url'],_0x14d28c['data'],_0x14d28c['options']):_0x17a6ef['push'](_0x14d28c);break;}};}const Uk=_0x188b38=>({'astc':!!_0x188b38['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x188b38['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x188b38['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x188b38['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x188b38['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x188b38['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x34e64d,_0x4497b6)=>{const _0x21f9eb=_0x1fa574=>{const _0x2b6511=['/*\x20basis\x20*'+'/',_0x1fa574,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x2b6511],{'type':'applicatio'+'n/javascri'+'pt'});},_0x292859=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2c9de9=new WebAssembly['Module'](Uint8Array['of'](0x1bc+-0x1961+-0x17a5*-0x1,0x43*0x2f+-0x60d+-0xa7*0x9,0x1*-0x1726+-0x52*0x1f+0x2187*0x1,0x1a2d+-0x8c8+0x2*-0x87c,-0x241e+0x25d5*0x1+-0x1b6,0x216d+0x229*0x4+0x1*-0x2a11,0x228a*-0x1+0x566*0x3+-0x92c*-0x2,0xf91+0x1952+0x1*-0x28e3));if(_0x2c9de9 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2c9de9)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1ec+0x2534+-0x335*0xb);},_0xc2ad2=(_0x2fea98,_0x308aea)=>{_0x4497b6(null,{'workerUrl':URL['createObje'+'ctURL'](_0x21f9eb(_0x2fea98)),'module':_0x308aea,'rgbPriority':_0x34e64d['rgbPriorit'+'y'],'rgbaPriority':_0x34e64d['rgbaPriori'+'ty']});},_0x539114={'cache':!(-0x9aa*-0x2+-0x1c19+0x8c5),'responseType':'text','retry':_0x34e64d['maxRetries']>-0x3*-0x98e+0x25*0xf9+-0x40a7,'maxRetries':_0x34e64d['maxRetries']};if(_0x34e64d['glueUrl']&&_0x34e64d['wasmUrl']&&_0x292859()){let _0x2b07a5=null,_0x596a6e=null;ot['get'](_0x34e64d['glueUrl'],_0x539114,(_0x2cd9b5,_0x23a67c)=>{_0x2cd9b5?_0x4497b6(_0x2cd9b5):_0x596a6e?_0xc2ad2(_0x23a67c,_0x596a6e):_0x2b07a5=_0x23a67c;});const _0x2cca3f=fetch(_0x34e64d['wasmUrl']),_0x5363b4=()=>{_0x2cca3f['then'](_0x2be32b=>_0x2be32b['arrayBuffe'+'r']())['then'](_0x49340f=>WebAssembly['compile'](_0x49340f))['then'](_0x5321a6=>{_0x2b07a5?_0xc2ad2(_0x2b07a5,_0x5321a6):_0x596a6e=_0x5321a6;})['catch'](_0x4c289e=>{_0x4497b6(_0x4c289e,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x2cca3f)['then'](_0x15e4e1=>{_0x2b07a5?_0xc2ad2(_0x2b07a5,_0x15e4e1):_0x596a6e=_0x15e4e1;})['catch'](_0x114c1f=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x34e64d['wasmUrl']+'\x20('+_0x114c1f+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5363b4();}):_0x5363b4();}else ot['get'](_0x34e64d['fallbackUr'+'l'],_0x539114,(_0x482b31,_0x1cc0ed)=>{_0x482b31?_0x4497b6(_0x482b31,null):_0xc2ad2(_0x1cc0ed,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x10dd17,_0x330302,_0x21868f,_0x3253a2){if(this['callbacks']['hasOwnProp'+'erty'](_0x10dd17))this['callbacks'][_0x10dd17]['push'](_0x21868f);else{this['callbacks'][_0x10dd17]=[_0x21868f];const _0xe8fad5={'url':_0x10dd17,'data':_0x330302,'options':_0x3253a2};this['clients']['length']>0xb66*0x3+-0x67*-0x41+-0x3c59*0x1?this['clients']['shift']()['run'](_0xe8fad5):this['queue']['push'](_0xe8fad5);}}['enqueueCli'+'ent'](_0x3c7d72){this['queue']['length']>-0xb48*0x2+0x874+0xe1c*0x1?_0x3c7d72['run'](this['queue']['shift']()):this['clients']['push'](_0x3c7d72);}['handleResp'+'onse'](_0x1791ff,_0x5e2374,_0x801354){const _0x5249cb=this['callbacks'][_0x1791ff];if(_0x5e2374){for(let _0x57ae65=0xcc6+0x1859+0x2db*-0xd;_0x57ae65<_0x5249cb['length'];++_0x57ae65)_0x5249cb[_0x57ae65](_0x5e2374);}else{_0x801354['format']===Jh||_0x801354['format']===ed?_0x801354['levels']=_0x801354['levels']['map'](_0x4a2d27=>new Uint16Array(_0x4a2d27)):_0x801354['levels']=_0x801354['levels']['map'](_0x4c2e3e=>new Uint8Array(_0x4c2e3e));for(let _0x528ab2=0x854+-0x1335+-0x5*-0x22d;_0x528ab2<_0x5249cb['length'];++_0x528ab2)_0x5249cb[_0x528ab2](null,_0x801354);}delete this['callbacks'][_0x1791ff];}}class Vk{constructor(_0x6922d6,_0x9a08bd,_0x34a983){this['queue']=_0x6922d6,this['worker']=new Worker(_0x9a08bd['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x12161e=>{const _0x3adfcf=_0x12161e['data'];this['queue']['handleResp'+'onse'](_0x3adfcf['url'],_0x3adfcf['err'],_0x3adfcf['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x9a08bd}),this['eager']=_0x34a983;}['run'](_0x162e6d){const _0x316082=[];_0x162e6d['data']instanceof ArrayBuffer&&_0x316082['push'](_0x162e6d['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x162e6d['url'],'format':_0x162e6d['format'],'data':_0x162e6d['data'],'options':_0x162e6d['options']},_0x316082),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x231e+-0x3d5+0xd*-0x268,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x10cb*0x2+0xd*-0x2b3+-0xc3*-0x2,Xu=new zk();let xS=null,qu=!(0xfcc+-0x4*-0x467+-0x2167);function Xk(_0x18bb0d){if(!qu){if(!_0x18bb0d)_0x18bb0d=xS||{};else{if(_0x18bb0d['lazyInit']){xS=_0x18bb0d;return;}}if(!_0x18bb0d['glueUrl']||!_0x18bb0d['wasmUrl']||!_0x18bb0d['fallbackUr'+'l']){const _0x33eefb=YS['getConfig']('BASIS');_0x33eefb&&(_0x18bb0d={'glueUrl':_0x33eefb['glueUrl'],'wasmUrl':_0x33eefb['wasmUrl'],'fallbackUrl':_0x33eefb['fallbackUr'+'l'],'numWorkers':_0x33eefb['numWorkers']});}if(_0x18bb0d['glueUrl']||_0x18bb0d['wasmUrl']||_0x18bb0d['fallbackUr'+'l']){qu=!(-0x529*0x4+0xd2+0x13d2);const _0x3fbb0f=Math['max'](0x662*-0x4+0xc*0x20b+0x105,Math['min'](0x41*0x75+-0xe0b+0x1*-0xf9a,_0x18bb0d['numWorkers']||Gk)),_0x330d03=_0x18bb0d['numWorkers']===-0x26f8+0xd*-0x127+0x35f4*0x1||(_0x18bb0d['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x18bb0d['eagerWorke'+'rs']:!(0x3cd+0x1558+-0x1925));_0x18bb0d['rgbPriorit'+'y']=_0x18bb0d['rgbPriorit'+'y']||Hk,_0x18bb0d['rgbaPriori'+'ty']=_0x18bb0d['rgbaPriori'+'ty']||Wk,_0x18bb0d['maxRetries']=_0x18bb0d['hasOwnProp'+'erty']('maxRetries')?_0x18bb0d['maxRetries']:$k,Bk(_0x18bb0d,(_0x2de453,_0x166c2b)=>{if(_0x2de453)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x2de453);else{for(let _0x194bae=-0x1778*-0x1+0x571*-0x5+0x1d*0x21;_0x194bae<_0x3fbb0f;++_0x194bae)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x166c2b,_0x330d03));}});}}}let Df=null;function b0(_0x5c6706,_0x58506d,_0x1bca33,_0x3fbbdf,_0x45711a){return Xk(),Df||(Df={'formats':Uk(_0x5c6706)}),Xu['enqueueJob'](_0x58506d,_0x1bca33,_0x3fbbdf,{'deviceDetails':Df,'isGGGR':!!(_0x45711a!=null&&_0x45711a['isGGGR']),'isKTX2':!!(_0x45711a!=null&&_0x45711a['isKTX2'])}),qu;}class eo{['load'](_0x4871c2,_0x84035e,_0x4ae0a0){throw new Error('not\x20implem'+'ented');}['open'](_0x1c4ae6,_0x208ade,_0x147ca6){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x3a811e,_0x3f0d54){super(),this['device']=_0x3f0d54,this['maxRetries']=0x2*0xa7f+0x1244+0x86*-0x4b;}['load'](_0x4cff08,_0x70543d,_0x3dbcde){const _0x503d04=this['device'],_0x271d41=_0x34491a=>{var _0x2481a2,_0x5d95cf,_0x52902d;b0(_0x503d04,_0x4cff08['load'],_0x34491a,_0x70543d,{'isGGGR':(((_0x52902d=(_0x5d95cf=(_0x2481a2=_0x3dbcde==null?void(0x1000+0x79a+-0x3*0x7de):_0x3dbcde['file'])==null?void(0x5*-0x140+0x347+0x2f9):_0x2481a2['variants'])==null?void(-0x3*0x959+-0x607*0x2+0x2819):_0x5d95cf['basis'])==null?void(-0xe*-0x11c+-0x5c3*-0x5+-0x2c57):_0x52902d['opt'])&0xf7b*0x1+-0x3*0x1f9+-0x988)!==0x3*-0x508+0x1*-0x2149+0x3061})||_0x70543d('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3dbcde['name']+']('+_0x3dbcde['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x4cff08['load'],(_0x2f494a,_0x474b29)=>{_0x2f494a?_0x70543d(_0x2f494a):_0x271d41(_0x474b29);},_0x3dbcde,this['maxRetries']);}['open'](_0x49209d,_0x185c40,_0x24b5c0,_0x457f72={}){const _0x5a88da=_0x457f72['srgb']?ld(_0x185c40['format']):_0x185c40['format'],_0x43885c=new _e(_0x24b5c0,{'name':_0x49209d,'profilerHint':Pr,'addressU':_0x185c40['cubemap']?ue:yt,'addressV':_0x185c40['cubemap']?ue:yt,'width':_0x185c40['width'],'height':_0x185c40['height'],'format':_0x5a88da,'cubemap':_0x185c40['cubemap'],'levels':_0x185c40['levels'],..._0x457f72});return _0x43885c['upload'](),_0x43885c;}}const A0=new Uint8Array([0x1*0x206b+0x90*0x8+-0x2462,0x177c+0x4*-0x429+-0x688,-0x236*-0xa+-0x8f9*-0x1+-0x1ec7,0x7*0x131+0xcc3+-0x14d3*0x1,-0x4*-0x79f+-0x3*0x80f+-0x12*0x59,-0x1b69+-0xf77*-0x1+0xbfc,0xf6e+0x1*-0x2043+0xff*0x11,-0x103c*-0x2+-0x3*0x795+0x9af*-0x1,-0x58*-0x4a+0x1063+-0x29d3,0x25*0xd4+0x234d+-0x1*0x41f1,0xb28+-0x12b*0x1d+0x16b7,-0xa53+0x23f8+-0x1998,0x129*0xa+0x110a+-0x1c5b,0x228b+0x4*0xe4+-0x17*0x1a5,-0x9f*0x2b+-0x552+0x1*0x204b,-0x4b9*0x2+-0x11da+0x1b9e,0x4a0*-0x6+0x14a3*0x1+0x71d,-0x15c3+-0x1477+0xa*0x439,-0x20*0xd7+-0x14*-0x1aa+-0x668,0x2547+-0x1*-0x195+-0x58d*0x7,-0x640+0x542+0x2*0x7f,0x925+0x2*-0x1189+0x19ed,-0x1*-0x1d87+0x95+0x2f*-0xa4,-0x215e*0x1+0x216c+0xd*-0x1,-0x1fa0*0x1+0x1e1e+-0x1*-0x18a,0x1dfc*-0x1+0x8*-0x85+-0x2*-0x1115,0x1cc*0x2+-0x4*-0x70d+-0x1fcc*0x1,-0x60a*0x3+0x1f8c+-0xd6e,-0x1*-0xab6+-0x110d+0x21d*0x3,-0x9be+-0x1a97+-0x123a*-0x2,0x1a6*-0x8+0x2098+-0x1*0x1353,0x1f*-0x54+0x1fb3+-0x1*0x14c3,0x527+0x49e*-0x2+0x49e*0x1,0x629*-0x2+0x9c1+-0x9*-0x49,0x119*0x21+-0x7*0x371+-0xc22,-0x8b5*-0x2+-0xac0+-0x6aa*0x1,0xf5b*-0x1+0xb16+0x452,-0x23d8+-0x196*0xa+0x1*0x33fd,0x466+0x8*-0x47f+0x1fd6,0x14d*0x16+0x185*0x13+-0x393c,-0x1f60+0x15f*-0x15+-0x11*-0x38f,0x22eb+0x11df+0x16a*-0x25,-0x2c6*0xb+0xb97+0x3*0x697,0xfe*0x15+-0x1554+-0x19*-0x9,0x4aa+0x247f+-0x28c5,-0x256a+-0x7bf+0x2d8d,-0x1b*0x59+-0x16*0x42+0x3b*0x43,-0x6*-0x404+-0x161+-0x1601,-0x1baf+0x5*0x356+0x2c2*0x4,-0x17d4+-0xce+0x1*0x18a2,0x1*0x949+-0x251a+-0x1bd1*-0x1,0x1c25+-0x2077*-0x1+-0x3c43,-0x41a+0x4b0+0xa*-0xf,0x5db*0x1+0xe4*0x4+-0x924,-0xfea+0x4b8*0x4+-0x2b3,-0x23f4+0x6c*0x1+0x240d,-0xd*0xb3+0x23ef*0x1+0x1a44*-0x1,-0x1*0x3e7+0x2302+-0x1e2e,-0x107*0x12+0x25c1+-0x1343,-0x25f3+-0x1*0x18ad+0x3ea0,-0x2*-0x33+0xfdd*-0x2+0x1f54,-0x21da+-0x718+0x28f2,0xd0+-0x9f7+0x970,0x2*-0xef+0x20ae+-0x1e8b,-0x2609+-0x20bf+0x3*0x17b2,0x829+0x1*-0x209b+0x18b6,0x16a6+0x5*0x35+-0x1c5*0xd,0xa62*0x1+0x13*0x86+-0x7*0x2de,-0xc0d*0x1+0xccd*0x1+-0x60,0x23ed+0x1b*0x86+-0x2b*0x127]),C0=(_0x2f54d1,_0x548bd5)=>{const _0x486bf6=new _e(_0x2f54d1,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0xb*-0x337+0xad0+0x188e),'levels':[_0x548bd5]}),_0x595c4d=new gt({'colorBuffer':_0x486bf6,'depth':!(-0x1*0x1997+0x1*0x1699+0x2ff)});_0x2f54d1['setFramebu'+'ffer'](_0x595c4d['impl']['_glFrameBu'+'ffer']),_0x2f54d1['initRender'+'Target'](_0x595c4d);const _0x1c3f7f=new Uint8ClampedArray(-0x6*0x39a+0x11*-0x1e7+0x35f7);return _0x2f54d1['gl']['readPixels'](0xd54*0x1+0x998*0x1+0x28c*-0x9,-0x806+-0xd6*0x26+0x27ca,0x1467+0xe32+-0x2298,-0xc2*0x23+-0x2b*0x1d+0x1f66,_0x2f54d1['gl']['RGBA'],_0x2f54d1['gl']['UNSIGNED_B'+'YTE'],_0x1c3f7f),_0x595c4d['destroy'](),_0x486bf6['destroy'](),_0x1c3f7f[0x153*-0x5+-0x3e*-0x86+0x11*-0x185]===0x50f*0x4+0x3be*0x2+-0x2b*0xa5&&_0x1c3f7f[-0x2*0xc59+0x372+-0x1541*-0x1]===0x3*-0x3a+-0x63e+0x6ee&&_0x1c3f7f[0x19*-0x123+-0x16db+0x3348]===-0x191*0x17+0x1a28*-0x1+0x3e32*0x1&&_0x1c3f7f[0x246f+0x44*0x79+0x1*-0x4490]===0x184e+0xad1+0x18*-0x174;},jk=_0x58f704=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1e0a00=>C0(_0x58f704,_0x1e0a00))['catch'](_0x47a792=>!(0xc*-0xa4+0xbbb*-0x3+0x2ae2)),Yk=_0x11a040=>new Promise((_0x217f23,_0x242f5b)=>{const _0x122d43=new Image();_0x122d43['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x122d43['onload']=()=>{_0x217f23(C0(_0x11a040,_0x122d43));};});class Kk{static['run'](_0x440ed4){jk(_0x440ed4)['then'](_0x58fd18=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x58fd18);}),Yk(_0x440ed4)['then'](_0x30e2cf=>{console['log']('imgElement'+'IsCorrect='+_0x30e2cf);});}}class Zk extends eo{constructor(_0x562078,_0x2f7844){super(),this['crossOrigi'+'n']=_0x562078['prefix']?'anonymous':null,this['maxRetries']=-0xaa2+-0x1235+0x45*0x6b,this['device']=_0x2f7844,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x3bec3d,_0x49d82a,_0x11a167){var _0x5aa651;const _0x249e53=!!((_0x5aa651=_0x11a167==null?void(0xab2+-0x3*-0x59f+-0x1b8f):_0x11a167['file'])!=null&&_0x5aa651['contents']);if(_0x249e53){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x11a167['file']['contents']]),_0x49d82a);return;}_0x3bec3d={'load':URL['createObje'+'ctURL'](new Blob([_0x11a167['file']['contents']])),'original':_0x3bec3d['original']};}const _0x689887=(_0x2e52b8,_0x33a8b8)=>{_0x249e53&&URL['revokeObje'+'ctURL'](_0x3bec3d['load']),_0x49d82a(_0x2e52b8,_0x33a8b8);};let _0x38f1ff;_0x11a167&&_0x11a167['options']&&_0x11a167['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x38f1ff=_0x11a167['options']['crossOrigi'+'n']:jn['test'](_0x3bec3d['load'])&&(_0x38f1ff=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x3bec3d['load'],_0x3bec3d['original'],_0x38f1ff,_0x689887,_0x11a167):this['_loadImage'](_0x3bec3d['load'],_0x3bec3d['original'],_0x38f1ff,_0x689887);}['open'](_0x44967e,_0x23509c,_0x5c1614,_0x266802={}){const _0x16382e=new _e(_0x5c1614,{'name':_0x44967e,'profilerHint':Pr,'width':_0x23509c['width'],'height':_0x23509c['height'],'format':_0x266802['srgb']?_s:Ne,..._0x266802});return _0x16382e['setSource'](_0x23509c),_0x16382e;}['_loadImage'](_0x467a03,_0x239704,_0xe68a82,_0x2497a7){const _0x582873=new Image();_0xe68a82&&(_0x582873['crossOrigi'+'n']=_0xe68a82);let _0x2791e5=0x3*0x2dd+0x2514+0x1b*-0x1b1;const _0x4e8e70=this['maxRetries'];let _0xcaf2ae;_0x582873['onload']=function(){_0x2497a7(null,_0x582873);},_0x582873['onerror']=function(){if(!_0xcaf2ae){if(_0x4e8e70>-0x133b*0x1+0x2641+-0x983*0x2&&++_0x2791e5<=_0x4e8e70){const _0x18bd3a=Math['pow'](0xd6a+-0x270c+-0x446*-0x6,_0x2791e5)*(-0xfbf+-0x1153+0x2*0x10bb);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x239704+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x18bd3a+'ms...');const _0x275915=_0x467a03['indexOf']('?')>=0x1843*0x1+-0xbf*0x2b+0x7d2?'&':'?';_0xcaf2ae=setTimeout(()=>{_0x582873['src']=_0x467a03+_0x275915+'retry='+Date['now'](),_0xcaf2ae=null;},_0x18bd3a);}else _0x2497a7('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x239704+'\x27');}},_0x582873['src']=_0x467a03;}['_loadImage'+'Bitmap'](_0x1f27fb,_0x457516,_0x18c032,_0x5d3126,_0x1188b1){const _0x55c9e6={'cache':!(0xd15+-0x2021+-0x17*-0xd4),'responseType':'blob','retry':this['maxRetries']>0xd29+-0x1949*-0x1+-0x25*0x10a,'maxRetries':this['maxRetries'],'progress':_0x1188b1};ot['get'](_0x1f27fb,_0x55c9e6,(_0xcd56d1,_0x2240f1)=>{_0xcd56d1?_0x5d3126(_0xcd56d1):this['_loadImage'+'BitmapFrom'+'Blob'](_0x2240f1,_0x5d3126);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x3f3998,_0x2fe045){createImageBitmap(_0x3f3998,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x320023=>_0x2fe045(null,_0x320023))['catch'](_0x2b800d=>_0x2fe045(_0x2b800d));}}const If=[-0x4ff1fa4a+-0x71*-0xde7171+0x46163314,-0x7*0x20ac113+-0xac4f2afe+0x175cba3a3,-0x8ee99fe+-0xb234f7b+-0xa0ea682*-0x3],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x5bbc65,_0x48ba73,_0x5d7ca9,_0x2f8c37){return _0x5bbc65===In?new Uint32Array(_0x48ba73,_0x5d7ca9,_0x2f8c37/(-0x1b7d+0x240+0x1941)):new Uint8Array(_0x48ba73,_0x5d7ca9,_0x2f8c37);}class eU extends eo{constructor(_0xd0bb40){super(),this['maxRetries']=0x61a+-0x6d1+0xb7;}['load'](_0x38bc62,_0x5f1939,_0x5d6b97){pe['fetchArray'+'Buffer'](_0x38bc62['load'],_0x5f1939,_0x5d6b97,this['maxRetries']);}['open'](_0x35a32e,_0x1df1fd,_0x273cae,_0x2ed965={}){const _0x67206=this['parse'](_0x1df1fd);if(!_0x67206)return null;const _0x55c314=_0x2ed965['srgb']?ld(_0x67206['format']):_0x67206['format'],_0x2ea582=new _e(_0x273cae,{'name':_0x35a32e,'profilerHint':Pr,'addressU':_0x67206['cubemap']?ue:yt,'addressV':_0x67206['cubemap']?ue:yt,'width':_0x67206['width'],'height':_0x67206['height'],'format':_0x55c314,'cubemap':_0x67206['cubemap'],'levels':_0x67206['levels'],..._0x2ed965});return _0x2ea582['upload'](),_0x2ea582;}['parse'](_0x56156f){const _0x37eb33=new Uint32Array(_0x56156f);if(If[0x2*0x5ae+0x3a*-0x5f+0xa2a]!==_0x37eb33[-0x133e+0x1fa6+-0x31a*0x4]||If[0x1*0x7cd+-0x53*0x4f+0x11d1]!==_0x37eb33[-0x1*0x135b+-0x5*-0x7a2+-0x967*0x2]||If[0x1c78+0x124*0x1b+0x52*-0xb9]!==_0x37eb33[0xd2b+-0x1c4b+0x95*0x1a])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3e5808={'endianness':_0x37eb33[-0x1086+-0x151*0x7+0x19c0],'glType':_0x37eb33[0x2*-0x7d6+-0xc5b*0x1+0x1c0b*0x1],'glTypeSize':_0x37eb33[0x185a+-0x2299+0x522*0x2],'glFormat':_0x37eb33[0x3bf+0x8b0+0x423*-0x3],'glInternalFormat':_0x37eb33[0xdfb+0x336+-0x112a],'glBaseInternalFormat':_0x37eb33[0x1*-0x179e+0x1a2f*-0x1+0x31d5],'pixelWidth':_0x37eb33[0x1*-0xf53+-0x1105+0x2061*0x1],'pixelHeight':_0x37eb33[0x17dc+0xb0b*-0x1+-0xcc7],'pixelDepth':_0x37eb33[-0x43*-0x4d+-0x3*-0x9ed+0x81*-0x63],'numberOfArrayElements':_0x37eb33[0x203*0xb+-0x11e+0x1*-0x14f7],'numberOfFaces':_0x37eb33[0x5d*0x5d+-0xd3*-0x20+0x1e0e*-0x2],'numberOfMipmapLevels':_0x37eb33[0x202f+0x24e6+-0x4507],'bytesOfKeyValueData':_0x37eb33[-0x756+0xca*0xe+-0x37*0x11]};if(_0x3e5808['pixelDepth']>0x1630*-0x1+0x69c+0xf95)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3e5808['numberOfAr'+'rayElement'+'s']!==0x1*-0xdab+-0x1f11+0x2cbc)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x283d06=Qk[_0x3e5808['glInternal'+'Format']];if(_0x283d06===void(0x25d8+0x1*-0x20b7+-0x521))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3e5808['glInternal'+'Format']),null;let _0x485194=0x10*0x1a3+-0x1*0x79b+-0x1285+_0x3e5808['bytesOfKey'+'ValueData']/(-0xb96+0x1367+-0x7cd);const _0x2bad8e=_0x3e5808['numberOfFa'+'ces']>-0x151c+-0xa81*-0x3+-0xa66,_0x245d3c=[];for(let _0x407249=0x1813+-0x605+-0x120e;_0x407249<(_0x3e5808['numberOfMi'+'pmapLevels']||0xc*-0x1bd+-0x2d2+0x17af);_0x407249++){const _0x5c1d56=_0x37eb33[_0x485194++];_0x2bad8e&&_0x245d3c['push']([]);const _0x86342e=_0x2bad8e?_0x245d3c[_0x407249]:_0x245d3c;for(let _0x49fb55=-0x1999+-0x2d3+0x1c6c;_0x49fb55<(_0x2bad8e?-0xb*-0x22+0x16d9+-0x1849:-0x1*0xbe9+-0x25ee+0x31d8);++_0x49fb55)_0x86342e['push'](Jk(_0x283d06,_0x56156f,_0x485194*(0x1*0x204b+-0x21b5+-0xb7*-0x2),_0x5c1d56)),_0x485194+=_0x5c1d56+(-0xe03+0x15ed+-0x11*0x77)>>-0x16eb+-0x3*-0xa63+-0x1*0x83c;}return{'format':_0x283d06,'width':_0x3e5808['pixelWidth'],'height':_0x3e5808['pixelHeigh'+'t'],'levels':_0x245d3c,'cubemap':_0x2bad8e};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x3fec74,_0x5af261){super(),this['maxRetries']=-0x1e95+-0x1476+-0xb3*-0x49,this['device']=_0x5af261;}['load'](_0x2506e1,_0x1c0012,_0x5d7e08){pe['fetchArray'+'Buffer'](_0x2506e1['load'],(_0x7cf2f9,_0x192d36)=>{_0x7cf2f9?_0x1c0012(_0x7cf2f9,_0x192d36):this['parse'](_0x192d36,_0x2506e1,_0x1c0012,_0x5d7e08);},_0x5d7e08,this['maxRetries']);}['open'](_0x4f29f9,_0x4b4d44,_0x52c6d0,_0xdf92c9={}){const _0x4f7800=_0xdf92c9['srgb']?ld(_0x4b4d44['format']):_0x4b4d44['format'],_0x35785c=new _e(_0x52c6d0,{'name':_0x4f29f9,'profilerHint':Pr,'addressU':_0x4b4d44['cubemap']?ue:yt,'addressV':_0x4b4d44['cubemap']?ue:yt,'width':_0x4b4d44['width'],'height':_0x4b4d44['height'],'format':_0x4f7800,'cubemap':_0x4b4d44['cubemap'],'levels':_0x4b4d44['levels'],..._0xdf92c9});return _0x35785c['upload'](),_0x35785c;}['parse'](_0x4b7c5a,_0x21d715,_0x206744,_0x28d74d){var _0xb51c57,_0x27c9c1,_0x576fb5;const _0x354ee4=new KS(_0x4b7c5a),_0x53c772=[_0x354ee4['readU32be'](),_0x354ee4['readU32be'](),_0x354ee4['readU32be']()];if(_0x53c772[0x135*0x3+-0xaa2+0x1*0x703]!==0xc1dea534+-0xa6c2e84*-0x1+0x23560*-0xef1||_0x53c772[-0x1*0xd0f+0x5*-0x626+0x2bce]!==-0xfee76*0x43+-0x30a069f+-0x2204*-0x1288f||_0x53c772[0x6d0+-0x17f0+-0x5b6*-0x3]!==-0x1*0x726e021+0x195dd7b8*-0x1+0x2d8ed1e3)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x27d480={'vkFormat':_0x354ee4['readU32'](),'typeSize':_0x354ee4['readU32'](),'pixelWidth':_0x354ee4['readU32'](),'pixelHeight':_0x354ee4['readU32'](),'pixelDepth':_0x354ee4['readU32'](),'layerCount':_0x354ee4['readU32'](),'faceCount':_0x354ee4['readU32'](),'levelCount':_0x354ee4['readU32'](),'supercompressionScheme':_0x354ee4['readU32']()},_0x3454ae={'dfdByteOffset':_0x354ee4['readU32'](),'dfdByteLength':_0x354ee4['readU32'](),'kvdByteOffset':_0x354ee4['readU32'](),'kvdByteLength':_0x354ee4['readU32'](),'sgdByteOffset':_0x354ee4['readU64'](),'sgdByteLength':_0x354ee4['readU64']()},_0x402213=[];for(let _0x13276d=0x9bf+0x1191+-0x1b50;_0x13276d<Math['max'](0x24bb+0x1a3f*0x1+-0x3ef9,_0x27d480['levelCount']);++_0x13276d)_0x402213['push']({'byteOffset':_0x354ee4['readU64'](),'byteLength':_0x354ee4['readU64'](),'uncompressedByteLength':_0x354ee4['readU64']()});if(_0x354ee4['readU32']()!==_0x3454ae['kvdByteOff'+'set']-_0x3454ae['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x354ee4['skip'](0x19d0*-0x1+0x271*-0x7+0x2aef);const _0x4b25ea=_0x354ee4['readU8']();_0x354ee4['skip'](_0x3454ae['dfdByteLen'+'gth']-(0x208a+-0x389+-0x1cf8)),_0x354ee4['skip'](_0x3454ae['kvdByteLen'+'gth']),_0x27d480['supercompr'+'essionSche'+'me']===-0x18bf+-0xe*0x2+-0x94*-0x2b||_0x4b25ea===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x21d715['load'],_0x4b7c5a,_0x206744,{'isGGGR':(((_0x576fb5=(_0x27c9c1=(_0xb51c57=_0x28d74d==null?void(0x5*0x117+0x16f*0x1+-0x6e2):_0x28d74d['file'])==null?void(0x2f6*0x1+0xf4*-0x13+-0x7*-0x22a):_0xb51c57['variants'])==null?void(-0x652+-0xa6a+0x10bc):_0x27c9c1['basis'])==null?void(0x9*0x141+0x9ee+0x1*-0x1537):_0x576fb5['opt'])&-0x2*-0x4ca+-0xe43*-0x1+-0x17cf)!==-0x12*-0x96+-0x1153+-0x1*-0x6c7,'isKTX2':!(-0x260a+0x268b+-0x81)})||_0x206744('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x28d74d['name']+']('+_0x28d74d['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x206744('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x12096c){super(),this['maxRetries']=-0x2128+-0x2108+0x4230;}['load'](_0x184167,_0x380aac,_0x210a56){pe['fetchArray'+'Buffer'](_0x184167['load'],_0x380aac,_0x210a56,this['maxRetries']);}['open'](_0x6385d3,_0x508130,_0x247de3,_0x32093a={}){const _0x41ecb6=new Uint32Array(_0x508130,0x546+0x9b+0x12d*-0x5,-0x4c7*-0x2+0x24e7*0x1+-0x1*0x2e55),_0x43a4ad=_0x41ecb6[-0x8d*0xe+0x62a+-0x190*-0x1],_0x331702=_0x41ecb6[-0x7ef+-0x13ea+0x1*0x1bdc],_0x58c1be=Math['max'](_0x41ecb6[-0x2436+-0x2*0x616+0x3069],0x4*-0x85+0x2086+-0x1e71),_0x3a7698=_0x41ecb6[0x4*0x569+0x24bf+0xfd*-0x3b]===0xf21+-0x26c8*0x1+0x17ab,_0x22da67=_0x41ecb6[-0x2603+-0x13de+0x3*0x1352],_0x56869b=_0x41ecb6[-0x9f9+-0x1014+0x1a23*0x1],_0x267260=_0x41ecb6[-0x5b3+-0x1516+0x195*0x11]===-0x1dde*0x8+-0xf504+0x2e1f4,_0x3dd385=-0x1c8427f8+-0x1*-0x12a98362+0x3b2efcda,_0x3918ba=0x15c6*-0x29e53+-0x470b5f7f*-0x1+-0xf55f1f*-0x29,_0x278226=0x651+0x23b*-0xc+0x14e4,_0x28b3ae=-0xcb2*-0x1+0x779+-0x13b7,_0x5bce73=-0xa522*-0x4dda+-0x952*-0x5c17d+-0x3699e3b9*0x1,_0x2c6ac1=-0x41fbc211+0x21fca828+0x51324c39,_0x4e6938=0x417bb397*-0x1+0x157*0x11ccb3+0x5ad6a212,_0x460d32=0x2*0x14c69eee+0x2fde83a7*0x2+-0x581710da,_0x5e0858=0x233bdc6d*0x1+0x2fc0a9f5+-0x21c85212;let _0x28da96=!(0x15b*0x7+0xceb*0x1+-0x1667),_0x566d7d=!(0xe3*-0x9+-0x21e0+0x29dc),_0x2d8a81=!(-0xa7d*-0x1+0x2*-0x1003+-0x397*-0x6),_0x2c4990=!(0x2284*0x1+0x1092+-0x3315),_0x21b490=null,_0x3c22b2=-0xc62+0x2*-0x113e+0x2edf*0x1,_0x56f3e3;if(_0x3a7698?_0x22da67===_0x3dd385?(_0x21b490=td,_0x28da96=!(0x2400+-0x1bc5+-0x83b)):_0x22da67===_0x3918ba?(_0x21b490=vl,_0x28da96=!(-0x484+-0x1ea6+-0x283*-0xe)):_0x22da67===_0x278226?(_0x21b490=nt,_0x3c22b2=-0x1144+-0xc5b*0x1+0x1da1):_0x22da67===_0x28b3ae?(_0x21b490=Xt,_0x3c22b2=-0x1*-0x2bf+-0xf*0xea+0xafb):_0x22da67===_0x5bce73?(_0x21b490=id,_0x28da96=!(0x638+0x11ad+0x3*-0x7f7),_0x566d7d=!(0x213d+0x130+-0x4eb*0x7)):_0x22da67===_0x2c6ac1||_0x22da67===_0x4e6938?(_0x21b490=_0x22da67===_0x2c6ac1?xl:Tl,_0x28da96=!(0x1395+-0x1ac2+0x72d),_0x2d8a81=!(-0xcbe+0x224b*-0x1+0x2f09)):(_0x22da67===_0x460d32||_0x22da67===_0x5e0858)&&(_0x21b490=_0x22da67===_0x460d32?rd:ad,_0x28da96=!(0x845*0x4+0x7ba*0x1+-0x28ce),_0x2c4990=!(-0x1b85+-0x152f+0x30b4)):_0x56869b===-0xc83*0x1+0x1*0x79c+0x1*0x507&&(_0x21b490=Ne),!_0x21b490)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x6385d3+'.'),_0x56f3e3=new _e(_0x247de3,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x56f3e3;_0x56f3e3=new _e(_0x247de3,{'name':_0x6385d3,'profilerHint':Pr,'addressU':_0x267260?ue:yt,'addressV':_0x267260?ue:yt,'width':_0x43a4ad,'height':_0x331702,'format':_0x21b490,'cubemap':_0x267260,'mipmaps':_0x58c1be>-0xc11+0x1*0xc1d+-0xb,..._0x32093a});let _0x394be8=0x197*0x17+-0x1dc+-0x2235;const _0x1c2447=_0x267260?0x572+-0x235a+0x1dee*0x1:-0x2434+0x494+0x1fa1;let _0xeee9e9;const _0x1544b0=-0x4c1*0x4+-0x30*-0x93+-0x888,_0x2f1e3a=0x1*0x13+0x1738+-0x1747,_0x3a95ad=_0x22da67===_0x3dd385?0x2cd*-0x1+-0x127*-0x1+0x1ae:0x17fc+0x5*0x233+-0x22eb;let _0x46db9d,_0x3e99f0,_0x5a1c61;for(let _0x13e373=0xf*0x112+0x1afe+-0x1d*0x17c;_0x13e373<_0x1c2447;_0x13e373++){let _0x1fa5f6=_0x43a4ad,_0x234ef4=_0x331702;for(let _0x1d5493=-0x1*0xa73+-0x11be+0x1c31;_0x1d5493<_0x58c1be;_0x1d5493++){_0x28da96?_0x566d7d?_0xeee9e9=Math['floor']((_0x1fa5f6+(-0x1*0x229f+-0xb1e*0x3+0x43fc))/(-0xb*0x1c5+-0x2*0x102d+0x33d5))*Math['floor']((_0x234ef4+(-0x1364+0x254*-0x3+0x1a63))/(0x1753+-0x63e+-0x1111))*(-0x20ad+-0xeaa+0x2f5f):_0x2d8a81?_0xeee9e9=Math['max'](_0x1fa5f6,0xc2c+0x1fb6+-0x2bd2)*Math['max'](_0x234ef4,0x1b2d+0xfc4+-0x2ae9)/(0x1d2e*0x1+0x5e5+-0x230f):_0x2c4990?_0xeee9e9=Math['max'](_0x1fa5f6,-0xdc9*-0x1+0x76d*-0x2+0x119)*Math['max'](_0x234ef4,0x77a+0x5c4+-0xd36)/(0x196*-0xe+-0x1f*-0xdf+-0x4cb):(_0x46db9d=Math['floor']((_0x1fa5f6+_0x1544b0-(-0x104f+-0xd37*0x1+0x1d87))/_0x1544b0),_0x3e99f0=Math['floor']((_0x234ef4+_0x2f1e3a-(-0x1*-0xd32+0xe81+-0x1bb2*0x1))/_0x2f1e3a),_0x5a1c61=_0x46db9d*_0x3e99f0,_0xeee9e9=_0x5a1c61*_0x3a95ad):_0xeee9e9=_0x1fa5f6*_0x234ef4*(-0x198+-0x117*-0xd+-0x1*0xc8f);const _0x2c9724=_0x21b490===Xt?new Float32Array(_0x508130,_0x394be8,_0xeee9e9):_0x21b490===nt?new Uint16Array(_0x508130,_0x394be8,_0xeee9e9):new Uint8Array(_0x508130,_0x394be8,_0xeee9e9);_0x267260?(_0x56f3e3['_levels'][_0x1d5493]||(_0x56f3e3['_levels'][_0x1d5493]=[]),_0x56f3e3['_levels'][_0x1d5493][_0x13e373]=_0x2c9724):_0x56f3e3['_levels'][_0x1d5493]=_0x2c9724,_0x394be8+=_0xeee9e9*_0x3c22b2,_0x1fa5f6=Math['max'](_0x1fa5f6*(0x1c1d*-0x1+0x546+0x1*0x16d7+0.5),-0x3c6+0x4f*0x76+0x3*-0xae1),_0x234ef4=Math['max'](_0x234ef4*(-0x1934+0x16e2+0x252+0.5),-0x1af6+-0xb7b*0x3+0x3d68);}}return _0x56f3e3['upload'](),_0x56f3e3;}}class rU extends eo{constructor(_0x457c79){super(),this['maxRetries']=0x1*0x1a26+-0x1*0x44b+-0x5*0x45f;}['load'](_0x22685e,_0x4b93eb,_0x40c29){pe['fetchArray'+'Buffer'](_0x22685e['load'],_0x4b93eb,_0x40c29,this['maxRetries']),_0x40c29['data']&&!_0x40c29['data']['type']&&(_0x40c29['data']['type']=mh);}['open'](_0x37e47b,_0x15d4f4,_0x4eb676,_0x11e6af={}){const _0x5160e3=this['parse'](_0x15d4f4);if(!_0x5160e3)return null;const _0x1a2b0f=new _e(_0x4eb676,{'name':_0x37e47b,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x5160e3['width'],'height':_0x5160e3['height'],'levels':_0x5160e3['levels'],'format':Ne,'type':mh,'mipmaps':!(0x422+0x61a+-0x3*0x369),..._0x11e6af});return _0x1a2b0f['upload'](),_0x1a2b0f;}['parse'](_0x1408fb){const _0x457418=new KS(_0x1408fb);if(!_0x457418['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x503689={};for(;;){const _0x4d6bcd=_0x457418['readLine']();if(_0x4d6bcd['length']===-0x2150+0x3ef*0x9+0x5*-0x6b)break;{const _0x39eaf4=_0x4d6bcd['split']('=');_0x39eaf4['length']===0x630+-0x1d6c+0x253*0xa&&(_0x503689[_0x39eaf4[-0xdf*0x1c+0x11b4+0x6b0]]=_0x39eaf4[-0x215b+0xc23+0x713*0x3]);}}if(!_0x503689['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x12cba6=_0x457418['readLine']()['split']('\x20');if(_0x12cba6['length']!==0x462+-0x5*-0x6bb+0x2605*-0x1)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x228324=parseInt(_0x12cba6[0x129d+0x19da*-0x1+0x73e],0x81d+0x12f5+0x15a*-0x14),_0x53561f=parseInt(_0x12cba6[0x914+0xb05*0x2+-0x1f1b*0x1],0x10ab*0x1+-0xf61+-0x140),_0x1189a1=this['_readPixel'+'s'](_0x457418,_0x53561f,_0x228324,_0x12cba6[0x90*-0x6+0x337*-0x7+0x19e1*0x1]==='-Y');return _0x1189a1?{'width':_0x53561f,'height':_0x228324,'levels':[_0x1189a1]}:null;}['_readPixel'+'s'](_0x4aa43e,_0xbc4ec9,_0x285c2f,_0x160460){if(_0xbc4ec9<-0xb*0x2a+0x2028+0x2*-0xf29||_0xbc4ec9>0x6133+0xb54+0x1378)return this['_readPixel'+'sFlat'](_0x4aa43e,_0xbc4ec9,_0x285c2f);const _0x3e2c93=[-0xb*-0x347+0xdab*0x1+-0x31b8,0x2479+-0x12f0*-0x1+0x3769*-0x1,-0x1250+-0x22b8+0x3508,0x1944*-0x1+-0xc66+0x25aa];if(_0x4aa43e['readArray'](_0x3e2c93),_0x3e2c93[0x3b5*0x5+0x1739*0x1+0x85a*-0x5]!==0xe8b*-0x1+0xf*0x36+0xb63||_0x3e2c93[-0x20d+0x1*-0xf05+0x1113]!==0x161f*0x1+-0x1c2+-0x145b||(_0x3e2c93[-0x22dc+0x7e*0x8+0x1eee]&-0x3ac*-0x8+0x2352+-0xc6*0x53)!==0x24f7+-0x1ea6+0x21b*-0x3)return _0x4aa43e['skip'](-(-0xc0*0x31+-0x2*0xa48+0xc*0x4c7)),this['_readPixel'+'sFlat'](_0x4aa43e,_0xbc4ec9,_0x285c2f);const _0x525230=new ArrayBuffer(_0xbc4ec9*_0x285c2f*(0x26ed+0x4f*0x47+-0x3cd2)),_0x1be7e1=new Uint8Array(_0x525230);let _0x833d7b=_0x160460?-0xb*-0x1a9+0x8c9*-0x1+0x97a*-0x1:_0xbc4ec9*(0x220e+-0x2649+0x43f)*(_0x285c2f-(0x4ee+-0x2*0xbaf+0x1271)),_0x1900f6,_0x575ab6,_0x59d589,_0x63b8d4,_0x348c03,_0x505277;for(_0x575ab6=0x57d*-0x1+0x270e+-0x2191;_0x575ab6<_0x285c2f;++_0x575ab6){if(_0x575ab6&&_0x4aa43e['readArray'](_0x3e2c93),(_0x3e2c93[-0x15ba+-0x2*-0x12d6+-0xff0]<<0x25e+-0x1c71+-0x1a1b*-0x1)+_0x3e2c93[0x1ddd+-0x13d1+-0x16f*0x7]!==_0xbc4ec9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x63b8d4=-0x11*0x6b+0x2*-0x8c9+0x18ad*0x1;_0x63b8d4<-0x7*0x409+0x9df+0x4*0x499;++_0x63b8d4)for(_0x1900f6=-0x567+0x26d*-0xe+-0x3*-0xd1f;_0x1900f6<_0xbc4ec9;)if(_0x348c03=_0x4aa43e['readU8'](),_0x348c03>-0x1083+0x25cd+-0x2*0xa65){if(_0x348c03-=-0xd25+-0x2508+0x32ad,_0x1900f6+_0x348c03>_0xbc4ec9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x505277=_0x4aa43e['readU8'](),_0x59d589=-0x7a*0x26+0x1*-0x416+0x1632;_0x59d589<_0x348c03;++_0x59d589)_0x1be7e1[_0x833d7b+_0x63b8d4+(0x1*0x14f7+-0xeab*-0x1+-0x61*0x5e)*_0x1900f6++]=_0x505277;}else{if(_0x348c03===0x142f+-0x39*-0x11+0x2*-0xbfc||_0x1900f6+_0x348c03>_0xbc4ec9)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x59d589=0x25a5+-0x4*-0x315+-0x31f9;_0x59d589<_0x348c03;++_0x59d589)_0x1be7e1[_0x833d7b+_0x63b8d4+(0xef0+0x6fd+0x15e9*-0x1)*_0x1900f6++]=_0x4aa43e['readU8']();}_0x833d7b+=_0xbc4ec9*(-0x18b+0x78e*0x2+-0xd8d)*(_0x160460?0x1145+-0x1*-0x565+-0x16a9*0x1:-(0x207+-0x213*0x9+-0x10a5*-0x1));}return _0x1be7e1;}['_readPixel'+'sFlat'](_0x13d6db,_0x2bc59c,_0x3156c9){return _0x13d6db['remainingB'+'ytes']===_0x2bc59c*_0x3156c9*(0x133*-0x1a+-0x199c+-0x1c67*-0x2)?new Uint8Array(_0x13d6db['arraybuffe'+'r'],_0x13d6db['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x2fcc54){const _0x132bf7=Xi['calcMipLev'+'elsCount'](_0x2fcc54['_width'],_0x2fcc54['_height']),_0x12dc80=function(_0x1d6b7a){return _0x1d6b7a instanceof HTMLCanvasElement||_0x1d6b7a instanceof HTMLImageElement||_0x1d6b7a instanceof HTMLVideoElement;};if(!(_0x2fcc54['_format']===Ne||_0x2fcc54['_format']===Xt)||_0x2fcc54['_volume']||_0x2fcc54['_compresse'+'d']||_0x2fcc54['_levels']['length']===0x1d*0xe0+-0x1fea+0x43*0x19||_0x2fcc54['_levels']['length']===_0x132bf7||_0x12dc80(_0x2fcc54['_cubemap']?_0x2fcc54['_levels'][0x2112+0x2*0xfe4+-0x206d*0x2][0x41a+-0x75f+0x345]:_0x2fcc54['_levels'][-0xba6*-0x1+-0x1601+0xb*0xf1]))return;const _0x51c18c=function(_0x23c677,_0x2faf3b,_0x3a4939){const _0x589280=Math['max'](-0xc*0xf6+0x1a9b+0x283*-0x6,_0x23c677>>-0x18c+-0x1*-0xcbe+-0xb31),_0x26eef7=Math['max'](0xa7f*0x2+-0x12ad*-0x1+0x13d5*-0x2,_0x2faf3b>>0x51a+-0x740*-0x3+-0x1ad9),_0x2e5172=new _0x3a4939['constructo'+'r'](_0x589280*_0x26eef7*(-0x48d*-0x7+0x1517*-0x1+-0x2*0x560)),_0x2c43c7=Math['floor'](_0x23c677/_0x589280),_0x1b21f4=Math['floor'](_0x2faf3b/_0x26eef7),_0xd2c12c=_0x2c43c7*_0x1b21f4;for(let _0x1765c1=-0x1*0x1bb6+0x383+0x1833;_0x1765c1<_0x26eef7;++_0x1765c1)for(let _0x377ca0=-0x1*0xaa2+-0x1700+0xe*0x267;_0x377ca0<_0x589280;++_0x377ca0)for(let _0x50a269=-0x1*-0x133f+0x1019+-0x2358;_0x50a269<-0x1*-0x1ba1+0x1557+-0xf1*0x34;++_0x50a269){let _0x3f08ee=0x3*-0xb03+0x27f+-0xa2e*-0x3;for(let _0x323388=-0x75b+0x93*0x27+0x302*-0x5;_0x323388<_0x1b21f4;++_0x323388)for(let _0x55509e=-0x44*0x10+0x19c4+0x22*-0xa2;_0x55509e<_0x2c43c7;++_0x55509e)_0x3f08ee+=_0x3a4939[(_0x377ca0*_0x2c43c7+_0x55509e+(_0x1765c1*_0x1b21f4+_0x323388)*_0x23c677)*(-0x19ac*0x1+-0x19b3+0x3363)+_0x50a269];_0x2e5172[(_0x377ca0+_0x1765c1*_0x589280)*(0x263b+0x64*0x44+-0x40c7)+_0x50a269]=_0x3f08ee/_0xd2c12c;}return _0x2e5172;};for(let _0x570ea3=_0x2fcc54['_levels']['length'];_0x570ea3<_0x132bf7;++_0x570ea3){const _0x28fa5a=Math['max'](0x20dd+-0x5*-0xbe+-0x2492,_0x2fcc54['_width']>>_0x570ea3-(0xf4*-0x15+0xd*-0x24b+0x31d4)),_0x43b3e4=Math['max'](0xf95*-0x1+-0x8*-0xd1+0x90e,_0x2fcc54['_height']>>_0x570ea3-(0x7f+0x6d9+-0x757));if(_0x2fcc54['_cubemap']){const _0x5e67b0=[];for(let _0x139f8e=0x163b+0x92*-0x30+0x525;_0x139f8e<-0x8*-0x23d+0x8*0x4d+-0x144a;++_0x139f8e)_0x5e67b0['push'](_0x51c18c(_0x28fa5a,_0x43b3e4,_0x2fcc54['_levels'][_0x570ea3-(-0x1780+0x206*-0x1+0x1*0x1987)][_0x139f8e]));_0x2fcc54['_levels']['push'](_0x5e67b0);}else _0x2fcc54['_levels']['push'](_0x51c18c(_0x28fa5a,_0x43b3e4,_0x2fcc54['_levels'][_0x570ea3-(0x51c+-0x4e1*0x5+-0x66e*-0x3)]));}_0x2fcc54['_levelsUpd'+'ated']=_0x2fcc54['_cubemap']?[[!(-0x348+0x1*0x2122+0xeed*-0x2),!(-0x192+0x3*0xa0b+-0x1c8f),!(0x1a23*0x1+0x7e3+-0x2206),!(0x5*-0x57d+-0x10*-0x10e+-0x1*-0xa91),!(0xe11+-0xa67+-0x3aa),!(0x146*-0xf+-0x2fc+-0x202*-0xb)]]:[!(-0xd86*-0x1+0x85a*-0x3+0xb88)];};class oU extends Qe{constructor(_0x5c610e){super(_0x5c610e,'texture');const _0x3af1ab=_0x5c610e['assets'],_0xdbbb38=_0x5c610e['graphicsDe'+'vice'];this['_device']=_0xdbbb38,this['_assets']=_0x3af1ab,this['imgParser']=new Zk(_0x3af1ab,_0xdbbb38),this['parsers']={'dds':new iU(_0x3af1ab),'ktx':new eU(_0x3af1ab),'ktx2':new sU(_0x3af1ab,_0xdbbb38),'basis':new qk(_0x3af1ab,_0xdbbb38),'hdr':new rU(_0x3af1ab)};}set['crossOrigi'+'n'](_0x29d2eb){this['imgParser']['crossOrigi'+'n']=_0x29d2eb;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x5e07bd){this['imgParser']['maxRetries']=_0x5e07bd;for(const _0x15196c in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x15196c)&&(this['parsers'][_0x15196c]['maxRetries']=_0x5e07bd);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x4a9b8e){return _0x4a9b8e['indexOf']('?')>=0xdc5+-0x2569+0x17a4?_0x4a9b8e['split']('?')[-0x1*-0x103+-0xbab+0xaa8]:_0x4a9b8e;}['_getParser'](_0x149e06){const _0x5f5ddd=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x149e06))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x5f5ddd]||this['imgParser'];}['_getTextur'+'eOptions'](_0x439a78){var _0x52df8b;const _0x75505c={'profilerHint':Pr};if(_0x439a78){((_0x52df8b=_0x439a78['name'])==null?void(0xbd4*0x1+0x24f3+-0x30c7):_0x52df8b['length'])>-0x2*-0x951+0x25*-0x106+-0x2*-0x99e&&(_0x75505c['name']=_0x439a78['name']);const _0x1a160b=_0x439a78['data'];_0x1a160b['hasOwnProp'+'erty']('minfilter')&&(_0x75505c['minFilter']=wS[_0x1a160b['minfilter']]),_0x1a160b['hasOwnProp'+'erty']('magfilter')&&(_0x75505c['magFilter']=wS[_0x1a160b['magfilter']]),_0x1a160b['hasOwnProp'+'erty']('addressu')&&(_0x75505c['addressU']=TS[_0x1a160b['addressu']]),_0x1a160b['hasOwnProp'+'erty']('addressv')&&(_0x75505c['addressV']=TS[_0x1a160b['addressv']]),_0x1a160b['hasOwnProp'+'erty']('mipmaps')&&(_0x75505c['mipmaps']=_0x1a160b['mipmaps']),_0x1a160b['hasOwnProp'+'erty']('anisotropy')&&(_0x75505c['anisotropy']=_0x1a160b['anisotropy']),_0x1a160b['hasOwnProp'+'erty']('flipY')&&(_0x75505c['flipY']=!!_0x1a160b['flipY']),_0x1a160b['hasOwnProp'+'erty']('srgb')&&(_0x75505c['srgb']=!!_0x1a160b['srgb']),_0x75505c['type']=Ds,_0x1a160b['hasOwnProp'+'erty']('type')?_0x75505c['type']=aU[_0x1a160b['type']]:_0x1a160b['hasOwnProp'+'erty']('rgbm')&&_0x1a160b['rgbm']?_0x75505c['type']=Zi:_0x439a78['file']&&(_0x439a78['file']['opt']&0x34*-0x50+-0xa7f*0x1+0x1ac7)!==-0x168f+-0x21fa+0x161*0x29&&(_0x75505c['type']=Jo);}return _0x75505c;}['load'](_0x2c6e32,_0x4d6acf,_0x80bde6){typeof _0x2c6e32=='string'&&(_0x2c6e32={'load':_0x2c6e32,'original':_0x2c6e32}),this['_getParser'](_0x2c6e32['original'])['load'](_0x2c6e32,_0x4d6acf,_0x80bde6);}['open'](_0x2b5083,_0x30dead,_0x396435){if(!_0x2b5083)return;const _0x26bb9a=this['_getTextur'+'eOptions'](_0x396435);let _0x567c16=this['_getParser'](_0x2b5083)['open'](_0x2b5083,_0x30dead,this['_device'],_0x26bb9a);return _0x567c16===null?_0x567c16=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x567c16),_0x30dead['unswizzled'+'GGGR']&&(_0x396435['file']['variants']['basis']['opt']&=-(-0xdbe+-0xed2+-0x1c99*-0x1))),_0x567c16;}['patch'](_0x31d736,_0x8665e2){const _0x37b43d=_0x31d736['resource'];if(!_0x37b43d)return;const _0x5ef124=this['_getTextur'+'eOptions'](_0x31d736);for(const _0x224959 of Object['keys'](_0x5ef124))_0x37b43d[_0x224959]=_0x5ef124[_0x224959];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x15c869){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x15c869;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x54ef01){!this['_supported']||this['_manager']['active']||(this['_root']=_0x54ef01);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x221c79,_0x33d289,_0x8c9f71,_0x38caf2=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x221c79,this['_xrHitTest'+'Source']=_0x33d289,this['_transient']=_0x8c9f71,this['_inputSour'+'ce']=_0x38caf2);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x8117f8=this['manager']['hitTest']['sources'],_0x55512b=_0x8117f8['indexOf'](this);_0x55512b!==-(-0x24fd+0x255c*-0x1+-0x4a5a*-0x1)&&_0x8117f8['splice'](_0x55512b,-0x11ff*-0x1+0xf70+0x216e*-0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x13315a){if(this['_transient']){const _0x5bf8b6=_0x13315a['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x4aa974=0x301*0x5+-0x269f+0x179a*0x1;_0x4aa974<_0x5bf8b6['length'];_0x4aa974++){const _0x4a43a0=_0x5bf8b6[_0x4aa974];if(!_0x4a43a0['results']['length'])continue;let _0x5a65d9;_0x4a43a0['inputSourc'+'e']&&(_0x5a65d9=this['manager']['input']['_getByInpu'+'tSource'](_0x4a43a0['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x4a43a0['results'],_0x5a65d9);}}else{const _0x411cf6=_0x13315a['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x411cf6['length'])return;this['updateHitR'+'esults'](_0x411cf6);}}['updateHitR'+'esults'](_0x429e5b,_0x5e4987){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x5e4987)return;const _0x382774=Rc['pop']()??new D();_0x5e4987?_0x382774['copy'](_0x5e4987['getOrigin']()):_0x382774['copy'](this['manager']['camera']['getPositio'+'n']());let _0x585c32=(0xeb9*-0x2+-0x55b*-0x5+0x2ac)/(-0x22eb*-0x1+0x3be+0x3*-0xce3),_0x14baad=null;const _0x2c5d38=Rc['pop']()??new D(),_0x31eaa1=bS['pop']()??new le();for(let _0x528923=-0x205f+-0x46d+0x24cc;_0x528923<_0x429e5b['length'];_0x528923++){const _0x1c9bea=_0x429e5b[_0x528923]['getPose'](this['manager']['_reference'+'Space']),_0x5bf880=_0x382774['distance'](_0x1c9bea['transform']['position']);_0x5bf880>=_0x585c32||(_0x585c32=_0x5bf880,_0x14baad=_0x429e5b[_0x528923],_0x2c5d38['copy'](_0x1c9bea['transform']['position']),_0x31eaa1['copy'](_0x1c9bea['transform']['orientatio'+'n']));}this['fire']('result',_0x2c5d38,_0x31eaa1,_0x5e4987||this['_inputSour'+'ce'],_0x14baad),this['manager']['hitTest']['fire']('result',this,_0x2c5d38,_0x31eaa1,_0x5e4987||this['_inputSour'+'ce'],_0x14baad),Rc['push'](_0x382774),Rc['push'](_0x2c5d38),bS['push'](_0x31eaa1);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x3cb94f){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x1ff7+-0x1a10+-0x3a08*-0x1)),h(this,'_checkingA'+'vailabilit'+'y',!(0x25+0x1499+-0x14bd*0x1)),h(this,'sources',[]),(this['manager']=_0x3cb94f,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x5a7a52=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x17b8+-0x233a+0xb83);if(!_0x5a7a52)return;this['_available']=_0x5a7a52,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x10ba+-0x15bd+0xe5*0x2b),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x1cf399=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x1cf399})['then'](_0x43afec=>{_0x43afec['cancel'](),this['manager']['active']&&(this['_available']=!(-0x1b4b+-0x5*-0x705+-0x25*0x36),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xcdd*-0x2+-0x1*0x2385+0x188*0x28);for(let _0x4e053b=0xb*0xf0+0x20a4+-0x2af4;_0x4e053b<this['sources']['length'];_0x4e053b++)this['sources'][_0x4e053b]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x29739f={}){var _0x564969,_0x51e59f;if(!this['_supported']){(_0x564969=_0x29739f['callback'])==null||_0x564969['call'](_0x29739f,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x51e59f=_0x29739f['callback'])==null||_0x51e59f['call'](_0x29739f,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x29739f['profile']&&!_0x29739f['spaceType']&&(_0x29739f['spaceType']=ES);let _0x238db6;const _0x3e2eb3=_0x29739f['offsetRay'];if(_0x3e2eb3){const _0x3293b5=new DOMPoint(_0x3e2eb3['origin']['x'],_0x3e2eb3['origin']['y'],_0x3e2eb3['origin']['z'],0x4bb*0x1+-0x1*0xae7+0x33*0x1f),_0x4afee9=new DOMPoint(_0x3e2eb3['direction']['x'],_0x3e2eb3['direction']['y'],_0x3e2eb3['direction']['z'],-0xb14+-0xb3*-0x3+0x8fb);_0x238db6=new XRRay(_0x3293b5,_0x4afee9);}const _0x1c4f38=_0x29739f['callback'];_0x29739f['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x29739f['spaceType'])['then'](_0x8b7609=>{if(!this['manager']['session']){const _0x5ef9c1=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x1c4f38&&_0x1c4f38(_0x5ef9c1),this['fire']('error',_0x5ef9c1);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x8b7609,'entityTypes':_0x29739f['entityType'+'s']||void(0x1685+-0x18c2+-0x23d*-0x1),'offsetRay':_0x238db6})['then'](_0x1ec44b=>{this['_onHitTest'+'Source'](_0x1ec44b,!(-0x6*0x1fb+-0x2de*0xb+-0x1*-0x2b6d),_0x29739f['inputSourc'+'e'],_0x1c4f38);})['catch'](_0x929224=>{_0x1c4f38&&_0x1c4f38(_0x929224),this['fire']('error',_0x929224);});})['catch'](_0x2966d4=>{_0x1c4f38&&_0x1c4f38(_0x2966d4),this['fire']('error',_0x2966d4);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x29739f['profile'],'entityTypes':_0x29739f['entityType'+'s']||void(-0x53*0x13+-0x5*-0x729+-0x1da4),'offsetRay':_0x238db6})['then'](_0x4cb6f0=>{this['_onHitTest'+'Source'](_0x4cb6f0,!(-0x1a49*-0x1+-0x1cee+-0x2a5*-0x1),_0x29739f['inputSourc'+'e'],_0x1c4f38);})['catch'](_0x1c5f9a=>{_0x1c4f38&&_0x1c4f38(_0x1c5f9a),this['fire']('error',_0x1c5f9a);});}['_onHitTest'+'Source'](_0x291bb1,_0xf2eb62,_0x32d062,_0x13616e){if(!this['manager']['session']){_0x291bb1['cancel']();const _0x41fd06=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x13616e&&_0x13616e(_0x41fd06),this['fire']('error',_0x41fd06);return;}const _0x83512e=new ju(this['manager'],_0x291bb1,_0xf2eb62,_0x32d062??null);this['sources']['push'](_0x83512e),_0x13616e&&_0x13616e(null,_0x83512e),this['fire']('add',_0x83512e);}['update'](_0xd9ebd){if(this['_available']){for(let _0x53979f=0x2ba*-0x5+-0x20ce+0x2e7*0x10;_0x53979f<this['sources']['length'];_0x53979f++)this['sources'][_0x53979f]['update'](_0xd9ebd);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x264542,_0x3a569c){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0x1*-0x1a4d+-0x1d6+-0x961*-0x3),h(this,'_trackable',!(-0x29*0xde+0x12c8+-0x10c7*-0x1)),h(this,'_tracking',!(0xd7b+-0x4d0+-0x1*0x8aa)),h(this,'_emulated',!(-0x1*-0x1369+-0x217f+0xe17)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x264542,this['_width']=_0x3a569c);}get['image'](){return this['_image'];}set['width'](_0x2a5911){this['_width']=_0x2a5911;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x5c5139=>(this['_bitmap']=_0x5c5139,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x4cb976){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x67d+-0x3*0x34+0x5e0*-0x1)),h(this,'_images',[]),(this['_manager']=_0x4cb976,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x288c30,_0xeeef5e){if(!this['_supported']||this['_manager']['active'])return null;const _0x10500e=new Yu(_0x288c30,_0xeeef5e);return this['_images']['push'](_0x10500e),_0x10500e;}['remove'](_0x359a08){if(this['_manager']['active'])return;const _0x3f10f5=this['_images']['indexOf'](_0x359a08);_0x3f10f5!==-(-0xa*0x1b+0xf32+0x7*-0x205)&&(_0x359a08['destroy'](),this['_images']['splice'](_0x3f10f5,0x1100+-0x24cd+0x13ce));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0xbcc2b6=>{this['_available']=!(-0x1*0x2209+-0x1*-0x1867+0x12*0x89);for(let _0x21552b=0xddd+0x14a9+-0x2286;_0x21552b<_0xbcc2b6['length'];_0x21552b++)this['_images'][_0x21552b]['_trackable']=_0xbcc2b6[_0x21552b]==='trackable';})['catch'](_0x116e4b=>{this['_available']=!(0xbda+-0x9ed+0x6*-0x52),this['fire']('error',_0x116e4b);});}['_onSession'+'End'](){this['_available']=!(0x49*-0x5+-0x1c9c*0x1+-0x1e0a*-0x1);for(let _0x40af38=-0x138e+0x2e7*0x1+0x10a7;_0x40af38<this['_images']['length'];_0x40af38++){const _0x57a201=this['_images'][_0x40af38];_0x57a201['_pose']=null,_0x57a201['_measuredW'+'idth']=0x1*-0x1381+-0x151*0x15+0x2f26,_0x57a201['_tracking']&&(_0x57a201['_tracking']=!(-0x1cd*-0xd+-0x18b*0x8+-0xec*0xc),_0x57a201['fire']('untracked'));}}['prepareIma'+'ges'](_0x1bc7ce){this['_images']['length']?Promise['all'](this['_images']['map'](_0x5c53ad=>_0x5c53ad['prepare']()))['then'](_0x1e3ab3=>{_0x1bc7ce(null,_0x1e3ab3);})['catch'](_0x2c9577=>{_0x1bc7ce(_0x2c9577,null);}):_0x1bc7ce(null,null);}['update'](_0x6119dd){if(!this['_available'])return;const _0x4b14f1=_0x6119dd['getImageTr'+'ackingResu'+'lts'](),_0x5e28d2={};for(let _0x586caa=0x9*-0x3d+-0x171*0xb+0x48*0x40;_0x586caa<_0x4b14f1['length'];_0x586caa++){_0x5e28d2[_0x4b14f1[_0x586caa]['index']]=_0x4b14f1[_0x586caa];const _0x47d4f1=this['_images'][_0x4b14f1[_0x586caa]['index']];_0x47d4f1['_emulated']=_0x4b14f1[_0x586caa]['trackingSt'+'ate']==='emulated',_0x47d4f1['_measuredW'+'idth']=_0x4b14f1[_0x586caa]['measuredWi'+'dthInMeter'+'s'],_0x47d4f1['_pose']=_0x6119dd['getPose'](_0x4b14f1[_0x586caa]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x552d42=0x13d*-0x9+0x180b*-0x1+0x2330;_0x552d42<this['_images']['length'];_0x552d42++)this['_images'][_0x552d42]['_tracking']&&!_0x5e28d2[_0x552d42]?(this['_images'][_0x552d42]['_tracking']=!(-0x377*-0x2+-0x1b7e+0x1491),this['_images'][_0x552d42]['fire']('untracked')):!this['_images'][_0x552d42]['_tracking']&&_0x5e28d2[_0x552d42]&&(this['_images'][_0x552d42]['_tracking']=!(-0x46+0x1*0x17ab+0x35*-0x71),this['_images'][_0x552d42]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x2bbbb9,_0x3fa938){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x2bbbb9,this['_hand']=_0x3fa938,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x65+0x871*-0x2+0x1147;l<AS['length'];l++)R0[AS[l]]=!(0x1b58+-0x652+-0x1506);class CS{constructor(_0x35c97e,_0x405f77,_0x500142,_0xbadb13=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x22d5+0x1*0xb4e+-0x7f*0x5d)),(this['_index']=_0x35c97e,this['_id']=_0x405f77,this['_hand']=_0x500142,this['_finger']=_0xbadb13,this['_wrist']=_0x405f77==='wrist',this['_tip']=this['_finger']&&!!R0[_0x405f77]);}['update'](_0x12cbfd){this['_dirtyLoca'+'l']=!(0x96e*0x4+-0x1a9b+-0x239*0x5),this['_radius']=_0x12cbfd['radius'],this['_localPosi'+'tion']['copy'](_0x12cbfd['transform']['position']),this['_localRota'+'tion']['copy'](_0x12cbfd['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x2a5*-0x1+-0xda8+0x827*0x2),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x18cc31=this['_hand']['_manager']['camera']['parent'];_0x18cc31?this['_worldTran'+'sform']['mul2'](_0x18cc31['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x65c+-0xc*0xf2+-0xce*-0x16+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x53e4b6){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0x26e3+0x25e2+-0x4cc4)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x1e4b02=_0x53e4b6['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x53e4b6['_manager'],this['_inputSour'+'ce']=_0x53e4b6,_0x1e4b02['get']('wrist')){const _0xde38e=new CS(0x2*-0x6bc+0x1b7d+-0xe05,'wrist',this,null);this['_wrist']=_0xde38e,this['_joints']['push'](_0xde38e),this['_jointsByI'+'d']['wrist']=_0xde38e;}for(let _0x4a740c=0x755*0x2+0x1b5*0xd+0x25*-0xff;_0x4a740c<rh['length'];_0x4a740c++){const _0x147c96=new uU(_0x4a740c,this);for(let _0x4b9065=-0x1ba9+0x1*0x166f+-0x1be*-0x3;_0x4b9065<rh[_0x4a740c]['length'];_0x4b9065++){const _0x18cad7=rh[_0x4a740c][_0x4b9065];if(!_0x1e4b02['get'](_0x18cad7))continue;const _0x565fce=new CS(_0x4b9065,_0x18cad7,this,_0x147c96);this['_joints']['push'](_0x565fce),this['_jointsByI'+'d'][_0x18cad7]=_0x565fce,_0x565fce['tip']&&(this['_tips']['push'](_0x565fce),_0x147c96['_tip']=_0x565fce),_0x147c96['_joints']['push'](_0x565fce);}}}['update'](_0x46889f){const _0x52ef5f=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0xa69f1f=0x1f1f+-0x502+-0x1a1d;_0xa69f1f<this['_joints']['length'];_0xa69f1f++){const _0x1fae57=this['_joints'][_0xa69f1f],_0x3429bd=_0x52ef5f['hand']['get'](_0x1fae57['_id']);if(_0x3429bd){let _0x493675;if(_0x46889f['session']['visibility'+'State']!=='hidden'&&(_0x493675=_0x46889f['getJointPo'+'se'](_0x3429bd,this['_manager']['_reference'+'Space'])),_0x493675)_0x1fae57['update'](_0x493675),_0x1fae57['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x4f2+0x79e+0x10c*-0xc),this['fire']('tracking'));else{if(_0x1fae57['wrist']){this['_tracking']&&(this['_tracking']=!(-0x7*0x37c+-0x36f*0x6+0x2cff),this['fire']('trackinglo'+'st'));break;}}}}const _0x5cf2fc=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x155e7b=this['_jointsByI'+'d']['thumb-tip'],_0x56f3ec=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0xed9d91=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x55029f=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x4cc440=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x5cf2fc&&_0x155e7b&&_0x56f3ec&&_0xed9d91&&_0x55029f&&_0x4cc440){this['_inputSour'+'ce']['_dirtyRay']=!(-0x2661+0x1747+-0x78d*-0x2),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x155e7b['_localPosi'+'tion'],_0xed9d91['_localPosi'+'tion'],-0x20ba+0xace+0x15ec+0.5);let _0x334289=_0x5cf2fc,_0x29771a=_0x4cc440;if(this['_inputSour'+'ce']['handedness']===hU){const _0x1f2f93=_0x334289;_0x334289=_0x29771a,_0x29771a=_0x1f2f93;}Wr['sub2'](_0x334289['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x29771a['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x56f3ec['_localPosi'+'tion'],_0x55029f['_localPosi'+'tion'],-0x91f+0x1eeb+0x1d1*-0xc+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0xc12+-0x1872+0x2484+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0xc70+-0x3bf*-0x6+-0xa09)&&this['_fingerIsC'+'losed'](-0x1*-0x21ce+0x1820+-0x39ec)&&this['_fingerIsC'+'losed'](-0x1e31+-0x3fb*0x2+0x1315*0x2)&&this['_fingerIsC'+'losed'](-0x603+0x5c3*0x3+-0xb42)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x75+-0x13*-0x1df+-0x2318),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x6*0x1b8+-0x1*0x1cd5+-0x1393*-0x2),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x27b218){const _0x3e1b5e=this['_fingers'][_0x27b218];return Wr['sub2'](_0x3e1b5e['joints'][0x1bd1+0x3b9+0x16*-0x16f]['_localPosi'+'tion'],_0x3e1b5e['joints'][-0x26*-0x2d+-0x1655+0xfa8]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x3e1b5e['joints'][-0x21*-0x6c+-0x20d2+0x12e8]['_localPosi'+'tion'],_0x3e1b5e['joints'][0x18*-0x7b+-0x72a*-0x1+-0x13*-0x3b]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0xe9c+-0x90*0x2b+0x26cc+0.8);}['getJointBy'+'Id'](_0x5dd81c){return this['_jointsByI'+'d'][_0x5dd81c]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0xcbb*-0x1+-0x1*0xc5f+0x191a;class Qt extends me{constructor(_0x2146c4,_0x20e8b6){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x2060+-0x1634+0x3695)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(-0xf98*0x2+-0x100a+-0x2f3b*-0x1)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x1ba5+-0x6*0x377+-0x6db)),h(this,'_dirtyRay',!(-0x1214+-0x10e7+0x22fc)),h(this,'_selecting',!(0x260+-0x29*0xc3+-0x737*-0x4)),h(this,'_squeezing',!(-0x14f*0x15+-0x6fb+0x2277)),h(this,'_elementIn'+'put',!(-0x1e7f+-0x8a7+0x1*0x2726)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x2146c4,this['_xrInputSo'+'urce']=_0x20e8b6,_0x20e8b6['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x544100){this['_elementIn'+'put']!==_0x544100&&(this['_elementIn'+'put']=_0x544100,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x555982){if(this['_hand'])this['_hand']['update'](_0x555982);else{const _0x2bd8c2=this['_xrInputSo'+'urce']['gripSpace'];if(_0x2bd8c2){const _0x39c58d=_0x555982['getPose'](_0x2bd8c2,this['_manager']['_reference'+'Space']);if(_0x39c58d){this['_grip']||(this['_grip']=!(0x595+-0x2*-0x3d6+-0x3*0x46b),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x7767fb=de(),_0x32a0d0=(_0x7767fb-this['_velocitie'+'sTimestamp'])/(-0x189e+0xd3*-0x1+0x1d59);this['_velocitie'+'sTimestamp']=_0x7767fb,this['_dirtyLoca'+'l']=!(0x1e05+0x1f1+-0x1ff6),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x39c58d['transform']['position']),this['_localRota'+'tion']['copy'](_0x39c58d['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x7d0+-0xb*0x10b+-0x1*-0x1349),this['_manager']['input']['velocities'+'Supported']&&_0x39c58d['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x39c58d['linearVelo'+'city']):_0x32a0d0>-0x1b28+0x2668+-0xb40&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x32a0d0),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x950+0x57*0x72+-0x1*0x300e+0.15));}else this['_velocitie'+'sAvailable']=!(0x15c1+0xa*-0x34e+0x6*0x1e2);}const _0x16ef37=_0x555982['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x16ef37&&(this['_dirtyRay']=!(0x1683+-0x2509+0xe86),this['_rayLocal']['origin']['copy'](_0x16ef37['transform']['position']),this['_rayLocal']['direction']['set'](-0xfda*0x1+-0x1*-0x1b74+0x9*-0x14a,-0x1d5*-0x8+-0x1*0xf73+0xcb,-(0x1a32+-0x1794+-0x29d)),DS['copy'](_0x16ef37['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x10a2+0x26c5+-0x3766),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x5ce3c9=this['_manager']['camera']['parent'];_0x5ce3c9?this['_worldTran'+'sform']['mul2'](_0x5ce3c9['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x522400=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x1ce1+0x1*-0x1e7c+0x1*0x3b5e),this['_manager']['camera']['parent']){const _0x319388=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x319388['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x319388),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x522400&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0xcae4ad={}){_0xcae4ad['inputSourc'+'e']=this,_0xcae4ad['profile']=this['_xrInputSo'+'urce']['profiles'][0x1*-0x2301+0xb*-0x155+0x31a8];const _0xcf52be=_0xcae4ad['callback'];_0xcae4ad['callback']=(_0x52cf9e,_0x339182)=>{_0x339182&&this['onHitTestS'+'ourceAdd'](_0x339182),_0xcf52be&&_0xcf52be(_0x52cf9e,_0x339182);},this['_manager']['hitTest']['start'](_0xcae4ad);}['onHitTestS'+'ourceAdd'](_0x110d79){this['_hitTestSo'+'urces']['push'](_0x110d79),this['fire']('hittest:ad'+'d',_0x110d79),_0x110d79['on']('result',(_0x1dc83f,_0x2af50a,_0x3b0cf7,_0x3558ca)=>{_0x3b0cf7===this&&this['fire']('hittest:re'+'sult',_0x110d79,_0x1dc83f,_0x2af50a,_0x3558ca);}),_0x110d79['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x110d79),this['fire']('hittest:re'+'move',_0x110d79);});}['onHitTestS'+'ourceRemov'+'e'](_0x55ab1b){const _0x5c229c=this['_hitTestSo'+'urces']['indexOf'](_0x55ab1b);_0x5c229c!==-(0x94a+-0xa35+-0x2*-0x76)&&this['_hitTestSo'+'urces']['splice'](_0x5c229c,0xf9*-0x19+0xdc9+-0x383*-0x3);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x4476a6){var _0x5eeade,_0x214f2c;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x2*-0x65c+0x13bd+0x1c1*-0x4)),(this['manager']=_0x4476a6,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x214f2c=(_0x5eeade=window['XRPose'])==null?void(0x5b+0x5b8+-0x1*0x613):_0x5eeade['prototype'])!=null&&_0x214f2c['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x386123=>{this['_onInputSo'+'urcesChang'+'e'](_0x386123);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x25bd70=this['manager']['session'];_0x25bd70['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x25bd70['addEventLi'+'stener']('select',_0x151759=>{const _0x371109=this['_getByInpu'+'tSource'](_0x151759['inputSourc'+'e']);_0x371109['update'](_0x151759['frame']),_0x371109['fire']('select',_0x151759),this['fire']('select',_0x371109,_0x151759);}),_0x25bd70['addEventLi'+'stener']('selectstar'+'t',_0x2d44ce=>{const _0x2916b1=this['_getByInpu'+'tSource'](_0x2d44ce['inputSourc'+'e']);_0x2916b1['_selecting']||(_0x2916b1['update'](_0x2d44ce['frame']),_0x2916b1['_selecting']=!(-0x327+0xabd+0x1*-0x796),_0x2916b1['fire']('selectstar'+'t',_0x2d44ce),this['fire']('selectstar'+'t',_0x2916b1,_0x2d44ce));}),_0x25bd70['addEventLi'+'stener']('selectend',_0x12d572=>{const _0xe24c79=this['_getByInpu'+'tSource'](_0x12d572['inputSourc'+'e']);_0xe24c79['update'](_0x12d572['frame']),_0xe24c79['_selecting']=!(0x12f+0x1*-0x17c9+0x169b),_0xe24c79['fire']('selectend',_0x12d572),this['fire']('selectend',_0xe24c79,_0x12d572);}),_0x25bd70['addEventLi'+'stener']('squeeze',_0x1d9d20=>{const _0x408f3c=this['_getByInpu'+'tSource'](_0x1d9d20['inputSourc'+'e']);_0x408f3c['update'](_0x1d9d20['frame']),_0x408f3c['fire']('squeeze',_0x1d9d20),this['fire']('squeeze',_0x408f3c,_0x1d9d20);}),_0x25bd70['addEventLi'+'stener']('squeezesta'+'rt',_0x37bf08=>{const _0x1911ce=this['_getByInpu'+'tSource'](_0x37bf08['inputSourc'+'e']);_0x1911ce['update'](_0x37bf08['frame']),_0x1911ce['_squeezing']=!(0x17*-0x140+0x1*0x139+0x1b87),_0x1911ce['fire']('squeezesta'+'rt',_0x37bf08),this['fire']('squeezesta'+'rt',_0x1911ce,_0x37bf08);}),_0x25bd70['addEventLi'+'stener']('squeezeend',_0x5d7017=>{const _0x307ac1=this['_getByInpu'+'tSource'](_0x5d7017['inputSourc'+'e']);_0x307ac1['update'](_0x5d7017['frame']),_0x307ac1['_squeezing']=!(0x1b11+-0xaf*-0x1c+-0x2*0x171a),_0x307ac1['fire']('squeezeend',_0x5d7017),this['fire']('squeezeend',_0x307ac1,_0x5d7017);});const _0x3a32e2=_0x25bd70['inputSourc'+'es'];for(let _0x57f21a=0x1*0x37+-0xb2d+-0x17*-0x7a;_0x57f21a<_0x3a32e2['length'];_0x57f21a++)this['_addInputS'+'ource'](_0x3a32e2[_0x57f21a]);}['_onSession'+'End'](){let _0x314472=this['_inputSour'+'ces']['length'];for(;_0x314472--;){const _0x3342a0=this['_inputSour'+'ces'][_0x314472];this['_inputSour'+'ces']['splice'](_0x314472,0x1d73+0xfd4*0x2+-0x3d1a),_0x3342a0['fire']('remove'),this['fire']('remove',_0x3342a0);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x476826){for(let _0x565212=-0x547*-0x4+-0xf7*0x5+-0xb*0x17b;_0x565212<_0x476826['removed']['length'];_0x565212++)this['_removeInp'+'utSource'](_0x476826['removed'][_0x565212]);for(let _0x34255e=0x206a+-0xf*0x131+-0xe8b;_0x34255e<_0x476826['added']['length'];_0x34255e++)this['_addInputS'+'ource'](_0x476826['added'][_0x34255e]);}['_getByInpu'+'tSource'](_0x3bec41){for(let _0x4296f0=0xdbe+-0x198e+0xbd0;_0x4296f0<this['_inputSour'+'ces']['length'];_0x4296f0++)if(this['_inputSour'+'ces'][_0x4296f0]['inputSourc'+'e']===_0x3bec41)return this['_inputSour'+'ces'][_0x4296f0];return null;}['_removeApp'+'Entity'](_0x3d7362){const _0x10bad3=this['manager']['app']['root']['findByName']('Armature_'+_0x3d7362);_0x10bad3&&this['manager']['app']['root']['removeChil'+'d'](_0x10bad3);}['_addInputS'+'ource'](_0xc9736f){if(this['_removeApp'+'Entity'](_0xc9736f['handedness']),this['_getByInpu'+'tSource'](_0xc9736f))return;const _0x4af8d1=new Qt(this['manager'],_0xc9736f);this['_inputSour'+'ces']['push'](_0x4af8d1),this['fire']('add',_0x4af8d1);}['_removeInp'+'utSource'](_0x3c5a1a){for(let _0x5c2e8b=-0x1*0x11ef+-0x33b+0x152a;_0x5c2e8b<this['_inputSour'+'ces']['length'];_0x5c2e8b++){if(this['_inputSour'+'ces'][_0x5c2e8b]['inputSourc'+'e']!==_0x3c5a1a)continue;const _0x5a2393=this['_inputSour'+'ces'][_0x5c2e8b];this['_inputSour'+'ces']['splice'](_0x5c2e8b,0x26a+-0x4b5*0x8+0x233f*0x1);let _0x7829b1=_0x5a2393['hitTestSou'+'rces']['length'];for(;_0x7829b1--;)_0x5a2393['hitTestSou'+'rces'][_0x7829b1]['remove']();this['_removeApp'+'Entity'](_0x5a2393['handedness']),_0x5a2393['fire']('remove'),this['fire']('remove',_0x5a2393);return;}}['update'](_0x286eab){for(let _0x3c27cf=0xf*-0x247+-0x1945+0x2*0x1db7;_0x3c27cf<this['_inputSour'+'ces']['length'];_0x3c27cf++)this['_inputSour'+'ces'][_0x3c27cf]['update'](_0x286eab);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x257bf0){super(),h(this,'_manager'),h(this,'_supported',!(0xde*0x1+-0x1f*0x87+0x7be*0x2)),h(this,'_available',!(-0x1360+0xfcd+0x394)),h(this,'_lightProb'+'eRequested',!(-0x1505*-0x1+-0x2310+0xe0c)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0xeb8*-0x1+0x381+-0x1239),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x21b2+0x92f+-0x2ac6)),(this['_manager']=_0x257bf0,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x2023+-0x2*-0x31+-0x1fc1*-0x1));}['_onSession'+'End'](){this['_supported']=!(-0x2533+-0x246c+0x49a0),this['_available']=!(-0x62b*-0x5+-0xad1*-0x2+-0x8*0x68f),this['_lightProb'+'eRequested']=!(-0x2240+-0x223a+0x447b),this['_lightProb'+'e']=null;}['start'](){let _0x20f6fb;if(this['_manager']['session']||(_0x20f6fb=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x20f6fb&&this['_manager']['type']!==$o&&(_0x20f6fb=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x20f6fb&&!this['_supported']&&(_0x20f6fb=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x20f6fb&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x20f6fb=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x20f6fb){this['fire']('error',_0x20f6fb);return;}this['_lightProb'+'eRequested']=!(0x7*-0x81+0x221*0x11+-0x20aa),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x381149=>{const _0x31fef1=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x2454+-0x1*-0x1349+-0x379c),this['_manager']['active']?_0x31fef1&&(this['_lightProb'+'e']=_0x381149):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x5444d1=>{this['_lightProb'+'eRequested']=!(0x994+-0xb5c+0x1*0x1c9),this['fire']('error',_0x5444d1);});}['end'](){this['_lightProb'+'eRequested']=!(-0xd17+-0x391+0x10a9),this['_lightProb'+'e']=null,this['_available']=!(0x80*0x3d+0x238*-0x2+0x3b9*-0x7);}['update'](_0x531570){if(!this['_lightProb'+'e'])return;const _0x58d8e7=_0x531570['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x58d8e7)return;this['_available']||(this['_available']=!(0xf91+-0x371*-0x2+-0x1673),this['fire']('available'));const _0x364327=_0x58d8e7['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x1f3+-0x1f04+0x41f*0x8,Math['max'](_0x364327['x'],Math['max'](_0x364327['y'],_0x364327['z']))),Ja['copy'](_0x364327)['mulScalar']((-0x27*0x25+-0x1d*0xbf+0x1b47)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0xb*-0x4d+-0x13bd*-0x1+-0x170c,0x2421+-0x6d1+0x3aa*-0x8,0x1*0x4e9+0xd1b+-0x4*0x481),IS['copy'](_0x58d8e7['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],0x1d4f+-0x367*-0x5+0x16fc*-0x2),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x58d8e7['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x1bba+0x1003+-0x2bbd;class Qu extends me{constructor(_0x1fba61,_0x4ec716){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x1fba61,this['_xrPlane']=_0x4ec716,this['_lastChang'+'edTime']=_0x4ec716['lastChange'+'dTime'],this['_orientati'+'on']=_0x4ec716['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x523815){const _0x3f0a9b=this['_planeDete'+'ction']['_manager'],_0x46249b=_0x523815['getPose'](this['_xrPlane']['planeSpace'],_0x3f0a9b['_reference'+'Space']);_0x46249b&&(this['_position']['copy'](_0x46249b['transform']['position']),this['_rotation']['copy'](_0x46249b['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x3db330){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x7*-0x12d+0xdb3+-0x577)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x3db330,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1*0x923+0x1*0x2185+-0x1861)&&(this['_available']=!(0x313*-0x1+-0x7f1+-0xc*-0xeb),this['fire']('available'));}['_onSession'+'End'](){for(let _0x1e11f9=-0x2629+0xa47*0x3+-0x754*-0x1;_0x1e11f9<this['_planes']['length'];_0x1e11f9++)this['_planes'][_0x1e11f9]['destroy'](),this['fire']('remove',this['_planes'][_0x1e11f9]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x9*-0x3a7+-0x14c1+-0x11a*0xb,this['_available']&&(this['_available']=!(-0x62b+-0x1959+0x1f85),this['fire']('unavailabl'+'e'));}['update'](_0x2343d2){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2343d2['detectedPl'+'anes']['size'])this['_available']=!(0x1*-0xe5d+-0x2*-0xe31+-0xe05),this['fire']('available');else return;}const _0x36f050=_0x2343d2['detectedPl'+'anes'];for(const [_0xe824d6,_0x4b9165]of this['_planesInd'+'ex'])_0x36f050['has'](_0xe824d6)||(this['_planesInd'+'ex']['delete'](_0xe824d6),this['_planes']['splice'](this['_planes']['indexOf'](_0x4b9165),0x252*0x9+0x1541*-0x1+0x60),_0x4b9165['destroy'](),this['fire']('remove',_0x4b9165));for(const _0xdfafee of _0x36f050){let _0x46b3f9=this['_planesInd'+'ex']['get'](_0xdfafee);_0x46b3f9?_0x46b3f9['update'](_0x2343d2):(_0x46b3f9=new Qu(this,_0xdfafee),this['_planesInd'+'ex']['set'](_0xdfafee,_0x46b3f9),this['_planes']['push'](_0x46b3f9),_0x46b3f9['update'](_0x2343d2),this['fire']('add',_0x46b3f9));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x24affb,_0x231f5f,_0x2f3012=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x24affb,this['_xrAnchor']=_0x231f5f,this['_uuid']=_0x2f3012);}['destroy'](){if(!this['_xrAnchor'])return;const _0x63b3fd=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x63b3fd,this);}['update'](_0x1a95df){if(!this['_xrAnchor'])return;const _0x3c479b=_0x1a95df['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x3c479b){if(this['_position']['equals'](_0x3c479b['transform']['position'])&&this['_rotation']['equals'](_0x3c479b['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x3c479b['transform']['position']),this['_rotation']['copy'](_0x3c479b['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x418305){if(!this['_anchors']['persistenc'+'e']){_0x418305==null||_0x418305(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x418305==null||_0x418305(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x418305&&this['_uuidReque'+'sts']['push'](_0x418305);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x48fa5f=>{this['_uuid']=_0x48fa5f,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x418305==null||_0x418305(null,_0x48fa5f);for(const _0x5c3c39 of this['_uuidReque'+'sts'])_0x5c3c39(null,_0x48fa5f);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x48fa5f);})['catch'](_0x4a2ea4=>{_0x418305==null||_0x418305(_0x4a2ea4,null);for(const _0x2b2802 of this['_uuidReque'+'sts'])_0x2b2802(_0x4a2ea4,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x176105){if(!this['_uuid']){_0x176105==null||_0x176105(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x26628c=>{this['_uuid']=null,_0x176105==null||_0x176105(_0x26628c),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x3d2c4a){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x11*-0x12e+-0xff*-0x13+-0x5*-0x3a)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x1913+-0x1812+0x3126)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x1098+0xc73+-0x1d0b):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x3d2c4a,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0xed17ac;const _0x123772=((_0xed17ac=this['manager']['session']['enabledFea'+'tures'])==null?void(-0xd45+-0x17c7+0x250c):_0xed17ac['indexOf']('anchors'))>=0x345+0x1e00+0x1*-0x2145;_0x123772&&(this['_available']=_0x123772,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x11*0x15f+0x6f3*0x1+-0x1e41);for(let _0x3fb8b2=0xce2+-0x1165*0x1+0x21*0x23;_0x3fb8b2<this['_creationQ'+'ueue']['length'];_0x3fb8b2++)this['_creationQ'+'ueue'][_0x3fb8b2]['callback']&&this['_creationQ'+'ueue'][_0x3fb8b2]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x2622+0x1796+-0x4f*0xc8,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x4310b0=this['_list']['length'];for(;_0x4310b0--;)this['_list'][_0x4310b0]['destroy']();this['_list']['length']=0x11b*0x11+0x217d+-0x3bc*0xe,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x431951,_0x1244ec=null){const _0x2f72cc=new Io(this,_0x431951,_0x1244ec);return this['_index']['set'](_0x431951,_0x2f72cc),_0x1244ec&&this['_indexByUu'+'id']['set'](_0x1244ec,_0x2f72cc),this['_list']['push'](_0x2f72cc),_0x2f72cc['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x2f72cc;}['_onAnchorD'+'estroy'](_0x196113,_0x5ccbc1){this['_index']['delete'](_0x196113),_0x5ccbc1['uuid']&&this['_indexByUu'+'id']['delete'](_0x5ccbc1['uuid']);const _0xf74301=this['_list']['indexOf'](_0x5ccbc1);_0xf74301!==-(0x95*0x14+-0x190f+0x4*0x35b)&&this['_list']['splice'](_0xf74301,0x72e*0x4+-0x1136+-0xb81),this['fire']('destroy',_0x5ccbc1);}['create'](_0x5719e9,_0x231223,_0x1f91b0){if(!this['_available']){_0x1f91b0==null||_0x1f91b0(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x5719e9 instanceof XRHitTestResult){const _0x25ac6b=_0x5719e9;if(_0x1f91b0=_0x231223,!this['_supported']){_0x1f91b0==null||_0x1f91b0(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x25ac6b['createAnch'+'or']){_0x1f91b0==null||_0x1f91b0(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x25ac6b['createAnch'+'or']()['then'](_0x31ef6=>{const _0x2a8d1b=this['_createAnc'+'hor'](_0x31ef6);_0x1f91b0==null||_0x1f91b0(null,_0x2a8d1b),this['fire']('add',_0x2a8d1b);})['catch'](_0x385a0b=>{_0x1f91b0==null||_0x1f91b0(_0x385a0b,null),this['fire']('error',_0x385a0b);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x5719e9,_0x231223),'callback':_0x1f91b0});}['restore'](_0xf10044,_0x433c90){if(!this['_available']){_0x433c90==null||_0x433c90(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x433c90==null||_0x433c90(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x433c90==null||_0x433c90(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0xf10044)['then'](_0x4ac11b=>{const _0x2b4f0a=this['_createAnc'+'hor'](_0x4ac11b,_0xf10044);_0x433c90==null||_0x433c90(null,_0x2b4f0a),this['fire']('add',_0x2b4f0a);})['catch'](_0x40ac4a=>{_0x433c90==null||_0x433c90(_0x40ac4a,null),this['fire']('error',_0x40ac4a);});}['forget'](_0x1119b8,_0x3a00d2){if(!this['_available']){_0x3a00d2==null||_0x3a00d2(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x3a00d2==null||_0x3a00d2(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x3a00d2==null||_0x3a00d2(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x1119b8)['then'](()=>{_0x3a00d2==null||_0x3a00d2(null);})['catch'](_0x5a2ecd=>{_0x3a00d2==null||_0x3a00d2(_0x5a2ecd),this['fire']('error',_0x5a2ecd);});}['update'](_0x1700e7){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x108+0x21d6+0x116f*-0x2),_0x1700e7['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x52b684=>{_0x52b684['delete'](),this['manager']['active']&&(this['_available']=!(0x140f*0x1+0x17f*0x1+-0x158e),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x2a31b4=0x1563+0x14d*0x17+-0x19a7*0x2;_0x2a31b4<this['_creationQ'+'ueue']['length'];_0x2a31b4++){const _0x2ffe87=this['_creationQ'+'ueue'][_0x2a31b4];_0x1700e7['createAnch'+'or'](_0x2ffe87['transform'],this['manager']['_reference'+'Space'])['then'](_0x5f559=>{_0x2ffe87['callback']&&this['_callbacks'+'Anchors']['set'](_0x5f559,_0x2ffe87['callback']);})['catch'](_0x3c5442=>{_0x2ffe87['callback']&&_0x2ffe87['callback'](_0x3c5442,null),this['fire']('error',_0x3c5442);});}this['_creationQ'+'ueue']['length']=0x553+0x76a+0x43f*-0x3;}for(const [_0x3c2eb7,_0x1c3aa9]of this['_index'])_0x1700e7['trackedAnc'+'hors']['has'](_0x3c2eb7)||(this['_index']['delete'](_0x3c2eb7),_0x1c3aa9['destroy']());for(let _0x42f360=-0x13d9+-0x2048+0x3421;_0x42f360<this['_list']['length'];_0x42f360++)this['_list'][_0x42f360]['update'](_0x1700e7);for(const _0x4b5d21 of _0x1700e7['trackedAnc'+'hors']){if(this['_index']['has'](_0x4b5d21))continue;try{const _0x275648=_0x4b5d21['anchorSpac'+'e'];}catch{continue;}const _0x39b49f=this['_createAnc'+'hor'](_0x4b5d21);_0x39b49f['update'](_0x1700e7);const _0x454eab=this['_callbacks'+'Anchors']['get'](_0x4b5d21);_0x454eab&&(this['_callbacks'+'Anchors']['delete'](_0x4b5d21),_0x454eab(null,_0x39b49f)),this['fire']('add',_0x39b49f);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x198056,_0x3c3290){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x103f*-0x1+-0x164+-0x23*-0x81),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x198056,this['_xrMesh']=_0x3c3290,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x2bc73a){const _0x2f442f=this['_meshDetec'+'tion']['_manager'],_0x102209=_0x2bc73a['getPose'](this['_xrMesh']['meshSpace'],_0x2f442f['_reference'+'Space']);_0x102209&&(this['_position']['copy'](_0x102209['transform']['position']),this['_rotation']['copy'](_0x102209['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x33130a){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x1f*-0x105+0x2469+-0x1*0x4cd)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x33130a,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0xe54642){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0xe54642['detectedMe'+'shes']['size'])this['_available']=!(-0xff8+0x11b*0x22+0xacf*-0x2),this['fire']('available');else return;}for(const _0x1f8bd0 of _0xe54642['detectedMe'+'shes']){let _0x169437=this['_index']['get'](_0x1f8bd0);_0x169437?_0x169437['update'](_0xe54642):(_0x169437=new Ju(this,_0x1f8bd0),this['_index']['set'](_0x1f8bd0,_0x169437),this['_list']['push'](_0x169437),_0x169437['update'](_0xe54642),this['fire']('add',_0x169437));}for(const _0x5671c9 of this['_index']['values']())_0xe54642['detectedMe'+'shes']['has'](_0x5671c9['xrMesh'])||this['_removeMes'+'h'](_0x5671c9);}['_removeMes'+'h'](_0x450c05){this['_index']['delete'](_0x450c05['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x450c05),-0x95*-0xe+-0x1206+0x34b*0x3),_0x450c05['destroy'](),this['fire']('remove',_0x450c05);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x4ba819=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x526*-0x1+0x930*-0x2+-0x469*-0x3);if(!_0x4ba819)return;this['_available']=_0x4ba819,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1ee5+-0x10ca+0x2fb0);for(const _0x269655 of this['_index']['values']())this['_removeMes'+'h'](_0x269655);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x1649e1,_0x2ea42a,_0x33204f){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x9d0+-0x26b5+0x1ce8)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x1e5f+0x3*-0xac2+0x3*0xad)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x1649e1,this['_xrView']=_0x2ea42a);const _0x87a7aa=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x87a7aa,{'format':Cr,'mipmaps':!(-0x59e*0x1+0x5f5+0x1*-0x56),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x390bfe=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x87a7aa,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x33204f===-0x7*0x439+-0x3*0xbd7+0x4115*0x1?0xa59+-0x180*0xb+0x627:_0x33204f,'mipmaps':!(-0x12f+0x167a+-0x6d*0x32),'addressU':ue,'addressV':ue,'minFilter':_0x390bfe,'magFilter':_0x390bfe,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0xa1ec55=0x1529+0xf*-0x1ca+0x5ad;_0xa1ec55<this['_textureDe'+'pth']['_levels']['length'];_0xa1ec55++)this['_textureDe'+'pth']['_levels'][_0xa1ec55]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x87a7aa['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x437f07;return((_0x437f07=this['_depthInfo'])==null?void(-0x3*-0x30b+0x1f*0x50+-0x12d1):_0x437f07['rawValueTo'+'Meters'])||0x586+0x1b74+-0x20fa;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x3da8fc,_0x3271b7){this['_xrView']=_0x3271b7,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x3b677b=_0x3da8fc['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x3b677b['x'],this['_viewport']['y']=_0x3b677b['y'],this['_viewport']['z']=_0x3b677b['width'],this['_viewport']['w']=_0x3b677b['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x3da8fc);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x1d6252=this['_manager']['webglBindi'+'ng'];if(!_0x1d6252)return;const _0x1ddb8b=_0x1d6252['getCameraI'+'mage'](this['_xrCamera']);if(!_0x1ddb8b)return;const _0x18b838=this['_manager']['app']['graphicsDe'+'vice'],_0x1f20be=_0x18b838['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x1f20be['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x1f20be['createFram'+'ebuffer']();else{const _0x481e52=_0x1f20be['COLOR_ATTA'+'CHMENT0'],_0x4c9cbb=this['_xrCamera']['width'],_0x15e656=this['_xrCamera']['height'];_0x18b838['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x1f20be['framebuffe'+'rTexture2D'](_0x1f20be['FRAMEBUFFE'+'R'],_0x481e52,_0x1f20be['TEXTURE_2D'],_0x1ddb8b,-0xf*0x269+0x1b92*-0x1+0x3fb9),_0x18b838['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x1f20be['framebuffe'+'rTexture2D'](_0x1f20be['FRAMEBUFFE'+'R'],_0x481e52,_0x1f20be['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1f1d+0x18d9*0x1+-0x2*-0x322),_0x1f20be['bindFrameb'+'uffer'](_0x1f20be['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x1f20be['bindFrameb'+'uffer'](_0x1f20be['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x1f20be['blitFrameb'+'uffer'](0x1d6+-0xf56+0xd80,_0x15e656,_0x4c9cbb,0x17c7+-0x846*-0x4+-0x38df,0x1791+0x927*0x2+-0x1*0x29df,-0x240d+-0x756+0x17f*0x1d,_0x4c9cbb,_0x15e656,_0x1f20be['COLOR_BUFF'+'ER_BIT'],_0x1f20be['NEAREST']);}}['_updateDep'+'th'](_0xcc2b3c){var _0x308793,_0x21aaf4;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x2503cd=this['_manager']['views']['depthGpuOp'+'timized'],_0x72fb6=_0x2503cd?this['_manager']['webglBindi'+'ng']:_0xcc2b3c;if(!_0x72fb6){this['_depthInfo']=null;return;}const _0x427d24=_0x72fb6['getDepthIn'+'formation'](this['_xrView']);if(!_0x427d24){this['_depthInfo']=null;return;}let _0x3d4531=!this['_depthInfo']!=!_0x427d24;this['_depthInfo']=_0x427d24;const _0x18e46f=((_0x308793=this['_depthInfo'])==null?void(-0x2489*-0x1+-0x26b7+0x22e):_0x308793['width'])||0x3*0x77d+0x2049+-0x36bc,_0x4e3200=((_0x21aaf4=this['_depthInfo'])==null?void(-0x27*0xa2+0xa1f+-0x1*-0xe8f):_0x21aaf4['height'])||-0x1032+-0x5*0x54b+0x2aad;let _0xbe39dc=!(-0x648+-0xf7+0x740);if((this['_textureDe'+'pth']['width']!==_0x18e46f||this['_textureDe'+'pth']['height']!==_0x4e3200)&&(this['_textureDe'+'pth']['_width']=_0x18e46f,this['_textureDe'+'pth']['_height']=_0x4e3200,_0x3d4531=!(0xa5f+0x2*0xbd8+0x220f*-0x1),_0xbe39dc=!(0x1d30+0x475*0x8+-0x40d8)),_0x3d4531&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x2503cd){if(this['_depthInfo']['texture']){const _0xbf2c2e=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0xbf2c2e['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0xbf2c2e['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xbf2c2e['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xbf2c2e['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xbf2c2e['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xbf2c2e['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xbf2c2e['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xbf2c2e['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xa1b+-0x193*-0x7+0x1a0*-0xd);}}else this['_textureDe'+'pth']['_levels'][0x6aa+0x4*0x9a3+-0x6*0x789]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xa*0x22f+0x13*-0x99+-0xa7b]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0xbe39dc&&this['fire']('depth:resi'+'ze',_0x18e46f,_0x4e3200);}['updateTran'+'sforms'](_0x532a5d){_0x532a5d?(this['_viewInvOf'+'fMat']['mul2'](_0x532a5d,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x5*-0xd1+0xf02+-0x1317]=this['_viewInvOf'+'fMat']['data'][-0x11b3*-0x1+-0xa98+-0x70f],this['_positionD'+'ata'][-0x2408+0x41*0x83+0x2c6]=this['_viewInvOf'+'fMat']['data'][0x441*-0x2+-0x146f+-0x1cfe*-0x1],this['_positionD'+'ata'][0x1807*-0x1+-0x30*-0x22+0x11a9*0x1]=this['_viewInvOf'+'fMat']['data'][0x2632+0x5e7*-0x5+0x1*-0x8a1];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0xc33628,_0x47e6b6){var _0x33862c;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x33862c=this['_depthInfo'])==null?void(0x6*0x3e3+-0xc59*-0x1+-0x17*0x18d):_0x33862c['getDepthIn'+'Meters'](_0xc33628,_0x47e6b6))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x35de11=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x35de11['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x35de11['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x5b8531){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x19db*0x1+0x1e28+-0x44c)),h(this,'_available'+'Depth',!(-0x86f*0x1+0x283*0xb+-0x1331)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x5b8531,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x25c8e5,_0x4ba113){for(let _0x21581a=-0x136*-0x1f+0x1*0xb3c+-0x30c6;_0x21581a<_0x4ba113['length'];_0x21581a++)this['_indexTmp']['set'](_0x4ba113[_0x21581a]['eye'],_0x4ba113[_0x21581a]);for(const [_0x5cf433,_0x518dc3]of this['_indexTmp']){let _0x2ccac8=this['_index']['get'](_0x5cf433);_0x2ccac8?_0x2ccac8['update'](_0x25c8e5,_0x518dc3):(_0x2ccac8=new O0(this['_manager'],_0x518dc3,_0x4ba113['length']),this['_index']['set'](_0x5cf433,_0x2ccac8),this['_list']['push'](_0x2ccac8),_0x2ccac8['update'](_0x25c8e5,_0x518dc3),this['fire']('add',_0x2ccac8));}for(const [_0x2a8d05,_0x57fa5b]of this['_index']){if(this['_indexTmp']['has'](_0x2a8d05))continue;_0x57fa5b['destroy'](),this['_index']['delete'](_0x2a8d05);const _0x53aded=this['_list']['indexOf'](_0x57fa5b);_0x53aded!==-(0x163d+-0x1*-0x9bb+-0x1ff7)&&this['_list']['splice'](_0x53aded,0x453*-0x1+0x23e3+-0x1f8f),this['fire']('remove',_0x57fa5b);}this['_indexTmp']['clear']();}['get'](_0x3e15f9){return this['_index']['get'](_0x3e15f9)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x3b9+-0x291+0x64b),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x49*0x2e+0x8c3+-0x15e0),this['_available'+'Depth'])){const _0x2dbfc3=this['_manager']['session'];this['_depthUsag'+'e']=_0x2dbfc3['depthUsage'],this['_depthForm'+'at']=_0x2dbfc3['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x457267 of this['_index']['values']())_0x457267['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x55*0x10+0x3d*-0x2f+0x1084),this['_available'+'Depth']=!(-0xde2+0x7*-0x1fb+0x18*0x128),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x2333+-0x1*-0x19ab+0x15*-0x2e6;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x169fd3){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',-0x2*0x1109+0x1*-0x23e3+0x45f5+0.1),h(this,'_depthFar',-0x1718+-0xe59+0x2959*0x1),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x20+-0x1f*-0xc7+-0x1839*0x1),h(this,'_height',0x1509+-0x2*0x962+-0x245),h(this,'_framebuff'+'erScaleFac'+'tor',-0x731+-0x20de+0x2810),(this['app']=_0x169fd3,this['_available'][lU]=!(0x1*0xbaf+0x1f25+-0x2ad3),this['_available'][cU]=!(-0x1*-0x1767+-0x14b*0x11+0xb*-0x21),this['_available'][$o]=!(0xfda+0x1dd+-0x11b6),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x25bc4c,_0x4d0a58,_0x50aea9,_0x142f07){let _0x5c4f7e=_0x142f07;if(typeof _0x142f07=='object'&&(_0x5c4f7e=_0x142f07['callback']),!this['_available'][_0x4d0a58]){_0x5c4f7e&&_0x5c4f7e(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x5c4f7e&&_0x5c4f7e(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x25bc4c,this['_camera']['camera']['xr']=this,this['_type']=_0x4d0a58,this['_spaceType']=_0x50aea9,this['_framebuff'+'erScaleFac'+'tor']=(_0x142f07==null?void(0x2*-0xf06+-0x1a02*0x1+0x380e):_0x142f07['framebuffe'+'rScaleFact'+'or'])??0x1*0x18e6+0x1*-0xd6b+0xb7a*-0x1,this['_setClipPl'+'anes'](_0x25bc4c['nearClip'],_0x25bc4c['farClip']);const _0x7adf8d={'requiredFeatures':[_0x50aea9],'optionalFeatures':[]},_0x558763=this['app']['graphicsDe'+'vice'];_0x558763!=null&&_0x558763['isWebGPU']&&_0x7adf8d['requiredFe'+'atures']['push']('webgpu');const _0x51358f=_0x558763==null?void(0x1b*0x11c+0x1c34+-0x745*0x8):_0x558763['isWebGL2'];if(_0x4d0a58===$o){if(_0x7adf8d['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x7adf8d['optionalFe'+'atures']['push']('hit-test'),_0x142f07&&(_0x142f07['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x7adf8d['optionalFe'+'atures']['push']('image-trac'+'king'),_0x142f07['planeDetec'+'tion']&&_0x7adf8d['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x142f07['meshDetect'+'ion']&&_0x7adf8d['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x7adf8d['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x7adf8d['domOverlay']={'root':this['domOverlay']['root']}),_0x142f07&&_0x142f07['anchors']&&this['anchors']['supported']&&_0x7adf8d['optionalFe'+'atures']['push']('anchors'),_0x142f07&&_0x142f07['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x7adf8d['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x7e22f7=[],_0x38bdb8=[];if(_0x7e22f7['push'](P0,dU),_0x38bdb8['push'](I0,M0,D0),_0x142f07['depthSensi'+'ng']['usagePrefe'+'rence']){const _0xe49549=_0x7e22f7['indexOf'](_0x142f07['depthSensi'+'ng']['usagePrefe'+'rence']);_0xe49549!==-(-0x1643*-0x1+0x2*-0xa30+0x2*-0xf1)&&_0x7e22f7['splice'](_0xe49549,0x3b*0x38+-0x989*0x4+0x193d),_0x7e22f7['unshift'](_0x142f07['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x142f07['depthSensi'+'ng']['dataFormat'+'Preference']){const _0xfb72b4=_0x38bdb8['indexOf'](_0x142f07['depthSensi'+'ng']['dataFormat'+'Preference']);_0xfb72b4!==-(-0x2206+0x2a9+0x1f5e)&&_0x38bdb8['splice'](_0xfb72b4,0x2c2+0x47*-0x3d+0xe2a),_0x38bdb8['unshift'](_0x142f07['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x7adf8d['depthSensi'+'ng']={'usagePreference':_0x7e22f7,'dataFormatPreference':_0x38bdb8};}_0x51358f&&_0x142f07&&_0x142f07['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x7adf8d['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x7adf8d['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x142f07&&_0x142f07['optionalFe'+'atures']&&(_0x7adf8d['optionalFe'+'atures']=_0x7adf8d['optionalFe'+'atures']['concat'](_0x142f07['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x95f00c,_0x4836bd)=>{if(_0x95f00c){_0x5c4f7e&&_0x5c4f7e(_0x95f00c),this['fire']('error',_0x95f00c);return;}_0x4836bd!==null&&(_0x7adf8d['trackedIma'+'ges']=_0x4836bd),this['_onStartOp'+'tionsReady'](_0x4d0a58,_0x50aea9,_0x7adf8d,_0x5c4f7e);}):this['_onStartOp'+'tionsReady'](_0x4d0a58,_0x50aea9,_0x7adf8d,_0x5c4f7e);}['_onStartOp'+'tionsReady'](_0x89a94c,_0x1a5602,_0x4b8c92,_0x8095d4){const _0x51a83c=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x4b8c92;navigator['xr']['requestSes'+'sion'](_0x89a94c,_0x51a83c)['then'](_0x3cee9f=>{this['_onSession'+'Start'](_0x3cee9f,_0x1a5602,_0x8095d4);})['catch'](_0x3ca09e=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x8095d4&&_0x8095d4(_0x3ca09e),this['fire']('error',_0x3ca09e);});}['end'](_0x35d1c7){if(!this['_session']){_0x35d1c7&&_0x35d1c7(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x35d1c7&&this['once']('end',_0x35d1c7),this['_session']['end']();}['isAvailabl'+'e'](_0x578ce3){return this['_available'][_0x578ce3];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0xf344e1 in this['_available'])this['_sessionSu'+'pportCheck'](_0xf344e1);}['initiateRo'+'omCapture'](_0x27d5e7){if(!this['_session']){_0x27d5e7(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x27d5e7(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x27d5e7&&_0x27d5e7(null);})['catch'](_0x2db702=>{_0x27d5e7&&_0x27d5e7(_0x2db702);});}['updateTarg'+'etFrameRat'+'e'](_0x23b4d4,_0x239e8b){var _0x576bbe;if(!((_0x576bbe=this['_session'])!=null&&_0x576bbe['updateTarg'+'etFrameRat'+'e'])){_0x239e8b==null||_0x239e8b(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x23b4d4)['then'](()=>{_0x239e8b==null||_0x239e8b();})['catch'](_0x599858=>{_0x239e8b==null||_0x239e8b(_0x599858);});}['_sessionSu'+'pportCheck'](_0x207712){navigator['xr']['isSessionS'+'upported'](_0x207712)['then'](_0x25aaaf=>{this['_available'][_0x207712]!==_0x25aaaf&&(this['_available'][_0x207712]=_0x25aaaf,this['fire']('available',_0x207712,_0x25aaaf),this['fire']('available:'+_0x207712,_0x25aaaf));})['catch'](_0x317ab6=>{this['fire']('error',_0x317ab6);});}['_onSession'+'Start'](_0x5c560d,_0x3ec1dc,_0x397bc0){let _0x189b0f=!(-0x816+0x1*-0x58d+-0x24*-0x61);this['_session']=_0x5c560d;const _0x548c08=()=>{this['fire']('visibility'+':change',_0x5c560d['visibility'+'State']);},_0x4867d6=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x47de78=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x4867d6),this['_camera']['off']('set_farCli'+'p',_0x4867d6),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x5c560d['removeEven'+'tListener']('end',_0x47de78),_0x5c560d['removeEven'+'tListener']('visibility'+'change',_0x548c08),_0x189b0f||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x153*0x3+-0x28*-0xda+-0x2609,this['_height']=-0x1a7c+-0xddc+0x2858,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x5c560d['addEventLi'+'stener']('end',_0x47de78),_0x5c560d['addEventLi'+'stener']('visibility'+'change',_0x548c08),this['_camera']['on']('set_nearCl'+'ip',_0x4867d6),this['_camera']['on']('set_farCli'+'p',_0x4867d6),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0xf77598;this['fire']('frameratec'+'hange',(_0xf77598=this['_session'])==null?void(-0x544*0x3+0x10*0x1f1+-0xf44):_0xf77598['frameRate']);}),_0x5c560d['requestRef'+'erenceSpac'+'e'](_0x3ec1dc)['then'](_0xb86819=>{this['_reference'+'Space']=_0xb86819,this['app']['tick'](),_0x397bc0&&_0x397bc0(null),this['fire']('start');})['catch'](_0x4e1239=>{_0x189b0f=!(-0x2*-0x9dd+-0x114a+-0x270),_0x5c560d['end'](),_0x397bc0&&_0x397bc0(_0x4e1239),this['fire']('error',_0x4e1239);});}['_setClipPl'+'anes'](_0x1a9d3d,_0x502e2f){this['_depthNear']===_0x1a9d3d&&this['_depthFar']===_0x502e2f||(this['_depthNear']=_0x1a9d3d,this['_depthFar']=_0x502e2f,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x32ea57=this['app']['graphicsDe'+'vice'],_0x33ba56=_0x32ea57['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x32ea57['gl'],{'alpha':!(0x1*-0x16a2+0xcfb*0x1+0x7*0x161),'depth':!(0x2592+-0x1fdd+-0x1e7*0x3),'stencil':!(0x1416+0x1eaf+-0x32c5),'framebufferScaleFactor':_0x33ba56,'antialias':!(-0x26cd+0x674+-0x29*-0xca)}),_0x32ea57!=null&&_0x32ea57['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x32ea57['gl']);}catch(_0x1e3f5b){this['fire']('error',_0x1e3f5b);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x53e33a=>{this['fire']('error',_0x53e33a);});},0x1674+0x5*-0x6da+-0x2*-0x5e7);}['update'](_0x37aa68){if(!this['_session'])return!(-0x2538+0x1cf7+-0x12e*-0x7);const _0x53b10b=_0x37aa68['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x1204d3=_0x37aa68['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x53b10b||this['_height']!==_0x1204d3)&&(this['_width']=_0x53b10b,this['_height']=_0x1204d3,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x53b10b,_0x1204d3));const _0x51f182=_0x37aa68['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x51f182)return!(-0x568+-0x1ccf+0x2238);const _0x25ee66=this['views']['list']['length'];this['views']['update'](_0x37aa68,_0x51f182['views']);const _0xdb7891=_0x51f182['transform']['position'],_0x36043e=_0x51f182['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0xdb7891['x'],_0xdb7891['y'],_0xdb7891['z']),this['_localRota'+'tion']['set'](_0x36043e['x'],_0x36043e['y'],_0x36043e['z'],_0x36043e['w']),_0x25ee66===0x1a2+-0x3a0+0x1fe&&this['views']['list']['length']>-0x12c7+-0x1af1+0x2db8*0x1){const _0x349e11=new te(),_0xa0fe2a=this['views']['list'][0x13fd+-0x19e3+-0x1*-0x5e6];_0x349e11['copy'](_0xa0fe2a['projMat']);const _0x553f3a=_0x349e11['data'],_0x1c5986=(-0x18f3+-0x13f6*0x1+0x2ceb)*Math['atan']((-0x27b+-0x13ed+0x1*0x1669)/_0x553f3a[0xbb9*-0x3+-0x1e5b+0x418b])*(0x524+-0x1d2+-0x29e)/Math['PI'],_0x57de4e=_0x553f3a[0x266c+0xb7+-0x271e*0x1]/_0x553f3a[0x16c4+0x2ab*-0xd+0xbeb],_0x2851cd=_0x553f3a[0x14f6+-0x710+0x6ec*-0x2]/(_0x553f3a[-0x3cc+0x9b9+-0xb*0x89]+(-0x2aa+-0x57e+0x829)),_0x19c2d4=_0x553f3a[-0x1d42+-0x25f8+0x4348]/(_0x553f3a[0xde8+-0x1a06*0x1+0xc28]-(-0x1c63+-0x2*0x295+0x218e));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x57de4e,'farClip':_0x2851cd,'fov':_0x1c5986,'horizontalFov':!(-0x3b*-0xb+-0x137b+0x10f3*0x1),'nearClip':_0x19c2d4});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x37aa68),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x37aa68),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x37aa68),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x37aa68),this['anchors']['supported']&&this['anchors']['update'](_0x37aa68),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x37aa68),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x37aa68)),this['fire']('update',_0x37aa68),!(0x1ca1+0x71*0x43+0x12a*-0x32);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x4d7112;return((_0x4d7112=this['_session'])==null?void(0xc36+-0xc1*-0xd+0x1*-0x1603):_0x4d7112['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x44bfbe){var _0x3a1a39;(((_0x3a1a39=this['_baseLayer'])==null?void(-0x9a*-0x36+-0x464+-0x4*0x706):_0x3a1a39['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x57e*-0x1+-0x1060+0xae3&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x44bfbe);}get['fixedFovea'+'tion'](){var _0x11b976;return((_0x11b976=this['_baseLayer'])==null?void(-0x6f*0x4f+-0x4*0x621+0x3ac5):_0x11b976['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x3c1735,_0xbd292a={}){super(_0x3c1735);const _0x39169d=new tL();_0x39169d['graphicsDe'+'vice']=_0xbd292a['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x3c1735,_0xbd292a),this['addCompone'+'ntSystems'](_0x39169d),this['addResourc'+'eHandles'](_0x39169d),_0x39169d['elementInp'+'ut']=_0xbd292a['elementInp'+'ut'],_0x39169d['keyboard']=_0xbd292a['keyboard'],_0x39169d['mouse']=_0xbd292a['mouse'],_0x39169d['touch']=_0xbd292a['touch'],_0x39169d['gamepads']=_0xbd292a['gamepads'],_0x39169d['scriptPref'+'ix']=_0xbd292a['scriptPref'+'ix'],_0x39169d['assetPrefi'+'x']=_0xbd292a['assetPrefi'+'x'],_0x39169d['scriptsOrd'+'er']=_0xbd292a['scriptsOrd'+'er'],_0x39169d['soundManag'+'er']=new Pw(),_0x39169d['lightmappe'+'r']=pL,_0x39169d['batchManag'+'er']=IE,_0x39169d['xr']=ln,this['init'](_0x39169d);}['createDevi'+'ce'](_0x2681ce,_0x4b8adf){return _0x4b8adf['graphicsDe'+'viceOption'+'s']||(_0x4b8adf['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x4b8adf['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x7a2+-0xfad*0x2+-0x58*-0x45)),_0x4b8adf['graphicsDe'+'viceOption'+'s']['alpha']=_0x4b8adf['graphicsDe'+'viceOption'+'s']['alpha']||!(0x2d0+-0x2433+-0x2*-0x10b2),new aw(_0x2681ce,_0x4b8adf['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x4ae939){_0x4ae939['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x3162d2){_0x3162d2['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x5e93ae,_0x30d127){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0xa7c*-0x3+0x3*-0x503+-0x106a)),h(this,'_loaded',!(0x3ad*-0xa+0x4d5+-0x43*-0x7a)),h(this,'_failed',[]),(this['_registry']=_0x30d127,_0x5e93ae['forEach'](_0x15c75e=>{if(_0x15c75e instanceof pe)_0x15c75e['registry']||(_0x15c75e['registry']=_0x30d127),this['_assets']['add'](_0x15c75e);else{const _0x243b66=_0x30d127['get'](_0x15c75e);_0x243b66?this['_assets']['add'](_0x243b66):this['_waitForAs'+'set'](_0x15c75e);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0xecddce=>{this['_registry']['off']('add:'+_0xecddce,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x1634ee){var _0x57f02d;return _0x1634ee['type']==='model'&&((_0x57f02d=_0x1634ee['file'])==null?void(-0x1bd3*0x1+-0x329*-0x9+-0x9e):_0x57f02d['url'])&&_0x1634ee['file']['url']&&_0x1634ee['file']['url']['match'](/.json$/g);}['load'](_0x526d90,_0x1de36){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1cd*0x7+-0x1bd5+-0x1*-0x2870),this['_callback']=_0x526d90,this['_scope']=_0x1de36,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x22be7a=!(0x199*0x3+-0x1bdd*0x1+0x1713*0x1);this['_assets']['forEach'](_0x5b182b=>{_0x5b182b['loaded']||(_0x22be7a=!(0x1*0x10eb+0x1*-0x2621+0x21f*0xa),this['_assetHasD'+'ependencie'+'s'](_0x5b182b)&&this['_registry']['loadFromUr'+'l'](_0x5b182b['file']['url'],_0x5b182b['type'],(_0x49c4b1,_0x141e79)=>{if(_0x49c4b1){this['_onError'](_0x49c4b1,_0x5b182b);return;}this['_onLoad'](_0x5b182b);}),this['_loadingAs'+'sets']['add'](_0x5b182b),this['_registry']['add'](_0x5b182b));}),this['_loadingAs'+'sets']['forEach'](_0x1dd423=>{this['_assetHasD'+'ependencie'+'s'](_0x1dd423)||this['_registry']['load'](_0x1dd423);}),!_0x22be7a&&this['_waitingAs'+'sets']['size']===0x1*-0x1b1+-0x307+0x4b8&&this['_loadingCo'+'mplete']();}['ready'](_0x5ed017,_0x5b787e=this){this['_loaded']?_0x5ed017['call'](_0x5b787e,Array['from'](this['_assets'])):this['once']('load',_0x4b6be9=>{_0x5ed017['call'](_0x5b787e,_0x4b6be9);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x955*0x1+-0x1d7f+0x26d4),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x5c69a0){this['_loadingAs'+'sets']['has'](_0x5c69a0)&&(this['fire']('progress',_0x5c69a0),this['_loadingAs'+'sets']['delete'](_0x5c69a0)),this['_loadingAs'+'sets']['size']===-0x1d80+0x1ef3+-0x173&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x1707+0xb72+0x19*-0x161);}['_onError'](_0x563f1a,_0x1b9a91){this['_loadingAs'+'sets']['has'](_0x1b9a91)&&(this['_failed']['push'](_0x1b9a91),this['_loadingAs'+'sets']['delete'](_0x1b9a91)),this['_loadingAs'+'sets']['size']===0x680+0x75*-0x3a+0x1402&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1f9*0x7+0x11b+0xcb4);}['_onAddAsse'+'t'](_0x4ff625){this['_waitingAs'+'sets']['delete'](_0x4ff625),this['_assets']['add'](_0x4ff625),_0x4ff625['loaded']||(this['_loadingAs'+'sets']['add'](_0x4ff625),this['_registry']['load'](_0x4ff625));}['_waitForAs'+'set'](_0x20a3b5){this['_waitingAs'+'sets']['add'](_0x20a3b5),this['_registry']['once']('add:'+_0x20a3b5,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x3bcfbb,_0x4d04b1){super(_0x3bcfbb),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x4d04b1;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1be588=>{_0x1be588['defaultUni'+'formBuffer']['destroy'](),_0x1be588['destroy']();}),this['viewBindGr'+'oups']['length']=0x1301+-0x1047+-0x2*0x15d;}['update'](_0x1f45c6,_0x59ada3,_0x31c0de,_0x1ed1a8){this['camera']=_0x1f45c6,this['scene']=_0x59ada3,this['layers']=_0x31c0de,this['mapping']=_0x1ed1a8;}['execute'](){const _0x359778=this['device'],{renderer:_0x1165f0,camera:_0x3b7b90,scene:_0x11db2b,layers:_0x3a49c2,mapping:_0x10ef36,renderTarget:_0x325cdc}=this,_0x2f8e8f=_0x11db2b['layers']['layerList'],_0x1acd07=_0x11db2b['layers']['subLayerEn'+'abled'],_0x12a423=_0x11db2b['layers']['subLayerLi'+'st'];for(let _0x464e2f=-0x2*0x1340+-0x3f4+0x2a74;_0x464e2f<_0x2f8e8f['length'];_0x464e2f++){const _0x58321a=_0x2f8e8f[_0x464e2f];if(!(_0x3a49c2&&_0x3a49c2['indexOf'](_0x58321a)<0x4*0x117+-0x5d*0x3b+-0x1*-0x1113)&&_0x58321a['enabled']&&_0x1acd07[_0x464e2f]&&_0x58321a['camerasSet']['has'](_0x3b7b90['camera'])){const _0x15402f=_0x12a423[_0x464e2f];Q['pushGpuMar'+'ker'](_0x359778,_0x58321a['name']+'('+(_0x15402f?'TRANSP':'OPAQUE')+')'),_0x58321a['_clearDept'+'hBuffer']&&_0x1165f0['clear'](_0x3b7b90['camera'],!(0x112b+0x20cb+0x1*-0x31f5),!(-0xef*0x1d+0x313*0x5+0xbb4),!(-0x4d*0x3f+-0x208a+-0x112a*-0x3));const _0x56a6d8=_0x58321a['meshInstan'+'ces'];for(let _0x54b6f8=0x260b+0x17e6+0x9d*-0x65;_0x54b6f8<_0x56a6d8['length'];_0x54b6f8++){const _0x179a2c=_0x56a6d8[_0x54b6f8];_0x179a2c['pick']&&_0x179a2c['transparen'+'t']===_0x15402f&&(Fc['push'](_0x179a2c),_0x10ef36['set'](_0x179a2c['id'],_0x179a2c));}Fc['length']>0x24b0+0x5e*-0x25+0x1*-0x171a&&(_0x11db2b['clusteredL'+'ightingEna'+'bled']&&_0x1165f0['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x1165f0['setCameraU'+'niforms'](_0x3b7b90['camera'],_0x325cdc),_0x359778['supportsUn'+'iformBuffe'+'rs']&&_0x1165f0['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x1165f0['viewUnifor'+'mFormat'],_0x1165f0['viewBindGr'+'oupFormat'],null),_0x1165f0['renderForw'+'ard'](_0x3b7b90['camera'],_0x325cdc,Fc,_U,Zn,_0xae4925=>{_0x359778['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=0x107+0x578+0x1*-0x67f),Q['popGpuMark'+'er'](_0x359778);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x4d8553,_0x1750f3,_0x4e3130){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x47a+0x179f+-0x1325)),(w['assert'](_0x4d8553),this['renderer']=_0x4d8553['renderer'],this['device']=_0x4d8553['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x4d8553['renderer']),this['width']=-0x7*-0x113+0xdc1+-0xe*0x185,this['height']=-0x5*0x55e+0x1c29+-0x153,this['resize'](_0x1750f3,_0x4e3130),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0xfea+0x1250+-0x2239);}));}['getSelecti'+'on'](_0x3488fd,_0x3c4d03,_0xbcdab6=0xe55*0x1+0xd8+-0x2*0x796,_0x431a19=0x1319*0x1+0x964+-0x1c7c){const _0x27f95b=this['device'];if(_0x27f95b['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x3488fd!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x3c4d03=this['renderTarg'+'et']['height']-(_0x3c4d03+_0x431a19);const _0x587e03=this['sanitizeRe'+'ct'](_0x3488fd,_0x3c4d03,_0xbcdab6,_0x431a19);_0x27f95b['setRenderT'+'arget'](this['renderTarg'+'et']),_0x27f95b['updateBegi'+'n']();const _0x280a66=new Uint8Array((0x643+-0x5d9*-0x2+-0x11f1)*_0x587e03['z']*_0x587e03['w']);return _0x27f95b['readPixels'](_0x587e03['x'],_0x587e03['y'],_0x587e03['z'],_0x587e03['w'],_0x280a66),_0x27f95b['updateEnd'](),this['decodePixe'+'ls'](_0x280a66,this['mapping']);}['getSelecti'+'onAsync'](_0x1a2db1,_0xfcbd56,_0x10c5be=0xdc4*-0x1+-0x2*-0x692+0xa1,_0x1bb024=-0x7ef*0x4+0x2*-0x83c+-0x3035*-0x1){var _0x5d208e;(_0x5d208e=this['device'])!=null&&_0x5d208e['isWebGL2']&&(_0xfcbd56=this['renderTarg'+'et']['height']-(_0xfcbd56+_0x1bb024));const _0x4329a9=this['sanitizeRe'+'ct'](_0x1a2db1,_0xfcbd56,_0x10c5be,_0x1bb024);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x4329a9['x'],_0x4329a9['y'],_0x4329a9['z'],_0x4329a9['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x12b2+0xe4e+-0x2100)})['then'](_0x54baf3=>this['decodePixe'+'ls'](_0x54baf3,this['mapping']));}['sanitizeRe'+'ct'](_0x3657c6,_0xd106e7,_0x1b87ee,_0x2c314b){const _0x4701d6=this['renderTarg'+'et']['width'],_0x291ee8=this['renderTarg'+'et']['height'];return _0x3657c6=Y['clamp'](Math['floor'](_0x3657c6),0x476*-0x4+0x1f*-0x131+0x36c7,_0x4701d6-(0x5d9*-0x1+0xe*-0xe8+0x128a)),_0xd106e7=Y['clamp'](Math['floor'](_0xd106e7),0x1745+0xa7*-0x29+0x37a,_0x291ee8-(-0x11a*-0x13+-0x121d*-0x1+-0x270a)),_0x1b87ee=Math['floor'](Math['max'](_0x1b87ee,0x2199*0x1+-0xd17+0xb5*-0x1d)),_0x1b87ee=Math['min'](_0x1b87ee,_0x4701d6-_0x3657c6),_0x2c314b=Math['floor'](Math['max'](_0x2c314b,0x201+0x300*-0xa+0x700*0x4)),_0x2c314b=Math['min'](_0x2c314b,_0x291ee8-_0xd106e7),SU['set'](_0x3657c6,_0xd106e7,_0x1b87ee,_0x2c314b);}['decodePixe'+'ls'](_0x4bcd38,_0x3ddfb6){const _0x25fb7d=[];if(this['deviceVali'+'d']){const _0x2aa1e7=_0x4bcd38['length'];for(let _0x5ccc47=0x1528+-0x17ae+0x286;_0x5ccc47<_0x2aa1e7;_0x5ccc47+=-0x1982+0xd25+-0x1*-0xc61){const _0x4eaaa4=_0x4bcd38[_0x5ccc47+(0x5df+0xe65+0x4*-0x511)],_0x2d8710=_0x4bcd38[_0x5ccc47+(-0x13db+-0x1*-0x1dd+0x11ff)],_0x58a1ab=_0x4bcd38[_0x5ccc47+(0xb7c+-0xcff+0x185)],_0xf5c6d6=(_0x4bcd38[_0x5ccc47+(0x2*-0xe2d+0x264f+-0x86*0x13)]<<0x1a6e+0x18b1+-0x3307|_0x4eaaa4<<0xa99*0x3+-0x1fe7+-0x4*-0xb|_0x2d8710<<-0x235c*0x1+-0x240e+0x9b*0x76|_0x58a1ab)>>>0x689+-0x1938+0x1*0x12af;_0xf5c6d6!==0x1a853818+0x1094b97b7+0x1*-0x23d0cfd0&&Rf['add'](_0x3ddfb6['get'](_0xf5c6d6));}Rf['forEach'](_0x3f86a2=>{_0x3f86a2&&_0x25fb7d['push'](_0x3f86a2);}),Rf['clear']();}return _0x25fb7d;}['allocateRe'+'nderTarget'](){const _0x17e123=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x1*0x2029+0x1ff+0x1e2b),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x17e123,'depth':!(-0x76b*-0x4+0x20*0x5e+-0x296c)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x585ad4,_0x32bfc6,_0x1cf52d){_0x1cf52d instanceof Ot&&(_0x1cf52d=[_0x1cf52d]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x280909=this['renderPass'];_0x280909['init'](this['renderTarg'+'et']),_0x280909['colorOps']['clearValue']=ie['WHITE'],_0x280909['colorOps']['clear']=!(0x22d*0x11+-0x1*0x8d7+-0x1c26),_0x280909['depthStenc'+'ilOps']['clearDepth']=!(-0x2299+0x1*-0x1837+0xeb4*0x4),_0x280909['update'](_0x585ad4,_0x32bfc6,_0x1cf52d,this['mapping']),_0x280909['render']();}['resize'](_0x2ca20f,_0x5ea46d){this['width']=Math['floor'](_0x2ca20f),this['height']=Math['floor'](_0x5ea46d);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x551829,_0x2657d9,_0x25d314){return yU['cross'](_0x551829,_0x2657d9)['dot'](_0x25d314);}function xU(_0x189348,_0x291492,_0x86238c){en['sub2'](_0x291492,_0x189348),Nc['sub2'](_0x86238c[-0x1ab3+-0x1241*-0x1+0x5e*0x17],_0x189348),Ff['sub2'](_0x86238c[0x26d6+-0x4*0x80c+0xf3*-0x7],_0x189348),OS['sub2'](_0x86238c[0x1ec7*0x1+-0xb*-0x1cd+0x4e*-0xa6],_0x189348),kc['cross'](OS,en);let _0x11ffb4=Nc['dot'](kc),_0x1cafc3,_0xc08bc0;if(_0x11ffb4>=0x1008+-0x150*-0xd+-0x2118){if(_0x1cafc3=-Ff['dot'](kc),_0x1cafc3<0xa*0x11b+0x144d+0x17*-0x15d||(_0xc08bc0=BS(en,Ff,Nc),_0xc08bc0<0x410+0x1*0x261b+-0x2a2b))return-(-0x1*0x115d+-0xb8*0xb+0x50e*0x5);const _0x5ec576=(0xdfe+0x1fbd+-0x2dba)/(_0x1cafc3+_0x11ffb4+_0xc08bc0);Uc['copy'](_0x86238c[-0x2707+-0x1*-0x19ed+0xd1a])['mulScalar'](_0x1cafc3*_0x5ec576),Bc['copy'](_0x86238c[-0x14f2+-0x49*0x61+0xc27*0x4])['mulScalar'](_0x11ffb4*_0x5ec576),zc['copy'](_0x86238c[0xe3*-0x6+-0xa1e+0xf72])['mulScalar'](_0xc08bc0*_0x5ec576),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x86238c[0x12*-0xac+-0x2f*0x54+0x57*0x51],_0x189348),_0x1cafc3=Nf['dot'](kc),_0x1cafc3<-0x15d7+0x1a7e*0x1+-0x4a7*0x1||(_0xc08bc0=BS(en,Nc,Nf),_0xc08bc0<-0x110b+-0x83c*0x1+0x1947*0x1))return-(0xe*-0xca+-0x1a03+0x1*0x2510);_0x11ffb4=-_0x11ffb4;const _0x28d8e5=(0x23e9+0xd*-0xe3+-0x1861)/(_0x1cafc3+_0x11ffb4+_0xc08bc0);Uc['copy'](_0x86238c[-0x6b2*-0x3+0x17f+0x5*-0x451])['mulScalar'](_0x1cafc3*_0x28d8e5),Bc['copy'](_0x86238c[0x5de*-0x6+-0xf49+0x3280])['mulScalar'](_0x11ffb4*_0x28d8e5),zc['copy'](_0x86238c[0x144f+-0x1ffe+0xbb1])['mulScalar'](_0xc08bc0*_0x28d8e5),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x86238c[0x170d+-0xe17+-0x8f6],_0x86238c[0x7*-0x329+-0xe7d*-0x1+0xc*0xa3])['lengthSq']()<(-0x10f4+-0xe6e+0x1f62+0.0001)*(0x23ef+0x1*0x1d0b+-0x40fa*0x1+0.0001)||en['sub2'](_0x86238c[0x874+-0x199f+0x7*0x274],_0x86238c[-0x1*-0x2565+-0x2*-0x1256+-0x1*0x4a0e])['lengthSq']()<(0x8bb+-0x886+-0x35+0.0001)*(-0x4*0x159+0x3f8+0x16c+0.0001)?-(0x3ba+-0x3*0x89+-0x21e):kf['sub'](_0x189348)['lengthSq']();}class Am{constructor(_0x2b6ac7,_0x5838f3,_0x2057ff){this['event']=_0x2b6ac7,this['element']=_0x5838f3,this['camera']=_0x2057ff,this['_stopPropa'+'gation']=!(0x3*0xb09+0x20*0x19+0x121d*-0x2);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x1e4*0x12+0x1eec+0x1*0x31c),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x268728,_0x200120,_0x4bfea5,_0x4991b1,_0x4398d4,_0x27e698,_0x3e7cc3){super(_0x268728,_0x200120,_0x4bfea5),this['x']=_0x4991b1,this['y']=_0x4398d4,this['ctrlKey']=_0x268728['ctrlKey']||!(-0x2cc+-0xd68+0x1035),this['altKey']=_0x268728['altKey']||!(0x29e+0x1*0x1c13+-0x1eb0),this['shiftKey']=_0x268728['shiftKey']||!(0x17*-0x79+0x1c50*-0x1+0x2730),this['metaKey']=_0x268728['metaKey']||!(0x11c9+-0x165f+0x497),this['button']=_0x268728['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x268728['movementX']||_0x268728['webkitMove'+'mentX']||_0x268728['mozMovemen'+'tX']||-0xd*0xe8+0x14*-0x127+0x8b5*0x4,this['dy']=_0x268728['movementY']||_0x268728['webkitMove'+'mentY']||_0x268728['mozMovemen'+'tY']||0x5*0x253+-0x3*-0x70f+-0x2*0x1066):(this['dx']=_0x4991b1-_0x27e698,this['dy']=_0x4398d4-_0x3e7cc3),this['wheelDelta']=-0x1*0x1d09+0x2*0x11f+0x1acb,_0x268728['type']==='wheel'&&(_0x268728['deltaY']>0x1d3a+0x9fb+-0x2735?this['wheelDelta']=0xae8+-0x24e+0x1*-0x899:_0x268728['deltaY']<-0x1b6f+0x1428+0x747&&(this['wheelDelta']=-(0x1dd6+0x3a6*0x3+-0x28c7)));}}class Ao extends Am{constructor(_0x4df7eb,_0x401987,_0x29e585,_0x18231c,_0x204c19,_0x351a70){super(_0x4df7eb,_0x401987,_0x29e585),this['touches']=_0x4df7eb['touches'],this['changedTou'+'ches']=_0x4df7eb['changedTou'+'ches'],this['x']=_0x18231c,this['y']=_0x204c19,this['touch']=_0x351a70;}}class dr extends Am{constructor(_0x1b7e72,_0x5a6223,_0x4b5c36,_0x589b51){super(_0x1b7e72,_0x5a6223,_0x4b5c36),this['inputSourc'+'e']=_0x589b51;}}class Xo{constructor(_0xc738b9,_0x4942c4){this['_app']=null,this['_attached']=!(-0x1a60+-0x4*-0x414+0xa11),this['_target']=null,this['_enabled']=!(-0x8*0x1b9+0x381*-0x2+0x14ca),this['_lastX']=-0x4c*0x13+-0x936+-0x2*-0x76d,this['_lastY']=0xa1*-0x25+-0x161b*-0x1+0x12a*0x1,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x4942c4||_0x4942c4['useMouse']!==!(-0x1885+0x410+0x1476),this['_useTouch']=!_0x4942c4||_0x4942c4['useTouch']!==!(0xc83*-0x3+-0x1cd3+-0x329*-0x15),this['_useXr']=!_0x4942c4||_0x4942c4['useXr']!==!(-0x13ba*-0x1+0x10a+-0x5*0x427),this['_selectEve'+'ntsAttache'+'d']=!(-0xef*-0xb+-0xa93*0x2+0xae2),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0xc738b9);}set['enabled'](_0x2a4606){this['_enabled']=_0x2a4606;}get['enabled'](){return this['_enabled'];}set['app'](_0x5765aa){this['_app']=_0x5765aa;}get['app'](){return this['_app']||Ms();}['attach'](_0x4e3131){this['_attached']&&(this['_attached']=!(-0xa*-0x2db+-0xa8d+-0x60*0x30),this['detach']()),this['_target']=_0x4e3131,this['_attached']=!(0x26c5+0x79d*-0x5+-0x2*0x5a);const _0x13a412=Ae['passiveEve'+'nts']?{'passive':!(0x18bd+0x149+0x2*-0xd03)}:!(0xb2e+0x14c5*-0x1+0x998);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x13a412),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x13a412),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x13a412),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x13a412)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x13a412),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x1a24+0x202d+-0x608)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x23a5+0x2089+-0x1*-0x31d)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0xe*0x246+-0x1*0x190d+0x6*0x97b))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0xa*-0x47+0x1fa7+-0x226d*0x1),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1c7f+0x28c+-0x25c*-0xb);const _0x375cc5=Ae['passiveEve'+'nts']?{'passive':!(-0xc0c*0x3+-0x15b*-0xe+-0xd*-0x152)}:!(0x3b3+-0x22c2+0x1f10);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x375cc5),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x375cc5),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x375cc5),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x375cc5)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x375cc5),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0xa80+0x75*-0x33+0xa*0x148)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x5fc+0x2358+-0x2953)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x1ea*-0x8+-0x594*-0x4+0x1*-0x259f))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x49*-0x79+0x4a8+-0x2728),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x1f93ab){this['_elements']['indexOf'](_0x1f93ab)===-(0x1d4+0x191+0x4*-0xd9)&&this['_elements']['push'](_0x1f93ab);}['removeElem'+'ent'](_0xcd04af){const _0x327e39=this['_elements']['indexOf'](_0xcd04af);_0x327e39!==-(-0x1dfb+0x1*-0x1fb1+0x3dad)&&this['_elements']['splice'](_0x327e39,0x167f*0x1+0xad*0x31+-0x379b);}['_handleUp'](_0x730a5a){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x730a5a),this['_onElement'+'MouseEvent']('mouseup',_0x730a5a)));}['_handleDow'+'n'](_0x3fff05){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x3fff05),this['_onElement'+'MouseEvent']('mousedown',_0x3fff05)));}['_handleMov'+'e'](_0x18bc61){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x18bc61),this['_onElement'+'MouseEvent']('mousemove',_0x18bc61),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x1fa51b){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x1fa51b),this['_onElement'+'MouseEvent']('mousewheel',_0x1fa51b));}['_determine'+'TouchedEle'+'ments'](_0x58a302){const _0x1d6d86={},_0x4f032a=this['app']['systems']['camera']['cameras'];for(let _0x1fa2fa=_0x4f032a['length']-(0x1253*-0x1+0x1*0x409+0xe4b*0x1);_0x1fa2fa>=-0xbc6+-0x1d4+0xd9a;_0x1fa2fa--){const _0x3ebed4=_0x4f032a[_0x1fa2fa];let _0x22aadf=0x973*-0x3+0x119*0x19+0x2*0x74;const _0x2bc5d9=_0x58a302['changedTou'+'ches']['length'];for(let _0x41d627=-0x2*0xf49+-0x1bb2+-0x1d22*-0x2;_0x41d627<_0x2bc5d9;_0x41d627++){if(_0x1d6d86[_0x58a302['changedTou'+'ches'][_0x41d627]['identifier']]){_0x22aadf++;continue;}const _0x1a6e2f=Wc(_0x58a302['changedTou'+'ches'][_0x41d627]),_0x9ad4f6=this['_getTarget'+'ElementByC'+'oords'](_0x3ebed4,_0x1a6e2f['x'],_0x1a6e2f['y']);_0x9ad4f6&&(_0x22aadf++,_0x1d6d86[_0x58a302['changedTou'+'ches'][_0x41d627]['identifier']]={'element':_0x9ad4f6,'camera':_0x3ebed4,'x':_0x1a6e2f['x'],'y':_0x1a6e2f['y']});}if(_0x22aadf===_0x2bc5d9)break;}return _0x1d6d86;}['_handleTou'+'chStart'](_0x5bd712){if(!this['_enabled'])return;const _0x1fe3b6=this['_determine'+'TouchedEle'+'ments'](_0x5bd712);for(let _0x5d9530=0x4f8+-0xa73*-0x3+-0x2451,_0x4f8bcd=_0x5bd712['changedTou'+'ches']['length'];_0x5d9530<_0x4f8bcd;_0x5d9530++){const _0x4f403d=_0x5bd712['changedTou'+'ches'][_0x5d9530],_0x409d9b=_0x1fe3b6[_0x4f403d['identifier']],_0x4d05e9=this['_touchedEl'+'ements'][_0x4f403d['identifier']];_0x409d9b&&(!_0x4d05e9||_0x409d9b['element']!==_0x4d05e9['element'])&&(this['_fireEvent'](_0x5bd712['type'],new Ao(_0x5bd712,_0x409d9b['element'],_0x409d9b['camera'],_0x409d9b['x'],_0x409d9b['y'],_0x4f403d)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x4f403d['identifier']]=!(-0x5*0x224+0x736+0x37f));}for(const _0x4649a8 in _0x1fe3b6)this['_touchedEl'+'ements'][_0x4649a8]=_0x1fe3b6[_0x4649a8];}['_handleTou'+'chEnd'](_0x20b97e){if(!this['_enabled'])return;const _0x5d1273=this['app']['systems']['camera']['cameras'];for(const _0x1de83c in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x1de83c];for(let _0x3722e5=-0x1*0xb51+0x1*-0x23bf+0x2f10,_0x2e70cc=_0x20b97e['changedTou'+'ches']['length'];_0x3722e5<_0x2e70cc;_0x3722e5++){const _0x3d2a9a=_0x20b97e['changedTou'+'ches'][_0x3722e5],_0x564743=this['_touchedEl'+'ements'][_0x3d2a9a['identifier']];if(!_0x564743)continue;const _0x5c014e=_0x564743['element'],_0x3ecd60=_0x564743['camera'],_0x3b1c8d=_0x564743['x'],_0x54ed5c=_0x564743['y'];delete this['_touchedEl'+'ements'][_0x3d2a9a['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3d2a9a['identifier']];const _0x7f28a6=Wc(_0x3d2a9a);for(let _0x476c15=_0x5d1273['length']-(-0x11fb*0x1+-0xd3f*-0x2+-0x882);_0x476c15>=0x4ea+0x26cd+0x13*-0x24d;_0x476c15--)this['_getTarget'+'ElementByC'+'oords'](_0x5d1273[_0x476c15],_0x7f28a6['x'],_0x7f28a6['y'])===_0x5c014e&&(this['_clickedEn'+'tities'][_0x5c014e['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x20b97e,_0x5c014e,_0x3ecd60,_0x3b1c8d,_0x54ed5c,_0x3d2a9a)),this['_clickedEn'+'tities'][_0x5c014e['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x20b97e['type'],new Ao(_0x20b97e,_0x5c014e,_0x3ecd60,_0x3b1c8d,_0x54ed5c,_0x3d2a9a));}}['_handleTou'+'chMove'](_0x217472){if(_0x217472['preventDef'+'ault'](),!this['_enabled'])return;const _0x496261=this['_determine'+'TouchedEle'+'ments'](_0x217472);for(let _0x28ef59=-0x1182+0x26d0+-0xca*0x1b,_0x7ed69=_0x217472['changedTou'+'ches']['length'];_0x28ef59<_0x7ed69;_0x28ef59++){const _0x161d1e=_0x217472['changedTou'+'ches'][_0x28ef59],_0x3fbf71=_0x496261[_0x161d1e['identifier']],_0x4ca0e6=this['_touchedEl'+'ements'][_0x161d1e['identifier']];if(_0x4ca0e6){const _0x4c2584=Wc(_0x161d1e);(!_0x3fbf71||_0x3fbf71['element']!==_0x4ca0e6['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x161d1e['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x217472,_0x4ca0e6['element'],_0x4ca0e6['camera'],_0x4c2584['x'],_0x4c2584['y'],_0x161d1e)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x161d1e['identifier']]=!(0x22b0+-0x14b*-0x1+-0x23fb)),this['_fireEvent']('touchmove',new Ao(_0x217472,_0x4ca0e6['element'],_0x4ca0e6['camera'],_0x4c2584['x'],_0x4c2584['y'],_0x161d1e));}}}['_onElement'+'MouseEvent'](_0x375c0c,_0x56246e){let _0x3c3c46=null;const _0x4d6295=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x36ebf5=this['app']['systems']['camera']['cameras'];let _0x15aabd;for(let _0x71468a=_0x36ebf5['length']-(0x3e*0x7c+0x594+-0x239b);_0x71468a>=-0x771+-0x14*-0x41+0x25d*0x1&&(_0x15aabd=_0x36ebf5[_0x71468a],_0x3c3c46=this['_getTarget'+'ElementByC'+'oords'](_0x15aabd,cr,hr),!_0x3c3c46);_0x71468a--);if(this['_hoveredEl'+'ement']=_0x3c3c46,(_0x375c0c==='mousemove'||_0x375c0c==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x375c0c,new bo(_0x56246e,this['_pressedEl'+'ement'],_0x15aabd,cr,hr,this['_lastX'],this['_lastY'])):_0x3c3c46&&(this['_fireEvent'](_0x375c0c,new bo(_0x56246e,_0x3c3c46,_0x15aabd,cr,hr,this['_lastX'],this['_lastY'])),_0x375c0c==='mousedown'&&(this['_pressedEl'+'ement']=_0x3c3c46)),_0x4d6295!==this['_hoveredEl'+'ement']&&(_0x4d6295&&this['_fireEvent']('mouseleave',new bo(_0x56246e,_0x4d6295,_0x15aabd,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x56246e,this['_hoveredEl'+'ement'],_0x15aabd,cr,hr,this['_lastX'],this['_lastY']))),_0x375c0c==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x5a0a13=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x7a6fe3=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x458c17=this['_clickedEn'+'tities'][_0x5a0a13]||0x91*-0xe+0x48*0x3d+-0x93a;_0x7a6fe3=Date['now']()-_0x458c17>0x26fc+-0x787+-0x1e49*0x1,delete this['_clickedEn'+'tities'][_0x5a0a13];}_0x7a6fe3&&this['_fireEvent']('click',new bo(_0x56246e,this['_hoveredEl'+'ement'],_0x15aabd,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x4f9a26=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x5a71f9=-0x170+0x2375+0x2205*-0x1;_0x5a71f9<_0x4f9a26['length'];_0x5a71f9++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x4f9a26[_0x5a71f9],null);}['_onXrInput'+'Remove'](_0x333cbe){const _0x482030=this['_selectedE'+'lements'][_0x333cbe['id']];_0x482030&&(_0x333cbe['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x482030,null,_0x333cbe))),delete this['_selectedE'+'lements'][_0x333cbe['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x333cbe['id']];}['_onSelectS'+'tart'](_0x59404b,_0x325994){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x59404b,_0x325994);}['_onSelectE'+'nd'](_0x559c90,_0x31efa3){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x559c90,_0x31efa3);}['_onElement'+'SelectEven'+'t'](_0xccb5d0,_0x6133c0,_0x337f23){let _0x182b71;const _0x4d9925=this['_selectedE'+'lements'][_0x6133c0['id']];let _0x2c37c0;const _0x2d5f6f=this['app']['systems']['camera']['cameras'];let _0x10c682;if(_0x6133c0['elementInp'+'ut']){ep['set'](_0x6133c0['getOrigin'](),_0x6133c0['getDirecti'+'on']());for(let _0x2a324a=_0x2d5f6f['length']-(-0x115a*0x1+0x4*-0x611+0x5*0x853);_0x2a324a>=0x11e3*0x2+0x168b+-0x3a51&&(_0x10c682=_0x2d5f6f[_0x2a324a],_0x182b71=this['_getTarget'+'ElementByR'+'ay'](ep,_0x10c682),!_0x182b71);_0x2a324a--);}_0x6133c0['_elementEn'+'tity']=_0x182b71||null,_0x182b71?(this['_selectedE'+'lements'][_0x6133c0['id']]=_0x182b71,_0x2c37c0=_0x182b71):delete this['_selectedE'+'lements'][_0x6133c0['id']],_0x4d9925!==_0x2c37c0&&(_0x4d9925&&this['_fireEvent']('selectleav'+'e',new dr(_0x337f23,_0x4d9925,_0x10c682,_0x6133c0)),_0x2c37c0&&this['_fireEvent']('selectente'+'r',new dr(_0x337f23,_0x2c37c0,_0x10c682,_0x6133c0)));const _0x4d65ff=this['_selectedP'+'ressedElem'+'ents'][_0x6133c0['id']];_0xccb5d0==='selectmove'&&_0x4d65ff&&this['_fireEvent']('selectmove',new dr(_0x337f23,_0x4d65ff,_0x10c682,_0x6133c0)),_0xccb5d0==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x6133c0['id']]=_0x2c37c0,_0x2c37c0&&this['_fireEvent']('selectstar'+'t',new dr(_0x337f23,_0x2c37c0,_0x10c682,_0x6133c0))),!_0x6133c0['elementInp'+'ut']&&_0x4d65ff&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x6133c0['id']],_0x4d9925&&this['_fireEvent']('selectend',new dr(_0x337f23,_0x4d65ff,_0x10c682,_0x6133c0))),_0xccb5d0==='selectend'&&_0x6133c0['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x6133c0['id']],_0x4d65ff&&this['_fireEvent']('selectend',new dr(_0x337f23,_0x4d65ff,_0x10c682,_0x6133c0)),_0x4d65ff&&_0x4d65ff===_0x4d9925&&this['_fireEvent']('click',new dr(_0x337f23,_0x4d65ff,_0x10c682,_0x6133c0)));}['_fireEvent'](_0x567c1b,_0x520dcc){let _0x3304d1=_0x520dcc['element'];for(;_0x3304d1['fire'](_0x567c1b,_0x520dcc),!(_0x520dcc['_stopPropa'+'gation']||!_0x3304d1['entity']['parent']||(_0x3304d1=_0x3304d1['entity']['parent']['element'],!_0x3304d1)););}['_calcMouse'+'Coords'](_0x15183e){const _0x3ce559=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x256d8d=Math['floor'](_0x3ce559['left']),_0x44da9b=Math['floor'](_0x3ce559['top']);cr=_0x15183e['clientX']-_0x256d8d,hr=_0x15183e['clientY']-_0x44da9b;}['_sortEleme'+'nts'](_0x57316f,_0x52accb){const _0x4af5f5=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x57316f['layers'],_0x52accb['layers']);return _0x4af5f5!==-0x7b3+-0x84f+0x1*0x1002?_0x4af5f5:_0x57316f['screen']&&!_0x52accb['screen']?-(-0x168c+0xae8+0xba5):!_0x57316f['screen']&&_0x52accb['screen']?-0x1*-0x23fb+0x26f0+-0xdf*0x56:!_0x57316f['screen']&&!_0x52accb['screen']?-0x1*-0x1efb+-0xe3*-0x2a+-0x5*0xda5:_0x57316f['screen']['screen']['screenSpac'+'e']&&!_0x52accb['screen']['screen']['screenSpac'+'e']?-(0x118b+0x16d3*0x1+-0x285d):_0x52accb['screen']['screen']['screenSpac'+'e']&&!_0x57316f['screen']['screen']['screenSpac'+'e']?0x2556+0x1e99+-0x43ee:_0x52accb['drawOrder']-_0x57316f['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x4600f0,_0xd73023,_0x4725a7){const _0x1bcbbd=this['_calculate'+'RayScreen'](_0xd73023,_0x4725a7,_0x4600f0,Ri)?Ri:null,_0x3b64b0=this['_calculate'+'Ray3d'](_0xd73023,_0x4725a7,_0x4600f0,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x4600f0,_0x1bcbbd,_0x3b64b0);}['_getTarget'+'ElementByR'+'ay'](_0x119845,_0x15a567){Ri['origin']['copy'](_0x119845['origin']),Ri['direction']['copy'](_0x119845['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x15a567['farClip']*(-0x1241+0x1af*0x16+-0x12c7))['add'](Ri['origin']);const _0xb519=Ri,_0x7811af=_0x15a567['worldToScr'+'een'](_0xb519['origin'],Of),_0x4283c4=this['_calculate'+'RayScreen'](_0x7811af['x'],_0x7811af['y'],_0x15a567,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x15a567,_0x4283c4,_0xb519);}['_getTarget'+'Element'](_0x5dad91,_0x44809b,_0x2a78e7){let _0x4ebba5=null,_0x492bb5=(-0x1205+0x4e1*0x1+0x1*0xd25)/(0x1*-0xb43+-0x51*-0x2b+-0x258);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x140dde=-0x1*0x589+0x1d75+-0x17ec*0x1,_0x181e99=this['_elements']['length'];_0x140dde<_0x181e99;_0x140dde++){const _0x114b2f=this['_elements'][_0x140dde];if(_0x114b2f['layers']['some'](_0x230279=>_0x5dad91['layersSet']['has'](_0x230279))){if(_0x114b2f['screen']&&_0x114b2f['screen']['screen']['screenSpac'+'e']){if(!_0x44809b)continue;if(this['_checkElem'+'ent'](_0x44809b,_0x114b2f,!(0x203a+-0xc54*0x3+0xae*0x7))>=0x5*-0x1c6+-0x1*-0x1c1d+-0x17b*0xd){_0x4ebba5=_0x114b2f;break;}}else{if(!_0x2a78e7)continue;const _0x5be309=this['_checkElem'+'ent'](_0x2a78e7,_0x114b2f,!(-0x22f7*-0x1+0x5*-0x28c+-0x163a));if(_0x5be309>=-0x2*-0xfbb+0xc89+-0x2bff&&(_0x5be309<_0x492bb5&&(_0x4ebba5=_0x114b2f,_0x492bb5=_0x5be309),_0x114b2f['screen'])){_0x4ebba5=_0x114b2f;break;}}}}return _0x4ebba5;}['_calculate'+'RayScreen'](_0x573f5f,_0x14e572,_0x4fb818,_0x4cec2c){const _0x5990ed=this['app']['graphicsDe'+'vice']['width'],_0x1cd830=this['app']['graphicsDe'+'vice']['height'],_0x23bb2d=_0x4fb818['rect']['z']*_0x5990ed,_0x77ca00=_0x4fb818['rect']['w']*_0x1cd830,_0x1ec334=_0x4fb818['rect']['x']*_0x5990ed,_0x2bc386=_0x1ec334+_0x23bb2d,_0x37ec1a=(0x986*-0x2+0x29*-0xb+0x10*0x14d-_0x4fb818['rect']['y'])*_0x1cd830,_0x5917a0=_0x37ec1a-_0x77ca00;let _0x15e114=_0x573f5f*_0x5990ed/this['_target']['clientWidt'+'h'],_0x290dd6=_0x14e572*_0x1cd830/this['_target']['clientHeig'+'ht'];return _0x15e114>=_0x1ec334&&_0x15e114<=_0x2bc386&&_0x290dd6<=_0x37ec1a&&_0x290dd6>=_0x5917a0?(_0x15e114=_0x5990ed*(_0x15e114-_0x1ec334)/_0x23bb2d,_0x290dd6=_0x1cd830*(_0x290dd6-_0x5917a0)/_0x77ca00,_0x290dd6=_0x1cd830-_0x290dd6,_0x4cec2c['origin']['set'](_0x15e114,_0x290dd6,0x8b3+-0x257c+0x5c2*0x5),_0x4cec2c['direction']['set'](0xfb6+-0xd9b+-0x21b,-0x1813*0x1+0xf8a+0x889,-(0x5ee+-0x29*0xef+0x205a*0x1)),_0x4cec2c['end']['copy'](_0x4cec2c['direction'])['mulScalar'](-0x16bb+0x7c5+0x1df*0x8)['add'](_0x4cec2c['origin']),!(-0x1166+0xc54+-0x1*-0x512)):!(0xb1e+-0x1a*-0x171+-0x3097);}['_calculate'+'Ray3d'](_0x1b74f9,_0x3bd93e,_0x4c90f1,_0xe7acd9){const _0xd2acb5=this['_target']['clientWidt'+'h'],_0x270ce7=this['_target']['clientHeig'+'ht'],_0x41d788=_0x4c90f1['rect']['z']*_0xd2acb5,_0x3ab9a5=_0x4c90f1['rect']['w']*_0x270ce7,_0x207137=_0x4c90f1['rect']['x']*_0xd2acb5,_0x3cf702=_0x207137+_0x41d788,_0x3a3d48=(0x7f*0x1+-0x2075+0x1ff7-_0x4c90f1['rect']['y'])*_0x270ce7,_0x2dafa4=_0x3a3d48-_0x3ab9a5;let _0x52add8=_0x1b74f9,_0x48deaf=_0x3bd93e;return _0x1b74f9>=_0x207137&&_0x1b74f9<=_0x3cf702&&_0x3bd93e<=_0x3a3d48&&_0x48deaf>=_0x2dafa4?(_0x52add8=_0xd2acb5*(_0x52add8-_0x207137)/_0x41d788,_0x48deaf=_0x270ce7*(_0x48deaf-_0x2dafa4)/_0x3ab9a5,_0x4c90f1['screenToWo'+'rld'](_0x52add8,_0x48deaf,_0x4c90f1['nearClip'],Of),_0x4c90f1['screenToWo'+'rld'](_0x52add8,_0x48deaf,_0x4c90f1['farClip'],RS),_0xe7acd9['origin']['copy'](Of),_0xe7acd9['direction']['set'](-0x3*-0x6c5+0x1753+-0xa*0x45d,0x2*-0x74+-0x1cd+0x2b5,-(0xb76*-0x2+0x47f*0x2+0x29*0x57)),_0xe7acd9['end']['copy'](RS),!(0xcef*0x2+0x7*-0x27d+-0x7*0x135)):!(-0x1*0x668+-0x29*0xb1+0x1161*0x2);}['_checkElem'+'ent'](_0x2c1a22,_0x55c7ea,_0x4ca896){if(_0x55c7ea['maskedBy']&&this['_checkElem'+'ent'](_0x2c1a22,_0x55c7ea['maskedBy']['element'],_0x4ca896)<0x13*-0x77+-0x7*-0x398+0x7*-0x255)return-(-0x21a*-0x1+-0x218d+0x2*0xfba);let _0x539e58;_0x4ca896?_0x539e58=Xo['calculateS'+'caleToScre'+'en'](_0x55c7ea):_0x539e58=Xo['calculateS'+'caleToWorl'+'d'](_0x55c7ea);const _0x406093=Xo['buildHitCo'+'rners'](_0x55c7ea,_0x4ca896?_0x55c7ea['screenCorn'+'ers']:_0x55c7ea['worldCorne'+'rs'],_0x539e58);return xU(_0x2c1a22['origin'],_0x2c1a22['end'],_0x406093);}static['buildHitCo'+'rners'](_0x455772,_0x184e84,_0x710588){let _0x279af0=_0x184e84;if(_0x455772['entity']&&_0x455772['entity']['button']){const _0x38fcd0=_0x455772['entity']['button']['hitPadding']||vU;wo['copy'](_0x455772['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x2343+-0x25*0x8d+0x37*0x103)),Eo['copy'](_0x455772['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x8cf+-0x1ff0+0x1722)),wo['mulScalar'](_0x38fcd0['w']*_0x710588['y']),Vc['mulScalar'](_0x38fcd0['y']*_0x710588['y']),Eo['mulScalar'](_0x38fcd0['z']*_0x710588['x']),Gc['mulScalar'](_0x38fcd0['x']*_0x710588['x']),FS['copy'](_0x279af0[-0x6ed*-0x2+0x20db+0xb*-0x43f])['add'](Vc)['add'](Gc),NS['copy'](_0x279af0[0x5*-0xf9+0x1377+-0xe99])['add'](Vc)['add'](Eo),kS['copy'](_0x279af0[-0x24c0+0x259*0x7+-0xb*-0x1d9])['add'](wo)['add'](Eo),US['copy'](_0x279af0[-0x1b75+0x19*0x123+-0x51*0x3])['add'](wo)['add'](Gc),_0x279af0=[FS,NS,kS,US];}if(_0x710588['x']<-0x2f8+0x19e9*0x1+-0x16f1*0x1){const _0x497156=_0x279af0[0x45*-0xd+-0xc*0x1f+-0x1f*-0x29]['x'],_0x306689=_0x279af0[-0x5e*-0x11+-0x25d6+0x1f98]['x'];_0x279af0[-0x25*-0x7+0x1dac+-0x1eaf]['x']=_0x497156,_0x279af0[-0x40*0x7f+0x3a0+0x1c21]['x']=_0x306689,_0x279af0[-0x271*0x1+0x967*-0x1+0xbda]['x']=_0x306689,_0x279af0[-0x741*-0x1+0x215c+0x1*-0x289a]['x']=_0x497156;}if(_0x710588['y']<-0x1d0c+0x14*-0x42+0x2*0x111a){const _0x14a790=_0x279af0[0x2*-0x565+0x65c+0x47*0x10]['y'],_0x52302=_0x279af0[-0xa+0x3e1+-0x3d7*0x1]['y'];_0x279af0[0x1a7b*0x1+-0x1e0e+0x393]['y']=_0x14a790,_0x279af0[-0xf4a+0xf4a+0x1*0x1]['y']=_0x14a790,_0x279af0[-0x6e1*-0x2+0x1ed7+-0x2c97]['y']=_0x52302,_0x279af0[0x2138+-0x17*0x3d+-0x1bba]['y']=_0x52302;}if(_0x710588['z']<-0x1de5*0x1+-0x1*0x25aa+-0x1685*-0x3){const _0x54895f=_0x279af0[0x1aa1*-0x1+-0x8*-0x347+-0x1*-0x6b]['x'],_0x9262b7=_0x279af0[-0x4eb*-0x3+0x1*0x51d+0x4f7*-0x4]['y'],_0x22a685=_0x279af0[0x7e5*-0x3+-0x919+-0xaee*-0x3]['z'];_0x279af0[0x1d32+-0x1*0x3ff+-0x1931*0x1]['x']=_0x279af0[0x103b+-0x56b+0x15a*-0x8]['x'],_0x279af0[0x94d*-0x3+0x1*-0x767+0x2350]['y']=_0x279af0[0x3*-0x249+0x199*0x9+0x1*-0x786]['y'],_0x279af0[0x193*0x1+-0x397*0x1+0x206]['z']=_0x279af0[-0xa*0x175+-0x1227*-0x1+0x83*-0x7]['z'],_0x279af0[0x1929+-0xc*0xad+0x1e5*-0x9]['x']=_0x54895f,_0x279af0[-0x3*0x266+-0x729+0xe5b]['y']=_0x9262b7,_0x279af0[0x1d14+-0x186e+0x253*-0x2]['z']=_0x22a685;}return _0x279af0;}static['calculateS'+'caleToScre'+'en'](_0x4ca849){let _0x404417=_0x4ca849['entity'];const _0x10fc3e=_0x4ca849['screen']['screen']['scale'];for(tn['set'](_0x10fc3e,_0x10fc3e,_0x10fc3e);_0x404417&&!_0x404417['screen'];)tn['mul'](_0x404417['getLocalSc'+'ale']()),_0x404417=_0x404417['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x1b2c17){let _0x13b505=_0x1b2c17['entity'];for(tn['set'](0x13*-0x67+-0x1a1e*-0x1+-0x1278,0x11*-0xc7+-0x1*0x20c3+0x2dfb,-0xe9d+-0x16dc+0x257a);_0x13b505;)tn['mul'](_0x13b505['getLocalSc'+'ale']()),_0x13b505=_0x13b505['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x25acd6,_0x4ff97){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x25acd6,new _m(_0x4ff97));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x40291a){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x253b1e){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x253b1e?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x11480f){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x11480f?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x172e+-0x1981*-0x1+0x1ad;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0x1e*0x125+-0x43*0x35+0x12d*0x29);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0x10c6+-0x2504+-0x51*-0xaa);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x88f*0x1+0x197b+0x1105*-0x2);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x9ad+-0x21e4+-0x1*-0x1837);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x3c8+0xc*0x182+0x394*-0x4);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x174b*0x1+-0x253a+0xdef);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x6b*0x3e+0x9*-0x295+-0x2ad);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x1bd5+0x8b0+-0x2485);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0x122b+-0x159b+0x27c6);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x1cb1+0xb79+0x26*0x74);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x1b75+-0x1*-0x11d5+-0x2d4a);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x1479c4,_0x4806ec){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x36b661=this['blendState'];ut['copy'](_0x36b661),ut['setColorBl'+'end'](_0x36b661['colorOp'],_0x1479c4,_0x4806ec),ut['setAlphaBl'+'end'](_0x36b661['alphaOp'],_0x1479c4,_0x4806ec),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x14c869,_0x261654,_0x5eaa93,_0x31ca40){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x2a7fb2=this['blendState'];ut['copy'](_0x2a7fb2),ut['setColorBl'+'end'](_0x2a7fb2['colorOp'],_0x14c869,_0x261654),ut['setAlphaBl'+'end'](_0x2a7fb2['alphaOp'],_0x5eaa93,_0x31ca40),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0xa337f4){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3acc8c=this['blendState'];ut['copy'](_0x3acc8c),ut['setColorBl'+'end'](_0xa337f4,_0x3acc8c['colorSrcFa'+'ctor'],_0x3acc8c['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0xa337f4,_0x3acc8c['alphaSrcFa'+'ctor'],_0x3acc8c['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x2c275a,_0x7ca69a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x287dad=this['blendState'];ut['copy'](_0x287dad),ut['setColorBl'+'end'](_0x2c275a,_0x287dad['colorSrcFa'+'ctor'],_0x287dad['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x7ca69a,_0x287dad['alphaSrcFa'+'ctor'],_0x287dad['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x43ceb7,_0x2e5630,_0x848e28,_0x1a32a3){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x2f3a5f=this['blendState'];ut['copy'](_0x2f3a5f),ut['setColorWr'+'ite'](_0x43ceb7,_0x2e5630,_0x848e28,_0x1a32a3),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x35d58d){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x35d58d,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x4b2be2){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x4b2be2,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x5854a7){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x5854a7,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x28e02e){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x28e02e,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x35d668,_0x287619){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x287619+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x287619);},'set'(_0xa5b47c,_0x51cfcb,_0x1e2ce0){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x51cfcb+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x51cfcb,_0x1e2ce0),!(-0x149e*-0x1+0x561*0x5+-0x1*0x2f83);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x4e31a8){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x4e31a8;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x2b6434){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x2b6434;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x431e94){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x431e94;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x435bab){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x435bab;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x5abacf){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x3549b8){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x4dc3e1){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x55bf03,_0x4f338c)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x55bf03,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x55bf03+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4f338c];},'set':function(_0x4a5367){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x55bf03+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4f338c]=_0x4a5367,this['updateShad'+'ers']=!(0x2626+-0x15+-0x2611);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x432d34,_0x1f14ff,_0x2eca5a=''){Object['defineProp'+'erty'](_0x432d34['prototype'],_0x1f14ff,{'set':function(_0x4b2f8e){w['errorOnce'](_0x432d34['name']+'#'+_0x1f14ff+('\x20has\x20been\x20'+'removed.\x20')+_0x2eca5a);},'get':function(){w['errorOnce'](_0x432d34['name']+'#'+_0x1f14ff+('\x20has\x20been\x20'+'removed.\x20')+_0x2eca5a);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x2c0a32){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x2c0a32);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x1e1878){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x1e1878];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x4d8cd2){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x4d8cd2;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x233c5b){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x38a2aa){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x38a2aa;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x305*0x9+-0xf3+0x32*0x92);},'set':function(_0x1d0b9c){this['gloss']=_0x1d0b9c*(0x214b*-0x1+0x486+-0x1eb*-0xf+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x1eb749){this['useTonemap']=_0x1eb749;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x43ac4a=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x52d*0x2+0x162d*-0x1+-0x2089*-0x1)));return this['anisotropy'+'Intensity']*_0x43ac4a;},'set':function(_0x251400){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x251400),_0x251400>=-0xab*0x17+-0x1e8f*0x1+-0x2*-0x16f6?this['anisotropy'+'Rotation']=-0x85*-0x1a+0x541*-0x7+0x1*0x1745:this['anisotropy'+'Rotation']=-0xb*0x322+-0xf07*0x1+0x31d7;}});function Qs(_0x1c3227,_0x225a07){Object['defineProp'+'erty'](Ut['prototype'],_0x225a07,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x225a07+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x1c3227+'\x20instead.'),this[_0x1c3227];},'set':function(_0x360f17){w['deprecated']('pc.Standar'+'dMaterial#'+_0x225a07+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x1c3227+'\x20instead.'),this[_0x1c3227]=_0x360f17;}});}function Id(_0x168cdd){Object['defineProp'+'erty'](Ut['prototype'],_0x168cdd,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x168cdd+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x168cdd+('\x20was\x20alway'+'s\x20true')),!(-0x18f1+-0x1b18+0x3409);},'set':function(_0x51f243){w['deprecated']('pc.Standar'+'dMaterial#'+_0x168cdd+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x168cdd+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x3cc3aa,_0x2ef5c9){_0x3cc3aa!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x3cc3aa,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x3cc3aa+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x2ef5c9||_0x3cc3aa)+'.'),this['litOptions'][_0x2ef5c9||_0x3cc3aa];},'set':function(_0x2e5519){w['deprecated']('Setting\x20pc'+'.Options#'+_0x3cc3aa+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x2ef5c9||_0x3cc3aa)+'.'),this['litOptions'][_0x2ef5c9||_0x3cc3aa]=_0x2e5519;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x165a89){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x165a89);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0xc5*0x1c+-0x10a9*-0x2+-0xbc4);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x14b3*0x1+-0xd*0x2dd+-0x4*-0x422);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0xfd67e3,_0x160c33,_0x1726cb){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0xfd67e3=_0xfd67e3||this['graphicsDe'+'vice']['canvas'];const _0x23fcf2=function(){_0x160c33(),document['removeEven'+'tListener']('fullscreen'+'change',_0x23fcf2);},_0x4ad06b=function(){_0x1726cb(),document['removeEven'+'tListener']('fullscreen'+'error',_0x4ad06b);};_0x160c33&&document['addEventLi'+'stener']('fullscreen'+'change',_0x23fcf2,!(-0x203*-0xf+0x25f1+-0x9bb*0x7)),_0x1726cb&&document['addEventLi'+'stener']('fullscreen'+'error',_0x4ad06b,!(0x185*0x18+0x1*0x147e+0x7*-0x823)),_0xfd67e3['requestFul'+'lscreen']?_0xfd67e3['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x1726cb();},Ks['prototype']['disableFul'+'lscreen']=function(_0x2c32f3){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x36e82d=function(){_0x2c32f3(),document['removeEven'+'tListener']('fullscreen'+'change',_0x36e82d);};_0x2c32f3&&document['addEventLi'+'stener']('fullscreen'+'change',_0x36e82d,!(0x1b16*-0x1+-0xc30+0x2747*0x1)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x547646){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x23c0f2=this['scenes']['find'](_0x547646);return _0x23c0f2?_0x23c0f2['url']:null;},Ks['prototype']['loadScene']=function(_0x40a037,_0x4c9afb){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x40a037,_0x4c9afb);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x261621,_0x4a3c6f){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x261621,_0x4a3c6f);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x101477,_0x1c032e){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x101477,_0x1c032e);},Tm['prototype']['setVisible']=function(_0x3f7847){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x3f7847;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x24409e){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x24409e;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===0x1e14+0x11e0+0x19*-0x1eb?this['gravity']['copy'](arguments[-0x228e+0x49*0x4f+0xc07]):this['gravity']['set'](arguments[-0x533*0x5+0x36f*-0xb+0x3fc4],arguments[-0xad6*-0x2+-0x14eb+-0x1*0xc0],arguments[0x2046+-0x12d*0x17+-0x539]);};class wU{constructor(_0x47cbf9){this['_frameInde'+'x']=0x1*0x136d+-0x89*0x3e+0xdc1,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x1f3*0x4+-0x8c7+0xfc,this['enabled']=!(-0xcdf+-0x2*0x11ad+0x3039),_0x47cbf9['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x47cbf9['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x47cbf9['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x4ba524){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0xeb2e34=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0xeb2e34,this['_frameInde'+'x']=0x1ad2+-0xde8+-0xcea,this['mark'](_0x4ba524);}['mark'](_0x436735){if(!this['enabled'])return;const _0x21dfce=de();if(this['_frameInde'+'x']>0x2052+-0xb5*-0x35+-0x45cb){const _0x3c6f11=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x192*0x5+0xb68*-0x2+0x1eab*0x1)];_0x3c6f11[0x1bfa+0x653*-0x5+0x2*0x1d3]=_0x21dfce-_0x3c6f11[0x1c0b+-0x20fd+0x4f3];}else{if(this['_timings']['length']>-0x168*0xf+0xa2d*0x1+0xaeb){const _0x5333c0=this['_timings'][this['_timings']['length']-(-0x2591+-0x8fa*-0x2+0x139e)];_0x5333c0[0x1*-0x1157+-0x1218+-0xa8*-0x36]=_0x21dfce-_0x5333c0[-0x4*-0x63d+-0x1ce5*-0x1+-0x35d8];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x436735,_0x21dfce]);else{const _0x12cc43=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x12cc43[-0x2157*0x1+-0x129e*0x1+-0x2f*-0x11b]=_0x436735,_0x12cc43[0x44*-0x31+-0x677*0x1+-0x137c*-0x1]=_0x21dfce;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x2426+-0x219f+0x45c5,-(0xfc0+0x51*0x75+-0x4cc*0xb))['map'](_0x328747=>_0x328747[0x1025+-0x25*0x25+-0x399*0x3]);}}class EU{constructor(_0xdae0eb){this['device']=_0xdae0eb,_0xdae0eb['gpuProfile'+'r']['enabled']=!(-0x1f3e+-0x226c+0x41aa),this['enabled']=!(-0x1*-0x1271+-0x55d*0x1+-0x68a*0x2),this['unitsName']='ms',this['decimalPla'+'ces']=-0x2*-0x3f4+-0xab+-0x2*0x39e,this['_timings']=[];}get['timings'](){return this['_timings'][-0xced+0x8*-0x473+0x3085]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x8e3d4a,_0xdcd0eb,_0x986167,_0x44b641,_0x4e2598){this['app']=_0x8e3d4a,this['values']=[],this['statNames']=_0xdcd0eb,this['statNames']['length']>0x3*-0x5b9+-0x18fd+-0x1*-0x2a2b&&(this['statNames']['length']=0x13b2+-0x7e4+-0xbcb),this['unitsName']=_0x44b641,this['decimalPla'+'ces']=_0x986167,this['multiplier']=_0x4e2598||0x1*0x1997+0x1*-0x1825+-0x171*0x1;const _0x4d13f9=(_0x2a5d95,_0x1efc83)=>_0x2a5d95['split']('.')['reduce']((_0x38b2ab,_0x3320dc)=>_0x38b2ab?_0x38b2ab[_0x3320dc]:null,_0x1efc83||this);_0x8e3d4a['on']('frameupdat'+'e',_0x53c184=>{for(let _0x1e7c40=0xb*-0x269+-0x1a7e+0x3501*0x1;_0x1e7c40<this['statNames']['length'];_0x1e7c40++)this['values'][_0x1e7c40]=_0x4d13f9(this['statNames'][_0x1e7c40],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x1e694f,_0x4b8ea9,_0x2816d8,_0x3b2fc5,_0x5aca77){this['app']=_0x4b8ea9,this['name']=_0x1e694f,this['device']=_0x4b8ea9['graphicsDe'+'vice'],this['timer']=_0x5aca77,this['watermark']=_0x2816d8,this['enabled']=!(-0x1f76+-0xde*0x25+0x3f8d),this['textRefres'+'hRate']=_0x3b2fc5,this['avgTotal']=-0x2125+0x1039+0x10ec,this['avgTimer']=-0x2*0x2fe+0x21ea+-0x1bee,this['avgCount']=0x687*0x2+-0x1c55*0x1+0x1*0xf47,this['timingText']='',this['texture']=null,this['yOffset']=0xb22+0x21ed+-0x301*0xf,this['cursor']=-0x2*-0xba6+-0x2e*0xa8+-0x6e4*-0x1,this['sample']=new Uint8ClampedArray(-0x7cb+0x142d+0x1*-0xc5e),this['sample']['set']([-0x20e7*-0x1+0x1fd9*-0x1+-0x10e,-0xba5*0x1+0x231d+-0x1778,-0x530+-0x5fb*0x2+0x5*0x36e,0x3*-0xacb+-0xc1c+-0x8e*-0x52]),this['counter']=-0x17bb+-0x151*0x19+0x38a4,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x8afcb1){const _0x283aee=this['timer']['timings'],_0x38fd05=_0x283aee['reduce']((_0x65ce3f,_0x4a168f)=>_0x65ce3f+_0x4a168f,-0x21a*0x9+0x99+0x1251);if(this['avgTotal']+=_0x38fd05,this['avgTimer']+=_0x8afcb1,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x1*0x1049+-0x3da+-0x1*0xc6f,this['avgTotal']=0xa47+-0x1557+0xb10,this['avgCount']=-0x733+-0xd18+0x144b),this['enabled']){let _0x316bbf=-0x20dd+0x13c2+0xb*0x131;const _0x4239e1=(0x3*-0x7cf+-0x2208+-0x5bf*-0xa+0.5)*this['watermark'];for(let _0xcf7d1=0x1d9c+-0xfb0+0x129*-0xc;_0xcf7d1<_0x283aee['length'];++_0xcf7d1)_0x316bbf+=Math['floor'](_0x283aee[_0xcf7d1]/_0x4239e1*(0xa*0x337+0x22d1+-0x83f*0x8)),this['sample'][_0xcf7d1]=_0x316bbf;this['sample'][-0x3b*0x17+-0x3a1+-0x6d*-0x15]=this['watermark']/_0x4239e1*(-0x107a+0xa67+0x712),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x2615*0x1+-0xfd3+0x35ec)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0xd56+-0x252f+-0xb*-0x22b);}}['render'](_0x4b5ed5,_0x406317,_0x26d126,_0x1b4508,_0x5cc46b){_0x4b5ed5['quad'](_0x406317+_0x1b4508,_0x26d126,-_0x1b4508,_0x5cc46b,this['enabled']?this['cursor']:-0xb3f+-0x737+0x1276,this['enabled']?-0x16c+-0x51*-0x25+0x1*-0xa49+0.5+this['yOffset']:this['texture']['height']-(-0x6dc+-0x783+0xe60),-_0x1b4508,0x1fb7+0xce0+-0x2c97,this['texture'],0x196e+0x12+0x6*-0x440);}}class AU{constructor(_0x4c5359,_0x281159){const _0x327ab5=_0x5cb482=>{_0x5cb482['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x5cb482['textAlign']='left',_0x5cb482['textBaseli'+'ne']='alphabetic';},_0x3c0453=_0x544d8e=>_0x544d8e==='.'||_0x544d8e['length']===-0x1*-0x20e7+0xafd+0xf*-0x2ed&&_0x544d8e['charCodeAt'](0x1401+-0x2*0x10c7+0xd8d*0x1)>=0x5e8+0x1b79+0x2131*-0x1&&_0x544d8e['charCodeAt'](0x492+-0x1639*-0x1+0x1acb*-0x1)<=-0x1863+0x845+0x2f*0x59,_0xb4299e=document['createElem'+'ent']('canvas'),_0x1521ed=_0xb4299e['getContext']('2d',{'alpha':!(0x1366+0x5*-0x51b+0x621)});_0x327ab5(_0x1521ed);const _0x52238b=new Map(),_0x3682f6=0x6*0x629+0x1b8f+-0x30*0x158,_0x12100b=0x5*0x67b+-0xbe3*0x1+-0x1284*0x1;let _0x40565f=_0x3682f6,_0x34afe9=_0x3682f6;_0x281159['forEach'](_0x3b82b3=>{const _0x45d3a5=_0x1521ed['measureTex'+'t'](_0x3b82b3),_0x497da9=Math['ceil'](-_0x45d3a5['actualBoun'+'dingBoxLef'+'t']),_0x4d4c8f=Math['ceil'](_0x45d3a5['actualBoun'+'dingBoxRig'+'ht']),_0x27af0d=Math['ceil'](_0x45d3a5['actualBoun'+'dingBoxAsc'+'ent']),_0x58b145=Math['ceil'](_0x45d3a5['actualBoun'+'dingBoxDes'+'cent']),_0x249469=_0x497da9+_0x4d4c8f,_0x2b43f9=_0x27af0d+_0x58b145;_0x40565f+_0x249469+_0x3682f6>=_0x12100b&&(_0x40565f=_0x3682f6,_0x34afe9+=0x1606+-0x1667+-0x71*-0x1),_0x52238b['set'](_0x3b82b3,{'l':_0x497da9,'r':_0x4d4c8f,'a':_0x27af0d,'d':_0x58b145,'w':_0x249469,'h':_0x2b43f9,'x':_0x40565f,'y':_0x34afe9}),_0x40565f+=_0x249469+_0x3682f6;}),_0xb4299e['width']=0x22b6+0x1179+-0x322f,_0xb4299e['height']=Y['nextPowerO'+'fTwo'](_0x34afe9+(0x87d+-0x17fd+0x6*0x298)+_0x3682f6),_0x327ab5(_0x1521ed),_0x1521ed['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x1521ed['fillRect'](0x4+-0xdce+0xdca,-0x1edc+-0x838*-0x1+-0x45*-0x54,_0xb4299e['width'],_0xb4299e['height']),_0x52238b['forEach']((_0x181e89,_0xdb7731)=>{_0x1521ed['fillStyle']=_0x3c0453(_0xdb7731)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x1521ed['fillText'](_0xdb7731,_0x181e89['x']-_0x181e89['l'],_0x181e89['y']+_0x181e89['a']);}),this['placements']=_0x52238b;const _0x113e91=_0x1521ed['getImageDa'+'ta'](0x5*-0x6d1+-0x1a5*0x2+0x255f,0x23e2+-0x188b*0x1+0x1*-0xb57,_0xb4299e['width'],_0xb4299e['height'])['data'];for(let _0x480ecc=-0x1*-0x2e5+0x17fa+-0x1adf;_0x480ecc<_0x113e91['length'];_0x480ecc+=-0x136a+0x1*-0x14a1+0x280f)_0x113e91[_0x480ecc+(0x8b9+-0x3c*0x2d+0x1d6)]=_0x113e91[_0x480ecc+(0x2*0x1085+-0x2552+0x448)],_0x113e91[_0x480ecc+(-0x3*0x891+-0x47*-0x1c+0x11ef)]=0x635*0x4+-0xb8d+-0xc48,_0x113e91[_0x480ecc+(-0x1*-0x2614+-0x2*0x6fc+0x79*-0x33)]=0x88*-0x41+-0x22f3+0x467a*0x1,_0x113e91[_0x480ecc+(-0x24fb+-0x185e*0x1+0x3d5b)]=0xb5+0xe99+0x1*-0xe4f;this['texture']=new _e(_0x4c5359,{'name':'mini-stats'+'-word-atla'+'s','width':_0xb4299e['width'],'height':_0xb4299e['height'],'mipmaps':!(0x1*-0x2056+-0x21e9+0x14*0x350),'minFilter':Te,'magFilter':Te,'levels':[_0x113e91]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x14e021,_0xb7d48d,_0x191739,_0x5a0001){const _0x3edc46=this['placements']['get'](_0xb7d48d);return _0x3edc46?(_0x14e021['quad'](_0x191739+_0x3edc46['l']-(0x11*0x19b+-0x11a4+-0x9a6),_0x5a0001-_0x3edc46['d']+(0x231+0x384+-0x124*0x5),_0x3edc46['w']+(-0xa00+0x143f+-0xa3d),_0x3edc46['h']+(0x2*0x11ea+0x293*-0xa+-0xa14),_0x3edc46['x']-(0x69*-0x2f+0xc66+-0x371*-0x2),this['texture']['height']-_0x3edc46['y']-_0x3edc46['h']-(0x335+-0x13*-0x1d2+-0x25ca*0x1),void(-0x2d3*-0x6+-0x1460+0x36e),void(0x3e8*-0xa+0x7d3*-0x2+0x36b6),this['texture'],-0x1e24+-0x23*0xbc+0x1d*0x1ed),_0x3edc46['w']):-0x3b9*0xa+0x216*0x4+0x1ce2;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x361914,_0x567bb2=-0x3ce*-0x8+-0x26e1+0xa71){const _0x5e5ffd=new kt(_0x361914,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x4e1dc1=new Uint16Array(_0x567bb2*(0x1*-0x2269+0xa87+0x44*0x5a));for(let _0x153781=-0x23e9+0x67d*0x1+-0x434*-0x7;_0x153781<_0x567bb2;++_0x153781)_0x4e1dc1[_0x153781*(-0x1*-0x120e+0x90d*-0x4+0x916*0x2)+(-0xd7f+0xe86+-0x107)]=_0x153781*(0x123a+-0x1869*-0x1+-0xe35*0x3),_0x4e1dc1[_0x153781*(0x12*0x25+-0x132c*-0x1+0x15c0*-0x1)+(0x1a25+0x18cc+-0x32f0)]=_0x153781*(-0x89b+-0x1e92+0x2731)+(0x4da+0x1*-0x7f5+0x31c),_0x4e1dc1[_0x153781*(-0xcc2+-0x399+0x1061*0x1)+(-0x15e2+0xd4+0x1510)]=_0x153781*(-0x861*-0x2+-0xf*-0xd5+0x1d39*-0x1)+(-0x7*0x27d+0x150d*0x1+-0x3a0),_0x4e1dc1[_0x153781*(-0x4b3*0x1+0x151*-0x1+0x60a)+(-0x1*-0x2c9+-0x10f5*0x2+0x7c9*0x4)]=_0x153781*(-0x5b8+0x2045*0x1+-0x1a89),_0x4e1dc1[_0x153781*(0x12f3+-0x2c*-0xa6+-0x2f75)+(-0x31f*-0xb+-0xb52*0x1+-0x7*0x349)]=_0x153781*(-0x251*0x9+-0x19*0x94+0x2351)+(-0xe11+-0x2*0x755+0x1cbd),_0x4e1dc1[_0x153781*(-0x1f3d+-0x24bb+-0x3*-0x16aa)+(0x9fd*0x3+-0x1966+-0x48c)]=_0x153781*(0x17f6+0xdf5+-0x1*0x25e7)+(-0x11ad+-0x3*0x288+0x652*0x4);this['device']=_0x361914,this['buffer']=new Is(_0x361914,_0x5e5ffd,_0x567bb2*(0x68*0x34+-0x231*-0x2+-0x1*0x197e),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x1a*-0x53+-0x255f+0x1cf5)),this['indexBuffe'+'r']=new br(_0x361914,Yi,_0x567bb2*(-0x499+0xbcd+-0x72e),ms,_0x4e1dc1),this['prim']={'type':js,'indexed':!(-0x9b*-0x1d+0x548*0x4+-0x26af),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x1e5*0x3+0x9*0x50+-0x87f,this['mesh']=new Ge(_0x361914),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x1037+0x319*-0x2+0x1669]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x43a8aa=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x43a8aa,_0x43a8aa['cull']=bt,_0x43a8aa['depthState']=Yt['NODEPTH'],_0x43a8aa['blendState']=new pt(!(-0x1f2b+-0x1*-0x12b+-0x3c*-0x80),fs,jh,Yh,fs,Ft,Ft),_0x43a8aa['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x43a8aa,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x91*0x43+0x1*-0x221f+-0x3d0)},this['targetSize']={'width':_0x361914['width'],'height':_0x361914['height']};}['quad'](_0xaa3fa1,_0x495588,_0x28a958,_0x3da139,_0x5e78b3,_0x3e7e5c,_0x55a30b,_0x3b8a7c,_0x1944c4,_0x206ac4=-0x3*0x7a2+0x8f9*0x2+0x4f4){const _0x28bae6=this['targetSize']['width'],_0x477365=this['targetSize']['height'],_0x218944=_0xaa3fa1/_0x28bae6,_0x328e39=_0x495588/_0x477365,_0x5d0c88=(_0xaa3fa1+_0x28a958)/_0x28bae6,_0x83904f=(_0x495588+_0x3da139)/_0x477365,_0x456e34=_0x1944c4['width'],_0x384dc3=_0x1944c4['height'],_0x33e5d6=_0x5e78b3/_0x456e34,_0x31bdd5=_0x3e7e5c/_0x384dc3,_0x74069f=(_0x5e78b3+(_0x55a30b??_0x28a958))/_0x456e34,_0x2cbd65=(_0x3e7e5c+(_0x3b8a7c??_0x3da139))/_0x384dc3;this['data']['set']([_0x218944,_0x328e39,_0x206ac4,_0x33e5d6,_0x31bdd5,-0xaa6+0xa25+-0x2b*-0x3,0xfd9*0x1+-0x14ca+0x73*0xb,_0x5d0c88,_0x328e39,_0x206ac4,_0x74069f,_0x31bdd5,-0x149*0xf+0xbd3*0x1+-0x17*-0x53,-0x5d*-0x53+-0xf07+0x10*-0xf2,_0x5d0c88,_0x83904f,_0x206ac4,_0x74069f,_0x2cbd65,0x95*-0x13+-0xa3*-0x26+0x1*-0xd22,0x3e5+0x1f06*-0x1+-0xd91*-0x2,_0x218944,_0x83904f,_0x206ac4,_0x33e5d6,_0x2cbd65,0x1*0x24bb+-0xdce+-0x16ed,0x77c+-0xc38+0x4bd],(0xccb+0x2326+-0x2fd5)*this['quads']),this['quads']++,this['prim']['count']+=-0x91+-0x2360+-0x3ff*-0x9;}['startFrame'](){this['quads']=-0x2577+-0x2578+0x4aef,this['prim']['count']=0x54d*-0x1+0x1ac8+-0x157b,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x3b9df7,_0x3ce7f0,_0x4aa725,_0x451afe,_0x44536e,_0x1158d2){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x44536e,0x1109+0x2662*0x1+0x376b*-0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x4aa725),this['material']['setParamet'+'er']('wordsTex',_0x451afe),_0x3b9df7['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x3ce7f0);}}class N0{constructor(_0x10bf5c,_0x4cb57e){const _0x3b52f3=_0x10bf5c['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x3b52f3['height']/_0x3b52f3['maxPixelRa'+'tio'],_0x4cb57e={...N0['getDefault'+'Options'](),..._0x4cb57e},this['options']=_0x4cb57e,this['initGraphs'](_0x10bf5c,_0x3b52f3,_0x4cb57e);const _0x2fbdec=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x352484=>_0x352484['name']))['concat'](_0x4cb57e['stats']?_0x4cb57e['stats']['map'](_0x57b3bc=>_0x57b3bc['unitsName']):[])['filter'](_0x5a9c92=>!!_0x5a9c92));this['wordAtlas']=new AU(_0x3b52f3,_0x2fbdec),this['sizes']=_0x4cb57e['sizes'],this['_activeSiz'+'eIndex']=_0x4cb57e['startSizeI'+'ndex'];const _0x4d2088=document['createElem'+'ent']('div');_0x4d2088['setAttribu'+'te']('id','mini-stats'),_0x4cb57e['position']==='top'?_0x4d2088['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x4d2088['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x4d2088['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x4d2088),_0x4d2088['addEventLi'+'stener']('mouseenter',_0x50f5c7=>{this['opacity']=-0x3*0xc11+0x28d+-0x5*-0x6bb;}),_0x4d2088['addEventLi'+'stener']('mouseleave',_0x2418b2=>{this['opacity']=0xa5f+0x2284+0x1*-0x2ce3+0.7;}),_0x4d2088['addEventLi'+'stener']('click',_0x3c1f23=>{_0x3c1f23['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x12b3+0x209*-0x3+-0xc97))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x3b52f3['on']('resizecanv'+'as',this['updateDiv'],this),_0x3b52f3['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x10bf5c['on']('postrender',this['postRender'],this),this['app']=_0x10bf5c,this['drawLayer']=_0x10bf5c['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x3b52f3,this['render2d']=new IU(_0x3b52f3),this['div']=_0x4d2088,this['width']=0x1bac+0x623*-0x4+0xa*-0x50,this['height']=-0x1*0x26dc+0xb74+-0x4*-0x6da,this['gspacing']=0x22b5+-0x11bd+0x10f6*-0x1,this['clr']=[-0xd1e*0x1+-0x1da5+0x2ac4,0x29f*-0xd+0x10ab*-0x1+0x32bf,-0x13e0+0x1a6*-0xb+0x2603,-0x2c*0x15+0x1*0xd43+-0x9a7+0.5],this['_enabled']=!(-0xb7*-0x36+-0x24*-0x5e+0x6*-0x8a3),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x483f4c=>_0x483f4c['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1cbd+-0x2372+0x1*0x6b6)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1*0xf95+0x25ec+0x3581*-0x1)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x6db+-0x1f8b+0x18b0)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x13*0x1c0+0x26de+0x2cf*-0x2),'watermark':0x21},'gpu':{'enabled':!(0x10ea+0x133e+0x34*-0xb2),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0xf86745){this['_activeSiz'+'eIndex']=_0xf86745,this['gspacing']=this['sizes'][_0xf86745]['spacing'],this['resize'](this['sizes'][_0xf86745]['width'],this['sizes'][_0xf86745]['height'],this['sizes'][_0xf86745]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x31972f){this['clr'][0x37*0x47+-0x1*-0x1992+-0x2*0x1468]=_0x31972f;}get['opacity'](){return this['clr'][-0x12e1+0xd1d*0x1+-0x5c7*-0x1];}get['overallHei'+'ght'](){const _0x29e38a=this['graphs'],_0x388348=this['gspacing'];return this['height']*_0x29e38a['length']+_0x388348*(_0x29e38a['length']-(-0x7f7+-0x1*0x1561+0x2ab*0xb));}set['enabled'](_0x4fbe61){if(_0x4fbe61!==this['_enabled']){this['_enabled']=_0x4fbe61;for(let _0xee6bf6=0xb58+-0x117*0x1b+0x1215;_0xee6bf6<this['graphs']['length'];++_0xee6bf6)this['graphs'][_0xee6bf6]['enabled']=_0x4fbe61,this['graphs'][_0xee6bf6]['timer']['enabled']=_0x4fbe61;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x5619c8,_0x3bf65a,_0x553fc0){if(this['graphs']=[],_0x553fc0['cpu']['enabled']){const _0x4cb28c=new wU(_0x5619c8),_0x1e625c=new Uf('CPU',_0x5619c8,_0x553fc0['cpu']['watermark'],_0x553fc0['textRefres'+'hRate'],_0x4cb28c);this['graphs']['push'](_0x1e625c);}if(_0x553fc0['gpu']['enabled']){const _0x155024=new EU(_0x3bf65a),_0x22f478=new Uf('GPU',_0x5619c8,_0x553fc0['gpu']['watermark'],_0x553fc0['textRefres'+'hRate'],_0x155024);this['graphs']['push'](_0x22f478);}_0x553fc0['stats']&&_0x553fc0['stats']['forEach'](_0x474df9=>{const _0x112dbd=new bU(_0x5619c8,_0x474df9['stats'],_0x474df9['decimalPla'+'ces'],_0x474df9['unitsName'],_0x474df9['multiplier']),_0x161bb6=new Uf(_0x474df9['name'],_0x5619c8,_0x474df9['watermark'],_0x553fc0['textRefres'+'hRate'],_0x112dbd);this['graphs']['push'](_0x161bb6);});const _0x3e078d=_0x553fc0['sizes']['reduce']((_0x57c535,_0x189bf7)=>_0x189bf7['width']>_0x57c535?_0x189bf7['width']:_0x57c535,-0x225e+0x1191+0x10cd);this['texture']=new _e(_0x3bf65a,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x3e078d),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x8a2+0x3*0x1b9+0x128*0x3),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x2ab1ee,_0x496485)=>{_0x2ab1ee['texture']=this['texture'],_0x2ab1ee['yOffset']=_0x496485;});}['render'](){const _0x286b2f=this['graphs'],_0x38d5bd=this['wordAtlas'],_0xb723ad=this['render2d'],_0x4b8b74=this['width'],_0xa8139b=this['height'],_0x30b07b=this['gspacing'];_0xb723ad['startFrame']();for(let _0x45b53c=0x18b4+0x1*-0x6e5+-0x11cf*0x1;_0x45b53c<_0x286b2f['length'];++_0x45b53c){const _0x25ab56=_0x286b2f[_0x45b53c];let _0x43b7b9=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x45b53c+(-0x208a+0x307*0x9+0x54c))*(_0xa8139b+_0x30b07b):_0x45b53c*(_0xa8139b+_0x30b07b);_0x25ab56['render'](_0xb723ad,-0x21e5+0x13d7+0xe0e,_0x43b7b9,_0x4b8b74,_0xa8139b);let _0x5c57cf=-0x3*0x593+-0x1a*-0x139+-0xf10;_0x43b7b9+=_0xa8139b-(-0x15fe+-0x18ba+0x2ec5),_0x5c57cf+=_0x38d5bd['render'](_0xb723ad,_0x25ab56['name'],_0x5c57cf,_0x43b7b9)+(-0x813+-0x2137+0x2954);const _0x4f3426=_0x25ab56['timingText'];for(let _0x34ad4d=0x225d+0x189f+-0x3afc;_0x34ad4d<_0x4f3426['length'];++_0x34ad4d)_0x5c57cf+=_0x38d5bd['render'](_0xb723ad,_0x4f3426[_0x34ad4d],_0x5c57cf,_0x43b7b9);_0x25ab56['timer']['unitsName']&&(_0x5c57cf+=-0x1*0x1e7c+0x1ef+-0x2*-0xe48,_0x38d5bd['render'](_0xb723ad,_0x25ab56['timer']['unitsName'],_0x5c57cf,_0x43b7b9));}_0xb723ad['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0xa8139b);}['resize'](_0x4ca5b2,_0x2c3d5e,_0x56dd6d){const _0x1ff44d=this['graphs'];for(let _0x42b4c8=-0x2547+-0x2e0+-0x2827*-0x1;_0x42b4c8<_0x1ff44d['length'];++_0x42b4c8)_0x1ff44d[_0x42b4c8]['enabled']=_0x56dd6d;this['width']=_0x4ca5b2,this['height']=_0x2c3d5e,this['updateDiv']();}['updateDiv'](){const _0x37cb4e=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x37cb4e['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x37cb4e['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x6d87a4=>_0x6d87a4['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x3f71da,_0x47866d,_0x376f83)=>{_0x3f71da['on'](_0x47866d,_0x376f83),this['eventsList']=this['eventsList']['concat']({'e':_0x3f71da,'ty':_0x47866d,'fn':_0x376f83});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x39d2b8,ty:_0x20cccb,fn:_0x42371e})=>{_0x39d2b8['off'](_0x20cccb,_0x42371e);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x24bdb1=>{var _0x560e54;if(console['log']('add\x20xr\x20inp'+'ut',_0x24bdb1['handedness']),!((_0x560e54=_0x24bdb1['profiles'])!=null&&_0x560e54['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x36cc5d=_0x24bdb1['profiles']['map'](async _0x289169=>{var _0x335a4d;const _0x4f2ca7=this['basePath']+'/'+_0x289169+('/profile.j'+'son');try{const _0x133845=await fetch(_0x4f2ca7);if(!_0x133845['ok'])return null;const _0x1faa07=await _0x133845['json'](),_0x46b1a4=((_0x335a4d=_0x1faa07['layouts'][_0x24bdb1['handedness']])==null?void(0x63b+-0x26a*0x8+-0xc5*-0x11):_0x335a4d['assetPath'])||'',_0x495371=this['basePath']+'/'+_0x1faa07['profileId']+'/'+_0x24bdb1['handedness']+_0x46b1a4['replace'](/^\/?(left|right)/,''),_0x502fa4=await new Promise((_0x1c1dc4,_0x2653f2)=>{this['app']['assets']['loadFromUr'+'l'](_0x495371,'container',(_0x18cb10,_0x33e49a)=>{_0x18cb10?_0x2653f2(_0x18cb10):_0x1c1dc4(_0x33e49a);});});return{'profileId':_0x289169,'asset':_0x502fa4};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x289169),null;}}),_0x3008dc=(await Promise['all'](_0x36cc5d))['find'](_0x188d2d=>_0x188d2d!==null);if(_0x3008dc){const {asset:_0x2d66e8}=_0x3008dc,_0x155feb=_0x2d66e8['resource']['instantiat'+'eRenderEnt'+'ity']();_0x155feb['name']='Armature_'+_0x24bdb1['handedness'],this['app']['root']['addChild'](_0x155feb),this['preEntitie'+'s']['set'](_0x24bdb1,_0x155feb);const _0x5ee8d8=new Map();if(_0x24bdb1['hand'])for(const _0x4e0d42 of _0x24bdb1['hand']['joints']){const _0x58111a=_0x155feb['findByName'](_0x4e0d42['id']);_0x58111a&&_0x5ee8d8['set'](_0x4e0d42,_0x58111a);}this['controller'+'s']['set'](_0x24bdb1,{'entity':_0x155feb,'jointMap':_0x5ee8d8});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x18c260=>{var _0x4ddbff;const _0x424038=this['controller'+'s']['get'](_0x18c260);_0x424038&&((_0x4ddbff=_0x424038['entity'])==null||_0x4ddbff['destroy'](),this['app']['root']['removeChil'+'d'](_0x424038==null?void(-0x1d8a+-0x10d6+-0x173*-0x20):_0x424038['entity']),this['controller'+'s']['delete'](_0x18c260));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x5f58f6,_0x69d556,_0x2b06ca;const _0x51abde=this['app'];(_0x5f58f6=this['controller'+'s'])==null||_0x5f58f6['forEach'](_0x4c5d5e=>{var _0x237908;_0x51abde['root']['removeChil'+'d'](_0x4c5d5e==null?void(-0x4*-0x5ad+0x2*0x33b+-0x2*0xe95):_0x4c5d5e['entity']),(_0x237908=_0x4c5d5e['entity'])==null||_0x237908['destroy']();}),(_0x69d556=this['controller'+'s'])==null||_0x69d556['clear'](),(_0x2b06ca=this['preEntitie'+'s'])==null||_0x2b06ca['forEach'](_0x47eec8=>{_0x51abde['root']['removeChil'+'d'](_0x47eec8),_0x47eec8==null||_0x47eec8['destroy']();});const _0x29809b=()=>{const _0x6e21a0=_0x51abde['root']['findByName']('Armature_l'+'eft'),_0x1fee5d=_0x51abde['root']['findByName']('Armature_r'+'ight');for(_0x6e21a0&&_0x51abde['root']['removeChil'+'d'](_0x6e21a0),_0x1fee5d&&_0x51abde['root']['removeChil'+'d'](_0x1fee5d);_0x51abde['root']['findByName']('Armature_l'+'eft')||_0x51abde['root']['findByName']('Armature_r'+'ight');)_0x29809b();};_0x29809b();});}['update'](_0x2eb7ea){var _0x4f752d;if((_0x4f752d=this['app']['xr'])!=null&&_0x4f752d['active']){for(const [_0x221240,{entity:_0x16d938,jointMap:_0x4eb34e}]of this['controller'+'s'])if(_0x221240['hand']){for(const [_0x5b3605,_0x3c1cf2]of _0x4eb34e)_0x3c1cf2['setPositio'+'n'](_0x5b3605['getPositio'+'n']()),_0x3c1cf2['setRotatio'+'n'](_0x5b3605['getRotatio'+'n']());}else _0x16d938['setPositio'+'n'](_0x221240['getPositio'+'n']()),_0x16d938['setRotatio'+'n'](_0x221240['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x1*0x1945+-0x3e5*0x3+-0xd95)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x233*0x3+0x11a2+0x1*-0x183b,-0x6ed+0x73*-0x4+0x8ba,0x247b+-0x1ab6+-0x9c5)),h(this,'invalidCol'+'or',new ie(-0x3*-0xae3+0x1*-0x124+-0x1f84,-0x1*0x146b+0x20ff*0x1+-0xc94,0x3aa+-0x1609+0x125f)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x4ea*0x1+-0x18*0x24+-0x1*0x189)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x2352+-0xc5b+-0x16f6));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x2fc668=>{const _0x578022=()=>{this['activePoin'+'ters']['set'](_0x2fc668,!(-0x61b+-0x6*-0x24d+-0x7b3));},_0x31209e=()=>{this['activePoin'+'ters']['set'](_0x2fc668,!(-0x4c3+0x1471+0xfad*-0x1)),this['tryTelepor'+'t'](_0x2fc668);};_0x2fc668['on']('selectstar'+'t',_0x578022),_0x2fc668['on']('selectend',_0x31209e),this['inputHandl'+'ers']['set'](_0x2fc668,{'handleSelectStart':_0x578022,'handleSelectEnd':_0x31209e}),this['inputSourc'+'es']['add'](_0x2fc668);}),this['app']['xr']['input']['on']('remove',_0x295f8d=>{const _0x32caf6=this['inputHandl'+'ers']['get'](_0x295f8d);_0x32caf6&&(_0x295f8d['off']('selectstar'+'t',_0x32caf6['handleSele'+'ctStart']),_0x295f8d['off']('selectend',_0x32caf6['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x295f8d)),this['activePoin'+'ters']['delete'](_0x295f8d),this['inputSourc'+'es']['delete'](_0x295f8d);});}['findPlaneI'+'ntersectio'+'n'](_0x2b33e7,_0x473cb4){if(Math['abs'](_0x473cb4['y'])<0x14fe*0x1+-0x1233+-0x2cb+0.00001)return null;const _0x45014f=-_0x2b33e7['y']/_0x473cb4['y'];return _0x45014f<-0xe8f+0x3*0xa8a+-0x110f?null:new D(_0x2b33e7['x']+_0x473cb4['x']*_0x45014f,0x7*-0x57+0x991+-0x730,_0x2b33e7['z']+_0x473cb4['z']*_0x45014f);}['tryTelepor'+'t'](_0x4b4614){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0xb65b0=_0x4b4614['getOrigin'](),_0x116fa7=_0x4b4614['getDirecti'+'on'](),_0x5f54fa=this['findPlaneI'+'ntersectio'+'n'](_0xb65b0,_0x116fa7);if(_0x5f54fa){const _0x47f8be=this['entity']['getPositio'+'n']()['y'];_0x5f54fa['y']=_0x47f8be,this['entity']['setPositio'+'n'](_0x5f54fa);}}}['update'](){for(const _0x2cbce2 of this['inputSourc'+'es']){const _0x189122=_0x2cbce2['getOrigin'](),_0x855653=_0x2cbce2['getDirecti'+'on']();if(_0x2cbce2['gamepad']&&!_0x2cbce2['hand']){const _0x4e5f39=_0x2cbce2['gamepad'];for(let _0x2e3d0d=0xe78+-0x1673+-0x1*-0x7fb;_0x2e3d0d<_0x4e5f39['buttons']['length'];++_0x2e3d0d)_0x4e5f39['buttons'][_0x2e3d0d]['pressed']&&console['log'](_0x2e3d0d,_0x2cbce2['handedness']),_0x2cbce2['handedness']==='right'&&_0x2e3d0d===-0x71e+0x44b*-0x5+-0x1c96*-0x1&&(this['teleportOp'+'enStatus']=_0x4e5f39['buttons'][-0x2087+-0x1d7f+-0x1*-0x3e07]['pressed']),_0x2cbce2['handedness']==='left'&&_0x2e3d0d===-0x2516+0x167*0x8+-0x1*-0x19df&&(this['teleportLe'+'ftOpenStat'+'us']=_0x4e5f39['buttons'][0x150+-0x701*-0x5+-0x2454]['pressed']);}const _0x4aa099=_0x2cbce2['handedness'];if(!this['enableDraw'+'Ray']&&(_0x4aa099==='right'&&!this['teleportOp'+'enStatus']||_0x4aa099==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x41dbdd=this['findPlaneI'+'ntersectio'+'n'](_0x189122,_0x855653);if(this['enableDraw'+'Ray']||!_0x41dbdd){const _0x204799=_0x189122['clone']()['add'](_0x855653['clone']()['mulScalar'](-0x1eda+0x568*0x2+0x146e)),_0x373bcc=this['enableDraw'+'Ray']?_0x2cbce2['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x189122,_0x204799,_0x373bcc);}else this['app']['drawLine'](_0x189122,_0x41dbdd,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x41dbdd);}}['drawTelepo'+'rtIndicato'+'r'](_0x19386a){for(let _0x2e1863=-0x1*0xaa9+0x1*0x14b2+-0x1*0xa09;_0x2e1863<-0x98f+-0x1*0xf2b+0x18da;_0x2e1863++){const _0x4722af=_0x2e1863/(0x1735+-0x4*-0x69a+-0x317d)*Math['PI']*(0x2042+-0x1*-0x1d53+-0x3d93),_0x174281=(_0x2e1863+(0x53*-0x11+-0x192b+0x1eaf*0x1))/(-0x877+0x186b+0xfd4*-0x1)*Math['PI']*(-0x54d*-0x1+0xdbd*-0x2+0x162f),_0x569e05=_0x19386a['x']+Math['cos'](_0x4722af)*(0x7f*-0x35+0x12fa+0x751+0.2),_0x146923=_0x19386a['z']+Math['sin'](_0x4722af)*(0x20e3+0xbf*-0x16+-0x1079+0.2),_0x4e6597=_0x19386a['x']+Math['cos'](_0x174281)*(0x152d+-0x1*0x9a0+-0xb8d+0.2),_0xaa45e3=_0x19386a['z']+Math['sin'](_0x174281)*(-0x2*0x26b+0x1*0x50b+-0x35*0x1+0.2);this['app']['drawLine'](new D(_0x569e05,0x146+-0x2*0x923+0x1100+0.01,_0x146923),new D(_0x4e6597,0x141c+-0x228e+0xe72*0x1+0.01,_0xaa45e3),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x37d061(_0x48a728){function _0xe21fe8(_0x58be65){if(typeof _0x58be65==='string')return function(_0x1323c5){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x58be65/_0x58be65)['length']!==0x2*-0x1163+0x2062*0x1+0x265||_0x58be65%(-0xe06+-0x182c+-0x6*-0x661)===0x52f+0xfb+-0x62a?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0xe21fe8(++_0x58be65);}try{if(_0x48a728)return _0xe21fe8;else _0xe21fe8(-0x129d+-0xc*0xdf+0x427*0x7);}catch(_0x4f52c3){}}