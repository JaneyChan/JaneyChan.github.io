const _0x5e5de6=(function(){let _0x15597a=!![];return function(_0xc8d7df,_0x34aef6){const _0x36aea7=_0x15597a?function(){if(_0x34aef6){const _0x2a1aef=_0x34aef6['apply'](_0xc8d7df,arguments);return _0x34aef6=null,_0x2a1aef;}}:function(){};return _0x15597a=![],_0x36aea7;};}()),_0x16c170=_0x5e5de6(this,function(){return _0x16c170['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x16c170)['search']('(((.+)+)+)'+'+$');});_0x16c170();const _0x14dc66=(function(){let _0xe7008b=!![];return function(_0x154c2d,_0x2e6237){const _0x14cf50=_0xe7008b?function(){if(_0x2e6237){const _0x1b62b8=_0x2e6237['apply'](_0x154c2d,arguments);return _0x2e6237=null,_0x1b62b8;}}:function(){};return _0xe7008b=![],_0x14cf50;};}());(function(){_0x14dc66(this,function(){const _0x13361a=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x79a665=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x2f925e=_0x3290de('init');!_0x13361a['test'](_0x2f925e+'chain')||!_0x79a665['test'](_0x2f925e+'input')?_0x2f925e('0'):_0x3290de();})();}());const _0x590a8e=(function(){let _0x44cdb2=!![];return function(_0xaee02c,_0x5bb25f){const _0x21da99=_0x44cdb2?function(){if(_0x5bb25f){const _0x543758=_0x5bb25f['apply'](_0xaee02c,arguments);return _0x5bb25f=null,_0x543758;}}:function(){};return _0x44cdb2=![],_0x21da99;};}()),_0x29dcc8=_0x590a8e(this,function(){let _0x41b6be;try{const _0xaf051a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x41b6be=_0xaf051a();}catch(_0x3d534e){_0x41b6be=window;}const _0x35e06c=_0x41b6be['console']=_0x41b6be['console']||{},_0x408fdd=['log','warn','info','error','exception','table','trace'];for(let _0x1c970c=-0xb9*0x29+-0x1fe*0xb+-0xcb*-0x41;_0x1c970c<_0x408fdd['length'];_0x1c970c++){const _0x4095d3=_0x590a8e['constructo'+'r']['prototype']['bind'](_0x590a8e),_0x5cd776=_0x408fdd[_0x1c970c],_0x559ed6=_0x35e06c[_0x5cd776]||_0x4095d3;_0x4095d3['__proto__']=_0x590a8e['bind'](_0x590a8e),_0x4095d3['toString']=_0x559ed6['toString']['bind'](_0x559ed6),_0x35e06c[_0x5cd776]=_0x4095d3;}});_0x29dcc8();var k0=Object['defineProp'+'erty'],U0=(_0x22f398,_0x1799aa,_0x4b00c6)=>_0x1799aa in _0x22f398?k0(_0x22f398,_0x1799aa,{'enumerable':!(-0x12*0x139+0x240b+0xe09*-0x1),'configurable':!(-0xc7e+-0x3d4+0x1052),'writable':!(-0x8a0+0x1d*0x40+0x160),'value':_0x4b00c6}):_0x22f398[_0x1799aa]=_0x4b00c6,h=(_0x3fc53c,_0x1725d6,_0x169c05)=>U0(_0x3fc53c,typeof _0x1725d6!='symbol'?_0x1725d6+'':_0x1725d6,_0x169c05),B0=(_0x16fa6b=>(_0x16fa6b['HIGH']='high',_0x16fa6b['MEDIUM']='medium',_0x16fa6b['LOW']='low',_0x16fa6b['LOW_VR']='lowVR',_0x16fa6b))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x5047ae=navigator['userAgent']['includes']('Macintosh'),_0x54ab3d=navigator['maxTouchPo'+'ints']===-0x15f7*-0x1+-0x3eb+-0x41*0x47,_0x6dea13=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x5047ae&&_0x54ab3d&&_0x6dea13;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x300a92=navigator['userAgent']['toLowerCas'+'e']();return _0x300a92['includes']('pico')||_0x300a92['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x221030=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x3daf6a=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x221030)?'iOS':/android/['test'](_0x221030)?'Android':/mac/['test'](_0x3daf6a)?'macOS':/win/['test'](_0x3daf6a)?'Windows':/linux/['test'](_0x3daf6a)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x94f+-0x1*0xed5+0x5b3,this['MEDIUM_FPS'+'_THRESHOLD']=-0x4*-0x955+-0x8*-0x2ea+-0x3c86,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x37c*-0x4+-0xe9c+-0x10*-0x1c9)*(-0x32f+-0x574*0x1+0xca3)*(-0x1fc2+-0x236d*0x1+0x472f*0x1)*(0x17c9+0x1*0x1d26+-0x30ef*0x1),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(-0x40*0x88+0x1c61*-0x1+0x3e63)*(0x3*-0x1e7+-0x13*-0x6a+0x1d7)*(0xb+-0x266+0x1*0x65b)*(-0x25dc*0x1+-0x2463+0x4e3f),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x28e50a){const _0x2d81ea=_0x28e50a['toLowerCas'+'e']();for(const [_0x140c57,_0x453be0]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x2d81ea['includes'](_0x140c57))return _0x453be0*(-0xff7+-0x1692+-0x26ed*-0x1);return 0xfc2+0x1*-0x1499+0x509;}['getModelSc'+'ore'](_0x3d6dcc,_0x5d9f39){const _0x7f2586=_0x3d6dcc['toLowerCas'+'e'](),_0xa734b4=_0x5d9f39['toLowerCas'+'e']();for(const [_0x3537e0,_0x129545]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x7f2586['includes'](_0x3537e0)&&_0x129545['some'](_0x321776=>_0x321776['test'](_0xa734b4)))return-0x2*-0x2bd+0x94b+-0xe6b;for(const [_0x45a4e5,_0x5b3826]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x7f2586['includes'](_0x45a4e5)&&_0x5b3826['some'](_0x588a65=>_0x588a65['test'](_0xa734b4)))return-0x1987+-0x1f*-0x11b+0x1*-0x878;for(const [_0x596dc7,_0x3d98a2]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x7f2586['includes'](_0x596dc7)&&_0x3d98a2['some'](_0x4af7bd=>_0x4af7bd['test'](_0xa734b4)))return 0x15e4+-0x1a50*0x1+0x49e;return 0x1553+0x1*-0xc67+0x4*-0x22c;}['getMemoryS'+'core'](_0x196fdb){return _0x196fdb?_0x196fdb>=0x7*0x4de+0x3*0x15c+0x8ba?0x1fcf+-0x259+0x2*-0xe89:_0x196fdb>=0x2*0x196+0x7f+0x1b95?0x26ea+0x182*-0x2+0x5b*-0x64:_0x196fdb>=-0xad5+-0x7f7*-0x2+0x1*0x1257?0x686*0x3+-0x1*0xa57+-0x2f9*0x3:_0x196fdb>=0x8*0x334+0x577+0xf77*-0x1?-0x8b3*-0x2+0x23c9*0x1+-0x34e9:_0x196fdb>=0x8e1+-0x94e+0x83d*0x1?-0x66a*0x6+0x12*-0x18+-0x6*-0x6bc:0x1*-0xfbb+0x632+-0x2f*-0x35:-0xca3+0x2*-0xf6f+-0xe91*-0x3;}['getDriverS'+'core'](_0x1e2151){if(!_0x1e2151)return-0x1*0xbf5+0x1d14+0x1*-0x10ed;const _0x41e320=_0x1e2151['match'](/20[2-9][0-9]/);if(_0x41e320){const _0x22efa1=parseInt(_0x41e320[-0x209*-0x1+0x1*-0xd9+0x2*-0x98]);if(_0x22efa1>=0xab1*-0x1+0xf63+0x335)return 0x91b+-0x3e0+-0x4d7;if(_0x22efa1>=0x16dc+0x1af6+-0x29ec)return-0x96c+0x1c1*-0x9+-0x1985*-0x1;if(_0x22efa1>=-0x311*-0x1+0x1857+-0x1383)return 0x1cad+0x2441*0x1+-0x40b2;}return 0x4*-0x159+-0xa62+0x1c*0x92;}['evaluateGP'+'U'](_0x3b342c){const _0x1b2aae=this['getVendorS'+'core'](_0x3b342c['vendor']),_0x13176f=this['getModelSc'+'ore'](_0x3b342c['vendor'],_0x3b342c['renderer']),_0x9853ef=this['getMemoryS'+'core'](_0x3b342c['memory']),_0xbd3c03=this['getDriverS'+'core'](_0x3b342c['driverVers'+'ion']);return console['log']('GPU:',_0x3b342c['vendor']),console['log']('GPU:',_0x3b342c['renderer']),console['log']('GPU:',_0x3b342c['driverVers'+'ion']),console['table'](_0x3b342c),_0x1b2aae*(-0x1*-0x9db+-0x1da0+-0x2d3*-0x7+0.3)+_0x13176f*(0x21*0x7a+-0xb58+-0x462*0x1+0.4)+_0x9853ef*(-0x68*-0x5d+0x697+0x133*-0x25+0.2)+_0xbd3c03*(0x1804+0xb*-0x25a+0x1da+0.1);}['evaluateCP'+'U'](){const _0x359247=navigator['hardwareCo'+'ncurrency'];return _0x359247>=-0x205e+0x14bd+0xba9?-0x26f5+-0x83*-0x2f+-0x4f9*-0x3:_0x359247>=-0x8*0x1c0+-0x2184+0x34*0xea?-0x254b+0x260c+0xbf*-0x1:0x1*0x3b+0x3f*0x77+0x5e7*-0x5;}['evaluateMe'+'mory'](_0x43b9b5){return typeof _0x43b9b5=='string'?0x810*0x4+0x841+0x1*-0x2881:_0x43b9b5['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x1469b2){const _0xadf03a=WS(),_0x5912e1=GS(),_0x29fa84=HS();if(_0x5912e1)return'medium';if(_0x29fa84)return'lowVR';if(_0xadf03a)return'low';const _0x31a8bb=_0x1469b2['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x16d4+-0x1ba*0x8+0x24a7:_0x1469b2['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?-0x2de+0x985+-0x6a5:-0x3*-0x576+0xe07+-0x1e68;let _0x4a9382=0x1*0x454+0x139f+-0x17f2;typeof _0x1469b2['gpuInfo']!='string'&&(_0x4a9382=this['evaluateGP'+'U'](_0x1469b2['gpuInfo']));const _0x116e99=this['evaluateCP'+'U'](),_0x44aea9=this['evaluateMe'+'mory'](_0x1469b2['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x2eb*0xd+0x9da+-0x98e*0x5:this['evaluateMe'+'mory'](_0x1469b2['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x1048+-0x2*0x3e5+0x605*0x4:0x3d2*-0x7+-0x1*-0x14fd+0x5c2,_0x5ba073=_0x31a8bb+_0x4a9382+_0x116e99+_0x44aea9;return console['log']('GPU:',_0x31a8bb,_0x4a9382,_0x116e99,_0x44aea9),_0x5ba073>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x5ba073>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x52d57c){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x52d57c];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0xc009a){var _0x293fad=Date['now']();return setTimeout(function(){_0xc009a({'didTimeout':!(-0x1844+-0x8*-0x2f1+0xbd),'timeRemaining':function(){return Math['max'](0xdf*0x3+-0x18fe+0x11*0x151,-0x43e+0x971+0x7*-0xb7-(Date['now']()-_0x293fad));}});},-0x21b*-0x5+0x8e*0x2b+-0x2260);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x52c260){clearTimeout(_0x52c260);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x2e8c15,_0x10bd5f){for(const _0x276f89 in _0x10bd5f){const _0x3568bc=_0x10bd5f[_0x276f89];Array['isArray'](_0x3568bc)?_0x2e8c15[_0x276f89]=ah([],_0x3568bc):_0x3568bc&&typeof _0x3568bc=='object'?_0x2e8c15[_0x276f89]=ah({},_0x3568bc):_0x2e8c15[_0x276f89]=_0x3568bc;}return _0x2e8c15;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x285131=>{const _0xefa818=Math['random']()*(-0x2*-0xf68+-0x1*-0x83+-0x1f43)|-0xc6c+-0x56e*0x4+0x2224;return(_0x285131==='x'?_0xefa818:_0xefa818&0xf41+-0x685+-0x8b9|-0x1141+-0x1b63+0x2cac)['toString'](0x31d*0x5+0x862+-0x17e3);});}},xe={'delimiter':'/','join'(..._0x5107f1){let _0x2d699a=_0x5107f1[-0x19cd+-0x2*-0xc7e+-0xd1*-0x1];for(let _0x1a92b2=0x1b73+0xc30+-0x8b*0x49;_0x1a92b2<_0x5107f1['length']-(-0x792*0x2+-0x1109*-0x2+-0x64f*0x3);_0x1a92b2++){const _0x2033fb=_0x5107f1[_0x1a92b2],_0x21cf8c=_0x5107f1[_0x1a92b2+(0x388+0xd00+0x1087*-0x1)];if(_0x21cf8c[0x124c*0x1+-0x1*-0x2351+-0x359d]===xe['delimiter']){_0x2d699a=_0x21cf8c;continue;}_0x2033fb&&_0x21cf8c&&_0x2033fb[_0x2033fb['length']-(-0x18*0x28+-0x1f24+-0x22e5*-0x1)]!==xe['delimiter']&&_0x21cf8c[-0x3*0x17a+-0x1c8d*0x1+-0x20fb*-0x1]!==xe['delimiter']?_0x2d699a+=xe['delimiter']+_0x21cf8c:_0x2d699a+=_0x21cf8c;}return _0x2d699a;},'normalize'(_0x10420d){const _0x31a208=_0x10420d['startsWith'](xe['delimiter']),_0x503e41=_0x10420d['endsWith'](xe['delimiter']),_0x3c60a5=_0x10420d['split']('/');let _0x4841d4='',_0x2dbed1=[];for(let _0x235583=-0x1a22+-0x949+0x236b*0x1;_0x235583<_0x3c60a5['length'];_0x235583++)if(_0x3c60a5[_0x235583]!==''&&_0x3c60a5[_0x235583]!=='.'){if(_0x3c60a5[_0x235583]==='..'&&_0x2dbed1['length']>0x706+0x1*-0xf1b+0x815){_0x2dbed1=_0x2dbed1['slice'](-0x11*0x1e9+0x90d+-0x2*-0xbb6,_0x2dbed1['length']-(0xf0c+-0x2e0*0x4+-0x38a));continue;}_0x235583>-0x760*-0x4+-0x2248+-0x6*-0xcc&&_0x2dbed1['push'](xe['delimiter']),_0x2dbed1['push'](_0x3c60a5[_0x235583]);}return _0x4841d4=_0x2dbed1['join'](''),!_0x31a208&&_0x4841d4[0x17be+0x8ae*-0x1+-0x3c4*0x4]===xe['delimiter']&&(_0x4841d4=_0x4841d4['slice'](-0x1fe6+0x80d+0x17da)),_0x503e41&&_0x4841d4[_0x4841d4['length']-(0x1fd5+0xb*-0x1c+-0x4*0x7a8)]!==xe['delimiter']&&(_0x4841d4+=xe['delimiter']),_0x4841d4;},'split'(_0x2ddde3){const _0x26c957=_0x2ddde3['lastIndexO'+'f'](xe['delimiter']);return _0x26c957!==-(-0x26ca+0x3*-0xd1+0x293e)?[_0x2ddde3['substring'](0x1*-0x201d+-0x16ae+0x36cb,_0x26c957),_0x2ddde3['substring'](_0x26c957+(0xcb4+0x2007+-0x2cba))]:['',_0x2ddde3];},'getBasename'(_0x2d583c){return xe['split'](_0x2d583c)[-0x21fd+-0x24bf+0xa1b*0x7];},'getDirectory'(_0x405b18){return xe['split'](_0x405b18)[0xfae*0x1+0xf83+0x63d*-0x5];},'getExtension'(_0x36e2e1){const _0x4fa89e=_0x36e2e1['split']('?')[0x1*-0x1fe9+-0x2632*0x1+0x461b]['split']('.')['pop']();return _0x4fa89e!==_0x36e2e1?'.'+_0x4fa89e:'';},'isRelativePath'(_0x4cfdb2){return _0x4cfdb2['charAt'](-0x1f3e*0x1+0xd2b+0x295*0x7)!=='/'&&_0x4cfdb2['match'](/:\/\//)===null;},'extractPath'(_0x2d260d){let _0x3e0332='';const _0x311446=_0x2d260d['split']('/');let _0x10fa9c=0x10*0xd0+-0x792+0x116*-0x5;if(_0x311446['length']>0x6e8+0x36d*-0x3+-0x36*-0x10){if(xe['isRelative'+'Path'](_0x2d260d)){if(_0x311446[-0x5a*-0x47+-0x1dfe+-0x5c*-0xe]==='.'){for(_0x10fa9c=0x128f*0x1+-0x1a42*-0x1+-0x2cd1;_0x10fa9c<_0x311446['length']-(-0x640+0xa11*0x2+0xb*-0x143);++_0x10fa9c)_0x3e0332+=_0x10fa9c===-0x64*0x11+-0x113e+0x17e2?_0x311446[_0x10fa9c]:'/'+_0x311446[_0x10fa9c];}else{if(_0x311446[-0x19b5+-0xb6c+0x1*0x2521]==='..'){for(_0x10fa9c=-0x1964+-0x9a7*0x3+0x3659;_0x10fa9c<_0x311446['length']-(0x2*-0x9ef+-0x2d*0x71+0x27bc);++_0x10fa9c)_0x3e0332+=_0x10fa9c===0x5e*0x17+-0x1*0x1b0f+0x129d?_0x311446[_0x10fa9c]:'/'+_0x311446[_0x10fa9c];}else{for(_0x3e0332='.',_0x10fa9c=-0x1907+0xd3*-0x5+0x1d26;_0x10fa9c<_0x311446['length']-(0x18ff+-0x2667+-0x1*-0xd69);++_0x10fa9c)_0x3e0332+='/'+_0x311446[_0x10fa9c];}}}else{for(_0x10fa9c=0x17a2+0x1*-0x31d+0x1485*-0x1;_0x10fa9c<_0x311446['length']-(-0x39*0x33+-0x2*0x354+-0x1*-0x1204);++_0x10fa9c)_0x3e0332+=_0x10fa9c===-0xe3*0x26+-0x1*-0x417+-0x1*-0x1d9b?_0x311446[_0x10fa9c]:'/'+_0x311446[_0x10fa9c];}}return _0x3e0332;}},J0=()=>{let _0x38b9d6=!(0x16f1*0x1+0x1ecb+0x28f*-0x15);try{const _0x97169a=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x38b9d6=!(-0x2*0x188+-0x17ca+0x1ada),!(-0x3*-0x703+0xf6f+-0x74b*0x5);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x97169a),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x97169a);}catch{}return _0x38b9d6;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x449*-0x3+0x1053+0x6*-0x94),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x15f6d+-0x403*-0x48+0x1a845*-0x1,jS=0x1*-0xaac7+0x3569+0x1*0x1515d,Rm=0x11ed3+-0x162d7*-0x1+-0x1a5aa,rx=-0x10170+-0x186eb*-0x1+-0x1e2c*-0x3,ax=0x1*0x201b+-0x329b+-0x328d*-0x1,Om=0x229f4+-0xb41a+0x7c0c,Fm=0x28b8a+-0x6*0x53d3+-0x15d67*-0x1,nx=-0x1b*0xe67+-0x27355+-0x49*-0x14c5,ox=-0x25edd+-0x2458d+0x69869,lx=0x3723*0x1+0x358f*0x1+-0x4be2,cx=-0x34*0x68+0x183*0x6+0x1*0x2d0d,zf=-0x2*-0xeb19+-0x1*0x16ea1+-0x21*-0x48f,Vf=-0x177c3+0x161c3+0x1140f*0x1;function Gf(_0x35a008,_0x3cf812=-0x1f2a+-0x2152+0x407c){const _0x3f2639=_0x35a008['length'];if(_0x3cf812<0xc*-0x247+0x3*-0x79b+-0x48f*-0xb||_0x3cf812>=_0x3f2639)return null;const _0x10ee62=_0x35a008['charCodeAt'](_0x3cf812);if(_0x3f2639>0x33d*0x4+-0xfbb*-0x1+0xe57*-0x2&&_0x10ee62>=Bf&&_0x10ee62<=jS){const _0x2775e1=_0x35a008['charCodeAt'](_0x3cf812+(-0x1fab+-0x1f94+0x3f40));if(_0x2775e1>=Rm&&_0x2775e1<=rx)return{'code':(_0x10ee62-Bf)*(-0x1ebd+0x13db+0xee2)+_0x2775e1-Rm+(-0x1660e+-0x1*0x82f2+-0x4a8*-0xa0),'long':!(-0x9*0x3c1+-0x11*0xa6+-0x1*-0x2ccf)};}return{'code':_0x10ee62,'long':!(0xdb*-0x19+0x6a4+0xec0)};}function fr(_0x4c9ac4,_0x732839,_0x58bac1){if(!_0x4c9ac4)return!(0x1b51+0x2d3+-0x1e23);const _0x53a61f=Gf(_0x4c9ac4);if(_0x53a61f){const _0x39ce85=_0x53a61f['code'];return _0x39ce85>=_0x732839&&_0x39ce85<=_0x58bac1;}return!(0x2f1+0x1ae9*-0x1+0x17f9);}function hx(_0x35f8ca,_0x2ff281){if(_0x2ff281===_0x35f8ca['length']-(0x2*-0xe43+0x19b*-0x3+0x1*0x2158))return-0xbf1+-0x1c*-0xf5+-0xeda;if(fr(_0x35f8ca[_0x2ff281],Bf,jS)){const _0x36dd3a=_0x35f8ca['substring'](_0x2ff281,_0x2ff281+(0x34+0x1*0x1415+-0x1447)),_0x51bd1f=_0x35f8ca['substring'](_0x2ff281+(0x319*-0x6+-0x1e34+0x30cc),_0x2ff281+(0x4d5+-0x1*-0xec9+0x1*-0x139a));return fr(_0x51bd1f,nx,ox)||fr(_0x36dd3a,Om,Fm)&&fr(_0x51bd1f,Om,Fm)?0x16c4+-0x10d8+-0x5e8:fr(_0x51bd1f,zf,Vf)?-0x2*0xcc6+0xc21+-0x47a*-0x3:-0x1f8f+0x1*0x1ed3+0xbe;}return fr(_0x35f8ca[_0x2ff281+(0x12ed+0x7ff+-0x1aeb)],zf,Vf)?0x258a+0x3e*0x1a+-0x2bd4:-0x5a*-0x46+0x1052+-0x28ed*0x1;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x337c5e,..._0x21308d){for(let _0xcc53f0=-0x233f+-0x1a37+0x3d76*0x1;_0xcc53f0<_0x21308d['length'];_0xcc53f0++)_0x337c5e=_0x337c5e['replace']('{'+_0xcc53f0+'}',_0x21308d[_0xcc53f0]);return _0x337c5e;},'getCodePoint'(_0x5bfbdc,_0x2bfa40){const _0x21e369=Gf(_0x5bfbdc,_0x2bfa40);return _0x21e369&&_0x21e369['code'];},'getCodePoints'(_0x332b3e){if(typeof _0x332b3e!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1f8a02=0x1*-0xa55+0xc70+-0x21b;const _0x4d31d5=[];let _0x4e7efc;for(;_0x4e7efc=Gf(_0x332b3e,_0x1f8a02);)_0x4d31d5['push'](_0x4e7efc['code']),_0x1f8a02+=_0x4e7efc['long']?-0x1*-0x1627+0xc8e+-0x22b3:-0x1616+-0xac+0x16c3;return _0x4d31d5;},'getSymbols'(_0x27e4a4){if(typeof _0x27e4a4!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x917fe7=0x21b9+0xdf0+0x3*-0xfe3;const _0x474097=_0x27e4a4['length'],_0x18274b=[];let _0x25a8ff=0x5cb*0x1+0x1817+0xaa*-0x2d,_0x19a9b4;for(;_0x917fe7<_0x474097;){if(_0x25a8ff+=hx(_0x27e4a4,_0x917fe7+_0x25a8ff),_0x19a9b4=_0x27e4a4[_0x917fe7+_0x25a8ff],fr(_0x19a9b4,lx,cx)&&(_0x19a9b4=_0x27e4a4[_0x917fe7+_0x25a8ff++]),fr(_0x19a9b4,zf,Vf)&&(_0x19a9b4=_0x27e4a4[_0x917fe7+_0x25a8ff++]),_0x19a9b4&&_0x19a9b4['charCodeAt'](0x1f0e+0x9ef*-0x1+-0x151f)===ax){_0x19a9b4=_0x27e4a4[_0x917fe7+_0x25a8ff++];continue;}const _0x3ae822=_0x27e4a4['substring'](_0x917fe7,_0x917fe7+_0x25a8ff);_0x18274b['push'](_0x3ae822),_0x917fe7+=_0x25a8ff,_0x25a8ff=-0x742+-0x1712+0xc*0x287;}return _0x18274b;},'fromCodePoint'(..._0x3345a7){return _0x3345a7['map'](_0x33fb30=>_0x33fb30>-0xe11d+0x2*0xfe8f+0x4ab*-0x6?(_0x33fb30-=-0xcb76+-0x22b7*-0x3+-0x1b55*-0xd,String['fromCharCo'+'de']((_0x33fb30>>-0x1*0x629+-0x289+0x8bc)+(0x2dbe+0x12114+-0x76d2),_0x33fb30%(-0x4aa+0x16a2+0xc*-0x12a)+(-0xbfe8+-0x1*-0x16989+0x325f))):String['fromCharCo'+'de'](_0x33fb30))['join']('');}},Zr=class Zr{static['set'](_0x55543d,_0x57c605=!(-0x175*0xd+-0x1f*0xca+0x29*0x10f)){_0x57c605?Zr['_traceChan'+'nels']['add'](_0x55543d):Zr['_traceChan'+'nels']['delete'](_0x55543d);}static['get'](_0x53508c){return Zr['_traceChan'+'nels']['has'](_0x53508c);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x1a*-0x53+0x2*-0xf5b+0x2725));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x150e2e){Vt['_loggedMes'+'sages']['has'](_0x150e2e)||(Vt['_loggedMes'+'sages']['add'](_0x150e2e),console['warn']('DEPRECATED'+':\x20'+_0x150e2e));}static['removed'](_0x386861){Vt['_loggedMes'+'sages']['has'](_0x386861)||(Vt['_loggedMes'+'sages']['add'](_0x386861),console['error']('REMOVED:\x20'+_0x386861));}static['assertDepr'+'ecated'](_0xacebf2,_0x1cc747){_0xacebf2||Vt['deprecated'](_0x1cc747);}static['assert'](_0x163f23,..._0x308b64){_0x163f23||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x308b64);}static['assertDest'+'royed'](_0x4bdad3){var _0xa0719f;if(_0x4bdad3!=null&&_0x4bdad3['__alreadyD'+'estroyed']){const _0xafef9d='['+((_0xa0719f=_0x4bdad3['constructo'+'r'])==null?void(-0x1d7e+0x407*0x7+-0x14d*-0x1):_0xa0719f['name'])+(']\x20with\x20nam'+'e\x20[')+_0x4bdad3['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0xafef9d)||(Vt['_loggedMes'+'sages']['add'](_0xafef9d),console['error']('ASSERT\x20FAI'+'LED:\x20',_0xafef9d,_0x4bdad3));}}static['call'](_0x5a0722){_0x5a0722();}static['log'](..._0x1a8e57){console['log'](..._0x1a8e57);}static['logOnce'](_0x1c3825,..._0x37d0fc){Vt['_loggedMes'+'sages']['has'](_0x1c3825)||(Vt['_loggedMes'+'sages']['add'](_0x1c3825),console['log'](_0x1c3825,..._0x37d0fc));}static['warn'](..._0x521936){console['warn'](..._0x521936);}static['warnOnce'](_0x248ae2,..._0x6061fd){Vt['_loggedMes'+'sages']['has'](_0x248ae2)||(Vt['_loggedMes'+'sages']['add'](_0x248ae2),console['warn'](_0x248ae2,..._0x6061fd));}static['error'](..._0x2f6986){console['error'](..._0x2f6986);}static['errorOnce'](_0x647a7a,..._0x42b6bb){Vt['_loggedMes'+'sages']['has'](_0x647a7a)||(Vt['_loggedMes'+'sages']['add'](_0x647a7a),console['error'](_0x647a7a,..._0x42b6bb));}static['trace'](_0x38e95c,..._0xb9333a){mi['get'](_0x38e95c)&&(console['groupColla'+'psed'](_0x38e95c['padEnd'](0x1*0x2460+-0xe05+-0x1647,'\x20')+'|',..._0xb9333a),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x4a4755,_0x1f215a){_0x4a4755&&(_0x4a4755['name']=_0x1f215a);}static['setLabel'](_0x2845c1,_0x23de63){_0x2845c1&&(_0x2845c1['label']=_0x23de63);}static['setDestroy'+'ed'](_0x545c0d){_0x545c0d&&(_0x545c0d['__alreadyD'+'estroyed']=!(0xc1e+-0xe39+0x21b));}}class dx{constructor(_0x1024ed,_0x191c61,_0x5f394c,_0x5e8126,_0x26ee85=!(0x4ee+0x1b75+-0xa*0x33d)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x1152+0x1943+0xaa5*-0x4)),(this['handler']=_0x1024ed,this['name']=_0x191c61,this['callback']=_0x5f394c,this['scope']=_0x5e8126,this['_once']=_0x26ee85);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x23ceef,_0x20d158,_0x33f9a6=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x23ceef,_0x20d158,_0x33f9a6,!(0x9*-0x4a+-0x20f*0xa+0x7bb*0x3));}['once'](_0x427f6f,_0x3da439,_0x3e9b60=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x427f6f,_0x3da439,_0x3e9b60,!(0x849+0xdcc+-0x1*0x1615));}set['removed'](_0x38fbed){_0x38fbed&&(this['_removed']=!(0x5c9*0x6+0x3b0*-0x1+0x1f06*-0x1));}get['removed'](){return this['_removed'];}['toJSON'](_0x1236bb){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x62c288,_0x4c2f0,_0x173531,_0x2627c1){if((!_0x62c288||typeof _0x62c288!='string'||!_0x4c2f0)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x62c288+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x4c2f0),this['_callbacks']['has'](_0x62c288)||this['_callbacks']['set'](_0x62c288,[]),this['_callbackA'+'ctive']['has'](_0x62c288)){const _0x35a0b5=this['_callbackA'+'ctive']['get'](_0x62c288);_0x35a0b5&&_0x35a0b5===this['_callbacks']['get'](_0x62c288)&&this['_callbackA'+'ctive']['set'](_0x62c288,_0x35a0b5['slice']());}const _0x3bd786=new dx(this,_0x62c288,_0x4c2f0,_0x173531,_0x2627c1);return this['_callbacks']['get'](_0x62c288)['push'](_0x3bd786),_0x3bd786;}['on'](_0x2bd739,_0x3ef4eb,_0x441a49=this){return this['_addCallba'+'ck'](_0x2bd739,_0x3ef4eb,_0x441a49,!(0x23c5+0x351*-0x9+-0x5eb));}['once'](_0x4e3bbb,_0x51568c,_0x383e13=this){return this['_addCallba'+'ck'](_0x4e3bbb,_0x51568c,_0x383e13,!(-0x23a1+-0x26b3+-0x1295*-0x4));}['off'](_0x392ee7,_0x4b818c,_0xfa0b41){if(_0x392ee7)this['_callbackA'+'ctive']['has'](_0x392ee7)&&this['_callbackA'+'ctive']['get'](_0x392ee7)===this['_callbacks']['get'](_0x392ee7)&&this['_callbackA'+'ctive']['set'](_0x392ee7,this['_callbackA'+'ctive']['get'](_0x392ee7)['slice']());else{for(const [_0x274971,_0x46f268]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x274971)&&this['_callbacks']['get'](_0x274971)===_0x46f268&&this['_callbackA'+'ctive']['set'](_0x274971,_0x46f268['slice']());}if(_0x392ee7){if(_0x4b818c){const _0x1ff2f6=this['_callbacks']['get'](_0x392ee7);if(!_0x1ff2f6)return this;for(let _0x4803d5=-0xc5+-0x4d+0x112;_0x4803d5<_0x1ff2f6['length'];_0x4803d5++)_0x1ff2f6[_0x4803d5]['callback']===_0x4b818c&&(_0xfa0b41&&_0x1ff2f6[_0x4803d5]['scope']!==_0xfa0b41||(_0x1ff2f6[_0x4803d5]['removed']=!(-0x1901*0x1+-0x28*-0xe0+-0x9ff),_0x1ff2f6['splice'](_0x4803d5,0x2e3*-0x1+-0x1f*0xd5+0x1caf),_0x4803d5--));_0x1ff2f6['length']===-0x2*0x58+0x1*-0xf97+-0x3*-0x56d&&this['_callbacks']['delete'](_0x392ee7);}else{const _0x15c08b=this['_callbacks']['get'](_0x392ee7);if(_0x15c08b){for(let _0x3b928c=-0x1bab+0x14e*-0x12+0x3327;_0x3b928c<_0x15c08b['length'];_0x3b928c++)_0x15c08b[_0x3b928c]['removed']=!(0xb6a+-0x12e*0xd+0x3ec);this['_callbacks']['delete'](_0x392ee7);}}}else{for(const _0x4faae1 of this['_callbacks']['values']())for(let _0x4eaf3c=0x155*-0x1b+0x17b3+-0x9d*-0x14;_0x4eaf3c<_0x4faae1['length'];_0x4eaf3c++)_0x4faae1[_0x4eaf3c]['removed']=!(0x2593*0x1+0x1208+-0x379b);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x225fd2){const _0xd7da52=_0x225fd2['name'];_0x225fd2['removed']=!(-0x16f6*-0x1+0x1*-0xe19+-0x1*0x8dd),this['_callbackA'+'ctive']['has'](_0xd7da52)&&this['_callbackA'+'ctive']['get'](_0xd7da52)===this['_callbacks']['get'](_0xd7da52)&&this['_callbackA'+'ctive']['set'](_0xd7da52,this['_callbackA'+'ctive']['get'](_0xd7da52)['slice']());const _0x10ed59=this['_callbacks']['get'](_0xd7da52);if(!_0x10ed59)return this;const _0x290325=_0x10ed59['indexOf'](_0x225fd2);return _0x290325!==-(-0x2438+0x1*-0x1c63+-0x204e*-0x2)&&(_0x10ed59['splice'](_0x290325,0x4f7*0x1+0x179*-0x9+0xc1*0xb),_0x10ed59['length']===0x4*0x523+0xbf+0x1*-0x154b&&this['_callbacks']['delete'](_0xd7da52)),this;}['fire'](_0x3f603d,_0x13f245,_0x28884c,_0x4a5e8c,_0xbba5dd,_0x24ab3e,_0x4a82e0,_0x2375b6,_0x5524d7){if(!_0x3f603d)return this;const _0x5565a5=this['_callbacks']['get'](_0x3f603d);if(!_0x5565a5)return this;let _0x46f8eb;this['_callbackA'+'ctive']['has'](_0x3f603d)?this['_callbackA'+'ctive']['get'](_0x3f603d)!==_0x5565a5&&(_0x46f8eb=_0x5565a5['slice']()):this['_callbackA'+'ctive']['set'](_0x3f603d,_0x5565a5);for(let _0x20f313=0x2a5*-0xe+-0x12ee+0x37f4;(_0x46f8eb||this['_callbackA'+'ctive']['get'](_0x3f603d))&&_0x20f313<(_0x46f8eb||this['_callbackA'+'ctive']['get'](_0x3f603d))['length'];_0x20f313++){const _0x139029=(_0x46f8eb||this['_callbackA'+'ctive']['get'](_0x3f603d))[_0x20f313];if(_0x139029['callback']&&(_0x139029['callback']['call'](_0x139029['scope'],_0x13f245,_0x28884c,_0x4a5e8c,_0xbba5dd,_0x24ab3e,_0x4a82e0,_0x2375b6,_0x5524d7),_0x139029['_once'])){const _0x593135=this['_callbacks']['get'](_0x3f603d),_0x36ad9f=_0x593135?_0x593135['indexOf'](_0x139029):-(-0x24b*-0x9+0x44e*-0x1+-0xa*0x1a2);if(_0x36ad9f!==-(-0x1b85*-0x1+0x1b7*-0x1+0x1*-0x19cd)){this['_callbackA'+'ctive']['get'](_0x3f603d)===_0x593135&&this['_callbackA'+'ctive']['set'](_0x3f603d,this['_callbackA'+'ctive']['get'](_0x3f603d)['slice']());const _0x49ab10=this['_callbacks']['get'](_0x3f603d);if(!_0x49ab10)continue;_0x49ab10[_0x36ad9f]['removed']=!(-0x16d6+-0x505*-0x7+-0x2f*0x43),_0x49ab10['splice'](_0x36ad9f,-0x1ea+-0x250+-0x43b*-0x1),_0x49ab10['length']===-0x37*0xb0+0x2eb+0x22e5&&this['_callbacks']['delete'](_0x3f603d);}}}return _0x46f8eb||this['_callbackA'+'ctive']['delete'](_0x3f603d),this;}['hasEvent'](_0x1b81ab){var _0x4e462e;return!!((_0x4e462e=this['_callbacks']['get'](_0x1b81ab))!=null&&_0x4e462e['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x482bd9,_0x65ce72){if(this['_index'][_0x482bd9])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x482bd9);const _0x44be2e=this['_list']['push'](_0x65ce72)-(-0x1c9*-0x2+0xc56+-0xfe7);this['_index'][_0x482bd9]=_0x44be2e;}['has'](_0x45f28a){return this['_index'][_0x45f28a]!==void(0x23e6+0x215e+-0x554*0xd);}['get'](_0x2e648b){const _0x3d7039=this['_index'][_0x2e648b];return _0x3d7039!==void(-0x2*-0xf11+-0x2084+0x262)?this['_list'][_0x3d7039]:null;}['remove'](_0x3b291d){const _0x580b56=this['_index'][_0x3b291d];if(_0x580b56!==void(0xe84+-0x5*0x3b7+0x40f)){this['_list']['splice'](_0x580b56,0x1c58+0x1327*0x1+-0x2f7e),delete this['_index'][_0x3b291d];for(_0x3b291d in this['_index']){const _0x1deea4=this['_index'][_0x3b291d];_0x1deea4>_0x580b56&&(this['_index'][_0x3b291d]=_0x1deea4-(-0x993+0x17d7+-0xe43));}return!(0x1b*-0x164+0x1005+0x1587);}return!(0xd83+0x2367+-0x293*0x13);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x1e96+0x1a3e+0x458;for(const _0x2d5e7a in this['_index'])delete this['_index'][_0x2d5e7a];}}const ux=_0x1d0fb6=>{const _0x509b97={};let _0x42718c=_0x509b97;return()=>(_0x42718c===_0x509b97&&(_0x42718c=_0x1d0fb6()),_0x42718c);},ii=class ii{static['loadScript'](_0x3e0d8b,_0x5b7ab1){const _0x106433=document['createElem'+'ent']('script');_0x106433['setAttribu'+'te']('src',_0x3e0d8b),_0x106433['onload']=()=>{_0x5b7ab1(null);},_0x106433['onerror']=()=>{_0x5b7ab1('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x3e0d8b+'\x27');},document['body']['appendChil'+'d'](_0x106433);}static['loadWasm'](_0x46862b,_0x11680a,_0x4404c3){const _0x10ca63=ii['wasmSuppor'+'ted']()&&_0x11680a['glueUrl']&&_0x11680a['wasmUrl']?_0x11680a['glueUrl']:_0x11680a['fallbackUr'+'l'];_0x10ca63?ii['loadScript'](_0x10ca63,_0xcaeada=>{if(_0xcaeada)_0x4404c3(_0xcaeada,null);else{const _0x61bb4=window[_0x46862b];window[_0x46862b]=void(-0xf*-0x290+-0x16bb+-0xfb5),_0x61bb4({'locateFile':()=>_0x11680a['wasmUrl'],'onAbort':()=>{_0x4404c3('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x2dd4bb=>{_0x4404c3(null,_0x2dd4bb);});}}):_0x4404c3('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x31f23b){return ii['modules']['hasOwnProp'+'erty'](_0x31f23b)||(ii['modules'][_0x31f23b]={'config':null,'initializing':!(-0x328*-0xb+-0x1*0xee8+-0xb*0x1cd),'instance':null,'callbacks':[]}),ii['modules'][_0x31f23b];}static['initialize'](_0x5de9c6,_0x2ef641){if(_0x2ef641['initializi'+'ng'])return;const _0x177adb=_0x2ef641['config'];(_0x177adb['glueUrl']||_0x177adb['wasmUrl']||_0x177adb['fallbackUr'+'l'])&&(_0x2ef641['initializi'+'ng']=!(-0x1a9d*0x1+-0x1e*0x76+-0x33*-0xcb),ii['loadWasm'](_0x5de9c6,_0x177adb,(_0x5408e7,_0x2a631e)=>{_0x5408e7?_0x177adb['errorHandl'+'er']?_0x177adb['errorHandl'+'er'](_0x5408e7):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x5de9c6+'\x20error='+_0x5408e7):(_0x2ef641['instance']=_0x2a631e,_0x2ef641['callbacks']['forEach'](_0x1d0407=>{_0x1d0407(_0x2a631e);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2b923c=new WebAssembly['Module'](Uint8Array['of'](0x760*-0x2+0xaee+0x3d2,-0x180b*0x1+-0xcf8*-0x2+-0x2*0xc2,-0x2555+-0x1f*-0x9e+0x12a6,0x1*0x3e5+0xd9f+0x1*-0x1117,0x10d6+0x1a75+-0x2b4a,0x13*0xb3+-0x4*0x963+0x1843,-0x253a+0x2110+0x52*0xd,-0x2166+0x4*0x3f5+0xd*0x15a));if(_0x2b923c instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2b923c)instanceof WebAssembly['Instance'];}}catch{}return!(-0x18c7+-0x1*-0xb2e+0x6cd*0x2);}));let Yr=ii;class YS{static['setConfig'](_0x5ee13e,_0x242527){const _0x232945=Yr['getModule'](_0x5ee13e);_0x232945['config']=_0x242527,_0x232945['callbacks']['length']>-0x13d1+0x38d*0x5+-0x6*-0x58&&Yr['initialize'](_0x5ee13e,_0x232945);}static['getConfig'](_0x43f3fe){var _0x536118,_0x2caa28;return(_0x2caa28=(_0x536118=Yr['modules'])==null?void(0x7cb+0x1*0x12f2+0x5*-0x559):_0x536118[_0x43f3fe])==null?void(-0x2*0xe00+0xdee*0x2+0x24):_0x2caa28['config'];}static['getInstanc'+'e'](_0x1604a2,_0x2bc225){const _0x5d4ba9=Yr['getModule'](_0x1604a2);_0x5d4ba9['instance']?_0x2bc225(_0x5d4ba9['instance']):(_0x5d4ba9['callbacks']['push'](_0x2bc225),_0x5d4ba9['config']&&Yr['initialize'](_0x1604a2,_0x5d4ba9));}}class KS{constructor(_0x166f7f){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x5*0x48b+0x1089+-0x2740),(this['arraybuffe'+'r']=_0x166f7f,this['dataView']=new DataView(_0x166f7f));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x22ea01=-0x150c+0x2*-0xdc0+0x308c){this['offset']=_0x22ea01;}['skip'](_0x48d0bb){this['offset']+=_0x48d0bb;}['align'](_0x3c934a){this['offset']=this['offset']+_0x3c934a-(0x9*0x148+-0x19*0x39+0x5f6*-0x1)&~(_0x3c934a-(0xab*0x3+0x18d+-0x1*0x38d));}['_inc'](_0x3fb963){return this['offset']+=_0x3fb963,this['offset']-_0x3fb963;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x2545d4){let _0x1b064f='';for(let _0xe7f9ac=0x9d6+-0x195b+-0x1*-0xf85;_0xe7f9ac<_0x2545d4;++_0xe7f9ac)_0x1b064f+=this['readChar']();return _0x1b064f;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x1e9c+-0xaad*-0x3+-0x3ea1),!(0xee*-0xc+-0x1416+0x1f3e));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x9ff*0x2+-0x1*-0xd95+-0x218f),!(-0x2010+-0xd2e+0x2d3e*0x1));}['readU64'](){return this['readU32']()+(-0x79*-0x23+0x1*-0xe61+-0x3*0xb8)**(0x37*-0x43+-0x2597+0x341c)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1611+-0x1a37+-0x2*-0x1826),!(0xc44*-0x1+-0x1fc0+0x1*0x2c05));}['readArray'](_0x5ab72c){for(let _0x4e2c91=0xdc8+0x245d+0xb*-0x48f;_0x4e2c91<_0x5ab72c['length'];++_0x4e2c91)_0x5ab72c[_0x4e2c91]=this['readU8']();}['readLine'](){const _0x23fa8d=this['dataView'];let _0x1d1cd4='';for(;!(this['offset']>=_0x23fa8d['byteLength']);){const _0x54ba21=String['fromCharCo'+'de'](this['readU8']());if(_0x54ba21==='\x0a')break;_0x1d1cd4+=_0x54ba21;}return _0x1d1cd4;}}class oh{constructor(_0x2bb244){h(this,'items',[]),h(this,'length',-0x58*0x22+0x132*-0x12+0x14*0x1a9),h(this,'loopIndex',-(0xe8*0x5+0x1f07+-0x3*0xbda)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x2bb244['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x5f2e3e){let _0x9b22e9=-0x1f7*0x11+0x3*-0x3cc+0x2ccb,_0x5083a5=this['items']['length']-(-0x4*-0x2bd+0x1*0x91e+-0x1411);const _0x54678c=_0x5f2e3e[this['_sortBy']];let _0x135edd,_0x564be7;for(;_0x9b22e9<=_0x5083a5;)_0x135edd=Math['floor']((_0x9b22e9+_0x5083a5)/(0x370+0xae4+-0x11a*0xd)),_0x564be7=this['items'][_0x135edd][this['_sortBy']],_0x564be7<=_0x54678c?_0x9b22e9=_0x135edd+(-0xe1*0x13+0xd87*-0x1+-0x1*-0x1e3b):_0x564be7>_0x54678c&&(_0x5083a5=_0x135edd-(-0x2*0x52b+-0x1f7+0x20d*0x6));return _0x9b22e9;}['_doSort'](_0x104924,_0x24b66c){const _0x351fdc=this['_sortBy'];return _0x104924[_0x351fdc]-_0x24b66c[_0x351fdc];}['insert'](_0x212611){const _0x5516eb=this['_binarySea'+'rch'](_0x212611);this['items']['splice'](_0x5516eb,0x165b+0x1*-0x1ee3+-0x6*-0x16c,_0x212611),this['length']++,this['loopIndex']>=_0x5516eb&&this['loopIndex']++;}['append'](_0x5b6638){this['items']['push'](_0x5b6638),this['length']++;}['remove'](_0x5db9f6){const _0x41c7f9=this['items']['indexOf'](_0x5db9f6);_0x41c7f9<-0x8d3+0x2015+-0xd*0x1ca||(this['items']['splice'](_0x41c7f9,-0xf67*0x1+0x1ece+0x36*-0x49),this['length']--,this['loopIndex']>=_0x41c7f9&&this['loopIndex']--);}['sort'](){const _0x5bed9e=this['loopIndex']>=-0x189*0x1+-0x71*0x31+-0xb95*-0x2?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x5bed9e!==null&&(this['loopIndex']=this['items']['indexOf'](_0x5bed9e));}}class Oo extends me{constructor(_0x36f742){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x36f742;}['add'](..._0xb533d7){let _0x5188c3=!(-0x1*0x9e4+-0xd0f*-0x1+0xa2*-0x5);const _0x477129=this['_processAr'+'guments'](_0xb533d7,!(0x5*0x56f+0x212b+-0x1*0x3c56));if(!_0x477129['length'])return _0x5188c3;for(let _0x5a4dc4=-0x1fc9+0x1*0xb8b+0x143e*0x1;_0x5a4dc4<_0x477129['length'];_0x5a4dc4++)this['_index'][_0x477129[_0x5a4dc4]]||(_0x5188c3=!(-0x1118*-0x1+-0x34*-0x1c+-0x16c8),this['_index'][_0x477129[_0x5a4dc4]]=!(0x13a2+0x25*-0x8+-0x127a),this['_list']['push'](_0x477129[_0x5a4dc4]),this['fire']('add',_0x477129[_0x5a4dc4],this['_parent']));return _0x5188c3&&this['fire']('change',this['_parent']),_0x5188c3;}['remove'](..._0x31ab34){let _0x3c1292=!(-0x3a3*0x3+0x23f1+-0x1*0x1907);if(!this['_list']['length'])return _0x3c1292;const _0x4e7cc2=this['_processAr'+'guments'](_0x31ab34,!(-0x38*0x59+-0xd3c+0x20b4));if(!_0x4e7cc2['length'])return _0x3c1292;for(let _0x29582e=0x18fc+-0x7d2+-0x1a*0xa9;_0x29582e<_0x4e7cc2['length'];_0x29582e++)this['_index'][_0x4e7cc2[_0x29582e]]&&(_0x3c1292=!(-0xb*-0x315+0xa75+-0x2c5c),delete this['_index'][_0x4e7cc2[_0x29582e]],this['_list']['splice'](this['_list']['indexOf'](_0x4e7cc2[_0x29582e]),0x24e7+0x1cec+0x41d2*-0x1),this['fire']('remove',_0x4e7cc2[_0x29582e],this['_parent']));return _0x3c1292&&this['fire']('change',this['_parent']),_0x3c1292;}['clear'](){if(!this['_list']['length'])return;const _0x17f554=this['_list']['slice'](-0x2095+0xec6*-0x1+0xfc9*0x3);this['_list']=[],this['_index']={};for(let _0x54a0f4=0x1125+-0x1328+0x203;_0x54a0f4<_0x17f554['length'];_0x54a0f4++)this['fire']('remove',_0x17f554[_0x54a0f4],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x10f343){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x10f343)):!(0x156f+0x2*-0xb4e+-0x2*-0x97);}['_has'](_0x3a47ca){if(!this['_list']['length']||!_0x3a47ca['length'])return!(-0x183e+0x1*0x2081+-0x842);for(let _0x569773=-0x1174+0x1a9+0xd*0x137;_0x569773<_0x3a47ca['length'];_0x569773++)if(_0x3a47ca[_0x569773]['length']===0x11f*0x16+-0x1f*0xae+-0x1*0x397){if(this['_index'][_0x3a47ca[_0x569773][-0xeae+-0x181*-0x7+0x427]])return!(0x539*0x1+0x131c+-0x1*0x1855);}else{let _0x1841f0=!(-0x128b+-0x1af3*0x1+0x2d7e);for(let _0x73adfa=-0x11bc+0x19ea+-0x3*0x2ba;_0x73adfa<_0x3a47ca[_0x569773]['length'];_0x73adfa++)if(!this['_index'][_0x3a47ca[_0x569773][_0x73adfa]]){_0x1841f0=!(0xb36+-0x1b0c*-0x1+-0x2641);break;}if(_0x1841f0)return!(-0x1d78+0x68f+0x16e9);}return!(0x403+-0x1174+0xd72);}['list'](){return this['_list']['slice'](0xfcd*-0x2+0x1db+0x1dbf);}['_processAr'+'guments'](_0x1b6114,_0x3c6f0b){const _0x413f3a=[];let _0x299265=[];if(!_0x1b6114||!_0x1b6114['length'])return _0x413f3a;for(let _0x2be712=0x1f60+0x121*0x7+-0x2747;_0x2be712<_0x1b6114['length'];_0x2be712++)if(_0x1b6114[_0x2be712]instanceof Array){_0x3c6f0b||(_0x299265=[]);for(let _0x2d902b=0xb*-0x16f+-0xdfb+0x1dc0;_0x2d902b<_0x1b6114[_0x2be712]['length'];_0x2d902b++)typeof _0x1b6114[_0x2be712][_0x2d902b]=='string'&&(_0x3c6f0b?_0x413f3a['push'](_0x1b6114[_0x2be712][_0x2d902b]):_0x299265['push'](_0x1b6114[_0x2be712][_0x2d902b]));!_0x3c6f0b&&_0x299265['length']&&_0x413f3a['push'](_0x299265);}else typeof _0x1b6114[_0x2be712]=='string'&&(_0x3c6f0b?_0x413f3a['push'](_0x1b6114[_0x2be712]):_0x413f3a['push']([_0x1b6114[_0x2be712]]));return _0x413f3a;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x492177){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x5885fc=_0x492177['match'](px);this['scheme']=_0x5885fc[-0xa4a+-0x8b5+-0x5*-0x3cd],this['authority']=_0x5885fc[0x10eb+0xea0+0x481*-0x7],this['path']=_0x5885fc[-0x176+-0x1838+0x19b3],this['query']=_0x5885fc[-0x1*0xfa+0x355*-0x5+0x11aa],this['fragment']=_0x5885fc[-0x1f72+0xc7a*-0x3+0x44e9];}['toString'](){let _0x22954b='';return this['scheme']&&(_0x22954b+=this['scheme']+':'),this['authority']&&(_0x22954b+='//'+this['authority']),_0x22954b+=this['path'],this['query']&&(_0x22954b+='?'+this['query']),this['fragment']&&(_0x22954b+='#'+this['fragment']),_0x22954b;}['getQuery'](){const _0x178e55={};if(this['query']){const _0x2dfe72=decodeURIComponent(this['query'])['split']('&');for(const _0x1c1aaf of _0x2dfe72){const _0x5bdd81=_0x1c1aaf['split']('=');_0x178e55[_0x5bdd81[0x463*0x5+-0x1fd0+-0x34b*-0x3]]=_0x5bdd81[0x16d1+-0x1426+-0x2aa];}}return _0x178e55;}['setQuery'](_0x46d219){let _0x2b2bca='';for(const _0x3b34ff in _0x46d219)_0x46d219['hasOwnProp'+'erty'](_0x3b34ff)&&(_0x2b2bca!==''&&(_0x2b2bca+='&'),_0x2b2bca+=encodeURIComponent(_0x3b34ff)+'='+encodeURIComponent(_0x46d219[_0x3b34ff]));this['query']=_0x2b2bca;}}const mx=0x419*0x5+-0x2*0x1c+0x1*-0x1445,tp=-0xdff*-0x1+0x2016+-0x4*0xb85,Nm=0x55*-0x1b+-0x264a+0x2f45,_x=0x2e3*0x2+-0x10da+-0x3*-0x3b3,Y={'DEG_TO_RAD':Math['PI']/(0x23d0+-0x227*-0x12+-0x49da),'RAD_TO_DEG':(0x9e1*0x1+0x355*0x7+-0x2080)/Math['PI'],'clamp'(_0x496ac1,_0x1298f8,_0x3916a2){return _0x496ac1>=_0x3916a2?_0x3916a2:_0x496ac1<=_0x1298f8?_0x1298f8:_0x496ac1;},'intToBytes24'(_0x564146){const _0x8322d=_0x564146>>0x27c*-0xb+-0x1*0x1b59+0x3*0x123f&0x1229+-0x1ae8+-0x3a*-0x2b,_0x3a1f15=_0x564146>>-0xbe*0x27+0x21f*0xd+0x167&0x18+0x2*0x2c3+0xa9*-0x7,_0x531140=_0x564146&0x17*0xdf+-0x2340*0x1+0x1*0x1036;return[_0x8322d,_0x3a1f15,_0x531140];},'intToBytes32'(_0x3084c8){const _0x24c0b7=_0x3084c8>>-0x39a+0x2422+0xad*-0x30&0x1800+-0x1ef8+-0x1*-0x7f7,_0x3b0dfd=_0x3084c8>>0x12ba+-0xd51+-0x25*0x25&0xf07*-0x2+-0x2*0xca+0x20a1,_0xb5630c=_0x3084c8>>-0xedb+0x1ca7*-0x1+0x1*0x2b8a&0x3b6+-0x6e2+0x42b,_0x17ba10=_0x3084c8&0x1*0x2159+-0x1161+-0xef9;return[_0x24c0b7,_0x3b0dfd,_0xb5630c,_0x17ba10];},'bytesToInt24'(_0x31dead,_0x54b906,_0x50145e){return _0x31dead['length']&&(_0x50145e=_0x31dead[-0x6*0x1c+-0x21d*-0x1+-0x7*0x35],_0x54b906=_0x31dead[0x36d+-0x990+0x624],_0x31dead=_0x31dead[0xb*0x175+-0x21e7+0x11e0]),_0x31dead<<0x166+0x67*-0x40+0x186a|_0x54b906<<-0x1c*0x119+-0x1106+-0x2*-0x17e5|_0x50145e;},'bytesToInt32'(_0x453371,_0x1b82e0,_0x1831d4,_0x321a0e){return _0x453371['length']&&(_0x321a0e=_0x453371[0x1316+-0x1aa3*0x1+0x790],_0x1831d4=_0x453371[-0x133d+0x49*-0x61+0x2ee8],_0x1b82e0=_0x453371[0x707*-0x5+-0xaf3*0x1+0x2e17],_0x453371=_0x453371[0x1d88+-0xcd+0x5bf*-0x5]),(_0x453371<<-0x1062+-0x1*0x1c1d+0x2c97|_0x1b82e0<<-0xdac+0x1e97+-0x35f*0x5|_0x1831d4<<-0x1*0x5fc+-0x16*-0xec+-0xe44|_0x321a0e)>>>0x18ab*-0x1+-0x3*0xcdd+0x6*0xa8b;},'lerp'(_0xac7263,_0x3e1a64,_0x47a5fe){return _0xac7263+(_0x3e1a64-_0xac7263)*Y['clamp'](_0x47a5fe,0x2003+-0x1e68*0x1+-0x3*0x89,-0x2*-0x80c+-0x1aee+0xad7);},'lerpAngle'(_0x3bfc8b,_0x54b6ff,_0xb07a1b){return _0x54b6ff-_0x3bfc8b>-0xb1c+0x265*0xb+0xe87*-0x1&&(_0x54b6ff-=0x212a+-0x2*-0x298+0x1*-0x24f2),_0x54b6ff-_0x3bfc8b<-(0x2d3+-0x1*-0x217b+-0x239a)&&(_0x54b6ff+=-0x387+-0x2604+-0x2af3*-0x1),Y['lerp'](_0x3bfc8b,_0x54b6ff,Y['clamp'](_0xb07a1b,0x3e7*-0x3+-0x340+0xef5*0x1,0x2610+0x129*0xc+-0x33fb));},'powerOfTwo'(_0x5e401e){return _0x5e401e!==0x1310*0x2+-0x21ee+-0x432&&!(_0x5e401e&_0x5e401e-(-0xdd4+0x1515+-0x740));},'nextPowerOfTwo'(_0x49e07a){return _0x49e07a--,_0x49e07a|=_0x49e07a>>0x2*-0xcd6+-0xe1+0x1a8e,_0x49e07a|=_0x49e07a>>0x22ea+-0x1bcf+0x4f*-0x17,_0x49e07a|=_0x49e07a>>-0x8a3+-0x1*-0x254e+-0x1ca7,_0x49e07a|=_0x49e07a>>0x3d*-0x6b+-0x1*0x1609+-0x8*-0x5f2,_0x49e07a|=_0x49e07a>>-0x13*0x125+0x5d*-0x68+-0x5*-0xbeb,_0x49e07a++,_0x49e07a;},'nearestPowerOfTwo'(_0x522f6a){return Math['pow'](-0x4c8*0x7+0x1*-0x9f5+0x2b6f,Math['round'](Math['log2'](_0x522f6a)));},'random'(_0xa53bca,_0x3ab68e){const _0x227b70=_0x3ab68e-_0xa53bca;return Math['random']()*_0x227b70+_0xa53bca;},'smoothstep'(_0x4a4d69,_0x209060,_0x210b2c){return _0x210b2c<=_0x4a4d69?0x648*0x1+-0x9*-0x1da+0x16*-0x10b:_0x210b2c>=_0x209060?0xdcb+-0x7e5+-0x3*0x1f7:(_0x210b2c=(_0x210b2c-_0x4a4d69)/(_0x209060-_0x4a4d69),_0x210b2c*_0x210b2c*(0xdd9+0x2d7+-0x10ad-(-0x76a+0x1*-0x183b+0x1fa7)*_0x210b2c));},'smootherstep'(_0x52decc,_0x23a9ca,_0x3cf536){return _0x3cf536<=_0x52decc?0x2*-0x2c+-0x25ff*0x1+0x2657:_0x3cf536>=_0x23a9ca?0x33d*-0x1+-0xead+-0xb*-0x1a1:(_0x3cf536=(_0x3cf536-_0x52decc)/(_0x23a9ca-_0x52decc),_0x3cf536*_0x3cf536*_0x3cf536*(_0x3cf536*(_0x3cf536*(0x2429+-0x1553+-0xed0)-(-0xc88+-0x1c4+0xe5b))+(-0x5*-0x2eb+0xde0+-0x17f*0x13)));},'roundUp'(_0x95ab96,_0x58607b){return _0x58607b===0x2*0x1203+-0x1f64+0x251*-0x2?_0x95ab96:Math['ceil'](_0x95ab96/_0x58607b)*_0x58607b;},'between'(_0x46f21b,_0x10f1d0,_0x3ecc99,_0xec0538){const _0x262d9f=Math['min'](_0x10f1d0,_0x3ecc99),_0x406845=Math['max'](_0x10f1d0,_0x3ecc99);return _0xec0538?_0x46f21b>=_0x262d9f&&_0x46f21b<=_0x406845:_0x46f21b>_0x262d9f&&_0x46f21b<_0x406845;}},Tt=class Tt{constructor(_0x332a3a=-0x3*-0xc27+0x3*-0x9d+-0x229e,_0x3d6319=-0x259a+0x288+0x1189*0x2,_0x4f2115=-0x7d*0x29+0x71a+0xceb,_0x7e7dfc=-0x86*0x10+0x45f*0x5+0x2e*-0x4b){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x3ef17a=_0x332a3a['length'];_0x3ef17a===0x4*-0x677+0x803+0x11dc||_0x3ef17a===0x9d*0x20+-0x10d*-0x2+0x1*-0x15b6?(this['r']=_0x332a3a[-0x22ae*0x1+-0x1*0x3cb+-0x1d5*-0x15],this['g']=_0x332a3a[-0x6*-0x571+-0x124d*-0x1+-0x32f2],this['b']=_0x332a3a[0x1b1*-0x3+-0x4c*-0x35+-0x12f*0x9],this['a']=_0x332a3a[0x11a6+0x8*0x38b+0x1*-0x2dfb]??-0xa11+0x1a7f+-0x106d):(this['r']=_0x332a3a,this['g']=_0x3d6319,this['b']=_0x4f2115,this['a']=_0x7e7dfc);}['clone'](){const _0x591e10=this['constructo'+'r'];return new _0x591e10(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x1d1805){return this['r']=_0x1d1805['r'],this['g']=_0x1d1805['g'],this['b']=_0x1d1805['b'],this['a']=_0x1d1805['a'],this;}['equals'](_0x89fed){return this['r']===_0x89fed['r']&&this['g']===_0x89fed['g']&&this['b']===_0x89fed['b']&&this['a']===_0x89fed['a'];}['set'](_0x3534c6,_0x2c5e8c,_0x3f6a93,_0x40a700=0x25f4+0x1*0x807+-0x2dfa){return this['r']=_0x3534c6,this['g']=_0x2c5e8c,this['b']=_0x3f6a93,this['a']=_0x40a700,this;}['lerp'](_0x8923a3,_0x45481f,_0x45bd17){return this['r']=_0x8923a3['r']+_0x45bd17*(_0x45481f['r']-_0x8923a3['r']),this['g']=_0x8923a3['g']+_0x45bd17*(_0x45481f['g']-_0x8923a3['g']),this['b']=_0x8923a3['b']+_0x45bd17*(_0x45481f['b']-_0x8923a3['b']),this['a']=_0x8923a3['a']+_0x45bd17*(_0x45481f['a']-_0x8923a3['a']),this;}['linear'](_0x415e07=this){return this['r']=Math['pow'](_0x415e07['r'],-0x115*0xd+0x1546+0x61*-0x13+0.20000000000000018),this['g']=Math['pow'](_0x415e07['g'],0x217c+0x139f+-0x3519+0.20000000000000018),this['b']=Math['pow'](_0x415e07['b'],-0xa*0x1e7+-0x1581*0x1+0x2889+0.20000000000000018),this['a']=_0x415e07['a'],this;}['gamma'](_0x1beea3=this){return this['r']=Math['pow'](_0x1beea3['r'],(-0x10b7+0x511*-0x5+0x1*0x2a0d)/(-0x1*0xb49+-0x73*0x14+0xb3*0x1d+0.20000000000000018)),this['g']=Math['pow'](_0x1beea3['g'],(-0x2673*-0x1+-0xf28+-0x174a)/(-0x154b+-0x1c3b+0x3188+0.20000000000000018)),this['b']=Math['pow'](_0x1beea3['b'],(0x1313*-0x1+0x1*0x156b+-0x257)/(-0xc*0x24+-0x2*0x47+0x240+0.20000000000000018)),this['a']=_0x1beea3['a'],this;}['mulScalar'](_0x4f61e4){return this['r']*=_0x4f61e4,this['g']*=_0x4f61e4,this['b']*=_0x4f61e4,this;}['fromString'](_0x120c16){const _0x543b67=parseInt(_0x120c16['replace']('#','0x'),0x224*0x4+0x2*0xb70+-0x1f60);let _0x202ea4;return _0x120c16['length']>-0x3*0x39f+-0x14b*0x1a+0x2c82?_0x202ea4=Y['intToBytes'+'32'](_0x543b67):(_0x202ea4=Y['intToBytes'+'24'](_0x543b67),_0x202ea4[-0x26df*-0x1+-0x2*0xaa2+-0x2*0x8cc]=0xd27+0x48b*0x7+-0x2bf5),this['set'](_0x202ea4[0x21f+0x1a5*-0x3+0x2d0]/(0xc5*-0x5+0x3*0x1b9+0x1*-0x53),_0x202ea4[-0x6*-0xae+-0x11dc+0xdc9]/(-0x98f*-0x3+0x8bf+-0x246d),_0x202ea4[-0x6d*0x11+-0x1670+0x1*0x1daf]/(-0x45b*0x3+-0x269c+0x4*0xd2b),_0x202ea4[-0x4f*0x67+0x70b+0x18c1]/(-0x1*0x129a+0x71e*0x2+0x55d*0x1)),this;}['fromArray'](_0x16fbca,_0x4b8fb7=0xeb*0x14+0x768+0x11*-0x184){return this['r']=_0x16fbca[_0x4b8fb7]??this['r'],this['g']=_0x16fbca[_0x4b8fb7+(-0x1442+-0x82*-0x1d+0x589)]??this['g'],this['b']=_0x16fbca[_0x4b8fb7+(-0xb3*-0x35+-0x5*-0x2b0+0x1*-0x327d)]??this['b'],this['a']=_0x16fbca[_0x4b8fb7+(-0x4d*-0x14+-0x19d6+0x13d5)]??this['a'],this;}['toString'](_0xc3f78d,_0x5c942b){const {r:_0x4e238a,g:_0xc2d35b,b:_0x37d61f,a:_0x1a15ef}=this;if(_0x5c942b||_0x4e238a>0x22b3+-0x1*0x1644+-0xc6e||_0xc2d35b>-0x1093*-0x1+-0x1cfa+0xc68||_0x37d61f>-0xd34+0x1fa7+0x1272*-0x1)return _0x4e238a['toFixed'](-0x3f3*-0x1+-0x9b7+0x5c7)+',\x20'+_0xc2d35b['toFixed'](-0x1e2c+-0x524*-0x1+0x190b)+',\x20'+_0x37d61f['toFixed'](0x1030+0x312+-0x133f)+',\x20'+_0x1a15ef['toFixed'](0x295*-0x5+-0x138a+0x2076);let _0x3e9308='#'+((-0x19c6+-0x6d3*0x3+-0x172*-0x20<<0x1ce2+0x15*-0xd1+-0x10f*0xb)+(Math['round'](_0x4e238a*(-0x223d+-0xa1f*-0x2+0xefe))<<-0x109c+-0x17e5+0x2891)+(Math['round'](_0xc2d35b*(-0x16af+-0x17*0x7+-0x184f*-0x1))<<0x11*0xf+-0x1*0x10b1+0xb7*0x16)+Math['round'](_0x37d61f*(0x1376+0x114a+0x1b*-0x153)))['toString'](0xa3c+-0x14*-0xf9+-0x1da0)['slice'](0x8ad+-0x24d7+0x1c2b);if(_0xc3f78d===!(-0x108a+-0x711+0x179b*0x1)){const _0x441421=Math['round'](_0x1a15ef*(-0xc8+0x560+-0x133*0x3))['toString'](-0x1*0xc78+-0x464+0x10ec);this['a']<(-0x1*-0x12e5+-0x97d*0x4+0x131f*0x1)/(0x24b7+-0x1b63+-0x855*0x1)?_0x3e9308+='0'+_0x441421:_0x3e9308+=_0x441421;}return _0x3e9308;}['toArray'](_0x318fbe=[],_0x118bb8=0x1039+-0x205d+0x1024,_0x3f45f9=!(-0xca1+-0x5*0x15d+0x1372)){return _0x318fbe[_0x118bb8]=this['r'],_0x318fbe[_0x118bb8+(-0x13c5+-0xd9*0x9+0x1b67)]=this['g'],_0x318fbe[_0x118bb8+(0x197b+-0x1f*-0x2c+-0x5f*0x53)]=this['b'],_0x3f45f9&&(_0x318fbe[_0x118bb8+(0x8d3+0x1626+-0x1ef6)]=this['a']),_0x318fbe;}};h(Tt,'BLACK',Object['freeze'](new Tt(0xc6f+-0x1b3*0xa+0x48f,0x4c+-0x1*0x216+0x1ca,0x4*-0x269+0x203b+-0x1697*0x1,-0x3*-0x8ab+-0x1*0x17b+0x1*-0x1885))),h(Tt,'BLUE',Object['freeze'](new Tt(-0xe*-0x19b+-0x1*-0xc01+-0x5b*0x61,-0xb4d+-0x1ea9+0x29f6,0x16a3+-0x1bc7+0x525,-0x1383+0x1*-0x148d+0xd5b*0x3))),h(Tt,'CYAN',Object['freeze'](new Tt(-0x5*0x2c3+0xe5*-0x1f+0x2*0x14c5,0xa*-0x13b+0x1b*-0x4e+0x1489,-0x1a47+-0xaf4+0x129e*0x2,0x18c0+0x6d*0x37+-0xa*0x4d1))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x5ba*-0x2+0x2122*-0x1+0x15ae+0.5,0x1*0x20e7+-0x1c54+-0x493*0x1+0.5,0x213*-0xa+-0x4*0x29e+0x63e*0x5+0.5,-0x1892+-0xf4c+0x3b*0xad))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x2*0x10ae+-0x5d7+0x2733,0x1bf5+-0x18b6+-0x33e,-0xbb7+-0xca4+0x185b,-0x1a4+0x24d6+-0x2331))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x15ef*0x1+0x74*-0x2b+0x2*-0x139,0x18e5*-0x1+-0x326*0x4+0x257d,0x951+-0xf2+-0x77*0x12,0x1*0x229f+0x2*0x3d8+0x1527*-0x2))),h(Tt,'RED',Object['freeze'](new Tt(0x2*0x7b3+0x2402+-0x3367*0x1,-0x8cd+0x272*0x4+-0xfb,0xbb5+0x23b8+0xd5*-0x39,-0x7fa+-0xb32+0x1*0x132d))),h(Tt,'WHITE',Object['freeze'](new Tt(-0xd65*-0x1+0x1cf9+0x2a5d*-0x1,-0x1*0x1d39+-0x3*0x8ec+0x2*0x1bff,0x1*0x14ed+0x142f+-0x291b,0x7*0x73+0x2cb*0x1+-0x5ef))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x6*0x5a+-0xb*0xf1+0xb*0xc0,-0xacb*0x3+0x132*-0x1d+0x430c,-0x2328+-0x4f8+-0x504*-0x8,-0x11b+0x114b+-0x102f)));let ie=Tt;class ZS{constructor(_0x45cc9f,_0x227c40=-0x38a*0x6+-0x1369*-0x1+0x1d3){h(this,'_curve'),h(this,'_left',-(0x1f*-0x99+0xd8d+0x4b*0x11)/(0x1f*-0x3+-0xf59+-0x1*-0xfb6)),h(this,'_right',(-0x246f+0x19d1+0xa9f)/(0x87*0x1e+0xad1+0x3*-0x8e1)),h(this,'_recip',0x615+-0x1*-0x1ee3+-0x24f8),h(this,'_p0',0x1674*0x1+-0x10a2+-0x5d2),h(this,'_p1',-0x415*0x5+-0x937*-0x1+0xb32),h(this,'_m0',0x1*0x14db+-0x1720+0x245),h(this,'_m1',-0x1fdd+-0x147a+0x3457*0x1),(this['_curve']=_0x45cc9f,this['_reset'](_0x227c40));}['evaluate'](_0x29ff4b,_0x4ca9ca=!(0x190*-0xa+0x18da+0x1*-0x939)){(_0x4ca9ca||_0x29ff4b<this['_left']||_0x29ff4b>=this['_right'])&&this['_reset'](_0x29ff4b);let _0x586abd;const _0x453841=this['_curve']['type'];if(_0x453841===_x)_0x586abd=this['_p0'];else{const _0x5d6054=this['_recip']===-0x52f*0x3+-0x5*-0x67d+0x439*-0x4?0x2*-0x12d5+-0x293+-0x283d*-0x1:(_0x29ff4b-this['_left'])*this['_recip'];_0x453841===mx?_0x586abd=Y['lerp'](this['_p0'],this['_p1'],_0x5d6054):_0x453841===tp?_0x586abd=Y['lerp'](this['_p0'],this['_p1'],_0x5d6054*_0x5d6054*(0x2f*0x43+-0x41*-0x77+-0x9*0x4b9-(0x1707+-0x176+0x1*-0x158f)*_0x5d6054)):_0x586abd=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5d6054);}return _0x586abd;}['_reset'](_0x2cf357){const _0x2b0dad=this['_curve']['keys'],_0x4dd430=_0x2b0dad['length'];if(!_0x4dd430)this['_left']=-(-0xf*0x27f+0x1572+0x20*0x80)/(-0x598+0x517*-0x1+0x5*0x223),this['_right']=(-0xbe3+-0x234e+-0x1*-0x2f32)/(-0x349*0x5+-0xb83+0x1bf0),this['_recip']=0x113c+-0x3*0xa77+0xe29,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x227a+0x166*0x4+0x1ce2;else{if(_0x2cf357<_0x2b0dad[0x53*-0x47+0x1*0x24e6+0xd1*-0x11][-0xe5*0x26+0x18bf+0x93f])this['_left']=-(-0x2*0x7a2+-0x56b+0x52c*0x4)/(0x405+-0x1023+-0xc1e*-0x1),this['_right']=_0x2b0dad[0xc80+-0x1837+0xbb7][0x1*0x1d35+0x122b*0x1+-0x5ec*0x8],this['_recip']=-0x1ca7+0x57*-0x11+0x226e,this['_p0']=this['_p1']=_0x2b0dad[-0x110f+0x7d1+0x93e][-0x110f+0xa21+-0x163*-0x5],this['_m0']=this['_m1']=-0x5c6+0x125e+0x1a*-0x7c;else{if(_0x2cf357>=_0x2b0dad[_0x4dd430-(-0x5bc+0x1432+-0xe75*0x1)][0x12e9+0x3*-0x5e3+-0x140])this['_left']=_0x2b0dad[_0x4dd430-(0x72f+-0x1*-0x12f8+-0x2*0xd13)][-0xd7b+-0x1a7a+0x27f5],this['_right']=(-0x256*0xe+0xf11+0x11a4)/(-0x3*-0x579+0x243b+-0x34a6),this['_recip']=0xd4c+0x8e*-0x1d+0x165*0x2,this['_p0']=this['_p1']=_0x2b0dad[_0x4dd430-(0x1*-0x10f3+0x2477+-0x1383)][0x676*-0x1+-0x681*-0x4+0x4d*-0x41],this['_m0']=this['_m1']=-0x66a*0x5+-0x19ad+0x39bf;else{let _0x5ab7c9=0x5*-0x35b+-0x1464+0x252b;for(;_0x2cf357>=_0x2b0dad[_0x5ab7c9+(-0xee8+0x24f4+0xb*-0x201)][0x657*-0x1+-0x1127*-0x1+-0xad0];)_0x5ab7c9++;this['_left']=_0x2b0dad[_0x5ab7c9][-0xc11+-0x20a3+0x2cb4],this['_right']=_0x2b0dad[_0x5ab7c9+(0x18f9*-0x1+-0x1f*-0x49+0x1023)][-0x1ed+-0x1a3*-0xb+-0x1014];const _0x4c0bc2=(-0x191*0x17+0x1*-0x233f+0x4747)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x4c0bc2)?_0x4c0bc2:-0xef6*0x2+-0x11*-0x9a+0x2*0x9d9,this['_p0']=_0x2b0dad[_0x5ab7c9][0x42f+-0x1*0xfdf+0xbb1],this['_p1']=_0x2b0dad[_0x5ab7c9+(-0x65*-0x26+-0x1a2f*-0x1+-0xaa*0x3e)][0x1872+0x3c6+-0x1c37],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x2b0dad,_0x5ab7c9);}}}}['_calcTange'+'nts'](_0x19e83f,_0x545e33){let _0x9fb92d;const _0x2f93f5=_0x19e83f[_0x545e33],_0x391f47=_0x19e83f[_0x545e33+(-0xf8*0x1+-0x25fb+0x12*0x22a)];let _0x2744d6;if(_0x545e33===-0x49*0x6b+0x4e+0x1e35?_0x9fb92d=[_0x19e83f[0x254e+-0x152e+-0x1020][-0x1b6e+-0xaa8*0x1+0x96*0x41]+(_0x19e83f[-0x322*-0x2+-0x89c+-0x2*-0x12c][-0x1*-0x2161+-0x1*0x1da5+-0x3bc]-_0x19e83f[-0x19*0xe8+-0x1d99+-0x1*-0x3442][-0xb*-0x368+0x48c*-0x2+-0x1c60]),_0x19e83f[0x207*-0x3+0x9a3+-0x38e][-0x24b7+-0x9d*-0x3+0x22e1]+(_0x19e83f[0x73a+0x1600+-0x1d3a][0x6*0x12a+-0x220a+0x905*0x3]-_0x19e83f[0x613+0xa40*0x2+-0x1a92][-0x25f6+-0x1*-0x22e1+-0x316*-0x1])]:_0x9fb92d=_0x19e83f[_0x545e33-(-0x473*0x8+-0x1*0x235f+0x46f8)],_0x545e33===_0x19e83f['length']-(0x24f4+-0x24af+0x43*-0x1)?_0x2744d6=[_0x19e83f[_0x545e33+(-0x1a1d+-0xd19+0x2737)][-0x1a70+0x24bd+0x1*-0xa4d]+(_0x19e83f[_0x545e33+(-0x37e*0x5+-0x20ac+0x97*0x55)][-0xbf7+0x1ba3+-0x2*0x7d6]-_0x19e83f[_0x545e33][-0x170e+0x2*-0x51b+0x2144]),_0x19e83f[_0x545e33+(-0x2*0x436+0x1*0x2404+0x7*-0x3f1)][0x2251+-0x19b2+-0x2*0x44f]+(_0x19e83f[_0x545e33+(-0x1*0x556+-0x7f*0x1b+-0x2c*-0x6d)][0x113d*0x1+-0x209*0xc+0xe6*0x8]-_0x19e83f[_0x545e33][0x14f*0xf+-0xc7*0x9+-0xca1*0x1])]:_0x2744d6=_0x19e83f[_0x545e33+(0x43*-0x4f+-0x698*-0x1+0xe17)],this['_curve']['type']===Nm){const _0x59d1ea=(0x31a+-0x16b3+0x139b)*(_0x391f47[-0x1*-0x192d+-0x1905+-0x28]-_0x2f93f5[-0x45*-0x42+-0x23bd+0x11f3])/(_0x391f47[0x75+-0xb79+0x1*0xb04]-_0x9fb92d[-0xdcc+-0x86b*-0x1+0x561]),_0x11fe1c=(-0xa29*-0x2+0x7f8+-0x712*0x4)*(_0x391f47[0x95f+0x1d07+-0x2666]-_0x2f93f5[0x2006+0x88e*-0x2+0x53*-0x2e])/(_0x2744d6[-0x53e*-0x7+0x68c+0x10e*-0x29]-_0x2f93f5[-0xa6+0x22d4+0x7d*-0x46]);this['_m0']=this['_curve']['tension']*(isFinite(_0x59d1ea)?_0x59d1ea:0xef*0xe+-0x1ea9+0x39*0x4f)*(_0x391f47[0x19c7+-0xe34+0x1*-0xb92]-_0x9fb92d[0xb0*-0x2+-0xd7e+-0x9*-0x1a7]),this['_m1']=this['_curve']['tension']*(isFinite(_0x11fe1c)?_0x11fe1c:-0xe15+0x1b5a+-0xd45)*(_0x2744d6[-0x6d*-0xb+0x11f2+-0x4*0x5a8]-_0x2f93f5[-0x1*0x160+0x589+-0x428]);}else{const _0x3f1841=(_0x391f47[0x275+0x1c00+-0x1e75*0x1]-_0x2f93f5[-0x3*0x6b1+-0x1*0x8be+0x99b*0x3])/(_0x2f93f5[-0x1*0x10f5+-0x7*-0x2b7+-0x106*0x2]-_0x9fb92d[0xf*-0xd5+0x2509+-0x188e]),_0x3e6c79=(_0x391f47[0x7f7+-0x22bc+0x1*0x1ac5]-_0x2f93f5[0x204d*0x1+-0x22e8+0x29b])/(_0x2744d6[-0xaaa+0x106e+0x3*-0x1ec]-_0x391f47[0x1342+0x785+-0x1ac7]),_0x3f0bb6=_0x2f93f5[0x1*0x1e43+0xcdc+-0x158f*0x2]+(_0x9fb92d[0x718+-0x1b29+0x1412]-_0x2f93f5[-0x1cf9+-0x253c+0x4236])*(isFinite(_0x3f1841)?_0x3f1841:-0x1*0xc21+0x1*0x1009+0x7d*-0x8),_0x2505a1=_0x391f47[0xb92+0x19*0xae+0x1c8f*-0x1]+(_0x2744d6[-0x1d9+0xd*-0x18d+0x1603*0x1]-_0x391f47[0x24b5*0x1+-0x2*-0x1078+-0x45a4])*(isFinite(_0x3e6c79)?_0x3e6c79:-0x522*0x3+0x2083+-0x111d),_0x3c3f95=this['_curve']['tension'];this['_m0']=_0x3c3f95*(_0x391f47[0x1d*0xa5+-0x2630+-0x2*-0x9c0]-_0x3f0bb6),this['_m1']=_0x3c3f95*(_0x2505a1-_0x2f93f5[-0x241c+-0x40c+-0x1bf*-0x17]);}}['_evaluateH'+'ermite'](_0x5d1353,_0x5f3fb8,_0x30c0e0,_0x244010,_0x5e9263){const _0x503ac4=_0x5e9263*_0x5e9263,_0x2caae4=_0x5e9263+_0x5e9263,_0x3dfd54=0x206*0x9+0x3d*0x4+-0x1329-_0x5e9263,_0x44925a=_0x3dfd54*_0x3dfd54;return _0x5d1353*((0x1*-0xfc9+0x19f2+-0xa28+_0x2caae4)*_0x44925a)+_0x30c0e0*(_0x5e9263*_0x44925a)+_0x5f3fb8*(_0x503ac4*(0xe*-0x9b+0x4*0x374+-0x553-_0x2caae4))+_0x244010*(_0x503ac4*(_0x5e9263-(0xab4+-0x397*-0x1+-0xe4a*0x1)));}}class qs{constructor(_0x10a4fc){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x16d5+0x1a8*-0xe+0x2e05+0.5),h(this,'_eval',new ZS(this));if(_0x10a4fc){for(let _0x4cff13=-0x11f*-0x1f+0x1c05+-0x3ec6;_0x4cff13<_0x10a4fc['length']-(-0x5d5+0xc1*-0xe+0x1064);_0x4cff13+=0x1*0xce+-0x259a+0x24ce)this['keys']['push']([_0x10a4fc[_0x4cff13],_0x10a4fc[_0x4cff13+(-0xe41*-0x1+0x35*-0x81+0x1*0xc75)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x2144cf,_0x47fa8f){const _0x5a0eb0=this['keys'],_0xf2fa70=_0x5a0eb0['length'];let _0x995ac3=-0x1*-0x1d35+0xde5+0x12*-0x265;for(;_0x995ac3<_0xf2fa70&&!(_0x5a0eb0[_0x995ac3][-0x8bf+-0x7*0x4db+0x2abc]>_0x2144cf);_0x995ac3++);const _0x1851f6=[_0x2144cf,_0x47fa8f];return this['keys']['splice'](_0x995ac3,0x3ad*0x5+0x7*0x2b4+0x3*-0xc6f,_0x1851f6),_0x1851f6;}['get'](_0x4a214b){return this['keys'][_0x4a214b];}['sort'](){this['keys']['sort']((_0x516a40,_0x266cdb)=>_0x516a40[0x1*-0x1d2+0x9fb+-0x829]-_0x266cdb[-0x12a4+-0x1b46+0x9*0x51a]);}['value'](_0x59857e){return this['_eval']['evaluate'](_0x59857e,!(-0xed9+0x329*0x7+-0x746));}['closest'](_0x115701){const _0x222a24=this['keys'],_0x202b05=_0x222a24['length'];let _0x49e746=0x648+0x318+-0x95e,_0x4463e1=null;for(let _0x4acdfa=-0x5f5+0x2*-0xa80+0x1af5;_0x4acdfa<_0x202b05;_0x4acdfa++){const _0x35c86d=Math['abs'](_0x115701-_0x222a24[_0x4acdfa][0x1b75+-0x1*-0x1e5+-0x11*0x1ba]);if(_0x49e746>=_0x35c86d)_0x49e746=_0x35c86d,_0x4463e1=_0x222a24[_0x4acdfa];else break;}return _0x4463e1;}['clone'](){const _0x29842b=new this['constructo'+'r']();return _0x29842b['keys']=this['keys']['map'](_0x231a2c=>[..._0x231a2c]),_0x29842b['type']=this['type'],_0x29842b['tension']=this['tension'],_0x29842b;}['quantize'](_0x49a3b5){_0x49a3b5=Math['max'](_0x49a3b5,0x1618+-0x1*-0x47+-0x165d);const _0x19646e=new Float32Array(_0x49a3b5),_0x5b464f=(0xac*-0x1a+0x645+0xb34)/(_0x49a3b5-(0xf7b+-0x5*0x8b+-0xcc3));_0x19646e[0x273*-0xb+0xdf7+0xcfa]=this['_eval']['evaluate'](-0x165e+-0x68+0x16c6,!(-0x24b6+-0x12ec+-0x2*-0x1bd1));for(let _0x351ff4=-0x21fa+0x1*0x95b+-0x10*-0x18a;_0x351ff4<_0x49a3b5;_0x351ff4++)_0x19646e[_0x351ff4]=this['_eval']['evaluate'](_0x5b464f*_0x351ff4);return _0x19646e;}['quantizeCl'+'amped'](_0xf25cea,_0x1265dc,_0x2fefeb){const _0x193e78=this['quantize'](_0xf25cea);for(let _0x20ed42=-0x5*-0x336+-0x1*-0x14f1+-0x24ff;_0x20ed42<_0x193e78['length'];++_0x20ed42)_0x193e78[_0x20ed42]=Math['min'](_0x2fefeb,Math['max'](_0x1265dc,_0x193e78[_0x20ed42]));return _0x193e78;}}class na{constructor(..._0x2b992f){h(this,'curves',[]),h(this,'_type',tp);if(_0x2b992f['length']>-0x57b*-0x2+-0xea4+0x17*0x29){for(let _0x25587d=0x1*0x81d+0x23*0xf7+0x29e2*-0x1;_0x25587d<_0x2b992f['length'];_0x25587d++)this['curves']['push'](new qs(_0x2b992f[_0x25587d]));}else{if(_0x2b992f['length']===-0xa2f*-0x3+-0x11*0x1ac+0x5*-0x6d)this['curves']['push'](new qs());else{const _0x3ea912=_0x2b992f[0x7b3+-0x1a9b*-0x1+-0x224e];if(typeof _0x3ea912=='number'){for(let _0xc98379=-0x1644+0x2531+-0x1*0xeed;_0xc98379<_0x3ea912;_0xc98379++)this['curves']['push'](new qs());}else{for(let _0x2e1a3a=0x73a+0x1*-0x1205+-0x399*-0x3;_0x2e1a3a<_0x3ea912['length'];_0x2e1a3a++)this['curves']['push'](new qs(_0x3ea912[_0x2e1a3a]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x13b812){this['_type']=_0x13b812;for(let _0x1e00dd=0x15e5+-0x112*0x6+-0xf79;_0x1e00dd<this['curves']['length'];_0x1e00dd++)this['curves'][_0x1e00dd]['type']=_0x13b812;}get['type'](){return this['_type'];}['get'](_0x271508){return this['curves'][_0x271508];}['value'](_0x34e96c,_0x2fdd54=[]){const _0x33b2a7=this['curves']['length'];_0x2fdd54['length']=_0x33b2a7;for(let _0x53e145=-0x495*0x2+0x1681+-0x5*0x2ab;_0x53e145<_0x33b2a7;_0x53e145++)_0x2fdd54[_0x53e145]=this['curves'][_0x53e145]['value'](_0x34e96c);return _0x2fdd54;}['clone'](){const _0x5605b6=new this['constructo'+'r']();_0x5605b6['curves']=[];for(let _0x110b9c=0x107a+-0x1*0x184a+0x7d0;_0x110b9c<this['curves']['length'];_0x110b9c++)_0x5605b6['curves']['push'](this['curves'][_0x110b9c]['clone']());return _0x5605b6['_type']=this['_type'],_0x5605b6;}['quantize'](_0x561cc0){_0x561cc0=Math['max'](_0x561cc0,0x29a*-0x9+0x2*0xeae+-0x5f0);const _0x2ead03=this['curves']['length'],_0x42b92f=new Float32Array(_0x561cc0*_0x2ead03),_0x292b05=(0x7*-0x171+0x67*0x5d+0x1*-0x1b53)/(_0x561cc0-(-0x1852+-0x6ab*0x1+0x1efe));for(let _0x28c5a5=0x15*-0x7b+-0xca1+0x16b8;_0x28c5a5<_0x2ead03;_0x28c5a5++){const _0x19d20c=new ZS(this['curves'][_0x28c5a5]);for(let _0x161d59=-0x3*0x3e2+-0x1524+-0x2*-0x1065;_0x161d59<_0x561cc0;_0x161d59++)_0x42b92f[_0x161d59*_0x2ead03+_0x28c5a5]=_0x19d20c['evaluate'](_0x292b05*_0x161d59);}return _0x42b92f;}['quantizeCl'+'amped'](_0x49860f,_0x1e6542,_0x3afede){const _0x57d933=this['quantize'](_0x49860f);for(let _0x559161=0x1039+-0xc1e+0x41b*-0x1;_0x559161<_0x57d933['length'];++_0x559161)_0x57d933[_0x559161]=Math['min'](_0x3afede,Math['max'](_0x1e6542,_0x57d933[_0x559161]));return _0x57d933;}}const Hf=new Float32Array(0x178d+-0x1*0x719+0x1073*-0x1),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x552650){Hf[0x1f4e+0x2a+-0x1f78]=_0x552650;const _0x1d93f3=km[0xa7f+-0x2*-0xf2e+-0x28db*0x1];let _0x53ae68=_0x1d93f3>>0x1*-0x1f84+-0x9c9*0x3+-0x1*-0x3cef&0x40bc+-0x1*0xfc94+0x13bd8,_0x464e54=_0x1d93f3>>0x8*0x25e+0x16ce+0x3*-0xde6&0x83*0x1a+-0x445*-0x1+-0x994;const _0x470832=_0x1d93f3>>-0x1*0x5c0+0x25b*-0x3+0x1c*0x76&0xabc+-0x1e17*0x1+-0x145a*-0x1;return _0x470832<0xd13*0x1+0xcd*0xe+-0x17e2?_0x53ae68:_0x470832>-0x2371+0x494*0x5+0xd1b?(_0x53ae68|=-0x25e6+0x52d3+0x4f13,_0x53ae68|=(_0x470832===0x26fd+-0x2*0xf79+0x1*-0x70c?0x175d+-0x1776+0x19:-0x1*0x1d32+-0x1*0x1eb9+0x34*0x127)&&_0x1d93f3&-0xfc9d38+-0x8557bd*-0x1+0xf7457a*0x1,_0x53ae68):_0x470832<-0xe2+0x2008+0x1*-0x1eb5?(_0x464e54|=0x5*-0x6d1+-0x44*-0x6e+0xcdd,_0x53ae68|=(_0x464e54>>-0x173d*-0x1+0x95*0x13+-0x21da-_0x470832)+(_0x464e54>>0x2de+-0x2196+0x1f29-_0x470832&0x14d+0x1602+-0x174e),_0x53ae68):(_0x53ae68|=_0x470832-(0x1fae+0x1*0x1c78+-0x3bb6)<<-0x227*0x11+-0x1f1*-0x11+-0x1*-0x3a0|_0x464e54>>-0x2da+-0x1*-0x1aa5+-0x15*0x122,_0x53ae68+=_0x464e54&0x6e*-0x58+-0x598+0x2b69*0x1,_0x53ae68);}static['float2RGBA'+'8'](_0x1ec00c,_0x9c1901){Hf[-0x1*-0x1e1+-0x1*-0x1463+-0x1644]=_0x1ec00c;const _0x54cf2b=km[-0x18fc+-0x13a8+0x2ca4];_0x9c1901['r']=(_0x54cf2b>>0x5*-0x424+0xc39*-0x1+-0x4f*-0x6b&0x3d*-0x2b+0x152f+0x1*-0x9f1)/(0x1361+0x493*0x3+-0x1*0x201b),_0x9c1901['g']=(_0x54cf2b>>-0x270d+-0x234f+0x4a6c&-0xe58+0x2bc+0xc9b)/(-0xc1+0x174*-0xa+0x1048),_0x9c1901['b']=(_0x54cf2b>>-0x2519+0xeaa*-0x1+0x33cb*0x1&-0x1e30+-0xa*0x393+0x42ed)/(0x6bf+-0x142f+-0x2e3*-0x5),_0x9c1901['a']=(_0x54cf2b&0x6a7*-0x1+0xbe5+-0x43f)/(-0x1bce*-0x1+0x9*-0x146+-0xf59*0x1);}}const wt=class wt{constructor(_0x1e1cf1=0x1e68+0x559+0x1*-0x23c1,_0x276bfa=0x45+0x13ea+-0x142f,_0x77cf54=-0x30a*-0x9+0x1d*0x10b+-0x3999){h(this,'x'),h(this,'y'),h(this,'z'),_0x1e1cf1['length']===0x1*0x2547+0x12ec+-0x3830?(this['x']=_0x1e1cf1[-0x100f*0x1+-0xe66+0x1e75*0x1],this['y']=_0x1e1cf1[-0x1e9e*-0x1+0x61d+-0x24ba],this['z']=_0x1e1cf1[0x1*0x20ed+-0x1*0x24af+0xf1*0x4]):(this['x']=_0x1e1cf1,this['y']=_0x276bfa,this['z']=_0x77cf54);}['add'](_0x4f8bec){return this['x']+=_0x4f8bec['x'],this['y']+=_0x4f8bec['y'],this['z']+=_0x4f8bec['z'],this;}['add2'](_0x56f6d7,_0x43efba){return this['x']=_0x56f6d7['x']+_0x43efba['x'],this['y']=_0x56f6d7['y']+_0x43efba['y'],this['z']=_0x56f6d7['z']+_0x43efba['z'],this;}['addScalar'](_0x5ccbab){return this['x']+=_0x5ccbab,this['y']+=_0x5ccbab,this['z']+=_0x5ccbab,this;}['addScaled'](_0x500e15,_0xdea526){return this['x']+=_0x500e15['x']*_0xdea526,this['y']+=_0x500e15['y']*_0xdea526,this['z']+=_0x500e15['z']*_0xdea526,this;}['clone'](){const _0xbc0769=this['constructo'+'r'];return new _0xbc0769(this['x'],this['y'],this['z']);}['copy'](_0x2f172c){return this['x']=_0x2f172c['x'],this['y']=_0x2f172c['y'],this['z']=_0x2f172c['z'],this;}['cross'](_0x4e93fc,_0xb9add4){const _0x62d8fc=_0x4e93fc['x'],_0x20be20=_0x4e93fc['y'],_0x5ebe02=_0x4e93fc['z'],_0x23d718=_0xb9add4['x'],_0x1c9a06=_0xb9add4['y'],_0x2a6482=_0xb9add4['z'];return this['x']=_0x20be20*_0x2a6482-_0x1c9a06*_0x5ebe02,this['y']=_0x5ebe02*_0x23d718-_0x2a6482*_0x62d8fc,this['z']=_0x62d8fc*_0x1c9a06-_0x23d718*_0x20be20,this;}['distance'](_0x22fffc){const _0x512ff5=this['x']-_0x22fffc['x'],_0x345225=this['y']-_0x22fffc['y'],_0x26b95d=this['z']-_0x22fffc['z'];return Math['sqrt'](_0x512ff5*_0x512ff5+_0x345225*_0x345225+_0x26b95d*_0x26b95d);}['div'](_0x5965c9){return this['x']/=_0x5965c9['x'],this['y']/=_0x5965c9['y'],this['z']/=_0x5965c9['z'],this;}['div2'](_0x1237c1,_0x301984){return this['x']=_0x1237c1['x']/_0x301984['x'],this['y']=_0x1237c1['y']/_0x301984['y'],this['z']=_0x1237c1['z']/_0x301984['z'],this;}['divScalar'](_0x5d17f9){return this['x']/=_0x5d17f9,this['y']/=_0x5d17f9,this['z']/=_0x5d17f9,this;}['dot'](_0x5362d9){return this['x']*_0x5362d9['x']+this['y']*_0x5362d9['y']+this['z']*_0x5362d9['z'];}['equals'](_0x4a9d2b){return this['x']===_0x4a9d2b['x']&&this['y']===_0x4a9d2b['y']&&this['z']===_0x4a9d2b['z'];}['equalsAppr'+'ox'](_0x4a4b2c,_0x4ba028=0x1159*-0x1+0x1*-0x190b+-0x2*-0x1532+0.000001){return Math['abs'](this['x']-_0x4a4b2c['x'])<_0x4ba028&&Math['abs'](this['y']-_0x4a4b2c['y'])<_0x4ba028&&Math['abs'](this['z']-_0x4a4b2c['z'])<_0x4ba028;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x43e4d0,_0x5bb9d9,_0x2e4284){return this['x']=_0x43e4d0['x']+_0x2e4284*(_0x5bb9d9['x']-_0x43e4d0['x']),this['y']=_0x43e4d0['y']+_0x2e4284*(_0x5bb9d9['y']-_0x43e4d0['y']),this['z']=_0x43e4d0['z']+_0x2e4284*(_0x5bb9d9['z']-_0x43e4d0['z']),this;}['mul'](_0x44a2f9){return this['x']*=_0x44a2f9['x'],this['y']*=_0x44a2f9['y'],this['z']*=_0x44a2f9['z'],this;}['mul2'](_0x44ae9f,_0xcde384){return this['x']=_0x44ae9f['x']*_0xcde384['x'],this['y']=_0x44ae9f['y']*_0xcde384['y'],this['z']=_0x44ae9f['z']*_0xcde384['z'],this;}['mulScalar'](_0xd39563){return this['x']*=_0xd39563,this['y']*=_0xd39563,this['z']*=_0xd39563,this;}['normalize'](_0x22f92d=this){const _0x467647=_0x22f92d['x']*_0x22f92d['x']+_0x22f92d['y']*_0x22f92d['y']+_0x22f92d['z']*_0x22f92d['z'];if(_0x467647>0x3b*0x8f+-0x18ab*-0x1+0x1*-0x39a0){const _0x327586=(0x1b0b+0x1e91+-0x399b)/Math['sqrt'](_0x467647);this['x']=_0x22f92d['x']*_0x327586,this['y']=_0x22f92d['y']*_0x327586,this['z']=_0x22f92d['z']*_0x327586;}return this;}['floor'](_0x42bc08=this){return this['x']=Math['floor'](_0x42bc08['x']),this['y']=Math['floor'](_0x42bc08['y']),this['z']=Math['floor'](_0x42bc08['z']),this;}['ceil'](_0x4bebdc=this){return this['x']=Math['ceil'](_0x4bebdc['x']),this['y']=Math['ceil'](_0x4bebdc['y']),this['z']=Math['ceil'](_0x4bebdc['z']),this;}['round'](_0x1252c7=this){return this['x']=Math['round'](_0x1252c7['x']),this['y']=Math['round'](_0x1252c7['y']),this['z']=Math['round'](_0x1252c7['z']),this;}['min'](_0x22b71c){return _0x22b71c['x']<this['x']&&(this['x']=_0x22b71c['x']),_0x22b71c['y']<this['y']&&(this['y']=_0x22b71c['y']),_0x22b71c['z']<this['z']&&(this['z']=_0x22b71c['z']),this;}['max'](_0x3035ff){return _0x3035ff['x']>this['x']&&(this['x']=_0x3035ff['x']),_0x3035ff['y']>this['y']&&(this['y']=_0x3035ff['y']),_0x3035ff['z']>this['z']&&(this['z']=_0x3035ff['z']),this;}['project'](_0xb9d258){const _0x135c39=this['x']*_0xb9d258['x']+this['y']*_0xb9d258['y']+this['z']*_0xb9d258['z'],_0xe6814a=_0xb9d258['x']*_0xb9d258['x']+_0xb9d258['y']*_0xb9d258['y']+_0xb9d258['z']*_0xb9d258['z'],_0x3be754=_0x135c39/_0xe6814a;return this['x']=_0xb9d258['x']*_0x3be754,this['y']=_0xb9d258['y']*_0x3be754,this['z']=_0xb9d258['z']*_0x3be754,this;}['set'](_0x2afbb8,_0x7a3dc,_0x45fd16){return this['x']=_0x2afbb8,this['y']=_0x7a3dc,this['z']=_0x45fd16,this;}['sub'](_0x56c041){return this['x']-=_0x56c041['x'],this['y']-=_0x56c041['y'],this['z']-=_0x56c041['z'],this;}['sub2'](_0x49f21e,_0x98cf7b){return this['x']=_0x49f21e['x']-_0x98cf7b['x'],this['y']=_0x49f21e['y']-_0x98cf7b['y'],this['z']=_0x49f21e['z']-_0x98cf7b['z'],this;}['subScalar'](_0x337a7e){return this['x']-=_0x337a7e,this['y']-=_0x337a7e,this['z']-=_0x337a7e,this;}['fromArray'](_0x3057cd,_0x580c8e=-0x6e6+0xbbc+0x4d6*-0x1){return this['x']=_0x3057cd[_0x580c8e]??this['x'],this['y']=_0x3057cd[_0x580c8e+(0x1b1+-0x1d9c*-0x1+-0x1f4c)]??this['y'],this['z']=_0x3057cd[_0x580c8e+(-0x1eee+0x1a96+0x45a)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x1d1238=[],_0x5d10b9=0x9e*0x8+-0x1975+-0x67*-0x33){return _0x1d1238[_0x5d10b9]=this['x'],_0x1d1238[_0x5d10b9+(-0xe29+0x3*0x9eb+-0xf97)]=this['y'],_0x1d1238[_0x5d10b9+(0x447+-0x38*-0x32+0x1*-0xf35)]=this['z'],_0x1d1238;}};h(wt,'ZERO',Object['freeze'](new wt(-0x1a00+0x17*0x9d+0x69*0x1d,0x20cf+0x1c90+-0x3d5f,0xe3*-0x14+-0x22ad+0x3469*0x1))),h(wt,'HALF',Object['freeze'](new wt(0x47*0x53+-0xf8a+-0x77b+0.5,-0x877*0x2+-0x575+0x1*0x1663+0.5,-0x35*0x4a+0x1415+-0x4c3+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x166*-0x1+0x59*0x9+0x1a*-0x11,0xca9*0x1+-0x3e4+-0x8c4,0x1*-0x1b0f+0x1*-0x223+-0x145*-0x17))),h(wt,'UP',Object['freeze'](new wt(-0x1e95+0x13bf+0xad6,0x13d9+-0xfe*0x3+-0x22*0x7f,-0x2cf*-0x8+0x20fb+-0x55*0xa7))),h(wt,'DOWN',Object['freeze'](new wt(0x1866+-0x1*0x13d8+-0x48e,-(-0x7*0x36e+-0x1c*0x76+0x24eb),0xd89+0x3ae+0x1*-0x1137))),h(wt,'RIGHT',Object['freeze'](new wt(-0x22f7+-0x1*0x547+0x1*0x283f,-0x11f3+-0x253c+0x372f,-0x4f*-0x4f+0x11*-0x178+0x97))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x13c1+-0x2414*-0x1+-0x1052),-0xcef+0xaa8+0x247*0x1,-0x1*0x1321+0x1*0x1199+0x188))),h(wt,'FORWARD',Object['freeze'](new wt(-0x589*-0x3+-0x829+-0x872,-0x1*-0x141d+-0x15cf+0x1b2,-(0x3*0x175+0x1*0x1695+-0x1af3)))),h(wt,'BACK',Object['freeze'](new wt(0x1e0e+0x111a+-0x1794*0x2,0x725+-0x1ab1+0x138c*0x1,-0x1065+0x1183*-0x1+0x1*0x21e9)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x3bd*0x2+0x1*0xac6+-0x1237)),this['data'][-0x99f*-0x1+0xb23*-0x1+0x184]=this['data'][-0xe2*0x1+-0x20a1+0x2187]=this['data'][-0x3*-0x46d+-0x2b3*-0x4+-0x180b]=-0xb*0x1e0+0x1396+0x1*0x10b;}['clone'](){const _0x3aa4ef=this['constructo'+'r'];return new _0x3aa4ef()['copy'](this);}['copy'](_0x27321c){const _0x4d2983=_0x27321c['data'],_0x5a7787=this['data'];return _0x5a7787[0x18a7*-0x1+0x1*0x1039+0x86e]=_0x4d2983[0x5e*-0xd+0x1974+-0x14ae],_0x5a7787[-0x3c0+-0x29*-0x25+0x22c*-0x1]=_0x4d2983[0x160d+0x1d57+-0x3363],_0x5a7787[-0x3b3*0xa+-0x1b82+-0x1*-0x4082]=_0x4d2983[0xa*0xf8+0x1*0x1+0x9af*-0x1],_0x5a7787[0xccc+-0x17a5+0xadc]=_0x4d2983[-0x112*-0x13+0x1e6d*0x1+-0x32c0],_0x5a7787[0x2*0x10f8+0x1a3f+0x1*-0x3c2b]=_0x4d2983[0x4*-0x355+-0x18a3+0x25fb],_0x5a7787[-0x2c4+-0xf7b+0xa7*0x1c]=_0x4d2983[0x29d*0x9+-0x1*0x1271+-0x50f],_0x5a7787[0x21b1+-0x2174+-0xb*0x5]=_0x4d2983[0xe22+0x116+-0xa*0x185],_0x5a7787[-0x67b+0x15c3+-0xf41]=_0x4d2983[0x1907+-0x2150+0x850],_0x5a7787[0xdb5+0x29*0xdf+0x1b4*-0x1d]=_0x4d2983[-0x9*-0xcf+0x1*-0x1538+0xdf9],this;}['set'](_0x3f950b){const _0x3fae6e=this['data'];return _0x3fae6e[-0x187f*0x1+0x1*-0x160b+0x17*0x206]=_0x3f950b[0x13f9+-0x8f5+-0x3c*0x2f],_0x3fae6e[0x23ed+0x5a5+-0x1*0x2991]=_0x3f950b[0x2700+-0x40f+-0x22f0],_0x3fae6e[0x263d+-0xbef+-0x1a4c]=_0x3f950b[0x2*0xe08+0x319*-0x9+-0x2d*0x1],_0x3fae6e[0x127f*0x1+0x1*-0x1e43+0xbc7]=_0x3f950b[0x26e1+-0x1db0+-0x92e],_0x3fae6e[-0x1*0xd1e+-0xc25*-0x3+-0x174d]=_0x3f950b[0xa10+-0x24aa+-0x1a9e*-0x1],_0x3fae6e[-0x5*-0x184+0x2*-0xb7a+-0x1*-0xf65]=_0x3f950b[0x5d1+0x2*0x1073+0x1359*-0x2],_0x3fae6e[0x129c+-0x4e*0x65+0xc30]=_0x3f950b[0x150+-0x226+0x1*0xdc],_0x3fae6e[0x535+0x4a3*0x1+0x1*-0x9d1]=_0x3f950b[0x1e3f+0x5ab*-0x2+0x2*-0x971],_0x3fae6e[0x1c46+0x2484+-0x40c2]=_0x3f950b[-0x1609*0x1+-0x1387*-0x1+0x28a],this;}['getX'](_0x54b6bb=new D()){return _0x54b6bb['set'](this['data'][-0x8b2+0x275*-0xd+0x28a3],this['data'][0x285*0xf+-0x1*0x24ae+0x4*-0x47],this['data'][0xb*0x322+-0x1281+-0xff3]);}['getY'](_0x38db82=new D()){return _0x38db82['set'](this['data'][-0xb*0x2e3+0x2501+0x1*-0x53d],this['data'][0x1416+-0x426*-0x4+-0x24aa],this['data'][-0x257*-0x2+0x1b3+-0x94*0xb]);}['getZ'](_0x4e1d71=new D()){return _0x4e1d71['set'](this['data'][0x3d*-0x47+0x260b+-0x151a],this['data'][0x1303+-0xad5*0x1+-0x1*0x827],this['data'][0x1*0x26b3+-0x728+-0x3*0xa81]);}['equals'](_0x3cc77f){const _0x3973d8=this['data'],_0x333c9b=_0x3cc77f['data'];return _0x3973d8[0x147e+0xf3a+-0x23b8]===_0x333c9b[0x1bee+-0x114*0x7+-0x1462]&&_0x3973d8[-0x1b18+0x1120+-0x25*-0x45]===_0x333c9b[-0x1*0xadc+0x16a*-0x10+0x1*0x217d]&&_0x3973d8[-0x4*-0x1f9+-0x1db9+-0x15d7*-0x1]===_0x333c9b[-0x1285+-0xd13+0x1f9a]&&_0x3973d8[-0x3*0x911+-0x1*0x123+0x3*0x973]===_0x333c9b[0x116f+0x1df6+0x2f62*-0x1]&&_0x3973d8[-0x1618+-0x1*-0xb9b+0xa81]===_0x333c9b[0xb*0x199+-0x1105+-0x17*0x6]&&_0x3973d8[0x21b4+0x24c3*-0x1+0x314]===_0x333c9b[0xd8f+-0x17d2+0xa48]&&_0x3973d8[0x616+0x1c5e+-0x226e]===_0x333c9b[0x45*-0x45+-0x23d+0x14dc]&&_0x3973d8[0xc6*0x2b+0x244b+-0x4586]===_0x333c9b[-0x799+-0x320+0xac0]&&_0x3973d8[-0xd*0x211+0x5*0x36+0x19d7]===_0x333c9b[0x1c1*-0x3+0x2f*0x2+0x4ed*0x1];}['isIdentity'](){const _0x2e83ca=this['data'];return _0x2e83ca[0x1*0xb35+0x130d+-0x1e42]===0x1*0x7f6+-0xaa5+0x2b0&&_0x2e83ca[0x234d+0x76*0x52+-0x4918]===-0x88f+-0x8e*-0x2b+-0xf4b&&_0x2e83ca[0x144b+0x1198+0x25e1*-0x1]===-0x41c*0x1+0x16be+-0x9*0x212&&_0x2e83ca[-0x1ac4+-0xb*0x1f3+0x4*0xc0e]===0x1644+0x4*0x532+-0x2b0c&&_0x2e83ca[0x1*-0x1af9+0x1ea1*0x1+-0x2*0x1d2]===0x3*-0xba7+0x66*0x6+0x2092&&_0x2e83ca[0x3*-0x2e7+0x210+0x6aa]===0x19a1*0x1+0x1cfa+-0x369b&&_0x2e83ca[0x2668+0x27d+-0x28df]===0x1f*-0xe1+-0x21f0+0x3d2f&&_0x2e83ca[0x1c71+-0xf33+-0xd37]===-0x5df*-0x2+-0x2*-0x523+0x581*-0x4&&_0x2e83ca[0x1382+0x1a57+0x25*-0x13d]===0x7f0+-0x41b*0x1+-0x3d4;}['setIdentit'+'y'](){const _0x231def=this['data'];return _0x231def[0x1b78+0x2*-0x862+-0xab4]=-0xa1a+-0x1*0x1283+-0xe4f*-0x2,_0x231def[0x97*0x7+0x549+0x323*-0x3]=-0x2618+0x1*0x12f1+0x1327,_0x231def[0x49*-0x13+0xdf7*-0x1+0x1364]=0x885*0x3+0x25f7+-0x3f86,_0x231def[-0x2*0x9+0x1*0x153e+0x1529*-0x1]=-0xe33*0x1+-0xe98+0x1ccb,_0x231def[-0x3d*-0x4a+0x1009+-0x21a7]=0x3cb+0x270e*-0x1+0x8d1*0x4,_0x231def[-0x26aa+-0x3e2+0x2a91]=0x1*0x5e+0x2457+-0x1*0x24b5,_0x231def[0x1240+0x22*-0x18+-0xf0a]=-0x33*0x6a+0x12a5+-0x3*-0xd3,_0x231def[-0x943*-0x1+-0x440+0x13f*-0x4]=0x27+-0x151b+-0x24*-0x95,_0x231def[-0xb88+-0xaf9+0x1689]=0x3*0xbb7+-0x6a0+-0x1c84,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x6917a9=this){const _0x2408c3=_0x6917a9['data'],_0x3e5bff=this['data'];if(_0x2408c3===_0x3e5bff){let _0x3657b5;_0x3657b5=_0x2408c3[-0x1*-0x1f63+-0x15d6+0x34*-0x2f],_0x3e5bff[0x1e53+-0x22c5+-0x1*-0x473]=_0x2408c3[0xccc*0x1+-0x1*-0x4b5+-0x117e],_0x3e5bff[-0x5*-0x469+-0x1e3+-0x1427]=_0x3657b5,_0x3657b5=_0x2408c3[0x11ca+-0x9e3+-0x7e5*0x1],_0x3e5bff[-0x1f8a+-0x1828+0x37b4]=_0x2408c3[-0xc43+-0x1b45+0x278e],_0x3e5bff[0x497*0x2+0xb*0x224+-0x2*0x105a]=_0x3657b5,_0x3657b5=_0x2408c3[-0x42c+0xb4+0x13*0x2f],_0x3e5bff[-0x2485+0x17a1+0xce9]=_0x2408c3[0x8f0+-0x1*-0x22ef+-0x2bd8],_0x3e5bff[0x12f3+0x1*-0x10e3+-0x209]=_0x3657b5;}else _0x3e5bff[-0xc35+-0x835*0x1+0x146a*0x1]=_0x2408c3[0x6*0x125+0x1*-0x944+0x266],_0x3e5bff[0x231d+0x1d*0xca+0x1cff*-0x2]=_0x2408c3[0x2100+0x1ec9*0x1+-0x3fc6],_0x3e5bff[0x1719+-0x6c5*0x3+-0x2c8]=_0x2408c3[0x28*0x13+-0x3*-0x2d6+-0xb74],_0x3e5bff[0x12b8+0x2290+-0x3545]=_0x2408c3[-0x1904+0xeff+-0xa06*-0x1],_0x3e5bff[-0xd*-0xc3+0x244c+-0x2e2f]=_0x2408c3[0x31*0x7b+0x5ba*0x3+-0x28b5],_0x3e5bff[0x1fe+0x14a0+-0x59*0x41]=_0x2408c3[0x1*0x1b55+0x652+0x434*-0x8],_0x3e5bff[-0x3bc*0x3+-0xb*-0x1b7+0x11*-0x73]=_0x2408c3[0x1101+0x1843*0x1+0x14a1*-0x2],_0x3e5bff[0x12*-0x6+-0x4*0x8f6+0x1e9*0x13]=_0x2408c3[0x20eb*-0x1+0x45f*-0x3+0x2e0d],_0x3e5bff[0x2*-0x9a5+0xa52*0x2+-0x2*0xa9]=_0x2408c3[0x1*-0x1f7f+-0xb7d*-0x2+0x88d];return this;}['setFromMat'+'4'](_0x357394){const _0x1375ac=_0x357394['data'],_0x56dc02=this['data'];return _0x56dc02[-0x236*0x1+0x1a1f+-0x17e9]=_0x1375ac[-0x1*-0xc29+-0x392*-0x5+-0x1e03],_0x56dc02[-0x1a1f+0xe3f+0x1*0xbe1]=_0x1375ac[0x115*-0xa+0x707+-0x2*-0x1e6],_0x56dc02[-0xd25*-0x1+-0x217c*0x1+0x1459]=_0x1375ac[-0x2268+0x1*0xc22+0x1f*0xb8],_0x56dc02[0xe00*-0x1+0x7b3+0x650]=_0x1375ac[-0x74c+-0x1b65+0x22b5],_0x56dc02[0x48f+0x21d*0x1+-0x6a8]=_0x1375ac[-0x10b9+0x2437+-0x1379],_0x56dc02[-0x1253+-0x136c+0x25c4]=_0x1375ac[0x5*0x3ef+-0x21f7+-0xd*-0x11a],_0x56dc02[0x1c37+-0xce6+-0xf4b]=_0x1375ac[0xc*0x95+-0x2*-0xcb3+-0x205a],_0x56dc02[-0x96c+0x20c+0x767]=_0x1375ac[0x219d+0x1*0x589+0x20f*-0x13],_0x56dc02[-0x38b*-0x4+-0x1f74+0x1150]=_0x1375ac[-0x3*-0xa45+-0x20ef+0x22a],this;}['setFromQua'+'t'](_0x381078){const _0x28515d=_0x381078['x'],_0x57cb45=_0x381078['y'],_0x394557=_0x381078['z'],_0x1043c1=_0x381078['w'],_0x9602f3=_0x28515d+_0x28515d,_0x5924f7=_0x57cb45+_0x57cb45,_0x3b222b=_0x394557+_0x394557,_0x37ce30=_0x28515d*_0x9602f3,_0x4712f4=_0x28515d*_0x5924f7,_0xbbfd11=_0x28515d*_0x3b222b,_0x2788d1=_0x57cb45*_0x5924f7,_0x9fc247=_0x57cb45*_0x3b222b,_0x12b709=_0x394557*_0x3b222b,_0x3b0acd=_0x1043c1*_0x9602f3,_0x1ad3ec=_0x1043c1*_0x5924f7,_0x1b49c9=_0x1043c1*_0x3b222b,_0x1491bd=this['data'];return _0x1491bd[0x2*-0x1165+-0x216f+0x4439]=0x178c+0x17*0x14b+-0x3548-(_0x2788d1+_0x12b709),_0x1491bd[-0x223a+-0x4f*-0x2b+0x14f6]=_0x4712f4+_0x1b49c9,_0x1491bd[0x21e0+-0x16fb+-0x1*0xae3]=_0xbbfd11-_0x1ad3ec,_0x1491bd[0x1*0x20a5+0x5*-0x2b+-0x1fcb]=_0x4712f4-_0x1b49c9,_0x1491bd[-0x8b6*0x1+-0x2018*0x1+0x3b6*0xb]=-0x150c+-0x1d0e*-0x1+-0x801-(_0x37ce30+_0x12b709),_0x1491bd[0x3*0x283+-0x1106+0x4c1*0x2]=_0x9fc247+_0x3b0acd,_0x1491bd[-0x329*0x9+-0xe72+-0x5*-0x895]=_0xbbfd11+_0x1ad3ec,_0x1491bd[0x19f3+-0x18c9+-0x123]=_0x9fc247-_0x3b0acd,_0x1491bd[-0x1*0x1fcf+0x4*-0x866+0x416f]=-0x24f8+0x21f2+0x307-(_0x37ce30+_0x2788d1),this;}['invertMat4'](_0x4b9144){const _0x47e678=_0x4b9144['data'],_0x4a1792=_0x47e678[-0x11*-0x1df+-0x170+-0x1e5f],_0x389e6f=_0x47e678[0x4*0x2c2+0x1*-0x1f52+0x144b],_0x172fe3=_0x47e678[0x50*0x3b+0x51*0x60+0x30ce*-0x1],_0x14e852=_0x47e678[-0x676*0x4+-0x623*-0x1+0x129*0x11],_0x2b493e=_0x47e678[-0x16d7+0x1910+-0x5e*0x6],_0x54db09=_0x47e678[-0x8*-0x15b+0x217d*0x1+-0x2c4f],_0x5eacf4=_0x47e678[0x1964+0xe*0x6b+-0xa*0x31f],_0x1376fc=_0x47e678[0xb22+0x435+0x28d*-0x6],_0x37e3be=_0x47e678[0x1eb0+0x1*0x219f+-0x4045],_0x2b65d4=_0x37e3be*_0x2b493e-_0x54db09*_0x1376fc,_0x5193e6=-_0x37e3be*_0x389e6f+_0x172fe3*_0x1376fc,_0x84f1f5=_0x54db09*_0x389e6f-_0x172fe3*_0x2b493e,_0x3da0fd=-_0x37e3be*_0x14e852+_0x54db09*_0x5eacf4,_0x1dcc3b=_0x37e3be*_0x4a1792-_0x172fe3*_0x5eacf4,_0x1e6c76=-_0x54db09*_0x4a1792+_0x172fe3*_0x14e852,_0x3fbb4e=_0x1376fc*_0x14e852-_0x2b493e*_0x5eacf4,_0x59c810=-_0x1376fc*_0x4a1792+_0x389e6f*_0x5eacf4,_0x43bab0=_0x2b493e*_0x4a1792-_0x389e6f*_0x14e852,_0x413316=_0x4a1792*_0x2b65d4+_0x389e6f*_0x3da0fd+_0x172fe3*_0x3fbb4e;if(_0x413316===0x1*0x177b+0xa45+-0x48*0x78)this['setIdentit'+'y']();else{const _0x3f515c=(0x1*-0x427+0x7c2+-0x39a)/_0x413316,_0x5a2455=this['data'];_0x5a2455[-0x24dc+0x187c+0xc60]=_0x2b65d4*_0x3f515c,_0x5a2455[0x1b25*-0x1+-0x1*-0x1d17+0x47*-0x7]=_0x5193e6*_0x3f515c,_0x5a2455[-0x21d*0x11+-0xf84+0x3373*0x1]=_0x84f1f5*_0x3f515c,_0x5a2455[0x5*-0x1b4+0x1935+0x356*-0x5]=_0x3da0fd*_0x3f515c,_0x5a2455[-0x18b1+0xf6f+0x946]=_0x1dcc3b*_0x3f515c,_0x5a2455[0x25dc+-0x830+-0x1da7]=_0x1e6c76*_0x3f515c,_0x5a2455[-0x2cd*0x3+0x20c7+-0x1*0x185a]=_0x3fbb4e*_0x3f515c,_0x5a2455[0x3*-0x419+0x15*-0x59+0x139f]=_0x59c810*_0x3f515c,_0x5a2455[0x271*0x2+0x2*0xafb+-0x1ad0]=_0x43bab0*_0x3f515c;}return this;}['transformV'+'ector'](_0x410060,_0x285caa=new D()){const _0x353c6c=this['data'],{x:_0x25ed2f,y:_0x112a9a,z:_0x513432}=_0x410060;return _0x285caa['x']=_0x25ed2f*_0x353c6c[0x5c*-0x65+-0x355+0x27a1]+_0x112a9a*_0x353c6c[-0xba5+-0x1c8a+0x7*0x5be]+_0x513432*_0x353c6c[0x2*0x463+0x65*0x3b+0x38f*-0x9],_0x285caa['y']=_0x25ed2f*_0x353c6c[0x1*0x139e+-0x2061+0xcc4*0x1]+_0x112a9a*_0x353c6c[-0x2*-0xcd0+-0x49*-0x82+0xe2*-0x47]+_0x513432*_0x353c6c[-0x1451+-0xba3+0xaa9*0x3],_0x285caa['z']=_0x25ed2f*_0x353c6c[-0x135*-0x17+0x18*-0xda+-0x751]+_0x112a9a*_0x353c6c[-0x1*-0x2e4+0x4a9+-0x1e2*0x4]+_0x513432*_0x353c6c[0x4c7*0x5+-0x1c6a+0x48f],_0x285caa;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([0x20*-0x97+0x23c0+-0x10e0,0x1445+-0x1d7d*0x1+0x938,-0x22b+-0x4cd*0x7+0x2*0x11e3,-0x1293+0x511*0x3+0x4*0xd8,0x214a+0x1*0xfbb+0x3105*-0x1,0xd9b+0x1a28+0x30f*-0xd,0x9e*-0x1+-0x76*0x38+0x1a6e,0x1a*0x109+-0x193c+-0x1*0x1ae,0x2426+-0x16c0+-0x5*0x2ae])));let _i=gn;const Gt=class Gt{constructor(_0x10be9e=0x22e2+-0x6b2*-0x1+-0x2994,_0x50f49e=-0x2d+0xf7*-0x1c+0x1b31){h(this,'x'),h(this,'y'),_0x10be9e['length']===0xac2+0xbb7+0x47*-0x51?(this['x']=_0x10be9e[0x209*-0x1+-0x1*-0x216+-0xd],this['y']=_0x10be9e[-0x2*-0x21a+-0x33*-0x6f+-0x1a50]):(this['x']=_0x10be9e,this['y']=_0x50f49e);}['add'](_0x4d03c4){return this['x']+=_0x4d03c4['x'],this['y']+=_0x4d03c4['y'],this;}['add2'](_0x2f36f3,_0x30a37d){return this['x']=_0x2f36f3['x']+_0x30a37d['x'],this['y']=_0x2f36f3['y']+_0x30a37d['y'],this;}['addScalar'](_0xc2c799){return this['x']+=_0xc2c799,this['y']+=_0xc2c799,this;}['addScaled'](_0x19101e,_0x41d044){return this['x']+=_0x19101e['x']*_0x41d044,this['y']+=_0x19101e['y']*_0x41d044,this;}['clone'](){const _0x4c75ae=this['constructo'+'r'];return new _0x4c75ae(this['x'],this['y']);}['copy'](_0x25b633){return this['x']=_0x25b633['x'],this['y']=_0x25b633['y'],this;}['cross'](_0x3283dc){return this['x']*_0x3283dc['y']-this['y']*_0x3283dc['x'];}['distance'](_0x2fb842){const _0x21f27d=this['x']-_0x2fb842['x'],_0x88cc12=this['y']-_0x2fb842['y'];return Math['sqrt'](_0x21f27d*_0x21f27d+_0x88cc12*_0x88cc12);}['div'](_0x57b723){return this['x']/=_0x57b723['x'],this['y']/=_0x57b723['y'],this;}['div2'](_0x4d2c8c,_0x1cf107){return this['x']=_0x4d2c8c['x']/_0x1cf107['x'],this['y']=_0x4d2c8c['y']/_0x1cf107['y'],this;}['divScalar'](_0x12cff9){return this['x']/=_0x12cff9,this['y']/=_0x12cff9,this;}['dot'](_0x45a275){return this['x']*_0x45a275['x']+this['y']*_0x45a275['y'];}['equals'](_0x10ee11){return this['x']===_0x10ee11['x']&&this['y']===_0x10ee11['y'];}['equalsAppr'+'ox'](_0x38102f,_0x501041=0x82*-0x1d+-0x104d+0x1f07+0.000001){return Math['abs'](this['x']-_0x38102f['x'])<_0x501041&&Math['abs'](this['y']-_0x38102f['y'])<_0x501041;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0xd64b1,_0x381ac3,_0x26e9eb){return this['x']=_0xd64b1['x']+_0x26e9eb*(_0x381ac3['x']-_0xd64b1['x']),this['y']=_0xd64b1['y']+_0x26e9eb*(_0x381ac3['y']-_0xd64b1['y']),this;}['mul'](_0x5ea99b){return this['x']*=_0x5ea99b['x'],this['y']*=_0x5ea99b['y'],this;}['mul2'](_0x17f2dd,_0x3719db){return this['x']=_0x17f2dd['x']*_0x3719db['x'],this['y']=_0x17f2dd['y']*_0x3719db['y'],this;}['mulScalar'](_0x54c78c){return this['x']*=_0x54c78c,this['y']*=_0x54c78c,this;}['normalize'](_0x35c432=this){const _0x14d83a=_0x35c432['x']*_0x35c432['x']+_0x35c432['y']*_0x35c432['y'];if(_0x14d83a>-0x1*0x5db+0x203f+-0x1a64*0x1){const _0x55e504=(-0x1*0x7+-0x3*0x1e7+0x5bd)/Math['sqrt'](_0x14d83a);this['x']=_0x35c432['x']*_0x55e504,this['y']=_0x35c432['y']*_0x55e504;}return this;}['rotate'](_0x4d6115){const _0xf1491a=Math['atan2'](this['x'],this['y'])+_0x4d6115*Y['DEG_TO_RAD'],_0x6e2d71=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0xf1491a)*_0x6e2d71,this['y']=Math['cos'](_0xf1491a)*_0x6e2d71,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x35373c){return Math['atan2'](this['x']*_0x35373c['y']+this['y']*_0x35373c['x'],this['x']*_0x35373c['x']+this['y']*_0x35373c['y'])*Y['RAD_TO_DEG'];}['floor'](_0x13d4ac=this){return this['x']=Math['floor'](_0x13d4ac['x']),this['y']=Math['floor'](_0x13d4ac['y']),this;}['ceil'](_0x1b6918=this){return this['x']=Math['ceil'](_0x1b6918['x']),this['y']=Math['ceil'](_0x1b6918['y']),this;}['round'](_0x2dc439=this){return this['x']=Math['round'](_0x2dc439['x']),this['y']=Math['round'](_0x2dc439['y']),this;}['min'](_0x6d353){return _0x6d353['x']<this['x']&&(this['x']=_0x6d353['x']),_0x6d353['y']<this['y']&&(this['y']=_0x6d353['y']),this;}['max'](_0x5ab535){return _0x5ab535['x']>this['x']&&(this['x']=_0x5ab535['x']),_0x5ab535['y']>this['y']&&(this['y']=_0x5ab535['y']),this;}['set'](_0x16454a,_0x43f5a7){return this['x']=_0x16454a,this['y']=_0x43f5a7,this;}['sub'](_0x2178fa){return this['x']-=_0x2178fa['x'],this['y']-=_0x2178fa['y'],this;}['sub2'](_0x1d4c44,_0x550834){return this['x']=_0x1d4c44['x']-_0x550834['x'],this['y']=_0x1d4c44['y']-_0x550834['y'],this;}['subScalar'](_0x4e79a1){return this['x']-=_0x4e79a1,this['y']-=_0x4e79a1,this;}['fromArray'](_0xa1670f,_0xb6b901=-0x378+-0x2152+-0x2*-0x1265){return this['x']=_0xa1670f[_0xb6b901]??this['x'],this['y']=_0xa1670f[_0xb6b901+(0x1*-0x14b+-0x8a6+0x4f9*0x2)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x5a59c3=[],_0x25acfc=0x37b*0x9+0x1db3+-0x3d06){return _0x5a59c3[_0x25acfc]=this['x'],_0x5a59c3[_0x25acfc+(-0xb98+-0x2d*-0x6b+-0x736)]=this['y'],_0x5a59c3;}static['angleRad'](_0x53329d,_0x170e61){return Math['atan2'](_0x53329d['x']*_0x170e61['y']-_0x53329d['y']*_0x170e61['x'],_0x53329d['x']*_0x170e61['x']+_0x53329d['y']*_0x170e61['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x502*-0x3+-0x3a+-0x3d*-0x40,-0x104c+0x1fae+-0xf62))),h(Gt,'HALF',Object['freeze'](new Gt(-0x13*-0x18e+-0xbd*0x23+-0x3b3*0x1+0.5,-0x2*-0x219+0x2105+-0x2537+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x49*0x48+-0x1f42+0x33cb,0x8*-0x4a9+-0x64c+0x2b95))),h(Gt,'UP',Object['freeze'](new Gt(0xfe2+-0x1e84+0xea2,0xad9*0x1+0xbe5+-0x1*0x16bd))),h(Gt,'DOWN',Object['freeze'](new Gt(-0x1736+0x183d+0x107*-0x1,-(0x2419+-0x728*0x1+-0x1cf0)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x2b*-0x6+0xf8a+-0xe87,-0x3db*-0x1+-0x19e+-0x23d))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0x4f2*-0x1+-0x1fc0+-0x1*-0x1acf),0x129b*-0x2+-0x1315+0x384b)));let J=Gt;const pr=class pr{constructor(_0x3a6ecd=-0x1*0x24d3+-0x213b+0x356*0x15,_0x3ef9ec=-0x172f+-0xa10+0x1*0x213f,_0x5db417=0x531+-0x53*-0x6b+-0x27e2,_0x42e312=-0x495+-0x1811*0x1+-0xe53*-0x2){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x3a6ecd['length']===-0x15c7+0x2*0xc82+0x5*-0xa5?(this['x']=_0x3a6ecd[-0xa3b+-0x5*0x5fc+0x2827],this['y']=_0x3a6ecd[0x15f6+0x3*0x394+-0x20b1],this['z']=_0x3a6ecd[-0x262a+-0x11d9*-0x2+0x27a],this['w']=_0x3a6ecd[0x73*-0x22+0x100*0x7+-0x15*-0x65]):(this['x']=_0x3a6ecd,this['y']=_0x3ef9ec,this['z']=_0x5db417,this['w']=_0x42e312);}['add'](_0x4d5db5){return this['x']+=_0x4d5db5['x'],this['y']+=_0x4d5db5['y'],this['z']+=_0x4d5db5['z'],this['w']+=_0x4d5db5['w'],this;}['add2'](_0x184f78,_0x135095){return this['x']=_0x184f78['x']+_0x135095['x'],this['y']=_0x184f78['y']+_0x135095['y'],this['z']=_0x184f78['z']+_0x135095['z'],this['w']=_0x184f78['w']+_0x135095['w'],this;}['addScalar'](_0x46724e){return this['x']+=_0x46724e,this['y']+=_0x46724e,this['z']+=_0x46724e,this['w']+=_0x46724e,this;}['addScaled'](_0x49eaaa,_0x400227){return this['x']+=_0x49eaaa['x']*_0x400227,this['y']+=_0x49eaaa['y']*_0x400227,this['z']+=_0x49eaaa['z']*_0x400227,this['w']+=_0x49eaaa['w']*_0x400227,this;}['clone'](){const _0x523710=this['constructo'+'r'];return new _0x523710(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x168cc9){return this['x']=_0x168cc9['x'],this['y']=_0x168cc9['y'],this['z']=_0x168cc9['z'],this['w']=_0x168cc9['w'],this;}['div'](_0x52e4c2){return this['x']/=_0x52e4c2['x'],this['y']/=_0x52e4c2['y'],this['z']/=_0x52e4c2['z'],this['w']/=_0x52e4c2['w'],this;}['div2'](_0x5643f5,_0x22ad36){return this['x']=_0x5643f5['x']/_0x22ad36['x'],this['y']=_0x5643f5['y']/_0x22ad36['y'],this['z']=_0x5643f5['z']/_0x22ad36['z'],this['w']=_0x5643f5['w']/_0x22ad36['w'],this;}['divScalar'](_0x2ea3f6){return this['x']/=_0x2ea3f6,this['y']/=_0x2ea3f6,this['z']/=_0x2ea3f6,this['w']/=_0x2ea3f6,this;}['dot'](_0x6e1b28){return this['x']*_0x6e1b28['x']+this['y']*_0x6e1b28['y']+this['z']*_0x6e1b28['z']+this['w']*_0x6e1b28['w'];}['equals'](_0x4c1066){return this['x']===_0x4c1066['x']&&this['y']===_0x4c1066['y']&&this['z']===_0x4c1066['z']&&this['w']===_0x4c1066['w'];}['equalsAppr'+'ox'](_0x598afa,_0x2c178b=-0x1384+-0xf30+-0x2*-0x115a+0.000001){return Math['abs'](this['x']-_0x598afa['x'])<_0x2c178b&&Math['abs'](this['y']-_0x598afa['y'])<_0x2c178b&&Math['abs'](this['z']-_0x598afa['z'])<_0x2c178b&&Math['abs'](this['w']-_0x598afa['w'])<_0x2c178b;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x261290,_0x4e24ad,_0x54e686){return this['x']=_0x261290['x']+_0x54e686*(_0x4e24ad['x']-_0x261290['x']),this['y']=_0x261290['y']+_0x54e686*(_0x4e24ad['y']-_0x261290['y']),this['z']=_0x261290['z']+_0x54e686*(_0x4e24ad['z']-_0x261290['z']),this['w']=_0x261290['w']+_0x54e686*(_0x4e24ad['w']-_0x261290['w']),this;}['mul'](_0x833bb9){return this['x']*=_0x833bb9['x'],this['y']*=_0x833bb9['y'],this['z']*=_0x833bb9['z'],this['w']*=_0x833bb9['w'],this;}['mul2'](_0x1efe69,_0x256cc9){return this['x']=_0x1efe69['x']*_0x256cc9['x'],this['y']=_0x1efe69['y']*_0x256cc9['y'],this['z']=_0x1efe69['z']*_0x256cc9['z'],this['w']=_0x1efe69['w']*_0x256cc9['w'],this;}['mulScalar'](_0x1cc52d){return this['x']*=_0x1cc52d,this['y']*=_0x1cc52d,this['z']*=_0x1cc52d,this['w']*=_0x1cc52d,this;}['normalize'](_0x4c2d08=this){const _0xdf4a6c=_0x4c2d08['x']*_0x4c2d08['x']+_0x4c2d08['y']*_0x4c2d08['y']+_0x4c2d08['z']*_0x4c2d08['z']+_0x4c2d08['w']*_0x4c2d08['w'];if(_0xdf4a6c>-0x3*-0x6b6+-0xb61+-0x8c1){const _0x3f6699=(-0x2a4*-0xc+0x1*0x238f+-0x433e)/Math['sqrt'](_0xdf4a6c);this['x']=_0x4c2d08['x']*_0x3f6699,this['y']=_0x4c2d08['y']*_0x3f6699,this['z']=_0x4c2d08['z']*_0x3f6699,this['w']=_0x4c2d08['w']*_0x3f6699;}return this;}['floor'](_0x47d4f4=this){return this['x']=Math['floor'](_0x47d4f4['x']),this['y']=Math['floor'](_0x47d4f4['y']),this['z']=Math['floor'](_0x47d4f4['z']),this['w']=Math['floor'](_0x47d4f4['w']),this;}['ceil'](_0x2f2260=this){return this['x']=Math['ceil'](_0x2f2260['x']),this['y']=Math['ceil'](_0x2f2260['y']),this['z']=Math['ceil'](_0x2f2260['z']),this['w']=Math['ceil'](_0x2f2260['w']),this;}['round'](_0x44bd45=this){return this['x']=Math['round'](_0x44bd45['x']),this['y']=Math['round'](_0x44bd45['y']),this['z']=Math['round'](_0x44bd45['z']),this['w']=Math['round'](_0x44bd45['w']),this;}['min'](_0x4e17c6){return _0x4e17c6['x']<this['x']&&(this['x']=_0x4e17c6['x']),_0x4e17c6['y']<this['y']&&(this['y']=_0x4e17c6['y']),_0x4e17c6['z']<this['z']&&(this['z']=_0x4e17c6['z']),_0x4e17c6['w']<this['w']&&(this['w']=_0x4e17c6['w']),this;}['max'](_0x20e629){return _0x20e629['x']>this['x']&&(this['x']=_0x20e629['x']),_0x20e629['y']>this['y']&&(this['y']=_0x20e629['y']),_0x20e629['z']>this['z']&&(this['z']=_0x20e629['z']),_0x20e629['w']>this['w']&&(this['w']=_0x20e629['w']),this;}['set'](_0x273644,_0x386463,_0x4303ad,_0x2134f3){return this['x']=_0x273644,this['y']=_0x386463,this['z']=_0x4303ad,this['w']=_0x2134f3,this;}['sub'](_0x51e771){return this['x']-=_0x51e771['x'],this['y']-=_0x51e771['y'],this['z']-=_0x51e771['z'],this['w']-=_0x51e771['w'],this;}['sub2'](_0x322710,_0x58a2ea){return this['x']=_0x322710['x']-_0x58a2ea['x'],this['y']=_0x322710['y']-_0x58a2ea['y'],this['z']=_0x322710['z']-_0x58a2ea['z'],this['w']=_0x322710['w']-_0x58a2ea['w'],this;}['subScalar'](_0xd5cd07){return this['x']-=_0xd5cd07,this['y']-=_0xd5cd07,this['z']-=_0xd5cd07,this['w']-=_0xd5cd07,this;}['fromArray'](_0x479ba3,_0x5d0607=-0xbe1*-0x3+0x187b+-0xab*0x5a){return this['x']=_0x479ba3[_0x5d0607]??this['x'],this['y']=_0x479ba3[_0x5d0607+(-0x2336+0x235+0x2102)]??this['y'],this['z']=_0x479ba3[_0x5d0607+(-0x1f95+-0xe8*0x10+0x2e17)]??this['z'],this['w']=_0x479ba3[_0x5d0607+(-0x5*0x211+-0xcfe+0x67*0x3a)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x652de6=[],_0x300eb7=-0x5da+-0x2*-0x211+0x1b8){return _0x652de6[_0x300eb7]=this['x'],_0x652de6[_0x300eb7+(-0x10e9+-0x933+0x1a1d)]=this['y'],_0x652de6[_0x300eb7+(0x1c4f+0x1d28+0x3975*-0x1)]=this['z'],_0x652de6[_0x300eb7+(0x2540+-0x1670+0x9*-0x1a5)]=this['w'],_0x652de6;}};h(pr,'ZERO',Object['freeze'](new pr(-0x23b1+-0x20d4+0x4485,-0x1*0x23c6+0x57+0x236f*0x1,0x9*-0x279+0x1*0x14aa+0x197,0x1*-0x1655+-0x10f+0x1764))),h(pr,'HALF',Object['freeze'](new pr(-0x161a+0x18ef+0x2d5*-0x1+0.5,0xabf+0x1*0x22f8+-0x2db7+0.5,0x1b9a+-0x6*0x139+-0x1444+0.5,0x178d+0x14e8+-0x2c75+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0xe*-0x21f+0x58a*-0x2+-0x3b9*0x5,-0x2a9+0x675+-0x3cb,-0xd04+-0x1615*-0x1+-0x910,-0x2078*0x1+0x2267+-0xd*0x26)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x781+0x1*0x181d+0x161*-0xc)),this['data'][0x1a4c+-0x1c3b+0x1ef]=this['data'][-0x1a1f+-0x17d4+-0x138*-0x29]=this['data'][0x1a*0x6d+-0x1fe4+0x6*0x37a]=this['data'][-0x62+-0x84*0x16+-0x1*-0xbc9]=0x2311+-0x16*-0x5f+0x2*-0x159d;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x1e6bef,_0x5cba13,_0x1fa9e9,_0x52d1c2,_0x10689f){_0x10689f?(_0x1e6bef['x']=_0x52d1c2*Math['tan'](_0x5cba13*Math['PI']/(-0x6*0x4f+0x1*0x66e+-0x32c)),_0x1e6bef['y']=_0x1e6bef['x']/_0x1fa9e9):(_0x1e6bef['y']=_0x52d1c2*Math['tan'](_0x5cba13*Math['PI']/(-0xa*0x301+-0x1d53+-0x1*-0x3cc5)),_0x1e6bef['x']=_0x1e6bef['y']*_0x1fa9e9);}['add2'](_0x34fffb,_0x4b3d39){const _0x59290a=_0x34fffb['data'],_0x1cc323=_0x4b3d39['data'],_0x4d0866=this['data'];return _0x4d0866[-0x1*-0x23f2+-0x1f47+0x5*-0xef]=_0x59290a[-0x168e+0x14df+0x1af]+_0x1cc323[-0x13b8+0x8eb+-0x7*-0x18b],_0x4d0866[0x1f5d+-0x22a4+0x348]=_0x59290a[0x1f7*-0x7+0xa6b+0xf*0x39]+_0x1cc323[-0x2*0x50a+-0x1f78+0x298d],_0x4d0866[-0x1622+0x3*0x92b+-0x55d]=_0x59290a[-0x1c99*0x1+0x733+0x1568]+_0x1cc323[0x175e+-0x1801+0xa5],_0x4d0866[0x894+-0x2*-0x1277+-0x265*0x13]=_0x59290a[-0x1*0x287+-0x19f6+0x1c80]+_0x1cc323[-0x72f*-0x3+0x143d+-0x45*0x9b],_0x4d0866[0x17e2+-0xe4d+0x1*-0x991]=_0x59290a[0x204c+0x1386+-0x15d*0x26]+_0x1cc323[-0x164c+0x1*0xd28+-0x494*-0x2],_0x4d0866[-0x9cd+0x249b+0x1ac9*-0x1]=_0x59290a[0xe77+-0x17ee+0x97c]+_0x1cc323[0x1354*0x1+-0x18a*0x12+0x865],_0x4d0866[0x250e+-0x1513+-0x1*0xff5]=_0x59290a[-0x1ea3+-0x10*0x64+-0x35b*-0xb]+_0x1cc323[-0x9dc+-0x1f22+0x2904],_0x4d0866[0x187+0x24b*-0xb+0x1*0x17b9]=_0x59290a[0x2b*-0x9+-0x2089+0x2213]+_0x1cc323[-0x3*-0x9a+-0xd80+0xbb9],_0x4d0866[0x1*-0x26e5+0x5*0x104+-0x5*-0x6c5]=_0x59290a[0x7*-0x3e4+-0x23d7+-0x2d*-0x167]+_0x1cc323[0x1bcd+0x23bf*0x1+-0x21e*0x1e],_0x4d0866[-0x166d*0x1+-0x20c7*0x1+0x373d]=_0x59290a[0xb*-0x132+0x1263+-0x534]+_0x1cc323[0x8d5+-0x2*-0x2ad+-0x1*0xe26],_0x4d0866[-0xb*-0x32f+0x10*-0x12d+-0x1*0x102b]=_0x59290a[-0x1*0x1f85+0x1035+0x6*0x28f]+_0x1cc323[0x1abe+0xb4b+-0x25ff],_0x4d0866[-0xd21*0x2+0x53*-0x71+-0x350*-0x13]=_0x59290a[0x61a*0x4+-0xb5+-0x17a8]+_0x1cc323[0xab5*0x1+-0x1dc8+0x131e],_0x4d0866[-0x1*0x1c07+0x9*0x3f+0x14b*0x14]=_0x59290a[0x13*-0x205+0x9*-0x1d+-0x8*-0x4ee]+_0x1cc323[0x1ef7*-0x1+-0x1c73+-0x102*-0x3b],_0x4d0866[-0x8c+0x1681*0x1+-0x15e8]=_0x59290a[-0x6d4*-0x4+0x82c+0x236f*-0x1]+_0x1cc323[0x4f*-0x59+0x1*0x833+0x1351],_0x4d0866[0x1689*-0x1+0x67*-0x25+0x12*0x215]=_0x59290a[0x1*0x1+0x4a8*-0x1+0x4b5]+_0x1cc323[0x3a5+-0x26b4+-0x231d*-0x1],_0x4d0866[-0x125d+-0x10ca+0x2336]=_0x59290a[-0x3d*-0x80+-0x212b+-0x15d*-0x2]+_0x1cc323[0x1941+0x1*-0x1561+-0x3d1],this;}['add'](_0x145090){return this['add2'](this,_0x145090);}['clone'](){const _0x257296=this['constructo'+'r'];return new _0x257296()['copy'](this);}['copy'](_0x48167a){const _0xa99a84=_0x48167a['data'],_0x156a5f=this['data'];return _0x156a5f[-0x25d7+-0x1*-0x119b+-0x14*-0x103]=_0xa99a84[-0x11ed+0x29*0xc5+0x8*-0x1b4],_0x156a5f[-0x313*0x1+0x9*0x125+-0x1*0x739]=_0xa99a84[0x682+0x73*-0x2b+0xcd0],_0x156a5f[0x2427+0x1778+-0x3b9d]=_0xa99a84[-0x6*0x306+0x9*-0xed+0x1a7b],_0x156a5f[0x255f+0x875+0x13d*-0x25]=_0xa99a84[0x4*0x1a2+-0x202*0x6+0x587],_0x156a5f[0x1d7e+-0x89*-0x26+-0x31d0]=_0xa99a84[-0x1*-0x447+-0x1*0xa39+0x5f6],_0x156a5f[-0x26*-0xd4+-0x130c+-0x1*0xc67]=_0xa99a84[-0x11f5*0x2+-0xff3+0x33e2],_0x156a5f[0x2*0x6+-0x3c1*-0x2+-0x1e2*0x4]=_0xa99a84[-0x197a+0x1cc*-0x8+0x27e0*0x1],_0x156a5f[-0x25a1*0x1+-0x2*-0xc61+0xce6]=_0xa99a84[-0x65c+0x1c*0x3f+-0x2b*0x3],_0x156a5f[0x1*0x1c3a+0x23c1+0x33*-0x141]=_0xa99a84[0x190f+0x2*-0xf53+-0x59f*-0x1],_0x156a5f[0x2*0xe95+0x1c81+0x3*-0x1336]=_0xa99a84[-0x1*-0x112a+0x367+-0x1488],_0x156a5f[0x5*0x3a9+0x22a6+0x3*-0x11a3]=_0xa99a84[-0x6*-0x23b+-0x224f*-0x1+0xb*-0x455],_0x156a5f[0x26da*0x1+-0x253f*0x1+-0x190]=_0xa99a84[0x2*0xd77+-0xe76+-0xc6d],_0x156a5f[-0x13*0xf9+0x1f56+0x3*-0x445]=_0xa99a84[-0x4*0x203+-0xda*-0x19+-0xd32],_0x156a5f[0xba5*-0x3+-0x56b*0x4+0x38a8]=_0xa99a84[0xbe1*0x3+0x1f0f*0x1+-0x42a5],_0x156a5f[-0x1a6a+0xac6+0xfb2]=_0xa99a84[0x20ae+-0x14e*0x10+0x2f0*-0x4],_0x156a5f[0x88*-0x12+0x24a4+-0x1b05]=_0xa99a84[-0x24fc+0xa5b+0x6ac*0x4],this;}['equals'](_0x3f41fe){const _0x8dcba7=this['data'],_0x549127=_0x3f41fe['data'];return _0x8dcba7[0x2*-0xfe5+-0xf*-0x11c+0xf26]===_0x549127[0x956+-0x284+0xc2*-0x9]&&_0x8dcba7[-0xf60+0x304*-0x3+-0xd*-0x1e1]===_0x549127[0x35e*0x6+-0x8*-0x163+-0x1*0x1f4b]&&_0x8dcba7[-0x1796+0x1*0x13f7+0x3a1]===_0x549127[-0x2328+-0x13*0x1e1+-0x3*-0x179f]&&_0x8dcba7[0x3*-0x809+-0x17f1+0x300f]===_0x549127[-0x1*-0x266a+0x1*0x2081+0x8dd*-0x8]&&_0x8dcba7[0x46*-0x71+0x2*0xbd8+0x2*0x39d]===_0x549127[0x26cb*0x1+-0x183b+-0xe8c]&&_0x8dcba7[-0x1*0xadb+-0x495*0x1+0xf75]===_0x549127[-0x1c9+0x1825+0x331*-0x7]&&_0x8dcba7[-0xb7a*0x1+-0x2d5+0xe55]===_0x549127[0x1792+-0x1*-0xf87+-0x2713]&&_0x8dcba7[0x1d2f*-0x1+0xc79+-0x1*-0x10bd]===_0x549127[-0xec2+-0x25f6+0x1195*0x3]&&_0x8dcba7[0x8eb+-0x5e7*0x3+0x1*0x8d2]===_0x549127[0x7*0x39f+-0x2*-0x9f9+-0x2d43]&&_0x8dcba7[0x20b*0x7+0x5d*0x5+-0x1015]===_0x549127[0x53*-0x52+0x1197*-0x2+0x3dcd]&&_0x8dcba7[-0x1407*0x1+-0x1*0x2229+0x363a]===_0x549127[0x13eb+0x3*-0x5bc+-0x2ad]&&_0x8dcba7[-0x4*-0x8a5+-0xe6e*-0x1+-0x30f7]===_0x549127[0x196*-0x17+-0x525*-0x6+-0x1*-0x5a7]&&_0x8dcba7[0x1*0x7e7+-0x3*0x40e+0x44f*0x1]===_0x549127[0x1b5*-0xa+0x17*0x11+0xf97]&&_0x8dcba7[0x11*-0x185+0xd6b+0xc77]===_0x549127[0x116c*0x2+0x133c+-0x1*0x3607]&&_0x8dcba7[-0x425*-0x9+-0x35*0x91+-0x73a]===_0x549127[-0x9c4+-0x9b*0x2d+-0xc5b*-0x3]&&_0x8dcba7[-0x925+-0x1*0x321+-0x29*-0x4d]===_0x549127[-0x6f1+-0x1ab4*0x1+0x4*0x86d];}['isIdentity'](){const _0x59675d=this['data'];return _0x59675d[-0x17c0+0x38b*-0x8+0x3418]===-0x219e+0x234a+0x1*-0x1ab&&_0x59675d[-0x94e+-0x551+0xea0]===0xfe2+-0x71+0x43*-0x3b&&_0x59675d[0x1cde+0xc38+-0x2914]===0x7a5+0x1170+0x1*-0x1915&&_0x59675d[-0x4bd*-0x4+-0x1a6*0x5+0x391*-0x3]===0x269+0x3a*-0x50+0x95*0x1b&&_0x59675d[0x1fbd+-0x1b33+-0x486]===-0x447+0x203b+-0x1bf4&&_0x59675d[-0x133b+0x21a*0x5+0x8be]===0x156d+0x19bd+-0x2f29&&_0x59675d[0x21*0x3d+-0x1*0x74f+-0x88*0x1]===-0x1719+-0xa0d+0x2126*0x1&&_0x59675d[-0xfb*0x23+-0x10*0x16b+0x92*0x64]===0x1bdc+-0x125*0x1+0x1*-0x1ab7&&_0x59675d[0x8c*0x46+-0x209c+-0x5a4]===0x22ba+0x11*-0x22f+0x265&&_0x59675d[0x22c*0xb+-0x2113*0x1+0x938]===-0x5ba*-0x1+-0x517*-0x1+-0xad1&&_0x59675d[0x1933*0x1+0x2d0+-0x1bf9]===0xca0*0x1+0xe32*-0x1+0x193*0x1&&_0x59675d[0x1765+0x9c*-0x10+-0xd9a]===-0x1*0x1ad8+-0x2*0x117f+0x5*0xc5e&&_0x59675d[0x68*0x6+-0x15b1+0x134d]===0x2c0+-0x7*-0x3ec+-0x1e34&&_0x59675d[0x184f+0x998+0x2*-0x10ed]===0x2db*0xa+0x2111+-0x3d9f&&_0x59675d[0x1b71*-0x1+0x20*0x5+-0x8f5*-0x3]===-0xa39+-0x1f*0x6b+0x172e&&_0x59675d[0x7*0x482+-0x1*0x46d+0x69*-0x42]===-0x1bfc+0x1b97+0x66;}['mul2'](_0x509868,_0xaa5794){const _0x593ba9=_0x509868['data'],_0x1249b1=_0xaa5794['data'],_0x3ac096=this['data'],_0x75f21a=_0x593ba9[-0x3a*0x3e+-0x1f7*-0x5+-0x439*-0x1],_0xef41b2=_0x593ba9[0x1fb7+-0x1*0x49+-0x1*0x1f6d],_0x536b58=_0x593ba9[-0x153a+-0x2*0xf4f+0x33da],_0x36451b=_0x593ba9[0x48b*-0x7+-0x1bd7+0x3ba7],_0x480754=_0x593ba9[0x1e*0xf8+0x35*-0x6b+0x161*-0x5],_0x4b36b1=_0x593ba9[0x182b+0xf3c+-0x13b1*0x2],_0x48e681=_0x593ba9[0x113b+-0x154f+0x41a],_0x3c53ca=_0x593ba9[0xb82+-0x9c1+-0x11*0x1a],_0x1199ce=_0x593ba9[0x2634+-0x5f7*-0x1+-0x2c23],_0x171a54=_0x593ba9[0x2533*-0x1+0xa62+0x2*0xd6d],_0x531214=_0x593ba9[0xb8d*-0x1+0x1afc+0xf65*-0x1],_0x1d98b0=_0x593ba9[-0x51d*0x4+-0x29a+-0x51*-0x49],_0x47137b=_0x593ba9[-0x23fd+0x1a1*0x11+-0x10b*-0x8],_0x543d65=_0x593ba9[0x11ee+-0x14ea+-0x25*-0x15],_0x536a3d=_0x593ba9[-0x1d9f*0x1+0xd*-0x283+0x3e54],_0x52da03=_0x593ba9[0x1521+0xab9+0x3*-0xa99];let _0x135364,_0x4f8cfe,_0x219df8,_0x1a3205;return _0x135364=_0x1249b1[0x13b5*-0x1+0xd35+-0x680*-0x1],_0x4f8cfe=_0x1249b1[-0x18a7+-0x1*-0x1513+0x395],_0x219df8=_0x1249b1[0x2296+-0x22*0xa4+-0xccc],_0x1a3205=_0x1249b1[-0xcc1+-0x1c62+0x2926],_0x3ac096[-0x8*-0x1fa+-0x4*0x4d5+-0x2d*-0x14]=_0x75f21a*_0x135364+_0x480754*_0x4f8cfe+_0x1199ce*_0x219df8+_0x47137b*_0x1a3205,_0x3ac096[0xbdf+-0x2477+0x1899]=_0xef41b2*_0x135364+_0x4b36b1*_0x4f8cfe+_0x171a54*_0x219df8+_0x543d65*_0x1a3205,_0x3ac096[-0x907+0x2179+-0x1870]=_0x536b58*_0x135364+_0x48e681*_0x4f8cfe+_0x531214*_0x219df8+_0x536a3d*_0x1a3205,_0x3ac096[0x22d5+-0x2*0x132+0x4a2*-0x7]=_0x36451b*_0x135364+_0x3c53ca*_0x4f8cfe+_0x1d98b0*_0x219df8+_0x52da03*_0x1a3205,_0x135364=_0x1249b1[-0x1*0x243a+-0x20e1*0x1+0x451f],_0x4f8cfe=_0x1249b1[0xf21+-0x224b*-0x1+-0x1*0x3167],_0x219df8=_0x1249b1[0x1e61*0x1+0x144f+0x1955*-0x2],_0x1a3205=_0x1249b1[0x10a5*0x2+-0x6fb+0x4*-0x692],_0x3ac096[-0x1995+0x3*-0x1fc+0x1f8d*0x1]=_0x75f21a*_0x135364+_0x480754*_0x4f8cfe+_0x1199ce*_0x219df8+_0x47137b*_0x1a3205,_0x3ac096[-0x49a+-0x11be+0x165d]=_0xef41b2*_0x135364+_0x4b36b1*_0x4f8cfe+_0x171a54*_0x219df8+_0x543d65*_0x1a3205,_0x3ac096[-0x1c39+-0xec*0x1+0x1d2b]=_0x536b58*_0x135364+_0x48e681*_0x4f8cfe+_0x531214*_0x219df8+_0x536a3d*_0x1a3205,_0x3ac096[-0x155d+-0x1ecd*-0x1+0x21*-0x49]=_0x36451b*_0x135364+_0x3c53ca*_0x4f8cfe+_0x1d98b0*_0x219df8+_0x52da03*_0x1a3205,_0x135364=_0x1249b1[0x3*0x445+-0x1a8a+-0xdc3*-0x1],_0x4f8cfe=_0x1249b1[0x24f2+-0x2289+-0x260],_0x219df8=_0x1249b1[-0xada+0xbcb*0x1+-0xe7],_0x1a3205=_0x1249b1[0x495+-0x2081*-0x1+0xc59*-0x3],_0x3ac096[-0x5*0x655+0x12*0x1ac+-0x199*-0x1]=_0x75f21a*_0x135364+_0x480754*_0x4f8cfe+_0x1199ce*_0x219df8+_0x47137b*_0x1a3205,_0x3ac096[-0x26*0x1c+-0x1*0x22ff+0xb*0x390]=_0xef41b2*_0x135364+_0x4b36b1*_0x4f8cfe+_0x171a54*_0x219df8+_0x543d65*_0x1a3205,_0x3ac096[-0x188b*-0x1+0x9b0+-0x2231]=_0x536b58*_0x135364+_0x48e681*_0x4f8cfe+_0x531214*_0x219df8+_0x536a3d*_0x1a3205,_0x3ac096[-0x4ff+-0x3*-0x6c8+-0x2*0x7a7]=_0x36451b*_0x135364+_0x3c53ca*_0x4f8cfe+_0x1d98b0*_0x219df8+_0x52da03*_0x1a3205,_0x135364=_0x1249b1[-0xb72+-0x1bda+0x2758],_0x4f8cfe=_0x1249b1[-0xe*-0x28a+-0x158b+-0xdf4],_0x219df8=_0x1249b1[0x1*-0x1032+-0x1455+0x2495],_0x1a3205=_0x1249b1[0x3*-0xbda+0x17*0x93+-0x4*-0x59a],_0x3ac096[0x8*0x416+0x23*0x38+0x1426*-0x2]=_0x75f21a*_0x135364+_0x480754*_0x4f8cfe+_0x1199ce*_0x219df8+_0x47137b*_0x1a3205,_0x3ac096[-0x1370+0x4d*-0x33+-0x8b5*-0x4]=_0xef41b2*_0x135364+_0x4b36b1*_0x4f8cfe+_0x171a54*_0x219df8+_0x543d65*_0x1a3205,_0x3ac096[-0x3b3*0x2+-0x401*0x3+0xb*0x1c5]=_0x536b58*_0x135364+_0x48e681*_0x4f8cfe+_0x531214*_0x219df8+_0x536a3d*_0x1a3205,_0x3ac096[-0x643+-0x16e1+-0x19*-0x12b]=_0x36451b*_0x135364+_0x3c53ca*_0x4f8cfe+_0x1d98b0*_0x219df8+_0x52da03*_0x1a3205,this;}['mulAffine2'](_0x48970c,_0xfbbb93){const _0x2f1f68=_0x48970c['data'],_0x426034=_0xfbbb93['data'],_0x30eca5=this['data'],_0x28d150=_0x2f1f68[-0x6f*0x1+-0xbc5*-0x1+-0xb56],_0x4962d5=_0x2f1f68[0xdc0+-0x670+-0x74f],_0x3beeb1=_0x2f1f68[0x137*0x7+0x19c*-0x6+-0x3*-0x63],_0x38c043=_0x2f1f68[-0x648*0x3+-0x1c53+0x2f2f],_0x2cf41b=_0x2f1f68[0x1edc+0x1*0xf79+-0x2e50],_0x4b1ff1=_0x2f1f68[-0x1cf0+-0x1f*0x49+0x25cd],_0x3204a4=_0x2f1f68[0x1229+0x16af+0x10*-0x28d],_0x58558e=_0x2f1f68[-0x1651+-0x2046+0x36a0],_0x773c1d=_0x2f1f68[-0x6da+-0x1857+-0x29*-0xc3],_0x15546e=_0x2f1f68[0x1c72+-0x1d14+0xae],_0x37eb42=_0x2f1f68[0x1ae6+0x1*-0x13bf+-0x71a],_0x457fbc=_0x2f1f68[0xa79*0x1+-0x3*0xc2f+0x1a22];let _0x4f2bb8,_0x4eefcc,_0x5a756d;return _0x4f2bb8=_0x426034[0x1dff+-0x115e+-0xca1],_0x4eefcc=_0x426034[0x985*0x1+-0x21b3+-0x29*-0x97],_0x5a756d=_0x426034[-0x1190+-0xe40+0x1*0x1fd2],_0x30eca5[-0x1e10+-0x17aa+0x17*0x256]=_0x28d150*_0x4f2bb8+_0x38c043*_0x4eefcc+_0x3204a4*_0x5a756d,_0x30eca5[-0x1477+-0x766+0xdef*0x2]=_0x4962d5*_0x4f2bb8+_0x2cf41b*_0x4eefcc+_0x58558e*_0x5a756d,_0x30eca5[0x1b27*-0x1+0xe37+-0x679*-0x2]=_0x3beeb1*_0x4f2bb8+_0x4b1ff1*_0x4eefcc+_0x773c1d*_0x5a756d,_0x30eca5[-0x2135+-0x1283+-0x2b9*-0x13]=0x1f2d+0x223*-0x1+-0x1d0a,_0x4f2bb8=_0x426034[0x10*0x167+0xb8+-0x1724],_0x4eefcc=_0x426034[-0x443+0xfb1*0x1+0x1*-0xb69],_0x5a756d=_0x426034[0xb58*0x2+0x1*-0x206a+0x1a*0x60],_0x30eca5[-0x651*-0x5+0x7ab+-0x68a*0x6]=_0x28d150*_0x4f2bb8+_0x38c043*_0x4eefcc+_0x3204a4*_0x5a756d,_0x30eca5[-0x1*-0xd3+-0x595+0x4c7*0x1]=_0x4962d5*_0x4f2bb8+_0x2cf41b*_0x4eefcc+_0x58558e*_0x5a756d,_0x30eca5[0x5ee*0x6+0xb7*0x6+-0x13ec*0x2]=_0x3beeb1*_0x4f2bb8+_0x4b1ff1*_0x4eefcc+_0x773c1d*_0x5a756d,_0x30eca5[0x1*0x1021+0x371*-0xb+-0x1*-0x15c1]=-0x34d+-0x18f8+0x1c45,_0x4f2bb8=_0x426034[0x1378+-0x7*-0x351+0xb3*-0x3d],_0x4eefcc=_0x426034[0xf58+0x1342+-0x2291*0x1],_0x5a756d=_0x426034[-0x423*-0x2+-0x259b+0x1d5f],_0x30eca5[-0xde8+-0x1e9e+0x2c8e]=_0x28d150*_0x4f2bb8+_0x38c043*_0x4eefcc+_0x3204a4*_0x5a756d,_0x30eca5[0x20*0x115+-0xb9*-0x1d+-0xde3*0x4]=_0x4962d5*_0x4f2bb8+_0x2cf41b*_0x4eefcc+_0x58558e*_0x5a756d,_0x30eca5[0x17f1+-0x2135+0x94e]=_0x3beeb1*_0x4f2bb8+_0x4b1ff1*_0x4eefcc+_0x773c1d*_0x5a756d,_0x30eca5[0x1b7f+-0xfd5+-0xaf*0x11]=-0x161b+0x1b1+0x146a,_0x4f2bb8=_0x426034[0x24a6*-0x1+0x2*0x131c+-0x186],_0x4eefcc=_0x426034[0x22c0*0x1+-0x9*0x77+-0xc*0x28b],_0x5a756d=_0x426034[0x110f+-0x3*0xa62+-0xd5*-0x11],_0x30eca5[-0x1*0x1ed1+0x1*-0x1ba2+0x3a7f*0x1]=_0x28d150*_0x4f2bb8+_0x38c043*_0x4eefcc+_0x3204a4*_0x5a756d+_0x15546e,_0x30eca5[-0x160c+-0x1fb6+0x35cf]=_0x4962d5*_0x4f2bb8+_0x2cf41b*_0x4eefcc+_0x58558e*_0x5a756d+_0x37eb42,_0x30eca5[-0x1d44*-0x1+0xb08+-0x283e]=_0x3beeb1*_0x4f2bb8+_0x4b1ff1*_0x4eefcc+_0x773c1d*_0x5a756d+_0x457fbc,_0x30eca5[0x1b78+0x26b3+0x1087*-0x4]=0x10fc+-0x1169*-0x2+0x59*-0x95,this;}['mul'](_0x5bc659){return this['mul2'](this,_0x5bc659);}['transformP'+'oint'](_0x38417a,_0x43c990=new D()){const _0x469d58=this['data'],{x:_0x1d0c6d,y:_0x487673,z:_0x63f940}=_0x38417a;return _0x43c990['x']=_0x1d0c6d*_0x469d58[-0x185+-0x66a+-0x7ef*-0x1]+_0x487673*_0x469d58[-0x112e+0x587+0xbab]+_0x63f940*_0x469d58[0x19f*0x5+0x1*0x22df+-0x2af2]+_0x469d58[-0x499*0x1+0x12b*0x7+-0x388],_0x43c990['y']=_0x1d0c6d*_0x469d58[0x9*0x225+0x1*-0xa0a+0x18b*-0x6]+_0x487673*_0x469d58[-0x5c3+0x4d2+-0x29*-0x6]+_0x63f940*_0x469d58[0x197a*0x1+0xad4+0x741*-0x5]+_0x469d58[-0x1*0xef8+-0x1c*0xb+0x1*0x1039],_0x43c990['z']=_0x1d0c6d*_0x469d58[0x262b+-0x1e*-0x5f+0x314b*-0x1]+_0x487673*_0x469d58[-0x4c0+-0x7*-0x481+0x2f9*-0x9]+_0x63f940*_0x469d58[0xb*0x19+-0x1*0x1471+0x1368]+_0x469d58[-0x1*0x2539+-0x1c73+0x41ba],_0x43c990;}['transformV'+'ector'](_0x2765d6,_0x39e05f=new D()){const _0x1707b3=this['data'],{x:_0x557e2f,y:_0x1582ca,z:_0x303bdb}=_0x2765d6;return _0x39e05f['x']=_0x557e2f*_0x1707b3[-0xe5a*-0x2+0x1a01+0xaf1*-0x5]+_0x1582ca*_0x1707b3[-0x25*0x106+-0x1*0x1b1a+0x40fc]+_0x303bdb*_0x1707b3[0xbc3+0xdc6+-0x1981],_0x39e05f['y']=_0x557e2f*_0x1707b3[-0xccc+-0x2306*0x1+0x2fd3]+_0x1582ca*_0x1707b3[0x6e4+0x1*-0x44d+-0x292]+_0x303bdb*_0x1707b3[-0xbd5+-0x170d+0x22eb],_0x39e05f['z']=_0x557e2f*_0x1707b3[0xf5*-0x22+-0x849+-0x28d5*-0x1]+_0x1582ca*_0x1707b3[0x97+0x10b7*-0x1+0x1026]+_0x303bdb*_0x1707b3[0x115f+-0x1*0x807+-0x94e],_0x39e05f;}['transformV'+'ec4'](_0x56dff7,_0x4dec1c=new re()){const _0x5e7813=this['data'],{x:_0x2eb74e,y:_0xf0f6d6,z:_0x1e2f36,w:_0x43e945}=_0x56dff7;return _0x4dec1c['x']=_0x2eb74e*_0x5e7813[0xcf+0x139+-0x104*0x2]+_0xf0f6d6*_0x5e7813[0xba6+0xbba+-0x175c]+_0x1e2f36*_0x5e7813[-0x1*-0xb42+0x2662+-0x319c]+_0x43e945*_0x5e7813[0x2*-0x1265+0xa63+0x1a73],_0x4dec1c['y']=_0x2eb74e*_0x5e7813[-0x15d4+-0x3*-0x151+0x11e2]+_0xf0f6d6*_0x5e7813[-0x1b04+0x6*0x4f4+0xe5*-0x3]+_0x1e2f36*_0x5e7813[-0x1c0b+0x1*0x742+0x29*0x82]+_0x43e945*_0x5e7813[0x981+-0x13d*0x2+0x6fa*-0x1],_0x4dec1c['z']=_0x2eb74e*_0x5e7813[0x1*-0x18ad+-0x991+-0x2240*-0x1]+_0xf0f6d6*_0x5e7813[0x17ad+0x30a*0x9+-0x3301]+_0x1e2f36*_0x5e7813[-0x2361+0x1a1e+0x1*0x94d]+_0x43e945*_0x5e7813[-0x1998+-0x1f22*0x1+0x38c8],_0x4dec1c['w']=_0x2eb74e*_0x5e7813[-0x7cd*0x2+0x522+0xa7b]+_0xf0f6d6*_0x5e7813[-0x12e*0x1c+0xb55*0x1+0x15ba]+_0x1e2f36*_0x5e7813[0x1dce+-0x3*-0x8ab+-0x2b*0x14c]+_0x43e945*_0x5e7813[0xb57*0x1+0x2485*-0x1+0x193d],_0x4dec1c;}['setLookAt'](_0x374d6a,_0x303011,_0x1080ab){ei['sub2'](_0x374d6a,_0x303011)['normalize'](),Js['copy'](_0x1080ab)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x3a02a2=this['data'];return _0x3a02a2[0x1eca+-0xfb7+-0xf13]=Os['x'],_0x3a02a2[-0x16*0xe8+0x11db+0x216]=Os['y'],_0x3a02a2[-0x444+-0x11cf*-0x1+-0x7*0x1ef]=Os['z'],_0x3a02a2[-0x7*0x329+-0x1c37+0x3259]=-0x1682+-0x71e*0x3+0x2bdc,_0x3a02a2[-0x196a*-0x1+0x1*0x25a6+-0x3f0c]=Js['x'],_0x3a02a2[0x26e0+-0x31f+-0x11de*0x2]=Js['y'],_0x3a02a2[0xd36+0x5c*0x5+-0xefc]=Js['z'],_0x3a02a2[-0x613+0x13*0xad+0x17*-0x4b]=-0x1da0+-0x185*0x13+0x3a7f,_0x3a02a2[0x1*0x231d+0xcdc+0x2ff1*-0x1]=ei['x'],_0x3a02a2[0xb*-0x23d+-0x2437+0x3cdf]=ei['y'],_0x3a02a2[0x1*0xa7e+-0x3c1*-0x1+0xe35*-0x1]=ei['z'],_0x3a02a2[-0x2*0x1069+-0x1769+0x3846]=0x74*-0x25+-0x1551+0x2615,_0x3a02a2[0xba*-0xa+0xb9*-0x2f+0x1*0x2947]=_0x374d6a['x'],_0x3a02a2[-0x16dc+-0x2653+0x1*0x3d3c]=_0x374d6a['y'],_0x3a02a2[0x342+-0xea5+0xb71]=_0x374d6a['z'],_0x3a02a2[-0x5d3+-0x239e+0x1*0x2980]=0x1*-0x617+-0x2239+0x2851*0x1,this;}['setFrustum'](_0x18b56d,_0x2793b2,_0x354506,_0x35149e,_0x556d96,_0x2db85e){const _0x44488a=(0xe8a*0x2+-0xeb*-0x28+0x4b3*-0xe)*_0x556d96,_0x14d524=_0x2793b2-_0x18b56d,_0x28f044=_0x35149e-_0x354506,_0x18e351=_0x2db85e-_0x556d96,_0x1c4bea=this['data'];return _0x1c4bea[-0x1*-0x4f+-0x1f3b+0x1eec]=_0x44488a/_0x14d524,_0x1c4bea[-0x1c3+-0x44*-0x3b+-0xde8]=0x2*0x5ea+0x385*0x1+-0xf59,_0x1c4bea[0x23a6+-0x3*0x33b+-0x5b*0x49]=0x25ce+-0xa59*0x2+0x49*-0x3c,_0x1c4bea[0x6*0x3de+0x19ca+-0x30fb*0x1]=0x816+-0x1823+0x100d,_0x1c4bea[-0x2*0x88d+-0x3*-0x43+0x1055]=-0x1cb3+0x1cbe*0x1+-0xb*0x1,_0x1c4bea[0x81*0x45+-0x6f*0x39+0x16f*-0x7]=_0x44488a/_0x28f044,_0x1c4bea[-0x199*0x17+0xbb*0x26+0x903]=0x238c+0x97a*-0x2+-0x1098,_0x1c4bea[0x17*-0xb8+0x2292+0x1*-0x1203]=-0x184a+-0x8ba*0x1+0x2104,_0x1c4bea[-0x1*0xa97+-0x1*-0x1d3c+-0x129d]=(_0x2793b2+_0x18b56d)/_0x14d524,_0x1c4bea[-0x252*-0xa+-0xf08+-0x1*0x823]=(_0x35149e+_0x354506)/_0x28f044,_0x1c4bea[0x3e*-0x5e+0x8*-0x1f7+-0x2*-0x1343]=(-_0x2db85e-_0x556d96)/_0x18e351,_0x1c4bea[0x1*0x1de9+0x6*-0x3+-0x773*0x4]=-(0x1706+-0x1*0x8ad+-0xe58),_0x1c4bea[-0x1cec+-0x6b*-0x4b+-0xcb*0x3]=0x305*0x6+-0x1a9a+0x87c,_0x1c4bea[0x11e0+0x177+-0x1*0x134a]=0x2*-0xcdb+0x2*0x1021+-0x68c,_0x1c4bea[0xda7+-0x1e9d+0x1104]=-_0x44488a*_0x2db85e/_0x18e351,_0x1c4bea[-0x1d00+-0x7*-0x3a8+0x377]=0x8c6+0xa9*-0x2b+0x139d,this;}['setPerspec'+'tive'](_0x294735,_0x479d37,_0x127177,_0x5b6b39,_0x3b8c1b){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x294735,_0x479d37,_0x127177,_0x3b8c1b),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x127177,_0x5b6b39);}['setOrtho'](_0x24054b,_0x494352,_0x311b68,_0x3c7673,_0x395de0,_0x4f93bf){const _0x4201bf=this['data'];return _0x4201bf[0x31*0x8a+-0x1492*-0x1+-0x1f*0x184]=(-0x1*0x133f+-0x391*-0xa+0x1069*-0x1)/(_0x494352-_0x24054b),_0x4201bf[-0xd58+-0xd9a+0x1af3]=-0x677+-0x76d*-0x1+-0xf6,_0x4201bf[0xa12*-0x1+-0x1*-0x232+0x7e2]=-0x2246+0x2204*0x1+0x16*0x3,_0x4201bf[-0x45*-0x67+-0x71*0x53+0x8e3]=0x140b+-0x2*-0x833+-0x2471,_0x4201bf[0xed1+0x1*-0x2563+0x62*0x3b]=0x1fed+0x12c7+-0x4*0xcad,_0x4201bf[0x1*0xc1f+-0x35*0x2c+-0x2fe]=(0xb*0x10f+-0xa3*-0x3d+0x327a*-0x1)/(_0x3c7673-_0x311b68),_0x4201bf[-0x1522+-0x1b4c+-0x4*-0xc1d]=0x4c*0x1f+0x1a*0xad+0x1*-0x1ac6,_0x4201bf[-0x14b+-0x262*0xb+0xdc4*0x2]=0x1323+-0x1aa5+0x782,_0x4201bf[-0x2*0x10ab+0x322*0x9+0x52c]=-0x71*0x2c+-0x6*-0x1b1+0x946,_0x4201bf[-0x1cf9+0x6f5*-0x5+0x7*0x91d]=-0x1e5*0x3+0x1*-0xffb+-0x15aa*-0x1,_0x4201bf[0x1302+0x20ad+-0x33a5*0x1]=-(-0x165d+0x1fed*-0x1+0x2*0x1b26)/(_0x4f93bf-_0x395de0),_0x4201bf[-0x1e6f*0x1+-0x24f3+-0x436d*-0x1]=-0x1*-0x90b+-0x1871+0xf66,_0x4201bf[0x124c+-0x73a*0x1+-0xb06]=-(_0x494352+_0x24054b)/(_0x494352-_0x24054b),_0x4201bf[0x185c+0x1aec+0x333b*-0x1]=-(_0x3c7673+_0x311b68)/(_0x3c7673-_0x311b68),_0x4201bf[0x1e79*-0x1+-0x759+0x30*0xca]=-(_0x4f93bf+_0x395de0)/(_0x4f93bf-_0x395de0),_0x4201bf[0x12e*-0x19+0x1f39*-0x1+0x3cc6]=-0x620+-0x2a2*0x2+-0x1*-0xb65,this;}['setFromAxi'+'sAngle'](_0x44af18,_0x40b8c2){_0x40b8c2*=Y['DEG_TO_RAD'];const {x:_0x2ea088,y:_0x5715ca,z:_0x2e76ab}=_0x44af18,_0x2699be=Math['cos'](_0x40b8c2),_0x223d06=Math['sin'](_0x40b8c2),_0xb11bea=-0x3*0x181+-0x887+0xd0b-_0x2699be,_0x48c2f4=_0xb11bea*_0x2ea088,_0x110fd2=_0xb11bea*_0x5715ca,_0x347e1c=this['data'];return _0x347e1c[-0xddc+-0x1*0x1d23+-0x4c7*-0x9]=_0x48c2f4*_0x2ea088+_0x2699be,_0x347e1c[-0x7a*0x1a+0x1e6*0x3+-0x23*-0x31]=_0x48c2f4*_0x5715ca+_0x223d06*_0x2e76ab,_0x347e1c[-0x8a5+-0xc77+0x33*0x6a]=_0x48c2f4*_0x2e76ab-_0x223d06*_0x5715ca,_0x347e1c[-0x5aa+-0x3f*-0x5a+-0x1079]=-0x147d+-0x3*0x8bf+0x2*0x175d,_0x347e1c[-0xd*0x2c9+0x1b70+0x8c9]=_0x48c2f4*_0x5715ca-_0x223d06*_0x2e76ab,_0x347e1c[0x8*0x249+0x244+-0x1487]=_0x110fd2*_0x5715ca+_0x2699be,_0x347e1c[0x34a*-0x1+0x24ad+-0x291*0xd]=_0x110fd2*_0x2e76ab+_0x223d06*_0x2ea088,_0x347e1c[0x3*0xcaf+-0x2083+-0x53*0x11]=0x7a2+-0x65*-0x3d+-0x1fb3,_0x347e1c[-0x2*0x100c+0x21*0x1b+0x1ca5]=_0x48c2f4*_0x2e76ab+_0x223d06*_0x5715ca,_0x347e1c[-0x1b63+0x1bf7+-0x8b]=_0x110fd2*_0x2e76ab-_0x2ea088*_0x223d06,_0x347e1c[0x1*0xf85+-0x4*-0x11+0x1d*-0x8b]=_0xb11bea*_0x2e76ab*_0x2e76ab+_0x2699be,_0x347e1c[-0x9a*0x13+-0x1a60+0x25d9*0x1]=-0x853*0x2+0xc*-0x2db+0x32ea,_0x347e1c[-0x2584*0x1+-0x226c+0x10f*0x44]=-0x9d*0xa+-0x7*-0x110+-0x14e*0x1,_0x347e1c[0x75+0x86f*0x1+-0x8d7]=-0x1964+0x4*-0x37a+0x274c,_0x347e1c[-0x6da*0x2+-0x23c8+0x318a]=-0x15ec+-0xdca+0x2*0x11db,_0x347e1c[0xb94*-0x3+-0xdb3+0x183f*0x2]=0x1850+0x1acc+-0x331b,this;}['setTransla'+'te'](_0x2af422,_0x3930ec,_0x2a7282){const _0x1c3ef4=this['data'];return _0x1c3ef4[0xf*-0x5b+-0x16a6+0x1bfb]=0x10d4*-0x1+0xa*-0x31b+-0x3af*-0xd,_0x1c3ef4[0x12b*0x10+-0xd88+-0x1*0x527]=-0x10c0+0x6c2+-0x2*-0x4ff,_0x1c3ef4[-0xdbb+0x2*-0x148+0x1*0x104d]=-0x25cc+0xcd7*-0x2+-0xcb2*-0x5,_0x1c3ef4[-0x45*-0x35+0x239f+-0x31e5]=-0x211*0xd+0xefa+-0x11*-0xb3,_0x1c3ef4[-0x5f0+0x12fc+-0x1*0xd08]=-0xcef*-0x1+-0x4*0x5d4+0xa61,_0x1c3ef4[0x1*0x6b3+0x2668+-0x2d16]=0x1ef*0x1+-0x2220+0x2032*0x1,_0x1c3ef4[0x14b2+0x2*-0x8ab+-0x356]=0xa73+-0x8fb+0x2*-0xbc,_0x1c3ef4[0x1*-0x2a5+0x71*0x26+0x2*-0x70d]=-0xbc5+0xa12+0x1b3,_0x1c3ef4[0x77e*-0x1+-0x3*0x343+0x114f]=-0x1941+-0x80e*0x3+0x316b,_0x1c3ef4[0x2*0x1187+-0x1*-0x259+-0x12af*0x2]=0x4a+0x13a9+0x13f3*-0x1,_0x1c3ef4[0x1e39+0x50+-0x1e7f]=0x97+0x1fa*0xf+-0x1e3c,_0x1c3ef4[0x35*0x23+0x27*0xce+-0x2696]=-0x1425+0x1*-0x251+0x2e*0x7d,_0x1c3ef4[0x9b0+0x207c+-0x10*0x2a2]=_0x2af422,_0x1c3ef4[-0x1a6*0x15+0x1787+0x1f*0x5c]=_0x3930ec,_0x1c3ef4[-0x2647+0x1e14+0x841]=_0x2a7282,_0x1c3ef4[-0x1aad+-0x1ac3+-0x3*-0x11d5]=0x7a*0x1a+0x5b5+0x243*-0x8,this;}['setScale'](_0xf6906b,_0x5512f1,_0x513104){const _0x28d131=this['data'];return _0x28d131[0x1985+-0x1e*0x24+-0x154d]=_0xf6906b,_0x28d131[-0x25cf+0x9f*0x29+0x1*0xc59]=0x1*-0xc95+0x2692+0x1*-0x19fd,_0x28d131[-0x19a9*0x1+0x7*0x16b+-0x7df*-0x2]=0x141a*0x1+-0x5b7+-0xe63,_0x28d131[0x8ea*-0x1+0x137a+-0xa8d]=0x19a1*0x1+-0x45e+0x1*-0x1543,_0x28d131[-0x377*-0xa+-0x23d*0x8+0x10ba*-0x1]=-0xb2+-0x1f4e*-0x1+-0x1e9c,_0x28d131[-0x1a9f+-0x33d*-0x5+-0x217*-0x5]=_0x5512f1,_0x28d131[0x1*-0x1708+-0x3*0x887+0x30a3]=-0x1372+0x1d59+-0x9e7,_0x28d131[0xfbd+0x1f99+-0x2f4f]=-0x238*-0x9+0x1*-0x1a02+0x60a,_0x28d131[0x5c9+0x2*0xd1f+-0x1fff*0x1]=-0x787+0x1*0xa34+0x5*-0x89,_0x28d131[-0x59*-0x28+-0x39a*0x7+0xb57*0x1]=0xf39*0x2+-0xa4a+-0x1428,_0x28d131[0x1*-0x648+0x2126+0x11*-0x194]=_0x513104,_0x28d131[0xda*-0x24+0x25f*0x6+-0x1*-0x1079]=0x1f11+-0x79*-0x46+-0xb*0x5d5,_0x28d131[0x228c+-0x1*0x1277+-0x1*0x1009]=-0x42e*0x8+0xf3d+0x611*0x3,_0x28d131[0x66a+-0x6*0x3e1+0x25*0x75]=-0x2*-0x12df+0x1b67+0x3d5*-0x11,_0x28d131[-0x1c6d+0x52*0x2f+-0xd6d*-0x1]=0x175*-0xd+-0x1f35+0x3226,_0x28d131[0x2382+-0x1b42+-0x831]=0x298+-0x45d*-0x3+-0xfae,this;}['setViewpor'+'t'](_0x277743,_0x4c5ba4,_0x463014,_0x157419){const _0x2846cb=this['data'];return _0x2846cb[-0x6a0+0xde*0xd+-0x4a6]=_0x463014*(0x1*0xf6+-0x700+0x2*0x305+0.5),_0x2846cb[-0x97*-0x40+-0xfeb+-0x15d4]=-0xd4e+-0x1*-0x225+0xb29,_0x2846cb[0x7*0x557+0x1d9d+-0x42fc]=0x3b3*0x2+0x3*0xc39+-0x185*0x1d,_0x2846cb[-0x1*0xbf+-0x195*-0x2+0x8*-0x4d]=0x5ed*0x2+0x1320+-0x1efa,_0x2846cb[-0x19bd+-0xbc6+-0x2e3*-0xd]=0x109+-0x83*-0x3d+-0x2040,_0x2846cb[0x244e+-0x59*-0x68+0x5*-0xe7d]=_0x157419*(0x10ce+-0x3f0+-0xcde+0.5),_0x2846cb[-0xd0d*-0x1+0x389*-0x1+-0x97e]=0x141e+-0x2*-0x8e7+0x12f6*-0x2,_0x2846cb[-0x3*-0x617+-0x11e*0x7+-0x1d*0x5c]=0xa4e+-0xeb*-0xa+0xac*-0x1d,_0x2846cb[0x1130+0xb87+-0x1caf*0x1]=0x404*0x5+-0x19c0+0xb*0x84,_0x2846cb[-0x23*0x23+0x115b+0x1*-0xc89]=-0x5*-0x15+-0x21ed+-0x1a*-0x14a,_0x2846cb[-0x115+0x137e+0x125f*-0x1]=0x1*0x1dbd+0x6a9*-0x2+-0x106b+0.5,_0x2846cb[0x1*0x203c+0x22b3+-0x42e4]=-0x600+0x5*-0x5b6+-0x1147*-0x2,_0x2846cb[-0x132b*0x1+-0x7f*0x43+0x117c*0x3]=_0x277743+_0x463014*(0x3f0+0x24bd+-0x28ad+0.5),_0x2846cb[0x29b+0x6f*-0x36+0x14*0x10b]=_0x4c5ba4+_0x157419*(-0x1eac+-0x8af+-0x41*-0x9b+0.5),_0x2846cb[-0x1ea1+-0x1fb0+0x3e5f]=0x1ea4+0x9*-0x17d+-0x1*0x113f+0.5,_0x2846cb[0xdfa+-0x396*-0xa+-0x31c7]=-0x38d*0x1+0x120c+-0x212*0x7,this;}['setReflect'+'ion'](_0x5739f0,_0x2011e0){const _0x4b35ed=_0x5739f0['x'],_0xdbf9dc=_0x5739f0['y'],_0x192ac1=_0x5739f0['z'],_0x301cff=this['data'];return _0x301cff[-0x20e7+0x6c8*-0x4+0x3c07]=-0x1d8b+-0x47*0x6c+0x3b8*0x10-(0xb*-0x89+-0x14f7+0x1adc)*_0x4b35ed*_0x4b35ed,_0x301cff[0x1*0x1eb2+0x24cd+-0x437e]=-(-0x1*0x26b1+0x3c*0x22+-0x1ebb*-0x1)*_0x4b35ed*_0xdbf9dc,_0x301cff[-0x1f91+-0x1ff1+-0x32d*-0x14]=-(0x2504+-0x3d*-0x71+-0x3fef)*_0x4b35ed*_0x192ac1,_0x301cff[0x2028+0x3*-0xc96+-0x3*-0x1df]=0x15f3+-0x1*0x54e+0x10a5*-0x1,_0x301cff[-0x4f*0x49+-0xb77+0x2202]=-(-0x13a3*0x1+-0x1e5c*-0x1+-0xab7)*_0x4b35ed*_0xdbf9dc,_0x301cff[0x1*-0x2014+-0x3d1*-0x8+0x191]=-0x859+0xf4b+-0x6f1-(-0x1048+0x4cd*0x3+0x1e3)*_0xdbf9dc*_0xdbf9dc,_0x301cff[0x23b1+0x210d+-0x44b8]=-(0x13de+-0x44+0x9cc*-0x2)*_0xdbf9dc*_0x192ac1,_0x301cff[0x44e+-0x6*-0x677+-0x20d*0x15]=-0x1*-0xe3f+-0x10ef+0x2b0,_0x301cff[-0xbac*-0x1+-0x4c*0x5+-0x82*0x14]=-(0x1f8b+-0x20a3+-0x11a*-0x1)*_0x4b35ed*_0x192ac1,_0x301cff[-0x12d9+0x3*-0xa23+0x314b]=-(-0xf*0x26a+-0x9d5*0x1+0x2e0d)*_0xdbf9dc*_0x192ac1,_0x301cff[0x2*0x546+-0x412*-0x2+-0x12a6]=0x47f+-0x1360+-0x17d*-0xa-(-0x2*-0x8f9+-0x2271*-0x1+-0x17*0x247)*_0x192ac1*_0x192ac1,_0x301cff[-0x9a4*0x2+0x12de+0x75]=-0x50d*-0x2+-0x4*0x43a+-0x6ce*-0x1,_0x301cff[0xb4b+-0x1073*-0x1+0xdd9*-0x2]=-(-0x137b+-0x3fd+-0x177a*-0x1)*_0x4b35ed*_0x2011e0,_0x301cff[-0x2637+0x23bf+0x285]=-(0x84*0x1b+-0x2*-0x23c+0xb5*-0x1a)*_0xdbf9dc*_0x2011e0,_0x301cff[-0x3*0xb86+-0x1c22*0x1+-0x3ec2*-0x1]=-(0x1ee9*0x1+0xaaa+-0x2991)*_0x192ac1*_0x2011e0,_0x301cff[-0x2*-0x6c5+-0xabc*-0x3+0x2daf*-0x1]=0x22f0+0x1b9c*-0x1+-0x5*0x177,this;}['invert'](_0x4ba554=this){const _0xcbad2c=_0x4ba554['data'],_0x2f6797=_0xcbad2c[0x3e*0x3f+0x6f+-0x67*0x27],_0x59a484=_0xcbad2c[-0x2025+0x1*-0xe87+0x15*0x239],_0x41a99d=_0xcbad2c[0x1*0x2687+0x19c0+-0x4045],_0x17452a=_0xcbad2c[-0x4bc+-0x259+0x718],_0x32227e=_0xcbad2c[-0x3d3+0x19ca+0x751*-0x3],_0x22c055=_0xcbad2c[-0x2*0x2f8+0x791+-0x1*0x19c],_0x4816ef=_0xcbad2c[-0x2a*0xb4+0x793+0x15fb*0x1],_0x2858a4=_0xcbad2c[0x2456*0x1+0x221f+-0x4b2*0xf],_0x3443f4=_0xcbad2c[0x66f+0x20a1+-0x2708],_0x345c6c=_0xcbad2c[0x983*-0x2+-0x26a*0x10+0x39af],_0x42ed64=_0xcbad2c[0xafd*-0x1+-0x1059*-0x1+0x2*-0x2a9],_0x9434bf=_0xcbad2c[0xd16+0x1*0x15d+-0x1*0xe68],_0x3a8b08=_0xcbad2c[0x1877*0x1+-0x1972*-0x1+-0x31dd],_0x4dda5a=_0xcbad2c[-0x1b48+-0x1273*0x1+0x24a*0x14],_0x40f8cd=_0xcbad2c[0x1dd+-0xa*-0x28+0x35f*-0x1],_0x549b4d=_0xcbad2c[0x2694+-0x1b9a+-0x22f*0x5],_0x5eb431=_0x2f6797*_0x22c055-_0x59a484*_0x32227e,_0x579317=_0x2f6797*_0x4816ef-_0x41a99d*_0x32227e,_0x2b4ea1=_0x2f6797*_0x2858a4-_0x17452a*_0x32227e,_0x50f6a5=_0x59a484*_0x4816ef-_0x41a99d*_0x22c055,_0x5dcc36=_0x59a484*_0x2858a4-_0x17452a*_0x22c055,_0x4777de=_0x41a99d*_0x2858a4-_0x17452a*_0x4816ef,_0x327bb9=_0x3443f4*_0x4dda5a-_0x345c6c*_0x3a8b08,_0x5921d0=_0x3443f4*_0x40f8cd-_0x42ed64*_0x3a8b08,_0x1e9068=_0x3443f4*_0x549b4d-_0x9434bf*_0x3a8b08,_0x304dc3=_0x345c6c*_0x40f8cd-_0x42ed64*_0x4dda5a,_0x4bb08b=_0x345c6c*_0x549b4d-_0x9434bf*_0x4dda5a,_0x2bf284=_0x42ed64*_0x549b4d-_0x9434bf*_0x40f8cd,_0x164c57=_0x5eb431*_0x2bf284-_0x579317*_0x4bb08b+_0x2b4ea1*_0x304dc3+_0x50f6a5*_0x1e9068-_0x5dcc36*_0x5921d0+_0x4777de*_0x327bb9;if(_0x164c57===-0x260c+-0x227a+0x4886)this['setIdentit'+'y']();else{const _0x34b52a=(-0x2180+-0x1*0x892+0x2a13)/_0x164c57,_0x2dcf1e=this['data'];_0x2dcf1e[0x1*-0x20ee+-0x2*0xa66+0x35ba]=(_0x22c055*_0x2bf284-_0x4816ef*_0x4bb08b+_0x2858a4*_0x304dc3)*_0x34b52a,_0x2dcf1e[-0x1*0x8fe+0x11b3*0x1+-0x8b4]=(-_0x59a484*_0x2bf284+_0x41a99d*_0x4bb08b-_0x17452a*_0x304dc3)*_0x34b52a,_0x2dcf1e[0x66*-0x1+0x10c1*-0x1+0x1129]=(_0x4dda5a*_0x4777de-_0x40f8cd*_0x5dcc36+_0x549b4d*_0x50f6a5)*_0x34b52a,_0x2dcf1e[0xad*-0x2+0xe00+-0xca3]=(-_0x345c6c*_0x4777de+_0x42ed64*_0x5dcc36-_0x9434bf*_0x50f6a5)*_0x34b52a,_0x2dcf1e[0x7*0x5b+-0x243a*-0x1+-0x26b3]=(-_0x32227e*_0x2bf284+_0x4816ef*_0x1e9068-_0x2858a4*_0x5921d0)*_0x34b52a,_0x2dcf1e[0x4*-0xc2+-0x4*-0x6bb+-0x17df]=(_0x2f6797*_0x2bf284-_0x41a99d*_0x1e9068+_0x17452a*_0x5921d0)*_0x34b52a,_0x2dcf1e[0x84a+0x1036+-0x1a*0xf1]=(-_0x3a8b08*_0x4777de+_0x40f8cd*_0x2b4ea1-_0x549b4d*_0x579317)*_0x34b52a,_0x2dcf1e[-0xb2d*0x3+-0x8b*0x2d+0x39fd]=(_0x3443f4*_0x4777de-_0x42ed64*_0x2b4ea1+_0x9434bf*_0x579317)*_0x34b52a,_0x2dcf1e[-0x1a5c+0x381+-0x3f*-0x5d]=(_0x32227e*_0x4bb08b-_0x22c055*_0x1e9068+_0x2858a4*_0x327bb9)*_0x34b52a,_0x2dcf1e[0x1b82+0x3*0x2a0+-0x1*0x2359]=(-_0x2f6797*_0x4bb08b+_0x59a484*_0x1e9068-_0x17452a*_0x327bb9)*_0x34b52a,_0x2dcf1e[-0xbf5+-0x19dc+0x25db]=(_0x3a8b08*_0x5dcc36-_0x4dda5a*_0x2b4ea1+_0x549b4d*_0x5eb431)*_0x34b52a,_0x2dcf1e[0x14e3+-0x21e1+0xd09]=(-_0x3443f4*_0x5dcc36+_0x345c6c*_0x2b4ea1-_0x9434bf*_0x5eb431)*_0x34b52a,_0x2dcf1e[0x15bc+0x91c+0x7b3*-0x4]=(-_0x32227e*_0x304dc3+_0x22c055*_0x5921d0-_0x4816ef*_0x327bb9)*_0x34b52a,_0x2dcf1e[0x1*0x1799+-0x7e0+-0xfac]=(_0x2f6797*_0x304dc3-_0x59a484*_0x5921d0+_0x41a99d*_0x327bb9)*_0x34b52a,_0x2dcf1e[0xb73+0x1*-0x1fa3+-0x143e*-0x1]=(-_0x3a8b08*_0x50f6a5+_0x4dda5a*_0x579317-_0x40f8cd*_0x5eb431)*_0x34b52a,_0x2dcf1e[0x88a+-0x1ff3+0x2*0xbbc]=(_0x3443f4*_0x50f6a5-_0x345c6c*_0x579317+_0x42ed64*_0x5eb431)*_0x34b52a;}return this;}['set'](_0x4f0cb7){const _0x14027b=this['data'];return _0x14027b[0x10*0x1fc+-0x169+-0xa1d*0x3]=_0x4f0cb7[-0x1037+-0x12e5+0x231c],_0x14027b[-0x53*0xe+-0x254a+0x29d5]=_0x4f0cb7[0x268b+0xca0+-0x1*0x332a],_0x14027b[-0x2514+0x1632+0xee4]=_0x4f0cb7[-0x1a54*0x1+-0x155+0x1bab*0x1],_0x14027b[0x19e+0x5d8+0x1*-0x773]=_0x4f0cb7[0x7b4+0x1748+-0x1ef9],_0x14027b[-0x34e+-0x160d+-0x195f*-0x1]=_0x4f0cb7[0x23e*-0x1+0x17b6+-0x1574],_0x14027b[-0x2e2+-0x45*-0x71+0xdc7*-0x2]=_0x4f0cb7[-0x108*0x13+-0x1053+0x23f0],_0x14027b[-0x7e1*0x2+0x263d+0x1*-0x1675]=_0x4f0cb7[-0x19fd*0x1+-0x137b+0x6*0x795],_0x14027b[0x1*0x9e9+-0x1a14+-0x1032*-0x1]=_0x4f0cb7[0x5f0+0x4*0x33f+-0x12e5],_0x14027b[0x17f4+0x25*-0xe6+0x952]=_0x4f0cb7[-0x1*0x729+0x142e+-0xcfd],_0x14027b[0x9f0+0xf*-0x287+0x3*0x956]=_0x4f0cb7[-0x1bf8+0x1a6*0x4+0x1d*0xbd],_0x14027b[-0xb23+-0x1*-0x15e9+-0xabc]=_0x4f0cb7[-0x22e+-0x252b+-0x2763*-0x1],_0x14027b[-0xa7b*-0x3+-0xb6f+0x10d*-0x13]=_0x4f0cb7[-0x1536+0x14d*-0x16+0x31df],_0x14027b[0x2211+0x12d7+-0x34dc]=_0x4f0cb7[0x4a*0x74+-0x5*0x373+-0x103d],_0x14027b[0x1*-0x158d+0x1*0x187+-0x1413*-0x1]=_0x4f0cb7[0x19af+-0x29*0xd+-0x178d],_0x14027b[0x24d3+-0x193+0x2*-0x1199]=_0x4f0cb7[-0x445+-0x2077+0x24ca],_0x14027b[0xb3+0x19f9*-0x1+0x1955]=_0x4f0cb7[0x101*0x25+0x6e*-0x3+-0x23cc],this;}['setIdentit'+'y'](){const _0x4f9437=this['data'];return _0x4f9437[0x238b+-0x12a+-0x2261]=0x2*-0x2+0x1169*-0x1+0x61*0x2e,_0x4f9437[-0xf5*0x8+0x1*0x1ac1+0x1a*-0xbc]=-0xe0b+0x1d82+-0xf77,_0x4f9437[0x19a*0x9+-0xf*-0x4c+0x22*-0x8e]=0x1ad3+0x31*-0x25+-0x13be,_0x4f9437[0xb93*-0x1+-0x1cb*-0x14+-0x1846*0x1]=-0x4d3+-0x2297+-0x3f1*-0xa,_0x4f9437[-0x51a+0x1*0x1d1b+-0x17fd]=-0x1*0x1169+-0x7*0x328+0x2781,_0x4f9437[0x1*-0x1321+0x31*-0x80+0x2ba6]=-0x23a*-0x8+-0xc9b*-0x3+-0x37a0,_0x4f9437[-0x807+0xf*-0xce+0x141f]=-0x80b+0x501*-0x5+0x2110,_0x4f9437[-0x1333*0x2+-0x3*0xa9+0x2868]=-0xb50+0xd*-0x25f+0x2a23,_0x4f9437[0x18fe+0x4*0x935+0x16*-0x2cf]=-0x1f89+-0x2367+0x10*0x42f,_0x4f9437[0x2*0xdf9+0x8*-0x301+-0x3e1]=-0x1*0x1415+-0x23db*0x1+0x598*0xa,_0x4f9437[-0x14c6+0x27*-0x6a+0x24f6]=-0xaa+0x1d98+-0x1ced,_0x4f9437[-0x1e28+0xe14+0x101f]=0xa*0x38a+0x1bb6+-0x18a*0x29,_0x4f9437[-0x26*-0x13+0xd85+0x104b*-0x1]=0x533+-0x3*-0x477+-0x1298,_0x4f9437[-0x4b*-0x52+-0x33*0x61+-0x4a6]=-0x764*0x4+-0x9*0x199+-0x2bf1*-0x1,_0x4f9437[0x841*-0x1+-0x1208+0x1a57]=0x576*0x3+-0x4*-0x9c1+-0x1*0x3766,_0x4f9437[0xc6b+0xd*-0xcc+-0x4*0x80]=-0x3cf+-0xff3+0x13c3,this;}['setTRS'](_0x1294fc,_0x50c22e,_0x168e5c){const _0x57f594=_0x50c22e['x'],_0x13ab07=_0x50c22e['y'],_0x356543=_0x50c22e['z'],_0x9f5637=_0x50c22e['w'],_0x406f70=_0x168e5c['x'],_0x4d0e25=_0x168e5c['y'],_0x1c59f8=_0x168e5c['z'],_0x3026e6=_0x57f594+_0x57f594,_0x1e371f=_0x13ab07+_0x13ab07,_0x4c25cb=_0x356543+_0x356543,_0x4cba1a=_0x57f594*_0x3026e6,_0x13bdac=_0x57f594*_0x1e371f,_0x4d869f=_0x57f594*_0x4c25cb,_0x34b7ea=_0x13ab07*_0x1e371f,_0x3d38f4=_0x13ab07*_0x4c25cb,_0x1f01c9=_0x356543*_0x4c25cb,_0x15b376=_0x9f5637*_0x3026e6,_0x3ae66b=_0x9f5637*_0x1e371f,_0x5a06e4=_0x9f5637*_0x4c25cb,_0x483fe1=this['data'];return _0x483fe1[0x9*0x47+0x20b2+-0x2331]=(0x127a+-0x740+-0xb39-(_0x34b7ea+_0x1f01c9))*_0x406f70,_0x483fe1[-0x2c2*0x6+-0x177*0xe+-0xb3*-0x35]=(_0x13bdac+_0x5a06e4)*_0x406f70,_0x483fe1[0x15af*-0x1+0x1eaa+-0x8f9]=(_0x4d869f-_0x3ae66b)*_0x406f70,_0x483fe1[0x18ba+0x22b5+-0x3b6c]=-0x191e+-0x19a1+-0x1*-0x32bf,_0x483fe1[-0x1b32+-0x119*0x13+0x3011]=(_0x13bdac-_0x5a06e4)*_0x4d0e25,_0x483fe1[-0xb3*0x20+0x49*-0x7+-0x37c*-0x7]=(-0x26ce+0xa*-0xdf+-0x981*-0x5-(_0x4cba1a+_0x1f01c9))*_0x4d0e25,_0x483fe1[-0x6d0*-0x5+0xc83+-0x2e8d]=(_0x3d38f4+_0x15b376)*_0x4d0e25,_0x483fe1[-0xaa0+-0xc31+0x16d8]=-0x26b2+0x1565+0x114d,_0x483fe1[0x233f*0x1+-0x2215*0x1+-0x122]=(_0x4d869f+_0x3ae66b)*_0x1c59f8,_0x483fe1[0x7a6+0x159b+0x1*-0x1d38]=(_0x3d38f4-_0x15b376)*_0x1c59f8,_0x483fe1[0x25e1+-0xe0c+-0x17cb]=(0x24bb*0x1+0x1166+-0x3620-(_0x4cba1a+_0x34b7ea))*_0x1c59f8,_0x483fe1[-0x1b7a+-0x1*-0xca0+0xee5*0x1]=-0x1d24+0x4*0x107+0x1908,_0x483fe1[0x16ee+0x10*-0x1a9+0x13a*0x3]=_0x1294fc['x'],_0x483fe1[0x1e7*-0x1+-0xdad+0xfa1*0x1]=_0x1294fc['y'],_0x483fe1[-0x3*0x549+-0x18b3*-0x1+-0x5a*0x19]=_0x1294fc['z'],_0x483fe1[-0x1229+-0xfb*-0x12+0x92]=-0x354+0xa53*-0x1+0xda8,this;}['transpose'](_0x111487=this){const _0x58d17f=_0x111487['data'],_0x53f788=this['data'];if(_0x58d17f===_0x53f788){let _0x5094f1;_0x5094f1=_0x58d17f[-0x5*-0x232+-0x1089+0x590],_0x53f788[0x5fb*-0x3+0x225e+-0x106c]=_0x58d17f[-0xc2f+0x2500+0x38b*-0x7],_0x53f788[0x1f13+0x999*0x3+-0x1ded*0x2]=_0x5094f1,_0x5094f1=_0x58d17f[0x914*0x2+-0x19*0x177+-0x1279*-0x1],_0x53f788[-0x3e0*-0x3+0x1c7e+0x25c*-0x11]=_0x58d17f[0x53a+0x3*-0x6a1+0x1*0xeb1],_0x53f788[-0x219a*-0x1+-0x1f2b+-0x267]=_0x5094f1,_0x5094f1=_0x58d17f[0xb*-0x14a+-0x1f1d*0x1+0x2d4e],_0x53f788[0x2*-0xbb3+-0x6be+-0xa0d*-0x3]=_0x58d17f[0xe07+-0x210b+0x1310],_0x53f788[0x2687*-0x1+0x5*-0x2e1+0x34f8]=_0x5094f1,_0x5094f1=_0x58d17f[-0x23c7+0x7*-0x2b1+-0xd*-0x434],_0x53f788[-0x4f7*-0x2+0x2f*0xb9+0x3fd*-0xb]=_0x58d17f[0x135*-0x3+-0x474*0x6+-0x18*-0x144],_0x53f788[-0x6fa+-0x1*-0x1d08+-0x1605]=_0x5094f1,_0x5094f1=_0x58d17f[-0x16bc+0xaf+0x1d7*0xc],_0x53f788[0x1*0x1a2f+0x1*-0x6b5+0x1*-0x1373]=_0x58d17f[-0x1*0x5b5+0x2584+-0x1fc2],_0x53f788[0x2260+0x1*0x1e95+0x86*-0x7c]=_0x5094f1,_0x5094f1=_0x58d17f[-0x21ef+-0xe13+0x300d],_0x53f788[-0x1ae5+-0x2*0xc19+0x2*0x1991]=_0x58d17f[-0x2360+0x7a1+0x1bcd],_0x53f788[0xe05*-0x1+-0x74f*0x2+0x71*0x41]=_0x5094f1;}else _0x53f788[-0x21a0+-0x5d5*-0x2+0x3*0x752]=_0x58d17f[-0x3cc+0x13e5+0xd*-0x13d],_0x53f788[0x1d1b+0xf7a+-0x27a*0x12]=_0x58d17f[-0xec8+0x1bbf*0x1+0x3*-0x451],_0x53f788[0xfde+0x1533+-0x250f]=_0x58d17f[-0x789+-0x111a+0x18ab],_0x53f788[0x10ea+0x1e03+-0x2eea]=_0x58d17f[-0x5a*0x39+0xb*0x1e9+-0xed],_0x53f788[-0xe1c+0x13d*-0x1+0xf5d]=_0x58d17f[-0x59b+0xae+0x4ee*0x1],_0x53f788[-0x4b5*0x3+-0x1c00+0x2a24]=_0x58d17f[0x662*-0x5+-0xe7*-0x13+-0x2*-0x765],_0x53f788[-0x1947*-0x1+-0x1e2*0x9+-0x84f]=_0x58d17f[0x254*-0x1+0x1*-0x151a+0x1777],_0x53f788[-0xc*-0x1a3+-0x3ff*-0x3+-0x1*0x1f9a]=_0x58d17f[0x73c+0x23c9+0x19*-0x1b8],_0x53f788[0x323+0xa75+-0xd90]=_0x58d17f[0x1cc9+-0x21fa+0x533],_0x53f788[0x18f3+-0x585+-0x1365*0x1]=_0x58d17f[0x43*-0x2b+0x1967+-0x10*0xe2],_0x53f788[0xd89+0x2676+0x1*-0x33f5]=_0x58d17f[0x380+0x2138+-0x24ae],_0x53f788[0x921+0x20e8+0x19*-0x1ae]=_0x58d17f[-0x336*0xa+0x19d0+0x65a],_0x53f788[-0x2e6+-0x1*-0x2103+0xb3*-0x2b]=_0x58d17f[-0x1695*-0x1+0x12bf*-0x1+-0x3d3],_0x53f788[-0x32+0x2544+-0x9*0x41d]=_0x58d17f[-0x1cf+-0x682*-0x6+-0x2536],_0x53f788[-0x13d*0xb+0x445*0x1+0x1*0x968]=_0x58d17f[0xb1+-0x4e2*0x3+-0x38*-0x40],_0x53f788[-0x2*-0xa6f+-0x11cb+-0x1*0x304]=_0x58d17f[0xd*-0x8a+0x7*0x2e3+0x2*-0x692];return this;}['getTransla'+'tion'](_0xef97ef=new D()){return _0xef97ef['set'](this['data'][-0xf63*-0x1+-0x24e5+0x158e],this['data'][0x1*-0x21d7+0xe6*-0x7+0x1417*0x2],this['data'][0xa54+0x1762+-0x167*0x18]);}['getX'](_0x2c9ea2=new D()){return _0x2c9ea2['set'](this['data'][-0x177c+-0xb85*-0x2+0x72],this['data'][-0x977+-0x2*-0xbfb+-0x23*0x6a],this['data'][-0x4d+0x612+-0x5c3]);}['getY'](_0x555564=new D()){return _0x555564['set'](this['data'][0x286+0x1318*-0x1+0x1096],this['data'][0x372+0x1d7d+-0x20ea],this['data'][0x1*-0x20c3+-0x4*-0x7ba+-0x1*-0x1e1]);}['getZ'](_0x3cfe10=new D()){return _0x3cfe10['set'](this['data'][-0x399+0x18a*0x2+0x8d],this['data'][-0x72*0x4d+0xdbd+0x1496],this['data'][0xa75*-0x3+-0x41d*0x2+0x27a3]);}['getScale'](_0x4538b5=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x4538b5['set'](Os['length'](),Js['length'](),ei['length']()),_0x4538b5;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x7*-0x1cf+-0x23b*0x5+0x17d0?-(-0x2*-0x92f+0x1079+0x7*-0x4fa):-0xe2f*-0x2+0x1c0f+-0x4*0xe1b;}['setFromEul'+'erAngles'](_0x388c88,_0xc5ac9d,_0x48fc3c){_0x388c88*=Y['DEG_TO_RAD'],_0xc5ac9d*=Y['DEG_TO_RAD'],_0x48fc3c*=Y['DEG_TO_RAD'];const _0x343afb=Math['sin'](-_0x388c88),_0x595862=Math['cos'](-_0x388c88),_0x33232e=Math['sin'](-_0xc5ac9d),_0x1ba4be=Math['cos'](-_0xc5ac9d),_0x5a0f55=Math['sin'](-_0x48fc3c),_0x1af340=Math['cos'](-_0x48fc3c),_0x183a95=this['data'];return _0x183a95[-0xeb6+-0xfd7+0x1e8d]=_0x1ba4be*_0x1af340,_0x183a95[0x1*-0x1933+0xdd5+0xb5f]=-_0x1ba4be*_0x5a0f55,_0x183a95[-0x171d+0x13db+0x16*0x26]=_0x33232e,_0x183a95[-0x118a*0x1+-0x6f2+-0x1*-0x187f]=-0x74f*0x3+-0x18f5*0x1+-0x1*-0x2ee2,_0x183a95[-0x3*0x57+-0x20fd+0x2206]=_0x595862*_0x5a0f55+_0x1af340*_0x343afb*_0x33232e,_0x183a95[-0x98e+0x1*0x2709+-0x3*0x9d2]=_0x595862*_0x1af340-_0x343afb*_0x33232e*_0x5a0f55,_0x183a95[-0x9b6+0x2066+-0x16aa]=-_0x1ba4be*_0x343afb,_0x183a95[0x6d9*-0x1+-0x6*-0x296+-0x8a4]=0x1*-0x121f+-0x220a*-0x1+0x32f*-0x5,_0x183a95[-0xdb6+-0x1*0x1082+0x1e40]=_0x343afb*_0x5a0f55-_0x595862*_0x1af340*_0x33232e,_0x183a95[-0x143b*0x1+0x1*0x1ee9+-0xaa5]=_0x1af340*_0x343afb+_0x595862*_0x33232e*_0x5a0f55,_0x183a95[0x59*-0x65+0x3b3*-0x8+0x40bf]=_0x595862*_0x1ba4be,_0x183a95[-0x595+-0x1e81+-0xc0b*-0x3]=-0x9a*-0x2f+-0x121f+-0xa27,_0x183a95[0x1762+-0x1*-0x1dde+-0x3534]=-0x1*-0x1cf9+-0xa89+0x10*-0x127,_0x183a95[0x1887*0x1+0x10*-0x1cf+0x476]=0x7*0x575+0x129a+0x6f*-0x83,_0x183a95[0x20c3+0x16bf+0x111*-0x34]=-0xe2c*0x2+-0xf58*-0x1+-0x10*-0xd0,_0x183a95[0xdc+-0x179d+0x16d0]=0x3c7+-0x97*0xd+-0x3e5*-0x1,this;}['getEulerAn'+'gles'](_0x27ce10=new D()){this['getScale'](Hl);const _0x221d4e=Hl['x'],_0x557933=Hl['y'],_0x47710e=Hl['z'];if(_0x221d4e===0x20ff+0x1bfd+-0x3cfc||_0x557933===-0x1*-0x1b05+0x23fc+-0x1*0x3f01||_0x47710e===0xb0*-0x2+-0x1*0x23bc+0x251c)return _0x27ce10['set'](-0x12ea+-0x20d1+-0x11*-0x30b,-0x1*0xdcd+0x1*0xc2f+0x19e,-0x20e*0x11+0x1*0xdee+-0x18*-0xe0);const _0x41fb4c=this['data'],_0x1b0e8a=Math['asin'](-_0x41fb4c[0x1f88+-0x1fec+0x22*0x3]/_0x221d4e),_0x47b649=Math['PI']*(-0x2312*0x1+0xbaf*0x1+0x1763+0.5);let _0x5b1729,_0x1c2afb;return _0x1b0e8a<_0x47b649?_0x1b0e8a>-_0x47b649?(_0x5b1729=Math['atan2'](_0x41fb4c[-0x195c+0x9*0x22+0x1830]/_0x557933,_0x41fb4c[-0x18d5+-0x181f+0x187f*0x2]/_0x47710e),_0x1c2afb=Math['atan2'](_0x41fb4c[0x22cc+-0x36*-0x52+-0x771*0x7]/_0x221d4e,_0x41fb4c[-0x13a9+0x1fa7+-0xbfe]/_0x221d4e)):(_0x1c2afb=-0x445*-0x2+-0x86*0x25+-0xad4*-0x1,_0x5b1729=-Math['atan2'](_0x41fb4c[-0x1acf+0x10c5+-0x75*-0x16]/_0x557933,_0x41fb4c[0x15bb+-0x15a9+-0xd*0x1]/_0x557933)):(_0x1c2afb=-0x231d+-0x1a45+0x246*0x1b,_0x5b1729=Math['atan2'](_0x41fb4c[-0x21*0x11b+-0x6*-0x4b9+0x829*0x1]/_0x557933,_0x41fb4c[-0x1167+0x3*0x122+-0x2*-0x703]/_0x557933)),_0x27ce10['set'](_0x5b1729,_0x1b0e8a,_0x1c2afb)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x137*0x2+0x1ab*-0x7+0x93f,-0x1*0xf53+-0x2392+0x32e5*0x1,0x140f+-0x126e+0x3*-0x8b,-0x1d24*0x1+-0x20e0+0x3e04,-0x1*0x1807+-0xeed+-0x22a*-0x12,0x1529*0x1+0x11*-0x121+0x2*-0xfc,-0x144+0xc33+-0x1*0xaef,-0x1ddc+0xcc2*-0x3+0x4422,-0x1797+-0xf13*0x1+0x26aa,-0x23ba+-0xff4*-0x2+0x3d2,0x220b+0x41*-0x59+-0xa*0x125,0x1*0x556+0x111e+-0x1674,0x4d9*-0x5+0xd2b*-0x1+0x3*0xc78,0x4fd*0x4+-0x4*0x471+-0x230,0x1*0x1872+0x26b*0x2+-0x1d48,-0x1*-0xfb6+0x1eac+-0x2e62])));let te=Qr;const Sn=class Sn{constructor(_0x25c9e7=-0xfda*-0x1+-0x1d39+-0x7*-0x1e9,_0x1e504c=-0xfd2+0x22c6+-0x12f4,_0x3db7e3=0xf1+-0x4*-0x514+-0x1541,_0x10c792=0x1eb8+-0x6d9+-0x17de){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x25c9e7['length']===-0x2*-0x2b3+0x1*0x1f4e+-0x24b0?(this['x']=_0x25c9e7[-0x4f0+0x4*-0x7a9+0x2394],this['y']=_0x25c9e7[0x848+-0x8bd*0x3+0x11f0],this['z']=_0x25c9e7[0x9*0x311+0x1b*-0xf3+-0x1f6],this['w']=_0x25c9e7[0x1f6*-0xf+-0x1bd8+0x3945]):(this['x']=_0x25c9e7,this['y']=_0x1e504c,this['z']=_0x3db7e3,this['w']=_0x10c792);}['clone'](){const _0x37c87e=this['constructo'+'r'];return new _0x37c87e(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x5dd652=this){return this['x']=_0x5dd652['x']*-(-0xfb7+0x1729*-0x1+0x26e1),this['y']=_0x5dd652['y']*-(-0x413+-0x3ec*0x2+-0x7*-0x1b4),this['z']=_0x5dd652['z']*-(0x1*-0x12f+0x5e*-0x5d+-0x2356*-0x1),this['w']=_0x5dd652['w'],this;}['copy'](_0x51b1b1){return this['x']=_0x51b1b1['x'],this['y']=_0x51b1b1['y'],this['z']=_0x51b1b1['z'],this['w']=_0x51b1b1['w'],this;}['dot'](_0x1544f7){return this['x']*_0x1544f7['x']+this['y']*_0x1544f7['y']+this['z']*_0x1544f7['z']+this['w']*_0x1544f7['w'];}['equals'](_0x35b8dc){return this['x']===_0x35b8dc['x']&&this['y']===_0x35b8dc['y']&&this['z']===_0x35b8dc['z']&&this['w']===_0x35b8dc['w'];}['equalsAppr'+'ox'](_0x33b736,_0x25e81f=0x1add*0x1+-0x4f*0x6b+0x628+0.000001){return Math['abs'](this['x']-_0x33b736['x'])<_0x25e81f&&Math['abs'](this['y']-_0x33b736['y'])<_0x25e81f&&Math['abs'](this['z']-_0x33b736['z'])<_0x25e81f&&Math['abs'](this['w']-_0x33b736['w'])<_0x25e81f;}['getAxisAng'+'le'](_0x1c7252){let _0x4e7e4d=Math['acos'](this['w'])*(0x1*0x369+0x3a1*0x5+-0x158c);const _0x29a4b4=Math['sin'](_0x4e7e4d/(-0x2402+-0x166*-0x11+0xc3e));return _0x29a4b4!==-0x1e9a+0x737*-0x5+0x42ad?(_0x1c7252['x']=this['x']/_0x29a4b4,_0x1c7252['y']=this['y']/_0x29a4b4,_0x1c7252['z']=this['z']/_0x29a4b4,(_0x1c7252['x']<0x25e1+-0x3f1*-0x4+0x35a5*-0x1||_0x1c7252['y']<-0x80*-0x3+-0xf*0xe9+0xc27||_0x1c7252['z']<-0xece+-0xa99*0x3+0x1*0x2e99)&&(_0x1c7252['x']*=-(-0x3*0xa44+0xa85+0x1448*0x1),_0x1c7252['y']*=-(0xdb3+0xbfe+-0x19b0),_0x1c7252['z']*=-(0x1b3b+0x1856+-0x3390),_0x4e7e4d*=-(-0xdd5*0x2+-0x1*0x21f6+0x3da1))):(_0x1c7252['x']=-0x1*0x26ad+0x11*-0xb3+0x3291,_0x1c7252['y']=0xb0c+-0x10ed+0x7*0xd7,_0x1c7252['z']=0x1ab9+0xa74+-0x252d),_0x4e7e4d*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0xfa706e=new D()){let _0x2bca8e,_0x253a2c,_0x4a2c70;const _0x1ec06a=this['x'],_0x1b5525=this['y'],_0x222a1d=this['z'],_0x5b4b9c=this['w'],_0x62bc47=(-0x9d*0x1+-0x1c*-0xba+-0x63*0x33)*(_0x5b4b9c*_0x1b5525-_0x1ec06a*_0x222a1d);return _0x62bc47<=-(-0x1147+-0x1938+0x2a7f+0.99999)?(_0x2bca8e=(0xdc+0x1c95+-0x1d6f)*Math['atan2'](_0x1ec06a,_0x5b4b9c),_0x253a2c=-Math['PI']/(-0x24a*-0x2+-0x268a+0x21f8),_0x4a2c70=-0x709+-0x38f*0x9+0x4e2*0x8):_0x62bc47>=-0x206*0x3+-0x1c1c+-0xfa*-0x23+0.99999?(_0x2bca8e=(0x1*-0x2273+0x21*0x9a+0xe9b)*Math['atan2'](_0x1ec06a,_0x5b4b9c),_0x253a2c=Math['PI']/(0x162b+0x1*-0x1c73+0x64a),_0x4a2c70=0x6a*0x5c+0x1*-0x1d7b+-0x89d):(_0x2bca8e=Math['atan2']((0x44f*0x1+-0x1a4e+-0x1*-0x1601)*(_0x5b4b9c*_0x1ec06a+_0x1b5525*_0x222a1d),0xe32+-0x280+-0x1*0xbb1-(-0xcc7*0x3+0x174+0x24e3)*(_0x1ec06a*_0x1ec06a+_0x1b5525*_0x1b5525)),_0x253a2c=Math['asin'](_0x62bc47),_0x4a2c70=Math['atan2']((-0x9c7+0xbb7+-0x1ee)*(_0x5b4b9c*_0x222a1d+_0x1ec06a*_0x1b5525),0x210+-0x1b0b+0x18fc-(-0x196d+-0x2649+0x3fb8*0x1)*(_0x1b5525*_0x1b5525+_0x222a1d*_0x222a1d))),_0xfa706e['set'](_0x2bca8e,_0x253a2c,_0x4a2c70)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x3282df=this){return this['conjugate'](_0x3282df)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x419263,_0x1357cd,_0x52ee03){const _0xb1ede0=(-0x7*-0xb2+0x3*-0x2f3+0x3fc-_0x52ee03)*(_0x419263['dot'](_0x1357cd)<-0xf40*0x1+-0x1367+0x22a7?-(-0x629+0x133*-0x9+0x10f5):0x24c4+0x2206+-0x46c9*0x1);return this['x']=_0x419263['x']*_0xb1ede0+_0x1357cd['x']*_0x52ee03,this['y']=_0x419263['y']*_0xb1ede0+_0x1357cd['y']*_0x52ee03,this['z']=_0x419263['z']*_0xb1ede0+_0x1357cd['z']*_0x52ee03,this['w']=_0x419263['w']*_0xb1ede0+_0x1357cd['w']*_0x52ee03,this['normalize']();}['mul'](_0x50ebe6){const _0x177a92=this['x'],_0x35c2bf=this['y'],_0x4bef44=this['z'],_0x51fe15=this['w'],_0x3f6c42=_0x50ebe6['x'],_0x47d24b=_0x50ebe6['y'],_0x5e59c1=_0x50ebe6['z'],_0x14e06e=_0x50ebe6['w'];return this['x']=_0x51fe15*_0x3f6c42+_0x177a92*_0x14e06e+_0x35c2bf*_0x5e59c1-_0x4bef44*_0x47d24b,this['y']=_0x51fe15*_0x47d24b+_0x35c2bf*_0x14e06e+_0x4bef44*_0x3f6c42-_0x177a92*_0x5e59c1,this['z']=_0x51fe15*_0x5e59c1+_0x4bef44*_0x14e06e+_0x177a92*_0x47d24b-_0x35c2bf*_0x3f6c42,this['w']=_0x51fe15*_0x14e06e-_0x177a92*_0x3f6c42-_0x35c2bf*_0x47d24b-_0x4bef44*_0x5e59c1,this;}['mulScalar'](_0x2bdeb4,_0x4082b2=this){return this['x']=_0x4082b2['x']*_0x2bdeb4,this['y']=_0x4082b2['y']*_0x2bdeb4,this['z']=_0x4082b2['z']*_0x2bdeb4,this['w']=_0x4082b2['w']*_0x2bdeb4,this;}['mul2'](_0x40e45e,_0x4bd5af){const _0x29e88a=_0x40e45e['x'],_0x4d19e0=_0x40e45e['y'],_0x467514=_0x40e45e['z'],_0x39bb08=_0x40e45e['w'],_0x1f81cf=_0x4bd5af['x'],_0x1d1911=_0x4bd5af['y'],_0x17ff1=_0x4bd5af['z'],_0xfb9759=_0x4bd5af['w'];return this['x']=_0x39bb08*_0x1f81cf+_0x29e88a*_0xfb9759+_0x4d19e0*_0x17ff1-_0x467514*_0x1d1911,this['y']=_0x39bb08*_0x1d1911+_0x4d19e0*_0xfb9759+_0x467514*_0x1f81cf-_0x29e88a*_0x17ff1,this['z']=_0x39bb08*_0x17ff1+_0x467514*_0xfb9759+_0x29e88a*_0x1d1911-_0x4d19e0*_0x1f81cf,this['w']=_0x39bb08*_0xfb9759-_0x29e88a*_0x1f81cf-_0x4d19e0*_0x1d1911-_0x467514*_0x17ff1,this;}['normalize'](_0x185dc5=this){let _0x344648=_0x185dc5['length']();return _0x344648===0x2547+0x25dc+-0x5*0xf07?(this['x']=this['y']=this['z']=-0x2276+-0x1058+0x32ce*0x1,this['w']=-0x25fb+0x11b6+0x1446):(_0x344648=(-0x16*0x1ab+-0x1*0x142f+0x652*0x9)/_0x344648,this['x']=_0x185dc5['x']*_0x344648,this['y']=_0x185dc5['y']*_0x344648,this['z']=_0x185dc5['z']*_0x344648,this['w']=_0x185dc5['w']*_0x344648),this;}['set'](_0x3a87b4,_0x1e36fd,_0x352667,_0x2ed101){return this['x']=_0x3a87b4,this['y']=_0x1e36fd,this['z']=_0x352667,this['w']=_0x2ed101,this;}['setFromAxi'+'sAngle'](_0x69176e,_0x462709){_0x462709*=(0x115*-0x2+0xae7*-0x3+0x22df*0x1+0.5)*Y['DEG_TO_RAD'];const _0x33503a=Math['sin'](_0x462709),_0x421277=Math['cos'](_0x462709);return this['x']=_0x33503a*_0x69176e['x'],this['y']=_0x33503a*_0x69176e['y'],this['z']=_0x33503a*_0x69176e['z'],this['w']=_0x421277,this;}['setFromEul'+'erAngles'](_0x4ee104,_0x4bd165,_0x37d815){if(_0x4ee104 instanceof D){const _0x655572=_0x4ee104;_0x4ee104=_0x655572['x'],_0x4bd165=_0x655572['y'],_0x37d815=_0x655572['z'];}const _0x3db74c=(0x19*0xd3+0x1f77+-0x3412*0x1+0.5)*Y['DEG_TO_RAD'];_0x4ee104*=_0x3db74c,_0x4bd165*=_0x3db74c,_0x37d815*=_0x3db74c;const _0x1e47a5=Math['sin'](_0x4ee104),_0x37da12=Math['cos'](_0x4ee104),_0x4fc586=Math['sin'](_0x4bd165),_0x27e5b1=Math['cos'](_0x4bd165),_0x1b59d3=Math['sin'](_0x37d815),_0x27fda6=Math['cos'](_0x37d815);return this['x']=_0x1e47a5*_0x27e5b1*_0x27fda6-_0x37da12*_0x4fc586*_0x1b59d3,this['y']=_0x37da12*_0x4fc586*_0x27fda6+_0x1e47a5*_0x27e5b1*_0x1b59d3,this['z']=_0x37da12*_0x27e5b1*_0x1b59d3-_0x1e47a5*_0x4fc586*_0x27fda6,this['w']=_0x37da12*_0x27e5b1*_0x27fda6+_0x1e47a5*_0x4fc586*_0x1b59d3,this;}['setFromMat'+'4'](_0x1266f9){const _0x5b9cd6=_0x1266f9['data'];let _0x471483=_0x5b9cd6[0x13c5*-0x1+0x2263+-0x1*0xe9e],_0x4bfce0=_0x5b9cd6[-0x1f80+0x3e*-0x56+0x3455],_0x277e09=_0x5b9cd6[0x89b+-0x1e07+0x156e],_0x2a9d19=_0x5b9cd6[-0xcae+-0x1*0x2a1+0xf53],_0x4a4815=_0x5b9cd6[0x5*-0x22f+-0x1*0x71f+0xc9*0x17],_0x50b230=_0x5b9cd6[0x11*0x219+0xd94+-0x3137],_0x18115b=_0x5b9cd6[-0x2462+0xb03+0x1967*0x1],_0x330d89=_0x5b9cd6[0xf*-0x101+-0x1*0x176f+0x2687],_0x2f221d=_0x5b9cd6[-0x179*0x2+-0x234+0x530],_0x4ea1d5;return _0x4ea1d5=_0x471483*_0x471483+_0x4bfce0*_0x4bfce0+_0x277e09*_0x277e09,_0x4ea1d5===0x260d+-0x2433+-0x1da?this['set'](0x2*-0x836+0x21d*-0x2+0x2*0xa53,0x46*-0x8c+-0x134b*0x2+0x4cde,-0x542*0x7+0x565+0x1f69,0xf*0x7a+0xf9e+0x1*-0x16c3):(_0x4ea1d5=(0x1ec4+-0x1d02+-0x1c1)/Math['sqrt'](_0x4ea1d5),_0x471483*=_0x4ea1d5,_0x4bfce0*=_0x4ea1d5,_0x277e09*=_0x4ea1d5,_0x4ea1d5=_0x2a9d19*_0x2a9d19+_0x4a4815*_0x4a4815+_0x50b230*_0x50b230,_0x4ea1d5===0x8e4+-0x20*-0x120+-0x374*0xd?this['set'](0x6a2*-0x3+-0xcf1+0x4b1*0x7,-0x119+-0xc1c+-0x1*-0xd35,0x1863+0x1*0xa9f+0x1*-0x2302,-0x244d+0x764+-0x1cea*-0x1):(_0x4ea1d5=(0x1b13*0x1+0x15ec+0x1*-0x30fe)/Math['sqrt'](_0x4ea1d5),_0x2a9d19*=_0x4ea1d5,_0x4a4815*=_0x4ea1d5,_0x50b230*=_0x4ea1d5,_0x4ea1d5=_0x18115b*_0x18115b+_0x330d89*_0x330d89+_0x2f221d*_0x2f221d,_0x4ea1d5===0x12d9+-0x6fd*0x1+-0xbdc?this['set'](-0x1bf*0x15+0xde+0x23cd,0x3*-0x10f+-0xa21*-0x1+-0x6f4,-0x221+-0x1a61+0x52*0x59,-0x1fab+-0xcc7*0x1+0x2c73):(_0x4ea1d5=(-0x161a+0x6b+0x15b0)/Math['sqrt'](_0x4ea1d5),_0x18115b*=_0x4ea1d5,_0x330d89*=_0x4ea1d5,_0x2f221d*=_0x4ea1d5,_0x2f221d<0x3*0xc2c+-0x102d*0x2+-0xd*0x52?_0x471483>_0x4a4815?this['set'](0x22b7*-0x1+0x1*0x25a6+0x19*-0x1e+_0x471483-_0x4a4815-_0x2f221d,_0x4bfce0+_0x2a9d19,_0x18115b+_0x277e09,_0x50b230-_0x330d89):this['set'](_0x4bfce0+_0x2a9d19,0x20c6+0x55*-0x11+-0x1b20-_0x471483+_0x4a4815-_0x2f221d,_0x50b230+_0x330d89,_0x18115b-_0x277e09):_0x471483<-_0x4a4815?this['set'](_0x18115b+_0x277e09,_0x50b230+_0x330d89,-0xb50+0x953*0x3+-0x215*0x8-_0x471483-_0x4a4815+_0x2f221d,_0x4bfce0-_0x2a9d19):this['set'](_0x50b230-_0x330d89,_0x18115b-_0x277e09,_0x4bfce0-_0x2a9d19,-0x1c13+-0x19a+-0x2*-0xed7+_0x471483+_0x4a4815+_0x2f221d),this['mulScalar']((-0x151*-0x7+0x1*-0x13b5+-0xa7f*-0x1)/this['length']()))));}['setFromDir'+'ections'](_0x25fcfb,_0x1f9565){const _0xa0c641=0x1981+-0x1436*-0x1+0x16db*-0x2+_0x25fcfb['dot'](_0x1f9565);return _0xa0c641<Number['EPSILON']?Math['abs'](_0x25fcfb['x'])>Math['abs'](_0x25fcfb['y'])?(this['x']=-_0x25fcfb['z'],this['y']=0x1*0x1ae1+-0x9bf+0x1*-0x1122,this['z']=_0x25fcfb['x'],this['w']=0x892+-0x2c0+-0x5d2):(this['x']=0x1*0x9e6+0xe2d+-0x1*0x1813,this['y']=-_0x25fcfb['z'],this['z']=_0x25fcfb['y'],this['w']=-0x1a4a+0xef+0x195b):(this['x']=_0x25fcfb['y']*_0x1f9565['z']-_0x25fcfb['z']*_0x1f9565['y'],this['y']=_0x25fcfb['z']*_0x1f9565['x']-_0x25fcfb['x']*_0x1f9565['z'],this['z']=_0x25fcfb['x']*_0x1f9565['y']-_0x25fcfb['y']*_0x1f9565['x'],this['w']=_0xa0c641),this['normalize']();}['slerp'](_0x18d87f,_0x1c07b6,_0x6ce488){const _0x24313a=_0x18d87f['x'],_0x1e245d=_0x18d87f['y'],_0x53c3d2=_0x18d87f['z'],_0x46caca=_0x18d87f['w'];let _0x16a760=_0x1c07b6['x'],_0x1109c1=_0x1c07b6['y'],_0xeea11=_0x1c07b6['z'],_0x5eb786=_0x1c07b6['w'],_0x427495=_0x46caca*_0x5eb786+_0x24313a*_0x16a760+_0x1e245d*_0x1109c1+_0x53c3d2*_0xeea11;if(_0x427495<-0x2a1*0x5+-0x61c+0x1341&&(_0x5eb786=-_0x5eb786,_0x16a760=-_0x16a760,_0x1109c1=-_0x1109c1,_0xeea11=-_0xeea11,_0x427495=-_0x427495),Math['abs'](_0x427495)>=0x167+-0x21d4+-0x251*-0xe)return this['w']=_0x46caca,this['x']=_0x24313a,this['y']=_0x1e245d,this['z']=_0x53c3d2,this;const _0x6333d3=Math['acos'](_0x427495),_0x512759=Math['sqrt'](0x7*0x83+-0x64e+0x2ba-_0x427495*_0x427495);if(Math['abs'](_0x512759)<-0xbe3+0x1*0x26e9+-0x1b06+0.001)return this['w']=_0x46caca*(-0x2597*-0x1+0x819+-0x2db0*0x1+0.5)+_0x5eb786*(0x135*0xd+-0x270a+0x1759+0.5),this['x']=_0x24313a*(0x1a2e+-0x1025+0x16f*-0x7+0.5)+_0x16a760*(-0x2463+0x1a98+0x9cb+0.5),this['y']=_0x1e245d*(-0x1*-0x1bdf+-0x223*0x7+0x57*-0x26+0.5)+_0x1109c1*(0xb3*-0x1f+-0xcf1+0x229e+0.5),this['z']=_0x53c3d2*(0x1*-0x113d+0x921+-0x2*-0x40e+0.5)+_0xeea11*(-0x5*0x272+0x1*0x1e8f+-0x1255*0x1+0.5),this;const _0x30b62f=Math['sin']((0x909+0x2153+-0x2a5b-_0x6ce488)*_0x6333d3)/_0x512759,_0x197a28=Math['sin'](_0x6ce488*_0x6333d3)/_0x512759;return this['w']=_0x46caca*_0x30b62f+_0x5eb786*_0x197a28,this['x']=_0x24313a*_0x30b62f+_0x16a760*_0x197a28,this['y']=_0x1e245d*_0x30b62f+_0x1109c1*_0x197a28,this['z']=_0x53c3d2*_0x30b62f+_0xeea11*_0x197a28,this;}['transformV'+'ector'](_0x4bb850,_0x5d517b=new D()){const _0x43577d=_0x4bb850['x'],_0x545c03=_0x4bb850['y'],_0x1d1ba4=_0x4bb850['z'],_0x10104a=this['x'],_0xf4d5f6=this['y'],_0x3d1df0=this['z'],_0x3c04cd=this['w'],_0x2542fc=_0x3c04cd*_0x43577d+_0xf4d5f6*_0x1d1ba4-_0x3d1df0*_0x545c03,_0x3c8c5d=_0x3c04cd*_0x545c03+_0x3d1df0*_0x43577d-_0x10104a*_0x1d1ba4,_0x5635dd=_0x3c04cd*_0x1d1ba4+_0x10104a*_0x545c03-_0xf4d5f6*_0x43577d,_0xe0be18=-_0x10104a*_0x43577d-_0xf4d5f6*_0x545c03-_0x3d1df0*_0x1d1ba4;return _0x5d517b['x']=_0x2542fc*_0x3c04cd+_0xe0be18*-_0x10104a+_0x3c8c5d*-_0x3d1df0-_0x5635dd*-_0xf4d5f6,_0x5d517b['y']=_0x3c8c5d*_0x3c04cd+_0xe0be18*-_0xf4d5f6+_0x5635dd*-_0x10104a-_0x2542fc*-_0x3d1df0,_0x5d517b['z']=_0x5635dd*_0x3c04cd+_0xe0be18*-_0x3d1df0+_0x2542fc*-_0xf4d5f6-_0x3c8c5d*-_0x10104a,_0x5d517b;}['fromArray'](_0x2b469d,_0x5b2877=0x1d68+0x1400*-0x1+-0x968){return this['x']=_0x2b469d[_0x5b2877]??this['x'],this['y']=_0x2b469d[_0x5b2877+(0x1782+-0x1aa*0x3+0x2a5*-0x7)]??this['y'],this['z']=_0x2b469d[_0x5b2877+(-0x134+-0x54c+0x682)]??this['z'],this['w']=_0x2b469d[_0x5b2877+(0x248+0xccf+0xc1*-0x14)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x318408=[],_0x158ee6=-0x7b6*0x2+-0x1b55+0x2ac1){return _0x318408[_0x158ee6]=this['x'],_0x318408[_0x158ee6+(0x5fb*-0x1+-0x1716+-0x1*-0x1d12)]=this['y'],_0x318408[_0x158ee6+(0x19b*-0xf+0x6*-0x473+0x32c9*0x1)]=this['z'],_0x318408[_0x158ee6+(-0x2*0x5eb+-0x6bc+-0x1*-0x1295)]=this['w'],_0x318408;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0xec7+0x1*0x24b+-0x1112,-0x1*0x583+-0x125f*0x1+-0x2*-0xbf1,-0x251*-0x1+0x1ba*-0x16+-0x1*-0x23ab,-0x1*0x12b7+-0x3a*0x81+0x2ff2))),h(Sn,'ZERO',Object['freeze'](new Sn(0x228e+0x23a9+0x4637*-0x1,-0x1f5b+-0x3*0x7eb+0x371c,0x47c+-0x586+-0xe*-0x13,0x5*0x109+-0xd57+0x1*0x82a)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x4d0407,_0x5dae55){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x755*0x3+0x2186+-0x3785+0.5,-0x2291+0x7*-0x372+0x3aaf+0.5,0x1*-0xbb7+0x386*0x3+0x1*0x125+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x4d0407&&this['center']['copy'](_0x4d0407),_0x5dae55&&this['halfExtent'+'s']['copy'](_0x5dae55));}['add'](_0x5076d5){const _0xa3ca5e=this['center'],_0x4094c8=_0xa3ca5e['x'],_0x356c86=_0xa3ca5e['y'],_0xfb1f48=_0xa3ca5e['z'],_0x35728c=this['halfExtent'+'s'],_0x3d77c2=_0x35728c['x'],_0x1a471d=_0x35728c['y'],_0x1b356e=_0x35728c['z'];let _0x4f628e=_0x4094c8-_0x3d77c2,_0x15c24a=_0x4094c8+_0x3d77c2,_0x2be275=_0x356c86-_0x1a471d,_0x4fbbb5=_0x356c86+_0x1a471d,_0xf3dea8=_0xfb1f48-_0x1b356e,_0x23a991=_0xfb1f48+_0x1b356e;const _0x2040a7=_0x5076d5['center'],_0x32c492=_0x2040a7['x'],_0x4cb824=_0x2040a7['y'],_0x1e6439=_0x2040a7['z'],_0x4650ef=_0x5076d5['halfExtent'+'s'],_0xdbf93a=_0x4650ef['x'],_0x42541d=_0x4650ef['y'],_0x5321b2=_0x4650ef['z'],_0x3fb8cd=_0x32c492-_0xdbf93a,_0x1d52b4=_0x32c492+_0xdbf93a,_0x307537=_0x4cb824-_0x42541d,_0x2fbe7b=_0x4cb824+_0x42541d,_0x21915f=_0x1e6439-_0x5321b2,_0x4ce7ea=_0x1e6439+_0x5321b2;_0x3fb8cd<_0x4f628e&&(_0x4f628e=_0x3fb8cd),_0x1d52b4>_0x15c24a&&(_0x15c24a=_0x1d52b4),_0x307537<_0x2be275&&(_0x2be275=_0x307537),_0x2fbe7b>_0x4fbbb5&&(_0x4fbbb5=_0x2fbe7b),_0x21915f<_0xf3dea8&&(_0xf3dea8=_0x21915f),_0x4ce7ea>_0x23a991&&(_0x23a991=_0x4ce7ea),_0xa3ca5e['x']=(_0x4f628e+_0x15c24a)*(0x245a+0x1ac1+-0x3f1b+0.5),_0xa3ca5e['y']=(_0x2be275+_0x4fbbb5)*(0x1939*0x1+-0x2e7*0x3+-0x1084+0.5),_0xa3ca5e['z']=(_0xf3dea8+_0x23a991)*(0x1a02+0xb88+-0x258a+0.5),_0x35728c['x']=(_0x15c24a-_0x4f628e)*(0x623*0x1+0x1ba1*-0x1+0x157e+0.5),_0x35728c['y']=(_0x4fbbb5-_0x2be275)*(-0x7*0x45f+-0x1*0xa39+0x28d2+0.5),_0x35728c['z']=(_0x23a991-_0xf3dea8)*(-0x1b*0x3e+-0x1*-0x3b9+0x2d1*0x1+0.5);}['copy'](_0x487143){this['center']['copy'](_0x487143['center']),this['halfExtent'+'s']['copy'](_0x487143['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x11014f){const _0x4667a9=this['getMax'](),_0x41ee12=this['getMin'](),_0x329934=_0x11014f['getMax'](),_0x2314a7=_0x11014f['getMin']();return _0x41ee12['x']<=_0x329934['x']&&_0x4667a9['x']>=_0x2314a7['x']&&_0x41ee12['y']<=_0x329934['y']&&_0x4667a9['y']>=_0x2314a7['y']&&_0x41ee12['z']<=_0x329934['z']&&_0x4667a9['z']>=_0x2314a7['z'];}['_intersect'+'sRay'](_0x477d82,_0x1ab436){const _0xd8e53e=Pa['copy'](this['getMin']())['sub'](_0x477d82['origin']),_0x5a5aca=Ma['copy'](this['getMax']())['sub'](_0x477d82['origin']),_0x382b6b=_0x477d82['direction'];_0x382b6b['x']===-0x23*-0xbf+-0x46b+-0x15b2?(_0xd8e53e['x']=_0xd8e53e['x']<-0x20ac+0xc0*-0x5+0x246c?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5a5aca['x']=_0x5a5aca['x']<0xe3d+-0x245e+-0x37*-0x67?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0xd8e53e['x']/=_0x382b6b['x'],_0x5a5aca['x']/=_0x382b6b['x']),_0x382b6b['y']===0x1*-0x1fa7+-0x1f47+0x3eee?(_0xd8e53e['y']=_0xd8e53e['y']<-0x1*-0x3a1+0x1d69*-0x1+0x19c8?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5a5aca['y']=_0x5a5aca['y']<-0x5*0x367+-0x1*-0x835+0x8ce?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0xd8e53e['y']/=_0x382b6b['y'],_0x5a5aca['y']/=_0x382b6b['y']),_0x382b6b['z']===0x22eb*0x1+0x2581+0x1*-0x486c?(_0xd8e53e['z']=_0xd8e53e['z']<-0x47*-0x14+0x1*-0x1487+0xefb*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5a5aca['z']=_0x5a5aca['z']<-0xd88*-0x1+-0x3*-0xa95+-0x43*0xad?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0xd8e53e['z']/=_0x382b6b['z'],_0x5a5aca['z']/=_0x382b6b['z']);const _0x24a021=Um['set'](Math['min'](_0xd8e53e['x'],_0x5a5aca['x']),Math['min'](_0xd8e53e['y'],_0x5a5aca['y']),Math['min'](_0xd8e53e['z'],_0x5a5aca['z'])),_0x227841=Bm['set'](Math['max'](_0xd8e53e['x'],_0x5a5aca['x']),Math['max'](_0xd8e53e['y'],_0x5a5aca['y']),Math['max'](_0xd8e53e['z'],_0x5a5aca['z'])),_0x1ebdf3=Math['min'](Math['min'](_0x227841['x'],_0x227841['y']),_0x227841['z']),_0x35ffcb=Math['max'](Math['max'](_0x24a021['x'],_0x24a021['y']),_0x24a021['z']),_0x4626a7=_0x1ebdf3>=_0x35ffcb&&_0x35ffcb>=-0x1*0x1d8d+0x1f6b+-0xef*0x2;return _0x4626a7&&_0x1ab436['copy'](_0x477d82['direction'])['mulScalar'](_0x35ffcb)['add'](_0x477d82['origin']),_0x4626a7;}['_fastInter'+'sectsRay'](_0x16d088){const _0x9aa182=Pa,_0xc869d=Ma,_0xeac741=Um,_0x1191c9=Bm,_0x51caae=gx,_0x35eda6=_0x16d088['direction'];return _0x9aa182['sub2'](_0x16d088['origin'],this['center']),_0x1191c9['set'](Math['abs'](_0x9aa182['x']),Math['abs'](_0x9aa182['y']),Math['abs'](_0x9aa182['z'])),_0xeac741['mul2'](_0x9aa182,_0x35eda6),!(_0x1191c9['x']>this['halfExtent'+'s']['x']&&_0xeac741['x']>=-0x1*-0xd3d+0x221e+0x1*-0x2f5b||_0x1191c9['y']>this['halfExtent'+'s']['y']&&_0xeac741['y']>=0x33a+0x106+0x8*-0x88||_0x1191c9['z']>this['halfExtent'+'s']['z']&&_0xeac741['z']>=-0x11f5*0x1+-0x26f9*0x1+0x38ee||(_0x51caae['set'](Math['abs'](_0x35eda6['x']),Math['abs'](_0x35eda6['y']),Math['abs'](_0x35eda6['z'])),_0xc869d['cross'](_0x35eda6,_0x9aa182),_0xc869d['set'](Math['abs'](_0xc869d['x']),Math['abs'](_0xc869d['y']),Math['abs'](_0xc869d['z'])),_0xc869d['x']>this['halfExtent'+'s']['y']*_0x51caae['z']+this['halfExtent'+'s']['z']*_0x51caae['y'])||_0xc869d['y']>this['halfExtent'+'s']['x']*_0x51caae['z']+this['halfExtent'+'s']['z']*_0x51caae['x']||_0xc869d['z']>this['halfExtent'+'s']['x']*_0x51caae['y']+this['halfExtent'+'s']['y']*_0x51caae['x']);}['intersects'+'Ray'](_0x3e5aa5,_0x103f84){return _0x103f84?this['_intersect'+'sRay'](_0x3e5aa5,_0x103f84):this['_fastInter'+'sectsRay'](_0x3e5aa5);}['setMinMax'](_0x219a1b,_0x49bc40){this['center']['add2'](_0x49bc40,_0x219a1b)['mulScalar'](0xad3+0x1*0x1696+-0x2169+0.5),this['halfExtent'+'s']['sub2'](_0x49bc40,_0x219a1b)['mulScalar'](-0x8ad*0x1+0x23f9+-0x1b4c+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x5a6e8a){const _0x15d9ad=this['getMin'](),_0x61211a=this['getMax']();return!(_0x5a6e8a['x']<_0x15d9ad['x']||_0x5a6e8a['x']>_0x61211a['x']||_0x5a6e8a['y']<_0x15d9ad['y']||_0x5a6e8a['y']>_0x61211a['y']||_0x5a6e8a['z']<_0x15d9ad['z']||_0x5a6e8a['z']>_0x61211a['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x489ba9,_0x25832a,_0x1cfbe0=!(0x11*-0x62+0x89c+-0x219)){const _0x3bbd0d=_0x489ba9['center'],_0x3a5556=_0x489ba9['halfExtent'+'s'],_0x20f176=_0x25832a['data'];let _0x2c9bb9=_0x20f176[0x119*0x1e+-0x1d86+-0x368],_0x19ad35=_0x20f176[-0xfb3+-0x1085*0x1+0x2*0x101e],_0x1f4604=_0x20f176[0x1065+0x229+-0x1286*0x1],_0x1d6e72=_0x20f176[-0xfbb+0x1582+0x5c6*-0x1],_0x14b1d0=_0x20f176[0x8*-0x3fd+-0x19d6*0x1+0x39c3],_0x4188f8=_0x20f176[0x4bb+0x1*-0x2384+0x1ed2],_0x295216=_0x20f176[-0x8e0+0x19a7+0x1dd*-0x9],_0xca8d8c=_0x20f176[0x255a*-0x1+0x3*0x4b5+0x1*0x1741],_0x1f3e03=_0x20f176[-0x6bb+0xce0*0x3+-0x7*0x48d];if(_0x1cfbe0){let _0x18a0c8=_0x2c9bb9*_0x2c9bb9+_0x19ad35*_0x19ad35+_0x1f4604*_0x1f4604;if(_0x18a0c8>-0x828+0x752*-0x3+0x1e1e){const _0x1299b3=(0x1516+0x208a+-0x359f)/Math['sqrt'](_0x18a0c8);_0x2c9bb9*=_0x1299b3,_0x19ad35*=_0x1299b3,_0x1f4604*=_0x1299b3;}if(_0x18a0c8=_0x1d6e72*_0x1d6e72+_0x14b1d0*_0x14b1d0+_0x4188f8*_0x4188f8,_0x18a0c8>-0x211a*-0x1+-0x1*-0xd3f+-0x7*0x69f){const _0x3e96df=(-0x1793+0x1a91+0x2fd*-0x1)/Math['sqrt'](_0x18a0c8);_0x1d6e72*=_0x3e96df,_0x14b1d0*=_0x3e96df,_0x4188f8*=_0x3e96df;}if(_0x18a0c8=_0x295216*_0x295216+_0xca8d8c*_0xca8d8c+_0x1f3e03*_0x1f3e03,_0x18a0c8>0x826*0x2+-0x1474+0x26*0x1c){const _0x306a3d=(0x351*-0x5+0x1*-0xff3+0x2089)/Math['sqrt'](_0x18a0c8);_0x295216*=_0x306a3d,_0xca8d8c*=_0x306a3d,_0x1f3e03*=_0x306a3d;}}this['center']['set'](_0x20f176[-0x7f1+0x112b*-0x1+-0x325*-0x8]+_0x2c9bb9*_0x3bbd0d['x']+_0x19ad35*_0x3bbd0d['y']+_0x1f4604*_0x3bbd0d['z'],_0x20f176[-0x104e*-0x1+0x3b9*-0x3+-0x516]+_0x1d6e72*_0x3bbd0d['x']+_0x14b1d0*_0x3bbd0d['y']+_0x4188f8*_0x3bbd0d['z'],_0x20f176[0x1879+0x1*-0x2065+0x2*0x3fd]+_0x295216*_0x3bbd0d['x']+_0xca8d8c*_0x3bbd0d['y']+_0x1f3e03*_0x3bbd0d['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x2c9bb9)*_0x3a5556['x']+Math['abs'](_0x19ad35)*_0x3a5556['y']+Math['abs'](_0x1f4604)*_0x3a5556['z'],Math['abs'](_0x1d6e72)*_0x3a5556['x']+Math['abs'](_0x14b1d0)*_0x3a5556['y']+Math['abs'](_0x4188f8)*_0x3a5556['z'],Math['abs'](_0x295216)*_0x3a5556['x']+Math['abs'](_0xca8d8c)*_0x3a5556['y']+Math['abs'](_0x1f3e03)*_0x3a5556['z']);}static['computeMin'+'Max'](_0x5d38c6,_0x321b56,_0x3b17b9,_0x19ea49=_0x5d38c6['length']/(-0xa6a+0x1907+-0x3*0x4de)){if(_0x19ea49>0xc47+-0xdd*-0x2b+-0x18b3*0x2){let _0x1c487d=_0x5d38c6[0x12b3+-0x120f+0x4*-0x29],_0x28e9fe=_0x5d38c6[0x8*-0x171+0x1118*0x2+0x3*-0x78d],_0xae76ca=_0x5d38c6[-0x9*-0x32d+-0x1*0x1dd9+-0x146*-0x1],_0x4fd071=_0x1c487d,_0x5c0f2c=_0x28e9fe,_0x3ae19c=_0xae76ca;const _0x29b922=_0x19ea49*(0x4*-0x1b1+0x2*0xebf+-0x16b7);for(let _0x25304b=0xf30+0x481+-0x13ae;_0x25304b<_0x29b922;_0x25304b+=-0x1*0x1048+0x106*0x11+-0x11b){const _0x2729c2=_0x5d38c6[_0x25304b],_0x25d6f1=_0x5d38c6[_0x25304b+(0x1*-0xc31+-0x1*0x1bf4+0x2826)],_0x30fad6=_0x5d38c6[_0x25304b+(-0x4a8+-0x1bb5+0x205f)];_0x2729c2<_0x1c487d&&(_0x1c487d=_0x2729c2),_0x25d6f1<_0x28e9fe&&(_0x28e9fe=_0x25d6f1),_0x30fad6<_0xae76ca&&(_0xae76ca=_0x30fad6),_0x2729c2>_0x4fd071&&(_0x4fd071=_0x2729c2),_0x25d6f1>_0x5c0f2c&&(_0x5c0f2c=_0x25d6f1),_0x30fad6>_0x3ae19c&&(_0x3ae19c=_0x30fad6);}_0x321b56['set'](_0x1c487d,_0x28e9fe,_0xae76ca),_0x3b17b9['set'](_0x4fd071,_0x5c0f2c,_0x3ae19c);}}['compute'](_0x5c07cc,_0x49a73d){De['computeMin'+'Max'](_0x5c07cc,Pa,Ma,_0x49a73d),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x9d6a9){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x9d6a9)<=_0x9d6a9['radius']*_0x9d6a9['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0xb06d7e){const _0x239aa4=this['getMin'](),_0x485159=this['getMax']();let _0x50c6b2=0x1598+0x14ff+-0x1*0x2a97;const _0x5cbc6e=['x','y','z'];for(let _0x4819b7=-0x7*-0x4e1+0x1e86*0x1+-0x40ad;_0x4819b7<0x5*-0x279+0x551+0x70f*0x1;++_0x4819b7){let _0x2bd276=-0x1630+0x1de1+0xb*-0xb3;const _0x41266b=_0xb06d7e['center'][_0x5cbc6e[_0x4819b7]],_0x25606c=_0x239aa4[_0x5cbc6e[_0x4819b7]],_0x35f199=_0x485159[_0x5cbc6e[_0x4819b7]];let _0x1671bc=-0xd59*0x1+-0xf1*0x27+0x10*0x321;_0x41266b<_0x25606c&&(_0x1671bc=_0x25606c-_0x41266b,_0x2bd276+=_0x1671bc*_0x1671bc),_0x41266b>_0x35f199&&(_0x1671bc=_0x41266b-_0x35f199,_0x2bd276+=_0x1671bc*_0x1671bc),_0x50c6b2+=_0x2bd276;}return _0x50c6b2;}['_expand'](_0xe145fa,_0x2acdb9){Pa['add2'](this['getMin'](),_0xe145fa),Ma['add2'](this['getMax'](),_0x2acdb9),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x18e3e3=new D(),_0x1b86a1=-0x1f2d+0x525+-0x44*-0x62+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x18e3e3),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x18e3e3,this['radius']=_0x1b86a1);}['containsPo'+'int'](_0x56561a){const _0x275b88=Wl['sub2'](_0x56561a,this['center'])['lengthSq'](),_0x473c32=this['radius'];return _0x275b88<_0x473c32*_0x473c32;}['intersects'+'Ray'](_0x510359,_0x18de65){const _0x38e2e6=Wl['copy'](_0x510359['origin'])['sub'](this['center']),_0x92204b=_0x38e2e6['dot'](Sx['copy'](_0x510359['direction'])['normalize']()),_0xf239f1=_0x38e2e6['dot'](_0x38e2e6)-this['radius']*this['radius'];if(_0xf239f1>-0x25d1+-0x25cf*-0x1+-0x2*-0x1&&_0x92204b>-0xd13*0x1+0x15a4+-0x891)return!(0x13*-0x1c4+0x2591+-0x404*0x1);const _0x2b9cf4=_0x92204b*_0x92204b-_0xf239f1;if(_0x2b9cf4<-0xabd+-0x2311+0x2dce)return!(-0x259+0xc99*0x1+-0xa3f);const _0x9f4e8f=Math['abs'](-_0x92204b-Math['sqrt'](_0x2b9cf4));return _0x18de65&&_0x18de65['copy'](_0x510359['direction'])['mulScalar'](_0x9f4e8f)['add'](_0x510359['origin']),!(-0x3*-0x9ef+-0xe81+0x2*-0x7a6);}['intersects'+'BoundingSp'+'here'](_0x2b5604){Wl['sub2'](_0x2b5604['center'],this['center']);const _0x390b42=_0x2b5604['radius']+this['radius'];return Wl['lengthSq']()<=_0x390b42*_0x390b42;}}class QS{constructor(_0xadf28=D['UP'],_0x446d9e=-0x2005+0x2*0x12ef+0x1f3*-0x3){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0xadf28),this['distance']=_0x446d9e);}['clone'](){const _0x11f56f=this['constructo'+'r'];return new _0x11f56f()['copy'](this);}['copy'](_0x15c309){return this['normal']['copy'](_0x15c309['normal']),this['distance']=_0x15c309['distance'],this;}['intersects'+'Line'](_0x223c21,_0x28513c,_0x1771d5){const _0x6eff29=this['distance'],_0xa9b54=this['normal']['dot'](_0x223c21)+_0x6eff29,_0x42ed4d=this['normal']['dot'](_0x28513c)+_0x6eff29,_0x5bc47c=_0xa9b54/(_0xa9b54-_0x42ed4d),_0x535933=_0x5bc47c>=-0xaf7+0x1*0x587+-0x3*-0x1d0&&_0x5bc47c<=0x3c3+0x166*0x3+-0x7f4;return _0x535933&&_0x1771d5&&_0x1771d5['lerp'](_0x223c21,_0x28513c,_0x5bc47c),_0x535933;}['intersects'+'Ray'](_0x3a1ca3,_0x3ad01a){const _0x16c932=this['normal']['dot'](_0x3a1ca3['direction']);if(_0x16c932===-0x3*0xbaf+0x1825*0x1+-0x2*-0x574)return!(-0x1*-0x8c3+-0x1*0x55f+-0x33*0x11);const _0x4abbd5=-(this['normal']['dot'](_0x3a1ca3['origin'])+this['distance'])/_0x16c932;return _0x4abbd5>=0x22c8+0x26bc+-0x4*0x1261&&_0x3ad01a&&_0x3ad01a['copy'](_0x3a1ca3['direction'])['mulScalar'](_0x4abbd5)['add'](_0x3a1ca3['origin']),_0x4abbd5>=0x2*0xfe8+-0x1eb8+-0xe*0x14;}['normalize'](){const _0x300a68=(0x1d21+0x1a1*0xf+0x1*-0x358f)/this['normal']['length']();return this['normal']['mulScalar'](_0x300a68),this['distance']*=_0x300a68,this;}['set'](_0x5da078,_0x434109,_0x3e2c29,_0x12a037){return this['normal']['set'](_0x5da078,_0x434109,_0x3e2c29),this['distance']=_0x12a037,this;}['setFromPoi'+'ntNormal'](_0x1b2b8a,_0x5c081d){return this['normal']['copy'](_0x5c081d),this['distance']=-this['normal']['dot'](_0x1b2b8a),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x3ad802=0x2523+0x33*0x35+-0x2fb2*0x1;_0x3ad802<-0x1c1a*0x1+-0x1462+0x3082;_0x3ad802++)this['planes'][_0x3ad802]=new QS();}['clone'](){const _0x59a3d0=this['constructo'+'r'];return new _0x59a3d0()['copy'](this);}['copy'](_0x4df832){for(let _0x2bd052=0x1ab9*-0x1+-0x1*-0x2068+-0x5af;_0x2bd052<0x1*-0x1627+-0x25*-0x83+0xa6*0x5;_0x2bd052++)this['planes'][_0x2bd052]['copy'](_0x4df832['planes'][_0x2bd052]);return this;}['setFromMat'+'4'](_0x2beca0){const [_0x44f225,_0x21e740,_0xbee791,_0x1deb50,_0xcf83a6,_0x5ef28d,_0x352347,_0x17fc9f,_0x591188,_0x2ade04,_0x423e4e,_0x51b88c,_0xe7c1f,_0x162592,_0xc971c,_0x484ee6]=_0x2beca0['data'],_0x2a0cdd=this['planes'];_0x2a0cdd[-0xc8a+0x8db*-0x1+-0x1565*-0x1]['set'](_0x1deb50-_0x44f225,_0x17fc9f-_0xcf83a6,_0x51b88c-_0x591188,_0x484ee6-_0xe7c1f)['normalize'](),_0x2a0cdd[-0xbf3+-0x909+0x3*0x6ff]['set'](_0x1deb50+_0x44f225,_0x17fc9f+_0xcf83a6,_0x51b88c+_0x591188,_0x484ee6+_0xe7c1f)['normalize'](),_0x2a0cdd[-0x49*-0x7f+0x7d9*-0x2+-0x1483]['set'](_0x1deb50+_0x21e740,_0x17fc9f+_0x5ef28d,_0x51b88c+_0x2ade04,_0x484ee6+_0x162592)['normalize'](),_0x2a0cdd[-0x2201+0x1*-0x19b1+-0x1*-0x3bb5]['set'](_0x1deb50-_0x21e740,_0x17fc9f-_0x5ef28d,_0x51b88c-_0x2ade04,_0x484ee6-_0x162592)['normalize'](),_0x2a0cdd[0x32*0x11+0x1ce8+-0x2036]['set'](_0x1deb50-_0xbee791,_0x17fc9f-_0x352347,_0x51b88c-_0x423e4e,_0x484ee6-_0xc971c)['normalize'](),_0x2a0cdd[0xc31*-0x3+-0x1e2d+0x1*0x42c5]['set'](_0x1deb50+_0xbee791,_0x17fc9f+_0x352347,_0x51b88c+_0x423e4e,_0x484ee6+_0xc971c)['normalize']();}['containsPo'+'int'](_0x1d0d96){for(let _0x39dda8=0x1*0x22df+0x470+0x15b*-0x1d;_0x39dda8<-0x1*-0x47f+-0x2e3*0xd+0x210e;_0x39dda8++){const {normal:_0x55c4d6,distance:_0xdc1e3c}=this['planes'][_0x39dda8];if(_0x55c4d6['dot'](_0x1d0d96)+_0xdc1e3c<=0x6*-0x522+0x1*0x1023+0xea9)return!(0x4*-0x75f+-0x1877+0x35f4);}return!(-0x1b*-0xec+0x1db*-0x11+0x6a7);}['containsSp'+'here'](_0x1a4086){const {center:_0x3a86c0,radius:_0x4bd329}=_0x1a4086;let _0x4e7428=0x27a+-0x18cf+0x1*0x1655;for(let _0x33a37f=0x116c+0x700+-0x186c;_0x33a37f<0x83*0x1a+-0x824*-0x1+-0x156c;_0x33a37f++){const {normal:_0x360e6a,distance:_0x428374}=this['planes'][_0x33a37f],_0x31ca17=_0x360e6a['dot'](_0x3a86c0)+_0x428374;if(_0x31ca17<=-_0x4bd329)return 0x1420+0x227+0x1647*-0x1;_0x31ca17>_0x4bd329&&_0x4e7428++;}return _0x4e7428===0x51+-0x3e*-0x3d+0x13*-0xcb?-0x77d+-0x9ee+0x116d*0x1:0x1*-0x8ef+-0xc4*-0x23+0xc*-0x17d;}}class Dn{constructor(_0x4ebdcd,_0x27a68c){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x4ebdcd&&this['origin']['copy'](_0x4ebdcd),_0x27a68c&&this['direction']['copy'](_0x27a68c));}['set'](_0x3985ab,_0xb930c3){return this['origin']['copy'](_0x3985ab),this['direction']['copy'](_0xb930c3),this;}['copy'](_0x5b76d5){return this['set'](_0x5b76d5['origin'],_0x5b76d5['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x2038+-0x1f3c*-0x1+0xfc,ue=-0xed6+0xf9*0xb+-0x2*-0x212,ip=-0x117*-0x9+0xb63+-0x1530,rp=0x1c05+0x1*0x140e+-0x3013,Ft=-0x5a9+0x16e8+-0x113e,vx=-0x1*0x1073+0x1f70+-0xefb,JS=0x3*-0x94c+0x1f4b+0x3*-0x121,xx=-0x2635*0x1+0x1b80+0xaba,jh=0x5*-0x3e5+-0x34*0x4e+0x2357,Yh=0x2467+0x8e0+0x1b*-0x1ad,fs=-0x17b1+-0x4d3+-0x1*-0x1c84,Tx=-0x1e55*0x1+0x18*0x141+0x3f,wx=0x2656+-0x1*0x821+-0x305*0xa,Ex=0x2517+0x1b3d+-0x4050,ms=-0x581*-0x3+-0x2111+0x108e,lh=-0xe56*0x2+0x1224*0x2+-0x79b,ey=0x94*0x36+-0x1*-0x481+-0x23b7,bx=0xaf3*0x1+-0x1bf3+0x1103,jo=0x10*0xe0+0x15dd+-0x23dc,Yo=-0x15*0x15+-0x1327+0x14e2,ch=0x190e+-0x2f*0xa3+0x4e3,bt=0x3*0x10f+-0x13b5+0x8*0x211,pa=-0x1*0x23ae+-0x1578+-0x1*-0x3927,Fo=0x19f*0x16+0x978*-0x3+-0x74*0x10,Ax=-0x5*0x60e+-0x7*-0x2bd+0xb1e,Te=0xb75+-0x2034+0x71*0x2f,vt=0x2*-0xaa6+-0x422+-0x11*-0x17f,Kh=0x1*-0xe27+-0x193e+0x7*0x5a1,Zh=-0x194d*-0x1+-0x1312*-0x1+-0x14e*0x22,Qh=0x1ca8+-0xa77+-0x122d,ma=0x7*0x1b7+0x15dc+-0x8*0x43b,Cx=0x1*-0x12e+0xed8+-0xdaa,hh=0x9*0x3e7+-0x952*0x1+-0x19cc,dh=0x1d83+-0xa0d+-0x1374*0x1,Wf=0x1*0x1dbd+0x174e+-0x3508,Px=0x1576+-0x1a9+-0x13c9,Mx=0x1999+-0x1073+-0x921,Dx=0xfd5+0xb*-0x25b+0x2*0x50d,Wi=0x12e8+-0x42d*0x1+0xeb4*-0x1,$f=-0x7*0x409+0x2393+-0x7*0x10c,Yi=-0x241c+0x3*-0x595+0x34dc,wr=0x2*0x107c+0x1245+-0x333b,ty=-0xa94+0x19e+0x8f6,sy=0x21*-0x1+0x52+-0x18*0x2,ap=0x12b*-0x1f+-0x1b3*-0x2+0x20d1,Jh=-0x1620+0x2662+0x103f*-0x1,np=0x1e76+-0x3*0xb89+-0x3*-0x163,ed=0x16f6*-0x1+-0x1471+0x2b6c,Cr=0xb8d+0x1c1+-0xd48,Ne=0x37a*0xb+-0x10bb+-0x157c,td=0x332*0x2+0x1e3c+-0x2*0x124c,op=0x265f+0x24d6+-0x11*0x46c,vl=-0x706+-0xdcd+-0x2fb*-0x7,ui=0x7f8+0xb*-0x90+-0x1bd*0x1,nt=0x801+-0x707*0x5+0x1b2e,Ye=0x1*-0xe2f+0xfde+-0x1a2,Xt=0x22cd+-0x1374+0x105*-0xf,Ji=-0x7*0x251+-0xc26*-0x1+0x420,$i=-0xe73*-0x1+-0x1*0x182f+-0x16*-0x72,sd=0x2482+-0x1267+0x1*-0x120a,In=-0x1b20+-0x1*-0xcde+0xe54,lp=-0x2543*-0x1+0x15f6+-0x3b26,_s=-0x130b+0x14f3+0x9c*-0x3,id=0x1347+0x6bb+0x1*-0x19ed,cp=-0x5*-0x7b2+-0x895+-0x1*0x1dcf,hp=-0x155+-0x317*-0x7+-0x7*0x2e3,xl=-0x7c3+0xc9f*-0x3+-0x214*-0x16,Tl=0x58*-0x19+0x1ddc+-0x152b*0x1,rd=0x476+-0xf0c+0x4c*0x24,ad=0x6cd*0x2+0x2*-0x8e1+0x443,iy=0x1f*0x8e+-0x721+0x9f5*-0x1,ry=0x4*-0x74+-0xfe*0x23+0xb*0x355,ay=-0x27*0x92+-0x6e8+0x1d44,ny=-0x1*0x432+-0x13e6+0x1837*0x1,dp=-0x3*-0xc05+0x901+-0x8*0x59e,oy=0x190f+0xa13*0x1+-0x2301,fp=-0x6ca+0x51d+0x1cf,up=-0x1e*0xaa+0xc57*0x1+0x7b8,pp=-0xeb3+-0xf4d*-0x1+-0x76,Ki=0xd*-0x298+0x5a8+0xf9*0x1d,mp=0x1f05+0xd57+0x2*-0x161b,ly=-0x154f+-0xd6c+0x1d6*0x13,_p=0x30e+0x2d7*0x8+-0x199e,gp=0x2467+0x7ea+-0x2c28,Sp=0x1*-0x23a7+0x12e+0x22a3*0x1,yp=-0x15ef*0x1+-0x1fcb+0x35e5,vp=-0x2cf+0xcfb+-0x20*0x50,cy=-0x47d+0x11*0x151+-0x11b7,xp=-0x1*-0x1229+-0x47*-0x50+-0x282b,nd=0x237d+0x1e82+0x41d0*-0x1,Tp=-0x1*-0x17a5+-0x3eb*0x1+-0x138a,Ue=-0xf*-0x7b+-0x5*-0x4b6+0x56*-0x5b,od=0x24d2+-0xc79+-0x1827,wp=-0x1b55+-0x174e+0x9*0x5a6,Ep=-0x10c3+0x26b5+-0x15be,bp=0x246a+-0x17ef+-0xc46,Xf=0xe4b+0x1319*0x1+0x1f*-0x112,qf=-0x1c00+0x1903+0x5*0xa4,jf=-0x2064+0x17db+0x8c1,Yf=-0x2bd*0xa+-0x1d06+0x1*0x38a5,Kf=0x24*0x45+0x53*-0x6c+0x2*0xcc7,Zf=0xb17*-0x2+-0x2*0xb5d+0x2d27,hy=0x1b47+-0x2*-0xf04+-0x390f,dy=0x5eb+-0x1fa0+0x19f6,fy=0xab*0x17+0x196a+-0x2885,uy=-0x3*-0xb9e+-0x7fb+0x6a7*-0x4,Qf=-0x1f*0x15+-0x122*-0x6+-0x3fd,vn=0x2073+0x1473+-0x1f3*0x1b,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x1fc8+-0x1088+-0x1e8*0x8)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x1d61+0x206b+-0x1*0x3dcc)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x2*0x96b+0x2*-0x36e+0x19b2)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0xd*-0x141+0x785+-0x119*-0x8)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0xb85*-0x2+-0xf06+0x1b*-0x4c)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(0x2340+-0x259+-0x20e7*0x1)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x2a*-0x92+-0x3b*0x50+0x2a64)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0x1caf*-0x1+0x199c+-0x364b)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x1a*-0x105+-0x7*-0x13+-0x19fd*-0x1)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0x11*-0x17a+0x1f12+-0x5f8),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0x149a+0x136f+0x1*0x12b),'srgb':!(-0x128a+-0x4*-0x8ad+-0x102a)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x14a0+0x1*-0xe77+-0x629),'srgb':!(-0x38*0x29+-0x1855+0x214d)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x266b+0x897+-0x53*-0x5c)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0x3*0xaa1+-0x15a3+-0xa40),'srgb':!(-0xb*0xc5+0x18a5*-0x1+0x211c)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x15d8+0x5d9*0x1+-0x1bb1),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0xe82*-0x1+0xec2*0x1+-0x40),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x138d*0x1+0x1*0x4ed+-0xd*0x1e2),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x1f2+0x5*-0x6ac+-0x2*-0x11a7)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1*-0x220c+0x32c*0x1+0x1ee0),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x18f6+-0x1ddc+-0x1b69*-0x2),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x147b+-0x296+-0x1*-0x1711),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x3*-0x817+0x8bf*-0x3+-0x6*-0x86b),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x199e+0x18e1+0xbd),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x249b+-0x18fd+-0xb9e),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x99b+0xa6f+-0x140a),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x2234+-0xf6*0xe+-0x14c0)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x191c+0x737*-0x1+-0x9*0x1fd)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x872+-0x10f3*-0x2+-0x1974),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0xff0+0x8*0x2aa+0x56*-0x10),'srgb':!(-0x8a0+0xe*-0x203+0x24ca)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x79*0x43+-0x2a9*0x5+-0x125e),'srgb':!(-0x21+-0x24f3+-0x15*-0x1c4)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0xab7*0x1+0x99e*0x3+-0x1223),'srgb':!(0x3f4*0x2+-0x4cd+-0x31b)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x265d+-0x218a+0x47e7),'srgb':!(-0x150a+0x1*0x7f9+0xf*0xdf)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x151*0x10+0x12b3+-0x27*0x105),'srgb':!(0x457+-0x4a*-0x6d+-0x23d9)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0xb40+-0x25*0xfe+0x2ff6),'srgb':!(0x105+0xddb+-0xee0*0x1)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x1d7*0x5+0x4*0x395+-0x1787),'srgb':!(0x956+-0x2176+0x1820)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x6f*0x3+0xec4+-0x17f*0x9)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x17cb+-0x2d4+-0x14f7*0x1)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x3*-0xb1f+0x1*-0x1f6+-0x1f67)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0xcd2*-0x1+0x2a9*-0xe+0x186c)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0x1de2+0x11*-0x135+-0x95d*0x1)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(-0x1291+-0x113b*0x1+0x23cc)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x16e9+0x1*-0x5e0+-0x1cc9*-0x1)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0x154d+0x12+-0x155f)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x6e*-0x50+-0x27b*-0xa+0x992)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x13e+-0x2*-0x1213+-0x2564)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x10a4+-0xfb*-0x2+0x757*0x2)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x1652*-0x1+-0x1*-0xa1c+0xc36)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x152b+-0x129b+-0x290)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x182a*0x1+0x3*0xceb+-0x3*0x14f9)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(0x3*-0x8c0+0x10*-0x4f+-0x8*-0x3e6)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(-0xb*0x23b+-0x3d7*-0x3+0x1c*0x77)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x1*-0x1196+-0x1*0x1b65+-0x5d*-0x1b)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x155e+0x6e*0x38+-0x2d6e)}]]),Ix=_0xab8cef=>{var _0x210acd;return((_0x210acd=Nt['get'](_0xab8cef))==null?void(-0x131b+0x13b4+-0x99):_0x210acd['blockSize'])!==void(0xdd*-0x1d+0x1*0x26b9+-0xdb0);},fh=_0x20ff8f=>{var _0x5d5980;return((_0x5d5980=Nt['get'](_0x20ff8f))==null?void(-0x13d5+0x9c5+0x5c*0x1c):_0x5d5980['srgb'])===!(-0x1*0x203f+-0x7c0+0x1*0x27ff);},dn=_0x3e9285=>{var _0x20b3bc;return((_0x20b3bc=Nt['get'](_0x3e9285))==null?void(-0x217f+-0x11c9+0x3348):_0x20b3bc['isInt'])===!(-0xacb+-0x2147*0x1+0x2c12);},ld=_0x1136d2=>{var _0x32bdf0;return((_0x32bdf0=Nt['get'](_0x1136d2))==null?void(-0x3*-0x3b9+0xc8b*0x3+-0x30cc):_0x32bdf0['srgbFormat'])||_0x1136d2;},Lx=_0x22b148=>{for(const [_0x3a6669,_0x3ebc56]of Nt)if(_0x3ebc56['srgbFormat']===_0x22b148)return _0x3a6669;return _0x22b148;},py=_0x5f6b37=>{const _0x45e324=Nt['get'](_0x5f6b37);return!!(_0x45e324!=null&&_0x45e324['ldr']&&!(_0x45e324!=null&&_0x45e324['srgb']));},my=_0x47841d=>{switch(_0x47841d){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x13f4+-0x238d+-0xb*-0x16b,hd=-0xe08+0x7*-0x44f+-0x2c32*-0x1,_y=-0x9ad*0x3+0xce+0x1c3b,gy=0xa19*0x1+0x155f+-0x1f75,js=-0x1*-0x150a+-0x2*-0x6f7+-0x22f4,Er=-0x26be+0xb*-0x30d+0x4852,oa=-0x1019+0x1695+-0x676*0x1,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0xac*-0x39+0x9d*-0x4+-0x28c1*-0x1,xn=-0x10a5+-0xc83+-0x18*-0x137,kx=-0x1*-0x119d+0x135e+-0x24f9*0x1,Ux=0x2385+0x1*0x1a29+-0x3dab,Bx=0x1df3+-0xa12+0x1f*-0xa4,$l=-0x5*-0x95+-0xfc*0x7+0x3fb,yy=0x3*0xc37+0x73*0x1f+-0x3*0x10db,Od=0x2633+0x2e7*0xa+-0x4337*0x1,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0xf3f+-0x1050+0x1f90,Pr=0x1a*0xc7+-0x130d+-0x127,vy=-0x12*-0x13f+-0x3f2+-0x1279,xy='2d',zx=-0x1*0x18cb+0x1471+0x22d*0x2,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1307+-0x9*0x35a+-0xb23*-0x1,la=0x711+0x246*-0x4+0x14*0x1a,fd=0x21d0+0x2*-0x1069+-0x7*0x24,Ml=-0x10f1*0x1+-0x921+0x25f*0xb,Ty=0xd08+-0x1c2f*-0x1+-0x35*0xc7,el=-0x2*0x1145+0x203d+0x252,Ve=-0x1866+-0x7*-0x418+-0x43c,Tn=-0xd28+0xfa*-0x1+0xe22*0x1,_a=-0x397+-0x2*0x6a0+-0x436*-0x4,Xs=-0x167*0x2+-0x1199+0x1469,ga=-0x6*-0x2e7+0x1*-0x12c5+0x15e,ds=-0x191+0x6c*0x8+-0x33*0x9,Rn=-0x187*0x13+-0x2f3+-0x13*-0x1af,ca=0x20*0x3+-0x84e*0x3+0xc48*0x2,ha=-0x2005+0xd15+-0x5*-0x3cb,da=0x2102+0x44f+-0x2549,tl=-0x208e+0x51e+-0xd*-0x21d,sl=-0x2*-0x1099+-0x2*-0x306+-0x139a*0x2,il=-0x9*0x67+0x19*0xad+-0xd3b,_h=-0x40f*-0x2+-0x220c*-0x1+-0x2a1e,On=-0x232b+0x5*0x188+0x1b90,li=-0x1c5b+-0x24ff+0xa1*0x68,Hx=0x15c1+0x12*-0x45+-0x10d8,Wx=0x1*0xa92+0x56*-0x70+0x1b1e,ud=0x21c9+-0x1dde+-0x3da,$x=0x1a5*-0x7+-0x1635+0x21ca,Xx=0x250e+-0x1ef5+-0x606,qx=0xc89*-0x2+0x8*0x33b+0x2*-0x59,pd=0x45f*-0x1+-0x2f*0x5+0x37*0x19,md=0x955*-0x1+-0x33*-0x1a+0x43d,Lp=-0x1*0x2d7+0xa62*0x2+-0x8eb*0x2,wy=-0x88*-0x17+0x22*0xdb+-0x19*0x1a6,jx=-0x1f1f+0x931+0x1607,Fn=-0x1581*-0x1+-0x10b8+-0x4af,Nn=-0x2282+0x63*0x63+0xeb*-0x4,kn=-0x23cc+0x1*0xd22+0xb*0x212,Un=0x14aa+-0xa73+0x6*-0x1af,Bn=0xa2*-0x25+-0x1f*0x38+0xc2*0x28,_d=-0x311+0x3c5*0x5+-0xfa9,gd=0x879+0x49e+0x1*-0xcf7,zn=-0x193b+0x2173+-0x817,Sd=0x881*0x1+-0x96f+-0x44*-0x4,yd=-0x10e0+-0x4*0x7+0x1*0x111f,Vn=0x1*0x101f+0x202c+0x3*-0x100d,vd=0xb4d+0x14d8+-0x2000,xd=-0x2669+-0x52d*0x3+-0xe*-0x3dd,gh=0x194*0x7+-0xeb4*-0x2+-0x284d,Rp=0x11fc+0x1*0x126a+-0x243e,Op=-0x73+-0x702+0x2*0x3cf,Yx=-0x28*-0x24+-0x47c+0x2*-0x7d,Kx=0x1*-0x805+0x1a8d*0x1+-0x125d,Zx=0x2434+-0x2*-0x68e+-0x1892*0x2,Qx=0x218d+0x30*0x6+-0x2280,Jx=0x1*0x22a4+0x242f+-0x46a5,eT=0x1*0x274+-0x4*0x6f1+0x197f,tT=-0x686+-0x1*0x1823+0x1ed9,sT=-0x5*0x24b+0x25fc+-0x1a54,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x406c69,_0x4ed46d)=>{_0x406c69['forEach'](_0x239a8f=>rT['set'](_0x239a8f,_0x4ed46d));});const aT='webgl2',Fp=0xe*-0xd6+0x1*-0x4a7+0x417*0x4,by=-0x8ad+-0x1*0x221+0xad0,nT=-0x2525+0x37d*-0x2+0x2c23,oT='ldr',Ay=-0xcc6+-0x2*-0xa3d+-0x1*0x7b3,Cy=-0x23b4+0x8*0x14b+0xcaf*0x2,Py=0x25*0x57+0xe20+-0xb*0x26d,My=0xe2f+-0x23b+-0xbec,Dy=0x241f+-0x15a3+-0xe6c,Iy=0x1*0xc01+-0x1*-0x1655+-0x2236,Ly=-0x1*0x142c+0x78e+0xcde,Ry=-0x1cac+0x96b+0x13c1,lT=-0x14f3+0x19e3+-0x3f1*0x1,rl=-0x22c9+0x59*0x19+0x1a18,Oy=-0x190e+0x57*-0x1b+0x223c,su=-0x10*0x239+0x5*-0x31a+0x7*0x74c,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x2*-0x773+0x18e5+-0x27ca,0x87f+-0xd63+0x4e5,0x7a1*0x2+-0x88f*-0x2+-0x205e,-0x64a+0x1d86+0x173a*-0x1,-0x86*-0x20+-0x1f2d+0xe71,-0x310+0x2138+-0x1e24,-0xd*-0x3+0x2e*0x43+0xc2d*-0x1,0x23e7+-0x26f6+-0x311*-0x1],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x10+-0x1d*-0x83+-0x1*0xec6,-0x2460+0x10*0xe9+0x15d2,0x21*0x3+0x1cd*0x13+-0x2296],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x1*0xff7+0x21dd+0x3*-0x109c,Le[gs]=0x568*0x2+-0x1*-0x7d6+-0x12a5,Le[gi]=-0xf85*0x2+-0xf7f+0x2e8b,Le[us]=0x1e5e*-0x1+0x9*-0x29a+-0x125*-0x2f,Le[Wt]=-0x1*0x965+0x6e6+0x283,Le[is]=-0x1*0x9e3+-0x1*-0x1b91+-0x11a9,Le[ba]=-0x17*-0xd3+-0x1ade+0x1*0x7ef,Le[wl]=0x5*0x6a2+-0x8*0xb7+0x1*-0x1b6b,Le[El]=0x582*0x5+-0x7*-0x66+-0x1e4c,Le[bl]=0x1a26+-0x1*-0xa8b+0x24a8*-0x1,Le[Al]=0x11c*0x3+-0x2e7+-0x63,Le[Cl]=-0x776+0x96a+-0x1e9*0x1,Le[Pl]=-0x9d*-0x1f+0x832*-0x3+0x59f,Le[yi]=0xa7+0x18f9*0x1+0x1*-0x1993,Le[Jf]=-0x198d*0x1+-0x767+0x20f4,Le[uh]=-0x1*-0x29d+-0x6a*-0x5d+-0x1*0x291e,Le[Ap]=0xca6*-0x2+-0x79*0x3a+0x34b8,Le[Cp]=-0x1a70+0x20b9*-0x1+0x3b2c,Le[Pp]=0x1*0x1741+0x2336+-0x47f*0xd,Le[Rx]=0x63b*0x3+0x1549+-0x27f5,Le[Ox]=-0x2*-0x7e2+-0x2*0x110f+0x38*0x54,Le[Fx]=0x26b3*0x1+-0xfa*0x14+0x1ea*-0xa,Le[Ko]=0x153*0x7+-0xcc6+-0x389*-0x1,Le[Zo]=0x4a1+0x2*-0x8b6+0xcd4,Le[Nx]=-0xd*-0x15b+-0x1*0x75+-0x1120,Le[Mp]=-0xeb9+-0x1ab+-0x1*-0x106f,Le[Dp]=0x7b3+-0x3*0x5c1+0x1ec*0x5,Le[ph]=-0x11*-0x8f+0x4b*-0x61+0x12f9,Le[Ip]=-0xbb7+0x3*-0xb7b+-0x7*-0x69a,Le[Ln]=-0x18e*0x1+0x1257+-0x10ba*0x1;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x1f64+0xf4c+0x6*-0x7c8;}static['pushGpuMar'+'ker'](_0xd05c1f,_0x242a82){mr['markers']['push'](_0x242a82),_0xd05c1f['pushMarker'](_0x242a82);}static['popGpuMark'+'er'](_0x26b806){mr['markers']['length']&&mr['markers']['pop'](),_0x26b806['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0xa3a+-0x1*0x1941+-0x1f*-0x125;class Td{constructor(_0x17d97f,_0xd127c2){h(this,'slot',-(-0xd57*0x1+-0xc*-0x2be+-0x1390)),h(this,'scopeId',null),(this['name']=_0x17d97f,this['visibility']=_0xd127c2);}}class kp extends Td{}class fT extends Td{constructor(_0x21f59f,_0x1c0e82,_0x46ab6c=!(0x2500+-0x1017+-0x2*0xa74)){super(_0x21f59f,_0x1c0e82),h(this,'format',''),(this['readOnly']=_0x46ab6c,w['assert'](_0x46ab6c||!(_0x1c0e82&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x3f1632,_0x9a7ce0,_0x124921=xy,_0x7ec291=zx,_0x5d23ec=!(-0x176d+0x130e+0x45f),_0x257cd0=null){super(_0x3f1632,_0x9a7ce0),this['textureDim'+'ension']=_0x124921,this['sampleType']=_0x7ec291,this['hasSampler']=_0x5d23ec,this['samplerNam'+'e']=_0x257cd0??_0x3f1632+'_sampler';}}class uT extends Td{constructor(_0x7a3e,_0xefee6b=Ne,_0x48b739=xy,_0x1077f8=!(-0x1*-0xacf+0x1f3*-0x9+-0x6bc*-0x1),_0x40f712=!(0x124d*0x1+0x185*-0x13+0xa93)){super(_0x7a3e,nT),this['format']=_0xefee6b,this['textureDim'+'ension']=_0x48b739,this['write']=_0x1077f8,this['read']=_0x40f712;}}class Ny{constructor(_0x3871ef,_0x1b70c3){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x1b70c3));let _0x468128=-0xba4+-0x5cd*0x4+0x8b6*0x4;_0x1b70c3['forEach'](_0x21dad8=>{_0x21dad8['slot']=_0x468128++,_0x21dad8 instanceof Gm&&_0x21dad8['hasSampler']&&_0x468128++,_0x21dad8 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x21dad8):_0x21dad8 instanceof Gm?this['textureFor'+'mats']['push'](_0x21dad8):_0x21dad8 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x21dad8):_0x21dad8 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x21dad8):w['assert']('Invalid\x20bi'+'nd\x20format',_0x21dad8);}),this['device']=_0x3871ef;const _0x503345=_0x3871ef['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x18beeb,_0x3050db)=>this['bufferForm'+'atsMap']['set'](_0x18beeb['name'],_0x3050db)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x4f0813,_0xfaf9e9)=>{this['textureFor'+'matsMap']['set'](_0x4f0813['name'],_0xfaf9e9),_0x4f0813['scopeId']=_0x503345['resolve'](_0x4f0813['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x24c5bf,_0x3c9c98)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x24c5bf['name'],_0x3c9c98),_0x24c5bf['scopeId']=_0x503345['resolve'](_0x24c5bf['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x3581aa,_0x3ee787)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x3581aa['name'],_0x3ee787),_0x3581aa['scopeId']=_0x503345['resolve'](_0x3581aa['name']);}),this['impl']=_0x3871ef['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x4632bf){const _0x15cfe4=this['textureFor'+'matsMap']['get'](_0x4632bf);return _0x15cfe4!==void(0x29*0x29+-0x167d+-0x7f6*-0x2)?this['textureFor'+'mats'][_0x15cfe4]:null;}['getStorage'+'Texture'](_0x1b3418){const _0x5b1cc1=this['storageTex'+'tureFormat'+'sMap']['get'](_0x1b3418);return _0x5b1cc1!==void(-0x8ad*-0x1+-0x39*0x9d+0x1a48)?this['storageTex'+'tureFormat'+'s'][_0x5b1cc1]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x432cff,_0xe9c891){return this['_cache']['has'](_0x432cff)||(this['_cache']['set'](_0x432cff,_0xe9c891()),_0x432cff['on']('destroy',()=>{this['remove'](_0x432cff);}),_0x432cff['on']('devicelost',()=>{var _0x4fbfbf,_0x94579e;(_0x94579e=(_0x4fbfbf=this['_cache']['get'](_0x432cff))==null?void(0x2171+-0x207a*0x1+-0xf7):_0x4fbfbf['loseContex'+'t'])==null||_0x94579e['call'](_0x4fbfbf,_0x432cff);})),this['_cache']['get'](_0x432cff);}['remove'](_0xe207c4){var _0x5557c7,_0x378b87;(_0x378b87=(_0x5557c7=this['_cache']['get'](_0xe207c4))==null?void(-0x1*0xe09+-0x437+0x920*0x2):_0x5557c7['destroy'])==null||_0x378b87['call'](_0x5557c7,_0xe207c4),this['_cache']['delete'](_0xe207c4);}}class Xi{static['calcLevelD'+'imension'](_0x151f42,_0x10aaad){return Math['max'](_0x151f42>>_0x10aaad,-0x2015+-0xc0e+0x2c24);}static['calcMipLev'+'elsCount'](_0x476eb6,_0x5c6a31,_0xdf4619=0x1b3d+-0xc5f*0x3+0x9e1){return 0x1bbc+-0x42d*-0x3+-0x2842+Math['floor'](Math['log2'](Math['max'](_0x476eb6,_0x5c6a31,_0xdf4619)));}static['calcLevelG'+'puSize'](_0x3cbda3,_0xc1c60d,_0x200ecf,_0x4961fd){var _0x1c8097;const _0x25a3a5=Nt['get'](_0x4961fd);w['assert'](_0x25a3a5!==void(0x4*-0x4+0x1*-0xd28+0xd38*0x1),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x4961fd);const _0x59afe8=((_0x1c8097=Nt['get'](_0x4961fd))==null?void(-0x199a*-0x1+-0x140e*0x1+-0x58c):_0x1c8097['size'])??-0x217b*-0x1+-0x32*0x83+-0x2f*0x2b;if(_0x59afe8>0x7*-0x4b7+-0x433+0x2534)return _0x3cbda3*_0xc1c60d*_0x200ecf*_0x59afe8;const _0x3ad4a5=_0x25a3a5['blockSize']??-0x2*-0x117+-0x238a+0x215c;let _0x1f08a0=Math['floor']((_0x3cbda3+(0x1599+-0x1533+-0x63))/(-0x3*0x6a7+0x27b*0xc+-0x9cb));const _0x71441e=Math['floor']((_0xc1c60d+(-0x25+0x1869+-0x1841))/(-0x1*-0x152b+-0x184f+0x328)),_0x2bb416=Math['floor']((_0x200ecf+(-0x204a+0x231c+-0x2cf))/(0x1c31+0x1*0x80f+-0x243c));return(_0x4961fd===xl||_0x4961fd===Tl)&&(_0x1f08a0=Math['max'](Math['floor'](_0x1f08a0/(0xd01+-0x3b*-0x72+-0x3*0xd17)),-0xd12+-0x1*0x166e+0x2381)),_0x1f08a0*_0x71441e*_0x2bb416*_0x3ad4a5;}static['calcGpuSiz'+'e'](_0xef20d4,_0x3e494a,_0x55b4ee,_0x5db4bd,_0x2680c0,_0x28cfab){let _0x22d723=0x1ab+-0xee7+0xd3c;for(;_0x22d723+=Xi['calcLevelG'+'puSize'](_0xef20d4,_0x3e494a,_0x55b4ee,_0x5db4bd),!(!_0x2680c0||_0xef20d4===0x1bb*0x5+0x83c+0x2*-0x871&&_0x3e494a===-0x111*-0x5+-0x407*-0x2+-0xd62&&_0x55b4ee===-0xcae+-0x1*0x1a11+0x10*0x26c);)_0xef20d4=Math['max'](_0xef20d4>>-0xcf*-0x13+-0x7d*-0x2+-0x66*0x29,0x3*0xb4d+0x1273+0x5d1*-0x9),_0x3e494a=Math['max'](_0x3e494a>>0x1d*0x12b+-0xf40+-0x129e,-0x4d*0x67+0xd3+0x7*0x44f),_0x55b4ee=Math['max'](_0x55b4ee>>-0x8de+0x1*0xaa1+-0x1c2,0x1cc1+-0x175c+0x1cc*-0x3);return _0x22d723*(_0x28cfab?0x12b3*-0x2+-0x257+0x27c3:0xda*-0xe+0x19c3+-0xdd6);}}let pT=-0x1*0xac3+-0x4*0x907+0x2edf;class _e{constructor(_0x46e1ec,_0x5be92e={}){h(this,'name'),h(this,'_gpuSize',-0x4e1*0x1+0x1a0c+-0x152b),h(this,'id',pT++),h(this,'_invalid',!(-0xeca+0xc72+0x259)),h(this,'_lockedLev'+'el',-(0x2106+0x26ad+-0x47b2)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x107d+0x1973+-0x8f6),h(this,'_storage',!(0x2a*-0xd3+0x5*-0x10d+-0x160*-0x1d)),h(this,'_numLevels',0x25dd+-0x23d8+-0x205),h(this,'_numLevels'+'Requested');var _0x4d97f3;this['device']=_0x46e1ec,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x5be92e['width']||Number['isInteger'](_0x5be92e['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x5be92e),w['assert'](!_0x5be92e['height']||Number['isInteger'](_0x5be92e['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x5be92e),w['assert'](!_0x5be92e['depth']||Number['isInteger'](_0x5be92e['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x5be92e),this['name']=_0x5be92e['name']??'',this['_width']=Math['floor'](_0x5be92e['width']??-0x611+-0xb*0x32+0x83b),this['_height']=Math['floor'](_0x5be92e['height']??0x137f+0x15ea+-0x2965),this['_format']=_0x5be92e['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x5be92e['minFilter']=Te,_0x5be92e['magFilter']=Te),this['_volume']=_0x5be92e['volume']??!(-0x16fa+0x23ad+-0xcb2),this['_depth']=Math['floor'](_0x5be92e['depth']??0x42a+-0x1896+0x146d),this['_arrayLeng'+'th']=Math['floor'](_0x5be92e['arrayLengt'+'h']??-0x8e7*-0x1+0x138c+0x1c73*-0x1),this['_storage']=_0x5be92e['storage']??!(0x1*-0x128e+-0x205e+0x32ed),this['_cubemap']=_0x5be92e['cubemap']??!(-0x15d*0xe+0xb00+0x817),this['_flipY']=_0x5be92e['flipY']??!(0x1994*-0x1+-0x56b+0x1f00),this['_premultip'+'lyAlpha']=_0x5be92e['premultipl'+'yAlpha']??!(0x1*-0x16d3+-0x1*0x85a+0x1f2e),this['_mipmaps']=_0x5be92e['mipmaps']??!(0xf7c+-0x573+-0x16f*0x7),this['_numLevels'+'Requested']=_0x5be92e['numLevels'],_0x5be92e['numLevels']!==void(-0x166c+0x3*0x2d3+-0x1*-0xdf3)&&(this['_numLevels']=_0x5be92e['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x5be92e['minFilter']??ma,this['_magFilter']=_0x5be92e['magFilter']??vt,this['_anisotrop'+'y']=_0x5be92e['anisotropy']??0x50*-0x53+0x1765+0x28c,this['_addressU']=_0x5be92e['addressU']??yt,this['_addressV']=_0x5be92e['addressV']??yt,this['_addressW']=_0x5be92e['addressW']??yt,this['_compareOn'+'Read']=_0x5be92e['compareOnR'+'ead']??!(-0x26f3+-0x7bb*0x5+0x4d9b),this['_compareFu'+'nc']=_0x5be92e['compareFun'+'c']??hh,this['_type']=_0x5be92e['type']??Ds,w['assert'](!_0x5be92e['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x5be92e['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x5be92e['projection']&&_0x5be92e['projection']!==tu&&(this['projection']=_0x5be92e['projection']),this['profilerHi'+'nt']=_0x5be92e['profilerHi'+'nt']??0x50e+-0x44a+0x1*-0xc4,this['_levels']=_0x5be92e['levels'];const _0x5283f7=!!_0x5be92e['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x5283f7),_0x46e1ec['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x4d97f3=Nt['get'](this['format']))==null?void(-0x1273+-0x1*-0x1925+-0x6b2):_0x4d97f3['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x28a4c8=this['device'];if(_0x28a4c8){const _0x4acbe7=_0x28a4c8['textures']['indexOf'](this);_0x4acbe7!==-(0x1*-0x17ab+0x110b*-0x1+0x1*0x28b7)&&_0x28a4c8['textures']['splice'](_0x4acbe7,-0x7*-0x3a1+0x1d27+-0x39*0xf5),_0x28a4c8['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x28a4c8),this['adjustVram'+'SizeTracki'+'ng'](_0x28a4c8['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x39fa94=!(0xb74+-0x14cb+-0x957*-0x1)){var _0x39216d;const {device:_0x273bf0}=this;(_0x39216d=this['impl'])==null||_0x39216d['destroy'](_0x273bf0),this['impl']=null,this['impl']=_0x273bf0['createText'+'ureImpl'](this),this['dirtyAll'](),_0x39fa94&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x38ab9e,_0x2d2404,_0x12fecf=-0xbbf*-0x3+0x158c+-0x5c*0x9e){const _0x4b2b15=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x4b2b15['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x4b2b15),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x38ab9e),this['_height']=Math['floor'](_0x2d2404),this['_depth']=Math['floor'](_0x12fecf),this['_updateNum'+'Level'](),this['impl']=_0x4b2b15['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x1c57db,_0x5dbce1){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x5dbce1+('\x20vram.text'+'ure:\x20')+_0x1c57db['tex']+'\x20=>\x20'+(_0x1c57db['tex']+_0x5dbce1)),_0x1c57db['tex']+=_0x5dbce1,this['profilerHi'+'nt']===eu?_0x1c57db['texShadow']+=_0x5dbce1:this['profilerHi'+'nt']===Pr?_0x1c57db['texAsset']+=_0x5dbce1:this['profilerHi'+'nt']===vy&&(_0x1c57db['texLightma'+'p']+=_0x5dbce1);}['propertyCh'+'anged'](_0x1674c9){this['impl']['propertyCh'+'anged'](_0x1674c9),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x3db12c=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0xdda+-0x17*-0x17e+-0x302b,_0x12a8fc=this['_numLevels'+'Requested'];_0x12a8fc!==void(-0x82d+-0xa2e+-0x7f*-0x25)&&_0x12a8fc>_0x3db12c&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x3db12c,this),this['_numLevels']=Math['min'](_0x12a8fc??_0x3db12c,_0x3db12c),this['_mipmaps']=this['_numLevels']>-0x2*0x11ce+-0xb7a+-0x2f17*-0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x268531){this['_minFilter']!==_0x268531&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x268531,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0xc3bacc){this['_magFilter']!==_0xc3bacc&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0xc3bacc,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x16b16a){this['_addressU']!==_0x16b16a&&(this['_addressU']=_0x16b16a,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x1f9d35){this['_addressV']!==_0x1f9d35&&(this['_addressV']=_0x1f9d35,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0xbbb37a){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0xbbb37a!==this['_addressW']&&(this['_addressW']=_0xbbb37a,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x2e78fd){this['_compareOn'+'Read']!==_0x2e78fd&&(this['_compareOn'+'Read']=_0x2e78fd,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x2ab707){this['_compareFu'+'nc']!==_0x2ab707&&(this['_compareFu'+'nc']=_0x2ab707,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x44f0ec){this['_anisotrop'+'y']!==_0x44f0ec&&(this['_anisotrop'+'y']=_0x44f0ec,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x333db2){this['_mipmaps']!==_0x333db2&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x333db2,_0x333db2&&(this['_needsMipm'+'apsUpload']=!(0xb*0x2dd+-0x197d+0x301*-0x2)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x5508f0=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x3*0x431+-0x1*0x16b1+0xa1f);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x5508f0,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x23e+-0xb0*-0x8+-0x6*0x8b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x272ac0){this['_type']!==_0x272ac0&&(this['_type']=_0x272ac0,this['device']['_shadersDi'+'rty']=!(0x7c*-0x27+-0xbcf*0x1+0x1eb3));}get['type'](){return this['_type'];}set['srgb'](_0x46068a){var _0x3b8682,_0x5e9c06,_0x204f47,_0x1acec1;const _0x2e3a3b=fh(this['format']);if(_0x46068a!==_0x2e3a3b){if(_0x46068a){const _0x1b004e=ld(this['format']);this['_format']!==_0x1b004e&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x3b8682=Nt['get'](this['format']))==null?void(-0x1c97+0x48d+0x180a):_0x3b8682['name'])+'\x20->\x20'+((_0x5e9c06=Nt['get'](_0x1b004e))==null?void(0x149d+-0xb60+-0x93d):_0x5e9c06['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1b004e,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x2353+0x252d+0x4f*-0x6));}else{const _0x591949=Lx(this['format']);this['_format']!==_0x591949&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x204f47=Nt['get'](this['format']))==null?void(0x1316+-0xe66+0x4b*-0x10):_0x204f47['name'])+'\x20->\x20'+((_0x1acec1=Nt['get'](_0x591949))==null?void(0x19*-0x95+-0x79*0x17+0xcb6*0x2):_0x1acec1['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x591949,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x43f*-0x1+0x1ada+-0x1*0x169b));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x48a37c){this['_flipY']!==_0x48a37c&&(this['_flipY']=_0x48a37c,this['_needsUplo'+'ad']=!(0x766*-0x3+0x2530+0x65*-0x26));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x2a1bc9){this['_premultip'+'lyAlpha']!==_0x2a1bc9&&(this['_premultip'+'lyAlpha']=_0x2a1bc9,this['_needsUplo'+'ad']=!(0x1a2f+0x5*-0x4a9+-0xf6*0x3));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x334+0x1e35+-0x2169),!(0x1475*0x1+0x72a+-0x935*0x3),!(-0xd*0x2+-0x10*-0xca+-0xc86),!(-0x9bb+0x4cc+-0x3*-0x1a5),!(-0xca4+0x1*-0x54e+0x11f2),!(0x278*0x1+0x74*-0xa+-0x108*-0x2)]]:[!(0x5*-0x101+0x21b3*-0x1+-0x6*-0x674)],this['_needsUplo'+'ad']=!(-0x1f*0x7+0xf*0xaf+-0x968),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x4b*0x6b+0x1b36+0x1*-0x3a8e),this['propertyCh'+'anged'](lT);}['lock'](_0x1275e8={}){_0x1275e8['level']??(_0x1275e8['level']=0x9d9+-0x1*-0x1487+0x1*-0x1e60),_0x1275e8['face']??(_0x1275e8['face']=0x1842+0x979+-0x21bb),_0x1275e8['mode']??(_0x1275e8['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x1275e8['mode']===yy||_0x1275e8['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x1275e8['mode'],this['_lockedLev'+'el']=_0x1275e8['level'];const _0x1f45af=this['cubemap']?this['_levels'][_0x1275e8['face']]:this['_levels'];if((_0x1f45af==null?void(0x1480+0xf5c+-0x23dc):_0x1f45af[_0x1275e8['level']])===null){const _0x27bca0=Math['max'](0x1c59+-0x383+-0x18d5,this['_width']>>_0x1275e8['level']),_0x481cfc=Math['max'](-0x1314+0x9*-0x2a7+-0x157a*-0x2,this['_height']>>_0x1275e8['level']),_0x38d4c5=Math['max'](0xf*-0x197+0x11*-0x67+0x1*0x1eb1,this['_depth']>>_0x1275e8['level']),_0x234f89=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x27bca0,_0x481cfc,_0x38d4c5,this['_format']));_0x1f45af[_0x1275e8['level']]=new(my(this['_format']))(_0x234f89);}return _0x1f45af==null?void(0x29*-0x6a+-0x1425+0x1*0x251f):_0x1f45af[_0x1275e8['level']];}['setSource'](_0x3729ce,_0x3d2d2a=0x821*0x2+0x197a+-0x29bc){let _0xdcf49a=!(-0x264a+0x110+-0x9*-0x423),_0x29f3cd,_0x57f200;if(this['_cubemap']){if(_0x3729ce[-0x24cd+0x1a17+-0x1c9*-0x6]){_0x29f3cd=_0x3729ce[-0x7d*0x2+-0x2c2+0x3bc]['width']||-0x54f*-0x5+-0x123*-0xf+-0x2b98,_0x57f200=_0x3729ce[0x164c+-0x2*-0x72d+0x1*-0x24a6]['height']||-0x3*-0xc25+-0x2202+-0x1b*0x17;for(let _0x365973=0x2407+-0x16*-0x11b+0x3c59*-0x1;_0x365973<-0x387+0x5*0x211+-0x6c8;_0x365973++){const _0x38422a=_0x3729ce[_0x365973];if(!_0x38422a||_0x38422a['width']!==_0x29f3cd||_0x38422a['height']!==_0x57f200||!this['device']['_isBrowser'+'Interface'](_0x38422a)){_0xdcf49a=!(-0x1aee+0x26*0xa7+0x224);break;}}}else _0xdcf49a=!(-0x3*-0xcbb+0x251+-0x2882);if(!_0xdcf49a){for(let _0xfc4e9c=0xf06+-0x1e5a+0xf54;_0xfc4e9c<0x4*-0x278+-0x595+0x1*0xf7b;_0xfc4e9c++)this['_levels'][_0x3d2d2a][_0xfc4e9c]!==_0x3729ce[_0xfc4e9c]&&(this['_levelsUpd'+'ated'][_0x3d2d2a][_0xfc4e9c]=!(-0x4*0x13f+-0x2025+0x2521));}}else this['device']['_isBrowser'+'Interface'](_0x3729ce)||(_0xdcf49a=!(-0xb*0x1df+0x1c0a*-0x1+0x309f)),_0xdcf49a||(_0x3729ce!==this['_levels'][_0x3d2d2a]&&(this['_levelsUpd'+'ated'][_0x3d2d2a]=!(0x24b4+-0x16b3+-0xe01)),_0x3729ce instanceof HTMLVideoElement?(_0x29f3cd=_0x3729ce['videoWidth'],_0x57f200=_0x3729ce['videoHeigh'+'t']):(_0x29f3cd=_0x3729ce['width'],_0x57f200=_0x3729ce['height']));if(_0xdcf49a){if(this['_width']=0x3bc+0x593+-0x94b*0x1,this['_height']=-0x10b6+-0x2013+0x30cd,this['_cubemap']){for(let _0x3123ea=-0x3f*-0x9e+0x6*-0x634+0x8e*-0x3;_0x3123ea<-0x1232+-0x24*-0x6d+0x2e4;_0x3123ea++)this['_levels'][_0x3d2d2a][_0x3123ea]=null,this['_levelsUpd'+'ated'][_0x3d2d2a][_0x3123ea]=!(0x217*0x1+0x1ecc+-0x1*0x20e3);}else this['_levels'][_0x3d2d2a]=null,this['_levelsUpd'+'ated'][_0x3d2d2a]=!(-0x623*-0x1+0x56*-0x74+0x20d5);}else _0x3d2d2a===-0x1d92+0xff3*0x1+0xd9f*0x1&&(this['_width']=_0x29f3cd,this['_height']=_0x57f200),this['_levels'][_0x3d2d2a]=_0x3729ce;(this['_invalid']!==_0xdcf49a||!_0xdcf49a)&&(this['_invalid']=_0xdcf49a,this['upload']());}['getSource'](_0x4b3ee9=0xb75*-0x2+0x17ee*-0x1+0x2ed8){return this['_levels'][_0x4b3ee9];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0x16a9*-0x1+0x1*-0x1ae1+0x318b),this['_lockedMod'+'e']=$l;}['upload'](){var _0x5009c4,_0x346b91;this['_needsUplo'+'ad']=!(0x1c09+0x1*-0x1df7+-0x1*-0x1ee),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x346b91=(_0x5009c4=this['impl'])['uploadImme'+'diate'])==null||_0x346b91['call'](_0x5009c4,this['device'],this);}['read'](_0x49d39,_0x19fcf8,_0x49d26c,_0x14092f,_0x479117={}){var _0x2b0eb2,_0x33eb85;return(_0x33eb85=(_0x2b0eb2=this['impl'])['read'])==null?void(0x2532+0x7e1*0x1+-0x2d13):_0x33eb85['call'](_0x2b0eb2,_0x49d39,_0x19fcf8,_0x49d26c,_0x14092f,_0x479117);}['write'](_0x66d88c,_0x2ed4d5,_0x4439e7,_0x5383f7,_0x9d650e){var _0xc13568,_0x18f106;return(_0x18f106=(_0xc13568=this['impl'])['write'])==null?void(0x15*-0x3a+-0x1d93+0x11*0x205):_0x18f106['call'](_0xc13568,_0x66d88c,_0x2ed4d5,_0x4439e7,_0x5383f7,_0x9d650e);}}const mT={'white':[0x16c2+0x4f1*0x3+-0x2a*0xdf,-0xda*-0x9+0x1*0x1cd+0x4*-0x21e,-0x866+0x13b+-0x26*-0x37,-0x1edc+-0x3bb+0x2396],'gray':[-0x1e62+0x1*-0x421+-0x1*-0x2303,0x217*0xc+-0x19f*0x3+-0x13b7*0x1,0x22*-0x10c+0x13cf+0x1*0x1049,-0x1a85+0xc21*0x1+0x521*0x3],'black':[-0x70f+-0xc65*-0x1+-0x2*0x2ab,-0x2598+-0xe2*-0xb+0x1be2,-0x5*0x1df+-0x7*-0x535+-0x1b18,0xc71+-0x2701*0x1+0x1b8f],'normal':[-0x74b*-0x2+-0x7*-0x4f7+-0x30d7,0xa4*0xe+-0xde*-0x24+-0x27b0,0x9*0x1bd+-0x4*0x322+0x1*-0x21e,-0xd*-0x15a+0x3d1+-0x105*0x14],'pink':[0x6bd*0x4+0x14c2*-0x1+-0x533,0xc84+-0x1b*-0x1b+-0xedd,0x1b36+-0xf*0x1d9+-0x30*-0x8,-0xd63*0x2+0x317+0x75*0x36]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x1d509c=>{_0x1d509c['destroy']();});}}const gT=new Kt(),fa=(_0x1f0fc5,_0x437529)=>{const _0x5ac6e7=gT['get'](_0x1f0fc5,()=>new _T());if(!_0x5ac6e7['map']['has'](_0x437529)){const _0x48b3f8=new _e(_0x1f0fc5,{'name':'built-in-t'+'exture-'+_0x437529,'width':0x1,'height':0x1,'format':Ne}),_0x32e065=_0x48b3f8['lock'](),_0x3fe70f=mT[_0x437529];w['assert'](_0x3fe70f,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x437529+('\x27\x20not\x20foun'+'d')),_0x32e065['set'](_0x3fe70f),_0x48b3f8['unlock'](),_0x5ac6e7['map']['set'](_0x437529,_0x48b3f8);}return _0x5ac6e7['map']['get'](_0x437529);};let ST=0xc65+-0x10*-0x44+-0x1*0x10a5;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x548f26,_0x266b0c,_0x2c9100){h(this,'renderVers'+'ionUpdated',-(0xca2+0x4*0x482+0x2f*-0xa7)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x548f26,this['format']=_0x266b0c,this['dirty']=!(-0x11*-0xf1+-0xe9+-0xf18),this['impl']=_0x548f26['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x2c9100,_0x2c9100&&this['setUniform'+'Buffer'](Np,_0x2c9100),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x266b0c));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x36f15f,_0x1ef848){const _0x8f6cbf=this['format']['bufferForm'+'atsMap']['get'](_0x36f15f);w['assert'](_0x8f6cbf!==void(0x124a+0x1*-0x16+-0x5*0x3a4),'Setting\x20a\x20'+'uniform\x20['+_0x36f15f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x8f6cbf]!==_0x1ef848&&(this['uniformBuf'+'fers'][_0x8f6cbf]=_0x1ef848,this['dirty']=!(0x12d*-0x4+0x2*0x268+-0x1c));}['setStorage'+'Buffer'](_0x20fe68,_0x474d8e){const _0x49d67c=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x20fe68);w['assert'](_0x49d67c!==void(-0x1*-0x1017+0x397*-0x5+0x1dc),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x20fe68+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x49d67c]!==_0x474d8e&&(this['storageBuf'+'fers'][_0x49d67c]=_0x474d8e,this['dirty']=!(0x815*-0x2+-0x189c+0x28c6));}['setTexture'](_0x3c33bc,_0x19897b){const _0x3386d6=this['format']['textureFor'+'matsMap']['get'](_0x3c33bc);w['assert'](_0x3386d6!==void(-0x1*0x1ad1+-0x25a3+0x4074),'Setting\x20a\x20'+'texture\x20['+_0x3c33bc+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x3386d6]!==_0x19897b?(this['textures'][_0x3386d6]=_0x19897b,this['dirty']=!(-0x6*0x471+0x258d+-0xae7)):this['renderVers'+'ionUpdated']<_0x19897b['renderVers'+'ionDirty']&&(this['dirty']=!(0x39d+-0x23b4+0x2017));}['setStorage'+'Texture'](_0x42e338,_0x210ecc){const _0x3061a5=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x42e338);w['assert'](_0x3061a5!==void(0x543*0x5+0x1eef+-0x393e),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x42e338+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x3061a5]!==_0x210ecc?(this['storageTex'+'tures'][_0x3061a5]=_0x210ecc,this['dirty']=!(-0x119a+-0xbf*-0x31+0xd3*-0x17)):this['renderVers'+'ionUpdated']<_0x210ecc['renderVers'+'ionDirty']&&(this['dirty']=!(0x146+0x293*-0x2+0x20*0x1f));}['updateUnif'+'ormBuffers'](){for(let _0xce2d25=-0x676+0x1d52+-0x10a*0x16;_0xce2d25<this['uniformBuf'+'fers']['length'];_0xce2d25++)this['uniformBuf'+'fers'][_0xce2d25]['update']();}['update'](){const {textureFormats:_0xf844a7,storageTextureFormats:_0x3d6a2e,storageBufferFormats:_0x31b106}=this['format'];for(let _0x310603=0xe63+0x207e+-0x1*0x2ee1;_0x310603<_0xf844a7['length'];_0x310603++){const _0x2c0420=_0xf844a7[_0x310603];let _0x565972=_0x2c0420['scopeId']['value'];_0x565972||(_0x2c0420['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x565972=fa(this['device'],'white')),_0x2c0420['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x565972=fa(this['device'],'pink')),_0x565972||(w['errorOnce']('Texture\x20'+_0x2c0420['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x565972=fa(this['device'],'pink'))),this['setTexture'](_0x2c0420['name'],_0x565972);}for(let _0x285448=0x885*0x3+-0x17*-0x103+-0x186a*0x2;_0x285448<_0x3d6a2e['length'];_0x285448++){const _0x551d6b=_0x3d6a2e[_0x285448],_0x1a92a0=_0x551d6b['scopeId']['value'];w['assert'](_0x1a92a0,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x551d6b['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x551d6b['name'],_0x1a92a0);}for(let _0x453be6=0x766*0x1+-0x31c+-0x44a;_0x453be6<_0x31b106['length'];_0x453be6++){const _0xd84858=_0x31b106[_0x453be6],_0x44ad7f=_0xd84858['scopeId']['value'];w['assert'](_0x44ad7f,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0xd84858['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0xd84858['name'],_0x44ad7f);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x3b17e6=-0x68c+-0x1f6+0x882;_0x3b17e6<this['uniformBuf'+'fers']['length'];_0x3b17e6++){const _0x248451=this['uniformBuf'+'fers'][_0x3b17e6];this['uniformBuf'+'ferOffsets'][_0x3b17e6]=_0x248451['offset'],this['renderVers'+'ionUpdated']<_0x248451['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1877+-0x1*0x2476+0x3ced));}this['dirty']&&(this['dirty']=!(0x12fc+0x4*-0x74f+-0x3*-0x36b),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x1bb05c,_0x5b4ebd,_0x8d3f18,_0x1caf8a=-0xfc+-0x110f+0x120c){return _0x1bb05c&~(_0x1caf8a<<_0x8d3f18)|_0x5b4ebd<<_0x8d3f18;},'get'(_0x4f04d2,_0x107e01,_0x13732e=-0x903+-0xbd9+0x7*0x2fb){return _0x4f04d2>>_0x107e01&_0x13732e;},'all'(_0x443432,_0x1e58f6,_0x948798=0x29*0xd5+-0x77e+-0x1a9e){const _0x536627=_0x948798<<_0x1e58f6;return(_0x443432&_0x536627)===_0x536627;},'any'(_0x24f670,_0x26c1be,_0x41c7f0=0x1060+-0x15f7+0x598){return(_0x24f670&_0x41c7f0<<_0x26c1be)!==0x3b*0x72+-0xde3+-0xc63;}},Xl=-0x680*0x1+-0x1741+0x1dc8,ir=-0x174d+0x623+0x1139*0x1,Hm=-0x9c*0x2f+-0x1*-0xd99+0xf0b,Wm=-0x53a+0x7b0+-0x273,$m=-0x1*-0xf22+0x16a3+-0x12df*0x2,Xm=-0x61*0x49+0x186b*0x1+0x349,qm=-0x2*-0x101+-0x17*0x17d+0x1*0x2047,jm=-0x1*0x1d21+-0x9*-0xc7+-0x1*-0x1634,iu=0x1*0xf9+0x1*0xe73+-0x1*0xf56,Ym=0x9+0xc5a+-0xc4c,Km=-0x132b+0x29*0x20+0xe23,Zm=0x2329+0x27e+0x36a*-0xb,Qm=-0xdf*-0xe+-0xb*0x12a+0xb6,yT=-0x1fb0+-0x70e+0x26cd,vT=iu,ri=class ri{constructor(_0x50b5ef=!(0x1510+0x16a6+-0x2bb5),_0x292a24=fs,_0x108a2a=Ft,_0x4f9b01=rp,_0x1e54e6,_0x451cef,_0x47a579,_0x4c2b1a=!(-0x2b6+-0x7b1+-0xa67*-0x1),_0x5f2618=!(0x1*0x214a+0x10c2+-0x2*0x1906),_0x25ec93=!(0x1*0x1d8f+0x704*-0x4+0x1*-0x17f),_0x14eb05=!(0x35*-0xf+0x8ba+-0x59f)){h(this,'target0',0x5*-0x312+0x1b*0x45+0x35*0x27),(this['setColorBl'+'end'](_0x292a24,_0x108a2a,_0x4f9b01),this['setAlphaBl'+'end'](_0x1e54e6??_0x292a24,_0x451cef??_0x108a2a,_0x47a579??_0x4f9b01),this['setColorWr'+'ite'](_0x4c2b1a,_0x5f2618,_0x25ec93,_0x14eb05),this['blend']=_0x50b5ef);}set['blend'](_0x16eef8){this['target0']=qe['set'](this['target0'],_0x16eef8?-0x18d7+0x12f7+0x5e1:-0x3bd+-0x3*0x94f+0x1faa,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x59637f,_0x31774f,_0x444349){this['target0']=qe['set'](this['target0'],_0x59637f,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x31774f,Wm,ir),this['target0']=qe['set'](this['target0'],_0x444349,$m,ir);}['setAlphaBl'+'end'](_0x3c135a,_0x196310,_0x5cc5aa){this['target0']=qe['set'](this['target0'],_0x3c135a,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x196310,qm,ir),this['target0']=qe['set'](this['target0'],_0x5cc5aa,jm,ir);}['setColorWr'+'ite'](_0x259193,_0x1d8b19,_0x437644,_0x27de4a){this['redWrite']=_0x259193,this['greenWrite']=_0x1d8b19,this['blueWrite']=_0x437644,this['alphaWrite']=_0x27de4a;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x401989){this['target0']=qe['set'](this['target0'],_0x401989?0x4*0x84b+0x1ce6+-0x3e11:0x11cb+0x1*0x1f8f+-0x315a,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x1166c6){this['target0']=qe['set'](this['target0'],_0x1166c6?-0x1e2d+-0x605*-0x4+0x8e*0xb:-0x1e6e+-0x8*-0x4c1+0x8b*-0xe,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x253fd4){this['target0']=qe['set'](this['target0'],_0x253fd4?0x1*-0x17ab+-0x1763+0x2f0f:0x2*-0xd36+-0x21ce+0x3c3a,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x405638){this['target0']=qe['set'](this['target0'],_0x405638?-0x1f16*0x1+-0x4a*0x41+0x31e1:-0x10f0+-0x7ec+0x18dc,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x41bf5b){return this['target0']=_0x41bf5b['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x4d9417){return this['target0']===_0x4d9417['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x1ed3*0x1+0x8f8*-0x1+0xf*-0x175),void(-0x1705+0x9+0x16fc),void(-0x236d*-0x1+-0xc7d+0xb78*-0x2),void(-0x4e*0x77+0x3ec*0x6+-0x2*-0x65d),void(-0xb97+-0xf8e+0x1b25),void(-0x5*-0x55+0x1*0x71+-0x2*0x10d),void(-0x1b97+-0x119*-0x17+-0x5*-0x78),!(-0x16f*0x16+0x2068*-0x1+0x33*0x141),!(0x89*-0x3a+-0x1*0x1d4a+0x5*0xc11),!(-0x2441+-0x106*-0x18+0xbb2),!(-0x1*-0x101a+-0x1a2d+0xa14)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x32c+0x849*0x4+-0x1df8),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0xaae+0x12f*-0x18+0x2716),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x488*0x8+-0x883*0x2+0x3546);}['get'](_0x481091){let _0x169833=this['map']['get'](_0x481091);return _0x169833===void(-0x1f34+0x2d9*-0x6+0x1*0x304a)&&(_0x169833=this['id']++,this['map']['set'](_0x481091,_0x169833)),_0x169833;}}const xT=new Bp(),Jm=0x865+-0x11f8+0x99a,e_=-0x77b+0x9*-0x2b+0x8fe,t_=0x1*0x1365+0x301*-0xc+-0x9e*-0x1b,_r=class _r{constructor(_0x2f73e5=Wf,_0x2cccc3=!(-0x17de+-0x10e7*-0x1+0x6f7)){h(this,'data',0x22b0+-0xb*0x83+-0x1d0f),h(this,'_depthBias',0x221*-0x5+0x183*-0xb+0x1b46),h(this,'_depthBias'+'Slope',0xf*0x172+-0xd8f+-0x81f),h(this,'key',-0x1fa+-0x1149+0x1343*0x1),(this['func']=_0x2f73e5,this['write']=_0x2cccc3);}set['test'](_0x55c1ae){this['func']=_0x55c1ae?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x561798){this['data']=qe['set'](this['data'],_0x561798?-0x14b3+0xd*0x3d+0x119b:-0x1*0x2615+0x1859*0x1+0xdbc,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x36a6a8){this['data']=qe['set'](this['data'],_0x36a6a8,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x2500a9){this['_depthBias']=_0x2500a9,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x1a8c7e){this['_depthBias'+'Slope']=_0x1a8c7e,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x2b09d0){return this['data']=_0x2b09d0['data'],this['_depthBias']=_0x2b09d0['_depthBias'],this['_depthBias'+'Slope']=_0x2b09d0['_depthBias'+'Slope'],this['key']=_0x2b09d0['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x1f8c79,_depthBias:_0x221731,_depthBiasSlope:_0x2893a7}=this,_0x565b21=_0x1f8c79+'-'+_0x221731+'-'+_0x2893a7;this['key']=xT['get'](_0x565b21);}['equals'](_0xd6d159){return this['key']===_0xd6d159['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x1*-0x17e1+-0xfae+-0x419*0x2)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x223*0x7+-0x179+-0xd7c))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0xeba+-0x17cb+0x2685),h(this,'revision',-0x81f+-0x10*-0x8+-0x79f*-0x1);}['equals'](_0x5e4169){return this['globalId']===_0x5e4169['globalId']&&this['revision']===_0x5e4169['revision'];}['copy'](_0x453c43){this['globalId']=_0x453c43['globalId'],this['revision']=_0x453c43['revision'];}['reset'](){this['globalId']=-0x200a+0x197b+-0x1*-0x68f,this['revision']=0x2*-0x64f+-0x27*0x38+0x1526*0x1;}}let s_=0x1c6*-0x4+-0x43*0x8+0xe*0xa8;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x19a23e){this['name']=_0x19a23e,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x44df99){}['setValue'](_0x25c44f){this['value']=_0x25c44f,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x176189){this['name']=_0x176189,this['variables']=new Map();}['resolve'](_0x2312a6){return this['variables']['has'](_0x2312a6)||this['variables']['set'](_0x2312a6,new wT(_0x2312a6)),this['variables']['get'](_0x2312a6);}['removeValu'+'e'](_0x2b3b3f){for(const _0x523b12 in this['variables']){const _0x1610e4=this['variables'][_0x523b12];_0x1610e4['value']===_0x2b3b3f&&(_0x1610e4['value']=null);}}}let bT=-0x2*-0x7bf+0x2245+0x1*-0x31c3;class Is{constructor(_0x340b8c,_0x5c3c29,_0x34f3e9,_0xd03706){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x341*0x2+0x718+-0x1*0x92&&(!_0xd03706||typeof _0xd03706=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0xd03706==null?void(-0x651+0x11ea+-0x1*0xb99):_0xd03706['usage'])??ms,this['device']=_0x340b8c,this['format']=_0x5c3c29,this['numVertice'+'s']=_0x34f3e9,this['id']=bT++,this['impl']=_0x340b8c['createVert'+'exBufferIm'+'pl'](this,_0x5c3c29,_0xd03706),this['numBytes']=_0x5c3c29['verticesBy'+'teSize']?_0x5c3c29['verticesBy'+'teSize']:_0x5c3c29['size']*_0x34f3e9,this['adjustVram'+'SizeTracki'+'ng'](_0x340b8c['_vram'],this['numBytes']));const _0x598496=_0xd03706==null?void(-0x2d*-0x2a+-0x77*-0x11+-0xf49):_0xd03706['data'];_0x598496?this['setData'](_0x598496):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5c72aa=this['device'],_0x322124=_0x5c72aa['buffers']['indexOf'](this);_0x322124!==-(-0x379+-0x1f9b*0x1+-0x1*-0x2315)&&_0x5c72aa['buffers']['splice'](_0x322124,0xa*-0x3e+0x116d*-0x1+-0xb*-0x1ce),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5c72aa),this['adjustVram'+'SizeTracki'+'ng'](_0x5c72aa['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x1a1360,_0x228054){w['trace'](q0,this['id']+'\x20size:\x20'+_0x228054+'\x20vram.vb:\x20'+_0x1a1360['vb']+'\x20=>\x20'+(_0x1a1360['vb']+_0x228054)),_0x1a1360['vb']+=_0x228054;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2de548){return _0x2de548['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x2de548['byteLength']),!(-0x3*-0x18d+0x221b+-0x26c1)):(this['storage']=_0x2de548,this['unlock'](),!(0x615*-0x4+0x1*-0x157e+0x2dd2));}}function hi(_0x2018c8){if(_0x2018c8==null)return 0x1f8b+0x21*0x27+-0x2492;let _0x5aa4e0=0x7bb*-0x3+0x1029+0x708;for(let _0x33002d=0x123d+-0x76f+-0xace*0x1,_0x21c6d8=_0x2018c8['length'];_0x33002d<_0x21c6d8;_0x33002d++)_0x5aa4e0=(_0x5aa4e0<<0x1733+-0x127*0x7+-0xf1d)-_0x5aa4e0+_0x2018c8['charCodeAt'](_0x33002d),_0x5aa4e0|=0x4*-0x2+-0x1b3d+0x1b45;return _0x5aa4e0;}function By(_0x5de94e){let _0x5e5c9d=0x1ff363*0x656+0x3*-0x62dfa01+0x1*-0x36c9897a;for(let _0x224ccc=-0x1fef+0x1*0x211d+0x1*-0x12e;_0x224ccc<_0x5de94e['length'];_0x224ccc++)_0x5e5c9d^=_0x5de94e[_0x224ccc],_0x5e5c9d*=0x5*-0xa000d+-0xd6220+0x13f63f4;return _0x5e5c9d>>>-0x3*-0x407+0x209d+-0x2cb2;}const AT=new Bp(),CT=[-0x7*0x321+-0x20a1+-0x166*-0x27,-0x1*0x1da9+0x28d*-0xf+0x87e*0x8,-0x115f+0x184*0xb+0xbb,0x1e35+0xd3*-0x20+-0x3c9,-0x7cb+0x14b7+-0xcdc],PT=new Kt();class kt{constructor(_0x217ff6,_0x5607ec,_0x26781e){this['device']=_0x217ff6,this['_elements']=[],this['hasUv0']=!(0x6*0x3f9+0xb96+0x236b*-0x1),this['hasUv1']=!(-0x1d06+-0x1*0x26fb+0x5*0xd9a),this['hasColor']=!(-0xf72+0x1d62+-0xdef*0x1),this['hasTangent'+'s']=!(-0x1*0x1a75+-0x1139+0x2baf),this['verticesBy'+'teSize']=-0x1da4+-0xb*0x43+-0xb9*-0x2d,this['vertexCoun'+'t']=_0x26781e,this['interleave'+'d']=_0x26781e===void(0x5*-0x2d1+0x2622+0x180d*-0x1),this['instancing']=!(0xb84+-0x52b+-0x3a*0x1c),this['size']=_0x5607ec['reduce']((_0x4033ed,_0x3fc0a3)=>_0x4033ed+Math['ceil'](_0x3fc0a3['components']*No[_0x3fc0a3['type']]/(-0x2701+-0x2*-0x80f+-0xd*-0x1c3))*(0x1d*-0x101+-0x32*-0x59+0xbbf),0x1*0x6df+0x9fe+-0x1*0x10dd);let _0x57b660=-0x130c*-0x2+0xc26+-0x323e,_0x373df6;for(let _0x19fbf4=0x1901+0x9fd*-0x1+0x7c*-0x1f,_0x5d6312=_0x5607ec['length'];_0x19fbf4<_0x5d6312;_0x19fbf4++){const _0x425d4d=_0x5607ec[_0x19fbf4];_0x373df6=_0x425d4d['components']*No[_0x425d4d['type']],w['assert'](kt['isElementV'+'alid'](_0x217ff6,_0x425d4d),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x425d4d['semantic']+'\x20:\x20'+cT[_0x425d4d['type']]+'\x20x\x20'+_0x425d4d['components']),_0x26781e&&(_0x57b660=Y['roundUp'](_0x57b660,_0x373df6),w['assert'](_0x373df6%(-0x117f+0x1841+-0x6be)===0x1*-0x1a92+-0x4*-0x808+-0x9e*0x9,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x373df6));const _0x42ecef=_0x425d4d['asInt']??!(0x1*-0xa13+0x1654+0x70*-0x1c),_0x5032cf=_0x42ecef?!(-0x4*-0x8d4+0x633+0x2f7*-0xe):_0x425d4d['normalize']??!(-0x22b1+-0x228f+0x4541*0x1),_0x41a8d2={'name':_0x425d4d['semantic'],'offset':_0x26781e?_0x57b660:_0x425d4d['hasOwnProp'+'erty']('offset')?_0x425d4d['offset']:_0x57b660,'stride':_0x26781e?_0x373df6:_0x425d4d['hasOwnProp'+'erty']('stride')?_0x425d4d['stride']:this['size'],'dataType':_0x425d4d['type'],'numComponents':_0x425d4d['components'],'normalize':_0x5032cf,'size':_0x373df6,'asInt':_0x42ecef};this['_elements']['push'](_0x41a8d2),_0x26781e?_0x57b660+=_0x373df6*_0x26781e:_0x57b660+=Math['ceil'](_0x373df6/(-0x82e+-0x4*-0x515+-0xc22))*(-0x26c1+-0x34e+0x2a13),_0x425d4d['semantic']===is?this['hasUv0']=!(-0x1*-0xe3a+-0x2bd*-0x5+-0x1beb):_0x425d4d['semantic']===ba?this['hasUv1']=!(-0x569+0x1fed+-0x1a84):_0x425d4d['semantic']===Wt?this['hasColor']=!(-0x1cb8+0xda*0xa+-0x50d*-0x4):_0x425d4d['semantic']===yi&&(this['hasTangent'+'s']=!(0x80f*0x3+-0x305*-0x1+-0xd99*0x2));}_0x26781e&&(this['verticesBy'+'teSize']=_0x57b660),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x5cd34f){return PT['get'](_0x5cd34f,()=>new kt(_0x5cd34f,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x2e1867,_0x1ee647){const _0x9cd45a=_0x1ee647['components']*No[_0x1ee647['type']];return!(_0x2e1867['isWebGPU']&&!CT['includes'](_0x9cd45a));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0xba6361=[],_0x3e8a2a=[],_0x23945f=this['_elements']['length'];for(let _0x1f0ae4=0x182a+-0xce8*0x2+0x2*0xd3;_0x1f0ae4<_0x23945f;_0x1f0ae4++){const {name:_0x4bbe73,dataType:_0x551717,numComponents:_0x41bd2c,normalize:_0x2fb777,offset:_0x4556bd,stride:_0x4adbef,size:_0x4b38af,asInt:_0x4420b1}=this['_elements'][_0x1f0ae4],_0x205101=_0x4bbe73+_0x551717+_0x41bd2c+_0x2fb777+_0x4420b1;_0xba6361['push'](_0x205101);const _0x50203a=_0x205101+_0x4556bd+_0x4adbef+_0x4b38af;_0x3e8a2a['push'](_0x50203a);}_0xba6361['sort']();const _0x9f4c76=_0xba6361['join']();this['batchingHa'+'sh']=hi(_0x9f4c76),this['shaderProc'+'essingHash'+'String']=_0x9f4c76,this['renderingH'+'ashString']=_0x3e8a2a['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x9a2536={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x1658+0x833*-0x1+-0xe25)),h(this,'_key'),(this['_func']=_0x9a2536['func']??Wi,this['_ref']=_0x9a2536['ref']??0x3*0x9c1+0x12b8+-0x1*0x2ffb,this['_readMask']=_0x9a2536['readMask']??-0x1295+0x2*-0x133c+0x14*0x2e7,this['_writeMask']=_0x9a2536['writeMask']??0x3c2+0x1ff6*0x1+-0x22b9,this['_fail']=_0x9a2536['fail']??xn,this['_zfail']=_0x9a2536['zfail']??xn,this['_zpass']=_0x9a2536['zpass']??xn,this['_evalKey']());}set['func'](_0x5bb819){this['_func']=_0x5bb819,this['_dirty']=!(0x17f2+0x1fd3+-0x37c5);}get['func'](){return this['_func'];}set['ref'](_0x55baed){this['_ref']=_0x55baed,this['_dirty']=!(0x20b2+0x2111+-0x41c3);}get['ref'](){return this['_ref'];}set['fail'](_0x13b904){this['_fail']=_0x13b904,this['_dirty']=!(0x1354*-0x1+0xd*0x1ae+-0x282);}get['fail'](){return this['_fail'];}set['zfail'](_0x2c1390){this['_zfail']=_0x2c1390,this['_dirty']=!(-0x2567+-0xa7+-0x1307*-0x2);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x264503){this['_zpass']=_0x264503,this['_dirty']=!(0x4e6+-0x25b3+0x20cd);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x11f8f4){this['_readMask']=_0x11f8f4,this['_dirty']=!(-0x1d2d+-0x1*0x2037+-0x1eb2*-0x2);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x5911f2){this['_writeMask']=_0x5911f2,this['_dirty']=!(-0x79*-0x35+-0x3*0x579+0xd*-0xaa);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x435042,_ref:_0x2e2c36,_fail:_0x509294,_zfail:_0x4db209,_zpass:_0x11d049,_readMask:_0x481e70,_writeMask:_0x597af1}=this,_0x19cde8=_0x435042+','+_0x2e2c36+','+_0x509294+','+_0x4db209+','+_0x11d049+','+_0x481e70+','+_0x597af1;this['_key']=MT['get'](_0x19cde8),this['_dirty']=!(0xc*0x10f+0x1fab+-0x2c5e);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x20c706){return this['_func']=_0x20c706['_func'],this['_ref']=_0x20c706['_ref'],this['_readMask']=_0x20c706['_readMask'],this['_writeMask']=_0x20c706['_writeMask'],this['_fail']=_0x20c706['_fail'],this['_zfail']=_0x20c706['_zfail'],this['_zpass']=_0x20c706['_zpass'],this['_dirty']=_0x20c706['_dirty'],this['_key']=_0x20c706['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x4a4bf7,_0xd8b238){var _0x34d0ba,_0x202a76,_0x3c16cb,_0x481e9b,_0x289c6d,_0x245bd9;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x1ced+0x26a2+0x438e*-0x1)),h(this,'isWebGPU',!(0x1*-0x217+0xa*0x17+-0x11*-0x12)),h(this,'isWebGL2',!(-0x14d2+0x2*-0x9d5+0x287d)),h(this,'isHdr',!(-0x26a+0x2309*0x1+-0x209e)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0xa13+-0xad4+0x18e7),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x2e7*0x5+-0x736+-0x74c),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x62c*-0x5+0x447*-0x3+-0x1206),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0xc1*-0xb+0x327*-0x1+-0x1*0x523)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x72*-0x12+-0x9d*-0x26+-0xf49)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x1945*0x1+-0x86*0x1+-0x18bf),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x1954*-0x1+-0x2123+0x7d0)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x217f+-0xfb*0xe+-0x2c*0x73)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x6*0x25a+-0x2*0x1df+0x11db)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x65*0x1e+0xbf9+-0x11*0x2)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x1d8a+0x53*-0x1f+0x2798)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x44*0x49+-0x12e1+-0xd*0xa)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x170d+-0x10fc+-0x1*0x611,-0x1*-0xd10+0x2e*0x9d+0x6e1*-0x6,0x7*0x298+-0x1fa2+0xd7a,-0x11*-0x139+0x1a25*-0x1+0x55d*0x1],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x22*0x26+0x26e1+-0x2bec)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x4a4bf7,'setAttribu'+'te'in _0x4a4bf7&&_0x4a4bf7['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0xd8b238},(_0x34d0ba=this['initOption'+'s'])['alpha']??(_0x34d0ba['alpha']=!(-0x1f89+0x831+-0x5d6*-0x4)),(_0x202a76=this['initOption'+'s'])['depth']??(_0x202a76['depth']=!(-0x1383+-0x2206+0x3589)),(_0x3c16cb=this['initOption'+'s'])['stencil']??(_0x3c16cb['stencil']=!(0x521*-0x2+0x4*-0x97+0x5f*0x22)),(_0x481e9b=this['initOption'+'s'])['antialias']??(_0x481e9b['antialias']=!(-0x1d5d+-0x865+0x219*0x12)),(_0x289c6d=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x289c6d['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x245bd9=this['initOption'+'s'])['displayFor'+'mat']??(_0x245bd9['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x3b9*0x2+-0x1d45*-0x1+-0x15d2,window['devicePixe'+'lRatio']):-0x20e*-0x4+0x96*-0x2b+0x10fb,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x2665+-0xa0b+0x3070,this['_shaderSwi'+'tchesPerFr'+'ame']=0x852+0x14b*-0xd+0x87d,this['_primsPerF'+'rame']=[]);for(let _0x11a9df=cd;_0x11a9df<=oa;_0x11a9df++)this['_primsPerF'+'rame'][_0x11a9df]=0x1b9f*-0x1+0x7c8+0x13d7*0x1;this['_renderTar'+'getCreatio'+'nTime']=-0x665*0x2+0x105f+0x395*-0x1,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x2213+-0x1927+0x2*-0x476);}['postInit'](){const _0x50e40b=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x194712=new Float32Array([-(0xf8e+0x1*-0xb42+-0x44b),-(-0xd*0x1c+0x7c5+-0x658),-0x5*-0x527+-0x1a*0x59+-0x85c*0x2,-(-0x36*0xb7+-0x6cd*0x1+0xb5a*0x4),-(-0x1a1f+0x1954+-0x3*-0x44),-0x123e+-0x1538+0x2777,0x1e61+-0x23c9+0x569,-0x139*-0x9+0x1*0xa7f+0x1*-0x157f]);this['quadVertex'+'Buffer']=new Is(this,_0x50e40b,0xdad+0xfd9*-0x2+0x1b*0xab,{'data':_0x194712});}['initCapsDe'+'fines'](){const {capsDefines:_0x114811}=this;_0x114811['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x114811['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x114811['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x53d3f3,_0x41c6cc,_0x1b9c02;this['fire']('destroy'),(_0x53d3f3=this['quadVertex'+'Buffer'])==null||_0x53d3f3['destroy'](),this['quadVertex'+'Buffer']=null,(_0x41c6cc=this['dynamicBuf'+'fers'])==null||_0x41c6cc['destroy'](),this['dynamicBuf'+'fers']=null,(_0x1b9c02=this['gpuProfile'+'r'])==null||_0x1b9c02['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x2f182e){this['fire']('destroy:sh'+'ader',_0x2f182e);const _0x17a9de=this['shaders']['indexOf'](_0x2f182e);_0x17a9de!==-(0xaf4+0xfb1+0x9b*-0x2c)&&this['shaders']['splice'](_0x17a9de,0xbd3+0x4*-0x646+0x1*0xd46);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x1148d2;this['contextLos'+'t']=!(0x2*-0xc15+0x1df7+0x129*-0x5),this['backBuffer'+'Size']['set'](-(-0x2c2+0x14e9*-0x1+0x5*0x4bc),-(-0x18d0+-0x26*0x57+0xd*0x2e7));for(const _0x2138e1 of this['textures'])_0x2138e1['loseContex'+'t']();for(const _0x579f60 of this['buffers'])_0x579f60['loseContex'+'t']();for(const _0x5cc0c7 of this['targets'])_0x5cc0c7['loseContex'+'t']();(_0x1148d2=this['gpuProfile'+'r'])==null||_0x1148d2['loseContex'+'t']();}['restoreCon'+'text'](){var _0x2ca20a,_0x5c1bd6;this['contextLos'+'t']=!(-0xd3e+-0x14ec+0x1*0x222b),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x3a36c3 of this['buffers'])_0x3a36c3['unlock']();(_0x5c1bd6=(_0x2ca20a=this['gpuProfile'+'r'])==null?void(-0x26cb+0x1aa6+0x1*0xc25):_0x2ca20a['restoreCon'+'text'])==null||_0x5c1bd6['call'](_0x2ca20a);}['toJSON'](_0x576855){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x2433+-0x1*0xbb6+-0x995*-0x5),this['shaderAsyn'+'cCompile']=!(0x1aa0+0x436+-0x1ed5),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x151+0x3*-0xb8f+0x215c,this['sx']=this['sy']=this['sw']=this['sh']=-0x12d*-0x10+0x2ba+-0x158a*0x1,this['blendColor']=new ie(-0x11a7*-0x2+0x6ec*0x2+0x3*-0x1062,0x1bd9*0x1+0x1bd1*0x1+-0x37aa,0x21f5+-0x2703+0x50e,0x261e+0x284+-0x28a2);}['setStencil'+'State'](_0x56aebd,_0x4d7723){w['assert'](!(-0xb*0x203+-0xae9+0x1*0x210b));}['setBlendSt'+'ate'](_0x5eb512){w['assert'](!(0x1a9*-0x7+-0x1*-0x1a3d+-0xe9d));}['setBlendCo'+'lor'](_0x3bf08a,_0x56193b,_0x4910f4,_0x3e631c){w['assert'](!(-0x2*0xe87+0x20be+-0x3af));}['setDepthSt'+'ate'](_0x1f0650){w['assert'](!(-0x10b5+0xa7*0x24+-0x1*0x6c6));}['setCullMod'+'e'](_0x2a8197){w['assert'](!(-0x15*0x2b+0x45c*0x8+0x4*-0x7d6));}['setRenderT'+'arget'](_0x51c37b){this['renderTarg'+'et']=_0x51c37b;}['setVertexB'+'uffer'](_0x15bcec){_0x15bcec&&this['vertexBuff'+'ers']['push'](_0x15bcec);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x7b6+0x374+0x1*0x442;}['getIndirec'+'tDrawSlot'](){return 0x20d2+-0xcd0+-0x1402*0x1;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x2c7cda){if(_0x2c7cda['initialize'+'d'])return;const _0x2629a2=de();this['fire']('fbo:create',{'timestamp':_0x2629a2,'target':this}),_0x2c7cda['init'](),this['targets']['add'](_0x2c7cda),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x2629a2;}['draw'](_0xe1c1bb,_0x63f920,_0x5978f6,_0x463111,_0x1b9c5d=!(-0x14fe+0x11d3+0x32b),_0x9d329e=!(0x53*0x61+-0x1d64+-0x1*0x20f)){w['assert'](!(-0x7*-0x33b+-0x2369+-0xccd*-0x1));}['_isBrowser'+'Interface'](_0x5ca595){return this['_isImageBr'+'owserInter'+'face'](_0x5ca595)||this['_isImageCa'+'nvasInterf'+'ace'](_0x5ca595)||this['_isImageVi'+'deoInterfa'+'ce'](_0x5ca595);}['_isImageBr'+'owserInter'+'face'](_0x45958a){return typeof ImageBitmap<'u'&&_0x45958a instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x45958a instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x373912){return typeof HTMLCanvasElement<'u'&&_0x373912 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x59c87f){return typeof HTMLVideoElement<'u'&&_0x59c87f instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x576039,_0x1e84fb){const _0x28b30d=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x166a+-0x1371+0x29dc),_0x42a007=Math['floor'](_0x576039*_0x28b30d),_0x2e04bc=Math['floor'](_0x1e84fb*_0x28b30d);(_0x42a007!==this['canvas']['width']||_0x2e04bc!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x42a007,_0x2e04bc);}['setResolut'+'ion'](_0x5cef0f,_0x99cac7){this['canvas']['width']=_0x5cef0f,this['canvas']['height']=_0x99cac7,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x5cef0f,_0x99cac7);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0xaab0b0=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0xaab0b0['width'],this['clientRect']['height']=_0xaab0b0['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x577a27){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x2372+-0x4f5*0x4+-0xf9d);}set['maxPixelRa'+'tio'](_0x50e606){this['_maxPixelR'+'atio']=_0x50e606;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0xb58209){}['endRenderP'+'ass'](_0x16878b){}['startCompu'+'tePass'](_0x594b16){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x82f+0x1157+-0x1986,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x4a8243=this['textures']['slice']();_0x4a8243['sort']((_0x48fd55,_0xad0800)=>_0xad0800['gpuSize']-_0x48fd55['gpuSize']),w['log']('Textures:\x20'+_0x4a8243['length']);let _0x622191=0x6e0*0x2+0x1ce6*0x1+-0x2aa6;_0x4a8243['forEach']((_0x598f22,_0x133d75)=>{const _0x2a7659=_0x598f22['gpuSize'];_0x622191+=_0x2a7659,w['log'](_0x133d75+'.\x20'+_0x598f22['name']+'\x20'+_0x598f22['width']+'x'+_0x598f22['height']+'\x20VRAM:\x20'+(_0x2a7659/(-0x1526+-0x1cce*-0x1+-0x3a8)/(0x240b+-0x134e+-0xcbd))['toFixed'](0x1f1e+0x2153+-0x406f)+'\x20MB');}),w['log']('Total:\x20'+(_0x622191/(-0x155+0x1*0xfdf+-0xa8a*0x1)/(-0xb91+-0x840+0x17d1))['toFixed'](0xcee+-0x4*0x45f+0x490)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x4c55c5=>_0x4c55c5['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x1c8735,_0x5438bf='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x4e0b9b=[In,nt,Xt],_0x5d8904=!(-0x238f+-0x1*-0x1ab9+-0x4e*-0x1d),_0x506043=0x130e*-0x1+0x1f44+0x5*-0x271){for(let _0x62689b=0x1455+0x1708+-0x2b5d;_0x62689b<_0x4e0b9b['length'];_0x62689b++){const _0x529b56=_0x4e0b9b[_0x62689b];switch(_0x529b56){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x529b56;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x529b56;break;case Xt:if(this['isWebGPU']&&_0x506043>0x22c6+-0x1*-0x105b+0x20*-0x199)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x5d8904||this['textureFlo'+'atFilterab'+'le']))return _0x529b56;break;}}}['validateAt'+'tributes'](_0x2db702,_0x261813,_0x1403ef){w['call'](()=>{ql['clear'](),_0x261813==null||_0x261813['elements']['forEach'](_0x25672e=>ql['add'](Le[_0x25672e['name']])),_0x1403ef==null||_0x1403ef['elements']['forEach'](_0x541478=>ql['add'](Le[_0x541478['name']]));for(const [_0x36f0a1,_0x388e2a]of _0x2db702['attributes'])ql['has'](_0x36f0a1)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x388e2a+(']\x20at\x20locat'+'ion\x20')+_0x36f0a1+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x2db702,'vb0Format':_0x261813,'vb1Format':_0x1403ef});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x55d*-0x5+0xb*-0x59+-0x6a*-0x4a;class gt{constructor(_0x2c9b06={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x185429,_0x25c26e,_0x5556ac,_0xf02385,_0x36652f,_0x36480f;w['assert'](!(_0x2c9b06 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x3f88fa=((_0x185429=_0x2c9b06['colorBuffe'+'r'])==null?void(-0x24da+-0x9*0x1ca+0x34f4):_0x185429['device'])??((_0x25c26e=_0x2c9b06['colorBuffe'+'rs'])==null?void(0x21d+-0x2174+0x1f57*0x1):_0x25c26e[0x19ed+0x11*0xe3+-0x2900]['device'])??((_0x5556ac=_0x2c9b06['depthBuffe'+'r'])==null?void(-0x2582+-0x3*-0x9ef+0x7b5):_0x5556ac['device'])??_0x2c9b06['graphicsDe'+'vice'];w['assert'](_0x3f88fa,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x3f88fa;const {maxSamples:_0xfc069}=this['_device'];if(this['_samples']=Math['min'](_0x2c9b06['samples']??0x1421+-0x147a*0x1+0x5a,_0xfc069),_0x3f88fa['isWebGPU']&&(this['_samples']=this['_samples']>-0x1bb+-0x172f*0x1+0x1*0x18eb?_0xfc069:0x501+0xe78+-0x4de*0x4),this['_colorBuff'+'er']=_0x2c9b06['colorBuffe'+'r'],_0x2c9b06['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x2c9b06['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x2c9b06['depthBuffe'+'r'],this['_face']=_0x2c9b06['face']??0x1435+-0x213e+0xd09,this['_depthBuff'+'er']){const _0x933b72=this['_depthBuff'+'er']['_format'];_0x933b72===$i||_0x933b72===vn?(this['_depth']=!(0x1*0x2668+-0x20aa+0x1e*-0x31),this['_stencil']=!(-0x80e*0x2+-0x1046+0x1*0x2063)):_0x933b72===sd?(this['_depth']=!(0x19da+-0x1*-0x5ad+-0x481*0x7),this['_stencil']=!(0x1da1+0x10a7+-0x2e48)):_0x933b72===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0xf0e+-0x17*-0x47+-0x457*-0x2?(this['_depth']=!(-0x1*-0x19ff+0x12d8+-0x2cd7*0x1),this['_stencil']=!(-0x2253+0x181b*0x1+0xa39*0x1)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x833+0x287+0x5ad),this['_stencil']=!(-0x168c+0xd05+0x1e8*0x5));}else this['_depth']=_0x2c9b06['depth']??!(-0xb48+-0x1e4b+0x1d*0x16f),this['_stencil']=_0x2c9b06['stencil']??!(0x268c+0x7f8+0x3f*-0xbd);_0x2c9b06['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x2c9b06['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x2c9b06['colorBuffe'+'rs'][-0x1790+0x1*-0x2cf+0x1a5f])),this['autoResolv'+'e']=_0x2c9b06['autoResolv'+'e']??!(-0x1c88+0x1*0x401+0x1887),this['name']=_0x2c9b06['name'],this['name']||(this['name']=(_0xf02385=this['_colorBuff'+'er'])==null?void(-0xca6*-0x2+-0xaf*-0x14+-0x26f8):_0xf02385['name']),this['name']||(this['name']=(_0x36652f=this['_depthBuff'+'er'])==null?void(0x32*-0x5c+-0xc56+0x9*0x35e):_0x36652f['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x2c9b06['flipY']??!(-0x2*-0x2d3+0x3*0x821+-0x1e08),this['_mipLevel']=_0x2c9b06['mipLevel']??0x20*0x28+-0x857+0x357,this['_mipLevel']>0x6a*-0x1f+-0x14ab+0x2181*0x1&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x2c9b06}),this['_mipLevel']=-0xb7b*0x1+-0xd0*-0x6+0x69b),this['_mipmaps']=_0x2c9b06['mipLevel']===void(0x1*0x24ca+-0x1a0*-0x5+-0x2cea),this['validateMr'+'t'](),this['impl']=_0x3f88fa['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x36480f=this['_colorBuff'+'ers'])!=null&&_0x36480f['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x19cab7=this['_device'];_0x19cab7&&(_0x19cab7['targets']['delete'](this),_0x19cab7['renderTarg'+'et']===this&&_0x19cab7['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x16a1be=this['_device'];_0x16a1be&&this['impl']['destroy'](_0x16a1be);}['destroyTex'+'tureBuffer'+'s'](){var _0x2da3cc,_0x4eee38;(_0x2da3cc=this['_depthBuff'+'er'])==null||_0x2da3cc['destroy'](),this['_depthBuff'+'er']=null,(_0x4eee38=this['_colorBuff'+'ers'])==null||_0x4eee38['forEach'](_0x40dcb3=>{_0x40dcb3['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x418ce9,_0x1d4891){var _0x98537,_0x478d2e;if(this['width']!==_0x418ce9||this['height']!==_0x1d4891){if(this['mipLevel']>0x2409+-0x2*0x28d+-0x1eef){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x5c4a1e=this['_device'];this['destroyFra'+'meBuffers'](),_0x5c4a1e['renderTarg'+'et']===this&&_0x5c4a1e['setRenderT'+'arget'](null),(_0x98537=this['_depthBuff'+'er'])==null||_0x98537['resize'](_0x418ce9,_0x1d4891),(_0x478d2e=this['_colorBuff'+'ers'])==null||_0x478d2e['forEach'](_0x6aa571=>{_0x6aa571['resize'](_0x418ce9,_0x1d4891);}),this['validateMr'+'t'](),this['impl']=_0x5c4a1e['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x152f5a,height:_0x2adb70,cubemap:_0x822fdd,volume:_0x5a2407}=this['_colorBuff'+'ers'][-0xbbb+0x1b1*-0x17+0x2*0x1951];for(let _0x51cb51=-0x1120+0x90b+0x816;_0x51cb51<this['_colorBuff'+'ers']['length'];_0x51cb51++){const _0x4d65bd=this['_colorBuff'+'ers'][_0x51cb51];w['assert'](_0x4d65bd['width']===_0x152f5a,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x4d65bd['height']===_0x2adb70,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x4d65bd['cubemap']===_0x822fdd,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x4d65bd['volume']===_0x5a2407,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x2e1ff9=!(0x6f*0x59+0x1287+-0x391e),_0xea8a88=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1068+0xeef*-0x1+0x1f58&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x2e1ff9?'[color]':'')+':'+(_0xea8a88?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x2e1ff9,_0xea8a88),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x13945a,_0x37b480,_0x18b0cf){if(!this['_device']){if(_0x13945a['_device'])this['_device']=_0x13945a['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1b9c+-0x84f+-0x134c);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x13945a['name']+'->'+this['name']);const _0x37907e=this['_device']['copyRender'+'Target'](_0x13945a,this,_0x37b480,_0x18b0cf);return Q['popGpuMark'+'er'](this['_device']),_0x37907e;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x525d01){var _0x6c9ce6;return(_0x6c9ce6=this['_colorBuff'+'ers'])==null?void(0x1dfe+-0x1e3f+0x1*0x41):_0x6c9ce6[_0x525d01];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x11ed27,_0xdd76bb;let _0xf04c3d=((_0x11ed27=this['_colorBuff'+'er'])==null?void(0xc*-0x2e1+0x15d7+0x1*0xcb5):_0x11ed27['width'])||((_0xdd76bb=this['_depthBuff'+'er'])==null?void(-0x8b*0x2b+-0x2f*0x36+0x28f*0xd):_0xdd76bb['width'])||this['_device']['width'];return this['_mipLevel']>-0x31a*0xa+0x8db*0x1+-0x1*-0x1629&&(_0xf04c3d=Xi['calcLevelD'+'imension'](_0xf04c3d,this['_mipLevel'])),_0xf04c3d;}get['height'](){var _0x57bde2,_0xf37b4e;let _0x48bf0d=((_0x57bde2=this['_colorBuff'+'er'])==null?void(-0x13a7+0x5b6+0xdf1):_0x57bde2['height'])||((_0xf37b4e=this['_depthBuff'+'er'])==null?void(-0xb7*0x2f+-0x152f*-0x1+0x635*0x2):_0xf37b4e['height'])||this['_device']['height'];return this['_mipLevel']>-0x20a8+-0x1*-0x5ac+0x1afc&&(_0x48bf0d=Xi['calcLevelD'+'imension'](_0x48bf0d,this['_mipLevel'])),_0x48bf0d;}['isColorBuf'+'ferSrgb'](_0x5247e6=-0xd99+0x7*0x223+-0x1d*0xc){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x3759a8=this['getColorBu'+'ffer'](_0x5247e6);return _0x3759a8?fh(_0x3759a8['format']):!(0x4*0x7c2+0xd*-0x2a1+-0x1f*-0x1a);}}const IT={'equals'(_0x16870f,_0xca52c6){if(_0x16870f['length']!==_0xca52c6['length'])return!(-0xb51*-0x1+0x18d8+-0x2428);for(let _0x59f8c8=-0x83*0x3b+0x2650+-0x81f;_0x59f8c8<_0x16870f['length'];_0x59f8c8++)if(_0x16870f[_0x59f8c8]!==_0xca52c6[_0x59f8c8])return!(-0x24c5+-0x989*-0x3+0x82b);return!(0x61+0x151*0x1d+0x11a*-0x23);}};class wd{constructor(){h(this,'_refCount',-0x97*-0x11+-0x1227*0x1+0xa*0xd0);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x5069f5){super(),h(this,'object'),(this['object']=_0x5069f5,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x13a1f9=>{var _0x1f3571;(_0x1f3571=_0x13a1f9['object'])==null||_0x1f3571['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x1d0bf1){const _0x68942a=this['cache']['get'](_0x1d0bf1);return _0x68942a?(_0x68942a['incRefCoun'+'t'](),_0x68942a['object']):null;}['set'](_0x12cfbe,_0x3e5f5b){w['assert'](!this['cache']['has'](_0x12cfbe),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x12cfbe,'object':_0x3e5f5b}),this['cache']['set'](_0x12cfbe,new LT(_0x3e5f5b));}['release'](_0x52bb40){var _0x4e4d55;const _0x183720=this['cache']['get'](_0x52bb40);_0x183720?(_0x183720['decRefCoun'+'t'](),_0x183720['refCount']===-0x6b*-0x24+-0x6*-0x3fd+-0x26fa&&(this['cache']['delete'](_0x52bb40),(_0x4e4d55=_0x183720['object'])==null||_0x4e4d55['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x52bb40});}}class OT extends RT{['loseContex'+'t'](_0x5a5ba8){this['clear']();}}const FT=new Kt(),Fd=_0x5cd023=>FT['get'](_0x5cd023,()=>new OT()),At=[];At[Xs]=-0x1d0e+0x1550+0x7bf,At[ga]=0x37*-0x35+-0x558+0x10bd,At[ds]=0x2e7*0xb+-0x1637+0xbf*-0xd,At[Rn]=-0x33a+0x1528+-0x11ea,At[_a]=0x1936+-0x2d2+0xb*-0x209,At[ca]=-0xb77+-0x15c6+0x213f,At[ha]=0x2*0x1c2+0x153*-0xf+-0x417*-0x4,At[da]=0xb6f*0x1+-0x2*0xd4e+0x1*0xf31,At[Tn]=-0x1*0x127a+-0xd18+0x1f93,At[tl]=-0x15de+-0x2431+0x5*0xb9d,At[sl]=0xd79+-0x1d28+0xfb2,At[il]=-0x64c+0x1917+-0x12c7,At[_h]=0x2*0x926+0x4d3+-0x1717*0x1,At[On]=0x2577+-0x1725+-0xe46,At[li]=-0x1*0x16d3+-0x2*-0x131b+-0xf53,At[Fn]=-0x22*-0x6a+0x1beb*-0x1+0xdd8,At[Nn]=0x2352+-0x20cf+-0x281,At[kn]=-0xb89*-0x3+-0x13*-0xb+-0x2369,At[Un]=0x56d+-0x1785+0x121c;class dt{constructor(_0x2a6a8c,_0x2fc32e,_0xd6a7dc=-0x3*0x85d+-0x35d+0x1c74){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x2a6a8c,this['name']=_0xd6a7dc?_0x2a6a8c+'[0]':_0x2a6a8c,this['type']=_0x2fc32e,this['numCompone'+'nts']=At[_0x2fc32e],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x2fc32e+'\x20used\x20for\x20'+_0x2a6a8c),this['updateType']=_0x2fc32e,_0xd6a7dc>-0x24b2+-0x5*-0x41e+0x101c)switch(_0x2fc32e){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x2fc32e]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x2a6a8c+'\x27.'),w['call'](()=>{this['invalid']=!(0x1038+-0x445*-0x5+-0x2591*0x1);});break;}this['count']=_0xd6a7dc,w['assert'](!isNaN(_0xd6a7dc),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x2a6a8c+'['+_0xd6a7dc+']'),w['call'](()=>{isNaN(_0xd6a7dc)&&(this['invalid']=!(0x17fb+0x277*0xc+-0x358f));});let _0x6e0885=this['numCompone'+'nts'];_0xd6a7dc&&(_0x6e0885=Y['roundUp'](_0x6e0885,-0xbdc+-0x15f3+0x1*0x21d3)),this['byteSize']=_0x6e0885*(0xc*0x195+0x13c5+-0x26bd),_0xd6a7dc&&(this['byteSize']*=_0xd6a7dc),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x2fc32e+'\x20used\x20for\x20'+_0x2a6a8c);}get['isArrayTyp'+'e'](){return this['count']>-0xa04+-0x82*-0x4+-0x49*-0x1c;}['calculateO'+'ffset'](_0x345983){let _0x3aa0ca=this['byteSize']<=0x23a3*-0x1+0x1f2b+0x480?this['byteSize']:0x157c+0x7b1+-0x1d1d;this['count']&&(_0x3aa0ca=0x1493+-0x152a+0xa7),_0x345983=Y['roundUp'](_0x345983,_0x3aa0ca),this['offset']=_0x345983/(0x912*-0x1+0x63d*0x3+0x1ed*-0x5);}}class zy{constructor(_0x27c613,_0x4a0a6b){h(this,'byteSize',-0x5b4+0x214c+-0x1b98),h(this,'map',new Map()),(this['scope']=_0x27c613['scope'],this['uniforms']=_0x4a0a6b);let _0x4bfeca=0xf9b+0x18e1+-0x287c;for(let _0x34de55=0x1*0x1ad5+-0x3*0x1bd+0xacf*-0x2;_0x34de55<_0x4a0a6b['length'];_0x34de55++){const _0x1b1afa=_0x4a0a6b[_0x34de55];_0x1b1afa['calculateO'+'ffset'](_0x4bfeca),_0x4bfeca=_0x1b1afa['offset']*(-0x25e3+0x6e+0x35*0xb5)+_0x1b1afa['byteSize'],_0x1b1afa['scopeId']=this['scope']['resolve'](_0x1b1afa['name']),this['map']['set'](_0x1b1afa['name'],_0x1b1afa);}this['byteSize']=Y['roundUp'](_0x4bfeca,-0x237e+-0x12a4+0x1*0x3632);}['get'](_0xa63519){return this['map']['get'](_0xa63519);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x169b13,_0x2d2ff9=new Map(),_0x9f1a24={}){Lt['sourceName']=_0x9f1a24['sourceName'],_0x169b13=this['stripComme'+'nts'](_0x169b13),_0x169b13=_0x169b13['split'](/\r?\n/)['map'](_0x1c66f6=>_0x1c66f6['trimEnd']())['join']('\x0a');const _0xb1df46=new Map(),_0x13907f=new Map();if(_0x169b13=this['_preproces'+'s'](_0x169b13,_0xb1df46,_0x13907f,_0x2d2ff9,_0x9f1a24['stripDefin'+'es']),_0x169b13===null)return null;const _0x3d0bff=new Map();return _0xb1df46['forEach']((_0x579d22,_0x23cb0a)=>{Number['isInteger'](parseFloat(_0x579d22))&&!_0x579d22['includes']('.')&&_0x3d0bff['set'](_0x23cb0a,_0x579d22);}),_0x169b13=this['stripComme'+'nts'](_0x169b13),_0x169b13=this['stripUnuse'+'dColorAtta'+'chments'](_0x169b13,_0x9f1a24),_0x169b13=this['RemoveEmpt'+'yLines'](_0x169b13),_0x169b13=this['processArr'+'aySize'](_0x169b13,_0x3d0bff),_0x169b13=this['injectDefi'+'nes'](_0x169b13,_0x13907f),_0x169b13;}static['stripUnuse'+'dColorAtta'+'chments'](_0x1ec8e0,_0x4573b3){if(_0x4573b3['stripUnuse'+'dColorAtta'+'chments']){const _0x249302=new Map(),_0x4b4b6d=_0x1ec8e0['match'](a_);if(_0x4b4b6d==null||_0x4b4b6d['forEach'](_0x401ff4=>{const _0x1b687d=parseInt(_0x401ff4['charAt'](_0x401ff4['length']-(-0x1b6f+-0x1*0x1dc7+0x3937)),-0x431*-0x5+-0x649*0x5+0x2*0x541);_0x249302['set'](_0x1b687d,(_0x249302['get'](_0x1b687d)??-0x1be9+0x1ba1+0x2*0x24)+(0x6e2*0x5+0x59*-0x6f+-0x5*-0xd6));}),Array['from'](_0x249302['values']())['some'](_0xb297f6=>_0xb297f6===0x89*0x6+-0x1*0x669+0x14*0x29)){const _0x343d1f=_0x1ec8e0['split']('\x0a'),_0x3aad59=[];for(let _0x2b7396=0x1cfb+0xf37+-0x2c32;_0x2b7396<_0x343d1f['length'];_0x2b7396++){const _0x1b2f05=_0x343d1f[_0x2b7396]['match'](a_);if(_0x1b2f05){const _0xe8b607=parseInt(_0x1b2f05[-0x2026+0x409+0x1c1d*0x1]['charAt'](_0x1b2f05[-0x39d*-0x1+-0xbb3*-0x1+0x310*-0x5]['length']-(0x18f4+0xa4c+-0x233f)),-0x18b6*-0x1+-0x1de1+-0x1f*-0x2b);if(_0xe8b607>0x1*-0x20e1+0xc25*0x3+0x1c7*-0x2&&_0x249302['get'](_0xe8b607)===-0xd7c+-0x1*0xf4f+0x1ccc)continue;}_0x3aad59['push'](_0x343d1f[_0x2b7396]);}_0x1ec8e0=_0x3aad59['join']('\x0a');}}return _0x1ec8e0;}static['stripComme'+'nts'](_0x217b47){return _0x217b47['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x128ecb,_0x1c1b70){return _0x128ecb!==null&&_0x1c1b70['forEach']((_0x1c37b9,_0x106ea2)=>{_0x128ecb=_0x128ecb['replace'](new RegExp('\x5c['+_0x106ea2+'\x5c]','g'),'['+_0x1c37b9+']');}),_0x128ecb;}static['injectDefi'+'nes'](_0x4992a5,_0xd31db5){if(_0x4992a5!==null&&_0xd31db5['size']>0x39*0x89+0x9b5+-0x2836){const _0xbbf60=_0x4992a5['split']('\x0a');_0xd31db5['forEach']((_0x1a0da6,_0x556bc5)=>{const _0x510386=new RegExp(_0x556bc5,'g');for(let _0x14fcc=0x2306+-0x5*0x655+-0x1*0x35d;_0x14fcc<_0xbbf60['length'];_0x14fcc++)_0xbbf60[_0x14fcc]['includes']('#')||(_0xbbf60[_0x14fcc]=_0xbbf60[_0x14fcc]['replace'](_0x510386,_0x1a0da6));}),_0x4992a5=_0xbbf60['join']('\x0a');}return _0x4992a5;}static['RemoveEmpt'+'yLines'](_0x11d07b){return _0x11d07b!==null&&(_0x11d07b=_0x11d07b['split'](/\r?\n/)['map'](_0x1facba=>_0x1facba['trim']()===''?'':_0x1facba)['join']('\x0a'),_0x11d07b=_0x11d07b['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x11d07b;}static['_preproces'+'s'](_0x284d7b,_0x56dcff=new Map(),_0x3d2fb0,_0x38d154,_0x2c1914){var _0x4b4507;const _0x4a4267=_0x284d7b,_0x2aed25=[];let _0x3974a6=!(-0x1606+0x70+-0x1597*-0x1),_0xf3fd86;for(;(_0xf3fd86=Fs['exec'](_0x284d7b))!==null&&!_0x3974a6;){const _0x3f4d19=_0xf3fd86[0x12ec+-0x1*0x1d9b+0xe4*0xc];switch(_0x3f4d19){case'define':{Nd['lastIndex']=_0xf3fd86['index'];const _0x368eaa=Nd['exec'](_0x284d7b);w['assert'](_0x368eaa,'Invalid\x20['+_0x3f4d19+']:\x20'+_0x284d7b['substring'](_0xf3fd86['index'],_0xf3fd86['index']+(0x19ee+0x1097*0x2+-0x3ab8))+'...'),_0x3974a6||(_0x3974a6=_0x368eaa===null);const _0x1e0254=_0x368eaa[0x2400+0x1eba+0x1d*-0x24d];r_['lastIndex']=_0x368eaa['index'];const _0x3bf9fa=r_['exec'](_0x1e0254)[-0xd48+-0xceb+0x1a33];let _0x29ff26=_0x1e0254['substring'](_0x3bf9fa['length'])['trim']();_0x29ff26===''&&(_0x29ff26='true');const _0x4a14a6=Lt['_keep'](_0x2aed25);let _0x3dcbb3=_0x2c1914;if(_0x4a14a6){const _0xa7b57d=_0x3bf9fa['startsWith']('{')&&_0x3bf9fa['endsWith']('}');_0xa7b57d&&(_0x3dcbb3=!(0xf5*-0xe+0x11f4+-0x48e)),_0xa7b57d?_0x3d2fb0['set'](_0x3bf9fa,_0x29ff26):_0x56dcff['set'](_0x3bf9fa,_0x29ff26),_0x3dcbb3&&(_0x284d7b=_0x284d7b['substring'](-0x6aa+0x1a46+0x2*-0x9ce,_0x368eaa['index']-(-0x14e2+0x1*-0x7f1+0x1cd4))+_0x284d7b['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x368eaa['index']-(0x1bf1+0x2485*0x1+-0x4075));}w['trace'](Lr,_0x3f4d19+':\x20['+_0x3bf9fa+']\x20'+_0x29ff26+'\x20'+(_0x4a14a6?'':'IGNORED')),_0x3dcbb3||(Fs['lastIndex']=_0x368eaa['index']+_0x368eaa[-0xf92*-0x1+0x13c5+-0x2357]['length']);break;}case'undef':{kd['lastIndex']=_0xf3fd86['index'];const _0x4a6e3a=kd['exec'](_0x284d7b),_0x75f6a3=_0x4a6e3a[0x26fb+-0x2*-0xd0f+-0x4118]['trim'](),_0xeb1a23=Lt['_keep'](_0x2aed25);_0xeb1a23&&(_0x56dcff['delete'](_0x75f6a3),_0x2c1914&&(_0x284d7b=_0x284d7b['substring'](-0x26a4+-0x1b37*0x1+-0x2dd*-0x17,_0x4a6e3a['index']-(0xe*-0x3d+-0x18b1+0x1c08))+_0x284d7b['substring'](kd['lastIndex']),Fs['lastIndex']=_0x4a6e3a['index']-(-0x287*0xf+-0xb5*-0x33+0x19*0x13))),w['trace'](Lr,_0x3f4d19+':\x20['+_0x75f6a3+']\x20'+(_0xeb1a23?'':'IGNORED')),_0x2c1914||(Fs['lastIndex']=_0x4a6e3a['index']+_0x4a6e3a[-0x71e+0x1*0x296+0x122*0x4]['length']);break;}case'extension':{i_['lastIndex']=_0xf3fd86['index'];const _0x1d560c=i_['exec'](_0x284d7b);if(w['assert'](_0x1d560c,'Invalid\x20['+_0x3f4d19+']:\x20'+_0x284d7b['substring'](_0xf3fd86['index'],_0xf3fd86['index']+(0x26ca+-0x133e+0x4*-0x4ca))+'...'),_0x3974a6||(_0x3974a6=_0x1d560c===null),_0x1d560c){const _0xab5dbd=_0x1d560c[0x8ea+0x2b*0xc3+0x29aa*-0x1],_0x358263=Lt['_keep'](_0x2aed25);_0x358263&&_0x56dcff['set'](_0xab5dbd,'true'),w['trace'](Lr,_0x3f4d19+':\x20['+_0xab5dbd+']\x20'+(_0x358263?'':'IGNORED'));}Fs['lastIndex']=_0x1d560c['index']+_0x1d560c[-0x1ce9+-0x78+0x45*0x6d]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0xf3fd86['index'];const _0x420618=Ud['exec'](_0x284d7b),_0x2ac47c=_0x420618[0x2*-0xbcf+0x19f0+-0x250],_0x17c5ae=Lt['evaluate'](_0x2ac47c,_0x56dcff);_0x3974a6||(_0x3974a6=_0x17c5ae['error']);let _0x35b35b=_0x17c5ae['result'];_0x3f4d19==='ifndef'&&(_0x35b35b=!_0x35b35b),_0x2aed25['push']({'anyKeep':_0x35b35b,'keep':_0x35b35b,'start':_0xf3fd86['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x3f4d19+':\x20['+_0x2ac47c+']\x20=>\x20'+_0x35b35b),Fs['lastIndex']=_0x420618['index']+_0x420618[0x2*0xf52+0xa8b*0x1+-0x292f]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0xf3fd86['index'];const _0x5bf916=Bd['exec'](_0x284d7b),_0x42bf48=_0x2aed25['pop']();if(!_0x42bf48){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x5bf916[-0x18a6+0x1989+-0xe2]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x284d7b['substring'](_0xf3fd86['index'],_0xf3fd86['index']+(-0x3c5+-0xf26*0x1+0x1*0x134f))+'...',{'source':_0x4a4267}),_0x3974a6=!(-0x2130+-0x1*0x4c2+0x25f2);continue;}const _0x2728af=_0x42bf48['keep']?_0x284d7b['substring'](_0x42bf48['end'],_0xf3fd86['index']):'';w['trace'](Lr,_0x3f4d19+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x2728af!=='')),_0x284d7b=_0x284d7b['substring'](0x1406+0x1*0x539+-0x193f,_0x42bf48['start'])+_0x2728af+_0x284d7b['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x42bf48['start']+_0x2728af['length'];const _0x1f3f1d=_0x5bf916[0x1cb8+-0x19d*-0x2+0x11*-0x1e1];if(_0x1f3f1d==='else'||_0x1f3f1d==='elif'){let _0x56e9b9=!(-0x1*-0x1b5b+-0x2*-0xf06+0x1f*-0x1da);if(!_0x42bf48['anyKeep']){if(_0x1f3f1d==='else')_0x56e9b9=!_0x42bf48['keep'];else{const _0x1a0fd7=Lt['evaluate'](_0x5bf916[-0x1b59*0x1+0x3*0x7e6+0x3a9],_0x56dcff);_0x56e9b9=_0x1a0fd7['result'],_0x3974a6||(_0x3974a6=_0x1a0fd7['error']);}}_0x2aed25['push']({'anyKeep':_0x42bf48['anyKeep']||_0x56e9b9,'keep':_0x56e9b9,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x3f4d19+':\x20['+_0x5bf916[0x17f+-0x186a+0x16ed]+']\x20=>\x20'+_0x56e9b9);}break;}case'include':{zd['lastIndex']=_0xf3fd86['index'];const _0x262c8b=zd['exec'](_0x284d7b);if(_0x3974a6||(_0x3974a6=_0x262c8b===null),!_0x262c8b){w['assert'](_0x262c8b,'Invalid\x20['+_0x3f4d19+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x284d7b['substring'](_0xf3fd86['index'],_0xf3fd86['index']+(-0x13*0x1e8+0x49d*0x7+0x451))+'...'),_0x3974a6=!(0x1a62+-0x1775+-0x2ed);continue;}const _0x30d31a=_0x262c8b[0x1382+0x1eb*-0x10+0xb2f]['trim'](),_0x1f1f79=(_0x4b4507=_0x262c8b[0x190*0x5+-0x9*0x314+0x13e6])==null?void(0x206c+-0x2036+-0x36):_0x4b4507['trim'](),_0x182cdc=Lt['_keep'](_0x2aed25);if(_0x182cdc){let _0x35e5cb=_0x38d154==null?void(0xb+-0x1fa1+0x1*0x1f96):_0x38d154['get'](_0x30d31a);if(_0x35e5cb!==void(0x1726*0x1+0x59*0x61+-0x38df)){if(_0x35e5cb=this['stripComme'+'nts'](_0x35e5cb),_0x1f1f79){const _0x118056=_0x56dcff['get'](_0x1f1f79),_0x5771dd=parseFloat(_0x118056);if(Number['isInteger'](_0x5771dd)){let _0x5dd691='';for(let _0x1f8b5d=0x1402+0x19ab+-0x2dad;_0x1f8b5d<_0x5771dd;_0x1f8b5d++)_0x5dd691+=_0x35e5cb['replace'](VT,String(_0x1f8b5d));_0x35e5cb=_0x5dd691;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x1f1f79+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x284d7b['substring'](_0xf3fd86['index'],_0xf3fd86['index']+(-0x235a+-0x1a1+-0x9*-0x427))+'...',{'originalSource':_0x4a4267,'source':_0x284d7b}),_0x3974a6=!(-0x1124*-0x1+0x5c0+-0x16e4*0x1);}_0x284d7b=_0x284d7b['substring'](-0x1d*0xa7+0x192b+-0x4*0x190,_0x262c8b['index']-(0x649+0x1*-0xe2f+0x7e7))+_0x35e5cb+_0x284d7b['substring'](zd['lastIndex']),Fs['lastIndex']=_0x262c8b['index']-(-0x46+-0xf*-0x7f+-0x72a);}else{console['error']('Include\x20\x22'+_0x30d31a+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x4a4267,'source':_0x284d7b}),_0x3974a6=!(0xcc2+-0x1*-0x267d+-0x1115*0x3);continue;}}w['trace'](Lr,_0x3f4d19+':\x20['+_0x30d31a+']\x20'+(_0x182cdc?'':'IGNORED'));break;}}}return _0x2aed25['length']>0x53*-0x4e+0x1*-0x26e1+0x402b&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x3974a6=!(-0x758+0xb1a+0xd*-0x4a)),_0x3974a6?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x4a4267}),null):_0x284d7b;}static['_keep'](_0x206d6a){for(let _0x4d060f=-0x85f*-0x3+0xaa*0x7+-0x191*0x13;_0x4d060f<_0x206d6a['length'];_0x4d060f++)if(!_0x206d6a[_0x4d060f]['keep'])return!(-0x2*0xa34+0x1066+0x403);return!(-0x1dd4+-0x11*-0x39+0x1a0b);}static['evaluateAt'+'omicExpres'+'sion'](_0x4485ac,_0x1d709c){let _0x5c4112=!(-0xe*0xaa+0x13c6+-0xa79);_0x4485ac=_0x4485ac['trim']();let _0x56d29d=!(-0x6e8+0x1c49+-0x1560);if(_0x4485ac==='true')return{'result':!(0x1*0x2409+0x163d+0x1d23*-0x2),'error':_0x5c4112};if(_0x4485ac==='false')return{'result':!(-0x1037+0x9c6+0x672),'error':_0x5c4112};const _0x2f0c98=NT['exec'](_0x4485ac);if(_0x2f0c98){_0x56d29d=_0x2f0c98[-0x26fe+-0x1*-0xb11+0x1bee]==='!',_0x4485ac=_0x2f0c98[-0x1d6b+-0x18f0+0x121f*0x3]['trim']();const _0x5c303c=_0x1d709c['has'](_0x4485ac);return{'result':_0x56d29d?!_0x5c303c:_0x5c303c,'error':_0x5c4112};}const _0x505e0a=BT['exec'](_0x4485ac);if(_0x505e0a){const _0x1f3eb2=_0x1d709c['get'](_0x505e0a[0x1*0x2543+-0x10b+-0x7f*0x49]['trim']())??_0x505e0a[-0xccd*-0x1+-0x408+-0x8c4]['trim'](),_0x4ce2d7=_0x1d709c['get'](_0x505e0a[0xcd6+0x1d*0xe9+0x4*-0x9ce]['trim']())??_0x505e0a[-0x1*0x1897+0xf95+0x905]['trim'](),_0x49dca7=_0x505e0a[0x8c8+-0x2*0xb2f+0xd98]['trim']();let _0x1c7e1=!(0x11f*0x1+-0x3e*-0x49+0x644*-0x3);switch(_0x49dca7){case'==':_0x1c7e1=_0x1f3eb2===_0x4ce2d7;break;case'!=':_0x1c7e1=_0x1f3eb2!==_0x4ce2d7;break;case'<':_0x1c7e1=_0x1f3eb2<_0x4ce2d7;break;case'<=':_0x1c7e1=_0x1f3eb2<=_0x4ce2d7;break;case'>':_0x1c7e1=_0x1f3eb2>_0x4ce2d7;break;case'>=':_0x1c7e1=_0x1f3eb2>=_0x4ce2d7;break;default:_0x5c4112=!(0x634*0x4+-0x8*-0x2de+-0xbf*0x40);}return{'result':_0x1c7e1,'error':_0x5c4112};}return{'result':_0x1d709c['has'](_0x4485ac),'error':_0x5c4112};}static['processPar'+'entheses'](_0x2cb738,_0x357a8d){let _0x45f056=!(-0x3*-0xa71+0xd*-0x21f+-0x3bf),_0x3f60da=_0x2cb738['trim']();for(;_0x3f60da['startsWith']('(')&&_0x3f60da['endsWith'](')');){let _0x2bc29c=0x23c7+0x1*0xc7d+-0x3044,_0x4e5072=!(0x1*-0x1c22+0xab3+-0x116f*-0x1);for(let _0x5856e1=0x217*0x5+0x1*0x1349+0xede*-0x2;_0x5856e1<_0x3f60da['length']-(0x14e7*-0x1+-0x2*0xb11+0x1585*0x2);_0x5856e1++)if(_0x3f60da[_0x5856e1]==='(')_0x2bc29c++;else{if(_0x3f60da[_0x5856e1]===')'&&(_0x2bc29c--,_0x2bc29c===-0x1*0xdf9+-0xe0d+0x1a6*0x11)){_0x4e5072=!(-0x286+0x110f+0x4d8*-0x3);break;}}if(_0x4e5072)_0x3f60da=_0x3f60da['slice'](0x9c3+-0xc95*-0x1+0x12d*-0x13,-(-0xb9b+0x38a+0x1*0x812))['trim']();else break;}for(;;){let _0x571e21=!(-0x1804+0x11*0x145+0x270),_0x2c9520=0x1ad7*0x1+-0x1b7f*-0x1+-0x3656,_0x390125=-0x1*0x1525+-0x1*0x2498+0x39bd,_0x3abcfb=-(-0x320+-0x1d69*0x1+0x208a),_0x4c8bcd=-(0x17*0x127+0x1b4+-0x1c34),_0x208cef=0x1892+-0x185c+0x1b*-0x2;for(let _0x52839d=0x1528+0x4d7*-0x1+0x1*-0x1051;_0x52839d<_0x3f60da['length'];_0x52839d++)if(_0x3f60da[_0x52839d]==='('){const _0x3dafbb=_0x3f60da['substring'](0x133c+0x1*0x1811+-0x2e3*0xf,_0x52839d);UT['test'](_0x3dafbb)?_0x208cef++:_0x208cef===-0x3*0xcd5+0x6f1+0x482*0x7&&(_0x2c9520++,_0x2c9520>_0x390125&&(_0x390125=_0x2c9520,_0x3abcfb=_0x52839d),_0x571e21=!(-0x9*-0x307+0xf19+-0x43c*0xa));}else _0x3f60da[_0x52839d]===')'&&(_0x208cef>-0x42*0x3+-0x2*0xc77+0x19b4?_0x208cef--:_0x2c9520>-0xeca+-0x3a7+0x1271&&(_0x2c9520===_0x390125&&_0x3abcfb!==-(0x18cf+-0xbc3*0x1+-0xd0b)&&(_0x4c8bcd=_0x52839d),_0x2c9520--));if(!_0x571e21||_0x3abcfb===-(0x1a35*0x1+-0x216a+0x39b*0x2)||_0x4c8bcd===-(0x1*0x1ef2+-0x1765+0x7*-0x114))break;const _0x12a077=_0x3f60da['substring'](_0x3abcfb+(0x1f77+0x7*-0x3a1+-0x60f),_0x4c8bcd),{result:_0xaac63e,error:_0x5e9ee8}=Lt['evaluate'](_0x12a077,_0x357a8d);_0x45f056=_0x45f056||_0x5e9ee8,_0x3f60da=_0x3f60da['substring'](-0x2cf*0x3+-0x14fc+0x1*0x1d69,_0x3abcfb)+(_0xaac63e?'true':'false')+_0x3f60da['substring'](_0x4c8bcd+(0x3b*0x95+0x204+-0x245a));}return{'expression':_0x3f60da,'error':_0x45f056};}static['evaluate'](_0x1d82f6,_0x126977){const _0x4dd67d=zT['exec'](_0x1d82f6)===null;w['assert'](_0x4dd67d,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x1d82f6);let _0xb706a=_0x1d82f6,_0x36e506=!(-0x4*-0x6c6+0x1025*-0x1+-0xaf2);if(_0x1d82f6['replace'](kT,'')['indexOf']('(')!==-(-0xa8b+0x1*0x11f+-0x96d*-0x1)){const _0x43047a=Lt['processPar'+'entheses'](_0x1d82f6,_0x126977);_0xb706a=_0x43047a['expression'],_0x36e506=_0x43047a['error'];}if(_0x36e506)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x1d82f6+'\x22'),{'result':!(-0x14be+0x856+0xc69),'error':!(0x1*0xdb2+0x256d+-0x331f*0x1)};const _0x8fef5d=_0xb706a['split']('||');for(const _0x4fe632 of _0x8fef5d){const _0x3e9a7e=_0x4fe632['split']('&&');let _0x67811c=!(0x5ef*-0x1+-0x1663+0x1c52);for(const _0x3f5d90 of _0x3e9a7e){const {result:_0xc408da,error:_0x42ef05}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x3f5d90['trim'](),_0x126977);if(!_0xc408da||_0x42ef05){_0x67811c=!(0x1*0x1da5+0x6fd+-0x24a1);break;}}if(_0x67811c)return{'result':!(-0x11d1+0x10b6+0x11b),'error':!_0x4dd67d};}return{'result':!(0x23*0x1c+-0xc01+-0x2*-0x417),'error':!_0x4dd67d};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x1c609e,_0x4e6f60){w['assert'](_0x4e6f60),w['assert'](!_0x4e6f60['vertexDefi'+'nes']||_0x4e6f60['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x4e6f60['vertexIncl'+'udes']||_0x4e6f60['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x4e6f60['fragmentDe'+'fines']||_0x4e6f60['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x4e6f60['fragmentIn'+'cludes']||_0x4e6f60['fragmentIn'+'cludes']instanceof Map);const _0x4ec9dc=_0x26d879=>{let _0x297a2b=_0x26d879['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x297a2b)||(_0x297a2b=[_0x297a2b]),_0x297a2b;},_0x3086ae=(_0x1b4943,_0x3b1fcb,_0x1ae893,_0x46e5b2)=>{const _0x4a1173=_0x1c609e['isWebGPU']?_0x1b4943:_0x3b1fcb;let _0x3e3c65='';if(!_0x1ae893){const _0x53670b=_0x4ec9dc(_0x46e5b2);for(let _0x28eb16=0x1ebb+0xc02+0x3*-0xe3f;_0x28eb16<_0x1c609e['maxColorAt'+'tachments'];_0x28eb16++){_0x3e3c65+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x28eb16+'\x0a';const _0x5c88f2=_0x53670b[_0x28eb16]??'vec4';_0x3e3c65+='#define\x20ou'+'tType_'+_0x28eb16+'\x20'+_0x5c88f2+'\x0a';}}return _0x3e3c65+_0x4a1173;},_0x4d9c96=(_0x56a6d8,_0x46e1f4)=>{let _0x232465='';if(!_0x56a6d8){const _0x3830ef=_0x4ec9dc(_0x46e1f4);for(let _0x196e70=0x1b41+0x1*0x1fa3+-0xeb9*0x4;_0x196e70<_0x1c609e['maxColorAt'+'tachments'];_0x196e70++){const _0x23b4a2=_0x3830ef[_0x196e70]??'vec4',_0x187dfb=Fy['get'](_0x23b4a2);w['assert'](_0x187dfb,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x23b4a2+'\x20->\x20'+_0x187dfb),_0x232465+='alias\x20pcOu'+'tType'+_0x196e70+'\x20=\x20'+_0x187dfb+';\x0a';}}return _0x232465;},_0x23c9b5=_0x4e6f60['name']??'Untitled';let _0x167dfe,_0x12ce00;const _0xfc522d=Jt['getDefines'+'Code'](_0x1c609e,_0x4e6f60['vertexDefi'+'nes']),_0x50d528=Jt['getDefines'+'Code'](_0x1c609e,_0x4e6f60['fragmentDe'+'fines']);return _0x4e6f60['shaderLang'+'uage']===it?(_0x167dfe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4d9c96(!(0x2e*-0xf+-0x1576+0x1828),_0x4e6f60)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xfc522d+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4e6f60['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x12ce00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4d9c96(!(0x142b+0xcbe+-0x20e8),_0x4e6f60)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x50d528+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4e6f60['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x4e6f60['vertexCode']),_0x167dfe=Jt['versionCod'+'e'](_0x1c609e)+_0x3086ae(Wy,Gy,!(0x127+0x13*-0x11b+-0x79*-0x2a),_0x4e6f60)+_0xfc522d+Jt['precisionC'+'ode'](_0x1c609e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x23c9b5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4e6f60['vertexCode'],w['assert'](_0x4e6f60['fragmentCo'+'de']),_0x12ce00=(_0x4e6f60['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x1c609e)+_0x3086ae(Hy,Vy,!(0xfdf+-0x11bf*-0x2+0x4c*-0xad),_0x4e6f60)+_0x50d528+Jt['precisionC'+'ode'](_0x1c609e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x23c9b5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4e6f60['fragmentCo'+'de']),{'name':_0x23c9b5,'shaderLanguage':_0x4e6f60['shaderLang'+'uage']??Fe,'attributes':_0x4e6f60['attributes'],'vshader':_0x167dfe,'vincludes':_0x4e6f60['vertexIncl'+'udes'],'fincludes':_0x4e6f60['fragmentIn'+'cludes'],'fshader':_0x12ce00,'useTransformFeedback':_0x4e6f60['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x4e6f60['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4e6f60['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x28287f,_0x281856){let _0x3fd25f='';return _0x28287f['capsDefine'+'s']['forEach']((_0x4d7f56,_0x1f38d5)=>{_0x3fd25f+='#define\x20'+_0x1f38d5+'\x20'+_0x4d7f56+'\x0a';}),_0x3fd25f+='\x0a',_0x281856==null||_0x281856['forEach']((_0x161db7,_0x4f4672)=>{_0x3fd25f+='#define\x20'+_0x4f4672+'\x20'+_0x161db7+'\x0a';}),_0x3fd25f+='\x0a',_0x3fd25f;}static['getShaderN'+'ameCode'](_0xb00ebc){return'#define\x20SH'+'ADER_NAME\x20'+_0xb00ebc+'\x0a';}static['versionCod'+'e'](_0x408793){return _0x408793['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x4f108e,_0x28f3d6){_0x28f3d6&&_0x28f3d6!=='highp'&&_0x28f3d6!=='mediump'&&_0x28f3d6!=='lowp'&&(_0x28f3d6=null),_0x28f3d6&&(_0x28f3d6==='highp'&&_0x4f108e['maxPrecisi'+'on']!=='highp'&&(_0x28f3d6='mediump'),_0x28f3d6==='mediump'&&_0x4f108e['maxPrecisi'+'on']==='lowp'&&(_0x28f3d6='lowp'));const _0x1ef038=_0x28f3d6||_0x4f108e['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x1ef038+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1ef038+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x1ef038+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1ef038+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1ef038+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1ef038+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x1ef038+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x2e5c8d){const _0x27d960={};let _0xef9f5c=-0x163f*0x1+-0x7*-0x4cd+-0xb5c*0x1,_0x2693eb=_0x2e5c8d['indexOf']('attribute');for(;_0x2693eb>=0x63*-0x2+-0x15c0+0x1686&&!(_0x2693eb>-0x4*-0x60a+0x1*-0xdbb+-0xa6d*0x1&&_0x2e5c8d[_0x2693eb-(-0x19a8+-0x1434+0x2ddd*0x1)]==='/');){let _0x5c3a1a=!(-0x1*-0x1e68+0x1d7*0x4+-0x25c3);if(_0x2693eb>0x2035+0x8a*-0x3+-0x29*0xbf){let _0x47e338=_0x2e5c8d['lastIndexO'+'f']('\x0a',_0x2693eb);_0x47e338=_0x47e338!==-(-0x1*-0x15ca+0x13*-0x1cf+-0xa*-0x142)?_0x47e338+(0xd*0x2bb+-0xcaa+-0xb6a*0x2):0x1350+-0x155b*0x1+0x20b,_0x2e5c8d['substring'](_0x47e338,_0x2693eb)['includes']('#')&&(_0x5c3a1a=!(0x1153*0x1+0x5*-0x5c7+0xb90));}if(!_0x5c3a1a){const _0x3ccf90=_0x2e5c8d['indexOf'](';',_0x2693eb),_0x3c3a3f=_0x2e5c8d['lastIndexO'+'f']('\x20',_0x3ccf90),_0x385c4d=_0x2e5c8d['substring'](_0x3c3a3f+(0x228d+0xc23+-0x11*0x2bf),_0x3ccf90);if(_0x27d960[_0x385c4d])w['warn']('Attribute\x20'+'['+_0x385c4d+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x2e5c8d});else{const _0xa40c0b=GT[_0x385c4d];_0xa40c0b!==void(-0x1fc1*0x1+0x1*0x171f+-0x451*-0x2)?_0x27d960[_0x385c4d]=_0xa40c0b:(_0x27d960[_0x385c4d]='ATTR'+_0xef9f5c,_0xef9f5c++);}}_0x2693eb=_0x2e5c8d['indexOf']('attribute',_0x2693eb+(-0x7*0x4d5+-0x12*-0x60+0x1b14));}return _0x27d960;}}let HT=-0xc5a+0x4+0x2*0x62b;class qy{constructor(_0x30d9f6,_0x2c1abb){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x30d9f6,this['definition']=_0x2c1abb,this['name']=_0x2c1abb['name']||'Untitled',this['init'](),_0x2c1abb['cshader'])w['assert'](_0x30d9f6['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x2c1abb['vshader']&&!_0x2c1abb['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x2c1abb['cshader']=ko['run'](_0x2c1abb['cshader'],_0x2c1abb['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x240d*0x1+0x145a+-0x3867)});else{w['assert'](_0x2c1abb['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x2c1abb['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x2c1abb['vshader'],this['fUnmodifie'+'d']=_0x2c1abb['fshader'];});const _0x542626=_0x2c1abb['shaderLang'+'uage']===it;_0x2c1abb['vshader']=ko['run'](_0x2c1abb['vshader'],_0x2c1abb['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x542626}),_0x2c1abb['shaderLang'+'uage']===Fe&&(_0x2c1abb['attributes']??(_0x2c1abb['attributes']=Jt['collectAtt'+'ributes'](_0x2c1abb['vshader'])));const _0x5a624d=_0x30d9f6['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x2c1abb['fshader']=ko['run'](_0x2c1abb['fshader'],_0x2c1abb['fincludes'],{'stripUnusedColorAttachments':_0x5a624d,'stripDefines':_0x542626,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x2c1abb['vshader']||!_0x2c1abb['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x1881+-0x14ea*0x1+0x1*-0x397);return;}}this['impl']=_0x30d9f6['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x85*0x3+0x1414+-0x15a2),this['failed']=!(-0x9*-0x126+0x23cd+-0x2e22);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x21265b,_0x20b2b4,_0x272dbd){const _0x4a750d=_0x21265b['storageFlo'+'at32'];_0x4a750d[_0x272dbd]=_0x20b2b4;},Be[ga]=(_0x38bb1f,_0x279257,_0x28b475)=>{const _0x150115=_0x38bb1f['storageFlo'+'at32'];_0x150115[_0x28b475]=_0x279257[0x541+-0x114d+0x3*0x404],_0x150115[_0x28b475+(0x195b+-0xcc+0x382*-0x7)]=_0x279257[0x9*0x335+0x16d3+0x1*-0x33af];},Be[ds]=(_0x4648e9,_0x4fdab7,_0x29486a)=>{const _0x548083=_0x4648e9['storageFlo'+'at32'];_0x548083[_0x29486a]=_0x4fdab7[-0x43c*0x1+0x808+-0x3cc],_0x548083[_0x29486a+(0x1*-0x8ab+0x1*0x43+-0x869*-0x1)]=_0x4fdab7[0x2af*0x1+-0x1c25+-0x1977*-0x1],_0x548083[_0x29486a+(0x134+0x1bb*-0xe+0x1708)]=_0x4fdab7[-0x11f4+-0x14a3+0x2699];},Be[Rn]=(_0x1a1985,_0x3df28a,_0x7272c9)=>{const _0x27ed04=_0x1a1985['storageFlo'+'at32'];_0x27ed04[_0x7272c9]=_0x3df28a[-0x809+-0x13c9*-0x1+0xbc*-0x10],_0x27ed04[_0x7272c9+(-0x161f+0x1*0x806+0xe1a)]=_0x3df28a[0x19*-0xef+0xb5e*-0x1+0x3*0xb92],_0x27ed04[_0x7272c9+(-0x45b+-0x1*-0x12a1+-0xe44)]=_0x3df28a[0xaee*-0x1+0x502*-0x2+0x14f4],_0x27ed04[_0x7272c9+(-0x237a+0x1*-0x1b71+-0x5a*-0xb3)]=_0x3df28a[0x1*-0x1406+0x257d+-0x1174];},Be[_a]=function(_0xf1db0,_0x510c46,_0x439766){const _0x59c4ea=_0xf1db0['storageInt'+'32'];_0x59c4ea[_0x439766]=_0x510c46;},Be[ca]=function(_0x1f5b10,_0x4c60bc,_0x1dee40){const _0x26d018=_0x1f5b10['storageInt'+'32'];_0x26d018[_0x1dee40]=_0x4c60bc[-0x1ff9+0x8*0x172+0x1469],_0x26d018[_0x1dee40+(-0x6fb+-0x2141+0x283d)]=_0x4c60bc[-0x6ce*0x2+0x2082*-0x1+0x2e1f];},Be[ha]=function(_0x330645,_0x22cec8,_0x2b53d8){const _0x38b218=_0x330645['storageInt'+'32'];_0x38b218[_0x2b53d8]=_0x22cec8[-0xd1b+-0x7a3+-0x1e*-0xb1],_0x38b218[_0x2b53d8+(0x208b+0xc29+-0x2cb3)]=_0x22cec8[-0xf25+0x3a*0xa6+-0x1676],_0x38b218[_0x2b53d8+(-0x15d2+-0x14e3+0x2ab7)]=_0x22cec8[0x1*0xe2f+0xb28+-0x1955];},Be[da]=function(_0x4b6e0f,_0x18a959,_0x14e0bb){const _0x21379b=_0x4b6e0f['storageInt'+'32'];_0x21379b[_0x14e0bb]=_0x18a959[-0x1703+0x1*0x198f+-0x28c],_0x21379b[_0x14e0bb+(-0x168+0x12dd+-0x1174)]=_0x18a959[0x23*0x83+0xf69+-0x2151],_0x21379b[_0x14e0bb+(-0x1*0x5a3+0x20c5+-0x1b20)]=_0x18a959[0x25f*0x9+-0x357+-0x7*0x292],_0x21379b[_0x14e0bb+(-0x4*0x71+-0x106e+0x1235)]=_0x18a959[-0x1aa3*0x1+0x25da+0x2cd*-0x4];},Be[_h]=(_0x556bfd,_0x4b50d6,_0x1fdc81)=>{const _0x4562d3=_0x556bfd['storageFlo'+'at32'];_0x4562d3[_0x1fdc81]=_0x4b50d6[-0x818+-0x148*-0xd+-0x890],_0x4562d3[_0x1fdc81+(0xa*-0x4+0x2029*0x1+-0x2000)]=_0x4b50d6[0x2294+-0x1873+-0xa20],_0x4562d3[_0x1fdc81+(-0x1*0x1f89+-0x7ef*0x1+0xe*0x2d2)]=_0x4b50d6[-0x2349+0x4a*-0x73+0x4489],_0x4562d3[_0x1fdc81+(0x19cb+-0x6dc*0x1+-0x12ea)]=_0x4b50d6[-0x8c7+-0x1c41*0x1+-0x1d*-0x147],_0x4562d3[_0x1fdc81+(0x1ea8+0x9*0x2ca+0xe*-0x3fb)]=_0x4b50d6[-0xc78+-0x16a9*0x1+0x2325],_0x4562d3[_0x1fdc81+(0x38f*-0x3+0x215*0x9+-0xf*0x89)]=_0x4b50d6[0x32*-0x89+0x93b+0x118c];},Be[On]=(_0x12a39e,_0xebdc2d,_0x508322)=>{const _0x4ccdb2=_0x12a39e['storageFlo'+'at32'];_0x4ccdb2[_0x508322]=_0xebdc2d[-0x12c3*-0x2+0x1d97+0x53*-0xcf],_0x4ccdb2[_0x508322+(0x2106+0x1126*-0x1+-0xfdf)]=_0xebdc2d[0x204d+-0xe*0x1c5+-0x786],_0x4ccdb2[_0x508322+(0x5*0x2b0+0x8a5+-0x1613)]=_0xebdc2d[-0x79*-0x47+0x2b2+-0x243f*0x1],_0x4ccdb2[_0x508322+(0x68f*0x2+0xf97*-0x1+0x27d)]=_0xebdc2d[0x1b30+0x22dd+0xa57*-0x6],_0x4ccdb2[_0x508322+(-0x1*0x964+-0x1a7*0x9+0x1848)]=_0xebdc2d[0x13c2+0x1*-0xa2d+-0x991],_0x4ccdb2[_0x508322+(-0x28*0xa3+-0x1dd7+0x3755)]=_0xebdc2d[0x2*0x125d+-0x3*-0xaad+-0x44bc],_0x4ccdb2[_0x508322+(-0x2202+0x2b9+0x1f51)]=_0xebdc2d[0xb*-0x1b1+0x78*0x29+0x1*-0x97],_0x4ccdb2[_0x508322+(-0x89e+-0x11a2+0x1a49)]=_0xebdc2d[-0x1428+-0x11*0x227+0x152*0x2b],_0x4ccdb2[_0x508322+(0x4*-0x716+-0x1*-0x15bb+-0x1*-0x6a7)]=_0xebdc2d[0x81*-0x2b+0x18aa+-0x2f7];},Be[ud]=function(_0x471123,_0x5a82ec,_0x4034b0,_0x4da632){const _0x413f6e=_0x471123['storageFlo'+'at32'];for(let _0x34cb25=-0xbae+-0x506+-0x42d*-0x4;_0x34cb25<_0x4da632;_0x34cb25++)_0x413f6e[_0x4034b0+_0x34cb25*(-0x3*-0x94d+-0x1cf*0x13+0x67a)]=_0x5a82ec[_0x34cb25];},Be[pd]=(_0x5d4847,_0x12ec98,_0x19d5aa,_0x1a2b82)=>{const _0x226107=_0x5d4847['storageFlo'+'at32'];for(let _0x295ab9=-0x21*0xaa+-0x406+-0x14c*-0x14;_0x295ab9<_0x1a2b82;_0x295ab9++)_0x226107[_0x19d5aa+_0x295ab9*(-0x2*-0x92f+-0x1*-0x496+-0x4*0x5bc)]=_0x12ec98[_0x295ab9*(0x100c+-0x2498+0x148e*0x1)],_0x226107[_0x19d5aa+_0x295ab9*(-0x46*-0x27+-0x90c*-0x3+-0x25ca)+(-0x10d*-0x2+-0x25de+-0x1*-0x23c5)]=_0x12ec98[_0x295ab9*(-0x26e0+-0x8e5+-0x1b*-0x1c5)+(-0x1efd*0x1+-0x1b63+-0x3d*-0xf5)];},Be[md]=(_0x382f92,_0x34353d,_0x543d0b,_0x10d910)=>{const _0x49c385=_0x382f92['storageFlo'+'at32'];for(let _0x22ac14=-0xd*0x16+0x2*-0x73f+-0x36*-0x4a;_0x22ac14<_0x10d910;_0x22ac14++)_0x49c385[_0x543d0b+_0x22ac14*(0x13d1+-0x1414+-0x47*-0x1)]=_0x34353d[_0x22ac14*(0x19b4+-0x1222*-0x1+0x2bd3*-0x1)],_0x49c385[_0x543d0b+_0x22ac14*(0x80*0xa+-0x9cf+-0x13*-0x41)+(-0x24f1+-0x222+0x2714)]=_0x34353d[_0x22ac14*(-0x3*-0xa44+0x752*0x2+-0x2d6d*0x1)+(-0x31*0xb0+-0x2156+0x4307*0x1)],_0x49c385[_0x543d0b+_0x22ac14*(-0x39*-0x81+0x1197+-0x2e4c)+(-0x785+-0x679+-0x1*-0xe00)]=_0x34353d[_0x22ac14*(-0x75*0x2c+-0x1*-0x20f1+-0x1*0xcd2)+(0x429*-0x5+-0x116*0x1+0x15e5*0x1)];},Be[Fn]=(_0x4b6c94,_0x44e840,_0x49cb16,_0x252c1a)=>{const _0x6f3ad4=_0x4b6c94['storageUin'+'t32'];_0x6f3ad4[_0x49cb16]=_0x44e840;},Be[Nn]=(_0x52a6b0,_0x49e7f5,_0x46f7aa,_0xdb285f)=>{const _0x3b9a8=_0x52a6b0['storageUin'+'t32'];_0x3b9a8[_0x46f7aa]=_0x49e7f5[0x2*0xc73+0x1360+-0x3*0xec2],_0x3b9a8[_0x46f7aa+(-0x2*0x608+0xd22+-0x3*0x5b)]=_0x49e7f5[0x1c16+0x43*-0x13+-0x171c];},Be[kn]=(_0x4e122a,_0xeba10a,_0x5b9c64,_0x343ffe)=>{const _0x5ba30a=_0x4e122a['storageUin'+'t32'];_0x5ba30a[_0x5b9c64]=_0xeba10a[-0x1aa6+0x102c+0xa7a],_0x5ba30a[_0x5b9c64+(-0x1581+0x1f2e+-0x9ac)]=_0xeba10a[-0x5c5+0x2082+-0x1abc],_0x5ba30a[_0x5b9c64+(-0x575*0x1+-0x1a47+0x1fbe)]=_0xeba10a[-0x1*-0x1b3b+-0xaaf+-0x108a];},Be[Un]=(_0x1e3b4b,_0x42fafc,_0x2b5e10,_0x21398d)=>{const _0x2d62af=_0x1e3b4b['storageUin'+'t32'];_0x2d62af[_0x2b5e10]=_0x42fafc[-0x28*-0x97+0x1*0x230d+-0x3aa5],_0x2d62af[_0x2b5e10+(-0x1*0x1939+0x1148+-0x3*-0x2a6)]=_0x42fafc[0x4*-0x824+-0xdf*-0x5+0x1c36],_0x2d62af[_0x2b5e10+(-0x667+-0x1e75+0x11e*0x21)]=_0x42fafc[-0x1154+0x1bdf+0xa89*-0x1],_0x2d62af[_0x2b5e10+(-0x32e*-0x2+-0x388*0x1+0x67*-0x7)]=_0x42fafc[-0x14c+-0x2*0x959+0x1401];},Be[Bn]=function(_0x54378e,_0x4b8740,_0x23b728,_0x1f3aa0){const _0x21b54c=_0x54378e['storageInt'+'32'];for(let _0x5b051c=0x2bb*-0x4+-0xf5f*-0x1+-0x473;_0x5b051c<_0x1f3aa0;_0x5b051c++)_0x21b54c[_0x23b728+_0x5b051c*(0x2df+0x1b61*0x1+-0x1e3c)]=_0x4b8740[_0x5b051c];},Be[gd]=Be[Bn],Be[_d]=function(_0x4e6b1c,_0x262d82,_0x4f4eba,_0x553b40){const _0x2dc8ff=_0x4e6b1c['storageUin'+'t32'];for(let _0x1cfc81=-0x1*-0x1fbd+0x183*0xd+-0x3364;_0x1cfc81<_0x553b40;_0x1cfc81++)_0x2dc8ff[_0x4f4eba+_0x1cfc81*(-0x506*0x1+-0x1*0x1ad2+-0x2*-0xfee)]=_0x262d82[_0x1cfc81];},Be[zn]=(_0x4bcbd1,_0xe34c48,_0x4bedc1,_0x494afb)=>{const _0x51bcdd=_0x4bcbd1['storageInt'+'32'];for(let _0x1cf52a=0x1*-0x102+0x1738+-0x1636;_0x1cf52a<_0x494afb;_0x1cf52a++)_0x51bcdd[_0x4bedc1+_0x1cf52a*(0xb56*0x1+0x1*0x28a+-0xddc)]=_0xe34c48[_0x1cf52a*(-0x25*-0x76+0x17ca+-0x28d6)],_0x51bcdd[_0x4bedc1+_0x1cf52a*(0x24a5+0x507*0x2+-0x11*0x2bf)+(0x1*-0x846+-0x1fc6*-0x1+-0x4b3*0x5)]=_0xe34c48[_0x1cf52a*(0x2*-0x72f+0x99d+0x4c3)+(-0x23da+-0x1*-0x110c+-0x217*-0x9)];},Be[yd]=Be[zn],Be[Sd]=(_0x16c8f1,_0x359d5e,_0x15ebf0,_0x27f42a)=>{const _0x1efec8=_0x16c8f1['storageUin'+'t32'];for(let _0x312c8a=0x22*0x105+-0x10bb+0x11ef*-0x1;_0x312c8a<_0x27f42a;_0x312c8a++)_0x1efec8[_0x15ebf0+_0x312c8a*(0xd*-0x2b8+0xf53+0x1409)]=_0x359d5e[_0x312c8a*(-0x1*-0x1a0c+0x2*0x3e+0xe*-0x1e5)],_0x1efec8[_0x15ebf0+_0x312c8a*(0x493*-0x5+-0x1ac1+0x31a4)+(-0x109*-0x9+0x2*0x997+-0x1c7e)]=_0x359d5e[_0x312c8a*(-0xb7f+-0x1179+-0x1cfa*-0x1)+(0x1713+0x2a*-0xe3+0x716*0x2)];},Be[Vn]=(_0xb52e38,_0x3512ca,_0x2a6933,_0x591171)=>{const _0x578b80=_0xb52e38['storageInt'+'32'];for(let _0x433364=0x21e0+-0x1*-0x22e5+-0x44c5;_0x433364<_0x591171;_0x433364++)_0x578b80[_0x2a6933+_0x433364*(-0xd*0x123+0x110f+-0x1d*0x14)]=_0x3512ca[_0x433364*(-0x61e+-0xe3a+0x145b)],_0x578b80[_0x2a6933+_0x433364*(0x2*0x7b2+-0xcbf+-0x2a1)+(0x1547*-0x1+0x10b4+0x1*0x494)]=_0x3512ca[_0x433364*(0x23*0x95+-0x2b4+-0x1*0x11a8)+(-0x63d*-0x1+-0x1762+0x1126)],_0x578b80[_0x2a6933+_0x433364*(-0x1*-0x233f+-0xced+-0x1*0x164e)+(0x1*0x1e2c+0x10*0x1e2+-0x3c4a)]=_0x3512ca[_0x433364*(-0x1*-0x235b+-0x20cb+-0x28d)+(-0x1c98+0x1*-0x2707+0x43a1)];},Be[xd]=Be[Vn],Be[vd]=(_0x5f72ce,_0x1ce9ab,_0x4298c6,_0x53b245)=>{const _0x3d27e8=_0x5f72ce['storageUin'+'t32'];for(let _0x166fee=0x982*0x1+0xfc7+0x1949*-0x1;_0x166fee<_0x53b245;_0x166fee++)_0x3d27e8[_0x4298c6+_0x166fee*(0x2112+0xb5*0x5+-0x2497)]=_0x1ce9ab[_0x166fee*(0x1445+0xd*0xe3+-0x1fc9*0x1)],_0x3d27e8[_0x4298c6+_0x166fee*(-0x1de3+0xe*0xc5+0x3b*0x53)+(0x9*-0xde+0x1*0x12a+0x6a5)]=_0x1ce9ab[_0x166fee*(0xd45+0x14*-0x182+0x15*0xce)+(0x1*-0x2113+-0x1*0x649+0x275d)],_0x3d27e8[_0x4298c6+_0x166fee*(-0x1*0x127f+-0x1807*0x1+0xc6*0x37)+(-0x215c+0xe*0x15e+0x1*0xe3a)]=_0x1ce9ab[_0x166fee*(-0xfa3+-0xa*0x8+0xff6*0x1)+(-0x165*0x5+-0x42d+0xb28)];};class zp{constructor(_0x20aea8,_0x56032a,_0x38869d=!(0x2127+0x2*-0x88+0x5*-0x66b)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x151*0x1a+-0xa21+0x2c5b);if(this['device']=_0x20aea8,this['format']=_0x56032a,this['persistent']=_0x38869d,w['assert'](_0x56032a),_0x38869d){this['impl']=_0x20aea8['createUnif'+'ormBufferI'+'mpl'](this);const _0xfe363d=new ArrayBuffer(_0x56032a['byteSize']);this['assignStor'+'age'](new Int32Array(_0xfe363d)),_0x20aea8['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x514b38=this['device'];this['impl']['destroy'](_0x514b38),_0x514b38['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x1026+0x1*0x682+-0x64*0x3a:this['allocation']['offset'];}['assignStor'+'age'](_0x2ab8dd){this['storageInt'+'32']=_0x2ab8dd,this['storageUin'+'t32']=new Uint32Array(_0x2ab8dd['buffer'],_0x2ab8dd['byteOffset'],_0x2ab8dd['byteLength']/(0x161f+-0x205+0x2*-0xa0b)),this['storageFlo'+'at32']=new Float32Array(_0x2ab8dd['buffer'],_0x2ab8dd['byteOffset'],_0x2ab8dd['byteLength']/(-0x662+0x412+-0x1*-0x254));}['loseContex'+'t'](){var _0xea360b;(_0xea360b=this['impl'])==null||_0xea360b['loseContex'+'t']();}['setUniform'](_0x1e202d,_0x79fa87){w['assert'](_0x1e202d);const _0x3ee643=_0x1e202d['offset'];if(_0x79fa87!=null){const _0x5d4ca7=Be[_0x1e202d['updateType']];_0x5d4ca7?_0x5d4ca7(this,_0x79fa87,_0x3ee643,_0x1e202d['count']):this['storageFlo'+'at32']['set'](_0x79fa87,_0x3ee643);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x1e202d['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x1e202d['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x2df704,_0x12dd70){const _0x131e71=this['format']['map']['get'](_0x2df704);w['assert'](_0x131e71,'Uniform\x20na'+'me\x20['+_0x2df704+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x131e71&&this['setUniform'](_0x131e71,_0x12dd70);}['startUpdat'+'e'](_0x3dec29){if(!this['persistent']){const _0x4b486e=this['allocation'],_0x25959f=_0x4b486e['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x4b486e,this['format']['byteSize']),this['assignStor'+'age'](_0x4b486e['storage']),_0x3dec29&&(_0x3dec29['bindGroup']=_0x4b486e['gpuBuffer']['getBindGro'+'up'](this),_0x3dec29['offsets'][-0x21*0xaa+-0x1db+0x17c5]=_0x4b486e['offset']),_0x25959f!==_0x4b486e['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x32bc2d){this['startUpdat'+'e'](_0x32bc2d);const _0x2dbf6a=this['format']['uniforms'];for(let _0x58dada=0x192e+0x1*-0xcd1+-0xc5d;_0x58dada<_0x2dbf6a['length'];_0x58dada++){const _0x2896aa=_0x2dbf6a[_0x58dada]['scopeId']['value'];this['setUniform'](_0x2dbf6a[_0x58dada],_0x2896aa);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x17*0x109+0x6*-0x5a1+-0x5b*-0xa2)),h(this,'_enableReq'+'uest',!(0x1c96+-0x5*0x137+-0x1682)),h(this,'_frameTime',0x2*-0xe09+-0x49*-0x2a+-0x338*-0x5);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x21d8dc){this['_enableReq'+'uest']=_0x21d8dc;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x1a83+-0x249e+-0xd*-0xc7));}['request'](_0xeddfa8){this['pastFrameA'+'llocations']['set'](_0xeddfa8,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x187c1e,_0x3be5b6){if(_0x3be5b6){const _0x1886c0=this['pastFrameA'+'llocations']['get'](_0x187c1e);if(w['assert'](_0x1886c0['length']===_0x3be5b6['length']),_0x3be5b6['length']>0x8*-0x28d+0x17*0x1ab+-0x11f5&&(this['_frameTime']=_0x3be5b6['reduce']((_0x1d52af,_0x17b148)=>_0x1d52af+_0x17b148,-0x373*-0x1+-0x34*-0x53+-0x144f)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x187c1e+'\x20--');let _0x9b815=0x1bf1+0x702+-0x17*0x185;for(let _0x1ff3c7=0x7*0x4ca+-0x2516*0x1+0x390;_0x1ff3c7<_0x1886c0['length'];++_0x1ff3c7){const _0x25eaee=_0x1886c0[_0x1ff3c7];_0x9b815+=_0x3be5b6[_0x1ff3c7],w['trace'](Gl,_0x3be5b6[_0x1ff3c7]['toFixed'](-0x1970+-0x11db*0x1+0x2b4d)+'\x20ms\x20'+_0x25eaee);}w['trace'](Gl,_0x9b815['toFixed'](0xb*0x2ef+0xb3*-0x9+-0x19f8)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x187c1e);}['getSlot'](_0x3fc9c7){const _0x5b3722=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x3fc9c7),_0x5b3722;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x25afbd){this['bufferId']&&(_0x25afbd['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x3af905,_0x571853,_0x5a6d58,_0x4adcaf){const _0x4f6d5a=_0x3af905['gl'];if(this['bufferId'])_0x4f6d5a['bindBuffer'](_0x5a6d58,this['bufferId']),_0x4f6d5a['bufferSubD'+'ata'](_0x5a6d58,0x1584+0x8f*0x2+-0x16a2,_0x4adcaf);else{let _0x279b39;switch(_0x571853){case ms:_0x279b39=_0x4f6d5a['STATIC_DRA'+'W'];break;case lh:_0x279b39=_0x4f6d5a['DYNAMIC_DR'+'AW'];break;case ey:_0x279b39=_0x4f6d5a['STREAM_DRA'+'W'];break;case bx:_0x279b39=_0x4f6d5a['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4f6d5a['createBuff'+'er'](),_0x4f6d5a['bindBuffer'](_0x5a6d58,this['bufferId']),_0x4f6d5a['bufferData'](_0x5a6d58,_0x4adcaf,_0x279b39);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x3b76da){super['destroy'](_0x3b76da),_0x3b76da['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x567b93){const _0x4246d7=_0x567b93['device'];super['unlock'](_0x4246d7,_0x567b93['usage'],_0x4246d7['gl']['ARRAY_BUFF'+'ER'],_0x567b93['storage']);}}class qT extends jy{constructor(_0x568f8a){super();const _0x4d9c80=_0x568f8a['device']['gl'],_0x32f1c4=_0x568f8a['format'];_0x32f1c4===$f?this['glFormat']=_0x4d9c80['UNSIGNED_B'+'YTE']:_0x32f1c4===Yi?this['glFormat']=_0x4d9c80['UNSIGNED_S'+'HORT']:_0x32f1c4===wr&&(this['glFormat']=_0x4d9c80['UNSIGNED_I'+'NT']);}['unlock'](_0x46ad76){const _0x13ca80=_0x46ad76['device'];super['unlock'](_0x13ca80,_0x46ad76['usage'],_0x13ca80['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x46ad76['storage']);}}class jT{constructor(_0x20137c,_0xb181a6,_0x3f4846,_0x321dc0){if(this['locationId']=_0x321dc0,this['scopeId']=_0x20137c['scope']['resolve'](_0xb181a6),this['version']=new Uy(),_0xb181a6['substring'](_0xb181a6['length']-(-0x1966+-0x2443+0x1ed6*0x2))==='[0]')switch(_0x3f4846){case Xs:_0x3f4846=ud;break;case _a:_0x3f4846=Bn;break;case Fn:_0x3f4846=_d;break;case Tn:_0x3f4846=gd;break;case ga:_0x3f4846=pd;break;case ca:_0x3f4846=zn;break;case Nn:_0x3f4846=Sd;break;case tl:_0x3f4846=yd;break;case ds:_0x3f4846=md;break;case ha:_0x3f4846=Vn;break;case kn:_0x3f4846=vd;break;case sl:_0x3f4846=xd;break;case Rn:_0x3f4846=Lp;break;case da:_0x3f4846=gh;break;case Un:_0x3f4846=Rp;break;case il:_0x3f4846=Op;break;}this['dataType']=_0x3f4846,this['value']=[null,null,null,null],this['array']=[];}}let l_=0x8*0x1a5+0x880+0x7*-0x318;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x2abf01){this['map']['forEach'](_0x5f0344=>{_0x2abf01['gl']['deleteShad'+'er'](_0x5f0344);});}['loseContex'+'t'](_0x470027){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x54668b){h(this,'compileDur'+'ation',0x6b*-0x46+0x405+-0x1f1*-0xd),(this['init'](),this['compile'](_0x54668b['device'],_0x54668b),this['link'](_0x54668b['device'],_0x54668b),_0x54668b['device']['shaders']['push'](_0x54668b));}['destroy'](_0xeb1dae){this['glProgram']&&(_0xeb1dae['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x450345,_0x238a9d){this['compile'](_0x450345,_0x238a9d),this['link'](_0x450345,_0x238a9d);}['compile'](_0x40ab55,_0x4aa925){const _0x1dfbd6=_0x4aa925['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x40ab55,_0x1dfbd6['vshader'],!(-0x1c72+0x2168*0x1+-0x4f6)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x40ab55,_0x1dfbd6['fshader'],!(-0x1a*-0x156+-0x17b*0x15+0x2*-0x1d2));}['link'](_0x4049b9,_0xb86470){if(this['glProgram'])return;const _0xd54026=_0x4049b9['gl'];if(_0xd54026['isContextL'+'ost']())return;let _0x4051e3=-0x7*-0x472+-0x131e+-0x400*0x3;w['call'](()=>{this['compileDur'+'ation']=-0x15cd+-0x22b1*-0x1+-0xce4,_0x4051e3=de();});const _0x235ac0=_0xd54026['createProg'+'ram']();this['glProgram']=_0x235ac0,_0xd54026['attachShad'+'er'](_0x235ac0,this['glVertexSh'+'ader']),_0xd54026['attachShad'+'er'](_0x235ac0,this['glFragment'+'Shader']);const _0x304404=_0xb86470['definition'],_0x385e6b=_0x304404['attributes'];if(_0x304404['useTransfo'+'rmFeedback']){const _0x17b7be=[];for(const _0x3093c3 in _0x385e6b)_0x385e6b['hasOwnProp'+'erty'](_0x3093c3)&&_0x17b7be['push']('out_'+_0x3093c3);_0xd54026['transformF'+'eedbackVar'+'yings'](_0x235ac0,_0x17b7be,_0xd54026['INTERLEAVE'+'D_ATTRIBS']);}const _0x5eb8e9={};for(const _0x9e8e1 in _0x385e6b)if(_0x385e6b['hasOwnProp'+'erty'](_0x9e8e1)){const _0x3c1763=_0x385e6b[_0x9e8e1],_0x2591e3=Le[_0x3c1763];w['assert'](!_0x5eb8e9['hasOwnProp'+'erty'](_0x2591e3),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x5eb8e9[_0x2591e3]+'\x20and\x20'+_0x9e8e1),_0x5eb8e9[_0x2591e3]=_0x9e8e1,_0xd54026['bindAttrib'+'Location'](_0x235ac0,_0x2591e3,_0x9e8e1);}_0xd54026['linkProgra'+'m'](_0x235ac0),w['call'](()=>{this['compileDur'+'ation']=de()-_0x4051e3;}),_0x4049b9['_shaderSta'+'ts']['linked']++,_0x304404['tag']===Sy&&_0x4049b9['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x347a41,_0x522abc,_0x5c48ab){const _0x4a1dab=_0x347a41['gl'];if(_0x4a1dab['isContextL'+'ost']())return null;const _0x472cd4=(_0x5c48ab?ZT:QT)['get'](_0x347a41,()=>new KT());let _0x32709a=_0x472cd4['map']['get'](_0x522abc);if(!_0x32709a){const _0x1032c7=de();_0x347a41['fire']('shader:com'+'pile:start',{'timestamp':_0x1032c7,'target':_0x347a41}),_0x32709a=_0x4a1dab['createShad'+'er'](_0x5c48ab?_0x4a1dab['VERTEX_SHA'+'DER']:_0x4a1dab['FRAGMENT_S'+'HADER']),_0x4a1dab['shaderSour'+'ce'](_0x32709a,_0x522abc),_0x4a1dab['compileSha'+'der'](_0x32709a),_0x472cd4['map']['set'](_0x522abc,_0x32709a);const _0x2f78e7=de();_0x347a41['fire']('shader:com'+'pile:end',{'timestamp':_0x2f78e7,'target':_0x347a41}),_0x347a41['_shaderSta'+'ts']['compileTim'+'e']+=_0x2f78e7-_0x1032c7,_0x5c48ab?_0x347a41['_shaderSta'+'ts']['vsCompiled']++:_0x347a41['_shaderSta'+'ts']['fsCompiled']++;}return _0x32709a;}['finalize'](_0x1386e2,_0x433e3e){var _0x830cf2,_0x3ee733;const _0x101037=_0x1386e2['gl'];if(_0x101037['isContextL'+'ost']())return!(-0x1*-0x259d+-0x119*0x17+-0xc5e);const _0x485375=this['glProgram'],_0x2e32c8=_0x433e3e['definition'],_0x53b6a5=de();_0x1386e2['fire']('shader:lin'+'k:start',{'timestamp':_0x53b6a5,'target':_0x1386e2});let _0x25d5c8=0x5de*-0x6+0x1*0x1a07+-0x105*-0x9;if(w['call'](()=>{_0x25d5c8=de();}),!_0x101037['getProgram'+'Parameter'](_0x485375,_0x101037['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x1386e2,_0x433e3e,this['glVertexSh'+'ader'],_0x2e32c8['vshader'],'vertex')||!this['_isCompile'+'d'](_0x1386e2,_0x433e3e,this['glFragment'+'Shader'],_0x2e32c8['fshader'],'fragment'))return!(0x17*0x9f+-0x20b*0x1+-0x1*0xc3d);const _0x472db9='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x101037['getProgram'+'InfoLog'](_0x485375);return _0x2e32c8['translated'+'Frag']=(_0x830cf2=_0x101037['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x799*-0x1+0x1*-0x19+0x3d9*0x2):_0x830cf2['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x2e32c8['translated'+'Vert']=(_0x3ee733=_0x101037['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xe0+0x30d+-0x22d):_0x3ee733['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x472db9,_0x2e32c8),console['error'](_0x472db9),!(0x41*0x59+-0x907+-0xd91);}const _0x192bb1=_0x101037['getProgram'+'Parameter'](_0x485375,_0x101037['ACTIVE_ATT'+'RIBUTES']);_0x433e3e['attributes']['clear']();for(let _0x20d9cd=-0x10d*-0x25+0x1225+-0x1302*0x3;_0x20d9cd<_0x192bb1;_0x20d9cd++){const _0xd4eebb=_0x101037['getActiveA'+'ttrib'](_0x485375,_0x20d9cd),_0x5e0b8c=_0x101037['getAttribL'+'ocation'](_0x485375,_0xd4eebb['name']);YT['has'](_0xd4eebb['name'])||(_0x2e32c8['attributes'][_0xd4eebb['name']]===void(-0x3*-0x25+0x29*0x6b+-0x1192)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xd4eebb['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x433e3e['label']+']',_0x433e3e),_0x433e3e['failed']=!(0x12bb+0x18b7*-0x1+0x5fc)):_0x433e3e['attributes']['set'](_0x5e0b8c,_0xd4eebb['name']));}const _0x496887=_0x1386e2['_samplerTy'+'pes'],_0x3c4791=_0x101037['getProgram'+'Parameter'](_0x485375,_0x101037['ACTIVE_UNI'+'FORMS']);for(let _0x28a9fc=-0x1f*0x8b+0xeff+0x1d6;_0x28a9fc<_0x3c4791;_0x28a9fc++){const _0x1236ee=_0x101037['getActiveU'+'niform'](_0x485375,_0x28a9fc),_0xef3544=_0x101037['getUniform'+'Location'](_0x485375,_0x1236ee['name']),_0x3238dc=new jT(_0x1386e2,_0x1236ee['name'],_0x1386e2['pcUniformT'+'ype'][_0x1236ee['type']],_0xef3544);_0x496887['has'](_0x1236ee['type'])?this['samplers']['push'](_0x3238dc):this['uniforms']['push'](_0x3238dc);}_0x433e3e['ready']=!(-0x19ae+0x12a*-0x20+0x3eee);const _0x41512c=de();return _0x1386e2['fire']('shader:lin'+'k:end',{'timestamp':_0x41512c,'target':_0x1386e2}),_0x1386e2['_shaderSta'+'ts']['compileTim'+'e']+=_0x41512c-_0x53b6a5,w['call'](()=>{const _0x2b7172=de()-_0x25d5c8;this['compileDur'+'ation']+=_0x2b7172,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x433e3e['id']+']\x20'+_0x433e3e['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0xb60+-0x4f6+-0x669)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x1*0x426+-0x5ff*0x2+0x7d9)+'ms');}),!(0x2a7+-0x112*-0x20+-0xc9*0x2f);}['_isCompile'+'d'](_0x142ca0,_0x805655,_0xa8702b,_0x7d3894,_0x3f2acc){const _0x51b039=_0x142ca0['gl'];if(!_0x51b039['getShaderP'+'arameter'](_0xa8702b,_0x51b039['COMPILE_ST'+'ATUS'])){const _0x23e0fd=_0x51b039['getShaderI'+'nfoLog'](_0xa8702b),[_0x2fa518,_0x554b39]=this['_processEr'+'ror'](_0x7d3894,_0x23e0fd),_0x3edcf0='Failed\x20to\x20'+'compile\x20'+_0x3f2acc+'\x20shader:\x0a\x0a'+_0x23e0fd+'\x0a'+_0x2fa518+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x554b39['shader']=_0x805655,console['error'](_0x3edcf0,_0x554b39),console['error'](_0x3edcf0),!(0x168+0x950*-0x1+0x5*0x195);}return!(-0x7*0x3d+-0x15d7+0x3*0x7d6);}['isLinked'](_0x1e1275){const {extParallelShaderCompile:_0xe68f96}=_0x1e1275;return _0xe68f96?_0x1e1275['gl']['getProgram'+'Parameter'](this['glProgram'],_0xe68f96['COMPLETION'+'_STATUS_KH'+'R']):!(0x18d3+0x1317+-0x2bea);}['_processEr'+'ror'](_0x65e92b,_0x439668){const _0x9e45ff={};let _0x5c77ce='';if(_0x65e92b){const _0x69ba60=_0x65e92b['split']('\x0a');let _0x20a35a=0x5df*-0x2+0x1c7e+-0x10c0,_0x29c7ab=_0x69ba60['length'];if(_0x439668&&_0x439668['startsWith']('ERROR:')){const _0x515f61=_0x439668['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x515f61&&(_0x9e45ff['message']=_0x515f61[-0xb*-0x2cf+-0x185b*-0x1+-0x373d*0x1],_0x9e45ff['line']=parseInt(_0x515f61[-0xbae+-0x1bd*-0xb+-0x76f*0x1],0xff2+0x2*-0x1dc+0x68*-0x1e),_0x20a35a=Math['max'](-0x1451+0x5e6+0xe6b,_0x9e45ff['line']-(-0x767+-0x1*0x2472+-0x2bdf*-0x1)),_0x29c7ab=Math['min'](_0x69ba60['length'],_0x9e45ff['line']+(0x201+-0x4f*-0x35+0x3ab*-0x5)));}for(let _0x280d6e=_0x20a35a;_0x280d6e<_0x29c7ab;_0x280d6e++){const _0x554206=_0x280d6e+(-0x53*-0x1+-0x312*-0x6+-0x12be)===_0x9e45ff['line']?'>\x20':'\x20\x20';_0x5c77ce+=''+_0x554206+(_0x280d6e+(-0x18c8+-0x2029+0x38f2))+':\x09'+_0x69ba60[_0x280d6e]+'\x0a';}_0x9e45ff['source']=_0x65e92b;}return[_0x5c77ce,_0x9e45ff];}}function c_(_0x4da709,_0x23825e){const _0x56ab6c=_0x4da709['width'],_0x2aeb9d=_0x4da709['height'];if(_0x56ab6c>_0x23825e||_0x2aeb9d>_0x23825e){const _0x624e83=_0x23825e/Math['max'](_0x56ab6c,_0x2aeb9d),_0x5bfbd1=Math['floor'](_0x56ab6c*_0x624e83),_0x2d7296=Math['floor'](_0x2aeb9d*_0x624e83);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x23825e+('.\x20Resizing'+'\x20from\x20')+_0x56ab6c+',\x20'+_0x2aeb9d+'\x20to\x20'+_0x5bfbd1+',\x20'+_0x2d7296+'.');const _0x1d62c2=document['createElem'+'ent']('canvas');return _0x1d62c2['width']=_0x5bfbd1,_0x1d62c2['height']=_0x2d7296,_0x1d62c2['getContext']('2d')['drawImage'](_0x4da709,0x14a5+0x14bd+0x1*-0x2962,-0x187+-0x6e4+0x86b,_0x56ab6c,_0x2aeb9d,-0xb9b*0x1+-0x223b+0x2*0x16eb,-0x1d95+-0x8b8*-0x4+-0x5*0x10f,_0x5bfbd1,_0x2d7296),_0x1d62c2;}return _0x4da709;}class ew{constructor(_0x278c7a){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x9d1+-0x81*0x9+-0x548),this['texture']=_0x278c7a;}['destroy'](_0x490b81){if(this['_glTexture']){for(let _0x58b3f4=-0xce3+-0x17ff+0x24e2;_0x58b3f4<_0x490b81['textureUni'+'ts']['length'];_0x58b3f4++){const _0x42510e=_0x490b81['textureUni'+'ts'][_0x58b3f4];for(let _0x4af5a8=0x1702+-0x10c9+0xb1*-0x9;_0x4af5a8<_0x42510e['length'];_0x4af5a8++)_0x42510e[_0x4af5a8]===this['_glTexture']&&(_0x42510e[_0x4af5a8]=null);}_0x490b81['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x27ac9b){this['dirtyParam'+'eterFlags']|=_0x27ac9b;}['initialize'](_0x4e7ef9,_0x2d108e){const _0x49cafa=_0x4e7ef9['gl'];switch(this['_glTexture']=_0x49cafa['createText'+'ure'](),this['_glTarget']=_0x2d108e['_cubemap']?_0x49cafa['TEXTURE_CU'+'BE_MAP']:_0x2d108e['_volume']?_0x49cafa['TEXTURE_3D']:_0x2d108e['array']?_0x49cafa['TEXTURE_2D'+'_ARRAY']:_0x49cafa['TEXTURE_2D'],_0x2d108e['_format']){case ty:this['_glFormat']=_0x49cafa['ALPHA'],this['_glInterna'+'lFormat']=_0x49cafa['ALPHA'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x49cafa['LUMINANCE'],this['_glInterna'+'lFormat']=_0x49cafa['LUMINANCE'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x49cafa['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x49cafa['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x49cafa['RED'],this['_glInterna'+'lFormat']=_0x49cafa['R8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x49cafa['RG'],this['_glInterna'+'lFormat']=_0x49cafa['RG8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['RGB565'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['RGB5_A1'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA4'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['RGB8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x49cafa['SRGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x49cafa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x49cafa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x49cafa['SRGB'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x49cafa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x49cafa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x4e7ef9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x49cafa['RED'],this['_glInterna'+'lFormat']=_0x49cafa['R16F'],this['_glPixelTy'+'pe']=_0x49cafa['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x49cafa['RG'],this['_glInterna'+'lFormat']=_0x49cafa['RG16F'],this['_glPixelTy'+'pe']=_0x49cafa['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['RGB16F'],this['_glPixelTy'+'pe']=_0x49cafa['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA16F'],this['_glPixelTy'+'pe']=_0x49cafa['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['RGB32F'],this['_glPixelTy'+'pe']=_0x49cafa['FLOAT'];break;case Xt:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA32F'],this['_glPixelTy'+'pe']=_0x49cafa['FLOAT'];break;case Ji:this['_glFormat']=_0x49cafa['RED'],this['_glInterna'+'lFormat']=_0x49cafa['R32F'],this['_glPixelTy'+'pe']=_0x49cafa['FLOAT'];break;case $i:this['_glFormat']=_0x49cafa['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x49cafa['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x49cafa['FLOAT'];break;case vn:this['_glFormat']=_0x49cafa['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x49cafa['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x49cafa['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x49cafa['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x49cafa['RGB'],this['_glInterna'+'lFormat']=_0x49cafa['SRGB8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x49cafa['RGBA'],this['_glInterna'+'lFormat']=_0x49cafa['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R8I'],this['_glPixelTy'+'pe']=_0x49cafa['BYTE'];break;case oy:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R8UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R16I'],this['_glPixelTy'+'pe']=_0x49cafa['SHORT'];break;case up:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R16UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R32I'],this['_glPixelTy'+'pe']=_0x49cafa['INT'];break;case Ki:this['_glFormat']=_0x49cafa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x49cafa['R32UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG8I'],this['_glPixelTy'+'pe']=_0x49cafa['BYTE'];break;case ly:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG8UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG16I'],this['_glPixelTy'+'pe']=_0x49cafa['SHORT'];break;case gp:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG16UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG32I'],this['_glPixelTy'+'pe']=_0x49cafa['INT'];break;case yp:this['_glFormat']=_0x49cafa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x49cafa['RG32UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA8I'],this['_glPixelTy'+'pe']=_0x49cafa['BYTE'];break;case cy:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA8UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA16I'],this['_glPixelTy'+'pe']=_0x49cafa['SHORT'];break;case nd:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA16UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA32I'],this['_glPixelTy'+'pe']=_0x49cafa['INT'];break;case Ue:this['_glFormat']=_0x49cafa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x49cafa['RGBA32UI'],this['_glPixelTy'+'pe']=_0x49cafa['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0xbdc+0x20a0+-0x14c3);}['upload'](_0x3584fd,_0x15666e){w['assert'](_0x15666e['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x15666e);const _0x2e4846=_0x3584fd['gl'];if(!_0x15666e['_needsUplo'+'ad']&&(_0x15666e['_needsMipm'+'apsUpload']&&_0x15666e['_mipmapsUp'+'loaded']||!_0x15666e['pot']))return;let _0x81bad1=-0x1c1+-0xf9b+0x1*0x115c,_0x34110b,_0x4c010c;const _0x44a042=_0x15666e['numLevels'];for(_0x15666e['array']&&_0x2e4846['texStorage'+'3D'](_0x2e4846['TEXTURE_2D'+'_ARRAY'],_0x44a042,this['_glInterna'+'lFormat'],_0x15666e['_width'],_0x15666e['_height'],_0x15666e['_arrayLeng'+'th']);_0x15666e['_levels'][_0x81bad1]||_0x81bad1===-0x5c9*-0x2+0x773*0x4+0x1*-0x295e;){if(!_0x15666e['_needsUplo'+'ad']&&_0x81bad1===0x11d7+0xb38+-0x1d0f){_0x81bad1++;continue;}else{if(_0x81bad1&&(!_0x15666e['_needsMipm'+'apsUpload']||!_0x15666e['_mipmaps']))break;}if(_0x34110b=_0x15666e['_levels'][_0x81bad1],_0x4c010c=(-0x7*0x1e3+-0xb66+-0x384*-0x7)/Math['pow'](-0x1*-0x1592+0x2327+-0x38b7,_0x81bad1),_0x81bad1===0xdc6+0x79*0x29+-0x2126&&!_0x15666e['_compresse'+'d']&&!_0x15666e['_integerFo'+'rmat']&&_0x15666e['_levels']['length']<_0x44a042&&(_0x2e4846['generateMi'+'pmap'](this['_glTarget']),_0x15666e['_mipmapsUp'+'loaded']=!(0x105f+-0x2fe*0x2+-0xa63*0x1)),_0x15666e['_cubemap']){let _0x50d6f8;if(_0x3584fd['_isBrowser'+'Interface'](_0x34110b[-0x1be7+0x1*-0x9fe+-0x59*-0x6d]))for(_0x50d6f8=-0x1*0x151b+0x223*-0x3+-0x1b84*-0x1;_0x50d6f8<-0x4c5+0xdd6+0x90b*-0x1;_0x50d6f8++){if(!_0x15666e['_levelsUpd'+'ated'][0x1*0x3+0xc23*0x1+-0xc26][_0x50d6f8])continue;let _0x57ab84=_0x34110b[_0x50d6f8];_0x3584fd['_isImageBr'+'owserInter'+'face'](_0x57ab84)&&(_0x57ab84['width']>_0x3584fd['maxCubeMap'+'Size']||_0x57ab84['height']>_0x3584fd['maxCubeMap'+'Size'])&&(_0x57ab84=c_(_0x57ab84,_0x3584fd['maxCubeMap'+'Size']),_0x81bad1===0xa6d+-0xb3*0x1a+-0x7c1*-0x1&&(_0x15666e['_width']=_0x57ab84['width'],_0x15666e['_height']=_0x57ab84['height'])),_0x3584fd['setUnpackF'+'lipY'](!(0x30*-0xa8+-0x96b+0x28ec)),_0x3584fd['setUnpackP'+'remultiply'+'Alpha'](_0x15666e['_premultip'+'lyAlpha']),this['_glCreated']?_0x2e4846['texSubImag'+'e2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,-0x7c0+-0xda4+0x1564*0x1,-0x199*-0x3+0x1*0xc6b+0x89b*-0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x57ab84):_0x2e4846['texImage2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x57ab84);}else for(_0x4c010c=(-0x438+-0x291+0x6ca)/Math['pow'](0x1434+-0x2b*0x11+-0x1157,_0x81bad1),_0x50d6f8=-0x1570+0x79*0x2+0x147e;_0x50d6f8<0xe99+-0x209a+0x1207;_0x50d6f8++){if(!_0x15666e['_levelsUpd'+'ated'][-0x22e4+-0x2*-0x3bd+0x1b6a][_0x50d6f8])continue;const _0x92d7b9=_0x34110b[_0x50d6f8];_0x15666e['_compresse'+'d']?this['_glCreated']&&_0x92d7b9?_0x2e4846['compressed'+'TexSubImag'+'e2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,0x1bea+-0x57b+-0x166f,0x1118+0x5*-0x645+0xe41,Math['max'](_0x15666e['_width']*_0x4c010c,0x4*-0x490+-0x4a3*-0x3+0x458*0x1),Math['max'](_0x15666e['_height']*_0x4c010c,-0x75d+-0x1*0x53+0xb*0xb3),this['_glInterna'+'lFormat'],_0x92d7b9):_0x2e4846['compressed'+'TexImage2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](_0x15666e['_width']*_0x4c010c,-0x77*0x34+-0xd64+-0x1*-0x2591),Math['max'](_0x15666e['_height']*_0x4c010c,0x153a+0x14*0xdf+0x1*-0x26a5),-0x6c5*-0x4+0x1*0x2079+-0x1*0x3b8d,_0x92d7b9):(_0x3584fd['setUnpackF'+'lipY'](!(-0x112d+0x1*-0x1b13+0x2c41*0x1)),_0x3584fd['setUnpackP'+'remultiply'+'Alpha'](_0x15666e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x92d7b9?_0x2e4846['texSubImag'+'e2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,0x15e6*0x1+0x438+-0x1a1e*0x1,0xfa*0x1d+0x98e+-0x25e0,Math['max'](_0x15666e['_width']*_0x4c010c,0x2c1+-0x3*0x22d+-0x3c7*-0x1),Math['max'](_0x15666e['_height']*_0x4c010c,0x490+-0x2*0xdce+-0x15*-0x119),this['_glFormat'],this['_glPixelTy'+'pe'],_0x92d7b9):_0x2e4846['texImage2D'](_0x2e4846['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x50d6f8,_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](_0x15666e['_width']*_0x4c010c,0x10*-0x74+0x236*0x5+-0x3cd),Math['max'](_0x15666e['_height']*_0x4c010c,-0x1d0+0x15d2+-0x1401),0xa7f*0x2+0x4*-0x207+-0xce2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x92d7b9));}}else{if(_0x15666e['_volume'])_0x15666e['_compresse'+'d']?_0x2e4846['compressed'+'TexImage3D'](_0x2e4846['TEXTURE_3D'],_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](_0x15666e['_width']*_0x4c010c,0x12d7+0x1*-0xe99+0x9b*-0x7),Math['max'](_0x15666e['_height']*_0x4c010c,0x42*0x84+0x241*-0xb+0x314*-0x3),Math['max'](_0x15666e['_depth']*_0x4c010c,0x135f+-0x1*-0x125e+-0x25bc),0x1*0x62d+-0x5b1+0x3e*-0x2,_0x34110b):(_0x3584fd['setUnpackF'+'lipY'](!(-0xa0*-0x2e+0x1c26+0x5*-0xb61)),_0x3584fd['setUnpackP'+'remultiply'+'Alpha'](_0x15666e['_premultip'+'lyAlpha']),_0x2e4846['texImage3D'](_0x2e4846['TEXTURE_3D'],_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](_0x15666e['_width']*_0x4c010c,-0x379+-0x2*0xd5f+-0xf1c*-0x2),Math['max'](_0x15666e['_height']*_0x4c010c,0x2628+0x2648+-0x11*0x47f),Math['max'](_0x15666e['_depth']*_0x4c010c,0x1e+-0x4f0+-0x5f*-0xd),0x7*0x3ff+0x72*0x1f+-0x29c7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b));else{if(_0x15666e['array']&&typeof _0x34110b=='object'){if(_0x15666e['_arrayLeng'+'th']===_0x34110b['length']){if(_0x15666e['_compresse'+'d']){for(let _0x5aba89=-0x1df3+-0x19*0xf1+0x357c;_0x5aba89<_0x15666e['_arrayLeng'+'th'];_0x5aba89++)_0x2e4846['compressed'+'TexSubImag'+'e3D'](_0x2e4846['TEXTURE_2D'+'_ARRAY'],_0x81bad1,0x867+-0x1f09+-0x16a2*-0x1,0x1*0x977+0x4f1+-0x4*0x39a,_0x5aba89,Math['max'](Math['floor'](_0x15666e['_width']*_0x4c010c),-0x23+-0x1b0a+0x3e2*0x7),Math['max'](Math['floor'](_0x15666e['_height']*_0x4c010c),-0x1eae+-0xa9d+0x294c),0x1*-0x40d+-0x38+0x2*0x223,this['_glInterna'+'lFormat'],_0x34110b[_0x5aba89]);}else{for(let _0x4dc66d=-0x620+0x17*0x10d+-0x120b;_0x4dc66d<_0x15666e['_arrayLeng'+'th'];_0x4dc66d++)_0x2e4846['texSubImag'+'e3D'](_0x2e4846['TEXTURE_2D'+'_ARRAY'],_0x81bad1,0x1087*-0x1+-0x58f+0x202*0xb,0x9ae*0x4+-0xbc9+-0x1aef,_0x4dc66d,Math['max'](Math['floor'](_0x15666e['_width']*_0x4c010c),-0x20c8+0xdc9*0x1+0x10*0x130),Math['max'](Math['floor'](_0x15666e['_height']*_0x4c010c),0x1fff+0x790*-0x2+-0x10de),0x797+-0xc*0x2b3+0x1*0x18ce,this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b[_0x4dc66d]);}}}else{if(_0x3584fd['_isBrowser'+'Interface'](_0x34110b)){_0x3584fd['_isImageBr'+'owserInter'+'face'](_0x34110b)&&(_0x34110b['width']>_0x3584fd['maxTexture'+'Size']||_0x34110b['height']>_0x3584fd['maxTexture'+'Size'])&&(_0x34110b=c_(_0x34110b,_0x3584fd['maxTexture'+'Size']),_0x81bad1===0x1930+0x7f6+-0x2126&&(_0x15666e['_width']=_0x34110b['width'],_0x15666e['_height']=_0x34110b['height']));const _0x10e7c5=_0x34110b['width']||_0x34110b['videoWidth'],_0x4dbb93=_0x34110b['height']||_0x34110b['videoHeigh'+'t'];_0x3584fd['setUnpackF'+'lipY'](_0x15666e['_flipY']),_0x3584fd['setUnpackP'+'remultiply'+'Alpha'](_0x15666e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x15666e['_width']===_0x10e7c5&&_0x15666e['_height']===_0x4dbb93&&!_0x3584fd['_isImageVi'+'deoInterfa'+'ce'](_0x34110b)?_0x2e4846['texSubImag'+'e2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,-0x1a6*0xb+-0xffa+0xec*0x25,-0xad2+0x2616+-0xda2*0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b):(_0x2e4846['texImage2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b),_0x81bad1===0x47+-0x24de+0x2497&&(_0x15666e['_width']=_0x10e7c5,_0x15666e['_height']=_0x4dbb93));}else _0x4c010c=(0x1*-0x11b9+0xa1*-0x1f+0x2539)/Math['pow'](-0x479*-0x2+0x1aea+-0x23da,_0x81bad1),_0x15666e['_compresse'+'d']?this['_glCreated']&&_0x34110b?_0x2e4846['compressed'+'TexSubImag'+'e2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,-0x1*-0x20e7+-0x106e+-0x1079,0x6e1+-0x1de+0x1*-0x503,Math['max'](Math['floor'](_0x15666e['_width']*_0x4c010c),-0x2*-0xb7+-0x1f7*0xb+-0x50c*-0x4),Math['max'](Math['floor'](_0x15666e['_height']*_0x4c010c),-0x96b*0x1+0xb2a+-0x1be),this['_glInterna'+'lFormat'],_0x34110b):_0x2e4846['compressed'+'TexImage2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x15666e['_width']*_0x4c010c),0x4f*-0x2b+0x2a5*-0x7+-0x1*-0x1fc9),Math['max'](Math['floor'](_0x15666e['_height']*_0x4c010c),0x14e9+-0x24e+0x2*-0x94d),-0x1fbd+-0x1fb3+-0x1c*-0x244,_0x34110b):(_0x3584fd['setUnpackF'+'lipY'](!(-0x144d*-0x1+-0x2*0x38a+-0x8d*0x18)),_0x3584fd['setUnpackP'+'remultiply'+'Alpha'](_0x15666e['_premultip'+'lyAlpha']),this['_glCreated']&&_0x34110b?_0x2e4846['texSubImag'+'e2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,0x1e81*0x1+-0x220*-0x4+-0x5*0x7cd,0xab9+0x1c8b+-0x2744,Math['max'](_0x15666e['_width']*_0x4c010c,0xa02+-0x9a+-0x1d*0x53),Math['max'](_0x15666e['_height']*_0x4c010c,0x10f7*0x1+-0x5*-0x61a+-0x17bc*0x2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b):_0x2e4846['texImage2D'](_0x2e4846['TEXTURE_2D'],_0x81bad1,this['_glInterna'+'lFormat'],Math['max'](_0x15666e['_width']*_0x4c010c,0x2*-0x11bd+0x1*0x124b+0x1130),Math['max'](_0x15666e['_height']*_0x4c010c,-0x7e1*0x1+-0x8f8+0x10da),-0x1104+0x1bec+0x2*-0x574,this['_glFormat'],this['_glPixelTy'+'pe'],_0x34110b));_0x81bad1===-0x1*0xe49+-0x2*-0x2d7+0x89b?_0x15666e['_mipmapsUp'+'loaded']=!(-0x2d*0x75+0xabf+0x9d3):_0x15666e['_mipmapsUp'+'loaded']=!(0x59e+-0x1e44+0x2*0xc53);}}}_0x81bad1++;}if(_0x15666e['_needsUplo'+'ad']){if(_0x15666e['_cubemap']){for(let _0x2736b4=-0x37c+0xfae+-0xc32;_0x2736b4<0x1d1e+-0x1*-0xec9+0x2f*-0xef;_0x2736b4++)_0x15666e['_levelsUpd'+'ated'][0x23ee+-0x538+-0xf5b*0x2][_0x2736b4]=!(-0x223c+0x2*-0x58+0x22ed*0x1);}else _0x15666e['_levelsUpd'+'ated'][-0x12a0+-0x272*-0x8+0x28*-0x6]=!(-0x1*0x1b3e+0xfc4+0xb7b*0x1);}!_0x15666e['_compresse'+'d']&&!_0x15666e['_integerFo'+'rmat']&&_0x15666e['_mipmaps']&&_0x15666e['_needsMipm'+'apsUpload']&&_0x15666e['_levels']['length']===0x1*0x1b7+0xa51+-0xc07&&(_0x2e4846['generateMi'+'pmap'](this['_glTarget']),_0x15666e['_mipmapsUp'+'loaded']=!(-0x2180+-0x2*-0xbf5+0x996)),_0x15666e['_gpuSize']&&_0x15666e['adjustVram'+'SizeTracki'+'ng'](_0x3584fd['_vram'],-_0x15666e['_gpuSize']),_0x15666e['_gpuSize']=_0x15666e['gpuSize'],_0x15666e['adjustVram'+'SizeTracki'+'ng'](_0x3584fd['_vram'],_0x15666e['_gpuSize']),this['_glCreated']=!(0x252f*-0x1+-0x16d6+0x893*0x7);}['read'](_0x13b868,_0x336f07,_0x5f3255,_0x13d188,_0x3409e3){const _0x4baaff=this['texture'];return _0x4baaff['device']['readTextur'+'eAsync'](_0x4baaff,_0x13b868,_0x336f07,_0x5f3255,_0x13d188,_0x3409e3);}['write'](_0x2a6804,_0x4a25d8,_0x11f039,_0x5a2a37,_0x5511ef){const {texture:_0xe86d9c}=this,{device:_0x150db8}=_0xe86d9c;return _0x150db8['setTexture'](_0xe86d9c,0x1e21+0x1cf8+0x13b3*-0x3),_0x150db8['writeTextu'+'reAsync'](_0xe86d9c,_0x2a6804,_0x4a25d8,_0x11f039,_0x5a2a37,_0x5511ef);}}class tw{constructor(_0x3c822a,_0x5d205e){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x3c822a,this['resolveFB']=_0x5d205e);}['destroy'](_0x53f44f){this['msaaFB']&&(_0x53f44f['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x53f44f['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x2d*-0x94+-0x633+-0x13d0));}['destroy'](_0x2d5007){var _0x267e92;const _0x4e6146=_0x2d5007['gl'];this['_isInitial'+'ized']=!(-0x20b0+0x1a7d+0x634),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x4e6146['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x4e6146['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x4e6146['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x5a8014=>{_0x4e6146['deleteRend'+'erbuffer'](_0x5a8014);}),this['_glMsaaCol'+'orBuffers']['length']=-0x2385+-0x2112+-0x79f*-0x9,(_0x267e92=this['colorMrtFr'+'amebuffers'])==null||_0x267e92['forEach'](_0x29418e=>{_0x29418e['destroy'](_0x4e6146);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x2d5007)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x20ed+0xd*-0x189+0x78e*0x7);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x3f76c1,_0x2bb9d5){var _0x2f8f1c,_0x533daa;const _0x3f5275=_0x3f76c1['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1f82+-0xbc7+-0x13bb);const _0x357139=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x132d+-0x11c8+-0x165))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x2bb9d5['width']<=-0x1f48+-0x996+0x28de||_0x2bb9d5['height']<=0x1c8d+-0xed*0x27+0x78e)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x2bb9d5['width']+'\x20x\x20'+_0x2bb9d5['height'],_0x2bb9d5);}),this['_glFrameBu'+'ffer']=_0x3f5275['createFram'+'ebuffer'](),_0x3f76c1['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x48f87=((_0x2f8f1c=_0x2bb9d5['_colorBuff'+'ers'])==null?void(-0x4c6+0x75c*0x3+-0x114e):_0x2f8f1c['length'])??0x137a+0x28*0xaa+-0x2e0a,_0x155659=_0x3f5275['COLOR_ATTA'+'CHMENT0'];for(let _0x20f9bc=-0x1*0x10cb+0x1716+0x1*-0x64b;_0x20f9bc<_0x48f87;++_0x20f9bc){const _0x1a3f79=_0x2bb9d5['getColorBu'+'ffer'](_0x20f9bc);_0x1a3f79&&(_0x1a3f79['impl']['_glTexture']||(_0x1a3f79['_width']=Math['min'](_0x1a3f79['width'],_0x3f76c1['maxRenderB'+'ufferSize']),_0x1a3f79['_height']=Math['min'](_0x1a3f79['height'],_0x3f76c1['maxRenderB'+'ufferSize']),_0x3f76c1['setTexture'](_0x1a3f79,0x1e5e+-0x1b4d+0x5*-0x9d)),_0x3f5275['framebuffe'+'rTexture2D'](_0x3f5275['FRAMEBUFFE'+'R'],_0x155659+_0x20f9bc,_0x1a3f79['_cubemap']?_0x3f5275['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2bb9d5['_face']:_0x3f5275['TEXTURE_2D'],_0x1a3f79['impl']['_glTexture'],_0x2bb9d5['mipLevel']),_0x357139['push'](_0x155659+_0x20f9bc));}_0x3f5275['drawBuffer'+'s'](_0x357139);const _0x4551e9=_0x2bb9d5['_depthBuff'+'er'];if(_0x4551e9||_0x2bb9d5['_depth']){const _0x1d282f=_0x2bb9d5['_stencil']?_0x3f5275['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3f5275['DEPTH_ATTA'+'CHMENT'];if(_0x4551e9)_0x4551e9['impl']['_glTexture']||(_0x4551e9['_width']=Math['min'](_0x4551e9['width'],_0x3f76c1['maxRenderB'+'ufferSize']),_0x4551e9['_height']=Math['min'](_0x4551e9['height'],_0x3f76c1['maxRenderB'+'ufferSize']),_0x3f76c1['setTexture'](_0x4551e9,-0x14*0x25+-0x2*-0xa3+0x9*0x2e)),_0x3f5275['framebuffe'+'rTexture2D'](_0x3f5275['FRAMEBUFFE'+'R'],_0x1d282f,_0x4551e9['_cubemap']?_0x3f5275['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2bb9d5['_face']:_0x3f5275['TEXTURE_2D'],_0x2bb9d5['_depthBuff'+'er']['impl']['_glTexture'],_0x2bb9d5['mipLevel']);else{if(!(_0x2bb9d5['_samples']>-0x28c+-0x1*0x1381+0x6*0x3ad)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x3f5275['createRend'+'erbuffer']());const _0x7905a5=_0x2bb9d5['_stencil']?_0x3f5275['DEPTH24_ST'+'ENCIL8']:_0x3f5275['DEPTH_COMP'+'ONENT32F'];_0x3f5275['bindRender'+'buffer'](_0x3f5275['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3f5275['renderbuff'+'erStorage'](_0x3f5275['RENDERBUFF'+'ER'],_0x7905a5,_0x2bb9d5['width'],_0x2bb9d5['height']),_0x3f5275['framebuffe'+'rRenderbuf'+'fer'](_0x3f5275['FRAMEBUFFE'+'R'],_0x1d282f,_0x3f5275['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3f5275['bindRender'+'buffer'](_0x3f5275['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x3f76c1,_0x2bb9d5));}if(_0x2bb9d5['_samples']>-0x307+-0x1489+-0x1791*-0x1){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x3f5275['createFram'+'ebuffer'](),_0x3f76c1['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x12e86e=((_0x533daa=_0x2bb9d5['_colorBuff'+'ers'])==null?void(-0x2c*-0x61+0xc1*-0x1d+0x1*0x531):_0x533daa['length'])??0x68*0x41+0x17b9+-0x3221;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x44*-0x1d+0x251b+-0x1d67)){const _0x6e1f53=_0x3f5275['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x6e1f53);const _0x1d8893=_0x3f76c1['backBuffer'+'Format']===Ne?_0x3f5275['RGBA8']:_0x3f5275['RGB8'];_0x3f5275['bindRender'+'buffer'](_0x3f5275['RENDERBUFF'+'ER'],_0x6e1f53),_0x3f5275['renderbuff'+'erStorageM'+'ultisample'](_0x3f5275['RENDERBUFF'+'ER'],_0x2bb9d5['_samples'],_0x1d8893,_0x2bb9d5['width'],_0x2bb9d5['height']),_0x3f5275['framebuffe'+'rRenderbuf'+'fer'](_0x3f5275['FRAMEBUFFE'+'R'],_0x3f5275['COLOR_ATTA'+'CHMENT0'],_0x3f5275['RENDERBUFF'+'ER'],_0x6e1f53);}else for(let _0x17fadd=0x253b+-0x497+-0x20a4;_0x17fadd<_0x12e86e;++_0x17fadd){const _0x105722=_0x2bb9d5['getColorBu'+'ffer'](_0x17fadd);if(_0x105722){const _0x51d280=_0x3f5275['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x51d280),_0x3f5275['bindRender'+'buffer'](_0x3f5275['RENDERBUFF'+'ER'],_0x51d280),_0x3f5275['renderbuff'+'erStorageM'+'ultisample'](_0x3f5275['RENDERBUFF'+'ER'],_0x2bb9d5['_samples'],_0x105722['impl']['_glInterna'+'lFormat'],_0x2bb9d5['width'],_0x2bb9d5['height']),_0x3f5275['framebuffe'+'rRenderbuf'+'fer'](_0x3f5275['FRAMEBUFFE'+'R'],_0x3f5275['COLOR_ATTA'+'CHMENT0']+_0x17fadd,_0x3f5275['RENDERBUFF'+'ER'],_0x51d280);}}if(_0x2bb9d5['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x8ee006=_0x2bb9d5['_stencil']?_0x3f5275['DEPTH24_ST'+'ENCIL8']:_0x3f5275['DEPTH_COMP'+'ONENT32F'],_0x4a8784=_0x2bb9d5['_stencil']?_0x3f5275['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3f5275['DEPTH_ATTA'+'CHMENT'];let _0x57135e;const _0x2d60f8=_0x2bb9d5['_depthBuff'+'er'];_0x2d60f8&&(_0x57135e=_0x2d60f8['id']+':'+_0x2bb9d5['width']+':'+_0x2bb9d5['height']+':'+_0x2bb9d5['_samples']+':'+_0x8ee006+':'+_0x4a8784,this['_glMsaaDep'+'thBuffer']=Fd(_0x3f76c1)['get'](_0x57135e)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x3f5275['createRend'+'erbuffer'](),_0x3f5275['bindRender'+'buffer'](_0x3f5275['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x3f5275['renderbuff'+'erStorageM'+'ultisample'](_0x3f5275['RENDERBUFF'+'ER'],_0x2bb9d5['_samples'],_0x8ee006,_0x2bb9d5['width'],_0x2bb9d5['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x3f5275['deleteRend'+'erbuffer'](this);},_0x2d60f8&&Fd(_0x3f76c1)['set'](_0x57135e,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x57135e,_0x3f5275['framebuffe'+'rRenderbuf'+'fer'](_0x3f5275['FRAMEBUFFE'+'R'],_0x4a8784,_0x3f5275['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x3f76c1,_0x2bb9d5,'MSAA')),_0x12e86e>0x3*0x96b+0x1364+-0x2fa4&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x3f76c1,_0x2bb9d5,_0x12e86e),_0x3f76c1['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x3f5275['drawBuffer'+'s'](_0x357139));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x202dbb,_0x31eab2,_0x182caf){const _0x54d524=_0x202dbb['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x4aec17=0x18e7+0x838*-0x4+-0xd*-0x9d;_0x4aec17<_0x182caf;++_0x4aec17){const _0x5360d2=_0x31eab2['getColorBu'+'ffer'](_0x4aec17),_0x3561b9=_0x54d524['createFram'+'ebuffer']();_0x202dbb['setFramebu'+'ffer'](_0x3561b9);const _0x2c9e62=this['_glMsaaCol'+'orBuffers'][_0x4aec17];_0x54d524['bindRender'+'buffer'](_0x54d524['RENDERBUFF'+'ER'],_0x2c9e62),_0x54d524['renderbuff'+'erStorageM'+'ultisample'](_0x54d524['RENDERBUFF'+'ER'],_0x31eab2['_samples'],_0x5360d2['impl']['_glInterna'+'lFormat'],_0x31eab2['width'],_0x31eab2['height']),_0x54d524['framebuffe'+'rRenderbuf'+'fer'](_0x54d524['FRAMEBUFFE'+'R'],_0x54d524['COLOR_ATTA'+'CHMENT0'],_0x54d524['RENDERBUFF'+'ER'],_0x2c9e62),_0x54d524['drawBuffer'+'s']([_0x54d524['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x202dbb,_0x31eab2,'MSAA-MRT-s'+'rc'+_0x4aec17));const _0x573ffe=_0x54d524['createFram'+'ebuffer']();_0x202dbb['setFramebu'+'ffer'](_0x573ffe),_0x54d524['framebuffe'+'rTexture2D'](_0x54d524['FRAMEBUFFE'+'R'],_0x54d524['COLOR_ATTA'+'CHMENT0'],_0x5360d2['_cubemap']?_0x54d524['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x31eab2['_face']:_0x54d524['TEXTURE_2D'],_0x5360d2['impl']['_glTexture'],-0x1183+-0x2b*0x6d+0x51e*0x7),this['colorMrtFr'+'amebuffers'][_0x4aec17]=new tw(_0x3561b9,_0x573ffe),w['call'](()=>this['_checkFbo'](_0x202dbb,_0x31eab2,'MSAA-MRT-d'+'st'+_0x4aec17));}}['_checkFbo'](_0x49b391,_0x5628f5,_0x56fbe2=''){const _0x53e40c=_0x49b391['gl'],_0x7b06a=_0x53e40c['checkFrame'+'bufferStat'+'us'](_0x53e40c['FRAMEBUFFE'+'R']);let _0x3cd4ae;switch(_0x7b06a){case _0x53e40c['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x3cd4ae='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x53e40c['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x3cd4ae='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x53e40c['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x3cd4ae='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x53e40c['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x3cd4ae='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x3cd4ae,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x3cd4ae+(',\x20render\x20t'+'arget:\x20')+_0x5628f5['name']+'\x20'+_0x56fbe2,_0x5628f5);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0xde4*-0x2+0x1*-0x1798+0x3360,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0xa6f+-0x2693+0x3102),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x4a7+-0x1ed7+-0x33a*-0xb),this['_isInitial'+'ized']=!(-0x9*0x1f+-0x1*-0xc7b+-0xb63);}['internalRe'+'solve'](_0x1b240,_0x29b54e,_0x3db631,_0x2b96a8,_0x5062d5){w['assert'](_0x29b54e!==_0x3db631,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1b240['setScissor'](-0x2043+0xb*0x1c9+-0x194*-0x8,0x318*0x2+-0x2262*-0x1+-0x2892,_0x2b96a8['width'],_0x2b96a8['height']);const _0x516883=_0x1b240['gl'];_0x516883['bindFrameb'+'uffer'](_0x516883['READ_FRAME'+'BUFFER'],_0x29b54e),_0x516883['bindFrameb'+'uffer'](_0x516883['DRAW_FRAME'+'BUFFER'],_0x3db631),_0x516883['blitFrameb'+'uffer'](-0x2*0x6c5+0x4d2+0x5d*0x18,0x1472+0x267f+-0x4f*0xbf,_0x2b96a8['width'],_0x2b96a8['height'],0x10*-0x4+-0x6ef+-0x72f*-0x1,-0x11*0x112+-0x220d+0x217*0x19,_0x2b96a8['width'],_0x2b96a8['height'],_0x5062d5,_0x516883['NEAREST']);}['resolve'](_0x565a50,_0x1af56a,_0x8d1a0,_0x39ddd1){const _0x470b9f=_0x565a50['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x8d1a0)for(let _0x295e9b=-0x2*-0xd42+-0xd1+-0x9*0x2db;_0x295e9b<this['colorMrtFr'+'amebuffers']['length'];_0x295e9b++){const _0x1107e0=this['colorMrtFr'+'amebuffers'][_0x295e9b];Q['pushGpuMar'+'ker'](_0x565a50,'RESOLVE-MR'+'T'+_0x295e9b),this['internalRe'+'solve'](_0x565a50,_0x1107e0['msaaFB'],_0x1107e0['resolveFB'],_0x1af56a,_0x470b9f['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x565a50);}_0x39ddd1&&(Q['pushGpuMar'+'ker'](_0x565a50,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x565a50,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1af56a,_0x470b9f['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x565a50));}else Q['pushGpuMar'+'ker'](_0x565a50,'RESOLVE'),this['internalRe'+'solve'](_0x565a50,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1af56a,(_0x8d1a0?_0x470b9f['COLOR_BUFF'+'ER_BIT']:-0x77b+0x245b+-0x1ce0)|(_0x39ddd1?_0x470b9f['DEPTH_BUFF'+'ER_BIT']:0xacf*0x1+0x173c+-0x220b)),Q['popGpuMark'+'er'](_0x565a50);_0x470b9f['bindFrameb'+'uffer'](_0x470b9f['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x189250){this['queries']['forEach'](_0x1cbfc9=>_0x189250['deleteQuer'+'y'](_0x1cbfc9)),this['queries']=null;}}class rw extends $T{constructor(_0x2551e3){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x2551e3,this['ext']=_0x2551e3['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x2b3682=>this['device']['gl']['deleteQuer'+'y'](_0x2b3682)),this['frameQueri'+'es']['forEach'](_0x46058f=>this['device']['gl']['deleteQuer'+'y'](_0x46058f)),this['previousFr'+'ameQueries']['forEach'](_0x56bcd0=>_0x56bcd0['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x235dc9){if(this['ext']){const _0x18d55f=this['getSlot'](_0x235dc9),_0x1b2db7=this['getQuery']();return this['frameQueri'+'es'][_0x18d55f]=_0x1b2db7,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x1b2db7),_0x18d55f;}}['end'](_0x5aedcb){_0x5aedcb!==void(0xb44+-0x1*0xf45+0x401)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x378d64=this['ext'],_0x3d8276=this['device']['gl'],_0x3154a7=this['device']['renderVers'+'ion'],_0x23cd5e=this['frameQueri'+'es'];if(_0x23cd5e['length']>0x1087*0x1+-0x155e+-0x7*-0xb1){this['frameQueri'+'es']=[];const _0x4e7429=new iw();_0x4e7429['queries']=_0x23cd5e,_0x4e7429['renderVers'+'ion']=_0x3154a7,this['previousFr'+'ameQueries']['push'](_0x4e7429);}if(this['previousFr'+'ameQueries']['length']>0x1142+-0x1*0x8db+-0x867){const _0x9f6f1=this['previousFr'+'ameQueries'][-0x101b+-0x25f+-0x127a*-0x1],_0x4d0f8b=_0x9f6f1['queries'],_0x468d4d=_0x4d0f8b[_0x4d0f8b['length']-(0x1cc9+-0xaab+-0x121d)],_0x360390=_0x3d8276['getQueryPa'+'rameter'](_0x468d4d,_0x3d8276['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x280de4=_0x3d8276['getParamet'+'er'](_0x378d64['GPU_DISJOI'+'NT_EXT']);if(_0x360390&&!_0x280de4){this['previousFr'+'ameQueries']['shift']();const _0x23abb5=this['timings'];_0x23abb5['length']=-0x1c29+0xf*0x24b+-0x63c;for(let _0x202cfb=0x147e+-0x190e*-0x1+0xdc*-0x35;_0x202cfb<_0x4d0f8b['length'];_0x202cfb++){const _0x50b510=_0x4d0f8b[_0x202cfb],_0x3eac25=_0x3d8276['getQueryPa'+'rameter'](_0x50b510,_0x3d8276['QUERY_RESU'+'LT']);_0x23abb5[_0x202cfb]=_0x3eac25*(0x46*-0x7e+-0x91e+-0x6*-0x743+0.000001),this['freeQuerie'+'s']['push'](_0x50b510);}this['report'](_0x9f6f1['renderVers'+'ion'],_0x23abb5);}_0x280de4&&(this['previousFr'+'ameQueries']['forEach'](_0x394366=>{this['report'](_0x394366['renderVers'+'ion'],null),_0x394366['destroy'](_0x3d8276);}),this['previousFr'+'ameQueries']['length']=-0x1d9d+0x1ad5*0x1+0x2c8);}super['request'](_0x3154a7);}}}const Da=[];class aw extends $e{constructor(_0x2031e9,_0x2d99ed={}){super(_0x2031e9,_0x2d99ed),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x16f1+-0x2d6+0x19c8)),(_0x2d99ed=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x1995+0x1f9d+-0x3931),this['_contextLo'+'stHandler']=_0x299974=>{_0x299974['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x3c0ebb=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x3c0ebb&&_0x3c0ebb['includes']('AppleWebKi'+'t')&&(_0x3c0ebb['includes']('15.4')||_0x3c0ebb['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x2d99ed['antialias']=!(0x9bc+-0x5*-0x473+0x2*-0xffd),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x1ab0c6=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x2247b1=_0x1ab0c6?_0x1ab0c6[-0x4c0+-0x2421+-0x1471*-0x2]:null;if(_0x2247b1){const _0x4bc22e=parseFloat(_0x2247b1);(Ae['name']==='windows'&&(_0x4bc22e>=0x140b+-0x2cd+-0x10c6||_0x4bc22e===0x1dd2+0x3*0x786+0x1*-0x33f1)||Ae['name']==='android'&&_0x4bc22e>=0x17b*0xd+-0x1e4f+0xb94)&&(_0x2d99ed['antialias']=!(0x1*-0xd1+-0x4*0x997+0x272e),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x2247b1));}}this['backBuffer'+'Antialias']=_0x2d99ed['antialias']??!(-0x15*0x146+-0x1dda+-0x1*-0x3899),_0x2d99ed['antialias']=!(-0xb2f+0x1d87+-0xf*0x139);const _0x59feff=_0x2d99ed['gl']??_0x2031e9['getContext']('webgl2',_0x2d99ed);if(!_0x59feff)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x59feff,this['isWebGL2']=!(0x11ae+0x9e6+-0x1b94),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x261fa7=Ae['browserNam'+'e']==='chrome',_0x5200af=Ae['browserNam'+'e']==='safari',_0x67e3c0=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x1*-0xfc6+-0x81*0x15+0x14c*-0x4);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x5200af,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x67e3c0&&_0x261fa7&&!_0x2d99ed['alpha'],_0x2031e9['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x16ce+-0x1c86+0x5b9)),_0x2031e9['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1*-0x1e29+-0xb2f+0x845*0x5)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x5200af&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x59feff['SAMPLER_2D'],_0x59feff['SAMPLER_CU'+'BE'],_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x59feff['INT_SAMPLE'+'R_2D'],_0x59feff['SAMPLER_2D'+'_SHADOW'],_0x59feff['SAMPLER_CU'+'BE_SHADOW'],_0x59feff['SAMPLER_3D'],_0x59feff['INT_SAMPLE'+'R_3D'],_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x59feff['SAMPLER_2D'+'_ARRAY'],_0x59feff['INT_SAMPLE'+'R_2D_ARRAY'],_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x59feff['REPEAT'],_0x59feff['CLAMP_TO_E'+'DGE'],_0x59feff['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x59feff['FUNC_ADD'],_0x59feff['FUNC_SUBTR'+'ACT'],_0x59feff['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x59feff['MIN'],_0x59feff['MAX']],this['glBlendFun'+'ctionColor']=[_0x59feff['ZERO'],_0x59feff['ONE'],_0x59feff['SRC_COLOR'],_0x59feff['ONE_MINUS_'+'SRC_COLOR'],_0x59feff['DST_COLOR'],_0x59feff['ONE_MINUS_'+'DST_COLOR'],_0x59feff['SRC_ALPHA'],_0x59feff['SRC_ALPHA_'+'SATURATE'],_0x59feff['ONE_MINUS_'+'SRC_ALPHA'],_0x59feff['DST_ALPHA'],_0x59feff['ONE_MINUS_'+'DST_ALPHA'],_0x59feff['CONSTANT_C'+'OLOR'],_0x59feff['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x59feff['ZERO'],_0x59feff['ONE'],_0x59feff['SRC_COLOR'],_0x59feff['ONE_MINUS_'+'SRC_COLOR'],_0x59feff['DST_COLOR'],_0x59feff['ONE_MINUS_'+'DST_COLOR'],_0x59feff['SRC_ALPHA'],_0x59feff['SRC_ALPHA_'+'SATURATE'],_0x59feff['ONE_MINUS_'+'SRC_ALPHA'],_0x59feff['DST_ALPHA'],_0x59feff['ONE_MINUS_'+'DST_ALPHA'],_0x59feff['CONSTANT_A'+'LPHA'],_0x59feff['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x59feff['NEVER'],_0x59feff['LESS'],_0x59feff['EQUAL'],_0x59feff['LEQUAL'],_0x59feff['GREATER'],_0x59feff['NOTEQUAL'],_0x59feff['GEQUAL'],_0x59feff['ALWAYS']],this['glStencilO'+'p']=[_0x59feff['KEEP'],_0x59feff['ZERO'],_0x59feff['REPLACE'],_0x59feff['INCR'],_0x59feff['INCR_WRAP'],_0x59feff['DECR'],_0x59feff['DECR_WRAP'],_0x59feff['INVERT']],this['glClearFla'+'g']=[-0x893+-0xec5+-0x5d6*-0x4,_0x59feff['COLOR_BUFF'+'ER_BIT'],_0x59feff['DEPTH_BUFF'+'ER_BIT'],_0x59feff['COLOR_BUFF'+'ER_BIT']|_0x59feff['DEPTH_BUFF'+'ER_BIT'],_0x59feff['STENCIL_BU'+'FFER_BIT'],_0x59feff['STENCIL_BU'+'FFER_BIT']|_0x59feff['COLOR_BUFF'+'ER_BIT'],_0x59feff['STENCIL_BU'+'FFER_BIT']|_0x59feff['DEPTH_BUFF'+'ER_BIT'],_0x59feff['STENCIL_BU'+'FFER_BIT']|_0x59feff['COLOR_BUFF'+'ER_BIT']|_0x59feff['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x3f1*-0x7+-0x2687+0x421e,_0x59feff['BACK'],_0x59feff['FRONT'],_0x59feff['FRONT_AND_'+'BACK']],this['glFilter']=[_0x59feff['NEAREST'],_0x59feff['LINEAR'],_0x59feff['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x59feff['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x59feff['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x59feff['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x59feff['POINTS'],_0x59feff['LINES'],_0x59feff['LINE_LOOP'],_0x59feff['LINE_STRIP'],_0x59feff['TRIANGLES'],_0x59feff['TRIANGLE_S'+'TRIP'],_0x59feff['TRIANGLE_F'+'AN']],this['glType']=[_0x59feff['BYTE'],_0x59feff['UNSIGNED_B'+'YTE'],_0x59feff['SHORT'],_0x59feff['UNSIGNED_S'+'HORT'],_0x59feff['INT'],_0x59feff['UNSIGNED_I'+'NT'],_0x59feff['FLOAT'],_0x59feff['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x59feff['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x59feff['INT']]=_a,this['pcUniformT'+'ype'][_0x59feff['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x59feff['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x59feff['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x59feff['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x59feff['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x59feff['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x59feff['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x59feff['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x59feff['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x59feff['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x59feff['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x59feff['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x59feff['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x59feff['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x59feff['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x59feff['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x59feff['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x59feff['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x59feff['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x59feff['TEXTURE_2D']]=-0x785+0xa2f+-0x2aa,this['targetToSl'+'ot'][_0x59feff['TEXTURE_CU'+'BE_MAP']]=0x1601+0x21d7+-0x37d7,this['targetToSl'+'ot'][_0x59feff['TEXTURE_3D']]=-0x57d*-0x5+-0x12f5*0x1+0x136*-0x7;let _0x5a3437,_0x4eae35,_0x14564d,_0x312a88,_0x32c01f;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x1eb5cf,_0x8606fa){_0x1eb5cf['value']!==_0x8606fa&&(_0x59feff['uniform1i'](_0x1eb5cf['locationId'],_0x8606fa),_0x1eb5cf['value']=_0x8606fa);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x284da5,_0x2283f6){_0x284da5['value']!==_0x2283f6&&(_0x59feff['uniform1f'](_0x284da5['locationId'],_0x2283f6),_0x284da5['value']=_0x2283f6);},this['commitFunc'+'tion'][ga]=function(_0x2d8746,_0x4be3bb){_0x32c01f=_0x2d8746['value'],_0x5a3437=_0x4be3bb[0x1*0x1884+0x243e+-0x7*0x8ae],_0x4eae35=_0x4be3bb[-0xc*0x1cb+-0x1*-0x20b5+-0xb30],(_0x32c01f[0x1d49+0x1996+-0x36df]!==_0x5a3437||_0x32c01f[-0x1440+0x1a93*0x1+0x652*-0x1]!==_0x4eae35)&&(_0x59feff['uniform2fv'](_0x2d8746['locationId'],_0x4be3bb),_0x32c01f[0x2503+-0x18ec+-0x1*0xc17]=_0x5a3437,_0x32c01f[-0x3d2*-0x1+0x4c7*0x1+0x8*-0x113]=_0x4eae35);},this['commitFunc'+'tion'][ds]=function(_0xb16df6,_0x2ae80b){_0x32c01f=_0xb16df6['value'],_0x5a3437=_0x2ae80b[0x243c+0xa9c*0x2+0x2*-0x1cba],_0x4eae35=_0x2ae80b[-0x11a*-0x1d+0x516*0x1+-0x2507],_0x14564d=_0x2ae80b[0x6f3*0x1+0x970*-0x1+0x27f],(_0x32c01f[-0xeee+0x50*0x31+-0x62]!==_0x5a3437||_0x32c01f[-0x140c+-0x12*0x1d9+0x354f]!==_0x4eae35||_0x32c01f[0x1*0x1183+-0x1*0x24c7+0x1346]!==_0x14564d)&&(_0x59feff['uniform3fv'](_0xb16df6['locationId'],_0x2ae80b),_0x32c01f[-0x1fec+0x2*0xa15+0xa*0x12d]=_0x5a3437,_0x32c01f[-0x2*-0x11f+-0xe62+-0x1*-0xc25]=_0x4eae35,_0x32c01f[0x3e1*-0x5+0x15eb+-0x284]=_0x14564d);},this['commitFunc'+'tion'][Rn]=function(_0x2f1bfe,_0x4de7f6){_0x32c01f=_0x2f1bfe['value'],_0x5a3437=_0x4de7f6[-0x3*-0x8fa+-0xf1e+-0x1b*0x70],_0x4eae35=_0x4de7f6[-0x4*0x6+0x129b*-0x2+0x254f*0x1],_0x14564d=_0x4de7f6[0x2de*0x1+0x1*-0x42d+0x151*0x1],_0x312a88=_0x4de7f6[0x51*-0x48+-0xc4a+0x2315],(_0x32c01f[0x2135+-0x609+-0x1b2c]!==_0x5a3437||_0x32c01f[-0x1*-0x919+0x43*-0x49+0xa03]!==_0x4eae35||_0x32c01f[0xe6b+0x163d+-0x24a6]!==_0x14564d||_0x32c01f[0x22c5+-0x95e+0x19*-0x104]!==_0x312a88)&&(_0x59feff['uniform4fv'](_0x2f1bfe['locationId'],_0x4de7f6),_0x32c01f[-0x182b+0x11e8+0x7*0xe5]=_0x5a3437,_0x32c01f[-0x370+0x1a7b*0x1+-0xb85*0x2]=_0x4eae35,_0x32c01f[0x5bb+-0x23e3+0x63*0x4e]=_0x14564d,_0x32c01f[0x2fe+0x2213+0x9*-0x41e]=_0x312a88);},this['commitFunc'+'tion'][ca]=function(_0x43d197,_0x573a89){_0x32c01f=_0x43d197['value'],_0x5a3437=_0x573a89[0x1557+-0x1a18+0x1*0x4c1],_0x4eae35=_0x573a89[0x1*0x21e+0x1*-0x1b4d+0x34*0x7c],(_0x32c01f[-0x5ff*-0x4+-0x1*-0x94d+-0x2149]!==_0x5a3437||_0x32c01f[0x248a+-0x12f2+-0x4f*0x39]!==_0x4eae35)&&(_0x59feff['uniform2iv'](_0x43d197['locationId'],_0x573a89),_0x32c01f[0x1*0x2471+0x1136+-0x35a7]=_0x5a3437,_0x32c01f[-0x1*-0xcba+-0x1*0x917+0x5*-0xba]=_0x4eae35);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x4a4b29,_0x157344){_0x32c01f=_0x4a4b29['value'],_0x5a3437=_0x157344[-0xdc1+-0x6b4+-0x1475*-0x1],_0x4eae35=_0x157344[0x37c+-0x266*0x1+-0x1*0x115],_0x14564d=_0x157344[-0x1c58*0x1+0x67e*-0x2+-0x8f*-0x4a],(_0x32c01f[0x1b0c+0x1*0xa7b+-0x2587]!==_0x5a3437||_0x32c01f[0x4*-0xd3+-0x1dd1*-0x1+-0x6a1*0x4]!==_0x4eae35||_0x32c01f[0x17b9*0x1+0x1f2f+-0x36e6]!==_0x14564d)&&(_0x59feff['uniform3iv'](_0x4a4b29['locationId'],_0x157344),_0x32c01f[0xfaa+-0xfb*-0x19+-0x25d*0x11]=_0x5a3437,_0x32c01f[-0x3*0xa57+-0xe*-0x10+0x1e26]=_0x4eae35,_0x32c01f[-0x611*0x1+0xcc*-0x17+0x1867]=_0x14564d);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0xe57d5a,_0x3d711b){_0x32c01f=_0xe57d5a['value'],_0x5a3437=_0x3d711b[0x781+-0x13a5*0x1+0xde*0xe],_0x4eae35=_0x3d711b[-0x20c1+-0x1*-0x231a+-0x258],_0x14564d=_0x3d711b[-0xd*0x1b1+-0x6a*-0x9+-0x1*-0x1245],_0x312a88=_0x3d711b[-0x3*-0xb9b+-0x1*-0x1ce2+-0x3fb0],(_0x32c01f[0x180+-0x1*-0x162f+-0x17af]!==_0x5a3437||_0x32c01f[-0xa*0xd+0xa67+-0x9e4]!==_0x4eae35||_0x32c01f[-0x660*0x1+0xc5f+-0x5fd]!==_0x14564d||_0x32c01f[-0x2280+0x859*-0x1+0x34*0xd3]!==_0x312a88)&&(_0x59feff['uniform4iv'](_0xe57d5a['locationId'],_0x3d711b),_0x32c01f[0x16cb+0x12d2+-0x299d]=_0x5a3437,_0x32c01f[0x2f5*-0xd+-0x4*-0x40d+0x163e]=_0x4eae35,_0x32c01f[-0x315+0x24a6+-0x218f]=_0x14564d,_0x32c01f[-0x1d13+0x1*-0x187f+0x3595]=_0x312a88);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x27829c,_0x521eab){_0x59feff['uniformMat'+'rix2fv'](_0x27829c['locationId'],!(-0x659+-0x2*-0xbed+0x1180*-0x1),_0x521eab);},this['commitFunc'+'tion'][On]=function(_0x2ca018,_0x1a9da9){_0x59feff['uniformMat'+'rix3fv'](_0x2ca018['locationId'],!(-0x44+-0x13*-0x1b7+-0x2c*0xbc),_0x1a9da9);},this['commitFunc'+'tion'][li]=function(_0x1bbb79,_0x33c808){_0x59feff['uniformMat'+'rix4fv'](_0x1bbb79['locationId'],!(0x1671+0x1bc3+-0x3233),_0x33c808);},this['commitFunc'+'tion'][ud]=function(_0x33ea44,_0x580b8b){_0x59feff['uniform1fv'](_0x33ea44['locationId'],_0x580b8b);},this['commitFunc'+'tion'][pd]=function(_0x57fc8d,_0x2a3799){_0x59feff['uniform2fv'](_0x57fc8d['locationId'],_0x2a3799);},this['commitFunc'+'tion'][md]=function(_0x2f258f,_0x55a03b){_0x59feff['uniform3fv'](_0x2f258f['locationId'],_0x55a03b);},this['commitFunc'+'tion'][Lp]=function(_0x522731,_0x18b357){_0x59feff['uniform4fv'](_0x522731['locationId'],_0x18b357);},this['commitFunc'+'tion'][Fn]=function(_0x17f649,_0x54e0c7){_0x17f649['value']!==_0x54e0c7&&(_0x59feff['uniform1ui'](_0x17f649['locationId'],_0x54e0c7),_0x17f649['value']=_0x54e0c7);},this['commitFunc'+'tion'][Nn]=function(_0x3e06e1,_0x526d42){_0x32c01f=_0x3e06e1['value'],_0x5a3437=_0x526d42[-0x23f4+-0x1*0x2041+-0x13*-0x397],_0x4eae35=_0x526d42[-0x56*-0x56+-0x8f5+-0x1*0x13ee],(_0x32c01f[-0x23b6+-0x228*-0x7+0x149e]!==_0x5a3437||_0x32c01f[0xce8+-0x241b+0x1ef*0xc]!==_0x4eae35)&&(_0x59feff['uniform2ui'+'v'](_0x3e06e1['locationId'],_0x526d42),_0x32c01f[-0x4ee*-0x3+0x79a*-0x1+-0x730]=_0x5a3437,_0x32c01f[0x123f*0x2+0x6b9*0x5+0x9*-0x7ca]=_0x4eae35);},this['commitFunc'+'tion'][kn]=function(_0x40b05e,_0x2dadd1){_0x32c01f=_0x40b05e['value'],_0x5a3437=_0x2dadd1[-0x233+0x8*-0x240+0x1*0x1433],_0x4eae35=_0x2dadd1[0x1*-0x10e4+-0x270c+0x37f1],_0x14564d=_0x2dadd1[-0x2131+0x133d+-0x6fb*-0x2],(_0x32c01f[-0x1c31*0x1+0x1fd*0x4+0x143d]!==_0x5a3437||_0x32c01f[0xd70+0x119e+-0x1f0d]!==_0x4eae35||_0x32c01f[0x13b9+0xe*0x1a+-0x1523]!==_0x14564d)&&(_0x59feff['uniform3ui'+'v'](_0x40b05e['locationId'],_0x2dadd1),_0x32c01f[0xb5*-0x18+0x3a2+-0x472*-0x3]=_0x5a3437,_0x32c01f[-0x839+0xab+0x2b*0x2d]=_0x4eae35,_0x32c01f[0x5*-0x1+-0x198*0x8+0x1*0xcc7]=_0x14564d);},this['commitFunc'+'tion'][Un]=function(_0x347687,_0x861423){_0x32c01f=_0x347687['value'],_0x5a3437=_0x861423[0x1f98*-0x1+-0x88b+-0x1*-0x2823],_0x4eae35=_0x861423[0x2489+0xa03+-0x2e8b],_0x14564d=_0x861423[0x20df+-0x13*0x1a+0x1eef*-0x1],_0x312a88=_0x861423[-0x2159*0x1+-0x12a*-0x15+0x146*0x7],(_0x32c01f[0x9*-0x41e+0x116+0x23f8]!==_0x5a3437||_0x32c01f[-0x1*0x1e0b+0xb70+-0x2*-0x94e]!==_0x4eae35||_0x32c01f[-0xa6f*-0x2+-0x14f0+0x1*0x14]!==_0x14564d||_0x32c01f[0xda*-0x10+-0x382+-0x5b7*-0x3]!==_0x312a88)&&(_0x59feff['uniform4ui'+'v'](_0x347687['locationId'],_0x861423),_0x32c01f[-0x12e*0xd+-0x4af*-0x1+-0x3*-0x38d]=_0x5a3437,_0x32c01f[0x1*0x434+0xae*-0xa+0x299]=_0x4eae35,_0x32c01f[0x171f+0x8*-0x3ff+-0x1*-0x8db]=_0x14564d,_0x32c01f[0x1f34+-0x9fe+-0x1533]=_0x312a88);},this['commitFunc'+'tion'][Bn]=function(_0x4d6da1,_0x4cf866){_0x59feff['uniform1iv'](_0x4d6da1['locationId'],_0x4cf866);},this['commitFunc'+'tion'][_d]=function(_0xcd414b,_0x5da790){_0x59feff['uniform1ui'+'v'](_0xcd414b['locationId'],_0x5da790);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x1683e0,_0x3d398d){_0x59feff['uniform2iv'](_0x1683e0['locationId'],_0x3d398d);},this['commitFunc'+'tion'][Sd]=function(_0x244b3c,_0xd0f1f0){_0x59feff['uniform2ui'+'v'](_0x244b3c['locationId'],_0xd0f1f0);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x4af739,_0x1a9871){_0x59feff['uniform3iv'](_0x4af739['locationId'],_0x1a9871);},this['commitFunc'+'tion'][vd]=function(_0x3df30b,_0x3083a3){_0x59feff['uniform3ui'+'v'](_0x3df30b['locationId'],_0x3083a3);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x3ddb15,_0x4a44f9){_0x59feff['uniform4iv'](_0x3ddb15['locationId'],_0x4a44f9);},this['commitFunc'+'tion'][Rp]=function(_0x3c933a,_0x5bfdb4){_0x59feff['uniform4ui'+'v'](_0x3c933a['locationId'],_0x5bfdb4);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x456667,_0x3d317d){_0x59feff['uniformMat'+'rix4fv'](_0x456667['locationId'],!(-0x1*0x161b+-0x3fe+-0x101*-0x1a),_0x3d317d);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x2b91d4=this['gl'];this['feedback']&&_0x2b91d4['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x22fd+0x2009+0x18f*-0x2b)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x55*-0x45+-0x809+-0x1b*0x8d)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x394298){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x394298;}['updateBack'+'bufferForm'+'at'](_0x54922d){const _0x4b9ab9=this['gl'];_0x4b9ab9['bindFrameb'+'uffer'](_0x4b9ab9['FRAMEBUFFE'+'R'],_0x54922d);const _0x386c42=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x386c42?Ne:Cr;}['updateBack'+'buffer'](){const _0x1fd0b7=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x1fd0b7)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1b06+0x12ea+-0x2def),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x35f75b,_0x5b90b3){return new XT();}['createInde'+'xBufferImp'+'l'](_0x1a358d){return new qT(_0x1a358d);}['createShad'+'erImpl'](_0x19ae31){return new JT(_0x19ae31);}['createText'+'ureImpl'](_0x3422d9){return new ew(_0x3422d9);}['createRend'+'erTargetIm'+'pl'](_0x276df7){return new sw();}['pushMarker'](_0x4b6180){if(Ae['browser']&&window['spector']){const _0x3a2724=Q['toString']();window['spector']['setMarker'](_0x3a2724+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x1f0353=Q['toString']();_0x1f0353['length']?window['spector']['setMarker'](_0x1f0353+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x35a2cf=this['gl'];let _0x2d6fc7='highp';if(_0x35a2cf['getShaderP'+'recisionFo'+'rmat']){const _0x105f11=_0x35a2cf['getShaderP'+'recisionFo'+'rmat'](_0x35a2cf['VERTEX_SHA'+'DER'],_0x35a2cf['HIGH_FLOAT']),_0x465327=_0x35a2cf['getShaderP'+'recisionFo'+'rmat'](_0x35a2cf['VERTEX_SHA'+'DER'],_0x35a2cf['MEDIUM_FLO'+'AT']),_0x1270ce=_0x35a2cf['getShaderP'+'recisionFo'+'rmat'](_0x35a2cf['FRAGMENT_S'+'HADER'],_0x35a2cf['HIGH_FLOAT']),_0x11e5de=_0x35a2cf['getShaderP'+'recisionFo'+'rmat'](_0x35a2cf['FRAGMENT_S'+'HADER'],_0x35a2cf['MEDIUM_FLO'+'AT']);if(_0x105f11&&_0x465327&&_0x1270ce&&_0x11e5de){const _0x42cbd1=_0x105f11['precision']>-0x2235+-0x228e+-0x1*-0x44c3&&_0x1270ce['precision']>0x2*-0x12a3+0xb25+0x1a21*0x1,_0x1e929b=_0x465327['precision']>-0x140d+0x509+0x782*0x2&&_0x11e5de['precision']>0x43d+-0x4bd+-0x20*-0x4;_0x42cbd1||(_0x1e929b?(_0x2d6fc7='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x2d6fc7='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x2d6fc7;}['getExtensi'+'on'](){for(let _0x352ada=0x30*-0x22+0x19d8+0x26f*-0x8;_0x352ada<arguments['length'];_0x352ada++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x352ada])!==-(-0x5a*-0x13+0x1*-0x1666+0xfb9))return this['gl']['getExtensi'+'on'](arguments[_0x352ada]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x36d658=this['gl'];this['supportedE'+'xtensions']=_0x36d658['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x4c*-0x1c+-0x1c09+0x2459),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x465211=this['gl'];let _0x407520;const _0x3e6fd7=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x3fe143=_0x465211['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x3fe143==null?void(0x220d*-0x1+-0xb23*-0x3+0xa4):_0x3fe143['antialias'])??!(-0xa56+-0x1e3d+0x2894),this['supportsSt'+'encil']=(_0x3fe143==null?void(-0x1*-0xb17+-0x2467*-0x1+-0x2f7e):_0x3fe143['stencil'])??!(0x12c+0x7bd+-0x8e8),this['maxTexture'+'Size']=_0x465211['getParamet'+'er'](_0x465211['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x465211['getParamet'+'er'](_0x465211['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x465211['getParamet'+'er'](_0x465211['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x465211['getParamet'+'er'](_0x465211['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x465211['getParamet'+'er'](_0x465211['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x465211['getParamet'+'er'](_0x465211['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x465211['getParamet'+'er'](_0x465211['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x465211['getParamet'+'er'](_0x465211['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x465211['getParamet'+'er'](_0x465211['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x465211['getParamet'+'er'](_0x465211['MAX_3D_TEX'+'TURE_SIZE']),_0x407520=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x407520?_0x465211['getParamet'+'er'](_0x407520['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x407520?_0x465211['getParamet'+'er'](_0x407520['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x1d52a8=/\bMali-G52+/,_0x52c857=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x3e6fd7['match'](_0x52c857))&&!this['unmaskedRe'+'nderer']['match'](_0x1d52a8),_0x407520=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x407520?_0x465211['getParamet'+'er'](_0x407520['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x61*-0x43+0xd*0x2c+0xe*-0x1f9;const _0x1772e9=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x1772e9?_0x465211['getParamet'+'er'](_0x465211['MAX_SAMPLE'+'S']):-0x1*-0x165c+-0xbca*-0x1+-0x2225*0x1,this['maxSamples']=Math['min'](this['maxSamples'],-0xe0d*-0x1+0x1ca5+-0x2aae),this['samples']=_0x1772e9&&this['backBuffer'+'Antialias']?this['maxSamples']:0x565*-0x4+0x1c9c+0x7*-0x101,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1cd7+0x2565+0x443*-0x2&&(this['supportsAr'+'eaLights']=!(-0x157b*-0x1+-0x19c3+0x449)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x15fdf5=this['gl'];_0x15fdf5['disable'](_0x15fdf5['BLEND']),_0x15fdf5['blendFunc'](_0x15fdf5['ONE'],_0x15fdf5['ZERO']),_0x15fdf5['blendEquat'+'ion'](_0x15fdf5['FUNC_ADD']),_0x15fdf5['colorMask'](!(0x13*-0x15e+-0xd61+-0x7df*-0x5),!(-0x18b2+-0xe2c+0x26de),!(0x452+0x1ac4+-0x1*0x1f16),!(0x1*0x44f+-0x2156+0x1d07)),_0x15fdf5['blendColor'](-0x1ae6+0x2700+-0x60d*0x2,-0x1e65+-0xc86*0x1+0x1*0x2aeb,0x1*-0x11fb+-0xd7d+0x1f78,0x4fd*-0x7+0x18e3+-0x4*-0x282),_0x15fdf5['enable'](_0x15fdf5['CULL_FACE']),this['cullFace']=_0x15fdf5['BACK'],_0x15fdf5['cullFace'](_0x15fdf5['BACK']),_0x15fdf5['enable'](_0x15fdf5['DEPTH_TEST']),_0x15fdf5['depthFunc'](_0x15fdf5['LEQUAL']),_0x15fdf5['depthMask'](!(0x3e3*-0x5+0x16e+-0x1a3*-0xb)),this['stencil']=!(0x1c0a+-0x7db+0x171*-0xe),_0x15fdf5['disable'](_0x15fdf5['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1022+0x226f+0x5*-0x3a9,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x1*-0x140b+0x225e*-0x1+0x7a9*0x2,_0x15fdf5['stencilFun'+'c'](_0x15fdf5['ALWAYS'],-0xac9+0x11dd*0x2+-0x18f1,-0xd57+0xe8*0x4+0x2*0x55b),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=0x104f+0x2013+-0x2f63,this['stencilWri'+'teMaskBack']=0x173*0xd+0x1a51*-0x1+-0x9*-0xf1,_0x15fdf5['stencilOp'](_0x15fdf5['KEEP'],_0x15fdf5['KEEP'],_0x15fdf5['KEEP']),_0x15fdf5['stencilMas'+'k'](-0xfa1*0x2+-0x47*0x2e+0x2d03),this['alphaToCov'+'erage']=!(0x1*-0xe53+-0x24ba+0x330e),this['raster']=!(-0x219c+-0x3*-0x25e+0x1a82),_0x15fdf5['disable'](_0x15fdf5['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x15fdf5['disable'](_0x15fdf5['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x9c7+0x650+-0x47*0x3a),_0x15fdf5['disable'](_0x15fdf5['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xcb4*0x1+0x1*-0x1aff+0x13da*0x2,_0x15fdf5['clearDepth'](0x2*-0x831+-0x1580+-0x3*-0xca1),this['clearColor']=new ie(-0x117b+-0xde*-0x3+0xd*0x125,-0x8ad+0x2053+-0x17a6,-0x2c*-0x2e+0xa14+0x2*-0x8fe,0x1174+0x6*-0x1bb+0x5*-0x16a),_0x15fdf5['clearColor'](0x2*0x1263+-0xf11+0x1*-0x15b5,0x9be+0x191f*0x1+-0x5*0x6f9,0x137*-0x3+-0x137f+0x1724,0xe+-0x1edd+-0x1*-0x1ecf),this['clearStenc'+'il']=-0x3*0x893+-0x799+0x355*0xa,_0x15fdf5['clearStenc'+'il'](0x163b+0x18aa+0x23*-0x157),_0x15fdf5['hint'](_0x15fdf5['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x15fdf5['NICEST']),_0x15fdf5['enable'](_0x15fdf5['SCISSOR_TE'+'ST']),_0x15fdf5['pixelStore'+'i'](_0x15fdf5['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x15fdf5['NONE']),this['unpackFlip'+'Y']=!(0x4*-0x700+0x3*0x5c4+0x1*0xab5),_0x15fdf5['pixelStore'+'i'](_0x15fdf5['UNPACK_FLI'+'P_Y_WEBGL'],!(0x2bd*-0x2+-0xc13*-0x1+-0x698)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x9*-0x21+-0xfe*0x25+-0x6*-0x650),_0x15fdf5['pixelStore'+'i'](_0x15fdf5['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0xe43*0x2+-0x1e10+0x3a97)),_0x15fdf5['pixelStore'+'i'](_0x15fdf5['UNPACK_ALI'+'GNMENT'],0x1a60+0x5*0x76+-0x98f*0x3);}['initTextur'+'eUnits'](_0xb36bb9=-0x52*-0x13+0x1565+-0x1b6b){this['textureUni'+'ts']=[];for(let _0x4ca94d=0xa97+0x247f+-0x2f16;_0x4ca94d<_0xb36bb9;_0x4ca94d++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0xc07*0x1+0x20b*0x5+0x4*0x74,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x18ec7b of this['shaders'])_0x18ec7b['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x1398a2 of this['shaders'])_0x1398a2['restoreCon'+'text']();}['setViewpor'+'t'](_0x2ea07b,_0x33075b,_0x34f551,_0x57658d){(this['vx']!==_0x2ea07b||this['vy']!==_0x33075b||this['vw']!==_0x34f551||this['vh']!==_0x57658d)&&(this['gl']['viewport'](_0x2ea07b,_0x33075b,_0x34f551,_0x57658d),this['vx']=_0x2ea07b,this['vy']=_0x33075b,this['vw']=_0x34f551,this['vh']=_0x57658d);}['setScissor'](_0x1d378a,_0x578e17,_0x5f108c,_0x3edfb0){(this['sx']!==_0x1d378a||this['sy']!==_0x578e17||this['sw']!==_0x5f108c||this['sh']!==_0x3edfb0)&&(this['gl']['scissor'](_0x1d378a,_0x578e17,_0x5f108c,_0x3edfb0),this['sx']=_0x1d378a,this['sy']=_0x578e17,this['sw']=_0x5f108c,this['sh']=_0x3edfb0);}['setFramebu'+'ffer'](_0x3012c7){if(this['activeFram'+'ebuffer']!==_0x3012c7){const _0x4affef=this['gl'];_0x4affef['bindFrameb'+'uffer'](_0x4affef['FRAMEBUFFE'+'R'],_0x3012c7),this['activeFram'+'ebuffer']=_0x3012c7;}}['copyRender'+'Target'](_0x129d3c,_0x3460ea,_0x1189e6,_0x196676){var _0x4ab760,_0x4f7c0c;const _0x23b151=this['gl'];if(_0x129d3c===this['backBuffer']&&(_0x129d3c=null),_0x1189e6){if(_0x3460ea){if(_0x129d3c){if(!_0x129d3c['_colorBuff'+'er']||!_0x3460ea['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x9ce*0x1+0x18bb+-0x2288);if(_0x129d3c['_colorBuff'+'er']['_format']!==_0x3460ea['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x218a+-0x11fb+0x19c3*0x2);}}else{if(!_0x129d3c['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x8*-0x13+0x67*0x2c+-0x124b);}}if(_0x196676&&_0x129d3c&&!_0x129d3c['_depth']){if(!_0x129d3c['_depthBuff'+'er']||!_0x3460ea['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x47*-0x49+0xe80+-0x22be);if(_0x129d3c['_depthBuff'+'er']['_format']!==_0x3460ea['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x3*-0x5d3+0x7c*-0x8+0x6*-0x244);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x19bd69=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x3460ea,this['updateBegi'+'n']();const _0x3464c4=_0x129d3c?_0x129d3c['impl']['_glFrameBu'+'ffer']:(_0x4ab760=this['backBuffer'])==null?void(-0xa39+-0x2*0xaac+0x1f91):_0x4ab760['impl']['_glFrameBu'+'ffer'],_0x4b7153=_0x3460ea?_0x3460ea['impl']['_glFrameBu'+'ffer']:(_0x4f7c0c=this['backBuffer'])==null?void(0x1e0d+-0x1f0+0x1*-0x1c1d):_0x4f7c0c['impl']['_glFrameBu'+'ffer'];w['assert'](_0x3464c4!==_0x4b7153,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x23b151['bindFrameb'+'uffer'](_0x23b151['READ_FRAME'+'BUFFER'],_0x3464c4),_0x23b151['bindFrameb'+'uffer'](_0x23b151['DRAW_FRAME'+'BUFFER'],_0x4b7153);const _0x4529e1=_0x129d3c?_0x129d3c['width']:_0x3460ea?_0x3460ea['width']:this['width'],_0x4844be=_0x129d3c?_0x129d3c['height']:_0x3460ea?_0x3460ea['height']:this['height'];return _0x23b151['blitFrameb'+'uffer'](0xa7f*0x1+0x199+-0xc18,0x1d7+0xebe+0x1095*-0x1,_0x4529e1,_0x4844be,0x47c+0x42*0x8e+-0x2918,-0x1d23+-0x7*-0x166+0x673*0x3,_0x4529e1,_0x4844be,(_0x1189e6?_0x23b151['COLOR_BUFF'+'ER_BIT']:-0x167a+0x21ee*-0x1+0x8*0x70d)|(_0x196676?_0x23b151['DEPTH_BUFF'+'ER_BIT']:-0x10cd+-0x1*-0x14da+-0x40d),_0x23b151['NEAREST']),this['renderTarg'+'et']=_0x19bd69,_0x23b151['bindFrameb'+'uffer'](_0x23b151['FRAMEBUFFE'+'R'],_0x19bd69?_0x19bd69['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x1bf4*0x1+-0x1a89*0x1+-0xb*0x21);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0xc9ce77){const _0x3074fc=_0xc9ce77['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x3074fc,w['assert'](_0x3074fc),Q['pushGpuMar'+'ker'](this,'Pass:'+_0xc9ce77['name']+'\x20RT:'+_0x3074fc['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x53d721,height:_0x16ceb0}=_0x3074fc;this['setViewpor'+'t'](-0x1b60+0x1e28+-0x2c8,-0xbf8*-0x1+-0x1*0xce9+-0xf1*-0x1,_0x53d721,_0x16ceb0),this['setScissor'](0x1bd+0x93*-0x34+0x1c1f,0x1df9*-0x1+0x822+0x15d7*0x1,_0x53d721,_0x16ceb0);const _0x30d9d6=_0xc9ce77['colorOps'],_0x1910e3=_0xc9ce77['depthStenc'+'ilOps'];if(_0x30d9d6!=null&&_0x30d9d6['clear']||_0x1910e3['clearDepth']||_0x1910e3['clearStenc'+'il']){let _0x2148eb=0x1c86+-0x2338+-0x359*-0x2;const _0x4e36b6={};_0x30d9d6!=null&&_0x30d9d6['clear']&&(_0x2148eb|=jo,_0x4e36b6['color']=[_0x30d9d6['clearValue']['r'],_0x30d9d6['clearValue']['g'],_0x30d9d6['clearValue']['b'],_0x30d9d6['clearValue']['a']]),_0x1910e3['clearDepth']&&(_0x2148eb|=Yo,_0x4e36b6['depth']=_0x1910e3['clearDepth'+'Value']),_0x1910e3['clearStenc'+'il']&&(_0x2148eb|=ch,_0x4e36b6['stencil']=_0x1910e3['clearStenc'+'ilValue']),_0x4e36b6['flags']=_0x2148eb,this['clear'](_0x4e36b6);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x2*0x3fb+-0x2189+0xdd5*0x3),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x32bdf6){var _0x324771;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x164d31=this['renderTarg'+'et'],_0x3f21d0=_0x32bdf6['colorArray'+'Ops']['length'];if(_0x164d31){Da['length']=0x1691+0x2df*-0x6+-0x557;const _0x47efef=this['gl'];for(let _0x554afd=0x1*-0x16ef+0x2e3+-0x503*-0x4;_0x554afd<_0x3f21d0;_0x554afd++){const _0x5282fa=_0x32bdf6['colorArray'+'Ops'][_0x554afd];_0x5282fa['store']||_0x5282fa['resolve']||Da['push'](_0x47efef['COLOR_ATTA'+'CHMENT0']+_0x554afd);}_0x164d31!==this['backBuffer']&&(_0x32bdf6['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x47efef['DEPTH_ATTA'+'CHMENT']),_0x32bdf6['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x47efef['STENCIL_AT'+'TACHMENT'])),Da['length']>0x1*0x1817+-0x1*-0xf6a+-0x2781&&_0x32bdf6['fullSizeCl'+'earRect']&&_0x47efef['invalidate'+'Framebuffe'+'r'](_0x47efef['DRAW_FRAME'+'BUFFER'],Da),_0x3f21d0&&((_0x324771=_0x32bdf6['colorOps'])!=null&&_0x324771['resolve'])&&_0x32bdf6['samples']>0x1a6+-0xc10+-0x7f*-0x15&&_0x164d31['autoResolv'+'e']&&_0x164d31['resolve'](!(0xad*-0x5+-0x8f*0xd+0xaa4),!(-0x1007+0x12*-0x200+0x3408)),_0x164d31['depthBuffe'+'r']&&_0x32bdf6['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x32bdf6['samples']>0x18*0x38+-0x1*0x3dc+-0x163&&_0x164d31['autoResolv'+'e']&&_0x164d31['resolve'](!(0x15*-0x23+-0x1*0x7c8+-0x1*-0xaa8),!(0x9c1+-0x1c03+0x1242));for(let _0x4845e3=0x1e02*-0x1+0x1*0x1765+0x69d;_0x4845e3<_0x3f21d0;_0x4845e3++)if(_0x32bdf6['colorArray'+'Ops'][_0x4845e3]['genMipmaps']){const _0x3df72e=_0x164d31['_colorBuff'+'ers'][_0x4845e3];_0x3df72e&&_0x3df72e['impl']['_glTexture']&&_0x3df72e['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x4845e3),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xd13*0x1+0x204b+-0x1337)),this['bindTextur'+'e'](_0x3df72e),this['gl']['generateMi'+'pmap'](_0x3df72e['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x2142+0x221*-0xc+0x3acf),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0xd7a02c){this['_defaultFr'+'amebuffer']!==_0xd7a02c&&(this['_defaultFr'+'amebuffer']=_0xd7a02c,this['_defaultFr'+'amebufferC'+'hanged']=!(-0xece+-0xec6+0x1d94));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x67bb25=-0x15ff+0x23ae+-0xdaf;_0x67bb25<this['textureUni'+'ts']['length'];++_0x67bb25)for(let _0x316b57=0x1e1b+0xd54+-0x2b6f;_0x316b57<-0x153*0x14+-0x98c+0x240b;++_0x316b57)this['textureUni'+'ts'][_0x67bb25][_0x316b57]=null;}const _0x1e6b0e=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x1e6b0e);const _0x3dc774=_0x1e6b0e['impl'];_0x3dc774['initialize'+'d']||this['initRender'+'Target'](_0x1e6b0e),this['setFramebu'+'ffer'](_0x3dc774['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x4c1dca=this['renderTarg'+'et'];if(_0x4c1dca&&_0x4c1dca!==this['backBuffer']){_0x4c1dca['_samples']>0x1*0x24bb+-0xef*-0x29+-0x4b01&&_0x4c1dca['autoResolv'+'e']&&_0x4c1dca['resolve']();const _0x29e58c=_0x4c1dca['_colorBuff'+'er'];_0x29e58c&&_0x29e58c['impl']['_glTexture']&&_0x29e58c['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1e74+-0x181a+-0x368f*-0x1)),this['bindTextur'+'e'](_0x29e58c),this['gl']['generateMi'+'pmap'](_0x29e58c['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x30e36c){if(this['unpackFlip'+'Y']!==_0x30e36c){this['unpackFlip'+'Y']=_0x30e36c;const _0x44c4e7=this['gl'];_0x44c4e7['pixelStore'+'i'](_0x44c4e7['UNPACK_FLI'+'P_Y_WEBGL'],_0x30e36c);}}['setUnpackP'+'remultiply'+'Alpha'](_0x4cabbc){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x4cabbc){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x4cabbc;const _0x4aef9f=this['gl'];_0x4aef9f['pixelStore'+'i'](_0x4aef9f['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x4cabbc);}}['activeText'+'ure'](_0x214a6b){this['textureUni'+'t']!==_0x214a6b&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x214a6b),this['textureUni'+'t']=_0x214a6b);}['bindTextur'+'e'](_0x2fae4b){const _0x56165e=_0x2fae4b['impl'],_0x51fa5a=_0x56165e['_glTarget'],_0x19cc8d=_0x56165e['_glTexture'],_0x3c0fe5=this['textureUni'+'t'],_0x3bfc3a=this['targetToSl'+'ot'][_0x51fa5a];this['textureUni'+'ts'][_0x3c0fe5][_0x3bfc3a]!==_0x19cc8d&&(this['gl']['bindTextur'+'e'](_0x51fa5a,_0x19cc8d),this['textureUni'+'ts'][_0x3c0fe5][_0x3bfc3a]=_0x19cc8d);}['bindTextur'+'eOnUnit'](_0x147ee9,_0x3bafd3){const _0x5d8e6d=_0x147ee9['impl'],_0x798c63=_0x5d8e6d['_glTarget'],_0x1dd68c=_0x5d8e6d['_glTexture'],_0x2ccd43=this['targetToSl'+'ot'][_0x798c63];this['textureUni'+'ts'][_0x3bafd3][_0x2ccd43]!==_0x1dd68c&&(this['activeText'+'ure'](_0x3bafd3),this['gl']['bindTextur'+'e'](_0x798c63,_0x1dd68c),this['textureUni'+'ts'][_0x3bafd3][_0x2ccd43]=_0x1dd68c);}['setTexture'+'Parameters'](_0x33122d){const _0x595078=this['gl'],_0x4e0532=_0x33122d['impl']['dirtyParam'+'eterFlags'],_0x3ae0f5=_0x33122d['impl']['_glTarget'];if(_0x4e0532&Ay){let _0x378750=_0x33122d['_minFilter'];(!_0x33122d['_mipmaps']||_0x33122d['_compresse'+'d']&&_0x33122d['_levels']['length']===-0x1b*-0x113+-0xcd7+0xc5*-0x15)&&(_0x378750===Kh||_0x378750===Zh?_0x378750=Te:(_0x378750===Qh||_0x378750===ma)&&(_0x378750=vt)),_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x378750]);}if(_0x4e0532&Cy&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x33122d['_magFilter']]),_0x4e0532&Py&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x33122d['_addressU']]),_0x4e0532&My&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x33122d['_addressV']]),_0x4e0532&Dy&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x33122d['_addressW']]),_0x4e0532&Iy&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_CO'+'MPARE_MODE'],_0x33122d['_compareOn'+'Read']?_0x595078['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x595078['NONE']),_0x4e0532&Ly&&_0x595078['texParamet'+'eri'](_0x3ae0f5,_0x595078['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x33122d['_compareFu'+'nc']]),_0x4e0532&Ry){const _0x196cee=this['extTexture'+'FilterAnis'+'otropic'];_0x196cee&&_0x595078['texParamet'+'erf'](_0x3ae0f5,_0x196cee['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x33122d['_anisotrop'+'y']),-0x1*0x1733+0x1*-0x81+0x17b5,this['maxAnisotr'+'opy']));}}['setTexture'](_0x2dce3a,_0x7cd9f0){const _0x4a0189=_0x2dce3a['impl'];_0x4a0189['_glTexture']||_0x4a0189['initialize'](this,_0x2dce3a),_0x4a0189['dirtyParam'+'eterFlags']>0x1*-0x840+0xc98*0x1+-0x458||_0x2dce3a['_needsUplo'+'ad']||_0x2dce3a['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x7cd9f0),this['bindTextur'+'e'](_0x2dce3a),_0x4a0189['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x2dce3a),_0x4a0189['dirtyParam'+'eterFlags']=-0x112*0x1+-0x222b*-0x1+-0x2119),(_0x2dce3a['_needsUplo'+'ad']||_0x2dce3a['_needsMipm'+'apsUpload'])&&(_0x4a0189['upload'](this,_0x2dce3a),_0x2dce3a['_needsUplo'+'ad']=!(-0x1*0x2603+-0x1f72+0x4576),_0x2dce3a['_needsMipm'+'apsUpload']=!(0x11*-0x118+0x1*-0xb50+-0xf7*-0x1f))):this['bindTextur'+'eOnUnit'](_0x2dce3a,_0x7cd9f0);}['createVert'+'exArray'](_0x5c6296){let _0xd03d34,_0x54e77b;const _0x250090=_0x5c6296['length']>0x19*0x102+-0x245*0x10+-0x27*-0x49;if(_0x250090){_0xd03d34='';for(let _0x541ff3=-0x17b3*-0x1+-0xc0a+0x3*-0x3e3;_0x541ff3<_0x5c6296['length'];_0x541ff3++){const _0x2b8b98=_0x5c6296[_0x541ff3];_0xd03d34+=_0x2b8b98['id']+_0x2b8b98['format']['renderingH'+'ash'];}_0x54e77b=this['_vaoMap']['get'](_0xd03d34);}if(!_0x54e77b){const _0x577692=this['gl'];_0x54e77b=_0x577692['createVert'+'exArray'](),_0x577692['bindVertex'+'Array'](_0x54e77b),_0x577692['bindBuffer'](_0x577692['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x2f2bca=!(0xd*0x185+-0x1*0x189d+0x4dd);for(let _0x1e5bfb=0x152c+-0x292+-0x129a;_0x1e5bfb<_0x5c6296['length'];_0x1e5bfb++){const _0x40b9e2=_0x5c6296[_0x1e5bfb];_0x577692['bindBuffer'](_0x577692['ARRAY_BUFF'+'ER'],_0x40b9e2['impl']['bufferId']);const _0x367077=_0x40b9e2['format']['elements'];for(let _0x5b1f1c=-0x25af+-0x4df*-0x1+-0x5*-0x690;_0x5b1f1c<_0x367077['length'];_0x5b1f1c++){const _0x377e1b=_0x367077[_0x5b1f1c],_0x59ab=Le[_0x377e1b['name']];_0x59ab===-0x24ad+-0x244e*0x1+0x48fb*0x1&&(_0x2f2bca=!(-0x231c+0xd*0x1e3+0xa95)),_0x377e1b['asInt']?_0x577692['vertexAttr'+'ibIPointer'](_0x59ab,_0x377e1b['numCompone'+'nts'],this['glType'][_0x377e1b['dataType']],_0x377e1b['stride'],_0x377e1b['offset']):_0x577692['vertexAttr'+'ibPointer'](_0x59ab,_0x377e1b['numCompone'+'nts'],this['glType'][_0x377e1b['dataType']],_0x377e1b['normalize'],_0x377e1b['stride'],_0x377e1b['offset']),_0x577692['enableVert'+'exAttribAr'+'ray'](_0x59ab),_0x40b9e2['format']['instancing']&&_0x577692['vertexAttr'+'ibDivisor'](_0x59ab,0x20ce+-0x9a*-0x13+-0x2c3b);}}_0x577692['bindVertex'+'Array'](null),_0x577692['bindBuffer'](_0x577692['ARRAY_BUFF'+'ER'],null),_0x250090&&this['_vaoMap']['set'](_0xd03d34,_0x54e77b),_0x2f2bca||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x54e77b;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x396bb9){const _0x176b53=this['gl'];let _0x4e5682;if(this['vertexBuff'+'ers']['length']===-0x2069+0x1d19+-0x3*-0x11b){const _0x371d8d=this['vertexBuff'+'ers'][0x124a+0xb3b+0x3*-0x9d7];w['assert'](_0x371d8d['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x371d8d['impl']['vao']||(_0x371d8d['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4e5682=_0x371d8d['impl']['vao'];}else _0x4e5682=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4e5682&&(this['boundVao']=_0x4e5682,_0x176b53['bindVertex'+'Array'](_0x4e5682));const _0x1de193=_0x396bb9?_0x396bb9['impl']['bufferId']:null;_0x176b53['bindBuffer'](_0x176b53['ELEMENT_AR'+'RAY_BUFFER'],_0x1de193);}['draw'](_0x41137b,_0x4718dd,_0x4a52f3,_0x41dcc8,_0x3b0df7=!(0x1fbf+-0x27d*-0xd+-0x24a*0x1c),_0x5349a6=!(-0x5c7+0x1*-0x263+0x82a)){const _0x1d6670=this['shader'];if(_0x1d6670&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x174d32=this['gl'];_0x3b0df7&&(w['call'](()=>{var _0x11dbc7,_0x26f970;return this['validateAt'+'tributes'](this['shader'],(_0x11dbc7=this['vertexBuff'+'ers'][0x1*0x26ea+0x207e+-0x4768])==null?void(-0x1d81+-0x4e2*0x8+0x4491):_0x11dbc7['format'],(_0x26f970=this['vertexBuff'+'ers'][0x1cd5+-0x1add+0x1f7*-0x1])==null?void(-0x3*-0x1ab+0x2363+-0xdc*0x2f):_0x26f970['format']);}),this['setBuffers'](_0x4718dd));let _0x41ca08=-0x1*-0x20b6+0x1085+0x1*-0x313b;const _0x3bf194=_0x1d6670['impl']['samplers'];for(let _0xf70fc7=0xba9+0x1*0x126d+-0x1e16,_0x5a1de7=_0x3bf194['length'];_0xf70fc7<_0x5a1de7;_0xf70fc7++){const _0x468f36=_0x3bf194[_0xf70fc7];let _0x49389e=_0x468f36['scopeId']['value'];if(!_0x49389e){const _0x4bb824=_0x468f36['scopeId']['name'];w['assert'](_0x4bb824!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x4bb824!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4bb824==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x49389e=fa(this,'white')),_0x4bb824==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x49389e=fa(this,'pink')),_0x49389e||(w['errorOnce']('Shader\x20'+_0x1d6670['name']+'\x20requires\x20'+_0x4bb824+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x1d6670),_0x49389e=fa(this,'pink'));}if(_0x49389e instanceof _e){const _0x182071=_0x49389e;this['setTexture'](_0x182071,_0x41ca08),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x51e+-0x1*-0x238f+0x31*-0x9f&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x182071?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x182071}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x182071&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x182071})),_0x468f36['slot']!==_0x41ca08&&(_0x174d32['uniform1i'](_0x468f36['locationId'],_0x41ca08),_0x468f36['slot']=_0x41ca08),_0x41ca08++;}else{_0x468f36['array']['length']=0xfd8+-0x1a9c+0xac4;const _0x4a5dac=_0x49389e['length'];for(let _0x13b820=0x21de+-0x268a*-0x1+-0x4868;_0x13b820<_0x4a5dac;_0x13b820++){const _0x564af6=_0x49389e[_0x13b820];this['setTexture'](_0x564af6,_0x41ca08),_0x468f36['array'][_0x13b820]=_0x41ca08,_0x41ca08++;}_0x174d32['uniform1iv'](_0x468f36['locationId'],_0x468f36['array']);}}const _0x3ab0c1=_0x1d6670['impl']['uniforms'];for(let _0x91f6cf=-0x955*0x1+0x12ad+-0x4*0x256,_0x885bd6=_0x3ab0c1['length'];_0x91f6cf<_0x885bd6;_0x91f6cf++){const _0x2d0844=_0x3ab0c1[_0x91f6cf],_0x491923=_0x2d0844['scopeId'],_0x39cdee=_0x2d0844['version'],_0x134325=_0x491923['versionObj'+'ect']['version'];if(_0x39cdee['globalId']!==_0x134325['globalId']||_0x39cdee['revision']!==_0x134325['revision']){_0x39cdee['globalId']=_0x134325['globalId'],_0x39cdee['revision']=_0x134325['revision'];const _0x12cd1e=_0x491923['value'];_0x12cd1e!=null?this['commitFunc'+'tion'][_0x2d0844['dataType']](_0x2d0844,_0x12cd1e):w['warnOnce']('Shader\x20['+_0x1d6670['label']+(']\x20requires'+'\x20uniform\x20[')+_0x2d0844['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x174d32['bindBuffer'+'Base'](_0x174d32['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x50+-0x20c3*-0x1+0x2073*-0x1,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x174d32['beginTrans'+'formFeedba'+'ck'](_0x174d32['POINTS']));const _0x1198cd=this['glPrimitiv'+'e'][_0x41137b['type']],_0x4bb810=_0x41137b['count'];if(_0x41137b['indexed']){w['assert'](_0x4718dd['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x5e828b=_0x4718dd['impl']['glFormat'],_0x1b5ca0=_0x41137b['base']*_0x4718dd['bytesPerIn'+'dex'];_0x4a52f3>0x253d+-0xcb2+0x3d*-0x67?_0x174d32['drawElemen'+'tsInstance'+'d'](_0x1198cd,_0x4bb810,_0x5e828b,_0x1b5ca0,_0x4a52f3):_0x174d32['drawElemen'+'ts'](_0x1198cd,_0x4bb810,_0x5e828b,_0x1b5ca0);}else{const _0xe87e8f=_0x41137b['base'];_0x4a52f3>-0x99*0x3f+-0xcd*-0x10+0x18d7?_0x174d32['drawArrays'+'Instanced'](_0x1198cd,_0xe87e8f,_0x4bb810,_0x4a52f3):_0x174d32['drawArrays'](_0x1198cd,_0xe87e8f,_0x4bb810);}this['transformF'+'eedbackBuf'+'fer']&&(_0x174d32['endTransfo'+'rmFeedback'](),_0x174d32['bindBuffer'+'Base'](_0x174d32['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1*0x23e2+-0x1434*0x1+-0x7d7*0x2,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x41137b['type']]+=_0x41137b['count']*(_0x4a52f3>-0xa92*0x1+0x1fc3+-0x2a6*0x8?_0x4a52f3:-0x1*0x8f+0x2b*-0x30+0x1*0x8a0);}_0x5349a6&&this['clearVerte'+'xBuffer']();}['clear'](_0x27261b){const _0x481b12=this['defaultCle'+'arOptions'];_0x27261b=_0x27261b||_0x481b12;const _0x1e8254=_0x27261b['flags']??_0x481b12['flags'];if(_0x1e8254!==-0xdf*0x9+0x0+0x7d7){const _0x181063=this['gl'];if(_0x1e8254&jo){const _0x1b667d=_0x27261b['color']??_0x481b12['color'],_0x1e651b=_0x1b667d[0x257a+-0x1b20+-0xa5a],_0x5e7b1a=_0x1b667d[0x209e+0xf2e+-0x2fcb],_0x7e6672=_0x1b667d[0x3*-0x4f3+-0xda8+0x1c83],_0x1f6c40=_0x1b667d[-0x1*-0x1276+0x134e*-0x1+0xdb],_0x5d81ca=this['clearColor'];(_0x1e651b!==_0x5d81ca['r']||_0x5e7b1a!==_0x5d81ca['g']||_0x7e6672!==_0x5d81ca['b']||_0x1f6c40!==_0x5d81ca['a'])&&(this['gl']['clearColor'](_0x1e651b,_0x5e7b1a,_0x7e6672,_0x1f6c40),this['clearColor']['set'](_0x1e651b,_0x5e7b1a,_0x7e6672,_0x1f6c40)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x1e8254&Yo){const _0xe00a41=_0x27261b['depth']??_0x481b12['depth'];_0xe00a41!==this['clearDepth']&&(this['gl']['clearDepth'](_0xe00a41),this['clearDepth']=_0xe00a41),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x1e8254&ch){const _0x69a5da=_0x27261b['stencil']??_0x481b12['stencil'];_0x69a5da!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x69a5da),this['clearStenc'+'il']=_0x69a5da),_0x181063['stencilMas'+'k'](-0xa4b+0x13*-0x72+0x13c0),this['stencilWri'+'teMaskFron'+'t']=0x3c0+0x26b9*0x1+0x14bd*-0x2,this['stencilWri'+'teMaskBack']=0x1*-0xfbf+-0x1dd7+0x19*0x1dd;}_0x181063['clear'](this['glClearFla'+'g'][_0x1e8254]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x3b362b,_0x2c7e2d,_0x311903,_0x4d1ecc,_0x2a4647){const _0x4dd0e5=this['gl'];_0x4dd0e5['readPixels'](_0x3b362b,_0x2c7e2d,_0x311903,_0x4d1ecc,_0x4dd0e5['RGBA'],_0x4dd0e5['UNSIGNED_B'+'YTE'],_0x2a4647);}['clientWait'+'Async'](_0x5dbc26,_0x466a01){const _0x2918cb=this['gl'],_0x2dcb20=_0x2918cb['fenceSync'](_0x2918cb['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0xa6*-0x2a+0xbb8+-0x26f4);return this['submit'](),new Promise((_0x128bec,_0x398491)=>{function _0x3fc7fa(){const _0x35b70a=_0x2918cb['clientWait'+'Sync'](_0x2dcb20,_0x5dbc26,0x1fe+0x13*0x125+-0x17bd);_0x35b70a===_0x2918cb['TIMEOUT_EX'+'PIRED']?setTimeout(_0x3fc7fa,_0x466a01):(_0x2918cb['deleteSync'](_0x2dcb20),_0x35b70a===_0x2918cb['WAIT_FAILE'+'D']?_0x398491(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x128bec());}_0x3fc7fa();});}async['readPixels'+'Async'](_0x2ee32f,_0x2409e2,_0x5a9c67,_0x291c42,_0x4b1bf4){var _0x20dda4;const _0x58a720=this['gl'],_0x23fd6d=(_0x20dda4=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1*-0x5c3+-0x3*0xcb1+-0x2*-0x15eb):_0x20dda4['impl'],_0x46f630=(_0x23fd6d==null?void(0xef2+0x2*0x1067+-0x2fc*0x10):_0x23fd6d['_glFormat'])??_0x58a720['RGBA'],_0x5909d7=(_0x23fd6d==null?void(0x7b+-0x5*-0x5d1+-0x3b2*0x8):_0x23fd6d['_glPixelTy'+'pe'])??_0x58a720['UNSIGNED_B'+'YTE'],_0x2a25b5=_0x58a720['createBuff'+'er']();return _0x58a720['bindBuffer'](_0x58a720['PIXEL_PACK'+'_BUFFER'],_0x2a25b5),_0x58a720['bufferData'](_0x58a720['PIXEL_PACK'+'_BUFFER'],_0x4b1bf4['byteLength'],_0x58a720['STREAM_REA'+'D']),_0x58a720['readPixels'](_0x2ee32f,_0x2409e2,_0x5a9c67,_0x291c42,_0x46f630,_0x5909d7,-0x1*0x15d+0x9*-0x2b3+-0x19a8*-0x1),_0x58a720['bindBuffer'](_0x58a720['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x2249*0x1+-0x3cb+0x2614,-0x1374+-0x2c*0x16+0x174c),_0x58a720['bindBuffer'](_0x58a720['PIXEL_PACK'+'_BUFFER'],_0x2a25b5),_0x58a720['getBufferS'+'ubData'](_0x58a720['PIXEL_PACK'+'_BUFFER'],-0x1*-0x20c5+0x24ae+0x305*-0x17,_0x4b1bf4),_0x58a720['bindBuffer'](_0x58a720['PIXEL_PACK'+'_BUFFER'],null),_0x58a720['deleteBuff'+'er'](_0x2a25b5),_0x4b1bf4;}['readTextur'+'eAsync'](_0x118ef1,_0x598747,_0x20a4b5,_0x49c449,_0x59139d,_0x56f9dc){const _0x1f5c6b=_0x56f9dc['face']??-0x1288+0x1c5b+-0x5*0x1f7,_0x163677=_0x56f9dc['renderTarg'+'et']??new gt({'colorBuffer':_0x118ef1,'depth':!(-0x21ba+-0x141f+0x35da),'face':_0x1f5c6b});w['assert'](_0x163677['colorBuffe'+'r']===_0x118ef1);const _0x29c9bd=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x49c449,_0x59139d,0x1034+-0xbdf*-0x1+-0x1c12,_0x118ef1['_format'])),_0x13169c=_0x56f9dc['data']??new(my(_0x118ef1['_format']))(_0x29c9bd);return this['setRenderT'+'arget'](_0x163677),this['initRender'+'Target'](_0x163677),new Promise((_0x2dc411,_0x221c95)=>{this['readPixels'+'Async'](_0x598747,_0x20a4b5,_0x49c449,_0x59139d,_0x13169c)['then'](_0x2fc2ec=>{_0x56f9dc['renderTarg'+'et']||_0x163677['destroy'](),_0x2dc411(_0x2fc2ec);})['catch'](_0x221c95);});}async['writeTextu'+'reAsync'](_0x4022bc,_0x43c0e9,_0x139e00,_0x253bb4,_0x5f1ef4,_0x3ac14c){const _0xf71300=this['gl'],_0x144ec6=_0x4022bc['impl'],_0x50bbca=(_0x144ec6==null?void(-0x1134+0x1*0x6e1+0xa53):_0x144ec6['_glFormat'])??_0xf71300['RGBA'],_0x195146=(_0x144ec6==null?void(0x1b0c+0x1*0x120f+-0x2d1b):_0x144ec6['_glPixelTy'+'pe'])??_0xf71300['UNSIGNED_B'+'YTE'],_0x2833c7=_0xf71300['createBuff'+'er']();_0xf71300['bindBuffer'](_0xf71300['PIXEL_UNPA'+'CK_BUFFER'],_0x2833c7),_0xf71300['bufferData'](_0xf71300['PIXEL_UNPA'+'CK_BUFFER'],_0x3ac14c,_0xf71300['STREAM_DRA'+'W']),_0xf71300['bindTextur'+'e'](_0xf71300['TEXTURE_2D'],_0x144ec6['_glTexture']),_0xf71300['texSubImag'+'e2D'](_0xf71300['TEXTURE_2D'],-0x1b7e+-0xd*0x28d+0x3ca7,_0x43c0e9,_0x139e00,_0x253bb4,_0x5f1ef4,_0x50bbca,_0x195146,-0x1385+-0x2e3*0x5+-0x29*-0xd4),_0xf71300['bindBuffer'](_0xf71300['PIXEL_UNPA'+'CK_BUFFER'],null),_0x4022bc['_needsUplo'+'ad']=!(0x1edd+0x2*0x80f+-0x2efa),_0x4022bc['_mipmapsUp'+'loaded']=!(-0xe*0x86+0xe*0x229+-0x16e9),await this['clientWait'+'Async'](0x13a*0x17+0x1f*-0xe3+-0xb9,0x12b*0x1a+-0x214c+0x1*0x2fe);}['setAlphaTo'+'Coverage'](_0x248288){this['alphaToCov'+'erage']!==_0x248288&&(this['alphaToCov'+'erage']=_0x248288,_0x248288?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x589d1e){if(this['transformF'+'eedbackBuf'+'fer']!==_0x589d1e){this['transformF'+'eedbackBuf'+'fer']=_0x589d1e;const _0x583dcd=this['gl'];_0x589d1e?(this['feedback']||(this['feedback']=_0x583dcd['createTran'+'sformFeedb'+'ack']()),_0x583dcd['bindTransf'+'ormFeedbac'+'k'](_0x583dcd['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x583dcd['bindTransf'+'ormFeedbac'+'k'](_0x583dcd['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x327d2d){this['raster']!==_0x327d2d&&(this['raster']=_0x327d2d,_0x327d2d?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x50b874){if(this['stencil']!==_0x50b874){const _0x369c05=this['gl'];_0x50b874?_0x369c05['enable'](_0x369c05['STENCIL_TE'+'ST']):_0x369c05['disable'](_0x369c05['STENCIL_TE'+'ST']),this['stencil']=_0x50b874;}}['setStencil'+'Func'](_0x4fa18b,_0x48ae6c,_0x438957){(this['stencilFun'+'cFront']!==_0x4fa18b||this['stencilRef'+'Front']!==_0x48ae6c||this['stencilMas'+'kFront']!==_0x438957||this['stencilFun'+'cBack']!==_0x4fa18b||this['stencilRef'+'Back']!==_0x48ae6c||this['stencilMas'+'kBack']!==_0x438957)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x4fa18b],_0x48ae6c,_0x438957),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x4fa18b,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x48ae6c,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x438957);}['setStencil'+'FuncFront'](_0x48d21a,_0x29ac2e,_0x123eac){if(this['stencilFun'+'cFront']!==_0x48d21a||this['stencilRef'+'Front']!==_0x29ac2e||this['stencilMas'+'kFront']!==_0x123eac){const _0xd82e5c=this['gl'];_0xd82e5c['stencilFun'+'cSeparate'](_0xd82e5c['FRONT'],this['glComparis'+'on'][_0x48d21a],_0x29ac2e,_0x123eac),this['stencilFun'+'cFront']=_0x48d21a,this['stencilRef'+'Front']=_0x29ac2e,this['stencilMas'+'kFront']=_0x123eac;}}['setStencil'+'FuncBack'](_0x45a149,_0x8b2088,_0x177aa3){if(this['stencilFun'+'cBack']!==_0x45a149||this['stencilRef'+'Back']!==_0x8b2088||this['stencilMas'+'kBack']!==_0x177aa3){const _0x1f8006=this['gl'];_0x1f8006['stencilFun'+'cSeparate'](_0x1f8006['BACK'],this['glComparis'+'on'][_0x45a149],_0x8b2088,_0x177aa3),this['stencilFun'+'cBack']=_0x45a149,this['stencilRef'+'Back']=_0x8b2088,this['stencilMas'+'kBack']=_0x177aa3;}}['setStencil'+'Operation'](_0x8148fd,_0x25d521,_0x1508f8,_0x256d18){(this['stencilFai'+'lFront']!==_0x8148fd||this['stencilZfa'+'ilFront']!==_0x25d521||this['stencilZpa'+'ssFront']!==_0x1508f8||this['stencilFai'+'lBack']!==_0x8148fd||this['stencilZfa'+'ilBack']!==_0x25d521||this['stencilZpa'+'ssBack']!==_0x1508f8)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x8148fd],this['glStencilO'+'p'][_0x25d521],this['glStencilO'+'p'][_0x1508f8]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x8148fd,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x25d521,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x1508f8),(this['stencilWri'+'teMaskFron'+'t']!==_0x256d18||this['stencilWri'+'teMaskBack']!==_0x256d18)&&(this['gl']['stencilMas'+'k'](_0x256d18),this['stencilWri'+'teMaskFron'+'t']=_0x256d18,this['stencilWri'+'teMaskBack']=_0x256d18);}['setStencil'+'OperationF'+'ront'](_0x402c1d,_0x445448,_0x49e880,_0x34f088){(this['stencilFai'+'lFront']!==_0x402c1d||this['stencilZfa'+'ilFront']!==_0x445448||this['stencilZpa'+'ssFront']!==_0x49e880)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x402c1d],this['glStencilO'+'p'][_0x445448],this['glStencilO'+'p'][_0x49e880]),this['stencilFai'+'lFront']=_0x402c1d,this['stencilZfa'+'ilFront']=_0x445448,this['stencilZpa'+'ssFront']=_0x49e880),this['stencilWri'+'teMaskFron'+'t']!==_0x34f088&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x34f088),this['stencilWri'+'teMaskFron'+'t']=_0x34f088);}['setStencil'+'OperationB'+'ack'](_0x856398,_0xe36fec,_0x9f6810,_0xc0a052){(this['stencilFai'+'lBack']!==_0x856398||this['stencilZfa'+'ilBack']!==_0xe36fec||this['stencilZpa'+'ssBack']!==_0x9f6810)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x856398],this['glStencilO'+'p'][_0xe36fec],this['glStencilO'+'p'][_0x9f6810]),this['stencilFai'+'lBack']=_0x856398,this['stencilZfa'+'ilBack']=_0xe36fec,this['stencilZpa'+'ssBack']=_0x9f6810),this['stencilWri'+'teMaskBack']!==_0xc0a052&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0xc0a052),this['stencilWri'+'teMaskBack']=_0xc0a052);}['setBlendSt'+'ate'](_0x481b22){const _0x917be6=this['blendState'];if(!_0x917be6['equals'](_0x481b22)){const _0x57817b=this['gl'],{blend:_0x2052f7,colorOp:_0x194db9,alphaOp:_0x4f2703,colorSrcFactor:_0x215704,colorDstFactor:_0x95f8e9,alphaSrcFactor:_0xdce89,alphaDstFactor:_0x249e0c}=_0x481b22;if(_0x917be6['blend']!==_0x2052f7&&(_0x2052f7?_0x57817b['enable'](_0x57817b['BLEND']):_0x57817b['disable'](_0x57817b['BLEND'])),_0x917be6['colorOp']!==_0x194db9||_0x917be6['alphaOp']!==_0x4f2703){const _0xd7bb87=this['glBlendEqu'+'ation'];_0x57817b['blendEquat'+'ionSeparat'+'e'](_0xd7bb87[_0x194db9],_0xd7bb87[_0x4f2703]);}(_0x917be6['colorSrcFa'+'ctor']!==_0x215704||_0x917be6['colorDstFa'+'ctor']!==_0x95f8e9||_0x917be6['alphaSrcFa'+'ctor']!==_0xdce89||_0x917be6['alphaDstFa'+'ctor']!==_0x249e0c)&&_0x57817b['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x215704],this['glBlendFun'+'ctionColor'][_0x95f8e9],this['glBlendFun'+'ctionAlpha'][_0xdce89],this['glBlendFun'+'ctionAlpha'][_0x249e0c]),_0x917be6['allWrite']!==_0x481b22['allWrite']&&this['gl']['colorMask'](_0x481b22['redWrite'],_0x481b22['greenWrite'],_0x481b22['blueWrite'],_0x481b22['alphaWrite']),_0x917be6['copy'](_0x481b22);}}['setBlendCo'+'lor'](_0x469cf0,_0x29aa1a,_0x2a89f2,_0x7e0e27){const _0x18bd46=this['blendColor'];(_0x469cf0!==_0x18bd46['r']||_0x29aa1a!==_0x18bd46['g']||_0x2a89f2!==_0x18bd46['b']||_0x7e0e27!==_0x18bd46['a'])&&(this['gl']['blendColor'](_0x469cf0,_0x29aa1a,_0x2a89f2,_0x7e0e27),_0x18bd46['set'](_0x469cf0,_0x29aa1a,_0x2a89f2,_0x7e0e27));}['setStencil'+'State'](_0x3509f4,_0x29e9a9){_0x3509f4||_0x29e9a9?(this['setStencil'+'Test'](!(-0x642+0xe12*-0x2+-0x25*-0xee)),_0x3509f4===_0x29e9a9?(this['setStencil'+'Func'](_0x3509f4['func'],_0x3509f4['ref'],_0x3509f4['readMask']),this['setStencil'+'Operation'](_0x3509f4['fail'],_0x3509f4['zfail'],_0x3509f4['zpass'],_0x3509f4['writeMask'])):(_0x3509f4??(_0x3509f4=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x3509f4['func'],_0x3509f4['ref'],_0x3509f4['readMask']),this['setStencil'+'OperationF'+'ront'](_0x3509f4['fail'],_0x3509f4['zfail'],_0x3509f4['zpass'],_0x3509f4['writeMask']),_0x29e9a9??(_0x29e9a9=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x29e9a9['func'],_0x29e9a9['ref'],_0x29e9a9['readMask']),this['setStencil'+'OperationB'+'ack'](_0x29e9a9['fail'],_0x29e9a9['zfail'],_0x29e9a9['zpass'],_0x29e9a9['writeMask']))):this['setStencil'+'Test'](!(-0x22ed*-0x1+-0x83*-0x2+-0x6b*0x56));}['setDepthSt'+'ate'](_0x5bc282){const _0x44f563=this['depthState'];if(!_0x44f563['equals'](_0x5bc282)){const _0x3676c4=this['gl'],_0xc74ac1=_0x5bc282['write'];_0x44f563['write']!==_0xc74ac1&&_0x3676c4['depthMask'](_0xc74ac1);let {func:_0x27eed3,test:_0x57d1d2}=_0x5bc282;!_0x57d1d2&&_0xc74ac1&&(_0x57d1d2=!(0x2a2+0xa*-0x2c6+-0x6*-0x42f),_0x27eed3=Wi),_0x44f563['func']!==_0x27eed3&&_0x3676c4['depthFunc'](this['glComparis'+'on'][_0x27eed3]),_0x44f563['test']!==_0x57d1d2&&(_0x57d1d2?_0x3676c4['enable'](_0x3676c4['DEPTH_TEST']):_0x3676c4['disable'](_0x3676c4['DEPTH_TEST']));const {depthBias:_0x220a7e,depthBiasSlope:_0x38f1df}=_0x5bc282;_0x220a7e||_0x38f1df?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x1*-0x64b+-0x2e*0x22+-0x2f),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x3676c4['polygonOff'+'set'](_0x38f1df,_0x220a7e)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x993+0x1512+0x1*-0xb7e),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x44f563['copy'](_0x5bc282);}}['setCullMod'+'e'](_0x3451b1){if(this['cullMode']!==_0x3451b1){if(_0x3451b1===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x33a93d=this['glCull'][_0x3451b1];this['cullFace']!==_0x33a93d&&(this['gl']['cullFace'](_0x33a93d),this['cullFace']=_0x33a93d);}this['cullMode']=_0x3451b1;}}['setShader'](_0x5ef44d,_0x12427b=!(-0x1*-0x5cb+-0x6c9+0x55*0x3)){_0x5ef44d!==this['shader']&&(this['shader']=_0x5ef44d,this['shaderAsyn'+'cCompile']=_0x12427b,this['shaderVali'+'d']=void(-0x688+0xb1b+-0x493*0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x3d4e5f}=this,{impl:_0x2a71ae}=_0x3d4e5f;this['shaderVali'+'d']===void(-0x3f*0x53+0x1*-0xf51+-0x5f5*-0x6)&&(_0x3d4e5f['failed']?this['shaderVali'+'d']=!(-0x14c+-0x7*0x44b+0x1*0x1f5a):_0x3d4e5f['ready']||(this['shaderAsyn'+'cCompile']?_0x2a71ae['isLinked'](this)?_0x2a71ae['finalize'](this,_0x3d4e5f)||(_0x3d4e5f['failed']=!(0x2dd*0x1+0x1186*-0x1+0xea9),this['shaderVali'+'d']=!(0x24bb*-0x1+0x11*-0xd3+-0x32bf*-0x1)):this['shaderVali'+'d']=!(-0x74f*-0x1+0x1*-0x1e89+-0x139*-0x13):_0x2a71ae['finalize'](this,_0x3d4e5f)||(_0x3d4e5f['failed']=!(0x20ab+-0xa57*0x2+-0xbfd),this['shaderVali'+'d']=!(0xc31+0x12e*0x4+-0x21d*0x8)))),this['shaderVali'+'d']===void(0x6bd+-0x1749+0x108c)&&(this['gl']['useProgram'](_0x2a71ae['glProgram']),this['shaderVali'+'d']=!(0x1e9b+0x1630*-0x1+-0x1*0x86b));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x1c177c=this['gl'];this['_vaoMap']['forEach']((_0x55b69c,_0x3f8579,_0x47dd17)=>{_0x1c177c['deleteVert'+'exArray'](_0x55b69c);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x9edb66){_0x9edb66?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1af76e=0x1*0x1511+0x10bb+0x7*-0x558){const _0x44cce6=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x44cce6['loseContex'+'t'](),setTimeout(()=>_0x44cce6['restoreCon'+'text'](),_0x1af76e);}}let nw=0x114*-0x15+0x1*0x196d+-0x17*0x1f;class br{constructor(_0x175088,_0x1abf8e,_0x34e21a,_0x1e1de2=ms,_0xbc37cb,_0x3e7367){this['device']=_0x175088,this['format']=_0x1abf8e,this['numIndices']=_0x34e21a,this['usage']=_0x1e1de2,this['id']=nw++,this['impl']=_0x175088['createInde'+'xBufferImp'+'l'](this,_0x3e7367);const _0x153e91=hT[_0x1abf8e];this['bytesPerIn'+'dex']=_0x153e91,this['numBytes']=this['numIndices']*_0x153e91,_0xbc37cb?this['setData'](_0xbc37cb):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x175088['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x4a2ca8=this['device'],_0x3f9e71=_0x4a2ca8['buffers']['indexOf'](this);_0x3f9e71!==-(0x3*-0xbb7+-0x12*-0x1bb+0x400)&&_0x4a2ca8['buffers']['splice'](_0x3f9e71,0xb08+-0x1485+-0x2*-0x4bf),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x4a2ca8),this['adjustVram'+'SizeTracki'+'ng'](_0x4a2ca8['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x6613c6,_0x1d290b){w['trace'](j0,this['id']+'\x20size:\x20'+_0x1d290b+'\x20vram.ib:\x20'+_0x6613c6['ib']+'\x20=>\x20'+(_0x6613c6['ib']+_0x1d290b)),_0x6613c6['ib']+=_0x1d290b;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x46a589){return _0x46a589['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x46a589['byteLength']),!(0xc1d+0x61c*0x6+0x1862*-0x2)):(this['storage']=_0x46a589,this['unlock'](),!(0x7bd+0x1*0x236e+-0x2b2b));}['_lockTyped'+'Array'](){const _0x529ebc=this['lock']();return this['format']===wr?new Uint32Array(_0x529ebc):this['format']===Yi?new Uint16Array(_0x529ebc):new Uint8Array(_0x529ebc);}['writeData'](_0x519d82,_0x301941){const _0x3c575e=this['_lockTyped'+'Array']();if(_0x519d82['length']>_0x301941){if(ArrayBuffer['isView'](_0x519d82))_0x519d82=_0x519d82['subarray'](0x1bc9*-0x1+0x755*0x5+-0x8e0,_0x301941),_0x3c575e['set'](_0x519d82);else{for(let _0x30daf6=0x2279+-0x1*-0x1903+-0x3b7c;_0x30daf6<_0x301941;_0x30daf6++)_0x3c575e[_0x30daf6]=_0x519d82[_0x30daf6];}}else _0x3c575e['set'](_0x519d82);this['unlock']();}['readData'](_0x949610){const _0x4b459b=this['_lockTyped'+'Array'](),_0x21c552=this['numIndices'];if(ArrayBuffer['isView'](_0x949610))_0x949610['set'](_0x4b459b);else{_0x949610['length']=0x1*0x1543+0x71*0x33+0x1a*-0x1af;for(let _0x40af03=-0x6*-0x3b+0xe77+-0xfd9;_0x40af03<_0x21c552;_0x40af03++)_0x949610[_0x40af03]=_0x4b459b[_0x40af03];}return _0x21c552;}}class ow{constructor(){h(this,'clearValue',new ie(-0x22c3+0x170c+0xbb7,-0x1b92+-0xb8b+0x11*0x24d,-0x2549+0x39f+0x21aa,0x1c3+0x7*0x40+-0x382)),h(this,'clearValue'+'Linear',new ie(-0x25c0+-0x85e+-0x2e1e*-0x1,-0x12b*-0x16+0x1e7*-0x5+-0x102f,-0x241b+-0xbc7+0x2fe2,0x60f+-0xade+-0x38*-0x16)),h(this,'clear',!(0x8bf+0x242e+-0x2cec)),h(this,'store',!(-0xbcd*-0x1+-0x3*-0x99b+0x25*-0x119)),h(this,'resolve',!(0x1f1+0x432*-0x9+0x23d1)),h(this,'genMipmaps',!(-0xee8+0x421*-0x2+-0x3*-0x7b9));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x2*-0x1111+-0x19*-0x22+-0x2573),h(this,'clearStenc'+'ilValue',0x6e7+0x19aa+-0x2091),h(this,'clearDepth',!(0x1e67+-0x4*0x58c+-0x836)),h(this,'clearStenc'+'il',!(0x1*-0xa24+0x637+-0x1*-0x3ee)),h(this,'storeDepth',!(-0x4c*-0x4c+-0x2641+0xfb2)),h(this,'resolveDep'+'th',!(-0xe58+0x1477+-0x61e)),h(this,'storeStenc'+'il',!(0x1f7c+-0xa*-0xd6+-0x149*0x1f));}}class ys{constructor(_0x1447a1){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x26*-0x85+-0x28*0xef+-0x119a*-0x1)),h(this,'_skipStart',!(0x1ab3+-0x2627+-0x1a3*-0x7)),h(this,'_skipEnd',!(-0xc3*0xd+0x19bd+0x1*-0xfd5)),h(this,'executeEna'+'bled',!(0x192*0x17+0x229d*0x1+-0x46bb)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x7ba+0x173c*-0x1+0x6*0x529),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0x1bcd+0x203*0xa+-0x2feb)),h(this,'fullSizeCl'+'earRect',!(-0x49c+0x1cea*-0x1+0x2186)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x1447a1),this['device']=_0x1447a1);}get['colorOps'](){return this['colorArray'+'Ops'][0x2047+-0xd23+-0x1324];}set['name'](_0x593022){this['_name']=_0x593022;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x34f961){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x34f961;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x48996c){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x48996c;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x1ce667){this['_options']=_0x1ce667,_0x1ce667&&(this['scaleX']=this['scaleX']??0x1154+-0x15d*-0x1a+-0x13*0x2c7,this['scaleY']=this['scaleY']??0x1b3*-0x3+0x22*-0x100+0x6e*0x5b);}get['options'](){return this['_options'];}['init'](_0x300d94=null,_0x4993dc){this['options']=_0x4993dc,this['renderTarg'+'et']=_0x300d94,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0xf*-0x36+0x5e6+-0x2bb),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x2fcb2a,_0x165da4,_0x13e3fd,_0xe08d74;const _0x2964a6=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x2964a6!=null&&_0x2964a6['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1517+0x72c+-0x1c43));const _0x4d1fa1=_0x2964a6?((_0x2fcb2a=_0x2964a6['_colorBuff'+'ers'])==null?void(-0x9*0x1c9+0x5*-0x81+0x1296):_0x2fcb2a['length'])??-0x203*0x13+0x41e+-0x221b*-0x1:0x1e6d*0x1+-0x1655+-0x6d*0x13;this['colorArray'+'Ops']['length']=-0x9bb+0x21b6+-0x17fb;for(let _0x43f613=0x1048+-0x70d+-0x93b;_0x43f613<_0x4d1fa1;_0x43f613++){const _0x1151ca=new ow();this['colorArray'+'Ops'][_0x43f613]=_0x1151ca,this['samples']===0x7c*-0xd+0x9*-0x396+0x2693&&(_0x1151ca['store']=!(0x14b1+-0xbc0+0x15*-0x6d),_0x1151ca['resolve']=!(0x1894+-0x1f04+-0x61*-0x11));const _0x42e6c7=(_0x13e3fd=(_0x165da4=this['renderTarg'+'et'])==null?void(-0x1*-0x21c8+-0x1b5f+-0x223*0x3):_0x165da4['_colorBuff'+'ers'])==null?void(-0x1*-0x21af+-0x1ba9+0x303*-0x2):_0x13e3fd[_0x43f613];if((_0xe08d74=this['renderTarg'+'et'])!=null&&_0xe08d74['mipmaps']&&(_0x42e6c7!=null&&_0x42e6c7['mipmaps'])){const _0x3f5574=dn(_0x42e6c7['_format']);_0x1151ca['genMipmaps']=!_0x3f5574;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x3617c7=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x410988=Math['floor'](_0x3617c7['width']*this['scaleX']),_0x5ab874=Math['floor'](_0x3617c7['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x410988,_0x5ab874);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x23d245){this['_enabled']!==_0x23d245&&(this['_enabled']=_0x23d245,_0x23d245?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x4e2b77){const _0x5004f7=this['colorArray'+'Ops']['length'];for(let _0x2d0fe7=0x1*-0xc9d+-0x1ae*0xd+-0x1*-0x2273;_0x2d0fe7<_0x5004f7;_0x2d0fe7++){const _0x49463c=this['colorArray'+'Ops'][_0x2d0fe7];_0x4e2b77&&(_0x49463c['clearValue']['copy'](_0x4e2b77),_0x49463c['clearValue'+'Linear']['linear'](_0x4e2b77)),_0x49463c['clear']=!!_0x4e2b77;}}['setClearDe'+'pth'](_0x3ff339){_0x3ff339&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x3ff339),this['depthStenc'+'ilOps']['clearDepth']=_0x3ff339!==void(0x7a*0x6+0x1504*0x1+-0x17e*0x10);}['setClearSt'+'encil'](_0x390274){_0x390274&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x390274),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x390274!==void(0x29*-0x45+-0x563*0x2+-0x25*-0x97);}['render'](){if(this['enabled']){const _0x173540=this['device'],_0x538922=this['renderTarg'+'et']!==void(-0x195+0x182*0x11+-0x180d);w['call'](()=>{this['log'](_0x173540,_0x173540['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x538922&&!this['_skipStart']&&_0x173540['startRende'+'rPass'](this),this['execute'](),_0x538922&&!this['_skipEnd']&&_0x173540['endRenderP'+'ass'](this)),this['after'](),_0x173540['renderPass'+'Index']++;}}['log'](_0x180139,_0x434e11=-0x235+0x135*-0x1f+0x4*0x9e8){var _0x27050c,_0xa547c1,_0x5ffebd;if(mi['get'](Pm)||mi['get'](cn)){const _0x226cfa=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x180139['backBuffer']:null),_0x41dad6=!!(_0x226cfa!=null&&_0x226cfa['impl']['assignedCo'+'lorTexture'])||(_0x226cfa==null?void(0xc8e*-0x2+-0x1*-0x171+0x17ab):_0x226cfa['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x1ad7*-0x1+0xae3*0x1+0xff4),_0x59dfe9=((_0x27050c=_0x226cfa==null?void(0x63*-0x25+0x1*0x103d+0x26*-0xd):_0x226cfa['_colorBuff'+'ers'])==null?void(-0xc3*-0x12+0x21cb+0x1*-0x2f81):_0x27050c['length'])??(_0x41dad6?0x111a+0x1*0x1ed7+0x1*-0x2ff0:-0xc1e+-0x47f+-0x1*-0x109d),_0x5d23b8=_0x226cfa==null?void(-0x2440+-0x29*0x20+-0x20*-0x14b):_0x226cfa['depth'],_0x3eff0c=_0x226cfa==null?void(0x1*-0x905+0x2276*-0x1+0x2b7b):_0x226cfa['stencil'],_0x35f92f=_0x226cfa==null?void(-0x146*-0x1b+0x13a*0x8+-0x1619*0x2):_0x226cfa['mipLevel'],_0x494d73=_0x226cfa?'\x20RT:\x20'+(_0x226cfa?_0x226cfa['name']:'NULL')+'\x20'+(_0x59dfe9>-0x1*0x49+0x1249+0x2*-0x900?'[Color'+(_0x59dfe9>-0x246*0x1+-0x1*-0x2455+0x6*-0x5ad?'\x20x\x20'+_0x59dfe9:'')+']':'')+(_0x5d23b8?'[Depth]':'')+(_0x3eff0c?'[Stencil]':'')+'\x20'+_0x226cfa['width']+'\x20x\x20'+_0x226cfa['height']+(this['samples']>0x3*-0x287+0x576*0x5+0x231*-0x9?'\x20samples:\x20'+this['samples']:'')+(_0x35f92f>0x1*-0x1567+0x1181*0x1+-0x1*-0x3e6?'\x20mipLevel:'+'\x20'+_0x35f92f:''):'',_0x4cb598=this['_skipStart']?'++':_0x434e11['toString']()['padEnd'](-0x57e*0x1+0x1167+-0xbe7,'\x20');w['trace'](Pm,_0x4cb598+':\x20'+this['name']['padEnd'](0x224f+0x12ea+0x3525*-0x1,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x494d73['padEnd'](-0x1c*0xb3+0x127c+0x136));for(let _0x47ae25=0x2704+0x1593+-0x3c97;_0x47ae25<_0x59dfe9;_0x47ae25++){const _0x41ad1f=this['colorArray'+'Ops'][_0x47ae25],_0x46753c=(_0xa547c1=Nt['get'](_0x41dad6?_0x180139['backBuffer'+'Format']:_0x226cfa['getColorBu'+'ffer'](_0x47ae25)['format']))==null?void(0x21d7+-0x2701+-0x2*-0x295):_0xa547c1['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x47ae25+']:\x20'+(_0x41ad1f['clear']?'clear':'load')+'->'+(_0x41ad1f['store']?'store':'discard')+'\x20'+(_0x41ad1f['resolve']?'resolve\x20':'')+(_0x41ad1f['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x46753c+']\x20'+(_0x41ad1f['clear']?'[clear:\x20'+_0x41ad1f['clearValue']['toString'](!(0x2a1*-0x8+0x2*0x1196+-0xe24),!(0x7d+-0x20e3*-0x1+-0x2160))+']':''));}if(this['depthStenc'+'ilOps']){const _0x2f2257=''+(_0x226cfa['depthBuffe'+'r']?'\x20[format:\x20'+((_0x5ffebd=Nt['get'](_0x226cfa['depthBuffe'+'r']['format']))==null?void(-0x5*-0x233+0xb78+-0x1677):_0x5ffebd['name'])+']':'');_0x5d23b8&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x2f2257+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x3eff0c&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x2f2257+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x33a786){this['array'][this['index']]=_0x33a786;}function hw(_0x341eeb,_0x422be1){this['array'][this['index']]=_0x341eeb,this['array'][this['index']+(-0x60a*-0x2+0x134*-0xe+0x197*0x3)]=_0x422be1;}function dw(_0xec68d1,_0x100737,_0x3fbb04){this['array'][this['index']]=_0xec68d1,this['array'][this['index']+(0x5b*-0x3+-0x10*-0x1e5+-0x1d3e)]=_0x100737,this['array'][this['index']+(-0x23*0xb7+-0x52b+0x1e32)]=_0x3fbb04;}function fw(_0x1ddae1,_0x4cbeab,_0x2a360e,_0x1c7abb){this['array'][this['index']]=_0x1ddae1,this['array'][this['index']+(0x666+0x265+0x5a*-0x19)]=_0x4cbeab,this['array'][this['index']+(-0x147d+-0xc3b+-0x105d*-0x2)]=_0x2a360e,this['array'][this['index']+(0x29*0x9+-0x1896+0x1728)]=_0x1c7abb;}function uw(_0xbde867,_0x5f2b43,_0x147a54){this['array'][_0xbde867]=_0x5f2b43[_0x147a54];}function pw(_0x340444,_0x4fc38f,_0x12e30c){this['array'][_0x340444]=_0x4fc38f[_0x12e30c],this['array'][_0x340444+(-0xa16*-0x2+-0x2677+0x124c)]=_0x4fc38f[_0x12e30c+(-0x162*0x2+-0x22f2+0x25b7)];}function mw(_0x1edd56,_0x1454c9,_0x2fbf86){this['array'][_0x1edd56]=_0x1454c9[_0x2fbf86],this['array'][_0x1edd56+(0x25d5+0x2645+-0xa1*0x79)]=_0x1454c9[_0x2fbf86+(-0x1c23+-0x2*0x1057+0x3cd2)],this['array'][_0x1edd56+(0x911+0x4b*-0x14+0x111*-0x3)]=_0x1454c9[_0x2fbf86+(0x2d8+-0x18af+0x31f*0x7)];}function _w(_0x504e62,_0x1cf2e1,_0x3b8b8d){this['array'][_0x504e62]=_0x1cf2e1[_0x3b8b8d],this['array'][_0x504e62+(-0x17*-0x95+-0xb4c+-0x216)]=_0x1cf2e1[_0x3b8b8d+(-0x78f+-0x18a8+0x2038)],this['array'][_0x504e62+(-0xa3c+0x1e98+-0x145a)]=_0x1cf2e1[_0x3b8b8d+(0x5c8+-0x628+0x62*0x1)],this['array'][_0x504e62+(0x3*0x9aa+0x11da+-0x13*0x277)]=_0x1cf2e1[_0x3b8b8d+(0x22c6*-0x1+-0x14fb+0x37c4)];}function gw(_0x3ac7a3,_0x24ac4f,_0x3999bd){_0x24ac4f[_0x3999bd]=this['array'][_0x3ac7a3];}function Sw(_0x2bb49c,_0x43af33,_0x140cad){_0x43af33[_0x140cad]=this['array'][_0x2bb49c],_0x43af33[_0x140cad+(-0x2*0x9bc+0x108b+0x2ee)]=this['array'][_0x2bb49c+(-0x13bf+-0x3*-0x1c4+0xe74)];}function yw(_0x357633,_0xbc3e7b,_0x3d8796){_0xbc3e7b[_0x3d8796]=this['array'][_0x357633],_0xbc3e7b[_0x3d8796+(-0x4ff+-0x43d*-0x1+0xc3)]=this['array'][_0x357633+(0x2b*0x1+0x9a9*-0x2+0x1328)],_0xbc3e7b[_0x3d8796+(0xb8*0x5+0x35*0x4d+-0x1387)]=this['array'][_0x357633+(-0xc1e+0x8ff*-0x3+-0x20f*-0x13)];}function vw(_0x1978fd,_0x5a6bd9,_0x31d9b2){_0x5a6bd9[_0x31d9b2]=this['array'][_0x1978fd],_0x5a6bd9[_0x31d9b2+(0x1*0xb9b+-0xdfa+0x4c*0x8)]=this['array'][_0x1978fd+(-0x24a7+0x255a+-0xb2)],_0x5a6bd9[_0x31d9b2+(0x2340+0x1843+-0x3b81)]=this['array'][_0x1978fd+(0x1*0x188+0x2de*0x1+-0x464)],_0x5a6bd9[_0x31d9b2+(0x187b+-0x24f6+0xc7e)]=this['array'][_0x1978fd+(-0x2*-0x1205+0x1680+0x1*-0x3a87)];}class xw{constructor(_0x357894,_0x43dc39,_0x5a0662){switch(this['index']=-0x1*-0x56f+-0x2*-0xaf4+-0x1b57,this['numCompone'+'nts']=_0x43dc39['numCompone'+'nts'],_0x5a0662['interleave'+'d']?this['array']=new wn[_0x43dc39['dataType']](_0x357894,_0x43dc39['offset']):this['array']=new wn[_0x43dc39['dataType']](_0x357894,_0x43dc39['offset'],_0x5a0662['vertexCoun'+'t']*_0x43dc39['numCompone'+'nts']),this['stride']=_0x43dc39['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x43dc39['numCompone'+'nts']){case-0xb67+-0x1f08+0x54e*0x8:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0xd1*-0xa+0x1*0x1357+-0x1b7f:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x2d1*0x1+-0x247a+0x21ac:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0xd52+-0x205f*-0x1+-0x1*0x2dad:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x5e1f2b){return this['array'][this['index']+_0x5e1f2b];}['set'](_0x55c7f7,_0x2b0ebd,_0x22a81b,_0x3bded0){}['getToArray'](_0x5bfb5e,_0x3c96dc,_0x3770e9){}['setFromArr'+'ay'](_0x2cadcc,_0x15aa9f,_0x257754){}}class Uo{constructor(_0x5d27df){this['vertexBuff'+'er']=_0x5d27df,this['vertexForm'+'atSize']=_0x5d27df['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x454d7d=this['vertexBuff'+'er']['getFormat']();for(let _0x50e67b=-0x1d12+0x9e3+0x3*0x665;_0x50e67b<_0x454d7d['elements']['length'];_0x50e67b++){const _0x30ecc6=_0x454d7d['elements'][_0x50e67b];this['accessors'][_0x50e67b]=new xw(this['buffer'],_0x30ecc6,_0x454d7d),this['element'][_0x30ecc6['name']]=this['accessors'][_0x50e67b];}}['next'](_0x2ca609=0x158*0x8+0x2*-0x1271+0x1a23){let _0x31e2ac=-0x235*-0x1+0x1c87*-0x1+-0x8c6*-0x3;const _0x561f36=this['accessors'],_0x1adef8=this['accessors']['length'];for(;_0x31e2ac<_0x1adef8;){const _0x1f0f3f=_0x561f36[_0x31e2ac++];_0x1f0f3f['index']+=_0x2ca609*_0x1f0f3f['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x209624,_0x5b6f99,_0x1839c6){const _0x1627a7=this['element'][_0x209624];if(_0x1627a7){_0x1839c6>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x1839c6+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x1839c6=this['vertexBuff'+'er']['numVertice'+'s']);const _0x3344b9=_0x1627a7['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x3ac47a=-0xa35*0x1+0x10*-0x5e+0xb3*0x17;for(let _0x45ce2e=-0x1dfa+-0x232d+-0x4127*-0x1;_0x45ce2e<_0x1839c6;_0x45ce2e++)_0x1627a7['setFromArr'+'ay'](_0x3ac47a,_0x5b6f99,_0x45ce2e*_0x3344b9),_0x3ac47a+=_0x1627a7['stride'];}else{if(_0x5b6f99['length']>_0x1839c6*_0x3344b9){const _0x2dd99d=_0x1839c6*_0x3344b9;if(ArrayBuffer['isView'](_0x5b6f99))_0x5b6f99=_0x5b6f99['subarray'](0x17d*-0xa+-0x1*0x1227+0x1*0x2109,_0x2dd99d),_0x1627a7['array']['set'](_0x5b6f99);else{for(let _0x97414c=-0x1d08+-0x1ef0+0x3bf8;_0x97414c<_0x2dd99d;_0x97414c++)_0x1627a7['array'][_0x97414c]=_0x5b6f99[_0x97414c];}}else _0x1627a7['array']['set'](_0x5b6f99);}}}['readData'](_0x47bff1,_0x50355e){const _0x5d80dd=this['element'][_0x47bff1];let _0x475ae5=-0xde8+0x3db+0xa0d*0x1;if(_0x5d80dd){_0x475ae5=this['vertexBuff'+'er']['numVertice'+'s'];let _0x5d4c67;const _0x36a32c=_0x5d80dd['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x50355e)&&(_0x50355e['length']=0x9e1*0x3+-0x669+-0x173a),_0x5d80dd['index']=-0x175f+-0x1c55+0x33b4;let _0x334f54=0xad*0x22+0x1c4f+0x13*-0x2b3;for(_0x5d4c67=-0x259e+-0x1*-0x69c+0x1f02;_0x5d4c67<_0x475ae5;_0x5d4c67++)_0x5d80dd['getToArray'](_0x334f54,_0x50355e,_0x5d4c67*_0x36a32c),_0x334f54+=_0x5d80dd['stride'];}else{if(ArrayBuffer['isView'](_0x50355e))_0x50355e['set'](_0x5d80dd['array']);else{_0x50355e['length']=0x1eb0*-0x1+-0x5a*-0x65+-0x4d2;const _0x1ffcb9=_0x475ae5*_0x36a32c;for(_0x5d4c67=0x2ed+-0x1*0x1e4d+0xc*0x248;_0x5d4c67<_0x1ffcb9;_0x5d4c67++)_0x50355e[_0x5d4c67]=_0x5d80dd['array'][_0x5d4c67];}}}return _0x475ae5;}}const Tw=-(0x73*-0x1f+-0x1a65+0x2853);class ww{constructor(_0xbfaade,_0xe4040b){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0xe4040b&&(this['key']=_0xe4040b['keyCode'],this['element']=_0xe4040b['target'],this['event']=_0xe4040b);}}const jl=new ww();function Vd(_0x3358c8){return jl['key']=_0x3358c8['keyCode'],jl['element']=_0x3358c8['target'],jl['event']=_0x3358c8,jl;}function Yl(_0x534585){return typeof _0x534585=='string'?_0x534585['toUpperCas'+'e']()['charCodeAt'](0x1d19+0x547*0x4+-0x3235):_0x534585;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x4f0300,_0x50d609={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x4f0300&&this['attach'](_0x4f0300),this['preventDef'+'ault']=_0x50d609['preventDef'+'ault']||!(0x25*-0xbd+-0x1c2f+0x3781),this['stopPropag'+'ation']=_0x50d609['stopPropag'+'ation']||!(0x1e11+-0x5*-0x29f+-0x1*0x2b2b));}['attach'](_0x17dbb1){this['_element']&&this['detach'](),this['_element']=_0x17dbb1,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x6*-0x1b6+-0x1a30+0x2475)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x16b7+0x39b+-0x1a51*0x1)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x15dd*-0x1+-0xb7d*0x1+0x215b)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xa25+-0x776+-0x2*0x157)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1*0x1c5d+0x1*-0x2205+0x5a9));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x475*-0x7+0x7a3+0x1791)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x11a6+0x263c+-0x37e1));}['toKeyIdent'+'ifier'](_0x51170f){_0x51170f=Yl(_0x51170f);const _0xc337=Ew[_0x51170f['toString']()];if(_0xc337)return _0xc337;let _0xce2d29=_0x51170f['toString'](0x1a70+0x71*0x1+0x5*-0x55d)['toUpperCas'+'e']();const _0x9a7a48=_0xce2d29['length'];for(let _0x596707=0x1*0x455+-0x6d1+0x6*0x6a;_0x596707<0xa*-0x3b9+-0xb*0x187+0x360b-_0x9a7a48;_0x596707++)_0xce2d29='0'+_0xce2d29;return'U+'+_0xce2d29;}['_handleKey'+'Down'](_0x2c7000){const _0x5ca9d1=_0x2c7000['keyCode']||_0x2c7000['charCode'];if(_0x5ca9d1===void(0x23b3*0x1+0x12be+0xb5*-0x4d))return;const _0x48a732=this['toKeyIdent'+'ifier'](_0x5ca9d1);this['_keymap'][_0x48a732]=!(-0x1257*-0x1+-0x1e09+-0x2*-0x5d9),this['fire']('keydown',Vd(_0x2c7000)),this['preventDef'+'ault']&&_0x2c7000['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x2c7000['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x218b22){const _0x2672a7=_0x218b22['keyCode']||_0x218b22['charCode'];if(_0x2672a7===void(-0xe63+0x1433*-0x1+-0x2*-0x114b))return;const _0x3e1028=this['toKeyIdent'+'ifier'](_0x2672a7);delete this['_keymap'][_0x3e1028],this['fire']('keyup',Vd(_0x218b22)),this['preventDef'+'ault']&&_0x218b22['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x218b22['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x446df2){this['fire']('keypress',Vd(_0x446df2)),this['preventDef'+'ault']&&_0x446df2['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x446df2['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x30ea31 in this['_lastmap'])delete this['_lastmap'][_0x30ea31];for(const _0x385ff0 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x385ff0)&&(this['_lastmap'][_0x385ff0]=this['_keymap'][_0x385ff0]);}['isPressed'](_0x1fd81c){const _0x6c19f8=Yl(_0x1fd81c),_0x2704f1=this['toKeyIdent'+'ifier'](_0x6c19f8);return!!this['_keymap'][_0x2704f1];}['wasPressed'](_0x445ed3){const _0x34c7be=Yl(_0x445ed3),_0x4ad4de=this['toKeyIdent'+'ifier'](_0x34c7be);return!!this['_keymap'][_0x4ad4de]&&!this['_lastmap'][_0x4ad4de];}['wasRelease'+'d'](_0x3b795a){const _0x3642a7=Yl(_0x3b795a),_0x2ec455=this['toKeyIdent'+'ifier'](_0x3642a7);return!this['_keymap'][_0x2ec455]&&!!this['_lastmap'][_0x2ec455];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x223d41,_0x58f5e4){h(this,'x',0xbb0*0x1+-0x1*-0x2d6+-0xe86),h(this,'y',0x1d12+-0xd25+-0xfed),h(this,'dx',-0xce3*0x1+-0x1306+0x3*0xaa3),h(this,'dy',0x19cc+-0xc39+0x19*-0x8b),h(this,'button',Tw),h(this,'wheelDelta',0x92b*-0x1+-0x179*0x3+-0x2f*-0x4a),h(this,'element'),h(this,'ctrlKey',!(-0xe69+-0x11ab+0x2015)),h(this,'altKey',!(0xbcf+0x3cd+-0x2f*0x55)),h(this,'shiftKey',!(0x1*-0x2621+-0x2367+0x4989)),h(this,'metaKey',!(0x2431+0x2319+-0x4749)),h(this,'event');let _0x3bbb77={'x':0x0,'y':0x0};if(_0x58f5e4){if(_0x58f5e4 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x3bbb77=_0x223d41['_getTarget'+'Coords'](_0x58f5e4);}else _0x58f5e4={};if(_0x3bbb77)this['x']=_0x3bbb77['x'],this['y']=_0x3bbb77['y'];else{if(ru())this['x']=0x7*0x501+0x1*-0x9cd+-0x193a*0x1,this['y']=0xcf2*-0x2+0x27*0x2d+0x1309;else return;}_0x58f5e4['type']==='wheel'&&(_0x58f5e4['deltaY']>0x1131*-0x2+-0x7dd+0x135*0x23?this['wheelDelta']=-0x337*-0x9+0x209e+0x4bc*-0xd:_0x58f5e4['deltaY']<-0x1a8b+0x2613+-0x6*0x1ec&&(this['wheelDelta']=-(0x3*-0x936+0x15ed+0x2b*0x22))),ru()?(this['dx']=_0x58f5e4['movementX']||_0x58f5e4['webkitMove'+'mentX']||_0x58f5e4['mozMovemen'+'tX']||-0x71*0x31+-0x5*-0x5d2+0x779*-0x1,this['dy']=_0x58f5e4['movementY']||_0x58f5e4['webkitMove'+'mentY']||_0x58f5e4['mozMovemen'+'tY']||-0xe48+0x3*0x86+0xcb6*0x1):(this['dx']=this['x']-_0x223d41['_lastX'],this['dy']=this['y']-_0x223d41['_lastY']),(_0x58f5e4['type']==='mousedown'||_0x58f5e4['type']==='mouseup')&&(this['button']=_0x58f5e4['button']),this['buttons']=_0x223d41['_buttons']['slice'](0x1*-0x19f7+0x97*-0x2+0x1b25),this['element']=_0x58f5e4['target'],this['ctrlKey']=_0x58f5e4['ctrlKey']??!(-0x10d1+-0xb24+0x1bf6),this['altKey']=_0x58f5e4['altKey']??!(-0x1f*0x8f+0x4*0x5e+-0x2*-0x7ed),this['shiftKey']=_0x58f5e4['shiftKey']??!(0x3*0xbdd+0x1861+-0x1*0x3bf7),this['metaKey']=_0x58f5e4['metaKey']??!(0x23c3+0x1ffd+-0x43bf),this['event']=_0x58f5e4;}}class sa extends me{constructor(_0x2bf26e){super(),h(this,'_lastX',-0xc2f+-0x4*-0x62b+-0xc7d),h(this,'_lastY',0x15f8+-0x2657+0x105f),h(this,'_buttons',[!(0x63a+0x1159+-0xe*0x1af),!(0x123*-0x1b+0x1cf0+0x12*0x19),!(-0xfee*-0x1+-0x419*-0x5+-0x1*0x246a)]),h(this,'_lastbutto'+'ns',[!(0x236c*0x1+0x100*0x20+-0x436b),!(-0x225e*-0x1+-0x1*-0x30d+0x12b5*-0x2),!(0x4*-0x24+-0x19e9+0x1*0x1a7a)]),h(this,'_target',null),h(this,'_attached',!(-0xa9*0xe+0x1f1b*0x1+-0x15dc)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x140b91=>{_0x140b91['preventDef'+'ault']();},this['attach'](_0x2bf26e));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x40b8c7){if(this['_target']=_0x40b8c7,this['_attached'])return;this['_attached']=!(-0x2068+0x3bc*-0x6+-0x10*-0x36d);const _0x4b3ec2={'passive':!(0x1aad+-0x9*-0x3ea+-0x3de6)},_0x2162b0=Ae['passiveEve'+'nts']?_0x4b3ec2:!(-0x1*0x7f7+-0x246d*0x1+-0x5*-0x8e1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x2162b0),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x2162b0),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x2162b0),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x2162b0);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x216*-0x7+0x166*-0x4+-0x901*0x1),this['_target']=null;const _0x168d92={'passive':!(0x12b7+-0xec6+-0x3f0)},_0x18c67b=Ae['passiveEve'+'nts']?_0x168d92:!(-0x2469+-0x2399+0x1801*0x3);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x18c67b),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x18c67b),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x18c67b),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x18c67b);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x2faa27,_0x63a8c5){if(!document['body']['requestPoi'+'nterLock']){_0x63a8c5&&_0x63a8c5();return;}const _0x4534ce=()=>{_0x2faa27(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4534ce);},_0x4c22cf=()=>{_0x63a8c5(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x4c22cf);};_0x2faa27&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4534ce,!(-0x527*0x3+0x3*-0x5a8+0x251*0xe)),_0x63a8c5&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x4c22cf,!(0x25ea+-0xeae*-0x2+-0x4345)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x416783){if(!document['exitPointe'+'rLock'])return;const _0x1a7c3a=()=>{_0x416783(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x1a7c3a);};_0x416783&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x1a7c3a,!(0x241f+0x3d*0x5+-0x254f)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x3e*-0x1a+0x223b+0x1bef*-0x1]=this['_buttons'][0xaa9*-0x1+-0x62b+0x10d4],this['_lastbutto'+'ns'][-0x7*-0x4ca+0x2673+0x188*-0x2f]=this['_buttons'][0x1*-0x5c9+0x1801*0x1+0x1*-0x1237],this['_lastbutto'+'ns'][-0x1eb1+-0xaed+0x29a0]=this['_buttons'][-0x6*-0x70+0x1*-0x1b2b+0x5*0x4e9];}['isPressed'](_0x8f88af){return this['_buttons'][_0x8f88af];}['wasPressed'](_0x285c78){return this['_buttons'][_0x285c78]&&!this['_lastbutto'+'ns'][_0x285c78];}['wasRelease'+'d'](_0x8ad450){return!this['_buttons'][_0x8ad450]&&this['_lastbutto'+'ns'][_0x8ad450];}['_handleUp'](_0x470a25){this['_buttons'][_0x470a25['button']]=!(-0x14fe+-0x8*0x299+0x29c7);const _0x4eab7d=new ta(this,_0x470a25);_0x4eab7d['event']&&this['fire']('mouseup',_0x4eab7d);}['_handleDow'+'n'](_0x2d7a48){this['_buttons'][_0x2d7a48['button']]=!(-0x1*0xe81+-0x1095*0x1+0x1f16);const _0x520da3=new ta(this,_0x2d7a48);_0x520da3['event']&&this['fire']('mousedown',_0x520da3);}['_handleMov'+'e'](_0x34b60b){const _0x4538f3=new ta(this,_0x34b60b);_0x4538f3['event']&&(this['fire']('mousemove',_0x4538f3),this['_lastX']=_0x4538f3['x'],this['_lastY']=_0x4538f3['y']);}['_handleWhe'+'el'](_0x4363dd){const _0x2791d6=new ta(this,_0x4363dd);_0x2791d6['event']&&this['fire']('mousewheel',_0x2791d6);}['_getTarget'+'Coords'](_0x108c48){const _0x43e6ba=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x2828b7=Math['floor'](_0x43e6ba['left']),_0x10dee6=Math['floor'](_0x43e6ba['top']);return _0x108c48['clientX']<_0x2828b7||_0x108c48['clientX']>=_0x2828b7+this['_target']['clientWidt'+'h']||_0x108c48['clientY']<_0x10dee6||_0x108c48['clientY']>=_0x10dee6+this['_target']['clientHeig'+'ht']?null:{'x':_0x108c48['clientX']-_0x2828b7,'y':_0x108c48['clientY']-_0x10dee6};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x3b68b9){let _0x10a41b=0x336+0x16d3*0x1+0x1*-0x1a09,_0x321eb7=0x1f0f+0x2*0xcbd+-0x3889*0x1,_0x2b40d2=_0x3b68b9['target'];for(;!(_0x2b40d2 instanceof HTMLElement)&&_0x2b40d2;)_0x2b40d2=_0x2b40d2['parentNode'];for(;_0x2b40d2;)_0x10a41b+=_0x2b40d2['offsetLeft']-_0x2b40d2['scrollLeft'],_0x321eb7+=_0x2b40d2['offsetTop']-_0x2b40d2['scrollTop'],_0x2b40d2=_0x2b40d2['offsetPare'+'nt'];return{'x':_0x3b68b9['pageX']-_0x10a41b,'y':_0x3b68b9['pageY']-_0x321eb7};}class d_{constructor(_0x591499){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x4fdec5=Wc(_0x591499);this['id']=_0x591499['identifier'],this['x']=_0x4fdec5['x'],this['y']=_0x4fdec5['y'],this['target']=_0x591499['target'],this['touch']=_0x591499;}}class Kl{constructor(_0x525baa,_0x4c0dd1){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x4c0dd1['target'],this['event']=_0x4c0dd1,this['touches']=Array['from'](_0x4c0dd1['touches'])['map'](_0x4f8e6a=>new d_(_0x4f8e6a)),this['changedTou'+'ches']=Array['from'](_0x4c0dd1['changedTou'+'ches'])['map'](_0x32d2d6=>new d_(_0x32d2d6)));}['getTouchBy'+'Id'](_0x248e63,_0xd1f9d4){return _0xd1f9d4['find'](_0x3714b4=>_0x3714b4['id']===_0x248e63)||null;}}class Zl extends me{constructor(_0x1d0d3e){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x1d0d3e);}['attach'](_0x353adb){this['_element']&&this['detach'](),this['_element']=_0x353adb,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x1*0xe3b+0x3c4+-0x11fe)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x1465*0x1+-0x393*0x9+-0xbc7*-0x1)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x6ac+0x176a+-0x1*0x1e15)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0xa*-0x11+0x34*0x47+-0x27*0x63));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0x1ad8+0xdbd+-0x31*0xd4)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(0xe44+-0xb40+-0x303)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x679+0x16*0xad+-0x1556)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x1*0xe0f+0x1700+-0x8f0))),this['_element']=null;}['_handleTou'+'chStart'](_0x525a60){this['fire']('touchstart',new Kl(this,_0x525a60));}['_handleTou'+'chEnd'](_0x3bd0cd){this['fire']('touchend',new Kl(this,_0x3bd0cd));}['_handleTou'+'chMove'](_0x45e018){_0x45e018['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x45e018));}['_handleTou'+'chCancel'](_0x597764){this['fire']('touchcance'+'l',new Kl(this,_0x597764));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x52617e,_0x4cbd60,_0x23a02a){typeof _0x4cbd60=='function'&&(_0x23a02a=_0x4cbd60,_0x4cbd60={});const _0x4a7a6b=this['request']('GET',_0x52617e,_0x4cbd60,_0x23a02a),{progress:_0x4e2c19}=_0x4cbd60;if(_0x4e2c19){const _0x5f1f48=_0x10ce15=>{_0x10ce15['lengthComp'+'utable']&&_0x4e2c19['fire']('progress',_0x10ce15['loaded'],_0x10ce15['total']);},_0x5046c3=_0x317543=>{_0x5f1f48(_0x317543),_0x4a7a6b['removeEven'+'tListener']('loadstart',_0x5f1f48),_0x4a7a6b['removeEven'+'tListener']('progress',_0x5f1f48),_0x4a7a6b['removeEven'+'tListener']('loadend',_0x5046c3);};_0x4a7a6b['addEventLi'+'stener']('loadstart',_0x5f1f48),_0x4a7a6b['addEventLi'+'stener']('progress',_0x5f1f48),_0x4a7a6b['addEventLi'+'stener']('loadend',_0x5046c3);}return _0x4a7a6b;}['post'](_0x52c30c,_0x51bce6,_0x23d6e2,_0x16b444){return typeof _0x23d6e2=='function'&&(_0x16b444=_0x23d6e2,_0x23d6e2={}),_0x23d6e2['postdata']=_0x51bce6,this['request']('POST',_0x52c30c,_0x23d6e2,_0x16b444);}['put'](_0x4d7052,_0x25ebff,_0x367262,_0x5df7a2){return typeof _0x367262=='function'&&(_0x5df7a2=_0x367262,_0x367262={}),_0x367262['postdata']=_0x25ebff,this['request']('PUT',_0x4d7052,_0x367262,_0x5df7a2);}['del'](_0x2ab5d9,_0x25bcc4,_0x22238f){return typeof _0x25bcc4=='function'&&(_0x22238f=_0x25bcc4,_0x25bcc4={}),this['request']('DELETE',_0x2ab5d9,_0x25bcc4,_0x22238f);}['request'](_0x422103,_0x1e2ccb,_0x482410,_0x260e42){let _0x1bf591,_0x34085e,_0x3e6e23,_0x418f82=!(-0xc1*-0x11+0x12f*0xd+-0x1*0x1c33);if(typeof _0x482410=='function'&&(_0x260e42=_0x482410,_0x482410={}),_0x482410['retry']&&(_0x482410=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x482410)),_0x482410['callback']=_0x260e42,_0x482410['async']==null&&(_0x482410['async']=!(0x2*-0xcb0+-0x9b*-0x35+-0x1*0x6b7)),_0x482410['headers']==null&&(_0x482410['headers']={}),_0x482410['postdata']!=null){if(_0x482410['postdata']instanceof Document)_0x3e6e23=_0x482410['postdata'];else{if(_0x482410['postdata']instanceof FormData)_0x3e6e23=_0x482410['postdata'];else{if(_0x482410['postdata']instanceof Object){let _0x566569=_0x482410['headers']['Content-Ty'+'pe'];switch(_0x566569===void(0x1f82+-0x525*0x1+-0x11*0x18d)&&(_0x482410['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x566569=_0x482410['headers']['Content-Ty'+'pe']),_0x566569){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x3e6e23='';let _0x2dc629=!(0x125c*0x2+0x29c*0xb+0x20b6*-0x2);for(const _0x47b0d1 in _0x482410['postdata'])if(_0x482410['postdata']['hasOwnProp'+'erty'](_0x47b0d1)){_0x2dc629?_0x2dc629=!(-0xd*-0xa3+-0x2504+0x1cbe):_0x3e6e23+='&';const _0x523347=encodeURIComponent(_0x47b0d1),_0x4f82cf=encodeURIComponent(_0x482410['postdata'][_0x47b0d1]);_0x3e6e23+=_0x523347+'='+_0x4f82cf;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x566569==null&&(_0x482410['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x3e6e23=JSON['stringify'](_0x482410['postdata']);break;}}else _0x3e6e23=_0x482410['postdata'];}}}if(_0x482410['cache']===!(-0x6a8+0x161f+0x7bb*-0x2)){const _0xee8752=de();_0x1bf591=new Rd(_0x1e2ccb),_0x1bf591['query']?_0x1bf591['query']=_0x1bf591['query']+'&ts='+_0xee8752:_0x1bf591['query']='ts='+_0xee8752,_0x1e2ccb=_0x1bf591['toString']();}_0x482410['query']&&(_0x1bf591=new Rd(_0x1e2ccb),_0x34085e=ah(_0x1bf591['getQuery'](),_0x482410['query']),_0x1bf591['setQuery'](_0x34085e),_0x1e2ccb=_0x1bf591['toString']());const _0x19b9fd=new XMLHttpRequest();_0x19b9fd['open'](_0x422103,_0x1e2ccb,_0x482410['async']),_0x19b9fd['withCreden'+'tials']=_0x482410['withCreden'+'tials']!==void(-0x816+-0x5d4*0x2+0x13be)?_0x482410['withCreden'+'tials']:!(-0xcf4+0x1*-0x1c0+0xeb5*0x1),_0x19b9fd['responseTy'+'pe']=_0x482410['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x1e2ccb);for(const _0x452d79 in _0x482410['headers'])_0x482410['headers']['hasOwnProp'+'erty'](_0x452d79)&&_0x19b9fd['setRequest'+'Header'](_0x452d79,_0x482410['headers'][_0x452d79]);_0x19b9fd['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x422103,_0x1e2ccb,_0x482410,_0x19b9fd);},_0x19b9fd['onerror']=()=>{this['_onError'](_0x422103,_0x1e2ccb,_0x482410,_0x19b9fd),_0x418f82=!(0xd*0xf1+-0xd*-0x2ab+-0x2eec);};try{_0x19b9fd['send'](_0x3e6e23);}catch(_0x7ecc92){_0x418f82||_0x482410['error'](_0x19b9fd['status'],_0x19b9fd,_0x7ecc92);}return _0x19b9fd;}['_guessResp'+'onseType'](_0x249477){const _0x34ca49=new Rd(_0x249477),_0x1151f1=xe['getExtensi'+'on'](_0x34ca49['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x1151f1)>=0x4a8+0x2d8+-0xa0*0xc?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1151f1==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x1151f1==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x59b19a){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x59b19a)>=-0x595*-0x1+-0xc34*0x1+0x153*0x5;}['_isBinaryR'+'esponseTyp'+'e'](_0x3b982b){return _0x3b982b===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x3b982b===Oe['ResponseTy'+'pe']['BLOB']||_0x3b982b===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5ba898,_0xd3291b,_0x5894c1,_0x1a65d9){if(_0x1a65d9['readyState']===0x72a+0x265f+0x2b*-0x10f)switch(_0x1a65d9['status']){case 0x1*0x1c7f+0x1*-0xcd+0x1bb2*-0x1:{_0x1a65d9['responseUR'+'L']&&_0x1a65d9['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5ba898,_0xd3291b,_0x5894c1,_0x1a65d9):this['_onError'](_0x5ba898,_0xd3291b,_0x5894c1,_0x1a65d9);break;}case 0x2e*0x13+0x19c7*-0x1+0x1*0x1725:case-0x1*-0x1aaa+0x334+-0x1d15:case 0x2c*0x49+0x14d5*0x1+-0x10d*0x1f:case 0x16ea+-0x58*-0x3d+0x2ab2*-0x1:{this['_onSuccess'](_0x5ba898,_0xd3291b,_0x5894c1,_0x1a65d9);break;}default:{this['_onError'](_0x5ba898,_0xd3291b,_0x5894c1,_0x1a65d9);break;}}}['_onSuccess'](_0x316797,_0x122b91,_0x9902f,_0x575937){let _0x33cf2b,_0x48efa1;const _0x4a10b4=_0x575937['getRespons'+'eHeader']('Content-Ty'+'pe');_0x4a10b4&&(_0x48efa1=_0x4a10b4['split'](';')[0x4d9+0xa57+-0x24*0x6c]['trim']());try{this['_isBinaryC'+'ontentType'](_0x48efa1)||this['_isBinaryR'+'esponseTyp'+'e'](_0x575937['responseTy'+'pe'])?_0x33cf2b=_0x575937['response']:_0x48efa1===Oe['ContentTyp'+'e']['JSON']||_0x122b91['split']('?')[0x6d1*0x1+0x3b0+0x1*-0xa81]['endsWith']('.json')?_0x33cf2b=JSON['parse'](_0x575937['responseTe'+'xt']):_0x575937['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x48efa1===Oe['ContentTyp'+'e']['XML']?_0x33cf2b=_0x575937['responseXM'+'L']:_0x33cf2b=_0x575937['responseTe'+'xt'],_0x9902f['callback'](null,_0x33cf2b);}catch(_0x4d3212){_0x9902f['callback'](_0x4d3212);}}['_onError'](_0x4aa42a,_0x7fab93,_0x4f7b69,_0x569e2f){if(!_0x4f7b69['retrying']){if(_0x4f7b69['retry']&&_0x4f7b69['retries']<_0x4f7b69['maxRetries']){_0x4f7b69['retries']++,_0x4f7b69['retrying']=!(-0x12b*-0x1+-0x1698+0x156d);const _0x4a7d6d=Y['clamp'](Math['pow'](0x1191+0x239d*0x1+-0x352c,_0x4f7b69['retries'])*Oe['retryDelay'],-0x837+-0x84b+-0x841*-0x2,_0x4f7b69['maxRetryDe'+'lay']||0x21a*-0x6+0xd6d+0x12b7);console['log'](_0x4aa42a+':\x20'+_0x7fab93+'\x20-\x20Error\x20'+_0x569e2f['status']+('.\x20Retrying'+'\x20in\x20')+_0x4a7d6d+'\x20ms'),setTimeout(()=>{_0x4f7b69['retrying']=!(0x116a+-0x7*0x2d5+-0x26a*-0x1),this['request'](_0x4aa42a,_0x7fab93,_0x4f7b69,_0x4f7b69['callback']);},_0x4a7d6d);}else _0x4f7b69['callback'](_0x569e2f['status']===0x10c*-0x7+-0x1*0x1f+0x1*0x773?'Network\x20er'+'ror':_0x569e2f['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x1997+-0x717+0x2112);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x2b9f2d){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x2b9f2d;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x25d386){this['position']['copy'](_0x25d386);const _0x17ce5a=this['listener'];_0x17ce5a&&('positionX'in _0x17ce5a?(_0x17ce5a['positionX']['value']=_0x25d386['x'],_0x17ce5a['positionY']['value']=_0x25d386['y'],_0x17ce5a['positionZ']['value']=_0x25d386['z']):_0x17ce5a['setPositio'+'n']&&_0x17ce5a['setPositio'+'n'](_0x25d386['x'],_0x25d386['y'],_0x25d386['z']));}['setOrienta'+'tion'](_0x4d2e85){this['orientatio'+'n']['copy'](_0x4d2e85);const _0xbb89f9=this['listener'];if(_0xbb89f9){const _0x58e4af=_0x4d2e85['data'];'forwardX'in _0xbb89f9?(_0xbb89f9['forwardX']['value']=-_0x58e4af[-0xac6+-0x16d3+0x21a1],_0xbb89f9['forwardY']['value']=-_0x58e4af[0x736+-0x2*0xdf0+0x14b3],_0xbb89f9['forwardZ']['value']=-_0x58e4af[0x1dbc+0x12c4*0x2+-0x433a],_0xbb89f9['upX']['value']=_0x58e4af[0xada+-0x2e8+-0x1*0x7ee],_0xbb89f9['upY']['value']=_0x58e4af[-0x9*-0x61+-0x42d*0x6+0x15aa],_0xbb89f9['upZ']['value']=_0x58e4af[-0x1*0xfc2+-0x110e+0x20d6]):_0xbb89f9['setOrienta'+'tion']&&_0xbb89f9['setOrienta'+'tion'](-_0x58e4af[0x260e*0x1+0x3b+-0x2641],-_0x58e4af[0xecd+0x1b71+-0x2a35],-_0x58e4af[-0x869+-0x2*-0x493+0x1*-0xb3],_0x58e4af[-0x1f8a+0x1*0x1a9d+-0x1*-0x4f1],_0x58e4af[0x18e*-0x11+0x1387+0x6ec],_0x58e4af[-0x253f+-0x7f9+0x2d3e*0x1]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x5905b2=this['_manager']['context'];return _0x5905b2?_0x5905b2['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x1*-0x11ba+-0x1faf+0x316a),this['listener']=new Cw(this),this['_volume']=0x15*0x95+-0x1bfc+0xfc4;}set['volume'](_0x29872b){_0x29872b=Y['clamp'](_0x29872b,0xfc8+-0x26bc+-0x34*-0x71,0xe3a+0x2f*0x58+-0x2c3*0xb),this['_volume']=_0x29872b,this['fire']('volumechan'+'ge',_0x29872b);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1*-0x9eb+-0x15dd+0x1fc8),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1211+-0x7d*-0x4c+0x4*-0xdcb),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x511bb1;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x511bb1=this['_context'])==null||_0x511bb1['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x2392cc=this['_context']['createBuff'+'erSource']();_0x2392cc['buffer']=this['_context']['createBuff'+'er'](-0x1*0xa6f+0x229+0x847*0x1,0x1b7d+-0x58+-0x1b24,this['_context']['sampleRate']),_0x2392cc['connect'](this['_context']['destinatio'+'n']),_0x2392cc['start'](-0x1*-0x1eab+-0x7*-0x16b+-0x2898),_0x2392cc['onended']=_0x382883=>{_0x2392cc['disconnect'](-0x15ed+0x2*-0x49f+-0x1f2b*-0x1),this['fire']('resume');};},_0x44d832=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x44d832);})['catch'](_0x2d86eb=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x2d86eb);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x426263=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x426263);})['catch'](_0x3ca841=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x3ca841);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x38311f=>{window['addEventLi'+'stener'](_0x38311f,this['_unlockHan'+'dlerFunc'],!(-0x2c*-0xd1+0x2436*0x1+0x3*-0x180b));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x40b641=>{window['removeEven'+'tListener'](_0x40b641,this['_unlockHan'+'dlerFunc'],!(-0x1fe7*0x1+-0x10a8+0x206*0x18));});}}class Mw{constructor(_0x484408){h(this,'audio'),h(this,'buffer'),_0x484408 instanceof Audio?this['audio']=_0x484408:this['buffer']=_0x484408;}get['duration'](){let _0x3682c1=0xf44+-0xb*-0x17+-0x1041*0x1;return this['buffer']?_0x3682c1=this['buffer']['duration']:this['audio']&&(_0x3682c1=this['audio']['duration']),_0x3682c1||0xb*-0x239+0x6e9*0x5+-0xa1a*0x1;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x1831+0xad5+-0x2306,fn=0xec9+0x2*0xea7+-0x2c16,Hs=-0x24f4+0x106d+0x1489;function es(_0x3e1108,_0x26440a){return _0x3e1108%_0x26440a||-0x11a2+-0x46c*-0x4+0x1*-0xe;}class As extends me{constructor(_0x9acb3f,_0x223542,_0x4d7e01){super(),h(this,'source',null),(this['_manager']=_0x9acb3f,this['_volume']=_0x4d7e01['volume']!==void(0x6f7*0x5+-0x399*-0x5+-0x1a*0x208)?Y['clamp'](Number(_0x4d7e01['volume'])||-0x44a+-0x1e6+0x630,-0xb15+0xb3c*-0x1+0x1651,0x1993*0x1+-0x32*-0x71+0x2fa4*-0x1):-0x515*0x5+-0x2e7*0x2+0x1f38,this['_pitch']=_0x4d7e01['pitch']!==void(0x840+0x1dc8+-0x2608*0x1)?Math['max'](0x14ad+0x135*0x1+-0x15e2*0x1+0.01,Number(_0x4d7e01['pitch'])||0x18*0x174+-0x4*0x175+-0x152*0x16):0xd25+-0x35*-0x13+-0x1113,this['_loop']=!!(_0x4d7e01['loop']!==void(0x13*0x56+0x242+-0x9e*0xe)&&_0x4d7e01['loop']),this['_sound']=_0x223542,this['_state']=Hs,this['_suspended']=!(-0xd79+0x228f+-0x1515),this['_suspendEn'+'dEvent']=0xb23*0x2+-0x7*0x4d+0x142b*-0x1,this['_suspendIn'+'stanceEven'+'ts']=!(-0x3d*-0x2b+0x21ee+-0x1*0x2c2c),this['_playWhenL'+'oaded']=!(-0x20ea+-0x35*-0x35+0x15f1),this['_startTime']=Math['max'](0xc2f+0xa5a*-0x1+-0x1d5,Number(_0x4d7e01['startTime'])||0x1762+0x10ce+-0x506*0x8),this['_duration']=Math['max'](-0x8*0x31c+0x1e*0xc7+0x18e,Number(_0x4d7e01['duration'])||-0x24f5*-0x1+-0xb*-0x8f+0x3*-0xe5e),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x4d7e01['onPlay'],this['_onPauseCa'+'llback']=_0x4d7e01['onPause'],this['_onResumeC'+'allback']=_0x4d7e01['onResume'],this['_onStopCal'+'lback']=_0x4d7e01['onStop'],this['_onEndCall'+'back']=_0x4d7e01['onEnd'],Dl()?(this['_startedAt']=0x3*0xa51+0xfad+-0x2ea0,this['_currentTi'+'me']=0x1c1*0x4+-0x1b2d+-0xd*-0x18d,this['_currentOf'+'fset']=0xa0*0x5+0x1*0x1956+-0x1*0x1c76,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x5f0+-0x95c*-0x1+-0xf4b),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1d96+0x1343*0x1+0x1048*-0x3),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x473a98){if(!(_0x473a98<0x1845+-0x1015*0x2+0x7e5)){if(this['_state']===Zt){const _0x33285b=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x12b9+-0x1d6a+0x3023),this['stop'](),this['_startOffs'+'et']=_0x473a98,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x33285b;}else this['_startOffs'+'et']=_0x473a98,this['_currentTi'+'me']=_0x473a98;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x14c*0x9+0xfad+0x401*-0x1:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x5f27b2){this['_duration']=Math['max'](-0x21b0+-0xffd*-0x1+0x11b3,Number(_0x5f27b2)||0x3*-0x9b+0x1*-0x1ce1+0x1eb2);const _0xb09bcd=this['_state']===Zt;this['stop'](),_0xb09bcd&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x1*0x16cc+0x1210*0x1+-0x28dc;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x30679b){this['_loop']=!!_0x30679b,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x533b2a){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x533b2a)||-0x11ba+-0x431+0x15eb,-0x69b+-0x100c+-0x16a7*-0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x50f600){this['_sound']=_0x50f600,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x10a462){this['_startTime']=Math['max'](-0x1044*0x2+0x18c0+0x7c8,Number(_0x10a462)||-0x4*0x48a+0x9*-0x239+-0x2629*-0x1);const _0x267b55=this['_state']===Zt;this['stop'](),_0x267b55&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x442519){_0x442519=Y['clamp'](_0x442519,0x255+0x1944+0x9d*-0x2d,0x823+0xc6b*0x3+-0x2d63),this['_volume']=_0x442519,this['gain']&&(this['gain']['gain']['value']=_0x442519*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0xd9*0xd+0x2*-0x1084+-0x2c0d*-0x1){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x181a+0x833+-0x204d),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x3c4+-0x347*-0x3+-0x610),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x2*-0x4a3+0xf93*-0x1+0x64e),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x2*-0xa4f+0x2b*-0xb3+-0x2c*-0x37):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x5*-0x30f+0x1de2+0x505*-0x9),!(0x226a+-0x6d*0x25+-0x18*0xc7)):(this['_playAudio'+'Immediate'](),!(-0x144e+0x9*0xdb+0xc9b));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x587+0x247c*0x1+-0x4*0x7bd),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x283c93=es(this['_startOffs'+'et'],this['duration']);_0x283c93=es(this['_startTime']+_0x283c93,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x1e89*0x1+0x1d1a+0x16f,_0x283c93,this['_duration']):this['source']['start'](0xd*-0x53+0x2*0x65a+-0x1*0x87d,_0x283c93),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0xbec*-0x2+0x1a44+-0x26c,this['_currentOf'+'fset']=_0x283c93,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x763*-0x3+-0x1e23+-0x3*-0x116f),this['_state']!==Zt?!(-0xf9+-0x2387+0x2481):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x4*0x642+-0x1d*-0x143+-0x3d9f),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1b70+0xfb3*0x1+-0x4cb*0x9));}['resume'](){if(this['_state']!==fn)return!(0x2*0x10d6+-0x1*0x1646+-0xb65);let _0x59cc3b=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x59cc3b=es(this['_startOffs'+'et'],this['duration']),_0x59cc3b=es(this['_startTime']+_0x59cc3b,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x762+0x2*-0xd21+0x12e0,_0x59cc3b,this['_duration']):this['source']['start'](0x9*0x361+0x25ec*-0x1+0x783,_0x59cc3b),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x59cc3b,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x3*0x39b+0x20c4+0x2*-0xaf9),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0xef*-0x2+-0x1*-0xb2+0x12c);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x1c3*0xe+-0xbf0*0x1+0x249b),this['_state']===Hs)return!(0x186d+0x401*0x1+-0x1c6d);const _0x14d77f=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x1d0e*-0x1+-0x34a+-0x12*-0x1cc,this['_currentTi'+'me']=-0x1*0x1fd+-0xc87*0x3+0x3f5*0xa,this['_currentOf'+'fset']=0xe16+0x6*0x32d+-0x2124,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x14d77f&&this['source']&&this['source']['stop'](-0x1*0x24c9+-0x7*0x30e+0x3a2b),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x55a+0x199*-0xb+-0x16ed*-0x1);}['setExterna'+'lNodes'](_0x3077e0,_0x52336a){if(!_0x3077e0){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x52336a||(_0x52336a=_0x3077e0);const _0x27a2bc=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x3077e0&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x27a2bc),this['_firstNode']=_0x3077e0,this['_connector'+'Node']['connect'](_0x3077e0)),this['_lastNode']!==_0x52336a&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x27a2bc),this['_lastNode']=_0x52336a,this['_lastNode']['connect'](_0x27a2bc));}['clearExter'+'nalNodes'](){const _0x58bde9=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x58bde9),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x58bde9);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x4365b9=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x4365b9['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x5*0x68b+0x1b03+0x4*0x16d),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x467*0x8+0x257e*0x1+-0x245):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x28*-0x65+0x24*0x6c+0x99),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x1*0x1d29+0x2*0x99b+0x9f3));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x200f+-0x2*0xf81+0x2*-0x86):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x3af*0x3+0x742+-0x30d*0x6),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x2*0xc5e+0x16*-0x3d+0x1dfa));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x2329+0x23b*-0x7+0x32c7):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x4f7+0x41d+0x49*0x3),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1835+0x1*0x335+0xa80*0x2));},'stop':function(){return!this['source']||this['_state']===Hs?!(0xd*0x262+-0x32d+0x1*-0x1bcc):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x33*-0x5+-0x2ec+0x3ec),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x22d+-0x1a35*-0x1+-0x1c62));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x559*0x1+0x1e15+0x62f*-0x4);let _0x113fa8=es(this['_startOffs'+'et'],this['duration']);_0x113fa8=es(this['_startTime']+_0x113fa8,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x113fa8;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x13d*0x15+0x5ea+-0x1fea),this['source']=this['_sound']['audio']['cloneNode'](!(-0x773*-0x4+-0x9e*-0x38+0x4*-0x1017)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x1ee2a0){_0x1ee2a0=Y['clamp'](_0x1ee2a0,0xbd5+0x1*-0x37e+0x131*-0x7,0x1*-0x1b43+-0x9c5+0x2509),this['_volume']=_0x1ee2a0,this['source']&&(this['source']['volume']=_0x1ee2a0*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x5e67dc){this['_pitch']=Math['max'](Number(_0x5e67dc)||-0x709*0x1+-0x4a*-0xd+0x347,0x24b7+-0x7*0x4eb+-0x24a+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x4bc86c){this['stop'](),this['_sound']=_0x4bc86c;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x269d+0x24a6+-0x4b43*0x1:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x51901a){_0x51901a<0x145d+0x3*0x6a7+-0x2*0x1429||(this['_startOffs'+'et']=_0x51901a,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x51901a,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0x18*-0x243+-0x5*-0x689+-0x2fe5;class sn extends As{constructor(_0x3ead0d,_0x37ee08,_0xd1e503={}){super(_0x3ead0d,_0x37ee08,_0xd1e503),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0xd1e503['position']&&(this['position']=_0xd1e503['position']),this['maxDistanc'+'e']=_0xd1e503['maxDistanc'+'e']!==void(0x1d*0x5+0xa82+0x195*-0x7)?Number(_0xd1e503['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0xd1e503['refDistanc'+'e']!==void(-0x2ad+-0x1*-0x1c57+-0x19aa)?Number(_0xd1e503['refDistanc'+'e']):0xb2f+0x1b64+-0x2692,this['rollOffFac'+'tor']=_0xd1e503['rollOffFac'+'tor']!==void(-0x1d3+-0x720+0x8f3*0x1)?Number(_0xd1e503['rollOffFac'+'tor']):-0x2077*-0x1+0x1*-0x1825+-0x851,this['distanceMo'+'del']=_0xd1e503['distanceMo'+'del']!==void(0x1*0x31b+-0x234b+0x28*0xce)?_0xd1e503['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xd39d75){this['_position']['copy'](_0xd39d75);const _0x22c6f2=this['panner'];'positionX'in _0x22c6f2?(_0x22c6f2['positionX']['value']=_0xd39d75['x'],_0x22c6f2['positionY']['value']=_0xd39d75['y'],_0x22c6f2['positionZ']['value']=_0xd39d75['z']):_0x22c6f2['setPositio'+'n']&&_0x22c6f2['setPositio'+'n'](_0xd39d75['x'],_0xd39d75['y'],_0xd39d75['z']);}get['position'](){return this['_position'];}set['velocity'](_0x599df3){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x599df3);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x4a380f){this['panner']['maxDistanc'+'e']=_0x4a380f;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x329db3){this['panner']['refDistanc'+'e']=_0x329db3;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x3ada54){this['panner']['rolloffFac'+'tor']=_0x3ada54;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x34562d){this['panner']['distanceMo'+'del']=_0x34562d;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x5e26a,_0xec55bf,_0x18de6c,_0x44eb03,_0x2d65db,_0x2acf2b){l=l['sub2'](_0x5e26a,_0xec55bf);const _0x61be9=l['length']();if(_0x61be9<_0x18de6c)return-0x6c2+-0x3*0x6dd+0x1b5a*0x1;if(_0x61be9>_0x44eb03)return 0xaa2*-0x1+0x1a1*-0x9+0x194b;let _0x4c3504=0xd*-0x24d+-0xc56+0x135*0x23;return _0x2acf2b===Vp?_0x4c3504=-0x6f1*-0x1+0xe*-0x61+-0x1a2-_0x2d65db*(_0x61be9-_0x18de6c)/(_0x44eb03-_0x18de6c):_0x2acf2b===bw?_0x4c3504=_0x18de6c/(_0x18de6c+_0x2d65db*(_0x61be9-_0x18de6c)):_0x2acf2b===Aw&&(_0x4c3504=Math['pow'](_0x61be9/_0x18de6c,-_0x2d65db)),Y['clamp'](_0x4c3504,0x1199+0x1*0x1573+-0x270c,0xbaf*-0x2+-0xcf4*0x1+0x2453);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x39a691){if(this['_position']['copy'](_0x39a691),this['source']){const _0x103ca2=this['_manager']['listener']['getPositio'+'n'](),_0x43ad30=t(_0x103ca2,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x3bd77f=this['volume'];this['source']['volume']=_0x3bd77f*_0x43ad30*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x2dad64){this['_maxDistan'+'ce']=_0x2dad64;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x128d65){this['_refDistan'+'ce']=_0x128d65;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x10fc8c){this['_rollOffFa'+'ctor']=_0x10fc8c;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x24e175){this['_distanceM'+'odel']=_0x24e175;}});}const Gp=-0x814+0xa6f+0x1*-0x25b,Hp=-0x11*-0x1d3+0x3*-0x73e+0x3*-0x318,Zs=-0x1*-0x1f26+0x1dbb+-0x3cdf,Cs=0xe96+-0x30*-0x40+0x1a93*-0x1,Gn=0x3e2+-0x1512+0x6*0x2de,Wp=0x1433+0x1bc9+-0x2ff7,Ed=0x2*0xbcb+0x25*-0x22+-0x12a6,$p=-0x1fde*-0x1+-0x179c+-0x83b,Xp=-0x13*0xc3+0x264a+-0x17c9,qp=0x18bf+0x17*0x10f+-0x310f*0x1,jp=0xa6*-0x3b+0x2c*0xb+0x28*0xe9,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x1*0x1185+-0x3a*0x1+-0x13*0xe9,Yp=-0x7*-0xe3+-0x1f90+0x195d,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0xc78+0x2*-0xcf2+0x265c,Ky=0x7bf*0x2+0x6b8+0x1*-0x1627,er=0xae1*0x2+0xc6f+-0x1*0x2231,ps=-0xeb5*0x2+0x1d46+0x25,Kp=0x1c38+0x2*0x96a+-0x1785*0x2,Zp=0xd*-0x41+0x1d3+0x17d,Il=-0x115f+0x5f3*-0x5+0x2f22,ve=-0x1321*-0x1+-0xf8b+-0x99*0x6,Ke=-0x1*-0xaf3+0x120d+-0x1cff,Ze=0x2*-0x8d8+-0x128a+0x243c,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x2571*-0x1+-0x2642+0x135,Ys=0x1f2f+0x7*-0x4db+0x2ce,Zy=-0x1*0x2414+-0x4b2+-0xb*-0x3b5,Qy=0x1e7c*-0x1+0x1f56+-0x9*0x18,Jy=0x1882*-0x1+-0x8*0x4f+0x1afd,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x23d3*-0x1+0x8d6+-0x2ca9,ev=-0x527*0x2+0x1589*-0x1+0x1fd8,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x1fc0+0x1160+0xe60,au=-0x16b2+-0x763*0x4+0x8*0x688,Jp=-0x11*-0x8f+0x1d77+-0xa9*0x3b,kw=-0x60b+0x577*-0x3+0x1674,tv=-0x2469+-0x26f3+0x1*0x4b61,al=0x57*-0x3f+0x9fc+0x1*0xb73,sv=-0x3*-0x48b+-0x1eb*-0xb+-0x9*0x3db,iv=0x1108+0xd*-0x18e+0x2*0x19b,Uw=0x51*0x48+0x23a3+-0x9bb*0x6,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x2*-0xd40+-0x13*-0x161+-0x34b3)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(0x2293+-0x2*-0xb6f+-0x3971)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0x3b*0x3b+0x2d9+0xac0)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x2*-0x9da+0x709+0x559*-0x5)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(-0x1bf1+0x1b02+-0x1*-0xef)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x17eb+0x37*0x29+0xf1c)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x253c+0x54c*0x2+0x1aa4)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0x5*-0x335+0x559+-0x1562)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0xac*0x13+0x1*0x8d1+0x1a9*-0xd)}]]),Bw=-0x54b+0x1ea*-0x10+0x24ea,em=-0x782+0x1*0x2218+-0x1a95,nu=0x1e47+-0x3*-0x556+-0x2e49,rv=-0x5c9*-0x5+-0x2*-0xac4+0x1*-0x3275,ai=0x2*-0x52f+0x23a9+-0x25*0xaf,zw=0x3d3*-0x9+0x3*-0x3eb+0x1*0x2e2d,yh=-0x1c93+-0x25bd*-0x1+0x22*-0x45,Vw=0x2487*-0x1+0x23c5+0xf*0xd,ni=-0x121*-0x11+0x1b1b+-0x2e4c,En=-0x3*0x425+-0x76d*-0x1+0x503,un=-0x11dc+-0xb9*0x7+0x1*0x16eb,$r=0x1*0x1529+0x2*0xf44+0x676*-0x8,Jl=-0x42b+0x115f*0x1+0x233*-0x6,tm=-0x1*0x133+-0x40*0x82+0x21b3,av=0xa28+0x1583+-0x1faa,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x4b0+-0x1432+0xf82,Xc=-0x1*0x871+0x3*-0xa7b+0x27e3*0x1,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x1462+-0x2387+0x16f*0x27,UU=0x432*0x1+-0xaae+-0x1*-0x67d,BU=-0x1*-0x1d53+0x259c+-0x42ed,zU=0x285+-0x67f*-0x1+0x1cd*-0x5,VU=-0x1423*0x1+0xa1d*0x2+-0x13,GU=0x82c+-0x1a2*-0x8+0x1537*-0x1,nv=0x2312+0x1086+0x3392*-0x1,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x26e1+0xef6+0x17eb,bd=0x6e1*0x1+-0x1872+0x1*0x1192,cv=0x1827+-0xba5+0x19*-0x80,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x23*-0x71+-0xb15*0x2+0x259e,nl=-0x7*-0x19d+-0x1a9d*0x1+0x9*0x1b4,nm=-0x170d+-0x181a+0xfb9*0x3,dv=-0x805+0x13eb+-0xbde,fv=0x248e+-0x17*0x16a+-0x3f8,ol=-0x1cd*-0x3+0xa34+-0xf7b,ou=0x793*0x5+0x1*-0x6dc+0x23*-0xe1,uv=-0x1c1+-0x5b0+-0x1*-0x7f1,Eh=0x2e5+-0x5a4+0x3bf,om=-0x1*0x739+-0x3*-0x16b+-0x6a*-0xc,ll=-0x25c7+0x1*0x136d+0x165a,cl=-0x16f*-0x3+0x1465+0x2*-0x859,pv=-0xa96+-0x514+0x1faa,hl=0x37c4+0x3a4*0xb+-0x3fd0,qc=-0x297b+-0x2a83+0x26*0x3e5,Ps=-0x3e*-0x74+-0x20f*-0x6+-0x2872,xr=0x670+0x60b+0xc7a*-0x1,lm=-0x91*0x34+0xe3b+0xf3b,Ss=-0x11f4+0xd2b+-0x2*-0x265,di=-0xa09+-0x95*-0x7+0x5f8,fi=0x1*-0x22b2+0x489+0x1e2d,Aa=-0x2409+-0x1a31+0x9*0x6ea,Rl=-0x8e0+0x801+0xe0*0x1,cm=-0x405+0x92*-0x10+0xd27,Zn=-0x1*0x2612+0x1271*-0x1+0xb4e*0x5,ci=0x4*-0x71d+0x2f3+0x1*0x1981,Pt=-0x2*-0x1a6+-0x1a1b*0x1+0x16d0,Mt=-0x6c0+-0x1ddb+0x249d,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0xec0+0x1797+-0x57a*0x7,ec=-0x89e+0x31*-0x4b+0x16f9,Yc=0x2*0x135d+0x1*-0x1e01+-0x8b9*0x1,jw=0x135*-0xd+0xfa6*-0x1+-0x2*-0xfac,Yw=0x47*-0x6a+0x1712+0x32b*0x2,m_=0xfc3+-0x1b18+-0x3c8*-0x3,Kw=-0x1d20+-0xeb0+0x2bd4,Zw=0xb7b*-0x2+-0x1b7*0x11+0x3422,hm=-0x63b+-0x257+0x892,lu=0x2*0x16f+-0x2cf*0xb+0x1c08,Ce=0x1502+-0x9c+-0x1466,je=0x569*-0x6+-0x1847+0x12*0x327,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x31e1f7,_0x173079,_0x4ff48b){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x31e1f7,this['bindGroupF'+'ormats'][rl]=_0x173079,this['vertexForm'+'at']=_0x4ff48b);}['hasUniform'](_0x544211){for(let _0x23534c=0x107*0x25+-0xf28+-0x16db;_0x23534c<this['uniformFor'+'mats']['length'];_0x23534c++){const _0x2b12a7=this['uniformFor'+'mats'][_0x23534c];if(_0x2b12a7!=null&&_0x2b12a7['get'](_0x544211))return!(-0x1f41+0x16b4+-0x1*-0x88d);}return!(0x1975+-0x1ba7+0x233);}['hasTexture'](_0x2e770c){for(let _0x13f29a=0x9*-0x2ed+-0x3*0xd7+0x1cda;_0x13f29a<this['bindGroupF'+'ormats']['length'];_0x13f29a++){const _0x4ea520=this['bindGroupF'+'ormats'][_0x13f29a];if(_0x4ea520!=null&&_0x4ea520['getTexture'](_0x2e770c))return!(-0x265d+0x3*0xb9e+0x383);}return!(0x2*0xbf5+0xe75+0x132f*-0x2);}['getVertexE'+'lement'](_0x2b87c5){var _0x30fb3a;return(_0x30fb3a=this['vertexForm'+'at'])==null?void(0x95d+-0x2229+0x18cc):_0x30fb3a['elements']['find'](_0x3d4501=>_0x3d4501['name']===_0x2b87c5);}['generateKe'+'y'](_0x16911c){var _0x3d1d70;let _0x5f1589=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x16911c['isWebGPU']&&(_0x5f1589+=(_0x3d1d70=this['vertexForm'+'at'])==null?void(-0xf*0x225+-0x38e+0x23b9):_0x3d1d70['shaderProc'+'essingHash'+'String']),_0x5f1589;}}const gv=new Kt();function Hn(_0x3489ac){const _0x4d98a5=gv['get'](_0x3489ac);return w['assert'](_0x4d98a5),_0x4d98a5;}function cE(_0x285116,_0x2ab8b9){w['assert'](_0x2ab8b9),gv['get'](_0x285116,()=>_0x2ab8b9);}class ya{static['definesHas'+'h'](_0x2105ed){const _0x436ced=Array['from'](_0x2105ed)['sort']((_0x5252b5,_0x2d3c85)=>_0x5252b5[0x11d6+0x289+0x413*-0x5]>_0x2d3c85[-0x445*-0x7+0x12d4*0x1+-0x30b7]?-0x7b*-0x2e+-0xec9+-0x750:-(0x1d20+0xe04+-0x2b23));return hi(JSON['stringify'](_0x436ced));}}const hE=new Kt();class dE{constructor(_0x19b2fd,_0x3742f1,_0x4f539c={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x19b2fd),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x19b2fd),this['name']=_0x19b2fd,this['index']=_0x3742f1,Object['assign'](this,_0x4f539c),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x1dc505;this['isShadow']?_0x1dc505='SHADOW':this['isForward']?_0x1dc505='FORWARD':this['index']===Zn&&(_0x1dc505='PICK'),this['defines']['set'](_0x1dc505+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0xc+0x2b*-0x7e+-0x6a*-0x33);const _0x123e24=(_0x2027cc,_0x2cf359,_0x5a5279)=>{const _0x5642aa=this['allocate'](_0x2027cc,_0x5a5279);w['assert'](_0x5642aa['index']===_0x2cf359);};_0x123e24('forward',Aa,{'isForward':!(0x5*0x515+-0x204f+0x6e6*0x1)}),_0x123e24('prepass',Rl),_0x123e24('shadow',cm),_0x123e24('pick',Zn);}static['get'](_0x10bdf6){return w['assert'](_0x10bdf6),hE['get'](_0x10bdf6,()=>new Si());}['allocate'](_0x4138de,_0x1ee52c){let _0x5c5a9f=this['passesName'+'d']['get'](_0x4138de);return _0x5c5a9f===void(0x2c9*0x3+-0x1a1*-0x8+-0x1563)&&(_0x5c5a9f=new dE(_0x4138de,this['nextIndex'],_0x1ee52c),this['passesName'+'d']['set'](_0x5c5a9f['name'],_0x5c5a9f),this['passesInde'+'xed'][_0x5c5a9f['index']]=_0x5c5a9f,this['nextIndex']++),_0x5c5a9f;}['getByIndex'](_0x3c69be){const _0x30aea8=this['passesInde'+'xed'][_0x3c69be];return w['assert'](_0x30aea8),_0x30aea8;}['getByName'](_0x34dfb9){return this['passesName'+'d']['get'](_0x34dfb9);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x56*-0x17+-0x1c1e+0x23d9)),h(this,'_key','');}['set'](_0x57f109,_0x2aca72){return(!this['has'](_0x57f109)||this['get'](_0x57f109)!==_0x2aca72)&&this['markDirty'](),super['set'](_0x57f109,_0x2aca72);}['add'](_0x5a4776){for(const [_0x436fe2,_0x3c65e7]of Object['entries'](_0x5a4776))this['set'](_0x436fe2,_0x3c65e7);return this;}['delete'](_0x3a0040){const _0x45ef2e=this['has'](_0x3a0040),_0x4e93a3=super['delete'](_0x3a0040);return _0x45ef2e&&_0x4e93a3&&this['markDirty'](),_0x4e93a3;}['clear'](){this['size']>0x221d+0x547*0x1+0x4*-0x9d9&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0xf44+0x2251+-0x3195),this['_keyDirty']=!(0x2267+-0x4*0x298+-0x1807*0x1);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x22db+0x1118+-0x33f2);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0xf3a*0x2+0xf88+0xeed*0x1),this['_key']=Array['from'](this['entries']())['sort'](([_0x46c569],[_0xda5fe2])=>_0x46c569<_0xda5fe2?-(-0xc*-0x180+-0x11d7+-0x28):_0x46c569>_0xda5fe2?-0x4f9*0x1+0x23*-0x7f+0x1657:0xd44+0x3*0x989+0x29df*-0x1)['map'](([_0x584d9f,_0x284822])=>_0x584d9f+'='+hi(_0x284822))['join'](',')),this['_key'];}['copy'](_0x7f875f){this['clear']();for(const [_0x1e7aad,_0x1fda55]of _0x7f875f)this['set'](_0x1e7aad,_0x1fda55);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x3aaf41,_0x4a2336=Fe){const _0x35ac22=fE['get'](_0x3aaf41,()=>new Pe());return _0x4a2336===Fe?_0x35ac22['glsl']:_0x35ac22['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x29*0x47+-0x26f5*0x1+0x3254||this['wgsl']['size']>0x385*-0x6+-0x117+-0x471*-0x5;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x1eee68){return this['version']=_0x1eee68['version'],this['glsl']['copy'](_0x1eee68['glsl']),this['wgsl']['copy'](_0x1eee68['wgsl']),this;}}class bh{static['merge'](..._0x49d21c){const _0x42475e=new Map(_0x49d21c[-0x18d4+0x1507+0x3cd]??[]);for(let _0x58c059=0x1a2*0x17+-0xe80+0x1*-0x170d;_0x58c059<_0x49d21c['length'];_0x58c059++){const _0x23565f=_0x49d21c[_0x58c059];if(_0x23565f){for(const [_0x5e8800,_0x12ffd5]of _0x23565f)_0x42475e['set'](_0x5e8800,_0x12ffd5);}}return _0x42475e;}}class uE extends ya{constructor(_0x7f8f0b,_0x226e2e){super(),this['key']=_0x7f8f0b,this['shaderDefi'+'nition']=_0x226e2e;}['generateKe'+'y'](_0x179dc8){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x226451,_0x1279d6){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0xa05556,_0x2dc022){const _0x110a9c=Hn(_0xa05556);let _0x15b0e9=_0x110a9c['getCachedS'+'hader'](_0x2dc022['uniqueName']);if(!_0x15b0e9){const _0x38f169=_0xa05556['isWebGPU']&&(!!_0x2dc022['vertexWGSL']||!!_0x2dc022['vertexChun'+'k'])&&(!!_0x2dc022['fragmentWG'+'SL']||!!_0x2dc022['fragmentCh'+'unk']),_0x23ed34=Pe['get'](_0xa05556,_0x38f169?it:Fe),_0x3fe635=_0x2dc022['vertexChun'+'k']?_0x23ed34['get'](_0x2dc022['vertexChun'+'k']):_0x38f169?_0x2dc022['vertexWGSL']:_0x2dc022['vertexGLSL'],_0x4d1fa2=_0x2dc022['fragmentCh'+'unk']?_0x23ed34['get'](_0x2dc022['fragmentCh'+'unk']):_0x38f169?_0x2dc022['fragmentWG'+'SL']:_0x2dc022['fragmentGL'+'SL'];w['assert'](_0x3fe635,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x2dc022),w['assert'](_0x4d1fa2,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x2dc022);const _0xb6241c=bh['merge'](_0x23ed34,_0x2dc022['fragmentIn'+'cludes']),_0x3813cc=bh['merge'](_0x23ed34,_0x2dc022['vertexIncl'+'udes']);_0x15b0e9=new qy(_0xa05556,Jt['createDefi'+'nition'](_0xa05556,{'name':_0x2dc022['uniqueName'],'shaderLanguage':_0x38f169?it:Fe,'attributes':_0x2dc022['attributes'],'vertexCode':_0x3fe635,'fragmentCode':_0x4d1fa2,'useTransformFeedback':_0x2dc022['useTransfo'+'rmFeedback'],'vertexIncludes':_0x3813cc,'vertexDefines':_0x2dc022['vertexDefi'+'nes'],'fragmentIncludes':_0xb6241c,'fragmentDefines':_0x2dc022['fragmentDe'+'fines'],'fragmentOutputTypes':_0x2dc022['fragmentOu'+'tputTypes']})),_0x110a9c['setCachedS'+'hader'](_0x2dc022['uniqueName'],_0x15b0e9);}return _0x15b0e9;}static['getCoreDef'+'ines'](_0x31d8f9,_0x5e5fdc){const _0x2aff64=new Map(_0x31d8f9['defines']);return _0x5e5fdc['cameraShad'+'erParams']['defines']['forEach']((_0x376a5a,_0x3e534a)=>_0x2aff64['set'](_0x3e534a,_0x376a5a)),Si['get'](_0x5e5fdc['device'])['getByIndex'](_0x5e5fdc['pass'])['defines']['forEach']((_0x257a2f,_0x668594)=>_0x2aff64['set'](_0x668594,_0x257a2f)),_0x2aff64;}static['processSha'+'der'](_0x2a5e4a,_0x431b23){w['assert'](_0x2a5e4a);const _0x5e7519=_0x2a5e4a['definition'],_0x28dc3e=(_0x5e7519['name']??'shader')+'-id-'+_0x2a5e4a['id'],_0x1b17b7=new uE(_0x28dc3e,_0x5e7519),_0x34ed08='shader',_0x416f85=Hn(_0x2a5e4a['device']);w['assert'](!_0x416f85['isRegister'+'ed'](_0x34ed08)),_0x416f85['register'](_0x34ed08,_0x1b17b7);const _0x15182b=_0x416f85['getProgram'](_0x34ed08,{},_0x431b23);return _0x416f85['unregister'](_0x34ed08),_0x15182b;}static['addScreenD'+'epthChunkD'+'efines'](_0x343a11,_0x5e28b2,_0x18a793){_0x5e28b2['sceneDepth'+'MapLinear']&&_0x18a793['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x343a11['textureFlo'+'atRenderab'+'le']&&_0x18a793['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x317+0x190*-0x2+0x638)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x14894b){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x4f309e=_0x14894b['device'];if(this['shader']=_0x14894b,w['assert'](_0x14894b),_0x4f309e['supportsUn'+'iformBuffe'+'rs']){const _0x54681d=new Ad();this['shader']=$t['processSha'+'der'](_0x14894b,_0x54681d);const _0x4eb997=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x4eb997&&(this['uniformBuf'+'fer']=new zp(_0x4f309e,_0x4eb997,!(-0x1*-0x151b+-0x6*-0x4+-0x1532)));const _0x443453=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x443453),this['bindGroup']=new Up(_0x4f309e,_0x443453),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x38a094,_0x34d4cb;(_0x38a094=this['uniformBuf'+'fer'])==null||_0x38a094['destroy'](),this['uniformBuf'+'fer']=null,(_0x34d4cb=this['bindGroup'])==null||_0x34d4cb['destroy'](),this['bindGroup']=null;}['render'](_0xa35e8d,_0x324edb){const _0x2ab6ee=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x2ab6ee,'QuadRender'),_0xa35e8d&&(so['set'](_0x2ab6ee['vx'],_0x2ab6ee['vy'],_0x2ab6ee['vw'],_0x2ab6ee['vh']),io['set'](_0x2ab6ee['sx'],_0x2ab6ee['sy'],_0x2ab6ee['sw'],_0x2ab6ee['sh']),_0x324edb=_0x324edb??_0xa35e8d,_0x2ab6ee['setViewpor'+'t'](_0xa35e8d['x'],_0xa35e8d['y'],_0xa35e8d['z'],_0xa35e8d['w']),_0x2ab6ee['setScissor'](_0x324edb['x'],_0x324edb['y'],_0x324edb['z'],_0x324edb['w'])),_0x2ab6ee['setVertexB'+'uffer'](_0x2ab6ee['quadVertex'+'Buffer'],-0xb98+-0x1c6*0x13+0x20f*0x16);const _0x1255b4=this['shader'];if(_0x2ab6ee['setShader'](_0x1255b4),_0x2ab6ee['supportsUn'+'iformBuffe'+'rs']){_0x2ab6ee['setBindGro'+'up'](rl,_0x2ab6ee['emptyBindG'+'roup']);const _0x405ef8=this['bindGroup'];_0x405ef8['update'](),_0x2ab6ee['setBindGro'+'up'](Oy,_0x405ef8);const _0x3f2e3c=this['uniformBuf'+'fer'];_0x3f2e3c?(_0x3f2e3c['update'](Gd),_0x2ab6ee['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x2ab6ee['setBindGro'+'up'](su,_0x2ab6ee['emptyBindG'+'roup']);}_0x2ab6ee['draw'](pE),_0xa35e8d&&(_0x2ab6ee['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x2ab6ee['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x2ab6ee);}}class mE extends ys{constructor(_0x3175d2,_0x401ec5,_0x453265,_0x1e1203){super(_0x3175d2),this['quad']=_0x401ec5,this['rect']=_0x453265,this['scissorRec'+'t']=_0x1e1203;}['execute'](){const {device:_0x190dd6}=this;Q['pushGpuMar'+'ker'](_0x190dd6,this['name']+':'+this['quad']['shader']['name']),_0x190dd6['setCullMod'+'e'](bt),_0x190dd6['setDepthSt'+'ate'](Yt['NODEPTH']),_0x190dd6['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x190dd6);}}const _E=new re();function Ar(_0x2a3ddb,_0x137685,_0x578af7,_0x2cff01,_0x4e1f1a){w['assert'](_0x137685!==void(-0x1b56+-0x10f7+0x2c4d));const _0xf7d3bd=arguments[-0x20d7+0xa37+0x16a5];w['call'](()=>{_0xf7d3bd!==void(0x1ab0+0x7fc+-0x4*0x8ab)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x23aa29=new Ah(_0x578af7);_0x2cff01||(_0x2cff01=_E,_0x2cff01['x']=-0xf01*-0x1+0x1*-0x1bc4+0x16b*0x9,_0x2cff01['y']=-0x26ee+0x4d8*0x4+0x138e,_0x2cff01['z']=_0x137685?_0x137685['width']:_0x2a3ddb['width'],_0x2cff01['w']=_0x137685?_0x137685['height']:_0x2a3ddb['height']);const _0x2f954e=new mE(_0x2a3ddb,_0x23aa29,_0x2cff01,_0x4e1f1a);_0x2f954e['init'](_0x137685),_0x2f954e['colorOps']['clear']=!(-0x10df*-0x2+0x67*0x37+-0x37de),_0x2f954e['depthStenc'+'ilOps']['clearDepth']=!(0x229d*0x1+0x61a+-0x28b6),_0x2a3ddb['isWebGPU']&&_0x137685===null&&_0x2a3ddb['samples']>0x1*0x218b+0xe*0x1f+-0x233c&&(_0x2f954e['colorOps']['store']=!(0x2384+-0xe45+-0x31*0x6f)),_0x2f954e['render'](),_0x23aa29['destroy']();}class g_{constructor(_0x2b46d5,_0x15ba91,_0x13d6ec){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x2b46d5,this['dynamic']=_0x15ba91,this['batchGroup'+'Id']=_0x13d6ec);}['destroy'](_0x2ab5c7,_0x317121){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x2ab5c7,_0x317121),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x4e31bd,_0xbd34ca){for(let _0x4272d9=0x874+-0x1efd*0x1+0x1689;_0x4272d9<_0xbd34ca['length'];_0x4272d9++){const _0xb8860c=_0x4e31bd['layers']['getLayerBy'+'Id'](_0xbd34ca[_0x4272d9]);_0xb8860c&&_0xb8860c['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x2d749e,_0xc3fbdb){for(let _0x3a4d82=0x1400+-0x3*-0xc07+-0x3815;_0x3a4d82<_0xc3fbdb['length'];_0x3a4d82++){const _0x29a148=_0x2d749e['layers']['getLayerBy'+'Id'](_0xc3fbdb[_0x3a4d82]);_0x29a148&&_0x29a148['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x1*0x1134+0x17f*0x13+-0x2da1*0x1]['aabb']);for(let _0x105515=-0x65b*0x2+-0x1d2*-0xd+-0xaf3;_0x105515<this['origMeshIn'+'stances']['length'];_0x105515++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x105515]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x2147+-0xa91*0x1+0x2bd8;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x507652,_0x3223b1,_0x1eeb33,_0xadebf1,_0x44519c=[er]){h(this,'_ui',!(0x26f7+-0x121d*-0x1+-0x3913)),h(this,'_sprite',!(0x1*-0x479+0x197c+-0x1502)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x507652,this['name']=_0x3223b1,this['dynamic']=_0x1eeb33,this['maxAabbSiz'+'e']=_0xadebf1,this['layers']=_0x44519c);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x60acad){h(this,'bones'),(this['_dirty']=!(-0xeaf*-0x2+-0x1*-0x12d6+-0x3034*0x1),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0xb*0x25a+-0xaa*0x5+0x1d31),this['_updateBef'+'oreCull']=!(0x77*0x31+0x1654+0x3*-0xf09),_0x60acad&&this['initSkin'](_0x60acad));}set['rootBone'](_0x33616e){this['_rootBone']=_0x33616e;}get['rootBone'](){return this['_rootBone'];}['init'](_0x347de4,_0xe8695a){const _0x59a444=_0xe8695a*(0x152*0x7+0xd4*-0x13+0x681);let _0x3ee68a=Math['ceil'](Math['sqrt'](_0x59a444));_0x3ee68a=Y['roundUp'](_0x3ee68a,0x37*0x81+0x62b+-0x21df);const _0x2d6f1e=Math['ceil'](_0x59a444/_0x3ee68a);this['boneTextur'+'e']=new _e(_0x347de4,{'width':_0x3ee68a,'height':_0x2d6f1e,'format':Xt,'mipmaps':!(-0x1693+-0x7*-0x2c7+0x323),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0xee66a2,_0x567c18){this['rootBone']=_0xee66a2;const _0x3a2161=this['skin'],_0x37f31e=[];for(let _0xfb155e=0x1e29*-0x1+0x4*-0x2d3+-0x2975*-0x1;_0xfb155e<_0x3a2161['boneNames']['length'];_0xfb155e++){const _0x4a0bf2=_0x3a2161['boneNames'][_0xfb155e];let _0x286c93=_0xee66a2['findByName'](_0x4a0bf2);_0x286c93||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x4a0bf2+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x567c18['name']+(',\x20rootBone'+':\x20')+_0xee66a2['name']),_0x286c93=_0x567c18),_0x37f31e['push'](_0x286c93);}this['bones']=_0x37f31e;}['initSkin'](_0x4a7967){this['skin']=_0x4a7967,this['bones']=[];const _0x52dbe1=_0x4a7967['inverseBin'+'dPose']['length'];this['init'](_0x4a7967['device'],_0x52dbe1),this['matrices']=[];for(let _0x5663ba=-0x1d8f+-0x1220+0x2faf;_0x5663ba<_0x52dbe1;_0x5663ba++)this['matrices'][_0x5663ba]=new te();}['uploadBone'+'s'](_0x5225d9){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0xa5b66f,_0xdc9f1e){if(this['_skinUpdat'+'eIndex']!==_0xdc9f1e){this['_skinUpdat'+'eIndex']=_0xdc9f1e,S_['copy'](_0xa5b66f['getWorldTr'+'ansform']())['invert']();for(let _0x27f4f7=this['bones']['length']-(0x239d+0x3f1*0x3+-0x2f6f);_0x27f4f7>=-0x6a*0x40+0x30*-0x86+0x7*0x760;_0x27f4f7--)this['matrices'][_0x27f4f7]['mulAffine2'](S_,this['bones'][_0x27f4f7]['getWorldTr'+'ansform']()),this['matrices'][_0x27f4f7]['mulAffine2'](this['matrices'][_0x27f4f7],this['skin']['inverseBin'+'dPose'][_0x27f4f7]);}}['updateMatr'+'ices'](_0x3c8089,_0x1e8c9c){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x3c8089,_0x1e8c9c);}['updateMatr'+'ixPalette'](_0x27af35,_0x49f4cd){this['_updateMat'+'rices'](_0x27af35,_0x49f4cd);const _0x481e33=this['matrixPale'+'tte'],_0x45caa6=this['bones']['length'];for(let _0x40cf61=0x2*0x137b+0x5*0x4c3+-0x3ec5;_0x40cf61<_0x45caa6;_0x40cf61++){const _0x3b882e=this['matrices'][_0x40cf61]['data'],_0x33e5dc=_0x40cf61*(-0xd4a+-0x2088+-0x2dde*-0x1);_0x481e33[_0x33e5dc]=_0x3b882e[-0x1eee+0xbb*0xd+0x156f],_0x481e33[_0x33e5dc+(-0x5*-0x1db+-0x5cb*0x4+0x2*0x6f3)]=_0x3b882e[0x20f5*0x1+-0x10c0*0x1+0x1*-0x1031],_0x481e33[_0x33e5dc+(0x24b1+-0xf31+-0x157e)]=_0x3b882e[-0xc71+0x1*0x191d+-0xca4],_0x481e33[_0x33e5dc+(0x247d*0x1+-0x1*0xda9+-0x16d1)]=_0x3b882e[-0x7ef*-0x3+0x1fe6+-0x37a7],_0x481e33[_0x33e5dc+(-0x6*0x206+0x2678+-0x1a50)]=_0x3b882e[-0x204+0xb6f+-0x96a],_0x481e33[_0x33e5dc+(0x1*-0x8b+0x91d*0x4+-0x23e4)]=_0x3b882e[-0x20b2+-0x1efa+0x3fb1],_0x481e33[_0x33e5dc+(-0x7e+-0x1*0x2199+0x221d)]=_0x3b882e[0x153e+0x47a+-0x19af],_0x481e33[_0x33e5dc+(-0x55d*0x1+-0x1ac1+0x2025)]=_0x3b882e[0x2*0x7a6+-0x71*0xb+-0xa64],_0x481e33[_0x33e5dc+(-0x921+-0x3*-0x146+0x557)]=_0x3b882e[0x1*-0x6b7+-0x1*0x2191+0x284a],_0x481e33[_0x33e5dc+(-0x1*0x1c21+0x56d*-0x3+0x1*0x2c71)]=_0x3b882e[0x1088+0x118a+-0x220c],_0x481e33[_0x33e5dc+(-0x354+0x1b14+0x25f*-0xa)]=_0x3b882e[-0x7b5+-0x1ce2+0x24a1],_0x481e33[_0x33e5dc+(-0x14e3*-0x1+-0x1885*-0x1+-0x2d5d)]=_0x3b882e[-0x211*-0x3+-0x2*0xd03+0x7*0x2d7];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x3f1be9,_0x28b64f,_0x280521){super();const _0x4fc0e9=_0x28b64f['length'];this['init'](_0x3f1be9,_0x4fc0e9),this['device']=_0x3f1be9,this['rootNode']=_0x280521,this['bones']=_0x28b64f;}['updateMatr'+'ices'](_0x297586,_0x197dc7){}['updateMatr'+'ixPalette'](_0x1d9c02,_0x227f8e){const _0x5bea4c=this['matrixPale'+'tte'],_0x48052d=this['bones']['length'];for(let _0x3a9abe=0x1*-0x2476+0x35a*0x6+0x105a;_0x3a9abe<_0x48052d;_0x3a9abe++){const _0x362d12=this['bones'][_0x3a9abe]['getWorldTr'+'ansform']()['data'],_0x404d35=_0x3a9abe*(-0x1664+0x232b+0x1*-0xcbb);_0x5bea4c[_0x404d35]=_0x362d12[0xec6+-0x18f0+-0x2*-0x515],_0x5bea4c[_0x404d35+(0x1d9*-0x15+-0x85+0x2753)]=_0x362d12[-0x8*-0xeb+0x5*0x38f+-0x191f],_0x5bea4c[_0x404d35+(-0x46b+-0xa1+0x50e)]=_0x362d12[-0xdf*0x5+-0x1*0x1735+-0x373*-0x8],_0x5bea4c[_0x404d35+(0x12fd+-0x17d7+0x4dd)]=_0x362d12[-0x4*0x59d+0x1*0x8f9+0xd87],_0x5bea4c[_0x404d35+(0x29*0xcd+-0x26e+-0x1e63)]=_0x362d12[-0x55*0x58+0x22a9+-0x570],_0x5bea4c[_0x404d35+(0x1fe1+0x249e+-0x447a)]=_0x362d12[-0x71d*-0x5+0x131*0x3+-0x271f],_0x5bea4c[_0x404d35+(0xe43+0x43*-0x5c+0x9d7)]=_0x362d12[0x13d+0x1*-0x1033+0xeff],_0x5bea4c[_0x404d35+(0x3e+0x4e7+-0x51e)]=_0x362d12[-0x2189+0x1ac4*0x1+0x6d2],_0x5bea4c[_0x404d35+(0x90f+-0x24a2*-0x1+-0x2da9)]=_0x362d12[0x9ac+0x1*0x23b+0x3*-0x3f7],_0x5bea4c[_0x404d35+(-0x1*-0x92b+-0xfb8+0x119*0x6)]=_0x362d12[0x7a7*0x5+-0x1e*-0x59+-0x30ab*0x1],_0x5bea4c[_0x404d35+(0x2f*-0x76+-0xb*-0x2d7+0x989*-0x1)]=_0x362d12[0xaaa+-0x9e5+-0xbb],_0x5bea4c[_0x404d35+(0x175a*0x1+0x16*0x144+-0x3327)]=_0x362d12[0x1135+0x21e3+-0x330a];}this['uploadBone'+'s'](this['device']);}}let gE=0xdc6+-0x1bf1+0x5d*0x27;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x1a1f+-0x102+0x1b22),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=0xa83+0x2*0x3a6+-0x11cf,this['maxIndices']=-0x2505+-0x4dc*-0x1+0x2029,this['vertexCoun'+'t']=-0x1*0x5dc+0x25a0+0x13*-0x1ac,this['indexCount']=0x144a+-0x263+-0x11e7,this['vertexStre'+'amsUpdated']=!(-0x159f+-0x284*0xa+0x2ec8),this['indexStrea'+'mUpdated']=!(0x1d80+-0x10*0xce+-0x109f),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x497cc8,_0x5b8605){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x497cc8,'Vertex\x20str'+'eam\x20'+_0x5b8605+'\x20has\x20'+_0x497cc8+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x497cc8;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x549*-0x4+0x8*0x193+0x88f),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x17*-0xcb+0x1703+-0x187*0x1b),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x337+0x61*0x43+-0xb15*0x2),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x239*0xb+0x13ec+-0x2c5b);class SE{constructor(_0x1099b8,_0x29a84a,_0x1acac1,_0x14c6e8,_0x33e02b){this['data']=_0x1099b8,this['componentC'+'ount']=_0x29a84a,this['dataType']=_0x1acac1,this['dataTypeNo'+'rmalize']=_0x14c6e8,this['asInt']=_0x33e02b;}}class Ge extends wd{constructor(_0x258c04,_0x1961af){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x3*-0x761+0x17f+0x14a4*0x1),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x407*-0x1+-0x1aa2+-0x2*-0xf55)),h(this,'_storageVe'+'rtex',!(0x1c4f+-0x1f92+0xb*0x4c)),(this['id']=gE++,w['assert'](_0x258c04,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x258c04,this['_storageIn'+'dex']=(_0x1961af==null?void(0x2*-0xa57+0x1a1e+-0x570):_0x1961af['storageInd'+'ex'])||!(0x1311*0x2+0x2061+-0x4682),this['_storageVe'+'rtex']=(_0x1961af==null?void(0x577*0x1+0x13f3+0x2*-0xcb5):_0x1961af['storageVer'+'tex'])||!(-0x5c*0xb+-0x878+0xc6d));}static['fromGeomet'+'ry'](_0x5c63a8,_0x21c7b7,_0x42e1d4={}){const _0x5e95e4=new Ge(_0x5c63a8,_0x42e1d4),{positions:_0x25400f,normals:_0x2cd7b8,tangents:_0x247c55,colors:_0x866103,uvs:_0x4ded93,uvs1:_0x25185b,blendIndices:_0x3a6a6c,blendWeights:_0x16be4a,indices:_0x18cd62}=_0x21c7b7;return _0x25400f&&_0x5e95e4['setPositio'+'ns'](_0x25400f),_0x2cd7b8&&_0x5e95e4['setNormals'](_0x2cd7b8),_0x247c55&&_0x5e95e4['setVertexS'+'tream'](yi,_0x247c55,0x10e7+0x1d*0xb+-0x1a6*0xb),_0x866103&&_0x5e95e4['setColors3'+'2'](_0x866103),_0x4ded93&&_0x5e95e4['setUvs'](0x82c+0x3*-0xc2e+0x1c5e,_0x4ded93),_0x25185b&&_0x5e95e4['setUvs'](-0x2009+0x387*-0x7+0x38bb,_0x25185b),_0x3a6a6c&&_0x5e95e4['setVertexS'+'tream'](us,_0x3a6a6c,-0x1740+-0x15c0*0x1+0x43*0xac,_0x3a6a6c['length']/(0x470+0x89*-0x22+0xdc6),la),_0x16be4a&&_0x5e95e4['setVertexS'+'tream'](gi,_0x16be4a,-0x1be5+-0x2*0xe5d+0x9*0x64b),_0x18cd62&&_0x5e95e4['setIndices'](_0x18cd62),_0x5e95e4['update'](),_0x5e95e4;}set['morph'](_0x51c862){_0x51c862!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x51c862,_0x51c862&&_0x51c862['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x3cc3b7){this['_aabb']=_0x3cc3b7,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x2acd23=this['morph'];_0x2acd23&&(this['morph']=null,_0x2acd23['refCount']<-0x24a8+-0x340+0x27e9&&_0x2acd23['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x40656b=-0x12dd+0x104f+0x28e;_0x40656b<this['indexBuffe'+'r']['length'];_0x40656b++)this['_destroyIn'+'dexBuffer'](_0x40656b);this['indexBuffe'+'r']['length']=-0x212f+-0x1137+-0x2*-0x1933,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x59d4bc){this['indexBuffe'+'r'][_0x59d4bc]&&(this['indexBuffe'+'r'][_0x59d4bc]['destroy'](),this['indexBuffe'+'r'][_0x59d4bc]=null);}['_initBoneA'+'abbs'](_0x19c52f){this['boneAabb']=[],this['boneUsed']=[];let _0xed0008,_0x55ae1c,_0x5853e9,_0x19a488,_0x2f34eb;const _0x1cfc47=[],_0x1b8696=[],_0x2e10ee=this['boneUsed'],_0x3ca344=this['skin']['boneNames']['length'];let _0x217876,_0x3547eb,_0x15bcdf;for(let _0x6e2b67=-0xe0+0x9*-0x1e+-0x13*-0x1a;_0x6e2b67<_0x3ca344;_0x6e2b67++)_0x1cfc47[_0x6e2b67]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x1b8696[_0x6e2b67]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x59b71f=new Uo(this['vertexBuff'+'er']),_0x233626=_0x59b71f['element'][Me],_0x357c30=_0x59b71f['element'][gi],_0x3992c7=_0x59b71f['element'][us],_0x1823c0=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x158688=0x1*-0x16f5+0x112f+0x5c6;_0x158688<_0x1823c0;_0x158688++){for(let _0x34db78=-0x1a80+-0x26a6+0x2093*0x2;_0x34db78<-0x60f+0x1*0x201f+-0x1a0c;_0x34db78++)if(_0x357c30['array'][_0x357c30['index']+_0x34db78]>-0x1876+0xc1a+0x4*0x317){const _0x30edcf=_0x3992c7['array'][_0x3992c7['index']+_0x34db78];if(_0x2e10ee[_0x30edcf]=!(-0x1*0x687+0x11*-0x11b+-0xe*-0x1cf),_0xed0008=_0x233626['array'][_0x233626['index']],_0x55ae1c=_0x233626['array'][_0x233626['index']+(0x1a35+-0x6d*0x49+0x1*0x4e1)],_0x5853e9=_0x233626['array'][_0x233626['index']+(0x3*-0x2a1+-0xc6f+0x1454)],_0x19a488=_0x1b8696[_0x30edcf],_0x2f34eb=_0x1cfc47[_0x30edcf],_0x2f34eb['x']>_0xed0008&&(_0x2f34eb['x']=_0xed0008),_0x2f34eb['y']>_0x55ae1c&&(_0x2f34eb['y']=_0x55ae1c),_0x2f34eb['z']>_0x5853e9&&(_0x2f34eb['z']=_0x5853e9),_0x19a488['x']<_0xed0008&&(_0x19a488['x']=_0xed0008),_0x19a488['y']<_0x55ae1c&&(_0x19a488['y']=_0x55ae1c),_0x19a488['z']<_0x5853e9&&(_0x19a488['z']=_0x5853e9),_0x19c52f){let _0x49487f=_0x217876=_0xed0008,_0x6bf531=_0x3547eb=_0x55ae1c,_0x44d4c8=_0x15bcdf=_0x5853e9;for(let _0x143175=-0x1b0f+0x1*0x1fb7+0x95*-0x8;_0x143175<_0x19c52f['length'];_0x143175++){const _0x4bfb1f=_0x19c52f[_0x143175],_0x17b318=_0x4bfb1f['deltaPosit'+'ions'][_0x158688*(0x2*-0x409+-0xd32*0x1+-0x1547*-0x1)],_0x2df5d4=_0x4bfb1f['deltaPosit'+'ions'][_0x158688*(-0x11*0x209+0x1505*-0x1+-0x2f*-0x12f)+(-0x15a3*-0x1+-0x9*0x291+0x19*0xf)],_0x1d24ef=_0x4bfb1f['deltaPosit'+'ions'][_0x158688*(0x1acf+-0x13*0x18e+0x2be)+(-0x1*0x20af+0x1da*0x3+0x1*0x1b23)];_0x17b318<-0x614+0x161*0x2+0x352?_0x49487f+=_0x17b318:_0x217876+=_0x17b318,_0x2df5d4<0x20*-0x16+-0x1cb*0xb+0x1679?_0x6bf531+=_0x2df5d4:_0x3547eb+=_0x2df5d4,_0x1d24ef<-0x1a5*-0x3+-0x1978+0x1489?_0x44d4c8+=_0x1d24ef:_0x15bcdf+=_0x1d24ef;}_0x2f34eb['x']>_0x49487f&&(_0x2f34eb['x']=_0x49487f),_0x2f34eb['y']>_0x6bf531&&(_0x2f34eb['y']=_0x6bf531),_0x2f34eb['z']>_0x44d4c8&&(_0x2f34eb['z']=_0x44d4c8),_0x19a488['x']<_0x217876&&(_0x19a488['x']=_0x217876),_0x19a488['y']<_0x3547eb&&(_0x19a488['y']=_0x3547eb),_0x19a488['z']<_0x15bcdf&&(_0x19a488['z']=_0x15bcdf);}}_0x59b71f['next']();}const _0x421232=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x5489f1=>_0x5489f1['name']===Me);if(_0x421232&&_0x421232['normalize']){const _0x1169e1=((()=>{switch(_0x421232['dataType']){case dd:return _0x46f4e5=>Math['max'](_0x46f4e5/(-0x2f*-0x15+0xc61*0x2+-0x1c1e),-(-0x1*0x26b3+0x24c3+-0x7*-0x47));case la:return _0x4dc7d6=>_0x4dc7d6/(0x9*-0x261+0x3fa*-0x6+0x2e44);case fd:return _0x710a7=>Math['max'](_0x710a7/(-0xf*0xbc3+-0x38*-0x27a+0xa5bc),-(-0x7*-0x50a+0xc1*-0x7+-0x1*0x1dfe));case Ml:return _0x559206=>_0x559206/(-0x2*0x4c6c+0x1*0x19aa2+-0x1cb);default:return _0x15094a=>_0x15094a;}})());for(let _0x5955a3=0x227*0x6+0x1d45*0x1+-0x2a2f;_0x5955a3<_0x3ca344;_0x5955a3++)if(_0x2e10ee[_0x5955a3]){const _0x5ed329=_0x1cfc47[_0x5955a3],_0x4b6795=_0x1b8696[_0x5955a3];_0x5ed329['set'](_0x1169e1(_0x5ed329['x']),_0x1169e1(_0x5ed329['y']),_0x1169e1(_0x5ed329['z'])),_0x4b6795['set'](_0x1169e1(_0x4b6795['x']),_0x1169e1(_0x4b6795['y']),_0x1169e1(_0x4b6795['z']));}}for(let _0xfa56a4=0xebb*-0x1+0x1*0x19dd+-0xb22;_0xfa56a4<_0x3ca344;_0xfa56a4++){const _0x44bc57=new De();_0x44bc57['setMinMax'](_0x1cfc47[_0xfa56a4],_0x1b8696[_0xfa56a4]),this['boneAabb']['push'](_0x44bc57);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x1e7+-0x201d*-0x1+0x2*-0xf1b&&this['indexBuffe'+'r'][-0x5*0x371+0xbd3+0x562]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x257*0xf+0x1515+0x702*0x2]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x1de4+0x1421+-0x3205]['numIndices']));}['clear'](_0x2f8260,_0x378c4f,_0x2ccaf3=0x1883+-0x1313+0x4*-0x15c,_0x474c64=0xaf0+-0x24d9+-0x25b*-0xb){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1e5f+0x24d7*0x1+-0x678),this['_geometryD'+'ata']['maxVertice'+'s']=_0x2ccaf3,this['_geometryD'+'ata']['maxIndices']=_0x474c64,this['_geometryD'+'ata']['verticesUs'+'age']=_0x2f8260?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x378c4f?ms:lh;}['setVertexS'+'tream'](_0x3bd3dc,_0x1b0061,_0x1d820f,_0x2302c2,_0x71c6a=Ve,_0x3597d5=!(0x27*-0x9e+0x3*0x393+-0x2*-0x6ad),_0x4d8f6c=!(-0x549+-0xd49+0x1293)){this['_initGeome'+'tryData']();const _0x574bd4=_0x2302c2||_0x1b0061['length']/_0x1d820f;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x574bd4,_0x3bd3dc),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x868+0x19cc+-0x1164),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3bd3dc]=new SE(_0x1b0061,_0x1d820f,_0x71c6a,_0x3597d5,_0x4d8f6c);}['getVertexS'+'tream'](_0x174dca,_0x25955c){let _0x5bc77a=0x1de+-0x761+0x11*0x53,_0x5e4da3=!(-0x1883+0x2*-0x8ad+0x29de);if(this['_geometryD'+'ata']){const _0xd1c628=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x174dca];_0xd1c628&&(_0x5e4da3=!(0x3*0x259+-0x217+-0x4f4*0x1),_0x5bc77a=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x25955c)?_0x25955c['set'](_0xd1c628['data']):(_0x25955c['length']=0x1e7*-0xb+-0x26ef*-0x1+-0x1202,_0x25955c['push'](_0xd1c628['data'])));}return _0x5e4da3||this['vertexBuff'+'er']&&(_0x5bc77a=new Uo(this['vertexBuff'+'er'])['readData'](_0x174dca,_0x25955c)),_0x5bc77a;}['setPositio'+'ns'](_0x92fa73,_0x5e47b6=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x366e78){this['setVertexS'+'tream'](Me,_0x92fa73,_0x5e47b6,_0x366e78,Ve,!(0x26+0xec7+-0xeec));}['setNormals'](_0x209ff3,_0x23efcc=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3a4561){this['setVertexS'+'tream'](gs,_0x209ff3,_0x23efcc,_0x3a4561,Ve,!(-0x26be+0xb07+0x1bb8));}['setUvs'](_0x3aac4,_0x246077,_0x3e4163=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0xe23264){this['setVertexS'+'tream'](zm+_0x3aac4,_0x246077,_0x3e4163,_0xe23264,Ve,!(-0x3e*-0x71+0x9f7*-0x1+-0x1166));}['setColors'](_0x57295f,_0x5efbab=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x58cae7){this['setVertexS'+'tream'](Wt,_0x57295f,_0x5efbab,_0x58cae7,Ve,!(0x21*0x24+-0x44*-0x4a+-0x184b));}['setColors3'+'2'](_0x1f866e,_0x24e057){this['setVertexS'+'tream'](Wt,_0x1f866e,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x24e057,la,!(-0x2372+0x1ab9*0x1+0xb*0xcb));}['setIndices'](_0x1a5885,_0x3613e3){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x595*-0x3+-0x1212+0x153),this['_geometryD'+'ata']['indices']=_0x1a5885,this['_geometryD'+'ata']['indexCount']=_0x3613e3||_0x1a5885['length'];}['getPositio'+'ns'](_0x2c1b70){return this['getVertexS'+'tream'](Me,_0x2c1b70);}['getNormals'](_0x36103c){return this['getVertexS'+'tream'](gs,_0x36103c);}['getUvs'](_0x5bf75b,_0x2e1fa9){return this['getVertexS'+'tream'](zm+_0x5bf75b,_0x2e1fa9);}['getColors'](_0x3eaa1f){return this['getVertexS'+'tream'](Wt,_0x3eaa1f);}['getIndices'](_0x1251b9){let _0x11157b=-0x260d+0x16fd+0xf10;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x487057=this['_geometryD'+'ata']['indices'];if(_0x11157b=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x1251b9))_0x1251b9['set'](_0x487057);else{_0x1251b9['length']=-0x3a5*-0x9+-0x2047+-0x86;for(let _0x8c3707=-0x718+0x1*0x1c33+0x3*-0x709,_0x583cf9=_0x487057['length'];_0x8c3707<_0x583cf9;_0x8c3707++)_0x1251b9['push'](_0x487057[_0x8c3707]);}}else this['indexBuffe'+'r']['length']>-0x3*0x53e+0x3af*0x1+0xc0b&&this['indexBuffe'+'r'][-0xfef+0x1094+0xb*-0xf]&&(_0x11157b=this['indexBuffe'+'r'][0x1*0xcac+0x160a+-0x22b6]['readData'](_0x1251b9));return _0x11157b;}['update'](_0x2fcbca=js,_0x39d49c=!(0x2304+-0x1d3*-0x15+0x4953*-0x1)){if(this['_geometryD'+'ata']){if(_0x39d49c){const _0x232d12=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x232d12&&_0x232d12['componentC'+'ount']===0x1477+-0x19b4*-0x1+-0x2e28&&(this['_aabb']['compute'](_0x232d12['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x396de2=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x396de2=!(-0x1f2a+-0x1*0x1246+-0x8*-0x62e),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x396de2&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2a3ec0=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2a3ec0=!(0x1*-0xdd7+-0x4bb+0x1292),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2a3ec0&&this['indexBuffe'+'r']['length']>-0xd22+-0x2d*-0x78+-0x7f6&&this['indexBuffe'+'r'][-0x33b*-0x5+0x176c+-0x2793]&&(this['indexBuffe'+'r'][-0x1811+0x27a*-0x1+-0x1a8b*-0x1]['destroy'](),this['indexBuffe'+'r'][0x3*0xc8e+-0x15*0x1d+-0x2349]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0xd8b*0x1+-0x40a+-0x981]['type']=_0x2fcbca,this['indexBuffe'+'r']['length']>-0x1899*-0x1+0x20e8+-0x3981&&this['indexBuffe'+'r'][-0x2474+-0x1cae+-0x31a*-0x15]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0xac3+-0x1*0x1e0e+0x1*0x134b]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x1595+-0x62a+-0xf6b]['indexed']=!(-0x18ce+0x105b+0x873)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x216f+-0x18ab*0x1+-0xde*-0x43]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x1e18+-0x1b67+0x1*-0x2b1]['indexed']=!(0x10fc+0x1d21+-0x2e1c)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x4ab*0x4+-0x1*-0x79d+-0x1a49*0x1,this['_geometryD'+'ata']['indexCount']=-0x2462*-0x1+-0x4*0x521+-0xfde,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1eef*-0x1+-0x1fae+-0x1*-0xc0),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x18d6+0x21f*0x1+0x2e*-0x96),this['_geometryD'+'ata']['recreate']=!(-0x1457+-0x1*-0x18c5+-0x46d),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x2fb504){const _0x848452=[];for(const _0x2e65da in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x437880=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2e65da];_0x848452['push']({'semantic':_0x2e65da,'components':_0x437880['componentC'+'ount'],'type':_0x437880['dataType'],'normalize':_0x437880['dataTypeNo'+'rmalize'],'asInt':_0x437880['asInt']});}return new kt(this['device'],_0x848452,_0x2fb504);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x26bd9d=this['_geometryD'+'ata']['maxVertice'+'s'],_0x412858=this['_buildVert'+'exFormat'](_0x26bd9d);this['vertexBuff'+'er']=new Is(this['device'],_0x412858,_0x26bd9d,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x48774d=new Uo(this['vertexBuff'+'er']),_0x50f65f=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x4e2ddf in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3266b9=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4e2ddf];_0x48774d['writeData'](_0x4e2ddf,_0x3266b9['data'],_0x50f65f),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4e2ddf];}_0x48774d['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x1f3b+0xa20+0x151b||!this['indexBuffe'+'r'][0x641+0x24d3*-0x1+0x1e92]){const _0x2e6130=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4ee37c=_0x2e6130>0x332c+0x1a197*-0x1+0x26e6a||_0x2e6130===-0x211+-0x31*-0xa1+-0x1cc0?wr:Yi,_0x2901bc=this['_storageIn'+'dex']?{'storage':!(-0x25f*-0x4+-0x6*0x589+0x17ba)}:void(-0x1162+-0x11f7+0x2359*0x1);this['indexBuffe'+'r'][0x102*0x14+0x1*-0x2330+0xf08]=new br(this['device'],_0x4ee37c,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0xbd4+0x3*0x46d+0x35*-0x7),_0x2901bc);}const _0x573776=this['_geometryD'+'ata']['indices'];_0x573776&&(this['indexBuffe'+'r'][-0x2248*0x1+0x1883*0x1+0x9c5]['writeData'](_0x573776,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x470f6b){_0x470f6b===$r?this['generateWi'+'reframe']():_0x470f6b===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x222f+0x1264+-0x3493,'indexed':!(-0x12db+0x2024+-0xd48)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x1b4fa7=this['vertexBuff'+'er']['numVertice'+'s'],_0xc598f3=[];let _0x4099e9;if(this['indexBuffe'+'r']['length']>0x24f1+0x1eaf+0x4*-0x10e8&&this['indexBuffe'+'r'][-0x6ee*-0x2+0x171e+0x24fa*-0x1]){const _0x4aadcb=[[0x1164+0x1*-0x2679+0x1515,0x1af1+0xbe2+0x26d2*-0x1],[0x7*-0x15+-0x5f*-0x43+0x1*-0x1849,0x164b+0x21db+0x1c12*-0x2],[-0xdf7*0x1+-0x6c6*0x4+0x2911,-0x489*0x3+-0x11a5+0x1f40]],_0x5dfd59=this['primitive'][un]['base'],_0x2237a1=this['primitive'][un]['count'],_0x2b0f99=this['primitive'][un]['baseVertex']||0xc*0x1a1+-0xb9c*-0x1+-0x1f28,_0x18c487=this['indexBuffe'+'r'][un],_0x1a15b7=new Sh[_0x18c487['format']](_0x18c487['storage']),_0x229113=new Set();for(let _0x13b9c2=_0x5dfd59;_0x13b9c2<_0x5dfd59+_0x2237a1;_0x13b9c2+=0x1492+0xe8a+-0x2319)for(let _0x74ae65=0x1eef+0x2d6+-0x21c5;_0x74ae65<0x1257+-0x22ef+-0x27*-0x6d;_0x74ae65++){const _0x56ac20=_0x1a15b7[_0x13b9c2+_0x4aadcb[_0x74ae65][0x21f6+0xa68+-0x277*0x12]]+_0x2b0f99,_0x3879b1=_0x1a15b7[_0x13b9c2+_0x4aadcb[_0x74ae65][0x7*-0x1+0x1707+-0x1*0x16ff]]+_0x2b0f99,_0x44940b=_0x56ac20>_0x3879b1?_0x3879b1*_0x1b4fa7+_0x56ac20:_0x56ac20*_0x1b4fa7+_0x3879b1;_0x229113['has'](_0x44940b)||(_0x229113['add'](_0x44940b),_0xc598f3['push'](_0x56ac20,_0x3879b1));}_0x4099e9=_0x18c487['format'];}else{for(let _0x5230c0=-0x1254+0x38b*0x1+0xec9;_0x5230c0<_0x1b4fa7;_0x5230c0+=-0x787+-0x23e3*0x1+0x2b6d)_0xc598f3['push'](_0x5230c0,_0x5230c0+(-0x1*0x1cd7+-0x2039+0x3d11),_0x5230c0+(-0x128b+0x1*-0x157+0x6a1*0x3),_0x5230c0+(0x1d5c+0xfb*0x1f+-0x3bbf),_0x5230c0+(0x1f89+0x18*0x7a+0x11*-0x287),_0x5230c0);_0x4099e9=_0xc598f3['length']>0x1*-0x198f0+0x5*-0x3d84+0x3cc83?wr:Yi;}const _0x2184ec=new br(this['vertexBuff'+'er']['device'],_0x4099e9,_0xc598f3['length']);new Sh[_0x2184ec['format']](_0x2184ec['storage'])['set'](_0xc598f3),_0x2184ec['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0xc598f3['length'],'indexed':!(-0x1*0x1523+-0x1*0x19b1+0x1bc*0x1b)},this['indexBuffe'+'r'][$r]=_0x2184ec;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x222933,_0xb56f75){return _0x222933 instanceof Function?_0x222933:_0x205684=>{let _0x539baa=_0x205684[_0x222933];return _0x539baa instanceof Function&&(_0x539baa=_0x539baa()),_0x539baa===_0xb56f75;};}function Sv(_0x240eb0,_0x1a895c){if(_0x1a895c(_0x240eb0))return _0x240eb0;const _0x10de66=_0x240eb0['_children'],_0x375b67=_0x10de66['length'];for(let _0xbecaf9=0x6*-0x5+-0x642+-0x60*-0x11;_0xbecaf9<_0x375b67;++_0xbecaf9){const _0x4ad9ad=Sv(_0x10de66[_0xbecaf9],_0x1a895c);if(_0x4ad9ad)return _0x4ad9ad;}return null;}class Ie extends me{constructor(_0x306f42='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0xa1*-0x38+0x1313*0x2+-0x2ed,0xcaf+-0x19*0xa+-0xbb4,-0x931+-0x5f3+0xf25)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x1c45+0xf07*0x1+-0x2b4b)),h(this,'_aabbVer',-0x269c+-0xc22+0x32be),h(this,'_frozen',!(-0x10dd*0x1+-0x1f*-0xa7+-0x35b)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x18cc+-0x3*0x811+-0x13*0x8)),h(this,'_worldScal'+'eSign',-0x1*0x2569+-0xa*-0x251+-0x209*-0x7),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0xad4+0x1*0x9c2+0x2*0x89)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0xbc*-0x2+-0x9*-0x422+0x2*-0x11dd),h(this,'_enabled',!(0xa9f*-0x2+0x3e1+0x115d)),h(this,'_enabledIn'+'Hierarchy',!(-0x61*0x1c+0x15*0x92+0x1*-0x15d)),h(this,'scaleCompe'+'nsation',!(0x256c+-0x853*0x2+-0x14c5)),this['name']=_0x306f42;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x20d4+0xa2e*0x2+0x5*-0xaa3));}get['normalMatr'+'ix'](){const _0x47caaa=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x47caaa['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0xf*0xf9+0x25f4+0x17*-0x104)),_0x47caaa;}set['enabled'](_0x3b1c3f){var _0x1fade0;this['_enabled']!==_0x3b1c3f&&(this['_enabled']=_0x3b1c3f,(_0x3b1c3f&&((_0x1fade0=this['_parent'])!=null&&_0x1fade0['enabled'])||!_0x3b1c3f)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x3b1c3f));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x524f13=this['_parent'];if(!_0x524f13)return'';let _0x1de326=this['name'];for(;_0x524f13&&_0x524f13['_parent'];)_0x1de326=_0x524f13['name']+'/'+_0x1de326,_0x524f13=_0x524f13['_parent'];return _0x1de326;}get['root'](){let _0x24fbb9=this;for(;_0x24fbb9['_parent'];)_0x24fbb9=_0x24fbb9['_parent'];return _0x24fbb9;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1c5239,_0xff6612){_0x1c5239['_onHierarc'+'hyStateCha'+'nged'](_0xff6612);const _0x56443c=_0x1c5239['_children'];for(let _0x1dc44e=-0x1844+0x1*0x6c3+0x1181,_0x48bd61=_0x56443c['length'];_0x1dc44e<_0x48bd61;_0x1dc44e++)_0x56443c[_0x1dc44e]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x56443c[_0x1dc44e],_0xff6612);}['_onHierarc'+'hyStateCha'+'nged'](_0x58f829){this['_enabledIn'+'Hierarchy']=_0x58f829,_0x58f829&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x4594ff){_0x4594ff['name']=this['name'];const _0x420a60=this['tags']['_list'];_0x4594ff['tags']['clear']();for(let _0x3716e3=0x1897*-0x1+0xa0+0x17f7;_0x3716e3<_0x420a60['length'];_0x3716e3++)_0x4594ff['tags']['add'](_0x420a60[_0x3716e3]);_0x4594ff['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x4594ff['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x4594ff['localScale']['copy'](this['localScale']),_0x4594ff['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x4594ff['position']['copy'](this['position']),_0x4594ff['rotation']['copy'](this['rotation']),_0x4594ff['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x4594ff['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x4594ff['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x4594ff['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x4594ff['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x4594ff['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x4594ff['_aabbVer']=this['_aabbVer']+(0x1*-0x3e9+0x2138+-0x1d4e),_0x4594ff['_enabled']=this['_enabled'],_0x4594ff['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x4594ff['_enabledIn'+'Hierarchy']=!(0x4b0+0x84a*-0x3+0x142f);}['clone'](){const _0x247f23=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x247f23),_0x247f23;}['copy'](_0x35e57c){return _0x35e57c['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4f42de=this['_children'];for(;_0x4f42de['length'];){const _0x2c1bb4=_0x4f42de['pop']();_0x2c1bb4['_parent']=null,_0x2c1bb4['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x20f212,_0xc1ebf7){const _0x1942dc=[],_0x1e05a6=b_(_0x20f212,_0xc1ebf7);return this['forEach'](_0x55fd87=>{_0x1e05a6(_0x55fd87)&&_0x1942dc['push'](_0x55fd87);}),_0x1942dc;}['findOne'](_0x572599,_0x1844e7){const _0x174e72=b_(_0x572599,_0x1844e7);return Sv(this,_0x174e72);}['findByTag'](..._0x212a8c){const _0x2f9b9f=[],_0xd332e0=(_0x97b9a5,_0x2d62c9)=>{_0x2d62c9&&_0x97b9a5['tags']['has'](..._0x212a8c)&&_0x2f9b9f['push'](_0x97b9a5);for(let _0x3aa230=0x3da+-0xffa+0xc20;_0x3aa230<_0x97b9a5['_children']['length'];_0x3aa230++)_0xd332e0(_0x97b9a5['_children'][_0x3aa230],!(-0x1011+0xfb4*0x1+0x5d));};return _0xd332e0(this,!(0xd28+-0x427*0x9+0x4*0x60e)),_0x2f9b9f;}['findByName'](_0x3f0a0b){return this['findOne']('name',_0x3f0a0b);}['findByPath'](_0x150412){const _0x7bbb0e=Array['isArray'](_0x150412)?_0x150412:_0x150412['split']('/');let _0x24b217=this;for(let _0x42a814=-0xba8+0x1cd8+-0x1130,_0x41ca5b=_0x7bbb0e['length'];_0x42a814<_0x41ca5b;++_0x42a814)if(_0x24b217=_0x24b217['children']['find'](_0x5cc2d1=>_0x5cc2d1['name']===_0x7bbb0e[_0x42a814]),!_0x24b217)return null;return _0x24b217;}['forEach'](_0x40b08c,_0xfca0ec){_0x40b08c['call'](_0xfca0ec,this);const _0x7c4139=this['_children'],_0x228237=_0x7c4139['length'];for(let _0x3718e5=0x1e4d*0x1+-0x22ee+0x4a1;_0x3718e5<_0x228237;++_0x3718e5)_0x7c4139[_0x3718e5]['forEach'](_0x40b08c,_0xfca0ec);}['isDescenda'+'ntOf'](_0xde0e19){let _0x4e7109=this['_parent'];for(;_0x4e7109;){if(_0x4e7109===_0xde0e19)return!(-0x7*0x292+-0x19*0x6+0x1294);_0x4e7109=_0x4e7109['_parent'];}return!(0x4b+0xa*0x3d1+-0x2674);}['isAncestor'+'Of'](_0x57c75e){return _0x57c75e['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x947+-0x996+0x12de)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x716+-0x638*-0x4+0x2*-0xffb&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x1bae50;(_0x1bae50=this['_parent'])==null||_0x1bae50['removeChil'+'d'](this);}['reparent'](_0x46a1b5,_0x2de82b){this['remove'](),_0x46a1b5&&(_0x2de82b>=0xd64+-0x151+-0xc13?_0x46a1b5['insertChil'+'d'](this,_0x2de82b):_0x46a1b5['addChild'](this));}['setLocalEu'+'lerAngles'](_0x33c8c4,_0x509989,_0x7c85cd){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x33c8c4,_0x509989,_0x7c85cd),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x265ec7,_0x1e81c3,_0x5920a4){_0x265ec7 instanceof D?this['localPosit'+'ion']['copy'](_0x265ec7):this['localPosit'+'ion']['set'](_0x265ec7,_0x1e81c3,_0x5920a4),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x5268dc,_0x1ff1cf,_0x1a5ac4,_0x2d0b50){_0x5268dc instanceof le?this['localRotat'+'ion']['copy'](_0x5268dc):this['localRotat'+'ion']['set'](_0x5268dc,_0x1ff1cf,_0x1a5ac4,_0x2d0b50),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x36b806,_0x16e7da,_0x1b6d79){_0x36b806 instanceof D?this['localScale']['copy'](_0x36b806):this['localScale']['set'](_0x36b806,_0x16e7da,_0x1b6d79),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x698+0x1254+-0xbbc),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x341eac=this['_parent'];for(;_0x341eac;)_0x341eac['_frozen']=!(0x1c5e+-0x1e95*-0x1+-0x3af2),_0x341eac=_0x341eac['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x1*-0x949+0x9*-0x437+0x1ca7),this['_dirtyWorl'+'d']=!(-0x1*-0x7f+-0x2a1+0x27*0xe);for(let _0x352f43=0x85*0xb+0x267c+-0x5*0x8d7;_0x352f43<this['_children']['length'];_0x352f43++)this['_children'][_0x352f43]['_dirtyWorl'+'d']||this['_children'][_0x352f43]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0xabc+0x2*-0xb77+0x2*0x10d5),this['_worldScal'+'eSign']=-0x1bfc+0x761*-0x3+0x27*0x149,this['_aabbVer']++;}['setPositio'+'n'](_0x22fda0,_0x1c41b6,_0x57dbce){_0x22fda0 instanceof D?rs['copy'](_0x22fda0):rs['set'](_0x22fda0,_0x1c41b6,_0x57dbce),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x4a037a,_0x4b83ba,_0x554485,_0x45dd9c){if(_0x4a037a instanceof le?as['copy'](_0x4a037a):as['set'](_0x4a037a,_0x4b83ba,_0x554485,_0x45dd9c),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x141348=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x141348)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x19abca,_0x4d3d9e){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x19abca),this['localRotat'+'ion']['copy'](_0x4d3d9e);else{const _0x40629f=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x40629f)['invert'](),ro['transformP'+'oint'](_0x19abca,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x4d3d9e);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x19053f,_0x2fa1dc,_0x3ec82a){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x19053f,_0x2fa1dc,_0x3ec82a),this['_parent']!==null){const _0x19cdb1=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x19cdb1)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x35ee0e){this['_prepareIn'+'sertChild'](_0x35ee0e),this['_children']['push'](_0x35ee0e),this['_onInsertC'+'hild'](_0x35ee0e);}['addChildAn'+'dSaveTrans'+'form'](_0x461ecb){const _0x42bad2=_0x461ecb['getPositio'+'n'](),_0x149c1f=_0x461ecb['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x461ecb),_0x461ecb['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x42bad2)),_0x461ecb['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x149c1f)),this['_children']['push'](_0x461ecb),this['_onInsertC'+'hild'](_0x461ecb);}['insertChil'+'d'](_0x1c1694,_0x28ca26){this['_prepareIn'+'sertChild'](_0x1c1694),this['_children']['splice'](_0x28ca26,0x21c1*-0x1+-0xcf2+0x2eb3,_0x1c1694),this['_onInsertC'+'hild'](_0x1c1694);}['_prepareIn'+'sertChild'](_0x270f7c){_0x270f7c['remove'](),w['assert'](_0x270f7c!==this,'GraphNode\x20'+(_0x270f7c==null?void(0x8c3*0x1+0x44d+-0xd10):_0x270f7c['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x270f7c),'GraphNode\x20'+(_0x270f7c==null?void(-0x1bc7+0x192*-0x10+0x34e7*0x1):_0x270f7c['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0xf08c05,_0x554837,_0x2635a2){this['fire'](_0xf08c05,_0x2635a2);for(let _0x55c932=-0x2487+-0x1b*-0x5b+0x9*0x2fe;_0x55c932<this['_children']['length'];_0x55c932++)this['_children'][_0x55c932]['_fireOnHie'+'rarchy'](_0x554837,_0x554837,_0x2635a2);}['_onInsertC'+'hild'](_0x2ab676){_0x2ab676['_parent']=this;const _0x54f553=_0x2ab676['_enabled']&&this['enabled'];_0x2ab676['_enabledIn'+'Hierarchy']!==_0x54f553&&(_0x2ab676['_enabledIn'+'Hierarchy']=_0x54f553,_0x2ab676['_notifyHie'+'rarchyStat'+'eChanged'](_0x2ab676,_0x54f553)),_0x2ab676['_updateGra'+'phDepth'](),_0x2ab676['_dirtifyWo'+'rld'](),this['_frozen']&&_0x2ab676['_unfreezeP'+'arentToRoo'+'t'](),_0x2ab676['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x2ab676);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2*-0xed8+-0x1717+0x6*0x8cc):-0x1f*0x29+-0x19*-0xa9+-0xb8a;for(let _0x2bde10=-0x25e1+0xd54+0x188d,_0x52a8c9=this['_children']['length'];_0x2bde10<_0x52a8c9;_0x2bde10++)this['_children'][_0x2bde10]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x45048b){const _0x48bf02=this['_children']['indexOf'](_0x45048b);_0x48bf02!==-(0x1330+-0x92*-0x2b+0x2bb5*-0x1)&&(this['_children']['splice'](_0x48bf02,0xc08+-0xa2f+-0x1d8),_0x45048b['_parent']=null,_0x45048b['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x45048b));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1262+0x97d*0x3+0x4*-0xbb6)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x395ae2;const _0x124dd4=this['_parent'];let _0xf036fd=this['localScale'],_0x50cf78=_0x124dd4;if(_0x50cf78){for(;_0x50cf78&&_0x50cf78['scaleCompe'+'nsation'];)_0x50cf78=_0x50cf78['_parent'];_0x50cf78&&(_0x50cf78=_0x50cf78['_parent'],_0x50cf78&&(_0x395ae2=_0x50cf78['worldTrans'+'form']['getScale'](),T_['mul2'](_0x395ae2,this['localScale']),_0xf036fd=T_));}Wd['setFromMat'+'4'](_0x124dd4['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x234feb=_0x124dd4['worldTrans'+'form'];_0x124dd4['scaleCompe'+'nsation']&&(w_['mul2'](_0x395ae2,_0x124dd4['getLocalSc'+'ale']()),v_['setTRS'](_0x124dd4['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x234feb=v_),_0x234feb['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0xf036fd);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x17f2+0x10f+0x16e4);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x19f6+-0x22c3+0xc25*0x5),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x24ae02=this['_children'];for(let _0x2adaac=-0xfc1+0x2*0x53a+0x54d,_0x3f7ed7=_0x24ae02['length'];_0x2adaac<_0x3f7ed7;_0x2adaac++)_0x24ae02[_0x2adaac]['syncHierar'+'chy']();}['lookAt'](_0x593453,_0x59fedd,_0x2e9057,_0x5b83d2=-0x9e8+0x1*0x1af9+-0x1111,_0x583027=-0x6d1+0x19b1+-0x1*0x12df,_0x1f0908=0x33c+0x1473+-0x17af){if(_0x593453 instanceof D)$d['copy'](_0x593453),_0x59fedd instanceof D?tc['copy'](_0x59fedd):tc['copy'](D['UP']);else{if(_0x2e9057===void(0x16a2+0x545*0x5+-0x30fb))return;$d['set'](_0x593453,_0x59fedd,_0x2e9057),tc['set'](_0x5b83d2,_0x583027,_0x1f0908);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0xc6ca53,_0x4d056e,_0xfce1a4){_0xc6ca53 instanceof D?rs['copy'](_0xc6ca53):rs['set'](_0xc6ca53,_0x4d056e,_0xfce1a4),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x2598b1,_0x23ccc4,_0x8f8b72){_0x2598b1 instanceof D?rs['copy'](_0x2598b1):rs['set'](_0x2598b1,_0x23ccc4,_0x8f8b72),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x1e4362,_0x14e273,_0x382a62){if(as['setFromEul'+'erAngles'](_0x1e4362,_0x14e273,_0x382a62),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x423c96=this['getRotatio'+'n'](),_0x1a729d=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x1a729d)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x423c96);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x1fc42c,_0x259cf2,_0xae3bfe){as['setFromEul'+'erAngles'](_0x1fc42c,_0x259cf2,_0xae3bfe),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x2b4f2c){const _0x2974b4=yv['get'](_0x2b4f2c);return w['assert'](_0x2974b4),_0x2974b4;}function xE(_0x4535b3,_0x12970e){w['assert'](_0x12970e),yv['get'](_0x4535b3,()=>_0x12970e);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x54d65a,_0x4cdae6)=>{_0x4cdae6['destroy']();}),this['cache']['clear']();}['incRef'](_0x9f911d){const _0x21fa25=(this['cache']['get'](_0x9f911d)||0x41b*-0x7+-0x1763+0x3420)+(0x1f11+-0x1a05*-0x1+-0x3915);this['cache']['set'](_0x9f911d,_0x21fa25);}['decRef'](_0x32c69e){if(_0x32c69e){let _0x2a1752=this['cache']['get'](_0x32c69e);_0x2a1752&&(_0x2a1752--,_0x2a1752===0x23*0xe9+-0x8*-0x135+0x2983*-0x1?(this['cache']['delete'](_0x32c69e),_0x32c69e['destroy']()):this['cache']['set'](_0x32c69e,_0x2a1752));}}}class zi{static['incRef'](_0x218466){this['cache']['incRef'](_0x218466);}static['decRef'](_0x37916c){this['cache']['decRef'](_0x37916c);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x2*0x1c5+-0x14*0x30+-0x74a*-0x1;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x1a33+0x132a+-0x2d59);class bE{constructor(_0x3681a8){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x160*0xe+-0x1*-0x1529+0x1*-0x1e8)),this['count']=_0x3681a8;}['destroy'](){var _0xcf2ed3;this['_destroyVe'+'rtexBuffer']&&((_0xcf2ed3=this['vertexBuff'+'er'])==null||_0xcf2ed3['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x10b1*-0x1+0x3*0xb96+-0x120d));}['get'](_0xbc16cc){return this['map']['get'](_0xbc16cc)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x500934){if(!this['bindGroup']){const _0x26ae27=this['shader'];w['assert'](_0x26ae27);const _0x4f364a=_0x26ae27['meshBindGr'+'oupFormat'];w['assert'](_0x4f364a),this['bindGroup']=new Up(_0x500934,_0x4f364a),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x165ff6){if(!this['uniformBuf'+'fer']){const _0x444d76=this['shader'];w['assert'](_0x444d76);const _0x5b592b=_0x444d76['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x5b592b),this['uniformBuf'+'fer']=new zp(_0x165ff6,_0x5b592b,!(0xee5+0x2628+-0xe*0x3ca));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x4a6d61,_0x306fd7;(_0x4a6d61=this['bindGroup'])==null||_0x4a6d61['destroy'](),this['bindGroup']=null,(_0x306fd7=this['uniformBuf'+'fer'])==null||_0x306fd7['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x18009b,_0x588853,_0x3508cf=null){h(this,'castShadow',!(-0x1969+-0x1*0x1e2e+0x3798)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x1*0x1c42+-0xd81*0x1+0x29c3)),h(this,'drawOrder',0x803*-0x3+0x3*0x304+0x1*0xefd),h(this,'_drawBucke'+'t',-0x90*0x43+-0x2548+-0x1*-0x4b77),h(this,'node'),h(this,'visible',!(-0xc2*-0x2b+-0x36d*0x1+-0x1d29)),h(this,'visibleThi'+'sFrame',!(-0x1*0xfcc+0x8c9+0x1*0x704)),h(this,'flipFacesF'+'actor',-0x1cf5+0x88e*0x1+0x1468),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(-0x17d6+-0x32*-0x9c+-0x11b*0x6)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x118a+0xa3*0xd+-0x4a2*-0x2)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x1277+-0x191e+0x3*0x238)),h(this,'_aabbMeshV'+'er',-(0x7*0x3b5+0x1a5*-0x11+0x203)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0x393*0x1+0xe05+-0x1198)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',-0x274+-0x1bb9+0x1e2d),h(this,'_sortKeyFo'+'rward',-0x122d*0x2+0x24c7+-0x6d),h(this,'_sortKeyDy'+'namic',0x1*-0xcf5+-0x1bc0+0x28b5),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0xbff+-0x7f7*-0x3+-0xbe6)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x29*0x94+-0x35e*-0x8+-0x32a3)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x198d+-0x18+-0x1*-0x19b5),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x18009b instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x3508cf,this['_mesh']=_0x18009b,_0x18009b['incRefCoun'+'t'](),this['material']=_0x588853,_0x18009b['vertexBuff'+'er']){const _0x538447=_0x18009b['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x538447['hasUv0']?nm:-0x24a+-0x398+0x5e2,this['_shaderDef'+'s']|=_0x538447['hasUv1']?dv:0x1578+-0x65*-0x4f+-0x34a3,this['_shaderDef'+'s']|=_0x538447['hasColor']?fv:-0xeb*-0xa+0x466+-0xd94,this['_shaderDef'+'s']|=_0x538447['hasTangent'+'s']?om:-0x127a+-0x5*-0x733+-0x1185;}this['updateKey']();}set['drawBucket'](_0x150ab2){this['_drawBucke'+'t']=Math['floor'](_0x150ab2)&0x19b1*0x1+0xef6+-0x27a8,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x14f347){this['_renderSty'+'le']=_0x14f347,this['mesh']['prepareRen'+'derState'](_0x14f347);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x37dc7a){_0x37dc7a!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x37dc7a,_0x37dc7a&&_0x37dc7a['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x4b93cf){this['_aabb']=_0x4b93cf;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x15f2af=this['_customAab'+'b'],_0x33e4ae=!!_0x15f2af;if(!_0x15f2af){if(_0x15f2af=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x2023d5=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x2023d5);}const _0x310331=this['mesh']['boneUsed'];let _0x7b1971=!(-0x10*-0xe4+-0x21ea+-0x3*-0x68e);for(let _0xadbcb8=0x222a*-0x1+0xfb4+-0x116*-0x11;_0xadbcb8<this['mesh']['boneAabb']['length'];_0xadbcb8++)_0x310331[_0xadbcb8]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0xadbcb8],this['skinInstan'+'ce']['matrices'][_0xadbcb8]),_0x7b1971?(_0x7b1971=!(0x15dd+0x2*0x11c3+-0x3962),_0x15f2af['center']['copy'](sc['center']),_0x15f2af['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x15f2af['add'](sc));_0x33e4ae=!(0x1e5*-0x6+0x1*-0x247+-0xda5*-0x1);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x15f2af['center']['copy'](this['mesh']['aabb']['center']),_0x15f2af['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x15f2af['center']['set'](-0x2ac*-0x5+0xbe9*0x2+-0x252e,-0x12f5*-0x2+0x2558+-0x4b42,0xd*0x19+0x11dd+-0x1322*0x1),_0x15f2af['halfExtent'+'s']['set'](-0xf3a+0x5*-0xa9+0x1287,-0x2036+0x27*-0x8a+0x353c,-0x1a11+0x1a64+-0x53)),this['mesh']&&this['mesh']['morph']){const _0xcd2f1c=this['mesh']['morph']['aabb'];_0x15f2af['_expand'](_0xcd2f1c['getMin'](),_0xcd2f1c['getMax']());}_0x33e4ae=!(0x7a0+-0x8*-0x3f4+-0x2740),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x33e4ae&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x15f2af,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x4bd88b=>{_0x4bd88b['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x64c90,_0x2925cf,_0x5cb85c,_0x289b22,_0x4f738b,_0x55c377,_0x3c0dee){var _0xb702e1;const _0xc913bd=this['_shaderDef'+'s'];Rr[-0x21a*0x6+0x2626+-0x198a]=_0x64c90,Rr[-0x2329*-0x1+-0x20e+-0x211a]=_0x2925cf,Rr[0xf*0x285+0x3*0x642+-0x388f]=_0xc913bd,Rr[0x1a83+0x45*0x9+-0x1ced]=_0x289b22['hash'];const _0x5cc4eb=By(Rr);let _0x5a4ae6=this['_shaderCac'+'he']['get'](_0x5cc4eb);if(!_0x5a4ae6){const _0xac8d31=this['_material'];if(_0x5a4ae6=new CE(),_0x5a4ae6['shader']=_0xac8d31['variants']['get'](_0x5cc4eb),_0x5a4ae6['hashes']=new Uint32Array(Rr),!_0x5a4ae6['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x1170ed=_0xac8d31['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x5cb85c,'objDefs':_0xc913bd,'cameraShaderParams':_0x289b22,'pass':_0x64c90,'sortedLights':_0x3c0dee,'viewUniformFormat':_0x4f738b,'viewBindGroupFormat':_0x55c377,'vertexFormat':(_0xb702e1=this['mesh']['vertexBuff'+'er'])==null?void(0x1d3e+-0xd5c+-0xfe2):_0xb702e1['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0xac8d31['variants']['set'](_0x5cc4eb,_0x1170ed),_0x5a4ae6['shader']=_0x1170ed;}this['_shaderCac'+'he']['set'](_0x5cc4eb,_0x5a4ae6);}return w['call'](()=>{IT['equals'](_0x5a4ae6['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5a4ae6;}set['material'](_0xcaef66){this['clearShade'+'rs']();const _0x5c05d8=this['_material'];_0x5c05d8&&_0x5c05d8['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0xcaef66,_0xcaef66&&(_0xcaef66['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0xcaef66['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x5b0c61){_0x5b0c61!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x5b0c61,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x5f2ece){this['_calculate'+'SortDistan'+'ce']=_0x5f2ece;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0xd14dce){this['_receiveSh'+'adow']!==_0xd14dce&&(this['_receiveSh'+'adow']=_0xd14dce,this['_updateSha'+'derDefs'](_0xd14dce?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x186623){this['_updateSha'+'derDefs'](_0x186623?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x322*-0x3+0x115a+-0x40*0x6b;}set['skinInstan'+'ce'](_0x5b1b17){this['_skinInsta'+'nce']=_0x5b1b17,this['_updateSha'+'derDefs'](_0x5b1b17?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x5ba018){var _0x5181c0;(_0x5181c0=this['_morphInst'+'ance'])==null||_0x5181c0['destroy'](),this['_morphInst'+'ance']=_0x5ba018;let _0x33d5de=this['_shaderDef'+'s'];_0x33d5de=_0x5ba018&&_0x5ba018['morph']['morphPosit'+'ions']?_0x33d5de|ll:_0x33d5de&~ll,_0x33d5de=_0x5ba018&&_0x5ba018['morph']['morphNorma'+'ls']?_0x33d5de|cl:_0x33d5de&~cl,_0x33d5de=_0x5ba018&&_0x5ba018['morph']['intRenderF'+'ormat']?_0x33d5de|hl:_0x33d5de&~hl,this['_updateSha'+'derDefs'](_0x33d5de);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x38b056){this['_screenSpa'+'ce']!==_0x38b056&&(this['_screenSpa'+'ce']=_0x38b056,this['_updateSha'+'derDefs'](_0x38b056?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x192359){this['_sortKeyFo'+'rward']=_0x192359;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x58e6f7){const _0x39009e=this['_shaderDef'+'s']&0xa177+0x15f46*0x1+0x76*-0x22d;this['_updateSha'+'derDefs'](_0x39009e|_0x58e6f7<<0x77d+0x10*-0x266+0x1ef3);}get['mask'](){return this['_shaderDef'+'s']>>-0xd6d+-0x553*-0x1+0x82a;}set['instancing'+'Count'](_0x5ea094){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x5ea094);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x854*0x2+-0x101*0xb+-0x59d;}['destroy'](){var _0x10f571,_0x2ce01a,_0x3eabb7;const _0x36ce21=this['mesh'];_0x36ce21&&(this['mesh']=null,_0x36ce21['refCount']<-0x125f*-0x1+-0x1df3+-0xb95*-0x1&&_0x36ce21['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x2e*0x75+0xa73*-0x3+0xa53],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1*0x7a+0x3*0x67f+-0x1302],null),(_0x10f571=this['_skinInsta'+'nce'])==null||_0x10f571['destroy'](),this['_skinInsta'+'nce']=null,(_0x2ce01a=this['morphInsta'+'nce'])==null||_0x2ce01a['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3eabb7=this['instancing'+'Data'])==null||_0x3eabb7['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x7ef4e,_0x309d47){if(_0x7ef4e){for(let _0x29d1a4=-0x1ea5+-0x1e7*-0x3+0x18f0;_0x29d1a4<_0x7ef4e['length'];_0x29d1a4++){_0x7ef4e[_0x29d1a4]['_renderSty'+'le']=_0x309d47;const _0x170b31=_0x7ef4e[_0x29d1a4]['mesh'];qd['has'](_0x170b31)||(qd['add'](_0x170b31),_0x170b31['prepareRen'+'derState'](_0x309d47));}qd['clear']();}}['_isVisible'](_0x58aa38){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x58aa38):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x58aa38['frustum']['containsSp'+'here'](Xd)>0x107d+0x1e2b+0x4*-0xbaa):!(-0x78c+-0xce7+0x1474);}['updateKey'](){const {material:_0x275fec}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0x2*-0x30b+0x40d+0x220*0x1|(_0x275fec['alphaToCov'+'erage']||_0x275fec['alphaTest']?0x1*0x52cd89+0x1f4cf5+0x2*-0x190d3f:-0x306*-0x2+-0xee8+0xe*0xa2)|_0x275fec['id']&-0x7c4ba0+0x21cf3*0x38+0x1*0x45f677;}['setInstanc'+'ing'](_0x2f7291,_0x101fee=!(-0xa4b+-0xf7a+0x19c6)){_0x2f7291?(this['instancing'+'Data']=new bE(_0x2f7291['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2f7291,_0x2f7291['format']['instancing']=!(0x609+0xa*-0x32d+0x19b9),this['cull']=_0x101fee):(this['instancing'+'Data']=null,this['cull']=!(0x248*0x2+0x2055+-0x24e5)),this['_updateSha'+'derDefs'](_0x2f7291?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x529fc6,_0x3865bc){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x529fc6==null?void(0x566+0x10ee+-0x1654):_0x529fc6['camera'])??null,_0x3865bc),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x3975c1;this['_allocIndi'+'rectData']();const _0x250dd6=(_0x3975c1=this['mesh'])==null?void(-0x338*0x1+-0x1*-0x4df+-0x1a7):_0x3975c1['primitive'][this['renderStyl'+'e']],_0x33ae41=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x33ae41[0x25be+0x1*0x733+-0x2cf1]=_0x250dd6['count'],_0x33ae41[0x139+-0x7b7+0x67f*0x1]=_0x250dd6['base'],_0x33ae41[-0x2*0xfef+-0x1458+-0x8b4*-0x6]=_0x250dd6['baseVertex'],_0x33ae41;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x16f3b2){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x16f3b2));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x23229d){return this['parameters'][_0x23229d];}['setParamet'+'er'](_0x218394,_0xa3a12,_0x3e8284=0x1*0x12fc85f03+0x15869c063+-0x990d50f*0x29){const _0x458f04=this['parameters'][_0x218394];_0x458f04?(_0x458f04['data']=_0xa3a12,_0x458f04['passFlags']=_0x3e8284):this['parameters'][_0x218394]={'scopeId':null,'data':_0xa3a12,'passFlags':_0x3e8284};}['setRealtim'+'eLightmap'](_0x267d32,_0x3e03b8){const _0x49b6b8=this['getParamet'+'er'](_0x267d32);_0x49b6b8!==_0x3e03b8&&(_0x49b6b8&&zi['decRef'](_0x49b6b8['data']),_0x3e03b8?(zi['incRef'](_0x3e03b8),this['setParamet'+'er'](_0x267d32,_0x3e03b8)):this['deletePara'+'meter'](_0x267d32));}['deletePara'+'meter'](_0x359898){this['parameters'][_0x359898]&&delete this['parameters'][_0x359898];}['setParamet'+'ers'](_0xf11060,_0x3b11df){const _0xdcaa3b=this['parameters'];for(const _0x24cd0e in _0xdcaa3b){const _0x50ff0f=_0xdcaa3b[_0x24cd0e];_0x50ff0f['passFlags']&_0x3b11df&&(_0x50ff0f['scopeId']||(_0x50ff0f['scopeId']=_0xf11060['scope']['resolve'](_0x24cd0e)),_0x50ff0f['scopeId']['setValue'](_0x50ff0f['data']));}}['setLightma'+'pped'](_0x4df840){_0x4df840?this['mask']=(this['mask']|di)&-(0x26a2+0xa3*-0x4+0x8*-0x482):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0xdff*0x1+0xedd+-0xde],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x802+-0x2b*0xc1+0x186a],null),this['_shaderDef'+'s']&=-(0x211*0xa+0xca*0x17+-0x160f),this['mask']=(this['mask']|Ss)&-(-0x594+0x10ba+-0xdb*0xd));}['setCustomA'+'abb'](_0x278cda){_0x278cda?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x278cda):this['_customAab'+'b']=_0x278cda['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x25d3+-0xcb0+-0x1922)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x7+-0xd*0x223+0x8*0x378,-0x1c7*-0x6+0x2124+-0x2bcd,0x10d*-0x1a+-0x2314+0x3e69,0x11dd+0x1afb*-0x1+-0x1*-0x920,0x1*-0x37+-0x25db+-0x1*-0x2615,0x599*0x6+0x4f*0x31+-0x4*0xc2d],ME=[-0x2655+-0xc10+0x1*0x3265,-0x1621+0x194*-0x2+0x4e*0x53,0xa85+0x441+0xec3*-0x1,-0x1*-0x100f+-0xbdd*-0x2+-0x27c9,-0x14*-0x4+-0x1f52+0x1*0x1f05,0x4*-0x18a+-0x1*0xcf1+0x131b],A_=new _i();function C_(_0x4ee910,_0x56274b){if(_0x4ee910&&!_0x56274b||!_0x4ee910&&_0x56274b)return!(-0x1*0x1bf2+-0x2189+0x3d7c);if(_0x4ee910=_0x4ee910['data'],_0x56274b=_0x56274b['data'],_0x4ee910===_0x56274b)return!(0x9*-0x377+0x12f1+0xc3e);if(_0x4ee910 instanceof Float32Array&&_0x56274b instanceof Float32Array){if(_0x4ee910['length']!==_0x56274b['length'])return!(-0x26c8+-0xcdf*-0x1+0x19ea);for(let _0x13282b=0x2243+-0x1d*0x3a+-0x1bb1;_0x13282b<_0x4ee910['length'];_0x13282b++)if(_0x4ee910[_0x13282b]!==_0x56274b[_0x13282b])return!(0x138f+-0x215f+0xdd1);return!(-0xe93+-0x2*0x75a+0x1d47);}return!(0x1*-0x10d3+0x224a+-0x1176);}function DE(_0x422c36,_0x3a73dc){for(const _0xf9dc28 in _0x422c36)if(_0x422c36['hasOwnProp'+'erty'](_0xf9dc28)&&!C_(_0x422c36[_0xf9dc28],_0x3a73dc[_0xf9dc28]))return!(-0x16b1+-0xf*0x21f+-0x3683*-0x1);for(const _0x57c9dd in _0x3a73dc)if(_0x3a73dc['hasOwnProp'+'erty'](_0x57c9dd)&&!C_(_0x3a73dc[_0x57c9dd],_0x422c36[_0x57c9dd]))return!(0x1*0xc61+-0xe8f*-0x1+-0x1aef);return!(0x176+-0x59*0x2d+-0x1*-0xe2f);}function jd(_0x21708a){return _0x21708a['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x40b83c,_0x3250b1,_0x2e57e3){this['device']=_0x40b83c,this['rootNode']=_0x3250b1,this['scene']=_0x2e57e3,this['_init']=!(0x7*0x83+-0x178a+0x13f6),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x24e5+0xa0b*-0x2+0x38fb,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x41b0eb,_0x2b2295,_0x2b6999,_0x1bc3ca,_0xd2af26){if(_0x1bc3ca===void(-0xcfd+-0x238d+-0x28e*-0x13)&&(_0x1bc3ca=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x1bc3ca]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x1bc3ca+('\x20already\x20e'+'xists.'));return;}const _0x514444=new St(_0x1bc3ca,_0x41b0eb,_0x2b2295,_0x2b6999,_0xd2af26);return this['_batchGrou'+'ps'][_0x1bc3ca]=_0x514444,_0x514444;}['removeGrou'+'p'](_0x3e66c1){if(!this['_batchGrou'+'ps'][_0x3e66c1]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x3e66c1+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x54b05e=[];for(let _0x47fba9=-0xf*0xf+0x92f*0x4+-0x23db;_0x47fba9<this['_batchList']['length'];_0x47fba9++)this['_batchList'][_0x47fba9]['batchGroup'+'Id']===_0x3e66c1?this['destroyBat'+'ch'](this['_batchList'][_0x47fba9]):_0x54b05e['push'](this['_batchList'][_0x47fba9]);this['_batchList']=_0x54b05e,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x3e66c1),delete this['_batchGrou'+'ps'][_0x3e66c1];}['markGroupD'+'irty'](_0x4e2997){this['_dirtyGrou'+'ps']['indexOf'](_0x4e2997)<-0x5f*-0x8+0x17b1+0xaf*-0x27&&this['_dirtyGrou'+'ps']['push'](_0x4e2997);}['getGroupBy'+'Name'](_0x531b70){const _0x58e1c9=this['_batchGrou'+'ps'];for(const _0x37c632 in _0x58e1c9)if(_0x58e1c9['hasOwnProp'+'erty'](_0x37c632)&&_0x58e1c9[_0x37c632]['name']===_0x531b70)return _0x58e1c9[_0x37c632];return null;}['getBatches'](_0x21ee49){const _0x40947c=[],_0x5c26e3=this['_batchList']['length'];for(let _0x5ac1e8=-0x58f*-0x1+-0xa21+0x492;_0x5ac1e8<_0x5c26e3;_0x5ac1e8++){const _0x4c76cd=this['_batchList'][_0x5ac1e8];_0x4c76cd['batchGroup'+'Id']===_0x21ee49&&_0x40947c['push'](_0x4c76cd);}return _0x40947c;}['_removeMod'+'elsFromBat'+'chGroup'](_0x36af1c,_0x39afee){if(_0x36af1c['enabled']){_0x36af1c['model']&&_0x36af1c['model']['batchGroup'+'Id']===_0x39afee&&(_0x36af1c['model']['batchGroup'+'Id']=-(-0x741+-0x6*-0x1fd+-0x4ac*0x1)),_0x36af1c['render']&&_0x36af1c['render']['batchGroup'+'Id']===_0x39afee&&(_0x36af1c['render']['batchGroup'+'Id']=-(0x10d*0x6+0x1a1f*-0x1+-0x76*-0x2b)),_0x36af1c['element']&&_0x36af1c['element']['batchGroup'+'Id']===_0x39afee&&(_0x36af1c['element']['batchGroup'+'Id']=-(-0x1b08+0x1382*0x1+0x787)),_0x36af1c['sprite']&&_0x36af1c['sprite']['batchGroup'+'Id']===_0x39afee&&(_0x36af1c['sprite']['batchGroup'+'Id']=-(-0x1b53+0x2128+-0x2ea*0x2));for(let _0x9777b=0x2*0x4d7+-0x36f*-0x3+-0x13fb;_0x9777b<_0x36af1c['_children']['length'];_0x9777b++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x36af1c['_children'][_0x9777b],_0x39afee);}}['insert'](_0x36c68a,_0x1a3296,_0x3295ce){const _0x3d0a04=this['_batchGrou'+'ps'][_0x1a3296];w['assert'](_0x3d0a04,'Invalid\x20ba'+'tch\x20'+_0x1a3296+'\x20insertion'),_0x3d0a04&&_0x3d0a04['_obj'][_0x36c68a]['indexOf'](_0x3295ce)<-0x2*0x3d3+-0x1c0c*0x1+0x23b2&&(_0x3d0a04['_obj'][_0x36c68a]['push'](_0x3295ce),this['markGroupD'+'irty'](_0x1a3296));}['remove'](_0x550cf1,_0x12d950,_0x3a9cd1){const _0x1213d6=this['_batchGrou'+'ps'][_0x12d950];if(w['assert'](_0x1213d6,'Invalid\x20ba'+'tch\x20'+_0x12d950+'\x20insertion'),_0x1213d6){const _0x58f569=_0x1213d6['_obj'][_0x550cf1]['indexOf'](_0x3a9cd1);_0x58f569>=0x78*-0x9+-0x121b+0x2d*0x7f&&(_0x1213d6['_obj'][_0x550cf1]['splice'](_0x58f569,0x1b00+0x213f+-0x3c3e),this['markGroupD'+'irty'](_0x12d950));}}['_extractRe'+'nder'](_0x289180,_0x5935f9,_0xc6298,_0x5bf848){return _0x289180['render']&&(_0x5935f9=_0x5bf848[_0x289180['render']['batchGroup'+'Id']]=_0x5935f9['concat'](_0x289180['render']['meshInstan'+'ces']),_0x289180['render']['removeFrom'+'Layers']()),_0x5935f9;}['_extractMo'+'del'](_0x189dd4,_0x2e6f1b,_0x549344,_0x2a9a9e){return _0x189dd4['model']&&_0x189dd4['model']['model']&&(_0x2e6f1b=_0x2a9a9e[_0x189dd4['model']['batchGroup'+'Id']]=_0x2e6f1b['concat'](_0x189dd4['model']['meshInstan'+'ces']),_0x189dd4['model']['removeMode'+'lFromLayer'+'s'](),_0x189dd4['model']['_batchGrou'+'p']=_0x549344),_0x2e6f1b;}['_extractEl'+'ement'](_0x427a5b,_0x49d95e,_0x2188c8){if(!_0x427a5b['element'])return;let _0x22d985=!(0x113c+-0xf6*-0xb+0xb*-0x287);_0x427a5b['element']['_text']&&_0x427a5b['element']['_text']['_model']['meshInstan'+'ces']['length']>0x13f3*0x1+-0x13f*-0x3+-0x17b0?(_0x49d95e['push'](_0x427a5b['element']['_text']['_model']['meshInstan'+'ces'][0x1*0x16b5+-0xd95+0x49*-0x20]),_0x427a5b['element']['removeMode'+'lFromLayer'+'s'](_0x427a5b['element']['_text']['_model']),_0x22d985=!(0x7f2+0x27*-0xae+-0x1290*-0x1)):_0x427a5b['element']['_image']&&(_0x49d95e['push'](_0x427a5b['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x427a5b['element']['removeMode'+'lFromLayer'+'s'](_0x427a5b['element']['_image']['_renderabl'+'e']['model']),_0x427a5b['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x49d95e['push'](_0x427a5b['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x427a5b['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x427a5b['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x427a5b['element']['_dirtifyMa'+'sk'](),_0x427a5b['element']['_onPrerend'+'er']())),_0x22d985=!(0x5*0x235+0x3*0x141+-0x4*0x3b3)),_0x22d985&&(_0x2188c8['_ui']=!(0x13*0x1c7+0x444+0x1*-0x2609),_0x427a5b['element']['_batchGrou'+'p']=_0x2188c8);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x2bc774,_0x55d5cc){for(let _0x4221da=0x188e*0x1+0xfd7+-0x1b*0x17f;_0x4221da<_0x55d5cc['length'];_0x4221da++){const _0x5737ad=_0x55d5cc[_0x4221da],_0x4ad0f4=this['_batchGrou'+'ps'][_0x5737ad];if(!_0x4ad0f4)continue;let _0x13ac09=_0x2bc774[_0x5737ad];_0x13ac09||(_0x13ac09=_0x2bc774[_0x5737ad]=[]);for(let _0x493f34=0x1*-0x1d1b+-0x2*-0xac3+-0x1*-0x795;_0x493f34<_0x4ad0f4['_obj']['model']['length'];_0x493f34++)_0x13ac09=this['_extractMo'+'del'](_0x4ad0f4['_obj']['model'][_0x493f34],_0x13ac09,_0x4ad0f4,_0x2bc774);for(let _0x554fb7=0x1bcf+-0x1c7a+-0xab*-0x1;_0x554fb7<_0x4ad0f4['_obj']['render']['length'];_0x554fb7++)_0x13ac09=this['_extractRe'+'nder'](_0x4ad0f4['_obj']['render'][_0x554fb7],_0x13ac09,_0x4ad0f4,_0x2bc774);for(let _0x5472ed=0x2*-0xdf+0xd93+-0xbd5;_0x5472ed<_0x4ad0f4['_obj']['element']['length'];_0x5472ed++)this['_extractEl'+'ement'](_0x4ad0f4['_obj']['element'][_0x5472ed],_0x13ac09,_0x4ad0f4);for(let _0x30035c=-0x13fb+-0x826+0x1c21;_0x30035c<_0x4ad0f4['_obj']['sprite']['length'];_0x30035c++){const _0x4719c8=_0x4ad0f4['_obj']['sprite'][_0x30035c];_0x4719c8['sprite']&&_0x4719c8['sprite']['_meshInsta'+'nce']&&(_0x4ad0f4['dynamic']||_0x4719c8['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x13ac09['push'](_0x4719c8['sprite']['_meshInsta'+'nce']),_0x4719c8['sprite']['removeMode'+'lFromLayer'+'s'](),_0x4ad0f4['_sprite']=!(-0x665*0x5+-0xb55+0x2b4e*0x1),_0x4719c8['sprite']['_batchGrou'+'p']=_0x4ad0f4);}}}['generate'](_0x1de461){const _0x1b1f5e={};_0x1de461||(_0x1de461=Object['keys'](this['_batchGrou'+'ps']));const _0x2d9375=[];for(let _0x2e94ec=0x4*-0x419+-0xf3a+0x1f9e;_0x2e94ec<this['_batchList']['length'];_0x2e94ec++){if(_0x1de461['indexOf'](this['_batchList'][_0x2e94ec]['batchGroup'+'Id'])<-0x21af+0x26d1+-0x6*0xdb){_0x2d9375['push'](this['_batchList'][_0x2e94ec]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x2e94ec]);}if(this['_batchList']=_0x2d9375,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x1b1f5e,_0x1de461),_0x1de461===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x503*-0x1+0x17f7+0x97a*-0x2;else{const _0x1abc51=[];for(let _0x57f9a0=-0x924+-0x206a+0x298e;_0x57f9a0<this['_dirtyGrou'+'ps']['length'];_0x57f9a0++)_0x1de461['indexOf'](this['_dirtyGrou'+'ps'][_0x57f9a0])<0x56*-0xf+-0x1baf+0x1*0x20b9&&_0x1abc51['push'](this['_dirtyGrou'+'ps'][_0x57f9a0]);this['_dirtyGrou'+'ps']=_0x1abc51;}let _0x4db571,_0x2df67c,_0x4d28f0,_0x24503e;for(const _0x18dc3d in _0x1b1f5e)if(_0x1b1f5e['hasOwnProp'+'erty'](_0x18dc3d)){if(_0x4db571=_0x1b1f5e[_0x18dc3d],_0x4d28f0=this['_batchGrou'+'ps'][_0x18dc3d],!_0x4d28f0){w['error']('batch\x20grou'+'p\x20'+_0x18dc3d+'\x20not\x20found');continue;}_0x2df67c=this['prepare'](_0x4db571,_0x4d28f0['dynamic'],_0x4d28f0['maxAabbSiz'+'e'],_0x4d28f0['_ui']||_0x4d28f0['_sprite']);for(let _0x573ede=0x8b*0x2e+-0x1a8e+-0x1*-0x194;_0x573ede<_0x2df67c['length'];_0x573ede++)_0x24503e=this['create'](_0x2df67c[_0x573ede],_0x4d28f0['dynamic'],parseInt(_0x18dc3d,-0x1ee*0x6+0x1*0x1e19+-0x127b)),_0x24503e&&_0x24503e['addToLayer'+'s'](this['scene'],_0x4d28f0['layers']);}}['prepare'](_0x4ddce8,_0x52a42e,_0x23a577=Number['POSITIVE_I'+'NFINITY'],_0xaf1b74){if(_0x4ddce8['length']===-0x59*0x2f+-0x22db+0x3332)return[];const _0x29bafa=_0x23a577*(-0x135a*0x1+-0x1915+0x2c6f+0.5),_0x57b667=-0x2*0x892+0x1f*-0xe2+0x3082,_0x508279=-0xcd9*-0x27243b+-0xda5a7a8b*-0x1+-0x1d13af48f,_0x2b9c0c=new De(),_0x12e48f=new De();let _0x4fc7e6=null,_0x23dde5;const _0x218429=[];let _0x435cc8=0x1f*0x115+0x755*0x3+0x2*-0x1bc5;_0xaf1b74&&_0x4ddce8['sort']((_0x192b30,_0x331b8a)=>_0x192b30['drawOrder']-_0x331b8a['drawOrder']);let _0x1c0fee=_0x4ddce8,_0x1d972e;const _0x22aef4=_0xaf1b74?function(_0xb62b0e){_0x4fc7e6?_0x4fc7e6['add'](_0xb62b0e['aabb']):_0x4fc7e6=_0xb62b0e['aabb']['clone'](),_0x1d972e['push'](_0xb62b0e);}:function(_0x2dad38){_0x1d972e['push'](_0x2dad38);};for(;_0x1c0fee['length']>-0x379+-0xed5*0x1+-0x8e*-0x21;){_0x218429[_0x435cc8]=[_0x1c0fee[-0x1978+-0x75b*0x1+-0x1*-0x20d3]],_0x1d972e=[];const _0x5b6ede=_0x1c0fee[0x1dcd+-0x1cd0+-0xfd]['material'],_0x369254=_0x1c0fee[-0xc1*-0x32+0x11*0x14f+-0x3*0x13fb]['layer'],_0xe96078=_0x1c0fee[-0x1*-0x10fd+-0xda+-0x1023]['_shaderDef'+'s'],_0x2eb360=_0x1c0fee[-0x2*0x344+-0x1d34+0x11de*0x2]['parameters'],_0x4a4b68=_0x1c0fee[-0x4c*0x1+-0x19c2+0x29b*0xa]['stencilFro'+'nt'];let _0x4bb3ba=_0x1c0fee[0x23f*-0x11+-0x1c9a*0x1+0x42c9]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x358043=_0x1c0fee[0x222e+0x3*-0xb23+-0x1*0xc5]['drawOrder'];_0x2b9c0c['copy'](_0x1c0fee[-0xb99*-0x1+0x2176*0x1+0x2d0f*-0x1]['aabb']);const _0x24a034=jd(_0x1c0fee[-0x616+0x16ab*0x1+-0x1095]),_0x4b8970=_0x1c0fee[0x24a8+-0x350*0x8+0x5*-0x208]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3992a3=_0x1c0fee[0x113f+-0x1af*-0x15+-0x349a]['mesh']['primitive'][0x1*0x467+-0x4e9+0x82]['indexed'];_0x4fc7e6=null;for(let _0xe6b4bd=-0x1b96+0x1b6*-0x13+-0x389*-0x11;_0xe6b4bd<_0x1c0fee['length'];_0xe6b4bd++){const _0x8d85d6=_0x1c0fee[_0xe6b4bd];if(_0x52a42e&&_0x218429[_0x435cc8]['length']>=_0x57b667){_0x1d972e=_0x1d972e['concat'](_0x1c0fee['slice'](_0xe6b4bd));break;}if(_0x5b6ede!==_0x8d85d6['material']||_0x369254!==_0x8d85d6['layer']||_0x4b8970!==_0x8d85d6['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3992a3!==_0x8d85d6['mesh']['primitive'][0x29*0x19+-0x4*0x557+0x115b]['indexed']||_0xe96078!==_0x8d85d6['_shaderDef'+'s']||_0x4bb3ba+_0x8d85d6['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x508279){_0x22aef4(_0x8d85d6);continue;}if(_0x12e48f['copy'](_0x2b9c0c),_0x12e48f['add'](_0x8d85d6['aabb']),_0x12e48f['halfExtent'+'s']['x']>_0x29bafa||_0x12e48f['halfExtent'+'s']['y']>_0x29bafa||_0x12e48f['halfExtent'+'s']['z']>_0x29bafa){_0x22aef4(_0x8d85d6);continue;}if(_0x4a4b68&&(!(_0x23dde5=_0x8d85d6['stencilFro'+'nt'])||_0x4a4b68['func']!==_0x23dde5['func']||_0x4a4b68['zpass']!==_0x23dde5['zpass'])){_0x22aef4(_0x8d85d6);continue;}if(_0x24a034!==jd(_0x8d85d6)){_0x22aef4(_0x8d85d6);continue;}if(!DE(_0x2eb360,_0x8d85d6['parameters'])){_0x22aef4(_0x8d85d6);continue;}if(_0xaf1b74&&_0x4fc7e6&&_0x4fc7e6['intersects'](_0x8d85d6['aabb'])&&_0x8d85d6['drawOrder']!==_0x358043){_0x22aef4(_0x8d85d6);continue;}_0x2b9c0c['add'](_0x8d85d6['aabb']),_0x4bb3ba+=_0x8d85d6['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x218429[_0x435cc8]['push'](_0x8d85d6);}_0x435cc8++,_0x1c0fee=_0x1d972e;}return _0x218429;}['collectBat'+'chedMeshDa'+'ta'](_0xadff99,_0x59b073){let _0x465ff1=null,_0x381156=0x992+0xb7*-0xd+0x1*-0x47,_0x25805a=-0x2e2+-0x1e5*-0x5+-0x697,_0x2ec343=null;for(let _0x29a755=0x2655*0x1+-0x122*0x19+-0xa03;_0x29a755<_0xadff99['length'];_0x29a755++)if(_0xadff99[_0x29a755]['visible']){const _0x556dfe=_0xadff99[_0x29a755]['mesh'],_0x3ac679=_0x556dfe['vertexBuff'+'er']['numVertice'+'s'];if(_0x381156+=_0x3ac679,_0x556dfe['primitive'][0x1723*-0x1+0xe2a+0x8f9]['indexed'])_0x25805a+=_0x556dfe['primitive'][-0x23*-0xe3+-0x583*0x1+-0x42*0x63]['count'];else{const _0xf36429=_0x556dfe['primitive'][-0x1e37+0x6a*0x59+-0x6a3*0x1]['type'];(_0xf36429===oa||_0xf36429===Er)&&_0x556dfe['primitive'][-0x1f2e+0x1dd3+0x1*0x15b]['count']===-0x25e2+0x665+0x1f81&&(_0x25805a+=0x2108+0x29*-0x7+-0x1fe3);}if(!_0x465ff1){_0x2ec343=_0xadff99[_0x29a755]['material'],_0x465ff1={};const _0x497009=_0x556dfe['vertexBuff'+'er']['format']['elements'];for(let _0x36d5d3=-0x2*-0xcb9+-0x47*-0x27+-0x1*0x2443;_0x36d5d3<_0x497009['length'];_0x36d5d3++){const _0x904e40=_0x497009[_0x36d5d3]['name'];_0x465ff1[_0x904e40]={'numComponents':_0x497009[_0x36d5d3]['numCompone'+'nts'],'dataType':_0x497009[_0x36d5d3]['dataType'],'normalize':_0x497009[_0x36d5d3]['normalize'],'count':0x0};}_0x59b073&&(_0x465ff1[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x1399*-0x1+0x189e+-0x2c36*0x1),'count':0x0});}}return{'streams':_0x465ff1,'batchNumVerts':_0x381156,'batchNumIndices':_0x25805a,'material':_0x2ec343};}['create'](_0x8d61c0,_0x2d90e0,_0x3d8cc6){const _0x3c5d11=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x596*-0x2+0xbdf+-0xb3));let _0x1d3640=null,_0x4ba8f0,_0x5b5ee5,_0x500b21,_0x38d4f8=null;const _0x22f0cc=this['collectBat'+'chedMeshDa'+'ta'](_0x8d61c0,_0x2d90e0);if(_0x22f0cc['streams']){const _0x4c78c6=_0x22f0cc['streams'];let _0x50f324=_0x22f0cc['material'];const _0xeca117=_0x22f0cc['batchNumVe'+'rts'],_0x2c62cf=_0x22f0cc['batchNumIn'+'dices'];_0x38d4f8=new g_(_0x8d61c0,_0x2d90e0,_0x3d8cc6),this['_batchList']['push'](_0x38d4f8);let _0x4edfda,_0x572587,_0x8e5f4c,_0x5e9e91,_0x32eccf=-0x412*0x5+-0x1d*0x25+0x188b,_0x3d6df8=0x18bd*-0x1+0x1eb8+0x1*-0x5fb,_0x408f60;const _0x316197=_0xeca117<=0xc*0xc61+-0x16*0x99+0x7899?Uint16Array:Uint32Array,_0x46312c=new _0x316197(_0x2c62cf);for(_0x4ba8f0 in _0x4c78c6)_0x1d3640=_0x4c78c6[_0x4ba8f0],_0x1d3640['typeArrayT'+'ype']=wn[_0x1d3640['dataType']],_0x1d3640['elementByt'+'eSize']=No[_0x1d3640['dataType']],_0x1d3640['buffer']=new _0x1d3640['typeArrayT'+'ype'](_0xeca117*_0x1d3640['numCompone'+'nts']);for(let _0x22b48a=0x680*-0x5+0x9dd+0x16a3;_0x22b48a<_0x8d61c0['length'];_0x22b48a++)if(_0x8d61c0[_0x22b48a]['visible']){_0x5b5ee5=_0x8d61c0[_0x22b48a]['mesh'],_0x500b21=_0x5b5ee5['vertexBuff'+'er']['numVertice'+'s'],_0x2d90e0||(_0x408f60=_0x8d61c0[_0x22b48a]['node']['getWorldTr'+'ansform']());for(_0x4ba8f0 in _0x4c78c6)if(_0x4ba8f0!==us){_0x1d3640=_0x4c78c6[_0x4ba8f0];const _0xb10b23=new _0x1d3640['typeArrayT'+'ype'](_0x1d3640['buffer']['buffer'],_0x1d3640['elementByt'+'eSize']*_0x1d3640['count']),_0x512659=_0x5b5ee5['getVertexS'+'tream'](_0x4ba8f0,_0xb10b23)*_0x1d3640['numCompone'+'nts'];if(_0x1d3640['count']+=_0x512659,!_0x2d90e0&&_0x1d3640['numCompone'+'nts']>=0x62*-0x1a+-0x1742+0x4bf*0x7){if(_0x4ba8f0===Me){const _0x458bd0=_0x408f60['data'],_0x39dc9b=_0x458bd0[-0x1da9+-0x196c*0x1+0x1*0x3715],_0x341712=_0x458bd0[-0x12c1*0x1+-0x1c*0x85+-0x2*-0x10a7],_0x5e7a71=_0x458bd0[0x1b8d+0x9d*0x13+-0x2732],_0x5c7571=_0x458bd0[0x3f7+0x72b*0x3+-0x1974],_0x2fdc1e=_0x458bd0[-0x1*-0x26cb+0x1b9a+-0x12*0x3b0],_0x316b1b=_0x458bd0[-0x3e4+-0x1c2b*0x1+0x2015],_0x3fff9d=_0x458bd0[-0x19e4+0x43*-0x65+-0x1*-0x345b],_0x4611ae=_0x458bd0[-0xc9*0x1b+-0x1e30+0x336c],_0x2166b4=_0x458bd0[0x2*-0x11bb+-0x2*0x1139+0x2*0x22f9],_0x2974d5=_0x458bd0[0x1b86+-0x53c+-0x163e],_0x3834eb=_0x458bd0[0x991*0x1+-0x29a*0x7+0x8b2],_0x4244d1=_0x458bd0[0x1*-0x9fc+-0x1059+0x1a63];let _0x1cb936,_0x4bdd27,_0x5ed2ee;for(let _0x23c628=0x6*0x288+0x1f7f+0x2bf*-0x11;_0x23c628<_0x512659;_0x23c628+=_0x1d3640['numCompone'+'nts'])_0x1cb936=_0xb10b23[_0x23c628],_0x4bdd27=_0xb10b23[_0x23c628+(0x113c*0x1+-0x14f+-0xfec)],_0x5ed2ee=_0xb10b23[_0x23c628+(0x1f0c+-0x112d+-0x111*0xd)],_0xb10b23[_0x23c628]=_0x1cb936*_0x39dc9b+_0x4bdd27*_0x5c7571+_0x5ed2ee*_0x3fff9d+_0x2974d5,_0xb10b23[_0x23c628+(0x211*-0x4+0x1*-0x1416+0x1c5b)]=_0x1cb936*_0x341712+_0x4bdd27*_0x2fdc1e+_0x5ed2ee*_0x4611ae+_0x3834eb,_0xb10b23[_0x23c628+(0x751*0x1+-0x8*0x8+-0x70f)]=_0x1cb936*_0x5e7a71+_0x4bdd27*_0x316b1b+_0x5ed2ee*_0x2166b4+_0x4244d1;}else{if(_0x4ba8f0===gs||_0x4ba8f0===yi){A_['invertMat4'](_0x408f60)['transpose']();const [_0x12362d,_0x37fce1,_0x396b4d,_0x5cba47,_0x53bd64,_0x1fa45e,_0x1cb51b,_0x49277c,_0x4b3d68]=A_['data'];let _0xada9d7,_0x5624a3,_0x124876;for(let _0x2ea381=0x5f5+-0x264b+-0x2056*-0x1;_0x2ea381<_0x512659;_0x2ea381+=_0x1d3640['numCompone'+'nts'])_0xada9d7=_0xb10b23[_0x2ea381],_0x5624a3=_0xb10b23[_0x2ea381+(-0x9eb*-0x1+0x1*-0x15e2+0xbf8)],_0x124876=_0xb10b23[_0x2ea381+(0x9d2+0x1*-0x236a+0x199a)],_0xb10b23[_0x2ea381]=_0xada9d7*_0x12362d+_0x5624a3*_0x5cba47+_0x124876*_0x1cb51b,_0xb10b23[_0x2ea381+(0xe74+-0xcf0+-0x183)]=_0xada9d7*_0x37fce1+_0x5624a3*_0x53bd64+_0x124876*_0x49277c,_0xb10b23[_0x2ea381+(-0x1e92+0xb41+0x123*0x11)]=_0xada9d7*_0x396b4d+_0x5624a3*_0x1fa45e+_0x124876*_0x4b3d68;}}}}if(_0x2d90e0){_0x1d3640=_0x4c78c6[us];for(let _0x210112=0x1*-0xa0b+-0x7*0x16f+0x1414;_0x210112<_0x500b21;_0x210112++)_0x1d3640['buffer'][_0x1d3640['count']++]=_0x22b48a;}if(_0x5b5ee5['primitive'][0x3ac*0x2+0x57f+-0xcd7]['indexed']){_0x4edfda=_0x5b5ee5['primitive'][-0x1f54+-0x5*-0x305+0x103b]['base'],_0x572587=_0x5b5ee5['primitive'][-0x1b62+-0x890+-0x56*-0x6b]['baseVertex']||-0x1b50+-0x1d90+-0x7*-0x820,_0x8e5f4c=_0x5b5ee5['primitive'][-0x852+0x35*0x41+-0x523]['count'];const _0x2f8b65=_0x5b5ee5['indexBuffe'+'r'][0x1f70+0x4*0x77c+-0x8*0x7ac]['getFormat']();_0x5e9e91=new Sh[_0x2f8b65](_0x5b5ee5['indexBuffe'+'r'][0x197a+0xf42+-0x28bc]['storage']);}else{_0x572587=0x22*-0xd+0x2615*0x1+-0x245b;const _0x10c72e=_0x5b5ee5['primitive'][0x227d+-0x232f+0xb2]['type'];if(_0x10c72e===oa||_0x10c72e===Er){if(_0x5b5ee5['primitive'][-0x1*-0x21f3+0x789+-0x1*0x297c]['count']===-0x86*0x1a+-0x1a*0x29+0x11ca)_0x4edfda=0x1906+-0x2*0x748+-0xa76,_0x8e5f4c=-0x1e1e+0x1*0x1ba1+-0x1*-0x283,_0x5e9e91=_0x10c72e===oa?PE:ME;else{_0x8e5f4c=0xe15+0x79d*-0x5+-0x2*-0xbfe;continue;}}}for(let _0x9b575a=0x945*-0x3+-0x438+0x2007;_0x9b575a<_0x8e5f4c;_0x9b575a++)_0x46312c[_0x9b575a+_0x3d6df8]=_0x5e9e91[_0x4edfda+_0x9b575a]+_0x572587+_0x32eccf;_0x3d6df8+=_0x8e5f4c,_0x32eccf+=_0x500b21;}_0x5b5ee5=new Ge(this['device']);for(_0x4ba8f0 in _0x4c78c6)_0x1d3640=_0x4c78c6[_0x4ba8f0],_0x5b5ee5['setVertexS'+'tream'](_0x4ba8f0,_0x1d3640['buffer'],_0x1d3640['numCompone'+'nts'],void(0xd3f+0xa2*0x2+-0xe83),_0x1d3640['dataType'],_0x1d3640['normalize']);_0x46312c['length']>-0x1bdb*-0x1+-0xa*-0x1e+-0x1d07&&_0x5b5ee5['setIndices'](_0x46312c),_0x5b5ee5['update'](js,!(-0x2244+-0x159f+0x37e4)),_0x2d90e0&&(_0x50f324=_0x50f324['clone'](),_0x50f324['update']());const _0xa4d694=new He(_0x5b5ee5,_0x50f324,this['rootNode']);_0xa4d694['castShadow']=_0x38d4f8['origMeshIn'+'stances'][0x919+-0x21d8+0x18bf]['castShadow'],_0xa4d694['parameters']=_0x38d4f8['origMeshIn'+'stances'][-0x269f+-0x80+-0x7d3*-0x5]['parameters'],_0xa4d694['layer']=_0x38d4f8['origMeshIn'+'stances'][-0x2*-0x75b+0x6*0x28d+0x22*-0xe2]['layer'],_0xa4d694['_shaderDef'+'s']=_0x38d4f8['origMeshIn'+'stances'][-0x1502+0x4*0x662+0x6*-0xc1]['_shaderDef'+'s'],_0xa4d694['batching']=!(-0x1944+-0x2032*0x1+-0xb7e*-0x5),_0xa4d694['cull']=_0x38d4f8['origMeshIn'+'stances'][0x1c2a+-0x466+-0x17c4]['cull'];const _0xaa3009=this['_batchGrou'+'ps'][_0x3d8cc6];if(_0xaa3009&&_0xaa3009['_ui']&&(_0xa4d694['cull']=!(0x1*0x1eb5+0x21be+-0x4072)),_0x2d90e0){const _0x49e653=[];for(let _0x53668a=0x1a9*-0x3+0x2fd+0x1fe;_0x53668a<_0x38d4f8['origMeshIn'+'stances']['length'];_0x53668a++)_0x49e653['push'](_0x38d4f8['origMeshIn'+'stances'][_0x53668a]['node']);_0xa4d694['skinInstan'+'ce']=new y_(this['device'],_0x49e653,this['rootNode']);}_0xa4d694['_updateAab'+'b']=!(-0x1*-0x170c+0x1bf4+-0x32ff),_0xa4d694['drawOrder']=_0x38d4f8['origMeshIn'+'stances'][-0xcc2+-0x1*-0x509+0x7b9]['drawOrder'],_0xa4d694['stencilFro'+'nt']=_0x38d4f8['origMeshIn'+'stances'][0x12b8+0xdf*-0xe+0x14e*-0x5]['stencilFro'+'nt'],_0xa4d694['stencilBac'+'k']=_0x38d4f8['origMeshIn'+'stances'][0x2*0x8c9+0x23d3+-0x3565]['stencilBac'+'k'],_0xa4d694['flipFacesF'+'actor']=jd(_0x38d4f8['origMeshIn'+'stances'][-0x1bb1+-0x432*-0x5+0x1*0x6b7]),_0xa4d694['castShadow']=_0x38d4f8['origMeshIn'+'stances'][-0x1*-0x40c+0x1d5a+-0x2166]['castShadow'],_0x38d4f8['meshInstan'+'ce']=_0xa4d694,_0x38d4f8['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x3c5d11,_0x38d4f8;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x1*-0x1a95+-0x213a+0xfb*0x3d&&this['generate'](this['_dirtyGrou'+'ps']);const _0x279de7=de();for(let _0x3a324c=0xe*0xda+0xd38+-0x1924;_0x3a324c<this['_batchList']['length'];_0x3a324c++)this['_batchList'][_0x3a324c]['dynamic']&&this['_batchList'][_0x3a324c]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x279de7;}['clone'](_0x461f1b,_0x20d10e){const _0x9c185b=new g_(_0x20d10e,_0x461f1b['dynamic'],_0x461f1b['batchGroup'+'Id']);this['_batchList']['push'](_0x9c185b);const _0x24fc3f=[];for(let _0x1fe1e6=-0xf2e*-0x1+0x6d8*0x3+-0x23b6;_0x1fe1e6<_0x20d10e['length'];_0x1fe1e6++)_0x24fc3f['push'](_0x20d10e[_0x1fe1e6]['node']);return _0x9c185b['meshInstan'+'ce']=new He(_0x461f1b['meshInstan'+'ce']['mesh'],_0x461f1b['meshInstan'+'ce']['material'],_0x461f1b['meshInstan'+'ce']['node']),_0x9c185b['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*0x25bf+0x61e+-0xfd1*-0x2),_0x9c185b['meshInstan'+'ce']['parameters']=_0x20d10e[-0x1eb6+-0x236b*-0x1+-0xf1*0x5]['parameters'],_0x9c185b['meshInstan'+'ce']['cull']=_0x20d10e[0x27*0x49+0xcb*-0x11+0x25c*0x1]['cull'],_0x9c185b['meshInstan'+'ce']['layer']=_0x20d10e[0x3c*-0x9b+-0x37d+0x27d1]['layer'],_0x461f1b['dynamic']&&(_0x9c185b['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x24fc3f,this['rootNode'])),_0x9c185b['meshInstan'+'ce']['castShadow']=_0x461f1b['meshInstan'+'ce']['castShadow'],_0x9c185b;}['destroyBat'+'ch'](_0x49eef1){_0x49eef1['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x49eef1['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x44933a,_0xd347d9,_0x5b914a){if((_0x44933a==null?void(0x1c7c+0xf8a+-0x73*0x62):_0x44933a['colorBuffe'+'r']['format'])!==_0x5b914a)return!(0x2*-0xccc+0xdda+0xbbe);const _0xee5184=(_0xd347d9==null?void(0x1*-0x1271+0xbd2+0x71*0xf):_0xd347d9['width'])||this['device']['width'],_0x4c9b24=(_0xd347d9==null?void(-0x9f*-0x3+0xbd7*0x1+0xdb4*-0x1):_0xd347d9['height'])||this['device']['height'];return!_0x44933a||_0xee5184!==_0x44933a['width']||_0x4c9b24!==_0x44933a['height'];}['allocateRe'+'nderTarget'](_0x59f9e7,_0x5e8189,_0x2c18a4,_0x1c4d32){const _0x34bdd7=new _e(_0x2c18a4,{'name':P_,'format':_0x1c4d32,'width':_0x5e8189?_0x5e8189['colorBuffe'+'r']['width']:_0x2c18a4['width'],'height':_0x5e8189?_0x5e8189['colorBuffe'+'r']['height']:_0x2c18a4['height'],'mipmaps':!(0xa*0x3e4+-0x3*0x868+-0x36c*0x4),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x59f9e7?(_0x59f9e7['destroyFra'+'meBuffers'](),_0x59f9e7['_colorBuff'+'er']=_0x34bdd7,_0x59f9e7['_colorBuff'+'ers']=[_0x34bdd7]):_0x59f9e7=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x34bdd7,'depth':!(-0x335+0x3a4*-0x1+-0x2*-0x36d),'stencil':!(-0x4e*0x2f+-0xa29+0x187c),'autoResolve':!(-0x2*-0x101f+-0x21c9+0x18c)}),_0x59f9e7;}['releaseRen'+'derTarget'](_0x287c9b){_0x287c9b&&(_0x287c9b['destroyTex'+'tureBuffer'+'s'](),_0x287c9b['destroy']());}['frameUpdat'+'e'](){const _0x30fa74=this['device'],_0x440b1f=this['source'],_0x320915=(_0x440b1f==null?void(-0xae5*0x1+-0x213b+0x2c20):_0x440b1f['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x440b1f==null?void(0x19ae+0x26*-0xd0+0x532):_0x440b1f['colorBuffe'+'r'],_0x320915)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x440b1f,_0x30fa74,_0x320915));const _0x48a1f3=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x30fa74['scope']['resolve'](P_)['setValue'](_0x48a1f3);}['execute'](){const _0x339369=this['device'];Q['pushGpuMar'+'ker'](_0x339369,'GRAB-COLOR');const _0x579ff9=this['source'],_0x27165f=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x339369['isWebGPU']?(_0x339369['copyRender'+'Target'](_0x579ff9,this['colorRende'+'rTarget'],!(0x184*-0x6+-0x385+0xc9d),!(0xacc+-0x2296+0x17cb)),_0x339369['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x339369['copyRender'+'Target'](_0x579ff9,this['colorRende'+'rTarget'],!(0x2*0xebb+-0x16e7+-0x17*0x49),!(-0x641*0x5+0x24a7+-0x561)),_0x339369['activeText'+'ure'](_0x339369['maxCombine'+'dTextures']-(0x19cc*-0x1+0x19e5*-0x1+0xd*0x3fa)),_0x339369['bindTextur'+'e'](_0x27165f),_0x339369['gl']['generateMi'+'pmap'](_0x27165f['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x339369);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x4de7ea,_0x216123){super(_0x4de7ea),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x216123;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0xde1b3d,_0x4c260d){const _0xdef3f6=(_0x4c260d==null?void(0x85d+0x2173+0xa74*-0x4):_0x4c260d['width'])||this['device']['width'],_0x494516=(_0x4c260d==null?void(0x6*-0xa1+0x50f+-0x149):_0x4c260d['height'])||this['device']['height'];return!_0xde1b3d||_0xdef3f6!==_0xde1b3d['width']||_0x494516!==_0xde1b3d['height'];}['allocateRe'+'nderTarget'](_0x6128c6,_0x3aff57,_0x5dcae9,_0x175548,_0x29b347){const _0x58be80=new _e(_0x5dcae9,{'name':M_,'format':_0x175548,'width':_0x3aff57?_0x3aff57['colorBuffe'+'r']['width']:_0x5dcae9['width'],'height':_0x3aff57?_0x3aff57['colorBuffe'+'r']['height']:_0x5dcae9['height'],'mipmaps':!(-0x1c9a+-0x2c9+0x1f64),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x6128c6?(_0x6128c6['destroyFra'+'meBuffers'](),_0x29b347?_0x6128c6['_depthBuff'+'er']=_0x58be80:(_0x6128c6['_colorBuff'+'er']=_0x58be80,_0x6128c6['_colorBuff'+'ers']=[_0x58be80])):_0x6128c6=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x29b347?null:_0x58be80,'depthBuffer':_0x29b347?_0x58be80:null,'depth':!_0x29b347,'stencil':_0x5dcae9['supportsSt'+'encil'],'autoResolve':!(-0xd7e*0x2+0xb6*0x1a+0x881*0x1)}),_0x6128c6;}['releaseRen'+'derTarget'](_0x3be535){_0x3be535&&(_0x3be535['destroyTex'+'tureBuffer'+'s'](),_0x3be535['destroy']());}['before'](){var _0x107446,_0x51060a;const _0x16ef88=this['camera'],_0x156a49=this['device'],_0x414513=(_0x16ef88==null?void(-0x1602+0x49*0x11+0x1129):_0x16ef88['renderTarg'+'et'])??_0x156a49['backBuffer'];let _0x30a012=!(-0x285+-0x1*0x883+0xb08),_0x519c36=_0x414513['stencil']?sd:$i;_0x156a49['isWebGPU']&&_0x414513['samples']>-0x444+-0x2053+0x2498&&(_0x519c36=Ji,_0x30a012=!(0x176f+0x2*0x53d+-0x21e8));const _0x1ca1a7=((_0x107446=_0x16ef88['renderTarg'+'et'])==null?void(-0xeae*0x1+0x3*-0x139+0x1259):_0x107446['depthBuffe'+'r'])??((_0x51060a=_0x16ef88['renderTarg'+'et'])==null?void(-0x7*0x283+0x17b*0x5+0xa2e):_0x51060a['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x1ca1a7)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x16ef88['renderTarg'+'et'],_0x156a49,_0x519c36,_0x30a012));const _0xee534=_0x30a012?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x156a49['scope']['resolve'](M_)['setValue'](_0xee534);}['execute'](){const _0x53912e=this['device'];if(Q['pushGpuMar'+'ker'](_0x53912e,'GRAB-DEPTH'),_0x53912e['isWebGL2']&&_0x53912e['renderTarg'+'et']['samples']>-0x3c1*0x9+0x286+-0xae*-0x2e){const _0x494830=_0x53912e['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x4021d2=this['depthRende'+'rTarget'];_0x53912e['renderTarg'+'et']=_0x4021d2,_0x53912e['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x53912e,_0x494830,_0x4021d2['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x53912e['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x53912e['copyRender'+'Target'](_0x53912e['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1*0x18fa+-0x725+-0x4*0x475),!(-0x2d*0x20+-0x5*-0x31f+0x9fb*-0x1));Q['popGpuMark'+'er'](_0x53912e);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x580+-0xf*0x10+0x671)),h(this,'_ssaoEnabl'+'ed',!(-0x5a1*0x4+-0x2*-0xc91+-0x29d)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x1*0xea5+-0x8a5*0x1+-0x43*-0x59)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0xec7+-0x445*0x1+0x5*-0x21a));}get['hash'](){if(this['_hash']===void(0x30b*0x9+0x47a+0xa9f*-0x3)){const _0x44cfcc=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x44cfcc);}return this['_hash'];}get['defines'](){const _0x9bbaf=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x3*-0x803+-0x3d9+-0x142f),_0x9bbaf['clear'](),this['_sceneDept'+'hMapLinear']&&_0x9bbaf['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x1e2*0xb+-0x5f+-0x7f*0x29)),_0x9bbaf['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x9bbaf['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x9bbaf['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x9bbaf;}['markDirty'](){this['_hash']=void(0xb8d*-0x1+0x99f+0x1ee),this['_definesDi'+'rty']=!(-0x1c1+-0x1798+0x1959);}set['fog'](_0x66fb3){this['_fog']!==_0x66fb3&&(this['_fog']=_0x66fb3,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x45af2a){this['_ssaoEnabl'+'ed']!==_0x45af2a&&(this['_ssaoEnabl'+'ed']=_0x45af2a,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x318914){this['_gammaCorr'+'ectionAssi'+'gned']=!(0xea9+-0x3be+0x22f*-0x5),this['_gammaCorr'+'ection']!==_0x318914&&(this['_gammaCorr'+'ection']=_0x318914,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x1a9983){this['_toneMappi'+'ng']!==_0x1a9983&&(this['_toneMappi'+'ng']=_0x1a9983,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x109b40){this['_srgbRende'+'rTarget']!==_0x109b40&&(this['_srgbRende'+'rTarget']=_0x109b40,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x2346fe){this['_sceneDept'+'hMapLinear']!==_0x2346fe&&(this['_sceneDept'+'hMapLinear']=_0x2346fe,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x5a*-0x25+0x1*0x18e6+-0x1*0xbe4),(this['_aspectRat'+'io']=(0xb*-0x3d+-0x1743+0x19f2)/(0x256e+0x1*-0x1425+-0x1140),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0xf*0x1e9+-0x1505*-0x1+-0x31ac+0.75,0x179f+0x161e+-0x2dbd+0.75,-0xcd3*0x3+-0x1cb9*0x1+0xb33*0x6+0.75,0x1b2f+0x1*0x22d+0x5*-0x5df),this['_clearColo'+'rBuffer']=!(-0x16d6+0xa*-0x28c+0x1b*0x1ca),this['_clearDept'+'h']=-0x5*-0x245+0x1*-0x8da+-0x1d*0x16,this['_clearDept'+'hBuffer']=!(0x2*0x77f+0x2b9*-0x9+0x983),this['_clearSten'+'cil']=0x1*-0x7e1+0x1a8*-0x10+0x2261,this['_clearSten'+'cilBuffer']=!(0xdc4+0x81*-0x2f+-0x1*-0x9eb),this['_cullFaces']=!(-0x1700+-0x1*0x6a1+-0xcd*-0x25),this['_farClip']=-0x8b4+-0x13f*0x16+0x2806,this['_flipFaces']=!(-0x52*0x4e+-0x1*0x109d+0x299a),this['_fov']=0x7e1*-0x4+0x2006*0x1+0x1*-0x55,this['_frustumCu'+'lling']=!(-0x1a1+0xcfb+-0x1*0xb5a),this['_horizonta'+'lFov']=!(0x3*0x8fa+0xb*0x119+-0x2700),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x16*-0x115+0x82b*-0x2+0x2824+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x25c1+-0x25c7+0x4b92,this['_projectio'+'n']=ni,this['_rect']=new re(-0x7c3*0x1+-0x2057+0x281a,0x11ba+0xd46+-0x1f00,0x15b*0xd+0x1*0x1423+0x5*-0x78d,-0x2145+-0x8a5+0x29eb),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x2b*-0x33+-0x249b*0x1+0x1c0a,0x1*-0x95+-0x8c7*0x2+-0x1*-0x1223,0x3*0x2b1+0x2080+-0x482*0x9,0x1836+0x239e+0x3bd3*-0x1),this['_scissorRe'+'ctClear']=!(-0x16af+-0xd21+0x1*0x23d1),this['_aperture']=-0x1ef9+0x393+0x5f*0x4a,this['_shutter']=(-0x2224+-0x2696*-0x1+0x471*-0x1)/(0x1c86+0x4a9+-0x1d47),this['_sensitivi'+'ty']=0x1e22+-0x1ccc+0x292,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x60c*-0x4+-0x2347+0xb17),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x14dd+0x2609+-0x112c),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(0x37*0xb4+-0x1*-0xacb+-0x3177),this['_shaderMat'+'ricesVersi'+'on']=-0x1*-0x78d+-0x55*-0x19+-0xfda,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x60*0x4+0x8*0x1d5+-0x1028,-0x94*-0xe+0x3*-0x9a5+0x14d7,-0x1558+0xf5e+0x5fa,0x1a68+-0x1*0x18de+-0x18a],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x33cabf,_0x222e22;(_0x33cabf=this['renderPass'+'ColorGrab'])==null||_0x33cabf['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x222e22=this['renderPass'+'DepthGrab'])==null||_0x222e22['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x1*0x16ab+0x6e9+0x1d94*-0x1;}['_storeShad'+'erMatrices'](_0x2e536f,_0x1be002,_0x27f0ba,_0x1405f6){this['_shaderMat'+'ricesVersi'+'on']!==_0x1405f6&&(this['_shaderMat'+'ricesVersi'+'on']=_0x1405f6,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x2e536f),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x2e536f),this['_viewProjI'+'nverse']['invert'](_0x2e536f),this['_jitters'][0x48f+0x138f+-0x4*0x607]=this['_jitters'][-0xe*-0xaf+0x2034+-0x29c6],this['_jitters'][0x403*-0x5+0x384+0x108e]=this['_jitters'][-0xc5*0x4+0x14b*0x7+-0x5f8],this['_jitters'][-0x67c+0x8b*0x9+0x1*0x199]=_0x1be002,this['_jitters'][-0x167*0x16+-0x2554+-0x1*-0x442f]=_0x27f0ba);}get['fullSizeCl'+'earRect'](){const _0x368ace=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x368ace['x']===0x292*-0x5+0x15*-0xe9+0xa7*0x31&&_0x368ace['y']===0x4e1*-0x8+-0x1473+-0x1*-0x3b7b&&_0x368ace['z']===0x251*-0xb+0x7ef+0x118d&&_0x368ace['w']===0x16af+0x11*-0x119+-0x405;}set['aspectRati'+'o'](_0x58ca97){this['_aspectRat'+'io']!==_0x58ca97&&(this['_aspectRat'+'io']=_0x58ca97,this['_projMatDi'+'rty']=!(-0x7*0x470+-0xb79*0x2+0x3602));}get['aspectRati'+'o'](){var _0x515d36;return(_0x515d36=this['xr'])!=null&&_0x515d36['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x5102d1){this['_aspectRat'+'ioMode']!==_0x5102d1&&(this['_aspectRat'+'ioMode']=_0x5102d1,this['_projMatDi'+'rty']=!(0x1ab1+-0xb5b*-0x1+-0x260c));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x2a6949){this['_calculate'+'Projection']=_0x2a6949,this['_projMatDi'+'rty']=!(0x12f*0x15+-0x7da+-0x1101);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x2d8f74){this['_calculate'+'Transform']=_0x2d8f74;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x4ce180){this['_clearColo'+'r']['copy'](_0x4ce180);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x2044b){this['_clearColo'+'rBuffer']=_0x2044b;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x52434f){this['_clearDept'+'h']=_0x52434f;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x558ba5){this['_clearDept'+'hBuffer']=_0x558ba5;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x2cb606){this['_clearSten'+'cil']=_0x2cb606;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x359006){this['_clearSten'+'cilBuffer']=_0x359006;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x3bf165){this['_cullFaces']=_0x3bf165;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x258209){this['_farClip']!==_0x258209&&(this['_farClip']=_0x258209,this['_projMatDi'+'rty']=!(0xa1*-0x10+-0x1815+0x2225));}get['farClip'](){var _0x3a09bd;return(_0x3a09bd=this['xr'])!=null&&_0x3a09bd['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x3dfa77){this['_flipFaces']=_0x3dfa77;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x1d490a){this['_fov']!==_0x1d490a&&(this['_fov']=_0x1d490a,this['_projMatDi'+'rty']=!(-0xd1*-0x10+-0x56c+-0x1*0x7a4));}get['fov'](){var _0x4a28c1;return(_0x4a28c1=this['xr'])!=null&&_0x4a28c1['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x785683){this['_frustumCu'+'lling']=_0x785683;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x45caf6){this['_horizonta'+'lFov']!==_0x45caf6&&(this['_horizonta'+'lFov']=_0x45caf6,this['_projMatDi'+'rty']=!(-0x11*0x11+-0x175a+-0x3*-0x829));}get['horizontal'+'Fov'](){var _0x56a00d;return(_0x56a00d=this['xr'])!=null&&_0x56a00d['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x1050ba){this['_layers']=_0x1050ba['slice'](-0x2*0x3aa+-0x1*0x4e8+0xc3c),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2a7b61){this['_nearClip']!==_0x2a7b61&&(this['_nearClip']=_0x2a7b61,this['_projMatDi'+'rty']=!(-0x1df0*-0x1+-0x6*0x409+-0x5ba));}get['nearClip'](){var _0x120316;return(_0x120316=this['xr'])!=null&&_0x120316['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x151d31){this['_node']=_0x151d31;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x591745){this['_orthoHeig'+'ht']!==_0x591745&&(this['_orthoHeig'+'ht']=_0x591745,this['_projMatDi'+'rty']=!(0x2193*-0x1+-0x25*-0x1+0x216e));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x30ada9){this['_projectio'+'n']!==_0x30ada9&&(this['_projectio'+'n']=_0x30ada9,this['_projMatDi'+'rty']=!(-0x1*0xffc+0x4df*-0x1+-0x14db*-0x1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x2058dc){this['_rect']['copy'](_0x2058dc);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x2e6279){this['_renderTar'+'get']=_0x2e6279;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x3ec958){this['_scissorRe'+'ct']['copy'](_0x3ec958);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x1343fa=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x1343fa)['invert'](),this['_viewMatDi'+'rty']=!(-0x1d17+-0x8b*0x39+-0x329*-0x13);}return this['_viewMat'];}set['aperture'](_0x56c148){this['_aperture']=_0x56c148;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x55ee83){this['_sensitivi'+'ty']=_0x55ee83;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x2b5432){this['_shutter']=_0x2b5432;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4252b9){this['_xr']!==_0x4252b9&&(this['_xr']=_0x4252b9,this['_projMatDi'+'rty']=!(-0x365*0x3+0x18dc+0xdd*-0x11));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x4791b2){return this['_aspectRat'+'io']=_0x4791b2['_aspectRat'+'io'],this['_farClip']=_0x4791b2['_farClip'],this['_fov']=_0x4791b2['_fov'],this['_horizonta'+'lFov']=_0x4791b2['_horizonta'+'lFov'],this['_nearClip']=_0x4791b2['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x4791b2['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x4791b2['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x4791b2['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x4791b2['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x4791b2['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x4791b2['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4791b2['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4791b2['calculateT'+'ransform'],this['clearColor']=_0x4791b2['clearColor'],this['clearColor'+'Buffer']=_0x4791b2['clearColor'+'Buffer'],this['clearDepth']=_0x4791b2['clearDepth'],this['clearDepth'+'Buffer']=_0x4791b2['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x4791b2['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x4791b2['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4791b2['cullFaces'],this['flipFaces']=_0x4791b2['flipFaces'],this['frustumCul'+'ling']=_0x4791b2['frustumCul'+'ling'],this['layers']=_0x4791b2['layers'],this['orthoHeigh'+'t']=_0x4791b2['orthoHeigh'+'t'],this['projection']=_0x4791b2['projection'],this['rect']=_0x4791b2['rect'],this['renderTarg'+'et']=_0x4791b2['renderTarg'+'et'],this['scissorRec'+'t']=_0x4791b2['scissorRec'+'t'],this['aperture']=_0x4791b2['aperture'],this['shutter']=_0x4791b2['shutter'],this['sensitivit'+'y']=_0x4791b2['sensitivit'+'y'],this['shaderPass'+'Info']=_0x4791b2['shaderPass'+'Info'],this['jitter']=_0x4791b2['jitter'],this['_projMatDi'+'rty']=!(0x2178+-0x1e97*-0x1+-0x400f*0x1),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x16a4b0,_0x9b1fc2){var _0x5e67f0;_0x9b1fc2?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x16a4b0)):((_0x5e67f0=this['renderPass'+'ColorGrab'])==null||_0x5e67f0['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x5b7281,_0x3a6608,_0x5e99a1){var _0x16aba7;_0x5e99a1?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x5b7281,this)):((_0x16aba7=this['renderPass'+'DepthGrab'])==null||_0x16aba7['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x23cf+-0x1*0x2477+0x4847));}['worldToScr'+'een'](_0x191297,_0x13d9d0,_0x1dc2dd,_0x12f2ee=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x191297,_0x12f2ee);const _0x32a6e0=this['_viewProjM'+'at']['data'],_0x42d08c=_0x191297['x']*_0x32a6e0[0x248f+-0x225a+-0x232]+_0x191297['y']*_0x32a6e0[-0x1967+0x97e+0x5*0x330]+_0x191297['z']*_0x32a6e0[-0x138e+-0x27e+-0x5*-0x46b]+(0x4b4*0x5+-0x2c9*0x3+0x5*-0x308)*_0x32a6e0[0x32*-0x1b+-0x1dce*0x1+0x1*0x2323];_0x12f2ee['x']=(_0x12f2ee['x']/_0x42d08c+(-0x76*0x4d+-0x1*0x1505+0x3884))*(-0xb03*0x1+-0x16b7+0x2*0x10dd+0.5),_0x12f2ee['y']=(-0x49d*0x5+0xe1f+-0x4f*-0x1d-_0x12f2ee['y']/_0x42d08c)*(0x242e+0x6*-0x494+0x45b*-0x2+0.5);const {x:_0x3544b4,y:_0x29080d,z:_0x29d942,w:_0x4543c6}=this['_rect'];return _0x12f2ee['x']=_0x12f2ee['x']*_0x29d942*_0x13d9d0+_0x3544b4*_0x13d9d0,_0x12f2ee['y']=_0x12f2ee['y']*_0x4543c6*_0x1dc2dd+(0x195a+0x37*-0x1d+-0x131e-_0x29080d-_0x4543c6)*_0x1dc2dd,_0x12f2ee;}['screenToWo'+'rld'](_0x10cd50,_0x590550,_0x1879b0,_0x2d3d0f,_0x17c27e,_0x24be8a=new D()){const {x:_0x876ea1,y:_0x2c3103,z:_0xd5d9f5,w:_0x5f4961}=this['_rect'],_0x138f03=this['farClip']-this['nearClip'];if(La['set']((_0x10cd50-_0x876ea1*_0x2d3d0f)/(_0xd5d9f5*_0x2d3d0f),0x1*-0x1b31+0x5c0+-0x6*-0x393-(_0x590550-(0x3e*0x79+0x108*0x1d+0x3b35*-0x1-_0x2c3103-_0x5f4961)*_0x17c27e)/(_0x5f4961*_0x17c27e),_0x1879b0/_0x138f03),La['mulScalar'](-0x223*0x7+0x2*-0x4a3+0x183d),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x2011eb=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x2011eb['transformP'+'oint'](ao,D_);const _0x5b5f71=this['_node']['getPositio'+'n']();_0x24be8a['sub2'](D_,_0x5b5f71),_0x24be8a['normalize'](),_0x24be8a['mulScalar'](_0x1879b0),_0x24be8a['add'](_0x5b5f71);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x24be8a);return _0x24be8a;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x139649=this['_orthoHeig'+'ht'],_0x5358fd=_0x139649*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x5358fd,_0x5358fd,-_0x139649,_0x139649,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x1*0x181b+0xe*0xef+0xb0a);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x451edb=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x1e19+0x1dc3+-0x6*-0x1f)/this['_sensitivi'+'ty']);return(0x5*-0x262+-0xf92+0x1f*0xe3)/(Math['pow'](-0x1*-0x1917+-0x257f+0xc6a,_0x451edb)*(0x6a+0x1a1e*-0x1+-0x19b5*-0x1+0.19999999999999996));}['getScreenS'+'ize'](_0x22195c){if(this['_projectio'+'n']===ni){const _0x544104=this['_node']['getPositio'+'n']()['distance'](_0x22195c['center']);if(_0x544104<_0x22195c['radius'])return-0x3*-0xb87+0xb2f*-0x3+-0x1*0x107;const _0x1b13b8=Math['asin'](_0x22195c['radius']/_0x544104),_0x57afae=Math['tan'](_0x1b13b8),_0xa8a27a=Math['tan'](this['fov']/(-0x3*-0x6b5+0x15+-0x1432)*Y['DEG_TO_RAD']);return Math['min'](_0x57afae/_0xa8a27a,0x1046+-0x1a5*0x17+0x158e);}return Y['clamp'](_0x22195c['radius']/this['_orthoHeig'+'ht'],-0x13cd*-0x1+-0x2214+-0x1*-0xe47,0x2*-0x223+0x29*0x33+0xf9*-0x4);}['getFrustum'+'Corners'](_0x45ca6c=this['nearClip'],_0x5919da=this['farClip']){const _0x286d47=this['fov']*Math['PI']/(-0x3b*0x2b+-0x1*-0x687+0x416);let _0xa84697,_0x167418;this['projection']===ni?this['horizontal'+'Fov']?(_0xa84697=_0x45ca6c*Math['tan'](_0x286d47/(-0xf*-0xdb+-0xb75+-0x15e)),_0x167418=_0xa84697/this['aspectRati'+'o']):(_0x167418=_0x45ca6c*Math['tan'](_0x286d47/(0x509+-0x16dd+0x11d6)),_0xa84697=_0x167418*this['aspectRati'+'o']):(_0x167418=this['_orthoHeig'+'ht'],_0xa84697=_0x167418*this['aspectRati'+'o']);const _0x136997=OE;return _0x136997[0xece+-0x36c+0x3e*-0x2f]['x']=_0xa84697,_0x136997[-0x1e74+0x10*-0x3b+0x2224]['y']=-_0x167418,_0x136997[-0x1*0x18c5+0xab5*0x1+0xa*0x168]['z']=-_0x45ca6c,_0x136997[0x16*0x1bb+-0x7*-0x110+-0xb*0x423]['x']=_0xa84697,_0x136997[0x2*-0x1e7+0xc9c+-0x8cd]['y']=_0x167418,_0x136997[-0x59*0x2f+-0x11e3+0x223b]['z']=-_0x45ca6c,_0x136997[-0x2228*0x1+-0xe36+0x3060]['x']=-_0xa84697,_0x136997[0xf5a+-0x9*0x3df+0x17*0xd9]['y']=_0x167418,_0x136997[-0x29+-0x1ced+0x1d18]['z']=-_0x45ca6c,_0x136997[-0xec*0x27+-0x48*-0x2c+0x1797]['x']=-_0xa84697,_0x136997[-0x1c31+-0xb*-0x7a+0x16f6*0x1]['y']=-_0x167418,_0x136997[-0x798+-0x533+-0x16*-0x95]['z']=-_0x45ca6c,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0xa84697=_0x5919da*Math['tan'](_0x286d47/(-0x2265+0x9bf+-0x107*-0x18)),_0x167418=_0xa84697/this['aspectRati'+'o']):(_0x167418=_0x5919da*Math['tan'](_0x286d47/(0x219*0x6+0xe15*-0x1+0x4d*0x5)),_0xa84697=_0x167418*this['aspectRati'+'o'])),_0x136997[-0x1*0x21e+0x2*0xaba+0x2*-0x9a9]['x']=_0xa84697,_0x136997[0xd06*-0x1+-0x100e*-0x1+-0x304]['y']=-_0x167418,_0x136997[0x7*0x1a3+0x5*-0x105+-0x658]['z']=-_0x5919da,_0x136997[0x595+0x20a8+-0x4*0x98e]['x']=_0xa84697,_0x136997[0x27*-0x3a+0xb*-0x369+0x2e5e]['y']=_0x167418,_0x136997[0xad*-0x29+0x2*0xc10+0x39a]['z']=-_0x5919da,_0x136997[-0x7*0x55+0x1*-0x184b+0x1aa4]['x']=-_0xa84697,_0x136997[-0x171c+-0x158+0x187a]['y']=_0x167418,_0x136997[0x3*-0x4f4+-0x2195*0x1+-0x28d*-0x13]['z']=-_0x5919da,_0x136997[-0x1892+-0x165f*-0x1+0x23a]['x']=-_0xa84697,_0x136997[0x2*-0x766+0x2144+0x1271*-0x1]['y']=-_0x167418,_0x136997[-0x27*-0xc7+0x1*0x1ff1+-0x3e3b]['z']=-_0x5919da,_0x136997;}['setXrPrope'+'rties'](_0x5dc5b7){Object['assign'](this['_xrPropert'+'ies'],_0x5dc5b7),this['_projMatDi'+'rty']=!(0x4bf*-0x6+0x20cc+-0xe*0x4f);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x4e6e3d,_0x5b71ce,_0x2b43ff){const _0xff6152=new Fl();switch(_0xff6152['node']=new Ie(_0x4e6e3d),_0xff6152['aspectRati'+'o']=-0x1ed6+0x12ad+0xc2a,_0xff6152['aspectRati'+'oMode']=lu,_0xff6152['_scissorRe'+'ctClear']=!(-0x3f3*-0x3+0x17e1*-0x1+0x6e*0x1c),_0x5b71ce){case Ke:_0xff6152['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x2b43ff]),_0xff6152['fov']=-0x3*-0xbbd+0xff9+0x32d6*-0x1,_0xff6152['projection']=ni;break;case Ze:_0xff6152['projection']=ni;break;case ve:_0xff6152['projection']=En;break;}return _0xff6152;}static['evalSpotCo'+'okieMatrix'](_0x58b191){let _0xe39550=gr['_spotCooki'+'eCamera'];_0xe39550||(_0xe39550=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0xe39550),_0xe39550['fov']=_0x58b191['_outerCone'+'Angle']*(-0x3*0x686+-0x34*0xa+-0xc*-0x1cd);const _0x17bc33=_0xe39550['_node'];_0x17bc33['setPositio'+'n'](_0x58b191['_node']['getPositio'+'n']()),_0x17bc33['setRotatio'+'n'](_0x58b191['_node']['getRotatio'+'n']()),_0x17bc33['rotateLoca'+'l'](-(0x1a3+-0x1e87+0x1d3e),0x1c1c+0x26ef+-0x430b,-0x3*0x6be+-0x55f*0x1+0x1999),L_['setTRS'](_0x17bc33['getPositio'+'n'](),_0x17bc33['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0xe39550['projection'+'Matrix'],L_);const _0x45f171=_0x58b191['cookieMatr'+'ix'],_0x528fa4=_0x58b191['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x528fa4['x'],_0x528fa4['y'],_0x528fa4['z'],_0x528fa4['w']),_0x45f171['mul2'](O_,R_),_0x45f171;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x1e89+-0x329*0x6+-0x1*-0x317f,0x98a+-0x215f+0x182f*0x1,0x26*0x61+-0xc78+-0x13a),new le()['setFromEul'+'erAngles'](-0x5*-0x647+0x67*-0x1f+-0x12ea,-(-0x1e40+0x81d*0x2+-0x730*-0x2),0xbce+-0xab8+-0x62),new le()['setFromEul'+'erAngles'](0x1*0xacf+-0xa83+-0x1*-0xe,-0x1*0x1f1+-0x178*-0x5+-0x567,-0x1387+0x2b*0x27+0xcfa),new le()['setFromEul'+'erAngles'](-(-0x22e9+0x1ecf+0x474),0x7*0x2f9+0x8e*-0x41+0xf3f,0x161*0x13+0x3b+-0xc7*0x22),new le()['setFromEul'+'erAngles'](0x2672+-0x24af*-0x1+-0x9*0x859,-0x4*0x26+0x1*-0x1c37+0x5*0x5e7,0x1a38+0x33*0x9+-0x1b4f),new le()['setFromEul'+'erAngles'](-0x1ac7*0x1+0x86b+-0x3ac*-0x5,0x62d+-0x4*-0x134+-0xafd,-0x1*0x10cf+0x1078+-0x3*-0x59)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x4*-0x3df+-0x1*0x1ee3+0xf6d),FE=new D(-(0x2444+0x136b+0x5*-0xb23+0.5),0x26d8+-0x1855+-0x1*0xe83,0x2076+-0x1c3e+-0x438),NE=new D(-0x7db+0x82a+-0x4f*0x1,-0x23e1+0x1461+0x3e0*0x4,-0x1*0x1ab+-0x40f+0x5ba+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x51d427,_0x24e785)=>Object['keys'](_0x51d427)['map'](_0x2e5e1d=>'#define\x20{'+_0x24e785+_0x2e5e1d+'}\x20'+_0x51d427[_0x2e5e1d])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x12e7e4){h(this,'areaLights'+'Enabled',!(0x27d+0x2*-0x1387+-0x12e*-0x1f)),(this['device']=_0x12e7e4,Pe['get'](_0x12e7e4,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x12e7e4,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x22*-0xf8+0x1*0xb15+0x15dc),this['shadowsEna'+'bled']=!(0x14d5*-0x1+-0xdee+-0x19*-0x164),this['areaLights'+'Enabled']=!(-0x2f*0x97+-0x6d9+0x2293),this['maxLights']=-0x66+-0x6*0x1b+-0xad*-0x3);const _0x4bb118=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x21e5+0x7*-0x24b+0x2*0x18fb)*_0x4bb118*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x4bb118,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=-0x1af6+0x248*-0x4+-0x2416*-0x1,this['invMaxAtte'+'nuation']=0x2*-0xfb2+0x11*-0xbd+0x2bf1,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x2335d3;(_0x2335d3=this['lightsText'+'ure'])==null||_0x2335d3['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x4fdaa2,_0x305426,_0x17ce20,_0x839a26,_0x3bd1d3){return new _e(_0x4fdaa2,{'name':_0x3bd1d3,'width':_0x305426,'height':_0x17ce20,'mipmaps':!(0x16*0xab+-0x21fb+-0x2*-0x9a5),'format':_0x839a26,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x2faadb,_0x2f94d6){this['boundsMin']['copy'](_0x2faadb),this['boundsDelt'+'a']['copy'](_0x2f94d6);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x1063a4,_0x5e8f6e){_0x5e8f6e['_node']['getWorldTr'+'ansform']()['getY'](_0x1063a4)['mulScalar'](-(0x1d09+-0x5*0x71c+0x684)),_0x1063a4['normalize']();}['getLightAr'+'eaSizes'](_0x48dab7){const _0x5ec7e1=_0x48dab7['_node']['getWorldTr'+'ansform']();return _0x5ec7e1['transformV'+'ector'](FE,vs),Or[-0x245c+0xa06*-0x1+0x2e62]=vs['x'],Or[-0x2210+0x4*0x2ef+-0x1655*-0x1]=vs['y'],Or[-0x1*0x1433+0x1e93+-0xa5e*0x1]=vs['z'],_0x5ec7e1['transformV'+'ector'](NE,vs),Or[-0x1*-0xd6+0x47*0x42+-0x3b*0x53]=vs['x'],Or[0x23f9*0x1+-0x1217+-0x11de]=vs['y'],Or[0x57*0x2c+-0xc9*-0xf+-0x1ab6]=vs['z'],Or;}['addLightDa'+'ta'](_0x581a3e,_0x537743){const _0x3d2dff=_0x581a3e['_type']===Ze,_0x5af983=_0x581a3e['atlasViewp'+'ortAllocat'+'ed'],_0x4de601=this['cookiesEna'+'bled']&&!!_0x581a3e['_cookie']&&_0x5af983,_0x3c102d=this['areaLights'+'Enabled']&&_0x581a3e['shape']!==Ys,_0x24b3dc=this['shadowsEna'+'bled']&&_0x581a3e['castShadow'+'s']&&_0x5af983,_0x1e9e90=_0x581a3e['_node']['getPositio'+'n']();let _0x5f4986=null,_0x4c1a3f=null;_0x3d2dff?_0x24b3dc?_0x5f4986=_0x581a3e['getRenderD'+'ata'](null,-0x2399+-0x65*-0x25+0x1c0*0xc)['shadowMatr'+'ix']:_0x4de601&&(_0x5f4986=Wn['evalSpotCo'+'okieMatrix'](_0x581a3e)):(_0x24b3dc||_0x4de601)&&(_0x4c1a3f=_0x581a3e['atlasViewp'+'ort']);const _0x34c011=this['lightsFloa'+'t'],_0x5e9684=this['lightsUint'],_0x1dda93=_0x537743*this['lightsText'+'ure']['width']*(-0x959*0x2+-0x2*0x6e5+-0x208*-0x10);_0x34c011[_0x1dda93+(-0x1765+0x997*0x2+0x43b)*at['POSITION_R'+'ANGE']+(-0x248+-0x1be+0x406)]=_0x1e9e90['x'],_0x34c011[_0x1dda93+(0x1*-0x163f+0x365+0x12de)*at['POSITION_R'+'ANGE']+(-0x1*0x1e6f+0x25cd+-0x75d)]=_0x1e9e90['y'],_0x34c011[_0x1dda93+(-0x8*0x329+0x1632+0x31a)*at['POSITION_R'+'ANGE']+(0xe*0x14f+-0x787+-0xac9)]=_0x1e9e90['z'],_0x34c011[_0x1dda93+(-0x205b+0x1ab0+0x5af)*at['POSITION_R'+'ANGE']+(-0x1*0x17c9+-0x2277+0x9d*0x5f)]=_0x581a3e['attenuatio'+'nEnd'];const _0x333176=_0x581a3e['clusteredD'+'ata'];if(_0x5e9684[_0x1dda93+(0x2*0xbda+-0x111c+-0x694)*at['COLOR_ANGL'+'ES_BIAS']+(-0x251*0x7+0x6c9+0x96e)]=_0x333176[-0x1a53+0x84*-0x49+0x3ff7],_0x5e9684[_0x1dda93+(0x1*-0x9b1+-0x2*-0x503+0x1b*-0x3)*at['COLOR_ANGL'+'ES_BIAS']+(0x9*0x346+0x2645+-0x43ba)]=_0x333176[0x2d3+-0x11*-0x1d3+-0x21d5],_0x5e9684[_0x1dda93+(0xd51*0x1+-0x1768+0xa1b)*at['COLOR_ANGL'+'ES_BIAS']+(0x18be+0x1cae+0x11ce*-0x3)]=_0x333176[-0xf3a+0x1*0xbf8+0x344],_0x581a3e['castShadow'+'s']){const _0x84530d=_0x581a3e['getRenderD'+'ata'](null,-0x1ffa+-0x26da+0x46d4),_0x22fbb1=_0x581a3e['_getUnifor'+'mBiasValue'+'s'](_0x84530d),_0x59aecf=Mn['float2Half'](_0x22fbb1['bias']),_0x174b69=Mn['float2Half'](_0x22fbb1['normalBias']);_0x5e9684[_0x1dda93+(-0x8e2+-0x47*0x1a+-0x1*-0x101c)*at['COLOR_ANGL'+'ES_BIAS']+(0x49*-0x23+0x1*0xfa+0x4*0x241)]=_0x59aecf|_0x174b69<<0x1927+-0xf25+-0x9f2;}if(_0x3d2dff&&(this['getSpotDir'+'ection'](vs,_0x581a3e),_0x34c011[_0x1dda93+(-0x1806+-0x1429+0x2c33)*at['DIRECTION_'+'FLAGS']+(0x1e15+-0x10b2+-0xd63*0x1)]=vs['x'],_0x34c011[_0x1dda93+(-0x329*-0x6+-0x782*-0x5+0x4b5*-0xc)*at['DIRECTION_'+'FLAGS']+(0x1f0*-0xa+0x1292*0x1+0xcf)]=vs['y'],_0x34c011[_0x1dda93+(-0x578+-0x265e*0x1+0x74f*0x6)*at['DIRECTION_'+'FLAGS']+(0xc43+0xea*-0x7+-0x5db)]=vs['z']),_0x5e9684[_0x1dda93+(0x99*0x3c+-0x33*-0x16+-0x283a)*at['DIRECTION_'+'FLAGS']+(0x9*-0x179+-0x12f2+0x2036)]=_0x581a3e['getCluster'+'edFlags'](_0x24b3dc,_0x4de601),_0x5f4986){const _0x3991de=_0x5f4986['data'];for(let _0x129ffb=-0x49*-0x14+0x4bd*-0x4+0xd40;_0x129ffb<0x5ae+0x221f+-0x27bd;_0x129ffb++)_0x34c011[_0x1dda93+(0x3c3+-0x136e+-0xb*-0x16d)*at['PROJ_MAT_0']+_0x129ffb]=_0x3991de[_0x129ffb];}if(_0x4c1a3f&&(_0x34c011[_0x1dda93+(0x9ce+-0x1*0x2e5+-0x1*0x6e5)*at['ATLAS_VIEW'+'PORT']+(0x1d*-0xdb+0x3*-0x62e+0x2b59)]=_0x4c1a3f['x'],_0x34c011[_0x1dda93+(-0x2*-0xe+-0x677*0x5+-0x25*-0xdf)*at['ATLAS_VIEW'+'PORT']+(-0xb3*0x6+-0x15d+-0x1*-0x590)]=_0x4c1a3f['y'],_0x34c011[_0x1dda93+(0x2*-0xb8f+-0x199f+0x30c1)*at['ATLAS_VIEW'+'PORT']+(0x1*-0x12cb+0x1*0x80f+0xabe)]=_0x4c1a3f['z']/(-0xcea+0xd18+-0x2b*0x1)),_0x3c102d){const _0x57ea4f=this['getLightAr'+'eaSizes'](_0x581a3e);_0x34c011[_0x1dda93+(0x55*-0x63+-0x1*-0x134f+0xd94)*at['AREA_DATA_'+'WIDTH']+(-0x11*-0x137+-0x1900+0x459)]=_0x57ea4f[-0x2297*0x1+0xa60+0x1*0x1837],_0x34c011[_0x1dda93+(-0x25fd+0x1b43+0x6e*0x19)*at['AREA_DATA_'+'WIDTH']+(0x1941+-0x2293+0x953)]=_0x57ea4f[0x161f+-0x1717+0x1*0xf9],_0x34c011[_0x1dda93+(0x7a4*0x4+-0x3*0x7bb+-0x75b)*at['AREA_DATA_'+'WIDTH']+(-0x2*-0xcc9+-0x12df+-0x6b1)]=_0x57ea4f[0xf25+0x2304+-0x3227],_0x34c011[_0x1dda93+(-0x4*-0x3d+-0x9e9+0x8f9*0x1)*at['AREA_DATA_'+'HEIGHT']+(-0x1c6*0xb+0x441+0xb*0x163)]=_0x57ea4f[0x13*0x59+0xb2*0x22+-0x1e3c],_0x34c011[_0x1dda93+(-0x48d+0x2*-0x26f+0xa1*0xf)*at['AREA_DATA_'+'HEIGHT']+(0x13c2+-0x4*0x2d4+-0x871)]=_0x57ea4f[0x2*0xa22+-0x1268+-0x1d8],_0x34c011[_0x1dda93+(-0x1152+0x71c+0xa3a)*at['AREA_DATA_'+'HEIGHT']+(-0xab*-0x1b+-0x2b*-0x13+-0x1538)]=_0x57ea4f[-0xb8d+0x3f9*0x3+0x59*-0x1];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0x717+0xfa7*-0x2+0x2837;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x245e3d){h(this,'clusterTex'+'ture'),(this['device']=_0x245e3d,this['name']='Untitled',this['reportCoun'+'t']=0x3*0x4e5+0x1*0x6e9+-0x1598,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(0x13bf+0x1*-0x1912+0x554,-0x1*0x14d1+-0x10b9+0x258b,0x275*-0x1+-0x1298*-0x1+-0x1022),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x207e+0x261d+-0x59b*0x1,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x245e3d),this['registerUn'+'iforms'](_0x245e3d));}set['maxCellLig'+'htCount'](_0x554fbf){_0x554fbf!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x554fbf,this['_cellsDirt'+'y']=!(0x5*-0x21b+0x463+-0x2*-0x312));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x15173b){ic['copy'](_0x15173b)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0x4b6*-0x1+-0x6d*0x13+0xccd));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0xcf7b8a){this['_clusterSk'+'ipId']=_0xcf7b8a['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0xcf7b8a['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0xcf7b8a['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0xcf7b8a['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x19da+0x10bb*0x1+0x1*-0x2a92),this['_clusterBo'+'undsMinId']=_0xcf7b8a['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x1a40+-0x6ab+0x20ee),this['_clusterBo'+'undsDeltaI'+'d']=_0xcf7b8a['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x606+0x7*0x4f+-0x1*0x82c),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0xcf7b8a['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x3*-0xa0a+-0x17d8+0x35f9),this['_clusterCe'+'llsDotId']=_0xcf7b8a['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x2*-0x10af+0x53b+-0x1*-0x1c26),this['_clusterCe'+'llsMaxId']=_0xcf7b8a['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x2a5*0xb+0xaf9+0x1221);}['updatePara'+'ms'](_0x567577){_0x567577&&(this['cells']=_0x567577['cells'],this['maxCellLig'+'htCount']=_0x567577['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x567577['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x567577['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x567577['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x9*0xe8+0x1183+0x1*-0x19aa);const _0x1a0fd0=this['_cells']['x'],_0x1c5860=this['_cells']['y'],_0x50961c=this['_cells']['z'],_0x1dc208=_0x1a0fd0*_0x1c5860*_0x50961c,_0x54b5b6=this['maxCellLig'+'htCount']*_0x1dc208;let _0x4602bf=Math['ceil'](Math['sqrt'](_0x54b5b6));_0x4602bf=Y['roundUp'](_0x4602bf,this['maxCellLig'+'htCount']);const _0x349ad6=Math['ceil'](_0x54b5b6/_0x4602bf);w['assert'](_0x4602bf<=k_&&_0x349ad6<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x25e5*0x1+0x1b7f+0xa66]=_0x1a0fd0,this['_clusterCe'+'llsMaxData'][0x3*-0x1cd+-0x1b11+0x1*0x2079]=_0x1c5860,this['_clusterCe'+'llsMaxData'][-0x222c+-0x2019+0x4247]=_0x50961c,this['_clusterCe'+'llsDotData'][-0x1*-0x1db3+0x1*0x2596+-0x35*0x145]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0xa*0x68+-0xc5b*0x1+-0x2*-0x426]=_0x1a0fd0*_0x50961c*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x13fb+-0x46e+-0xf8b]=_0x1a0fd0*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x54b5b6),this['counts']=new Int32Array(_0x1dc208),this['_clusterTe'+'xtureSizeD'+'ata'][-0x234d+0x1b4a+0x1*0x803]=_0x4602bf,this['_clusterTe'+'xtureSizeD'+'ata'][-0xc45+-0x25*0x51+-0x1*-0x17fb]=(-0x1d31+-0x1b4*-0xb+-0xce*-0xd)/_0x4602bf,this['_clusterTe'+'xtureSizeD'+'ata'][0x2*-0x657+0xf85+-0x19*0x1d]=(0x2d9*-0x2+-0xabf+0xa*0x1a5)/_0x349ad6,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x4602bf,_0x349ad6,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x142a+0x1f34+-0xb09?0xdb3+0x223+-0xfd6:0x2635+0x90c+-0x2f40),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x16a754=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x3a9*0x1+0x1beb+-0x1842]=this['_cells']['x']/_0x16a754['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x178+-0x11dd+0x1356]=this['_cells']['y']/_0x16a754['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x35*-0x73+0x244b+-0xc7a*0x1]=this['_cells']['z']/_0x16a754['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x167f+-0x734*0x1+0x1db3*0x1]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x6b9*0x5+-0x1418+0x35b6]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1*0xc83+-0x1637+-0x1*-0x9b6]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2*-0x198+-0x2f9+0x1*-0x37]=_0x16a754['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1581*-0x1+-0x22d8+0x1*0xd58]=_0x16a754['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x2*0xcc5+-0x1*-0x8a2+-0x2*0x1115]=_0x16a754['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x39e711,_0x5ceee4,_0x2e5ddf){_0x5ceee4['copy'](_0x39e711['min']),_0x5ceee4['sub'](this['boundsMin']),_0x5ceee4['div'](this['boundsDelt'+'a']),_0x5ceee4['mul2'](_0x5ceee4,this['cells']),_0x5ceee4['floor'](),_0x2e5ddf['copy'](_0x39e711['max']),_0x2e5ddf['sub'](this['boundsMin']),_0x2e5ddf['div'](this['boundsDelt'+'a']),_0x2e5ddf['mul2'](_0x2e5ddf,this['cells']),_0x2e5ddf['ceil'](),_0x5ceee4['max'](D['ZERO']),_0x2e5ddf['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x351f84){const _0x3b4296=this['lightsBuff'+'er']['maxLights'],_0x5c8504=this['_usedLight'+'s'];let _0x2c9387=-0x6*0x285+0x313*0x9+0x4*-0x323;_0x351f84['forEach'](_0x5deb39=>{const _0x1ca89b=!!(_0x5deb39['mask']&(Ss|di)),_0x18954b=_0x5deb39['type']===Ze&&_0x5deb39['_outerCone'+'Angle']===0x1a85+-0x1*0x2156+0x6d1;if(_0x5deb39['enabled']&&_0x5deb39['type']!==ve&&_0x5deb39['visibleThi'+'sFrame']&&_0x5deb39['intensity']>-0xb*0x133+-0x461+0x1192*0x1&&_0x1ca89b&&!_0x18954b){if(_0x2c9387<_0x3b4296){let _0x5a2b96;_0x2c9387<_0x5c8504['length']?_0x5a2b96=_0x5c8504[_0x2c9387]:(_0x5a2b96=new U_(),_0x5c8504['push'](_0x5a2b96)),_0x5a2b96['light']=_0x5deb39,_0x5deb39['getBoundin'+'gBox'](Yd),_0x5a2b96['min']['copy'](Yd['getMin']()),_0x5a2b96['max']['copy'](Yd['getMax']()),_0x2c9387++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x3b4296-(0x170a+-0x15b9+0x54*-0x4))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x5c8504['length']=_0x2c9387;}['evaluateBo'+'unds'](){const _0x5791e5=this['_usedLight'+'s'],_0x506fda=this['boundsMin'],_0x5bf754=this['boundsMax'];if(_0x5791e5['length']>0x9*-0x1e4+0x2356+0x61b*-0x3){_0x506fda['copy'](_0x5791e5[-0xbad+0x14ba+-0x304*0x3]['min']),_0x5bf754['copy'](_0x5791e5[0x10f6+-0x10*-0x79+0x1885*-0x1]['max']);for(let _0x30cf72=0x19a6+-0x2462*-0x1+0x11*-0x3a6;_0x30cf72<_0x5791e5['length'];_0x30cf72++)_0x506fda['min'](_0x5791e5[_0x30cf72]['min']),_0x5bf754['max'](_0x5791e5[_0x30cf72]['max']);}else _0x506fda['set'](-0x8ce*-0x1+-0x57*0x46+0x1*0xefc,-0x11*-0x63+-0x3*-0x588+0x3*-0x7b9,0x1b6f+-0x1*0x25f9+0xa8a),_0x5bf754['set'](-0x1a99*0x1+-0x9f*0x17+0x3*0xda1,0x46e+-0x269f+0x5b3*0x6,-0x17*-0x1c+-0x82+-0x201);this['boundsDelt'+'a']['sub2'](_0x5bf754,_0x506fda),this['lightsBuff'+'er']['setBounds'](_0x506fda,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x51d8b0){this['counts']['fill'](-0x6*0x4bb+-0x12*-0x116+0x1a*0x57),this['clusters']['fill'](0x1*0x407+0x22ec+-0x26f3),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x51d8b0?_0x51d8b0['areaLights'+'Enabled']:!(-0xc*0x21a+-0x9d4+-0x230d*-0x1);const _0x33c8c2=this['_cells']['x'],_0x45eada=this['_cells']['z'],_0x2b690c=this['counts'],_0x2c1684=this['_maxCellLi'+'ghtCount'],_0xc49fda=this['clusters'],_0x59d885=this['maxCellLig'+'htCount'];let _0x1c7f2d=!(0x1ff*0x10+-0xb*0x10f+0x35*-0x62);const _0x21c900=this['_usedLight'+'s'];for(let _0x396bdf=-0x157d+0x136b*0x2+-0x1158;_0x396bdf<_0x21c900['length'];_0x396bdf++){const _0x4bc046=_0x21c900[_0x396bdf],_0x42567a=_0x4bc046['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x42567a,_0x396bdf),this['evalLightC'+'ellMinMax'](_0x4bc046,rc,ac);const _0x2cf099=rc['x'],_0x47e3e0=ac['x'],_0xfdb008=rc['y'],_0xb32929=ac['y'],_0x275d63=rc['z'],_0x5f20c5=ac['z'];for(let _0x202cbc=_0x2cf099;_0x202cbc<=_0x47e3e0;_0x202cbc++)for(let _0x3e0899=_0x275d63;_0x3e0899<=_0x5f20c5;_0x3e0899++)for(let _0x45df1b=_0xfdb008;_0x45df1b<=_0xb32929;_0x45df1b++){const _0x1a7ea4=_0x202cbc+_0x33c8c2*(_0x3e0899+_0x45df1b*_0x45eada),_0x590042=_0x2b690c[_0x1a7ea4];_0x590042<_0x2c1684?(_0xc49fda[_0x59d885*_0x1a7ea4+_0x590042]=_0x396bdf,_0x2b690c[_0x1a7ea4]=_0x590042+(-0x1cf5+0x1e1*-0x13+0x40a9)):_0x1c7f2d=!(-0x1678+-0x186b+0x2ee3*0x1);}}_0x1c7f2d&&this['reportCoun'+'t']<0x1e7a+-0xa3c+-0x1439*0x1&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x2578+-0x8f6*0x4+0x4954?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x47af4f,_0x491cef=null){this['updatePara'+'ms'](_0x491cef),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x47af4f),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x491cef),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x1*-0xfa4+0x56d+-0x150f*0x1+0.39996322972865306,Nl={'circlePoint'(_0x595b8b){const _0x4fc979=Math['sqrt'](Math['random']()),_0x3c9602=Math['random']()*(0x1f1e+-0x1039+0x25*-0x67)*Math['PI'];_0x595b8b['x']=_0x4fc979*Math['cos'](_0x3c9602),_0x595b8b['y']=_0x4fc979*Math['sin'](_0x3c9602);},'circlePointDeterministic'(_0x5b43b0,_0x536564,_0x2428bd){const _0x141825=_0x536564*B_,_0x33df69=Math['sqrt'](_0x536564)/Math['sqrt'](_0x2428bd);_0x5b43b0['x']=_0x33df69*Math['cos'](_0x141825),_0x5b43b0['y']=_0x33df69*Math['sin'](_0x141825);},'spherePointDeterministic'(_0x580b37,_0x23d535,_0x49e8ad,_0x535810=-0x4c+0x1fff+0x657*-0x5,_0x57db94=-0x5*0x775+0x6*-0x279+0x3420){_0x535810=-0x5*0x494+0x1e69+-0x784-(-0x10d*-0x20+-0x1*0x101f+-0x117f*0x1)*_0x535810,_0x57db94=0x16b8+-0xca4+0xa13*-0x1-(-0x1048*-0x1+0x1f7c+-0x2fc2)*_0x57db94;const _0x150a81=Y['lerp'](_0x535810,_0x57db94,_0x23d535/_0x49e8ad),_0x30f25a=Math['sqrt'](-0x1120+-0x114b+0x1136*0x2-_0x150a81*_0x150a81),_0x1ad719=B_*_0x23d535;_0x580b37['x']=Math['cos'](_0x1ad719)*_0x30f25a,_0x580b37['y']=_0x150a81,_0x580b37['z']=Math['sin'](_0x1ad719)*_0x30f25a;},'radicalInverse'(_0x1fb3ce){let _0x348887=(_0x1fb3ce<<-0x1*0x377+-0x1*0x1393+0x171a|_0x1fb3ce>>>0x3a*-0x78+0x1439+0x707)>>>0xf45+0x1bf5+-0x2b3a;return _0x348887=((_0x348887&-0x1dcc9a44+-0x60f3a8cb+-0xa9aae05*-0x14)<<0x18d5+0x7*0x369+-0x30b3|(_0x348887&-0x3f31f087*0x3+-0x3915*0x195f9+-0xac*-0x29eeb81)>>>0x248b+0x1326+-0x37b0)>>>0xb*-0x17e+-0x1680+0x26ea,_0x348887=((_0x348887&0x19751cb*0x2f+-0x13474*-0x4307+-0x68579c3e)<<-0xa4f+0x21e0+-0x178f|(_0x348887&0x9acc2ca+-0x11cf35f*-0x1d+0xa2d8783f)>>>-0x16*0x1+0x9b7*0x3+-0x1d0d)>>>-0x2e5*0x3+-0x25d7+-0x18d*-0x1e,_0x348887=((_0x348887&0x1943a424+-0x7783f0b*-0x1+-0x11acd420)<<-0x2043+0x1872+0x5*0x191|(_0x348887&-0x9c8509e1+0x1b661ecb+-0x21a459d2*-0xb)>>>-0x11a0+-0x17*-0x149+-0xbeb)>>>-0x15*-0x66+-0x23d2+0x1b74,_0x348887=((_0x348887&-0xd02e29+-0x1667aaf+0x335a9d7)<<0x1*-0x1fa2+0x854+0x3a*0x67|(_0x348887&0xe9840cc7*-0x1+-0x765a723*-0x23+0xe59f31fe)>>>0x1*-0x16a+-0x108c+-0xe*-0x149)>>>0x6b*-0xb+-0x4a9*0x3+-0x29*-0x74,_0x348887*(0x7df+0x2349*0x1+-0x2b28+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0xd84ec0){return BE[_0xd84ec0]??'decodeGamm'+'a';}static['encodeFunc'](_0x30ba6e){return zE[_0x30ba6e]??'encodeGamm'+'a';}}const z_=_0x567e59=>{switch(_0x567e59){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x2904ad,_0x250ed0,_0x1f1da0)=>{if(_0x2904ad<=-0x1170+0x22c+0xf44)_0x250ed0[_0x1f1da0+(-0x97d+0x119*0x1+0x864)]=-0x174d*-0x1+-0x1415+-0x338,_0x250ed0[_0x1f1da0+(0x14e0+0x17*-0x89+-0x890)]=0x554+-0x20f6+0x1ba2,_0x250ed0[_0x1f1da0+(0x1c20+-0x455*0x7+0x1*0x235)]=0x13cd+0x11d8*-0x1+-0x1f5,_0x250ed0[_0x1f1da0+(-0x23a*-0xd+-0x1*0x1544+-0x7ab)]=0x6*0x4a9+0x697+0x1*-0x228d;else{if(_0x2904ad>=-0x21c+-0x2571+0x278e)_0x250ed0[_0x1f1da0+(-0x15f1+0x1c26*-0x1+-0x3217*-0x1)]=0x23*-0xbd+0x862*-0x3+0x33fc,_0x250ed0[_0x1f1da0+(-0x8*0x4c+-0x1*-0x26b9+0x1*-0x2458)]=-0x171b+-0x10*0x1f4+0x365b,_0x250ed0[_0x1f1da0+(0x6d9*0x4+0x26*-0x101+0x6a*0x1a)]=0x26ef+0x33*0x55+-0x2*0x1bef,_0x250ed0[_0x1f1da0+(-0x1b*-0x150+-0x2259+0x5c*-0x3)]=0x2234+-0x247e+0x24a*0x1;else{let _0x5eb8e3=(-0x8cc+0x22*0x9d+-0x1*0xc0d)*_0x2904ad%(-0x88*0x40+-0x173*-0x11+0x95e),_0x34e7fe=(-0x1030+0x291*0x3+-0x2*-0x4be)*_0x2904ad%(0x2*0xe90+-0x24a*-0x1+-0x1f69),_0x90fd1e=(-0x165a5*0x1+-0x5b*-0x277+-0x11*-0x16c9)*_0x2904ad%(-0xff+0xf2*0x17+0x24e*-0x9);const _0x3279d4=(0x44b34+0x11229c9+-0x1971fe)*_0x2904ad%(0x1*-0x303+0x199b+-0x1697*0x1);_0x5eb8e3-=_0x34e7fe/(-0x179e*0x1+0x1*-0x1551+0x2dee),_0x34e7fe-=_0x90fd1e/(-0x11c*0x10+0x104a+0x275),_0x90fd1e-=_0x3279d4/(0x18b+0x89b+-0x927),_0x250ed0[_0x1f1da0+(0x1ff2+-0x105*-0x1d+-0x3d83)]=Math['min'](-0xf*-0x49+-0x2196+0x12*0x1af,Math['floor'](_0x5eb8e3*(0x1683+-0x52*0x61+0x98f))),_0x250ed0[_0x1f1da0+(-0x466*0x5+0x11c2*-0x2+0x3983)]=Math['min'](0xdd6+-0x1*-0xc07+-0x18de,Math['floor'](_0x34e7fe*(-0x1b35+-0xf37+0x2b6c))),_0x250ed0[_0x1f1da0+(0xe+-0x14e3*-0x1+0xe9*-0x17)]=Math['min'](-0xa66*0x2+0x1f57+-0x1a*0x5e,Math['floor'](_0x90fd1e*(-0x16*-0xbc+-0x3*0x329+-0x5ad*0x1))),_0x250ed0[_0x1f1da0+(0x1d27+-0x52+-0x1cd2)]=Math['min'](0x1d2d+0x9+-0x1c37*0x1,Math['floor'](_0x3279d4*(-0x1985*0x1+0x58a+0x29*0x83)));}}},VE=_0x1ccd8b=>{const _0x27893b=_0x1ccd8b['length'],_0x57d8d7=Math['min'](_0x27893b,-0x2d6+0x2a9*0x5+-0xb*0xc5),_0x6f84a0=Math['ceil'](_0x27893b/_0x57d8d7),_0x50ee11=new Uint8Array(_0x57d8d7*_0x6f84a0*(0x184+0x49*-0x29+-0xa31*-0x1));let _0x4d419f=-0x1502*-0x1+-0x1*-0xed+-0x1*0x15ef;for(let _0x48124e=0xc51+-0x1e*-0xdb+-0x25fb;_0x48124e<_0x27893b;_0x48124e+=0x48d+0x15fa+-0xb*0x269)nc(_0x1ccd8b[_0x48124e+(0x1e41+-0x7*-0x3f6+-0x39fb*0x1)]*(-0xae9+-0x9e3*-0x1+0x106+0.5)+(-0x7bb*0x5+0xa5+0x8b*0x46+0.5),_0x50ee11,_0x4d419f+(0x164f+-0x420+-0x122f)),nc(_0x1ccd8b[_0x48124e+(0xbf8+-0x25c1*0x1+0x1*0x19ca)]*(-0xe0d+-0x50b*0x2+-0x1823*-0x1+0.5)+(-0x19f*-0x17+0x1*0x1d9e+-0x3*0x164d+0.5),_0x50ee11,_0x4d419f+(0xf57+-0x20da+-0x1187*-0x1)),nc(_0x1ccd8b[_0x48124e+(0xb1*-0x8+0x6ad+-0x123)]*(0x1e13*-0x1+0x1*-0x9b7+0x27ca+0.5)+(0xa2e+0xa*-0x27b+-0x9*-0x1a0+0.5),_0x50ee11,_0x4d419f+(0x309+-0x34*-0xb+0x3*-0x1bf)),nc(_0x1ccd8b[_0x48124e+(0x186*-0x4+0x5*-0x4ff+0x1f16)]/(-0x2*0xbb9+0xb*0x88+0x11a2),_0x50ee11,_0x4d419f+(-0x1387+0x5*0x46b+-0x284)),_0x4d419f+=-0x362+0x214e+0x444*-0x7;return{'width':_0x57d8d7,'height':_0x6f84a0,'data':_0x50ee11};},GE=(_0x16ad36,_0x195b66,_0xe4d362,_0x319cf5)=>{const _0x8d5faf=_0xe4d362*(-0x162f+-0x1f6b*0x1+0x5e*0x92)*Math['PI'],_0x5bc8a9=Math['pow'](0xdf*-0x25+0x16e7+0x955-_0x195b66,(0x1551+0x588*0x5+-0x30f8)/(_0x319cf5+(0x19ac+0x27*0x65+-0x290e))),_0x3a868f=Math['sqrt'](-0x18f6+0x2596+-0xc9f-_0x5bc8a9*_0x5bc8a9);_0x16ad36['set'](Math['cos'](_0x8d5faf)*_0x3a868f,Math['sin'](_0x8d5faf)*_0x3a868f,_0x5bc8a9)['normalize']();},HE=(_0x516812,_0x4ee737,_0x53fa54)=>{const _0x4384f4=_0x53fa54*(-0x5*0x612+0x1313+0xb49)*Math['PI'],_0x4769da=Math['sqrt'](-0x1*0x471+0xe17*0x1+-0x9a5*0x1-_0x4ee737),_0x59b7ca=Math['sqrt'](_0x4ee737);_0x516812['set'](Math['cos'](_0x4384f4)*_0x59b7ca,Math['sin'](_0x4384f4)*_0x59b7ca,_0x4769da)['normalize']();},WE=(_0x538d86,_0x320aa1,_0x1b9330,_0x45e8e3)=>{const _0x43cdcc=_0x1b9330*(-0x77e+0x1ee6+-0x1766)*Math['PI'],_0x58f1f6=Math['sqrt']((-0x1*0x7e6+0x2*0x96a+-0xaed-_0x320aa1)/(-0x1*0x205+0x1*0xebe+0x94*-0x16+(_0x45e8e3*_0x45e8e3-(-0xcc3+-0x15d1*0x1+-0x3*-0xb87))*_0x320aa1)),_0x26c249=Math['sqrt'](-0xd*-0xa9+-0x101*-0xd+-0x31*0x71-_0x58f1f6*_0x58f1f6);_0x538d86['set'](Math['cos'](_0x43cdcc)*_0x26c249,Math['sin'](_0x43cdcc)*_0x26c249,_0x58f1f6)['normalize']();},$E=(_0x2b209e,_0x1824eb)=>{const _0x23f839=_0x2b209e*_0x1824eb,_0xe4386a=_0x1824eb/(0x86b+0x1*-0x15de+-0x6*-0x23e-_0x2b209e*_0x2b209e+_0x23f839*_0x23f839);return _0xe4386a*_0xe4386a*((-0x1e88+0x1bda+0x2af)/Math['PI']);},XE=(_0x23586e,_0x921ac9)=>{const _0x33569d=new D(),_0x2b6ab5=[];for(let _0x4c22f3=-0x523*0x7+-0x737+0x3*0xe64;_0x4c22f3<_0x23586e;++_0x4c22f3)GE(_0x33569d,_0x4c22f3/_0x23586e,Nl['radicalInv'+'erse'](_0x4c22f3),_0x921ac9),_0x2b6ab5['push'](_0x33569d['x'],_0x33569d['y'],_0x33569d['z'],0x2f*0x1f+0x25fb+-0xd*0x35c);return _0x2b6ab5;},qE=(_0x3fb12f,_0x1995be)=>{const _0x43c1f8=_0x1995be/_0x3fb12f,_0x5720e5=new D(),_0x53311e=[];for(let _0x3be7d1=-0x4*0x41b+0x19a8+-0x93c;_0x3be7d1<_0x3fb12f;++_0x3be7d1){HE(_0x5720e5,_0x3be7d1/_0x3fb12f,Nl['radicalInv'+'erse'](_0x3be7d1));const _0x5c79ca=_0x5720e5['z']/Math['PI'],_0x1c147b=(-0x9*-0x150+-0x4*-0xc2+-0xed8+0.5)*Math['log2'](_0x43c1f8/_0x5c79ca);_0x53311e['push'](_0x5720e5['x'],_0x5720e5['y'],_0x5720e5['z'],_0x1c147b);}return _0x53311e;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x576820,_0x5df20f)=>{const _0x3ca0ec=jE[_0x576820];return _0x3ca0ec&&_0x3ca0ec[_0x5df20f]||_0x576820;},KE=(_0x7b0b29,_0x592d36,_0x472794)=>{const _0x1d0891=_0x472794/_0x7b0b29,_0x4d3ba6=-0x7b3+0x1*-0x217e+0x2932-Math['log2'](_0x592d36)/(-0x1*0x2669+-0x24e4+-0x4*-0x12d6),_0x378970=_0x4d3ba6*_0x4d3ba6,_0x21fefd=new D(),_0x47e4b5=new D(),_0xe5d46b=new D(0x147+0x14fe+-0x1645,0x1*-0x1797+0x1594+0x203,0x40f*0x5+-0xa*0xa5+-0xdd8),_0x32c164=[],_0xbb1ebb=YE(_0x7b0b29,_0x592d36);for(let _0x5f1b6e=0x5*0x9+-0x2*0xafd+0x15cd;_0x5f1b6e<_0xbb1ebb;++_0x5f1b6e){WE(_0x21fefd,_0x5f1b6e/_0xbb1ebb,Nl['radicalInv'+'erse'](_0x5f1b6e),_0x378970);const _0x2d7aa1=_0x21fefd['z'];if(_0x47e4b5['set'](_0x21fefd['x'],_0x21fefd['y'],_0x21fefd['z'])['mulScalar']((-0x1b1*0x1+0xd*-0x182+0x154d)*_0x2d7aa1)['sub'](_0xe5d46b),_0x47e4b5['z']>-0x42d+-0x1421+0x66*0x3d){const _0x4b4b0d=$E(Math['min'](0x2*0x5ea+0x1ca4+-0x2877,_0x2d7aa1),_0x378970)/(-0x2*0x107+-0x15ab+0x1*0x17bd)+(0x139a+-0x10a0+0x3*-0xfe+0.001),_0xb8fa73=(0xa44+-0x1*-0xbf+-0xb03+0.5)*Math['log2'](_0x1d0891/_0x4b4b0d);_0x32c164['push'](_0x47e4b5['x'],_0x47e4b5['y'],_0x47e4b5['z'],_0xb8fa73);}}for(;_0x32c164['length']<_0x7b0b29*(-0x26db+0x4d8+0x2207);)_0x32c164['push'](-0x1c28+0x1daf+-0x1*0x187,-0x1cf3+-0x1d80*0x1+0x3a73,-0x449*-0x2+-0x2555+0xc7*0x25,0x1*0x1132+0x2*-0xbe1+0x1e*0x38);return _0x32c164;},ZE=(_0xb21f6,_0x469908,_0x110bfb)=>{const _0x1033f5=VE(_0x110bfb);return new _e(_0xb21f6,{'name':_0x469908,'width':_0x1033f5['width'],'height':_0x1033f5['height'],'mipmaps':!(0x4b*0x43+0x16c5+-0x2a65),'minFilter':Te,'magFilter':Te,'levels':[_0x1033f5['data']]});};class xv{constructor(_0x53d545=!(0x1*-0x3cf+0x212*-0xd+0x1eb9)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x53d545;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x42bfc1,_0x854e2b)=>{_0x42bfc1['destroy']();});}['get'](_0x5c7d1b,_0x4a5277){if(!this['map']['has'](_0x5c7d1b)){const _0x15cbc8=_0x4a5277();return this['map']['set'](_0x5c7d1b,_0x15cbc8),_0x15cbc8;}return this['map']['get'](_0x5c7d1b);}}const QE=new xv(!(-0x21b+-0x8e9*0x3+0x1cd7)),JE=new Kt(),dm=(_0x45ab95,_0x8e796a,_0x443146)=>JE['get'](_0x45ab95,()=>new xv())['get'](_0x8e796a,()=>ZE(_0x45ab95,_0x8e796a,QE['get'](_0x8e796a,_0x443146))),eb=(_0x17da4f,_0x2a0757,_0xc9a7d6)=>{const _0x3a8a42='lambert-sa'+'mples-'+_0x2a0757+'-'+_0xc9a7d6;return dm(_0x17da4f,_0x3a8a42,()=>qE(_0x2a0757,_0xc9a7d6));},tb=(_0x452d72,_0x423e83,_0x47e6cd)=>{const _0x2c135b='phong-samp'+'les-'+_0x423e83+'-'+_0x47e6cd;return dm(_0x452d72,_0x2c135b,()=>XE(_0x423e83,_0x47e6cd));},sb=(_0x19825a,_0x4eebd3,_0x2a7933,_0x5ae48c)=>{const _0x2153b0='ggx-sample'+'s-'+_0x4eebd3+'-'+_0x2a7933+'-'+_0x5ae48c;return dm(_0x19825a,_0x2153b0,()=>KE(_0x4eebd3,_0x2a7933,_0x5ae48c));};function vi(_0x31aa6f,_0x12052a,_0x33d19f={}){var _0x30fc0b,_0x13f50e;w['assert'](_0x31aa6f instanceof _e&&_0x12052a instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x37f5f8=_0x33d19f['seamPixels']??-0x21a8+-0x23ad+0x4555,_0x26eb05=(((_0x30fc0b=_0x33d19f['rect'])==null?void(0x1db8+-0xc4f*0x1+-0x1169):_0x30fc0b['z'])??_0x12052a['width'])-_0x37f5f8*(0x880+-0x1dec+0x1a6*0xd),_0x34d1c3=(((_0x13f50e=_0x33d19f['rect'])==null?void(0xd8f+0x1*-0x2527+-0x1798*-0x1):_0x13f50e['w'])??_0x12052a['height'])-_0x37f5f8*(0x151e+-0x22a0+0xd84);if(_0x26eb05<-0x2012+-0x2f*-0xc9+-0x135*0x4||_0x34d1c3<0x27*-0xad+-0x24b*-0x5+0xee5)return!(-0x2c2+-0x9e*0x15+0x23f*0x7);const _0x2b67b2={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x8d640b=_0x33d19f['hasOwnProp'+'erty']('specularPo'+'wer')?_0x33d19f['specularPo'+'wer']:-0x4d4+-0x4*0x826+-0x256d*-0x1,_0x532374=_0x33d19f['hasOwnProp'+'erty']('face')?_0x33d19f['face']:null,_0x2fdced=_0x33d19f['hasOwnProp'+'erty']('distributi'+'on')?_0x33d19f['distributi'+'on']:_0x8d640b===-0x11+-0x259c+0x25ae?'none':'phong',_0x4678c4=_0x2b67b2[_0x2fdced]||'reproject',_0x1262fb=_0x4678c4['startsWith']('prefilterS'+'amples'),_0xe4a19f=Tr['decodeFunc'](_0x31aa6f['encoding']),_0x74be57=Tr['encodeFunc'](_0x12052a['encoding']),_0x3d2ff3='sample'+z_(_0x31aa6f['projection']),_0x544463='getDirecti'+'on'+z_(_0x12052a['projection']),_0x539c5c=_0x33d19f['hasOwnProp'+'erty']('numSamples')?_0x33d19f['numSamples']:-0x127e+-0x231+-0x1*-0x18af,_0x5e5b52='ReprojectS'+'hader:'+_0x4678c4+'_'+_0xe4a19f+'_'+_0x74be57+'_'+_0x3d2ff3+'_'+_0x544463+'_'+_0x539c5c,_0x539bdf=_0x31aa6f['device'];let _0x42e64d=Hn(_0x539bdf)['getCachedS'+'hader'](_0x5e5b52);if(!_0x42e64d){const _0x2ce056=new Map();_0x1262fb&&_0x2ce056['set']('USE_SAMPLE'+'S_TEX',''),_0x31aa6f['cubemap']&&_0x2ce056['set']('CUBEMAP_SO'+'URCE',''),_0x2ce056['set']('{PROCESS_F'+'UNC}',_0x4678c4),_0x2ce056['set']('{DECODE_FU'+'NC}',_0xe4a19f),_0x2ce056['set']('{ENCODE_FU'+'NC}',_0x74be57),_0x2ce056['set']('{SOURCE_FU'+'NC}',_0x3d2ff3),_0x2ce056['set']('{TARGET_FU'+'NC}',_0x544463),_0x2ce056['set']('{NUM_SAMPL'+'ES}',_0x539c5c),_0x2ce056['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x539c5c))['toFixed'](0x1053+-0x1*0x725+0x9*-0x105));const _0x1afdfc=_0x539bdf['isWebGPU'],_0x4fdcea=Pe['get'](_0x539bdf,_0x1afdfc?it:Fe),_0x102443=new Map();_0x102443['set']('decodePS',_0x4fdcea['get']('decodePS')),_0x102443['set']('encodePS',_0x4fdcea['get']('encodePS')),_0x42e64d=$t['createShad'+'er'](_0x539bdf,{'uniqueName':_0x5e5b52,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x102443,'fragmentDefines':_0x2ce056});}Q['pushGpuMar'+'ker'](_0x539bdf,'ReprojectT'+'exture'),_0x539bdf['setBlendSt'+'ate'](pt['NOBLEND']);const _0x135342=_0x539bdf['scope']['resolve'](_0x31aa6f['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x135342),_0x135342['setValue'](_0x31aa6f);const _0x5a3fc6=_0x539bdf['scope']['resolve']('params'),_0x544dd7=_0x539bdf['scope']['resolve']('uvMod');_0x37f5f8>-0xac+0x4cf+-0x1*0x423?_0x544dd7['setValue']([(_0x26eb05+_0x37f5f8*(0x2399*0x1+0x26e0+-0x4a77))/_0x26eb05,(_0x34d1c3+_0x37f5f8*(0x63a+-0x1f3c+0x1904))/_0x34d1c3,-_0x37f5f8/_0x26eb05,-_0x37f5f8/_0x34d1c3]):_0x544dd7['setValue']([-0x6e8+-0x1bc9+0x22b2,-0xb*-0x11f+0x2f9*0x7+-0x2123,0x228*-0xe+-0xb*0x259+0x3803,0x1349+-0x5f*0x69+-0xb*-0x1ca]);const _0x401151=[0x192*-0x14+-0xb95+-0x9b*-0x47,_0x12052a['width']*_0x12052a['height']*(_0x12052a['cubemap']?-0x1b*0xea+0x2337+-0xa83:-0x23d*0x1+-0x1c*0x69+0xdba),_0x31aa6f['width']*_0x31aa6f['height']*(_0x31aa6f['cubemap']?-0x1*-0x871+-0x2446+0x1bdb*0x1:0x1*0x2f3+-0x2684+0x13a*0x1d)];if(_0x1262fb){const _0x16b2e5=_0x31aa6f['width']*_0x31aa6f['height']*(_0x31aa6f['cubemap']?0x1af7+0x24c8+0x1*-0x3fb9:-0x142+-0x152d+0x1670),_0x46dd3f=_0x2fdced==='ggx'?sb(_0x539bdf,_0x539c5c,_0x8d640b,_0x16b2e5):_0x2fdced==='lambert'?eb(_0x539bdf,_0x539c5c,_0x16b2e5):tb(_0x539bdf,_0x539c5c,_0x8d640b);_0x539bdf['scope']['resolve']('samplesTex')['setValue'](_0x46dd3f),_0x539bdf['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x5*-0x6e+-0x2*0x1079+0x1ecd)/_0x46dd3f['width'],(-0x3*0x4ff+-0x1*-0x8cb+-0x211*-0x3)/_0x46dd3f['height']]);}for(let _0x1de427=0xab3+-0x1224*0x1+0x771;_0x1de427<(_0x12052a['cubemap']?-0x81*0x9+0x77*-0x12+0xced:-0x1d4a+-0x23*0xf5+-0x1f65*-0x2);_0x1de427++)if(_0x532374===null||_0x1de427===_0x532374){const _0x4187e2=new gt({'colorBuffer':_0x12052a,'face':_0x1de427,'depth':!(0x1ead+-0x14bb+-0x9f1),'flipY':_0x539bdf['isWebGPU']});_0x401151[-0x154*0x1+0x15*-0xed+0x1*0x14c5]=_0x1de427,_0x5a3fc6['setValue'](_0x401151),Ar(_0x539bdf,_0x4187e2,_0x42e64d,_0x33d19f==null?void(0x2202+-0x1734+0x39a*-0x3):_0x33d19f['rect']),_0x4187e2['destroy']();}return Q['popGpuMark'+'er'](_0x539bdf),!(0x7e9+-0x6d2*-0x3+-0x1c5f);}const Kd=(_0x50c706,_0x1be322=0x90a+0x1*0x70d+-0x1017*0x1)=>0x34*-0x63+-0x7c9*0x2+0x23af+Math['floor'](Math['log2'](Math['max'](_0x50c706,_0x1be322))),ib=_0x62ae9a=>_0x62ae9a['textureHal'+'fFloatRend'+'erable'],rb=_0x32a1cd=>_0x32a1cd['textureFlo'+'atRenderab'+'le'],ab=_0x17d124=>ib(_0x17d124)?nt:rb(_0x17d124)?Xt:Ne,nb=_0x2414c5=>Ne,ob=(_0xd38512,_0x160f9d,_0x24c1b4,_0x50c1ba)=>new _e(_0xd38512,{'name':'lighting-'+_0x160f9d,'cubemap':!(0x4f7*-0x1+0x15ca+-0x3b*0x49),'width':_0x160f9d,'height':_0x160f9d,'format':_0x24c1b4,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(0xddf+-0x1084+-0x2*-0x153)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x17f08b,_0x4d2888){const _0xebd3ba=_0x17f08b['device'];Q['pushGpuMar'+'ker'](_0xebd3ba,'genSkyboxC'+'ubemap');const _0x2b2020=ob(_0xebd3ba,_0x4d2888||(_0x17f08b['cubemap']?_0x17f08b['width']:_0x17f08b['width']/(-0x1*-0x1b5b+0x732+-0x2289)),Ne);return vi(_0x17f08b,_0x2b2020,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0xebd3ba),_0x2b2020;}static['generateLi'+'ghtingSour'+'ce'](_0x25efa3,_0xd182c0){const _0x1e0da0=_0x25efa3['device'];Q['pushGpuMar'+'ker'](_0x1e0da0,'genLightin'+'gSource');const _0xd7f8e6=ab(_0x1e0da0),_0x18711e=(_0xd182c0==null?void(-0x1*0xfbf+-0x66b+0x1*0x162a):_0xd182c0['target'])||new _e(_0x1e0da0,{'name':'lighting-s'+'ource','cubemap':!(-0x44*0x3d+0x1c77+-0xc43),'width':(_0xd182c0==null?void(-0x63d*0x3+0x1a34+-0x9*0xd5):_0xd182c0['size'])||-0x1ddb+-0xb*-0x1cd+0xa8c,'height':(_0xd182c0==null?void(-0x14bc+-0x20b4+0x4c*0xb4):_0xd182c0['size'])||-0x20d6+-0x886+0xa77*0x4,'format':_0xd7f8e6,'type':_0xd7f8e6===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(0x22f*0xa+-0x23b1+0xddb)});return vi(_0x25efa3,_0x18711e,{'numSamples':_0x25efa3['mipmaps']?0x1045+0x1*0x24c3+0x1*-0x3507:0x24ab+-0x134a+-0xd61}),Q['popGpuMark'+'er'](_0x1e0da0),_0x18711e;}static['generateAt'+'las'](_0x55733f,_0x2d3466){const _0x51ad83=_0x55733f['device'],_0x1c757a=nb();Q['pushGpuMar'+'ker'](_0x51ad83,'genAtlas');const _0x7224f2=(_0x2d3466==null?void(-0x894+0x655*-0x2+0x153e):_0x2d3466['target'])||new _e(_0x51ad83,{'name':'envAtlas','width':(_0x2d3466==null?void(-0x1*-0xc04+-0x249e+0xc4d*0x2):_0x2d3466['size'])||0xa7a+-0x1*-0x2b7+0x5*-0x23d,'height':(_0x2d3466==null?void(0x920+-0x2146+-0x16*-0x119):_0x2d3466['size'])||-0xc98+0x1*0x503+0x995*0x1,'format':_0x1c757a,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x672+-0x1567+0x2c9*0xa)});Q['pushGpuMar'+'ker'](_0x51ad83,'mipmaps');const _0x58cdc8=_0x7224f2['width']/(0x1781+0x1*-0x2563+0x2*0x7f1),_0x3ca126=new re(0x10fb+0x1b41+-0x2c3c,0x96b*0x1+-0x1*-0xb6f+-0x14da,(0x605+-0x13d9*0x1+0xfd4)*_0x58cdc8,(-0x29*0xd6+-0x622+0x2968)*_0x58cdc8),_0x54a156=Kd(-0x2*-0x35e+-0xba5+0x11*0x59)-Kd(0x1*-0xa8b+-0x5*0x702+0x2d99);for(let _0x29e695=-0x866+0xf40+-0x6da;_0x29e695<_0x54a156;++_0x29e695)vi(_0x55733f,_0x7224f2,{'numSamples':0x1,'rect':_0x3ca126,'seamPixels':_0x58cdc8}),_0x3ca126['x']+=_0x3ca126['w'],_0x3ca126['y']+=_0x3ca126['w'],_0x3ca126['z']=Math['max'](0x183b+-0x64a+0x8*-0x23e,Math['floor'](_0x3ca126['z']*(-0xbb2+-0x1*0x13ed+0x1f9f+0.5))),_0x3ca126['w']=Math['max'](0x821*-0x3+0x15e2+0x282,Math['floor'](_0x3ca126['w']*(0x5f4+-0x177d+0x1189+0.5)));Q['popGpuMark'+'er'](_0x51ad83),Q['pushGpuMar'+'ker'](_0x51ad83,'reflection'+'s'),_0x3ca126['set'](0x1c8e+-0x28*0xc9+0x2da,(0x68a*0x1+0xa8d*0x3+-0x1*0x2531)*_0x58cdc8,(-0x12f0+-0x1576+0x2966)*_0x58cdc8,(-0x38f+0x3*-0x1d+0x466*0x1)*_0x58cdc8);for(let _0x157448=0x1*0x2306+-0x71*-0x2+-0x521*0x7;_0x157448<-0x59e*-0x2+-0xdb7*0x1+0x282;++_0x157448)vi(_0x55733f,_0x7224f2,{'numSamples':(_0x2d3466==null?void(-0x1526+-0x127*0x2+0x1774*0x1):_0x2d3466['numReflect'+'ionSamples'])||0x15ff+-0x71*-0x2f+0x26be*-0x1,'distribution':(_0x2d3466==null?void(0xfa3+-0x1*0x21dd+-0x2*-0x91d):_0x2d3466['distributi'+'on'])||'ggx','specularPower':Math['max'](-0xfa4+-0xa*-0xa4+-0x93d*-0x1,-0x1206+0x2318+-0x912>>_0x157448*(0xd*-0x287+0x1567+0xb76*0x1)),'rect':_0x3ca126,'seamPixels':_0x58cdc8}),_0x3ca126['y']+=_0x3ca126['w'],_0x3ca126['z']=Math['max'](0x4*0x6f9+0x1*0x2033+-0x3c16,Math['floor'](_0x3ca126['z']*(-0x151*-0x2+0x2307*-0x1+-0x1*-0x2065+0.5))),_0x3ca126['w']=Math['max'](-0x6d*0x39+-0x23fc+0x3c42,Math['floor'](_0x3ca126['w']*(0x32*0x9f+-0x1040+-0xece+0.5)));return Q['popGpuMark'+'er'](_0x51ad83),Q['pushGpuMar'+'ker'](_0x51ad83,'ambient'),_0x3ca126['set']((0x1*0x481+-0x1a74+0x1673)*_0x58cdc8,(-0x1a53*0x1+0xb40+0x1093*0x1)*_0x58cdc8,(0xf17+0x7cd+0x12*-0x142)*_0x58cdc8,(-0x1*0x2078+-0x9a5+0x2a3d)*_0x58cdc8),vi(_0x55733f,_0x7224f2,{'numSamples':(_0x2d3466==null?void(0x259b+-0xc26+-0x31*0x85):_0x2d3466['numAmbient'+'Samples'])||-0x5bc*0x2+0x9*-0x2ad+0x1*0x2b8d,'distribution':'lambert','rect':_0x3ca126,'seamPixels':_0x58cdc8}),Q['popGpuMark'+'er'](_0x51ad83),Q['popGpuMark'+'er'](_0x51ad83),_0x7224f2;}static['generatePr'+'efilteredA'+'tlas'](_0x5033ef,_0x152259){const _0x120c11=_0x5033ef[0x2*0x4c7+-0x3*-0x4f+-0xa7b]['device'],_0x50b0cf=_0x5033ef[-0x10e*0x2+0x207*-0x12+0x269a]['format'],_0xfb84b3=_0x5033ef[-0xfbc+-0x78f+0x174b]['type'];Q['pushGpuMar'+'ker'](_0x120c11,'genPrefilt'+'eredAtlas');const _0x3ddeb9=(_0x152259==null?void(0xdcb+-0xc3*-0x21+-0x26ee*0x1):_0x152259['target'])||new _e(_0x120c11,{'name':'envPrefilt'+'eredAtlas','width':(_0x152259==null?void(-0x1*-0x2397+-0x51e+-0x1d*0x10d):_0x152259['size'])||-0x1d*0x115+0xf*0xf8+-0xc1*-0x19,'height':(_0x152259==null?void(0x5*-0x649+0x5*-0x170+0x293*0xf):_0x152259['size'])||0x1121*-0x2+-0x5c+0x249e,'format':_0x50b0cf,'type':_0xfb84b3,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x1655+-0x1f60+0x90c)});Q['pushGpuMar'+'ker'](_0x120c11,'mipmaps');const _0x5c8ea6=_0x3ddeb9['width']/(0xa78+-0x143a+0xbc2),_0xf87af6=new re(-0x22fd+-0x3*0xa7c+-0xe9*-0x49,-0x59*-0x26+0x1655+-0x238b,(0x21e*-0x1+-0x495+0x1*0x8b3)*_0x5c8ea6,(0x1*0x1e1+0x1fbf*-0x1+0x36e*0x9)*_0x5c8ea6),_0x556965=Kd(0x1*-0x171f+0xb*-0x209+-0x6*-0x7eb);for(let _0x421ca8=0x7ed+-0x1959*0x1+0x37c*0x5;_0x421ca8<_0x556965;++_0x421ca8)vi(_0x5033ef[-0xd*0x123+0x4*-0x26b+0x1873],_0x3ddeb9,{'numSamples':0x1,'rect':_0xf87af6,'seamPixels':_0x5c8ea6}),_0xf87af6['x']+=_0xf87af6['w'],_0xf87af6['y']+=_0xf87af6['w'],_0xf87af6['z']=Math['max'](0x1*-0x1164+-0x9f*0x7+-0x2e*-0x79,Math['floor'](_0xf87af6['z']*(0x3b9+0x2347*0x1+0x2*-0x1380+0.5))),_0xf87af6['w']=Math['max'](0x1c73+-0x3*-0x34b+-0x2653,Math['floor'](_0xf87af6['w']*(-0x1ede+-0x1*-0x264b+-0x76d*0x1+0.5)));Q['popGpuMark'+'er'](_0x120c11),Q['pushGpuMar'+'ker'](_0x120c11,'reflection'+'s'),_0xf87af6['set'](0x534+-0x1*0xc7+0x67*-0xb,(-0x1a9e+0x3dd*-0x2+-0x46b*-0x8)*_0x5c8ea6,(0x59f*0x5+-0x2077*-0x1+-0x3b92)*_0x5c8ea6,(0x10c8+0x11d7*-0x1+-0x18f*-0x1)*_0x5c8ea6);for(let _0x59f22f=-0x232e+0x5*0x32d+0xe*0x161;_0x59f22f<_0x5033ef['length'];++_0x59f22f)vi(_0x5033ef[_0x59f22f],_0x3ddeb9,{'numSamples':0x1,'rect':_0xf87af6,'seamPixels':_0x5c8ea6}),_0xf87af6['y']+=_0xf87af6['w'],_0xf87af6['z']=Math['max'](-0x14b9*0x1+0x452*-0x5+0x152a*0x2,Math['floor'](_0xf87af6['z']*(-0xc74+0x1*0x928+0x2*0x1a6+0.5))),_0xf87af6['w']=Math['max'](-0x11*-0x61+0x1656*-0x1+0xfe6,Math['floor'](_0xf87af6['w']*(-0x9fd*-0x1+-0x1d5*0x7+0x2d6+0.5)));return Q['popGpuMark'+'er'](_0x120c11),Q['pushGpuMar'+'ker'](_0x120c11,'ambient'),_0xf87af6['set']((-0x72*-0x3b+-0x220c+-0x2c2*-0x3)*_0x5c8ea6,(0x1*0x22a3+-0x1153+0x3f4*-0x4)*_0x5c8ea6,(0x2257+-0x1d59+-0x4be)*_0x5c8ea6,(0xa42+-0x1*0x33b+-0x6e7)*_0x5c8ea6),_0x152259!=null&&_0x152259['legacyAmbi'+'ent']?vi(_0x5033ef[-0x12c1*-0x2+0x4af*-0x8+-0x5],_0x3ddeb9,{'numSamples':0x1,'rect':_0xf87af6,'seamPixels':_0x5c8ea6}):vi(_0x5033ef[0xf77+0x3*-0x812+0x8bf],_0x3ddeb9,{'numSamples':(_0x152259==null?void(0x99+0x16*0x63+-0x91b):_0x152259['numSamples'])||0x3*-0x8c1+-0x1d62+-0x3fa5*-0x1,'distribution':'lambert','rect':_0xf87af6,'seamPixels':_0x5c8ea6}),Q['popGpuMark'+'er'](_0x120c11),Q['popGpuMark'+'er'](_0x120c11),_0x3ddeb9;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x2aeda5,_0x36f13d)=>{const _0x3baaed=_0x2aeda5['split']('.')['map'](_0x151a98=>parseInt(_0x151a98,0xbdf+0x15b8+-0x218d)),_0x464bdf=_0x36f13d['split']('.')['map'](_0x110ac8=>parseInt(_0x110ac8,-0xaab*-0x2+0x7*-0x1b9+-0x93d));return _0x3baaed[0x24ab*0x1+-0x1*-0xeef+-0x339a]<_0x464bdf[-0x11b0+-0x11b8+0x2368]||_0x3baaed[0x1*0x254d+-0x18a+-0x23c3]===_0x464bdf[-0xc08+-0x3*-0x26f+0x4bb]&&_0x3baaed[0xa62*0x1+-0x1886+0xe25*0x1]<_0x464bdf[-0x24e1+0x2*-0x26b+-0x59*-0x78];},hb=(_0x1044ab,_0x14495e)=>{for(const _0x1c71de of _0x1044ab['keys']())if(V_['hasOwnProp'+'erty'](_0x1c71de)){const _0x2aea6f=V_[_0x1c71de];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1c71de+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x2aea6f+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x193b22=lb[_0x1c71de];_0x193b22&&(!_0x14495e||cb(_0x14495e,_0x193b22))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1c71de+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x193b22+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x14495e||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x5735f8,_0x53240a,_0x53231a=!(-0x2014+0x90*0x43+0x1*-0x59c)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x5735f8,this['options']=_0x53240a);const _0x51b6eb=_0x53240a['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x5735f8['isWebGPU']&&_0x53231a&&(_0x51b6eb!=null&&_0x51b6eb['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x53240a['userAttrib'+'utes']){for(const [_0x1c1c4d,_0x115881]of Object['entries'](_0x53240a['userAttrib'+'utes']))this['attributes'][_0x115881]=_0x1c1c4d;}const _0x21aeed=Pe['get'](_0x5735f8,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x21aeed),_0x51b6eb){const _0x55f24c=this['shaderLang'+'uage']===Fe?_0x51b6eb['glsl']:_0x51b6eb['wgsl'];w['call'](()=>{hb(_0x55f24c,_0x51b6eb['version']);}),_0x55f24c['forEach']((_0x4b2c44,_0x1e960e)=>{for(const _0x5398ed in Zd)Zd['hasOwnProp'+'erty'](_0x5398ed)&&_0x4b2c44['indexOf'](_0x5398ed)>=-0x218*-0x4+0x1f12+0x231*-0x12&&(this['attributes'][_0x5398ed]=Zd[_0x5398ed]);this['chunks']['set'](_0x1e960e,_0x4b2c44);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x53240a['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x53240a['lights']['length']>-0x4*0x62f+0x590+-0x3*-0x664||_0x53240a['dirLightMa'+'pEnabled']||_0x53240a['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x53240a['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x53240a['useSpecula'+'r']||_0x53240a['ambientSH']||_0x53240a['useHeights']||_0x53240a['enableGGXS'+'pecular']||_0x53240a['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x53240a['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x53240a['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x53240a['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x53240a['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0xa34674,_0x221712,_0x4ac2db=''){_0xa34674&&this['fDefines']['set'](_0x221712,_0x4ac2db);}['generateVe'+'rtexShader'](_0x5a42b2,_0x1838b4,_0x3021d5){const {options:_0x593057,vDefines:_0x78596,attributes:_0x48564e}=this,_0x12b3a4=new Map();if(_0x12b3a4['set']('vPositionW','vec3'),(_0x593057['nineSliced'+'Mode']===Pt||_0x593057['nineSliced'+'Mode']===Mt)&&_0x78596['set']('NINESLICED',!(0x473*0x4+0x1*0x3a5+-0x1571)),this['options']['linearDept'+'h']&&(_0x78596['set']('LINEAR_DEP'+'TH',!(0x5da*0x2+0x53*0x74+-0xc54*0x4)),_0x12b3a4['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x78596['set']('NORMALS',!(-0x29b*0xb+0x146b+0x83e*0x1)),this['options']['useInstanc'+'ing']){const _0x23707c=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x23707c['get']('transformI'+'nstancingV'+'S')&&(_0x48564e['instance_l'+'ine1']=Mp,_0x48564e['instance_l'+'ine2']=Dp,_0x48564e['instance_l'+'ine3']=Ip,_0x48564e['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x48564e['vertex_nor'+'mal']=gs,_0x12b3a4['set']('vNormalW','vec3'),_0x593057['hasTangent'+'s']&&(_0x593057['useHeights']||_0x593057['useNormals']||_0x593057['useClearCo'+'atNormals']||_0x593057['enableGGXS'+'pecular'])?(_0x78596['set']('TANGENTS',!(0x16*0x199+-0x3d7+-0x5*0x643)),_0x48564e['vertex_tan'+'gent']=yi,_0x12b3a4['set']('vTangentW','vec3'),_0x12b3a4['set']('vBinormalW','vec3')):_0x593057['enableGGXS'+'pecular']&&(_0x78596['set']('GGX_SPECUL'+'AR',!(-0x1*-0x362+0x2f*-0xa1+-0x1*-0x1a2d)),_0x12b3a4['set']('vObjectSpa'+'ceUpW','vec3')));const _0x4bae49=-0x6bb*-0x4+0x63d*-0x4+-0x1f6;for(let _0x287491=-0xaff*-0x1+0x14*-0x5f+0x1*-0x393;_0x287491<_0x4bae49;_0x287491++)_0x5a42b2[_0x287491]&&(_0x78596['set']('UV'+_0x287491,!(-0x2b8*-0x4+-0x2469+-0x883*-0x3)),_0x48564e['vertex_tex'+'Coord'+_0x287491]='TEXCOORD'+_0x287491),_0x1838b4[_0x287491]&&(_0x78596['set']('UV'+_0x287491+('_UNMODIFIE'+'D'),!(-0x18*-0x18+0x17cb*-0x1+0x158b)),_0x12b3a4['set']('vUv'+_0x287491,'vec2'));let _0x1d313e=0x61b+-0x1265+0xc4a;const _0x349c6f=new Set();_0x3021d5['forEach'](_0x419797=>{const {id:_0x4ae67a,uv:_0x18b073,name:_0x1c5aa4}=_0x419797,_0x187b10=_0x4ae67a+_0x18b073*(0x5*-0x679+-0x391+0x1229*0x2);if(!_0x349c6f['has'](_0x187b10)){_0x349c6f['add'](_0x187b10),_0x12b3a4['set']('vUV'+_0x18b073+'_'+_0x4ae67a,'vec2');const _0x18e1b9='texture_'+_0x1c5aa4+('MapTransfo'+'rm');_0x78596['set']('{TRANSFORM'+'_NAME_'+_0x1d313e+'}',_0x18e1b9),_0x78596['set']('{TRANSFORM'+'_UV_'+_0x1d313e+'}',_0x18b073),_0x78596['set']('{TRANSFORM'+'_ID_'+_0x1d313e+'}',_0x4ae67a),_0x1d313e++;}}),_0x78596['set']('UV_TRANSFO'+'RMS_COUNT',_0x1d313e),_0x593057['vertexColo'+'rs']&&(_0x48564e['vertex_col'+'or']=Wt,_0x78596['set']('VERTEX_COL'+'OR',!(-0x16e7+-0xb35*0x1+0x221c)),_0x12b3a4['set']('vVertexCol'+'or','vec4')),_0x593057['useMsdf']&&_0x593057['msdfTextAt'+'tribute']&&(_0x48564e['vertex_out'+'lineParame'+'ters']=Ko,_0x48564e['vertex_sha'+'dowParamet'+'ers']=Zo,_0x78596['set']('MSDF',!(-0x142f+-0x1c3d+0x306c*0x1))),(_0x593057['useMorphPo'+'sition']||_0x593057['useMorphNo'+'rmal'])&&(_0x78596['set']('MORPHING',!(0x428*-0x9+0xe72+0x16f6)),_0x593057['useMorphTe'+'xtureBased'+'Int']&&_0x78596['set']('MORPHING_I'+'NT',!(0x2f*0x95+0x93a+-0x2495)),_0x593057['useMorphPo'+'sition']&&_0x78596['set']('MORPHING_P'+'OSITION',!(0x217c+-0x1ddb+0x1*-0x3a1)),_0x593057['useMorphNo'+'rmal']&&_0x78596['set']('MORPHING_N'+'ORMAL',!(-0x5d*-0x59+-0x3b*0x3f+-0x11d0)),_0x48564e['morph_vert'+'ex_id']=Ln),_0x593057['skin']&&(_0x48564e['vertex_bon'+'eIndices']=us,_0x593057['batch']?_0x78596['set']('BATCH',!(-0x231a+-0x6be*-0x5+0x164)):(_0x48564e['vertex_bon'+'eWeights']=gi,_0x78596['set']('SKIN',!(0x1b78+-0x2*0xdb2+-0x14)))),_0x593057['useInstanc'+'ing']&&_0x78596['set']('INSTANCING',!(0x76b*0x5+0x499+-0x29b0)),_0x593057['screenSpac'+'e']&&_0x78596['set']('SCREENSPAC'+'E',!(-0x14a0+0x848+0x14*0x9e)),_0x593057['pixelSnap']&&_0x78596['set']('PIXELSNAP',!(0x44*-0x7e+-0x257e+0x46f6)),_0x12b3a4['forEach']((_0xf0673c,_0x4f74e1)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x4f74e1['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x4f74e1+':\x20'+Fy['get'](_0xf0673c)+';\x0a':'varying\x20'+_0xf0673c+'\x20'+_0x4f74e1+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x2476bb,_0x35a173){const _0x2a0eb2=this['fDefines'],_0x55b634=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x55b634['lights']['length']),_0x2476bb&&_0x2a0eb2['set']('AREA_LIGHT'+'S',!(-0x2531+0x652+0x1edf)),_0x35a173&&this['lighting']&&(_0x2a0eb2['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x1*-0x18f5+0xc13+0xce2)),_0x55b634['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2a0eb2['set']('CLUSTER_CO'+'OKIES',!(0x95*-0x16+0x1ec6+0x2*-0x8fc)),_0x55b634['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x2a0eb2['set']('CLUSTER_AR'+'EALIGHTS',!(0x3b0+0x1186+-0x16a*0xf)),_0x55b634['lightMaskD'+'ynamic']&&_0x2a0eb2['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0xb54+0xb*0x5e+0x74a)),_0x55b634['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x55b634['noShadow'])){const _0x50a0c3=qi['get'](_0x55b634['clusteredL'+'ightingSha'+'dowType']);_0x2a0eb2['set']('CLUSTER_SH'+'ADOWS',!(0x59f+-0x1087*-0x2+-0x26ad)),_0x2a0eb2['set']('SHADOW_KIN'+'D_'+_0x50a0c3['kind'],!(0xcdf+-0x83*-0x22+0x11f*-0x1b)),_0x2a0eb2['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x50a0c3['kind'],!(0x55*-0x2f+0x92*-0x39+0x301d));}for(let _0x51bc86=-0x95f*-0x1+0x6a1*-0x1+0x36*-0xd;_0x51bc86<_0x55b634['lights']['length'];_0x51bc86++){const _0x125c17=_0x55b634['lights'][_0x51bc86],_0x1e2476=_0x125c17['_type'];if(_0x35a173&&_0x1e2476!==ve)continue;const _0x50eb4a=_0x2476bb&&_0x125c17['_shape']?_0x125c17['_shape']:Ys,_0x33c334=_0x125c17['_shadowTyp'+'e'],_0x175829=_0x125c17['castShadow'+'s']&&!_0x55b634['noShadow'],_0x58a19a=qi['get'](_0x33c334);w['assert'](_0x58a19a),_0x2a0eb2['set']('LIGHT'+_0x51bc86,!(0x1a11+0xcc2+-0x26d3)),_0x2a0eb2['set']('LIGHT'+_0x51bc86+'TYPE',''+u_[_0x1e2476]),_0x2a0eb2['set']('LIGHT'+_0x51bc86+'SHADOWTYPE',''+_0x58a19a['name']),_0x2a0eb2['set']('LIGHT'+_0x51bc86+'SHAPE',''+Fw[_0x50eb4a]),_0x2a0eb2['set']('LIGHT'+_0x51bc86+'FALLOFF',''+Nw[_0x125c17['_falloffMo'+'de']]),_0x125c17['affectSpec'+'ularity']&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('AFFECT_SPE'+'CULARITY'),!(0x1fcb*-0x1+-0x997+0x2962*0x1)),_0x125c17['_cookie']&&(_0x1e2476===Ze&&!_0x125c17['_cookie']['_cubemap']||_0x1e2476===Ke&&_0x125c17['_cookie']['_cubemap'])&&(_0x2a0eb2['set']('LIGHT'+_0x51bc86+'COOKIE',!(-0x277*0x7+-0x868+-0x1*-0x19a9)),_0x2a0eb2['set']('{LIGHT'+_0x51bc86+('COOKIE_CHA'+'NNEL}'),_0x125c17['_cookieCha'+'nnel']),_0x1e2476===Ze&&(_0x125c17['_cookieTra'+'nsform']&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('COOKIE_TRA'+'NSFORM'),!(0xf9f+-0x1ebd+0xf1e)),_0x125c17['_cookieFal'+'loff']&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('COOKIE_FAL'+'LOFF'),!(0x1a1*-0x15+-0x9d8+0x2c0d)))),_0x175829&&(_0x2a0eb2['set']('LIGHT'+_0x51bc86+'CASTSHADOW',!(0xc93+0x3*0x45d+-0x19aa)),_0x58a19a['pcf']&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+'SHADOW_PCF',!(-0x15*0x1ba+0x1821+0xc21)),_0x125c17['_normalOff'+'setBias']&&!_0x125c17['_isVsm']&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x1c3b*-0x1+-0x139c+0x2fd7)),_0x1e2476===ve&&(_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_SA'+'MPLE_ORTHO'),!(0xbcd*0x1+-0x1d2+-0x9fb)),_0x125c17['cascadeBle'+'nd']>-0x6b0+0x2b*0x25+0x79&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x3a*0x26+-0xa*-0x19b+-0x18aa)),_0x125c17['numCascade'+'s']>-0x1bd5+-0x2*0x1bf+0x1f54&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_CA'+'SCADES'),!(-0x23*-0x6b+-0x4*0xbb+-0xbb5))),(_0x58a19a['pcf']||_0x58a19a['pcss']||this['device']['isWebGPU'])&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(-0x1629+0x3c3+0x13a*0xf)),_0x1e2476===Ke&&_0x2a0eb2['set']('LIGHT'+_0x51bc86+('_SHADOW_SA'+'MPLE_POINT'),!(-0x493+-0xc*-0x255+0xd*-0x1cd))),_0x175829&&(_0x2a0eb2['set']('SHADOW_KIN'+'D_'+_0x58a19a['kind'],!(-0x1*0x1dea+-0x9*0x356+0x8*0x77e)),_0x1e2476===ve&&_0x2a0eb2['set']('SHADOW_DIR'+'ECTIONAL',!(-0x1059*0x1+0xb3b+-0x83*-0xa)));}}['prepareFor'+'wardPass'](_0x3baad1){const {options:_0x113f1c}=this,_0x451f3d=_0x113f1c['clusteredL'+'ightingEna'+'bled']&&_0x113f1c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x113f1c['lights']['some'](_0x1ea502=>_0x1ea502['_shape']&&_0x1ea502['_shape']!==Ys),_0x574905=!_0x113f1c['lightMapEn'+'abled']||_0x113f1c['lightMapWi'+'thoutAmbie'+'nt'],_0x524ea7=this['needsNorma'+'l']&&(_0x113f1c['useNormals']||_0x113f1c['useClearCo'+'atNormals']||_0x113f1c['enableGGXS'+'pecular']&&!_0x113f1c['useHeights']);_0x113f1c['useSpecula'+'r']&&(this['fDefineSet'](!(-0x719+0x17be*-0x1+0x1ed7),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x113f1c['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x113f1c['fresnelMod'+'el']>0x1*-0x1b9a+-0x9*-0x37+0x19ab,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x113f1c['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x113f1c['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x113f1c['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x113f1c['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x113f1c['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x113f1c['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x113f1c['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x113f1c['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x113f1c['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x113f1c['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x113f1c['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x113f1c['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x113f1c['skyboxInte'+'nsity']>-0x431*-0x7+0x2*-0x623+-0x1111,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x113f1c['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x113f1c['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x524ea7,'LIT_TBN'),this['fDefineSet'](_0x574905,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x113f1c['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x113f1c['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x113f1c['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x113f1c['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x113f1c['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x113f1c['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x113f1c['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x113f1c['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x113f1c['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x113f1c['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x113f1c['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x113f1c['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x113f1c['useAo'],'LIT_AO'),this['fDefineSet'](_0x113f1c['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x113f1c['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x113f1c['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x113f1c['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0xd94+-0x1e1b+0x1087),'LIT_FRESNE'+'L_MODEL',Rw[_0x113f1c['fresnelMod'+'el']]),this['fDefineSet'](!(-0x7*0x397+-0x33+-0x1954*-0x1),'LIT_NONE_S'+'LICE_MODE',qw[_0x113f1c['nineSliced'+'Mode']]),this['fDefineSet'](!(0x1ce2*-0x1+0x1d74+0x2*-0x49),'LIT_BLEND_'+'TYPE',Yy[_0x113f1c['blendType']]),this['fDefineSet'](!(-0x1d02*-0x1+-0x7da+0x8*-0x2a5),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x113f1c['cubeMapPro'+'jection']]),this['fDefineSet'](!(0xa23+0x11*0x18e+-0x17*0x197),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x113f1c['occludeSpe'+'cular']]),this['fDefineSet'](!(0x1*0x1493+0xe87+-0x231a),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x113f1c['reflection'+'Source']]),this['fDefineSet'](!(0x71d+0x763+-0xe80),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x113f1c['ambientSou'+'rce']]),this['fDefineSet'](!(0x85*-0x11+0x3*0x4c3+-0x574),'{lightingU'+'v}',_0x3baad1??''),this['fDefineSet'](!(0xe0+-0x25ec+-0x4*-0x943),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x113f1c['reflection'+'Encoding'])),this['fDefineSet'](!(0xa33+0xfd5*-0x1+0x5a2),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x113f1c['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x1db+0x1*0xd94+0xbb9*-0x1),'{ambientDe'+'code}',Tr['decodeFunc'](_0x113f1c['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x451f3d,_0x113f1c['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x4dce47}=this,_0x1a2c7e=this['shaderPass'+'Info']['lightType'],_0x137a24=this['shaderPass'+'Info']['shadowType'],_0x3b1250=qi['get'](_0x137a24);w['assert'](_0x3b1250);const _0x4c8f57=_0x1a2c7e===ve||!_0x3b1250['vsm']&&_0x1a2c7e===Ze;this['fDefineSet'](_0x4c8f57,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x14e9+-0x3*0xa00+0x32e9),'LIGHT_TYPE',''+u_[_0x1a2c7e]),this['fDefineSet'](!(-0x1a8a+-0x1eb*0xb+0x2fa3),'SHADOW_TYP'+'E',''+_0x3b1250['name']),this['fDefineSet'](_0x4dce47['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x279e6c,_0x33d5b8,_0x527d67){const _0x3055b4=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x279e6c??''),this['includes']['set']('frontendCo'+'dePS',_0x33d5b8??''),_0x3055b4['pass']===Zn||_0x3055b4['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x527d67)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(0x611+-0x4da+-0xa*0x1f)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x1*0xc68+0x135d+-0x6f5),h(this,'alphaTest',!(0x32*0x4a+0x8f0+0x1763*-0x1)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0x162f*0x1+0x2a1*-0x5+-0x2355*-0x1)),h(this,'screenSpac'+'e',!(0x1033+0x1cf+-0x1201)),h(this,'skin',!(0x1313+0x727*0x5+-0x1*0x36d5)),h(this,'batch',!(0x1342+0xca+0x2dd*-0x7)),h(this,'useInstanc'+'ing',!(-0x19d*-0x2+0x66e+-0x9a7)),h(this,'useMorphPo'+'sition',!(-0x12d0+0x59a*0x6+-0xecb)),h(this,'useMorphNo'+'rmal',!(0x233*0x7+0x1*-0x232f+-0x233*-0x9)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x25fe+-0x1533+-0x10ca)),h(this,'nineSliced'+'Mode',0x1*-0xcc2+-0x1559*0x1+0x221b),h(this,'clusteredL'+'ightingEna'+'bled',!(0x43f+-0x2623+0x21e4)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x3*0xcf7+-0x2255*-0x1+0x491)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x5*0x737+-0x2487+0x75)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x431*0x4+0x24ad*-0x1+0x3571),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x2da*-0x3+-0x1c87+-0x65*-0x5e)),h(this,'vertexColo'+'rs',!(0x310*-0x9+-0x24be+0x404f)),h(this,'lightMapEn'+'abled',!(-0xf9d+-0x1bbb+0x2b59)),h(this,'dirLightMa'+'pEnabled',!(0x1389+0x22d*-0x5+-0x8a7)),h(this,'useHeights',!(0x97*0x11+0x3*0x5cb+-0x1b67)),h(this,'useNormals',!(-0x1b35+-0xaad*-0x1+0x1089)),h(this,'useClearCo'+'atNormals',!(-0x11+0xee5+0x37*-0x45)),h(this,'useAo',!(-0xa7f*-0x1+-0xc3a*0x1+0x4a*0x6)),h(this,'diffuseMap'+'Enabled',!(0x1c30+0x172d*-0x1+-0x2*0x281)),h(this,'pixelSnap',!(0x21*0x95+-0x1*0xb92+-0x7a2)),h(this,'ambientSH',!(0x11a2+0x63*0x23+-0x1f2a)),h(this,'ssao',!(-0x6eb*-0x3+-0x2*0x843+-0x43a)),h(this,'twoSidedLi'+'ghting',!(0xd*-0x191+0x2097+-0xc39)),h(this,'occludeDir'+'ect',!(-0x11f2+-0x1*0x242f+0x1*0x3622)),h(this,'occludeSpe'+'cular',-0x261b+-0x1*0xb5d+0x18bc*0x2),h(this,'occludeSpe'+'cularFloat',!(0x4dc+0x3e*0x8b+0x39*-0xad)),h(this,'useMsdf',!(0x9fe+0xcb4+0x25*-0x9d)),h(this,'msdfTextAt'+'tribute',!(-0x1ed7*0x1+0x4*-0x3ee+0x2e90)),h(this,'alphaToCov'+'erage',!(0x7a*0x28+0x1f4e+-0x325d*0x1)),h(this,'opacityFad'+'esSpecular',!(-0x119+-0xb7c+0xc96)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0x1*-0x97+0x45c+-0x1*0x3c5),h(this,'useSpecula'+'r',!(0x250+0x308+-0x557)),h(this,'useSpecula'+'rityFactor',!(0x1706+0x76+-0x1*0x177b)),h(this,'enableGGXS'+'pecular',!(0x24f*0x3+0x1a1d+0xb03*-0x3)),h(this,'fresnelMod'+'el',0x1427+0x8e*-0x8+-0xfb7),h(this,'useRefract'+'ion',!(0x1eaf+0x1194+0x2*-0x1821)),h(this,'useClearCo'+'at',!(0x1*-0x379+0x1*0x1951+-0x15d7*0x1)),h(this,'useSheen',!(-0x1*-0x1ef7+-0x18c1+-0x635)),h(this,'useIridesc'+'ence',!(-0x1ee7*-0x1+0x2209*-0x1+0x323)),h(this,'useMetalne'+'ss',!(0x25c6+-0x231d+-0x2a8)),h(this,'useDynamic'+'Refraction',!(-0x34*0x65+-0x19f+0x1624)),h(this,'dispersion',!(-0x1d2b+-0x766*-0x5+-0x7d2)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1c0d+-0x4e3*-0x3+-0x1*0x2ab5)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x2148+0x5*0x13c+-0x2773),h(this,'useCubeMap'+'Rotation',!(0x33*-0xad+0x233+0xb*0x2ef)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x187e+-0x994*0x3+-0x43f*-0x1)),h(this,'lights',[]),h(this,'noShadow',!(-0x2ee*-0x2+-0x10e0+0xb05)),h(this,'lightMaskD'+'ynamic',-0x20b9+-0xbf6+0x2caf),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x1e*-0xde+0x12ed+0x2cf*-0x10)),h(this,'shadowCatc'+'her',!(-0x1901*-0x1+0xe12+-0x2712));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x10a1+0x1*-0x460+0x20*-0x62)),h(this,'specularTi'+'nt',!(0xbf0*0x1+0x189b+-0x248a)),h(this,'metalnessT'+'int',!(-0x11*-0x16e+0x114c+-0x2999)),h(this,'glossTint',!(-0x3b*0x77+0xb*-0x2fc+0x359*0x12)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(-0xc93+-0x1a26+0x1*0x26ba)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x261+0x1a*-0x172+0x27f6)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x2a9*0x8+-0x1c58+0x31a1)),h(this,'glossInver'+'t',!(-0x1*0x5c9+-0x20f1+-0x3*-0xce9)),h(this,'sheenGloss'+'Invert',!(0x1*0x497+-0x4*-0x84c+-0x1*0x25c6)),h(this,'clearCoatG'+'lossInvert',!(-0x2*-0x10c3+-0xeb+-0x209a)),h(this,'useAO',!(0x77*0x17+0x4dd+-0xf8d)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x47135f){return'lit'+Object['keys'](_0x47135f)['sort']()['map'](_0x435a42=>{var _0x3064f5;return _0x435a42==='shaderChun'+'ks'?((_0x3064f5=_0x47135f['shaderChun'+'ks'])==null?void(-0x2222+-0x9d*-0xd+0x1a29):_0x3064f5['key'])??'':_0x435a42==='lights'?Ev['generateLi'+'ghtsKey'](_0x47135f):_0x435a42+_0x47135f[_0x435a42];})['join']('\x0a');},'generateLightsKey'(_0x5b2549){return'lights:'+_0x5b2549['lights']['map'](_0x1a3940=>!_0x5b2549['clusteredL'+'ightingEna'+'bled']||_0x1a3940['_type']===ve?_0x1a3940['key']+',':'')['join']('');}},bn=[],Qd=_0x434e6b=>Object['keys'](_0x434e6b)['filter'](_0x692205=>_0x692205!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x1b0010){let _0x4a19be;return _0x1b0010===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x1b0010)),_0x4a19be=this['propsMin']):_0x1b0010===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x1b0010)),_0x4a19be=this['props']):_0x4a19be=Qd(_0x1b0010),'standard:\x0a'+ya['definesHas'+'h'](_0x1b0010['defines'])+'\x0a'+_0x4a19be['map'](_0x366387=>_0x366387+_0x1b0010[_0x366387])['join']('\x0a')+Ev['generateKe'+'y'](_0x1b0010['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x1e91b3,_0x146d70,_0x470b6){const _0x2abb4c=_0x470b6[_0x1e91b3],_0x41d42d=_0x470b6[_0x146d70],_0x5133dd=_0x470b6['litOptions']['pass']===Aa;let _0x340526;return _0x5133dd&&_0x470b6['litOptions']['nineSliced'+'Mode']===Pt||_0x5133dd&&_0x470b6['litOptions']['nineSliced'+'Mode']===Mt?_0x340526='nineSliced'+'Uv':(_0x2abb4c===-0xec*0x1d+0x1*0x1e6a+-0x3ae*0x1?_0x340526='vUv'+_0x41d42d:_0x340526='vUV'+_0x41d42d+'_'+_0x2abb4c,_0x470b6['heightMap']&&_0x1e91b3!=='heightMapT'+'ransform'&&(_0x340526+='\x20+\x20dUvOffs'+'et')),_0x340526;}['_validateM'+'apChunk'](_0x34c1fe,_0x265618,_0x3c119f){w['call'](()=>{const _0x5bab2c=_0x3c119f['get'](_0x265618)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x5b9abd=[],_0x5b9b9a=(_0x5b5d61,_0x37758c)=>{_0x5bab2c['includes'](_0x5b5d61)&&_0x5b9abd['push']('\x20\x20'+_0x5b5d61+'\x20->\x20'+_0x37758c);};[['$UV','{STD_'+_0x34c1fe+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x34c1fe+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x34c1fe+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x34c1fe+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x34c1fe+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x34c1fe+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x34c1fe+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x29c3c7,_0x2a1a6b])=>_0x5b9b9a(_0x29c3c7,_0x2a1a6b)),[['MAPFLOAT','STD_'+_0x34c1fe+'_CONSTANT'],['MAPCOLOR','STD_'+_0x34c1fe+'_CONSTANT'],['MAPVERTEX','STD_'+_0x34c1fe+'_VERTEX'],['MAPTEXTURE','STD_'+_0x34c1fe+'_TEXTURE'],['MAPINVERT','STD_'+_0x34c1fe+'_INVERT']]['forEach'](([_0x453790,_0x1c5b03])=>_0x5b9b9a(_0x453790,_0x1c5b03)),_0x5bab2c['includes']('$texture2D'+'SAMPLE')&&_0x5b9b9a('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x5b9abd['length']>0x5*-0x123+-0x214e+0x26fd&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x265618+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x5b9abd['join']('\x0a'),{'code':_0x5bab2c});});}['_addMapDef'+'ines'](_0x5ea293,_0x3b7572,_0x2fe5fa,_0x19639c,_0x50b2b4,_0x3e9784,_0x5b7eb2=null){const _0x2de53f=_0x3b7572+'Map',_0x107089=_0x3b7572['toUpperCas'+'e'](),_0xb94efa=_0x2de53f+'Uv',_0x24e424=_0x2de53f+'Identifier',_0x55fe60=_0x2de53f+'Transform',_0x5957f8=_0x2de53f+'Channel',_0x19dc81=_0x3b7572+('VertexColo'+'rChannel'),_0x2a93da=_0x3b7572+'Tint',_0x574199=_0x3b7572+('VertexColo'+'r'),_0x3590d1=_0x3b7572+'Mode',_0x4572d3=_0x3b7572+'Invert',_0x51356d=_0x19639c[_0x2a93da],_0x4c0d71=_0x19639c[_0x574199],_0x111a67=_0x19639c[_0x2de53f],_0x2d2819=_0x19639c[_0x24e424],_0x15bd5f=_0x19639c[_0x3590d1],_0x306829=_0x50b2b4['get'](_0x2fe5fa);if(w['assert'](_0x306829,'Shader\x20chu'+'nk\x20'+_0x2fe5fa+('\x20not\x20found'+'.')),w['call'](()=>{_0x306829&&this['_validateM'+'apChunk'](_0x107089,_0x2fe5fa,_0x50b2b4);}),_0x111a67){_0x5ea293['set']('STD_'+_0x107089+'_TEXTURE','');const _0x47bad9=this['_getUvSour'+'ceExpressi'+'on'](_0x55fe60,_0xb94efa,_0x19639c);_0x5ea293['set']('{STD_'+_0x107089+('_TEXTURE_U'+'V}'),_0x47bad9),_0x5ea293['set']('{STD_'+_0x107089+('_TEXTURE_C'+'HANNEL}'),_0x19639c[_0x5957f8]);const _0x339c9f='{STD_'+_0x107089+('_TEXTURE_N'+'AME}');if(_0x306829['includes'](_0x339c9f)){let _0x29a9ae='texture_'+_0x2de53f;const _0x5dc751=_0x3e9784[_0x2d2819];_0x5dc751?_0x29a9ae=_0x5dc751:(_0x3e9784[_0x2d2819]=_0x29a9ae,_0x5ea293['set']('STD_'+_0x107089+('_TEXTURE_A'+'LLOCATE'),'')),_0x5ea293['set'](_0x339c9f,_0x29a9ae);}if(_0x5b7eb2){const _0x4e604d=_0x19639c[_0x5957f8]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x5b7eb2);_0x5ea293['set']('{STD_'+_0x107089+('_TEXTURE_D'+'ECODE}'),_0x4e604d);}}_0x4c0d71&&(_0x5ea293['set']('STD_'+_0x107089+'_VERTEX',''),_0x5ea293['set']('{STD_'+_0x107089+('_VERTEX_CH'+'ANNEL}'),_0x19639c[_0x19dc81])),_0x15bd5f&&_0x5ea293['set']('{STD_'+_0x107089+('_DETAILMOD'+'E}'),_0x15bd5f),_0x51356d&&_0x5ea293['set']('STD_'+_0x107089+'_CONSTANT',''),_0x19639c[_0x4572d3]&&_0x5ea293['set']('STD_'+_0x107089+'_INVERT','');}['_correctCh'+'annel'](_0x19bcec,_0x3d1f76,_0x52d541){if(_0x52d541[_0x19bcec]>0x2*0xd8d+0x14df+-0x2ff9){if(_0x52d541[_0x19bcec]<_0x3d1f76['length'])return _0x3d1f76['substring'](0x1c99+0x4*0x2cd+-0x27cd,_0x52d541[_0x19bcec]);if(_0x52d541[_0x19bcec]>_0x3d1f76['length']){let _0x10960e=_0x3d1f76;const _0x31ce7e=_0x10960e['charAt'](_0x10960e['length']-(0x11db+0x666+-0x8*0x308)),_0x42e00e=_0x52d541[_0x19bcec]-_0x10960e['length'];for(let _0x1bf12d=0x5*-0x6d3+0x1e9d+-0x1*-0x382;_0x1bf12d<_0x42e00e;_0x1bf12d++)_0x10960e+=_0x31ce7e;return _0x10960e;}return _0x3d1f76;}}['createVert'+'exShader'](_0x2cdb56,_0x10ddb3){const _0x17785f=[],_0x56d558=[],_0x31070c=[];for(const _0x2e876a in bn){const _0x5a0c1c=_0x2e876a+'Map';if(_0x10ddb3[_0x2e876a+('VertexColo'+'r')]){const _0x44960a=_0x2e876a+('VertexColo'+'rChannel');_0x10ddb3[_0x44960a]=this['_correctCh'+'annel'](_0x2e876a,_0x10ddb3[_0x44960a],bn);}if(_0x10ddb3[_0x5a0c1c]){const _0x1f0ffe=_0x5a0c1c+'Channel',_0x54a281=_0x5a0c1c+'Transform',_0x7bc403=_0x5a0c1c+'Uv';_0x10ddb3[_0x7bc403]=Math['min'](_0x10ddb3[_0x7bc403],-0x2182+-0x1*-0xc74+0x150f),_0x10ddb3[_0x1f0ffe]=this['_correctCh'+'annel'](_0x2e876a,_0x10ddb3[_0x1f0ffe],bn);const _0x354a36=_0x10ddb3[_0x7bc403];_0x17785f[_0x354a36]=!(0x1fce+-0x34e*-0x9+0x194*-0x27),_0x56d558[_0x354a36]=_0x56d558[_0x354a36]||_0x10ddb3[_0x5a0c1c]&&!_0x10ddb3[_0x54a281],_0x10ddb3[_0x54a281]&&_0x31070c['push']({'name':_0x2e876a,'id':_0x10ddb3[_0x54a281],'uv':_0x10ddb3[_0x7bc403]});}}_0x10ddb3['forceUv1']&&(_0x17785f[-0x198b*0x1+-0xcc2+0x2*0x1327]=!(-0xcff*0x1+-0x8b*0xc+-0x1*-0x1383),_0x56d558[-0x11be+-0x77a+-0x1*-0x1939]=_0x56d558[0x1976+0x2c5*-0xa+0x23d]!==void(0x742+-0x2*-0x6a7+-0x2f*0x70)?_0x56d558[-0xbae+0xc49+-0xb*0xe]:!(0x6*0x383+0x15d*-0x1+-0x13b5)),_0x2cdb56['generateVe'+'rtexShader'](_0x17785f,_0x56d558,_0x31070c);}['prepareFra'+'gmentDefin'+'es'](_0x2704b3,_0x18125f,_0x47a9ad){const _0x198b28=(_0x39a674,_0x38a24d,_0x1226c5='')=>{_0x39a674&&_0x18125f['set'](_0x38a24d,_0x1226c5);};_0x198b28(_0x2704b3['lightMap'],'STD_LIGHTM'+'AP',''),_0x198b28(_0x2704b3['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x198b28(_0x2704b3['dirLightMa'+'p']&&_0x2704b3['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x198b28(_0x2704b3['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x198b28(_0x2704b3['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x198b28(_0x2704b3['aoMap']||_0x2704b3['aoVertexCo'+'lor']||_0x2704b3['useAO'],'STD_AO',''),_0x198b28(!(-0xa56+-0x1620+0x2076),'STD_OPACIT'+'Y_DITHER',iE[_0x47a9ad['isForward']?_0x2704b3['litOptions']['opacityDit'+'her']:_0x2704b3['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x36c1ab,_0x167fdc){const _0x7908f1=Si['get'](_0x36c1ab)['getByIndex'](_0x167fdc['litOptions']['pass']),_0x372646=_0x7908f1['isForward'],_0x1abb90=new db(_0x36c1ab,_0x167fdc['litOptions']);this['createVert'+'exShader'](_0x1abb90,_0x167fdc);const _0x4d5df5={};_0x167fdc['litOptions']['fresnelMod'+'el']=_0x167fdc['litOptions']['fresnelMod'+'el']===-0x3d1*0x1+-0x125d+-0x162e*-0x1?Yp:_0x167fdc['litOptions']['fresnelMod'+'el'];const _0x335d3d=_0x1abb90['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x167fdc,_0x335d3d,_0x7908f1);let _0x2775fe='';if(_0x372646){if(_0x167fdc['heightMap']&&this['_addMapDef'+'ines'](_0x335d3d,'height','parallaxPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),(_0x167fdc['litOptions']['blendType']!==Cs||_0x167fdc['litOptions']['alphaTest']||_0x167fdc['litOptions']['alphaToCov'+'erage']||_0x167fdc['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x335d3d,'opacity','opacityPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),_0x1abb90['needsNorma'+'l']){if((_0x167fdc['normalMap']||_0x167fdc['clearCoatN'+'ormalMap'])&&!_0x167fdc['litOptions']['hasTangent'+'s']){const _0x345884=_0x167fdc['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x2775fe=this['_getUvSour'+'ceExpressi'+'on'](_0x345884+'Transform',_0x345884+'Uv',_0x167fdc);}this['_addMapDef'+'ines'](_0x335d3d,'normalDeta'+'il','normalMapP'+'S',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x335d3d,'normal','normalMapP'+'S',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['packedNorm'+'al']?'xy':'xyz');}_0x167fdc['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x335d3d,'diffuseDet'+'ail','diffusePS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x335d3d,'diffuse','diffusePS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['diffuseEnc'+'oding']),_0x167fdc['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x335d3d,'refraction','transmissi'+'onPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'thickness','thicknessP'+'S',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5)),_0x167fdc['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x335d3d,'iridescenc'+'e','iridescenc'+'ePS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5)),(_0x1abb90['lighting']&&_0x167fdc['litOptions']['useSpecula'+'r']||_0x1abb90['reflection'+'s'])&&(_0x167fdc['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x335d3d,'sheen','sheenPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x335d3d,'sheenGloss','sheenGloss'+'PS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5)),_0x167fdc['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x335d3d,'metalness','metalnessP'+'S',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'ior','iorPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5)),_0x167fdc['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x335d3d,'specularit'+'yFactor','specularit'+'yFactorPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),_0x167fdc['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x335d3d,'specular','specularPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x335d3d,'gloss','glossPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5)),_0x167fdc['aoDetail']&&this['_addMapDef'+'ines'](_0x335d3d,'aoDetail','aoPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),(_0x167fdc['aoMap']||_0x167fdc['aoVertexCo'+'lor']||_0x167fdc['useAO'])&&this['_addMapDef'+'ines'](_0x335d3d,'ao','aoPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'emissive','emissivePS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['emissiveEn'+'coding']),_0x167fdc['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x335d3d,'clearCoat','clearCoatP'+'S',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),this['_addMapDef'+'ines'](_0x335d3d,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x167fdc['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x335d3d,'anisotropy','anisotropy'+'PS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5),(_0x167fdc['lightMap']||_0x167fdc['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x335d3d,'light','lightmapPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5,_0x167fdc['lightMapEn'+'coding']);}else{const _0xbf50f7=_0x167fdc['litOptions']['opacitySha'+'dowDither'];(_0x167fdc['litOptions']['alphaTest']||_0xbf50f7)&&this['_addMapDef'+'ines'](_0x335d3d,'opacity','opacityPS',_0x167fdc,_0x1abb90['chunks'],_0x4d5df5);}_0x1abb90['generateFr'+'agmentShad'+'er'](_0x1abb90['chunks']['get']('stdDeclara'+'tionPS'),_0x1abb90['chunks']['get']('stdFrontEn'+'dPS'),_0x2775fe);const _0x53e1e8=bh['merge'](_0x1abb90['chunks'],_0x1abb90['includes']),_0x1ad0fc=_0x1abb90['vDefines'];_0x167fdc['defines']['forEach']((_0x12d10d,_0x3c6b53)=>_0x1ad0fc['set'](_0x3c6b53,_0x12d10d)),_0x167fdc['defines']['forEach']((_0x363324,_0x47016d)=>_0x335d3d['set'](_0x47016d,_0x363324));const _0x5324e1=Jt['createDefi'+'nition'](_0x36c1ab,{'name':'StandardSh'+'ader','attributes':_0x1abb90['attributes'],'shaderLanguage':_0x1abb90['shaderLang'+'uage'],'vertexCode':_0x1abb90['vshader'],'fragmentCode':_0x1abb90['fshader'],'vertexIncludes':_0x53e1e8,'fragmentIncludes':_0x53e1e8,'fragmentDefines':_0x335d3d,'vertexDefines':_0x1ad0fc});return _0x1abb90['shaderPass'+'Info']['isForward']&&(_0x5324e1['tag']=Sy),_0x5324e1;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0x22c6+0x82e+-0x17*-0x128;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x1*-0x1270+0x86d+-0x2*0xd6e)),h(this,'parameters',{}),h(this,'alphaTest',0x1843+0x1851+-0x3094),h(this,'alphaToCov'+'erage',!(-0x17*0x12d+-0x20*0x1+0x1b2c)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x2396+-0x6*0x19b+0x2d38)),h(this,'_shaderVer'+'sion',-0x244e+-0x170c+0x3b5a),h(this,'_scene',null),h(this,'dirty',!(0x1*0x1aea+-0x2471+0x3*0x32d)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x15b260=Fe){const _0x1e67fc=this['shaderChun'+'ks'];return _0x15b260===Fe?_0x1e67fc['glsl']:_0x1e67fc['wgsl'];}set['shaderChun'+'ksVersion'](_0x5c0e9e){this['shaderChun'+'ks']['version']=_0x5c0e9e;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x46d13a){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x46d13a;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x468236){this['_depthStat'+'e']['depthBias']=_0x468236;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x586fb9){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x586fb9;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x199de5){this['_blendStat'+'e']['redWrite']=_0x199de5;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x438c8e){this['_blendStat'+'e']['greenWrite']=_0x438c8e;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x432021){this['_blendStat'+'e']['blueWrite']=_0x432021;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x381568){this['_blendStat'+'e']['alphaWrite']=_0x381568;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x3d9060=this['transparen'+'t'],_0x1707e0=this['meshInstan'+'ces'];for(let _0x315377=-0x1*-0x16+-0x1*0x251e+0x2508;_0x315377<_0x1707e0['length'];_0x315377++)_0x1707e0[_0x315377]['transparen'+'t']=_0x3d9060;}set['blendState'](_0x10fb28){this['_blendStat'+'e']['copy'](_0x10fb28),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x56533a){const _0x5bb4ab=ss[_0x56533a];w['assert'](_0x5bb4ab,'Unknown\x20bl'+'end\x20mode\x20'+_0x56533a),this['_blendStat'+'e']['setColorBl'+'end'](_0x5bb4ab['op'],_0x5bb4ab['src'],_0x5bb4ab['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x5bb4ab['alphaOp']??_0x5bb4ab['op'],_0x5bb4ab['alphaSrc']??_0x5bb4ab['src'],_0x5bb4ab['alphaDst']??_0x5bb4ab['dst']);const _0x54d6a6=_0x56533a!==Cs;this['_blendStat'+'e']['blend']!==_0x54d6a6&&(this['_blendStat'+'e']['blend']=_0x54d6a6,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x1ac7b0,colorSrcFactor:_0x5131b7,colorDstFactor:_0x4fb13c,alphaOp:_0x43e170,alphaSrcFactor:_0x4399c9,alphaDstFactor:_0x3a5edb}=this['_blendStat'+'e'];for(let _0x4e2afa=-0x7*0x94+0x17b*-0xd+0x43*0x59;_0x4e2afa<ss['length'];_0x4e2afa++){const _0x4f6f7c=ss[_0x4e2afa];if(_0x4f6f7c['src']===_0x5131b7&&_0x4f6f7c['dst']===_0x4fb13c&&_0x4f6f7c['op']===_0x1ac7b0&&_0x4f6f7c['src']===_0x4399c9&&_0x4f6f7c['dst']===_0x3a5edb&&_0x4f6f7c['op']===_0x43e170)return _0x4e2afa;}return Zs;}set['depthState'](_0xa77c15){this['_depthStat'+'e']['copy'](_0xa77c15);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x297c90){this['_depthStat'+'e']['test']=_0x297c90;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4e7e69){this['_depthStat'+'e']['func']=_0x4e7e69;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x28decf){this['_depthStat'+'e']['write']=_0x28decf;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x527186){var _0x168f78,_0x6effb2;this['name']=_0x527186['name'],this['alphaTest']=_0x527186['alphaTest'],this['alphaToCov'+'erage']=_0x527186['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x527186['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x527186['_depthStat'+'e']),this['cull']=_0x527186['cull'],this['stencilFro'+'nt']=(_0x168f78=_0x527186['stencilFro'+'nt'])==null?void(-0x15ab+0x2*0xd8b+0x1*-0x56b):_0x168f78['clone'](),_0x527186['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x527186['stencilFro'+'nt']===_0x527186['stencilBac'+'k']?this['stencilFro'+'nt']:_0x527186['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x3d39fb in _0x527186['parameters'])_0x527186['parameters']['hasOwnProp'+'erty'](_0x3d39fb)&&this['_setParame'+'terSimple'](_0x3d39fb,_0x527186['parameters'][_0x3d39fb]['data']);return this['defines']['clear'](),_0x527186['defines']['forEach']((_0x81f01b,_0x484706)=>this['defines']['set'](_0x484706,_0x81f01b)),this['_shaderChu'+'nks']=_0x527186['hasShaderC'+'hunks']?new Pe():null,(_0x6effb2=this['_shaderChu'+'nks'])==null||_0x6effb2['copy'](_0x527186['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x162f31=this['meshInstan'+'ces'];for(let _0x59fcd4=-0x4cc+0x166f*-0x1+0x1b3b;_0x59fcd4<_0x162f31['length'];_0x59fcd4++)_0x162f31[_0x59fcd4]['updateKey']();}['updateUnif'+'orms'](_0x498047,_0xf8456c){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x465de5){w['assert'](!(-0xb17+-0x1edf*0x1+0xdfd*0x3),'Not\x20implem'+'ented');}['update'](){var _0x31d1db,_0x71f9e3;if(Object['keys'](this['_oldChunks'])['length']>0x19b4+-0x2bd*-0x3+-0x21eb){for(const [_0x405666,_0x1aa9ea]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x405666,_0x1aa9ea),delete this['_oldChunks'][_0x405666];}(this['_definesDi'+'rty']||(_0x31d1db=this['_shaderChu'+'nks'])!=null&&_0x31d1db['isDirty']())&&(this['_definesDi'+'rty']=!(0x16e2+0xf81+0x2662*-0x1),(_0x71f9e3=this['_shaderChu'+'nks'])==null||_0x71f9e3['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x4c9+-0x23bf*-0x1+-0x1ef6);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x3c3d76=this['meshInstan'+'ces'],_0x1454e9=_0x3c3d76['length'];for(let _0x14e716=-0x1*-0x1fac+0x1e92+-0x2*0x1f1f;_0x14e716<_0x1454e9;_0x14e716++)_0x3c3d76[_0x14e716]['clearShade'+'rs']();}['getParamet'+'er'](_0x1773e0){return this['parameters'][_0x1773e0];}['_setParame'+'terSimple'](_0x4837fb,_0x52c650){w['call'](()=>{_0x52c650===void(-0x1bef*-0x1+0x5*0xa1+-0x374*0x9)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4837fb+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x2caae1=this['parameters'][_0x4837fb];_0x2caae1?_0x2caae1['data']=_0x52c650:this['parameters'][_0x4837fb]={'scopeId':null,'data':_0x52c650};}['setParamet'+'er'](_0x2986a6,_0x21996a){if(_0x21996a===void(0x11dc+0x227b+0x3457*-0x1)&&typeof _0x2986a6=='object'){const _0x579726=_0x2986a6;if(_0x579726['length']){for(let _0x58bb50=0x1*-0x125+-0x1fcb*-0x1+0xf53*-0x2;_0x58bb50<_0x579726['length'];_0x58bb50++)this['setParamet'+'er'](_0x579726[_0x58bb50]);return;}_0x2986a6=_0x579726['name'],_0x21996a=_0x579726['value'];}this['_setParame'+'terSimple'](_0x2986a6,_0x21996a);}['deletePara'+'meter'](_0x25e152){this['parameters'][_0x25e152]&&delete this['parameters'][_0x25e152];}['setParamet'+'ers'](_0x4fbdf2,_0x20e100){const _0x242f28=this['parameters'];_0x20e100===void(0xfd0+0xfcc*0x2+-0x2f68)&&(_0x20e100=_0x242f28);for(const _0x4bb159 in _0x20e100){const _0x82f084=_0x242f28[_0x4bb159];_0x82f084&&(_0x82f084['scopeId']||(_0x82f084['scopeId']=_0x4fbdf2['scope']['resolve'](_0x4bb159)),_0x82f084['scopeId']['setValue'](_0x82f084['data']));}}['setDefine'](_0x58751d,_0x4e8cc8){let _0x33a1a8=!(0x3a8+0x421+0x8*-0xf9);const {defines:_0x1a005e}=this;_0x4e8cc8!==void(0x1eb9+0x1*-0x10d0+0x1*-0xde9)&&_0x4e8cc8!==!(0xf21+0x53*0x69+-0x312b)?(_0x33a1a8=!_0x1a005e['has'](_0x58751d)||_0x1a005e['get'](_0x58751d)!==_0x4e8cc8,_0x1a005e['set'](_0x58751d,_0x4e8cc8)):(_0x33a1a8=_0x1a005e['has'](_0x58751d),_0x1a005e['delete'](_0x58751d)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x33a1a8);}['getDefine'](_0x45af80){return this['defines']['has'](_0x45af80);}['destroy'](){this['variants']['clear']();for(let _0x56f24a=0xccf+-0x4b5*0x4+-0x605*-0x1;_0x56f24a<this['meshInstan'+'ces']['length'];_0x56f24a++){const _0x149b77=this['meshInstan'+'ces'][_0x56f24a];if(_0x149b77['clearShade'+'rs'](),_0x149b77['_material']=null,_0x149b77['mesh']){const _0x398129=Qn(_0x149b77['mesh']['device']);this!==_0x398129&&(_0x149b77['material']=_0x398129);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x2180+-0x11ae*-0x2+-0x77*0x4;}['addMeshIns'+'tanceRef'](_0x43d2cc){this['meshInstan'+'ces']['push'](_0x43d2cc);}['removeMesh'+'InstanceRe'+'f'](_0x467404){const _0x517579=this['meshInstan'+'ces'],_0x37af45=_0x517579['indexOf'](_0x467404);_0x37af45!==-(0x2b*0x5+0x1049+-0x1e7*0x9)&&_0x517579['splice'](_0x37af45,0x379+0x17a4+0x5*-0x56c);}}class Ws{static['update'](_0x968c4b,_0xfe1987,_0x21beb5,_0x3775b9,_0x5e5450,_0x3856b1,_0x54a7fb){Ws['updateShar'+'edOptions'](_0x968c4b,_0xfe1987,_0x21beb5,_0x5e5450,_0x3856b1),Ws['updateMate'+'rialOption'+'s'](_0x968c4b,_0xfe1987),Ws['updateEnvO'+'ptions'](_0x968c4b,_0xfe1987,_0x21beb5,_0x3775b9),Ws['updateLigh'+'tingOption'+'s'](_0x968c4b,_0xfe1987,_0x21beb5,_0x5e5450,_0x54a7fb);}static['updateShar'+'edOptions'](_0x158a2a,_0x2d35e0,_0x512a96,_0x3b4186,_0x9531a1){_0x158a2a['shaderChun'+'ks']=_0x2d35e0['shaderChun'+'ks'],_0x158a2a['pass']=_0x9531a1,_0x158a2a['alphaTest']=_0x2d35e0['alphaTest']>-0x69d*0x4+-0x9b2*-0x2+0x710,_0x158a2a['blendType']=_0x2d35e0['blendType'],_0x158a2a['screenSpac'+'e']=_0x3b4186&&(_0x3b4186&Eh)!==0x1f3+-0x6c2+0x4cf*0x1,_0x158a2a['skin']=_0x3b4186&&(_0x3b4186&nl)!==0xc65+-0xdec+-0x1*-0x187,_0x158a2a['useInstanc'+'ing']=_0x3b4186&&(_0x3b4186&ol)!==0xcb0+-0x1b31+0xe81,_0x158a2a['useMorphPo'+'sition']=_0x3b4186&&(_0x3b4186&ll)!==-0x217f+0x18c1*-0x1+0x3a40,_0x158a2a['useMorphNo'+'rmal']=_0x3b4186&&(_0x3b4186&cl)!==-0x5e9+0x37+0xa2*0x9,_0x158a2a['useMorphTe'+'xtureBased'+'Int']=_0x3b4186&&(_0x3b4186&hl)!==0x631*0x6+0x3*0xbc9+-0x17*0x327,_0x158a2a['hasTangent'+'s']=_0x3b4186&&(_0x3b4186&om)!==0x5*-0x7a0+0x11dd+0x1443,_0x158a2a['nineSliced'+'Mode']=_0x2d35e0['nineSliced'+'Mode']||ci,_0x2d35e0['useLightin'+'g']&&_0x512a96['clusteredL'+'ightingEna'+'bled']?(_0x158a2a['clusteredL'+'ightingEna'+'bled']=!(0x1acd+0x20*-0x6b+-0xd6d),_0x158a2a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x512a96['lighting']['cookiesEna'+'bled'],_0x158a2a['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x512a96['lighting']['shadowsEna'+'bled'],_0x158a2a['clusteredL'+'ightingSha'+'dowType']=_0x512a96['lighting']['shadowType'],_0x158a2a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x512a96['lighting']['areaLights'+'Enabled']):(_0x158a2a['clusteredL'+'ightingEna'+'bled']=!(0x1*0x18e7+0x10b1*-0x2+0x87c),_0x158a2a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x213e*0x1+-0x2211+-0xd4*-0x1),_0x158a2a['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1549+-0xef*-0x5+-0x19f3),_0x158a2a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x45*0x4f+-0x148*-0x6+-0x1cfa));}static['updateMate'+'rialOption'+'s'](_0xa10be0,_0x2d206e){_0xa10be0['separateAm'+'bient']=!(0x46+0x47b+-0x4c0),_0xa10be0['pixelSnap']=_0x2d206e['pixelSnap'],_0xa10be0['ambientSH']=_0x2d206e['ambientSH'],_0xa10be0['twoSidedLi'+'ghting']=_0x2d206e['twoSidedLi'+'ghting'],_0xa10be0['occludeDir'+'ect']=_0x2d206e['occludeDir'+'ect'],_0xa10be0['occludeSpe'+'cular']=_0x2d206e['occludeSpe'+'cular'],_0xa10be0['occludeSpe'+'cularFloat']=_0x2d206e['occludeSpe'+'cularInten'+'sity']!==0x62b*0x6+0x4*-0x47c+-0x1311,_0xa10be0['useMsdf']=!(-0x1606+0x1*0xcfe+0x909),_0xa10be0['msdfTextAt'+'tribute']=!(0x22c2+0xce4+-0x2fa5),_0xa10be0['alphaToCov'+'erage']=_0x2d206e['alphaToCov'+'erage'],_0xa10be0['opacityFad'+'esSpecular']=_0x2d206e['opacityFad'+'esSpecular'],_0xa10be0['opacityDit'+'her']=_0x2d206e['opacityDit'+'her'],_0xa10be0['cubeMapPro'+'jection']=tm,_0xa10be0['useSpecula'+'r']=_0x2d206e['hasSpecula'+'r'],_0xa10be0['useSpecula'+'rityFactor']=_0x2d206e['hasSpecula'+'rityFactor'],_0xa10be0['enableGGXS'+'pecular']=_0x2d206e['ggxSpecula'+'r'],_0xa10be0['fresnelMod'+'el']=_0x2d206e['fresnelMod'+'el'],_0xa10be0['useRefract'+'ion']=_0x2d206e['hasRefract'+'ion'],_0xa10be0['useClearCo'+'at']=_0x2d206e['hasClearCo'+'at'],_0xa10be0['useSheen']=_0x2d206e['hasSheen'],_0xa10be0['useIridesc'+'ence']=_0x2d206e['hasIrrides'+'cence'],_0xa10be0['useMetalne'+'ss']=_0x2d206e['hasMetalne'+'ss'],_0xa10be0['useDynamic'+'Refraction']=_0x2d206e['dynamicRef'+'raction'],_0xa10be0['dispersion']=_0x2d206e['dispersion']>-0x1*-0x1f6+-0x209*0xb+0x146d,_0xa10be0['vertexColo'+'rs']=!(-0xd1f+-0x2104+0xb89*0x4),_0xa10be0['lightMapEn'+'abled']=_0x2d206e['hasLightin'+'g'],_0xa10be0['dirLightMa'+'pEnabled']=_0x2d206e['dirLightMa'+'p'],_0xa10be0['useHeights']=_0x2d206e['hasHeights'],_0xa10be0['useNormals']=_0x2d206e['hasNormals'],_0xa10be0['useClearCo'+'atNormals']=_0x2d206e['hasClearCo'+'atNormals'],_0xa10be0['useAo']=_0x2d206e['hasAo'],_0xa10be0['diffuseMap'+'Enabled']=_0x2d206e['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x2e30cb,_0x42be90,_0x4a42e9,_0x2101dc){_0x2e30cb['fog']=_0x42be90['useFog']?_0x2101dc['fog']:Kn,_0x2e30cb['gamma']=_0x2101dc['shaderOutp'+'utGamma'],_0x2e30cb['toneMap']=_0x42be90['useTonemap']?_0x2101dc['toneMappin'+'g']:nv,_0x42be90['useSkybox']&&_0x4a42e9['envAtlas']&&_0x4a42e9['skybox']?(_0x2e30cb['reflection'+'Source']=xh,_0x2e30cb['reflection'+'Encoding']=_0x4a42e9['envAtlas']['encoding'],_0x2e30cb['reflection'+'CubemapEnc'+'oding']=_0x4a42e9['skybox']['encoding']):_0x42be90['useSkybox']&&_0x4a42e9['envAtlas']?(_0x2e30cb['reflection'+'Source']=vh,_0x2e30cb['reflection'+'Encoding']=_0x4a42e9['envAtlas']['encoding']):_0x42be90['useSkybox']&&_0x4a42e9['skybox']?(_0x2e30cb['reflection'+'Source']=Th,_0x2e30cb['reflection'+'Encoding']=_0x4a42e9['skybox']['encoding']):(_0x2e30cb['reflection'+'Source']=vr,_0x2e30cb['reflection'+'Encoding']=null),_0x42be90['ambientSH']?(_0x2e30cb['ambientSou'+'rce']=im,_0x2e30cb['ambientEnc'+'oding']=null):_0x2e30cb['reflection'+'Source']!==vr&&_0x4a42e9['envAtlas']?(_0x2e30cb['ambientSou'+'rce']=rm,_0x2e30cb['ambientEnc'+'oding']=_0x4a42e9['envAtlas']['encoding']):(_0x2e30cb['ambientSou'+'rce']=am,_0x2e30cb['ambientEnc'+'oding']=null);const _0x2a3c3b=_0x2e30cb['reflection'+'Source']!==vr;_0x2e30cb['skyboxInte'+'nsity']=_0x2a3c3b,_0x2e30cb['useCubeMap'+'Rotation']=_0x2a3c3b&&_0x4a42e9['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x224c28,_0x2ab855,_0x11ea62,_0x11625d,_0x161390){if(_0x224c28['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*-0xf4d+-0x1*0x26a9+0x35f7),_0x2ab855['useLightin'+'g']){const _0x3c5c53=[],_0x32e08d=_0x11625d?_0x11625d>>-0x70f+0x3*0x73c+0x1*-0xe95:Ss;_0x224c28['lightMaskD'+'ynamic']=!!(_0x32e08d&Ss),_0x224c28['lightMapWi'+'thoutAmbie'+'nt']=!(-0x31f+-0x1*0x17f+0xa9*0x7),_0x161390&&(Ws['collectLig'+'hts'](ve,_0x161390[ve],_0x3c5c53,_0x32e08d),_0x11ea62['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x161390[Ke],_0x3c5c53,_0x32e08d),Ws['collectLig'+'hts'](Ze,_0x161390[Ze],_0x3c5c53,_0x32e08d))),_0x224c28['lights']=_0x3c5c53;}else _0x224c28['lights']=[];(_0x224c28['lights']['length']===-0x2282+-0x9fd+0x2c7f&&!_0x11ea62['clusteredL'+'ightingEna'+'bled']||(_0x11625d&wh)!==-0x265*0x1+0x320+-0xbb)&&(_0x224c28['noShadow']=!(0x231*0xd+-0x35*-0x77+-0x32*0x110));}static['collectLig'+'hts'](_0x16b2f2,_0x2bbf9f,_0x36450e,_0x18afc2){for(let _0x173f42=0x2344+-0x33*0x9e+-0xc2*0x5;_0x173f42<_0x2bbf9f['length'];_0x173f42++){const _0x1a173f=_0x2bbf9f[_0x173f42];_0x1a173f['enabled']&&_0x1a173f['mask']&_0x18afc2&&_0x36450e['push'](_0x1a173f);}}}const G_=(_0x370c26,_0x846d7)=>{if(_0x370c26['length']!==_0x846d7['length'])return!(-0x232e*-0x1+-0x15b4+-0xd79*0x1);for(let _0x22ff00=0x8*0x394+0x2*-0x209+-0x188e;_0x22ff00<_0x370c26['length'];++_0x22ff00)if(_0x370c26[_0x22ff00]!==_0x846d7[_0x22ff00])return!(-0xa38+-0x229a+0x2cd3);return!(0x19db+-0x90d*-0x3+-0x3502);},pb=_0x196f89=>_0x196f89['r']!==0x1753+-0xd40*-0x2+-0x31d2||_0x196f89['g']!==0x1ef6+0x1bb1+-0x3aa6*0x1||_0x196f89['b']!==0x991+0x12c1*-0x1+0x1*0x931,mb=_0x4d5b88=>_0x4d5b88['r']!==-0x5*-0x2e9+0x2b*0x9e+0x43*-0x9d||_0x4d5b88['g']!==-0x26*-0xa8+0x26b*-0x10+-0xa0*-0x16||_0x4d5b88['b']!==0x5a8*-0x2+0x10*-0x1db+0x80*0x52;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x2e8d1a,_0x3d0c3b,_0x30c3c7,_0x53d9cc,_0x1a3964,_0x6edb1b){this['_updateSha'+'redOptions'](_0x2e8d1a,_0x3d0c3b,_0x30c3c7,_0x53d9cc,_0x1a3964),this['_updateMin'+'Options'](_0x2e8d1a,_0x30c3c7,_0x1a3964),this['_updateUVO'+'ptions'](_0x2e8d1a,_0x30c3c7,_0x53d9cc,!(-0xd*0x235+0xf9+-0x8*-0x377));}['updateRef'](_0x4610f5,_0x2acb37,_0x5e1a27,_0x3c1885,_0x5de08e,_0x4995d4,_0x481e92){this['_updateSha'+'redOptions'](_0x4610f5,_0x2acb37,_0x3c1885,_0x5de08e,_0x4995d4),this['_updateEnv'+'Options'](_0x4610f5,_0x3c1885,_0x2acb37,_0x5e1a27),this['_updateMat'+'erialOptio'+'ns'](_0x4610f5,_0x3c1885,_0x2acb37),_0x4610f5['litOptions']['hasTangent'+'s']=_0x5de08e&&(_0x5de08e&om)!==0x4*-0x1be+0x1898+-0x11a0,this['_updateLig'+'htOptions'](_0x4610f5,_0x2acb37,_0x3c1885,_0x5de08e,_0x481e92),this['_updateUVO'+'ptions'](_0x4610f5,_0x3c1885,_0x5de08e,!(-0x99*0x17+-0x1*-0x19bd+-0xbfd),_0x5e1a27);}['_updateSha'+'redOptions'](_0x2f4543,_0x15a982,_0x23eea5,_0x23758a,_0x179651){_0x2f4543['forceUv1']=_0x23eea5['forceUv1'],_0x23eea5['userAttrib'+'utes']&&(_0x2f4543['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x23eea5['userAttrib'+'utes']['entries']())),_0x2f4543['litOptions']['shaderChun'+'ks']=_0x23eea5['shaderChun'+'ks'],_0x2f4543['litOptions']['pass']=_0x179651,_0x2f4543['litOptions']['alphaTest']=_0x23eea5['alphaTest']>0x4b5*-0x3+0x6*-0x42c+0xd*0x303,_0x2f4543['litOptions']['blendType']=_0x23eea5['blendType'],_0x2f4543['litOptions']['screenSpac'+'e']=_0x23758a&&(_0x23758a&Eh)!==-0x26f9+-0x9*0x13e+0x3227,_0x2f4543['litOptions']['skin']=_0x23758a&&(_0x23758a&nl)!==-0x15fe+-0x3*0x2ea+0x1ebc,_0x2f4543['litOptions']['batch']=_0x23758a&&(_0x23758a&qc)!==0x6cd*0x3+-0x2124+0xcbd,_0x2f4543['litOptions']['useInstanc'+'ing']=_0x23758a&&(_0x23758a&ol)!==0x67*-0xb+0x237e*0x1+-0x1f11,_0x2f4543['litOptions']['useMorphPo'+'sition']=_0x23758a&&(_0x23758a&ll)!==-0x26b0+0x1*-0x143b+0x3aeb,_0x2f4543['litOptions']['useMorphNo'+'rmal']=_0x23758a&&(_0x23758a&cl)!==0x4e*0x33+0x1*-0x1cb1+0xd27*0x1,_0x2f4543['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x23758a&&(_0x23758a&hl)!==-0x15d*-0x1+-0x3*-0xced+-0x4*0xa09,_0x2f4543['litOptions']['nineSliced'+'Mode']=_0x23eea5['nineSliced'+'Mode']||0x7*0x467+-0x19fe+-0xd*0x5f,_0x15a982['clusteredL'+'ightingEna'+'bled']&&_0x23eea5['useLightin'+'g']?(_0x2f4543['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1c4e+-0x56*0xa+-0x7*-0x486),_0x2f4543['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x15a982['lighting']['cookiesEna'+'bled'],_0x2f4543['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x15a982['lighting']['shadowsEna'+'bled'],_0x2f4543['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x15a982['lighting']['shadowType'],_0x2f4543['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x15a982['lighting']['areaLights'+'Enabled']):(_0x2f4543['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x20c3*-0x1+-0x4a2+-0x5*0x5a0),_0x2f4543['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x41f*0x8+-0x95d+-0x179a),_0x2f4543['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x5*-0x717+-0x24f5+0x4869),_0x2f4543['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1b67*-0x1+-0x1428+0x2f90));}['_updateUVO'+'ptions'](_0x37d6e8,_0xff1520,_0x54bb95,_0x53aa00,_0x11427d){let _0x13fdc7=!(-0x1350+0x23d5+-0x1084),_0x2a6e16=!(-0x1*0x1cae+0x1*-0x166d+-0x331c*-0x1),_0x3860a6=!(-0x27*-0x43+-0x8f8+-0x1*0x13c);_0x54bb95&&(_0x13fdc7=(_0x54bb95&nm)!==0x24a3+0x14d9+0x1cbe*-0x2,_0x2a6e16=(_0x54bb95&dv)!==-0x3*0x69b+0x835+-0xb9c*-0x1,_0x3860a6=(_0x54bb95&fv)!==0x5*-0x731+0x2491+-0x9c),_0x37d6e8['litOptions']['vertexColo'+'rs']=!(-0x7d2+0x2432+-0x1c5f),this['_mapXForms']=[];const _0x139f4e={};for(const _0x796937 in bn)this['_updateTex'+'Options'](_0x37d6e8,_0xff1520,_0x796937,_0x13fdc7,_0x2a6e16,_0x3860a6,_0x53aa00,_0x139f4e);this['_mapXForms']=null,_0x37d6e8['litOptions']['ssao']=_0x11427d==null?void(-0x231c+0x1874+0xaa8):_0x11427d['ssaoEnable'+'d'],_0x37d6e8['useAO']=_0x37d6e8['litOptions']['ssao'],_0x37d6e8['litOptions']['lightMapEn'+'abled']=_0x37d6e8['lightMap'],_0x37d6e8['litOptions']['dirLightMa'+'pEnabled']=_0x37d6e8['dirLightMa'+'p'],_0x37d6e8['litOptions']['useHeights']=_0x37d6e8['heightMap'],_0x37d6e8['litOptions']['useNormals']=_0x37d6e8['normalMap'],_0x37d6e8['litOptions']['useClearCo'+'atNormals']=_0x37d6e8['clearCoatN'+'ormalMap'],_0x37d6e8['litOptions']['useAo']=_0x37d6e8['aoMap']||_0x37d6e8['aoVertexCo'+'lor']||_0x37d6e8['litOptions']['ssao'],_0x37d6e8['litOptions']['diffuseMap'+'Enabled']=_0x37d6e8['diffuseMap'];}['_updateTex'+'Options'](_0x17d218,_0x330651,_0x3c3ec1,_0x53ba00,_0xaebeb6,_0x5766bd,_0x282528,_0x2ad0af){const _0x2cb416=_0x3c3ec1==='opacity';if(!_0x282528||_0x2cb416){const _0x444375=_0x3c3ec1+'Map',_0x2e8bce=_0x3c3ec1+('VertexColo'+'r'),_0x2b9304=_0x3c3ec1+('VertexColo'+'rChannel'),_0x2c1e26=_0x444375+'Channel',_0x2d5176=_0x444375+'Transform',_0x3e65dd=_0x444375+'Uv',_0x3a9c33=_0x444375+'Identifier';if(_0x3c3ec1!=='light'&&(_0x17d218[_0x444375]=!(0x6bf*0x2+0x5f4*-0x5+0x1*0x1047),_0x17d218[_0x3a9c33]=void(0x1346*0x1+-0xb*0x261+0x1*0x6e5),_0x17d218[_0x2c1e26]='',_0x17d218[_0x2d5176]=-0x10*-0x1de+-0x1*-0x1684+-0x3464,_0x17d218[_0x3e65dd]=-0x627*-0x3+0x1*-0x4df+-0x25*0x5e),_0x17d218[_0x2e8bce]=!(0x214+-0x7*0x30d+-0x9a4*-0x2),_0x17d218[_0x2b9304]='',_0x2cb416&&_0x330651['blendType']===Cs&&_0x330651['alphaTest']===-0xe00+0x2*0x135b+0xc5b*-0x2&&!_0x330651['alphaToCov'+'erage']&&_0x330651['opacityDit'+'her']===Sa)return;if(_0x3c3ec1!=='height'&&_0x330651[_0x2e8bce]&&_0x5766bd&&(_0x17d218[_0x2e8bce]=_0x330651[_0x2e8bce],_0x17d218[_0x2b9304]=_0x330651[_0x2b9304],_0x17d218['litOptions']['vertexColo'+'rs']=!(0x26ea+-0x21a0+-0x1*0x54a)),_0x330651[_0x444375]){let _0x581918=!(-0x1*0x12a9+0x2453*0x1+-0x11aa);if(_0x330651[_0x3e65dd]===0xb5*0xd+-0x15bc+0xc8b&&!_0x53ba00&&(_0x581918=!(0x9c*-0x1a+-0x163c+0x1*0x2615)),_0x330651[_0x3e65dd]===-0x3*0x309+-0x1f*-0x139+-0x1ccb*0x1&&!_0xaebeb6&&(_0x581918=!(0x21c0+-0x2b*-0x66+-0x32e1)),_0x581918){const _0x51b819=_0x330651[_0x444375]['id'];let _0x514206=_0x2ad0af[_0x51b819];_0x514206===void(-0x1c86+-0x17d1+0x3457*0x1)&&(_0x2ad0af[_0x51b819]=_0x3c3ec1,_0x514206=_0x3c3ec1),_0x17d218[_0x444375]=!!_0x330651[_0x444375],_0x17d218[_0x3a9c33]=_0x514206,_0x17d218[_0x2d5176]=this['_getMapTra'+'nsformID'](_0x330651['getUniform'](_0x2d5176),_0x330651[_0x3e65dd]),_0x17d218[_0x2c1e26]=_0x330651[_0x2c1e26],_0x17d218[_0x3e65dd]=_0x330651[_0x3e65dd];}}}}['_updateMin'+'Options'](_0x30b10d,_0xcbd396,_0x4134be){const _0x2bff25=_0x4134be===Rl;_0x30b10d['litOptions']['opacitySha'+'dowDither']=_0x2bff25?_0xcbd396['opacityDit'+'her']:_0xcbd396['opacitySha'+'dowDither'],_0x30b10d['litOptions']['linearDept'+'h']=_0x2bff25,_0x30b10d['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x314451,_0x381beb,_0x1b2cf3){var _0x183df7,_0x540abf,_0x2803cb,_0xbf729d,_0x57d1ea,_0x17f17a;const _0x1069bc=!!(_0x381beb['useMetalne'+'ss']||_0x381beb['specularMa'+'p']||_0x381beb['sphereMap']||_0x381beb['cubeMap']||mb(_0x381beb['specular'])||_0x381beb['specularit'+'yFactor']>-0xd*-0x166+-0x4b2+-0xd7c*0x1&&_0x381beb['useMetalne'+'ss']||_0x381beb['enableGGXS'+'pecular']||_0x381beb['clearCoat']>-0x24b8+0x1*-0xbdf+0x3097),_0x5bed7f=!_0x381beb['useMetalne'+'ss']||_0x381beb['useMetalne'+'ssSpecular'+'Color'],_0x2c5289=_0x1069bc&&(_0x381beb['specularTi'+'nt']||!_0x381beb['specularMa'+'p']&&!_0x381beb['specularVe'+'rtexColor'])&&pb(_0x381beb['specular']),_0x2c4d3b=_0x1069bc&&_0x381beb['useMetalne'+'ssSpecular'+'Color']&&(_0x381beb['specularit'+'yFactorTin'+'t']||_0x381beb['specularit'+'yFactor']<-0xb*-0x289+-0x25bf*-0x1+-0x41a1&&!_0x381beb['specularit'+'yFactorMap']),_0x580125=_0x1b0548=>_0x1b0548?_0x1b0548['format']===vl||_0x1b0548['type']===Jo:!(0x2135+0x2439+-0x456d),_0x46d2af=(_0xcc0c26,_0x417845)=>Math['abs'](_0xcc0c26-_0x417845)<-0x32c*-0x7+0x1e1d*0x1+-0x3451+0.0001;_0x314451['specularTi'+'nt']=_0x2c5289,_0x314451['specularit'+'yFactorTin'+'t']=_0x2c4d3b,_0x314451['metalnessT'+'int']=_0x381beb['useMetalne'+'ss']&&_0x381beb['metalness']<0x1a1*-0x2+-0x2a*-0x4a+-0x8e1,_0x314451['glossTint']=!(0x4f*0x1f+-0x189*-0x2+0x287*-0x5),_0x314451['diffuseEnc'+'oding']=(_0x183df7=_0x381beb['diffuseMap'])==null?void(0xbe6+-0x88+-0xb5e):_0x183df7['encoding'],_0x314451['diffuseDet'+'ailEncodin'+'g']=(_0x540abf=_0x381beb['diffuseDet'+'ailMap'])==null?void(-0x1*-0x86e+-0x2300+-0x26*-0xb3):_0x540abf['encoding'],_0x314451['emissiveEn'+'coding']=(_0x2803cb=_0x381beb['emissiveMa'+'p'])==null?void(0x1b94*0x1+-0x1f5e+0x3ca):_0x2803cb['encoding'],_0x314451['lightMapEn'+'coding']=(_0xbf729d=_0x381beb['lightMap'])==null?void(0xf65+0xca1*-0x1+-0x2c4):_0xbf729d['encoding'],_0x314451['packedNorm'+'al']=_0x580125(_0x381beb['normalMap']),_0x314451['refraction'+'Tint']=_0x46d2af(_0x381beb['refraction'],-0x3*-0x1c+-0x1abe+0x1a6b*0x1),_0x314451['refraction'+'IndexTint']=_0x46d2af(_0x381beb['refraction'+'Index'],(-0x2208+-0x3b+0x2244)/(-0xe41+-0x2fe*0x5+0x1d38+0.5)),_0x314451['thicknessT'+'int']=_0x381beb['useDynamic'+'Refraction']&&_0x381beb['thickness']!==-0x7c8+-0x5*-0x5b3+-0x14b6,_0x314451['specularEn'+'coding']=(_0x57d1ea=_0x381beb['specularMa'+'p'])==null?void(-0x24d3+-0x289+0x275c):_0x57d1ea['encoding'],_0x314451['sheenEncod'+'ing']=(_0x17f17a=_0x381beb['sheenMap'])==null?void(0x1816+0x21b6+-0x39cc):_0x17f17a['encoding'],_0x314451['aoMapUv']=_0x381beb['aoUvSet'],_0x314451['aoDetail']=!!_0x381beb['aoDetailMa'+'p'],_0x314451['diffuseDet'+'ail']=!!_0x381beb['diffuseDet'+'ailMap'],_0x314451['normalDeta'+'il']=!!_0x381beb['normalMap'],_0x314451['normalDeta'+'ilPackedNo'+'rmal']=_0x580125(_0x381beb['normalDeta'+'ilMap']),_0x314451['diffuseDet'+'ailMode']=_0x381beb['diffuseDet'+'ailMode'],_0x314451['aoDetailMo'+'de']=_0x381beb['aoDetailMo'+'de'],_0x314451['clearCoatG'+'loss']=!!_0x381beb['clearCoatG'+'loss'],_0x314451['clearCoatP'+'ackedNorma'+'l']=_0x580125(_0x381beb['clearCoatN'+'ormalMap']),_0x314451['iorTint']=_0x46d2af(_0x381beb['refraction'+'Index'],(-0x2036+0x24c+0x1deb)/(0x2*0xe3+-0x249*-0x3+-0x3*0x2e0+0.5)),_0x1b2cf3['forcePassT'+'hroughSpec'+'ular']&&(_0x314451['specularEn'+'coding']='linear',_0x314451['sheenEncod'+'ing']='linear'),_0x314451['iridescenc'+'eTint']=_0x381beb['iridescenc'+'e']!==0xf7d+0x185*-0x13+0x1*0xd63,_0x314451['glossInver'+'t']=_0x381beb['glossInver'+'t'],_0x314451['sheenGloss'+'Invert']=_0x381beb['sheenGloss'+'Invert'],_0x314451['clearCoatG'+'lossInvert']=_0x381beb['clearCoatG'+'lossInvert'],_0x314451['useSpecula'+'rColor']=_0x5bed7f,_0x314451['litOptions']['separateAm'+'bient']=!(0x7d9+0x641*-0x4+0x112c),_0x314451['litOptions']['pixelSnap']=_0x381beb['pixelSnap'],_0x314451['litOptions']['ambientSH']=!!_0x381beb['ambientSH'],_0x314451['litOptions']['twoSidedLi'+'ghting']=_0x381beb['twoSidedLi'+'ghting'],_0x314451['litOptions']['occludeSpe'+'cular']=_0x381beb['occludeSpe'+'cular'],_0x314451['litOptions']['occludeSpe'+'cularFloat']=_0x381beb['occludeSpe'+'cularInten'+'sity']!==0x246c+0x50b+-0x2976,_0x314451['litOptions']['useMsdf']=!!_0x381beb['msdfMap'],_0x314451['litOptions']['msdfTextAt'+'tribute']=!!_0x381beb['msdfTextAt'+'tribute'],_0x314451['litOptions']['alphaToCov'+'erage']=_0x381beb['alphaToCov'+'erage'],_0x314451['litOptions']['opacityFad'+'esSpecular']=_0x381beb['opacityFad'+'esSpecular'],_0x314451['litOptions']['opacityDit'+'her']=_0x381beb['opacityDit'+'her'],_0x314451['litOptions']['cubeMapPro'+'jection']=_0x381beb['cubeMapPro'+'jection'],_0x314451['litOptions']['occludeDir'+'ect']=_0x381beb['occludeDir'+'ect'],_0x314451['litOptions']['useSpecula'+'r']=_0x1069bc,_0x314451['litOptions']['useSpecula'+'rityFactor']=(_0x2c4d3b||!!_0x381beb['specularit'+'yFactorMap'])&&_0x381beb['useMetalne'+'ssSpecular'+'Color'],_0x314451['litOptions']['enableGGXS'+'pecular']=_0x381beb['enableGGXS'+'pecular'],_0x314451['litOptions']['fresnelMod'+'el']=_0x381beb['fresnelMod'+'el'],_0x314451['litOptions']['useRefract'+'ion']=(_0x381beb['refraction']||!!_0x381beb['refraction'+'Map'])&&(_0x381beb['useDynamic'+'Refraction']||_0x314451['litOptions']['reflection'+'Source']!==vr),_0x314451['litOptions']['useClearCo'+'at']=!!_0x381beb['clearCoat'],_0x314451['litOptions']['useSheen']=_0x381beb['useSheen'],_0x314451['litOptions']['useIridesc'+'ence']=_0x381beb['useIridesc'+'ence']&&_0x381beb['iridescenc'+'e']!==0xaf1+0x1*0xb7e+-0x166f*0x1,_0x314451['litOptions']['useMetalne'+'ss']=_0x381beb['useMetalne'+'ss'],_0x314451['litOptions']['useDynamic'+'Refraction']=_0x381beb['useDynamic'+'Refraction'],_0x314451['litOptions']['dispersion']=_0x381beb['dispersion']>-0xa3c+0x1ce7+-0x12ab,_0x314451['litOptions']['shadowCatc'+'her']=_0x381beb['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x5dd09b,_0x1b3118,_0x294627,_0x2c99ea){_0x5dd09b['litOptions']['fog']=_0x1b3118['useFog']?_0x2c99ea['fog']:Kn,_0x5dd09b['litOptions']['gamma']=_0x2c99ea['shaderOutp'+'utGamma'],_0x5dd09b['litOptions']['toneMap']=_0x1b3118['useTonemap']?_0x2c99ea['toneMappin'+'g']:nv;let _0x449573=!(0x18*-0x79+0x1fe6+-0x148d);if(_0x1b3118['envAtlas']&&_0x1b3118['cubeMap']?(_0x5dd09b['litOptions']['reflection'+'Source']=xh,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x1b3118['envAtlas']['encoding'],_0x5dd09b['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1b3118['cubeMap']['encoding']):_0x1b3118['envAtlas']?(_0x5dd09b['litOptions']['reflection'+'Source']=vh,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x1b3118['envAtlas']['encoding']):_0x1b3118['cubeMap']?(_0x5dd09b['litOptions']['reflection'+'Source']=Th,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x1b3118['cubeMap']['encoding']):_0x1b3118['sphereMap']?(_0x5dd09b['litOptions']['reflection'+'Source']=hv,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x1b3118['sphereMap']['encoding']):_0x1b3118['useSkybox']&&_0x294627['envAtlas']&&_0x294627['skybox']?(_0x5dd09b['litOptions']['reflection'+'Source']=xh,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x294627['envAtlas']['encoding'],_0x5dd09b['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x294627['skybox']['encoding'],_0x449573=!(-0xcb*-0x11+-0x313+0x4*-0x29a)):_0x1b3118['useSkybox']&&_0x294627['envAtlas']?(_0x5dd09b['litOptions']['reflection'+'Source']=vh,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x294627['envAtlas']['encoding'],_0x449573=!(0x1dec+-0x9b4+-0x1438)):_0x1b3118['useSkybox']&&_0x294627['skybox']?(_0x5dd09b['litOptions']['reflection'+'Source']=Th,_0x5dd09b['litOptions']['reflection'+'Encoding']=_0x294627['skybox']['encoding'],_0x449573=!(0x2287+-0x3*-0x487+0x301c*-0x1)):(_0x5dd09b['litOptions']['reflection'+'Source']=vr,_0x5dd09b['litOptions']['reflection'+'Encoding']=null),_0x1b3118['ambientSH'])_0x5dd09b['litOptions']['ambientSou'+'rce']=im,_0x5dd09b['litOptions']['ambientEnc'+'oding']=null;else{const _0x1da153=_0x1b3118['envAtlas']||(_0x1b3118['useSkybox']&&_0x294627['envAtlas']?_0x294627['envAtlas']:null);_0x1da153&&!_0x1b3118['sphereMap']?(_0x5dd09b['litOptions']['ambientSou'+'rce']=rm,_0x5dd09b['litOptions']['ambientEnc'+'oding']=_0x1da153['encoding']):(_0x5dd09b['litOptions']['ambientSou'+'rce']=am,_0x5dd09b['litOptions']['ambientEnc'+'oding']=null);}_0x5dd09b['litOptions']['skyboxInte'+'nsity']=_0x449573,_0x5dd09b['litOptions']['useCubeMap'+'Rotation']=_0x449573&&_0x294627['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x254da2,_0x50cbde,_0x1ab7b0,_0x309865,_0x5b605c){if(_0x254da2['lightMap']=!(-0x2e4+0xb*0x133+-0x4*0x293),_0x254da2['lightMapCh'+'annel']='',_0x254da2['lightMapUv']=-0x2683+-0x21ae+0x4831,_0x254da2['lightMapTr'+'ansform']=0x4*-0x73b+0x904+0x13e8,_0x254da2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*0x13c6+-0x3ce+0x1795),_0x254da2['dirLightMa'+'p']=!(0x17b8+-0xe*-0x260+0x12fd*-0x3),_0x309865&&(_0x254da2['litOptions']['noShadow']=(_0x309865&wh)!==-0x1*-0xfbc+0x16db*-0x1+0x71f*0x1,(_0x309865&ou)!==-0x651+0x1214+-0xbc3&&(_0x254da2['lightMapEn'+'coding']=_0x50cbde['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x254da2['lightMap']=!(0x23ea+-0x1b29+-0x8c1),_0x254da2['lightMapCh'+'annel']='rgb',_0x254da2['lightMapUv']=-0x27*-0xfb+-0x2f5*-0x3+-0x2f1b,_0x254da2['lightMapTr'+'ansform']=0x1fb4+-0x1a*0xf0+-0x754,_0x254da2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1ab7b0['lightMap'],(_0x309865&uv)!==0x1d08+0x191e+0x1b13*-0x2&&(_0x254da2['dirLightMa'+'p']=!(0x107*-0x17+-0x1*0x653+0x1df4)),(_0x309865&pv)!==-0x23eb+-0x60e*-0x6+-0x69&&(_0x254da2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xa6f+-0x2*0x164+0xd38)))),_0x1ab7b0['useLightin'+'g']){const _0x5360e8=[],_0x4fb541=_0x309865?_0x309865>>0x4e+0x73d+-0x77b:Ss;_0x254da2['litOptions']['lightMaskD'+'ynamic']=!!(_0x4fb541&Ss),_0x5b605c&&(Ws['collectLig'+'hts'](ve,_0x5b605c[ve],_0x5360e8,_0x4fb541),_0x50cbde['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x5b605c[Ke],_0x5360e8,_0x4fb541),Ws['collectLig'+'hts'](Ze,_0x5b605c[Ze],_0x5360e8,_0x4fb541))),_0x254da2['litOptions']['lights']=_0x5360e8;}else _0x254da2['litOptions']['lights']=[];_0x254da2['litOptions']['lights']['length']===-0xd5a+0x49e*-0x6+-0x5*-0x836&&!_0x50cbde['clusteredL'+'ightingEna'+'bled']&&(_0x254da2['litOptions']['noShadow']=!(0x1da3+0x1*0x1d87+0x1*-0x3b2a));}['_getMapTra'+'nsformID'](_0x54c76b,_0x527c5c){if(!_0x54c76b)return 0x2485+-0x139*0x2+-0xd*0x29f;let _0xbc9a6f=this['_mapXForms'][_0x527c5c];_0xbc9a6f||(_0xbc9a6f=[],this['_mapXForms'][_0x527c5c]=_0xbc9a6f);for(let _0x4135af=0x17b+-0x10d*0xe+-0x3*-0x469;_0x4135af<_0xbc9a6f['length'];_0x4135af++)if(G_(_0xbc9a6f[_0x4135af][-0x1b94*0x1+0x5*0x5dd+-0x1bd]['value'],_0x54c76b[-0x4*-0xcd+0x483*-0x4+0xed8]['value'])&&G_(_0xbc9a6f[_0x4135af][-0x1752+0x153+0x1600]['value'],_0x54c76b[0x158e+-0x20c*-0x4+-0x1dbd]['value']))return _0x4135af+(0x2cf*-0x1+0x198*0x17+0x39*-0x98);return _0xbc9a6f['push'](_0x54c76b);}}function rt(_0x3f3dd4,_0x20da25=!(-0xbd5*0x3+0x3f7+-0x2*-0xfc4),_0x572d8a=!(0x3c7+-0x2383*0x1+0x1fbc)){const _0x11b544={};return _0x11b544[_0x3f3dd4+'Map']='texture',_0x11b544[_0x3f3dd4+'MapTiling']='vec2',_0x11b544[_0x3f3dd4+'MapOffset']='vec2',_0x11b544[_0x3f3dd4+('MapRotatio'+'n')]='number',_0x11b544[_0x3f3dd4+'MapUv']='number',_0x20da25&&(_0x11b544[_0x3f3dd4+'MapChannel']='string',_0x572d8a&&(_0x11b544[_0x3f3dd4+('VertexColo'+'r')]='boolean',_0x11b544[_0x3f3dd4+('VertexColo'+'rChannel')]='string')),_0x11b544;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x7c8+0x1262+-0x1a2a),!(-0x5fe+0x620+-0x1*0x21)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x836*0x2+0x6b*-0x3b+-0x2915*-0x1),!(0x529*-0x5+-0x731*0x3+-0x3*-0xfcb)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x1*0x131f+0x10c1+-0x1*-0x25f)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x3*-0xa03+0x18*-0xf+-0x1ca0)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x1*0xe2f+0x208e+-0x2ebc)),'normalDetailMapBumpiness':'number',...rt('height',!(0x408+-0x4a3+0x1f*0x5),!(0xcc9+0x3fd*0x5+-0x20b9)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x1b3131=>{this['_'+_0x1b3131]=Kc[_0x1b3131]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x306f45){return super['copy'](_0x306f45),Object['keys'](Kc)['forEach'](_0x610887=>{this[_0x610887]=_0x306f45[_0x610887];}),this['userAttrib'+'utes']=new Map(_0x306f45['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x3f9228,_0x332942){this['userAttrib'+'utes']['set'](_0x332942,_0x3f9228);}['_setParame'+'ter'](_0x1981eb,_0x12e127){no['add'](_0x1981eb),this['setParamet'+'er'](_0x1981eb,_0x12e127);}['_setParame'+'ters'](_0x3d315c){_0x3d315c['forEach'](_0x3335d5=>{this['_setParame'+'ter'](_0x3335d5['name'],_0x3335d5['value']);});}['_processPa'+'rameters'](_0x84ef95){const _0x38bf57=this[_0x84ef95];_0x38bf57['forEach'](_0x1450ee=>{no['has'](_0x1450ee)||delete this['parameters'][_0x1450ee];}),this[_0x84ef95]=no,no=_0x38bf57,no['clear']();}['_updateMap'](_0xcf885a){const _0x1878af=_0xcf885a+'Map',_0x5d1609=this[_0x1878af];if(_0x5d1609){this['_setParame'+'ter']('texture_'+_0x1878af,_0x5d1609);const _0x175ed1=_0x1878af+'Transform',_0x2f0970=this['getUniform'](_0x175ed1);_0x2f0970&&this['_setParame'+'ters'](_0x2f0970);}}['_allocUnif'+'orm'](_0x98953b,_0x55771e){let _0x224c5f=this['_uniformCa'+'che'][_0x98953b];return _0x224c5f||(_0x224c5f=_0x55771e(),this['_uniformCa'+'che'][_0x98953b]=_0x224c5f),_0x224c5f;}['getUniform'](_0x1207ac,_0x863d4a,_0x2d8c66){return bv[_0x1207ac](this,_0x863d4a,_0x2d8c66);}['updateUnif'+'orms'](_0x20756b,_0x247f18){const _0x242a31=_0x21bd87=>this['getUniform'](_0x21bd87,_0x20756b,_0x247f18);this['_setParame'+'ter']('material_a'+'mbient',_0x242a31('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x242a31('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1*-0x2190+-0xe89+-0x1306)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x242a31('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x242a31('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x242a31('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0xaf7+-0x1aca+0xfd3&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x86b+0x19bd*0x1+0x2*-0x1114&&this['emissive']['g']===0x2124+-0x9a3*-0x1+0x1*-0x2ac7&&this['emissive']['b']===0x1d1*0x5+0x3d*-0x15+-0x414&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x242a31('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x1695*0x1+0x26e4+-0x104f&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1f6a*0x1+0x7b5+-0x1*0x271f&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x242a31('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x1768+0x23c7+-0x3b2f?-0x6f2*0x5+-0xb3*-0x27+0x17*0x53:(0x15ac+0x3e*0x2+-0x1627)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0xb*-0x23b+-0x55*-0x3d+0x2cc9*-0x1)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x242a31('cubeMapPro'+'jectionBox'));for(const _0x49e104 in bn)this['_updateMap'](_0x49e104);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x242a31('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x20756b,_0x247f18);}['updateEnvU'+'niforms'](_0x1bbbe3,_0x596f34){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x596f34['envAtlas']&&_0x596f34['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x596f34['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x596f34['skybox'])):_0x596f34['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x596f34['envAtlas']):_0x596f34['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x596f34['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x2dfbfd){const {device:_0x12df41,scene:_0x495774,pass:_0x564688,objDefs:_0x22a60e,sortedLights:_0x4cadd5,cameraShaderParams:_0x3c6687}=_0x2dfbfd;this['updateEnvU'+'niforms'](_0x12df41,_0x495774);const _0x207e11=Si['get'](_0x12df41)['getByIndex'](_0x564688),_0x3d5af6=_0x564688===Zn||_0x564688===Rl||_0x207e11['isShadow'];let _0x3494d0=_0x3d5af6?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x3494d0['defines']=$t['getCoreDef'+'ines'](this,_0x2dfbfd),_0x3d5af6?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x3494d0,_0x495774,this,_0x22a60e,_0x564688,_0x4cadd5):this['shaderOptB'+'uilder']['updateRef'](_0x3494d0,_0x495774,_0x3c6687,this,_0x22a60e,_0x564688,_0x4cadd5),this['useFog']||_0x3494d0['defines']['set']('FOG','NONE'),_0x3494d0['defines']['set']('TONEMAP',ov[_0x3494d0['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x3494d0=this['onUpdateSh'+'ader'](_0x3494d0));const _0x4a56a0=new Ad(_0x2dfbfd['viewUnifor'+'mFormat'],_0x2dfbfd['viewBindGr'+'oupFormat'],_0x2dfbfd['vertexForm'+'at']),_0x2a26b6=Hn(_0x12df41);_0x2a26b6['register']('standard',Jd);const _0x921920=_0x2a26b6['getProgram']('standard',_0x3494d0,_0x4a56a0,this['userId']);return this['_dirtyShad'+'er']=!(0xd65+0x1f29*0x1+-0x1*0x2c8d),_0x921920;}['destroy'](){for(const _0x2aa853 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x2aa853]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0xc16220,_0x233086)=>{bv[_0xc16220]=_0x233086;},um=(_0x36b5cd,_0x12d99b,_0x3d9a57,_0x4cb5ea)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x36b5cd,{'get':_0x4cb5ea||function(){return this['_'+_0x36b5cd];},'set':_0x3d9a57}),Kc[_0x36b5cd]={'value':_0x12d99b};},Sb=_0x4afa1f=>{const _0x4899ac='_'+_0x4afa1f['name'],_0x2b3982=_0x4afa1f['dirtyShade'+'rFunc']||(()=>!(-0x1529*0x1+0x13e3*-0x1+0x290c*0x1)),_0x28b6ee=function(_0x4bb029){const _0x581ab4=this[_0x4899ac];_0x581ab4!==_0x4bb029&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2b3982(_0x581ab4,_0x4bb029),this[_0x4899ac]=_0x4bb029);};um(_0x4afa1f['name'],()=>_0x4afa1f['defaultVal'+'ue'],_0x28b6ee,_0x4afa1f['getterFunc']);},yb=_0x95fab8=>{const _0x3ddbe0='_'+_0x95fab8['name'],_0x82e739=_0x95fab8['dirtyShade'+'rFunc']||(()=>!(0x1*-0x22bd+0x1637+-0x1ca*-0x7)),_0x479111=function(_0xbd47f4){const _0x5bb7db=this[_0x3ddbe0];_0x5bb7db['equals'](_0xbd47f4)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x82e739(_0x5bb7db,_0xbd47f4),this[_0x3ddbe0]=_0x5bb7db['copy'](_0xbd47f4));};um(_0x95fab8['name'],()=>_0x95fab8['defaultVal'+'ue']['clone'](),_0x479111,_0x95fab8['getterFunc']);},Es=_0x32325e=>_0x32325e['defaultVal'+'ue']&&_0x32325e['defaultVal'+'ue']['clone']?yb(_0x32325e):Sb(_0x32325e);function et(_0x51dcd8,_0x42e78e='rgb',_0x27594d=!(-0x162e*0x1+0xd41+0x8ed),_0x8e7a94=-0x1e54+-0x2*-0x7ea+0x40*0x3a){bn[_0x51dcd8]=_0x42e78e['length']||-(-0x2*-0xd13+0x38*-0x5c+-0x605),Es({'name':_0x51dcd8+'Map','defaultValue':null,'dirtyShaderFunc':(_0x3a917a,_0x1cc11f)=>!!_0x3a917a!=!!_0x1cc11f||_0x3a917a&&(_0x3a917a['type']!==_0x1cc11f['type']||_0x3a917a['format']!==_0x1cc11f['format'])}),Es({'name':_0x51dcd8+'MapTiling','defaultValue':new J(-0xb5*-0x7+0x6*0x3f5+-0x1cb0,-0xfd4+0x3*0x4f2+0xff)}),Es({'name':_0x51dcd8+'MapOffset','defaultValue':new J(-0x2635+0x641+0x1ff4,-0x3ca+-0x39*0x5+0x4e7)}),Es({'name':_0x51dcd8+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x51dcd8+'MapUv','defaultValue':_0x8e7a94}),_0x42e78e&&(Es({'name':_0x51dcd8+'MapChannel','defaultValue':_0x42e78e}),_0x27594d&&(Es({'name':_0x51dcd8+('VertexColo'+'r'),'defaultValue':!(0x999+0x1*-0x16a7+0xd0f*0x1)}),Es({'name':_0x51dcd8+('VertexColo'+'rChannel'),'defaultValue':_0x42e78e})));const _0x11bf29=_0x51dcd8+'MapTiling',_0x2e420d=_0x51dcd8+'MapOffset',_0x13c15e=_0x51dcd8+('MapRotatio'+'n'),_0xe261a4=_0x51dcd8+('MapTransfo'+'rm');Pd(_0xe261a4,(_0x3b7f7f,_0x341aca,_0x2030eb)=>{const _0xb638a=_0x3b7f7f[_0x11bf29],_0x114293=_0x3b7f7f[_0x2e420d],_0x58d3aa=_0x3b7f7f[_0x13c15e];if(_0xb638a['x']===0x66*-0x20+-0x1*-0x1864+-0xba3&&_0xb638a['y']===-0x1d21+0x5a6*0x2+0x5f2*0x3&&_0x114293['x']===-0x1f35+-0x1983+0x38b8&&_0x114293['y']===0x7a*-0x2+-0x10b+-0x49*-0x7&&_0x58d3aa===0x15bd+0x1469+-0x33e*0xd)return null;const _0x45f4ba=_0x3b7f7f['_allocUnif'+'orm'](_0xe261a4,()=>[{'name':'texture_'+_0xe261a4+'0','value':new Float32Array(0x3*-0x6ec+0x1*-0x572+0x1a39)},{'name':'texture_'+_0xe261a4+'1','value':new Float32Array(0x4b6+-0x228c+0x1dd9)}]),_0x495ed2=Math['cos'](_0x58d3aa*Y['DEG_TO_RAD']),_0x2a23ab=Math['sin'](_0x58d3aa*Y['DEG_TO_RAD']),_0x1adef1=_0x45f4ba[-0xe1*0x9+-0x99*0x33+0x3*0xccc]['value'];_0x1adef1[0xe*-0x44+-0x5f*0x21+0xff7]=_0x495ed2*_0xb638a['x'],_0x1adef1[0x72e+-0x3*-0x31a+-0x107b]=-_0x2a23ab*_0xb638a['y'],_0x1adef1[-0x1478*-0x1+0xcd2+-0x163*0x18]=_0x114293['x'];const _0x12febc=_0x45f4ba[-0x236c+-0x39*0x79+-0x3e5e*-0x1]['value'];return _0x12febc[-0x2c5*0xd+0x9*0x102+0x1aef]=_0x2a23ab*_0xb638a['x'],_0x12febc[-0x1506*0x1+0x1*0x4d7+0x1030]=_0x495ed2*_0xb638a['y'],_0x12febc[-0x8e7*0x4+0xee+-0x1e*-0x128]=-0x3c7*0x7+-0x1b0e+0x6b*0x80-_0xb638a['y']-_0x114293['y'],_0x45f4ba;});}function Ra(_0x17c89a,_0x494428){Es({'name':_0x17c89a,'defaultValue':_0x494428,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x1b3*0x11+-0x4*-0x247+0x47*-0x89),this['_'+_0x17c89a];}}),Pd(_0x17c89a,(_0x4ca553,_0x5cf8b2,_0x4d9628)=>{const _0x1e4a97=_0x4ca553['_allocUnif'+'orm'](_0x17c89a,()=>new Float32Array(0x1490+-0x2*0x7c3+0x27*-0x21)),_0x8fa6f7=_0x4ca553[_0x17c89a];return oc['linear'](_0x8fa6f7),_0x1e4a97[-0x19c6*-0x1+0x2*0x14b+-0x1c5c]=oc['r'],_0x1e4a97[0xe*0x199+0x1*0x16d7+0x169a*-0x2]=oc['g'],_0x1e4a97[-0x106b+-0x1a6d+0x2ada]=oc['b'],_0x1e4a97;});}function ze(_0x4992c8,_0x294ea8,_0x183bd6){Es({'name':_0x4992c8,'defaultValue':_0x294ea8,'dirtyShaderFunc':(_0x443b72,_0x202fe9)=>(_0x443b72===0x4*0x4+0x137f+0x1*-0x138f||_0x443b72===-0x4b1*0x5+-0x3bd*-0x3+0x37*0x39)!=(_0x202fe9===-0x2636+-0x1*-0x1791+0xea5||_0x202fe9===0x4f5+-0x3a*0x8b+0x1a8a)}),Pd(_0x4992c8,_0x183bd6);}function oo(_0x571443,_0x55953e){Es({'name':_0x571443,'defaultValue':null,'dirtyShaderFunc':(_0x329477,_0x4abfc4)=>!!_0x329477==!!_0x4abfc4}),Pd(_0x571443,_0x55953e);}function ke(_0x29a5bd,_0xed37be){Es({'name':_0x29a5bd,'defaultValue':_0xed37be});}function vb(){Ra('ambient',new ie(-0x84+-0x1af*-0x1+-0x95*0x2,0x1*0x741+0x14b+-0x88b,-0x176f*0x1+-0x1762+0x2ed2)),Ra('diffuse',new ie(-0x195e+-0x7d*-0xd+-0xa*-0x1e7,0x62f+-0x10f*-0x4+-0xa6a,-0x338+0x7*0x2df+-0x4*0x438)),Ra('specular',new ie(-0xc5*-0x31+0xd52+0x1*-0x3307,-0x5ae+-0x21d*-0x9+-0xd57,-0x1*-0xeb3+0x20b*0xe+-0x1*0x2b4d)),Ra('emissive',new ie(-0x9d+0xcb*-0x7+0x62a,0x2*-0x9d6+-0x5b5+0x1961,0xae0+-0x476*-0x7+-0x2a1a)),Ra('sheen',new ie(-0x24f*0xb+0x7b2+0x11b4,0x1bdb+-0x23cd+0x7f3,-0x1a5*-0x5+0xe5c+-0x1694)),Ra('attenuatio'+'n',new ie(0x19*-0x8c+-0x1*-0x1fdc+-0xf5*0x13,0x1aa8+0x1173+-0x2c1a,0x1b8+0x1a02+0x2f*-0x97)),ze('emissiveIn'+'tensity',0x1*0x18f9+-0x2*0xf43+0x58e),ze('specularit'+'yFactor',0xf3*-0xd+-0xd1c+0x1974),ze('sheenGloss',-0x1*-0x1f91+-0x9*0x40d+0x2*0x272),ze('gloss',0x65*-0x30+0x1372*0x2+-0x13f4+0.25),ze('aoIntensit'+'y',-0x1*0x93b+-0x1*0x133f+-0x17*-0x13d),ze('heightMapF'+'actor',0x5b+0x616+-0x670,(_0x4c1c6e,_0x49a308,_0x15e58d)=>_0x4c1c6e['heightMapF'+'actor']*(0x1556*-0x1+0x1*-0x1c37+-0x5*-0x9e9+0.025)),ze('opacity',-0x1226+-0x1411+0x8*0x4c7),ze('alphaFade',-0x1cba+-0x6d8+0x2393),ze('alphaTest',0x12af+0xb9*-0x33+0x4*0x48b),ze('bumpiness',0x1413+0xb*-0x8f+0x1f*-0x73),ze('normalDeta'+'ilMapBumpi'+'ness',-0x1009*0x1+0x2200+0xf2*-0x13),ze('reflectivi'+'ty',0x5*-0x3d2+-0x56d+0x622*0x4),ze('occludeSpe'+'cularInten'+'sity',0xa7d+-0x250c+-0x4*-0x6a4),ze('refraction',0x10fd+0x1435+-0x633*0x6),ze('refraction'+'Index',(0xab6*0x1+-0x2622+0x1b6d)/(0x128b+-0x1b69+-0x2f5*-0x3+0.5)),ze('dispersion',-0x380+0x18dd+0x155d*-0x1),ze('thickness',0x9af*0x1+-0x4*-0x35b+-0x171b),ze('attenuatio'+'nDistance',0x2499+0x1128*0x1+-0x35c1),ze('metalness',-0x5*0x287+-0x2389*0x1+0x302d),ze('anisotropy'+'Intensity',-0x9fb+-0xc6*-0x16+-0x709),ze('anisotropy'+'Rotation',0xd8c+0x2308+0xc25*-0x4),ze('clearCoat',-0x5f5+-0x228a+-0x287f*-0x1),ze('clearCoatG'+'loss',0x1*-0x2b7+0x1*-0x1065+-0x7*-0x2bb),ze('clearCoatB'+'umpiness',0x4*-0x49+0x16e1+-0x15bc),ze('aoUvSet',-0xd27+-0xc96+0x1*0x19bd,null),ze('iridescenc'+'e',0x11e1+-0x1*-0x2446+-0x3*0x120d),ze('iridescenc'+'eRefractio'+'nIndex',(0x1676+-0x1a44*-0x1+-0x1*0x30b9)/(0xf23+-0x174e+0x416*0x2+0.5)),ze('iridescenc'+'eThickness'+'Min',-0x11b8+0x1daa+0x116*-0xb),ze('iridescenc'+'eThickness'+'Max',-0xa*-0x3b6+-0x3e8+-0x2134),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x4e595f,_0x16679a,_0x57ee88)=>{const _0x592331=_0x4e595f['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1426+0x34e+-0x5*-0x35f)},{'name':'envBoxMax','value':new Float32Array(-0x1346+-0x2*-0x2a1+-0x1b*-0x85)}]),_0x18c96a=_0x4e595f['cubeMapPro'+'jectionBox']['getMin'](),_0xa56213=_0x592331[-0x19d*0x3+-0x2084+0x49*0x83]['value'];_0xa56213[0x1847+0x1204+0x1*-0x2a4b]=_0x18c96a['x'],_0xa56213[0x1b60+-0x4*-0x851+-0x3ca3]=_0x18c96a['y'],_0xa56213[0xc5b+0x730+-0x683*0x3]=_0x18c96a['z'];const _0x3b9a0f=_0x4e595f['cubeMapPro'+'jectionBox']['getMax'](),_0x5e453e=_0x592331[-0x1d5f+0x1928+0x438]['value'];return _0x5e453e[0x196e+-0x5a8*-0x2+0x2*-0x125f]=_0x3b9a0f['x'],_0x5e453e[0x262b+-0x223d+-0x3ed]=_0x3b9a0f['y'],_0x5e453e[0x2469*-0x1+-0x23d0+0x483b]=_0x3b9a0f['z'],_0x592331;}),ke('specularTi'+'nt',!(-0x1362+-0x2535+0x3898)),ke('specularit'+'yFactorTin'+'t',!(0x1*-0x7a0+-0x2*-0x423+-0xa5)),ke('useMetalne'+'ss',!(-0x1567+0x21f+-0x1349*-0x1)),ke('useMetalne'+'ssSpecular'+'Color',!(0xdc3+-0x1d64+0xfa2)),ke('useSheen',!(0x38b*0x7+0x3b*0x9d+-0x3cfb)),ke('enableGGXS'+'pecular',!(-0x1dba+0x6a7+0x34c*0x7)),ke('occludeDir'+'ect',!(0xb57*-0x1+0x160e+0x1*-0xab6)),ke('opacityFad'+'esSpecular',!(-0x1a4e+-0x1*0x84b+-0x2299*-0x1)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0x1*-0x1bb5+0xd6e*0x1+0xe48)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0x26de+0x8*0x1a6+-0xcd7*-0x2)),ke('useLightin'+'g',!(0xe67+-0x157d+0x716)),ke('useTonemap',!(-0x186e+0x2208+-0x99a)),ke('useSkybox',!(0x1*0x14e3+0xab7+-0x652*0x5)),ke('forceUv1',!(0x3a5*-0x3+-0x6fd+0x11ed*0x1)),ke('pixelSnap',!(0xf09+0x20d8+-0x2fe0)),ke('twoSidedLi'+'ghting',!(0x983+0x2*0x35+-0x4f6*0x2)),ke('nineSliced'+'Mode',void(-0x265*0x3+-0x61b*-0x2+0x1ad*-0x3)),ke('msdfTextAt'+'tribute',!(0xcb5*-0x1+0x361*0x2+-0x4*-0x17d)),ke('useIridesc'+'ence',!(-0x5b5+0x1f00+-0xd*0x1f2)),ke('glossInver'+'t',!(0x2b*-0xd1+0x1c1e+0x6fe)),ke('sheenGloss'+'Invert',!(0x2*-0x946+0x13*0x15d+0x1*-0x75a)),ke('clearCoatG'+'lossInvert',!(-0x4d+0x53*0x40+-0x1472)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x2*0x12aa+-0x18ed+-0x4ca*-0xd)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x266+-0xf60+0xcfb)),et('ao','g'),et('light','rgb',!(0x108*0x12+-0x1*0x461+-0xe2f*0x1),0x3*-0x8f+-0x43*-0x6b+-0x1a53),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x21f8+0x251e+-0x325*0x1)),et('normalDeta'+'il',''),et('aoDetail','g',!(0xa40+-0x1dac+0x136d)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x5b1a81=function(){return this['_prefilter'+'edCubemaps'];},_0x8a9330=function(_0x550515){const _0x37987b=this['_prefilter'+'edCubemaps'];_0x550515=_0x550515||[];let _0x1d2380=!(0xef*0x1f+0x164e+-0x333e),_0x33ddb6=!(-0x239e+-0x8b*0x22+0x3614);for(let _0x406527=-0xb5*0x29+-0x1d2*0x11+0x3bef;_0x406527<0xd7d*-0x1+0xfe3+0x4*-0x98;++_0x406527){const _0xa060fb=_0x550515[_0x406527]||null;_0x37987b[_0x406527]!==_0xa060fb&&(_0x37987b[_0x406527]=_0xa060fb,_0x1d2380=!(-0xbb*0xa+0x3*-0xad3+0x27c7)),_0x33ddb6=_0x33ddb6&&!!_0x37987b[_0x406527];}_0x1d2380&&(_0x33ddb6?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x37987b,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x4ef*0x3+-0x20cf*-0x1+-0x1cd*0xa));},_0xa13b7c=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0xa13b7c['slice'](),_0x8a9330,_0x5b1a81);}vb();const Rt=class Rt{static['render'](_0x2defbb,_0xde37e6){const _0x12a60b=_0xde37e6['device'],_0x2321aa=_0x2defbb['cells'],_0x585745=_0x2defbb['lightsBuff'+'er'],_0x73766=_0x585745['boundsMin'],_0x5f0c1e=_0x585745['boundsDelt'+'a'],_0xbfddda=_0x73766['clone']()['add'](_0x5f0c1e),_0x1f9732=_0x585745['boundsDelt'+'a']['clone']()['div'](_0x2321aa),_0x483f6f=Rt['gridPositi'+'ons'],_0x4d2eaa=Rt['gridColors'],_0x126e9c=new ie(0x1760+0xb81+-0x22e1+0.3,-0x2*0xddc+0x1a*0x14e+-0x634+0.3,-0x16*-0xa4+0x5*-0x53c+0xc14+0.3),_0x43f13d=(_0x5295aa,_0xeb8afc,_0x30b33c,_0x12df87,_0x49e8f6,_0x52a535,_0x23fdda,_0x378a15,_0x1d20ef)=>{for(let _0x20ca47=0x1ea3+-0x9f*-0x1a+-0x2ec9;_0x20ca47<=_0x5295aa;_0x20ca47++)for(let _0x2cceae=-0x1c7*0x13+0x1*0x177e+0xa47;_0x2cceae<=_0xeb8afc;_0x2cceae++){const _0x55dc81=_0x30b33c+_0x20ca47*_0x12df87,_0x153739=_0x49e8f6+_0x2cceae*_0x52a535;_0x1d20ef===0xba5+-0x5f*-0x59+-0x2cac?_0x483f6f['push'](_0x55dc81,_0x23fdda,_0x153739,_0x55dc81,_0x378a15,_0x153739):_0x1d20ef===0x10b*-0x3+-0x29d+0x5bf?_0x483f6f['push'](_0x55dc81,_0x153739,_0x23fdda,_0x55dc81,_0x153739,_0x378a15):_0x1d20ef===0x68b+0x1925+-0x1fae&&_0x483f6f['push'](_0x23fdda,_0x55dc81,_0x153739,_0x378a15,_0x55dc81,_0x153739);}};if(_0x43f13d(_0x2321aa['x'],_0x2321aa['z'],_0x73766['x'],_0x1f9732['x'],_0x73766['z'],_0x1f9732['z'],_0x73766['y'],_0xbfddda['y'],0x1*0xca5+0x83*0x1c+-0x1af9),_0x43f13d(_0x2321aa['x'],_0x2321aa['y'],_0x73766['x'],_0x1f9732['x'],_0x73766['y'],_0x1f9732['y'],_0x73766['z'],_0xbfddda['z'],0x253c+0x13ed+-0x3928),_0x43f13d(_0x2321aa['y'],_0x2321aa['z'],_0x73766['y'],_0x1f9732['y'],_0x73766['z'],_0x1f9732['z'],_0x73766['x'],_0xbfddda['x'],0x1*0x7c9+-0x1da5*-0x1+-0x256c*0x1),_0x483f6f['length']){const _0x498866=_0x483f6f['length']/(-0x26c8*0x1+-0x55*-0x5+0x2522);if(_0x498866!==_0x4d2eaa['length']/(-0x7*-0x3c7+0x24f2+-0x3f5f)){_0x4d2eaa['length']=0x1c66+-0x1be*0xc+-0x3bf*0x2;for(let _0x3a9a09=-0x1e68+0x6*-0x229+0x1*0x2b5e;_0x3a9a09<_0x498866;_0x3a9a09++)_0x4d2eaa['push'](_0x126e9c['r'],_0x126e9c['g'],_0x126e9c['b'],_0x126e9c['a']);}_0xde37e6['drawLineAr'+'rays'](_0x483f6f,_0x4d2eaa),_0x483f6f['length']=-0x121c+-0xa55+0x3*0x97b;}let _0x2392c6=Rt['mesh'];_0x2392c6||(_0x2392c6=new Ge(_0x12a60b),_0x2392c6['clear'](!(0x420*0x7+-0x59e*-0x3+-0x2dba),!(-0x439+-0xc09+-0x1*-0x1042)),Rt['mesh']=_0x2392c6);const _0x57096b=[],_0x4e617f=[],_0x34fe78=[],_0x3a24cb=_0x2defbb['_cells']['x'],_0x4f0a62=_0x2defbb['_cells']['z'],_0x10a13c=_0x2defbb['counts'],_0x10f03a=_0x2defbb['_maxCellLi'+'ghtCount'],_0x53e950=new D(),_0x48ccf9=new D(),_0x56e9c9=new D(),_0x52d5d3=_0x5f0c1e['clone']()['div'](_0x2321aa);let _0x4aa83e=0x2015+0x4*0xb5+-0x22e9;for(let _0x13c434=-0x32d*-0x7+-0x1*0x2203+-0x179*-0x8;_0x13c434<_0x2321aa['x'];_0x13c434++)for(let _0x1e84d2=0xde9+0x1a5a*0x1+-0x2843;_0x1e84d2<_0x2321aa['z'];_0x1e84d2++)for(let _0x157d2d=0x1*-0x1803+0x1a26*-0x1+-0x3229*-0x1;_0x157d2d<_0x2321aa['y'];_0x157d2d++){const _0x660de2=_0x13c434+_0x3a24cb*(_0x1e84d2+_0x157d2d*_0x4f0a62),_0x101ea8=_0x10a13c[_0x660de2];if(_0x101ea8>-0x11e8+-0x3*-0x836+0x7*-0xf6){_0x53e950['x']=_0x73766['x']+_0x52d5d3['x']*_0x13c434,_0x53e950['y']=_0x73766['y']+_0x52d5d3['y']*_0x157d2d,_0x53e950['z']=_0x73766['z']+_0x52d5d3['z']*_0x1e84d2,_0x48ccf9['add2'](_0x53e950,_0x52d5d3),_0x57096b['push'](_0x53e950['x'],_0x53e950['y'],_0x48ccf9['z']),_0x57096b['push'](_0x48ccf9['x'],_0x53e950['y'],_0x48ccf9['z']),_0x57096b['push'](_0x48ccf9['x'],_0x48ccf9['y'],_0x48ccf9['z']),_0x57096b['push'](_0x53e950['x'],_0x48ccf9['y'],_0x48ccf9['z']),_0x57096b['push'](_0x48ccf9['x'],_0x53e950['y'],_0x53e950['z']),_0x57096b['push'](_0x53e950['x'],_0x53e950['y'],_0x53e950['z']),_0x57096b['push'](_0x53e950['x'],_0x48ccf9['y'],_0x53e950['z']),_0x57096b['push'](_0x48ccf9['x'],_0x48ccf9['y'],_0x53e950['z']),_0x56e9c9['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x101ea8/_0x10f03a)['round']();for(let _0x4e58e2=0x14a5*0x1+-0x1e29*-0x1+-0x2*0x1967;_0x4e58e2<-0x67f+0x3d2+0x2b5;_0x4e58e2++)_0x4e617f['push'](_0x56e9c9['x'],_0x56e9c9['y'],_0x56e9c9['z'],0x2*0x12d1+-0x3b7*-0xa+-0x4ac7);_0x34fe78['push'](_0x4aa83e*(-0x7e7+0x397*-0x9+0x283e)+(-0x282*-0xd+-0x32f+0x1*-0x1d6b),_0x4aa83e*(-0x1988+-0x14a7*-0x1+0x4e9)+(-0x9*-0x44b+-0xbcf+-0x9*0x2fb),_0x4aa83e*(0x9*0x10e+-0x1e7*0x13+0x26d*0xb)+(0x1663+0x848+0x4*-0x7aa)),_0x34fe78['push'](_0x4aa83e*(-0x1aa*-0xf+-0x1281+0x149*-0x5)+(-0x236b+0x3*0x2b1+0x1b5b),_0x4aa83e*(0x26d9+0x15d7+-0x3ca8)+(-0x4*0x6f7+-0x1*0x18cb+0x34a8),_0x4aa83e*(0x1*0x1953+-0x1870+-0xdb)+(0xe33+-0x1*0x22d5+0x14a4)),_0x34fe78['push'](_0x4aa83e*(-0x1*0x15da+-0xdd3*0x1+-0x23b5*-0x1)+(-0x1384+0x244b*0x1+0x7*-0x265),_0x4aa83e*(0xa16+0xf*-0x97+-0x135)+(0x47*-0x15+0x1a4b*-0x1+-0x2023*-0x1),_0x4aa83e*(-0x3d1*-0x9+-0x820+0x9*-0x2e9)+(0x17c*-0x4+-0xabc+0x10b3)),_0x34fe78['push'](_0x4aa83e*(0x9*0xcd+-0x1df9+0x16cc)+(-0x47*-0x1+-0x3*0xa37+0x1e65),_0x4aa83e*(-0x25e9*0x1+-0x710+0x2d01)+(-0x8bd+0x1b98+0x12d6*-0x1),_0x4aa83e*(0x235+0xd7f+-0x3eb*0x4)+(-0x1b75+-0x3*-0x6ef+0x6ae)),_0x34fe78['push'](_0x4aa83e*(0x2631+0x11d2+0x119*-0x33)+(0x1*0x1e7e+-0x12b5+0x16*-0x89),_0x4aa83e*(0x2ad*-0x1+0x5*-0x3d1+0x1*0x15ca)+(-0x35a*-0x2+0x2128+-0x27da*0x1),_0x4aa83e*(-0x17d*0x17+-0x39*-0x8d+-0x1*-0x2de)+(-0x1224+0x122+0x221*0x8)),_0x34fe78['push'](_0x4aa83e*(-0x20b1+0x1*0x1397+-0x2*-0x691)+(0x1db0+-0x1988+0x3b*-0x12),_0x4aa83e*(0x30*0x19+-0x175d+0x12b5)+(-0x16d5+-0xe5d*0x1+0x2539),_0x4aa83e*(0x1fb*-0x8+0x72*-0x23+-0x2*-0xfbb)+(-0xa0b*0x3+-0x1*0xc82+0x1*0x2aa9)),_0x34fe78['push'](_0x4aa83e*(0x1*-0x1a2f+0x7ad+0x128a)+(0x1*-0x76b+-0x160c*0x1+-0x52*-0x5c),_0x4aa83e*(0x402*0x6+0x1701+-0x2f05)+(0x1dc0+-0x1a8*-0xa+-0x2e50),_0x4aa83e*(0x1804+-0x243d*0x1+0x1*0xc41)+(-0xc*0x28e+0xff5+0xeb7)),_0x34fe78['push'](_0x4aa83e*(-0x1f22+0xd48+-0x2a*-0x6d)+(-0x1*0x13d9+-0x1295+-0x1337*-0x2),_0x4aa83e*(0x2e*0xd+0x1800+-0x1a4e)+(-0x1352+0x18f3+-0x59c),_0x4aa83e*(-0xbf*0x28+0x664+0x177c*0x1)+(0x10f+0x2*-0x1a0+0x235)),_0x34fe78['push'](_0x4aa83e*(0x1966+0x1*-0x1f5d+0x5*0x133)+(0xa29+0xfce+-0x19f6),_0x4aa83e*(-0x24b2+-0x1*0xceb+0x31a5)+(-0x2*0x1184+-0x696*0x5+-0x9b6*-0x7),_0x4aa83e*(0x5a5+-0x1880+-0x3c7*-0x5)+(-0x62*-0x56+0xe4c*-0x2+-0xe*0x4f)),_0x34fe78['push'](_0x4aa83e*(-0x168a+-0xa9*0x31+0x36eb)+(-0x178a+-0x1*0xc55+0x23e3),_0x4aa83e*(0x2*-0xd91+0x1be6*0x1+-0xbc)+(-0xa*0xdf+0x25b6+-0x1*0x1cf9),_0x4aa83e*(0x1222+0xe3+0x1*-0x12fd)+(-0x907*0x1+0x4*-0x6be+0x2401)),_0x34fe78['push'](_0x4aa83e*(0xe4b*0x1+0x1802+-0x2645)+(0xa7*-0x5+-0x2629+-0x67*-0x67),_0x4aa83e*(-0x1*-0x2153+-0x1e4c+-0x3b*0xd)+(-0x1*-0x10fd+0x159d+0x16e*-0x1b),_0x4aa83e*(-0x1d10+0x9*0x1ad+0xe03)+(-0x9*-0x25f+0x108b+0x12ee*-0x2)),_0x34fe78['push'](_0x4aa83e*(0xdf*-0x1+0x31*-0xbd+-0x1c4*-0x15)+(0x148f+0xe9+-0x1578),_0x4aa83e*(-0xc3f+0x1864+-0xc1d)+(-0x9*0x1f7+-0x15cd+0x277f),_0x4aa83e*(0x1f11+-0x4b+-0x626*0x5)+(-0x2*-0xcfb+-0x13*0x1af+0x60d)),_0x4aa83e++;}}if(_0x4aa83e){if(_0x2392c6['setPositio'+'ns'](_0x57096b),_0x2392c6['setNormals'](new Float32Array(_0x57096b['length'])),_0x2392c6['setColors3'+'2'](_0x4e617f),_0x2392c6['setIndices'](_0x34fe78),_0x2392c6['update'](js,!(0x2f*0xb9+-0x8*-0x35a+-0x3cc6)),!Rt['meshInstan'+'ce']){const _0x1f3ad9=new Ut();_0x1f3ad9['useLightin'+'g']=!(-0x2*-0xfc7+-0x1117+0x269*-0x6),_0x1f3ad9['emissive']=new ie(-0x1d34+-0x106d+0x2da2,0x3d+-0xa03+0x1*0x9c7,0x1f6*-0x1+-0x24e2*-0x1+-0x7*0x4fd),_0x1f3ad9['emissiveVe'+'rtexColor']=!(0x122a+-0x2548+0x131e*0x1),_0x1f3ad9['blendType']=Ed,_0x1f3ad9['depthWrite']=!(0x25ef+-0x1c82+-0x96c),_0x1f3ad9['update']();const _0x12b7e8=new Ie('WorldClust'+'ersDebug');_0x12b7e8['worldTrans'+'form']=te['IDENTITY'],_0x12b7e8['_dirtyWorl'+'d']=_0x12b7e8['_dirtyNorm'+'al']=!(-0x150+0xcec+-0x1*0xb9b),Rt['meshInstan'+'ce']=new He(_0x2392c6,_0x1f3ad9,_0x12b7e8),Rt['meshInstan'+'ce']['cull']=!(0x1*-0x23a9+0x1*0x2ea+0x4*0x830);}const _0x3fd303=Rt['meshInstan'+'ce'];_0xde37e6['immediate']['drawMesh'](_0x3fd303['material'],_0x3fd303['node']['worldTrans'+'form'],null,_0x3fd303,_0xde37e6['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x1b95*-0x1+0x4ef*-0x7+-0x14b5*-0x3,0x32+-0x3*-0x8f1+-0x1b04,-0x112f*0x1+0x297*0xa+0x1be*-0x5)),h(Rt,'colorHigh',new D(0x4fa+0x298+0xd*-0x92,-0x196e+0x46+0x1928,-0x1a82+0x2022+-0x5a0));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x32aba8=atob(xb);Vi=Uint8Array['from'](_0x32aba8,_0x8ab6eb=>_0x8ab6eb['charCodeAt'](0x1021*0x1+0xc5*0x21+-0xa*0x427));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x22e978=-0x13b3+0x724+0xc8f*0x1){h(this,'seed',-0x28a*0x7+0x26e8+-0x5*0x43a),(this['seed']=_0x22e978*(0x1f77+-0x9b8*-0x4+-0x4653),Av());}['_next'](){this['seed']=(this['seed']+(-0x8*-0xa+0x26ef+-0x273b))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x1*-0x136f+0x23dd+-0x364d);}['vec4'](_0x4f8425=new re()){return this['_next'](),_0x4f8425['set'](Vi[this['seed']],Vi[this['seed']+(-0xb61+0x2c*0x3b+-0x6*-0x35)],Vi[this['seed']+(0xc8d+-0x1008+0x1*0x37d)],Vi[this['seed']+(0x1*-0xf47+0x20fe+-0x19c*0xb)])['mulScalar']((0x2*0x454+-0x102f+-0x788*-0x1)/(0x5*0x64e+0x2*0x742+0x2d0b*-0x1));}}const Eb=[new D(-(0x178f*-0x1+0x2*0x2d1+0x33*0x5a),0x6*0x53b+-0x888*-0x2+0x1dd*-0x1a,0x33*-0x1b+0x94*0x42+-0x3*0xaed),new D(0x1e0e*0x1+-0x3f*0x12+-0x199f,0x590+-0x2*-0x7a6+-0x14dc,-0x4be*0x2+0x10f2+-0x776),new D(-0x2*-0xbcc+0x543*-0x5+0x2b7*0x1,-(0xfde+0x26*0xce+-0x2e71),-0x25c4+-0x126f*0x2+0x4aa2),new D(-0x224a+0x25*0x5f+0x13*0x115,0x2c5+-0x16e*0x7+0x73e,-0xb*-0x30a+0x107*-0x12+0xef0*-0x1),new D(0x74*0x21+-0x1*-0x21af+-0x30a3,0x4*0x233+0x2580+-0x2e4c,-(-0x1415+-0x248+-0x332*-0x7)),new D(-0x83*-0x6+0x13fe+-0x1710,-0xc7*-0x1f+-0x2701*-0x1+-0x1*0x3f1a,-0xb*0x384+-0x2b*0x8+0x2805*0x1)];class bb{constructor(){h(this,'colors',new Float32Array(0x152+-0x957*0x3+0x1ac5));}['update'](_0x486e0a,_0x17a7f6){const _0x2c7c62=this['colors'],{r:_0x38adef,g:_0xc0c302,b:_0x2d4d70}=_0x486e0a;for(let _0x214a2c=-0x105*-0x3+0x137*0x12+0x84f*-0x3;_0x214a2c<-0x8e1+-0x533*0x2+0x134d;_0x214a2c++)_0x2c7c62[_0x214a2c*(-0x68*0x50+0x1*-0x12cd+0x3350)]=_0x38adef,_0x2c7c62[_0x214a2c*(-0x14ed+0x24f8+-0x1008)+(0x6f1+0x18dc*0x1+-0x1fcc)]=_0xc0c302,_0x2c7c62[_0x214a2c*(-0x9e*0xf+-0x1*0x154e+0x1*0x1e93)+(0x136a+0xc9e+-0x2006)]=_0x2d4d70;for(let _0x1e9bf9=0x23d6+0x473+0x2849*-0x1;_0x1e9bf9<_0x17a7f6['length'];_0x1e9bf9++){const _0x5c2428=_0x17a7f6[_0x1e9bf9];if(_0x5c2428['_type']===ve)for(let _0x38d09c=0x2683*-0x1+0xf4f+-0x4*-0x5cd;_0x38d09c<0x118*0xb+-0xb2d*0x1+-0x47*0x3;_0x38d09c++){const _0x32e144=Math['max'](Eb[_0x38d09c]['dot'](_0x5c2428['_direction']),0x2f5*0x1+-0xdb+0x21a*-0x1)*_0x5c2428['_intensity'],_0x52a0ea=_0x5c2428['_color'];_0x2c7c62[_0x38d09c*(-0x1*0x2089+0x1*0x25da+-0x54e)]+=_0x52a0ea['r']*_0x32e144,_0x2c7c62[_0x38d09c*(-0x46*0xe+-0x23c1+-0x8*-0x4f3)+(-0x1d2+0xa6*0x6+-0x211*0x1)]+=_0x52a0ea['g']*_0x32e144,_0x2c7c62[_0x38d09c*(0x110e+0x7cd*-0x5+0x15f6)+(-0x5*-0x4ff+-0x1372+-0x587)]+=_0x52a0ea['b']*_0x32e144;}}}}const Ab=(_0x6408e0,_0x3d1f5a,_0x42832b,_0x12401a)=>{const _0x15d0e7=new _e(_0x6408e0,{'name':''+_0x3d1f5a+_0x42832b,'width':_0x42832b,'height':_0x42832b,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0xc9*-0x9+-0xf6c+0x85c)});return _0x15d0e7['lock']()['set'](_0x12401a),_0x15d0e7['unlock'](),_0x15d0e7;},Cb=new Kt(),Pb=_0x577e0c=>Cb['get'](_0x577e0c,()=>{const _0x59cba1=Tb(),_0x5e441c=Math['sqrt'](_0x59cba1['length']/(-0x20*0x76+0xd*0x140+-0x17c));return Ab(_0x577e0c,'BlueNoise',_0x5e441c,_0x59cba1);});class va{constructor(_0x5ec6eb,_0x247129){this['texture']=_0x5ec6eb,this['cached']=!(0x18a9+0x1*0x178c+-0x3034),this['renderTarg'+'ets']=_0x247129;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x7b49e3=this['renderTarg'+'ets'];for(let _0x1c5a6e=0x1004+-0x71*0x3d+0xae9;_0x1c5a6e<_0x7b49e3['length'];_0x1c5a6e++)_0x7b49e3[_0x1c5a6e]['destroy']();this['renderTarg'+'ets']['length']=0x1*-0xd01+0x93b*-0x2+0x1f77;}static['create'](_0x8d9009,_0x44913f){let _0x41fee8=null;return _0x44913f['_type']===Ke?_0x41fee8=this['createCube'+'map'](_0x8d9009,_0x44913f['_shadowRes'+'olution'],_0x44913f['_shadowTyp'+'e']):_0x41fee8=this['create2dMa'+'p'](_0x8d9009,_0x44913f['_shadowRes'+'olution'],_0x44913f['_shadowTyp'+'e']),_0x41fee8;}static['createAtla'+'s'](_0x5a6603,_0x9774c1,_0x4f02e8){const _0x1b3e3a=this['create2dMa'+'p'](_0x5a6603,_0x9774c1,_0x4f02e8),_0x1b8ed7=_0x1b3e3a['renderTarg'+'ets'],_0x3db629=_0x1b8ed7[-0x2062+-0x1965+0x39c7];for(let _0x270a37=-0x1245+-0xa*-0x196+0x269*0x1;_0x270a37<0xe3f+0x4*-0x62f+0x1*0xa82;_0x270a37++)_0x1b8ed7['push'](_0x3db629);return _0x1b3e3a;}static['create2dMa'+'p'](_0x8b2f33,_0x3ef235,_0x4801a0){var _0x2c4fb2;const _0x519b21=qi['get'](_0x4801a0);w['assert'](_0x519b21);let _0x3b48d6=_0x519b21['format'];_0x3b48d6===Ji&&!_0x8b2f33['textureFlo'+'atRenderab'+'le']&&_0x8b2f33['textureHal'+'fFloatRend'+'erable']&&(_0x3b48d6=od);const _0x247c24=(_0x2c4fb2=Nt['get'](_0x3b48d6))==null?void(0xac3*-0x1+-0x22d7+0x2d9a):_0x2c4fb2['name'];let _0x1ce156=vt;_0x4801a0===Jp&&(_0x1ce156=_0x8b2f33['extTexture'+'FloatLinea'+'r']?vt:Te),_0x4801a0===al&&(_0x1ce156=Te);const _0x47bc9a=new _e(_0x8b2f33,{'profilerHint':eu,'format':_0x3b48d6,'width':_0x3ef235,'height':_0x3ef235,'mipmaps':!(-0x1f5+-0x98+0x28e),'minFilter':_0x1ce156,'magFilter':_0x1ce156,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x247c24});let _0x3ce4f8=null;return _0x519b21!=null&&_0x519b21['pcf']?(_0x47bc9a['compareOnR'+'ead']=!(0x307*-0xa+-0x9d4+-0xae*-0x3b),_0x47bc9a['compareFun'+'c']=hh,_0x3ce4f8=new gt({'depthBuffer':_0x47bc9a})):_0x3ce4f8=new gt({'colorBuffer':_0x47bc9a,'depth':!(0x1ec2+0x4*0x49b+-0x4eb*0xa)}),_0x8b2f33['isWebGPU']&&(_0x3ce4f8['flipY']=!(0x9*-0x293+0x7ed+0xf3e)),new va(_0x47bc9a,[_0x3ce4f8]);}static['createCube'+'map'](_0x1c9078,_0x5b76fc,_0x268c56){var _0x1d9ff9;const _0x2cd6d3=qi['get'](_0x268c56);w['assert'](_0x2cd6d3);const _0x23e3e6=(_0x1d9ff9=Nt['get'](_0x2cd6d3['format']))==null?void(-0x1*-0x20+-0xbc0+0xba0):_0x1d9ff9['name'],_0x1e086e=_0x268c56===al,_0x83e459=_0x1e086e?Te:vt,_0xfe0ce5=new _e(_0x1c9078,{'profilerHint':eu,'format':_0x2cd6d3==null?void(0x1f3e+-0x75*0x1b+-0x12e7):_0x2cd6d3['format'],'width':_0x5b76fc,'height':_0x5b76fc,'cubemap':!(0x4f*0x22+0x237a+-0x2df8),'mipmaps':!(0x1*0x2bc+0x1*0xfb8+0x1*-0x1273),'minFilter':_0x83e459,'magFilter':_0x83e459,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x23e3e6});_0x1e086e||(_0xfe0ce5['compareOnR'+'ead']=!(0x130+-0x85*0x31+0x147*0x13),_0xfe0ce5['compareFun'+'c']=hh);const _0x1e0dae=[];for(let _0x49b85a=0xe87+0x76d+-0x15f4;_0x49b85a<0x4*0x409+0x1377+-0x1*0x2395;_0x49b85a++)_0x1e086e?_0x1e0dae['push'](new gt({'colorBuffer':_0xfe0ce5,'face':_0x49b85a,'depth':!(0x128+0x1a95+-0x1bbd)})):_0x1e0dae['push'](new gt({'depthBuffer':_0xfe0ce5,'face':_0x49b85a}));return new va(_0xfe0ce5,_0x1e0dae);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x4486aa){this['size']=Math['floor'](_0x4486aa['w']*(0x1*-0x16af+0x1ba3+-0x3d*0x4)),this['used']=!(0xe*-0x76+-0x2016+0x268b),this['lightId']=-(0x1be8+0x1f3+0x1dda*-0x1),this['rect']=_0x4486aa;}}class Ib{constructor(_0x501fae){this['device']=_0x501fae,this['version']=-0x1*-0x3d+0x791+-0x7cd,this['shadowAtla'+'sResolutio'+'n']=-0x1*0x1463+0x8d5*0x1+0x138e,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x594*0x3+-0x773*0x1+-0x946,this['cookieAtla'+'sResolutio'+'n']=0x3*-0x607+-0xbaf+0x1dc8*0x1,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(-0xb20+0x21c5+0x1e3*-0xc),'mipmaps':!(-0x75d+-0xe30+0xac7*0x2),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x5*0x6ce+0x105e+0x1*-0x3263),'flipY':!(-0x1*0xea3+0x29f*0x7+0x1db*-0x2)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0xaba+-0x1ac7+0x100d,0x1*-0x1fc0+-0x2*-0xa8b+0xaaa),new J(-0x1*0xffb+-0x1147+0x2142,0x16f+0xa*0x75+0x18*-0x40),new J(0xe8c+-0x2cd*0x8+0x29f*0x3,-0x1*-0x1a91+-0x1ba+-0x1*0x18d7),new J(-0x4f7*0x5+0x722*-0x2+0x12*0x22c,-0x3*0x38c+0x36*0x67+-0x1*0xb15),new J(0xbe1+-0x1*0x745+-0x49a,-0x1920+-0x12*-0xe5+0x6e*0x15),new J(0x30d+-0x446*-0x5+-0x1869,-0x6a0+0x85e+-0x1*0x1bd)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x1825+-0x287*0xf+0x1*0x3e0f),this['allocateCo'+'okieAtlas'](-0x1378+-0x110+0x1489),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x4d4322;(_0x4d4322=this['shadowAtla'+'s'])==null||_0x4d4322['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x234a9f,_0x23ed1a;(_0x234a9f=this['cookieAtla'+'s'])==null||_0x234a9f['destroy'](),this['cookieAtla'+'s']=null,(_0x23ed1a=this['cookieRend'+'erTarget'])==null||_0x23ed1a['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0xb1d2be,_0x4844fb=$s){var _0x27691e;const _0x2893e1=(_0x27691e=this['shadowAtla'+'s'])==null?void(0x7*-0x1cc+-0x12b1+0x1f45*0x1):_0x27691e['texture']['format'],_0x4dfac8=qi['get'](_0x4844fb)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0xb1d2be||_0x2893e1!==_0x4dfac8){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0xb1d2be,_0x4844fb),this['shadowAtla'+'s']['cached']=!(0x1bac+-0xb40+0x41b*-0x4);const _0x3e463a=(0x18a4+-0x2f4+-0x15ac)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x3e463a,_0x3e463a,-(-0xb2*0x7+-0x5b*-0x36+0x263*-0x6)*_0x3e463a,-(0x1*-0x105b+0x44e+0xc0f)*_0x3e463a);}}['allocateCo'+'okieAtlas'](_0x2eb31d){this['cookieAtla'+'s']['width']!==_0x2eb31d&&(this['cookieRend'+'erTarget']['resize'](_0x2eb31d,_0x2eb31d),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x1385*0x2+-0x702+-0x2006),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x2e0188=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x3*0xae9+0x13d*-0x19+0x3fb0]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x2e0188),this['_shadowAtl'+'asParams'][-0xaf*0x34+0x11ee*-0x2+0x4768]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x17b3+-0x2458+0x356*0x12]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x47fa63,_0x31c444){let _0x244fe5=_0x31c444['atlasSplit'];if(!_0x244fe5){const _0x1e0104=Math['ceil'](Math['sqrt'](_0x47fa63));_0x244fe5=Db,_0x244fe5[0x49*0x13+0xa70+-0xfdb]=_0x1e0104,_0x244fe5['length']=0x1*-0x673+0xd65+-0x1*0x6f1;}if(!((_0x33af35,_0x7ec79c)=>_0x33af35['length']===_0x7ec79c['length']&&_0x33af35['every']((_0x81900b,_0x497002)=>_0x81900b===_0x7ec79c[_0x497002]))(_0x244fe5,this['atlasSplit'])){this['version']++,this['slots']['length']=0x207a*-0x1+0xb18+-0x22*-0xa1,this['atlasSplit']['length']=0x15ad+0x1*0x15b4+-0x2b61,this['atlasSplit']['push'](..._0x244fe5);const _0x54c763=this['atlasSplit'][-0x215a+0x1b04+0x656];if(_0x54c763>0x393+-0x25de+0x224c*0x1){const _0x58c33c=(-0x1*0x2611+-0x3fe+-0x1508*-0x2)/_0x54c763;for(let _0x127b6b=0x2d*-0x15+0x1e0b+-0x1a5a;_0x127b6b<_0x54c763;_0x127b6b++)for(let _0x3dfd08=0x355+-0x14f*0x1+-0x206;_0x3dfd08<_0x54c763;_0x3dfd08++){const _0x1314da=new re(_0x127b6b*_0x58c33c,_0x3dfd08*_0x58c33c,_0x58c33c,_0x58c33c),_0x35575a=this['atlasSplit'][-0x2*-0x134e+-0x3*0x3db+0x1b0a*-0x1+_0x127b6b*_0x54c763+_0x3dfd08];if(_0x35575a>-0x2e5+-0x16f7+0x19dd){for(let _0x1b2287=-0x1*0x236a+0x16db+0xc8f;_0x1b2287<_0x35575a;_0x1b2287++)for(let _0x97b227=-0x271*-0x7+-0x220f*-0x1+-0x3326;_0x97b227<_0x35575a;_0x97b227++){const _0x143013=_0x58c33c/_0x35575a,_0x43bfaf=new re(_0x1314da['x']+_0x1b2287*_0x143013,_0x1314da['y']+_0x97b227*_0x143013,_0x143013,_0x143013);this['slots']['push'](new tf(_0x43bfaf));}}else this['slots']['push'](new tf(_0x1314da));}}else this['slots']['push'](new tf(new re(-0xa3c*0x1+0x179c+0x20*-0x6b,-0x26ba+0x49e+-0x25*-0xec,0x1*0x87d+-0x15*-0x13+-0x3*0x359,0x1d*-0x13d+0xb*-0x66+0x2*0x1426)));this['slots']['sort']((_0x903544,_0x218c0d)=>_0x218c0d['size']-_0x903544['size']);}}['collectLig'+'hts'](_0x26e520,_0x76bb39){const _0x43aa47=_0x76bb39['cookiesEna'+'bled'],_0x1372d2=_0x76bb39['shadowsEna'+'bled'];let _0x4f6c9c=!(-0x9f3+0x32c+0x38*0x1f),_0x322623=!(0x2*0x101c+-0x25be*-0x1+-0x45f5*0x1);const _0x5f59fa=Mb;return _0x5f59fa['length']=-0xde*-0xb+-0x9e9*0x3+0x1431,(_0x43aa47||_0x1372d2)&&(_0x565dea=>{for(let _0x457745=0x1a82+-0x1fff*-0x1+-0x3a81;_0x457745<_0x565dea['length'];_0x457745++){const _0x5f20a8=_0x565dea[_0x457745];if(_0x5f20a8['visibleThi'+'sFrame']){const _0x94c16=_0x1372d2&&_0x5f20a8['castShadow'+'s'],_0x3134e9=_0x43aa47&&!!_0x5f20a8['cookie'];_0x4f6c9c||(_0x4f6c9c=_0x94c16),_0x322623||(_0x322623=_0x3134e9),(_0x94c16||_0x3134e9)&&_0x5f59fa['push'](_0x5f20a8);}}})(_0x26e520),_0x5f59fa['sort']((_0x1d375a,_0x971950)=>_0x971950['maxScreenS'+'ize']-_0x1d375a['maxScreenS'+'ize']),_0x4f6c9c&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x76bb39['shadowType']),_0x322623&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x4f6c9c||_0x322623)&&this['subdivide'](_0x5f59fa['length'],_0x76bb39),_0x5f59fa;}['setupSlot'](_0x2b51c0,_0x5c691a){_0x2b51c0['atlasViewp'+'ort']['copy'](_0x5c691a);const _0x439750=_0x2b51c0['numShadowF'+'aces'];for(let _0x1f177b=-0xab3+-0x637*0x4+0x238f;_0x1f177b<_0x439750;_0x1f177b++)if(_0x2b51c0['castShadow'+'s']||_0x2b51c0['_cookie']){if(xi['copy'](_0x5c691a),ef['copy'](_0x5c691a),_0x2b51c0['_type']===Ze&&xi['add'](this['scissorVec']),_0x2b51c0['_type']===Ke){const _0xed3efb=xi['z']/(-0x4*0x6c7+-0x4a7*0x5+0x3262),_0x599731=this['cubeSlotsO'+'ffsets'][_0x1f177b];xi['x']+=_0xed3efb*_0x599731['x'],xi['y']+=_0xed3efb*_0x599731['y'],xi['z']=_0xed3efb,xi['w']=_0xed3efb,ef['copy'](xi);}if(_0x2b51c0['castShadow'+'s']){const _0x246ad9=_0x2b51c0['getRenderD'+'ata'](null,_0x1f177b);_0x246ad9['shadowView'+'port']['copy'](xi),_0x246ad9['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x2c0b47,_0x63cc1b,_0x19a9a9){_0x2c0b47['atlasViewp'+'ortAllocat'+'ed']=!(-0x198b*-0x1+0x2383+-0x3d0e);const _0xd8e022=this['slots'][_0x63cc1b];_0xd8e022['lightId']=_0x2c0b47['id'],_0xd8e022['used']=!(-0x1*0x170+-0x8f*0x12+0xb7e),_0x19a9a9&&(_0x2c0b47['atlasSlotU'+'pdated']=!(-0x162a*-0x1+0x2b*-0x7d+-0x12b),_0x2c0b47['atlasVersi'+'on']=this['version'],_0x2c0b47['atlasSlotI'+'ndex']=_0x63cc1b);}['update'](_0x2ab6d0,_0x25ecbc){this['shadowAtla'+'sResolutio'+'n']=_0x25ecbc['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x25ecbc['cookieAtla'+'sResolutio'+'n'];const _0x58c20c=this['collectLig'+'hts'](_0x2ab6d0,_0x25ecbc);if(_0x58c20c['length']>-0x779*-0x1+0x55c+-0x291*0x5){const _0x46c387=this['slots'];for(let _0x309a60=0x2*-0x120+-0x54*0x64+0x2310;_0x309a60<_0x46c387['length'];_0x309a60++)_0x46c387[_0x309a60]['used']=!(-0x1ec1+0x24*0x43+0x1556);const _0x271e12=Math['min'](_0x58c20c['length'],_0x46c387['length']);for(let _0x10af1d=0x93c*-0x3+0x21a*0x9+-0x1*-0x8ca;_0x10af1d<_0x271e12;_0x10af1d++){const _0x506de4=_0x58c20c[_0x10af1d];_0x506de4['castShadow'+'s']&&(_0x506de4['_shadowMap']=this['shadowAtla'+'s']);const _0x3a0a1f=_0x46c387[_0x506de4['atlasSlotI'+'ndex']];if(_0x506de4['atlasVersi'+'on']===this['version']&&_0x506de4['id']===(_0x3a0a1f==null?void(0x16e0+0x97*0x2d+-0x316b):_0x3a0a1f['lightId'])){const _0x377336=_0x46c387[_0x506de4['atlasSlotI'+'ndex']];_0x377336['size']===_0x46c387[_0x10af1d]['size']&&!_0x377336['used']&&this['assignSlot'](_0x506de4,_0x506de4['atlasSlotI'+'ndex'],!(0x2513+0x1*0x54f+-0x2a61*0x1));}}let _0x3329fd=-0x17e3*0x1+0x61*-0x37+-0x2cba*-0x1;for(let _0x52bab6=0x1f21+0xfc6+0x1*-0x2ee7;_0x52bab6<_0x271e12;_0x52bab6++){for(;_0x3329fd<_0x46c387['length']&&_0x46c387[_0x3329fd]['used'];)_0x3329fd++;const _0x4c12e5=_0x58c20c[_0x52bab6];_0x4c12e5['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x4c12e5,_0x3329fd,!(0x1cd5+0x915+-0x25ea));const _0x37d129=_0x46c387[_0x4c12e5['atlasSlotI'+'ndex']];this['setupSlot'](_0x4c12e5,_0x37d129['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x291c40=>{_0x291c40['forEach'](_0x842211=>{_0x842211['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2939a0){const _0x361350=_0x2939a0['_type']===Ke,_0x434481=_0x2939a0['_shadowTyp'+'e'],_0x102a8f=_0x2939a0['_shadowRes'+'olution'];return _0x361350+'-'+_0x434481+'-'+_0x102a8f;}['get'](_0x538b07,_0x3fdcd4){const _0x9c5b43=this['getKey'](_0x3fdcd4),_0x4eac06=this['cache']['get'](_0x9c5b43);if(_0x4eac06&&_0x4eac06['length'])return _0x4eac06['pop']();const _0x241c36=va['create'](_0x538b07,_0x3fdcd4);return _0x241c36['cached']=!(0x1f60+0x2*0x115a+-0x4214),_0x241c36;}['add'](_0x23bec7,_0x4113ea){const _0x37afb9=this['getKey'](_0x23bec7),_0x4b61b9=this['cache']['get'](_0x37afb9);_0x4b61b9?_0x4b61b9['push'](_0x4113ea):this['cache']['set'](_0x37afb9,[_0x4113ea]);}}class Rb extends ys{constructor(_0x5195fb,_0x45888f,_0x3b8d21,_0xca59e8,_0x13bf33){super(_0x5195fb),Ea['setName'](this,this['name']+'-'+_0x3b8d21['_node']['name']),this['requiresCu'+'bemaps']=!(0x1581+0x11b1+-0x7f*0x4f),this['shadowRend'+'erer']=_0x45888f,this['light']=_0x3b8d21,this['face']=_0xca59e8,this['applyVsm']=_0x13bf33,this['shadowCame'+'ra']=_0x45888f['prepareFac'+'e'](_0x3b8d21,null,_0xca59e8),_0x45888f['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x1*0xaab+0x257*0x7+-0x22*0x2b));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0xdf*0xb+0x1*-0x2001+0x2997));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x54608a,_0x45b3a9){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x54608a,this['shadowRend'+'erer']=_0x45b3a9,this['device']=_0x54608a['device']);}['cull'](_0x452fad,_0x1f5415,_0x269176=null){const _0x34c261=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x452fad['visibleThi'+'sFrame']=!(-0x5*-0x2eb+-0x4c2*-0x7+-0x2fe5),_0x34c261||_0x452fad['_shadowMap']||(_0x452fad['_shadowMap']=va['create'](this['device'],_0x452fad));const _0x489aef=_0x452fad['_type'],_0x51a9bb=_0x489aef===Ze?0x1e4d+-0x194b+-0x3*0x1ab:-0x20ae+0x1*-0x1173+0x3227;for(let _0x25bb81=-0xaac+-0x5*0x436+0x1fba;_0x25bb81<_0x51a9bb;_0x25bb81++){const _0x3c7374=_0x452fad['getRenderD'+'ata'](null,_0x25bb81),_0x328823=_0x3c7374['shadowCame'+'ra'];_0x328823['nearClip']=_0x452fad['attenuatio'+'nEnd']/(0xd02+-0x87a+-0xa0),_0x328823['farClip']=_0x452fad['attenuatio'+'nEnd'];const _0x5cf545=_0x328823['_node'],_0x303ddb=_0x452fad['_node'];if(_0x5cf545['setPositio'+'n'](_0x303ddb['getPositio'+'n']()),_0x489aef===Ze)_0x328823['fov']=_0x452fad['_outerCone'+'Angle']*(0x6f0*-0x4+-0x11d7*-0x2+-0x7ec),_0x5cf545['setRotatio'+'n'](_0x303ddb['getRotatio'+'n']()),_0x5cf545['rotateLoca'+'l'](-(-0x326+0x1128+-0xda8),-0x146+0x629+-0x4e3,-0x1a*-0xd+-0x277+-0x1*-0x125);else{if(_0x489aef===Ke){if(_0x34c261){const _0x335b91=(-0x8*-0x55+-0xe6*0x1c+0x1682*0x1)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x452fad['atlasViewp'+'ort']['z']/(-0x1e85+-0x1ba*-0x13+-0x246))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x328823['fov']=Math['atan'](-0xf18+0x787*0x2+0xb+_0x335b91)*Y['RAD_TO_DEG']*(-0x13a2+0x7d4+0xbd0);}else _0x328823['fov']=0x2158+0x1*0x2371+-0x446f;}}this['renderer']['updateCame'+'raFrustum'](_0x328823),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x1f5415,_0x452fad,_0x3c7374['visibleCas'+'ters'],_0x328823,_0x269176);}}['prepareLig'+'hts'](_0x411f35,_0x351267){let _0x1b01b5;for(let _0x1036e6=-0x91d+-0x1020+0x193d;_0x1036e6<_0x351267['length'];_0x1036e6++){const _0x2c1e0e=_0x351267[_0x1036e6];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2c1e0e)&&_0x2c1e0e['atlasViewp'+'ortAllocat'+'ed']){_0x411f35['push'](_0x2c1e0e);for(let _0x4ebf67=0x17a0+0x3*-0x54e+-0x7b6;_0x4ebf67<_0x2c1e0e['numShadowF'+'aces'];_0x4ebf67++)_0x1b01b5=this['shadowRend'+'erer']['prepareFac'+'e'](_0x2c1e0e,null,_0x4ebf67);}}return _0x1b01b5;}['buildNonCl'+'usteredRen'+'derPasses'](_0x39d721,_0x2ee202){for(let _0x3b90c7=0x45*0x57+-0x1969+-0x1*-0x1f6;_0x3b90c7<_0x2ee202['length'];_0x3b90c7++){const _0x5ec4ae=_0x2ee202[_0x3b90c7];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5ec4ae)){const _0x21c3c4=_0x5ec4ae['_type']===Ze,_0x13967c=_0x5ec4ae['numShadowF'+'aces'];for(let _0x39e6e1=-0x1f86+-0x1acc+0x3a52;_0x39e6e1<_0x13967c;_0x39e6e1++){const _0x200185=new Rb(this['device'],this['shadowRend'+'erer'],_0x5ec4ae,_0x39e6e1,_0x21c3c4);_0x39d721['addRenderP'+'ass'](_0x200185);}}}}}class Fb extends ys{constructor(_0x379f46,_0x3fa1fa,_0x146705,_0x212638,_0x28d837){super(_0x379f46),Ea['setName'](this,this['name']+'-'+_0x146705['_node']['name']),this['shadowRend'+'erer']=_0x3fa1fa,this['light']=_0x146705,this['camera']=_0x212638,this['allCascade'+'sRendering']=_0x28d837;}['execute'](){const {light:_0x1bf442,camera:_0x294f8c,shadowRenderer:_0x8a80b3,allCascadesRendering:_0x34b33b}=this,_0x5eb79a=_0x1bf442['numShadowF'+'aces'],_0x553c5b=_0x1bf442['shadowUpda'+'teOverride'+'s'];for(let _0x5f3bbc=-0x1*0x918+0x10e6+0x25*-0x36;_0x5f3bbc<_0x5eb79a;_0x5f3bbc++)(_0x553c5b==null?void(-0x192*0x3+-0x82c+-0xce2*-0x1):_0x553c5b[_0x5f3bbc])!==Ps&&_0x8a80b3['renderFace'](_0x1bf442,_0x294f8c,_0x5f3bbc,!_0x34b33b),(_0x553c5b==null?void(-0x25d7*0x1+-0xec9*0x1+0xd28*0x4):_0x553c5b[_0x5f3bbc])===xr&&(_0x553c5b[_0x5f3bbc]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x17bce9,_0x586638,_0x5abba9){Xe[0x1*0x32a+0xb5*0x21+0x33*-0x85]['x']=Xe[-0x1d67*-0x1+0x80e+-0x2574]['x']=Xe[-0xe6e+-0x1*0xf32+0x1da2]['x']=Xe[0xe94*0x1+0x7*-0x7f+-0x8e*0x14]['x']=_0x586638['x'],Xe[-0x13a6+0xb04+0xb*0xc9]['y']=Xe[-0x4f9+-0x15fa+0x1af6]['y']=Xe[0xa9*-0x6+0xefd*0x1+0x2*-0x580]['y']=Xe[0x4*-0x75a+0x2*-0x338+0x23dd]['y']=_0x586638['y'],Xe[0xd*0xe2+0x6*-0xb7+0x72e*-0x1]['z']=Xe[0x22*-0x1+-0x19*0x89+0x3*0x482]['z']=Xe[-0xfb+-0xd1e+0xe1f]['z']=Xe[-0x133*0x5+-0x4*-0x22a+-0x2a2]['z']=_0x586638['z'],Xe[0x1b95+-0xb*0x209+-0x52e]['x']=Xe[-0x19b5+0x1*-0xd3+0x1a8d]['x']=Xe[-0x2346+0x203b+0x311]['x']=Xe[-0x12a1+-0x13*0x115+-0x1*-0x2737]['x']=_0x5abba9['x'],Xe[-0xf14+-0x162f+-0x1*-0x2543]['y']=Xe[-0x6a6+-0x1ab2+-0xb1e*-0x3]['y']=Xe[0x823+0x13df+-0xdff*0x2]['y']=Xe[0xa2a*-0x2+-0x53*0x49+0x2c05]['y']=_0x5abba9['y'],Xe[0x400*0x3+0x5*-0x280+-0x40*-0x2]['z']=Xe[-0x5*0x22d+-0xa5+-0xd*-0xe3]['z']=Xe[0x2166+0xc1*0x7+-0x3*0xce3]['z']=Xe[0xa0a+0xc*0x25d+-0x2661]['z']=_0x5abba9['z'];let _0x41b24d=-0x14*-0x41ee5da+-0x30c02140f*-0x1+-0xcaf3eb8*0x15,_0x532854=-(-0x11f8f185d+-0x2c183f108+0x6351eed64);for(let _0x3adc54=0x530+-0x1*0xb+-0x525;_0x3adc54<-0x1*-0x17ff+0x1f81+-0x3778;++_0x3adc54){_0x17bce9['transformP'+'oint'](Xe[_0x3adc54],Xe[_0x3adc54]);const _0x1fb9e2=Xe[_0x3adc54]['z'];_0x1fb9e2<_0x41b24d&&(_0x41b24d=_0x1fb9e2),_0x1fb9e2>_0x532854&&(_0x532854=_0x1fb9e2);}return sf['min']=_0x41b24d,sf['max']=_0x532854,sf;}class kb{constructor(_0x2dc648,_0x295d17){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x2dc648,this['shadowRend'+'erer']=_0x295d17,this['device']=_0x2dc648['device']);}['cull'](_0x4b91da,_0x5d5aa5,_0x1947a8,_0x575de7=null){_0x4b91da['visibleThi'+'sFrame']=!(0x3*-0xcd1+0xfdf*-0x1+0x3652),_0x4b91da['_shadowMap']||(_0x4b91da['_shadowMap']=va['create'](this['device'],_0x4b91da));const _0x4ca2ac=_0x1947a8['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x4b91da,_0x4ca2ac,Math['min'](_0x1947a8['_farClip'],_0x4b91da['shadowDist'+'ance']));const _0x9f0723=_0x4b91da['shadowUpda'+'teOverride'+'s'];for(let _0x5b9f19=-0xea7+0x465+0x1a*0x65;_0x5b9f19<_0x4b91da['numCascade'+'s']&&(_0x9f0723==null?void(-0x1518+0xcf1+0x827):_0x9f0723[_0x5b9f19])!==Ps;_0x5b9f19++){const _0x3a3e2b=_0x4b91da['getRenderD'+'ata'](_0x1947a8,_0x5b9f19),_0x1d8c94=_0x3a3e2b['shadowCame'+'ra'];_0x1d8c94['renderTarg'+'et']=_0x4b91da['_shadowMap']['renderTarg'+'ets'][-0x5c6+-0x22e2+0x8*0x515],_0x3a3e2b['shadowView'+'port']['copy'](_0x4b91da['cascades'][_0x5b9f19]),_0x3a3e2b['shadowScis'+'sor']['copy'](_0x4b91da['cascades'][_0x5b9f19]);const _0x150799=_0x1d8c94['_node'],_0x8bb3b3=_0x4b91da['_node'];_0x150799['setPositio'+'n'](_0x8bb3b3['getPositio'+'n']()),_0x150799['setRotatio'+'n'](_0x8bb3b3['getRotatio'+'n']()),_0x150799['rotateLoca'+'l'](-(0x6c9+-0x151*0x7+0x2*0x164),0x21d*0x2+0x1401+-0x183b*0x1,-0x2dd+-0x1*0x142f+0x170c);const _0x23ef85=_0x5b9f19===0x1e24+0x20f8+-0x7*0x904?_0x4ca2ac:_0x4b91da['_shadowCas'+'cadeDistan'+'ces'][_0x5b9f19-(-0xc3a+0x1b74+-0xf39)],_0x44050c=_0x4b91da['_shadowCas'+'cadeDistan'+'ces'][_0x5b9f19],_0x5236c7=_0x1947a8['getFrustum'+'Corners'](_0x23ef85,_0x44050c);Ti['set'](-0x12ca+0x2d2*-0x1+-0x1cd*-0xc,-0x1*-0xb45+0xc50+-0x1795,-0x1e81+0xbac+0x12d5);const _0x6becf5=_0x1947a8['node']['getWorldTr'+'ansform']();for(let _0x402527=-0x2708+-0x1*0xadb+0x31e3;_0x402527<-0x369+0xb41+-0x7d0*0x1;_0x402527++)_0x6becf5['transformP'+'oint'](_0x5236c7[_0x402527],_0x5236c7[_0x402527]),Ti['add'](_0x5236c7[_0x402527]);Ti['mulScalar']((0x3*-0x4a+0x21d+-0x13e)/(0x22f4+-0x8*0x2e7+-0xbb4));let _0x1acb31=-0xc79+0x4fb*-0x7+0x2f56;for(let _0x12c55b=0x52a*-0x1+0x639+-0x10f;_0x12c55b<0x7a0+0xe87+-0x161f;_0x12c55b++){const _0x237854=_0x5236c7[_0x12c55b]['sub'](Ti)['length']();_0x237854>_0x1acb31&&(_0x1acb31=_0x237854);}const _0xa8912e=_0x150799['right'],_0xb92aeb=_0x150799['up'],_0x684b29=_0x150799['forward'],_0x2bbae4=(0x162a+-0x3*0x64f+-0x33d+0.25)*_0x4b91da['_shadowRes'+'olution']/_0x1acb31,_0xd30d18=Math['ceil'](Ti['dot'](_0xb92aeb)*_0x2bbae4)/_0x2bbae4,_0x39404e=Math['ceil'](Ti['dot'](_0xa8912e)*_0x2bbae4)/_0x2bbae4,_0x326290=_0xb92aeb['mulScalar'](_0xd30d18),_0x14d4f8=_0xa8912e['mulScalar'](_0x39404e),_0x493231=Ti['dot'](_0x684b29),_0x46ac86=_0x684b29['mulScalar'](_0x493231);Ti['add2'](_0x326290,_0x14d4f8)['add'](_0x46ac86),_0x150799['setPositio'+'n'](Ti),_0x150799['translateL'+'ocal'](0x1816*-0x1+-0x18*-0xb9+0x6be,0x17*0x101+0x2ce+-0x19e5,-0x34a57*-0x9+-0xfaa11+0x14f42),_0x1d8c94['nearClip']=0x1df1+0x557*-0x3+-0xdec+0.01,_0x1d8c94['farClip']=0x1edffa+-0x161*-0xd7+-0x1*0x183f1,_0x1d8c94['orthoHeigh'+'t']=_0x1acb31,this['renderer']['updateCame'+'raFrustum'](_0x1d8c94),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5d5aa5,_0x4b91da,_0x3a3e2b['visibleCas'+'ters'],_0x1d8c94,_0x575de7);const _0x4be1e0=0x20c*0x10+0x9cf+-0x2a8e<<_0x5b9f19,_0xa86a7a=_0x3a3e2b['visibleCas'+'ters'],_0x1ec6aa=_0xa86a7a['length'];let _0x2282a5=-0x792+-0xce*0x22+0x2*0x1177;for(let _0x37896f=0x12a*-0x1c+0x116b+-0x25*-0x69;_0x37896f<_0x1ec6aa;_0x37896f++){const _0x5c10f5=_0xa86a7a[_0x37896f];_0x5c10f5['shadowCasc'+'adeMask']&_0x4be1e0&&(_0xa86a7a[_0x2282a5++]=_0x5c10f5,_0x2282a5===0x1611+0x755+-0x1d65?lc['copy'](_0x5c10f5['aabb']):lc['add'](_0x5c10f5['aabb']));}_0x1ec6aa!==_0x2282a5&&(_0xa86a7a['length']=_0x2282a5),H_['copy'](_0x150799['getWorldTr'+'ansform']())['invert']();const _0x5eb87c=Nb(H_,lc['getMin'](),lc['getMax']());_0x150799['translateL'+'ocal'](-0x246f+-0xe51+0x32c0,0x175*0x16+-0x4e*-0x5a+0x2*-0x1dbd,_0x5eb87c['max']+(0x1*-0x2152+-0x6*-0x44e+-0x89*-0xe+0.1)),_0x1d8c94['farClip']=_0x5eb87c['max']-_0x5eb87c['min']+(0x3*-0x2bf+-0x495+0xcd2+0.2),_0x3a3e2b['projection'+'Compensati'+'on']=_0x1acb31;}}['generateSp'+'litDistanc'+'es'](_0x653959,_0x5fe967,_0x5a285a){_0x653959['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x5a285a);for(let _0x324429=0x171*-0x11+0x161f+0x263;_0x324429<_0x653959['numCascade'+'s'];_0x324429++){const _0x4c667e=_0x324429/_0x653959['numCascade'+'s'],_0x30cf5d=_0x5fe967+(_0x5a285a-_0x5fe967)*_0x4c667e,_0x20caeb=_0x5fe967*(_0x5a285a/_0x5fe967)**_0x4c667e,_0x423314=Y['lerp'](_0x30cf5d,_0x20caeb,_0x653959['cascadeDis'+'tribution']);_0x653959['_shadowCas'+'cadeDistan'+'ces'][_0x324429-(-0xea+0x1d2d+-0x1c42)]=_0x423314;}}['getLightRe'+'nderPass'](_0x9f3883,_0x2ca05b){w['assert'](_0x9f3883&&_0x9f3883['_type']===ve);let _0x309be6=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x9f3883)){const _0x5a3a5e=_0x9f3883['numShadowF'+'aces'],_0x2d303d=_0x9f3883['shadowUpda'+'teOverride'+'s'];let _0x501bfa=!(0xaa3+-0x1411+0x96e),_0x47e41e;for(let _0x54b6cb=-0x92a+0xf8e*-0x1+0x18b8;_0x54b6cb<_0x5a3a5e;_0x54b6cb++)(_0x2d303d==null?void(0x10f9+-0x1873+-0x57*-0x16):_0x2d303d[_0x54b6cb])===Ps&&(_0x501bfa=!(0x80*-0x47+-0x1f1b+-0xc*-0x58d)),_0x47e41e=this['shadowRend'+'erer']['prepareFac'+'e'](_0x9f3883,_0x2ca05b,_0x54b6cb);_0x309be6=new Fb(this['device'],this['shadowRend'+'erer'],_0x9f3883,_0x2ca05b,_0x501bfa),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x309be6,_0x47e41e,_0x501bfa);}return _0x309be6;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x1bdc+-0x17f5*-0x1+0x33cf*-0x1),lo=new re(-0x1b7d*0x1+-0x109*0xe+-0x14fe*-0x2,-0x81e+-0xb51*0x1+-0x2*-0x9b8,-0x4d*-0x4d+0x10*0xd3+-0x2459,0x1*0x10d+0x239d+-0x24aa),X_=new te();function Ub(_0x52fcd7,_0x450db3){return Math['exp'](-(_0x52fcd7*_0x52fcd7)/((0x196*0x5+-0x3*-0x305+-0x10fb)*_0x450db3*_0x450db3));}function Bb(_0x450420){const _0x480e76=(_0x450420-(0xd54*0x1+-0x1*-0x32c+-0x107f))/(-0x1eb0+-0x2485+0x433b),_0xd2dcd2=(_0x450420-(-0x1*0x272+0x2035*0x1+-0x1dc2))*(-0x1bc2+0x147b+0x45*0x1b+0.5),_0x35eb23=new Array(_0x450420);let _0x16945f=0x11*-0x8b+0x10de+-0x55*0x17;for(let _0x50d87e=-0x21bf*-0x1+0x286*-0xf+0x41b;_0x50d87e<_0x450420;++_0x50d87e)_0x35eb23[_0x50d87e]=Ub(_0x50d87e-_0xd2dcd2,_0x480e76),_0x16945f+=_0x35eb23[_0x50d87e];for(let _0x227048=0x616*0x2+0x2*-0xd3b+-0x3b*-0x3e;_0x227048<_0x450420;++_0x227048)_0x35eb23[_0x227048]/=_0x16945f;return _0x35eb23;}class Cv{constructor(_0x15abd2,_0x4bf2eb){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x15abd2['device'],this['renderer']=_0x15abd2,this['lightTextu'+'reAtlas']=_0x4bf2eb);const _0x22e748=this['device']['scope'];this['sourceId']=_0x22e748['resolve']('source'),this['pixelOffse'+'tId']=_0x22e748['resolve']('pixelOffse'+'t'),this['weightId']=_0x22e748['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x22e748['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0xc0+0xe*0x1f6+-0x1c33),!(-0xf29+-0x197f*-0x1+0x211*-0x5),!(0x2083+0x4f5+-0x2577),!(0x203d+-0x2513+0x15*0x3b));}static['createShad'+'owCamera'](_0x2b12a5,_0x3fd191,_0x5052a7){const _0x33ba9d=Wn['create']('ShadowCame'+'ra',_0x3fd191,_0x5052a7),_0x2195f5=qi['get'](_0x2b12a5);w['assert'](_0x2195f5);const _0x6a54d1=(_0x2195f5==null?void(0x10d8*-0x1+-0xcaf+0x1d87):_0x2195f5['vsm'])??!(-0x434+-0x10bc+-0x14f1*-0x1),_0x2d38e3=(_0x2195f5==null?void(0x1*-0xb87+-0x674+0x11fb):_0x2195f5['pcf'])??!(0x119*0x7+-0x1*-0x9ee+-0x119c);return _0x6a54d1?_0x33ba9d['clearColor']=new ie(-0x1476+-0x1809+0x2c7f,-0xcf5+-0x1f*0x9c+0x1fd9,-0x1a4a+0x1*-0xccf+0x2719,-0x1*0x15cd+-0x1b09+0x30d6):_0x33ba9d['clearColor']=new ie(-0xc92*0x1+-0x1*0x1d79+0x9c*0x45,0x1f23+-0x919*0x1+0x1609*-0x1,-0x3*0x412+0x35*-0x4f+0x1c92,0x5*0x35+0x133*0x1d+0x59*-0x67),_0x33ba9d['clearDepth'+'Buffer']=!(-0x1986+0x1f5f*-0x1+0x38e5),_0x33ba9d['clearStenc'+'ilBuffer']=!(-0x248b+0xe1d*0x1+0x166f),_0x33ba9d['clearColor'+'Buffer']=!_0x2d38e3,_0x33ba9d;}['_cullShado'+'wCastersIn'+'ternal'](_0x1b1622,_0x3e694b,_0x3d7951){const _0x452183=_0x1b1622['length'];for(let _0x2792fe=0x3*0xbcb+-0x20a8+-0x2b9;_0x2792fe<_0x452183;_0x2792fe++){const _0x39e623=_0x1b1622[_0x2792fe];_0x39e623['castShadow']&&(!_0x39e623['cull']||_0x39e623['_isVisible'](_0x3d7951))&&(_0x39e623['visibleThi'+'sFrame']=!(0x4b*0x8+-0x1c56+0x19fe),_0x3e694b['push'](_0x39e623));}}['cullShadow'+'Casters'](_0x515a54,_0x35719c,_0x1adb40,_0x3f20e7,_0x284ab6){var _0x5c8d66,_0x11dc76;if((_0x5c8d66=this['renderer']['scene'])==null||_0x5c8d66['fire'](mv,_0x3f20e7),_0x1adb40['length']=0xd6b+-0x10b9+0x34e,_0x284ab6)this['_cullShado'+'wCastersIn'+'ternal'](_0x284ab6,_0x1adb40,_0x3f20e7);else{const _0xa562a3=_0x515a54['layerList'],_0x2e5220=_0xa562a3['length'];for(let _0xde2c0e=0x1ba9+-0x27*-0x5a+-0x295f;_0xde2c0e<_0x2e5220;_0xde2c0e++){const _0x33ee4d=_0xa562a3[_0xde2c0e];_0x33ee4d['_lightsSet']['has'](_0x35719c)&&(rf['has'](_0x33ee4d)||(rf['add'](_0x33ee4d),this['_cullShado'+'wCastersIn'+'ternal'](_0x33ee4d['shadowCast'+'ers'],_0x1adb40,_0x3f20e7)));}rf['clear']();}_0x1adb40['sort'](this['sortCompar'+'eShader']),(_0x11dc76=this['renderer']['scene'])==null||_0x11dc76['fire'](_v,_0x3f20e7);}['sortCompar'+'eShader'](_0x290247,_0x15a9b7){const _0x298137=_0x290247['_sortKeySh'+'adow'],_0x136eae=_0x15a9b7['_sortKeySh'+'adow'];return _0x298137===_0x136eae?_0x15a9b7['mesh']['id']-_0x290247['mesh']['id']:_0x136eae-_0x298137;}['setupRende'+'rState'](_0x54dcf8,_0x298c11){const _0x46148b=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x298c11['_isPcf']:_0x298c11['_isPcf']&&_0x298c11['_type']!==Ke;_0x54dcf8['setBlendSt'+'ate'](_0x46148b?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x54dcf8['setDepthSt'+'ate'](_0x298c11['shadowDept'+'hState']),_0x54dcf8['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x39a902,_0x10ba73,_0x1d5671,_0x27c6ce){const _0x27f8ee=_0x10ba73['_node'];_0x39a902['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x27f8ee['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x39a902['attenuatio'+'nEnd'])),W_['setTRS'](_0x27f8ee['getPositio'+'n'](),_0x27f8ee['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x10ba73['projection'+'Matrix'],W_);const _0x4e75f2=_0x1d5671['shadowView'+'port'];_0x10ba73['rect']=_0x4e75f2,_0x10ba73['scissorRec'+'t']=_0x1d5671['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x4e75f2['x'],_0x4e75f2['y'],_0x4e75f2['z'],_0x4e75f2['w']),_0x1d5671['shadowMatr'+'ix']['mul2'](X_,$_),_0x39a902['_type']===ve&&_0x39a902['_shadowMat'+'rixPalette']['set'](_0x1d5671['shadowMatr'+'ix']['data'],_0x27c6ce*(-0xd3+-0xd*0x11b+0x5d*0x2a));}['getShadowP'+'ass'](_0x1ca7b3){var _0xfdb2f7;const _0x19743a=_0x1ca7b3['_type'],_0x2db498=_0x1ca7b3['_shadowTyp'+'e'];let _0x261ec8=(_0xfdb2f7=this['shadowPass'+'Cache'][_0x19743a])==null?void(0x125a+0x1020+-0x227a):_0xfdb2f7[_0x2db498];if(!_0x261ec8){const _0x591d36='ShadowPass'+'_'+_0x19743a+'_'+_0x2db498;_0x261ec8=Si['get'](this['device'])['allocate'](_0x591d36,{'isShadow':!(-0x1a2a+0x4bd+0x156d),'lightType':_0x19743a,'shadowType':_0x2db498}),this['shadowPass'+'Cache'][_0x19743a]||(this['shadowPass'+'Cache'][_0x19743a]=[]),this['shadowPass'+'Cache'][_0x19743a][_0x2db498]=_0x261ec8;}return _0x261ec8['index'];}['submitCast'+'ers'](_0x27b771,_0x3eb5f8,_0x5ce1e5){var _0x17c547;const _0x44e10f=this['device'],_0x46b4ab=this['renderer'],_0xd5a68a=_0x46b4ab['scene'],_0x302ecb=0x1017+0x2d5+0x12eb*-0x1<<cm,_0x5179d7=this['getShadowP'+'ass'](_0x3eb5f8),_0x5f0abd=_0x5ce1e5['shaderPara'+'ms'],_0x26e9d5=_0x5ce1e5['renderTarg'+'et']['flipY']?-(0xc0e*-0x1+-0x7*0x42d+0x294a):0x1eb4+0xfed+0x2ea0*-0x1,_0xeafb57=_0x27b771['length'];for(let _0x4da2a2=0xa2a+0xda5+-0x17cf;_0x4da2a2<_0xeafb57;_0x4da2a2++){const _0x360bd5=_0x27b771[_0x4da2a2],_0x187dc1=_0x360bd5['mesh'],_0x434755=_0x360bd5['instancing'+'Data'];if(_0x434755&&_0x434755['count']<=0x237a+-0x19*0x17f+-0x11*-0x1d)continue;_0x360bd5['ensureMate'+'rial'](_0x44e10f);const _0x58807e=_0x360bd5['material'];Q['pushGpuMar'+'ker'](_0x44e10f,'Node:\x20'+_0x360bd5['node']['name']+(',\x20Material'+':\x20')+_0x58807e['name']),_0x46b4ab['setBaseCon'+'stants'](_0x44e10f,_0x58807e),_0x46b4ab['setSkinnin'+'g'](_0x44e10f,_0x360bd5),_0x58807e['dirty']&&(_0x58807e['updateUnif'+'orms'](_0x44e10f,_0xd5a68a),_0x58807e['dirty']=!(-0x436*0x7+0x1389+0x9f2)),_0x46b4ab['setupCullM'+'ode'](!(-0x1a9d+0x1e72+0x9*-0x6d),_0x26e9d5,_0x360bd5),_0x58807e['setParamet'+'ers'](_0x44e10f),_0x360bd5['setParamet'+'ers'](_0x44e10f,_0x302ecb);const _0x4ec213=_0x360bd5['getShaderI'+'nstance'](_0x5179d7,0xc77+0x1e62+0x1*-0x2ad9,_0xd5a68a,_0x5f0abd,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x20a2ff=_0x4ec213['shader'];if(w['assert'](_0x20a2ff,'no\x20shader\x20'+'for\x20pass\x20'+_0x5179d7,_0x58807e),_0x20a2ff['failed'])continue;_0x360bd5['_sortKeySh'+'adow']=_0x20a2ff['id'],_0x44e10f['setShader'](_0x20a2ff),_0x46b4ab['setVertexB'+'uffers'](_0x44e10f,_0x187dc1),_0x46b4ab['setMorphin'+'g'](_0x44e10f,_0x360bd5['morphInsta'+'nce']),_0x434755&&_0x44e10f['setVertexB'+'uffer'](_0x434755['vertexBuff'+'er']),_0x46b4ab['setMeshIns'+'tanceMatri'+'ces'](_0x360bd5),_0x46b4ab['setupMeshU'+'niformBuff'+'ers'](_0x4ec213);const _0x287198=_0x360bd5['renderStyl'+'e'],_0x1e5517=(_0x17c547=_0x360bd5['indirectDa'+'ta'])==null?void(-0x6ef+-0x1b17+0x2206):_0x17c547['get'](_0x5ce1e5);_0x44e10f['draw'](_0x187dc1['primitive'][_0x287198],_0x187dc1['indexBuffe'+'r'][_0x287198],_0x434755==null?void(0x6*0x4d0+-0x7a3*0x2+-0xd9a):_0x434755['count'],_0x1e5517),_0x46b4ab['_shadowDra'+'wCalls']++,_0x434755&&_0x46b4ab['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x44e10f);}}['needsShado'+'wRendering'](_0x42ab4d){const _0xf9de37=_0x42ab4d['enabled']&&_0x42ab4d['castShadow'+'s']&&_0x42ab4d['shadowUpda'+'teMode']!==Ps&&_0x42ab4d['visibleThi'+'sFrame'];return _0x42ab4d['shadowUpda'+'teMode']===xr&&(_0x42ab4d['shadowUpda'+'teMode']=Ps),_0xf9de37&&(this['renderer']['_shadowMap'+'Updates']+=_0x42ab4d['numShadowF'+'aces']),_0xf9de37;}['getLightRe'+'nderData'](_0x3a6738,_0x5456a5,_0x1b1d6f){return _0x3a6738['getRenderD'+'ata'](_0x3a6738['_type']===ve?_0x5456a5:null,_0x1b1d6f);}['setupRende'+'rPass'](_0x1c747f,_0x849233,_0x7d8c70){const _0x2cc62b=_0x849233['renderTarg'+'et'];_0x1c747f['init'](_0x2cc62b),_0x1c747f['depthStenc'+'ilOps']['clearDepth'+'Value']=0x205d+-0x4*0x941+0x4a8,_0x1c747f['depthStenc'+'ilOps']['clearDepth']=_0x7d8c70,_0x2cc62b['depthBuffe'+'r']?_0x1c747f['depthStenc'+'ilOps']['storeDepth']=!(0x223e+0x1*-0x541+-0x1cfd):(_0x1c747f['colorOps']['clearValue']['copy'](_0x849233['clearColor']),_0x1c747f['colorOps']['clear']=_0x7d8c70,_0x1c747f['depthStenc'+'ilOps']['storeDepth']=!(-0x2260+-0x7cb*0x2+0x1*0x31f7)),_0x1c747f['requiresCu'+'bemaps']=!(-0x37b+0xbe*-0x8+0x324*0x3);}['prepareFac'+'e'](_0x147bbc,_0x8bf76b,_0x795248){const _0x54ff12=_0x147bbc['_type'],_0x543809=this['getLightRe'+'nderData'](_0x147bbc,_0x8bf76b,_0x795248)['shadowCame'+'ra'],_0x4fc370=_0x54ff12===ve?-0x1d99*-0x1+0x24b*-0x7+-0xd8c:_0x795248;return _0x543809['renderTarg'+'et']=_0x147bbc['_shadowMap']['renderTarg'+'ets'][_0x4fc370],_0x543809;}['renderFace'](_0x37b17b,_0x424fa5,_0x5cc79e,_0x3218d3,_0x422ca4=!(0x2257+0xee4+-0x313b)){const _0x21888d=this['device'],_0x4b9559=de();Q['pushGpuMar'+'ker'](_0x21888d,'SHADOW\x20'+_0x37b17b['_node']['name']+'\x20FACE\x20'+_0x5cc79e);const _0x327bce=this['getLightRe'+'nderData'](_0x37b17b,_0x424fa5,_0x5cc79e),_0x1dd974=_0x327bce['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x37b17b,_0x1dd974,_0x327bce,_0x5cc79e);const _0x3b5fa3=_0x1dd974['renderTarg'+'et'],_0x30d34e=this['renderer'];_0x30d34e['setCameraU'+'niforms'](_0x1dd974,_0x3b5fa3),_0x21888d['supportsUn'+'iformBuffe'+'rs']&&_0x30d34e['setupViewU'+'niformBuff'+'ers'](_0x327bce['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x422ca4?(_0x30d34e['setupViewp'+'ort'](_0x1dd974,_0x3b5fa3),_0x3218d3&&_0x30d34e['clear'](_0x1dd974)):_0x30d34e['clearView'](_0x1dd974,_0x3b5fa3,!(0x1*-0x188f+-0xb91+0x8*0x484),!(0x2365+0x1bc2+-0x3f26)),this['setupRende'+'rState'](_0x21888d,_0x37b17b),this['submitCast'+'ers'](_0x327bce['visibleCas'+'ters'],_0x37b17b,_0x1dd974),Q['popGpuMark'+'er'](_0x21888d),_0x30d34e['_shadowMap'+'Time']+=de()-_0x4b9559;}['render'](_0x217041,_0xe34e57,_0x3afb47=!(0x1*0x1a62+-0x752*-0x4+0x32*-0x11d)){if(this['needsShado'+'wRendering'](_0x217041)){const _0x2d5a64=_0x217041['numShadowF'+'aces'];for(let _0x1c68a5=-0x8*-0x233+-0x136d+0x1d5;_0x1c68a5<_0x2d5a64;_0x1c68a5++)this['prepareFac'+'e'](_0x217041,_0xe34e57,_0x1c68a5),this['renderFace'](_0x217041,_0xe34e57,_0x1c68a5,!(0x1*0x18d7+-0x3*0x4d6+0x211*-0x5),_0x3afb47);this['renderVsm'](_0x217041,_0xe34e57);}}['renderVsm'](_0x55308b,_0x55c249){_0x55308b['_isVsm']&&_0x55308b['_vsmBlurSi'+'ze']>0x21d8+-0xa4f+-0x1788&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x55308b['_type']===ve)&&this['applyVsmBl'+'ur'](_0x55308b,_0x55c249);}['getVsmBlur'+'Shader'](_0x134504,_0x57c615){const _0xa9efd9=this['blurVsmSha'+'der'];let _0x48c6f4=_0xa9efd9[_0x134504][_0x57c615];if(!_0x48c6f4){this['blurVsmWei'+'ghts'][_0x57c615]=Bb(_0x57c615);const _0xd632a7=new Map();_0xd632a7['set']('{SAMPLES}',_0x57c615),_0x134504===-0xc5e+0xd*-0x91+0x13bc&&_0xd632a7['set']('GAUSS',''),_0x48c6f4=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x134504+_0x57c615,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0xd632a7}),_0xa9efd9[_0x134504][_0x57c615]=_0x48c6f4;}return _0x48c6f4;}['applyVsmBl'+'ur'](_0x3e0e07,_0x4687d2){const _0xf3163c=this['device'];Q['pushGpuMar'+'ker'](_0xf3163c,'VSM\x20'+_0x3e0e07['_node']['name']),_0xf3163c['setBlendSt'+'ate'](pt['NOBLEND']);const _0x494ab2=_0x3e0e07['getRenderD'+'ata'](_0x3e0e07['_type']===ve?_0x4687d2:null,-0x4*-0x92c+-0x25e5+0x135)['shadowCame'+'ra']['renderTarg'+'et'],_0x360703=this['renderer']['shadowMapC'+'ache']['get'](_0xf3163c,_0x3e0e07),_0x44cb91=_0x360703['renderTarg'+'ets'][-0xab*-0xf+-0x5b9+-0x44c],_0x3603e4=_0x3e0e07['vsmBlurMod'+'e'],_0x34657a=_0x3e0e07['_vsmBlurSi'+'ze'],_0x4b38ac=this['getVsmBlur'+'Shader'](_0x3603e4,_0x34657a);lo['z']=_0x3e0e07['_shadowRes'+'olution']-(0x5*-0x57d+0xb*0x1c7+0x7e6),lo['w']=lo['z'],this['sourceId']['setValue'](_0x494ab2['colorBuffe'+'r']),Fr[-0x2f6*-0x3+-0x13*-0x98+-0x142a]=(0x171b+0x695+0x3*-0x9e5)/_0x3e0e07['_shadowRes'+'olution'],Fr[-0x120c+0x1402+0x1*-0x1f5]=0xf0c+0x1*0xe73+-0x1d7f,this['pixelOffse'+'tId']['setValue'](Fr),_0x3603e4===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x34657a]),Ar(_0xf3163c,_0x44cb91,_0x4b38ac,null,lo),this['sourceId']['setValue'](_0x44cb91['colorBuffe'+'r']),Fr[-0x222c+0x1*0x25a2+-0x375]=Fr[-0x41*0x65+0x97e+0x1027],Fr[-0x1*0x24af+0xa2b+0x1a84]=0x6b0*0x4+0x306+-0x1dc6,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0xf3163c,_0x494ab2,_0x4b38ac,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x3e0e07,_0x360703),Q['popGpuMark'+'er'](_0xf3163c);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x258cca){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x258cca;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x597b4a=>{_0x597b4a['destroy']();}),this['_allocated']['length']=-0x816+-0x290+0xaa6;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x53560e=new cu(this['device']);_0x53560e['name']='ClusterEmp'+'ty',_0x53560e['update']([]),this['_empty']=_0x53560e;}return this['_empty'];}['assign'](_0x536a4c){const _0x36ec37=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0xbb*-0x27+0x758+0x1*0x1525,this['_clusters']['clear']();const _0x40ebdd=_0x536a4c['length'];for(let _0x1cf7ca=-0xe57+-0xca6+-0x2f*-0x93;_0x1cf7ca<_0x40ebdd;_0x1cf7ca++){const _0x55e33e=_0x536a4c[_0x1cf7ca]['renderActi'+'ons'];if(_0x55e33e){const _0xe6d07f=_0x55e33e['length'];for(let _0x31582e=-0x11ee+0x2545+0x1*-0x1357;_0x31582e<_0xe6d07f;_0x31582e++){const _0xf35227=_0x55e33e[_0x31582e];_0xf35227['lightClust'+'ers']=null;const _0x2af200=_0xf35227['layer'];if(_0x2af200['hasCluster'+'edLights']&&_0x2af200['meshInstan'+'ces']['length']){const _0x25b629=_0x2af200['getLightId'+'Hash'](),_0x29c29f=this['_clusters']['get'](_0x25b629);let _0x4b8b82=_0x29c29f==null?void(-0x1c56+0x1*0x423+-0x15*-0x127):_0x29c29f['lightClust'+'ers'];_0x4b8b82||(_0x4b8b82=cc['pop']()??new cu(this['device']),Ea['setName'](_0x4b8b82,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x4b8b82),this['_clusters']['set'](_0x25b629,_0xf35227)),_0xf35227['lightClust'+'ers']=_0x4b8b82;}_0xf35227['lightClust'+'ers']||(_0xf35227['lightClust'+'ers']=_0x36ec37);}}}cc['forEach'](_0x317a54=>_0x317a54['destroy']()),cc['length']=0x1cfe+0x1799+0x1*-0x3497;}['update'](_0x229232,_0x34e63a){this['assign'](_0x229232),this['_clusters']['forEach'](_0x384f6e=>{const _0x142e80=_0x384f6e['layer'];_0x384f6e['lightClust'+'ers']['update'](_0x142e80['clusteredL'+'ightsSet'],_0x34e63a);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x11ed02,_0x3b2a11){super(_0x11ed02),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x1f45+0x21f0+-0x4134)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x3b2a11,this['requiresCu'+'bemaps']=!(-0x3*0x70b+0x1f3*-0x3+-0x1afb*-0x1),this['blitTextur'+'eId']=_0x11ed02['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x11ed02['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x11ed02['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x35e83a,_0x53279b,_0x863af1;(_0x35e83a=this['_quadRende'+'rer2D'])==null||_0x35e83a['destroy'](),this['_quadRende'+'rer2D']=null,(_0x53279b=this['_quadRende'+'rerCube'])==null||_0x53279b['destroy'](),this['_quadRende'+'rerCube']=null,(_0x863af1=this['_evtDevice'+'Restored'])==null||_0x863af1['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x29462e,_0x2d3616){w['assert'](_0x29462e);const _0x3743bc=new pm(_0x29462e['device'],_0x2d3616);return _0x3743bc['init'](_0x29462e),_0x3743bc['colorOps']['clear']=!(-0x1129+0xbf*0x2+-0x4*-0x3eb),_0x3743bc['depthStenc'+'ilOps']['clearDepth']=!(-0xaa7+0x103d+-0x595),_0x3743bc;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0x1*-0x371+-0x24d2+0x2161);}['update'](_0x3300cb){const _0x4cbb7c=this['_filteredL'+'ights'];this['filter'](_0x3300cb,_0x4cbb7c),this['executeEna'+'bled']=_0x4cbb7c['length']>0x13e2+0x14ee+0xa34*-0x4;}['filter'](_0x5cb807,_0x3076ed){for(let _0x2aa30d=0x1def*-0x1+-0xb5+0x1ea4;_0x2aa30d<_0x5cb807['length'];_0x2aa30d++){const _0x1eb55c=_0x5cb807[_0x2aa30d];_0x1eb55c['_type']!==ve&&_0x1eb55c['atlasViewp'+'ortAllocat'+'ed']&&(!_0x1eb55c['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x1eb55c['enabled']&&_0x1eb55c['cookie']&&_0x1eb55c['visibleThi'+'sFrame']&&_0x3076ed['push'](_0x1eb55c));}this['_forceCopy']=!(0x10c*0x6+-0xce2*-0x3+-0x2ced);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x4c32bc=-0x165+0x119d*-0x2+0x249f;_0x4c32bc<-0x103*-0x1+-0xc98+0xb9b;_0x4c32bc++){const _0xc594cc=Wn['create'](null,Ke,_0x4c32bc),_0x327e37=_0xc594cc['projection'+'Matrix'],_0x579244=_0xc594cc['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x4c32bc]=new te()['mul2'](_0x327e37,_0x579244)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x303e08=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x303e08);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x13aa38=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x13aa38);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x3ca3cb=this['device'];_0x3ca3cb['setBlendSt'+'ate'](pt['NOBLEND']),_0x3ca3cb['setCullMod'+'e'](bt),_0x3ca3cb['setDepthSt'+'ate'](Yt['NODEPTH']),_0x3ca3cb['setStencil'+'State']();const _0x33afa3=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0xf3f600=this['_cubeSlots'+'Offsets'],_0x53d0c5=this['_filteredL'+'ights'];for(let _0x19c243=0x1f17+-0x871*0x2+0x1*-0xe35;_0x19c243<_0x53d0c5['length'];_0x19c243++){const _0x3a353c=_0x53d0c5[_0x19c243];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x3a353c['_node']['name']);const _0x333109=_0x3a353c['numShadowF'+'aces'],_0x448a7a=_0x333109>-0x892*-0x2+0x2157+-0x327a?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x333109>0x4f1+0x1149+-0x1639&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x3a353c['cookie']);for(let _0x1de27d=-0x536*0x2+-0x9aa+-0x1*-0x1416;_0x1de27d<_0x333109;_0x1de27d++){if(rr['copy'](_0x3a353c['atlasViewp'+'ort']),_0x333109>0x1b19+0x517*0x6+-0x39a2){const _0x2ca27b=rr['z']/(-0x26d2+0xda5+0x1930),_0xec11d2=_0xf3f600[_0x1de27d];rr['x']+=_0x2ca27b*_0xec11d2['x'],rr['y']+=_0x2ca27b*_0xec11d2['y'],rr['z']=_0x2ca27b,rr['w']=_0x2ca27b,this['invViewPro'+'jId']['setValue'](af[_0x1de27d]['data']);}rr['mulScalar'](_0x33afa3),_0x448a7a['render'](rr);}Q['popGpuMark'+'er'](_0x3ca3cb);}_0x53d0c5['length']=-0x1*0x2bf+-0x157a*-0x1+-0x7*0x2ad;}}class Vb extends ys{constructor(_0x4cb1c2,_0x8f4491,_0x19bdfc){super(_0x4cb1c2),this['requiresCu'+'bemaps']=!(0x8*0x11+-0x6ed+0x2a*0x27),this['shadowRend'+'erer']=_0x8f4491,this['shadowRend'+'ererLocal']=_0x19bdfc;}['update'](_0x5672bb){const _0x3e094e=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x173c2b=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3e094e,_0x5672bb),_0x2402b6=_0x3e094e['length'];this['enabled']=_0x2402b6>-0x1745*-0x1+0x12d*-0x6+0x7*-0x251,_0x2402b6&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x173c2b,!(0x65f+-0x2055*0x1+0x19f7));}['execute'](){const _0x474eb7=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4c6f1e=_0x474eb7['length'];for(let _0x16581d=0x1924+0x15b2+-0x2ed6;_0x16581d<_0x4c6f1e;_0x16581d++){const _0x1e32b9=_0x474eb7[_0x16581d];for(let _0x3de0b4=-0x26dd+0x53*-0x78+0x4dc5*0x1;_0x3de0b4<_0x1e32b9['numShadowF'+'aces'];_0x3de0b4++)this['shadowRend'+'erer']['renderFace'](_0x1e32b9,null,_0x3de0b4,!(-0x2100+0xd9*0x4+0x1d9c));}_0x474eb7['length']=0x2*0xe98+-0xdf*0x19+-0x769;}}class Gb extends ys{constructor(_0x575654,_0x225000,_0x563e92,_0x1c9a5c,_0x557f59){super(_0x575654),this['renderer']=_0x225000,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x557f59['cookieRend'+'erTarget'],_0x557f59['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x575654,_0x563e92,_0x1c9a5c),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x3fce28,_0x4afe6a,_0x54bd26,_0x254342,_0x12885b){this['frameGraph']=_0x3fce28,this['cookiesRen'+'derPass']['enabled']=_0x54bd26,_0x54bd26&&this['cookiesRen'+'derPass']['update'](_0x254342),this['shadowRend'+'erPass']['enabled']=_0x4afe6a,_0x4afe6a&&this['shadowRend'+'erPass']['update'](_0x12885b);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x53111a=de(),{renderer:_0x538d92}=this,{scene:_0x48554d}=_0x538d92;_0x538d92['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x48554d['lighting']),_0x538d92['_lightClus'+'tersTime']+=de()-_0x53111a,_0x538d92['_lightClus'+'ters']=_0x538d92['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x1*0x17eb+-0xa50+0x17d*0x17;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0xdc3+0x2*-0x9f7+0x62c,-(-0x983+-0x133a*-0x1+0x16*-0x71),0x1349+0x1*-0x62b+-0xd1d),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x1*-0x1d89+-0xc0d+0x2997,0x3*-0x756+-0x1f6*-0x7+0x848,0x18*0x13+0x1ac7+-0x1c8f,0x3d*0x5+-0x35*-0x81+0x1be6*-0x1,-0x2619+-0xa*-0x346+-0x55d*-0x1,-0x149c+0xdc3+0x36d*0x2,-0x2554+0x2428+0x12c,-0x36f*-0x3+0xd64+-0x5*0x4bd,0xfeb+-0x2*0xd2b+0x7*0x17d,0xe04+0x1173+-0x1f77,0x2*-0xe3d+-0x587+0x1*0x2201+0.5,-0xd7*0x16+0xdc4+-0x192*-0x3,0x1692+0x1b90+-0x592*0x9,-0xbd4+0xd*0x15d+-0x5e5,-0xa7*0x12+0x192a+-0xd6c+0.5,-0x693+0x74+0x620]),K_=[new J(0x1ed*0x9+-0x6*-0x65b+0x3777*-0x1+0.5,-0x3c7*-0x4+0x322+-0x123e+0.333333),new J(0xd01+0x2*-0x91+-0xbdf+0.25,0x2*-0x4cb+0x1637+-0xca1+0.666667),new J(0x1b4+-0x1*-0x1a1e+-0x1bd2+0.75,-0x289*-0xa+-0x1050+0xb2*-0xd+0.111111),new J(0xd*0x1cd+-0x1c21*-0x1+-0x338a+0.125,0xa2e+-0x1669*-0x1+-0x2097+0.444444),new J(0x1216+0x423+0x1639*-0x1+0.625,0xf3f+0x2*0x2ac+0x1497*-0x1+0.777778),new J(-0xe11+0x669+0x7a8+0.375,-0x2427+0x1275+-0x1c5*-0xa+0.222222),new J(-0xac*0x2c+0x3b6+0x19da+0.875,-0x1703+0x11cf+0x534+0.555556),new J(-0x1253+-0x1*0x825+0x1a78+0.0625,0xceb*-0x3+0x4bf+0xb56*0x3+0.888889),new J(-0xe*-0x42+0x1381*-0x1+-0x1*-0xfe5+0.5625,-0x4e*-0x5e+0x448*0x2+0x4*-0x94d+0.037037),new J(0x1*-0x2169+-0x1027+0x319*0x10+0.3125,-0x205c+-0x175e+-0x7*-0x7f6+0.37037),new J(0x26b7+-0x5*-0x5b3+0x4cd*-0xe+0.8125,-0x11fe+-0x135d+-0x1*-0x255b+0.703704),new J(-0x2ff+0x7*-0x4+0x31b+0.1875,0x2231*0x1+-0x1*-0x1e49+0x407a*-0x1+0.148148),new J(0x1d*-0x2+-0x5*0x4b7+-0x3*-0x7ef+0.6875,0x1ad1+0xcde+0x27af*-0x1+0.481481),new J(-0x2*0x298+0x5*0x2e7+-0x953+0.4375,0x88d*-0x1+0xeed*-0x2+0x2667+0.814815),new J(-0x1965+0x949+-0x80e*-0x2+0.9375,-0x1726+-0x318+0x1*0x1a3e+0.259259),new J(-0x1ece+-0x189d+0x376b+0.03125,0x149*0x15+0x37b+-0x1e78+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x4dc89b){h(this,'clustersDe'+'bugRendere'+'d',!(-0x12b3+-0x23*-0x35+-0x7*-0x1a3)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0x1c35+0x997*-0x4+0xaa2)),(this['device']=_0x4dc89b,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x4dc89b),this['lightTextu'+'reAtlas']=new Ib(_0x4dc89b),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x1823+0x1a2b+0x2*-0x1927,this['_morphTime']=0x21aa+-0x1752+-0x2*0x52c,this['_cullTime']=-0x1fc9+-0x1cc9+-0x2*-0x1e49,this['_shadowMap'+'Time']=0x1*0x1816+0x6f4+-0xf85*0x2,this['_lightClus'+'tersTime']=0x1313+-0x3*-0x3fd+0x2*-0xf85,this['_layerComp'+'ositionUpd'+'ateTime']=-0x90*0x32+0x1*0xa6+0x1b7a,this['_shadowDra'+'wCalls']=0x14a3+0x39f+-0x2e*0x87,this['_skinDrawC'+'alls']=-0x1*0xbe1+-0x16cb+0x22ac,this['_instanced'+'DrawCalls']=-0x546+0x3*0x763+-0x10e3,this['_shadowMap'+'Updates']=0x119*0x4+-0x16a5+-0x1*-0x1241,this['_numDrawCa'+'llsCulled']=0x158c+-0x12*0x35+-0x1*0x11d2,this['_camerasRe'+'ndered']=0x19bd+-0x3a*0xa6+0xbdf*0x1,this['_lightClus'+'ters']=-0x26d5+-0x30c+0x29e1);const _0x4b28fd=_0x4dc89b['scope'];this['boneTextur'+'eId']=_0x4b28fd['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x4b28fd['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x4b28fd['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x4b28fd['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0xf60+0x4a3+-0x28*0x80),this['viewPosId']=_0x4b28fd['resolve']('view_posit'+'ion'),this['projId']=_0x4b28fd['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x4b28fd['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x4b28fd['resolve']('matrix_vie'+'w'),this['viewId3']=_0x4b28fd['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x4b28fd['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x4b28fd['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x4b28fd['resolve']('tbnBasis'),this['nearClipId']=_0x4b28fd['resolve']('camera_nea'+'r'),this['farClipId']=_0x4b28fd['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x888+-0x6c9+0xf55),this['cameraPara'+'msId']=_0x4b28fd['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x4b28fd['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x1*0x752+0x52e+-0x20*0x64),this['blueNoiseJ'+'itterVersi'+'on']=0x1f7*0x13+0x6*-0x224+-0x187d*0x1,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x179b+0xa98*-0x1+-0xcff),this['blueNoiseJ'+'itterId']=_0x4b28fd['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x4b28fd['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x4b28fd['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x4b28fd['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x4b28fd['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x4b28fd['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x7c3+-0x17*-0x145+0x31*-0x70),this['morphPosit'+'ionTex']=_0x4b28fd['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x4b28fd['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x4b28fd['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x4b28fd['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x485264,_0x49f21f){const _0x46010f=this['device'],_0x2d5549=_0x49f21f?_0x49f21f['width']:_0x46010f['width'],_0x65987d=_0x49f21f?_0x49f21f['height']:_0x46010f['height'],_0x1ebd60=_0x485264['rect'];let _0x42cf66=Math['floor'](_0x1ebd60['x']*_0x2d5549),_0x14ee67=Math['floor'](_0x1ebd60['y']*_0x65987d),_0x476edd=Math['floor'](_0x1ebd60['z']*_0x2d5549),_0x1b9c43=Math['floor'](_0x1ebd60['w']*_0x65987d);if(_0x46010f['setViewpor'+'t'](_0x42cf66,_0x14ee67,_0x476edd,_0x1b9c43),_0x485264['_scissorRe'+'ctClear']){const _0xb2b7ee=_0x485264['scissorRec'+'t'];_0x42cf66=Math['floor'](_0xb2b7ee['x']*_0x2d5549),_0x14ee67=Math['floor'](_0xb2b7ee['y']*_0x65987d),_0x476edd=Math['floor'](_0xb2b7ee['z']*_0x2d5549),_0x1b9c43=Math['floor'](_0xb2b7ee['w']*_0x65987d);}_0x46010f['setScissor'](_0x42cf66,_0x14ee67,_0x476edd,_0x1b9c43);}['setCameraU'+'niforms'](_0x4bca14,_0x55980a){var _0x49be5c,_0x200082;const _0x2d16b0=_0x55980a==null?void(0x1700+0x124a+0x7*-0x5e6):_0x55980a['flipY'];let _0x3d5485=null;if(_0x4bca14['xr']&&_0x4bca14['xr']['session']){const _0x5497f0=((_0x200082=(_0x49be5c=_0x4bca14['_node'])==null?void(-0x86e*0x1+-0x952*-0x1+-0xe4):_0x49be5c['parent'])==null?void(-0x4e*-0x24+-0x1286*-0x1+-0xebf*0x2):_0x200082['getWorldTr'+'ansform']())||null;_0x3d5485=_0x4bca14['xr']['views']['list'];for(let _0x1043be=0x685*-0x1+-0x7*-0x545+-0x1e5e;_0x1043be<_0x3d5485['length'];_0x1043be++){const _0xb0c42b=_0x3d5485[_0x1043be];_0xb0c42b['updateTran'+'sforms'](_0x5497f0),_0x4bca14['frustum']['setFromMat'+'4'](_0xb0c42b['projViewOf'+'fMat']);}}else{let _0x3f43ae=_0x4bca14['projection'+'Matrix'];_0x4bca14['calculateP'+'rojection']&&_0x4bca14['calculateP'+'rojection'](_0x3f43ae,ec);let _0x142a39=_0x4bca14['getProject'+'ionMatrixS'+'kybox']();_0x2d16b0&&(_0x3f43ae=Hb['mul2'](j_,_0x3f43ae),_0x142a39=Wb['mul2'](j_,_0x142a39)),this['device']['isWebGPU']&&(_0x3f43ae=$b['mul2'](Y_,_0x3f43ae),_0x142a39=Xb['mul2'](Y_,_0x142a39));const {jitter:_0x19b9ba}=_0x4bca14;let _0x664927=0x1*0x12a7+0x20*-0xb1+0x379,_0x29c88d=0x13ab+-0x11ae+0x1*-0x1fd;if(_0x19b9ba>-0x10a*0x7+-0x14d2+0x1f*0xe8){const _0x20d36c=_0x55980a?_0x55980a['width']:this['device']['width'],_0x28fba8=_0x55980a?_0x55980a['height']:this['device']['height'],_0x265aeb=K_[this['device']['renderVers'+'ion']%K_['length']];_0x664927=_0x19b9ba*(_0x265aeb['x']*(0xb1e+0x1fc1+-0x2add)-(-0x437*-0x5+0xa81+-0x1f93*0x1))/_0x20d36c,_0x29c88d=_0x19b9ba*(_0x265aeb['y']*(0x3e*0x8d+-0x3b1*-0x1+-0x25d5)-(0x1*0x1af+0x2065*0x1+-0xd*0x29f))/_0x28fba8,_0x3f43ae=qb['copy'](_0x3f43ae),_0x3f43ae['data'][-0x531*-0x7+0x11f3*-0x1+-0x125c]=_0x664927,_0x3f43ae['data'][0xb86+0x7d3*0x2+-0x1b23]=_0x29c88d,_0x142a39=jb['copy'](_0x142a39),_0x142a39['data'][0x19a4+0x7d3*0x3+-0x3115]=_0x664927,_0x142a39['data'][-0x11*-0x17f+0x2607+0xd*-0x4e1]=_0x29c88d,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x79c9f1=_0x19b9ba>-0x1ef7+-0x147d*-0x1+0xa7a?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0xf4e+0x2633+-0x1*0x16e5]=_0x79c9f1['x'],this['blueNoiseJ'+'itterData'][0xa8d*0x1+-0x26a*-0x6+-0x1908*0x1]=_0x79c9f1['y'],this['blueNoiseJ'+'itterData'][-0x89*-0x17+0x4*-0x184+-0x63d]=_0x79c9f1['z'],this['blueNoiseJ'+'itterData'][-0xff6+-0x597+-0x30*-0x73]=_0x79c9f1['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x3f43ae['data']),this['projSkybox'+'Id']['setValue'](_0x142a39['data']),_0x4bca14['calculateT'+'ransform'])_0x4bca14['calculateT'+'ransform'](nr,ec);else{const _0xd5def3=_0x4bca14['_node']['getPositio'+'n'](),_0xe411de=_0x4bca14['_node']['getRotatio'+'n']();nr['setTRS'](_0xd5def3,_0xe411de,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x3f43ae,Oa),this['viewProjId']['setValue'](ar['data']),_0x4bca14['_storeShad'+'erMatrices'](ar,_0x664927,_0x29c88d,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x2d16b0?-(-0x14d3+-0x17e2+-0x1*-0x2cb6):0x23ac+-0x228d+0x11e*-0x1),this['dispatchVi'+'ewPos'](_0x4bca14['_node']['getPositio'+'n']()),_0x4bca14['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x2d16b0?-(-0x1960+-0xb2+0x1a13):-0x502+-0x4cb*-0x7+-0x1c8a);const _0x521ac6=_0x4bca14['_nearClip'],_0x4cc37f=_0x4bca14['_farClip'];return this['nearClipId']['setValue'](_0x521ac6),this['farClipId']['setValue'](_0x4cc37f),this['cameraPara'+'ms'][0x7*-0x32b+-0x1db1+0x1*0x33de]=(-0xa8b+0x3*-0x355+0x148b)/_0x4cc37f,this['cameraPara'+'ms'][0xb8a*0x2+0xcfa+0x240d*-0x1]=_0x4cc37f,this['cameraPara'+'ms'][-0x2*0x3d3+0x98*-0x10+-0x225*-0x8]=_0x521ac6,this['cameraPara'+'ms'][0x1*0x128f+-0x679+-0xc13]=_0x4bca14['projection']===En?0x1977+-0x2475+0xaff:-0x1870+0xa4*-0x32+0x3878,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x4bca14['getExposur'+'e']():this['scene']['exposure']),_0x3d5485;}['clear'](_0xd4fa96,_0x3a06dd,_0x5da604,_0xa6d805){const _0x29b15d=(_0x3a06dd??_0xd4fa96['_clearColo'+'rBuffer']?jo:-0x2e0*-0x2+-0x96+0x295*-0x2)|(_0x5da604??_0xd4fa96['_clearDept'+'hBuffer']?Yo:-0xa04+-0x543*-0x1+0x4c1)|(_0xa6d805??_0xd4fa96['_clearSten'+'cilBuffer']?ch:0x191b*0x1+-0x20c6+0x7ab);if(_0x29b15d){const _0xf72314=this['device'];Q['pushGpuMar'+'ker'](_0xf72314,'CLEAR'),_0xf72314['clear']({'color':[_0xd4fa96['_clearColo'+'r']['r'],_0xd4fa96['_clearColo'+'r']['g'],_0xd4fa96['_clearColo'+'r']['b'],_0xd4fa96['_clearColo'+'r']['a']],'depth':_0xd4fa96['_clearDept'+'h'],'stencil':_0xd4fa96['_clearSten'+'cil'],'flags':_0x29b15d}),Q['popGpuMark'+'er'](_0xf72314);}}['setCamera'](_0x176a26,_0x1c0a5d,_0x3d7e0c,_0x153c74=null){this['setCameraU'+'niforms'](_0x176a26,_0x1c0a5d),this['clearView'](_0x176a26,_0x1c0a5d,_0x3d7e0c,!(-0x94a*-0x1+-0xe12+-0xaf*-0x7));}['clearView'](_0x214fa6,_0x2d0ad6,_0x5bba8c,_0x590e0b){const _0x573d67=this['device'];if(Q['pushGpuMar'+'ker'](_0x573d67,'CLEAR-VIEW'),_0x573d67['setRenderT'+'arget'](_0x2d0ad6),_0x573d67['updateBegi'+'n'](),_0x590e0b&&(_0x573d67['setColorWr'+'ite'](!(0x2568+-0x2042+-0x293*0x2),!(-0x254b*0x1+-0x20cc+0x4617*0x1),!(-0x34*0xad+0x9*-0x26+0x247a),!(0x31b+0xb8+-0x3d3)),_0x573d67['setDepthWr'+'ite'](!(0x1963+-0xbf*-0x1f+0x4da*-0xa))),this['setupViewp'+'ort'](_0x214fa6,_0x2d0ad6),_0x5bba8c){const _0x1da4cd=_0x214fa6['_clearOpti'+'ons'];_0x573d67['clear'](_0x1da4cd||{'color':[_0x214fa6['_clearColo'+'r']['r'],_0x214fa6['_clearColo'+'r']['g'],_0x214fa6['_clearColo'+'r']['b'],_0x214fa6['_clearColo'+'r']['a']],'depth':_0x214fa6['_clearDept'+'h'],'flags':(_0x214fa6['_clearColo'+'rBuffer']?jo:-0x49*0x11+0x14e7*-0x1+0x10*0x19c)|(_0x214fa6['_clearDept'+'hBuffer']?Yo:0x114f*-0x2+0xf53+0x134b)|(_0x214fa6['_clearSten'+'cilBuffer']?ch:0x2*-0x277+-0xe37+0x1325),'stencil':_0x214fa6['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x573d67);}['setupCullM'+'ode'](_0x5c85f5,_0x57fc25,_0x524b46){const _0x434a97=_0x524b46['material'];let _0x48afe4=bt;if(_0x5c85f5){let _0x11c2ed=-0x59*-0x11+0x3*-0xaf3+0x1af1;(_0x434a97['cull']===Fo||_0x434a97['cull']===pa)&&(_0x11c2ed=_0x57fc25*_0x524b46['flipFacesF'+'actor']*_0x524b46['node']['worldScale'+'Sign']),_0x11c2ed<-0x2f*-0x33+-0x22ae+-0x1*-0x1951?_0x48afe4=_0x434a97['cull']===Fo?pa:Fo:_0x48afe4=_0x434a97['cull'];}this['device']['setCullMod'+'e'](_0x48afe4),_0x48afe4===bt&&_0x434a97['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x524b46['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0xefcf95){if(_0xefcf95['xr']&&_0xefcf95['xr']['views']['list']['length']){const _0xaaa975=_0xefcf95['xr']['views']['list'][0x2b7*0xd+0x21f6+-0x4541];ar['mul2'](_0xaaa975['projMat'],_0xaaa975['viewOffMat']),_0xefcf95['frustum']['setFromMat'+'4'](ar);return;}const _0x273b44=_0xefcf95['projection'+'Matrix'];if(_0xefcf95['calculateP'+'rojection']&&_0xefcf95['calculateP'+'rojection'](_0x273b44,ec),_0xefcf95['calculateT'+'ransform'])_0xefcf95['calculateT'+'ransform'](nr,ec);else{const _0x2c6041=_0xefcf95['_node']['getPositio'+'n'](),_0x2e46b9=_0xefcf95['_node']['getRotatio'+'n']();nr['setTRS'](_0x2c6041,_0x2e46b9,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x273b44,Oa),_0xefcf95['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x16db47,_0x7e3b84){_0x16db47['setCullMod'+'e'](_0x7e3b84['cull']),_0x7e3b84['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x7e3b84['opacityMap']),(_0x7e3b84['opacityMap']||_0x7e3b84['alphaTest']>0x1352*-0x1+0x15*0x69+0x1*0xab5)&&this['alphaTestI'+'d']['setValue'](_0x7e3b84['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x330b42){nf++;const _0x351c0d=_0x330b42['length'];if(_0x351c0d===0x1d15*-0x1+0xa64+-0x3*-0x63b)return;const _0xf0ecd0=de();for(let _0x2519a1=-0x151c*0x1+-0x2*-0x138+0x4ab*0x4;_0x2519a1<_0x351c0d;_0x2519a1++){const _0x14f556=_0x330b42[_0x2519a1]['skinInstan'+'ce'];_0x14f556&&(_0x14f556['updateMatr'+'ices'](_0x330b42[_0x2519a1]['node'],nf),_0x14f556['_dirty']=!(-0x798+0x11*-0x243+0x2e0b));}this['_skinTime']+=de()-_0xf0ecd0;}['updateGpuS'+'kinMatrice'+'s'](_0x18ed85){const _0x3ff427=de();for(const _0x3251fb of _0x18ed85){const _0x56a78a=_0x3251fb['skinInstan'+'ce'];_0x56a78a&&_0x56a78a['_dirty']&&(_0x56a78a['updateMatr'+'ixPalette'](_0x3251fb['node'],nf),_0x56a78a['_dirty']=!(-0x1692+0xee7+0x1*0x7ac));}this['_skinTime']+=de()-_0x3ff427;}['updateMorp'+'hing'](_0x59a13d){const _0x5762ee=de();for(const _0x3eed80 of _0x59a13d){const _0x487da8=_0x3eed80['morphInsta'+'nce'];_0x487da8&&_0x487da8['_dirty']&&_0x487da8['update']();}this['_morphTime']+=de()-_0x5762ee;}['updateGSpl'+'ats'](_0x586f90){var _0x3ba51e;for(const _0x1e2556 of _0x586f90)(_0x3ba51e=_0x1e2556['gsplatInst'+'ance'])==null||_0x3ba51e['update']();}['gpuUpdate'](_0x4f8b77){this['updateGpuS'+'kinMatrice'+'s'](_0x4f8b77),this['updateMorp'+'hing'](_0x4f8b77),this['updateGSpl'+'ats'](_0x4f8b77);}['setVertexB'+'uffers'](_0x392f8d,_0x2185e5){_0x392f8d['setVertexB'+'uffer'](_0x2185e5['vertexBuff'+'er']);}['setMorphin'+'g'](_0x21a19b,_0x4f1449){_0x4f1449&&(_0x4f1449['prepareRen'+'dering'](_0x21a19b),_0x21a19b['setVertexB'+'uffer'](_0x4f1449['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x4f1449['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x4f1449['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x4f1449['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x5ce031,_0x1bfc9b){const _0x341f7c=_0x1bfc9b['skinInstan'+'ce'];if(_0x341f7c){this['_skinDrawC'+'alls']++;const _0x563b4f=_0x341f7c['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x563b4f);}}['dispatchVi'+'ewPos'](_0x6a873f){const _0x436ff5=this['viewPos'];_0x436ff5[0x3*-0x553+0x2683*-0x1+0x367c]=_0x6a873f['x'],_0x436ff5[0x8e*0x18+0xdc0+-0x1b0f]=_0x6a873f['y'],_0x436ff5[0xd*0x25f+0x1de7+-0x3cb8]=_0x6a873f['z'],this['viewPosId']['setValue'](_0x436ff5);}['initViewBi'+'ndGroupFor'+'mat'](_0x2c95a2){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x4acc41=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x2c95a2&&_0x4acc41['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x4acc41);const _0x4f55f6=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x4f55f6);}}['setupViewU'+'niforms'](_0x32d1e9,_0x2c4131){this['projId']['setValue'](_0x32d1e9['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x32d1e9['projMat']['data']),this['viewId']['setValue'](_0x32d1e9['viewOffMat']['data']),this['viewInvId']['setValue'](_0x32d1e9['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x32d1e9['viewMat3']['data']),this['viewProjId']['setValue'](_0x32d1e9['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x32d1e9['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x2c4131);}['setupViewU'+'niformBuff'+'ers'](_0x4f8eae,_0x2f557a,_0xa31fe,_0x2a9c1f){w['assert'](Array['isArray'](_0x4f8eae),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x2640b2}=this,_0x271ff9=(_0x2a9c1f==null?void(0x1a06*-0x1+-0x2a1*-0xa+0x11*-0x4):_0x2a9c1f['length'])??-0x69f+0x3b2*-0x8+0x1218*0x2;for(;_0x4f8eae['length']<_0x271ff9;){const _0x53c220=new zp(_0x2640b2,_0x2f557a,!(-0x2027*0x1+0x3*-0x599+-0x1051*-0x3)),_0x5efa5f=new Up(_0x2640b2,_0xa31fe,_0x53c220);Ea['setName'](_0x5efa5f,'ViewBindGr'+'oup_'+_0x5efa5f['id']),_0x4f8eae['push'](_0x5efa5f);}if(_0x2a9c1f)for(let _0x553eb7=0x1*0x2372+-0x74*-0x17+-0x2dde;_0x553eb7<_0x271ff9;_0x553eb7++){const _0x37f88e=_0x2a9c1f[_0x553eb7];this['setupViewU'+'niforms'](_0x37f88e,_0x553eb7);const _0x32edaf=_0x4f8eae[_0x553eb7];_0x32edaf['defaultUni'+'formBuffer']['update'](),_0x32edaf['update']();}else{const _0x1058d4=_0x4f8eae[-0x3*-0x6da+-0xd1f*0x2+0x5b0];_0x1058d4['defaultUni'+'formBuffer']['update'](),_0x1058d4['update']();}_0x2a9c1f||_0x2640b2['setBindGro'+'up'](rl,_0x4f8eae[0x1*-0xbfe+0x4d4+-0x83*-0xe]);}['setupMeshU'+'niformBuff'+'ers'](_0x496b6e){const _0xb36294=this['device'];if(_0xb36294['supportsUn'+'iformBuffe'+'rs']){const _0x36fbe4=_0x496b6e['getBindGro'+'up'](_0xb36294);_0x36fbe4['update'](),_0xb36294['setBindGro'+'up'](Oy,_0x36fbe4),_0x496b6e['getUniform'+'Buffer'](_0xb36294)['update'](hf),_0xb36294['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x264f1c,_0xfeb4c8=!(-0x23b3+-0x4*0x83d+-0xd*-0x548)){const _0x51ed3e=_0x264f1c['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x51ed3e['data']),_0xfeb4c8&&this['normalMatr'+'ixId']['setValue'](_0x264f1c['node']['normalMatr'+'ix']['data']);}['cull'](_0x9bad85,_0x5eecea,_0x26f34f){const _0x49127e=de(),_0x58bf2f=_0x26f34f['opaque'];_0x58bf2f['length']=-0xea2*-0x1+0xd*0x215+-0x29b3;const _0x323351=_0x26f34f['transparen'+'t'];_0x323351['length']=0x2a3+0xec7+-0x6*0x2e7;const _0x5dbca4=_0x9bad85['frustumCul'+'ling'],_0x5fb4bf=_0x5eecea['length'];for(let _0x592993=0x1618+-0x755*0x1+-0xec3;_0x592993<_0x5fb4bf;_0x592993++){const _0x5d66c0=_0x5eecea[_0x592993];_0x5d66c0['visible']&&(!_0x5dbca4||!_0x5d66c0['cull']||_0x5d66c0['_isVisible'](_0x9bad85))&&(_0x5d66c0['visibleThi'+'sFrame']=!(-0x1c8+-0x94e+0xb16),(_0x5d66c0['transparen'+'t']?_0x323351:_0x58bf2f)['push'](_0x5d66c0),(_0x5d66c0['skinInstan'+'ce']||_0x5d66c0['morphInsta'+'nce']||_0x5d66c0['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5d66c0),_0x5d66c0['gsplatInst'+'ance']&&_0x5d66c0['gsplatInst'+'ance']['cameras']['push'](_0x9bad85)));}this['_cullTime']+=de()-_0x49127e,this['_numDrawCa'+'llsCulled']+=_0x5dbca4?_0x5fb4bf:0x24cd+-0x1e7b+0x329*-0x2;}['collectLig'+'hts'](_0x191abe){this['lights']['length']=-0xb89+0x130*0x16+0x2eb*-0x5,this['localLight'+'s']['length']=-0x163*-0x8+-0x7eb+-0x3*0x10f;const _0x5a639a=this['scene']['_stats'];_0x5a639a['dynamicLig'+'hts']=0x25d4+-0x1565*-0x1+-0x3b39*0x1,_0x5a639a['bakedLight'+'s']=0x1c5f+-0x37f+-0xc7*0x20;const _0x3264e2=_0x191abe['layerList']['length'];for(let _0x643632=-0x1c0c+-0x1da8+0x39b4;_0x643632<_0x3264e2;_0x643632++){const _0x159d0f=_0x191abe['layerList'][_0x643632];if(!cf['has'](_0x159d0f)){cf['add'](_0x159d0f);const _0xf51559=_0x159d0f['_lights'];for(let _0x20b78d=0x1*0x11da+0x3e1*-0x9+0x110f;_0x20b78d<_0xf51559['length'];_0x20b78d++){const _0x559c68=_0xf51559[_0x20b78d];lf['has'](_0x559c68)||(lf['add'](_0x559c68),this['lights']['push'](_0x559c68),_0x559c68['_type']!==ve&&this['localLight'+'s']['push'](_0x559c68),(_0x559c68['mask']&Ss||_0x559c68['mask']&di)&&_0x5a639a['dynamicLig'+'hts']++,_0x559c68['mask']&fi&&_0x5a639a['bakedLight'+'s']++);}}}_0x5a639a['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x4099d9,_0x2b983e){const _0x22b2dd=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2fcbb9=this['scene']['physicalUn'+'its'];for(let _0xb29d83=-0x149d+-0x1*0x174d+0xe*0x323;_0xb29d83<_0x2b983e['length'];_0xb29d83++){const _0x44d3db=_0x2b983e[_0xb29d83];if(_0x44d3db['enabled']){if(_0x44d3db['_type']!==ve){if(_0x44d3db['getBoundin'+'gSphere'](of),_0x4099d9['frustum']['containsSp'+'here'](of)){_0x44d3db['visibleThi'+'sFrame']=!(-0x1d22+-0x1*0x2501+0x4223*0x1),_0x44d3db['usePhysica'+'lUnits']=_0x2fcbb9;const _0x2930f5=_0x4099d9['getScreenS'+'ize'](of);_0x44d3db['maxScreenS'+'ize']=Math['max'](_0x44d3db['maxScreenS'+'ize'],_0x2930f5);}else _0x22b2dd||_0x44d3db['castShadow'+'s']&&!_0x44d3db['shadowMap']&&(_0x44d3db['visibleThi'+'sFrame']=!(0x7*0x3eb+-0x2e*0x7e+-0xf5*0x5));}else _0x44d3db['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x5d6609){const _0x55bc6d=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x5a206a=0x62d+0x21e9*0x1+-0x2816;_0x5a206a<this['localLight'+'s']['length'];_0x5a206a++){const _0x45a29a=this['localLight'+'s'][_0x5a206a];_0x45a29a['_type']!==ve&&(_0x55bc6d?_0x45a29a['atlasSlotU'+'pdated']&&_0x45a29a['shadowUpda'+'teMode']===Ps&&(_0x45a29a['shadowUpda'+'teMode']=xr):_0x45a29a['shadowUpda'+'teMode']===Ps&&_0x45a29a['castShadow'+'s']&&(_0x45a29a['getRenderD'+'ata'](null,0x11*0xb5+0x1e3a+-0x2a3f)['shadowCame'+'ra']['renderTarg'+'et']||(_0x45a29a['shadowUpda'+'teMode']=xr)),_0x45a29a['visibleThi'+'sFrame']&&_0x45a29a['castShadow'+'s']&&_0x45a29a['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x45a29a,_0x5d6609));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x1fb2ff=_0x5d6609['cameras'];for(let _0x259896=-0x6a3+-0xe9c+0x15*0x103;_0x259896<_0x1fb2ff['length'];_0x259896++){const _0x56971d=_0x1fb2ff[_0x259896];if(_0x56971d['enabled']){const _0x4f8794=_0x56971d['camera'];let _0x47310a;const _0x41f23b=_0x4f8794['layers'];for(let _0x344f6b=-0x1cf0+-0x1*0x6f7+0x23e7;_0x344f6b<_0x41f23b['length'];_0x344f6b++){const _0x534846=_0x5d6609['getLayerBy'+'Id'](_0x41f23b[_0x344f6b]);if(_0x534846){const _0x21820d=_0x534846['splitLight'+'s'][ve];for(let _0x2cfea7=0x1*-0xb27+0x18cd+0x2*-0x6d3;_0x2cfea7<_0x21820d['length'];_0x2cfea7++){const _0x7f0fde=_0x21820d[_0x2cfea7];_0x7f0fde['castShadow'+'s']&&!Fa['has'](_0x7f0fde)&&(Fa['add'](_0x7f0fde),_0x47310a=_0x47310a??[],_0x47310a['push'](_0x7f0fde),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x7f0fde,_0x5d6609,_0x4f8794));}}}_0x47310a&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x4f8794,_0x47310a),Fa['clear']();}}}['cullCompos'+'ition'](_0x382ea2){const _0x2c0f6c=de(),{scene:_0x523923}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xb5bbf2=_0x382ea2['cameras']['length'];this['_camerasRe'+'ndered']+=_0xb5bbf2;for(let _0x431a21=0x24b7+-0xe*-0xa3+0x1*-0x2da1;_0x431a21<_0xb5bbf2;_0x431a21++){const _0x4fccfb=_0x382ea2['cameras'][_0x431a21];_0x523923==null||_0x523923['fire'](mv,_0x4fccfb);const _0x37eae1=_0x4fccfb['renderTarg'+'et'];_0x4fccfb['frameUpdat'+'e'](_0x37eae1),this['updateCame'+'raFrustum'](_0x4fccfb['camera']);const _0x26c0ac=_0x4fccfb['layers'];for(let _0x1d357d=-0x1899*-0x1+-0x49*-0x83+-0x1a*0x262;_0x1d357d<_0x26c0ac['length'];_0x1d357d++){const _0x5ac2f1=_0x382ea2['getLayerBy'+'Id'](_0x26c0ac[_0x1d357d]);if(_0x5ac2f1&&_0x5ac2f1['enabled']){this['cullLights'](_0x4fccfb['camera'],_0x5ac2f1['_lights']);const _0x2cb0cc=_0x5ac2f1['getCulledI'+'nstances'](_0x4fccfb['camera']);this['cull'](_0x4fccfb['camera'],_0x5ac2f1['meshInstan'+'ces'],_0x2cb0cc);}}_0x523923==null||_0x523923['fire'](_v,_0x4fccfb);}_0x523923['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x382ea2),_0x523923==null||_0x523923['fire'](lE),this['_cullTime']+=de()-_0x2c0f6c;}['updateShad'+'ers'](_0x3b8d74,_0x37622f){const _0x2b1bd5=_0x3b8d74['length'];for(let _0x40f522=-0x74+-0x2f9+0x36d;_0x40f522<_0x2b1bd5;_0x40f522++){const _0x285038=_0x3b8d74[_0x40f522]['material'];if(_0x285038&&!Fa['has'](_0x285038)&&(Fa['add'](_0x285038),_0x285038['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x37622f&&(!_0x285038['useLightin'+'g']||_0x285038['emitter']&&!_0x285038['emitter']['lighting']))continue;_0x285038['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x59b909){const _0x487f24=this['scene'],_0x21839c=_0x487f24['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x58d1d0=0x1f21+-0x388*0x8+-0x2e1;const _0x336670=_0x59b909['layerList'],_0x411771=_0x336670['length'];for(let _0x3efd3f=0x2195+0xde0+-0x2f75*0x1;_0x3efd3f<_0x411771;_0x3efd3f++){const _0x21e6ea=_0x336670[_0x3efd3f]['meshInstan'+'ces'],_0x562987=_0x21e6ea['length'];_0x58d1d0+=_0x562987;for(let _0x31bb6f=-0x1111+-0x10*0x1e8+0x2f91;_0x31bb6f<_0x562987;_0x31bb6f++){const _0x3cb8c1=_0x21e6ea[_0x31bb6f];_0x3cb8c1['visibleThi'+'sFrame']=!(0x1c97*-0x1+-0x243a+-0x2*-0x2069),_0x21839c&&df['push'](_0x3cb8c1),_0x3cb8c1['skinInstan'+'ce']&&ff['push'](_0x3cb8c1);}}if(_0x487f24['_stats']['meshInstan'+'ces']=_0x58d1d0,_0x21839c){const _0x3fdbb8=!_0x487f24['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x3fdbb8),_0x487f24['updateShad'+'ers']=!(0x5*-0x4c+-0x1c64*-0x1+-0x1ae7),this['device']['_shadersDi'+'rty']=!(0x1579+-0x31+-0x1547),_0x487f24['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x2*0x437+-0x1c04+0x1396,ff['length']=-0x2577+-0x24ad+0x49*0x104;const _0x1a3495=this['lights'],_0xdf2f23=_0x1a3495['length'];for(let _0x15019b=-0xa3*0x39+0x264e+-0x67*0x5;_0x15019b<_0xdf2f23;_0x15019b++)_0x1a3495[_0x15019b]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x470b6a){const _0x4c19cb=de(),_0x45f3dd=_0x470b6a['layerList']['length'],_0xd4c142=this['scene']['_shaderVer'+'sion'];for(let _0x36458e=0xa*-0x22d+-0xfd*-0x5+-0x1*-0x10d1;_0x36458e<_0x45f3dd;_0x36458e++){const _0x59e6ce=_0x470b6a['layerList'][_0x36458e];_0x59e6ce['_shaderVer'+'sion']=_0xd4c142,_0x59e6ce['_skipRende'+'rCounter']=-0x1*-0x1d29+0xc33*-0x1+-0x10f6,_0x59e6ce['_forwardDr'+'awCalls']=-0xee5+-0x1*-0xa65+0x48*0x10,_0x59e6ce['_shadowDra'+'wCalls']=0x2697+0x14dc+-0x3*0x13d1,_0x59e6ce['_renderTim'+'e']=-0x1323+0x25ae+0x1*-0x128b;}_0x470b6a['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x4c19cb;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x3*0x1aa+0x19b7+-0x14b8),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1227*-0x2+-0x9*-0x269+-0x39fe),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x1*-0x1223+-0x3*0xc0c+-0x6c9*-0x8),this['clearDepth']=!(-0x2*0x1021+-0x30a+0x7*0x50b),this['clearStenc'+'il']=!(-0x9c+-0x5*0x732+0x2497),this['triggerPos'+'tprocess']=!(0x54*-0x14+0x11cd+-0xb3c),this['firstCamer'+'aUse']=!(-0x7*0x27e+-0x194*-0x7+-0x1*-0x667),this['lastCamera'+'Use']=!(-0x8*0x2c+-0x109c+0x11fd),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0xfa+0x1905+0x180a*-0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1c25ee=>{_0x1c25ee['defaultUni'+'formBuffer']['destroy'](),_0x1c25ee['destroy']();}),this['viewBindGr'+'oups']['length']=-0x17e+0x1ebe+0x24*-0xd0;}['setupClear'+'s'](_0x294fe8,_0x168b44){this['clearColor']=(_0x294fe8==null?void(-0xedd+-0x331*-0x3+-0x1*-0x54a):_0x294fe8['clearColor'+'Buffer'])||_0x168b44['clearColor'+'Buffer'],this['clearDepth']=(_0x294fe8==null?void(0x1d95+-0x17e+-0x1c17):_0x294fe8['clearDepth'+'Buffer'])||_0x168b44['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x294fe8==null?void(0x250d+0x5de+-0x2aeb):_0x294fe8['clearStenc'+'ilBuffer'])||_0x168b44['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x590deb,_0x3fa727,_0x63039b,_0x3b5ac1){super(_0x590deb),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x167*0x17+0x1d41*0x1+0x301*0x1)),(this['layerCompo'+'sition']=_0x3fa727,this['scene']=_0x63039b,this['renderer']=_0x3b5ac1);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1baf*0x1+0x47*0x53+-0x32b4;}['addRenderA'+'ction'](_0x53e504){this['renderActi'+'ons']['push'](_0x53e504);}['addLayer'](_0x588995,_0x1162bd,_0x38df2b,_0x53a280=!(-0x893*0x2+-0x1*0x3a7+0x6ef*0x3)){w['assert'](_0x588995),w['assert'](this['renderTarg'+'et']!==void(-0xaa1*-0x1+0xe*-0xe+0x19*-0x65),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x588995['camera']['layersSet']['has'](_0x1162bd['id']),'Camera\x20'+_0x588995['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x1162bd['name']+'.');const _0x10daae=new Pv();if(_0x10daae['renderTarg'+'et']=this['renderTarg'+'et'],_0x10daae['camera']=_0x588995,_0x10daae['layer']=_0x1162bd,_0x10daae['transparen'+'t']=_0x38df2b,_0x53a280){const _0x58cc31=this['renderActi'+'ons']['length']===0x65*-0x53+-0x1ac3+0x3b82;_0x10daae['setupClear'+'s'](_0x58cc31?_0x588995:void(-0x16c4*-0x1+0x1a5*-0x14+0xa20),_0x1162bd);}this['addRenderA'+'ction'](_0x10daae);}['addLayers'](_0xc373d5,_0x5b6821,_0x584f3e,_0x384a9d,_0x48da11,_0x4912c4=!(-0x2*-0x347+-0x17d3+0x1145)){const {layerList:_0x4d67ad,subLayerList:_0x3cb423}=_0xc373d5;let _0x42e053=_0x384a9d,_0x259a6c=_0x584f3e;for(;_0x259a6c<_0x4d67ad['length'];){const _0xa1b4ee=_0x4d67ad[_0x259a6c],_0x3789d8=_0x3cb423[_0x259a6c];if(_0x5b6821['camera']['layersSet']['has'](_0xa1b4ee['id'])&&(this['addLayer'](_0x5b6821,_0xa1b4ee,_0x3789d8,_0x42e053),_0x42e053=!(-0x2*0x88c+-0x4*-0x5f2+-0x1*0x6af)),_0x259a6c++,_0xa1b4ee['id']===_0x48da11&&_0x3789d8===_0x4912c4)break;}return _0x259a6c;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0xb4201d,renderActions:_0x2e2af6}=this;for(let _0x454ef1=-0x1799*0x1+-0x9e3*-0x1+0x10e*0xd;_0x454ef1<_0x2e2af6['length'];_0x454ef1++){const _0xa7eb25=_0x2e2af6[_0x454ef1]['camera']['camera'],_0x58956e=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0xa7eb25);if(_0x58956e)for(let _0x39804d=0x2*0x8d1+-0x23f*0x7+0x1e9*-0x1;_0x39804d<_0x58956e['length'];_0x39804d++){const _0xb8ed0b=_0x58956e[_0x39804d];if(_0xb4201d['dirLightSh'+'adows']['get'](_0xb8ed0b)!==_0xa7eb25){_0xb4201d['dirLightSh'+'adows']['set'](_0xb8ed0b,_0xa7eb25);const _0x20319e=_0xb4201d['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0xb8ed0b,_0xa7eb25);_0x20319e&&this['beforePass'+'es']['push'](_0x20319e);}}}}['updateClea'+'rs'](){const _0x54b88d=this['renderActi'+'ons'][0x4*-0x458+-0x1*-0x2135+-0xfd5];if(_0x54b88d){const _0x3d9f18=_0x54b88d['camera']['camera'],_0x467ff9=_0x3d9f18['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x467ff9&&_0x54b88d['clearColor']?_0x3d9f18['clearColor']:void(0x1337+-0x96b+0x4*-0x273)),this['setClearDe'+'pth'](_0x467ff9&&_0x54b88d['clearDepth']&&!this['noDepthCle'+'ar']?_0x3d9f18['clearDepth']:void(0x9*-0x15b+0xb0f+0x124)),this['setClearSt'+'encil'](_0x467ff9&&_0x54b88d['clearStenc'+'il']?_0x3d9f18['clearStenc'+'il']:void(-0x24b*-0xa+0x2690*0x1+-0x3d7e));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x1c3432}=this;for(let _0x6005b4=0xe9*-0x6+-0x1226+-0x179c*-0x1;_0x6005b4<_0x1c3432['length'];_0x6005b4++){const _0x582b75=_0x1c3432[_0x6005b4];_0x582b75['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x582b75['camera']);}}['execute'](){const {layerComposition:_0x21801d,renderActions:_0x14906c}=this;for(let _0x42075f=-0x46f*-0x2+0x24b*-0x7+-0x3*-0x265;_0x42075f<_0x14906c['length'];_0x42075f++){const _0x1409f3=_0x14906c[_0x42075f],_0x308b1c=_0x1409f3['layer'];w['call'](()=>{_0x21801d['getLayerBy'+'Name'](_0x308b1c['name'])||w['warnOnce']('Layer\x20'+_0x308b1c['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x21801d['isEnabled'](_0x308b1c,_0x1409f3['transparen'+'t'])&&this['renderRend'+'erAction'](_0x1409f3,_0x42075f===-0x661*0x5+-0xe2*-0x2a+-0x1*0x52f);}}['after'](){for(let _0x58f47b=-0x43*-0x6+0x1023+-0x11b5;_0x58f47b<this['renderActi'+'ons']['length'];_0x58f47b++){const _0x12e2b9=this['renderActi'+'ons'][_0x58f47b];_0x12e2b9['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x12e2b9['camera']);}this['beforePass'+'es']['length']=0xbe1*-0x1+-0x1aed*-0x1+-0xf0c;}['renderRend'+'erAction'](_0x4d857f,_0x3fa9a5){var _0x51f194;const {renderer:_0x4cdc19,scene:_0x27b8f1}=this,_0x1d3439=_0x4cdc19['device'],{layer:_0xc851c3,transparent:_0x558506,camera:_0x5757b1}=_0x4d857f;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x5757b1?_0x5757b1['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0xc851c3['name']+'('+(_0x558506?'TRANSP':'OPAQUE')+')');const _0x1b1c27=de();if(_0x5757b1){const _0xdc8f85=_0x5757b1['gammaCorre'+'ction'],_0x299cbc=_0x5757b1['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x3*-0x7ff+0x21c+-0x1a19)&&(_0x5757b1['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x166d+-0x25*-0xd9+-0x35ca)&&(_0x5757b1['toneMappin'+'g']=this['toneMappin'+'g']),_0x27b8f1['fire'](nE,_0x5757b1,_0xc851c3,_0x558506);const _0xb64289={'lightClusters':_0x4d857f['lightClust'+'ers']},_0x3d3713=((_0x51f194=_0x5757b1['camera']['shaderPass'+'Info'])==null?void(0x12*-0xd9+0x1*0x419+0xb29*0x1):_0x51f194['index'])??Aa;(!_0x3fa9a5||!_0x5757b1['camera']['fullSizeCl'+'earRect'])&&(_0xb64289['clearColor']=_0x4d857f['clearColor'],_0xb64289['clearDepth']=_0x4d857f['clearDepth'],_0xb64289['clearStenc'+'il']=_0x4d857f['clearStenc'+'il']);const _0x4015e2=_0x4d857f['renderTarg'+'et']??_0x1d3439['backBuffer'];_0x4cdc19['renderForw'+'ardLayer'](_0x5757b1['camera'],_0x4015e2,_0xc851c3,_0x558506,_0x3d3713,_0x4d857f['viewBindGr'+'oups'],_0xb64289),_0x1d3439['setBlendSt'+'ate'](pt['NOBLEND']),_0x1d3439['setStencil'+'State'](null,null),_0x1d3439['setAlphaTo'+'Coverage'](!(0x8fc+-0x25d5+-0x3*-0x99e)),_0x27b8f1['fire'](oE,_0x5757b1,_0xc851c3,_0x558506),this['gammaCorre'+'ction']!==void(0x1ffb+0x12c3*0x1+-0x32be)&&(_0x5757b1['gammaCorre'+'ction']=_0xdc8f85),this['toneMappin'+'g']!==void(0x7c*-0xa+0x909*0x3+0x1643*-0x1)&&(_0x5757b1['toneMappin'+'g']=_0x299cbc);}Q['popGpuMark'+'er'](this['device']),_0xc851c3['_renderTim'+'e']+=de()-_0x1b1c27;}['log'](_0x16062b,_0x1916af){if(super['log'](_0x16062b,_0x1916af),mi['get'](cn)){const {layerComposition:_0x49a236}=this;this['renderActi'+'ons']['forEach']((_0x1e5bf9,_0x5062e6)=>{const _0xfe9902=_0x1e5bf9['layer'],_0x2a0548=_0xfe9902['enabled']&&_0x49a236['isEnabled'](_0xfe9902,_0x1e5bf9['transparen'+'t']),_0x5c26c6=_0x1e5bf9['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x5062e6+':'+('\x20Cam:\x20'+(_0x5c26c6?_0x5c26c6['entity']['name']:'-'))['padEnd'](-0x1bc+0x954*-0x4+-0x1*-0x2722,'\x20')+('\x20Lay:\x20'+_0xfe9902['name'])['padEnd'](0x13*-0x6f+0x22f2+-0x1a9f,'\x20')+(_0x1e5bf9['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2a0548?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0xfe9902['meshInstan'+'ces']['length'])['padEnd'](-0x1cbb+0x2*-0xf59+0x1db9*0x2,'\x20'));});}}}class Zb extends ys{constructor(_0x49f97f,_0x4fc0ec,_0xb55571){super(_0x49f97f),this['renderer']=_0x4fc0ec,this['renderActi'+'on']=_0xb55571,this['requiresCu'+'bemaps']=!(0x265f+0x13*0xdf+-0x33b*0x11);}['execute'](){const _0x26bcc2=this['renderActi'+'on'],_0x35222f=_0x26bcc2['camera'];w['assert'](_0x26bcc2['triggerPos'+'tprocess']&&_0x35222f['onPostproc'+'essing']),_0x35222f['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0xd87+0x1*-0x207d+0x2e04,this['shaderInst'+'ances']['length']=0x61*0x45+-0x1b8a+0x165,this['isNewMater'+'ial']['length']=-0xa*0x3bc+-0x83*-0x21+0x1475,this['lightMaskC'+'hanged']['length']=0xe60+-0x8be+-0x5a2;}};function Jb(_0x4fe6ad){const _0x343169=[];for(let _0x2dc390=0xb*0xa9+-0x2517+0x1dd4;_0x2dc390<_0x4fe6ad;++_0x2dc390){const _0x3f05ef=Math['sqrt'](_0x2dc390+(0x3*0x812+-0x4*0x959+0xd2e+0.5))/Math['sqrt'](_0x4fe6ad);_0x343169['push'](_0x3f05ef);}return _0x343169;}function eA(_0x142fff){const _0x1a18c3=[];for(let _0x5e65b6=-0x3a9*0x1+0x3c+-0x1*-0x36d;_0x5e65b6<_0x142fff;_0x5e65b6++){const _0x52043a=_0x5e65b6/_0x142fff,_0x3967f9=Math['sqrt'](_0x52043a*_0x52043a);_0x1a18c3['push'](_0x3967f9);}return _0x1a18c3;}const Ni=class Ni extends Yb{constructor(_0x59ba5a){super(_0x59ba5a);const _0x304eec=this['device'];this['_forwardDr'+'awCalls']=-0xb9d*0x1+-0x1*-0x267b+-0x1ade,this['_materialS'+'witches']=-0x177*0x16+0x1*0x6a9+0x1991,this['_depthMapT'+'ime']=0xb54+0xf51+-0x1aa5,this['_forwardTi'+'me']=0x2367+0x1*0x1ee3+-0x424a,this['_sortTime']=-0x945+0x665*0x1+0xb8*0x4;const _0x4ece24=_0x304eec['scope'];this['fogColorId']=_0x4ece24['resolve']('fog_color'),this['fogStartId']=_0x4ece24['resolve']('fog_start'),this['fogEndId']=_0x4ece24['resolve']('fog_end'),this['fogDensity'+'Id']=_0x4ece24['resolve']('fog_densit'+'y'),this['ambientId']=_0x4ece24['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x4ece24['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x4ece24['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x4ece24['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x4ece24['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x4ece24['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x206a+-0x2693+0x5d*0x11),this['fogColor']=new Float32Array(0x5f4+0x51b+0x194*-0x7),this['ambientCol'+'or']=new Float32Array(-0x3dc+-0x1*-0x149c+-0x10bd),this['pcssDiskSa'+'mples']=Jb(-0x1*-0x1be0+-0x1*-0x1d9+-0x1da9),this['pcssSphere'+'Samples']=eA(0x1*0xf2c+-0xa7*-0x14+-0x1c28);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x39ef17){const _0x2a15b5=this['ambientCol'+'or'];if(or['linear'](_0x39ef17['ambientLig'+'ht']),_0x2a15b5[0x1c8c*0x1+-0x109c*0x1+-0x2fc*0x4]=or['r'],_0x2a15b5[-0x8d*0x1b+0x26b*-0x5+0x1af7]=or['g'],_0x2a15b5[0x1bf5+0xacc+-0x26bf]=or['b'],_0x39ef17['physicalUn'+'its']){for(let _0x34b854=-0x1f67+-0x13ff*0x1+0x1*0x3366;_0x34b854<-0x1d4b+-0x4a0+-0xca*-0x2b;_0x34b854++)_0x2a15b5[_0x34b854]*=_0x39ef17['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x2a15b5),this['skyboxInte'+'nsityId']['setValue'](_0x39ef17['physicalUn'+'its']?_0x39ef17['skyboxLumi'+'nance']:_0x39ef17['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x39ef17['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x1afca4,_0x4f20ba){const _0x9d0033='light'+_0x4f20ba;this['lightColor'+'Id'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_color'),this['lightDir'][_0x4f20ba]=new Float32Array(-0x23*0xef+0x1d3*0x3+0x1b37*0x1),this['lightDirId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_direction'),this['lightShado'+'wMapId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_radius'),this['lightPos'][_0x4f20ba]=new Float32Array(0x138c+0x7ed*0x2+0x1*-0x2363),this['lightPosId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_position'),this['lightWidth'][_0x4f20ba]=new Float32Array(-0xe*-0x2c2+0x213f+-0x47d8),this['lightWidth'+'Id'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_halfWidth'),this['lightHeigh'+'t'][_0x4f20ba]=new Float32Array(-0x35*0x2+-0x2*0x331+-0x15*-0x53),this['lightHeigh'+'tId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+'_cookie'),this['lightCooki'+'eIntId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x4f20ba]=_0x1afca4['resolve'](_0x9d0033+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x15da33,_0x4181e0,_0x330022,_0xb877e7,_0x246bd2){this['lightPos'][_0x4181e0][0x777*0x5+-0x131a+-0x1239]=_0xb877e7['x']-_0x330022['x']*_0x246bd2,this['lightPos'][_0x4181e0][0x23bd+-0x1361+-0x105b]=_0xb877e7['y']-_0x330022['y']*_0x246bd2,this['lightPos'][_0x4181e0][-0x2b*-0x93+-0x2*0xdfe+0x41*0xd]=_0xb877e7['z']-_0x330022['z']*_0x246bd2,this['lightPosId'][_0x4181e0]['setValue'](this['lightPos'][_0x4181e0]);const _0x3eb153=_0x15da33['transformV'+'ector'](new D(-(-0x230+0x132f*0x2+-0x242e+0.5),0x1*-0x11b2+-0x1744+0x28f6,0x2eb*-0xb+-0xad*-0x26+0x66b));this['lightWidth'][_0x4181e0][-0xb11+0x11*-0x1a6+0x2717]=_0x3eb153['x']*_0x246bd2,this['lightWidth'][_0x4181e0][0x2300+-0x2cb*-0x1+-0x25ca]=_0x3eb153['y']*_0x246bd2,this['lightWidth'][_0x4181e0][0xb84+0x18f2+-0x2474]=_0x3eb153['z']*_0x246bd2,this['lightWidth'+'Id'][_0x4181e0]['setValue'](this['lightWidth'][_0x4181e0]);const _0x4ffbca=_0x15da33['transformV'+'ector'](new D(-0x1b7*-0x4+0x21c1+0x289d*-0x1,-0x1de3+0x59d*0x1+0x1846,-0x10b8+-0x2573+0x11b*0x31+0.5));this['lightHeigh'+'t'][_0x4181e0][-0x29*-0x61+-0x1fe3+0x105a]=_0x4ffbca['x']*_0x246bd2,this['lightHeigh'+'t'][_0x4181e0][-0x1*0x1d89+-0x36*-0x61+0x914]=_0x4ffbca['y']*_0x246bd2,this['lightHeigh'+'t'][_0x4181e0][0x1dd8+-0x1bee+-0x7a*0x4]=_0x4ffbca['z']*_0x246bd2,this['lightHeigh'+'tId'][_0x4181e0]['setValue'](this['lightHeigh'+'t'][_0x4181e0]);}['dispatchDi'+'rectLights'](_0x209f7f,_0x3c052a,_0xeae970){let _0xb5117a=-0x1349+-0x26a*0x8+0x2699;const _0xa14345=this['device']['scope'];for(let _0x179e74=0x14d*0x1e+-0x1272+0xc*-0x1b7;_0x179e74<_0x209f7f['length'];_0x179e74++){if(!(_0x209f7f[_0x179e74]['mask']&_0x3c052a))continue;const _0x4407ed=_0x209f7f[_0x179e74],_0x5ebe78=_0x4407ed['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xb5117a]||this['_resolveLi'+'ght'](_0xa14345,_0xb5117a),this['lightColor'+'Id'][_0xb5117a]['setValue'](_0x4407ed['_colorLine'+'ar']),_0x5ebe78['getY'](_0x4407ed['_direction'])['mulScalar'](-(-0x2320+0x605*0x1+0x1d1c)),_0x4407ed['_direction']['normalize'](),this['lightDir'][_0xb5117a][-0x6*-0x67a+-0x97b+-0x17*0x147]=_0x4407ed['_direction']['x'],this['lightDir'][_0xb5117a][-0x1763*0x1+-0x883*0x3+0x30ed]=_0x4407ed['_direction']['y'],this['lightDir'][_0xb5117a][-0x17a5*-0x1+-0x16d7+0x1*-0xcc]=_0x4407ed['_direction']['z'],this['lightDirId'][_0xb5117a]['setValue'](this['lightDir'][_0xb5117a]),_0x4407ed['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x5ebe78,_0xb5117a,_0x4407ed['_direction'],_0xeae970['_node']['getPositio'+'n'](),_0xeae970['farClip']),_0x4407ed['castShadow'+'s']){const _0x38d4ff=_0x4407ed['getRenderD'+'ata'](_0xeae970,0x1*0x2bb+-0x1b*-0x14+0x19d*-0x3),_0x572824=_0x4407ed['_getUnifor'+'mBiasValue'+'s'](_0x38d4ff);this['lightShado'+'wMapId'][_0xb5117a]['setValue'](_0x38d4ff['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0xb5117a]['setValue'](_0x38d4ff['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0xb5117a]['setValue'](_0x4407ed['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0xb5117a]['setValue'](_0x4407ed['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0xb5117a]['setValue'](_0x4407ed['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0xb5117a]['setValue'](0x6dd+-0x1*-0x89f+0xf7b*-0x1-_0x4407ed['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0xb5117a]['setValue'](_0x4407ed['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0xb5117a]['setValue'](_0x4407ed['_softShado'+'wParams']),_0x38d4ff['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0xb5117a]['setValue'](_0x4407ed['penumbraSi'+'ze']/_0x38d4ff['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x38d4ff['projection'+'Compensati'+'on']);const _0x30379b=_0x4407ed['_shadowCam'+'eraParams'];_0x30379b['length']=0x128e+-0x778+0xb12*-0x1,_0x30379b[0x1*0x110a+0x1*-0x2465+-0x3df*-0x5]=-0x100+-0x10a8+0x11a8,_0x30379b[-0x1*0xdd3+0x3*-0xa6f+-0x3*-0xf0b]=_0x38d4ff['shadowCame'+'ra']['_farClip'],_0x30379b[-0x9c2*-0x3+-0x1768+-0x4b*0x14]=_0x38d4ff['shadowCame'+'ra']['_nearClip'],_0x30379b[0x5d3+-0x1*0x1c7b+-0x1*-0x16ab]=-0x336+0x220d*0x1+-0x1*0x1ed6,this['lightCamer'+'aParamsId'][_0xb5117a]['setValue'](_0x30379b);const _0x151eac=_0x4407ed['_shadowRen'+'derParams'];_0x151eac['length']=-0x1fb9+-0x11e0+0x319d,_0x151eac[0x133e+0x24cc+-0x2*0x1c05]=_0x4407ed['_shadowRes'+'olution'],_0x151eac[0x41b*-0x3+0x1759+-0xb07]=_0x572824['normalBias'],_0x151eac[0x75e+0x9f*-0x3b+0x31*0x99]=_0x572824['bias'],_0x151eac[-0x709+-0x1*0x13e7+0x1af3*0x1]=0x3*0x1ca+0x17*-0x50+-0x1*-0x1d2,this['lightShado'+'wParamsId'][_0xb5117a]['setValue'](_0x151eac);}_0xb5117a++;}return _0xb5117a;}['setLTCPosi'+'tionalLigh'+'t'](_0x519b1f,_0x37c4d6){const _0x5f3d10=_0x519b1f['transformV'+'ector'](new D(-(0x1d58+-0x1*-0xe59+0x1*-0x2bb1+0.5),-0x9b6+0x237b+-0x9*0x2dd,0x1*0x2195+0x1*-0x241f+0x28a));this['lightWidth'][_0x37c4d6][0x13dc+0x2*0x1d5+-0x1786]=_0x5f3d10['x'],this['lightWidth'][_0x37c4d6][-0x4c*-0xd+0x1921+-0x1cfc]=_0x5f3d10['y'],this['lightWidth'][_0x37c4d6][-0x2268+0x1195*0x1+-0x1f*-0x8b]=_0x5f3d10['z'],this['lightWidth'+'Id'][_0x37c4d6]['setValue'](this['lightWidth'][_0x37c4d6]);const _0x1ded5a=_0x519b1f['transformV'+'ector'](new D(-0x407*0x2+-0x19a6+0x21b4,-0x1ecb+0x2*-0xa2e+-0x5af*-0x9,-0x22cd+0x25a7+-0x2da+0.5));this['lightHeigh'+'t'][_0x37c4d6][-0x491+-0x25bf+0x2a50]=_0x1ded5a['x'],this['lightHeigh'+'t'][_0x37c4d6][0x1*0xe09+-0x92*-0x1a+-0x1cdc]=_0x1ded5a['y'],this['lightHeigh'+'t'][_0x37c4d6][0x26e*-0x9+-0x1f2f+0x350f]=_0x1ded5a['z'],this['lightHeigh'+'tId'][_0x37c4d6]['setValue'](this['lightHeigh'+'t'][_0x37c4d6]);}['dispatchOm'+'niLight'](_0x13052e,_0xa76b75,_0xa519cb){const _0x41720d=_0xa76b75['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xa519cb]||this['_resolveLi'+'ght'](_0x13052e,_0xa519cb),this['lightRadiu'+'sId'][_0xa519cb]['setValue'](_0xa76b75['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0xa519cb]['setValue'](_0xa76b75['_colorLine'+'ar']),_0x41720d['getTransla'+'tion'](_0xa76b75['_position']),this['lightPos'][_0xa519cb][0x22a2+-0x1fd7+0x2cb*-0x1]=_0xa76b75['_position']['x'],this['lightPos'][_0xa519cb][-0x1*-0x7f4+-0x10e3+0x8f0]=_0xa76b75['_position']['y'],this['lightPos'][_0xa519cb][0xa0a+0x1*0x765+-0x116d]=_0xa76b75['_position']['z'],this['lightPosId'][_0xa519cb]['setValue'](this['lightPos'][_0xa519cb]),_0xa76b75['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x41720d,_0xa519cb),_0xa76b75['castShadow'+'s']){const _0x4b9dce=_0xa76b75['getRenderD'+'ata'](null,0x3a*-0x49+0x339+0xd51);this['lightShado'+'wMapId'][_0xa519cb]['setValue'](_0x4b9dce['shadowBuff'+'er']);const _0x31c930=_0xa76b75['_getUnifor'+'mBiasValue'+'s'](_0x4b9dce),_0x2bdce3=_0xa76b75['_shadowRen'+'derParams'];_0x2bdce3['length']=0x1*-0x26dc+0xd17*-0x2+0x410e*0x1,_0x2bdce3[-0x1e92+0x192*-0x3+0x2348]=_0xa76b75['_shadowRes'+'olution'],_0x2bdce3[-0x457+-0x1082*-0x2+-0xe56*0x2]=_0x31c930['normalBias'],_0x2bdce3[-0x1*0x1325+-0xc59+-0x1c*-0x120]=_0x31c930['bias'],_0x2bdce3[-0x1821+0x182d+-0x1*0x9]=(-0x173d+0x7*0x4a+0x1538)/_0xa76b75['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0xa519cb]['setValue'](_0x2bdce3),this['lightShado'+'wIntensity'][_0xa519cb]['setValue'](_0xa76b75['shadowInte'+'nsity']);const _0x3dd508=_0xa76b75['penumbraSi'+'ze']/_0x4b9dce['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0xa519cb]['setValue'](_0x3dd508);const _0x2085cd=_0xa76b75['_shadowCam'+'eraParams'];_0x2085cd['length']=0x2056+0x198e+0x10*-0x39e,_0x2085cd[0x13e*0x17+-0x9f*-0x1c+-0x2df6]=0x24c1+0x4b2*0x3+-0x32d7,_0x2085cd[-0x22fa+-0x2b7*0xd+0x4646]=_0x4b9dce['shadowCame'+'ra']['_farClip'],_0x2085cd[0x12ff+-0x2107+0xe0a]=_0x4b9dce['shadowCame'+'ra']['_nearClip'],_0x2085cd[-0x24ab+0x24b*-0x11+0x4ba9]=0x7ed*0x1+0x5aa+-0xd97,this['lightCamer'+'aParamsId'][_0xa519cb]['setValue'](_0x2085cd);}_0xa76b75['_cookie']&&(this['lightCooki'+'eId'][_0xa519cb]['setValue'](_0xa76b75['_cookie']),this['lightShado'+'wMatrixId'][_0xa519cb]['setValue'](_0x41720d['data']),this['lightCooki'+'eIntId'][_0xa519cb]['setValue'](_0xa76b75['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x36fb12,_0x42a1c8,_0x3ffe89){const _0xe90821=_0x42a1c8['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3ffe89]||this['_resolveLi'+'ght'](_0x36fb12,_0x3ffe89),this['lightInAng'+'leId'][_0x3ffe89]['setValue'](_0x42a1c8['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x3ffe89]['setValue'](_0x42a1c8['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x3ffe89]['setValue'](_0x42a1c8['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3ffe89]['setValue'](_0x42a1c8['_colorLine'+'ar']),_0xe90821['getTransla'+'tion'](_0x42a1c8['_position']),this['lightPos'][_0x3ffe89][0x3cc*0x6+-0x10fc+-0x5cc]=_0x42a1c8['_position']['x'],this['lightPos'][_0x3ffe89][0x12*0x8d+-0x24b4+0x1acb]=_0x42a1c8['_position']['y'],this['lightPos'][_0x3ffe89][0x2099+-0x24dc+0x445]=_0x42a1c8['_position']['z'],this['lightPosId'][_0x3ffe89]['setValue'](this['lightPos'][_0x3ffe89]),_0x42a1c8['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0xe90821,_0x3ffe89),_0xe90821['getY'](_0x42a1c8['_direction'])['mulScalar'](-(0x126c+-0x29*-0xc7+-0x324a*0x1)),_0x42a1c8['_direction']['normalize'](),this['lightDir'][_0x3ffe89][-0x160d+-0xcec+0x22f9]=_0x42a1c8['_direction']['x'],this['lightDir'][_0x3ffe89][-0x1*0x1c8d+-0x20c5+0x3d53]=_0x42a1c8['_direction']['y'],this['lightDir'][_0x3ffe89][-0x43*0x86+0x2338+0x4*-0x9]=_0x42a1c8['_direction']['z'],this['lightDirId'][_0x3ffe89]['setValue'](this['lightDir'][_0x3ffe89]),_0x42a1c8['castShadow'+'s']){const _0x425c81=_0x42a1c8['getRenderD'+'ata'](null,0x23b*-0x11+-0x1*-0xbd+-0x252e*-0x1);this['lightShado'+'wMapId'][_0x3ffe89]['setValue'](_0x425c81['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x3ffe89]['setValue'](_0x425c81['shadowMatr'+'ix']['data']);const _0x492b60=_0x42a1c8['_getUnifor'+'mBiasValue'+'s'](_0x425c81),_0x1db926=_0x42a1c8['_shadowRen'+'derParams'];_0x1db926['length']=-0xa60+-0x2*-0x9d0+-0x93c,_0x1db926[-0x664*-0x2+0x25dd+-0x1*0x32a5]=_0x42a1c8['_shadowRes'+'olution'],_0x1db926[0x1*0x1e46+0x641+0x113*-0x22]=_0x492b60['normalBias'],_0x1db926[-0x13f3+0x29b+-0x8ad*-0x2]=_0x492b60['bias'],_0x1db926[-0x33d+0x1986+-0x1646]=(0x1e23*0x1+0x680*0x1+-0x24a2)/_0x42a1c8['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3ffe89]['setValue'](_0x1db926),this['lightShado'+'wIntensity'][_0x3ffe89]['setValue'](_0x42a1c8['shadowInte'+'nsity']);const _0x5c2d41=_0x42a1c8['penumbraSi'+'ze']/_0x425c81['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x1d4264=_0x425c81['shadowCame'+'ra']['_fov']*Math['PI']/(-0x6*-0x305+-0x1113+0x1d*-0x3),_0x2e437f=(-0x1*-0x20e6+-0xb91*0x3+0x1ce)/Math['tan'](_0x1d4264/(0x239b+0x188e+-0x3c27));this['lightShado'+'wSearchAre'+'aId'][_0x3ffe89]['setValue'](_0x5c2d41*_0x2e437f);const _0x23b823=_0x42a1c8['_shadowCam'+'eraParams'];_0x23b823['length']=0x2089*0x1+-0x13*0x1eb+0x3ec*0x1,_0x23b823[0x443*-0x5+0x53d+0x1012]=0x70e+-0x15*-0x18b+-0x3*0xd27,_0x23b823[-0x16*-0x2+0x959*0x3+0x1*-0x1c36]=_0x425c81['shadowCame'+'ra']['_farClip'],_0x23b823[-0x15a*-0x5+-0xba8*0x1+0x4e8]=_0x425c81['shadowCame'+'ra']['_nearClip'],_0x23b823[0x1147+-0x623*0x3+0x125*0x1]=0xb2b+-0x1769+0x61f*0x2,this['lightCamer'+'aParamsId'][_0x3ffe89]['setValue'](_0x23b823);}if(_0x42a1c8['_cookie']){if(!_0x42a1c8['castShadow'+'s']){const _0x11bdd3=Wn['evalSpotCo'+'okieMatrix'](_0x42a1c8);this['lightShado'+'wMatrixId'][_0x3ffe89]['setValue'](_0x11bdd3['data']);}this['lightCooki'+'eId'][_0x3ffe89]['setValue'](_0x42a1c8['_cookie']),this['lightCooki'+'eIntId'][_0x3ffe89]['setValue'](_0x42a1c8['cookieInte'+'nsity']),_0x42a1c8['_cookieTra'+'nsform']&&(_0x42a1c8['_cookieTra'+'nsformUnif'+'orm'][-0x1*0x1b93+0x8e1*-0x1+0x91d*0x4]=_0x42a1c8['_cookieTra'+'nsform']['x'],_0x42a1c8['_cookieTra'+'nsformUnif'+'orm'][-0xb7d*0x3+0x7fa+0x2*0xd3f]=_0x42a1c8['_cookieTra'+'nsform']['y'],_0x42a1c8['_cookieTra'+'nsformUnif'+'orm'][0x169d+0x33d*0x3+-0x2a*0xc5]=_0x42a1c8['_cookieTra'+'nsform']['z'],_0x42a1c8['_cookieTra'+'nsformUnif'+'orm'][-0x373*-0x1+-0x1c37+-0x18c7*-0x1]=_0x42a1c8['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x3ffe89]['setValue'](_0x42a1c8['_cookieTra'+'nsformUnif'+'orm']),_0x42a1c8['_cookieOff'+'setUniform'][0x2*0x925+0x210f+-0x3359]=_0x42a1c8['_cookieOff'+'set']['x'],_0x42a1c8['_cookieOff'+'setUniform'][-0x25bb+0x6b0+0x1f0c]=_0x42a1c8['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x3ffe89]['setValue'](_0x42a1c8['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x2f8ec7,_0x55aa54,_0x1f7615){let _0x1623aa=_0x1f7615;const _0x59f5ff=this['device']['scope'],_0xba5a8f=_0x2f8ec7[Ke],_0x4f772d=_0xba5a8f['length'];for(let _0x320dda=0x1a86*0x1+-0x1*-0x140d+0x1*-0x2e93;_0x320dda<_0x4f772d;_0x320dda++){const _0x4fea25=_0xba5a8f[_0x320dda];_0x4fea25['mask']&_0x55aa54&&(this['dispatchOm'+'niLight'](_0x59f5ff,_0x4fea25,_0x1623aa),_0x1623aa++);}const _0x17600b=_0x2f8ec7[Ze],_0xb247e4=_0x17600b['length'];for(let _0x2abb7d=0x26+0x1b8d+-0x1bb3;_0x2abb7d<_0xb247e4;_0x2abb7d++){const _0x4386f8=_0x17600b[_0x2abb7d];_0x4386f8['mask']&_0x55aa54&&(this['dispatchSp'+'otLight'](_0x59f5ff,_0x4386f8,_0x1623aa),_0x1623aa++);}}['renderForw'+'ardPrepare'+'Materials'](_0x58e360,_0x2db788,_0x4eae19,_0x2eee89,_0x47eaf3,_0x69e012){const _0xf8e1ba=_0x58e360['fogParams']??this['scene']['fog'],_0x2641a0=_0x58e360['shaderPara'+'ms'];_0x2641a0['fog']=_0xf8e1ba['type'],_0x2641a0['srgbRender'+'Target']=(_0x2db788==null?void(-0x7fd+-0x21a2+0x1*0x299f):_0x2db788['isColorBuf'+'ferSrgb'](-0x2*-0x7e5+0x18c2+-0x6c2*0x6))??!(-0x26d*-0x1+0x10cf+-0x133b);const _0xf83371=(_0x51e392,_0x315bbf,_0x5dcecb,_0x5b2a16)=>{Nr['drawCalls']['push'](_0x51e392),Nr['shaderInst'+'ances']['push'](_0x315bbf),Nr['isNewMater'+'ial']['push'](_0x5dcecb),Nr['lightMaskC'+'hanged']['push'](_0x5b2a16);};Nr['clear']();const _0x2e0992=this['device'],_0x46da19=this['scene'],_0x2be782=_0x46da19['clusteredL'+'ightingEna'+'bled'],_0x2566c5=(_0x47eaf3==null?void(-0x1162+0x1*-0x7eb+0x86f*0x3):_0x47eaf3['getLightHa'+'sh'](_0x2be782))??0x723+-0x5b7+-0x16c;let _0x3225bd=null,_0x140aac,_0xd0a80d;const _0x2edeee=_0x4eae19['length'];for(let _0xe9c7bf=0x26cd+-0x1e1d+0x1*-0x8b0;_0xe9c7bf<_0x2edeee;_0xe9c7bf++){const _0x2bfc7c=_0x4eae19[_0xe9c7bf];if(_0x58e360===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x47eaf3){if(_0x47eaf3['_skipRende'+'rCounter']>=_0x47eaf3['skipRender'+'After'])continue;_0x47eaf3['_skipRende'+'rCounter']++;}const _0x12632c=_0x2bfc7c['instancing'+'Data'];if(_0x12632c&&_0x12632c['count']<=-0x7*0x2f9+-0x1*0x1491+0x1*0x2960)continue;_0x2bfc7c['ensureMate'+'rial'](_0x2e0992);const _0x2de443=_0x2bfc7c['material'],_0x39f109=_0x2bfc7c['_shaderDef'+'s'],_0x1206b5=_0x2bfc7c['mask'];_0x2de443&&_0x2de443===_0x3225bd&&_0x39f109!==_0x140aac&&(_0x3225bd=null),_0x2de443!==_0x3225bd&&(this['_materialS'+'witches']++,_0x2de443['_scene']=_0x46da19,_0x2de443['dirty']&&(Q['pushGpuMar'+'ker'](_0x2e0992,'Node:\x20'+_0x2bfc7c['node']['name']+(',\x20Material'+':\x20')+_0x2de443['name']),_0x2de443['updateUnif'+'orms'](_0x2e0992,_0x46da19),_0x2de443['dirty']=!(0x2568+-0x1de3+-0x94*0xd),Q['popGpuMark'+'er'](_0x2e0992)));const _0x4622ce=_0x2bfc7c['getShaderI'+'nstance'](_0x69e012,_0x2566c5,_0x46da19,_0x2641a0,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2eee89);_0xf83371(_0x2bfc7c,_0x4622ce,_0x2de443!==_0x3225bd,!_0x3225bd||_0x1206b5!==_0xd0a80d),_0x3225bd=_0x2de443,_0x140aac=_0x39f109,_0xd0a80d=_0x1206b5;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x37e9e9,_0x5ebf9d,_0x8582dc,_0x1fc602,_0x3b3c08,_0x2e1a64,_0x466ec1){var _0x302539,_0x43053b;const _0x1080e4=this['device'],_0x372992=this['scene'],_0x4c99da=-0x1427*-0x1+0x72a+0x4*-0x6d4<<_0x1fc602,_0x591967=_0x2e1a64?-(-0x2*-0x55+-0x217*0xd+-0x75*-0x3a):0xd6d+0xa3*0xd+-0x457*0x5,_0x190893=_0x372992['clusteredL'+'ightingEna'+'bled'],_0x544ab5=(_0x302539=_0x37e9e9['xr'])!=null&&_0x302539['session']&&_0x37e9e9['xr']['views']['list']['length']?_0x37e9e9['xr']['views']['list']:null,_0x258c71=_0x5ebf9d['drawCalls']['length'];for(let _0x5a2d12=-0x7c7*-0x5+-0x6*0xe+-0x268f;_0x5a2d12<_0x258c71;_0x5a2d12++){const _0x3f7b71=_0x5ebf9d['drawCalls'][_0x5a2d12],_0x449625=_0x5ebf9d['isNewMater'+'ial'][_0x5a2d12],_0x4689e5=_0x5ebf9d['lightMaskC'+'hanged'][_0x5a2d12],_0x19c7b3=_0x5ebf9d['shaderInst'+'ances'][_0x5a2d12],_0x4d9b8d=_0x3f7b71['material'],_0x3c4b28=_0x3f7b71['mask'];if(_0x19c7b3['shader']['failed'])continue;if(_0x449625){if(_0x1080e4['setShader'](_0x19c7b3['shader'],!(0x18ee+0x249*-0xd+0x4c8)),_0x4d9b8d['setParamet'+'ers'](_0x1080e4),_0x4689e5){const _0x2a6f4d=this['dispatchDi'+'rectLights'](_0x8582dc[ve],_0x3c4b28,_0x37e9e9);_0x190893||this['dispatchLo'+'calLights'](_0x8582dc,_0x3c4b28,_0x2a6f4d);}this['alphaTestI'+'d']['setValue'](_0x4d9b8d['alphaTest']),_0x1080e4['setBlendSt'+'ate'](_0x4d9b8d['blendState']),_0x1080e4['setDepthSt'+'ate'](_0x4d9b8d['depthState']),_0x1080e4['setAlphaTo'+'Coverage'](_0x4d9b8d['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x1080e4,'Node:\x20'+_0x3f7b71['node']['name']+(',\x20Material'+':\x20')+_0x4d9b8d['name']),this['setupCullM'+'ode'](_0x37e9e9['_cullFaces'],_0x591967,_0x3f7b71);const _0x20011b=_0x3f7b71['stencilFro'+'nt']??_0x4d9b8d['stencilFro'+'nt'],_0x51eae8=_0x3f7b71['stencilBac'+'k']??_0x4d9b8d['stencilBac'+'k'];_0x1080e4['setStencil'+'State'](_0x20011b,_0x51eae8),_0x3f7b71['setParamet'+'ers'](_0x1080e4,_0x4c99da),_0x1080e4['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x3f7b71['id']);const _0x4bfbbd=_0x3f7b71['mesh'];this['setVertexB'+'uffers'](_0x1080e4,_0x4bfbbd),this['setMorphin'+'g'](_0x1080e4,_0x3f7b71['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x1080e4,_0x3f7b71);const _0x58b18b=_0x3f7b71['instancing'+'Data'];_0x58b18b&&_0x1080e4['setVertexB'+'uffer'](_0x58b18b['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x3f7b71,!(0x4bf*-0x3+-0x791+0x15ce)),this['setupMeshU'+'niformBuff'+'ers'](_0x19c7b3);const _0x1b8aae=_0x3f7b71['renderStyl'+'e'],_0x3a112e=_0x4bfbbd['indexBuffe'+'r'][_0x1b8aae];_0x3b3c08==null||_0x3b3c08(_0x3f7b71,_0x5a2d12);const _0x48bca9=(_0x43053b=_0x3f7b71['indirectDa'+'ta'])==null?void(-0x907+-0x1*0x10f+0xa16):_0x43053b['get'](_0x37e9e9);if(_0x544ab5)for(let _0x5d6b6d=0x89e*0x1+-0x27*-0xe9+-0x1*0x2c1d;_0x5d6b6d<_0x544ab5['length'];_0x5d6b6d++){const _0x3f2ffc=_0x544ab5[_0x5d6b6d];if(_0x1080e4['setViewpor'+'t'](_0x3f2ffc['viewport']['x'],_0x3f2ffc['viewport']['y'],_0x3f2ffc['viewport']['z'],_0x3f2ffc['viewport']['w']),_0x1080e4['supportsUn'+'iformBuffe'+'rs']){const _0x313aa1=_0x466ec1[_0x5d6b6d];_0x1080e4['setBindGro'+'up'](rl,_0x313aa1);}else this['setupViewU'+'niforms'](_0x3f2ffc,_0x5d6b6d);const _0x1a5094=_0x5d6b6d===-0x1b05+0x6ee+0x1417,_0x46fb81=_0x5d6b6d===_0x544ab5['length']-(0x7a7+-0x1186+0x9e0);_0x1080e4['draw'](_0x4bfbbd['primitive'][_0x1b8aae],_0x3a112e,_0x58b18b==null?void(0x119f*-0x2+-0x1ff7+0x4335):_0x58b18b['count'],_0x48bca9,_0x1a5094,_0x46fb81),this['_forwardDr'+'awCalls']++,_0x3f7b71['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x1080e4['draw'](_0x4bfbbd['primitive'][_0x1b8aae],_0x3a112e,_0x58b18b==null?void(-0x3*0x41b+0x7*0x27d+-0x51a):_0x58b18b['count'],_0x48bca9),this['_forwardDr'+'awCalls']++,_0x3f7b71['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x5a2d12<_0x258c71-(-0xe6f+0x1*0x3b9+0xd3*0xd)&&!_0x5ebf9d['isNewMater'+'ial'][_0x5a2d12+(0x3*0x18b+0x14f6+0x2*-0xccb)]&&_0x4d9b8d['setParamet'+'ers'](_0x1080e4,_0x3f7b71['parameters']),Q['popGpuMark'+'er'](_0x1080e4);}}['renderForw'+'ard'](_0xab559,_0x400bdc,_0x403a23,_0xc54d26,_0x595de5,_0x2bc1ff,_0x559ba0,_0x130114,_0x3cd6bc){const _0x2136c6=de(),_0xc936be=this['renderForw'+'ardPrepare'+'Materials'](_0xab559,_0x400bdc,_0x403a23,_0xc54d26,_0x559ba0,_0x595de5);this['renderForw'+'ardInterna'+'l'](_0xab559,_0xc936be,_0xc54d26,_0x595de5,_0x2bc1ff,_0x130114,_0x3cd6bc),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x2136c6;}['renderForw'+'ardLayer'](_0x33cae9,_0x23d538,_0x431c48,_0x2d5f2f,_0x3fd57f,_0x27faec,_0x5bf7b2={}){const {scene:_0x3e7e2a,device:_0x50676e}=this,_0x9977af=_0x3e7e2a['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x33cae9,_0x23d538);let _0x47945c,_0x12ced5;if(_0x431c48){const _0x43ab55=de();_0x431c48['sortVisibl'+'e'](_0x33cae9,_0x2d5f2f),this['_sortTime']+=de()-_0x43ab55;const _0x3e8fe3=_0x431c48['getCulledI'+'nstances'](_0x33cae9);_0x47945c=_0x2d5f2f?_0x3e8fe3['transparen'+'t']:_0x3e8fe3['opaque'],_0x3e7e2a['immediate']['onPreRende'+'rLayer'](_0x431c48,_0x47945c,_0x2d5f2f),_0x431c48['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x3e7e2a['ambientLig'+'ht'],_0x431c48['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x12ced5=_0x431c48['splitLight'+'s'];}else _0x47945c=_0x5bf7b2['meshInstan'+'ces'],_0x12ced5=_0x5bf7b2['splitLight'+'s']??Qb;if(w['assert'](_0x47945c,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x9977af){const _0x578638=_0x5bf7b2['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x578638['activate'](),_0x431c48&&!this['clustersDe'+'bugRendere'+'d']&&_0x3e7e2a['lighting']['debugLayer']===_0x431c48['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0xdb4+0x5ec*-0x4+0x2564),hu['render'](_0x578638,this['scene']));}_0x3e7e2a['_activeCam'+'era']=_0x33cae9;const _0x2de7e7=_0x33cae9['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x2de7e7);const _0x380af3=this['setCameraU'+'niforms'](_0x33cae9,_0x23d538);_0x50676e['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x27faec,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x380af3);const _0x6879ef=_0x5bf7b2['clearColor']??!(-0x108f+0x5*0x61b+-0x113*0xd),_0x2b9ca8=_0x5bf7b2['clearDepth']??!(0x1f19+0x2*-0x71e+-0x10dc),_0xf1a6a2=_0x5bf7b2['clearStenc'+'il']??!(0x15b2+0x3b*-0xa9+0x1142);(_0x6879ef||_0x2b9ca8||_0xf1a6a2)&&this['clear'](_0x33cae9,_0x6879ef,_0x2b9ca8,_0xf1a6a2);const _0x3a8ade=!!(_0x33cae9['_flipFaces']^(_0x23d538==null?void(0x1*0x9ac+-0x17b5+-0x1*-0xe09):_0x23d538['flipY'])),_0x52e1f=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x33cae9,_0x23d538,_0x47945c,_0x12ced5,_0x3fd57f,null,_0x431c48,_0x3a8ade,_0x27faec),_0x431c48&&(_0x431c48['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x52e1f);}['setFogCons'+'tants'](_0x52317d){if(_0x52317d['type']!==Kn){or['linear'](_0x52317d['color']);const _0xd0abd9=this['fogColor'];_0xd0abd9[0x21fd*0x1+0x2001+-0x41fe]=or['r'],_0xd0abd9[0x100d+0x201+0x1*-0x120d]=or['g'],_0xd0abd9[0x1332+-0x2267+-0x1*-0xf37]=or['b'],this['fogColorId']['setValue'](_0xd0abd9),_0x52317d['type']===Iw?(this['fogStartId']['setValue'](_0x52317d['start']),this['fogEndId']['setValue'](_0x52317d['end'])):this['fogDensity'+'Id']['setValue'](_0x52317d['density']);}}['setSceneCo'+'nstants'](){const _0x105e10=this['scene'];this['dispatchGl'+'obalLights'](_0x105e10);const _0x3b8170=this['device'];this['_screenSiz'+'e'][0x358+0x18af+-0x1c07]=_0x3b8170['width'],this['_screenSiz'+'e'][0xa34+0x24f4+-0x2f27]=_0x3b8170['height'],this['_screenSiz'+'e'][0x1401+0xae+-0x14ad]=(0x1673+-0x390+0x12e2*-0x1)/_0x3b8170['width'],this['_screenSiz'+'e'][-0x5*0x411+0x939+0xb1f]=(0x25b1+-0x1586+-0x2*0x815)/_0x3b8170['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x3ca538,_0x5e4314){const _0x15caf0=this['scene'];if(_0x3ca538['reset'](),_0x15caf0['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4e080c,cookiesEnabled:_0x295f61}=_0x15caf0['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x3ca538,_0x4e080c,_0x295f61,this['lights'],this['localLight'+'s']),_0x3ca538['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x3ca538,this['localLight'+'s']);let _0x3574d7=0x20f6+-0x114b*-0x1+-0x9b*0x53,_0x238c37=!(-0xd*-0x1fd+-0x6*-0x644+-0x3f71),_0x587d2a=null;const _0x2eea71=_0x5e4314['_renderAct'+'ions'];for(let _0x132148=_0x3574d7;_0x132148<_0x2eea71['length'];_0x132148++){const _0x18cd1b=_0x2eea71[_0x132148],{layer:_0xa64ab4,camera:_0x246564}=_0x18cd1b;if(_0x18cd1b['useCameraP'+'asses'])w['call'](()=>{_0x246564['postEffect'+'s']['effects']['length']>0x5cc+0x1687+-0x1c53&&w['warnOnce']('Camera\x20\x27'+_0x246564['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x246564['camera']['renderPass'+'es']['forEach'](_0x5b1715=>{_0x3ca538['addRenderP'+'ass'](_0x5b1715);});else{const _0x5ce95b=_0xa64ab4['id']===ps,_0x2320ef=_0x5ce95b&&(_0x246564['renderScen'+'eColorMap']||_0x246564['renderScen'+'eDepthMap']);_0x238c37&&(_0x238c37=!(0x1*-0x1d23+-0xe*-0xbf+0x12b2),_0x3574d7=_0x132148,_0x587d2a=_0x18cd1b['renderTarg'+'et']);const _0x5f13fb=_0x2eea71[_0x132148+(0x19a9+0xb7*-0x13+-0x119*0xb)],_0x64c295=(_0x5f13fb?!_0x5f13fb['useCameraP'+'asses']&&_0x5f13fb['layer']['id']===ps:!(-0x2024+-0x8e1+0x2906))&&(_0x246564['renderScen'+'eColorMap']||_0x246564['renderScen'+'eDepthMap']),_0x306ef8=_0x5f13fb?_0x5f13fb['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x5f13fb['camera']['camera']):!(-0x2016+0x8fc+0x171b);if(!_0x5f13fb||_0x5f13fb['renderTarg'+'et']!==_0x587d2a||_0x306ef8||_0x64c295||_0x2320ef){if(_0x5ce95b&&_0x3574d7===_0x132148||this['addMainRen'+'derPass'](_0x3ca538,_0x5e4314,_0x587d2a,_0x3574d7,_0x132148),_0x5ce95b){if(_0x246564['renderScen'+'eColorMap']){const _0x3b2f3d=_0x246564['camera']['renderPass'+'ColorGrab'];_0x3b2f3d['source']=_0x246564['renderTarg'+'et'],_0x3ca538['addRenderP'+'ass'](_0x3b2f3d);}_0x246564['renderScen'+'eDepthMap']&&_0x3ca538['addRenderP'+'ass'](_0x246564['camera']['renderPass'+'DepthGrab']);}if(_0x18cd1b['triggerPos'+'tprocess']&&(_0x246564!=null&&_0x246564['onPostproc'+'essing'])){const _0x507e73=new Zb(this['device'],this,_0x18cd1b);_0x3ca538['addRenderP'+'ass'](_0x507e73);}_0x238c37=!(0x1*-0x28d+0xe0e+-0xb81);}}}}['addMainRen'+'derPass'](_0x7b8309,_0x1f8b21,_0x399421,_0x13b945,_0x24f477){const _0x2f77db=new Kb(this['device'],_0x1f8b21,this['scene'],this);_0x2f77db['init'](_0x399421);const _0x296ac2=_0x1f8b21['_renderAct'+'ions'];for(let _0x3c3d7a=_0x13b945;_0x3c3d7a<=_0x24f477;_0x3c3d7a++)_0x2f77db['addRenderA'+'ction'](_0x296ac2[_0x3c3d7a]);_0x7b8309['addRenderP'+'ass'](_0x2f77db);}['update'](_0x141b82){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x141b82),this['collectLig'+'hts'](_0x141b82),this['beginFrame'](_0x141b82),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x141b82),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0x4*0x566+0x1*-0xe2+0x167a),h(Ni,'skipRender'+'After',0x11b6*0x1+0x1df1+-0x455*0xb);let fl=Ni,uf=-0x20f2+0x92a+0x17c8;const co=[],hc=new Set();function tA(_0x5f303d,_0x3e75cc){return _0x5f303d['drawOrder']-_0x3e75cc['drawOrder'];}function sA(_0x240fe6,_0x2d2ea2){const _0x38c44a=_0x240fe6['_sortKeyFo'+'rward'],_0x4b78c2=_0x2d2ea2['_sortKeyFo'+'rward'];return _0x38c44a===_0x4b78c2?_0x2d2ea2['mesh']['id']-_0x240fe6['mesh']['id']:_0x4b78c2-_0x38c44a;}function iA(_0x4a9d5c,_0x5a4a64){return _0x5a4a64['_sortKeyDy'+'namic']-_0x4a9d5c['_sortKeyDy'+'namic'];}function rA(_0x51fc88,_0x488a41){return _0x51fc88['_sortKeyDy'+'namic']-_0x488a41['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x59cd9b={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0xe3a+0x139b+0x3*-0xb47)),h(this,'requiresLi'+'ghtCube',!(-0x1b24+0xc*-0xce+0x24cd)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x2600+0x1498+-0x3a97)),(_0x59cd9b['id']!==void(-0xd29+0x16*-0x1b+-0x1*-0xf7b)?(this['id']=_0x59cd9b['id'],uf=Math['max'](this['id']+(-0x9a9*-0x2+0x721+0x5*-0x54a),uf)):this['id']=uf++,this['name']=_0x59cd9b['name'],this['_enabled']=_0x59cd9b['enabled']??!(0x1*0x74b+0x1da7*-0x1+0x6c*0x35),this['_refCounte'+'r']=this['_enabled']?-0x10b0+-0x74*-0x47+-0xf7b:0x243*0x11+-0x1065*0x2+0x1*-0x5a9,this['opaqueSort'+'Mode']=_0x59cd9b['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x59cd9b['transparen'+'tSortMode']??m_,_0x59cd9b['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x59cd9b['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x59cd9b['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x59cd9b['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x59cd9b['clearStenc'+'ilBuffer'],this['onEnable']=_0x59cd9b['onEnable'],this['onDisable']=_0x59cd9b['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x6e9+-0x12*-0x203+-0x241*0xd,this['_lightHash'+'Dirty']=!(-0x10fd+0x5*0x529+0x5*-0x1c3),this['_lightIdHa'+'sh']=-0x1*-0x237b+0x66f+-0x29ea,this['_lightIdHa'+'shDirty']=!(0x53*0x5b+0x204a+-0x1ee5*0x2),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x12d8+0x61b+0xcbd,this['_renderTim'+'e']=-0x1*-0x1c48+-0x7a+-0x1bce,this['_forwardDr'+'awCalls']=0xe46+0x1b05+-0x294b,this['_shadowDra'+'wCalls']=-0x3*0x46d+-0x22d3+0x301a,this['_shaderVer'+'sion']=-(-0x12ad+-0x1381+0x262f));}set['enabled'](_0x3c0ad2){_0x3c0ad2!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x32*0x13+-0x1*0x2516+0x2160),this['_enabled']=_0x3c0ad2,_0x3c0ad2?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x5e3414){this['_clearColo'+'rBuffer']=_0x5e3414,this['_dirtyComp'+'osition']=!(0x24ca+0x2406+0x4*-0x1234);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x4addc7){this['_clearDept'+'hBuffer']=_0x4addc7,this['_dirtyComp'+'osition']=!(-0x26b8+0xb5e+0x1b5a);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x4541d4){this['_clearSten'+'cilBuffer']=_0x4541d4,this['_dirtyComp'+'osition']=!(-0xfed*0x1+-0x1*0x1c55+0x2c42);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x938+0xce*-0xb+0x1212;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x116*0x1a+0x1adb+-0x9*0x61f&&(this['_enabled']=!(0x2658*-0x1+0x9*-0x437+0x4c47),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x1*-0x1187+-0xb2c+-0x65a)this['_enabled']=!(0x56c+0xc1*0x27+-0x22d2),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x5*-0x679+-0x55d*-0x3+-0x3074){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x4ebe9e,_0x5d12a4){const _0x4bff3a=this['meshInstan'+'ces'],_0x39bcf2=this['meshInstan'+'cesSet'];for(let _0xda4a27=0x1ccd+-0x10ee+-0xbdf;_0xda4a27<_0x4ebe9e['length'];_0xda4a27++){const _0x5ef4d4=_0x4ebe9e[_0xda4a27];_0x39bcf2['has'](_0x5ef4d4)||(_0x4bff3a['push'](_0x5ef4d4),_0x39bcf2['add'](_0x5ef4d4),hc['add'](_0x5ef4d4['material']));}if(_0x5d12a4||this['addShadowC'+'asters'](_0x4ebe9e),hc['size']>0x2*0xc4+-0x1*-0x13d6+0x223*-0xa){const _0x1ab09b=this['_shaderVer'+'sion'];hc['forEach'](_0x109ddd=>{_0x1ab09b>=-0x9d8+0x266a*-0x1+0x3042&&_0x109ddd['_shaderVer'+'sion']!==_0x1ab09b&&(_0x109ddd['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x109ddd['clearVaria'+'nts'](),_0x109ddd['_shaderVer'+'sion']=_0x1ab09b);}),hc['clear']();}}['removeMesh'+'Instances'](_0x2a3746,_0x5e1117){const _0x316925=this['meshInstan'+'ces'],_0x4e5721=this['meshInstan'+'cesSet'];for(let _0x5cd051=-0x1*0x2fc+0x31*0xc7+-0x231b;_0x5cd051<_0x2a3746['length'];_0x5cd051++){const _0x420337=_0x2a3746[_0x5cd051];if(_0x4e5721['has'](_0x420337)){_0x4e5721['delete'](_0x420337);const _0x3dc96c=_0x316925['indexOf'](_0x420337);_0x3dc96c>=-0x7b2+-0x2*0xaa3+0x1cf8&&_0x316925['splice'](_0x3dc96c,-0x1*0x14ab+-0x23*0x89+-0x395*-0xb);}}_0x5e1117||this['removeShad'+'owCasters'](_0x2a3746);}['addShadowC'+'asters'](_0x4a805f){const _0x4a71ca=this['shadowCast'+'ers'],_0x2e1635=this['shadowCast'+'ersSet'];for(let _0x573e14=0x19*0xa9+0x1210+-0x2291;_0x573e14<_0x4a805f['length'];_0x573e14++){const _0x242046=_0x4a805f[_0x573e14];_0x242046['castShadow']&&!_0x2e1635['has'](_0x242046)&&(_0x2e1635['add'](_0x242046),_0x4a71ca['push'](_0x242046));}}['removeShad'+'owCasters'](_0x5b5c2b){const _0x27aac1=this['shadowCast'+'ers'],_0x13a965=this['shadowCast'+'ersSet'];for(let _0x494cbd=0x1*0x232c+-0x1182+-0x11aa*0x1;_0x494cbd<_0x5b5c2b['length'];_0x494cbd++){const _0x528847=_0x5b5c2b[_0x494cbd];if(_0x13a965['has'](_0x528847)){_0x13a965['delete'](_0x528847);const _0x448a2a=_0x27aac1['indexOf'](_0x528847);_0x448a2a>=0x719+-0x1*-0x1343+-0x1a5c&&_0x27aac1['splice'](_0x448a2a,0x2636+-0x8e3+0x8b*-0x36);}}}['clearMeshI'+'nstances'](_0x27c4fa=!(-0x1*0xe14+0x91e+0x29*0x1f)){this['meshInstan'+'ces']['length']=-0x941*-0x1+0x10d8+-0x83*0x33,this['meshInstan'+'cesSet']['clear'](),_0x27c4fa||(this['shadowCast'+'ers']['length']=0x7f+-0xb*0x377+0x259e,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x9b*0xb+-0x1583+0x76d*0x2),this['_lightIdHa'+'shDirty']=!(-0x2*-0x139+0x93b+-0xbad),this['_splitLigh'+'tsDirty']=!(0x22c+-0x1e9b+0x1c6f);}['hasLight'](_0xae54a7){return this['_lightsSet']['has'](_0xae54a7);}['addLight'](_0x18ddb9){const _0x9f2111=_0x18ddb9['light'];this['_lightsSet']['has'](_0x9f2111)||(this['_lightsSet']['add'](_0x9f2111),this['_lights']['push'](_0x9f2111),this['markLights'+'Dirty']()),_0x9f2111['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x9f2111);}['removeLigh'+'t'](_0x46d5c2){const _0x5b2625=_0x46d5c2['light'];this['_lightsSet']['has'](_0x5b2625)&&(this['_lightsSet']['delete'](_0x5b2625),this['_lights']['splice'](this['_lights']['indexOf'](_0x5b2625),-0xe7b+-0x53f*0x1+0x13bb),this['markLights'+'Dirty']()),_0x5b2625['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x5b2625);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x2bebad=>_0x2bebad['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x23b5+-0xc66*-0x3+-0x7f*0x3,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x1c40+0x222f+-0x106*0x3d);const _0x3545b7=this['_splitLigh'+'ts'];for(let _0x2e9e71=0x1fbc+0x1471*-0x1+-0xb4b;_0x2e9e71<_0x3545b7['length'];_0x2e9e71++)_0x3545b7[_0x2e9e71]['length']=-0x1*-0x45d+-0x1*0xf3+-0x36a;const _0x15870a=this['_lights'];for(let _0x175903=-0x22f1+-0x17*0x4a+0x111*0x27;_0x175903<_0x15870a['length'];_0x175903++){const _0x4858e3=_0x15870a[_0x175903];_0x4858e3['enabled']&&_0x3545b7[_0x4858e3['_type']]['push'](_0x4858e3);}for(let _0xebfd83=-0x3*-0x12f+0x5af*-0x3+0xd80;_0xebfd83<_0x3545b7['length'];_0xebfd83++)_0x3545b7[_0xebfd83]['sort']((_0x95d087,_0x5c7db6)=>_0x95d087['key']-_0x5c7db6['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x555238,_0x5db111,_0x21deb8){let _0xa97340=-0x2031+-0x21a9+-0x2*-0x20ed;const _0x477ba7=this['_lights'];for(let _0x510971=0x1*0x1cbb+0x910+-0x25cb;_0x510971<_0x477ba7['length'];_0x510971++){const _0x2530f9=_0x477ba7[_0x510971]['type']!==ve;(_0x555238&&_0x2530f9||_0x5db111&&!_0x2530f9)&&co['push'](_0x21deb8?_0x477ba7[_0x510971]['id']:_0x477ba7[_0x510971]['key']);}return co['length']>-0xb1b*0x1+-0x1426*0x1+0x1f41&&(co['sort'](),_0xa97340=By(co),co['length']=-0x22ce+0x2020+0x2ae*0x1),_0xa97340;}['getLightHa'+'sh'](_0x3a884a){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x79d*0x1+0x1*0x815+-0xfb1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3a884a,!(0x2a5+-0x1249+-0x1a*-0x9a),!(0x166*-0x13+0x2b1*-0x2+0x65*0x51))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x4*0x2c3+-0x14*-0x21+-0xd9f),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1ea1+0x1486+0xa1b),!(0x1d94+-0x175d+0x13e*-0x5),!(0x3ef+-0x24e4+-0x289*-0xd))),this['_lightIdHa'+'sh'];}['addCamera'](_0x34a05e){this['camerasSet']['has'](_0x34a05e['camera'])||(this['camerasSet']['add'](_0x34a05e['camera']),this['cameras']['push'](_0x34a05e),this['_dirtyComp'+'osition']=!(-0x43*0x59+0x244a+-0xcff));}['removeCame'+'ra'](_0x4d2af6){if(this['camerasSet']['has'](_0x4d2af6['camera'])){this['camerasSet']['delete'](_0x4d2af6['camera']);const _0x45d750=this['cameras']['indexOf'](_0x4d2af6);this['cameras']['splice'](_0x45d750,0x3df*0x3+0x1*-0x653+-0x549),this['_dirtyComp'+'osition']=!(-0x2*0xdc+0xf8f+-0x49d*0x3);}}['clearCamer'+'as'](){this['cameras']['length']=0x15f*0xc+-0x1c2c+0xbb8,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1b98+0x10d*-0x4+0x1fcc);}['_calculate'+'SortDistan'+'ces'](_0x48a8d0,_0x263704,_0x564ae9){const _0x1a3c1b=_0x48a8d0['length'],{x:_0x4b926a,y:_0x2a425e,z:_0x17015b}=_0x263704,{x:_0x2db716,y:_0x1bbfb0,z:_0x40abc4}=_0x564ae9;for(let _0x247ac3=-0x2*-0xa16+-0x22*-0x40+-0x4*0x72b;_0x247ac3<_0x1a3c1b;_0x247ac3++){const _0x1f62a8=_0x48a8d0[_0x247ac3];let _0x196a3d;if(_0x1f62a8['calculateS'+'ortDistanc'+'e'])_0x196a3d=_0x1f62a8['calculateS'+'ortDistanc'+'e'](_0x1f62a8,_0x263704,_0x564ae9);else{const _0x17517a=_0x1f62a8['aabb']['center'];_0x196a3d=(_0x17517a['x']-_0x4b926a)*_0x2db716+(_0x17517a['y']-_0x2a425e)*_0x1bbfb0+(_0x17517a['z']-_0x17015b)*_0x40abc4;}const _0x1b1c94=_0x1f62a8['_drawBucke'+'t']*(0xb3*0x4fa541+0x4a89e379+-0x469fa5ec);_0x1f62a8['_sortKeyDy'+'namic']=_0x1b1c94+_0x196a3d;}}['getCulledI'+'nstances'](_0x330b5d){let _0x198d2f=this['_visibleIn'+'stances']['get'](_0x330b5d);return _0x198d2f||(_0x198d2f=new nA(),this['_visibleIn'+'stances']['set'](_0x330b5d,_0x198d2f)),_0x198d2f;}['sortVisibl'+'e'](_0x21cb4c,_0x3168ca){const _0x140e4c=_0x3168ca?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x140e4c===Yc)return;const _0x4d7ea0=this['getCulledI'+'nstances'](_0x21cb4c),_0x164f68=_0x3168ca?_0x4d7ea0['transparen'+'t']:_0x4d7ea0['opaque'],_0x4ae644=_0x21cb4c['node'];if(_0x140e4c===Zw){const _0x5b9ecc=_0x4ae644['getPositio'+'n'](),_0xf1ab14=_0x4ae644['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x164f68,_0x164f68['length'],_0x5b9ecc,_0xf1ab14),this['customSort'+'Callback']&&_0x164f68['sort'](this['customSort'+'Callback']);}else{if(_0x140e4c===m_||_0x140e4c===Kw){const _0xf0fca=_0x4ae644['getPositio'+'n'](),_0x5f0f89=_0x4ae644['forward'];this['_calculate'+'SortDistan'+'ces'](_0x164f68,_0xf0fca,_0x5f0f89);}_0x164f68['sort'](aA[_0x140e4c]);}}}const oA=(_0x1681ea,_0x29027d)=>_0x1681ea['priority']-_0x29027d['priority'],ul=_0x521e3e=>_0x521e3e['sort'](oA);class du extends me{constructor(_0x2cba09='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x24ad+0x3*0x6d3+0x1035)),(this['name']=_0x2cba09,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x24553b=>_0x24553b['destroy']()),this['_renderAct'+'ions']['length']=0x1705+0x1bdf*-0x1+0x4da;}['markDirty'](){this['_dirty']=!(0x151+0x952*0x2+0x83*-0x27);}['_update'](){const _0x5d6b40=this['layerList']['length'];if(!this['_dirty']){for(let _0x10ae78=0x551*0x7+-0x1885+0xcb2*-0x1;_0x10ae78<_0x5d6b40;_0x10ae78++)if(this['layerList'][_0x10ae78]['_dirtyComp'+'osition']){this['_dirty']=!(0x1070+-0x1ba2+0x1*0xb32);break;}}if(this['_dirty']){this['_dirty']=!(-0x129+-0x16*-0x63+-0x758),this['cameras']['length']=-0x2*-0x86e+-0x238f*0x1+0x12b3;for(let _0x3fdb48=0xe09*0x2+0x2526+0x4138*-0x1;_0x3fdb48<_0x5d6b40;_0x3fdb48++){const _0x26f2c4=this['layerList'][_0x3fdb48];_0x26f2c4['_dirtyComp'+'osition']=!(-0x1cea+0x6a+0x1*0x1c81);for(let _0x5187cc=0x2*0xb79+0x234a+-0x3a3c;_0x5187cc<_0x26f2c4['cameras']['length'];_0x5187cc++){const _0x1ad34d=_0x26f2c4['cameras'][_0x5187cc];this['cameras']['indexOf'](_0x1ad34d)<-0x20f0+0x1*0x23f7+0x307*-0x1&&this['cameras']['push'](_0x1ad34d);}}this['cameras']['length']>-0x1a*-0x1f+0xd36+-0x105b&&ul(this['cameras']);let _0x2391a5=0x191+-0x1dfc+0x1c6b;this['destroyRen'+'derActions']();for(let _0x3237dc=-0x35*0x99+0x5*0x36b+0xe96;_0x3237dc<this['cameras']['length'];_0x3237dc++){const _0x5312fc=this['cameras'][_0x3237dc];if(_0x5312fc['camera']['renderPass'+'es']['length']>-0x143e+0x234a+-0x2*0x786){this['addDummyRe'+'nderAction'](_0x2391a5,_0x5312fc),_0x2391a5++;continue;}let _0xfec1b1=!(-0x1b*0xc5+-0x1*-0xe7d+0x64a*0x1);const _0x580779=_0x2391a5;let _0x5de5fb=null,_0x52f269=!(0x1*-0xf2b+-0x11*-0x5+0xed7);for(let _0xeddfd1=0x116*-0xe+0x16*-0x41+0x14ca;_0xeddfd1<_0x5d6b40;_0xeddfd1++){const _0xb2240a=this['layerList'][_0xeddfd1];if(_0xb2240a['enabled']&&this['subLayerEn'+'abled'][_0xeddfd1]&&_0xb2240a['cameras']['length']>-0x1fdc+0x1523+-0x5*-0x225&&_0x5312fc['layers']['indexOf'](_0xb2240a['id'])>=-0x1edc+-0x1c14+-0x8*-0x75e){!_0x52f269&&_0xb2240a['id']===_0x5312fc['disablePos'+'tEffectsLa'+'yer']&&(_0x52f269=!(0x12fc+0x22d*0xf+-0x339f*0x1),_0x5de5fb&&(_0x5de5fb['triggerPos'+'tprocess']=!(0x82f+-0x9*-0x1e9+0x4*-0x658)));const _0x2650d1=this['subLayerLi'+'st'][_0xeddfd1];_0x5de5fb=this['addRenderA'+'ction'](_0x2391a5,_0xb2240a,_0x2650d1,_0x5312fc,_0xfec1b1,_0x52f269),_0x2391a5++,_0xfec1b1=!(0xedf*-0x1+-0x1526*-0x1+-0x646);}}_0x580779<_0x2391a5&&(_0x5de5fb['lastCamera'+'Use']=!(-0x3*-0x7d+-0x152b+-0x4ed*-0x4)),!_0x52f269&&_0x5de5fb&&(_0x5de5fb['triggerPos'+'tprocess']=!(0x1352+0x179a+-0x2aec)),_0x5312fc['renderTarg'+'et']&&_0x5312fc['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x580779-(0x1547+-0x1*0x2227+-0x9d*-0x15),_0x5312fc);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x39363e){w['assert'](this['_renderAct'+'ions']['length']===_0x39363e);const _0x4ddc7e=new Pv();return this['_renderAct'+'ions']['push'](_0x4ddc7e),_0x4ddc7e;}['addDummyRe'+'nderAction'](_0x5b426e,_0x7e77e6){const _0x391719=this['getNextRen'+'derAction'](_0x5b426e);_0x391719['camera']=_0x7e77e6,_0x391719['useCameraP'+'asses']=!(0x16b*-0x1+0x69*-0x2b+-0x6*-0x32d);}['addRenderA'+'ction'](_0x377243,_0x29816b,_0x17c3c5,_0x4aba40,_0x3b54cc,_0x181a3e){let _0x17ef1f=_0x29816b['id']!==ps?_0x4aba40['renderTarg'+'et']:null,_0x14fa24=!(-0x1050+-0x876+0x18c7*0x1);const _0x4d7f30=this['_renderAct'+'ions'];for(let _0x563e88=_0x377243-(0x19fd+-0x1c77+0x7f*0x5);_0x563e88>=0xe54+-0x729+-0x1*0x72b;_0x563e88--)if(_0x4d7f30[_0x563e88]['camera']===_0x4aba40&&_0x4d7f30[_0x563e88]['renderTarg'+'et']===_0x17ef1f){_0x14fa24=!(-0x10*0x148+0x11b6*0x2+0xbf*-0x14);break;}_0x181a3e&&_0x4aba40['postEffect'+'sEnabled']&&(_0x17ef1f=null);const _0x2c8bd7=this['getNextRen'+'derAction'](_0x377243);_0x2c8bd7['triggerPos'+'tprocess']=!(-0x191*-0x17+-0x23d2*-0x1+-0x47d8),_0x2c8bd7['layer']=_0x29816b,_0x2c8bd7['transparen'+'t']=_0x17c3c5,_0x2c8bd7['camera']=_0x4aba40,_0x2c8bd7['renderTarg'+'et']=_0x17ef1f,_0x2c8bd7['firstCamer'+'aUse']=_0x3b54cc,_0x2c8bd7['lastCamera'+'Use']=!(0x1434+0x637*0x1+-0x1a6a);const _0x162e18=_0x3b54cc||!_0x14fa24,_0x114c5c=_0x29816b['clearColor'+'Buffer']||_0x29816b['clearDepth'+'Buffer']||_0x29816b['clearStenc'+'ilBuffer'];return(_0x162e18||_0x114c5c)&&_0x2c8bd7['setupClear'+'s'](_0x162e18?_0x4aba40:void(0x1645+-0x224f+0xc0a),_0x29816b),_0x2c8bd7;}['propagateR'+'enderTarge'+'t'](_0x32bfee,_0xdb67d3){for(let _0x4938b5=_0x32bfee;_0x4938b5>=0x229a+-0x1523+-0xd77;_0x4938b5--){const _0x133a5c=this['_renderAct'+'ions'][_0x4938b5],_0x1869c9=_0x133a5c['layer'];if(_0x133a5c['renderTarg'+'et']&&_0x1869c9['id']!==ps)break;if(_0x1869c9['id']===ps)continue;if(_0x133a5c['useCameraP'+'asses'])break;const _0x179bcf=_0x133a5c==null?void(0x6bc+0x1*-0x106f+0x9b3):_0x133a5c['camera']['camera'];if(_0x179bcf&&(!_0xdb67d3['camera']['rect']['equals'](_0x179bcf['rect'])||!_0xdb67d3['camera']['scissorRec'+'t']['equals'](_0x179bcf['scissorRec'+'t'])))break;_0x133a5c['renderTarg'+'et']=_0xdb67d3['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x4d6395=-0x49d*-0x1+-0xcf5+-0xc*-0xb2;_0x4d6395<this['_renderAct'+'ions']['length'];_0x4d6395++){const _0x374c6c=this['_renderAct'+'ions'][_0x4d6395],_0x20f36f=_0x374c6c['camera'];if(_0x374c6c['useCameraP'+'asses'])w['trace'](Vl,_0x4d6395+('CustomPass'+'es\x20Cam:\x20')+(_0x20f36f?_0x20f36f['entity']['name']:'-'));else{const _0x4f33c0=_0x374c6c['layer'],_0x4754c5=_0x4f33c0['enabled']&&this['isEnabled'](_0x4f33c0,_0x374c6c['transparen'+'t']),_0xc9ede2=(_0x374c6c['clearColor']?'Color\x20':'.....\x20')+(_0x374c6c['clearDepth']?'Depth\x20':'.....\x20')+(_0x374c6c['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x4d6395+('\x20Cam:\x20'+(_0x20f36f?_0x20f36f['entity']['name']:'-'))['padEnd'](-0x163+-0x349*0x1+0x1d*0x2a,'\x20')+('\x20Lay:\x20'+_0x4f33c0['name'])['padEnd'](-0x1*0xcbd+0x1*0x14f4+-0x821,'\x20')+(_0x374c6c['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4754c5?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x374c6c['renderTarg'+'et']?_0x374c6c['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1257+-0x51b*-0x1+0xd5a*0x1,'\x20')+'\x20Clear:\x20'+_0xc9ede2+(_0x374c6c['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x374c6c['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x374c6c['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x3516d3){const _0x577c81=this['layerIdMap']['get'](_0x3516d3['id'])===_0x3516d3;return w['assert'](!_0x577c81,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x3516d3['name']),_0x577c81;}['_isSublaye'+'rAdded'](_0x19ed2c,_0x3e58e7){return(_0x3e58e7?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x19ed2c)!==void(-0x2257+-0x4*0x49e+0x34cf)?(w['error']('Sublayer\x20'+_0x19ed2c['name']+(',\x20transpar'+'ent:\x20')+_0x3e58e7+('\x20is\x20alread'+'y\x20added.')),!(-0x5*-0x136+-0x24c3+0x1eb5*0x1)):!(-0x7b6*0x5+-0x1abd+0x4*0x1053);}['push'](_0x36b0d8){this['_isLayerAd'+'ded'](_0x36b0d8)||(this['layerList']['push'](_0x36b0d8),this['layerList']['push'](_0x36b0d8),this['_opaqueOrd'+'er'][_0x36b0d8['id']]=this['subLayerLi'+'st']['push'](!(-0x1*-0x2262+0x23*-0xf1+-0x16e))-(-0x2*0x2ab+-0x97d*0x3+0x21ce),this['_transpare'+'ntOrder'][_0x36b0d8['id']]=this['subLayerLi'+'st']['push'](!(-0x1*0x604+-0x3*0x977+0x2269))-(0x371+-0x1082*-0x1+-0x2*0x9f9),this['subLayerEn'+'abled']['push'](!(-0x164a+-0x593*0x4+0x2c96)),this['subLayerEn'+'abled']['push'](!(0xfed+0x17b0+0x279d*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xbd3+0x2611*0x1+-0x31e4),this['fire']('add',_0x36b0d8));}['insert'](_0x32d04f,_0xed2edf){if(this['_isLayerAd'+'ded'](_0x32d04f))return;this['layerList']['splice'](_0xed2edf,0x7fa*-0x2+0x1cee+0x16*-0x97,_0x32d04f,_0x32d04f),this['subLayerLi'+'st']['splice'](_0xed2edf,0x196f*-0x1+0x1*-0xff3+0x2*0x14b1,!(-0x211a*0x1+-0x9a8+0x7b*0x59),!(0x9a2*-0x1+0x44*0x3d+-0x692));const _0x59c540=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0xed2edf,_0x59c540-(-0x1*0x26fb+-0x5fc+0x2cf8)),this['_updateTra'+'nsparentOr'+'der'](_0xed2edf,_0x59c540-(-0xb*-0x1d6+0x33*-0x53+0xd*-0x48)),this['subLayerEn'+'abled']['splice'](_0xed2edf,-0xd8b*-0x2+-0x1b74+0x5e,!(-0x279*-0xa+-0x1f2d+0x673),!(0x1b84+0x2047+-0x3bcb)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2dc+0x1075+0x17*-0xd7),this['fire']('add',_0x32d04f);}['remove'](_0x12cf80){let _0x56c3d0=this['layerList']['indexOf'](_0x12cf80);for(delete this['_opaqueOrd'+'er'][_0x56c3d0],delete this['_transpare'+'ntOrder'][_0x56c3d0];_0x56c3d0>=0x2c9*0x2+0x1bdc+-0x1*0x216e;)this['layerList']['splice'](_0x56c3d0,0x1897+-0x112*0x1b+-0x4*-0x114),this['subLayerLi'+'st']['splice'](_0x56c3d0,-0x262d+-0x1*-0x407+-0x4e1*-0x7),this['subLayerEn'+'abled']['splice'](_0x56c3d0,-0x251f+-0x260b*0x1+0x4b2b),_0x56c3d0=this['layerList']['indexOf'](_0x12cf80),this['_dirty']=!(-0x2*-0x2bd+-0x2*-0x692+-0x129e),this['fire']('remove',_0x12cf80);const _0xfd8298=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x456+-0xf*0x136+0x127*0xc,_0xfd8298-(-0xaa6+-0xca6+0x4a9*0x5)),this['_updateTra'+'nsparentOr'+'der'](-0x1*0x8cb+-0x136+0xa01,_0xfd8298-(-0x1c6+-0xc92+-0xe59*-0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x255fb5){this['_isSublaye'+'rAdded'](_0x255fb5,!(-0x2559+0x26a0+-0x1*0x146))||(this['layerList']['push'](_0x255fb5),this['_opaqueOrd'+'er'][_0x255fb5['id']]=this['subLayerLi'+'st']['push'](!(0xc5*-0x28+-0x23cf+0x10a6*0x4))-(0x1*-0x210d+-0x20ee+-0xa4*-0x67),this['subLayerEn'+'abled']['push'](!(-0x1*0x21e+-0x1e9f+0x20bd)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x194*-0x1+0x10*-0x4a+-0x1*-0x634),this['fire']('add',_0x255fb5));}['insertOpaq'+'ue'](_0x51760d,_0x39c649){if(this['_isSublaye'+'rAdded'](_0x51760d,!(-0x1*-0x28d+0xd*0x243+-0x1ff3)))return;this['layerList']['splice'](_0x39c649,0x22df+-0x168f+-0xc50,_0x51760d),this['subLayerLi'+'st']['splice'](_0x39c649,0x238c+0x1569+-0x38f5,!(-0x222f+-0x935*0x2+0x2*0x1a4d));const _0x5b6939=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x39c649,_0x5b6939-(0xbcb*0x1+-0x20ff+0x1*0x1535)),this['subLayerEn'+'abled']['splice'](_0x39c649,0x261f+-0x1454+-0x11cb*0x1,!(-0x1555+-0x2536+0x3a8b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x222+-0x2*0xf99+0x2154),this['fire']('add',_0x51760d);}['removeOpaq'+'ue'](_0x5444fd){for(let _0x81277c=-0xe0c+-0xa4*-0x15+0x98,_0x3e24d9=this['layerList']['length'];_0x81277c<_0x3e24d9;_0x81277c++)if(this['layerList'][_0x81277c]===_0x5444fd&&!this['subLayerLi'+'st'][_0x81277c]){this['layerList']['splice'](_0x81277c,-0x16c6+-0x792+0x11*0x1c9),this['subLayerLi'+'st']['splice'](_0x81277c,0xa8f+-0xf7*-0x15+-0x1ed1),_0x3e24d9--,this['_updateOpa'+'queOrder'](_0x81277c,_0x3e24d9-(0x1*0x1661+-0xb*-0x373+-0x3c51*0x1)),this['subLayerEn'+'abled']['splice'](_0x81277c,0xfa5+0x134f+-0x22f3),this['_dirty']=!(0x3f9+0x1f3d+-0x119b*0x2),this['layerList']['indexOf'](_0x5444fd)<0x105+-0x161*0x19+0x2174&&this['fire']('remove',_0x5444fd);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x419f5e){this['_isSublaye'+'rAdded'](_0x419f5e,!(-0x1*-0xdc7+0x838*-0x4+0x1319))||(this['layerList']['push'](_0x419f5e),this['_transpare'+'ntOrder'][_0x419f5e['id']]=this['subLayerLi'+'st']['push'](!(-0x102b*-0x2+-0x1568+-0xaee))-(-0x9*0x281+0x123*0x21+-0xef9),this['subLayerEn'+'abled']['push'](!(-0x21d4+-0x240b+0x45df)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1c03*0x1+-0x1231*0x2+-0x4065*-0x1),this['fire']('add',_0x419f5e));}['insertTran'+'sparent'](_0x512210,_0x296d25){if(this['_isSublaye'+'rAdded'](_0x512210,!(-0x1504+0xc2*0xb+0xcae)))return;this['layerList']['splice'](_0x296d25,0x9f8+-0x253c+-0x14*-0x15d,_0x512210),this['subLayerLi'+'st']['splice'](_0x296d25,0x258a+-0x1c9d+-0x8ed,!(0x7cd+-0x3*0x2a1+0x16));const _0x1fe2e9=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x296d25,_0x1fe2e9-(0x20af*0x1+-0xe9d+0x5*-0x39d)),this['subLayerEn'+'abled']['splice'](_0x296d25,-0x88a+-0x2427*-0x1+-0x1b9d,!(-0x1*-0x955+-0x15bf+-0x1c6*-0x7)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x147d+0x1*0x20ef+-0x1b*0x76),this['fire']('add',_0x512210);}['removeTran'+'sparent'](_0x31a287){for(let _0x445c97=0x186d+-0x1*0xde7+-0xa86,_0x577f3f=this['layerList']['length'];_0x445c97<_0x577f3f;_0x445c97++)if(this['layerList'][_0x445c97]===_0x31a287&&this['subLayerLi'+'st'][_0x445c97]){this['layerList']['splice'](_0x445c97,-0x34*0xb+-0x25d1+0x6*0x6ad),this['subLayerLi'+'st']['splice'](_0x445c97,-0x1ea*0xd+0x12df+0x7*0xdc),_0x577f3f--,this['_updateTra'+'nsparentOr'+'der'](_0x445c97,_0x577f3f-(0x1bf1+0xc08+-0x27f8)),this['subLayerEn'+'abled']['splice'](_0x445c97,0x16fd+0x16fd+-0x2df9),this['_dirty']=!(-0x233f+0x2*-0x7a6+0x13*0x2a9),this['layerList']['indexOf'](_0x31a287)<0x182*-0x1+0x3*0x33e+-0x838&&this['fire']('remove',_0x31a287);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x5d6ff3){return this['layerOpaqu'+'eIndexMap']['get'](_0x5d6ff3)??-(0x241a*-0x1+0x2507+-0xec);}['getTranspa'+'rentIndex'](_0x284399){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x284399)??-(-0x23cd+-0x81+0x244f);}['isEnabled'](_0x1fa88c,_0x2f7df0){if(_0x1fa88c['enabled']){const _0x5dfbf6=_0x2f7df0?this['getTranspa'+'rentIndex'](_0x1fa88c):this['getOpaqueI'+'ndex'](_0x1fa88c);if(_0x5dfbf6>=0x19*0x13+-0x1e*-0x8e+-0x127f*0x1)return this['subLayerEn'+'abled'][_0x5dfbf6];}return!(0x1a55+-0x1*0x1a04+0x10*-0x5);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xac3f9b=-0x1606+0x19*-0x119+0x1d5*0x1b;_0xac3f9b<this['layerList']['length'];_0xac3f9b++){const _0x2efcda=this['layerList'][_0xac3f9b];this['layerIdMap']['set'](_0x2efcda['id'],_0x2efcda),this['layerNameM'+'ap']['set'](_0x2efcda['name'],_0x2efcda),(this['subLayerLi'+'st'][_0xac3f9b]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x2efcda,_0xac3f9b);}}['getLayerBy'+'Id'](_0x527f43){return this['layerIdMap']['get'](_0x527f43)??null;}['getLayerBy'+'Name'](_0x3f4eef){return this['layerNameM'+'ap']['get'](_0x3f4eef)??null;}['_updateOpa'+'queOrder'](_0x73b924,_0x48ced0){for(let _0x183270=_0x73b924;_0x183270<=_0x48ced0;_0x183270++)this['subLayerLi'+'st'][_0x183270]===!(0x1*-0x24d7+-0x171*-0x15+0x693)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x183270]['id']]=_0x183270);}['_updateTra'+'nsparentOr'+'der'](_0x239c4a,_0x48a0fa){for(let _0xcb43a3=_0x239c4a;_0xcb43a3<=_0x48a0fa;_0xcb43a3++)this['subLayerLi'+'st'][_0xcb43a3]===!(0xe4b+0xb5a*0x3+0x1*-0x3059)&&(this['_transpare'+'ntOrder'][this['layerList'][_0xcb43a3]['id']]=_0xcb43a3);}['_sortLayer'+'sDescendin'+'g'](_0x4bb338,_0x14f48a,_0x4f6429){let _0x566ce5=-(-0x12d1+0x75b+0xb77),_0x3cf988=-(0x4bb*0x1+-0x733*0x1+0x279*0x1);for(let _0x3a7371=0xb63+-0x910*0x4+0x18dd,_0x443ddd=_0x4bb338['length'];_0x3a7371<_0x443ddd;_0x3a7371++){const _0x55cea1=_0x4bb338[_0x3a7371];_0x4f6429['hasOwnProp'+'erty'](_0x55cea1)&&(_0x566ce5=Math['max'](_0x566ce5,_0x4f6429[_0x55cea1]));}for(let _0xd5a36c=0x5*-0x31d+0x1939+-0x9a8,_0x3c7eac=_0x14f48a['length'];_0xd5a36c<_0x3c7eac;_0xd5a36c++){const _0x221096=_0x14f48a[_0xd5a36c];_0x4f6429['hasOwnProp'+'erty'](_0x221096)&&(_0x3cf988=Math['max'](_0x3cf988,_0x4f6429[_0x221096]));}return _0x566ce5===-(-0x191b+0x26*0x7f+0x642)&&_0x3cf988!==-(-0x1a48+-0x1f16+0x395f)?-0xa7*-0x1d+0x1*0x2262+-0x471*0xc:_0x3cf988===-(-0x5de*0x5+0x103*0x1b+0x1*0x206)&&_0x566ce5!==-(-0xaa8+-0x10f6+0x1b9f)?-(-0x1848+0xd53+0xaf6):_0x3cf988-_0x566ce5;}['sortTransp'+'arentLayer'+'s'](_0x236303,_0x1a69b7){return this['_sortLayer'+'sDescendin'+'g'](_0x236303,_0x1a69b7,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4005ad,_0x544736){return this['_sortLayer'+'sDescendin'+'g'](_0x4005ad,_0x544736,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x2010+-0x1311+-0x3*-0x110b,-0x2*-0x11d1+-0x79a+-0x6*0x4ac,0x40*-0xb+0x1bde+-0x1*0x191d,0xffd+0xa*-0x52+0xcc8*-0x1)],[new re(0x22f6+0xaa2*-0x1+0xc2a*-0x2,0x28*-0x4+-0x9e*0x23+0x163a,0x84*-0x5+-0x431*-0x2+-0x5ce*0x1+0.5,0x2e7*-0xb+0xdf0+0x5ff*0x3+0.5),new re(0x1d9e+0x9*-0x2d4+-0x42a,0xd61+0x9a5+-0x1706+0.5,0x1b90+0xed5*0x1+-0x2a65+0.5,-0x1*-0x23a+-0x2009*-0x1+-0x2243+0.5)],[new re(0x1dae+0x2*-0x181+-0x1aac,-0x1*-0x8f5+-0x27*0x87+-0x2e7*-0x4,-0x1c6b+0x12db*-0x2+0x4221+0.5,-0x1*0x16d3+0x8c3*-0x1+0xfcb*0x2+0.5),new re(-0x48*0x85+-0x1a32+0xe*0x48b,-0x1c3*-0x1+-0x2*0x12eb+0x737*0x5+0.5,0xb9*-0x22+0x184f+-0x1*-0x43+0.5,-0x249d+0x1e09+0x2*0x34a+0.5),new re(0x1ea+-0x1*0x679+-0x1*-0x48f+0.5,0x1341*0x1+-0x78a+-0xbb7,-0x1*0x347+-0x12b0+-0x15f7*-0x1+0.5,0x15c5+-0x1*0x2206+-0x1*-0xc41+0.5)],[new re(0x78d+0x2660+-0x2ded,-0x2a9+-0x3*0x5f1+0x147c,0x221f*0x1+-0x2*0xccb+0x13*-0x73+0.5,-0x20bf+-0x655+0x4*0x9c5+0.5),new re(-0xa5c*-0x1+0x1a29*0x1+-0x2485*0x1,0x5*0x25b+0x1623+0x5a7*-0x6+0.5,-0x422*0x9+0x1c83+0x8af+0.5,-0x11a7+-0x92b+0x1ad2+0.5),new re(-0x856*0x3+0xb*-0x171+0x13d*0x21+0.5,0x1137+-0x1fdb+0x3a9*0x4,-0x167e+-0x65f+0x1cdd+0.5,-0x31b*-0x6+0x177f+0xf*-0x2cf+0.5),new re(0x1*-0x2054+-0xa*0x6d+0x2496+0.5,0xb34+0x1*0x5c9+-0x10fd+0.5,-0xe7b+0xe43+-0x4*-0xe+0.5,0x20*-0x73+0x29*0x1+0xe37*0x1+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x828+-0x1e0d+0x15e5;class dA{constructor(_0xeecb1c,_0x28e452,_0x24996b){this['light']=_0x24996b,this['camera']=_0xeecb1c,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x24996b['_shadowTyp'+'e'],_0x24996b['_type'],_0x28e452),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x185a+-0x629+0x1*-0x1231,-0xfb8+-0x1815*-0x1+0x1*-0x85d,0x24d9+0xb1e+-0xe*0x36d,0x2c3+-0x16fc+0x143a),this['shadowScis'+'sor']=new re(-0x111a*-0x2+-0x101d+-0x1217,-0xe2+0x19f8+-0x1916,0x1*-0x85b+-0xcb7+0x1513,-0x2429+-0x19b*0x17+-0x51*-0xe7),this['projection'+'Compensati'+'on']=0x168a+0x826+-0x1*0x1eb0,this['face']=_0x28e452,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x807cd4=>{_0x807cd4['defaultUni'+'formBuffer']['destroy'](),_0x807cd4['destroy']();}),this['viewBindGr'+'oups']['length']=0x1000+0xd6d+-0x1d6d;}get['shadowBuff'+'er'](){const _0x47d588=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x47d588?this['light']['_isPcf']?_0x47d588['depthBuffe'+'r']:_0x47d588['colorBuffe'+'r']:null;}}class pl{constructor(_0x44996f,_0x108f48){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0x1de9+-0x7e0+-0x1*0x1609),h(this,'clusteredD'+'ata',new Uint32Array(-0x337*-0x9+-0xec*0x9+-0x14a0)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x44996f,this['clusteredL'+'ighting']=_0x108f48,this['id']=hA++,this['_evtDevice'+'Restored']=_0x44996f['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x1384+-0x1b96+0x2f1a+0.8,-0x2*-0xc87+-0x2*0xb7b+-0x218+0.8,-0xbb*-0x13+0x1b8b+-0xf1*0x2c+0.8),this['_intensity']=0x445*-0x1+0x785+0x1*-0x33f,this['_affectSpe'+'cularity']=!(-0x19c7+-0x1570+0x2f37),this['_luminance']=-0x26bd+0x7c6*-0x3+-0x3e0f*-0x1,this['_castShado'+'ws']=!(-0x84e*0x2+-0x2*0x5f2+-0x1*-0x1c81),this['_enabled']=!(-0x184*-0xe+0x18fa+-0x2e31),this['_mask']=Ss,this['isStatic']=!(0x50e*-0x1+-0x254*0x3+0xc0b*0x1),this['key']=0xb2c+-0x371*0x5+0x609,this['bakeDir']=!(0x2*-0xbf6+0x15d0+0x21c),this['bakeNumSam'+'ples']=-0x59f+-0x240d+0x1*0x29ad,this['bakeArea']=0x569*0x3+-0xa65*-0x1+-0x1aa0,this['attenuatio'+'nStart']=0x1cae+0x1751+0x11b*-0x2f,this['attenuatio'+'nEnd']=-0x1*-0x1229+0xd51*0x2+0x9*-0x4f9,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x246e+0x894*0x3+0xabd,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0xfe7+-0x13*0x17b+-0x2*-0x61d+0.01)*(0xea8+0xd*0x1df+-0x26fb+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x2185*0x1+-0x215b+0x42e1,this['_cookieFal'+'loff']=!(0x129c+0x1285*0x1+-0x1*0x2521),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1*0x1de6+0x1a43+0x55*0xb),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x2*-0x38f+0x57c*-0x2+0x90c*0x2),this['_cookieTra'+'nsformSet']=!(0x1*0x9bf+-0xd4+0x475*-0x2),this['_cookieOff'+'setSet']=!(0x976+0x2309*0x1+-0x2c7e),this['_innerCone'+'Angle']=0xded+-0x9b1+-0x414,this['_outerCone'+'Angle']=-0x2*-0x9ae+-0x1210+-0x11f,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x1cca*-0x1+0x1a04+-0x36cd,this['_cascadeBl'+'end']=0x20c3+-0x1*0x233b+-0x278*-0x1,this['cascadeDis'+'tribution']=0x1345*0x1+-0x134+0x19*-0xb9+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0xcb*0x25+-0x2445+-0x1*-0x6f1),this['_updateLin'+'earColor'](),this['_position']=new D(-0xd5b+-0x56e*0x7+0x335d,-0x1*-0x1279+0x1033+-0x4f4*0x7,-0x1*0x11+0x1a2f+-0x1a1e),this['_direction']=new D(-0x2519+0x4f0+-0x2029*-0x1,-0x2266+0x1179+0x1*0x10ed,0xb0e+0x250f*0x1+-0x301d),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x114b+-0x9*-0x2e2+0x1*-0x2a89)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x22b+0x9bf*-0x2+0x1153*0x1),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x5af+0x2387+-0x5*0x836,this['_shadowRes'+'olution']=0x19ed+0x1*0xab6+0xf*-0x22d,this['_shadowBia'+'s']=-(-0x23*0x5+0x26aa+-0x7*0x56d+0.0005),this['_shadowInt'+'ensity']=-0x1a*0xc0+-0x8f6+0x1c77,this['_normalOff'+'setBias']=-0x1*0xb3f+-0x122+-0x1*-0xc61,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x1656+-0xa7+-0xb9*0x1e),this['_isPcf']=!(-0x1e7b+-0x20b*-0x1+0x1c70),this['_softShado'+'wParams']=new Float32Array(-0x45*-0x13+-0x94+-0x487),this['shadowSamp'+'les']=-0x60*-0x33+-0x1d48+-0xc*-0xda,this['shadowBloc'+'kerSamples']=-0x12ef+0x8*0xa8+0xdbf,this['penumbraSi'+'ze']=-0x38*-0x6a+0x1cb4+-0x33e3,this['penumbraFa'+'lloff']=0x1cbc+0x6cd*-0x5+0x546,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1*0x1+0x82c*0x1+-0x82a),this['atlasVersi'+'on']=0x40*-0x3b+0x1403+-0x543*0x1,this['atlasSlotI'+'ndex']=-0x1*-0xa57+-0x3*-0x64d+-0x26*0xc5,this['atlasSlotU'+'pdated']=!(0x839+0x1c*-0x70+0x408),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x2*0x116d+-0x202f+-0x1*0x2aa),this['maxScreenS'+'ize']=-0x21d*-0xa+-0x26e6+0x11c4,this['_updateSha'+'dowBias']());}['destroy'](){var _0x3f43a7;(_0x3f43a7=this['_evtDevice'+'Restored'])==null||_0x3f43a7['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x271ee4=0xf44+-0x1*0x1552+0x60e;_0x271ee4<this['_renderDat'+'a']['length'];_0x271ee4++)this['_renderDat'+'a'][_0x271ee4]['destroy']();this['_renderDat'+'a']['length']=0x17*-0x9d+-0x2*-0x9e4+-0x5ad;}}['addLayer'](_0xf396b9){this['layers']['add'](_0xf396b9);}['removeLaye'+'r'](_0x38b833){this['layers']['delete'](_0x38b833);}set['shadowSamp'+'les'](_0x59c4b0){this['_softShado'+'wParams'][-0x2423+-0x4*0x3d0+0x3363]=_0x59c4b0;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1f6*0x13+-0x26f8+0x4c3a];}set['shadowBloc'+'kerSamples'](_0x13dbbe){this['_softShado'+'wParams'][-0x17*-0x107+0x9d*0x3+-0x1977]=_0x13dbbe;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x1*-0x382+0x1732+-0x1ab3];}set['shadowBias'](_0x3230c2){this['_shadowBia'+'s']!==_0x3230c2&&(this['_shadowBia'+'s']=_0x3230c2,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x5f2bec){(!this['cascades']||this['numCascade'+'s']!==_0x5f2bec)&&(this['cascades']=lA[_0x5f2bec-(0x28e*0xb+-0x1bf1+-0x28)],this['_shadowMat'+'rixPalette']=new Float32Array(-0x2212+0x83d+0x1a15),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1e9c*0x1+-0x234d+-0x1*-0x4b5),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x2f6816){this['_cascadeBl'+'end']!==_0x2f6816&&(this['_cascadeBl'+'end']=_0x2f6816,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x1d7ca8){this['_shadowMap']!==_0x1d7ca8&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x1d7ca8);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x152c4a){this['_mask']!==_0x152c4a&&(this['_mask']=_0x152c4a,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x362a13=this['_type'];return _0x362a13===ve?this['numCascade'+'s']:_0x362a13===Ke?-0xf53*0x2+0x1*0x6c3+0x17e9:-0x2054*-0x1+0x3*0x3ee+-0x2c1d;}set['type'](_0x3a391f){if(this['_type']===_0x3a391f)return;this['_type']=_0x3a391f,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x47ba78=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x47ba78;}get['type'](){return this['_type'];}set['shape'](_0x3c813d){if(this['_shape']===_0x3c813d)return;this['_shape']=_0x3c813d,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x559ac4=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x559ac4;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x27dc0a){this['_usePhysic'+'alUnits']!==_0x27dc0a&&(this['_usePhysic'+'alUnits']=_0x27dc0a,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x2ac150){if(this['_shadowTyp'+'e']===_0x2ac150)return;let _0x482c0f=qi['get'](_0x2ac150);_0x482c0f||(_0x2ac150=$s);const _0x55e87e=this['device'];_0x2ac150===al&&!_0x55e87e['textureFlo'+'atRenderab'+'le']&&!_0x55e87e['textureHal'+'fFloatRend'+'erable']&&(_0x2ac150=$s),this['_type']===Ke&&_0x2ac150!==tv&&_0x2ac150!==$s&&_0x2ac150!==sv&&_0x2ac150!==iv&&_0x2ac150!==al&&(_0x2ac150=$s),_0x2ac150===Jp&&(!_0x55e87e['textureFlo'+'atRenderab'+'le']||!_0x55e87e['textureFlo'+'atFilterab'+'le'])&&(_0x2ac150=au),_0x2ac150===au&&!_0x55e87e['textureHal'+'fFloatRend'+'erable']&&(_0x2ac150=$s),_0x482c0f=qi['get'](_0x2ac150),this['_isVsm']=(_0x482c0f==null?void(0x2fb+0x3*0x901+-0x1dfe):_0x482c0f['vsm'])??!(-0x91e*0x4+0x4*-0x704+0x3*0x1583),this['_isPcf']=(_0x482c0f==null?void(-0x1*0xbcf+-0x1731*0x1+0xe*0x280):_0x482c0f['pcf'])??!(-0xec6+-0x1b10+0x29d7),this['_shadowTyp'+'e']=_0x2ac150,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x58900d){this['_enabled']!==_0x58900d&&(this['_enabled']=_0x58900d,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x4d61ec){this['_castShado'+'ws']!==_0x4d61ec&&(this['_castShado'+'ws']=_0x4d61ec,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0xd4b*-0x2+-0x10*0x13+0xcb3*-0x2;}set['shadowInte'+'nsity'](_0x1f2e16){this['_shadowInt'+'ensity']!==_0x1f2e16&&(this['_shadowInt'+'ensity']=_0x1f2e16,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x26f385){this['_shadowRes'+'olution']!==_0x26f385&&(this['_type']===Ke?_0x26f385=Math['min'](_0x26f385,this['device']['maxCubeMap'+'Size']):_0x26f385=Math['min'](_0x26f385,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x26f385,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x246c55){this['_vsmBlurSi'+'ze']!==_0x246c55&&(_0x246c55%(0x13*0x119+0x5e5*0x1+-0x1abe)===0x7ce+-0x1271*-0x1+-0x1a3f&&_0x246c55++,this['_vsmBlurSi'+'ze']=_0x246c55);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x4abcd0){if(this['_normalOff'+'setBias']!==_0x4abcd0){const _0x486572=!this['_normalOff'+'setBias']&&_0x4abcd0||this['_normalOff'+'setBias']&&!_0x4abcd0;this['_normalOff'+'setBias']=_0x4abcd0,_0x486572&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x156f61){this['_falloffMo'+'de']!==_0x156f61&&(this['_falloffMo'+'de']=_0x156f61,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x4fd034){this['_innerCone'+'Angle']!==_0x4fd034&&(this['_innerCone'+'Angle']=_0x4fd034,this['_innerCone'+'AngleCos']=Math['cos'](_0x4fd034*Math['PI']/(0x521+-0xcf6+0x889)),this['updateClus'+'terData'](!(-0x138*0x17+-0x25b+0x1e64),!(-0x2*-0x128e+0x11f3+-0x370f)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x1630d2){this['_outerCone'+'Angle']!==_0x1630d2&&(this['_outerCone'+'Angle']=_0x1630d2,this['_updateOut'+'erAngle'](_0x1630d2),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x49a1ac){this['_penumbraS'+'ize']=_0x49a1ac,this['_softShado'+'wParams'][0x1cee+0x162+-0x1e4e]=_0x49a1ac;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x4ac6b3){this['_softShado'+'wParams'][-0x2696+0x17f*-0x1+0x2818]=_0x4ac6b3;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x215f*0x1+0x25bc+-0x45a];}['_updateOut'+'erAngle'](_0x549349){const _0x157502=_0x549349*Math['PI']/(0x2*0xad3+-0x12b0+-0x11*0x22);this['_outerCone'+'AngleCos']=Math['cos'](_0x157502),this['_outerCone'+'AngleSin']=Math['sin'](_0x157502),this['updateClus'+'terData'](!(0x12a0+0x10fb+0x28b*-0xe),!(0x26*0x106+0x1*0x2d5+-0x3cb*0xb));}set['intensity'](_0x5c377d){this['_intensity']!==_0x5c377d&&(this['_intensity']=_0x5c377d,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0xef911d){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0xef911d,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x26b74b){this['_luminance']!==_0x26b74b&&(this['_luminance']=_0x26b74b,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x1*0xac4+-0x250e+0xa*0x2a1,-0x1081+0x68c+0x9f5,0x23c9+-0x2193+-0x235,-0x1*-0x1e8+0x7fd+-0x9e4)),this['_atlasView'+'port'];}set['cookie'](_0x5de189){this['_cookie']!==_0x5de189&&(this['_cookie']=_0x5de189,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x24beb9){this['_cookieFal'+'loff']!==_0x24beb9&&(this['_cookieFal'+'loff']=_0x24beb9,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x96229d){if(this['_cookieCha'+'nnel']!==_0x96229d){if(_0x96229d['length']<0x1b*-0x1d+0x1df6+-0x1ae4){const _0x5143c8=_0x96229d['charAt'](_0x96229d['length']-(0x1f64+0x266a+-0x45cd)),_0x544422=-0x25*0xd7+0x1c32+0x1*0x2e4-_0x96229d['length'];for(let _0x483d88=0x1*0x14ff+0x19*0x187+0x4b*-0xca;_0x483d88<_0x544422;_0x483d88++)_0x96229d+=_0x5143c8;}this['_cookieCha'+'nnel']=_0x96229d,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x19df91){this['_cookieTra'+'nsform']!==_0x19df91&&(this['_cookieTra'+'nsform']=_0x19df91,this['_cookieTra'+'nsformSet']=!!_0x19df91,_0x19df91&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0x1473+-0x1402*0x1+-0x8*0xe)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x54aa56){if(this['_cookieOff'+'set']===_0x54aa56)return;!!(this['_cookieTra'+'nsformSet']||_0x54aa56)&&!_0x54aa56&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x2f*0x61+0x1cd*0x2+-0x1569,0x3*0x2b3+0x1ee4+-0x455*0x9):this['_cookieOff'+'set']=_0x54aa56,this['_cookieOff'+'setSet']=!!_0x54aa56,_0x54aa56&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x476+-0x1*-0x13d+0x3*-0x1e6,0x12ec+0xafd+-0x1de8,-0xbf*0x1b+-0x2f*-0x9e+-0x8dd,0x596+0xe*0x20f+0x1134*-0x2),this['_cookieTra'+'nsformSet']=!(-0x13dd+0x1581+-0x1a3)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0x1be6+0x1785+-0x336b*0x1,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xee8+-0xf*0x21a+0x2e6f),this['atlasSlotU'+'pdated']=!(0x21c8+0x1*0x5e7+-0x27ae);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x2ab3e6=0xf8a+-0x26*-0xf0+-0x332a;_0x2ab3e6<this['shadowUpda'+'teOverride'+'s']['length'];_0x2ab3e6++)this['shadowUpda'+'teOverride'+'s'][_0x2ab3e6]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x2ab3e6]=xr);}}['getRenderD'+'ata'](_0x50d041,_0x4cb622){for(let _0x51787a=0x6*-0x48d+-0x13*-0x13a+0x4*0x100;_0x51787a<this['_renderDat'+'a']['length'];_0x51787a++){const _0x3e061c=this['_renderDat'+'a'][_0x51787a];if(_0x3e061c['camera']===_0x50d041&&_0x3e061c['face']===_0x4cb622)return _0x3e061c;}const _0x7504aa=new dA(_0x50d041,_0x4cb622,this);return this['_renderDat'+'a']['push'](_0x7504aa),_0x7504aa;}['clone'](){const _0x5c0a84=new pl(this['device'],this['clusteredL'+'ighting']);return _0x5c0a84['type']=this['_type'],_0x5c0a84['setColor'](this['_color']),_0x5c0a84['intensity']=this['_intensity'],_0x5c0a84['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x5c0a84['luminance']=this['_luminance'],_0x5c0a84['castShadow'+'s']=this['castShadow'+'s'],_0x5c0a84['_enabled']=this['_enabled'],_0x5c0a84['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x5c0a84['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x5c0a84['falloffMod'+'e']=this['_falloffMo'+'de'],_0x5c0a84['shadowType']=this['_shadowTyp'+'e'],_0x5c0a84['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x5c0a84['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x5c0a84['vsmBias']=this['vsmBias'],_0x5c0a84['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5c0a84['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x5c0a84['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x5c0a84['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x5c0a84['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x5c0a84['numCascade'+'s']=this['numCascade'+'s'],_0x5c0a84['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x5c0a84['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x5c0a84['shape']=this['_shape'],_0x5c0a84['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x5c0a84['shadowBias']=this['shadowBias'],_0x5c0a84['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x5c0a84['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x5c0a84['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x5c0a84['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x5c0a84['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x5c0a84['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x5c0a84['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x5c0a84['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x5c0a84;}static['getLightUn'+'itConversi'+'on'](_0x4cc902,_0x18bc0e=Math['PI']/(-0x7*-0x1e7+-0x144e+0x701),_0x3b3a4f=0x2124+-0xfb1*-0x1+-0x56d*0x9){switch(_0x4cc902){case Ze:{const _0x5deb29=Math['cos'](_0x18bc0e),_0x55fe8c=Math['cos'](_0x3b3a4f);return(-0x54+-0x52a+0x580)*Math['PI']*(-0x88b+0x269f+-0x1e13-_0x55fe8c+(_0x55fe8c-_0x5deb29)/(-0x1caa+-0x1411+0x103f*0x3));}case Ke:return(0x2*0x388+0x97*-0x23+0x1*0xd99)*Math['PI'];case ve:return 0x2188+-0x10a8+0x1*-0x10df;}}['_getUnifor'+'mBiasValue'+'s'](_0x3d4b0f){const _0x53eb66=_0x3d4b0f['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x912+0x25fd*0x1+0x1*-0x2f0f+0.00001)*(-0x1ed5+-0xe9b+0x2d84*0x1):wi['bias']=this['shadowBias']*(-0x1a5d+-0xf19+-0x2*-0x14c5),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x53f+-0x12b4+0x17fa)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x1037+-0x2*-0x869+-0x9b+0.00001)*(-0x8*-0x44b+0x143b+0x1*-0x367f):wi['bias']=this['shadowBias']/_0x53eb66*(0xc1d*-0x3+-0xfb2+0x346d*0x1),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x53eb66/(-0x1*0x232b+0x1957+0x349*0x3)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x4d47b4){if(this['_type']===Ze){const _0x5ce6d4=this['attenuatio'+'nEnd'],_0x444b13=this['_outerCone'+'Angle'],_0x4ca69a=this['_outerCone'+'AngleCos'],_0x4e3107=this['_node'];dc['copy'](_0x4e3107['up']),_0x444b13>0x584*-0x5+-0x24e4+-0x43*-0xf7?(_0x4d47b4['radius']=_0x5ce6d4*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x5ce6d4*_0x4ca69a)):(_0x4d47b4['radius']=_0x5ce6d4/((-0x115c+0xa*-0x24b+0x284c)*_0x4ca69a),dc['mulScalar'](-_0x4d47b4['radius'])),_0x4d47b4['center']['add2'](_0x4e3107['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x4d47b4['center']=this['_node']['getPositio'+'n'](),_0x4d47b4['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x5232be){if(this['_type']===Ze){const _0xc7afde=this['attenuatio'+'nEnd'],_0x159173=this['_outerCone'+'Angle'],_0x35f14d=this['_node'],_0x121bd3=Math['abs'](Math['sin'](_0x159173*Y['DEG_TO_RAD'])*_0xc7afde);_0x5232be['center']['set'](-0x1a93+0x2678+0x1*-0xbe5,-_0xc7afde*(-0x671*-0x2+0x1490+-0x2172+0.5),-0x1cd*-0xb+-0xad7+-0x8f8),_0x5232be['halfExtent'+'s']['set'](_0x121bd3,_0xc7afde*(0xa3b*-0x3+-0x1a*0xa+0x1fb5+0.5),_0x121bd3),_0x5232be['setFromTra'+'nsformedAa'+'bb'](_0x5232be,_0x35f14d['getWorldTr'+'ansform'](),!(0xb*-0x101+0x1f1e+-0x9*0x23b));}else this['_type']===Ke&&(_0x5232be['center']['copy'](this['_node']['getPositio'+'n']()),_0x5232be['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x2*0xd09+-0x179+-0x1899,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x2098+0x1*-0x1a2d+-0x1*-0x3ac5;else{const _0x16627a=this['shadowBias']*-(0x2d*-0x71+0x33+0x1792);this['shadowDept'+'hState']['depthBias']=_0x16627a,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x16627a;}}['_updateLin'+'earColor'](){let _0x18a88a=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x18a88a=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x11ec42=this['_color'],_0x94eed=this['_colorLine'+'ar'];_0x18a88a>=-0x2111+-0x25ba+-0x17*-0x314?ho['linear'](_0x11ec42)['mulScalar'](_0x18a88a):ho['copy'](_0x11ec42)['mulScalar'](_0x18a88a)['linear'](),_0x94eed[0xc56*0x2+0xa52*0x1+-0x6*0x5d5]=ho['r'],_0x94eed[0x1*-0xd03+-0x7*0x7b+-0x1*-0x1061]=ho['g'],_0x94eed[-0x2c5*-0x4+-0x73b*-0x5+-0x2f39]=ho['b'],this['updateClus'+'terData'](!(0x544*-0x5+0x26d0+-0x2f*0x44));}['setColor'](){arguments['length']===-0x1d28+-0x1874+0x359d?this['_color']['set'](arguments[-0x409*-0x5+0x1ae6+-0x2f13]['r'],arguments[0xad7*-0x3+0x404+0x1c81]['g'],arguments[-0x4ba*0x3+-0xb6*-0x1f+0x3ee*-0x2]['b']):arguments['length']===0x29d+0x116c+-0x1406&&this['_color']['set'](arguments[-0x4f2+0x19b1*-0x1+0x1ea3*0x1],arguments[0x1b8e+-0x6b6+0x61*-0x37],arguments[-0x3aa+-0x5*-0x16f+-0x37f]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x4f41b8=>{_0x4f41b8['hasLight'](this)&&_0x4f41b8['markLights'+'Dirty']();});}['updateKey'](){let _0x50a77f=this['_type']<<-0x52*-0x72+-0x1*0xca3+-0x17c4*0x1|this['_shadowTyp'+'e']<<-0x2d*0x25+0x455*-0x5+0x1c43|this['_falloffMo'+'de']<<0xd3*0x1+0x1*-0x13a8+-0xe*-0x15a|(this['_normalOff'+'setBias']!==0x17c+0x182*-0x3+0x30a?-0x2123+0x1ed+0x1*0x1f37:-0x1*0x1a7e+-0x110c+0x2b8a)<<-0x5f1+-0xcb*-0x1f+-0xfa*0x13|(this['_cookie']?0x2548+0x199e+0x3ee5*-0x1:-0x1fab+-0x12a+0x20d5)<<-0x100a+-0x559*0x3+0x202a|(this['_cookieFal'+'loff']?-0x1*-0x1fd2+-0x1*-0x1391+0x2*-0x19b1:-0x7*0xb3+-0xa66+0xf4b)<<-0x69f+0x18*-0x9d+-0x1*-0x156b|pf[this['_cookieCha'+'nnel']['charAt'](0xf28+-0x40b+-0xb1d)]<<0x835*-0x3+-0x1*-0xb69+0xd48|(this['_cookieTra'+'nsform']?0x1a4b+-0xc9a+-0xdb0:0x26a4+0x7ca+-0x2e6e)<<-0x199f+-0x1d*0x6+0x13*0x163|this['_shape']<<-0x158b+0x58a*-0x4+-0x2bbd*-0x1|(this['numCascade'+'s']>0x5e*-0xa+-0x157*-0x1+0x255?-0x3*0xc1b+0xce3+0x176f:0xcd5*-0x3+-0x3*-0x4cc+0x181b)<<0x13e9+-0x9e4+0x12*-0x8e|(this['_cascadeBl'+'end']>0x7*-0x2b+0x1069+0x41*-0x3c?0x657*0x2+0x1*0x25bf+0x1c*-0x1cd:-0x1318+0x445+0xed3)<<0x52*0xb+-0x1*-0x24cd+-0x1*0x284b|(this['affectSpec'+'ularity']?-0x2*-0xe30+0x2f9*0xa+-0x3a19:-0x162f+0x2270+-0xc41)<<-0x970+0x2178+-0x1801|this['mask']<<-0x19*-0x3c+-0x1e65*-0x1+0x19*-0x173|(this['_castShado'+'ws']?-0x26c5+-0x1155+0x381b:0x1b79+0x1db0+-0x3929*0x1)<<0x1*-0xed1+0xe8+0x37b*0x4;this['_cookieCha'+'nnel']['length']===-0xb08+0x1f67+-0x145c&&(_0x50a77f|=pf[this['_cookieCha'+'nnel']['charAt'](0x197b+-0x1b06+0x2*0xc6)]<<0x10af*0x2+0x7*-0x490+-0x15e,_0x50a77f|=pf[this['_cookieCha'+'nnel']['charAt'](-0x3*0x1a1+-0x512+0x9f7)]<<-0x1409+-0x39a*-0x6+-0x1*0x185),_0x50a77f!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x50a77f;}['updateClus'+'teredFlags'](){const _0x58d7d4=!!(this['mask']&Ss),_0x3d5969=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x3*0x2d+-0x5*-0x686+-0x1c*0x12f:0x1*-0x436+0x18f5*0x1+-0x1*0x14bf)<<0xbc5*0x1+0x1c88+-0x477*0x9|(this['_shape']&0xc0+0x264b+-0x2708)<<0x192+-0x2a6*-0xd+0x4*-0x8f9|(this['_falloffMo'+'de']&0x36e+0x77*-0x29+0x17*0xae)<<-0x5*-0x1e7+-0x2*0x3f+-0x8ea|(cA[this['_cookieCha'+'nnel']]??-0x3f*0x6b+0x1762+0x2f3)<<-0x2114+-0x15*0x10d+-0xe*-0x3f2|(_0x58d7d4?-0x92d+-0xc19+0x1*0x1547:0x44f+0x3*-0xbc4+0x1efd)<<0x1*-0xe4a+-0x1c91+0x2af1|(_0x3d5969?0x1167+0x7de+-0x1944:0xda7+0x22f8+0x9*-0x567)<<-0x131e+-0x17f7+0x1a9*0x1a;}['getCluster'+'edFlags'](_0x459892,_0xacef58){return this['clusteredF'+'lags']|((_0x459892?Math['floor'](this['shadowInte'+'nsity']*(-0xa2e*0x2+-0x3*0xbaa+0x3859)):0x1009+-0x9d*0x9+-0xa84)&0x7*0x521+0x253c+-0x1209*0x4)<<-0x240a+-0x7*0x36b+0x13fd*0x3|((_0xacef58?Math['floor'](this['cookieInte'+'nsity']*(-0x2500+0x2*-0x85a+0x36b3)):0x19cb*-0x1+0x19c+0x182f)&0x9da+-0x1d84+0x1*0x14a9)<<-0x1b32+-0x9c7*0x3+-0x1*-0x388f;}['updateClus'+'terData'](_0x35014c,_0x5a231a){const {clusteredData16:_0x3c49c8}=this,_0x9a0562=Mn['float2Half'];_0x35014c&&(_0x3c49c8[0x1366+-0x2582+0x121c]=_0x9a0562(Y['clamp'](this['_colorLine'+'ar'][-0x1733*-0x1+0x522*-0x5+-0x277*-0x1]/$c,-0xea3*0x1+-0x35b*0x7+0x2620,-0x3*0x157d+0x6105+-0x6fa9*-0x2)),_0x3c49c8[-0x7*-0x4bb+-0x1668+-0xab4]=_0x9a0562(Y['clamp'](this['_colorLine'+'ar'][-0x2*0x16a+-0x121d+0x14f2]/$c,0x305*-0x1+0x673*-0x6+0x29b7,-0x8ae*0x13+-0x16cd4+0x3119e)),_0x3c49c8[-0x1889*0x1+0x17*0xb9+-0xd*-0x9c]=_0x9a0562(Y['clamp'](this['_colorLine'+'ar'][-0x3*-0xce5+0x9*-0xae+0x1*-0x208f]/$c,-0x1983+-0x21ee+0x3b71,-0x1326d+0xd83e+0x15a0f))),_0x5a231a&&(_0x3c49c8[-0xd*-0xce+0x23af+-0x2e21]=_0x9a0562(this['_innerCone'+'AngleCos']),_0x3c49c8[-0x7bf+-0x2710+0x2ed4]=_0x9a0562(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x186d79,_0x342bb6,_0x76c664){h(this,'_areaLight'+'sEnabled',!(0xa0+0x5*0x43a+-0x15c1)),h(this,'_cells',new D(-0x1*0x1888+-0x267d+-0x3f0f*-0x1,0x43b+0x24f0*-0x1+0x20b8,0x186d+-0xb*-0xdf+-0x21f8)),h(this,'_maxLights'+'PerCell',-0x1820+0xa3f*0x1+-0x77*-0x20),h(this,'_shadowsEn'+'abled',!(-0x158c+0xa8f+0xafd)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0xad5*-0x2+0x17*0x1a2+-0x7e4),h(this,'_cookiesEn'+'abled',!(-0x28a*0x5+-0x2*0xd31+0x1d*0x159)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x1*0x20e1+-0x11df+0x3ac0),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x186d79,this['_maxTextur'+'eSize']=_0x342bb6,this['_dirtyLigh'+'tsFnc']=_0x76c664);}['applySetti'+'ngs'](_0x36bfa3){this['shadowsEna'+'bled']=_0x36bfa3['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x36bfa3['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x36bfa3['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x36bfa3['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x36bfa3['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x36bfa3['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x36bfa3['lightingSh'+'adowType']??this['shadowType'],_0x36bfa3['lightingCe'+'lls']&&(this['cells']=new D(_0x36bfa3['lightingCe'+'lls']));}set['cells'](_0x58af88){this['_cells']['copy'](_0x58af88);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x4821d9){this['_maxLights'+'PerCell']=Y['clamp'](_0x4821d9,-0x7b3+0x2592+-0x1*0x1dde,-0x1fd4+-0x2*-0xaaf+0x1a3*0x7);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x38f408){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x38f408,0x2*0xc4f+0xffb+-0x2879,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x11605b){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x11605b,0x2607+-0x13ed+-0x162*0xd,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0xc78a0c){this['_shadowTyp'+'e']!==_0xc78a0c&&(this['_shadowTyp'+'e']=_0xc78a0c,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x4156b5){this['_cookiesEn'+'abled']!==_0x4156b5&&(this['_cookiesEn'+'abled']=_0x4156b5,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x332892){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x332892&&(this['_areaLight'+'sEnabled']=_0x332892,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x369cea){this['_shadowsEn'+'abled']!==_0x369cea&&(this['_shadowsEn'+'abled']=_0x369cea,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x2aec5c){this['morph']=_0x2aec5c,_0x2aec5c['incRefCoun'+'t'](),this['device']=_0x2aec5c['device'];const _0x50d1f8=_0x2aec5c['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x50d1f8),this['_weights']=[],this['_weightMap']=new Map();for(let _0x415770=-0xc*0x2c9+0x5*-0x1e5+0x1*0x2ae5;_0x415770<_0x2aec5c['_targets']['length'];_0x415770++){const _0x417659=_0x2aec5c['_targets'][_0x415770];_0x417659['name']&&this['_weightMap']['set'](_0x417659['name'],_0x415770),this['setWeight'](_0x415770,_0x417659['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x50d1f8),this['_shaderMor'+'phIndex']=new Uint32Array(_0x50d1f8);const _0x1039e4=(_0x2d14fc,_0x2ccc40)=>(this[_0x2ccc40]=_0x2aec5c['_createTex'+'ture'](_0x2d14fc,_0x2aec5c['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x2ccc40],'depth':!(0x3df*0x7+0x21a5+-0x3cbd)}));_0x2aec5c['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x1039e4('MorphRTPos','texturePos'+'itions')),_0x2aec5c['morphNorma'+'ls']&&(this['rtNormals']=_0x1039e4('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x2aec5c['morphTextu'+'reWidth'],_0x2aec5c['morphTextu'+'reHeight']]);const _0x2476dc=_0x2aec5c['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x2476dc['x']*(-0x1*0x1d47+-0x91b+0x1*0x2666),_0x2476dc['y']*(0x203*-0x1+0x1*0xb11+-0x90a),_0x2476dc['z']*(0xfa8+-0x5*0x1ab+-0x74d)]);const _0x3ef7fd=_0x2aec5c['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x3ef7fd['x']*(0x13f7+-0x4e4+0xcb*-0x13),_0x3ef7fd['y']*(0x2*-0x729+0xfc1*0x1+0x1*-0x16d),_0x3ef7fd['z']*(0x21e+0xcaa+-0x2*0x763)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1216+-0xa*-0x25f+-0x29ca,0x856+-0x24c1+0x1*0x1c6d,-0x1b7f+-0x1*-0x2401+-0x880]),this['_aabbNrmMi'+'n']=new Float32Array([-(0xe71+0x1ffc+-0x1736*0x2),-(0x1560+0x2492+0x1*-0x39f1),-(-0x1e61*0x1+-0x228a+0x40ec)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x11db+-0x6*0x4ee+-0x26*-0x4f);}['destroy'](){var _0x2133cc,_0x1cae70,_0x410eb7,_0x5afeac;this['shader']=null;const _0x574d14=this['morph'];_0x574d14&&(this['morph']=null,_0x574d14['decRefCoun'+'t'](),_0x574d14['refCount']<-0x913+0x11a*-0xf+0x71*0x3a&&_0x574d14['destroy']()),(_0x2133cc=this['rtPosition'+'s'])==null||_0x2133cc['destroy'](),this['rtPosition'+'s']=null,(_0x1cae70=this['texturePos'+'itions'])==null||_0x1cae70['destroy'](),this['texturePos'+'itions']=null,(_0x410eb7=this['rtNormals'])==null||_0x410eb7['destroy'](),this['rtNormals']=null,(_0x5afeac=this['textureNor'+'mals'])==null||_0x5afeac['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x4d172b){if(typeof _0x4d172b=='string'){const _0x2133a3=this['_weightMap']['get'](_0x4d172b);return _0x2133a3===void(-0x1*-0x16+-0xe98*0x1+0xe82)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x4d172b+'.'),_0x2133a3;}return _0x4d172b;}['getWeight'](_0x125265){const _0x390389=this['_getWeight'+'Index'](_0x125265);return this['_weights'][_0x390389];}['setWeight'](_0x4683ac,_0x1204a7){const _0x49c6ba=this['_getWeight'+'Index'](_0x4683ac);w['assert'](_0x49c6ba>=0x1d2b+0x1a19+-0x189*0x24&&_0x49c6ba<this['morph']['_targets']['length']),this['_weights'][_0x49c6ba]=_0x1204a7,this['_dirty']=!(-0x981*0x3+0x1b64+0x11f);}['_createSha'+'der'](_0x25b093){const _0x551742=new Map();_0x551742['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x25b093),this['morph']['intRenderF'+'ormat']&&_0x551742['set']('MORPH_INT','');const _0x8545b5=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x25b093+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x551742,'fragmentOutputTypes':[_0x8545b5]});}['_updateTex'+'tureRender'+'Target'](_0x3dcebc,_0x505757,_0x4daf06){const {morph:_0x447113,device:_0x58f7c4}=this;this['setAabbUni'+'forms'](_0x4daf06),this['morphTextu'+'reId']['setValue'](_0x4daf06?_0x447113['targetsTex'+'turePositi'+'ons']:_0x447113['targetsTex'+'tureNormal'+'s']),_0x58f7c4['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x505757),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x58f7c4,_0x3dcebc,this['shader']);}['_updateTex'+'tureMorph'](_0x35901d){const _0x331c21=this['device'];Q['pushGpuMar'+'ker'](_0x331c21,'MorphUpdat'+'e'),(_0x35901d>0x7b9+0x266b+-0x2e24||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x35901d,!(0xa78+0x6b*0x2+-0xb4e)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x35901d,!(-0x201b+0x5*-0x62f+0xc9b*0x5)),this['zeroTextur'+'es']=_0x35901d===0x239e+-0x22e7+-0x1*0xb7),Q['popGpuMark'+'er'](_0x331c21);}['setAabbUni'+'forms'](_0x5e96c3=!(-0x1*0x442+-0xf05+-0x23*-0x8d)){this['aabbSizeId']['setValue'](_0x5e96c3?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x5e96c3?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0xbe70ca){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x1208+0x1878+-0x2a7f);const _0x5b2c1b=this['morph']['_targets'],_0x32b0f6=0x2*-0x54f+-0x204a*0x1+0x2ae8+0.00001,_0x26255c=this['_shaderMor'+'phWeights'],_0x35bd99=this['_shaderMor'+'phIndex'];let _0x5bf760=0x1e36+0x1fba+-0x3df0;for(let _0x3a6a32=0x2b1*0x1+-0x1da0*-0x1+0x1*-0x2051;_0x3a6a32<_0x5b2c1b['length'];_0x3a6a32++)Math['abs'](this['getWeight'](_0x3a6a32))>_0x32b0f6&&(_0x26255c[_0x5bf760]=this['getWeight'](_0x3a6a32),_0x35bd99[_0x5bf760]=_0x3a6a32,_0x5bf760++);this['_updateTex'+'tureMorph'](_0x5bf760);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0xb27+0x3*-0x923+-0x9a4*-0x4,this['_immutable']=!(0x16f6+0x1*0x10bb+0x4*-0x9ec));}['getGraph'](){return this['graph'];}['setGraph'](_0x4b786d){this['graph']=_0x4b786d;}['getCameras'](){return this['cameras'];}['setCameras'](_0x4a7ef7){this['cameras']=_0x4a7ef7;}['getLights'](){return this['lights'];}['setLights'](_0x148f4e){this['lights']=_0x148f4e;}['getMateria'+'ls'](){const _0xed4ecd=[];for(let _0x18500f=0x1*0xc5f+0x21*-0x3c+-0x1*0x4a3;_0x18500f<this['meshInstan'+'ces']['length'];_0x18500f++){const _0x2f6885=this['meshInstan'+'ces'][_0x18500f];_0xed4ecd['indexOf'](_0x2f6885['material'])===-(-0x1163*0x1+0x1*0x10cd+-0x97*-0x1)&&_0xed4ecd['push'](_0x2f6885['material']);}return _0xed4ecd;}['clone'](){const _0x1b56c9=[],_0x34d98f=[],_0x4d0760=function(_0x49c0f3){const _0x517237=_0x49c0f3['clone']();_0x1b56c9['push'](_0x49c0f3),_0x34d98f['push'](_0x517237);for(let _0x15ad60=0x16*-0xd1+0x616+0xbe0;_0x15ad60<_0x49c0f3['_children']['length'];_0x15ad60++)_0x517237['addChild'](_0x4d0760(_0x49c0f3['_children'][_0x15ad60]));return _0x517237;},_0x63e842=_0x4d0760(this['graph']),_0x4a91bd=[],_0x28b4fd=[],_0x529603=[];for(let _0x17e123=-0x40*-0x8e+0x1d0f+-0x408f*0x1;_0x17e123<this['skinInstan'+'ces']['length'];_0x17e123++){const _0x28101b=this['skinInstan'+'ces'][_0x17e123]['skin'],_0x219ce9=new Ol(_0x28101b),_0xfe6d6d=[];for(let _0x3a6452=-0x11*0x1d3+-0x10b8+0x2fbb;_0x3a6452<_0x28101b['boneNames']['length'];_0x3a6452++){const _0x3f65a8=_0x28101b['boneNames'][_0x3a6452],_0xb4f8=_0x63e842['findByName'](_0x3f65a8);_0xfe6d6d['push'](_0xb4f8);}_0x219ce9['bones']=_0xfe6d6d,_0x28b4fd['push'](_0x219ce9);}for(let _0x59038e=-0x3b*0x3a+-0x2*0x33b+-0x4*-0x4f5;_0x59038e<this['morphInsta'+'nces']['length'];_0x59038e++){const _0x4f368b=this['morphInsta'+'nces'][_0x59038e]['morph'],_0x31c912=new xa(_0x4f368b);_0x529603['push'](_0x31c912);}for(let _0x1b4c6d=-0x2*-0x112d+0x1*-0x1a37+-0x823;_0x1b4c6d<this['meshInstan'+'ces']['length'];_0x1b4c6d++){const _0x297294=this['meshInstan'+'ces'][_0x1b4c6d],_0x4b5137=_0x1b56c9['indexOf'](_0x297294['node']),_0x4ea70c=new He(_0x297294['mesh'],_0x297294['material'],_0x34d98f[_0x4b5137]);if(_0x297294['skinInstan'+'ce']){const _0x3a63a5=this['skinInstan'+'ces']['indexOf'](_0x297294['skinInstan'+'ce']);_0x4ea70c['skinInstan'+'ce']=_0x28b4fd[_0x3a63a5];}if(_0x297294['morphInsta'+'nce']){const _0x5f5039=this['morphInsta'+'nces']['indexOf'](_0x297294['morphInsta'+'nce']);_0x4ea70c['morphInsta'+'nce']=_0x529603[_0x5f5039];}_0x4a91bd['push'](_0x4ea70c);}const _0x2f1d63=new sr();return _0x2f1d63['graph']=_0x63e842,_0x2f1d63['meshInstan'+'ces']=_0x4a91bd,_0x2f1d63['skinInstan'+'ces']=_0x28b4fd,_0x2f1d63['morphInsta'+'nces']=_0x529603,_0x2f1d63['getGraph']()['syncHierar'+'chy'](),_0x2f1d63;}['destroy'](){const _0x49d14f=this['meshInstan'+'ces'];for(let _0x3b7e95=0x172a+-0x36f+-0x1*0x13bb;_0x3b7e95<_0x49d14f['length'];_0x3b7e95++)_0x49d14f[_0x3b7e95]['destroy']();this['meshInstan'+'ces']['length']=-0x22be+0x73*0x52+0x4*-0x86;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x2d53a8,_0x58e471,{preferHighPrecision:_0x886142=!(-0x1*-0x23fd+-0x2575+0x179)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x58e471,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x58e471);const _0x3c3de2=_0x58e471;this['preferHigh'+'Precision']=_0x886142,w['assert'](_0x2d53a8['every'](_0x5c9a94=>!_0x5c9a94['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x2d53a8['slice']();const _0xc5986=_0x3c3de2['textureHal'+'fFloatRend'+'erable']?nt:void(0x1d31*-0x1+-0x6d5+0x2406),_0xea219f=_0x3c3de2['textureFlo'+'atRenderab'+'le']?Xt:void(-0x1e*0xf4+0x756+0x1542);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0xea219f??_0xc5986:_0xc5986??_0xea219f,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x354b05,_0x264593,_0x869b59;(_0x354b05=this['vertexBuff'+'erIds'])==null||_0x354b05['destroy'](),this['vertexBuff'+'erIds']=null,(_0x264593=this['targetsTex'+'turePositi'+'ons'])==null||_0x264593['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x869b59=this['targetsTex'+'tureNormal'+'s'])==null||_0x869b59['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x4c95d7=new D(),_0x53ea32=new D();for(let _0x667c8d=0x91*0x3d+-0x1*0x261a+-0x3*-0x12f;_0x667c8d<this['_targets']['length'];_0x667c8d++){const _0x5684dd=this['_targets'][_0x667c8d]['aabb'];_0x4c95d7['min'](_0x5684dd['getMin']()),_0x53ea32['max'](_0x5684dd['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x4c95d7,_0x53ea32);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x479ad6=0x1ee6+0x11ba+0x4*-0xc28;_0x479ad6<this['_targets']['length'];_0x479ad6++)this['_targets'][_0x479ad6]['_postInit']();}['_findSpars'+'eSet'](_0x1349cb,_0xdbbe6e,_0x448584){let _0x3b75e4=0x1702+0x7*0x1b7+-0x2302;const _0x3bbbaf=_0x1349cb[0x16b6+-0x7*0x41f+0x1*0x623]['length'];for(let _0x438959=0x16de+0xd2a+-0x2408;_0x438959<_0x3bbbaf;_0x438959+=0x11dc+0x1*-0x103f+0x29*-0xa){let _0x39aadb=!(-0x17*-0x2b+0x1*-0x1a5f+0x1683);for(let _0x22de99=-0x156d+0x1d*0x74+0x849;_0x22de99<_0x1349cb['length'];_0x22de99++){const _0x32b60b=_0x1349cb[_0x22de99];if(_0x32b60b[_0x438959]!==0x1*-0x2707+0x35f*0x4+0x198b*0x1||_0x32b60b[_0x438959+(0x12db*0x2+0x4*0x8a5+-0x4849)]!==-0x1468+0x261e+-0x2*0x8db||_0x32b60b[_0x438959+(-0x91d*-0x1+0x266e+0x1*-0x2f89)]!==-0x7*0x47e+0x2011+0x1*-0x9f){_0x39aadb=!(-0x25*0x91+0x241+0x15*0xe4);break;}}_0x39aadb?(_0xdbbe6e['push'](_0x3b75e4),_0x448584['push'](_0x438959/(-0x47d+0x15af+-0x112f)),_0x3b75e4++):_0xdbbe6e['push'](0xd1d+0x1d*0x31+-0x1*0x12aa);}return _0x3b75e4;}['_initTextu'+'reBased'](){const _0x3dbd8a=[],_0x1c1f37=[],_0x10e88b=this['_targets'];for(let _0x4c8f86=-0x1d13+-0x2b6*-0xe+-0x8e1;_0x4c8f86<_0x10e88b['length'];_0x4c8f86++){const _0x2518af=_0x10e88b[_0x4c8f86];_0x2518af['options']['deltaPosit'+'ions']&&(_0x3dbd8a['push'](_0x2518af['options']['deltaPosit'+'ions']),_0x1c1f37['push'](!(0x13*0xa1+-0xd4b*0x1+-0x158*-0x1))),_0x2518af['options']['deltaNorma'+'ls']&&(_0x3dbd8a['push'](_0x2518af['options']['deltaNorma'+'ls']),_0x1c1f37['push'](!(0x1326+-0x166d*-0x1+-0x2992)));}const _0x2a6536=[],_0x3366e2=[],_0x2ac606=this['_findSpars'+'eSet'](_0x3dbd8a,_0x2a6536,_0x3366e2),_0x37137c=this['device']['maxTexture'+'Size'];let _0x550078=Math['ceil'](Math['sqrt'](_0x2ac606));_0x550078=Math['min'](_0x550078,_0x37137c);const _0x741e60=Math['ceil'](_0x2ac606/_0x550078);if(_0x741e60>_0x37137c){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x550078+'x'+_0x741e60+(',\x20max\x20text'+'ure\x20size:\x20')+_0x37137c+'x'+_0x37137c+'.');return;}this['morphTextu'+'reWidth']=_0x550078,this['morphTextu'+'reHeight']=_0x741e60;let _0x15d3eb=!(-0x232b+0xb53*-0x3+0x4525);const _0x20fea9=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x15d3eb=!(0x11*0x16f+-0x1a*-0x38+-0x1e0f));const _0x47a701=[],_0x5676ba=[],_0x4e8ace=_0x550078*_0x741e60*(-0xbb+0x1a31+-0x1972);for(let _0x2f2d58=0x22b+0x4c4*0x2+-0xbb3;_0x2f2d58<_0x3dbd8a['length'];_0x2f2d58++){const _0x37b544=_0x3dbd8a[_0x2f2d58],_0x543982=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x4e8ace):new Float32Array(_0x4e8ace);if((_0x1c1f37[_0x2f2d58]?_0x47a701:_0x5676ba)['push'](_0x543982),_0x15d3eb)for(let _0x3df48a=-0x2*0x38+0x237b+-0x230b;_0x3df48a<_0x3366e2['length'];_0x3df48a++){const _0x2eca24=_0x3366e2[_0x3df48a]*(-0x3*-0x1c2+-0x1*-0x1e2f+0x1*-0x2372),_0x5b9673=_0x3df48a*(0x75*-0xd+-0x176*-0x4+0x1d)+(0x26dc+-0x10*-0x7a+-0x2e78);_0x543982[_0x5b9673]=_0x20fea9(_0x37b544[_0x2eca24]),_0x543982[_0x5b9673+(-0x1136*-0x1+0x212f+0x3264*-0x1)]=_0x20fea9(_0x37b544[_0x2eca24+(0x1*-0x109d+-0x1*0x266+0x1304)]),_0x543982[_0x5b9673+(-0x407*-0x9+0x156c+-0x39a9)]=_0x20fea9(_0x37b544[_0x2eca24+(-0x2b6*-0x4+0x1*0x5df+0x7*-0x263)]);}else for(let _0x4ab515=0x1db3+-0x1eb8+-0x57*-0x3;_0x4ab515<_0x3366e2['length'];_0x4ab515++){const _0x5cc344=_0x3366e2[_0x4ab515]*(0xd4*0xf+0x52+-0xcbb),_0x549271=_0x4ab515*(-0x264a+0x49*0x1c+0x1e52)+(0x1*-0x228f+0x2573+-0xb8*0x4);_0x543982[_0x549271]=_0x37b544[_0x5cc344],_0x543982[_0x549271+(0x192+-0x19*0x9+-0xb0)]=_0x37b544[_0x5cc344+(-0x7b7+0x1*0xf7f+-0xb*0xb5)],_0x543982[_0x549271+(-0x11e4+0xaf7+-0x47*-0x19)]=_0x37b544[_0x5cc344+(0x191c*-0x1+0x47+0x18d7*0x1)];}}_0x47a701['length']>-0x22fb+-0x694+-0x298f*-0x1&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x10e88b['length'],[_0x47a701]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x5676ba['length']>0x1*0x243e+-0x28b*-0xd+-0x71*0x9d&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x10e88b['length'],[_0x5676ba]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x1dfb39=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x1*-0x14f9+0x15a0+-0x2a99)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x1dfb39,_0x2a6536['length']),_0x2a6536['length'],{'data':new Uint32Array(_0x2a6536)}),!(-0x159b+-0x1645+0xaf8*0x4);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x121e+0x1003*0x1+0x21c),this['_morphNorm'+'als']=!(-0x12e*0xf+0x82*-0x3d+0x1*0x30ad);for(let _0x3320ac=-0x49*0x5b+-0x319+0x1d0c;_0x3320ac<this['_targets']['length'];_0x3320ac++){const _0x462436=this['_targets'][_0x3320ac];_0x462436['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x11de*-0x1+-0x12d3*0x1+0xf5)),_0x462436['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x8fd*0x4+0x2359*0x1+0x9b*0x1));}}['_createTex'+'ture'](_0x555ea8,_0x3f7f46,_0x292aa6,_0x256e53){return new _e(this['device'],{'levels':_0x256e53,'arrayLength':_0x292aa6,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x3f7f46,'cubemap':!(-0xcb1+-0x1*0x211+0x1*0xec3),'mipmaps':!(0xdfc+0x741+-0x153c),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x555ea8});}}class Md{constructor(_0x534883){h(this,'used',!(-0x228c+-0x1*-0x185+0x2108)),(w['assert'](arguments['length']===0x25fc+0xf42+-0x289*0x15),this['options']=_0x534883,this['_name']=_0x534883['name'],this['_defaultWe'+'ight']=_0x534883['defaultWei'+'ght']||-0x1cfe+0x12ee+0xa10,this['_aabb']=_0x534883['aabb'],this['deltaPosit'+'ions']=_0x534883['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x534883['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x534883['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x391*0x7+0x1509*0x1+-0x2e00);}}let Ei,Z_=0x5*-0x5e7+0x16ff+0x685;const ce=-0x11*-0xdb+-0x3b*0x5e+0x57*0x15,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0xd68b8a){return _0xd68b8a-Math['floor'](_0xd68b8a);}function fA(_0x54a900){return Math['max'](Math['min'](_0x54a900,-0x12d3+-0x1878+0x11*0x28c),-0x5*0x61d+-0xfb5*-0x1+0xedc);}function gf(_0x5eed2e,_0x4202a3){return _0x5eed2e-_0x4202a3*Math['floor'](_0x5eed2e/_0x4202a3);}function uA(_0x248fcb){let _0x32f26f=pn(_0x248fcb),_0x3c578b=pn((-0x232+0x21cb+-0x1e9a)*_0x248fcb),_0x7dc879=pn((-0x264e*-0xd+0x1dc95+0x1*-0x2d08a)*_0x248fcb),_0xd71529=pn((0x2ca4bba+0x13254*0x116+0x57b540d)*_0x248fcb);return _0x32f26f-=_0x3c578b/(0x169*-0x11+0x9b*0x4+0x168c),_0x3c578b-=_0x7dc879/(0x2a6*-0x7+0x1d9f+-0xa16),_0x7dc879-=_0xd71529/(-0x2531+-0x69d*0x1+-0xeef*-0x3),_0xd71529-=_0xd71529/(-0x19d5+0x19c1+0x37*0x5),[_0x32f26f,_0x3c578b,_0x7dc879,_0xd71529];}function uc(_0x5d54ee){let _0x27e34b=pn(_0x5d54ee),_0x14f7c4=pn((-0x11fb*-0x1+-0x647*0x6+-0x14ae*-0x1)*_0x5d54ee);return _0x27e34b-=_0x14f7c4/(0x195*-0x9+-0x13*-0x1a5+-0x1003*0x1),_0x14f7c4-=_0x14f7c4/(0x1*0x19d3+0x2dd*0xd+0xc69*-0x5),[_0x27e34b,_0x14f7c4];}class pA{constructor(_0x1d0061){this['_emitter']=_0x1d0061;}['calcSpawnP'+'osition'](_0x204a6e,_0x2d7bb3,_0x26c829,_0x30d548,_0x4ee958){const _0x5a80f2=this['_emitter'],_0x214644=Math['random'](),_0x382c07=Math['random'](),_0x2538e2=Math['random'](),_0x15f3f5=Math['random']();if(_0x5a80f2['useCpu']&&(_0x204a6e[_0x4ee958*ce+(0x14f+0x22df+0x2*-0x1217)+_0x5a80f2['numParticl'+'esPot']*(-0x21c1+0xb56*-0x1+0x2d19)*ce]=_0x214644,_0x204a6e[_0x4ee958*ce+(-0x1169+0x1*0x12ab+-0x141)+_0x5a80f2['numParticl'+'esPot']*(-0x73c*0x2+-0xce5*0x1+-0x31*-0x8f)*ce]=_0x382c07,_0x204a6e[_0x4ee958*ce+(0x1823*0x1+-0xef*0x5+-0x1376)+_0x5a80f2['numParticl'+'esPot']*(0x2645+0xcaa+-0x32ed)*ce]=_0x2538e2),tt['x']=_0x214644-(-0x21ef*-0x1+0x15e1+-0x37d0+0.5),tt['y']=_0x382c07-(0x10c7+0x1f6+-0x12bd+0.5),tt['z']=_0x2538e2-(-0x2*-0x25c+-0x1801*-0x1+-0x183*0x13+0.5),_0x5a80f2['emitterSha'+'pe']===ai){const _0x4ed4f4=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x4411a6=_0x4ed4f4+(-0x1223+-0x112*0x1+0x1335+0.5-_0x4ed4f4)*_0x26c829[0xe0e+0x9fa+0xc04*-0x2],_0x3a897f=_0x4ed4f4+(-0x1*0x1931+0x231e+0x3*-0x34f+0.5-_0x4ed4f4)*_0x26c829[0x8f9+-0x12*0x6d+-0x1*0x14e],_0xf96cd5=_0x4ed4f4+(-0x239b*0x1+-0x1ce8+0x4083+0.5-_0x4ed4f4)*_0x26c829[0x47c+-0x1d0c+0x1892];tt['x']=_0x4411a6*(_0x4ed4f4===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x244f*0x1+-0x1*-0x7b1+-0x3*0xeaa)*tt['x']),tt['y']=_0x3a897f*(_0x4ed4f4===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x1*0x2023+-0x1e0f+-0xa5e*-0x6)*tt['y']),tt['z']=_0xf96cd5*(_0x4ed4f4===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x1*-0x1972+-0xee7*0x2+0x45e)*tt['z']),_0x5a80f2['localSpace']?ti['copy'](_0x2d7bb3['transformP'+'oint'](tt)):ti['copy'](_0x30d548)['add'](_0x2d7bb3['transformP'+'oint'](tt));}else{tt['normalize']();const _0x3a9017=_0x5a80f2['emitterRad'+'ius']===0x1*-0x26b3+0x22cc+0x1b*0x25?0x2*-0xf97+-0xc27+0x2b55:_0x5a80f2['emitterRad'+'iusInner']/_0x5a80f2['emitterRad'+'ius'],_0x25eda2=_0x15f3f5*(0xd5d*0x2+-0x1ed2+0x419-_0x3a9017)+_0x3a9017;_0x5a80f2['localSpace']?ti['copy'](tt['mulScalar'](_0x25eda2*_0x5a80f2['emitterRad'+'ius'])):ti['copy'](_0x30d548)['add'](tt['mulScalar'](_0x25eda2*_0x5a80f2['emitterRad'+'ius']));}let _0x2a8d89=-Y['lerp'](_0x5a80f2['rate'],_0x5a80f2['rate2'],_0x214644)*_0x4ee958;if(_0x5a80f2['pack8']){const _0x1ee823=(ti['x']-_0x5a80f2['worldBound'+'s']['center']['x'])/_0x5a80f2['worldBound'+'sSize']['x']+(0x491*0x5+-0x63*-0x5d+0xd4*-0x47+0.5),_0xbfb523=(ti['y']-_0x5a80f2['worldBound'+'s']['center']['y'])/_0x5a80f2['worldBound'+'sSize']['y']+(0x2fc*0x3+0x1749*0x1+-0x203d+0.5),_0x1be5cb=(ti['z']-_0x5a80f2['worldBound'+'s']['center']['z'])/_0x5a80f2['worldBound'+'sSize']['z']+(-0x14c*-0x5+0x87*0xb+-0x1*0xc49+0.5);let _0x5e228a=Y['lerp'](_0x5a80f2['startAngle']*Y['DEG_TO_RAD'],_0x5a80f2['startAngle'+'2']*Y['DEG_TO_RAD'],_0x214644);_0x5e228a=_0x5e228a%(Math['PI']*(-0x1*-0x3fb+-0x1c6b+-0xe*-0x1bf))/(Math['PI']*(0x6*0x1f2+-0xb9*-0x25+-0x2667));const _0x4229a7=uc(_0x1ee823);_0x204a6e[_0x4ee958*ce]=_0x4229a7[-0x1e6d+-0x2001+0x3e6e],_0x204a6e[_0x4ee958*ce+(-0x835*0x2+-0x206*-0x11+0x1*-0x11fb)]=_0x4229a7[0x1*-0x904+-0x1cf9+0x25fe];const _0x204e46=uc(_0xbfb523);_0x204a6e[_0x4ee958*ce+(-0x7*-0x125+0x18c3+-0x1*0x20c4)]=_0x204e46[-0x649*0x6+0x1a5c+-0x5ad*-0x2],_0x204a6e[_0x4ee958*ce+(-0x25f8+0x1*-0x1aab+0x2*0x2053)]=_0x204e46[0x1*-0x1da5+-0x9*0x352+0x3b88];const _0xeb930=uc(_0x1be5cb);_0x204a6e[_0x4ee958*ce+(0x1*0x1c03+-0xd5b+0xea8*-0x1)+_0x5a80f2['numParticl'+'esPot']*ce]=_0xeb930[0x243f+-0x74a+-0x1cf5],_0x204a6e[_0x4ee958*ce+(0x1*0x224b+0x1*-0x1435+-0xe15)+_0x5a80f2['numParticl'+'esPot']*ce]=_0xeb930[-0x3c4+0x23bc+-0x1ff7];const _0x3ef076=uc(_0x5e228a);_0x204a6e[_0x4ee958*ce+(0x1bc8+-0x2b*-0xdd+0x1c1*-0x25)+_0x5a80f2['numParticl'+'esPot']*ce]=_0x3ef076[0x353+0x1d6b+-0x20be],_0x204a6e[_0x4ee958*ce+(0x3*-0xa93+-0x1*0x2088+0x4044)+_0x5a80f2['numParticl'+'esPot']*ce]=_0x3ef076[0x1ef9+0x20bb+0x2c5*-0x17];const _0x3885fb=-0x3*-0x546+0x1a52+-0x2a23;_0x204a6e[_0x4ee958*ce+(0x1e25+0x1fd7+-0x5f*0xa7)+_0x5a80f2['numParticl'+'esPot']*ce*(-0x1bdf+-0x307*-0x5+0xcbe)]=_0x3885fb;const _0x4b3267=Math['max'](_0x5a80f2['lifetime'],(_0x5a80f2['numParticl'+'es']-(-0x2418+-0x5e2+0x3d1*0xb))*Math['max'](_0x5a80f2['rate'],_0x5a80f2['rate2'])),_0x4231e7=_0x5a80f2['lifetime']+(0x101b+0x15*-0x106+-0x1e*-0x2e);_0x2a8d89=(_0x2a8d89+_0x4b3267)/(_0x4b3267+_0x4231e7);const _0x46246f=uA(_0x2a8d89);_0x204a6e[_0x4ee958*ce+(0x1a7c+-0x1fcb*-0x1+-0x3a47)+_0x5a80f2['numParticl'+'esPot']*ce*(-0x7*0x7f+0x7*0x2c5+0xfe7*-0x1)]=_0x46246f[0xbb4+-0x11f2+-0x22*-0x2f],_0x204a6e[_0x4ee958*ce+(0x22ea+0x818+0x1*-0x2b01)+_0x5a80f2['numParticl'+'esPot']*ce*(0x92d*-0x1+0x1*0x983+-0x53*0x1)]=_0x46246f[-0x1a4c+0x84b+0x1202],_0x204a6e[_0x4ee958*ce+(-0x1f8e+-0x232a+0x42ba)+_0x5a80f2['numParticl'+'esPot']*ce*(-0x17*0x41+0x14bb+-0xee1)]=_0x46246f[-0x1*0x2614+0xd40+-0x176*-0x11],_0x204a6e[_0x4ee958*ce+(0x222+-0x127*-0x8+-0xb57)+_0x5a80f2['numParticl'+'esPot']*ce*(-0x22db+0x42d*-0x6+-0x34*-0x127)]=_0x46246f[-0x223+0x2d7*0xd+0xcf*-0x2b];}else _0x204a6e[_0x4ee958*ce]=ti['x'],_0x204a6e[_0x4ee958*ce+(-0x31*0x3d+0x134*-0x1d+0x2e92)]=ti['y'],_0x204a6e[_0x4ee958*ce+(0xbb3+0x1b9e+0x1*-0x274f)]=ti['z'],_0x204a6e[_0x4ee958*ce+(-0x7*0xed+0x1857+0x5f3*-0x3)]=Y['lerp'](_0x5a80f2['startAngle']*Y['DEG_TO_RAD'],_0x5a80f2['startAngle'+'2']*Y['DEG_TO_RAD'],_0x214644),_0x204a6e[_0x4ee958*ce+(0x2*-0x97c+-0x1107+0x2402)+_0x5a80f2['numParticl'+'esPot']*ce]=_0x2a8d89;}['update'](_0x83e08f,_0x109eb0,_0xb19bad,_0x4978b7,_0x431459,_0x242e6b,_0x1451c2,_0x388b26){let _0x3668f5,_0x2d3060,_0x3b5e79;const _0x45e470=this['_emitter'];if(_0x45e470['meshInstan'+'ce']['node']){const _0x2d0038=_0x45e470['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x365cf8=0x17c1*0x1+-0x3*-0xb6e+-0x9*0x673;_0x365cf8<0x1*0x94a+-0x3d*0x31+0x26f;_0x365cf8++)mf['data'][_0x365cf8]=_0x2d0038['data'][_0x365cf8];_f['copy'](mf),_f['invert'](),Ei=_0x45e470['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x242e6b=_0x45e470['meshInstan'+'ce']['node']===null||_0x45e470['localSpace']?D['ZERO']:_0x45e470['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x1296d0=_0x45e470['camera']?_0x45e470['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x1ea2a7=_0x45e470['useMesh']?-0x21d*0x5+-0x1ddd+0x287f:0x3*-0xc03+0x1fc2+0x456;let _0x516ea7,_0x19cd94,_0x4b7fa0,_0x2483e6,_0xf6c1e1,_0x506a37,_0x35feb6,_0x826629,_0x1f61c6;const _0x45cc66=_0x45e470['precision']-(-0x1957+-0x13d0+-0x121*-0x28);for(let _0x494dd7=0x1d68+-0x1d*0x116+0x216;_0x494dd7<_0x45e470['numParticl'+'es'];_0x494dd7++){const _0x570620=Math['floor'](_0x45e470['vbCPU'][_0x494dd7*_0x45e470['numParticl'+'eVerts']*(_0x45e470['useMesh']?0x107b*0x1+0x42+-0x10b7*0x1:-0x1*0xe7d+-0x2645+-0x34c6*-0x1)+(0x17f*-0x14+-0x2392*-0x1+-0x5a3)]),_0x1fc947=_0xb19bad[_0x570620*ce+(0x9f*0x3c+0x8*-0x304+-0xd24)+_0x45e470['numParticl'+'esPot']*(0x1c8*-0xe+-0x1d70+0x3662)*ce];Ns['x']=_0x1fc947,Ns['y']=_0xb19bad[_0x570620*ce+(0x1263+-0x50*0x2a+0x1*-0x542)+_0x45e470['numParticl'+'esPot']*(0x602+0x2252*-0x1+0x1c52)*ce],Ns['z']=_0xb19bad[_0x570620*ce+(0x809*0x1+0x3*0x55d+-0x181e)+_0x45e470['numParticl'+'esPot']*(-0x8*-0x3c4+0x2015+-0x3e33)*ce];const _0x38a235=_0x45e470['rate']+(_0x45e470['rate2']-_0x45e470['rate'])*_0x1fc947,_0x3c1edb=_0x45e470['lifetime'];let _0x4a9e56=_0xb19bad[_0x570620*ce+(0x9*0x32b+-0x19e4+-0x29c)+_0x45e470['numParticl'+'esPot']*ce]+_0x1451c2;const _0x454c56=fA(_0x4a9e56/_0x3c1edb);let _0x1ed339=0x2c1+-0x2*-0x328+-0x1*0x911,_0x47555d=-0x1997+-0x1cd0+0x3667;const _0xd6e7a6=-0x7*0x2c5+-0x1748+0x2aab;(_0x4a9e56-_0x1451c2<=-0x1ccd+0x19c6+0x9b*0x5||_0x4a9e56>=_0x3c1edb)&&this['calcSpawnP'+'osition'](_0xb19bad,_0x4978b7,_0x431459,_0x242e6b,_0x570620);let _0x5f37ea=_0x4a9e56>-0x1bde*-0x1+-0x25d9*0x1+0x5*0x1ff&&_0x4a9e56<_0x3c1edb;_0x5f37ea&&(_0x3b5e79=_0x454c56*_0x45cc66,_0x516ea7=Math['floor'](_0x3b5e79),_0x19cd94=Math['ceil'](_0x3b5e79),_0x3b5e79%=-0x20c0+0x236d+-0x2ac,_0x3668f5=_0x45e470['qRotSpeed'][_0x516ea7],_0x2d3060=_0x45e470['qRotSpeed'][_0x19cd94],_0x4b7fa0=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qRotSpeed2'][_0x516ea7],_0x2d3060=_0x45e470['qRotSpeed2'][_0x19cd94],_0x2483e6=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qScale'][_0x516ea7],_0x2d3060=_0x45e470['qScale'][_0x19cd94],_0x1ed339=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qScale2'][_0x516ea7],_0x2d3060=_0x45e470['qScale2'][_0x19cd94],_0xf6c1e1=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qAlpha'][_0x516ea7],_0x2d3060=_0x45e470['qAlpha'][_0x19cd94],_0x506a37=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qAlpha2'][_0x516ea7],_0x2d3060=_0x45e470['qAlpha2'][_0x19cd94],_0x35feb6=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qRadialSpe'+'ed'][_0x516ea7],_0x2d3060=_0x45e470['qRadialSpe'+'ed'][_0x19cd94],_0x826629=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qRadialSpe'+'ed2'][_0x516ea7],_0x2d3060=_0x45e470['qRadialSpe'+'ed2'][_0x19cd94],_0x1f61c6=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x826629+=(_0x1f61c6-_0x826629)*(_0x1fc947*(-0x2d7*0x3+-0x8e4+0x11cd)%(-0x135c+0x1467+-0x26*0x7)),Na['x']=_0xb19bad[_0x570620*ce],Na['y']=_0xb19bad[_0x570620*ce+(0xf1*0xa+0xe0*0x1a+0x1*-0x2029)],Na['z']=_0xb19bad[_0x570620*ce+(0x43a+0x1056+-0x148e)],_0x45e470['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x242e6b),fo['normalize']()['mulScalar'](_0x826629),_0x516ea7*=0x1181*-0x2+-0x422+0x1*0x2727,_0x19cd94*=0x12d*0x11+-0xced*-0x3+0x59*-0xa9,_0x3668f5=_0x45e470['qLocalVelo'+'city'][_0x516ea7],_0x2d3060=_0x45e470['qLocalVelo'+'city'][_0x19cd94],_t['x']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qLocalVelo'+'city'][_0x516ea7+(0x3b*0x3b+-0x1355*-0x1+-0x20ed)],_0x2d3060=_0x45e470['qLocalVelo'+'city'][_0x19cd94+(0x25cc+-0x171a*0x1+-0xeb1)],_t['y']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qLocalVelo'+'city'][_0x516ea7+(0xb3e*-0x3+-0xc41+0x2dfd)],_0x2d3060=_0x45e470['qLocalVelo'+'city'][_0x19cd94+(-0x5*-0x25f+0x59f*-0x6+0x15e1*0x1)],_t['z']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qLocalVelo'+'city2'][_0x516ea7],_0x2d3060=_0x45e470['qLocalVelo'+'city2'][_0x19cd94],Ua['x']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qLocalVelo'+'city2'][_0x516ea7+(0x8d2*-0x1+0x5c7+0x34*0xf)],_0x2d3060=_0x45e470['qLocalVelo'+'city2'][_0x19cd94+(0x2635+0x26b5+-0x19a3*0x3)],Ua['y']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qLocalVelo'+'city2'][_0x516ea7+(-0x1a56+0x1b11+-0xb9)],_0x2d3060=_0x45e470['qLocalVelo'+'city2'][_0x19cd94+(0x382*-0x9+-0x20c*-0xf+0xe0)],Ua['z']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity'][_0x516ea7],_0x2d3060=_0x45e470['qVelocity'][_0x19cd94],ns['x']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity'][_0x516ea7+(-0x1*-0x23b6+0x1*0x15c6+-0xf*0x3d5)],_0x2d3060=_0x45e470['qVelocity'][_0x19cd94+(-0x2559*0x1+-0x1*-0x2bb+-0x1*-0x229f)],ns['y']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity'][_0x516ea7+(-0xf04+0x1f65+-0x17d*0xb)],_0x2d3060=_0x45e470['qVelocity'][_0x19cd94+(0x12bb+-0x1898+-0xa7*-0x9)],ns['z']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity2'][_0x516ea7],_0x2d3060=_0x45e470['qVelocity2'][_0x19cd94],ka['x']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity2'][_0x516ea7+(0x1ac8*-0x1+-0xd*-0x1d3+-0x6*-0x83)],_0x2d3060=_0x45e470['qVelocity2'][_0x19cd94+(-0x304*-0x3+0x1561+-0x1e6c)],ka['y']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_0x3668f5=_0x45e470['qVelocity2'][_0x516ea7+(0x2368+-0x16ac+-0xcba)],_0x2d3060=_0x45e470['qVelocity2'][_0x19cd94+(-0x34d+-0x4*0x7b9+-0x203*-0x11)],ka['z']=_0x3668f5+(_0x2d3060-_0x3668f5)*_0x3b5e79,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x45e470['initialVel'+'ocity']>0x9a9+-0xe1*0x14+0x7eb&&(_0x45e470['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x2*0x5ea+0x2c*0xa1+-0xfd6)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x45e470['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x45e470['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x4b7fa0+=(_0x2483e6-_0x4b7fa0)*Ns['y'],_0x1ed339=(_0x1ed339+(_0xf6c1e1-_0x1ed339)*(_0x1fc947*(0xd*-0x32b+0x31b1+0x1e8e)%(-0x3*0x9cb+0x3*-0x42b+-0x29e3*-0x1)))*Z_,_0x47555d=(_0x35feb6-_0x506a37)*(_0x1fc947*(-0x7c+0x1d02+-0x112*0x17)%(-0x16dc+-0xa3*-0xd+0xe96)),_0x45e470['meshInstan'+'ce']['node']&&(_0x45e470['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x45e470['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x1451c2)),zt['copy'](Q_),_0xb19bad[_0x570620*ce]=zt['x'],_0xb19bad[_0x570620*ce+(0x1dff+0x13f3+-0x31f1)]=zt['y'],_0xb19bad[_0x570620*ce+(-0x1d92+0x5*-0x2ae+0x2afa)]=zt['z'],_0xb19bad[_0x570620*ce+(-0x18da*0x1+-0x1514*0x1+-0x13*-0x26b)]+=_0x4b7fa0*_0x1451c2,_0x45e470['wrap']&&_0x45e470['wrapBounds']&&(_0x45e470['localSpace']||zt['sub'](_0x242e6b),zt['x']=gf(zt['x'],_0x45e470['wrapBounds']['x'])-_0x45e470['wrapBounds']['x']*(0x399*0x3+0x1*0x1492+0x103*-0x1f+0.5),zt['y']=gf(zt['y'],_0x45e470['wrapBounds']['y'])-_0x45e470['wrapBounds']['y']*(-0x419*-0x5+0xe84*-0x1+0xb*-0x8b+0.5),zt['z']=gf(zt['z'],_0x45e470['wrapBounds']['z'])-_0x45e470['wrapBounds']['z']*(-0x1ff2+-0x127e+0x3270+0.5),_0x45e470['localSpace']||zt['add'](_0x242e6b)),_0x45e470['sort']>-0x611*0x5+0x1a7c+0x3d9&&(_0x45e470['sort']===0x1b6f*0x1+0x799*0x1+-0x2307?(kr['copy'](zt)['sub'](_0x1296d0),_0x45e470['particleDi'+'stance'][_0x570620]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x45e470['sort']===0x1*0x2e7+0x1*0xf97+-0xa9*0x1c?_0x45e470['particleDi'+'stance'][_0x570620]=_0x4a9e56:_0x45e470['sort']===-0xbf*0x17+0x2432+-0x1306&&(_0x45e470['particleDi'+'stance'][_0x570620]=-_0x4a9e56))),_0x388b26?_0x4a9e56<-0x125*-0xb+-0x2f*0x33+0x3b*-0xe&&(_0xb19bad[_0x570620*ce+(-0x1582+-0x1*0x633+0x1bb8*0x1)+_0x45e470['numParticl'+'esPot']*(-0x2*-0x5db+0x221c+0x4*-0xb74)*ce]=-(0x99*-0x1c+0xe5*0x25+-0x105c)):(_0x4a9e56>=_0x3c1edb&&(_0x4a9e56-=Math['max'](_0x3c1edb,(_0x45e470['numParticl'+'es']-(-0x16ba*0x1+-0x1e5d+0x3518))*_0x38a235),_0xb19bad[_0x570620*ce+(0x144b+-0xf51*-0x1+-0x2399)+_0x45e470['numParticl'+'esPot']*(-0xfa9*-0x1+0x52*-0x3e+0x1*0x435)*ce]=_0x45e470['loop']?0x1d22+-0x1*-0x14b9+-0x31da:-(0x236c+-0x22f8+-0x1*0x73)),_0x4a9e56<-0x1a0*0x5+-0x4*-0x745+-0x37e*0x6&&_0x45e470['loop']&&(_0xb19bad[_0x570620*ce+(-0x1b7+0x19*-0x3d+-0x119*-0x7)+_0x45e470['numParticl'+'esPot']*(-0x138b+-0x16c+0x2ff*0x7)*ce]=0x65b*0x5+-0x1da5+-0x221)),_0xb19bad[_0x570620*ce+(-0x1d*0x14b+-0x1665+0x3be7*0x1)+_0x45e470['numParticl'+'esPot']*(0x1670+0x105b+-0x26c9)*ce]<-0x6b*-0x29+0x5*-0x274+-0x4df&&(_0x5f37ea=!(0xb9b*-0x1+-0x1*-0x1ef5+-0x1*0x1359)),_0xb19bad[_0x570620*ce+(0xf09+0xde8+0x211*-0xe)+_0x45e470['numParticl'+'esPot']*ce]=_0x4a9e56;for(let _0x3ac396=0x7f2+0x1921+-0x2113;_0x3ac396<_0x45e470['numParticl'+'eVerts'];_0x3ac396++){const _0x56d8b9=(_0x494dd7*_0x45e470['numParticl'+'eVerts']+_0x3ac396)*(_0x45e470['useMesh']?0x13c7+0x13*0xd7+0x23b6*-0x1:0xa8e+0x156d+-0x1ff7);let _0x2e5622=_0x45e470['vbCPU'][_0x56d8b9],_0xd890b1=_0x45e470['vbCPU'][_0x56d8b9+(0x1be*0x7+-0x1e07+-0x3*-0x5f2)],_0x11f7c9=_0x45e470['vbCPU'][_0x56d8b9+(-0x1d4b*-0x1+0x2*0x299+-0x2a7*0xd)];_0x5f37ea||(_0x2e5622=_0xd890b1=_0x11f7c9=0x8b8+-0x2ec*-0x3+-0xc*0x175);const _0x40b41c=_0x494dd7*_0x45e470['numParticl'+'eVerts']*_0x1ea2a7+_0x3ac396*_0x1ea2a7;_0x83e08f[_0x40b41c]=zt['x'],_0x83e08f[_0x40b41c+(0x1f3e+0x2421+0x21af*-0x2)]=zt['y'],_0x83e08f[_0x40b41c+(-0x1*-0x2564+-0xbce*0x2+0x52*-0x2b)]=zt['z'],_0x83e08f[_0x40b41c+(-0xf4*-0xf+0x1ab5+-0x28fe)]=_0x454c56,_0x83e08f[_0x40b41c+(0xa0+0x65+0x101*-0x1)]=_0x45e470['alignToMot'+'ion']?_0xd6e7a6:_0xb19bad[_0x570620*ce+(-0x224+-0x1e48+0x206f)],_0x83e08f[_0x40b41c+(0xa6c+-0x60*0x2+0x1*-0x9a7)]=_0x1ed339,_0x83e08f[_0x40b41c+(-0x906+0x2b*-0x97+0x2269)]=_0x47555d,_0x83e08f[_0x40b41c+(0x1e20+0x1c1c+-0x3a35)]=fc['x'],_0x83e08f[_0x40b41c+(-0x56*0x2b+-0x4*-0x18f+0x83e)]=_0x2e5622,_0x83e08f[_0x40b41c+(0x1415*-0x1+-0xade+-0x6*-0x52a)]=_0xd890b1,_0x83e08f[_0x40b41c+(-0x167*0xd+-0x179*-0x3+-0x18a*-0x9)]=_0x11f7c9,_0x83e08f[_0x40b41c+(-0x270+0x19d7+0x2*-0xbae)]=fc['y'],_0x83e08f[_0x40b41c+(-0x9fd*-0x1+0x2004+0x17*-0x1d3)]=_0x570620,_0x83e08f[_0x40b41c+(-0xb*0x1c9+0x7b5+-0xbfb*-0x1)]=fc['z'],_0x83e08f[_0x40b41c+(-0x4*0xb5+-0xf7e+0x18*0xc4)]=_0x45e470['vbCPU'][_0x56d8b9+(-0x1883+-0x1625+-0x397*-0xd)],_0x45e470['useMesh']&&(_0x83e08f[_0x40b41c+(0x2469+0xb1*-0x1f+-0xeeb)]=_0x45e470['vbCPU'][_0x56d8b9+(-0x2ea*0xd+0x19b1+0x1*0xc35)],_0x83e08f[_0x40b41c+(-0x2459+-0x20cb*0x1+0x2b*0x19c)]=_0x45e470['vbCPU'][_0x56d8b9+(-0x1*0x5da+-0x1052+0xd*0x1b5)]);}}if(_0x45e470['sort']>nu&&_0x45e470['camera']){const _0x59f19e=_0x45e470['useMesh']?-0x103a+-0xd3c+-0x4*-0x75f:-0xd6*0x5+0x243*-0x9+-0x4e9*-0x5,_0x257432=_0x45e470['particleDi'+'stance'];for(let _0x3b579c=-0x1829*0x1+-0x2d4*-0x9+0x14b*-0x1;_0x3b579c<_0x45e470['numParticl'+'es'];_0x3b579c++)_0x109eb0[_0x3b579c][-0x1b96+-0xc*0x2d4+0xc4e*0x5]=_0x3b579c,_0x109eb0[_0x3b579c][0x1*-0x12e9+-0x4c9+0x17b3]=_0x257432[Math['floor'](_0x45e470['vbCPU'][_0x3b579c*_0x45e470['numParticl'+'eVerts']*_0x59f19e+(0x6e1+0x93b+0x13d*-0xd)])];_0x45e470['vbOld']['set'](_0x45e470['vbCPU']),_0x109eb0['sort']((_0x1027fe,_0x12c790)=>_0x1027fe[-0x2025+0x14a3+0xb83]-_0x12c790[0x919+0x15*0xf4+0x24*-0xcf]);for(let _0x682cdd=-0x1*-0x9f5+0x1816+0x4dd*-0x7;_0x682cdd<_0x45e470['numParticl'+'es'];_0x682cdd++){const _0x356485=_0x109eb0[_0x682cdd][0x20ba+-0x1ec2*0x1+0x8*-0x3f]*_0x45e470['numParticl'+'eVerts']*_0x59f19e,_0x40ecb5=_0x682cdd*_0x45e470['numParticl'+'eVerts']*_0x59f19e;for(let _0x1eb360=0x22a9*0x1+-0x3b*-0x9+0x24bc*-0x1;_0x1eb360<_0x45e470['numParticl'+'eVerts']*_0x59f19e;_0x1eb360++)_0x45e470['vbCPU'][_0x40ecb5+_0x1eb360]=_0x45e470['vbOld'][_0x356485+_0x1eb360];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x1feb7c,_0x1d9381){this['_emitter']=_0x1feb7c,this['frameRando'+'mUniform']=new Float32Array(-0x8fc+0x6*0x545+0x1*-0x169f),this['emitterPos'+'Uniform']=new Float32Array(0x1*0x979+0x1*-0x203b+0x3*0x797),this['emitterSca'+'leUniform']=new Float32Array([0x1ba3*0x1+0x1d2b+-0x38cd,0x170b+-0x709*-0x3+-0x2c25,-0x10*-0x1+-0xaf0*-0x1+-0xaff]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x986+-0x1*0xb8d+0xae*0x3),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x25e1+0xd13+0x3f*-0xcf),this['inBoundsSi'+'zeUniform']=new Float32Array(0x12cc+-0x357*0x5+-0x6*0x59),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x59a*0x6+-0x1*-0x9c5+-0x2b5e),this['constantPa'+'rticleTexI'+'N']=_0x1d9381['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x1d9381['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x1d9381['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x1d9381['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x1d9381['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x1d9381['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x1d9381['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x1d9381['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x1d9381['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x1d9381['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x1d9381['scope']['resolve']('delta'),this['constantRa'+'te']=_0x1d9381['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x1d9381['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x1d9381['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x1d9381['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x1d9381['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x1d9381['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x1d9381['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x1d9381['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x1d9381['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x1d9381['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x1d9381['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x1d9381['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x1d9381['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x1d9381['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x1d9381['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x1d9381['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x1d9381['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x1d9381['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x1d9381['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x1d9381['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x1d9381['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x1d9381['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x1d9381['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x1d9381['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x1d9381['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x1d9381['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x1fb7+-0x154d+0x74*0x75]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x2b0+0x1077+0x1*-0xdc6]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x2*0x1349+0x1*0xfa3+-0x3633]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x1625*-0x1+0x1cd*-0xd+0xe*0x341]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1c66+-0x7*0x10f+0x11e8*0x2]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0xba*-0x33+0x258c+-0x7c]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x5ef+0x4*0x2e2+-0x1177]=Math['random'](),this['frameRando'+'mUniform'][-0x2531*-0x1+0x1a2b+0x90d*-0x7]=Math['random'](),this['frameRando'+'mUniform'][-0xad*-0x37+0x25f+0x28*-0xfd]=Math['random']();}['update'](_0x4221fa,_0x24d81c,_0x32943d,_0x22f389,_0x261d50){Q['pushGpuMar'+'ker'](_0x4221fa,'ParticleGP'+'U');const _0x1d7187=this['_emitter'];_0x4221fa['setBlendSt'+'ate'](pt['NOBLEND']),_0x4221fa['setDepthSt'+'ate'](Yt['NODEPTH']),_0x4221fa['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x5ec+-0xa75*-0x2+-0xefd)/_0x1d7187['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x1d7187['precision']),this['constantNu'+'mParticles']['setValue'](_0x1d7187['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x1d7187['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x1d7187['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x1d7187['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x1d7187['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x1d7187['internalTe'+'x3']);const _0x22d72f=_0x1d7187['meshInstan'+'ce']['node'],_0x426f6e=_0x22d72f===null?D['ONE']:_0x22d72f['localScale'];if(_0x1d7187['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x3*0x1bb+-0x3*-0xb89+0xeb5*-0x2]=_0x1d7187['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x141*0x12+0xda9+-0x243a]=_0x1d7187['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x61*-0x53+0x1099+0x8f*-0x56]=_0x1d7187['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x35+-0x590+-0x3*-0x1c9]=_0x1d7187['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x1478+0x222f*-0x1+0x36a8]=_0x1d7187['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0xd48+0xaf9+-0x183f]=_0x1d7187['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x1babbf=_0x1d7187['maxVel']*Math['max'](Math['max'](_0x426f6e['x'],_0x426f6e['y']),_0x426f6e['z']);_0x1babbf=Math['max'](_0x1babbf,0xae4+0x1*0x2173+-0x2c56),this['constantMa'+'xVel']['setValue'](_0x1babbf);}const _0x520a4a=_0x22d72f===null||_0x1d7187['localSpace']?D['ZERO']:_0x22d72f['getPositio'+'n'](),_0x36fcef=_0x22d72f===null?te['IDENTITY']:_0x22d72f['getWorldTr'+'ansform']();_0x1d7187['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x24d81c),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x32943d)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x1d7187['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x1d7187['emitterRad'+'ius']===0x13*-0xe+0x486+-0x37c?0x25ce+-0x266c+0x9e:_0x1d7187['emitterRad'+'iusInner']/_0x1d7187['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x1d7187['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x36fcef),tg['invertMat4'](_0x36fcef),this['emitterPos'+'Uniform'][-0xb*0x11e+-0x1caf+0x269*0x11]=_0x520a4a['x'],this['emitterPos'+'Uniform'][0x437*-0x2+-0x5*0x221+0x1314]=_0x520a4a['y'],this['emitterPos'+'Uniform'][-0x2c*-0xb+0x224a+-0xa*0x39e]=_0x520a4a['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x22f389),this['constantRa'+'te']['setValue'](_0x1d7187['rate']),this['constantRa'+'teDiv']['setValue'](_0x1d7187['rate2']-_0x1d7187['rate']),this['constantSt'+'artAngle']['setValue'](_0x1d7187['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x1d7187['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x1d7187['seed']),this['constantLi'+'fetime']['setValue'](_0x1d7187['lifetime']),this['emitterSca'+'leUniform'][0xfa0+0x1914+-0x28b4]=_0x426f6e['x'],this['emitterSca'+'leUniform'][0x20dc+0x1*-0x4bb+-0x4b*0x60]=_0x426f6e['y'],this['emitterSca'+'leUniform'][-0x16b2+0xa6c+0xc48]=_0x426f6e['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x1d7187['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x1d7187['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x1d7187['rotSpeedUM'+'ax'][-0x7*0x42a+0x1b5f+0x1c7]);let _0x494b94=_0x1d7187['swapTex']?_0x1d7187['particleTe'+'xOUT']:_0x1d7187['particleTe'+'xIN'];_0x494b94=_0x1d7187['beenReset']?_0x1d7187['particleTe'+'xStart']:_0x494b94;const _0x420d2c=_0x1d7187['swapTex']?_0x1d7187['particleTe'+'xIN']:_0x1d7187['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x494b94),Ar(_0x4221fa,_0x1d7187['swapTex']?_0x1d7187['rtParticle'+'TexIN']:_0x1d7187['rtParticle'+'TexOUT'],_0x261d50?_0x1d7187['shaderPart'+'icleUpdate'+'OnStop']:_0x1d7187['loop']?_0x1d7187['shaderPart'+'icleUpdate'+'Respawn']:_0x1d7187['shaderPart'+'icleUpdate'+'NoRespawn']),_0x1d7187['material']['setParamet'+'er']('particleTe'+'xOUT',_0x494b94),_0x1d7187['material']['setParamet'+'er']('particleTe'+'xIN',_0x420d2c),_0x1d7187['beenReset']=!(0x1*-0x1a1f+-0x4*-0x3e2+0x3*0x388),_0x1d7187['swapTex']=!_0x1d7187['swapTex'],_0x1d7187['prevWorldB'+'oundsSize']['copy'](_0x1d7187['worldBound'+'sSize']),_0x1d7187['prevWorldB'+'oundsCente'+'r']['copy'](_0x1d7187['worldBound'+'s']['center']),_0x1d7187['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x4221fa);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x776b0a){let _0x419c68='particle_'+ya['definesHas'+'h'](_0x776b0a['defines'])+'_';for(const _0x5b379a in _0x776b0a)_0x776b0a['hasOwnProp'+'erty'](_0x5b379a)&&(_0x419c68+=_0x776b0a[_0x5b379a]);return _0x419c68;}['createVert'+'exDefines'](_0xbcd055,_0x220d4b){const _0x1a0e41=new Map(_0xbcd055['defines']);return _0xbcd055['mesh']&&_0x1a0e41['set']('USE_MESH',''),_0xbcd055['meshUv']&&_0x1a0e41['set']('USE_MESH_U'+'V',''),_0xbcd055['localSpace']&&_0x1a0e41['set']('LOCAL_SPAC'+'E',''),_0xbcd055['screenSpac'+'e']&&_0x1a0e41['set']('SCREEN_SPA'+'CE',''),_0xbcd055['animTex']&&_0x1a0e41['set']('ANIMTEX',''),_0xbcd055['soft']>0x17fe*-0x1+0x3*-0x851+-0xbb*-0x43&&_0x1a0e41['set']('SOFT',''),_0xbcd055['stretch']>-0x27*0x68+0xfa1*-0x2+0x178d*0x2&&_0x1a0e41['set']('STRETCH',''),_0xbcd055['customFace']&&_0x1a0e41['set']('CUSTOM_FAC'+'E',''),_0xbcd055['pack8']&&_0x1a0e41['set']('PACK8',''),_0xbcd055['localSpace']&&_0x1a0e41['set']('LOCAL_SPAC'+'E',''),_0xbcd055['animTexLoo'+'p']&&_0x1a0e41['set']('ANIMTEX_LO'+'OP',''),_0xbcd055['wrap']&&_0x1a0e41['set']('WRAP',''),_0xbcd055['alignToMot'+'ion']&&_0x1a0e41['set']('ALIGN_TO_M'+'OTION',''),_0x1a0e41['set']('NORMAL',sg[_0xbcd055['normal']]),_0x220d4b['particle_v'+'ertexData']=Me,_0xbcd055['mesh']&&_0xbcd055['meshUv']&&(_0x220d4b['particle_u'+'v']=is),_0xbcd055['useCpu']&&(_0x220d4b['particle_v'+'ertexData2']=uh,_0x220d4b['particle_v'+'ertexData3']=Ap,_0x220d4b['particle_v'+'ertexData4']=Cp,_0x220d4b['particle_v'+'ertexData5']=Pp),_0x1a0e41;}['createFrag'+'mentDefine'+'s'](_0x1011c2){const _0x5f0cff=new Map(_0x1011c2['defines']);return _0x1011c2['soft']>0x207d+-0x1fe2+-0x5*0x1f&&_0x5f0cff['set']('SOFT',''),_0x1011c2['halflamber'+'t']&&_0x5f0cff['set']('HALF_LAMBE'+'RT',''),_0x5f0cff['set']('NORMAL',sg[_0x1011c2['normal']]),_0x5f0cff['set']('BLEND',Yy[_0x1011c2['blend']]),_0x5f0cff;}['createShad'+'erDefiniti'+'on'](_0x56abf0,_0xdeeb7){const _0x150da4=_0x56abf0['isWebGPU']?it:Fe,_0x35988e=Pe['get'](_0x56abf0,_0x150da4),_0x358e44={},_0x33172a=this['createVert'+'exDefines'](_0xdeeb7,_0x358e44),_0x1067d0=this['createFrag'+'mentDefine'+'s'](_0xdeeb7),_0x21d442='PARTICLE_'+(_0xdeeb7['useCpu']?'CPU':'GPU')+'\x0a';_0x33172a['set'](_0x21d442,''),_0x1067d0['set'](_0x21d442,'');const _0x40ec9b=new Map(_0x35988e);return Jt['createDefi'+'nition'](_0x56abf0,{'name':'ParticleSh'+'ader','shaderLanguage':_0x150da4,'attributes':_0x358e44,'vertexCode':_0x35988e['get']('particle_s'+'haderVS'),'fragmentCode':_0x35988e['get']('particle_s'+'haderPS'),'fragmentDefines':_0x1067d0,'fragmentIncludes':_0x40ec9b,'vertexIncludes':_0x40ec9b,'vertexDefines':_0x33172a});}}const gA=new _A();class SA extends tr{constructor(_0x1ffad8){super(),h(this,'emitter',null),(this['emitter']=_0x1ffad8,w['assert'](_0x1ffad8));}['getShaderV'+'ariant'](_0x24b23b){const {device:_0x4620c5,scene:_0x3d4892,cameraShaderParams:_0x4f0e07,objDefs:_0xac5c6c}=_0x24b23b,{emitter:_0x296cf4}=this,_0x42d808={'defines':$t['getCoreDef'+'ines'](this,_0x24b23b),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x296cf4['lighting']?_0x296cf4['normalMap']!==null?0x1*-0xef3+0x11*0xed+0x1*-0xc8:-0xe19+-0x1341+-0x215b*-0x1:0x7f6+-0xf4b+0x755,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0xac5c6c&nm,'gamma':(_0x4f0e07==null?void(-0x212b+0xff*-0x1a+0x3b11):_0x4f0e07['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x4f0e07==null?void(0x1*-0x3a6+0x154c+-0x11a6):_0x4f0e07['toneMappin'+'g'])??sm,'fog':_0x3d4892&&!this['emitter']['noFog']?_0x3d4892['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x296cf4['inTools']?!(0x150b+0x7f1*-0x1+-0x1*0xd19):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x4d1c5c=new Ad(_0x24b23b['viewUnifor'+'mFormat'],_0x24b23b['viewBindGr'+'oupFormat'],_0x24b23b['vertexForm'+'at']),_0x4973c2=Hn(_0x4620c5);return _0x4973c2['register']('particle',gA),_0x4973c2['getProgram']('particle',_0x42d808,_0x4d1c5c,this['userId']);}}const ig=[[-(0x63e+-0x189*0xf+0x10ca),-(-0x117b+-0x13a1+0x251d)],[-0x7e6*-0x1+0x12fa*-0x1+0xb15,-(0x317*-0xb+-0x2207+0x4405)],[-0x1b48+-0x76*-0x12+0x12fd,-0xa*0x3d7+-0x16*0x160+0xdbb*0x5],[-(0x1a6f+-0x60c+-0x1462),-0xdfa+0x703+0x1be*0x4]];function xs(_0x53a9dc,_0x3bc02d,_0x24f97c,_0x5a89c6,_0x2340f5=Xt,_0x5db1f8,_0x582265){let _0x1f6d54=Te;_0x582265&&(_0x2340f5===Ne||_0x2340f5===_s)&&(_0x1f6d54=vt);const _0x2916b9=new _e(_0x53a9dc,{'width':_0x3bc02d,'height':_0x24f97c,'format':_0x2340f5,'cubemap':!(0xe9*0xd+-0x468+-0x2*0x3b6),'mipmaps':!(0x3e9+-0x7*0x4d5+0x1deb),'minFilter':_0x1f6d54,'magFilter':_0x1f6d54,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x2c5e2c=_0x2916b9['lock']();if(_0x2340f5===Ne||_0x2340f5===_s){const _0x54544c=new Uint8Array(_0x5a89c6['length']);for(let _0x301d50=-0x13d*-0x1d+0x257*0x2+-0x2897;_0x301d50<_0x5a89c6['length'];_0x301d50++)_0x54544c[_0x301d50]=_0x5a89c6[_0x301d50]*_0x5db1f8*(0x23a4*0x1+-0x1*-0x204f+-0x14*0x359);_0x5a89c6=_0x54544c;}return _0x2c5e2c['set'](_0x5a89c6),_0x2916b9['unlock'](),_0x2916b9;}function rg(_0x35f006){return Math['max'](Math['min'](_0x35f006,-0x1467+0xb*0x226+0x33a*-0x1),-0x4*0x12c+-0x1b99*-0x1+0x495*-0x5);}const ag=new qs([0x1557+0x226b+-0x37c2,0x218e+-0x25*0xad+-0x88d,-0x6*0x4a9+-0x19ff+0x35f6,0x1e18+-0x8a0+-0x1578]),ng=new qs([-0x927+0x29d+0x68a,0x50f*-0x1+-0x1*0x232f+0x283f,0x3d5*-0x9+0x19d1+0x8ad*0x1,0x2e5*-0x5+0x4*0x13d+0x986]),og=new na([0x21e6+-0xae7*-0x1+-0x2ccd,-0x361*0x2+0x4*-0x5d5+0x1e16,0x9aa+-0x287+-0x722,-0x1506+0x15b0+-0xaa],[-0x8b8+-0x1023+0x7*0x38d,0x1a2+0xfc3+-0x49*0x3d,-0x268e+0xb*0x208+0x1*0x1037,0xb*-0x2a9+0x8*0x3cc+-0x11d],[-0x3f3+0x705+-0x6*0x83,0x1b29+0xb*0xf9+0x2*-0x12ee,0x18*-0x146+-0x3c5*-0x2+0x189*0xf,0xd*-0x98+0xe*0x95+0xb*-0xa]),yA=new na([0x2261+-0x227c+-0x1b*-0x1,-0xd4f+-0x2aa*-0x1+0xaa6,0x13*0x19f+-0x19d1*-0x1+0x3*-0x12df,-0x119c+0x620+-0x11*-0xad],[0x2*-0x1195+-0xb7*-0x2+0x21bc,0xd83+-0x1*0x134b+-0x1*-0x5c9,-0xb93+0x2*-0x305+0x119e,-0x2102+0x9b*-0x8+-0x371*-0xb],[0x1db7*0x1+0x1b4*-0x16+0x7c1,0x1128+0x12*-0x41+-0xc95*0x1,-0xa*0x29f+-0x2*-0xa4e+-0x11f*-0x5,-0x16f7*0x1+0xf69+-0x9*-0xd7]);let bi=0x19a8+0x2*0xf7b+-0x389c;const pc=0xb47+0x14d3+-0x6*0x559,Ai=new Float32Array(-0x4*0xb1+0xae1+-0x81a),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x5039b8,_0x4879c8){Zc[_0x5039b8]!==void(0x75*-0x4f+0x26ca+-0x2af)&&Zc[_0x5039b8]!==null?uu[_0x5039b8]=Zc[_0x5039b8]:uu[_0x5039b8]=_0x4879c8;}function Dv(_0x98a24,_0x1ea67f,_0x384b32){return(_0x98a24*(0x4cb*-0x1+-0x7*-0x3b9+-0x1445)<<-0x1c1e*-0x1+0x4*0x90d+0x19*-0x292|_0x1ea67f*(-0x22be+0x74c+0x1c71)<<-0x15d*-0x19+-0x527+0x2*-0xe73|_0x384b32*(0x439*0x3+0x1*-0x2301+0xb5*0x21))/(0x60*0x29+-0x2684+-0x5*-0x4a1<<-0x217b+0x1b2d+0xd*0x7e);}function cg(_0x26228d,_0x379f7f){const _0xc618dd=_0x26228d['length']/(0x9f3+0x335*-0x4+0x2e4),_0x3d06e8=new Array(_0xc618dd*(0x241f+0x27+-0x2442));for(let _0x43567b=-0x246e+0x2*-0xaa0+-0x17*-0x282;_0x43567b<_0xc618dd;_0x43567b++)_0x3d06e8[_0x43567b*(-0x1737+-0x1ed3+0x360e)]=_0x26228d[_0x43567b*(-0x4ee*0x7+-0x259d*0x1+0x4822)],_0x3d06e8[_0x43567b*(0x103*-0x17+0x147d*0x1+0x2cc)+(-0x2*-0xc3a+-0xf3f+0x3e*-0x26)]=_0x26228d[_0x43567b*(0x4f4+-0x43*-0x38+-0x1399*0x1)+(0xb48+-0x1*-0x970+0x14b7*-0x1)],_0x3d06e8[_0x43567b*(0xfd6+0xe3e+0xd0*-0x25)+(-0x25*-0x24+-0x5*-0x247+-0x11b*0xf)]=_0x26228d[_0x43567b*(0x1*0x875+0x20*-0x6c+0x50e)+(0x15f3+0x20*-0xb5+-0x23*-0x5)],_0x3d06e8[_0x43567b*(0x1d7*-0x6+-0x1*0x236b+0x2e79)+(0x16ae+-0x2141+0xa96)]=Dv(_0x379f7f[_0x43567b*(0x1c7c*-0x1+-0xb14+0x2793)],_0x379f7f[_0x43567b*(-0x7b*-0x2f+-0x25e1*0x1+0xf4f)+(0x15ce+0x266c+-0x3c39)],_0x379f7f[_0x43567b*(0x3b3*0x9+0x25*-0x1+-0x2123)+(0x1156+-0x6*-0x23c+-0x1ebc)]);return _0x3d06e8;}function vA(_0x420c47,_0x26f647){const _0x417970=new Array(_0x26f647['length']*(0x2527+0x952*0x1+-0x7*0x6a3));for(let _0x5a96dc=-0xc9+0x603+0x3*-0x1be;_0x5a96dc<_0x26f647['length'];_0x5a96dc++)_0x417970[_0x5a96dc*(-0x12ab*0x1+0x75b*0x4+-0xabd)]=_0x420c47[_0x5a96dc*(0xd*-0x16f+-0xdae+0x2054)],_0x417970[_0x5a96dc*(0x1b7d+-0x178d+-0x3ec)+(0x2564+0xcfb+0x399*-0xe)]=_0x420c47[_0x5a96dc*(-0x1b6+0x25ab+-0x23f2)+(-0x519+-0x9ea+0xf04)],_0x417970[_0x5a96dc*(0x7d6*-0x1+-0x2*-0x151+0x538)+(0x172a+-0x1b4a+-0x211*-0x2)]=_0x420c47[_0x5a96dc*(0x4f1*-0x6+-0x1dee+-0x2d*-0x153)+(-0x45*0x8d+-0xfe+-0x1*-0x2701)],_0x417970[_0x5a96dc*(-0x22*0x10f+-0x1a3d+0x3e3f)+(0x19d7+0x1e8*-0x6+-0xe64)]=_0x26f647[_0x5a96dc];return _0x417970;}function xA(_0x44437c,_0xfd5e4e,_0x33b90a,_0x3d6ec8,_0x136a03){const _0x4ea655=new Array(_0x44437c['length']*(-0xed*-0x15+-0x25b0+0x113*0x11));for(let _0x276c24=-0x2018+0x1c06+0x412;_0x276c24<_0x44437c['length'];_0x276c24++)_0x4ea655[_0x276c24*(-0x61*-0x19+-0x5fb+-0x37a)]=_0x44437c[_0x276c24],_0x4ea655[_0x276c24*(0x1271+0x2*0x7f2+-0x2251)+(-0x540+0x2*0x122c+-0x1f17)]=_0xfd5e4e[_0x276c24],_0x4ea655[_0x276c24*(0xf26+0x1acc+0xdfa*-0x3)+(0x2186+-0x10b2+-0x10d2)]=0x1049+0x514+0x1*-0x155d,_0x4ea655[_0x276c24*(-0x2369+-0x76f+-0x2*-0x156e)+(0x8a6*0x4+0x1ecb+-0x4160)]=Dv(_0x33b90a[_0x276c24],_0x3d6ec8[_0x276c24],_0x136a03[_0x276c24]);return _0x4ea655;}function TA(_0x23d163,_0xe1b08f){const _0x3b52ca=new Array(_0x23d163['length']*(0x1032+0xb80+-0x1bae));for(let _0x324a18=-0x258f+0x5*-0x56d+-0x50*-0xcf;_0x324a18<_0x23d163['length'];_0x324a18++)_0x3b52ca[_0x324a18*(0x19*-0x5f+0x1*-0x161+0x2*0x556)]=_0x23d163[_0x324a18],_0x3b52ca[_0x324a18*(0x12a0+0x17ea*-0x1+0x7*0xc2)+(-0x1f8+0xf*-0x43+0x97*0xa)]=_0xe1b08f[_0x324a18],_0x3b52ca[_0x324a18*(-0x1ef9+-0x17*0x18d+0x42a8)+(0xba2+0xc00+-0x17a0)]=0x1297+0x18a6+-0x2b3d,_0x3b52ca[_0x324a18*(-0x6ac+-0x4ba+0xb6a)+(-0x1224+-0xbaf+0x9f2*0x3)]=-0x28c+0x832*-0x3+0x1b22;return _0x3b52ca;}function wA(_0xb1309a){const _0x342530=Math['max'](_0xb1309a['rate'],_0xb1309a['rate2'])*_0xb1309a['numParticl'+'es']+_0xb1309a['lifetime'];return Date['now']()+_0x342530*(0x2*0xe29+0x9d2*0x1+-0x223c);}function EA(_0x4745da,_0x29ec1b){const _0x2edea9=new Float32Array(_0x4745da['length']);for(let _0x285957=-0xe64+-0xf5c+0x1dc0;_0x285957<_0x4745da['length'];_0x285957++)_0x2edea9[_0x285957]=_0x4745da[_0x285957]-_0x29ec1b[_0x285957];return _0x2edea9;}function Xr(_0x3cfd42,_0x423f8b){const _0x5e88fc=_0x423f8b['length'],_0x4a29b5=_0x3cfd42['length']/_0x5e88fc;for(let _0x3585d6=-0xa*0x38b+0x224f+0x11f;_0x3585d6<_0x4a29b5;_0x3585d6++)for(let _0x3a5c44=-0x1*-0x19b+-0x1d80*0x1+0x1be5;_0x3a5c44<_0x5e88fc;_0x3a5c44++){const _0x24ba5f=Math['abs'](_0x3cfd42[_0x3585d6*_0x5e88fc+_0x3a5c44]);_0x423f8b[_0x3a5c44]=Math['max'](_0x423f8b[_0x3a5c44],_0x24ba5f);}}function bA(_0x18bd08,_0x492c83){const _0x183928=_0x492c83['length'],_0x26ed3e=_0x18bd08['length']/_0x183928;for(let _0x5d982a=0xb*-0x296+-0x81*0x11+0x2503;_0x5d982a<_0x26ed3e;_0x5d982a++)for(let _0x268fe4=0x21ff+0x5*0x72e+0x269*-0x1d;_0x268fe4<_0x183928;_0x268fe4++)_0x18bd08[_0x5d982a*_0x183928+_0x268fe4]/=_0x492c83[_0x268fe4]===0x13f*-0xc+-0x1890+0x2784?0x17ec+-0x4cd+-0x131e:_0x492c83[_0x268fe4],_0x18bd08[_0x5d982a*_0x183928+_0x268fe4]*=0x1ff+0x15*-0x25+-0x7*-0x26+0.5,_0x18bd08[_0x5d982a*_0x183928+_0x268fe4]+=-0x9e*-0x5+-0x1143+0xe2d+0.5;}function Br(_0x1f3088,_0x132639,_0x475604){const _0x5e679c=EA(_0x132639,_0x1f3088);return Xr(_0x5e679c,_0x475604),bA(_0x5e679c,_0x475604),_0x5e679c;}const AA=new Kt();class CA{constructor(_0x480507,_0x5a59e0){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x480507;const _0x760eb=_0x480507,_0x3d9a39=-0x37e*-0x8+-0x45f+0x1*-0x1771;this['precision']=_0x3d9a39,this['_addTimeTi'+'me']=0x1*0x16a3+-0xfef*-0x2+0x122b*-0x3,uu=this,Zc=_0x5a59e0,he('numParticl'+'es',0x2325*-0x1+-0x24d8+0x1*0x47fe),this['numParticl'+'es']>_0x480507['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x480507['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x480507['maxTexture'+'Size']),he('rate',-0x8a7+-0x188*-0x13+0xa38*-0x2),he('rate2',this['rate']),he('lifetime',-0x1eeb+-0x88*0x2d+0x3705),he('emitterExt'+'ents',new D(-0x1*0x2189+-0xd*0x2c5+-0x45*-0x102,0x22bd+-0x7c8+-0x1af5,0x4a5+0x23cc*0x1+-0x1d*0x165)),he('emitterExt'+'entsInner',new D(0x1*0x1f4+0x1219+-0x140d,-0x21fc+-0xbd7+0x1*0x2dd3,0x13ce+-0x287*0x5+-0x1*0x72b)),he('emitterRad'+'ius',0x10*0x100+0x14da+-0x24da),he('emitterRad'+'iusInner',-0x2217+0x53+0x21c4),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0xaec+-0x1eb0+0x299d),he('wrap',!(-0x1dc2+0x191d+-0x253*-0x2)),he('localSpace',!(0x197d*0x1+0x1915+-0x3291)),he('screenSpac'+'e',!(-0x10db+0x21c4+-0x4*0x43a)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x1f0c+0x25ab+-0x9d1*0x7)),he('preWarm',!(-0x22a*-0x2+0xc2+0x1*-0x515)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(-0xcb1+-0x1*0x191b+0x25cd)),he('halfLamber'+'t',!(-0x101*0x1f+0x12a4*-0x2+0x4468)),he('intensity',-0x1c1e+-0x8e0*-0x2+0x2d*0x3b),he('stretch',0x10d*-0x1+0x3*0x1d3+-0x46c),he('alignToMot'+'ion',!(-0x1256*0x1+-0x20bf+0x3316)),he('depthSofte'+'ning',0x1704+0x1*-0x25e0+-0xc*-0x13d),he('mesh',null),he('particleNo'+'rmal',new D(-0x11*0x129+0xe28+0x591,-0x820+0x10c3+-0x8a2,-0x1e2a+-0x4a5*-0x1+-0x1*-0x1985)),he('orientatio'+'n',yh),he('depthWrite',!(-0x25*0x57+0x63b*-0x5+0x2bbb)),he('noFog',!(-0x135*-0xe+-0xbf5*-0x1+0x1cda*-0x1)),he('blendType',Zs),he('node',null),he('startAngle',0x1080+0x24*-0x9d+0x594),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x6*-0x176+-0x1db9+0x14f6),he('animTilesY',0x5f*-0x2f+-0x46f+0x15e1*0x1),he('animStartF'+'rame',-0x2576+0x401+0x2175),he('animNumFra'+'mes',0x1*0x22df+0x1e79+-0x4157),he('animNumAni'+'mations',0x13b2+-0x1b14+0x3d*0x1f),he('animIndex',0x1776+0x1*-0x1f4f+-0x11f*-0x7),he('randomizeA'+'nimIndex',!(-0xb*-0xcd+-0x161b*-0x1+-0x1ee9)),he('animSpeed',0x1*0x15a2+-0x133+-0x146e),he('animLoop',!(0x39a+0x71*0xd+0x957*-0x1)),this['_gpuUpdate'+'r']=new mA(this,_0x760eb),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x69+0x345*-0x3+-0x21*-0x49),this['wrapBounds'+'Uniform']=new Float32Array(-0x1091+-0x134f*-0x1+-0xe9*0x3),this['emitterSca'+'leUniform']=new Float32Array([0x18*-0x177+-0x1792+-0xbbf*-0x5,0x121c+-0x1*0x1507+0x2ec,-0x1*-0x94f+-0x15a8+0xc5a]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x22cc+-0x1f72+0x109*0x40),this['animParams']=new Float32Array(-0x1*0x203e+-0x247a+0x35*0x14c),this['animIndexP'+'arams']=new Float32Array(-0xfb2+-0x11fb*0x1+0x21af),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x1c8*-0x1+-0x1f89+0x1dc2),this['useMesh']=!(-0xe9*0xe+0xe8c+-0x1ce),this['useCpu']=!_0x480507['supportsGp'+'uParticles'],this['pack8']=!(0x23fd+-0x8eb+-0x1b12),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x1*0x1ceb+0x657*0x5+-0x2c8,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x285*-0x5+0x424+-0x875*-0x1,this['numParticl'+'eIndices']=-0x1*-0xb95+0x1*-0x2327+0x1792,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x82e*0x4+-0x1f46+0x3ffe,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x13*0x10f+-0xa77*0x3+-0x3383*-0x1)/(-0x626+0x1beb+-0x1589),this['maxSubStep'+'s']=0x128d+-0x448+-0xe3b,this['simTime']=-0x3*-0x794+-0xc95*-0x1+-0x2351,this['simTimeTot'+'al']=-0x18e5+0xc22+0xcc3,this['beenReset']=!(-0x1b*-0x99+-0x1*-0x1235+0x95*-0x3b),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x2585ef=new Float32Array(0x12a+-0x93d+0x1*0xc13);for(let _0x4d37d6=-0x221d+-0xf3b+0x3158;_0x4d37d6<0x1*0x1001+0xef9*0x1+-0x1eea;_0x4d37d6++)for(let _0x470788=0xf4e+-0x1153+0x205;_0x470788<-0x2309+-0x1d11+0x2*0x2015;_0x470788++){const _0xc6330b=_0x470788+(0x52f+-0xd9a+-0x62*-0x16)-(0xc51*-0x3+0x1349+0x97*0x1e+0.5),_0x1ae5e5=_0x4d37d6+(0x17*-0x1af+-0x43*0x83+0x4903)-(0xf92*-0x1+0x169f+0x1*-0x705+0.5),_0x56d658=rg(-0x26*0xa4+0x2191+0x24e*-0x4-rg(Math['sqrt'](_0xc6330b*_0xc6330b+_0x1ae5e5*_0x1ae5e5)/(0x20b7*0x1+-0x60*0x3c+-0xa27))-(0x1d6d+-0x222c+0x4bf+0.5)),_0x37c999=_0x4d37d6*(-0x24f1+0x2f*0x9+0x5*0x712)+_0x470788;_0x2585ef[_0x37c999*(-0x15e*0x3+-0x15f7*0x1+0x1a15*0x1)]=0x1a06+0x30*0x8a+0x1*-0x33e5,_0x2585ef[_0x37c999*(0x369+0x636+-0x99b)+(0x8d*0x13+0x3*0x58f+0x1b23*-0x1)]=0x1b00+-0x2f+-0x1ad0,_0x2585ef[_0x37c999*(-0x2*-0x677+-0x241f+0x1735)+(-0x1a35+-0x126a+0x2ca1*0x1)]=0x29*-0x86+-0x101c+0x2593,_0x2585ef[_0x37c999*(-0xb*-0x17+-0x179e+-0x20f*-0xb)+(0x1b64+-0x2462*0x1+-0x1cd*-0x5)]=_0x56d658;}const _0x1067df=xs(this['graphicsDe'+'vice'],-0x2037+-0x78e+0x21*0x135,-0x1bc7+-0x1c67*0x1+0x383e,_0x2585ef,_s,0x23d6+-0x2b9*0x4+-0x18f1,!(-0x7*0x55d+-0x11eb*0x2+0x4961));return _0x1067df['minFilter']=vt,_0x1067df['magFilter']=vt,_0x1067df;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0xe*0x76+0x149a+-0x5*0x569)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x29*-0x53+0xc9e+-0x1*-0xae)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x10bc+0x2*-0x313+0x16e3)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x9d*-0xa+-0x18+0x63b)),this['worldBound'+'sAdd']['x']+=0xaaf+-0x8b*0x29+-0x4c*-0x27+0.5,this['worldBound'+'sAdd']['y']+=0xe+-0x68d+0x67f*0x1+0.5,this['worldBound'+'sAdd']['z']+=0x1*0x799+0x1*-0x1565+0x4*0x373+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3d5466=!(-0xf6b+0x1ca5+-0x5*0x2a5);this['emitterSha'+'pe']===ai?_0x3d5466=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3d5466=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3d5466&&this['calculateL'+'ocalBounds']();}const _0x28b25e=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x28b25e),this['worldBound'+'sTrail'][-0x1071+0x24e+-0x205*-0x7]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0xf*-0xb5+-0xf3+-0x9a7]['add'](this['worldBound'+'sNoTrail']);const _0x280dfc=this['simTimeTot'+'al'];_0x280dfc>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x233*0xe+0x7*-0x337+-0x849]['copy'](this['worldBound'+'sTrail'][0x1b47*0x1+-0xd*0x23b+0x1b9]),this['worldBound'+'sTrail'][0x4*-0x175+-0xd*0x195+0x1*0x1a66]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x280dfc+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x12d*-0x7+0x15ae+0xf7*-0x1f]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x192f+-0x19*0x25+0x4cd*0x6),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x28b25e),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x28b25e)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0xc0b*-0x1+0x1*0x16d2+-0xac6-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1275+0x2a9+-0x151e]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x143b+0xe*0x216+-0x8f8]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x184+0x1*-0x2e5+0x161]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x148b+0xc4f+0x2*-0x106c),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x536*0x3+-0x2117+0x30b9,this['timeToSwit'+'chBounds']=0x22a9+-0x2*0xe96+-0x57d*0x1);}['calculateL'+'ocalBounds'](){let _0x5e9c55=Number['MAX_VALUE'],_0x1f8747=Number['MAX_VALUE'],_0x1a521b=Number['MAX_VALUE'],_0x32898f=-Number['MAX_VALUE'],_0x30c489=-Number['MAX_VALUE'],_0x1d50f4=-Number['MAX_VALUE'],_0x1e1f3e=0x1*-0x6bc+-0x1132+0x2*0xbf7,_0x3f9e48=0x1979+0x22c8+-0x3c41;const _0x1db2c5=this['lifetime']/this['precision'],_0xa3989d=[this['qVelocity'],this['qVelocity2']],_0x285944=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x492be2=[-0x199f+0x1d2+0x17cd,-0x3*0x7da+-0xce+0x4*0x617],_0x389ebf=[0xbfd+0x264e+0xa0f*-0x5,-0x2*-0xe13+-0x8b3+0x1373*-0x1],_0x51f559=[0x228+0x2598+-0x27c0,0x164f+0x91d*-0x1+-0x1*0xd32],_0x4eb867=[0xfdf+0x1e46+-0x2e25*0x1,0x218*-0x2+0x2a9*0xc+-0x1bbc],_0x2ab57d=[0x1dd0+0xf2*0x8+-0x2e*0xd0,-0xc*-0x1bc+0xf6e+-0x1*0x243e];let _0x2bcc24,_0x5ab095,_0x5bd15c;for(let _0x1be167=-0x14ed*-0x1+0xc95*0x2+-0x2e17;_0x1be167<this['precision']+(-0x2d5+-0x156d+0x1843);_0x1be167++){const _0x5959e2=Math['min'](_0x1be167,this['precision']-(-0xe1a+-0x4e7+0x1302));for(let _0x38a13e=-0xf21+-0x8*0x3fb+0x2ef9;_0x38a13e<-0x998+0x2106+-0x176c;_0x38a13e++)_0x2bcc24=_0x285944[_0x38a13e][_0x5959e2*(-0x4*0x4b1+-0x2*0xda5+0x2e11)+(-0x2c*-0x75+-0x1*0x511+-0x1*0xf0b)]*_0x1db2c5+_0x492be2[_0x38a13e],_0x5ab095=_0x285944[_0x38a13e][_0x5959e2*(-0x151d+0x2f4*-0x5+0x23e4)+(0x1873+0xa36*-0x1+-0xe3c)]*_0x1db2c5+_0x389ebf[_0x38a13e],_0x5bd15c=_0x285944[_0x38a13e][_0x5959e2*(-0x6d*0x59+-0x3ce*0x9+-0x5*-0xe6e)+(0x1b98+-0x95d*0x1+0xf*-0x137)]*_0x1db2c5+_0x51f559[_0x38a13e],_0x5e9c55=Math['min'](_0x2bcc24,_0x5e9c55),_0x1f8747=Math['min'](_0x5ab095,_0x1f8747),_0x1a521b=Math['min'](_0x5bd15c,_0x1a521b),_0x32898f=Math['max'](_0x2bcc24,_0x32898f),_0x30c489=Math['max'](_0x5ab095,_0x30c489),_0x1d50f4=Math['max'](_0x5bd15c,_0x1d50f4),_0x492be2[_0x38a13e]=_0x2bcc24,_0x389ebf[_0x38a13e]=_0x5ab095,_0x51f559[_0x38a13e]=_0x5bd15c;for(let _0x555bc3=0x262d*-0x1+-0x1*0x682+-0x7b*-0x5d;_0x555bc3<0x1d05+-0x198a+-0x379;_0x555bc3++)_0x2ab57d[_0x555bc3]+=_0x1db2c5*Math['sqrt'](_0xa3989d[_0x555bc3][_0x5959e2*(-0x1ec6+-0x27*-0x32+-0x172b*-0x1)+(-0x1ab3+-0x1d*0x33+-0x1*-0x207a)]*_0xa3989d[_0x555bc3][_0x5959e2*(0x2473+-0x11*0x86+-0x1b8a)+(0x1f70+0x5*0x5c+-0x213c)]+_0xa3989d[_0x555bc3][_0x5959e2*(-0x1*-0x1d7a+0xceb+0xa*-0x43d)+(0x511+0x19e4+-0x1ef4)]*_0xa3989d[_0x555bc3][_0x5959e2*(0x1f1f+-0x1d64+-0x1b8)+(-0x21d*0xd+0x1266+0x914)]+_0xa3989d[_0x555bc3][_0x5959e2*(-0x118b*0x1+-0x1b50+0x2cde)+(-0x17*0x13d+0x636+0x76d*0x3)]*_0xa3989d[_0x555bc3][_0x5959e2*(-0x2567+-0x20e0+0x3*0x176e)+(-0xdb9+0x1b91+-0xdd6)]);_0x4eb867[0x4*-0xef+0x29*-0x25+0x9a9]+=this['qRadialSpe'+'ed'][_0x5959e2]*_0x1db2c5,_0x4eb867[-0x168*0x13+-0x26e5+-0xe3*-0x4a]+=this['qRadialSpe'+'ed2'][_0x5959e2]*_0x1db2c5,_0x1e1f3e=Math['max'](_0x1e1f3e,Math['max'](Math['abs'](_0x4eb867[0x515*0x1+-0x1*0x1ea9+-0xcca*-0x2]),Math['abs'](_0x4eb867[-0xb5*-0x35+-0x1519+-0x105f]))),_0x3f9e48=Math['max'](_0x3f9e48,this['qScale'][_0x5959e2]);}this['emitterSha'+'pe']===ai?(_0x2bcc24=this['emitterExt'+'ents']['x']*(-0x5c6+-0x2b*-0xc9+0x1bfd*-0x1+0.5),_0x5ab095=this['emitterExt'+'ents']['y']*(-0x1520+-0x12*0xaa+-0x1d*-0x124+0.5),_0x5bd15c=this['emitterExt'+'ents']['z']*(-0x1418+-0x1*-0xf0b+-0x1af*-0x3+0.5)):(_0x2bcc24=this['emitterRad'+'ius'],_0x5ab095=this['emitterRad'+'ius'],_0x5bd15c=this['emitterRad'+'ius']);const _0x5ba301=Math['max'](_0x2ab57d[-0x2b*0x26+-0x24*0x5a+0x130a],_0x2ab57d[-0x1*0x110c+-0xe*0x24a+-0x1*-0x3119]);mc['x']=_0x5e9c55-_0x3f9e48-_0x2bcc24-_0x1e1f3e-_0x5ba301,mc['y']=_0x1f8747-_0x3f9e48-_0x5ab095-_0x1e1f3e-_0x5ba301,mc['z']=_0x1a521b-_0x3f9e48-_0x5bd15c-_0x1e1f3e-_0x5ba301,_c['x']=_0x32898f+_0x3f9e48+_0x2bcc24+_0x1e1f3e+_0x5ba301,_c['y']=_0x30c489+_0x3f9e48+_0x5ab095+_0x1e1f3e+_0x5ba301,_c['z']=_0x1d50f4+_0x3f9e48+_0x5bd15c+_0x1e1f3e+_0x5ba301,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x528de0=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x528de0['maxVertexT'+'extures']<=0x1a32+0x153f+-0x2f70||_0x528de0['fragmentUn'+'iformsCoun'+'t']<0xa41+-0x1133+-0x6*-0x133||_0x528de0['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x528de0['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x2014+-0x26ab+0x69b:-0x11ab*0x2+0xec0+0xa4c*0x2,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x47*0x3d+0x14b*0x7+0x13*0x6a]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0xeb0+0x951+0x80*-0x30]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x24a*-0x1+-0x101c*0x2+0x2*0x1142),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3ab9df=0x1f85*0x1+-0x13ee+-0x1*0xb97;_0x3ab9df<this['numParticl'+'es'];_0x3ab9df++)this['vbToSort'][_0x3ab9df]=[-0x3d*0x6b+-0x1*0x161+0x1ae0,-0x1*0x148+-0x1*0x19a1+0x1ae9];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x1fc72f=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[0x570+-0xe7a+0x90a]=this['emitterExt'+'ents']['x']!==0x18e6*0x1+0x5a9+-0x1e8f*0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*-0x120e+-0x57e+-0xc90,Ai[0x1*-0x16c3+-0x43*0x8c+0x1*0x3b68]=this['emitterExt'+'ents']['y']!==-0x1*-0x1843+0x261a+0x203*-0x1f?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xc9*0xa+0xb*0x20f+-0x1e7f,Ai[-0x13d6+0x22a+0x11ae]=this['emitterExt'+'ents']['z']!==-0xfa3*0x1+0x1831+-0x447*0x2?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1606+0x7e3+0x13*-0x193);for(let _0x122c92=-0x6d2+0x10*0x2e+0x3f2;_0x122c92<this['numParticl'+'es'];_0x122c92++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x1fc72f,_0x122c92),this['useCpu']&&(this['particleTe'+'x'][_0x122c92*pc+(0x4*-0x32b+0x4*-0x490+-0x1*-0x1eef)+this['numParticl'+'esPot']*(-0x11ab*-0x1+0x54f+-0x16f8)*pc]=-0x1bdf*-0x1+-0x233d+0x75f);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x4eef32=-0x2c*0x7c+0x2*-0x1353+0x133*0x32;_0x4eef32<this['particleTe'+'xStart']['length'];_0x4eef32++)this['particleTe'+'xStart'][_0x4eef32]=this['particleTe'+'x'][_0x4eef32];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x1*0x1367+0x1c13*0x1+0x13d*-0x7,!(-0x12e3+-0xeea*-0x2+-0x4*0x2bc)),this['particleTe'+'xOUT']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x233*-0xd+-0x15d5+-0x6c1,!(0x232*-0x9+-0x1*-0x1c07+-0x844)),this['particleTe'+'xStart']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0x2c*-0x85+-0x1737+0x5c,!(0x20a1*0x1+0x1726+-0x76*0x79))):(this['particleTe'+'xIN']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x528de0,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0xaa5+-0x1cda+0x1236)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0xb72*0x1+-0x232d+0x17bc)}),this['swapTex']=!(0x448+0x17cf+0x59e*-0x5));const _0x142bb4=new Map();this['localSpace']&&_0x142bb4['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x142bb4['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x142bb4['set']('EMITTERSHA'+'PE_BOX','');const _0x1932de='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x254376=Pe['get'](_0x528de0,_0x528de0['isWebGPU']?it:Fe),_0x3f189c=new Map(_0x254376),_0x15f720={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x142bb4,'fragmentIncludes':_0x3f189c};_0x15f720['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x1932de,_0x142bb4['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x528de0,_0x15f720),_0x142bb4['delete']('RESPAWN'),_0x15f720['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x1932de,_0x142bb4['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x528de0,_0x15f720),_0x142bb4['delete']('NO_RESPAWN'),_0x15f720['uniqueName']='ParticleUp'+'dateStop-'+_0x1932de,_0x142bb4['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x528de0,_0x15f720),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1ed+0x19e+-0x53*-0x1,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1*0x269b+-0x34e*0x8+-0x410b*-0x1]['numIndices']:0x8b8+-0xb65+0x2b3*0x1,this['_allocate'](this['numParticl'+'es']);const _0xf89df7=new Ge(_0x528de0);_0xf89df7['vertexBuff'+'er']=this['vertexBuff'+'er'],_0xf89df7['indexBuffe'+'r'][-0x1013+0x5*0x71b+-0x1374]=this['indexBuffe'+'r'],_0xf89df7['primitive'][0x43b*0x8+-0x2084*0x1+-0x154]['type']=js,_0xf89df7['primitive'][0x18+0x364*-0x1+-0x1a6*-0x2]['base']=-0x2484+-0x2514+-0x18*-0x311,_0xf89df7['primitive'][0x24bc+0xbb5+-0x1*0x3071]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0xf89df7['primitive'][-0xc*-0x6a+0x61*0x4+0x14c*-0x5]['indexed']=!(-0x996*0x1+-0x5f*0x19+0x1*0x12dd),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x232d74=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x21f1+-0x2e7*0x9+-0x7d2);this['meshInstan'+'ce']=new He(_0xf89df7,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1*-0x644+0x21ae+-0x5*0x7fd),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x147c+0xaf3+-0x1f6f),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x3*-0x8b0+-0xeee+-0x28ff*-0x1),this['meshInstan'+'ce']['visible']=_0x232d74,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x1*-0x376+-0x1452+0x17c8,!(0x14f*-0x17+0xa5a*-0x2+0x32ce)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x15ee*-0x1+0x1bc0+-0x31ad&&(this['animTilesX']>-0x1713*-0x1+0x1*-0x1619+-0x53*0x3||this['animTilesY']>-0x25d3+-0x20ed+0x133*0x3b)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x46b332=this['precision'],_0xad332f=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x46b332),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x46b332),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x46b332,0x59c+-0x2409+0x1e6d*0x1,0x4df+-0x1c1*0x4+-0x32*-0xb),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x46b332),this['qScale']=this['scaleGraph']['quantize'](_0x46b332),this['qAlpha']=this['alphaGraph']['quantize'](_0x46b332),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x46b332),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x46b332),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x46b332),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x46b332,0x1ff5+-0x2091+0x9c,-0x1a47+0x1*0xe51+0x3fd*0x3),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x46b332),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x46b332),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x46b332),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x46b332);for(let _0x4bfacb=0xbca+0x9ee+-0x4*0x56e;_0x4bfacb<_0x46b332;_0x4bfacb++)this['qRotSpeed'][_0x4bfacb]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x4bfacb]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x39*0x96+-0xa48+-0x8bd*-0x5),this['velocityUM'+'ax']=new Float32Array(0x13*-0x53+-0x505*0x3+-0x5*-0x43f),this['colorUMax']=new Float32Array(-0x1bb6+-0x1*0xff7+-0x748*-0x6),this['rotSpeedUM'+'ax']=[0x1c48+-0x3dc+0x209*-0xc],this['scaleUMax']=[-0x1*0x377+-0x4*0x2cd+0x2ef*0x5],this['alphaUMax']=[-0xb*-0x29c+-0xa70+-0x1244],this['radialSpee'+'dUMax']=[0x1067+-0x3da+-0x1*0xc8d],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x5c9f22=[-0x1815+-0x260e+-0x3e23*-0x1,-0xac6+-0x26ed+-0x31b3*-0x1,-0x7c*0x8+0x75*-0x4f+0x27fb];Xr(this['qVelocity'],_0x5c9f22);const _0x59c8b0=[-0x749+0x1*-0x239+0x982*0x1,0x2705+0x1c3f+-0x4344,-0x1*-0x249a+0x1*0x871+-0x2d0b];Xr(this['qVelocity2'],_0x59c8b0);const _0x4918f7=[0xddf+-0x1c9b+0xebc,-0x1ea6+0x1593+0x17*0x65,-0x9*0x17e+-0x242a+0x3198];Xr(this['qLocalVelo'+'city'],_0x4918f7);const _0x1df4b8=[0x1e*0x3e+-0x1*-0x1b2f+-0x2273,-0x1cd5+-0x33*-0x3f+0x4*0x412,0x1fbb+0x1c83*-0x1+-0x338];Xr(this['qLocalVelo'+'city2'],_0x1df4b8);const _0x4b3117=[0x27*0x3+0x17ec+0x1861*-0x1];Xr(this['qRadialSpe'+'ed'],_0x4b3117);const _0x5bec7d=[0x1c2c+0x1*-0x1483+-0x7a9];Xr(this['qRadialSpe'+'ed2'],_0x5bec7d);let _0x303230=Math['max'](_0x5c9f22[0x1*0x6b5+0x22f7+-0x29ac],_0x59c8b0[-0x1281+0x1e6d*-0x1+0x30ee]);_0x303230=Math['max'](_0x303230,_0x5c9f22[0x7*-0x61+0x5*0x254+0xa*-0xe6]),_0x303230=Math['max'](_0x303230,_0x59c8b0[0x1*0x18de+0x1327+-0x2c04]),_0x303230=Math['max'](_0x303230,_0x5c9f22[-0x195a+0x1*0x1daa+0x1*-0x44e]),_0x303230=Math['max'](_0x303230,_0x59c8b0[-0x142e+0x20f0+-0xcc0]);let _0x5ecde1=Math['max'](_0x4918f7[-0x1c98+-0xc1f+0x5d1*0x7],_0x1df4b8[-0x137e+0x35*-0x3b+0x1fb5]);_0x5ecde1=Math['max'](_0x5ecde1,_0x4918f7[-0xe59*-0x1+-0x1c90+0xe38]),_0x5ecde1=Math['max'](_0x5ecde1,_0x1df4b8[-0x830+0x2320+-0x1aef]),_0x5ecde1=Math['max'](_0x5ecde1,_0x4918f7[-0xde6+0x15df+-0x7f7]),_0x5ecde1=Math['max'](_0x5ecde1,_0x1df4b8[0xffd+0x1*0x73b+-0x1736]);const _0xc374ec=Math['max'](_0x4b3117[-0x1cb8+0x5*-0x153+-0x53*-0x6d],_0x5bec7d[-0x2*0x122e+-0x1286+0x36e2]);this['maxVel']=_0x303230+_0x5ecde1+_0xc374ec;}this['useCpu']||(this['internalTe'+'x0']=xs(_0xad332f,_0x46b332,0x19d2+0x1*0x1f83+-0x131c*0x3,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0xad332f,_0x46b332,0x251b+-0x2487+-0x93,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0xad332f,_0x46b332,-0x243*0xe+-0xfeb+0x2*0x17cb,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0xad332f,_0x46b332,-0x1bcb*-0x1+0x1c6e+-0x3838,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0xad332f,_0x46b332,-0x1105+-0x2bf*0x4+-0xf*-0x1de,vA(this['qColor'],this['qAlpha']),_s,-0x1f21+0x1d75+0x1ad,!(-0xfbc+0xc1*-0xb+-0x1807*-0x1));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x3bd24c=new SA(this);return _0x3bd24c['name']='EmitterMat'+'erial:'+this['node']['name'],_0x3bd24c['cull']=bt,_0x3bd24c['alphaWrite']=!(-0x12c4+-0x174+0x1439),_0x3bd24c['blendType']=this['blendType'],_0x3bd24c['depthWrite']=this['depthWrite'],_0x3bd24c;}['resetMater'+'ial'](){const _0x3ad8ac=this['material'];_0x3ad8ac['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x3ad8ac['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x3ad8ac['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x3ad8ac['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x3ad8ac['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x3ad8ac['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x3ad8ac['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x3ad8ac['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x3ad8ac['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x3ad8ac['setParamet'+'er']('colorParam',this['colorParam']),_0x3ad8ac['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x3ad8ac['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x3ad8ac['setParamet'+'er']('lifetime',this['lifetime']),_0x3ad8ac['setParamet'+'er']('rate',this['rate']),_0x3ad8ac['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x3ad8ac['setParamet'+'er']('seed',this['seed']),_0x3ad8ac['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x941*0x2+-0xd0c+-0x576]),_0x3ad8ac['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x2ce*0x2+0x957+-0x2b*0x59]),_0x3ad8ac['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x1741*-0x1+-0x1f32+0x7f1]),_0x3ad8ac['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x3ad8ac['setParamet'+'er']('graphSampl'+'eSize',(-0x1f69+0x808*0x4+0xe*-0xd)/this['precision']),_0x3ad8ac['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x2eb+-0x2383+0x2099,-0x201+0x1*0x1823+-0x1621,-0x593*0x5+-0x1f1d+0x3afd])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x3ad8ac['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x3ad8ac['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x3ad8ac['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0xee*0x19+-0x12cb+0x43*-0x11]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x9a3*-0x1+-0x2401+0x1a5f]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1c4f+0xa82+-0x26cf]=this['wrapBounds']['z'],_0x3ad8ac['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0xde8+-0x8e9+0x16d1&&_0x3ad8ac['setParamet'+'er']('softening',(-0x5fa+-0x21c8+0x46b*0x9)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x143*-0x1+-0x1eb2+-0x7*-0x49f))),this['stretch']>-0x1ac8+0x14*0xdf+0x95c&&(_0x3ad8ac['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x31a3c4,_0x4e7c93;if(this['orientatio'+'n']===yh)_0x31a3c4=new Float32Array([-0x34a*-0x7+-0x5*0xc+-0x1*0x16c9,-0x11dd*-0x1+0x2087+-0x285*0x14,0x105f+0x1*-0xbcf+-0x490]),_0x4e7c93=new Float32Array([0x234e+0x1bcc+0x1*-0x3f1a,-0x1e4c+-0x124c+-0x4dc*-0xa,0xffa+-0xbff+-0x3fa*0x1]);else{let _0x2b6069;this['orientatio'+'n']===Vw?_0x2b6069=this['particleNo'+'rmal']['normalize']():_0x2b6069=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x40c207=new D(-0x7+-0x46*-0x8b+-0x25fa,0xe9*0x16+0x2363*0x1+-0x3769,-0x167*0x1a+0x86d+-0x1c09*-0x1);Math['abs'](_0x40c207['dot'](_0x2b6069))===-0x1430+-0x55*0x17+0x1bd4&&_0x40c207['set'](-0x1048+-0x354+0x139c,0x2649+-0x739+-0x1f10,0x24f2+0x14a2+-0x121*0x33);const _0x11c17b=new D()['cross'](_0x2b6069,_0x40c207)['normalize']();_0x40c207['cross'](_0x11c17b,_0x2b6069)['normalize'](),_0x31a3c4=new Float32Array([_0x40c207['x'],_0x40c207['y'],_0x40c207['z']]),_0x4e7c93=new Float32Array([_0x11c17b['x'],_0x11c17b['y'],_0x11c17b['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x31a3c4),this['material']['setParamet'+'er']('faceBinorm',_0x4e7c93);}['getVertexI'+'nfo'](){const _0x20094f=[];return this['useCpu']?_0x20094f['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x13de*0x1+-0xd6e+0x1*-0x66c:0x8db*0x1+0x6*0x1c9+-0x138f,'type':Ve}):(_0x20094f['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x20094f['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x20094f;}['_allocate'](_0x2143fa){const _0x441a9a=_0x2143fa*this['numParticl'+'eVerts'],_0x5d40d7=_0x2143fa*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x3*-0xcea+0x373*-0x5+-0x157f)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x441a9a){const _0x54bc19=this['getVertexI'+'nfo'](),_0x16725d=new kt(this['graphicsDe'+'vice'],_0x54bc19);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x16725d,_0x441a9a,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x5d40d7);const _0x2563d3=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x136e99,_0x1234f2,_0x211049;if(this['useMesh']){_0x136e99=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x1234f2=_0x136e99['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3a59bb=0xdfa+0xb44*-0x2+-0xf*-0x92;_0x3a59bb<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x3a59bb++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3a59bb]['name']===is){_0x211049=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3a59bb]['offset']/(0x3*0x34+-0x386*0x6+0x148c);break;}}for(let _0x1d75e0=-0xc5b*-0x3+-0x1*0xa15+-0x1afc;_0x1d75e0<_0x441a9a;_0x1d75e0++){const _0x4d192f=Math['floor'](_0x1d75e0/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x471682=_0x1d75e0%this['numParticl'+'eVerts'];_0x2563d3[_0x1d75e0*(-0x2*-0x15a+-0x4*0x641+0x1656)]=_0x136e99[_0x471682*_0x1234f2],_0x2563d3[_0x1d75e0*(-0xe0*-0xb+0x1*-0xa03+0x69)+(0x188e+-0xc1*0x21+0xc*0x7)]=_0x136e99[_0x471682*_0x1234f2+(0x235b+0xf6*0x23+-0x44fc)],_0x2563d3[_0x1d75e0*(0x24fb*-0x1+-0x4e6+0x29e7)+(-0x300+-0x932*-0x4+-0x21c6)]=_0x136e99[_0x471682*_0x1234f2+(-0x5*0x3e7+0xdcb+0x1*0x5ba)],_0x2563d3[_0x1d75e0*(-0x184c+-0x246e+-0xf3*-0x40)+(0x22*0xad+0x3*-0x96f+0x2*0x2ab)]=_0x4d192f,_0x2563d3[_0x1d75e0*(0x8f7+0x238*-0xf+0x1857)+(0x1*-0x419+0x2122+-0x1d05)]=_0x136e99[_0x471682*_0x1234f2+_0x211049+(-0x992+0xd49*-0x2+0x9*0x404)],_0x2563d3[_0x1d75e0*(-0xd8b+-0xd6d+0x1afe)+(-0xdfd+0x69d+-0x1*-0x765)]=-0x108+-0xca6*-0x3+-0xb*0x35b-_0x136e99[_0x471682*_0x1234f2+_0x211049+(0x35*-0x77+0x1c7c*-0x1+-0x4*-0xd48)];}else{const _0x6c73d7=_0x1d75e0%(0x6b*0x1+0x8e4+-0x94b);_0x2563d3[_0x1d75e0*(0x1853*-0x1+0x232b*-0x1+0x6*0x9eb)]=ig[_0x6c73d7][-0x7cd*0x1+-0x166*0x12+0x16f*0x17],_0x2563d3[_0x1d75e0*(0x5*-0x65+0xe8b*0x2+0x3df*-0x7)+(0xdb*0xf+0x7*0x479+-0x2c23)]=ig[_0x6c73d7][0x1bf3+-0x1*-0xbce+0x1*-0x27c0],_0x2563d3[_0x1d75e0*(0x27e*0xd+-0x1d*0xd1+-0x8b5)+(-0x1caa+0x1*-0x116b+0x9*0x51f)]=-0x1706+-0x23eb+0x3af1,_0x2563d3[_0x1d75e0*(-0x20b8+0x20f4+-0x38)+(0x1*0x43f+-0x3*-0xb2b+0x25bd*-0x1)]=_0x4d192f;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x2563d3),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x48916c=0x1*0xef+0x2241+0x10*-0x233;const _0x925f29=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x595e7f=this['mesh']['indexBuffe'+'r'][0x2*0x125+-0x1d80+0x1b36];_0x136e99=new Sh[_0x595e7f['format']](_0x595e7f['lock']());}for(let _0x4ab9f5=-0x2605*0x1+0x2f*0x2+0x237*0x11;_0x4ab9f5<_0x2143fa;_0x4ab9f5++)if(this['useMesh']){for(let _0x54cfbb=-0x93b+-0xdf7+-0x1732*-0x1;_0x54cfbb<this['numParticl'+'eIndices'];_0x54cfbb++)_0x925f29[_0x4ab9f5*this['numParticl'+'eIndices']+_0x54cfbb]=_0x136e99[_0x54cfbb]+_0x4ab9f5*this['numParticl'+'eVerts'];}else{const _0xef6994=_0x4ab9f5*(-0x2390+0x7d2+0xb*0x286);_0x925f29[_0x48916c++]=_0xef6994,_0x925f29[_0x48916c++]=_0xef6994+(0x1f49*0x1+-0xe97+-0x10b1),_0x925f29[_0x48916c++]=_0xef6994+(-0xa7*0x13+0x9*0xa9+0x676),_0x925f29[_0x48916c++]=_0xef6994,_0x925f29[_0x48916c++]=_0xef6994+(0x2399+0x6e7+0x25*-0x126),_0x925f29[_0x48916c++]=_0xef6994+(-0x5*-0x2ba+-0x26ac+0x190d);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x7f6+-0x16c0+0x1eb6]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x71b*0x3+-0x70a+0x1c5b),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x2efce5=0x2616+-0x142+-0x24d4;_0x2efce5<this['particleTe'+'xStart']['length'];_0x2efce5++)this['particleTe'+'x'][_0x2efce5]=this['particleTe'+'xStart'][_0x2efce5];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x3316d7=this['loop'];this['loop']=!(-0x61*-0x12+0x1*0x24cd+-0x2b9f),this['addTime'](-0x20*0x121+-0xa6d+0x2e8d*0x1,!(-0xdd*-0x17+0x2018*-0x1+-0xc3e*-0x1)),this['loop']=_0x3316d7,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x518ae5){const _0x264464=_0x518ae5/this['lifetime'],_0x34ffd4=Math['min'](Math['floor'](_0x264464*this['precision']),this['precision']),_0x29c095=_0x518ae5/_0x34ffd4;for(let _0x57477c=0x233c+0x7b5+-0x2af1;_0x57477c<_0x34ffd4;_0x57477c++)this['addTime'](_0x29c095,!(0xc6d+0xa*0x3db+-0x32fa));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x90d6f4,_0x29c4fb){const _0x3a83e7=this['graphicsDe'+'vice'],_0x51b028=de();if(this['simTimeTot'+'al']+=_0x90d6f4,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x53f324=this['animTilesP'+'arams'];_0x53f324[0x148+0x1a6*0x5+-0x1*0x986]=(0x269a+-0x1498+-0x1a3*0xb)/this['animTilesX'],_0x53f324[-0x3*-0x401+-0x24cc+0x18ca]=(0x168f+-0xe4f+-0x83f)/this['animTilesY'];const _0x539aba=this['animParams'];_0x539aba[-0xb6b+0x249b*0x1+-0x193*0x10]=this['animStartF'+'rame'],_0x539aba[0x2*-0x65f+-0x15fe+-0x22bd*-0x1]=this['animNumFra'+'mes']*this['animSpeed'],_0x539aba[-0x1bf5+-0x13c0+0x2fb7]=this['animNumFra'+'mes']-(-0x270b*-0x1+0xfde+-0x36e8),_0x539aba[-0x2*-0x60c+-0x956+-0x1*0x2bf]=this['animNumAni'+'mations']-(0x19e3+0x17cb+-0x31ad);const _0x123ef1=this['animIndexP'+'arams'];_0x123ef1[0x36*0xb0+-0x1*-0x1eaf+-0x43cf*0x1]=this['animIndex'],_0x123ef1[-0x132c*-0x1+0xb2*-0xe+-0x96f]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x1048+0x2f3+0xd55]=this['emitterExt'+'ents']['x']!==-0x2202+0x484+-0x5*-0x5e6?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x2*-0x335+-0x8a1*0x2+0xf*0x194,Ai[0x8dd*0x2+-0x11b*0x7+-0x9fc]=this['emitterExt'+'ents']['y']!==-0xae7*-0x1+0x1e87+-0x296e?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x269b+-0x643+-0x166f*-0x2,Ai[-0x36+-0xa79+0xab1]=this['emitterExt'+'ents']['z']!==0x1*-0x1c59+-0x39*0x69+0x33ba?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1*0x73+-0x4f*-0x7+-0x29c,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x2b13f5;const _0x57c12e=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x1593+-0xbc8+0x215b]=_0x57c12e['x'],this['emitterSca'+'leUniform'][0x1*0xd22+-0x9e*-0x1d+0x1f07*-0x1]=_0x57c12e['y'],this['emitterSca'+'leUniform'][0x1ca+-0x3*0x587+0xecd]=_0x57c12e['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x2b13f5=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x20fc*0x1+-0x10b2+0x31ae]=_0x2b13f5['x'],this['emitterPos'+'Uniform'][0x1810+-0x1f1*-0x7+-0x25a6]=_0x2b13f5['y'],this['emitterPos'+'Uniform'][-0x20d+0x12*0xc7+-0x1*0xbef]=_0x2b13f5['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x3a83e7,Ur,Ai,_0x90d6f4,_0x29c4fb);else{const _0x292b44=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x292b44,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x2b13f5,_0x90d6f4,_0x29c4fb);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0xcfd*-0x1+-0x77c+-0x8*0xb0)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x51b028;}['_destroyRe'+'sources'](){var _0x41c479,_0x5e5775,_0x400460,_0x103937,_0x1b760c,_0x5061c2,_0x55fb66,_0x7b3c01,_0xbb225b,_0x67dcf7,_0x56e8e9,_0x3b5e48;(_0x41c479=this['particleTe'+'xIN'])==null||_0x41c479['destroy'](),this['particleTe'+'xIN']=null,(_0x5e5775=this['particleTe'+'xOUT'])==null||_0x5e5775['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x400460=this['rtParticle'+'TexIN'])==null||_0x400460['destroy'](),this['rtParticle'+'TexIN']=null,(_0x103937=this['rtParticle'+'TexOUT'])==null||_0x103937['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x1b760c=this['internalTe'+'x0'])==null||_0x1b760c['destroy'](),this['internalTe'+'x0']=null,(_0x5061c2=this['internalTe'+'x1'])==null||_0x5061c2['destroy'](),this['internalTe'+'x1']=null,(_0x55fb66=this['internalTe'+'x2'])==null||_0x55fb66['destroy'](),this['internalTe'+'x2']=null,(_0x7b3c01=this['internalTe'+'x3'])==null||_0x7b3c01['destroy'](),this['internalTe'+'x3']=null,(_0xbb225b=this['colorParam'])==null||_0xbb225b['destroy'](),this['colorParam']=null,(_0x67dcf7=this['vertexBuff'+'er'])==null||_0x67dcf7['destroy'](),this['vertexBuff'+'er']=void(-0x3*0xce4+-0x1*0xd37+0x33e3),(_0x56e8e9=this['indexBuffe'+'r'])==null||_0x56e8e9['destroy'](),this['indexBuffe'+'r']=void(-0x2499+-0x6d6+0x1*0x2b6f),(_0x3b5e48=this['material'])==null||_0x3b5e48['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x323df){var _0x1581cc;const _0x3b1833=_0x323df['shaderDesc'],_0x771b7=_0x3b1833['vertexGLSL']?hi(_0x3b1833['vertexGLSL']):0x32*-0xae+0x129+-0xaf1*-0x3,_0x58997e=_0x3b1833['fragmentGL'+'SL']?hi(_0x3b1833['fragmentGL'+'SL']):-0x37*0x97+0x23de+-0x36d,_0x364e0f=_0x3b1833['vertexWGSL']?hi(_0x3b1833['vertexWGSL']):0x13c1+0x144b+0x1d2*-0x16,_0x24cd43=_0x3b1833['fragmentWG'+'SL']?hi(_0x3b1833['fragmentWG'+'SL']):0x3*0x201+0x287+-0x88a,_0x49387b=ya['definesHas'+'h'](_0x323df['defines']),_0xc85a67=((_0x1581cc=_0x323df['shaderChun'+'ks'])==null?void(-0x22df+0x15ca*0x1+0xd15):_0x1581cc['key'])??'';let _0x28fa42=_0x3b1833['uniqueName']+'_'+_0x49387b+'_'+_0x771b7+'_'+_0x58997e+'_'+_0x364e0f+'_'+_0x24cd43+'_'+_0xc85a67;return _0x323df['skin']&&(_0x28fa42+='_skin'),_0x323df['useInstanc'+'ing']&&(_0x28fa42+='_inst'),_0x323df['useMorphPo'+'sition']&&(_0x28fa42+='_morphp'),_0x323df['useMorphNo'+'rmal']&&(_0x28fa42+='_morphn'),_0x323df['useMorphTe'+'xtureBased'+'Int']&&(_0x28fa42+='_morphi'),_0x28fa42;}['createAttr'+'ibutesDefi'+'nition'](_0x321323,_0x910e19){const _0x9af65f=_0x910e19['shaderDesc']['attributes'],_0x3573ab=_0x9af65f?{..._0x9af65f}:void(-0x17d*-0x5+0x47f*-0x1+0x1a*-0x1d);_0x910e19['skin']&&(_0x3573ab['vertex_bon'+'eWeights']=gi,_0x3573ab['vertex_bon'+'eIndices']=us),(_0x910e19['useMorphPo'+'sition']||_0x910e19['useMorphNo'+'rmal'])&&(_0x3573ab['morph_vert'+'ex_id']=Ln),_0x321323['attributes']=_0x3573ab;}['createVert'+'exDefiniti'+'on'](_0x5a8290,_0xc047ab,_0x2ed37a,_0x276c1d){const _0x13ee81=_0xc047ab['shaderDesc'],_0x2e545d=new Map(_0x2ed37a);_0x2e545d['set']('transformI'+'nstancingV'+'S','');const _0x1f89c9=new Map(_0xc047ab['defines']);_0xc047ab['skin']&&_0x1f89c9['set']('SKIN',!(0x1a1a+0x2*0xe92+-0x373e)),_0xc047ab['useInstanc'+'ing']&&_0x1f89c9['set']('INSTANCING',!(-0x716*0x2+0xf5b+-0x12f)),(_0xc047ab['useMorphPo'+'sition']||_0xc047ab['useMorphNo'+'rmal'])&&(_0x1f89c9['set']('MORPHING',!(-0x176*0x11+-0x1e11+0x36e7)),_0xc047ab['useMorphTe'+'xtureBased'+'Int']&&_0x1f89c9['set']('MORPHING_I'+'NT',!(0xa*0x52+-0x188e+0x155a)),_0xc047ab['useMorphPo'+'sition']&&_0x1f89c9['set']('MORPHING_P'+'OSITION',!(0xad*-0x1a+-0x1*0x190f+0x2aa1)),_0xc047ab['useMorphNo'+'rmal']&&_0x1f89c9['set']('MORPHING_N'+'ORMAL',!(0x1edd+0x22*-0x67+-0x112f))),_0x5a8290['vertexCode']=_0x276c1d?_0x13ee81['vertexWGSL']:_0x13ee81['vertexGLSL'],_0x5a8290['vertexIncl'+'udes']=_0x2e545d,_0x5a8290['vertexDefi'+'nes']=_0x1f89c9;}['createFrag'+'mentDefini'+'tion'](_0x1d45fc,_0x531f52,_0x71cfb3,_0x418646){const _0x4d4c4f=_0x531f52['shaderDesc'],_0x5f1300=new Map(_0x71cfb3),_0x429e54=new Map(_0x531f52['defines']);_0x1d45fc['fragmentCo'+'de']=_0x418646?_0x4d4c4f['fragmentWG'+'SL']:_0x4d4c4f['fragmentGL'+'SL'],_0x1d45fc['fragmentIn'+'cludes']=_0x5f1300,_0x1d45fc['fragmentDe'+'fines']=_0x429e54;}['createShad'+'erDefiniti'+'on'](_0x3670db,_0x189a14){var _0x1694ec;const _0x55ff17=_0x189a14['shaderDesc'],_0x17e5ea=_0x3670db['isWebGPU']&&!!_0x55ff17['vertexWGSL']&&!!_0x55ff17['fragmentWG'+'SL']&&(((_0x1694ec=_0x189a14['shaderChun'+'ks'])==null?void(0x107*-0x15+-0x238d+0x1c9*0x20):_0x1694ec['useWGSL'])??!(-0xc68*0x3+0x26a*-0x2+0x2a0c)),_0x188bf9={'name':'ShaderMate'+'rial-'+_0x55ff17['uniqueName'],'shaderLanguage':_0x17e5ea?it:Fe,'fragmentOutputTypes':_0x55ff17['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x55ff17['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x55ff17['meshBindGr'+'oupFormat']},_0x47b2f0=_0x17e5ea?it:Fe,_0x3bd42c=bh['merge'](Pe['get'](_0x3670db,_0x47b2f0),_0x189a14['shaderChun'+'ks'][_0x47b2f0]);return this['createAttr'+'ibutesDefi'+'nition'](_0x188bf9,_0x189a14),this['createVert'+'exDefiniti'+'on'](_0x188bf9,_0x189a14,_0x3bd42c,_0x17e5ea),this['createFrag'+'mentDefini'+'tion'](_0x188bf9,_0x189a14,_0x3bd42c,_0x17e5ea),Jt['createDefi'+'nition'](_0x3670db,_0x188bf9);}}const MA=new PA();class Xn extends tr{constructor(_0x370791){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x370791;}set['shaderDesc'](_0x1a1627){if(this['_shaderDes'+'c']=void(0x2399*-0x1+-0x355*0x8+0x3e41*0x1),_0x1a1627&&(this['_shaderDes'+'c']={'uniqueName':_0x1a1627['uniqueName'],'attributes':_0x1a1627['attributes'],'fragmentOutputTypes':_0x1a1627['fragmentOu'+'tputTypes'],'vertexGLSL':_0x1a1627['vertexGLSL'],'fragmentGLSL':_0x1a1627['fragmentGL'+'SL'],'vertexWGSL':_0x1a1627['vertexWGSL'],'fragmentWGSL':_0x1a1627['fragmentWG'+'SL']},_0x1a1627['vertexCode']||_0x1a1627['fragmentCo'+'de']||_0x1a1627['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x1a1627['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x29f24e=_0x1a1627['shaderLang'+'uage']??Fe;_0x29f24e===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x1a1627['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x1a1627['fragmentCo'+'de']):_0x29f24e===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x1a1627['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x1a1627['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x4f901f){return super['copy'](_0x4f901f),this['shaderDesc']=_0x4f901f['shaderDesc'],this;}['getShaderV'+'ariant'](_0x4ccfbd){const {objDefs:_0x200bfb}=_0x4ccfbd,_0x23435c={'defines':$t['getCoreDef'+'ines'](this,_0x4ccfbd),'skin':(_0x200bfb&nl)!==0x3b1+0xc4*-0x19+0xf73,'useInstancing':(_0x200bfb&ol)!==0x16e4*-0x1+-0x25f7+0x3cdb,'useMorphPosition':(_0x200bfb&ll)!==0x1*-0x2445+-0xdd9+0x321e,'useMorphNormal':(_0x200bfb&cl)!==0x61*0x63+0x1*0xe5a+0x30d*-0x11,'useMorphTextureBasedInt':(_0x200bfb&hl)!==-0x19*-0x107+-0x4cc+-0x1*0x14e3,'pass':_0x4ccfbd['pass'],'gamma':_0x4ccfbd['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x4ccfbd['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x4ccfbd['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x28c3fc=new Ad(_0x4ccfbd['viewUnifor'+'mFormat'],_0x4ccfbd['viewBindGr'+'oupFormat'],_0x4ccfbd['vertexForm'+'at']),_0x234430=Hn(_0x4ccfbd['device']);return _0x234430['register']('shader-mat'+'erial',MA),_0x234430['getProgram']('shader-mat'+'erial',_0x23435c,_0x28c3fc,this['userId']);}}const Iv=(_0x234a03,_0x361f28)=>{const _0x2dd5ad=_0x361f28['length']/(-0x53*-0x34+-0x295*0x8+0xd*0x4b),_0x29a190=_0x234a03['length']/(-0x3*0x1f1+0x938+-0x362),_0x54f4f4=new D(),_0x4c7108=new D(),_0x51ae50=new D(),_0x326a30=new D(),_0x396c60=new D(),_0x2217af=new D(),_0x338899=[];for(let _0x27c13d=-0x1a*0xc+0xc28+-0xaf0;_0x27c13d<_0x234a03['length'];_0x27c13d++)_0x338899[_0x27c13d]=-0x103c*-0x2+-0x210e+0x19*0x6;for(let _0x435d0f=-0x1*-0x25b7+0x143*0xb+-0x3398;_0x435d0f<_0x2dd5ad;_0x435d0f++){const _0x5bd5d=_0x361f28[_0x435d0f*(-0x1902+0x2b*0xc9+-0x8be)],_0x1a9876=_0x361f28[_0x435d0f*(0x2702+0x8e+-0x278d)+(-0xc1b*0x1+0x1*-0xfb2+0x1bce)],_0x75418c=_0x361f28[_0x435d0f*(0x292+-0x556+0x2c7)+(0x1*0x1361+0x31*0x2a+-0x1b69)];_0x54f4f4['set'](_0x234a03[_0x5bd5d*(-0xd90+0x396*-0x3+0x1855)],_0x234a03[_0x5bd5d*(0x1fb6+-0x1602*0x1+-0x3*0x33b)+(-0x246d+0x5f2+-0x4*-0x79f)],_0x234a03[_0x5bd5d*(0x21d9*-0x1+-0x3fe+0x25da)+(-0xae5*0x2+0x1*-0x7b5+0x1d81)]),_0x4c7108['set'](_0x234a03[_0x1a9876*(0x10bf*0x1+0x401+-0x14bd)],_0x234a03[_0x1a9876*(-0xb9*0x35+0x113*-0x3+0x2989)+(0x6b*-0x22+-0x17e*0x1+0xfb5)],_0x234a03[_0x1a9876*(0x1*0x844+0x1*0x15be+-0x1dff*0x1)+(-0xe41+-0x134f*-0x1+-0x50c)]),_0x51ae50['set'](_0x234a03[_0x75418c*(0x1*0xbb7+-0x1*-0x11d8+-0x1d8c)],_0x234a03[_0x75418c*(0x1*0x13a5+-0x1669+-0x3*-0xed)+(-0x1d83+0x1229*0x2+-0x86*0xd)],_0x234a03[_0x75418c*(0xa1*0x26+0x227e+0x3a61*-0x1)+(-0x1c7b+0x8db+0x13a2)]),_0x326a30['sub2'](_0x4c7108,_0x54f4f4),_0x396c60['sub2'](_0x51ae50,_0x54f4f4),_0x2217af['cross'](_0x326a30,_0x396c60)['normalize'](),_0x338899[_0x5bd5d*(0xa4b+-0x9f*-0x1b+0x5*-0x569)]+=_0x2217af['x'],_0x338899[_0x5bd5d*(-0x97*-0x3b+-0x3ce+-0x1efc)+(-0x23a9+-0x9*-0x45+0x213d)]+=_0x2217af['y'],_0x338899[_0x5bd5d*(0x99*-0x3d+-0x151f+0x3997)+(0x19e8+0x16a2+-0x1844*0x2)]+=_0x2217af['z'],_0x338899[_0x1a9876*(-0x1*-0x16cf+-0x1a*-0xe4+-0x2df4)]+=_0x2217af['x'],_0x338899[_0x1a9876*(-0x2116+-0x1*0x50d+-0x13*-0x202)+(-0x1253+-0x43f*-0x7+-0xb65)]+=_0x2217af['y'],_0x338899[_0x1a9876*(-0x17db+0x762+0x107c)+(-0x1*-0x1523+-0x1c64+-0xd*-0x8f)]+=_0x2217af['z'],_0x338899[_0x75418c*(0x1683+0x1577+-0x1*0x2bf7)]+=_0x2217af['x'],_0x338899[_0x75418c*(-0x1*-0x12cc+-0x119*-0x21+0x92b*-0x6)+(-0x15a5+-0x2*0x193+0x18cc)]+=_0x2217af['y'],_0x338899[_0x75418c*(0x269b*-0x1+-0x13b4+0x3a52*0x1)+(0x16be+0x1*0x1f43+-0x259*0x17)]+=_0x2217af['z'];}for(let _0x44d53a=0x4bd+0x1*-0xe33+0x976;_0x44d53a<_0x29a190;_0x44d53a++){const _0x2fc9fe=_0x338899[_0x44d53a*(-0x8a1*-0x3+-0x7*-0x287+-0x1*0x2b91)],_0x1de5e8=_0x338899[_0x44d53a*(0x3*0x3f9+-0x1ab+-0xa3d)+(-0x24e2+0x12a5*-0x2+0x4a2d)],_0x3f9b65=_0x338899[_0x44d53a*(0x1c9e+0x37*0xad+-0x41c6)+(-0x1815+-0x1807*-0x1+0x10)],_0x352bb4=(-0x1182+-0x44*0x92+0x384b)/Math['sqrt'](_0x2fc9fe*_0x2fc9fe+_0x1de5e8*_0x1de5e8+_0x3f9b65*_0x3f9b65);_0x338899[_0x44d53a*(0x4b2*-0x8+0xc6a*-0x3+0xb3*0x6b)]*=_0x352bb4,_0x338899[_0x44d53a*(0x1393+0xe74+0x1*-0x2204)+(0x80d+0xf7f+0x1*-0x178b)]*=_0x352bb4,_0x338899[_0x44d53a*(0x531+0xc5f*0x2+0xa*-0x2fe)+(0x1d0b+0x12a3+0x153*-0x24)]*=_0x352bb4;}return _0x338899;},Mr=(_0x1197b8,_0x2cebff,_0x35a61a,_0x26ec48)=>{const _0x11d7fb=_0x26ec48['length']/(-0xd78*-0x1+-0x7*0xd3+-0x148*0x6),_0x6886f2=_0x1197b8['length']/(0x2*0x7fd+-0x21d0+0x11d9),_0x3e0669=new D(),_0x5689cb=new D(),_0xe41269=new D(),_0x302576=new J(),_0xa270fe=new J(),_0x5c3e26=new J(),_0x44dadc=new D(),_0x5e0e2c=new D(),_0x4691a4=new Float32Array(_0x6886f2*(-0x3*-0x5a4+0x144f+0xc68*-0x3)),_0x1a824f=new Float32Array(_0x6886f2*(0x32a+0x18f7+-0x1c1e)),_0x3384ed=[];for(let _0x2b643e=-0x125*-0x1d+0x222+0x2353*-0x1;_0x2b643e<_0x11d7fb;_0x2b643e++){const _0x33d9d5=_0x26ec48[_0x2b643e*(-0x228e+0x16ee+0x1*0xba3)],_0x420e47=_0x26ec48[_0x2b643e*(0x1764+0x183c*-0x1+-0x1*-0xdb)+(-0x1be1*0x1+0xc5b+0xf87)],_0x563a69=_0x26ec48[_0x2b643e*(-0x18ea+-0x15*-0x152+-0x2cd*0x1)+(-0x4a4+0xe33+-0x32f*0x3)];_0x3e0669['set'](_0x1197b8[_0x33d9d5*(0x52f*-0x2+0x2392+0x1*-0x1931)],_0x1197b8[_0x33d9d5*(-0x2*-0xb35+0x49+-0x1e4*0xc)+(-0x25*0x38+-0xb81+0x139a)],_0x1197b8[_0x33d9d5*(0x5e6+0x26aa+-0x2c8d)+(-0x1*-0x109d+-0x2361+0x12c6)]),_0x5689cb['set'](_0x1197b8[_0x420e47*(-0x1c24+-0x79d*0x3+0x32fe)],_0x1197b8[_0x420e47*(0xaf9+-0x2267+0x1771*0x1)+(0x20bf*-0x1+-0x6cb*0x2+-0x9*-0x526)],_0x1197b8[_0x420e47*(0x63e*0x3+-0x242*0x11+-0x13*-0x109)+(-0x2419*0x1+0x198a+0xa91)]),_0xe41269['set'](_0x1197b8[_0x563a69*(0x58e+-0x157c+-0x4d*-0x35)],_0x1197b8[_0x563a69*(0x174*0x3+0x21f5+-0x264e)+(0x1*0x1345+-0x1d47*0x1+0xa03)],_0x1197b8[_0x563a69*(0x1d10+0x1515+-0x3222)+(-0xce2+0x1*-0x4cb+0x11af)]),_0x302576['set'](_0x35a61a[_0x33d9d5*(-0x3*0xadf+-0x1*0xae7+0x2b86)],_0x35a61a[_0x33d9d5*(-0x21cb+0x202e+-0x5*-0x53)+(-0x1924+0x9a9+-0xf7c*-0x1)]),_0xa270fe['set'](_0x35a61a[_0x420e47*(0x7*0x329+0x1053*0x2+0x36c3*-0x1)],_0x35a61a[_0x420e47*(-0x221*0x8+0x15de+0xc*-0x67)+(-0x461*0x1+-0x1a9d+0x1eff)]),_0x5c3e26['set'](_0x35a61a[_0x563a69*(-0xd6c+0x469+0x905)],_0x35a61a[_0x563a69*(-0xc0*-0x2f+-0x121b+-0x1123)+(-0x1*0xfb3+-0x1*-0x972+0x642*0x1)]);const _0x3050d3=_0x5689cb['x']-_0x3e0669['x'],_0x3b16be=_0xe41269['x']-_0x3e0669['x'],_0x5eb8f2=_0x5689cb['y']-_0x3e0669['y'],_0x2c0d71=_0xe41269['y']-_0x3e0669['y'],_0xe2be47=_0x5689cb['z']-_0x3e0669['z'],_0x179ad7=_0xe41269['z']-_0x3e0669['z'],_0x2b26c3=_0xa270fe['x']-_0x302576['x'],_0x5c256a=_0x5c3e26['x']-_0x302576['x'],_0x390cdd=_0xa270fe['y']-_0x302576['y'],_0x23ae26=_0x5c3e26['y']-_0x302576['y'],_0xf1efae=_0x2b26c3*_0x23ae26-_0x5c256a*_0x390cdd;if(_0xf1efae===0x3*-0x7d3+0xd4*0x17+-0x67*-0xb)_0x44dadc['set'](-0x5f7+0x44b*0x7+0x1816*-0x1,0x38f*0x2+-0x9a5+0x288,0x9cb+0x113+-0xade),_0x5e0e2c['set'](-0x1*0x1041+-0x6*0x51b+-0x1772*-0x2,-0xbd2+-0x327*0x9+-0x1*-0x2831,-0x1*-0x2107+-0x44d*-0x1+-0x4*0x955);else{const _0x40e7c6=(0x2*0x26f+-0x88*-0x1f+-0x7f*0x2b)/_0xf1efae;_0x44dadc['set']((_0x23ae26*_0x3050d3-_0x390cdd*_0x3b16be)*_0x40e7c6,(_0x23ae26*_0x5eb8f2-_0x390cdd*_0x2c0d71)*_0x40e7c6,(_0x23ae26*_0xe2be47-_0x390cdd*_0x179ad7)*_0x40e7c6),_0x5e0e2c['set']((_0x2b26c3*_0x3b16be-_0x5c256a*_0x3050d3)*_0x40e7c6,(_0x2b26c3*_0x2c0d71-_0x5c256a*_0x5eb8f2)*_0x40e7c6,(_0x2b26c3*_0x179ad7-_0x5c256a*_0xe2be47)*_0x40e7c6);}_0x4691a4[_0x33d9d5*(-0x128e+-0x129d+-0x252e*-0x1)+(0x5cb+-0x1ce6+-0x41*-0x5b)]+=_0x44dadc['x'],_0x4691a4[_0x33d9d5*(0x131d+-0x152c*-0x1+-0x5*0x80e)+(-0x16b8*0x1+-0xf1*-0x19+0x1*-0xd0)]+=_0x44dadc['y'],_0x4691a4[_0x33d9d5*(-0xbd4+-0x6d*-0x40+-0xf69)+(0x4a6+-0x1baa*-0x1+-0x1*0x204e)]+=_0x44dadc['z'],_0x4691a4[_0x420e47*(-0x97+-0xfe0+-0x2bf*-0x6)+(-0x1f30*0x1+0xd7f+0x11b1)]+=_0x44dadc['x'],_0x4691a4[_0x420e47*(-0x1*-0x985+-0x8fd+-0x85*0x1)+(-0x15a*-0x1+0x9c7+-0xb20)]+=_0x44dadc['y'],_0x4691a4[_0x420e47*(-0x1*0x2637+0x1fb8+0x682)+(0x663+-0x15*-0x1cd+0x1619*-0x2)]+=_0x44dadc['z'],_0x4691a4[_0x563a69*(-0x3*-0x52f+0x18cd*-0x1+0x943)+(-0x887+0x13fc+-0x1a3*0x7)]+=_0x44dadc['x'],_0x4691a4[_0x563a69*(0x1*0x20ff+-0x1*-0x217b+-0x4277)+(0x7*-0x418+0x1c31+-0xa*-0xc)]+=_0x44dadc['y'],_0x4691a4[_0x563a69*(0x3e2+0x11aa+-0x95*0x25)+(0x6*-0x11d+-0x382*-0x2+-0x54)]+=_0x44dadc['z'],_0x1a824f[_0x33d9d5*(-0x5c3+-0xa7+0x149*0x5)+(0x1*-0x149+-0x7*-0x1d5+-0xb8a)]+=_0x5e0e2c['x'],_0x1a824f[_0x33d9d5*(-0x21*-0x4+-0x195b*-0x1+-0x52c*0x5)+(0x1*-0x2165+0x12ff*-0x1+0x3*0x1177)]+=_0x5e0e2c['y'],_0x1a824f[_0x33d9d5*(0x26b*-0xc+-0x1c1e+-0x1*-0x3925)+(0x6e9*0x5+0x2*-0xdf5+-0x6a1)]+=_0x5e0e2c['z'],_0x1a824f[_0x420e47*(-0x5*-0x139+0x6*0x115+-0x1a*0x7c)+(0x1*0x63+0x1*0xa96+-0xaf9)]+=_0x5e0e2c['x'],_0x1a824f[_0x420e47*(0x2651+-0x19*-0xb5+-0x11*0x34b)+(-0x1b7*0x12+-0x373*0x5+0x301e)]+=_0x5e0e2c['y'],_0x1a824f[_0x420e47*(0x20fb*0x1+-0x1f7d+0x1*-0x17b)+(-0x11*0x178+-0x2a+0x1*0x1924)]+=_0x5e0e2c['z'],_0x1a824f[_0x563a69*(-0x49*0x67+-0x1*0x1eb+0x1f4d*0x1)+(0x14c7+0x7ad+0x1*-0x1c74)]+=_0x5e0e2c['x'],_0x1a824f[_0x563a69*(0x2694+0x1557+0x3be8*-0x1)+(-0xcc5*0x3+-0x3fa*-0x3+0xb*0x266)]+=_0x5e0e2c['y'],_0x1a824f[_0x563a69*(-0x725*0x5+0x1b38+0x884)+(0x409*-0x5+-0x2617+0x2*0x1d23)]+=_0x5e0e2c['z'];}const _0x440335=new D(),_0x4b944d=new D(),_0x3ab13f=new D(),_0x3b8f70=new D();for(let _0x4e9250=-0xc63+-0x623*-0x6+-0x186f;_0x4e9250<_0x6886f2;_0x4e9250++){_0x3ab13f['set'](_0x2cebff[_0x4e9250*(0x73*0x23+-0x4ef+-0xac7)],_0x2cebff[_0x4e9250*(0x1884+0x1935+-0x31b6*0x1)+(-0x20e1*-0x1+0x1df6+-0x3ed6)],_0x2cebff[_0x4e9250*(0x1*-0x1c45+0x1c1d+0x2b)+(-0x23*0xef+0x1d3*-0x1+0x2282)]),_0x440335['set'](_0x4691a4[_0x4e9250*(0x2107+-0x1*0xd03+-0x1401)],_0x4691a4[_0x4e9250*(0x1*-0x1f05+-0x198b+0x3893)+(-0xc87+-0x20a5+0x2d*0x101)],_0x4691a4[_0x4e9250*(0xf47*-0x2+0xc79*-0x1+0x2b0a)+(-0xd7e+-0x9*0x41c+-0x59c*-0x9)]),_0x4b944d['set'](_0x1a824f[_0x4e9250*(-0x9a7*0x1+-0x1b04+0x24ae)],_0x1a824f[_0x4e9250*(-0xc9d+0x107d+0x1*-0x3dd)+(0x15e7+-0x7*0x2f+-0x149d)],_0x1a824f[_0x4e9250*(0x1e5+0xaa1+-0xc83)+(-0x22d3*-0x1+-0x4b*-0x6a+-0x41df)]);const _0x2da857=_0x3ab13f['dot'](_0x440335);_0x3b8f70['copy'](_0x3ab13f)['mulScalar'](_0x2da857),_0x3b8f70['sub2'](_0x440335,_0x3b8f70)['normalize'](),_0x3384ed[_0x4e9250*(-0x938+-0x4a0*-0x7+-0x1724)]=_0x3b8f70['x'],_0x3384ed[_0x4e9250*(-0x515*0x7+0xc81*0x3+0x3*-0xa4)+(-0x1711+-0x1115+0x2827)]=_0x3b8f70['y'],_0x3384ed[_0x4e9250*(-0x4aa*0x2+0x11e1+-0x889)+(-0x19cd+-0x1635+-0x1c*-0x1b7)]=_0x3b8f70['z'],_0x3b8f70['cross'](_0x3ab13f,_0x440335),_0x3384ed[_0x4e9250*(0x19bd*-0x1+0x245+-0x7d4*-0x3)+(-0x121f*-0x1+0x517*-0x5+0x757*0x1)]=_0x3b8f70['dot'](_0x4b944d)<-0x665+0x4*0x31a+-0x603?-(-0xaa8+0x113c+-0x693):-0x16da+-0xb9b+-0x1*-0x2276;}return _0x3384ed;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0x6f*0x46+-0x2023+0x3e81)/(0x26d8+-0x1e1*-0x1+-0x2879),hg=0x1ee0+0x61*0x65+-0x2*0x2292-pu*(-0x1205+-0x24bd+0x36c4);class mu extends Ta{constructor(_0x1b8d43={}){super();const _0x40ccd7=_0x1b8d43['halfExtent'+'s']??new D(0xb09+-0x6*-0x16c+-0x1391+0.5,-0xaf0+0x2a9*0x6+-0x506+0.5,0x18d5+-0x2*-0x72a+0x191*-0x19+0.5),_0x3dac3e=_0x1b8d43['widthSegme'+'nts']??0x1*-0xbbd+0x1a03*-0x1+0x1*0x25c1,_0x54827c=_0x1b8d43['lengthSegm'+'ents']??-0xae2+0xea9+-0x3c6,_0x4a327d=_0x1b8d43['heightSegm'+'ents']??-0x382*0x1+0x2*-0x74+0x46b,_0x133b6c=_0x1b8d43['yOffset']??-0xb*-0x4a+0xe3*0x2+-0x1*0x4f4,_0x218297=-_0x40ccd7['y']+_0x133b6c,_0x342a8b=_0x40ccd7['y']+_0x133b6c,_0x369e82=[new D(-_0x40ccd7['x'],_0x218297,_0x40ccd7['z']),new D(_0x40ccd7['x'],_0x218297,_0x40ccd7['z']),new D(_0x40ccd7['x'],_0x342a8b,_0x40ccd7['z']),new D(-_0x40ccd7['x'],_0x342a8b,_0x40ccd7['z']),new D(_0x40ccd7['x'],_0x218297,-_0x40ccd7['z']),new D(-_0x40ccd7['x'],_0x218297,-_0x40ccd7['z']),new D(-_0x40ccd7['x'],_0x342a8b,-_0x40ccd7['z']),new D(_0x40ccd7['x'],_0x342a8b,-_0x40ccd7['z'])],_0x3d9fd4=[[-0x1e3d*0x1+-0x35c+0x2199,0x247+0x1e51+-0x2097,0x1544*0x1+0xd85+0x1*-0x22c6],[0x1276+0xee7+0x1*-0x2159,-0x21d*-0x1+-0xa*-0x1dd+0x7*-0x2f6,0x2b3*0x1+0x2178+0x2424*-0x1],[-0x2*0x67e+-0x35b+-0xe*-0x12b,0x2*0x971+0xa46+0xe*-0x215,0x4*0x5d9+0x2437+-0x3b95],[0x2514+0x110e+-0x120b*0x3,0x400+0x26bc+0xaaf*-0x4,0x1a4a+0xd96+-0x1*0x27dc],[0x16c*0xb+-0x5*0x131+-0x9ae,0x451+-0x1e06+0x19b9,-0x1fd5+-0x389*0x6+0x350d],[-0x97c+-0xfac*0x1+0x192d*0x1,-0xc*0x2df+0x18f*-0x7+0x2d5d,0x5*0x2ef+-0xb2*0x34+0x1583*0x1]],_0x2a2c80=[[-0x3c1*0x1+-0x1c1c+0x1fdd,-0x333+-0x24a8+0x27db,-0x1da2+0x83e+0x1*0x1565],[-0x1c5c+0x35*0x9f+-0x48f,-0x1*0x1ac6+0x18ad+0x219,-(-0x2353+-0xcb8+0x401*0xc)],[-0x1f04+0x1*0x1985+-0x1*-0x57f,0x12e9+-0x83*-0x3d+-0x321f,-0xee5+-0x11a5+0x208a],[-0x177c+0x2020+0x7*-0x13c,-(0x1a3b+-0x27+-0x1a13),0x120*0x8+0x4fb+-0xdfb],[0x35*-0xd+0x26d0+0x86*-0x45,-0x25*-0xa7+0x17ee+0x1*-0x3011,0x1*0xf49+0x2363*0x1+0x5e*-0x8a],[-(-0x11e8+-0x1629+0x2812),0x6d8+0x3*-0x8c6+0x137a,-0x22cd+-0x1f15+0x41e2]],_0x4a1ba1={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x863b7a=[],_0x418784=[],_0x265e40=[],_0x267d57=[];let _0x3ee1de=-0x54d+-0x1*-0x80b+0x1*-0x2be;const _0x235a60=(_0xa13f1,_0x26e176,_0x196cba)=>{const _0x2b31e0=new D(),_0x1bfd8c=new D(),_0x1aba0f=new D(),_0x2b844d=new D();for(let _0x2d38dd=-0x9*-0x167+-0x1d5c+0x10bd;_0x2d38dd<=_0x26e176;_0x2d38dd++)for(let _0x49cc5c=-0x10e4+0x109*-0x7+0x1823;_0x49cc5c<=_0x196cba;_0x49cc5c++){_0x2b31e0['lerp'](_0x369e82[_0x3d9fd4[_0xa13f1][0x1f*-0xd+0x10*-0x1bb+0x1d43]],_0x369e82[_0x3d9fd4[_0xa13f1][0x1*-0xc82+0x1*-0x23bb+0x303e]],_0x2d38dd/_0x26e176),_0x1bfd8c['lerp'](_0x369e82[_0x3d9fd4[_0xa13f1][-0x3b*-0x5d+-0x1*-0x13ed+-0x295c]],_0x369e82[_0x3d9fd4[_0xa13f1][0x265d+-0x754+-0x1f07]],_0x49cc5c/_0x196cba),_0x1aba0f['sub2'](_0x1bfd8c,_0x369e82[_0x3d9fd4[_0xa13f1][0x14f9+-0x2f*0x9+0x1*-0x1352]]),_0x2b844d['add2'](_0x2b31e0,_0x1aba0f);let _0x3c8ef2=_0x2d38dd/_0x26e176,_0x5334a0=_0x49cc5c/_0x196cba;_0x863b7a['push'](_0x2b844d['x'],_0x2b844d['y'],_0x2b844d['z']),_0x418784['push'](_0x2a2c80[_0xa13f1][0x19f7+-0x3*0xa51+-0x27e*-0x2],_0x2a2c80[_0xa13f1][-0x25e3+-0x133c+0x3920],_0x2a2c80[_0xa13f1][0x140b+0x1e7*-0x11+0xc4e]),_0x265e40['push'](_0x3c8ef2,-0x3*-0xcdb+-0x9a9+-0x1ce7-_0x5334a0),_0x3c8ef2=_0x3c8ef2*hg+pu,_0x5334a0=_0x5334a0*hg+pu,_0x3c8ef2/=-0x23af+-0x2346+0x3*0x17a8,_0x5334a0/=0x16+-0xe37*0x2+0x1c5b,_0x3c8ef2+=_0xa13f1%(0x3a*-0x70+0xe7c+0xae7*0x1)/(0xb91+-0x99f+-0x9*0x37),_0x5334a0+=Math['floor'](_0xa13f1/(0x2*-0x1fe+0x4*0x30e+-0x839))/(-0x7b*0x43+-0xc8e+0x2cc2*0x1),_0x2d38dd<_0x26e176&&_0x49cc5c<_0x196cba&&(_0x267d57['push'](_0x3ee1de+_0x196cba+(0x98f*0x1+0x19d+-0xb2b),_0x3ee1de+(-0xee5+-0x305*0x2+0x14f0),_0x3ee1de),_0x267d57['push'](_0x3ee1de+_0x196cba+(0x2058+-0x1216*0x1+-0xe41),_0x3ee1de+_0x196cba+(-0x8ca+0x25a*-0x7+-0x1942*-0x1),_0x3ee1de+(-0xb5e+-0x1*0x24ac+0xfb*0x31))),_0x3ee1de++;}};_0x235a60(_0x4a1ba1['FRONT'],_0x3dac3e,_0x4a327d),_0x235a60(_0x4a1ba1['BACK'],_0x3dac3e,_0x4a327d),_0x235a60(_0x4a1ba1['TOP'],_0x3dac3e,_0x54827c),_0x235a60(_0x4a1ba1['BOTTOM'],_0x3dac3e,_0x54827c),_0x235a60(_0x4a1ba1['RIGHT'],_0x54827c,_0x4a327d),_0x235a60(_0x4a1ba1['LEFT'],_0x54827c,_0x4a327d),this['positions']=_0x863b7a,this['normals']=_0x418784,this['uvs']=_0x265e40,this['uvs1']=_0x265e40,this['indices']=_0x267d57,_0x1b8d43['calculateT'+'angents']&&(this['tangents']=Mr(_0x863b7a,_0x418784,_0x265e40,_0x267d57));}}class _m extends Ta{constructor(_0x186f77={}){super();const _0x13657f=_0x186f77['radius']??0x18f*-0x15+0x4*0x901+-0x349+0.5,_0x547dcb=_0x186f77['latitudeBa'+'nds']??0x60e+-0xe59+0x85b,_0xe91210=_0x186f77['longitudeB'+'ands']??0x11d*-0x1+0x1ece+-0x1*0x1da1,_0x18d2e9=[],_0x402905=[],_0x1d0ae5=[],_0x41eb79=[];for(let _0x65bc6=0x2381+-0x409*0x3+-0x1766;_0x65bc6<=_0x547dcb;_0x65bc6++){const _0x52486f=_0x65bc6*Math['PI']/_0x547dcb,_0x4f4ac5=Math['sin'](_0x52486f),_0x122bf4=Math['cos'](_0x52486f);for(let _0x24ef0b=0x154d+0x5*0x18b+-0x1d04;_0x24ef0b<=_0xe91210;_0x24ef0b++){const _0x3ecb40=_0x24ef0b*(-0x175d+-0xd*-0x7d+0x1106)*Math['PI']/_0xe91210-Math['PI']/(0x1271+0x38f*-0x7+0x67a),_0xe8e30f=Math['sin'](_0x3ecb40),_0x22ad29=Math['cos'](_0x3ecb40)*_0x4f4ac5,_0x391582=_0x122bf4,_0x2d5cd3=_0xe8e30f*_0x4f4ac5,_0x3f671c=-0x7*0x2fb+-0x1fa7+0x5*0xa81-_0x24ef0b/_0xe91210,_0x3bbed1=-0x1400+-0x3b*-0x43+0x92*0x8-_0x65bc6/_0x547dcb;_0x18d2e9['push'](_0x22ad29*_0x13657f,_0x391582*_0x13657f,_0x2d5cd3*_0x13657f),_0x402905['push'](_0x22ad29,_0x391582,_0x2d5cd3),_0x1d0ae5['push'](_0x3f671c,-0xa9*0x20+0x6c*-0x3d+-0x535*-0x9-_0x3bbed1);}}for(let _0xc98356=0x1008+0x905*-0x4+0x4*0x503;_0xc98356<_0x547dcb;++_0xc98356)for(let _0x5da20f=0x10*-0x18b+0x790+0x1120;_0x5da20f<_0xe91210;++_0x5da20f){const _0x1ba6ab=_0xc98356*(_0xe91210+(-0x822+-0x204d*0x1+0x1*0x2870))+_0x5da20f,_0x26a0a3=_0x1ba6ab+_0xe91210+(-0x9*-0x40e+-0x5ba*-0x2+0x1*-0x2ff1);_0x41eb79['push'](_0x1ba6ab+(-0x3a*-0x8f+-0x2600+0x59b),_0x26a0a3,_0x1ba6ab),_0x41eb79['push'](_0x1ba6ab+(-0x24ec+0x20fe+0x1*0x3ef),_0x26a0a3+(0x1a*0xa5+0x9c7+-0x1a88),_0x26a0a3);}this['positions']=_0x18d2e9,this['normals']=_0x402905,this['uvs']=_0x1d0ae5,this['uvs1']=_0x1d0ae5,this['indices']=_0x41eb79,_0x186f77['calculateT'+'angents']&&(this['tangents']=Mr(_0x18d2e9,_0x402905,_0x1d0ae5,_0x41eb79));}}class DA extends _m{constructor(_0x4ecdc8={}){const _0x5ded63=_0x4ecdc8['latitudeBa'+'nds']??-0x149b+0x2619+-0x8b7*0x2,_0x1936b6=_0x4ecdc8['longitudeB'+'ands']??0x2*-0x10a3+-0x195+0x22eb;super({'radius':0.5,'latitudeBands':_0x5ded63,'longitudeBands':_0x1936b6});const _0x4f9b0c=0x2*0x12d1+0x1668+-0x3c0a+0.1,_0x26eb16=-0x123*0x14+-0x1*-0x15a9+-0x1*-0x113+0.95,_0x427ad8=_0x26eb16*_0x26eb16,_0x1ca136=this['positions'];for(let _0x161536=0x49*0x47+-0x1f61+0x32*0x39;_0x161536<_0x1ca136['length'];_0x161536+=-0x151*-0xe+0x41*0x19+-0x18c4){const _0x522046=_0x1ca136[_0x161536]/(0xbd5*-0x3+0x1311+0x106e+0.5);let _0x26eb6d=_0x1ca136[_0x161536+(-0x12fd+-0x20b*-0x9+0x9b)]/(0x1d86*-0x1+-0x7*-0x38d+0x4ab+0.5);const _0x186773=_0x1ca136[_0x161536+(0x7a*-0x8+0x12d6+-0xf04)]/(0x8a1+-0xa6*-0x27+-0x21eb+0.5);_0x26eb6d<0x1*0x1aed+0x2f*-0xa3+0x8*0x60&&(_0x26eb6d*=0x1256+0x23*-0x107+0x119f+0.3,_0x522046*_0x522046+_0x186773*_0x186773<_0x427ad8&&(_0x26eb6d=-_0x4f9b0c)),_0x26eb6d+=_0x4f9b0c,_0x26eb6d*=-0x7b0+-0x1*-0x1fcd+-0x181d+0.5,_0x1ca136[_0x161536+(-0x1*-0x12d1+-0x2162+0xe92)]=_0x26eb6d;}}}class zo{static['create'](_0x3bdc47,_0x4e1673){switch(_0x4e1673){case Qw:return zo['box'](_0x3bdc47);case Jw:return zo['dome'](_0x3bdc47);}return w['assert'](_0x4e1673===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4e1673),zo['infinite'](_0x3bdc47);}static['infinite'](_0xd94935){return Ge['fromGeomet'+'ry'](_0xd94935,new mu(_0xd94935));}static['box'](_0x2d4a06){return Ge['fromGeomet'+'ry'](_0x2d4a06,new mu({'yOffset':0.5}));}static['dome'](_0x4f5ab1){const _0x4ce0a9=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4ce0a9['normals']=void(-0x260b+-0x11a8+0x61*0x93),_0x4ce0a9['uvs']=void(-0x134*0x1+0x1*-0x26d2+0x2806),Ge['fromGeomet'+'ry'](_0x4f5ab1,_0x4ce0a9);}}class IA{constructor(_0x285bcf,_0x2e02bd,_0x1c7456,_0x1a7ac3,_0x474c9){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(-0x1aeb+-0x97f*0x1+0x246b));const _0x491658=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x285bcf,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x285bcf,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x285bcf,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x285bcf,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x491658['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x1a7ac3['encoding'])),_0x474c9!==Bo&&_0x491658['setDefine']('SKYMESH',''),_0x1a7ac3['cubemap']&&_0x491658['setDefine']('SKY_CUBEMA'+'P',''),_0x491658['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2e02bd['skyboxHigh'+'lightMulti'+'plier']),_0x1a7ac3['cubemap']?_0x491658['setParamet'+'er']('texture_cu'+'beMap',_0x1a7ac3):(_0x491658['setParamet'+'er']('texture_en'+'vAtlas',_0x1a7ac3),_0x491658['setParamet'+'er']('mipLevel',_0x2e02bd['skyboxMip'])),_0x491658['cull']=Fo,_0x491658['depthWrite']=this['_depthWrit'+'e'];const _0x4ec232=_0x2e02bd['layers']['getLayerBy'+'Id'](Kp);if(_0x4ec232){const _0x4eea76=zo['create'](_0x285bcf,_0x474c9),_0x169dfc=new He(_0x4eea76,_0x491658,_0x1c7456);this['meshInstan'+'ce']=_0x169dfc,_0x169dfc['cull']=!(0x24*0x10+0x20c6+0x37*-0xa3),_0x169dfc['pick']=!(-0x17b*0x9+0x33*0x60+-0x5cc),_0x4ec232['addMeshIns'+'tances']([_0x169dfc]),this['skyLayer']=_0x4ec232;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x4da448){this['_depthWrit'+'e']=_0x4da448,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x4da448);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x4b6d21){h(this,'_type',Bo),h(this,'_center',new D(-0x18d*0x1+0x1c21+0x1a94*-0x1,0x422+-0x1c4c+0x182b,-0x5db+0x1*0x138f+-0xdb4)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x1*0xa57+-0xd99*0x2+0x10dc)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x4b6d21['device'],this['scene']=_0x4b6d21,this['center']=new D(0x234e+-0x3e1+-0x1f6d,0x16cf+-0x7*0x281+-0x547,-0x1bb*-0x3+-0x1*0x1195+0xc64),this['centerArra'+'y']=new Float32Array(-0x24e+0xd03+-0xab2),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x2553b8){this['type']=_0x2553b8['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x2553b8['skyMeshPos'+'ition']??[0x2028+-0x3e*0x55+-0x2*0x5c9,0x14e9+-0x3c9*0x3+-0x1*0x98e,0x98b*-0x2+0x6bf+0xc57])),this['node']['setLocalEu'+'lerAngles'](new D(_0x2553b8['skyMeshRot'+'ation']??[0x1*0x10ca+0x170+0x123a*-0x1,-0x126f+0x158a*0x1+-0x31b,-0x144c+-0x83*0x3d+0x3383])),this['node']['setLocalSc'+'ale'](new D(_0x2553b8['skyMeshSca'+'le']??[0x39c*0x5+-0x2f3+0x17*-0xa8,-0x7*0x192+-0x783*0x5+0x308e,0x1518+-0x32d+-0x2*0x8f5])),_0x2553b8['skyCenter']&&(this['_center']=new D(_0x2553b8['skyCenter']));}set['type'](_0x2f466f){this['_type']!==_0x2f466f&&(this['_type']=_0x2f466f,this['scene']['updateShad'+'ers']=!(0x1f0f+-0x3e2*-0x2+-0x26d3),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0xed75c0){this['_center']['copy'](_0xed75c0);}get['center'](){return this['_center'];}set['depthWrite'](_0x542b20){this['_depthWrit'+'e']!==_0x542b20&&(this['_depthWrit'+'e']=_0x542b20,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x542b20));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x50b785=this['scene']['_getSkybox'+'Tex']();_0x50b785&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x50b785,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x50b785));}['resetSkyMe'+'sh'](){var _0x332fcc;(_0x332fcc=this['skyMesh'])==null||_0x332fcc['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0xec9dd9,centerArray:_0x35cd4d}=this,_0x219a61=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0xec9dd9,_0x219a61),_0x35cd4d[0x203*-0x4+-0x2590+0x2d9c]=_0x219a61['x'],_0x35cd4d[0x1f3d+0x10*0x1f5+-0x1f46*0x2]=_0x219a61['y'],_0x35cd4d[0x17fa+-0x3*0x293+-0x103f]=_0x219a61['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x35cd4d);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x54e+-0x16f5+-0xe2*-0x14);class RA{constructor(_0x1c3c03,_0x4c7f63,_0xdc57da){this['material']=_0x4c7f63,this['layer']=_0xdc57da,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x1c3c03),this['meshInstan'+'ce']=null;}['addLines'](_0x2f969e,_0xc51be9){const _0x357f4e=this['positions'],_0x57678b=_0x2f969e['length'];for(let _0x165e3f=-0x1e80+-0x14fe+0x337e;_0x165e3f<_0x57678b;_0x165e3f++){const _0x3d2a9c=_0x2f969e[_0x165e3f];_0x357f4e['push'](_0x3d2a9c['x'],_0x3d2a9c['y'],_0x3d2a9c['z']);}const _0x7cd77e=this['colors'];if(_0xc51be9['length'])for(let _0x3b32a4=0x66f*-0x3+-0x2646+0x3993;_0x3b32a4<_0x57678b;_0x3b32a4++){const _0x411d8d=_0xc51be9[_0x3b32a4];_0x7cd77e['push'](_0x411d8d['r'],_0x411d8d['g'],_0x411d8d['b'],_0x411d8d['a']);}else{for(let _0x4f4219=0x7ae+0x105b+-0x1809;_0x4f4219<_0x57678b;_0x4f4219++)_0x7cd77e['push'](_0xc51be9['r'],_0xc51be9['g'],_0xc51be9['b'],_0xc51be9['a']);}}['addLinesAr'+'rays'](_0x25079c,_0x2d2008){const _0x56a4e4=this['positions'];for(let _0x2858a5=-0x1033*0x1+-0x22ff*-0x1+0x1*-0x12cc;_0x2858a5<_0x25079c['length'];_0x2858a5+=0x8*0x3e1+0xaf*-0x2f+0x47*0x4)_0x56a4e4['push'](_0x25079c[_0x2858a5],_0x25079c[_0x2858a5+(-0x83*-0x4+-0xc1*-0x25+-0xef8*0x2)],_0x25079c[_0x2858a5+(0x7*-0x254+0x1211+0x29*-0xb)]);const _0x313d3f=this['colors'];if(_0x2d2008['length']){for(let _0x562c5e=0x2465+0x2277+-0x46dc;_0x562c5e<_0x2d2008['length'];_0x562c5e+=0x2*0xb6b+-0x198c+0x2*0x15d)_0x313d3f['push'](_0x2d2008[_0x562c5e],_0x2d2008[_0x562c5e+(0x1d35*0x1+0x4*0x49+0xf2c*-0x2)],_0x2d2008[_0x562c5e+(0x1558+0x1bd2+-0x3128)],_0x2d2008[_0x562c5e+(-0x2060+0x1779+0x8ea)]);}else{const _0x189def=_0x25079c['length']/(0x2cc*0x8+0xad8*-0x1+-0xb85);for(let _0x19dcf9=-0x1*0x20af+-0xed5+0x2*0x17c2;_0x19dcf9<_0x189def;_0x19dcf9++)_0x313d3f['push'](_0x2d2008['r'],_0x2d2008['g'],_0x2d2008['b'],_0x2d2008['a']);}}['onPreRende'+'r'](_0x10f6b2,_0x3429a0){this['positions']['length']>-0x1cd*0x12+0x1ae2+0x588&&this['material']['transparen'+'t']===_0x3429a0&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x14+-0x1a63+-0x2*-0xd3c)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x10f6b2['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1*0x1e6d+-0x1a7c+-0x11*-0x359,this['colors']['length']=0x1*-0x21e5+-0xedc+-0x7*-0x6f7;}}class OA{constructor(_0x170efd){this['device']=_0x170efd,this['map']=new Map();}['getBatch'](_0x1cc50d,_0x5afa85){let _0x4474c4=this['map']['get'](_0x1cc50d);return _0x4474c4||(_0x4474c4=new RA(this['device'],_0x1cc50d,_0x5afa85),this['map']['set'](_0x1cc50d,_0x4474c4)),_0x4474c4;}['onPreRende'+'r'](_0x4bda13,_0xaf53d9){this['map']['forEach'](_0x293b84=>{_0x293b84['onPreRende'+'r'](_0x4bda13,_0xaf53d9);});}['clear'](){this['map']['forEach'](_0x20989a=>_0x20989a['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x498e4b){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x498e4b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x8fd63f){const _0x37a036=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x37a036['blendType']=Zs,_0x37a036['depthTest']=_0x8fd63f,_0x37a036['update'](),_0x37a036;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x1e15+-0x1a4e+0x1*-0x3c7))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x135e*-0x1+-0x3f*-0x67+-0x5fa))),this['_materialN'+'oDepth'];}['getBatch'](_0x35964b,_0x7f4b36){let _0x9dbb78=this['batchesMap']['get'](_0x35964b);_0x9dbb78||(_0x9dbb78=new OA(this['device']),this['batchesMap']['set'](_0x35964b,_0x9dbb78)),this['allBatches']['add'](_0x9dbb78);const _0xf0585d=_0x7f4b36?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x9dbb78['getBatch'](_0xf0585d,_0x35964b);}['getShaderD'+'esc'](_0x327a8b,_0x3239b0,_0x2d55f3){return this['shaderDesc'+'s']['has'](_0x327a8b)||this['shaderDesc'+'s']['set'](_0x327a8b,{'uniqueName':'DebugShade'+'r:'+_0x327a8b,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x3239b0,'fragmentWGSL':_0x2d55f3,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x327a8b);}['getTexture'+'ShaderDesc'](_0x2931b8){const _0x218cac=Tr['decodeFunc'](_0x2931b8);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x2931b8,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x218cac+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x218cac+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x5a+0x2*0xde7+0x1f6*-0xe+0.5),-(-0x6fc+0x919*-0x1+0x1015+0.5),0x1eb*-0x7+0xa54+0x319*0x1,-0x1806+-0x851+0x2057*0x1+0.5,-(-0x4a*-0x4a+0x1827+-0x2d8b+0.5),-0x46f+-0xfb8+0x1427,-(-0x6*-0x509+-0x2564+0x397*0x2+0.5),0x1186+0xfab+0x2131*-0x1+0.5,-0x1f13+-0x4cd*-0x7+-0x288,-0x1f06+-0xe89*-0x1+0x107d+0.5,-0x10d+-0xd0a+-0x1*-0xe17+0.5,0x21f8+0x16*-0x13+0x1*-0x2056]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x57cb07,_0x2a2d01,_0x6ee2b8,_0x12f5a8,_0xa54fa1){if(!_0x12f5a8){const _0x3eee3d=this['getGraphNo'+'de'](_0x2a2d01);_0x12f5a8=new He(_0x6ee2b8,_0x57cb07,_0x3eee3d);}let _0x2df098=this['layerMeshI'+'nstances']['get'](_0xa54fa1);_0x2df098||(_0x2df098=[],this['layerMeshI'+'nstances']['set'](_0xa54fa1,_0x2df098)),_0x2df098['push'](_0x12f5a8);}['drawWireAl'+'ignedBox'](_0x448970,_0x16ae48,_0x28f24f,_0x3b1f75,_0x5d1f5e,_0x4beef2){if(_0x4beef2){const _0x22228a=(_0x19c33c,_0x343ba5,_0x2eb7e8)=>{Ba['set'](_0x19c33c,_0x343ba5,_0x2eb7e8),_0x4beef2['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x22228a(_0x448970['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x448970['y'],_0x16ae48['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x16ae48['z']),_0x22228a(_0x448970['x'],_0x448970['y'],_0x16ae48['z']),_0x22228a(_0x448970['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x448970['y'],_0x16ae48['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x448970['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x448970['z']),_0x22228a(_0x16ae48['x'],_0x448970['y'],_0x16ae48['z']);}else Ts['push'](_0x448970['x'],_0x448970['y'],_0x448970['z'],_0x448970['x'],_0x16ae48['y'],_0x448970['z'],_0x448970['x'],_0x16ae48['y'],_0x448970['z'],_0x16ae48['x'],_0x16ae48['y'],_0x448970['z'],_0x16ae48['x'],_0x16ae48['y'],_0x448970['z'],_0x16ae48['x'],_0x448970['y'],_0x448970['z'],_0x16ae48['x'],_0x448970['y'],_0x448970['z'],_0x448970['x'],_0x448970['y'],_0x448970['z'],_0x448970['x'],_0x448970['y'],_0x16ae48['z'],_0x448970['x'],_0x16ae48['y'],_0x16ae48['z'],_0x448970['x'],_0x16ae48['y'],_0x16ae48['z'],_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z'],_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z'],_0x16ae48['x'],_0x448970['y'],_0x16ae48['z'],_0x16ae48['x'],_0x448970['y'],_0x16ae48['z'],_0x448970['x'],_0x448970['y'],_0x16ae48['z'],_0x448970['x'],_0x448970['y'],_0x448970['z'],_0x448970['x'],_0x448970['y'],_0x16ae48['z'],_0x448970['x'],_0x16ae48['y'],_0x448970['z'],_0x448970['x'],_0x16ae48['y'],_0x16ae48['z'],_0x16ae48['x'],_0x16ae48['y'],_0x448970['z'],_0x16ae48['x'],_0x16ae48['y'],_0x16ae48['z'],_0x16ae48['x'],_0x448970['y'],_0x448970['z'],_0x16ae48['x'],_0x448970['y'],_0x16ae48['z']);this['getBatch'](_0x5d1f5e,_0x3b1f75)['addLinesAr'+'rays'](Ts,_0x28f24f),Ts['length']=0xbcc*0x1+0xc7c+-0x40c*0x6;}['drawWireSp'+'here'](_0x21d09e,_0x312d57,_0x571604,_0x4bd25a,_0x3972a5,_0x101a71){const _0x1b33b5=(-0x23*-0xa3+-0x1cf6+0x3b*0x1d)*Math['PI']/_0x4bd25a;let _0x2fedd0=-0x1e37+-0x1707+0x353e;for(let _0x3e261f=-0x1ddb*-0x1+0x985*0x1+0xf*-0x2a0;_0x3e261f<_0x4bd25a;_0x3e261f++){const _0xe01f7b=Math['sin'](_0x2fedd0),_0x57e188=Math['cos'](_0x2fedd0);_0x2fedd0+=_0x1b33b5;const _0x11d885=Math['sin'](_0x2fedd0),_0x68b909=Math['cos'](_0x2fedd0);Ts['push'](_0x21d09e['x']+_0x312d57*_0xe01f7b,_0x21d09e['y'],_0x21d09e['z']+_0x312d57*_0x57e188),Ts['push'](_0x21d09e['x']+_0x312d57*_0x11d885,_0x21d09e['y'],_0x21d09e['z']+_0x312d57*_0x68b909),Ts['push'](_0x21d09e['x']+_0x312d57*_0xe01f7b,_0x21d09e['y']+_0x312d57*_0x57e188,_0x21d09e['z']),Ts['push'](_0x21d09e['x']+_0x312d57*_0x11d885,_0x21d09e['y']+_0x312d57*_0x68b909,_0x21d09e['z']),Ts['push'](_0x21d09e['x'],_0x21d09e['y']+_0x312d57*_0xe01f7b,_0x21d09e['z']+_0x312d57*_0x57e188),Ts['push'](_0x21d09e['x'],_0x21d09e['y']+_0x312d57*_0x11d885,_0x21d09e['z']+_0x312d57*_0x68b909);}this['getBatch'](_0x101a71,_0x3972a5)['addLinesAr'+'rays'](Ts,_0x571604),Ts['length']=0x1331+-0x2*-0x284+-0x1839;}['getGraphNo'+'de'](_0x429a51){const _0x29abaa=new Ie('ImmediateD'+'ebug');return _0x29abaa['worldTrans'+'form']=_0x429a51,_0x29abaa['_dirtyWorl'+'d']=_0x29abaa['_dirtyNorm'+'al']=!(-0x1326+-0x2600+0x3927),_0x29abaa;}['onPreRende'+'rLayer'](_0x4aff80,_0x3ea350,_0x4e1651){if(this['batchesMap']['forEach']((_0x46d998,_0x3a1477)=>{_0x3a1477===_0x4aff80&&_0x46d998['onPreRende'+'r'](_0x3ea350,_0x4e1651);}),!this['updatedLay'+'ers']['has'](_0x4aff80)){this['updatedLay'+'ers']['add'](_0x4aff80);const _0x382ab2=this['layerMeshI'+'nstances']['get'](_0x4aff80);if(_0x382ab2){for(let _0xc3fc9a=-0x9*0x211+0x991+-0x4*-0x242;_0xc3fc9a<_0x382ab2['length'];_0xc3fc9a++)_0x3ea350['push'](_0x382ab2[_0xc3fc9a]);_0x382ab2['length']=0x2dc*-0xa+-0x18b4+0x354c;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x11e0e9=>_0x11e0e9['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x19ae+0x42*-0x41+0x1c*0x184,-0x258a+0xbd*-0x1b+-0x3979*-0x1,-0xf2e+-0x1*-0xf1a+0x14)),h(this,'density',-0xcce*0x1+0x9*0x4f+0xa07),h(this,'start',0x1*0xe8a+-0x1d5c+0xed3),h(this,'end',0xf8e+-0x11*-0x75+0x3*-0x679);}}class Et extends me{constructor(_0x3a3a44){super(),h(this,'ambientBak'+'e',!(0x1158+0x45*0x8b+-0xe6*0x3d)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x10fa+0x2489+-0x138f),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x9b8+0x9f9+-0x41),h(this,'ambientLig'+'ht',new ie(-0x1*-0x2659+0xef8+-0x3551*0x1,-0x247c+-0x1dd+0x1*0x2659,0x2469+-0x126b+-0x11fe)),h(this,'ambientLum'+'inance',-0x1e9*0x1+0xc65+0x2c*-0x3d),h(this,'exposure',-0xf*-0x246+0x25aa+0x47c3*-0x1),h(this,'lightmapSi'+'zeMultipli'+'er',0x20a5+0xc0f+-0x2cb3*0x1),h(this,'lightmapMa'+'xResolutio'+'n',-0x118e+0x206b+-0x6dd),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0xf89*0x2+0x16d9+-0x35ea)),h(this,'lightmapHD'+'R',!(-0x1b3*0xf+0x1891+0xed)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x76*-0x51+0xbfb+-0x3150)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x4*0x704+0x112d+-0x5*0x90c)),(w['assert'](_0x3a3a44,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3a3a44,this['_gravity']=new D(-0x2391+-0x74*0x4c+0x4601,-(-0x2483+0x44*0x92+0x1*-0x23c+0.8000000000000007),0xba8+-0x2072+0x14ca),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x508+0x128e+0x1*-0x1795,this['_skyboxLum'+'inance']=0x27b*0x3+0x202c+-0x279d*0x1,this['_skyboxMip']=-0x184e+-0x4*0x7a2+-0x1*-0x36d6,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1b1c+0x100a*-0x1+-0x2b27*-0x1,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x197b+-0x2*-0x6f2+0xb98),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x20ed+-0x5*0x772+-0x4*-0x118a,this['_ambientBa'+'keSpherePa'+'rt']=-0x350+-0x102b*-0x1+-0xcdb+0.4,this['_lightmapF'+'ilterRange']=0x2*-0x22+-0x7a*-0x3b+-0x1bd0,this['_lightmapF'+'ilterSmoot'+'hness']=-0xb7e+-0x3b*0x53+0x1e9f+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1e85+-0xa1*-0x26+0x3*0x235),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x2*0x6fd+0x6ed*0x5+-0x14a7);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1951+-0x1*0x21a+0x1*0x1b6b),this['_shaderVer'+'sion']=0x6c9+0x19*-0xc3+0xc42,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x1b8dba){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x1b8dba),0xf3*-0x1c+-0x1*0x1137+0x2bcc,0x1912+-0x2a4+-0x156f);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x59c323){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x59c323,0xce8+-0x491*-0x3+0x7*-0x3cd+0.001,0x8*0x2a7+0xaba+-0x1ff1);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x57da91){if(this['device']['isWebGPU']&&!_0x57da91){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x57da91){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x57da91;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x340e66){_0x340e66!==this['_envAtlas']&&(this['_envAtlas']=_0x340e66,_0x340e66&&(_0x340e66['addressU']=ue,_0x340e66['addressV']=ue,_0x340e66['minFilter']=vt,_0x340e66['magFilter']=vt,_0x340e66['mipmaps']=!(-0x1ef5+-0xa*-0x1cc+0xcfe)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x2fd87b){const _0x5581cf=this['_layers'];this['_layers']=_0x2fd87b,this['fire']('set:layers',_0x5581cf,_0x2fd87b);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x236bf4){this['_lightmapF'+'ilterRange']=Math['max'](_0x236bf4,0x8*-0x7e+-0x597+-0x10f*-0x9+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x1c22bd){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x1c22bd,0x5*-0x39a+0x1*-0x17e3+0x29e5+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x1f218e){_0x1f218e=_0x1f218e||[];const _0x3e56a0=this['_prefilter'+'edCubemaps'];(_0x3e56a0['length']!==_0x1f218e['length']||_0x3e56a0['some']((_0x31d5cd,_0x42282a)=>_0x31d5cd!==_0x1f218e[_0x42282a]))&&(_0x1f218e['length']===-0x2640+-0x6a0+-0x2*-0x1673&&_0x1f218e['every'](_0x515925=>!!_0x515925)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x1f218e,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x1f218e['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x42d26f){_0x42d26f!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x42d26f,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x567521){_0x567521!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x567521,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0xf95e7b){_0xf95e7b!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0xf95e7b,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x371f23){_0x371f23!==this['_skyboxMip']&&(this['_skyboxMip']=_0x371f23,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x2439f1){_0x2439f1!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x2439f1,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x4daea8){if(!this['_skyboxRot'+'ation']['equals'](_0x4daea8)){const _0x992150=_0x4daea8['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x4daea8),_0x992150?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x4daea8,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x992150&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1*-0x19f+-0x1ba1+0x1a02),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1c5a63,_0xe90ee4,_0x5be325=ie['WHITE'],_0x18042c=!(0x1*0x1eb+0x2339+-0x949*0x4),_0xb5d7c5=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xb5d7c5,_0x18042c)['addLines']([_0x1c5a63,_0xe90ee4],[_0x5be325,_0x5be325]);}['drawLines'](_0x1fab8b,_0x1939ae,_0x51a5e4=!(-0x2*-0x64b+-0x1*-0xb7e+0x1*-0x1814),_0x591ab7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x591ab7,_0x51a5e4)['addLines'](_0x1fab8b,_0x1939ae);}['drawLineAr'+'rays'](_0x21063b,_0x146ae6,_0x47f985=!(-0x6*-0x3cd+0x1*-0x7c9+-0xf05),_0x5241ad=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5241ad,_0x47f985)['addLinesAr'+'rays'](_0x21063b,_0x146ae6);}['applySetti'+'ngs'](_0x281854){const _0xdcacd0=_0x281854['physics'],_0x335cd9=_0x281854['render'];this['_gravity']['set'](_0xdcacd0['gravity'][0x1812+-0x219+0x1*-0x15f9],_0xdcacd0['gravity'][-0x1*-0xcca+-0x53+-0xc76],_0xdcacd0['gravity'][-0x1eb2+0xd*-0x2df+0x4407]),this['ambientLig'+'ht']['set'](_0x335cd9['global_amb'+'ient'][0x2242+0x6*-0x5be+0x32],_0x335cd9['global_amb'+'ient'][-0x1*-0x9cf+0x9*0xfd+-0x12b3],_0x335cd9['global_amb'+'ient'][-0xa9c*0x1+-0x1eef+0x298d]),this['ambientLum'+'inance']=_0x335cd9['ambientLum'+'inance'],this['fog']['type']=_0x335cd9['fog'],this['fog']['color']['set'](_0x335cd9['fog_color'][0x2601+-0x186e*0x1+-0xd93],_0x335cd9['fog_color'][-0xeb*0x11+0xe84*-0x1+0x1e20],_0x335cd9['fog_color'][0x11*0x24b+-0x20dc+-0x61d]),this['fog']['start']=_0x335cd9['fog_start'],this['fog']['end']=_0x335cd9['fog_end'],this['fog']['density']=_0x335cd9['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x335cd9['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x335cd9['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x335cd9['lightmapMo'+'de'],this['exposure']=_0x335cd9['exposure'],this['_skyboxInt'+'ensity']=_0x335cd9['skyboxInte'+'nsity']??0x1e0+0x1764+0xdf*-0x1d,this['_skyboxLum'+'inance']=_0x335cd9['skyboxLumi'+'nance']??0x220*0x7+0x3df*-0x7+-0xe5*-0x65,this['_skyboxMip']=_0x335cd9['skyboxMip']??-0x1*0x1046+-0x2*-0x1b5+0xcdc,_0x335cd9['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x335cd9['skyboxRota'+'tion'][0x3*0xe5+-0x617*0x1+-0xda*-0x4],_0x335cd9['skyboxRota'+'tion'][0x86*-0x1d+-0xe8f+0x36*0x8d],_0x335cd9['skyboxRota'+'tion'][-0x63*0x31+0x26ed+-0x13f8])),this['sky']['applySetti'+'ngs'](_0x335cd9),this['clusteredL'+'ightingEna'+'bled']=_0x335cd9['clusteredL'+'ightingEna'+'bled']??!(-0x1613+-0x1454+0xb8*0x3b),this['lighting']['applySetti'+'ngs'](_0x335cd9),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x183cbe=>{_0x335cd9['hasOwnProp'+'erty'](_0x183cbe)&&(this[_0x183cbe]=_0x335cd9[_0x183cbe]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x390b4a=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x390b4a[[0x126+-0xf84+-0x1*-0xe5e,-0x3e6*-0x9+-0x8d0*-0x2+-0x83*0x67,-0x1031+0x135f+-0x32b,0x11c3*0x1+0x1063+-0x2*0x1111,-0x1a03*-0x1+-0x63a*0x5+0x2*0x292,0x9b3+0x3bb+0x16*-0x9c][this['_skyboxMip']]]||this['_envAtlas']||_0x390b4a[0x1*0x1628+0x2bb+-0x1*0x18e3]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x390b4a[-0xb*0x1af+0x1f5b*-0x1+0x31e0]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1*0x1ca4+-0x154*0xa+0x29ec);}['setSkybox'](_0x102e87){_0x102e87?(this['skybox']=_0x102e87[0x18f2+0x74*-0x30+-0x332]||null,_0x102e87[-0xa21*-0x1+-0x1de5+0x13c5]&&!_0x102e87[-0x2d*0x58+-0x1*0x2bd+-0x6*-0x309]['cubemap']?this['envAtlas']=_0x102e87[0x117a+-0x1*-0x589+-0x1702]:this['prefiltere'+'dCubemaps']=_0x102e87['slice'](0x1fb4+-0x1944+-0x66f)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x1cfb9d,_0x5be47e,_0x1ecd31){this['device']=_0x1cfb9d,this['inverseBin'+'dPose']=_0x5be47e,this['boneNames']=_0x1ecd31;}}const kA=[0x48*0x59+-0x9ab+0x17*-0xab,0x1ea5+0x2318+-0x41bd*0x1,-0xb87*-0x2+0xbcd+-0x22da,-0x1*0x1e2f+-0x256+0x2085,-0x120a+-0x143+0x134d,-0x1a05+-0x2c4+0x2e1*0xa,-0xda5*0x1+-0x517*0x1+0x12bc,-0x18e3+-0x21a4+0x1*0x3a87,0x15a5+0xc11+0x21b5*-0x1,0x19f8+0x2f*-0x6a+0x11*-0x62,-0x1949+-0x5*-0x409+0x51c,0x2d7*-0x7+0xbaa+-0x1*-0x838],UA=[0x1dc2*0x1+0x1*0x125d+-0x301f,-0x1e4a+0x7*-0x2ed+-0x1963*-0x2,0x3e+0x1e4f*-0x1+0x1e14,-0x1f6*-0x2+0x14a7+-0x14b*0x13,0x16de+0x1*-0x239d+0x2*0x661,0x7a3+-0x16e0+0xf3e];class BA extends me{constructor(_0x17903a,_0x268af5){super(),this['_device']=_0x17903a,this['_pixelsPer'+'Unit']=_0x268af5&&_0x268af5['pixelsPerU'+'nit']!==void(0x621*-0x6+-0x5b*0x9+0x9*0x471)?_0x268af5['pixelsPerU'+'nit']:-0x1d7f+0x4dc+0x18a4,this['_renderMod'+'e']=_0x268af5&&_0x268af5['renderMode']!==void(-0x2626+0xb20+0x1b06)?_0x268af5['renderMode']:ci,this['_atlas']=_0x268af5&&_0x268af5['atlas']!==void(-0x1841+0x1d*-0x151+-0x1f37*-0x2)?_0x268af5['atlas']:null,this['_frameKeys']=_0x268af5&&_0x268af5['frameKeys']!==void(-0x1f59+-0x1*0x1190+0x30e9)?_0x268af5['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x1f11+-0x602*-0x4+0x70a),this['_meshesDir'+'ty']=!(-0x9*0x419+0x4e8+0x1ffa*0x1),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x52ec67){this['_frameKeys']=_0x52ec67,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x85b+0x33b*0x4+-0x1a3*0xd):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x52ec67);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x34e285){_0x34e285!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x34e285,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x1ead+-0x1bb0+-0x3*0xff):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x34e285));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x515c3b){this['_pixelsPer'+'Unit']!==_0x515c3b&&(this['_pixelsPer'+'Unit']=_0x515c3b,this['fire']('set:pixels'+'PerUnit',_0x515c3b),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1d31+-0x11a3+0x7ce*0x6):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3d7b82){if(this['_renderMod'+'e']===_0x3d7b82)return;const _0x49adc1=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3d7b82,this['fire']('set:render'+'Mode',_0x3d7b82),(_0x49adc1===ci||_0x3d7b82===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xaba*0x2+-0x1980+0x40c):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x59613d=this['_meshes']['length'];for(let _0x4c08c7=0x478+0x99*0x3e+-0x2986;_0x4c08c7<_0x59613d;_0x4c08c7++){const _0x5221bb=this['_meshes'][_0x4c08c7];_0x5221bb&&_0x5221bb['destroy']();}const _0x4a0937=this['_frameKeys']['length'];this['_meshes']=new Array(_0x4a0937);const _0x554858=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x2b880=0x4*0x926+0x3c4*0x4+-0x33a8;_0x2b880<_0x4a0937;_0x2b880++){const _0x2b1d61=this['_atlas']['frames'][this['_frameKeys'][_0x2b880]];this['_meshes'][_0x2b880]=_0x2b1d61?_0x554858['call'](this,_0x2b1d61):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x10ef76){const _0x937ac5=_0x10ef76['rect'],_0x1dfff3=this['_atlas']['texture']['width'],_0x5988fc=this['_atlas']['texture']['height'],_0x1fcaef=_0x937ac5['z']/this['_pixelsPer'+'Unit'],_0xb4fb95=_0x937ac5['w']/this['_pixelsPer'+'Unit'],_0x5354dd=_0x10ef76['pivot']['x'],_0x295750=_0x10ef76['pivot']['y'],_0x320739=[-_0x5354dd*_0x1fcaef,-_0x295750*_0xb4fb95,0x2276*-0x1+0x55c+-0x12a*-0x19,(-0x364+0x2132+0x3*-0x9ef-_0x5354dd)*_0x1fcaef,-_0x295750*_0xb4fb95,-0x4*0x1a2+0x3e5*0x6+-0x10d6,(-0x981*-0x1+0x11a9+-0x1b29-_0x5354dd)*_0x1fcaef,(0x3*-0xb9e+0x49*-0x62+-0x45*-0xe9-_0x295750)*_0xb4fb95,-0x2a*0x57+-0x6a4*-0x5+-0x12ee*0x1,-_0x5354dd*_0x1fcaef,(0x37*-0xd+0x9*0x1a7+-0x1*0xc13-_0x295750)*_0xb4fb95,-0x257f+0xe68+0x1717],_0x43cc35=_0x937ac5['x']/_0x1dfff3,_0x434866=-0x3fd*-0x5+-0xe84+-0x2b6*0x2-_0x937ac5['y']/_0x5988fc,_0x52b43f=(_0x937ac5['x']+_0x937ac5['z'])/_0x1dfff3,_0x45c62b=0x1*0x2d3+0x16bd+-0x198f-(_0x937ac5['y']+_0x937ac5['w'])/_0x5988fc,_0x11829e=[_0x43cc35,_0x434866,_0x52b43f,_0x434866,_0x52b43f,_0x45c62b,_0x43cc35,_0x45c62b],_0x3d7bcd=new Ta();return _0x3d7bcd['positions']=_0x320739,_0x3d7bcd['normals']=kA,_0x3d7bcd['uvs']=_0x11829e,_0x3d7bcd['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x3d7bcd);}['_create9Sl'+'iceMesh'](){const _0x4d0c7c=J['ONE'],_0x36543f=0x13f9*0x1+0xcb4+-0x20aa,_0x3134cf=0xbc6+0x12eb+-0x1eae,_0x55e289=[],_0x390dd7=[],_0x5ca509=[],_0x7417a1=[];let _0x42d926=0x2*0x10b8+-0x1*0x58+-0x2118;for(let _0x297685=-0x6b3*-0x1+0xdcb+-0x147e;_0x297685<=_0x36543f;_0x297685++){const _0x41cde3=_0x297685===-0x13*-0x71+0x26aa*-0x1+0x1e47*0x1||_0x297685===_0x36543f?0xc5e*-0x3+0x2d7*-0xb+0x4457:-0x4db*-0x7+-0x1*-0x10dd+0x10f3*-0x3;for(let _0x4b08c6=-0x1c03+-0x56c+0x1b*0x13d;_0x4b08c6<=_0x3134cf;_0x4b08c6++){const _0x4daf03=-_0x4d0c7c['x']+(-0x11e9+-0x21cd+0x33b8)*_0x4d0c7c['x']*(_0x297685<=-0x821*-0x2+0x1c11+-0xec6*0x3?-0xf15+-0x9*0x184+0x1cb9:0x13e2+-0xe3*0x22+-0xa47*-0x1)/_0x36543f,_0x20502e=0x101+-0x133*-0x1c+-0xe3*0x27,_0x36daf9=-(-_0x4d0c7c['y']+(0x1e2e+0x11b5*-0x1+-0xc77)*_0x4d0c7c['y']*(_0x4b08c6<=-0xb*-0x34f+0xb56+-0x2fba?-0x1f01+0x13b2+-0x243*-0x5:0x26ba+0x7*0x4d8+-0x489f)/_0x3134cf),_0x53e610=_0x4b08c6===-0x23f7*-0x1+0x1e*-0xb3+-0x1*0xefd||_0x4b08c6===_0x3134cf?0x883+0x1ca1+-0x1*0x2524:0xaae*-0x2+-0x1c21+0x1*0x317e;_0x55e289['push'](-_0x4daf03,_0x20502e,_0x36daf9),_0x390dd7['push'](0x3*0x84f+0x1*-0x253a+0xc4d,-0x9e*0x3a+0x59f+0x1e2e*0x1,-0x8bb*0x4+0x26c4+-0x3d8),_0x5ca509['push'](_0x41cde3,_0x53e610),_0x297685<_0x36543f&&_0x4b08c6<_0x3134cf&&(_0x7417a1['push'](_0x42d926+_0x3134cf+(0x3*-0x9a5+0x14a9+0x847),_0x42d926+(-0x259d*-0x1+-0x7b*-0xb+-0x2ae5*0x1),_0x42d926),_0x7417a1['push'](_0x42d926+_0x3134cf+(-0x1055*-0x1+0x5c9+-0x3*0x75f),_0x42d926+_0x3134cf+(-0x2d3+0x120b+-0x76*0x21),_0x42d926+(-0x20b4+-0xf0+0x21a5))),_0x42d926++;}}const _0x270ebc=new Ta();return _0x270ebc['positions']=_0x55e289,_0x270ebc['normals']=_0x390dd7,_0x270ebc['uvs']=_0x5ca509,_0x270ebc['indices']=_0x7417a1,Ge['fromGeomet'+'ry'](this['_device'],_0x270ebc);}['_onSetFram'+'es'](_0x4bf7cd){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x150+0x3b*-0x30+0xc60):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x274a4a,_0x3c3d0e){const _0xad920=this['_frameKeys']['indexOf'](_0x274a4a);_0xad920<0x1*-0xa91+0xb5*-0x27+0x2624||(_0x3c3d0e?this['renderMode']===ci&&(this['_meshes'][_0xad920]=this['_createSim'+'pleMesh'](_0x3c3d0e)):this['_meshes'][_0xad920]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x242ff2){const _0x1d6b00=this['_frameKeys']['indexOf'](_0x242ff2);_0x1d6b00<0x82a+-0x7b*0x45+0x1*0x18fd||(this['_meshes'][_0x1d6b00]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x2264+-0x3cd*-0x9+0x2f),this['_meshesDir'+'ty']=!(-0x148a*0x1+-0xecf*0x1+0x19*0x16a);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x1fd2+0x79b+-0x276c),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x1874+0x1*0xc59+0xc1c);}['destroy'](){for(const _0x2d6964 of this['_meshes'])_0x2d6964&&_0x2d6964['destroy']();this['_meshes']['length']=-0x13*-0x147+0x1bf+-0x1a04;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x26a62f){this['_texture']=_0x26a62f,this['fire']('set:textur'+'e',_0x26a62f);}get['texture'](){return this['_texture'];}set['frames'](_0x53f316){this['_frames']=_0x53f316,this['fire']('set:frames',_0x53f316);}get['frames'](){return this['_frames'];}['setFrame'](_0x2edf07,_0x440f0a){let _0x19f62a=this['_frames'][_0x2edf07];_0x19f62a?(_0x19f62a['rect']['copy'](_0x440f0a['rect']),_0x19f62a['pivot']['copy'](_0x440f0a['pivot']),_0x19f62a['border']['copy'](_0x440f0a['border'])):(_0x19f62a={'rect':_0x440f0a['rect']['clone'](),'pivot':_0x440f0a['pivot']['clone'](),'border':_0x440f0a['border']['clone']()},this['_frames'][_0x2edf07]=_0x19f62a),this['fire']('set:frame',_0x2edf07['toString'](),_0x19f62a);}['removeFram'+'e'](_0x3cb8ab){const _0x54c719=this['_frames'][_0x3cb8ab];_0x54c719&&(delete this['_frames'][_0x3cb8ab],this['fire']('remove:fra'+'me',_0x3cb8ab['toString'](),_0x54c719));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x523b25,_0x3e6eaf,_0xe646a4,_0x5bad38){this['time']=_0x523b25,this['position']=_0x3e6eaf,this['rotation']=_0xe646a4,this['scale']=_0x5bad38;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',0x13f3*0x1+0x14f7+-0x2*0x1475),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x557ce7){return this['_nodeDict'][_0x557ce7];}['addNode'](_0x1db29e){this['_nodes']['push'](_0x1db29e),this['_nodeDict'][_0x1db29e['_name']]=_0x1db29e;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x335*0x3+-0x1575*-0x1+-0x1f13),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x45b265){this['_targetNod'+'e']=_0x45b265;}}class Sf{constructor(_0x4d133f){h(this,'looping',!(-0xfd9+0x176e+-0x795)),(this['_animation']=null,this['_time']=-0xcf2+0x1*-0x4a7+0x1199,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x2267e8=_0x28d257=>{const _0x5a7454=new VA();_0x5a7454['_name']=_0x28d257['name'],this['_interpola'+'tedKeys']['push'](_0x5a7454),this['_interpola'+'tedKeyDict'][_0x28d257['name']]=_0x5a7454,this['_currKeyIn'+'dices'][_0x28d257['name']]=-0x960+0x2*-0x77e+0x185c;for(let _0x5f4686=0x10e6+-0x23e5+0x12ff*0x1;_0x5f4686<_0x28d257['_children']['length'];_0x5f4686++)_0x2267e8(_0x28d257['_children'][_0x5f4686]);};_0x2267e8(_0x4d133f);}set['animation'](_0x4ce995){this['_animation']=_0x4ce995,this['currentTim'+'e']=-0x20bc+0x1151+-0xf6b*-0x1;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x46224b){this['_time']=_0x46224b;const _0x1b2076=this['_interpola'+'tedKeys']['length'];for(let _0x32f092=-0x17+0x216d+-0x10ab*0x2;_0x32f092<_0x1b2076;_0x32f092++){const _0x4b0b7b=this['_interpola'+'tedKeys'][_0x32f092]['_name'];this['_currKeyIn'+'dices'][_0x4b0b7b]=0x1edf+-0xfa5+-0x79d*0x2;}this['addTime'](0x1*0x26e1+-0x513+-0x21ce),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x3cb94d){if(this['_animation']!==null){const _0x176689=this['_animation']['_nodes'],_0x400a51=this['_animation']['duration'];if(this['_time']===_0x400a51&&!this['looping'])return;if(this['_time']+=_0x3cb94d,this['_time']>_0x400a51){this['_time']=this['looping']?-0x1*0x55+0x2669*-0x1+0x26be:_0x400a51;for(let _0xcc429c=0x1386+0x6d*-0x31+0x157;_0xcc429c<_0x176689['length'];_0xcc429c++){const _0x1c4eb6=_0x176689[_0xcc429c]['_name'];this['_currKeyIn'+'dices'][_0x1c4eb6]=-0x1eef+-0x1*0x1fe8+0x3ed7;}}else{if(this['_time']<-0x18f7+0xd49*0x2+0x1*-0x19b){this['_time']=this['looping']?_0x400a51:0xe09*0x1+-0x138f*-0x1+-0x2198;for(let _0x4f8534=-0x39f*-0x1+0x171+-0x510;_0x4f8534<_0x176689['length'];_0x4f8534++){const _0xd791dd=_0x176689[_0x4f8534],_0x308cff=_0xd791dd['_name'];this['_currKeyIn'+'dices'][_0x308cff]=_0xd791dd['_keys']['length']-(0xdd*-0x6+0x17*0xb5+-0xb13);}}}const _0x1a92ae=_0x3cb94d>=-0x2e*0x2b+-0xeb8+0x1672?0x57*0x31+-0x4c4+0xd*-0xea:-(0x5e6*0x5+-0x30*0x33+-0x13ed*0x1);for(let _0x125e4d=-0x1*0x245+-0xcb7*0x3+0x7*0x5c6;_0x125e4d<_0x176689['length'];_0x125e4d++){const _0x183f94=_0x176689[_0x125e4d],_0x58a3f7=_0x183f94['_name'],_0x13d5f7=_0x183f94['_keys'],_0x279e61=this['_interpola'+'tedKeyDict'][_0x58a3f7];if(_0x279e61===void(0xeb5+-0x62f+-0x886)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x58a3f7);continue;}let _0x231798=!(-0x2536+-0x246b+-0x2f2*-0x19);if(_0x13d5f7['length']!==-0x383*0x7+0x3*-0xc9c+-0x1f35*-0x2)for(let _0x23bc43=this['_currKeyIn'+'dices'][_0x58a3f7];_0x23bc43<_0x13d5f7['length']-(0x2227+-0x7f4+-0xd19*0x2)&&_0x23bc43>=-0x6c8+-0x1992+0x205a;_0x23bc43+=_0x1a92ae){const _0x57c5ea=_0x13d5f7[_0x23bc43],_0x44f844=_0x13d5f7[_0x23bc43+(-0x1a8d+0xb3*0xc+0x122a)];if(_0x57c5ea['time']<=this['_time']&&_0x44f844['time']>=this['_time']){const _0xe4d775=(this['_time']-_0x57c5ea['time'])/(_0x44f844['time']-_0x57c5ea['time']);_0x279e61['_pos']['lerp'](_0x57c5ea['position'],_0x44f844['position'],_0xe4d775),_0x279e61['_quat']['slerp'](_0x57c5ea['rotation'],_0x44f844['rotation'],_0xe4d775),_0x279e61['_scale']['lerp'](_0x57c5ea['scale'],_0x44f844['scale'],_0xe4d775),_0x279e61['_written']=!(-0x1*0x1a6e+0x6c1+0x49*0x45),this['_currKeyIn'+'dices'][_0x58a3f7]=_0x23bc43,_0x231798=!(-0x6a*0x41+0x81*-0x33+-0x1*-0x349d);break;}}(_0x13d5f7['length']===-0x3*0x634+0x160b+-0x36e||!_0x231798&&this['_time']===-0x5d3*-0x1+-0x9*-0x413+-0x2a7e&&this['looping'])&&(_0x279e61['_pos']['copy'](_0x13d5f7[-0x2*0xdab+-0x1*-0xc5+-0x8db*-0x3]['position']),_0x279e61['_quat']['copy'](_0x13d5f7[0x1*-0x1d1b+0x383*-0x4+0x2b27*0x1]['rotation']),_0x279e61['_scale']['copy'](_0x13d5f7[-0x1f99+0x104a+0xf4f]['scale']),_0x279e61['_written']=!(0x205a+0x105*-0x2+-0x1e50));}}}['blend'](_0x5b6967,_0xea363e,_0x231558){const _0x4b7a49=this['_interpola'+'tedKeys']['length'];for(let _0x30c6c3=0x2595+-0x15a7+-0xfee*0x1;_0x30c6c3<_0x4b7a49;_0x30c6c3++){const _0x39fe4c=_0x5b6967['_interpola'+'tedKeys'][_0x30c6c3],_0x165581=_0xea363e['_interpola'+'tedKeys'][_0x30c6c3],_0xfcb477=this['_interpola'+'tedKeys'][_0x30c6c3];_0x39fe4c['_written']&&_0x165581['_written']?(_0xfcb477['_quat']['slerp'](_0x39fe4c['_quat'],_0xea363e['_interpola'+'tedKeys'][_0x30c6c3]['_quat'],_0x231558),_0xfcb477['_pos']['lerp'](_0x39fe4c['_pos'],_0xea363e['_interpola'+'tedKeys'][_0x30c6c3]['_pos'],_0x231558),_0xfcb477['_scale']['lerp'](_0x39fe4c['_scale'],_0x165581['_scale'],_0x231558),_0xfcb477['_written']=!(0x12ae+0x13cb+0x2679*-0x1)):_0x39fe4c['_written']?(_0xfcb477['_quat']['copy'](_0x39fe4c['_quat']),_0xfcb477['_pos']['copy'](_0x39fe4c['_pos']),_0xfcb477['_scale']['copy'](_0x39fe4c['_scale']),_0xfcb477['_written']=!(-0x2470+0xa9b+0x19d5*0x1)):_0x165581['_written']&&(_0xfcb477['_quat']['copy'](_0x165581['_quat']),_0xfcb477['_pos']['copy'](_0x165581['_pos']),_0xfcb477['_scale']['copy'](_0x165581['_scale']),_0xfcb477['_written']=!(-0x964*-0x3+0x23fa+-0x4026));}}['setGraph'](_0x3f0d02){if(this['graph']=_0x3f0d02,_0x3f0d02)for(let _0x54eb80=-0x1*0x17a5+0x1*-0x160a+0x2daf*0x1;_0x54eb80<this['_interpola'+'tedKeys']['length'];_0x54eb80++){const _0x19bfe9=this['_interpola'+'tedKeys'][_0x54eb80],_0x5c0362=_0x3f0d02['findByName'](_0x19bfe9['_name']);this['_interpola'+'tedKeys'][_0x54eb80]['setTarget'](_0x5c0362);}else{for(let _0x214453=-0x1023+-0x725+0x1748;_0x214453<this['_interpola'+'tedKeys']['length'];_0x214453++)this['_interpola'+'tedKeys'][_0x214453]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0xa0fee2=-0xd24+-0x1be9+0x290d;_0xa0fee2<this['_interpola'+'tedKeys']['length'];_0xa0fee2++){const _0x1d3095=this['_interpola'+'tedKeys'][_0xa0fee2];if(_0x1d3095['_written']){const _0x2ab51a=_0x1d3095['getTarget']();_0x2ab51a['localPosit'+'ion']['copy'](_0x1d3095['_pos']),_0x2ab51a['localRotat'+'ion']['copy'](_0x1d3095['_quat']),_0x2ab51a['localScale']['copy'](_0x1d3095['_scale']),_0x2ab51a['_dirtyLoca'+'l']||_0x2ab51a['_dirtifyLo'+'cal'](),_0x1d3095['_written']=!(-0x1*-0x2659+-0xb16*-0x2+-0x3c84);}}}}const zs=(0x239d+-0x112*-0x1c+-0x4191)/(0xf52+0x2676+-0x3588),si=0x1fe2+-0xa25+-0x15bc-zs*(-0x185*0x15+-0x1*-0x101e+0xfcd);class gm extends Ta{constructor(_0x1a160f,_0x155dc1,_0x3903ff,_0x1c737d,_0x563e73,_0x34b003){super();const _0x5699cd=new D(),_0x22f9c3=new D(),_0x1e61d0=new D(),_0x5ede1b=new D(),_0x5b5726=new D(),_0x32304d=new D(),_0x4cf062=[],_0x2ab760=[],_0x2d5c9b=[],_0x457a92=[],_0x28b1d8=[];let _0xe97352;if(_0x3903ff>-0x126c+0x170c+-0x25*0x20){for(let _0x48c3de=-0x1*-0x11a5+-0x192+-0x1013*0x1;_0x48c3de<=_0x1c737d;_0x48c3de++)for(let _0x195d75=-0x199*-0x1+-0x4ad+0x314;_0x195d75<=_0x563e73;_0x195d75++){const _0x5cdcc0=_0x195d75/_0x563e73*(0x2116+-0x1ec*0x11+0x68*-0x1)*Math['PI']-Math['PI'],_0x1e5491=Math['sin'](_0x5cdcc0),_0x237457=Math['cos'](_0x5cdcc0);_0x5b5726['set'](_0x1e5491*_0x1a160f,-_0x3903ff/(-0x3*-0x2da+0x2458+-0x2ce4*0x1),_0x237457*_0x1a160f),_0x5ede1b['set'](_0x1e5491*_0x155dc1,_0x3903ff/(0xae+-0x208f+0x1fe3),_0x237457*_0x155dc1),_0x5699cd['lerp'](_0x5b5726,_0x5ede1b,_0x48c3de/_0x1c737d),_0x22f9c3['sub2'](_0x5ede1b,_0x5b5726)['normalize'](),_0x32304d['set'](_0x237457,0x386*0x2+0x1444*-0x1+0x18*0x8d,-_0x1e5491),_0x1e61d0['cross'](_0x32304d,_0x22f9c3)['normalize'](),_0x4cf062['push'](_0x5699cd['x'],_0x5699cd['y'],_0x5699cd['z']),_0x2ab760['push'](_0x1e61d0['x'],_0x1e61d0['y'],_0x1e61d0['z']);let _0x3dd3dd=_0x195d75/_0x563e73,_0x4b326c=_0x48c3de/_0x1c737d;_0x2d5c9b['push'](_0x3dd3dd,0x1f0d*-0x1+-0xe*-0x165+-0x8*-0x171-_0x4b326c);const _0x4f5662=_0x4b326c;if(_0x4b326c=_0x3dd3dd,_0x3dd3dd=_0x4f5662,_0x3dd3dd=_0x3dd3dd*si+zs,_0x4b326c=_0x4b326c*si+zs,_0x3dd3dd/=-0x1*-0xdc5+0x1314+0x3*-0xaf2,_0x457a92['push'](_0x3dd3dd,-0x6b2+0x42d*-0x2+0xf0d-_0x4b326c),_0x48c3de<_0x1c737d&&_0x195d75<_0x563e73){const _0x20139a=_0x48c3de*(_0x563e73+(0x3b3*0x1+0x234+-0x12e*0x5))+_0x195d75,_0x58147f=_0x48c3de*(_0x563e73+(-0x1242+-0x3*0x40a+0x1e61))+(_0x195d75+(-0x71*0x47+-0x619*-0x4+0x164*0x5)),_0x5d7a6e=(_0x48c3de+(0x11b*0x5+0x7db*-0x1+0x255))*(_0x563e73+(-0x1*0x16f1+0x1db5+-0x6c3*0x1))+_0x195d75,_0x336942=(_0x48c3de+(0x227b+0x2678+-0x48f2))*(_0x563e73+(-0x41*-0x2+0x1*-0x17f6+0x1775))+(_0x195d75+(0x1dfa+-0x2208+-0x1*-0x40f));_0x28b1d8['push'](_0x20139a,_0x58147f,_0x5d7a6e),_0x28b1d8['push'](_0x58147f,_0x336942,_0x5d7a6e);}}}if(_0x34b003){const _0x146585=Math['floor'](_0x563e73/(-0x1*0x2ab+0x1*-0x210d+0x22*0x10d)),_0x34656c=_0x563e73,_0x115355=_0x3903ff/(-0x18ab+0x1e3+0x16ca);for(let _0xc05a87=-0x2290+-0x1*0x16b9+0x3949;_0xc05a87<=_0x146585;_0xc05a87++){const _0x18642d=_0xc05a87*Math['PI']*(0xfb3+-0x3*-0x9cc+-0x2d17+0.5)/_0x146585,_0x3e42de=Math['sin'](_0x18642d),_0x21afff=Math['cos'](_0x18642d);for(let _0x2cdab8=-0x1676+-0xf*0x241+-0x5*-0xb41;_0x2cdab8<=_0x34656c;_0x2cdab8++){const _0x258ad3=_0x2cdab8*(0x1*-0x2051+-0x274*-0x5+0x403*0x5)*Math['PI']/_0x34656c-Math['PI']/(0x956+0x1a6e+-0x23c2*0x1),_0x26f84d=Math['sin'](_0x258ad3),_0x289484=Math['cos'](_0x258ad3)*_0x3e42de,_0x43c7b5=_0x21afff,_0x4f9c42=_0x26f84d*_0x3e42de;let _0x2e7da6=0x20c0+0x235d+0xb5a*-0x6-_0x2cdab8/_0x34656c,_0x19ee47=0x1bfe+-0x1cfa*-0x1+-0x3*0x12fd-_0xc05a87/_0x146585;_0x4cf062['push'](_0x289484*_0x155dc1,_0x43c7b5*_0x155dc1+_0x115355,_0x4f9c42*_0x155dc1),_0x2ab760['push'](_0x289484,_0x43c7b5,_0x4f9c42),_0x2d5c9b['push'](_0x2e7da6,-0x14*-0x115+-0x1220*-0x1+-0x27c3-_0x19ee47),_0x2e7da6=_0x2e7da6*si+zs,_0x19ee47=_0x19ee47*si+zs,_0x2e7da6/=0xada+-0x1d*-0xca+-0x1*0x21b9,_0x19ee47/=-0x29*0x6d+0x2*0x123e+0x982*-0x2,_0x2e7da6+=(0x11*-0x129+-0x179*0x15+0x32a7)/(0x117d+-0xcb7+-0x17*0x35),_0x457a92['push'](_0x2e7da6,-0x6a8*-0x3+-0x1b8e+0x43*0x1d-_0x19ee47);}}_0xe97352=(_0x1c737d+(-0x2*0xf11+-0x36c+0x218f))*(_0x563e73+(0x236d+0x55*0x5f+-0x229*0x1f));for(let _0x152428=-0x12*0x216+-0x13b2+0x393e;_0x152428<_0x146585;++_0x152428)for(let _0x4be35e=-0x2d*-0x1a+-0x10cf*-0x2+-0x2630;_0x4be35e<_0x34656c;++_0x4be35e){const _0x15e07e=_0x152428*(_0x34656c+(0x2*0x98b+-0x84b+-0xaca))+_0x4be35e,_0x574101=_0x15e07e+_0x34656c+(-0x56b+-0x2125*-0x1+-0x97*0x2f);_0x28b1d8['push'](_0xe97352+_0x15e07e+(0x9c4+-0x1*-0xb5a+-0x17*0xeb),_0xe97352+_0x574101,_0xe97352+_0x15e07e),_0x28b1d8['push'](_0xe97352+_0x15e07e+(-0xb1*0x31+0x14ff+0xce3),_0xe97352+_0x574101+(0xffa+-0x66*0x4f+0xf81),_0xe97352+_0x574101);}for(let _0x269ce1=-0x1*-0x236b+-0x1*-0x12eb+-0x3656;_0x269ce1<=_0x146585;_0x269ce1++){const _0x4c742e=Math['PI']*(-0x1ae8+-0xad*-0x18+0xab0+0.5)+_0x269ce1*Math['PI']*(-0x207d*-0x1+0xc79+-0x2cf6*0x1+0.5)/_0x146585,_0x22ed77=Math['sin'](_0x4c742e),_0x97e572=Math['cos'](_0x4c742e);for(let _0x31a25d=-0x85*0xe+0x1*-0x49b+0xbe1;_0x31a25d<=_0x34656c;_0x31a25d++){const _0x30ac4b=_0x31a25d*(0x452*-0x5+0xf9d*-0x1+-0xd*-0x2dd)*Math['PI']/_0x34656c-Math['PI']/(-0x11cb+0x258e+0x1*-0x13c1),_0x378140=Math['sin'](_0x30ac4b),_0xa2ca22=Math['cos'](_0x30ac4b)*_0x22ed77,_0x5ab85d=_0x97e572,_0x128394=_0x378140*_0x22ed77;let _0x2e93d5=-0x12ab*0x2+-0x2251+0x2*0x23d4-_0x31a25d/_0x34656c,_0x2bf71b=0xb0b+-0xa6*0x11+0x1*-0x4-_0x269ce1/_0x146585;_0x4cf062['push'](_0xa2ca22*_0x155dc1,_0x5ab85d*_0x155dc1-_0x115355,_0x128394*_0x155dc1),_0x2ab760['push'](_0xa2ca22,_0x5ab85d,_0x128394),_0x2d5c9b['push'](_0x2e93d5,0x1320+0x2119*0x1+-0x3438-_0x2bf71b),_0x2e93d5=_0x2e93d5*si+zs,_0x2bf71b=_0x2bf71b*si+zs,_0x2e93d5/=-0x23d0+0x2656+0x1*-0x283,_0x2bf71b/=0x1*0xa3a+0x3e*0x34+-0x16cf,_0x2e93d5+=(-0x20f1+-0x1d1b*0x1+-0x263*-0x1a)/(-0x1c0+0xeb8+-0xcf5),_0x457a92['push'](_0x2e93d5,-0xff8+-0xf8b+0x1*0x1f84-_0x2bf71b);}}_0xe97352=(_0x1c737d+(-0xd58+-0x187a+0x25d3))*(_0x563e73+(0x1*-0x1229+-0x1*-0x1066+0x1c4))+(_0x34656c+(0xe7+-0xb3*0x19+0x1095))*(_0x146585+(0x77*-0x31+0x6d7*-0x4+0x1*0x3224));for(let _0x587b6d=0x1a1+-0xe5*-0x17+0x1c*-0xcb;_0x587b6d<_0x146585;++_0x587b6d)for(let _0x45b52b=0x2c9*0xa+-0x1*0x1d29+0x1*0x14f;_0x45b52b<_0x34656c;++_0x45b52b){const _0x40f901=_0x587b6d*(_0x34656c+(-0x21d2+0x1*-0x7f8+0x29cb))+_0x45b52b,_0x47a089=_0x40f901+_0x34656c+(0x1*0x11e6+0xda7+0xc*-0x2a1);_0x28b1d8['push'](_0xe97352+_0x40f901+(-0x3af*-0x3+-0x1e8*0x4+-0x36c),_0xe97352+_0x47a089,_0xe97352+_0x40f901),_0x28b1d8['push'](_0xe97352+_0x40f901+(-0x2119*0x1+-0x838+0x6*0x6e3),_0xe97352+_0x47a089+(-0xe*0x2be+-0x1a5*0xb+0x387c),_0xe97352+_0x47a089);}}else{if(_0xe97352=(_0x1c737d+(-0x4c*-0x4a+0x19c*-0x6+-0x89*0x17))*(_0x563e73+(0x2*0xdbe+0x460+-0x1fdb)),_0x1a160f>0x1*0x26c9+-0x60e+-0x20bb)for(let _0x2432a1=-0xeaf+-0x3*0x392+0x1965;_0x2432a1<_0x563e73;_0x2432a1++){const _0x1f7f4d=_0x2432a1/_0x563e73*(-0x1*0x3a1+-0x1a80+0x1e23)*Math['PI'],_0x58988a=Math['sin'](_0x1f7f4d),_0x1781e4=-_0x3903ff/(-0x3*0x27a+0x263*-0xd+0x2b*0xe5),_0x446f56=Math['cos'](_0x1f7f4d);let _0x3031f0=0x7a8+-0x15c5+-0x1a*-0x8b-(_0x58988a+(0x2*-0x78b+0x1*0x2527+-0x1610))/(0xfb6+-0x1*-0xc37+-0x1beb),_0x36e7d9=(_0x446f56+(-0x895*-0x2+0x125*0x5+-0x16e2))/(-0x196+-0x1717+0x18af);_0x4cf062['push'](_0x58988a*_0x1a160f,_0x1781e4,_0x446f56*_0x1a160f),_0x2ab760['push'](-0x219f+-0x382*-0x5+-0x1015*-0x1,-(-0x161b+0x1*-0x824+-0xb*-0x2c0),-0x1*0xa9c+-0x237b*0x1+0x2e17),_0x2d5c9b['push'](_0x3031f0,0x72+-0x1112+-0x3*-0x58b-_0x36e7d9),_0x3031f0=_0x3031f0*si+zs,_0x36e7d9=_0x36e7d9*si+zs,_0x3031f0/=-0xef8+-0x1621+0x3b6*0xa,_0x36e7d9/=0x13*0xbf+0x1422+-0x224c,_0x3031f0+=(0x1*0xa2b+-0x2380+-0x8d*-0x2e)/(0xd2c+-0x2497+0x2*0xbb7),_0x457a92['push'](_0x3031f0,0x3*-0x27f+0x775+0x9-_0x36e7d9),_0x2432a1>0x124*-0x1c+0x4fa+-0x3b*-0x75&&_0x28b1d8['push'](_0xe97352,_0xe97352+_0x2432a1,_0xe97352+_0x2432a1-(0xfe7+0x2*-0xb9c+0x752));}if(_0xe97352+=_0x563e73,_0x155dc1>-0x1d4c+0x5*0x272+0x36a*0x5)for(let _0x4be777=-0xf2c*0x2+-0x26*-0x17+0x9*0x2fe;_0x4be777<_0x563e73;_0x4be777++){const _0x3e17eb=_0x4be777/_0x563e73*(0x7*-0x11c+0x473+0x1*0x353)*Math['PI'],_0x1e52de=Math['sin'](_0x3e17eb),_0x439433=_0x3903ff/(0x5*0x5+-0x3d*-0x18+-0x5cf),_0x48d84d=Math['cos'](_0x3e17eb);let _0x3fc26c=-0x1985+0x668+0x1*0x131e-(_0x1e52de+(0xb03*0x2+-0x20bf+0x2*0x55d))/(0x3f1+-0x523+-0x9a*-0x2),_0x3ee72f=(_0x48d84d+(0x2146+-0x1*0x243d+0x1*0x2f8))/(0x6d3+0x1267+-0x1938);_0x4cf062['push'](_0x1e52de*_0x155dc1,_0x439433,_0x48d84d*_0x155dc1),_0x2ab760['push'](0x2172+-0x76a*0x1+0x7*-0x3b8,0x70+-0xa58+0x1*0x9e9,-0x32c+0x1c73+-0x1947),_0x2d5c9b['push'](_0x3fc26c,0x96f+0x4*0x626+-0x2206-_0x3ee72f),_0x3fc26c=_0x3fc26c*si+zs,_0x3ee72f=_0x3ee72f*si+zs,_0x3fc26c/=0x919+0x262e+-0xa*0x4ba,_0x3ee72f/=0x5e5+0x1504+0x139*-0x16,_0x3fc26c+=(0x21f*-0x6+0x2*0xb51+-0x9e6)/(-0x62f*0x1+-0x36d*0x1+0x3*0x335),_0x457a92['push'](_0x3fc26c,0x1832+0x1*0x1d3f+0x474*-0xc-_0x3ee72f),_0x4be777>-0x14aa*-0x1+0x1*-0xccf+0x7da*-0x1&&_0x28b1d8['push'](_0xe97352,_0xe97352+_0x4be777-(-0x1724+-0x7c5*-0x1+0x1ec*0x8),_0xe97352+_0x4be777);}}this['positions']=_0x4cf062,this['normals']=_0x2ab760,this['uvs']=_0x2d5c9b,this['uvs1']=_0x457a92,this['indices']=_0x28b1d8;}}class GA extends gm{constructor(_0x4b3ade={}){const _0x1473ed=_0x4b3ade['radius']??-0x3*-0x7e1+-0x1b43+-0x1d*-0x20+0.3,_0x39f078=_0x4b3ade['height']??0x1af*-0x1+0x1c9e+-0x2*0xd77,_0x4aa7db=_0x4b3ade['heightSegm'+'ents']??0x116*-0xd+-0x1f61+0x2d80,_0x7ef1d3=_0x4b3ade['sides']??0xe25*-0x2+-0x1*0x1bc8+-0x1*-0x3826;super(_0x1473ed,_0x1473ed,_0x39f078-(-0x1*0x1e85+-0x16d9*-0x1+-0x7ae*-0x1)*_0x1473ed,_0x4aa7db,_0x7ef1d3,!(-0x9d*0x29+-0x16a6+0x2fcb)),_0x4b3ade['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x7c9c6={}){const _0x3b091c=_0x7c9c6['baseRadius']??0xa8d+0x1*0x22eb+-0x2d78+0.5,_0x2ebbdc=_0x7c9c6['peakRadius']??-0x36e*0x6+0x24c5+0x33d*-0x5,_0x216346=_0x7c9c6['height']??-0x471+-0x1*-0x12df+-0xe6d,_0x2e813d=_0x7c9c6['heightSegm'+'ents']??0x5*0x1c3+0xd77+0x76b*-0x3,_0x54e695=_0x7c9c6['capSegment'+'s']??0x2*0x21e+-0x3da+0x28*-0x2;super(_0x3b091c,_0x2ebbdc,_0x216346,_0x2e813d,_0x54e695,!(-0x1721+-0xc3a*-0x2+-0x152)),_0x7c9c6['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x296092={}){const _0x5dca54=_0x296092['radius']??-0x86*-0x2+0x1583+-0x339*0x7+0.5,_0x257634=_0x296092['height']??-0xad3+0xaf8+-0x24*0x1,_0x3213e2=_0x296092['heightSegm'+'ents']??-0xc9*0x6+0x139*0x11+-0x89*0x1e,_0x20ce43=_0x296092['capSegment'+'s']??0x2283+0x1*-0x3d9+-0x1e96;super(_0x5dca54,_0x5dca54,_0x257634,_0x3213e2,_0x20ce43,!(-0x9f1*-0x1+-0x1006*-0x1+0xcfb*-0x2)),_0x296092['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x2c3eba={}){super();const _0x485ed3=_0x2c3eba['halfExtent'+'s']??new J(0x1*0x59e+0x2668+-0x2c06+0.5,0x2*-0x1195+0x1*-0x179+0x24a3*0x1+0.5),_0x1121e8=_0x2c3eba['widthSegme'+'nts']??0xca3+-0x1be0+0xf42,_0x50784c=_0x2c3eba['lengthSegm'+'ents']??0x1*-0x1df0+0x883*-0x1+0x2678,_0x4e4951=[],_0x336743=[],_0x33ec74=[],_0x523615=[];let _0x31fea8=0x1*0x1d7b+0xb*0x281+-0x3906;for(let _0x113c2a=0x1*0x21c1+-0x1235+-0xf8c;_0x113c2a<=_0x1121e8;_0x113c2a++)for(let _0x415e3e=-0xc8*-0x2+0x24c5+-0x2655;_0x415e3e<=_0x50784c;_0x415e3e++){const _0x15d00d=-_0x485ed3['x']+(-0x263d+-0x9e9+0x10c*0x2e)*_0x485ed3['x']*_0x113c2a/_0x1121e8,_0x2d332=-0x4d*-0x4f+-0x1430+-0x393,_0x2e9fe2=-(-_0x485ed3['y']+(0xab5*-0x1+-0x2*-0xeaa+-0x129d)*_0x485ed3['y']*_0x415e3e/_0x50784c),_0x5ca536=_0x113c2a/_0x1121e8,_0x546306=_0x415e3e/_0x50784c;_0x4e4951['push'](_0x15d00d,_0x2d332,_0x2e9fe2),_0x336743['push'](-0x3c0*-0x3+-0x26d8+-0x373*-0x8,0x453+-0x219b*0x1+-0x33*-0x93,-0x20c7+-0xf93+0x6*0x80f),_0x33ec74['push'](_0x5ca536,-0x357+0x37*0x9+0x169*0x1-_0x546306),_0x113c2a<_0x1121e8&&_0x415e3e<_0x50784c&&(_0x523615['push'](_0x31fea8+_0x50784c+(0x1*-0x1727+0xeb8+0x870),_0x31fea8+(-0x126c+-0xddb+-0x4*-0x812),_0x31fea8),_0x523615['push'](_0x31fea8+_0x50784c+(0x1*-0x59d+-0x1a63+0x2001),_0x31fea8+_0x50784c+(-0x1*0x12c3+-0x1da8*0x1+0x7*0x6eb),_0x31fea8+(0x16d5*0x1+0x2219*0x1+-0x38ed))),_0x31fea8++;}this['positions']=_0x4e4951,this['normals']=_0x336743,this['uvs']=_0x33ec74,this['uvs1']=_0x33ec74,this['indices']=_0x523615,_0x2c3eba['calculateT'+'angents']&&(this['tangents']=Mr(_0x4e4951,_0x336743,_0x33ec74,_0x523615));}}class XA extends Ta{constructor(_0x32cf17={}){super();const _0x9a066f=_0x32cf17['tubeRadius']??-0xc3c+0x791+-0xef*-0x5+0.2,_0x55d1d6=_0x32cf17['ringRadius']??0x3*-0x41b+0x1*0x2239+-0x15e8+0.3,_0x2e4ad5=(_0x32cf17['sectorAngl'+'e']??0x1*-0x1edd+0x1*-0x673+0x26b8)*Y['DEG_TO_RAD'],_0x5baf47=_0x32cf17['segments']??0xd46+-0x1df+-0xb49,_0x2b6836=_0x32cf17['sides']??0x95a+-0x22f7+0x1*0x19b1,_0x26b941=[],_0xec4665=[],_0x3418d1=[],_0x101d03=[];for(let _0x440808=0x1da0*-0x1+0x3*-0x8ad+0x37a7;_0x440808<=_0x2b6836;_0x440808++)for(let _0x823b27=0xa19+0x312+-0x1*0xd2b;_0x823b27<=_0x5baf47;_0x823b27++){const _0x4bb0e9=Math['cos'](_0x2e4ad5*_0x823b27/_0x5baf47)*(_0x55d1d6+_0x9a066f*Math['cos']((-0x26bc+-0x17d9+0x3e97)*Math['PI']*_0x440808/_0x2b6836)),_0x216dfc=Math['sin']((0x991+0x3*-0x24+-0x1*0x923)*Math['PI']*_0x440808/_0x2b6836)*_0x9a066f,_0xe53f8e=Math['sin'](_0x2e4ad5*_0x823b27/_0x5baf47)*(_0x55d1d6+_0x9a066f*Math['cos']((0x232a+-0xac*0x2+-0x8*0x43a)*Math['PI']*_0x440808/_0x2b6836)),_0x1e7cdc=Math['cos'](_0x2e4ad5*_0x823b27/_0x5baf47)*Math['cos']((-0x66c*0x1+0x5*0x63d+-0x18c3*0x1)*Math['PI']*_0x440808/_0x2b6836),_0x1f961f=Math['sin']((0x1e8e+0x1*0x2b+0x1eb7*-0x1)*Math['PI']*_0x440808/_0x2b6836),_0xb5bd4a=Math['sin'](_0x2e4ad5*_0x823b27/_0x5baf47)*Math['cos']((0x8f9*0x1+-0x62*0x1+-0xd*0xa9)*Math['PI']*_0x440808/_0x2b6836),_0x99cd7b=_0x440808/_0x2b6836,_0x2a1862=-0xf*0x7+0xa71+-0xa07-_0x823b27/_0x5baf47;if(_0x26b941['push'](_0x4bb0e9,_0x216dfc,_0xe53f8e),_0xec4665['push'](_0x1e7cdc,_0x1f961f,_0xb5bd4a),_0x3418d1['push'](_0x99cd7b,0x171a+0x692+-0xd9*0x23-_0x2a1862),_0x440808<_0x2b6836&&_0x823b27<_0x5baf47){const _0x242fcd=_0x440808*(_0x5baf47+(-0x7*0xde+-0x929+0xf*0x104))+_0x823b27,_0x232658=(_0x440808+(-0x2682+0x191*0x5+-0x462*-0x7))*(_0x5baf47+(-0x287*0x1+0x4b5+-0x22d))+_0x823b27,_0xd73ec5=_0x440808*(_0x5baf47+(0x1922+0x15a*0x18+-0x3991))+(_0x823b27+(0x11d5+0x1d23*-0x1+0xb4f)),_0x45bbc8=(_0x440808+(0x1f61+0x1*-0x1da9+-0x1b7*0x1))*(_0x5baf47+(0x16e+-0x1f*-0xec+-0x1e01))+(_0x823b27+(0x1043+0x22ef+0x1*-0x3331));_0x101d03['push'](_0x242fcd,_0x232658,_0xd73ec5),_0x101d03['push'](_0x232658,_0x45bbc8,_0xd73ec5);}}this['positions']=_0x26b941,this['normals']=_0xec4665,this['uvs']=_0x3418d1,this['uvs1']=_0x3418d1,this['indices']=_0x101d03,_0x32cf17['calculateT'+'angents']&&(this['tangents']=Mr(_0x26b941,_0xec4665,_0x3418d1,_0x101d03));}}class qA{constructor(_0x294e97,_0x4537c3){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x294e97,this['_isClearin'+'gCache']=!(0x9c9*0x1+0x13ed+-0x1db5),this['_precached']=!(-0x12f5*0x1+-0x3*0x5d4+0x613*0x6),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x27a216=new vv();_0x4537c3['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x27a216,_0x4537c3,null,[],Aa,null),_0x4537c3['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x4537c3,null,cm,null),_0x294e97['on']('destroy:sh'+'ader',_0x12d2be=>{this['removeFrom'+'Cache'](_0x12d2be);});}['destroy'](){this['clearCache']();}['register'](_0x109c20,_0x39215c){this['_generator'+'s']['has'](_0x109c20)||this['_generator'+'s']['set'](_0x109c20,_0x39215c);}['unregister'](_0x5f1bf7){this['_generator'+'s']['has'](_0x5f1bf7)&&this['_generator'+'s']['delete'](_0x5f1bf7);}['isRegister'+'ed'](_0x4b6378){return this['_generator'+'s']['has'](_0x4b6378);}['generateSh'+'aderDefini'+'tion'](_0x22f1c9,_0x3cb20b,_0x102981,_0x3c3974){var _0x4a693f,_0x55202a;let _0x4d0e24=this['definition'+'sCache']['get'](_0x102981);if(!_0x4d0e24){let _0x28e7ae;(_0x4a693f=_0x3c3974['litOptions'])!=null&&_0x4a693f['lights']&&(_0x28e7ae=_0x3c3974['litOptions']['lights'],_0x3c3974['litOptions']['lights']=_0x28e7ae['map'](_0x4db644=>{const _0x3afbe1=_0x4db644['clone']?_0x4db644['clone']():_0x4db644;return _0x3afbe1['key']=_0x4db644['key'],_0x3afbe1;})),this['storeNewPr'+'ogram'](_0x3cb20b,_0x3c3974),(_0x55202a=_0x3c3974['litOptions'])!=null&&_0x55202a['lights']&&(_0x3c3974['litOptions']['lights']=_0x28e7ae),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x3cb20b+'\x20key\x20'+_0x102981+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x19257e=this['_device'];_0x4d0e24=_0x22f1c9['createShad'+'erDefiniti'+'on'](_0x19257e,_0x3c3974),_0x4d0e24['name']=_0x4d0e24['name']??(_0x3c3974['pass']?_0x3cb20b+'-pass:'+_0x3c3974['pass']:_0x3cb20b),this['definition'+'sCache']['set'](_0x102981,_0x4d0e24);}return _0x4d0e24;}['getCachedS'+'hader'](_0x4dabaa){return this['processedC'+'ache']['get'](_0x4dabaa);}['setCachedS'+'hader'](_0x195b99,_0x446be0){this['processedC'+'ache']['set'](_0x195b99,_0x446be0);}['getProgram'](_0x2a98f3,_0x570c54,_0x5232f8,_0x3d7a8b){const _0x2adf5c=this['_generator'+'s']['get'](_0x2a98f3);if(!_0x2adf5c)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x2a98f3),null;const _0x40c702=_0x2adf5c['generateKe'+'y'](_0x570c54),_0x20c18f=hi(_0x40c702),_0x4ce9e1=_0x5232f8['generateKe'+'y'](this['_device']),_0x1249cd=hi(_0x4ce9e1),_0xbdfeee=_0x20c18f+'#'+_0x1249cd;let _0x123736=this['getCachedS'+'hader'](_0xbdfeee);if(!_0x123736){const _0x340eec=this['generateSh'+'aderDefini'+'tion'](_0x2adf5c,_0x2a98f3,_0x20c18f,_0x570c54);w['assert'](_0x340eec);let _0x4fc3f3='',_0x329350;_0x570c54['pass']!==void(-0x172d+0x25cc+-0xe9f)&&(_0x329350=Si['get'](this['_device'])['getByIndex'](_0x570c54['pass']),_0x4fc3f3='-'+_0x329350['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x3d7a8b,'shaderPassInfo':_0x329350,'definition':_0x340eec});const _0x19fab7={'name':''+_0x340eec['name']+_0x4fc3f3+'-proc','attributes':_0x340eec['attributes'],'vshader':_0x340eec['vshader'],'vincludes':_0x340eec['vincludes'],'fincludes':_0x340eec['fincludes'],'fshader':_0x340eec['fshader'],'processingOptions':_0x5232f8,'shaderLanguage':_0x340eec['shaderLang'+'uage'],'meshUniformBufferFormat':_0x340eec['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x340eec['meshBindGr'+'oupFormat']};_0x123736=new qy(this['_device'],_0x19fab7),w['call'](()=>{_0x123736['_generatio'+'nKey']=_0x40c702,_0x123736['_processin'+'gKey']=_0x4ce9e1;}),this['setCachedS'+'hader'](_0xbdfeee,_0x123736);}return _0x123736;}['storeNewPr'+'ogram'](_0x374567,_0x1994cd){let _0x4185c4={};if(_0x374567==='standard'){const _0x2690b1=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1994cd['pass']);for(const _0x55a682 in _0x1994cd)(_0x1994cd['hasOwnProp'+'erty'](_0x55a682)&&_0x2690b1[_0x55a682]!==_0x1994cd[_0x55a682]||_0x55a682==='pass')&&(_0x4185c4[_0x55a682]=_0x1994cd[_0x55a682]);for(const _0x3d8320 in _0x1994cd['litOptions'])_0x4185c4[_0x3d8320]=_0x1994cd['litOptions'][_0x3d8320];}else _0x4185c4=_0x1994cd;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x374567,'options':_0x4185c4}));}['dumpProgra'+'ms'](){let _0x1e0b35='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x1e0b35+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x22*0x11b+-0x682+-0x374*0x9]&&(_0x1e0b35+='\x0a\x09'+this['_programsC'+'ollection'][-0x755+0x167c+-0xf27]);for(let _0x435607=-0x468+0x815*-0x1+-0xc7e*-0x1;_0x435607<this['_programsC'+'ollection']['length'];++_0x435607)_0x1e0b35+=',\x0a\x09'+this['_programsC'+'ollection'][_0x435607];_0x1e0b35+='\x0a];\x0a',_0x1e0b35+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x1e0b35+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x1e0b35+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x11a485=document['createElem'+'ent']('a');_0x11a485['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x1e0b35)),_0x11a485['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x11a485['style']['display']='none',document['body']['appendChil'+'d'](_0x11a485),_0x11a485['click'](),document['body']['removeChil'+'d'](_0x11a485);}['clearCache'](){this['_isClearin'+'gCache']=!(0x41*0x1d+-0xa52+0x2f5*0x1),this['processedC'+'ache']['forEach'](_0x451bb8=>{_0x451bb8['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x1f*0xc9+0x2065+0x9*-0xe5);}['removeFrom'+'Cache'](_0x240fbf){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x30eab4,_0xf877d9)=>{_0x240fbf===_0x30eab4&&this['processedC'+'ache']['delete'](_0xf877d9);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xb97e2d){const _0x17156d=Si['get'](this['_device'])['getByIndex'](_0xb97e2d);return _0xb97e2d===Zn||_0xb97e2d===Rl||_0x17156d['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x4f4a5f){if(_0x4f4a5f){const _0x4cd47e=new Array(_0x4f4a5f['length']);for(let _0x581535=-0xd*0x20f+0x1*0x1915+0x1ae;_0x581535<_0x4f4a5f['length'];_0x581535++){if(_0x4f4a5f[_0x581535]['name']==='standard'){const _0x5e52a3=_0x4f4a5f[_0x581535]['options'],_0x387279=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5e52a3['pass']);for(const _0x5aad8d in _0x387279)_0x387279['hasOwnProp'+'erty'](_0x5aad8d)&&_0x5e52a3[_0x5aad8d]===void(-0xce6*-0x1+-0x1b77+0xb*0x153)&&(_0x5e52a3[_0x5aad8d]=_0x387279[_0x5aad8d]);}_0x4cd47e[_0x581535]=this['getProgram'](_0x4f4a5f[_0x581535]['name'],_0x4f4a5f[_0x581535]['options']);}}this['_precached']=!(0x11bb+-0x5ca*0x2+0x19*-0x3f);}}async function jA(){const _0x501832=new Float32Array(0x7cd+-0x5*0x5fb+0x161b*0x1),_0x40ff3c=new Int32Array(_0x501832['buffer']);let _0x21f251=-0x245e+-0x99e+0x2dfc,_0x4ef4ed={};self['onmessage']=async _0x237f3f=>{const {data:_0x478d38}=_0x237f3f;switch(_0x478d38['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x109c29(_0x478d38['properties'],_0x478d38['timeIndex'],_0x478d38['timeOption']);break;case'releaseSeq'+'Data':_0x5e1e5e(_0x478d38['index']);break;case'releaseAll'+'SeqData':_0x4778e9();break;case'destroyWor'+'ker':_0x2ec26e();break;}};class _0x83ec3b{constructor(_0x2ab1a1=-0x2572+0x9de+0x161*0x14,_0x168e61=0xb27+-0x83*-0xa+-0x1045,_0x311f5d=0x4*-0x15f+-0xdaf*-0x1+0x833*-0x1,_0x151a37=0x4d8+0x203e*0x1+0x1*-0x2515){this['x']=_0x2ab1a1,this['y']=_0x168e61,this['z']=_0x311f5d,this['w']=_0x151a37;}['set'](_0x3017d7,_0x52ab39,_0x5d7b42,_0x1b466b){return this['x']=_0x3017d7,this['y']=_0x52ab39,this['z']=_0x5d7b42,this['w']=_0x1b466b,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x149f98=this){let _0x121c64=_0x149f98['length']();return _0x121c64===0x7*0x37e+0x598+-0x1e0a?(this['x']=this['y']=this['z']=-0x4bd*0x3+-0x2*0x434+-0x1*-0x169f,this['w']=0x74+-0x19e2+0x196f):(_0x121c64=(-0x1*-0x27b+-0x7fa+0x580)/_0x121c64,this['x']=_0x149f98['x']*_0x121c64,this['y']=_0x149f98['y']*_0x121c64,this['z']=_0x149f98['z']*_0x121c64,this['w']=_0x149f98['w']*_0x121c64),this;}['mulScalar'](_0x7e48a1,_0x2268d6=this){return this['x']=_0x2268d6['x']*_0x7e48a1,this['y']=_0x2268d6['y']*_0x7e48a1,this['z']=_0x2268d6['z']*_0x7e48a1,this['w']=_0x2268d6['w']*_0x7e48a1,this;}}const _0x3dcf0e=_0x9d08b4=>{_0x501832[0x15ad+-0x87e*-0x3+-0x2f27]=_0x9d08b4;const _0x221a30=_0x40ff3c[-0x5*0x79d+0xf*-0x1df+0x4222];let _0x374971=_0x221a30>>0xd88+-0x1337*-0x1+-0x1*0x20af&0x17eb*-0x3+-0xf257+0x1ba18,_0x43c27a=_0x221a30>>-0x1d52+-0xc42+0x29a0&0x1*-0x954+-0x10ab+0x21fe;const _0x595423=_0x221a30>>0x52*-0x41+-0x180e+0x2cf7&-0x3*-0x19e+-0x1*-0x18e6+-0x1cc1;return _0x595423<-0x1*0xbb1+0x3f1*-0x1+0x1009?_0x374971:_0x595423>0x181e+-0x1b*-0x151+0x3b1b*-0x1?(_0x374971|=0x547d*0x2+0x6917*0x1+0x1*-0x9611,_0x374971|=(_0x595423===0x1*-0x109d+0x1*0x1f79+-0x15*0xa9?0x25d*0x8+0x15c8+-0x28b0:-0x1*0xd78+-0x169*0x10+0x2409)&&_0x221a30&0x39fbdb+-0x6*0x299fab+0x13fc226,_0x374971):_0x595423<-0x14*-0x1f0+0x396+-0x29e5?(_0x43c27a|=-0x73*-0x4+-0x4a1+0x1*0xad5,_0x374971|=(_0x43c27a>>-0x10b3+0x271*-0x10+0x3835-_0x595423)+(_0x43c27a>>-0x1b03+0x13c9+0x7ab-_0x595423&0x9c9+0x218f+-0x2b57),_0x374971):(_0x374971|=_0x595423-(0x14b*0x8+-0x2648+0x1c60)<<0x181b+0x129a*0x1+-0x2aab|_0x43c27a>>0x1*0x23bd+0x1*-0x3dd+-0x1fdf,_0x374971+=_0x43c27a&-0x53*0x3+-0x245+-0x1*-0x33f,_0x374971);},_0x2a99eb=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x5621f2=-0x43*0x8a+0x259f+-0x181;_0x5621f2<-0x1*0x1871+-0x5d*-0x5+0x16cd;++_0x5621f2)if(!_0x4ef4ed['f_rest_'+_0x5621f2])return _0x5621f2;return 0x1d15+0x191*-0x5+-0x19f*0xd;})())]??0x71*-0x3b+0x1*0x2161+0x3*-0x272),_0x109c29=(_0x119e45,_0x1365ec,_0x2315f4)=>{const _0x3850f6=!!_0x119e45['time_index'];_0x3850f6||(_0x119e45['time_index']=new Float32Array(-0x2e+0x7*0x277+-0x1113)),_0x21f251+=_0x119e45['x']['length']??0x2a2*-0x1+0x3d9+0x137*-0x1;const _0x4be018=Object['keys'](_0x119e45);for(let _0x389f45=0x89c*-0x3+-0xfd1*-0x1+0xa03;_0x389f45<_0x4be018['length'];_0x389f45++){const _0x27c0f9=_0x4be018[_0x389f45],_0x4eaddd=_0x119e45[_0x27c0f9],_0xd77d42=_0x4ef4ed[_0x27c0f9]??new Float32Array(0x113c*-0x2+-0x8a*0x2+0x238c);if(!_0x3850f6&&_0x27c0f9==='time_index'){const _0x3c0622=new Float32Array(_0x21f251);_0x3c0622['fill'](_0x1365ec),_0x3c0622['set'](_0xd77d42,-0x1*0x1226+-0xaba+0x1ce0),_0x4ef4ed[_0x27c0f9]=_0x3c0622;}else{if(!_0x3850f6&&_0x4eaddd&&_0x27c0f9==='t'){const _0x208e3d=new Float32Array(_0x21f251);if(_0x208e3d['set'](_0xd77d42,0x3*0xbcb+-0x25fd+0x29c),_0x2315f4){for(let _0x23fb3a=_0xd77d42['length'];_0x23fb3a<_0x21f251;_0x23fb3a++)_0x4eaddd[_0x23fb3a-_0xd77d42['length']]>-(-0x16cb+0x47a+0x1256)?_0x208e3d[_0x23fb3a]=_0x4eaddd[_0x23fb3a-_0xd77d42['length']]+_0x2315f4[(0x1826+-0x20*-0x25+-0x1cc4)*_0x1365ec]:_0x208e3d[_0x23fb3a]=_0x4eaddd[_0x23fb3a-_0xd77d42['length']];}_0x4ef4ed[_0x27c0f9]=_0x208e3d;}else{if(_0x4eaddd){const _0x1299a1=new Float32Array(_0x21f251);_0x1299a1['set'](_0xd77d42,0x2*-0xf1e+0x2b6+-0xd*-0x21e),_0x1299a1['set'](_0x4eaddd,_0xd77d42['length']),_0x4ef4ed[_0x27c0f9]=_0x1299a1;}}}}const _0x2fd0d1={};Object['keys'](_0x4ef4ed)['forEach'](_0x228d23=>{_0x2fd0d1[_0x228d23]=new Float32Array(_0x4ef4ed[_0x228d23]['buffer']['slice']());});const _0x2cddb5=Object['keys'](_0x2fd0d1)['map'](_0x686bd0=>_0x2fd0d1[_0x686bd0]['buffer']),_0x274819=_0x1f0984(),_0x2d99f0=Object['keys'](_0x274819)['map'](_0x3655a2=>_0x274819[_0x3655a2]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x2fd0d1,'transformData':_0x274819},_0x2cddb5['concat'](_0x2d99f0));},_0x1f0984=()=>{const _0x241e05=_0x4ef4ed['x']['length'],_0x288633=_0x4ef4ed['x'],_0x34af92=_0x4ef4ed['y'],_0x4ffad0=_0x4ef4ed['z'],_0x30c126=_0x4ef4ed['scale_0'],_0x465026=_0x4ef4ed['scale_1'],_0x337442=_0x4ef4ed['scale_2'],_0x4be3bd=_0x4ef4ed['rot_1'],_0x24e13e=_0x4ef4ed['rot_2'],_0x47ca48=_0x4ef4ed['rot_3'],_0x1da9a7=_0x4ef4ed['rot_0'],_0x1917a4=_0x4ef4ed['motion_0'],_0x53e3ec=_0x4ef4ed['motion_1'],_0x32f5b3=_0x4ef4ed['motion_2'],_0x3ec4c8=_0x4ef4ed['t'],_0x26f7a8=_0x4ef4ed['t_scale'],_0x4003b3=_0x4ef4ed['time_index'],_0x180848=_0x4ef4ed['f_dc_0'],_0x466700=_0x4ef4ed['f_dc_1'],_0x1fe3d3=_0x4ef4ed['f_dc_2'],_0x3c092c=_0x4ef4ed['opacity'],_0x386d99=(_0x3ec4c8==null?void(-0x11f1+-0x187a+0x2a6b):_0x3ec4c8['length'])>0x209f+-0x1*-0x1f4b+0x1b*-0x25e,_0x34f4ac=new Float32Array(_0x241e05*(0x11df+0x23f*-0xf+-0x3*-0x547)),_0x38c7bd=new Float32Array(_0x241e05*(0x1ddb+0x3b*-0x1+-0x1d9d*0x1)),_0x1f2394=new Uint16Array(_0x241e05*(0x1fa6+-0x1878+-0x72b)),_0x38d4d2=new Float32Array(_0x241e05*(-0x4fe*-0x2+0x1*0xbfb+-0x15f4));let _0x16075e=null,_0x1131b4=null,_0x4e2f55=null,_0x5be7ca=null;_0x386d99&&(_0x16075e=new Float32Array(_0x241e05*(0x1fe+-0x1*0x223d+-0x2*-0x1021)),_0x1131b4=new Float32Array(_0x241e05*(0x1*-0x10d7+-0xec*-0x1d+0x2*-0x4f1)),_0x4e2f55=new Float32Array(_0x241e05*(-0x432+-0x11b*-0xa+0x6d9*-0x1)),_0x5be7ca=new Float32Array(_0x241e05));const _0x191c41=new _0x83ec3b(-0xc90+-0x283*-0xf+-0x191d,-0x1*-0x1bda+0x7*-0x112+0x517*-0x4,-0xaa1+-0x1829+0x22ca*0x1,-0x9ef+0x1c80+0x1291*-0x1);let _0x3ab0c4=-0x1796+0x9d*-0x39+-0x1*-0x3a8b,_0xd8a678=-0x1c85+0x746+0x153f,_0x2a83d9=0x174e+-0x1144+-0x2*0x305,_0x32c1de=0x151*0x13+0x61f*0x2+-0x2541,_0x1f5213=-0x2365+0x1*-0xaf3+0x2e58,_0x5b1e15=0x111a+0x2707+-0x3821,_0x49cd47=!(-0x3*0xb95+-0x178*-0x6+0x19ef*0x1);const _0x160e71=new Float32Array(0xdee+0x1244+-0x202f),_0x458253=new Float32Array(0x18ae+-0x1*0xc36+0xc75*-0x1),_0xd3cd13=new Uint16Array(_0x241e05*(0x9*0x426+0x13fa+0x1ca6*-0x2)),_0x569e14=0x1144+0x1c3a*-0x1+0xaf6+0.28209479177387814;for(let _0x557ff0=-0x263c+-0x10b2+0x36ee;_0x557ff0<_0x241e05;++_0x557ff0){const _0x236b8d=_0x180848[_0x557ff0]*_0x569e14+(0xbc8+-0x1*0x477+-0x751+0.5),_0x229833=_0x466700[_0x557ff0]*_0x569e14+(0x4f2+0xf36+-0x1428+0.5),_0x2dcd95=_0x1fe3d3[_0x557ff0]*_0x569e14+(0x2296+-0xfc8+0xa6*-0x1d+0.5),_0x35dc40=_0x3c092c[_0x557ff0];_0xd3cd13[_0x557ff0*(-0x237e+-0x1*0x82f+0x2bb1)+(0x1bf3+0xea2+0x1*-0x2a95)]=_0x3dcf0e(_0x236b8d),_0xd3cd13[_0x557ff0*(-0x2568+-0x10a9+0x3615)+(-0x3a+0x193f+0x1904*-0x1)]=_0x3dcf0e(_0x229833),_0xd3cd13[_0x557ff0*(0x1b88+0x47f+-0x2003)+(0x79*-0x15+0x2136+-0x1747)]=_0x3dcf0e(_0x2dcd95),_0xd3cd13[_0x557ff0*(0x1*0x1f45+0xc76+0x169*-0x1f)+(-0x19bf+0x14cd+-0x1*-0x4f5)]=_0x3dcf0e(_0x35dc40);const _0x47e65f=_0x288633[_0x557ff0],_0x597e4a=_0x34af92[_0x557ff0],_0x2bfca7=_0x4ffad0[_0x557ff0],_0x173862=Math['max'](_0x30c126[_0x557ff0],_0x465026[_0x557ff0],_0x337442[_0x557ff0]);if(isFinite(_0x47e65f)&&isFinite(_0x597e4a)&&isFinite(_0x2bfca7)&&isFinite(_0x173862)){const _0x23da78=(0xd8a+0x1ec8+-0x2c50)*Math['exp'](_0x173862);_0x49cd47?(_0x49cd47=!(-0xf3c+0x16c+0xdd1),_0x3ab0c4=_0x47e65f-_0x23da78,_0xd8a678=_0x597e4a-_0x23da78,_0x2a83d9=_0x2bfca7-_0x23da78,_0x32c1de=_0x47e65f+_0x23da78,_0x1f5213=_0x597e4a+_0x23da78,_0x5b1e15=_0x2bfca7+_0x23da78):(_0x3ab0c4=Math['min'](_0x3ab0c4,_0x47e65f-_0x23da78),_0xd8a678=Math['min'](_0xd8a678,_0x597e4a-_0x23da78),_0x2a83d9=Math['min'](_0x2a83d9,_0x2bfca7-_0x23da78),_0x32c1de=Math['max'](_0x32c1de,_0x47e65f+_0x23da78),_0x1f5213=Math['max'](_0x1f5213,_0x597e4a+_0x23da78),_0x5b1e15=Math['max'](_0x5b1e15,_0x2bfca7+_0x23da78));}_0x191c41['set'](_0x4be3bd[_0x557ff0],_0x24e13e[_0x557ff0],_0x47ca48[_0x557ff0],_0x1da9a7[_0x557ff0]),_0x191c41['normalize'](),_0x191c41['w']<-0xe*-0x6+0x1fac+-0x2000&&_0x191c41['mulScalar'](-(0x3*0x182+0x123e+-0x16c3)),_0x38c7bd[_0x557ff0*(-0xc9f+0x7d8*-0x3+0x3*0xc0e)+(-0xc*0x254+-0x1*0x115+0x1d05)]=_0x288633[_0x557ff0],_0x38c7bd[_0x557ff0*(0x5af+0xb49+-0x10f5)+(-0x5*-0x45d+-0x1e46+0x876)]=_0x34af92[_0x557ff0],_0x38c7bd[_0x557ff0*(0x641+0x9c3+-0x1001)+(0x15bf+-0x166e+0xb1)]=_0x4ffad0[_0x557ff0],_0x34f4ac[_0x557ff0*(-0xe*-0xfe+-0x16e1*0x1+0x900)+(-0x1852+0xcd2+0x10*0xb8)]=_0x288633[_0x557ff0],_0x34f4ac[_0x557ff0*(0x1*0x1bf0+0x1e25+-0x3a12)+(0x1*-0xb51+-0x17*-0x7d+0x17)]=_0x34af92[_0x557ff0],_0x34f4ac[_0x557ff0*(0x2d*-0x9f+-0xb2b+0x2721)+(-0x165d*0x1+-0xd*0x15b+0x27fe)]=_0x4ffad0[_0x557ff0],_0x1f2394[_0x557ff0*(0x1*0x16f+0x697+-0x803)+(0x207*0x2+0x2705+-0x2b13)]=_0x3dcf0e(Math['exp'](_0x30c126[_0x557ff0])),_0x1f2394[_0x557ff0*(-0x17*0x112+0x397*0x5+-0x5f*-0x12)+(-0x1adb+-0xdcd+-0x7*-0x5cf)]=_0x3dcf0e(Math['exp'](_0x465026[_0x557ff0])),_0x1f2394[_0x557ff0*(0x203+0x1*0xe8f+0x1*-0x108f)+(-0x3*0x2d7+-0x1570+0x9fd*0x3)]=_0x3dcf0e(Math['exp'](_0x337442[_0x557ff0])),_0x38d4d2[_0x557ff0*(-0x2266+0x236f+0x106*-0x1)+(0xa04+0x1*0x1dc2+-0x27c6)]=_0x191c41['x'],_0x38d4d2[_0x557ff0*(-0x115c+0x21*0x32+-0x1*-0xaed)+(-0x2e6+-0x5d0+0x8b7)]=_0x191c41['y'],_0x38d4d2[_0x557ff0*(-0x964*0x3+-0x1d1a+0x3949)+(-0xd*-0x2c4+-0x1ed7+-0x51b*0x1)]=_0x191c41['z'],_0x386d99&&_0x16075e&&_0x1131b4&&_0x4e2f55&&_0x5be7ca&&(_0x16075e[_0x557ff0*(-0x1f*0xda+0x1*0xb9d+-0x766*-0x2)+(-0x51e*-0x7+-0x5*0x425+-0x5*0x305)]=_0x1917a4[_0x557ff0],_0x16075e[_0x557ff0*(0x1574+0x1*0x1da7+-0x3318)+(0x1*0x735+0xd3f+-0x15d*0xf)]=_0x53e3ec[_0x557ff0],_0x16075e[_0x557ff0*(0x2c8+-0x13f+-0xa*0x27)+(-0x1d3*0x3+-0x392*0x4+0x1*0x13c3)]=_0x32f5b3[_0x557ff0],_0x4e2f55[_0x557ff0*(-0x10d*-0x19+0x39e+0x1*-0x1de0)+(-0x2*0x11f9+0x21b9+0x1*0x239)]=_0x1917a4[_0x557ff0],_0x4e2f55[_0x557ff0*(0xc1d+0x2*0x170+0x3*-0x4fe)+(0x36*-0x4+0x8*-0xc7+0x711)]=_0x53e3ec[_0x557ff0],_0x4e2f55[_0x557ff0*(0xb1*-0xb+-0x6ea+-0x28*-0x5d)+(0x1f77+-0xd1d+0x1258*-0x1)]=_0x32f5b3[_0x557ff0],_0x5be7ca[_0x557ff0]=_0x26f7a8?Math['exp'](_0x26f7a8[_0x557ff0]):-0x29*0x43+0x1*0xda6+0xf9*-0x3,_0x1131b4[_0x557ff0*(0x6*0x22+-0x1b41+0x1a78)+(0x1a66+-0x7a0+-0x36*0x59)]=_0x3ec4c8?_0x3ec4c8[_0x557ff0]:0x1*0x7a5+0x0+-0x7a5,_0x1131b4[_0x557ff0*(0x8c1+-0x3*-0x76f+0x373*-0x9)+(-0x40*-0x96+-0x15*-0xf2+0x3959*-0x1)]=_0x5be7ca[_0x557ff0]);}_0x49cd47||(_0x160e71[-0x2659+-0x781+-0x2*-0x16ed]=(_0x3ab0c4+_0x32c1de)*(-0x5*-0x347+0x2687+0x30d*-0x12+0.5),_0x160e71[0x261f+-0x3b4+-0x226a]=(_0xd8a678+_0x1f5213)*(0xc*0x291+0x73+0x1a5*-0x13+0.5),_0x160e71[-0xf*0x6a+0x81c+-0x1e4]=(_0x2a83d9+_0x5b1e15)*(-0x1d4+-0x2*0x134b+0x5c6*0x7+0.5),_0x458253[0x1c45+0x9dd+-0x2622*0x1]=(_0x32c1de-_0x3ab0c4)*(-0x1589*-0x1+0x1771*-0x1+0x1e8+0.5),_0x458253[-0x19f7+-0x1ebb*-0x1+0x17*-0x35]=(_0x1f5213-_0xd8a678)*(0x1906*-0x1+-0x27*-0x1a+0x1510+0.5),_0x458253[0x16e+0x1*0xc97+-0xe03]=(_0x5b1e15-_0x2a83d9)*(-0x1460+0x6a*-0x7+0x1746+0.5));const _0x1409aa=_0x1db6d4();let _0x18da2b={'dataColor':_0xd3cd13,'center':_0x160e71,'halfExtents':_0x458253,'dataCenters':_0x34f4ac,'dataPosition':_0x38c7bd,'dataScale':_0x1f2394,'dataRotation':_0x38d4d2,..._0x1409aa};return _0x386d99&&(_0x18da2b={..._0x18da2b,'dataMotion':_0x16075e,'dataTime':_0x1131b4,'motion':_0x4e2f55,'tScaleArray':_0x5be7ca,'muT':new Float32Array(_0x3ec4c8),'timeIndex':new Float32Array(_0x4003b3)}),_0x18da2b;},_0x5c29e7=_0x2573b6=>{const _0x54b603=[];for(let _0x4afb80=0x2*0xc8c+-0x1*-0x1da+-0x1af2;_0x4afb80<_0x2573b6;++_0x4afb80)_0x54b603['push'](_0x4ef4ed['f_rest_'+_0x4afb80]);return _0x54b603;},_0x1db6d4=()=>{const _0x396c64=_0x2a99eb();if(_0x396c64<=0x1f6b+0x2700+0x9*-0x7d3)return{};const _0x2ca7a1=_0x4ef4ed['x']['length'],_0x13d5df=new Uint32Array(_0x2ca7a1*(0x18ac*-0x1+-0x3*0x904+0x16*0x25a)),_0x7bab09=new Uint32Array(_0x2ca7a1*(0x8f2*0x2+-0x129d+0x15*0x9)),_0xa257b8=new Uint32Array(_0x2ca7a1*(0x1*0x120d+-0x1272*-0x1+-0x247b)),_0x1ad597=new Uint32Array(_0x2ca7a1*(-0x1336+-0x2*0xf33+0x31a0)),_0x54b216={0x1:0x3,0x2:0x8,0x3:0xf}[_0x396c64],_0x29e956=_0x5c29e7(_0x54b216*(0xd4a+0x1768+-0x24af)),_0x131909=0xca*-0x21+0x1f42+0x2c7,_0x37ac3b=-0x1*0xbc3+0x2011+-0x104f,_0x2da26c=new Float32Array(-0x177d+0x859+0xf25),_0x3b41de=new Uint32Array(_0x2da26c['buffer']),_0x56df45=new Array(_0x54b216*(0xa80+0x25c3+-0x3040))['fill'](-0x15fa+-0xf1*0x1d+0x1d*0x1b3);for(let _0x3fb623=0x228a*0x1+-0x1e51+-0x439*0x1;_0x3fb623<_0x2ca7a1;++_0x3fb623){for(let _0xf8b06d=0x1221+-0xbe0+-0x641;_0xf8b06d<_0x54b216;++_0xf8b06d)_0x56df45[_0xf8b06d*(0x1*-0x8c5+-0x1aa6+0x236e)]=_0x29e956[_0xf8b06d][_0x3fb623],_0x56df45[_0xf8b06d*(-0x17*0xf2+0xf18+0x6a9)+(0x71*0x31+-0x5*-0x191+0x1*-0x1d75)]=_0x29e956[_0xf8b06d+_0x54b216][_0x3fb623],_0x56df45[_0xf8b06d*(0x1934+0x21a1*0x1+-0x1*0x3ad2)+(-0x255f+-0x7af+0x2d10)]=_0x29e956[_0xf8b06d+_0x54b216*(-0x162c+-0x1500+-0x1*-0x2b2e)][_0x3fb623];let _0x84bfb2=_0x56df45[-0x7*-0x105+0x991+-0x10b4];for(let _0x3483a4=-0x39b+0xb9e+-0x32*0x29;_0x3483a4<_0x54b216*(-0x1c60+-0xd52+0x29b5);++_0x3483a4)_0x84bfb2=Math['max'](_0x84bfb2,Math['abs'](_0x56df45[_0x3483a4]));if(_0x84bfb2!==0x1*0x8a5+-0x76*-0x49+-0x2a4b){for(let _0x575253=-0xdf1+-0x8bb+0x16ac;_0x575253<_0x54b216;++_0x575253)_0x56df45[_0x575253*(0x1*0xff7+-0x7ba+-0x83a)+(-0x10be+0x2656+-0x1598)]=Math['max'](0x155b+0x74f*-0x3+0x92,Math['min'](_0x131909,Math['floor']((_0x56df45[_0x575253*(-0x2cd*-0xc+0x1fb3+-0x414c)+(-0x15*-0xed+0x7ca+-0x1b3b)]/_0x84bfb2*(-0x181d+-0x11cb+0x29e8+0.5)+(0x6f7*-0x1+0x24a4*-0x1+0x2b9b+0.5))*_0x131909+(-0x1bdd+-0x14df+0x30bc+0.5)))),_0x56df45[_0x575253*(0x1f13+-0x1d6b+0x1a5*-0x1)+(0x1be8+-0x19f4+-0x1f3)]=Math['max'](-0x7fa*0x2+0x4*0x218+0x794,Math['min'](_0x37ac3b,Math['floor']((_0x56df45[_0x575253*(0x1af9+-0x1849*-0x1+-0x333f*0x1)+(-0x12d2+-0x2041+-0x1d3*-0x1c)]/_0x84bfb2*(0x81*-0x24+0x1783*0x1+-0x7d*0xb+0.5)+(-0x3*-0x33f+-0x12a7+0x8ea+0.5))*_0x37ac3b+(-0x59*0x1a+-0x5+0x1*0x90f+0.5)))),_0x56df45[_0x575253*(-0x15c3+0xbd5+-0x9f1*-0x1)+(-0x2670+-0x1951+0x3fc3)]=Math['max'](0x2329*0x1+-0x186b+0x32*-0x37,Math['min'](_0x131909,Math['floor']((_0x56df45[_0x575253*(-0x8dd*0x1+-0x112f*0x1+0x7*0x3b9)+(-0x11*0x5c+-0x8d2+-0x2*-0x778)]/_0x84bfb2*(0xf4f+0x1f64+0xf*-0x31d+0.5)+(0x20ca+0x2*-0x1136+-0x16*-0x13+0.5))*_0x131909+(0x293+-0x1adb*0x1+0x4*0x612+0.5))));_0x2da26c[0x51b*-0x7+-0x1219*0x2+0x91*0x7f]=_0x84bfb2,_0x13d5df[_0x3fb623*(-0xcd*0x6+0xda6*0x2+-0x167a)+(-0x3*-0xbd4+0x187+-0x2503)]=_0x3b41de[0x22a2+0xd34+-0x17eb*0x2],_0x13d5df[_0x3fb623*(-0x3f9*-0x1+-0x23a9+-0x1*-0x1fb4)+(-0x11*0x187+0x1d*-0xe5+0x33e9)]=_0x56df45[-0x265*0x9+0x2ee+-0x1*-0x129f]<<0x2b6*0xa+-0x1*-0x2114+-0x3c1b|_0x56df45[0x91*0x3f+0x10ac+-0x345a]<<-0x25e4+0x215c+0x493|_0x56df45[0xb36+-0x1615+0xae1],_0x13d5df[_0x3fb623*(0x1*-0x493+-0x1b4c*0x1+0x3*0xaa1)+(-0x11c5*-0x1+-0x52*-0x1b+-0x1a69)]=_0x56df45[0x509*0x5+-0x1*0x11a1+0x789*-0x1]<<0x42e*0x9+0xb47*-0x2+0x127*-0xd|_0x56df45[-0x53e+-0x8c7+0xe09]<<-0x8*0x4ab+0x301*0x2+0x1f61*0x1|_0x56df45[0x4*-0x1d5+-0x460+0xbb9*0x1],_0x13d5df[_0x3fb623*(0x2a1*0xd+0x434*-0x1+-0x1df5)+(-0xeb*-0x29+-0x22ef*-0x1+-0x488f)]=_0x56df45[0x2452+0x113*-0x9+-0x1aa1]<<-0x3*-0x949+0x1*0x38a+-0xa7*0x30|_0x56df45[0x185e+-0x4*-0x407+-0x5f*0x6d]<<-0x20f+0x133*-0x1+-0xa9*-0x5|_0x56df45[0x2515+-0x8b*-0x19+-0x32a0],_0x396c64>0x1*0x1001+-0xe18*0x2+0xc30&&(_0x7bab09[_0x3fb623*(0x2e1+0xb*0x167+-0x124a)+(-0x6ea+0x1a05*0x1+-0x43*0x49)]=_0x56df45[0x1608+-0x1*-0xf31+0x4a6*-0x8]<<-0x985+-0x1*-0xdd5+-0x43b|_0x56df45[-0xb9*-0xe+-0x1a16+0x1002]<<-0x1a34+-0x1*-0x1223+-0x207*-0x4|_0x56df45[0x3a0+-0x1*0x329+-0xc*0x9],_0x7bab09[_0x3fb623*(0x1a33+0x1*0x928+0x6d*-0x53)+(-0x7c7+0xcb9*0x1+0x5*-0xfd)]=_0x56df45[-0xd5c+-0x19bd+-0x1*-0x2725]<<-0x2bb+-0x1def+0x20bf|_0x56df45[-0x32f+-0xd84+0x10c0]<<-0x1*0xfc1+0x241f*0x1+-0x1453|_0x56df45[0x1ba2+0x35*-0x79+-0x287],_0x7bab09[_0x3fb623*(-0xa95+0xc2*-0x1c+-0x3*-0xa9b)+(-0x2a*0xeb+-0x1132+-0x225*-0x1a)]=_0x56df45[-0x165e+0x1bf*-0xe+-0x2edf*-0x1]<<-0xc49+-0xd6c+-0xce5*-0x2|_0x56df45[-0xbb5+0x4*-0x473+0x1d91]<<-0x189*0x7+-0xd72+0x84*0x2f|_0x56df45[0x120d+-0x685+0x5*-0x24b],_0x7bab09[_0x3fb623*(0x12e*0xf+-0xe5*0x23+-0x3*-0x48b)+(-0x2*0x1ca+0x3c5*0x3+-0x68*0x13)]=_0x56df45[-0x655+-0x1da1+-0x2408*-0x1]<<0x69a+0x25cb+-0x2*0x1628|_0x56df45[-0xce3+0x4*0x446+-0x422]<<0x369*0x5+-0x1da2+0x328*0x4|_0x56df45[-0x1d*0x4f+0x13*-0x147+0x214c],_0x396c64>-0x1083+0x2fe*0x1+0xd87?(_0xa257b8[_0x3fb623*(-0x89e*-0x4+-0x3db+0x1e99*-0x1)+(-0x12e0+0x2bd+-0x561*-0x3)]=_0x56df45[-0x15af+-0x829+0x1ded]<<0x4*0x925+0x228*-0x3+-0x1e07|_0x56df45[0x1117+0x7*-0xd6+0xb27*-0x1]<<0x22c4+0x767+-0x2a20|_0x56df45[-0x1381*-0x1+-0x22bb+0xf51],_0xa257b8[_0x3fb623*(0x95+-0x4f5*-0x6+-0x1e4f*0x1)+(0x1113+-0xb58+-0x5ba)]=_0x56df45[0x1*0x5ab+-0x12ec+-0xd59*-0x1]<<0x8*-0x41b+-0x1*-0x2635+-0x548|_0x56df45[-0x11b3+0xa*-0x222+0x10*0x272]<<0x1fc8+-0xe3*-0x1+0x1*-0x20a0|_0x56df45[-0x43*-0x2c+0x58b*-0x4+0xac2],_0xa257b8[_0x3fb623*(-0xb*0x2ec+0x62c*0x2+0x13d0)+(-0xfa4+0x221a+0x2*-0x93a)]=_0x56df45[-0x2531+-0x4*0x877+-0x678*-0xb]<<0x6*-0x558+0x240a+-0x3e5|_0x56df45[0xdde+-0x14ef*0x1+0x72d]<<0x134b+-0x11ab*0x2+0x1016|_0x56df45[0xcfe*-0x1+-0xa98*-0x2+-0x815],_0xa257b8[_0x3fb623*(0x866+0x4*-0x83e+0x6*0x419)+(0x1c90+-0x5b4+-0x16d9*0x1)]=_0x56df45[0x839+0x1a*0x79+-0x1465]<<0x279+-0x1681+0x141d|_0x56df45[-0x176b+-0x2286+0x3a10]<<0x1003+-0xb5e+-0x1f*0x26|_0x56df45[-0x20cc+0x1494+0xc58],_0x1ad597[_0x3fb623*(0x65e*0x5+0x119e+0x1c4*-0x1c)+(0xaa9+-0x1*-0x959+-0x1402)]=_0x56df45[-0x13c3+0x125d+0x187*0x1]<<0x13d*0xa+-0x4a3+0x12*-0x6d|_0x56df45[-0x14f3+-0x1945*-0x1+-0x430]<<-0x8b6+-0x1960+-0x2221*-0x1|_0x56df45[0x8*0x427+0xde*-0x13+-0x109b],_0x1ad597[_0x3fb623*(0x1db5+0x4*-0x2b+-0x1b5*0x11)+(-0xac7+-0xf89+0x1a51*0x1)]=_0x56df45[0x3b3*-0x1+0xc8a*-0x3+-0x2975*-0x1]<<-0x1*-0x491+-0x1*0xdd5+0x959|_0x56df45[0x28e+0x1df3+0x2*-0x102e]<<0x71+-0xed8+0xe72|_0x56df45[0x1*0x62b+0x49*0x85+-0x2bf2],_0x1ad597[_0x3fb623*(0x6*-0xde+-0x1fd*0x5+-0xf29*-0x1)+(-0x1*-0x1753+-0xd*-0x17e+-0x2ab7)]=_0x56df45[-0x2448+0x2b1*-0x5+0x31e4]<<0x1435+0xe95*-0x1+0x58b*-0x1|_0x56df45[0x151+-0xd97+0x25*0x56]<<-0x1540+0x2c1*0xb+-0x900|_0x56df45[-0x1034+-0x2*0xf43+0x2ee3],_0x1ad597[_0x3fb623*(0x335+0x5e*-0x63+0x2129*0x1)+(0x12fe+0x1e2c+0x3127*-0x1)]=_0x56df45[-0xe*-0x164+-0x1748+-0x1fd*-0x2]<<-0x6*0xed+0x48*-0x7+0x289*0x3|_0x56df45[-0xa30+0x1140+-0x6e5]<<0x14ac+0x253*0x1+-0x4*0x5bd|_0x56df45[-0x1*-0x1175+-0x20cb+0xf82]):_0xa257b8[_0x3fb623]=_0x56df45[-0x87c+0x1*-0x241d+0x26*0x12d]<<0x8e9+0x16*0x10f+-0x201e|_0x56df45[-0x14de+-0x2315+0x3809*0x1]<<0x6b7+-0xc57*0x3+0x1e59|_0x56df45[0x1*-0xf35+-0x2a8+-0x4*-0x47d]);}}return{'sh1to3Data':_0x13d5df,'sh4to7Data':_0x7bab09,'sh8to11Data':_0xa257b8,'sh12to15Data':_0x1ad597};},_0x5e1e5e=_0x339bdf=>{if(!_0x4ef4ed['time_index'])return;const _0x519e1d=_0x4ef4ed['time_index']['findIndex'](_0x2a4d6e=>_0x2a4d6e===_0x339bdf);let _0x7c46c0=_0x4ef4ed['time_index']['findIndex']((_0x3f9c45,_0x17542e)=>_0x3f9c45!==_0x339bdf&&_0x17542e>_0x519e1d);if(_0x7c46c0===-(-0x1e76+-0x1d*-0x6d+0x121e)&&_0x519e1d===-(0x3f9*-0x5+-0x58a+0x2*0xcb4))return;_0x7c46c0===-(0xce*0x23+-0x1a8e+-0x19b)&&_0x519e1d!==-(-0xf*-0x13b+0x420+-0x1694)&&(_0x7c46c0=_0x4ef4ed['time_index']['length']),_0x21f251-=_0x7c46c0-_0x519e1d;const _0x39614c=Object['keys'](_0x4ef4ed);for(let _0x1d5a74=0xa8f*-0x1+-0x77*-0x21+-0x4c8;_0x1d5a74<_0x39614c['length'];_0x1d5a74++){const _0x481d1d=_0x39614c[_0x1d5a74],_0x2f0e3c=_0x4ef4ed[_0x481d1d];if(_0x2f0e3c){const _0x19c8c5=new Float32Array(_0x21f251);_0x519e1d>-0x783*0x3+0x1e60+-0x7d7?(_0x19c8c5['set'](_0x2f0e3c['subarray'](0x23d+-0x154f+0x1312,_0x519e1d),0x39*0x47+0x1f7*0x5+-0x19a2),_0x19c8c5['set'](_0x2f0e3c['subarray'](_0x7c46c0),_0x519e1d)):_0x19c8c5['set'](_0x2f0e3c['subarray'](_0x7c46c0),0x7d*0x32+-0x1*0x26c3+0xe59),_0x4ef4ed[_0x481d1d]=_0x19c8c5;}}},_0x4778e9=()=>{const _0x2344e2=Object['keys'](_0x4ef4ed);for(let _0x1ef189=-0x269+0x11f0+-0xf87;_0x1ef189<_0x2344e2['length'];_0x1ef189++){const _0x329e19=_0x2344e2[_0x1ef189];_0x4ef4ed[_0x329e19]&&(_0x4ef4ed[_0x329e19]=[]);}},_0x2ec26e=()=>{_0x4ef4ed={},_0x21f251=-0x2442+-0x19*0xb+0x2555;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x24537e,_0x27416a,_0x4f05f1,_0x14ca59=!(0x926*0x1+-0x2627+-0x2*-0xe81)){var _0x3e9153,_0x4ccbb3;const _0x5c8f17={};return _0x24537e['elements'][-0x223*0x7+-0x2207+0x30fc]['properties']['forEach'](_0x121579=>{_0x5c8f17[_0x121579['name']]=_0x121579['storage'];}),_0x14ca59?(_0x3e9153=this['worker'])==null||_0x3e9153['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5c8f17,'timeIndex':_0x27416a,'timeOption':_0x4f05f1},_0x24537e['elements'][-0x2*0x207+-0x7*0x3b5+0x1e01]['properties']['map'](_0x88f996=>_0x88f996['storage']['buffer'])):(_0x4ccbb3=this['worker'])==null||_0x4ccbb3['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5c8f17,'timeIndex':_0x27416a,'timeOption':_0x4f05f1}),new Promise(_0x171bb1=>{this['worker']['onmessage']=_0xe0eb47=>{if(!this['worker'])return;const {data:_0x3426d7}=_0xe0eb47;_0x3426d7['type']==='newAppendD'+'ata'&&_0x171bb1(_0x3426d7);};});}async['releaseSeq'+'Data'](_0x50bd17){var _0x4238a0;(_0x4238a0=this['worker'])==null||_0x4238a0['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x50bd17});}async['releaseAll'+'SeqData'](){var _0x1598be;(_0x1598be=this['worker'])==null||_0x1598be['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x548654;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x548654=this['worker'])==null||_0x548654['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(0x1fac+-0xa18+-0x1593,0xc11+0x254f+-0x21*0x17f,0x5*0x21+0x12c8+-0x136d*0x1,-0x1*-0x1230+-0x2*-0xfc6+-0x425*0xc+0.4),vf=-0xd15+0x7cd*-0x5+0x3416+0.28209479177387814,xf=-0x56647+-0x1c*-0x272f+-0xf05*-0x47;let ZA=class{constructor(_0x6a4393,_0x548753,_0x571ed8,_0x49892e,_0xb87d45,_0x4a73b0){const _0x502800=_0x6a4393['getProp']('x'),_0xf4267d=_0x6a4393['getProp']('y'),_0x49c397=_0x6a4393['getProp']('z'),_0xb43d89=_0x6a4393['getProp']('rot_1'),_0x5b5725=_0x6a4393['getProp']('rot_2'),_0x541f44=_0x6a4393['getProp']('rot_3'),_0x14c6c7=_0x6a4393['getProp']('rot_0'),_0x5edd1d=_0x6a4393['getProp']('motion_0'),_0x19bc0f=_0x6a4393['getProp']('motion_1'),_0x4e2881=_0x6a4393['getProp']('motion_2'),_0x1661ff=_0x6a4393['getProp']('scale_0'),_0x5cd500=_0x6a4393['getProp']('scale_1'),_0x25881d=_0x6a4393['getProp']('scale_2'),_0x3b4abc=_0x6a4393['getProp']('f_dc_0'),_0x48c314=_0x6a4393['getProp']('f_dc_1'),_0x35b24c=_0x6a4393['getProp']('f_dc_2'),_0x39e24e=_0x6a4393['getProp']('opacity');this['read']=_0x2eb24c=>{_0x548753&&(_0x548753['x']=_0x502800[_0x2eb24c],_0x548753['y']=_0xf4267d[_0x2eb24c],_0x548753['z']=_0x49c397[_0x2eb24c]),_0x571ed8&&_0x571ed8['set'](_0xb43d89[_0x2eb24c],_0x5b5725[_0x2eb24c],_0x541f44[_0x2eb24c],_0x14c6c7[_0x2eb24c]),_0x49892e&&_0x49892e['set'](Math['exp'](_0x1661ff[_0x2eb24c]),Math['exp'](_0x5cd500[_0x2eb24c]),Math['exp'](_0x25881d[_0x2eb24c])),_0x4a73b0&&_0x5edd1d&&_0x4a73b0['set'](_0x5edd1d[_0x2eb24c],_0x19bc0f[_0x2eb24c],_0x4e2881[_0x2eb24c]),_0xb87d45&&_0xb87d45['set'](0x2321+-0x1d5*0xd+-0xb50+0.5+_0x3b4abc[_0x2eb24c]*vf,0x97c*-0x4+-0x1acc+0x40bc+0.5+_0x48c314[_0x2eb24c]*vf,-0x1*-0x1816+0x12bc+-0x2ad2+0.5+_0x35b24c[_0x2eb24c]*vf,_0x39e24e[_0x2eb24c]);};}};const _g=(_0x297c06,_0x5a9206,_0x1a237f)=>{pg['set'](_0x1a237f['x'],_0x1a237f['y'],_0x1a237f['z'],_0x1a237f['w'])['normalize'](),_0x297c06['setTRS'](_0x5a9206,pg,D['ONE']);};class qn{constructor(_0xbb04fc,_0x5c44f4=[]){h(this,'elements'),h(this,'numSplats',-0x1d8c+0x1441+0x94b),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x18ff18;(_0x18ff18=this['dataWorker'])==null||_0x18ff18['destroy'](),this['dataWorker']=null;});var _0x59bda5,_0x4e3245,_0x41f444;this['elements']=_0xbb04fc,this['numSplats']=((_0x59bda5=this['getElement']('vertex'))==null?void(0x84c+0x1897+0x20e3*-0x1):_0x59bda5['count'])??-0x52b+-0x5*-0x21d+0x1*-0x566,this['comments']=_0x5c44f4,this['is4D']=!!((_0x41f444=(_0x4e3245=this['getElement']('vertex'))==null?void(0x12c2+0xf0b+-0x1fd*0x11):_0x4e3245['properties']['find'](_0x2044ab=>_0x2044ab['name']==='t'))!=null&&_0x41f444['storage']);}async['appendGSpl'+'atData'](_0x33d421,_0x2fe02f,_0x14c350){var _0x12add4;let _0x45c3ac=0x171*-0x11+-0x9f4+0x2275*0x1;for(let _0x14ba2e=-0x1bcb*-0x1+-0x2303*0x1+0x738;_0x14ba2e<_0x14c350['length']&&_0x2fe02f>_0x14c350[_0x14ba2e];_0x14ba2e+=-0x9*0x43a+-0x3c2*-0x1+0x224a)_0x45c3ac=_0x14ba2e/(0xe0b*-0x1+0x4fd+0x28*0x3a);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x45c3ac),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x147*0x9+-0x3*0x8a7+0x11a*0x22,_0x14c350));const _0x4fa3f4=this['getElement']('vertex');_0x4fa3f4&&(_0x4fa3f4['count']=this['numSplats']);const _0x2b5fd3=await this['dataWorker']['appendGSpl'+'atData'](_0x33d421,_0x45c3ac,_0x14c350,!(0x779*0x1+-0x406+-0x373)),_0x110ecf=_0x2b5fd3['properties'],_0xa206eb=((_0x12add4=this['getElement']('vertex'))==null?void(0x22ff+0x11e*0x14+0x131d*-0x3):_0x12add4['properties'])??[];for(const _0x4df6e0 in _0x110ecf){const _0x4e73e3=_0xa206eb['find'](_0x20074e=>_0x20074e['name']===_0x4df6e0);_0x4e73e3?_0x4e73e3['storage']=_0x110ecf[_0x4df6e0]:_0xa206eb['push']({'type':'float','name':_0x4df6e0,'storage':_0x110ecf[_0x4df6e0],'byteSize':0x4});}this['transformD'+'ata']=_0x2b5fd3['transformD'+'ata'],this['numSplats']=_0x110ecf['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x505815){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x505815),this['dataWorker']['releaseSeq'+'Data'](_0x505815),this;}async['releaseAll'+'SeqData'](){var _0x21407b;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x21407b=this['dataWorker'])==null||_0x21407b['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x350dc0,_0x366b01,_0x11b71a,_0xf8554a){_g(za,_0x366b01,_0x11b71a),yf['center']['set'](-0x229c+0x37d+0x1f1f,-0xb3c*0x1+-0x22d5*0x1+-0xf5b*-0x3,-0x2303+0xb4+0x224f),yf['halfExtent'+'s']['set'](_0xf8554a['x']*(-0x790+0x195d*0x1+0x11cb*-0x1),_0xf8554a['y']*(0x27e+0x3*0x74c+-0x3*0x820),_0xf8554a['z']*(-0x24a1+0x1350*0x2+-0x1fd)),_0x350dc0['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x3d7467,_0x8eb4fc='vertex'){var _0x42a2c2,_0x3b5a31;return(_0x3b5a31=(_0x42a2c2=this['getElement'](_0x8eb4fc))==null?void(0xbd3+0x74c+-0x131f):_0x42a2c2['properties']['find'](_0x1414ba=>_0x1414ba['name']===_0x3d7467))==null?void(0x10ee*-0x1+-0x2*-0xbc3+0x1a6*-0x4):_0x3b5a31['storage'];}['getElement'](_0x13b718){return this['elements']['find'](_0x2a5a07=>_0x2a5a07['name']===_0x13b718);}['addProp'](_0xe5a8d5,_0x154ddf){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0xe5a8d5,'storage':_0x154ddf,'byteSize':0x4});}['createIter'](_0x13f5bd,_0x15f9b9,_0x51667c,_0x1dabad,_0x311bcd){return new ZA(this,_0x13f5bd,_0x15f9b9,_0x51667c,_0x1dabad,_0x311bcd);}async['calcAabbAs'+'ync'](_0x486420,_0x5f1443){var _0xe4ce19,_0x599931;if((_0xe4ce19=this['transformD'+'ata'])!=null&&_0xe4ce19['center']&&((_0x599931=this['transformD'+'ata'])!=null&&_0x599931['halfExtent'+'s'])){_0x486420['center']['set'](this['transformD'+'ata']['center'][0x1*-0x15c3+0x1bd*0x13+0x1*-0xb44],this['transformD'+'ata']['center'][-0xf8a*-0x2+0x1*0x10a3+-0x2fb6],this['transformD'+'ata']['center'][0x19d9+-0x1696+0x1*-0x341]),_0x486420['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][-0x1576+-0x1974+0x2eea],this['transformD'+'ata']['halfExtent'+'s'][0x6d+-0x1c08+-0x13*-0x174],this['transformD'+'ata']['halfExtent'+'s'][0xd5f+-0x11cb*-0x1+0xf94*-0x2]);return;}const _0x39d18c=this['getProp']('x'),_0x386b7c=this['getProp']('y'),_0x551123=this['getProp']('z'),_0x59db39=this['getProp']('scale_0'),_0x3d2eec=this['getProp']('scale_1'),_0x3986ef=this['getProp']('scale_2'),_0x15d084=await(_0x5f1443==null?void(-0x61*0x4a+0xa19+0x5fb*0x3):_0x5f1443['calcAabb'](this['numSplats'],_0x39d18c,_0x386b7c,_0x551123,_0x59db39,_0x3d2eec,_0x3986ef));_0x486420['center']['set'](_0x15d084['center'][-0x2e*-0x5c+-0x80*0x2e+-0x6*-0x114],_0x15d084['center'][0x9be*-0x1+0x2*0x965+0x5*-0x1cf],_0x15d084['center'][0x10d*-0xb+-0x11*-0x61+0x520]),_0x486420['halfExtent'+'s']['set'](_0x15d084['halfExtent'+'s'][0xd23+-0x1d6+-0xb4d],_0x15d084['halfExtent'+'s'][0xcda+-0x86*-0x26+0x1*-0x20bd],_0x15d084['halfExtent'+'s'][-0x1f33+0x16*0x9+0x1e6f]);}['calcAabb'](_0x5bd61e,_0x4c1c9b){let _0x1463c3,_0x3cfcb8,_0x3f1147,_0x263383,_0x2ae9f4,_0x4d8692,_0x49f514=!(0x6b1*0x5+-0x513+0x1*-0x1c62);const _0x96a4bb=this['getProp']('x'),_0x318416=this['getProp']('y'),_0x199b61=this['getProp']('z'),_0x3bfced=this['getProp']('scale_0'),_0x39bd66=this['getProp']('scale_1'),_0x99211d=this['getProp']('scale_2');for(let _0x2fc1b1=0x1ca6+-0x1ade+-0x3*0x98;_0x2fc1b1<this['numSplats'];++_0x2fc1b1){if(_0x4c1c9b&&!_0x4c1c9b(_0x2fc1b1))continue;const _0x126cda=_0x96a4bb[_0x2fc1b1],_0x304a11=_0x318416[_0x2fc1b1],_0x2f43c0=_0x199b61[_0x2fc1b1],_0x2e6697=Math['max'](_0x3bfced[_0x2fc1b1],_0x39bd66[_0x2fc1b1],_0x99211d[_0x2fc1b1]);if(!isFinite(_0x126cda)||!isFinite(_0x304a11)||!isFinite(_0x2f43c0)||!isFinite(_0x2e6697))continue;const _0x573ad2=(0x4d9*-0x1+0x1d4b+-0x1870)*Math['exp'](_0x2e6697);_0x49f514?(_0x49f514=!(-0x4*-0x54a+0xfc*0x15+-0x53*0x81),_0x1463c3=_0x126cda-_0x573ad2,_0x3cfcb8=_0x304a11-_0x573ad2,_0x3f1147=_0x2f43c0-_0x573ad2,_0x263383=_0x126cda+_0x573ad2,_0x2ae9f4=_0x304a11+_0x573ad2,_0x4d8692=_0x2f43c0+_0x573ad2):(_0x1463c3=Math['min'](_0x1463c3,_0x126cda-_0x573ad2),_0x3cfcb8=Math['min'](_0x3cfcb8,_0x304a11-_0x573ad2),_0x3f1147=Math['min'](_0x3f1147,_0x2f43c0-_0x573ad2),_0x263383=Math['max'](_0x263383,_0x126cda+_0x573ad2),_0x2ae9f4=Math['max'](_0x2ae9f4,_0x304a11+_0x573ad2),_0x4d8692=Math['max'](_0x4d8692,_0x2f43c0+_0x573ad2));}return _0x49f514||(_0x5bd61e['center']['set']((_0x1463c3+_0x263383)*(-0x25+0x4*0x23b+-0x8c7*0x1+0.5),(_0x3cfcb8+_0x2ae9f4)*(-0x9*0x319+0x7*-0x4fd+0x3ecc+0.5),(_0x3f1147+_0x4d8692)*(-0x6ab+-0x29c+0x947+0.5)),_0x5bd61e['halfExtent'+'s']['set']((_0x263383-_0x1463c3)*(-0x3d6+-0x1ad7*0x1+0x1*0x1ead+0.5),(_0x2ae9f4-_0x3cfcb8)*(-0x270*-0x3+0x5c7*0x6+0x6ff*-0x6+0.5),(_0x4d8692-_0x3f1147)*(0x3d*0x61+0x39+0xbab*-0x2+0.5))),!_0x49f514;}['yieldToMai'+'n'](){var _0x4c1454;return(_0x4c1454=globalThis['scheduler'])!=null&&_0x4c1454['yield']?globalThis['scheduler']['yield']():new Promise(_0x5d7c6e=>{setTimeout(_0x5d7c6e,0x1742+0x722+0xa*-0x30a);});}['calcAabbEx'+'act'](_0x631427,_0xc69b53){const _0x427a22=new D(),_0x82b66a=new le(),_0x255536=new D(),_0x4dd5f0=this['createIter'](_0x427a22,_0x82b66a,_0x255536);let _0x181727=!(-0x2309+-0x1df3+0x4*0x103f);for(let _0x13fb02=0x1*-0x1c78+0x2af*-0xb+0x39fd;_0x13fb02<this['numSplats'];++_0x13fb02)_0xc69b53&&!_0xc69b53(_0x13fb02)||(_0x4dd5f0['read'](_0x13fb02),_0x181727?(_0x181727=!(0x29e*0xb+-0x16*-0x1b7+-0x1*0x4283),qn['calcSplatA'+'abb'](_0x631427,_0x427a22,_0x82b66a,_0x255536)):(qn['calcSplatA'+'abb'](mg,_0x427a22,_0x82b66a,_0x255536),_0x631427['add'](mg)));return!_0x181727;}async['getCenters'](_0x211953){const _0x2391f1=this['getProp']('x'),_0x2c15c6=this['getProp']('y'),_0x30d195=this['getProp']('z');for(let _0x977d99=-0x740+0x1*0x657+0xe9;_0x977d99<this['numSplats'];++_0x977d99)_0x211953[_0x977d99*(-0x10f2+-0xe*-0x1d7+-0x1*0x8cd)+(0xab7+0x433+0x2e*-0x53)]=_0x2391f1[_0x977d99],_0x211953[_0x977d99*(-0x1743+0x174e+-0x1*0x8)+(0x3e1+0x51e+-0x8fe)]=_0x2c15c6[_0x977d99],_0x211953[_0x977d99*(0x26e8+0x652+-0x19*0x1cf)+(-0x1d22+-0x1c5e+0x3982)]=_0x30d195[_0x977d99],_0x977d99%xf===0x1785+-0x1*0x1d69+0x5e4&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x1f365e;if((_0x1f365e=this['transformD'+'ata'])!=null&&_0x1f365e['muT'])return this['transformD'+'ata']['muT'];const _0x2422c8=this['getProp']('t');return _0x2422c8?new Float32Array(_0x2422c8):void(-0xbfc+0xc9*-0x1d+0x29*0xd9);}async['getTScale'](){const _0x55b51d=this['getProp']('t_scale');if(!_0x55b51d)return;const _0x36f119=new Float32Array(this['numSplats']);for(let _0x349a29=0x6f*0x1e+0xadf+-0x17e1*0x1;_0x349a29<this['numSplats'];++_0x349a29)_0x36f119[_0x349a29]=Math['exp'](_0x55b51d[_0x349a29]),_0x349a29%xf===-0x20cf+0x1*-0x3a+0xb03*0x3&&await this['yieldToMai'+'n']();return _0x36f119;}async['getMotion'](_0x832959){const _0x3cd928=this['getProp']('motion_0'),_0x2acda1=this['getProp']('motion_1'),_0x56cdaa=this['getProp']('motion_2');if(!(!_0x3cd928||!_0x2acda1||!_0x56cdaa)){for(let _0x4f5118=-0x813+-0x1739+-0x7d3*-0x4;_0x4f5118<this['numSplats'];++_0x4f5118)_0x832959[_0x4f5118*(0x10a2*0x1+-0xd4e+-0x351)+(0x6d*-0x5+-0x2*-0x433+0x141*-0x5)]=_0x3cd928[_0x4f5118],_0x832959[_0x4f5118*(-0x1b08+-0xdf*-0x13+-0x9e*-0x11)+(-0x5*-0x14a+0xbd0+0x1241*-0x1)]=_0x2acda1[_0x4f5118],_0x832959[_0x4f5118*(0x1757+0x24f3*-0x1+0xd9f)+(0x2*0xe1e+-0x1dfe+0x1c4)]=_0x56cdaa[_0x4f5118],_0x4f5118%xf===-0x1ba+-0x40*0x4c+-0x17b*-0xe&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x4ea02c;if((_0x4ea02c=this['transformD'+'ata'])!=null&&_0x4ea02c['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x5389c6=this['getProp']('time_index');if(_0x5389c6)return new Float32Array(_0x5389c6);}['calcFocalP'+'oint'](_0x1ef9fa,_0x33c031){const _0x2efa1c=this['getProp']('x'),_0x2e997d=this['getProp']('y'),_0x302e03=this['getProp']('z'),_0x37653e=this['getProp']('scale_0'),_0x48f7d1=this['getProp']('scale_1'),_0x57b6b9=this['getProp']('scale_2');_0x1ef9fa['x']=0x6d*0x2f+-0x109+-0x97d*0x2,_0x1ef9fa['y']=0x6ba*-0x5+0x207*-0x3+0x27b7,_0x1ef9fa['z']=-0x2576+-0x2*-0xd0e+-0x2*-0x5ad;let _0x5a9dfa=-0x5*0x2c3+-0x1f09*-0x1+-0x113a;for(let _0x5dfaf5=0x1545+0x1*-0x1a07+-0x1d*-0x2a;_0x5dfaf5<this['numSplats'];++_0x5dfaf5){if(_0x33c031&&!_0x33c031(_0x5dfaf5))continue;const _0xd883a1=_0x2efa1c[_0x5dfaf5],_0x2bd46e=_0x2e997d[_0x5dfaf5],_0xdf7ac3=_0x302e03[_0x5dfaf5];if(!isFinite(_0xd883a1)||!isFinite(_0x2bd46e)||!isFinite(_0xdf7ac3))continue;const _0xaeef88=(-0x2394*0x1+-0x92f*-0x1+0x1a66)/(0x1e91+0x5*0x742+-0x42da+Math['exp'](Math['max'](_0x37653e[_0x5dfaf5],_0x48f7d1[_0x5dfaf5],_0x57b6b9[_0x5dfaf5])));_0x1ef9fa['x']+=_0xd883a1*_0xaeef88,_0x1ef9fa['y']+=_0x2bd46e*_0xaeef88,_0x1ef9fa['z']+=_0xdf7ac3*_0xaeef88,_0x5a9dfa+=_0xaeef88;}_0x1ef9fa['mulScalar']((0xc60+-0x7a9+-0x192*0x3)/_0x5a9dfa);}['renderWire'+'frameBound'+'s'](_0x1dae08,_0x3e1065){const _0x2d6e77=new D(),_0x107c45=new le(),_0x24079c=new D(),_0x5130b1=new D(),_0x18b520=new D(),_0x2b6aae=this['createIter'](_0x2d6e77,_0x107c45,_0x24079c);for(let _0x5862ed=-0xfdf*-0x1+0x1240+-0x221f;_0x5862ed<this['numSplats'];++_0x5862ed)_0x2b6aae['read'](_0x5862ed),_g(za,_0x2d6e77,_0x107c45),za['mul2'](_0x3e1065,za),_0x5130b1['set'](_0x24079c['x']*-(-0x3*-0x3a8+-0x10f5+0x5ff),_0x24079c['y']*-(0x3*-0x925+0x1*0x19d2+-0x5*-0x53),_0x24079c['z']*-(0x37*0xf+-0x1a53+0x171c)),_0x18b520['set'](_0x24079c['x']*(-0x2075+-0x2b3*0xa+-0x1eb*-0x1f),_0x24079c['y']*(-0x4*-0x331+0x1*0xa59+0x1*-0x171b),_0x24079c['z']*(-0x76e+0x1d17+-0x15a7)),_0x1dae08['immediate']['drawWireAl'+'ignedBox'](_0x5130b1,_0x18b520,KA,!(-0x1c55*0x1+0x163b*0x1+0x61a),_0x1dae08['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x18*-0x199+-0x499*-0x1+0x21c0);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xe9f958=0x8d*-0x4+-0xb3*-0x7+-0x2b1;_0xe9f958<0x18e6*0x1+0x63*-0x1a+-0xeab;++_0xe9f958)if(!this['getProp']('f_rest_'+_0xe9f958))return _0xe9f958;return-0xd77*-0x1+-0x1432+0x1ba*0x4;})())]??-0xb97+0x1de4+0x1*-0x124d;}['calcMorton'+'Order'](){const _0x10e33e=_0x40eb49=>{let _0x42f7b3=_0x40eb49[-0x2*0xd82+0x124f+0x8b5],_0x28b77d=_0x40eb49[0x14*-0xf8+0x7*0x4e+0x89f*0x2];for(let _0x23377b=0x2*0x1363+-0x77*0x35+-0xe22;_0x23377b<_0x40eb49['length'];_0x23377b++)_0x40eb49[_0x23377b]<_0x42f7b3&&(_0x42f7b3=_0x40eb49[_0x23377b]),_0x40eb49[_0x23377b]>_0x28b77d&&(_0x28b77d=_0x40eb49[_0x23377b]);return{'min':_0x42f7b3,'max':_0x28b77d};},_0x311279=(_0x2cc75c,_0x4feac1,_0x5e0d09)=>{const _0x3ed8b9=_0x17a0bc=>(_0x17a0bc&=0xd6*0x2+-0x2442+0x53*0x77,_0x17a0bc=(_0x17a0bc^_0x17a0bc<<-0x3b4+0x17b*0x2+0xce)&-0x19d80164e+-0x19aa5a6c4+0x43725be11,_0x17a0bc=(_0x17a0bc^_0x17a0bc<<-0x1*0x69f+-0x871*0x1+0xf18)&0x28d339c+-0x1311acf*-0x4+-0x450aec9,_0x17a0bc=(_0x17a0bc^_0x17a0bc<<0x2315+-0x214f+-0xa*0x2d)&0x1*-0x3ba6549+-0x3dbee6+-0x1*-0x70454f2,_0x17a0bc=(_0x17a0bc^_0x17a0bc<<0x1*-0x613+0x7*-0x537+0x2a96)&-0xa8a5fe7+0x52da2dd*-0x3+0x2337dac7,_0x17a0bc);return(_0x3ed8b9(_0x5e0d09)<<-0xf3c+0xa65+0x4d9)+(_0x3ed8b9(_0x4feac1)<<0x1*-0x110b+-0x1e1*-0x11+0x1*-0xee5)+_0x3ed8b9(_0x2cc75c);},_0x62a92=this['getProp']('x'),_0xb7af09=this['getProp']('y'),_0x34de81=this['getProp']('z'),{min:_0x2aacd5,max:_0x531419}=_0x10e33e(_0x62a92),{min:_0x90ae74,max:_0x365658}=_0x10e33e(_0xb7af09),{min:_0x4e4253,max:_0x2b6e18}=_0x10e33e(_0x34de81),_0xfc24ca=_0x2aacd5===_0x531419?-0x7*0xcd+-0xaa*-0x25+0x3cb*-0x5:(0x7b1+-0xe80+0xacf)/(_0x531419-_0x2aacd5),_0x6e167=_0x90ae74===_0x365658?0x9ca+0x1*-0x2087+0x16bd:(-0xbae*-0x2+-0x1e7e+0xb22)/(_0x365658-_0x90ae74),_0x882c0c=_0x4e4253===_0x2b6e18?-0x1bae+-0x26+0x1bd4:(0x4*0xf1+-0x20af+0x20eb)/(_0x2b6e18-_0x4e4253),_0x370507=new Map();for(let _0x5e31d5=0x88f+0x1a5*0x16+-0x2cbd;_0x5e31d5<this['numSplats'];_0x5e31d5++){const _0x1aab57=Math['min'](-0xe65+0x5f1*-0x1+0x1855,Math['floor']((_0x62a92[_0x5e31d5]-_0x2aacd5)*_0xfc24ca)),_0x409311=Math['min'](-0x896+-0x2511+0x31a6,Math['floor']((_0xb7af09[_0x5e31d5]-_0x90ae74)*_0x6e167)),_0x301e34=Math['min'](0x1*-0x215f+0x9*0x147+0x1*0x19df,Math['floor']((_0x34de81[_0x5e31d5]-_0x4e4253)*_0x882c0c)),_0x2117bc=_0x311279(_0x1aab57,_0x409311,_0x301e34),_0x272dd0=_0x370507['get'](_0x2117bc);_0x272dd0?_0x272dd0['push'](_0x5e31d5):_0x370507['set'](_0x2117bc,[_0x5e31d5]);}const _0x3857f1=Array['from'](_0x370507['keys']())['sort']((_0x217386,_0x16767f)=>_0x217386-_0x16767f),_0xbd7a1e=new Uint32Array(this['numSplats']);let _0x1fcf9c=0x1*-0x1f5+0xe2b+0x3*-0x412;for(let _0x5c958a=0x365*0x7+0x44e*-0x1+0x1*-0x1375;_0x5c958a<_0x3857f1['length'];++_0x5c958a){const _0x3112eb=_0x370507['get'](_0x3857f1[_0x5c958a]);for(let _0x18fb9e=0x1*-0x2543+0x7e9+0x1d5a*0x1;_0x18fb9e<_0x3112eb['length'];++_0x18fb9e)_0xbd7a1e[_0x1fcf9c++]=_0x3112eb[_0x18fb9e];}return _0xbd7a1e;}['reorder'](_0xd843a1){const _0x241e93=new Map(),_0x52b23e=_0x5161db=>{if(_0x241e93['has'](_0x5161db)){const _0x387dbc=_0x241e93['get'](_0x5161db);return _0x241e93['delete'](_0x5161db),_0x387dbc;}return new ArrayBuffer(_0x5161db);},_0x13d7b1=_0x5f59b2=>{_0x241e93['set'](_0x5f59b2['byteLength'],_0x5f59b2);},_0x297922=_0x24fe4b=>{const _0x360654=new _0x24fe4b['constructo'+'r'](_0x52b23e(_0x24fe4b['byteLength']));for(let _0x17b11d=0x6b*-0x16+0x16e7*-0x1+0x2019;_0x17b11d<_0xd843a1['length'];_0x17b11d++)_0x360654[_0x17b11d]=_0x24fe4b[_0xd843a1[_0x17b11d]];return _0x13d7b1(_0x24fe4b['buffer']),_0x360654;};this['elements']['forEach'](_0x1f0dd2=>{_0x1f0dd2['properties']['forEach'](_0x1ab9c4=>{_0x1ab9c4['storage']&&(_0x1ab9c4['storage']=_0x297922(_0x1ab9c4['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x3650d2=new Float32Array(0x25a4+-0x1*0xb5+-0x24ee*0x1);new Int32Array(_0x3650d2['buffer']);let _0x59749a=0x1482+-0x7b*0x24+-0x336,_0x5df3bc={};self['onmessage']=async _0x30d192=>{const {data:_0x13a7ec}=_0x30d192;switch(_0x13a7ec['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x5d57fa(_0x13a7ec['properties'],_0x13a7ec['timeIndex'],_0x13a7ec['timeOption']);break;case'releaseSeq'+'Data':_0x24d2af(_0x13a7ec['index']);break;case'releaseAll'+'SeqData':_0x974967();break;case'destroyWor'+'ker':_0x5db715();break;}};const _0x7bbeaa=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xe6ec8d=0x4a*0x83+-0x21ae+-0x2*0x218;_0xe6ec8d<0x1*0x238e+-0x128*-0x10+-0xd*0x425;++_0xe6ec8d)if(!_0x5df3bc['f_rest_'+_0xe6ec8d])return _0xe6ec8d;return 0xc*-0x30a+0x1da9+0x12a*0x6;})())]??0x1411+0x6*-0x87+-0x10e7),_0x5d57fa=(_0x39005f,_0x5256c1,_0x252cec)=>{var _0x1d3f0b,_0x43e13b;_0x59749a+=(((_0x1d3f0b=_0x39005f['position'])==null?void(0x137f+-0x185d+0x4de):_0x1d3f0b['length'])??0xbd3+-0x2*-0x87d+0x1*-0x1ccd)/(0x23f1+-0x91f*-0x1+-0x2d0d),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x59749a,(((_0x43e13b=_0x39005f['position'])==null?void(-0x12a3+-0x1f79+-0xc*-0x42d):_0x43e13b['length'])??-0x1eb7+-0x1bfd+0x3ab4)/(-0x1*0x1352+-0x1b*-0xea+-0x559));const _0x25f0d1=Object['keys'](_0x39005f);for(let _0x28e302=0xeca+-0x24af+0x15e5;_0x28e302<_0x25f0d1['length'];_0x28e302++){const _0x1677cd=_0x25f0d1[_0x28e302],_0x5d73cd=_0x39005f[_0x1677cd],_0x5a44d2=_0x5df3bc[_0x1677cd]??new Float32Array(0xf06+0xaff+0x1a05*-0x1);if(_0x5d73cd){let _0x3a0c14=null;switch(_0x1677cd){case'position':_0x3a0c14=new Float32Array(_0x59749a*(0x2f*0xc1+-0x22+0x11a5*-0x2));break;case'color_opac'+'ity':_0x3a0c14=new Uint16Array(_0x59749a*(-0x1*-0x1d70+-0xae*-0x29+0x1ca5*-0x2));break;case'scale':_0x3a0c14=new Uint16Array(_0x59749a*(0x98b+-0x52*0x2f+-0x2c3*-0x2));break;case'motion':_0x3a0c14=new Float32Array(_0x59749a*(-0x1f06+0x7b6+0x1*0x1753));break;case'rotation':_0x3a0c14=new Float32Array(_0x59749a*(-0x8f+0x863+-0x3*0x29b));break;default:_0x3a0c14=new Float32Array(_0x59749a);break;}_0x3a0c14['set'](_0x5a44d2,-0x51f+-0xac5+-0x1*-0xfe4),_0x3a0c14['set'](_0x5d73cd,_0x5a44d2['length']),_0x5df3bc[_0x1677cd]=_0x3a0c14;}}const _0x341f6d={};Object['keys'](_0x5df3bc)['forEach'](_0x1cd84a=>{_0x1cd84a==='scale'||_0x1cd84a==='color_opac'+'ity'?_0x341f6d[_0x1cd84a]=new Uint16Array(_0x5df3bc[_0x1cd84a]['buffer']['slice']()):_0x341f6d[_0x1cd84a]=new Float32Array(_0x5df3bc[_0x1cd84a]['buffer']['slice']());});const _0x2a821d=Object['keys'](_0x341f6d)['map'](_0x1b90a5=>_0x341f6d[_0x1b90a5]['buffer']),_0x4b401b=_0x53e13d(),_0x400184=Object['keys'](_0x4b401b)['map'](_0x455785=>_0x4b401b[_0x455785]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x341f6d,'transformData':_0x4b401b},_0x2a821d['concat'](_0x400184));},_0x53e13d=()=>{const _0x147e0c=_0x5df3bc['position']['length']/(-0x185e+0x103e+0x823),_0xe7146b=_0x5df3bc['position'],_0x1b5ae4=_0x5df3bc['scale'],_0x43f13f=_0x5df3bc['rotation'],_0x396d83=_0x5df3bc['motion'],_0x4eb174=_0x5df3bc['t'],_0x14e481=_0x5df3bc['t_scale'],_0x2134ec=_0x5df3bc['time_index'],_0x270b97=_0x5df3bc['color_opac'+'ity'],_0x5f1856=(_0x4eb174==null?void(-0x4c1*-0x6+0x175+-0x1dfb):_0x4eb174['length'])>-0x249*-0x6+0x685*0x4+-0x2*0x13e5;let _0x59a061=null,_0x974301=null,_0x15478b=null,_0x3966ef=null;_0x5f1856&&(_0x974301=new Float32Array(_0x147e0c*(-0x2*-0x46d+-0x8d*0x35+0x412*0x5)),_0x3966ef=new Float32Array(_0x147e0c),_0x59a061=new Float32Array(_0x396d83['buffer']['slice']()),_0x15478b=new Float32Array(_0x396d83['buffer']['slice']()));const _0x38cacb=new Float32Array(_0xe7146b['buffer']['slice']()),_0x27bea4=new Float32Array(_0xe7146b['buffer']['slice']()),_0x460b0b=new Uint16Array(_0x270b97['buffer']['slice']()),_0x53c958=new Uint16Array(_0x1b5ae4['buffer']['slice']()),_0x51b5de=new Float32Array(_0x43f13f['buffer']['slice']());for(let _0x26f44f=0xc*0x9b+-0x1262+0x58f*0x2;_0x26f44f<_0x147e0c;++_0x26f44f)_0x5f1856&&_0x974301&&_0x3966ef&&(_0x3966ef[_0x26f44f]=_0x14e481?Math['exp'](_0x14e481[_0x26f44f]):0x109*0x19+0x8f0*0x2+-0x2bc1,_0x974301[_0x26f44f*(-0x5*-0x674+0x1*-0x137b+-0xcc6)+(0x1c58+0x1*-0x6d1+-0x1587)]=_0x4eb174?_0x4eb174[_0x26f44f]:0x20f0+0x3fd*0x3+-0x25d*0x13,_0x974301[_0x26f44f*(0x1b7d+0x7a3*-0x4+-0x189*-0x2)+(-0x2335+0x13*0x80+0x449*0x6)]=_0x3966ef[_0x26f44f]);const _0x27e77d=_0x2ff2f6();let _0x11d0ac={'dataColor':_0x460b0b,'dataCenters':_0x27bea4,'dataPosition':_0x38cacb,'dataScale':_0x53c958,'dataRotation':_0x51b5de,..._0x27e77d};return _0x5f1856&&(_0x11d0ac={..._0x11d0ac,'dataMotion':_0x59a061,'dataTime':_0x974301,'motion':_0x15478b,'tScaleArray':_0x3966ef,'muT':new Float32Array(_0x4eb174),'timeIndex':new Float32Array(_0x2134ec)}),_0x11d0ac;},_0x35bfb4=_0x2329f1=>{const _0x446cb3=[];for(let _0x4d0c03=-0x83*0x2a+-0x9*-0xb4+0x795*0x2;_0x4d0c03<_0x2329f1;++_0x4d0c03)_0x446cb3['push'](_0x5df3bc['f_rest_'+_0x4d0c03]);return _0x446cb3;},_0x2ff2f6=()=>{const _0x3de4dd=_0x7bbeaa();if(_0x3de4dd<=0xe0*-0x2c+-0x137a*0x1+0x39fa)return{};const _0x537993=_0x5df3bc['x']['length'],_0x534dd0=new Uint32Array(_0x537993*(0x179a+-0x6c5+-0x10d1)),_0x4e1b70=new Uint32Array(_0x537993*(0x74e+-0x1*-0x201d+0x7*-0x5a1)),_0x5928bd=new Uint32Array(_0x537993*(0xb7f+0x1*-0xd33+0x1b8)),_0x5bd808=new Uint32Array(_0x537993*(0x10*-0xea+0x2587+0x1f*-0xbd)),_0x2c1fc0={0x1:0x3,0x2:0x8,0x3:0xf}[_0x3de4dd],_0x3980a2=_0x35bfb4(_0x2c1fc0*(-0x1f29+0x10cb+0xe61)),_0x431e81=0xf*0x1a5+-0x9b*-0x10+-0x1a5c,_0x12b5e6=-0x8d3+-0x1c24*0x1+0xd6*0x31,_0x593ae2=new Float32Array(0x3be+0x31*0xc5+-0x2972),_0x45fa3c=new Uint32Array(_0x593ae2['buffer']),_0x3878ec=new Array(_0x2c1fc0*(0x3*0x29c+-0x1*-0x1a96+-0x2267))['fill'](-0xc5e+0x18aa+0xc4c*-0x1);for(let _0x344181=-0x1*0x1077+0x17e4+-0x76d;_0x344181<_0x537993;++_0x344181){for(let _0x41250e=-0xb38+0x151*0x3+0x745;_0x41250e<_0x2c1fc0;++_0x41250e)_0x3878ec[_0x41250e*(0x1f75+0x2*-0xf79+-0x80)]=_0x3980a2[_0x41250e][_0x344181],_0x3878ec[_0x41250e*(0x1c9*0x4+-0x1*0x1a3a+0x1319)+(-0x3ba+0x2ed*0x2+-0x21f)]=_0x3980a2[_0x41250e+_0x2c1fc0][_0x344181],_0x3878ec[_0x41250e*(0xa*0x279+-0x3*0xb23+0x8b2)+(-0x1293*0x1+-0x22ff*0x1+-0x12*-0x2fa)]=_0x3980a2[_0x41250e+_0x2c1fc0*(0x1e1b+-0x1037*-0x1+0x2e5*-0x10)][_0x344181];let _0x32babb=_0x3878ec[-0x656+0x17+0x63f];for(let _0x1c7144=0x4cf*0x3+-0x20bc+0x1250;_0x1c7144<_0x2c1fc0*(0xf0e+-0x1*0x10bd+-0x1b2*-0x1);++_0x1c7144)_0x32babb=Math['max'](_0x32babb,Math['abs'](_0x3878ec[_0x1c7144]));if(_0x32babb!==-0x8fc+-0x161c+0x1f18){for(let _0x291ac7=0x7d9*-0x3+0x6ce*0x2+0x9ef;_0x291ac7<_0x2c1fc0;++_0x291ac7)_0x3878ec[_0x291ac7*(-0x1*0x1bc9+0x2*-0x1097+-0x46*-0xdf)+(0x26*-0x88+-0x4ca*0x1+0x18fa*0x1)]=Math['max'](0xda*0x14+0xd*0x143+0x9*-0x3b7,Math['min'](_0x431e81,Math['floor']((_0x3878ec[_0x291ac7*(-0x182b+-0x5c*-0x5+0x1662)+(0xf48*-0x2+-0x1c9*-0x5+0x1d*0xbf)]/_0x32babb*(0x1116+-0x43*-0x1b+-0x1827+0.5)+(0x2*0x12b5+0x146c*0x1+-0x39d6+0.5))*_0x431e81+(-0x75*0x4+-0x12df+0x14b3+0.5)))),_0x3878ec[_0x291ac7*(-0xb75+-0x178d*-0x1+-0xc15)+(0x1dc8+0x164e+-0x1*0x3415)]=Math['max'](-0xf7c+0xc0a*-0x1+0x1a*0x10f,Math['min'](_0x12b5e6,Math['floor']((_0x3878ec[_0x291ac7*(-0x1*0x155b+0x5*-0x47f+0x19*0x1c1)+(-0x796+-0xdb*0xd+0xa*0x1df)]/_0x32babb*(0xbcc+0x9b+0x5*-0x27b+0.5)+(0xad7+-0x2231+0x62*0x3d+0.5))*_0x12b5e6+(-0xf9b+-0x4*0x36d+-0x29*-0xb7+0.5)))),_0x3878ec[_0x291ac7*(0x3*-0x70d+0x15*0xa1+0x7f5)+(0x436+0x595*-0x1+-0x1*-0x161)]=Math['max'](0x5*-0x617+-0x370+0x21e3,Math['min'](_0x431e81,Math['floor']((_0x3878ec[_0x291ac7*(-0x1*0x212d+0x1*0x1d8b+-0x137*-0x3)+(-0xb67+-0x197c+-0x5*-0x761)]/_0x32babb*(0x527+-0x4*-0x9b8+0xdd*-0x33+0.5)+(0x1590+0xeea+-0x247a+0.5))*_0x431e81+(-0x21bb+-0x3a0*0x1+0x49*0x83+0.5))));_0x593ae2[0x2*0x30a+-0x1*0xa21+-0x3d*-0x11]=_0x32babb,_0x534dd0[_0x344181*(-0x1937+-0x17d*0x19+0x3e70)+(-0x179e+0x629*-0x3+0x2a19)]=_0x45fa3c[0x1628+0x1*0x4d6+-0x1afe],_0x534dd0[_0x344181*(-0x1bc8+0x2166+-0x59a)+(-0x11bc+0x104d+0x170)]=_0x3878ec[-0x1*-0x1938+0x10cb*0x1+-0x2a03]<<0x7*0x1ff+0x1b1*-0xc+0x668|_0x3878ec[-0x2270+-0x2350+0x9f7*0x7]<<0x65*0x11+-0x110a+0xa60|_0x3878ec[-0x4*0x809+0x1b6e+0x8*0x97],_0x534dd0[_0x344181*(-0xf6c+0x1f82+-0x1012)+(0x18f6+-0x1*-0x1f45+-0x1*0x3839)]=_0x3878ec[-0x6*0x23c+0x645+0x5*0x16e]<<-0x1*0x1318+0x25d*-0xc+0x2f89|_0x3878ec[0x179c+-0x268e+0xef6]<<-0x18*0x17d+0x593+-0x17*-0x150|_0x3878ec[-0x21ab+-0x62e+0x27de],_0x534dd0[_0x344181*(-0x569+-0xced*-0x3+-0x215a)+(0x1*-0x16f9+0x22a*-0x9+0x2a76)]=_0x3878ec[-0x1*0x4f+0x108b+-0x33e*0x5]<<0x6*0x47+-0x1c6*0xc+-0x7b*-0x29|_0x3878ec[0x1*-0x2011+0x5db*-0x6+0x433a]<<0x26*0x96+-0x559*-0x5+-0x30f6|_0x3878ec[0x1a63*-0x1+0x1292+-0x11f*-0x7],_0x3de4dd>-0x2278+-0x147f+0x36f8&&(_0x4e1b70[_0x344181*(0x125f+0x2090+-0x1*0x32eb)+(-0x57*0x4f+-0x2fd*-0x9+-0xc)]=_0x3878ec[-0x259a+-0x945+0x2ee8]<<0xcdb+-0x17b7+0x1*0xaf1|_0x3878ec[-0x1a94+-0x2303+0x3da1]<<0x11a4*-0x1+0x2c5*0x3+-0x320*-0x3|_0x3878ec[0x72*0x19+-0x22*-0x7f+0x1bf5*-0x1],_0x4e1b70[_0x344181*(0x19e7+-0x173*-0xd+-0xe5*0x32)+(0x961+-0x6*0x42b+0xfa2)]=_0x3878ec[-0x2662+0x1041*-0x2+0x46f0]<<0x16fd+-0x1e53+0x1*0x76b|_0x3878ec[-0x13ec+0x223+0x11d6]<<-0x5*0x689+0x1*-0x237f+0x4437|_0x3878ec[0x9eb+-0x79e+-0x23f],_0x4e1b70[_0x344181*(-0x10b3+-0x543*-0x2+0x631)+(-0x120a+-0x1a*-0x59+0x902)]=_0x3878ec[-0x2481+-0xad*-0xe+-0xd8d*-0x2]<<-0x114f*0x1+0x1a00*-0x1+-0x2b64*-0x1|_0x3878ec[0x1589+0x694*0x2+-0x1*0x22a1]<<0xd8d*0x1+-0x1347+0x5c5|_0x3878ec[-0x2503+0xa75+0x1a9f],_0x4e1b70[_0x344181*(0xce+0x2709+-0x27d3)+(-0x3*-0x34f+0xc09+0x3*-0x751)]=_0x3878ec[0x32*-0x8e+-0x1f47+0x3b15]<<-0xc19*-0x3+-0x3*0x4dc+-0x736*0x3|_0x3878ec[-0x1*-0x2a1+-0x41b*-0x6+-0x1b30]<<-0x396+0x2d*0x22+-0x259|_0x3878ec[-0x1f24+-0x481*0x7+0x3ebf*0x1],_0x3de4dd>-0x1*-0x2226+0x1*-0x9cf+-0x1855?(_0x5928bd[_0x344181*(-0x7ab*-0x5+-0x2161*0x1+0x279*-0x2)+(0x11f7+0x25*0xce+-0xb*0x457)]=_0x3878ec[0xd4e+0x13fd+0x3*-0xb12]<<0x4ac+-0x10ad+0xc16|_0x3878ec[0x1*0x648+-0x23*-0x95+-0x1a91]<<-0x2031+-0xf2*0x23+0x4152|_0x3878ec[-0x9c3+0x4*-0x164+0xf6a],_0x5928bd[_0x344181*(-0x1*-0xc15+0x6c6+0x7*-0x2b1)+(0x2391+-0x95e+0x2*-0xd19)]=_0x3878ec[-0x23cd+0x19b*0x1+0x273*0xe]<<-0x156e+0xca2*-0x1+0x2225*0x1|_0x3878ec[0x19e6+0xe8b+-0x2858]<<0x202f+0x9*0x48+-0x27a*0xe|_0x3878ec[-0x59*-0x44+-0x1*-0x8b9+-0x1*0x2043],_0x5928bd[_0x344181*(0x18f8+-0xb13+-0xde1)+(0x2525*-0x1+-0x14*-0xc+0x2437)]=_0x3878ec[0x98e+0x1ff0+-0x2963]<<0x2*0xa09+-0x1*-0x871+-0x1c6e|_0x3878ec[-0x254*-0x2+0x23c7+0x6f*-0x5d]<<-0x1c4*0x4+0x2574+-0x1e59|_0x3878ec[-0x1071+-0x1*0x1867+-0x831*-0x5],_0x5928bd[_0x344181*(-0x1*-0x2709+-0x17*0x115+-0x6*0x25b)+(0x57f+-0x2549+0x1fcd)]=_0x3878ec[0x2ae+0x1d25+-0x1fb5]<<-0x1c89+-0x3b*0x62+0x3334|_0x3878ec[0x1106+-0x3f*0x94+-0x13*-0x107]<<-0x543*-0x4+0x1*-0x13f4+-0x10d|_0x3878ec[-0x126e+-0xf9f+0x222d],_0x5bd808[_0x344181*(-0x236+0x1bea+-0x1*0x19b0)+(-0x3*-0xbe7+-0x1*-0x421+0x27d6*-0x1)]=_0x3878ec[0x255a+0x1055+0x1*-0x358e]<<-0x245*0x1+-0xe67+0x1*0x10c1|_0x3878ec[-0x15ff+-0x1*0x1b8e+0x31af]<<-0x16bb+0x1ff*0x10+0x66*-0x17|_0x3878ec[-0xdd*0x1+-0x2151+0x6dd*0x5],_0x5bd808[_0x344181*(0xf2b+0x1*-0x14dd+0x5b6)+(-0x38*0x95+0x1f78+0x121)]=_0x3878ec[0x738+0x1ffc+-0x2710]<<0x1d71+-0x107a*0x1+0x61*-0x22|_0x3878ec[-0xa75+-0xbaf+0x1649]<<-0xff2+-0x2218+0x3215|_0x3878ec[0x1*-0x114e+0x6*-0x346+0x2518],_0x5bd808[_0x344181*(0x8f9*0x1+-0x3*0x3e6+0x2bd)+(0x20*-0x130+0x1341+0x12c1)]=_0x3878ec[-0x15*0xd7+0x2583+-0xbb*0x1b]<<0x1c12+0xc*0x1bf+-0xbb*0x43|_0x3878ec[-0x1f78+0x2*-0xbcb+0x3736]<<0x4c7+-0x2*-0xffd+-0x7f*0x4a|_0x3878ec[-0x1250+-0x141*0x1+-0x32*-0x65],_0x5bd808[_0x344181*(0x1efb*0x1+0x246a+-0x4361)+(0x399*-0xa+-0x1cbd+0x40ba)]=_0x3878ec[0x1*0x11c6+0x1606+-0x39*0xb2]<<0x2353+-0x1*-0x124e+0x12a*-0x2e|_0x3878ec[-0x571+-0xf61+0x14fd]<<0x1270+-0x5*0x45d+0x36c*0x1|_0x3878ec[-0x134a+-0x281*-0xb+-0x815]):_0x5928bd[_0x344181]=_0x3878ec[-0x14a9+0x148*-0x1+-0xb03*-0x2]<<-0x7f*0x2f+0x1*0x6f+0x16f7|_0x3878ec[0x89*-0xb+-0x1bd3*0x1+-0xb44*-0x3]<<-0x166e+-0x1e48+0x34c1|_0x3878ec[0x1bd+0x49*-0x85+-0x25*-0xfb]);}}return{'sh1to3Data':_0x534dd0,'sh4to7Data':_0x4e1b70,'sh8to11Data':_0x5928bd,'sh12to15Data':_0x5bd808};},_0x24d2af=_0x37bab2=>{if(!_0x5df3bc['time_index'])return;const _0x21dc7e=_0x5df3bc['time_index']['findIndex'](_0x5e52eb=>_0x5e52eb===_0x37bab2);let _0x31dc77=_0x5df3bc['time_index']['findIndex']((_0x42dc5e,_0x3d0e7e)=>_0x42dc5e!==_0x37bab2&&_0x3d0e7e>_0x21dc7e);if(_0x31dc77===-(-0x7f6+0x148*-0x11+0x1dbf)&&_0x21dc7e===-(0x18b*0x1+0x224b+-0x23d5))return;_0x31dc77===-(-0xac1+0x21ec+0x251*-0xa)&&_0x21dc7e!==-(0x22c7+-0x4*0x5ab+-0x60d*0x2)&&(_0x31dc77=_0x5df3bc['time_index']['length']),_0x59749a-=_0x31dc77-_0x21dc7e,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x59749a,_0x31dc77-_0x21dc7e);const _0x2b1b5f=Object['keys'](_0x5df3bc);for(let _0x59f0a2=0x10d*-0x23+0x206c+0x45b;_0x59f0a2<_0x2b1b5f['length'];_0x59f0a2++){const _0x173303=_0x2b1b5f[_0x59f0a2],_0x2b752f=_0x5df3bc[_0x173303];if(_0x2b752f){let _0x4e0575=-0x13d7+-0x8*-0x47+0x11a0;switch(_0x173303){case'position':_0x4e0575=0x63d+-0x4d*0x23+0x1*0x44d;break;case'color_opac'+'ity':_0x4e0575=-0x1871*-0x1+0x1*-0x1202+-0x66b;break;case'scale':_0x4e0575=0x7c*-0x12+0x215+-0x2*-0x353;break;case'motion':_0x4e0575=0x60e*0x5+0xa11+0x74*-0x59;break;case'rotation':_0x4e0575=-0x1324+0xb2c+0x7fb*0x1;break;default:_0x4e0575=0x1*-0x1def+-0x6b1+0x24a1;break;}const _0x262390=new Float32Array(_0x59749a*_0x4e0575);_0x21dc7e>-0x2656+-0xdc0+0xe2*0x3b?(_0x262390['set'](_0x2b752f['subarray'](-0xe3a+-0x9*-0x346+-0xf3c,_0x21dc7e*_0x4e0575),-0x1*0x1e2e+0x1*-0x2336+0x4164),_0x262390['set'](_0x2b752f['subarray'](_0x31dc77*_0x4e0575),_0x21dc7e*_0x4e0575)):_0x262390['set'](_0x2b752f['subarray'](_0x31dc77*_0x4e0575),0x25d3+-0x3*-0x877+-0x3f38),_0x5df3bc[_0x173303]=_0x262390;}}},_0x974967=()=>{const _0x4e62dc=Object['keys'](_0x5df3bc);for(let _0x73fcb0=-0x8b6*-0x4+-0x32*-0x74+-0x2*0x1cc0;_0x73fcb0<_0x4e62dc['length'];_0x73fcb0++){const _0x5424f4=_0x4e62dc[_0x73fcb0];_0x5df3bc[_0x5424f4]&&(_0x5df3bc[_0x5424f4]=[]);}},_0x5db715=()=>{_0x5df3bc={},_0x59749a=0x22de+-0x2*0x713+-0x14b8;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x245565,_0x58be9e,_0x22d45c,_0x385b32=!(0x106+-0x1db1+-0x16f*-0x14)){var _0x10838d,_0x550057;const _0x191b53={};return _0x245565['elements'][-0x3*0x3a5+0x201b*0x1+0x4*-0x54b]['properties']['forEach'](_0x264d33=>{_0x191b53[_0x264d33['name']]=_0x264d33['storage'];}),_0x385b32?(_0x10838d=this['worker'])==null||_0x10838d['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x191b53,'timeIndex':_0x58be9e,'timeOption':_0x22d45c},_0x245565['elements'][0x1f25*-0x1+-0x1*-0x2112+-0x1ed]['properties']['map'](_0x5ce3ae=>_0x5ce3ae['storage']['buffer'])):(_0x550057=this['worker'])==null||_0x550057['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x191b53,'timeIndex':_0x58be9e,'timeOption':_0x22d45c}),new Promise(_0x219bc9=>{this['worker']['onmessage']=_0x4084fa=>{if(!this['worker'])return;const {data:_0x1f4001}=_0x4084fa;_0x1f4001['type']==='newAppendD'+'ata'&&_0x219bc9(_0x1f4001);};});}async['releaseSeq'+'Data'](_0x3063c7){var _0x1babe8;(_0x1babe8=this['worker'])==null||_0x1babe8['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x3063c7});}async['releaseAll'+'SeqData'](){var _0x2e6943;(_0x2e6943=this['worker'])==null||_0x2e6943['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x3640b2;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x3640b2=this['worker'])==null||_0x3640b2['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x5*-0x484+0x29b+0x192e*-0x1,-0xd80+-0x1cf0+0x87d*0x5,0x170d+0x9fb+0x4*-0x842,-0x21f9+-0x803*-0x4+-0x1d*-0x11+0.4),Sg=0x3263*-0x7+-0x1b6af*0x3+0x99202;class tC{constructor(_0x2fadf9,_0x23b838,_0x457420,_0xe3fb46,_0x5d9f5d,_0x3f28ed){const _0xa3d166=_0x2fadf9['getProp']('position'),_0x11f0b3=_0x2fadf9['getProp']('color_opac'+'ity'),_0xe2ac16=_0x2fadf9['getProp']('scale'),_0x5e0557=_0x2fadf9['getProp']('motion'),_0x1ea7ef=_0x2fadf9['getProp']('rotation');this['read']=_0x55512a=>{_0x23b838&&_0x23b838['set'](_0xa3d166[_0x55512a*(0x1423+-0x3dd*-0x9+-0x2f*0x12b)+(0x26b4+0x2*-0xd05+-0x655*0x2)],_0xa3d166[_0x55512a*(-0x106*-0xb+0x812*0x2+0x29*-0xab)+(0xaee*-0x3+0x4*-0x848+-0x2d*-0x177)],_0xa3d166[_0x55512a*(-0x4*-0x45b+0x54a+-0x791*0x3)+(0x1c5d*-0x1+-0xc*-0x4b+0x18db)]),_0x457420&&_0x457420['set'](_0x1ea7ef[_0x55512a*(-0xe8c+0x161*0x17+0x4*-0x44a)+(0x183d+-0x7*-0x1b1+-0x2414)],_0x1ea7ef[_0x55512a*(0xb98+0x1*0x1891+-0x2426)+(-0x4*0x2ad+0x769*0x3+-0x1*0xb86)],_0x1ea7ef[_0x55512a*(0x9cb+-0x24*-0xd7+-0x2804)+(-0x2628+-0x2227+-0x3*-0x181b)]),_0xe3fb46&&_0xe3fb46['set'](_0xe2ac16[_0x55512a*(-0x3*0xcd4+0xc90*0x3+0x9*0x17)+(-0x42*-0x25+0xab5+-0x143f)],_0xe2ac16[_0x55512a*(-0x2421+-0x10*-0x170+0xd24)+(0x6aa*-0x4+0x1aec+0x43*-0x1)],_0xe2ac16[_0x55512a*(-0x1b21*0x1+0x137f+0x7a5)+(-0x8c+-0x214d+0x3c3*0x9)]),_0x3f28ed&&_0x5e0557&&_0x3f28ed['set'](_0x5e0557[_0x55512a*(-0x2119+-0x15c3*0x1+0x36df)+(0x2*0x19+0x1*0x1aeb+-0x1b1d)],_0x5e0557[_0x55512a*(0x501+-0x2401+0x1d3*0x11)+(-0x1*0x1162+0x7*0x5c+0xedf)],_0x5e0557[_0x55512a*(-0x1c09+-0x3*0xbba+0x3f3a)+(-0x694*0x5+-0xa4b+0x2b31*0x1)]),_0x5d9f5d&&_0x5d9f5d['set'](_0x11f0b3[_0x55512a*(0x13e5+-0x270+0x37d*-0x5)+(-0x97*-0x1f+-0x1f99+0x470*0x3)],_0x11f0b3[_0x55512a*(0xd2f+-0x6f4*0x2+0xbd)+(-0x1f6*0xd+-0x1*-0x2417+-0xa98)],_0x11f0b3[_0x55512a*(0x658+0x1*-0x238f+0x1d3b*0x1)+(0x1d*-0xc1+-0xa12+0x1ff1)],_0x11f0b3[_0x55512a*(0x1a77+0x1*-0xe03+0x8*-0x18e)+(-0x21c0+0x1*-0xd0f+0x2ed2)]);};}}const sC=(_0x8d5bb8,_0x12ccdc,_0x174165)=>{gg['set'](_0x174165['x'],_0x174165['y'],_0x174165['z'],_0x174165['w'])['normalize'](),_0x8d5bb8['setTRS'](_0x12ccdc,gg,D['ONE']);};class iC{constructor(_0x30bdc5,_0x1c8b0=[],_0x685df7=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x62b*-0x3+-0x8cc*0x3+0x7e3),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x226242;(_0x226242=this['dataWorker'])==null||_0x226242['destroy'](),this['dataWorker']=null;});var _0x2b621c,_0x28987a,_0x3d2bb4;this['elements']=_0x30bdc5,this['properties']=_0x685df7,this['numSplats']=((_0x2b621c=this['getElement']('vertex'))==null?void(0x1*0x1257+0x8*0x255+0x4d*-0x7b):_0x2b621c['count'])??-0x6*0x3b8+-0x1b09+0x3159*0x1,this['comments']=_0x1c8b0,this['is4D']=!!((_0x3d2bb4=(_0x28987a=this['getElement']('vertex'))==null?void(-0x1391+0x26*-0x55+-0x6b*-0x4d):_0x28987a['properties']['find'](_0x998a3c=>_0x998a3c['name']==='t'))!=null&&_0x3d2bb4['storage']);}async['appendGSpl'+'atData'](_0x5ad309,_0x39f4c8,_0x23ff10){var _0x12eff3;let _0x182e0a=-0x11c5+0x2*-0x1012+0x31e9;for(let _0x9ebe9c=-0x143a+0x448+0xff2*0x1;_0x9ebe9c<_0x23ff10['length']&&_0x39f4c8>_0x23ff10[_0x9ebe9c];_0x9ebe9c+=0x13cd*0x1+0x29*-0x1e+-0x4ff*0x3)_0x182e0a=_0x9ebe9c/(0x2563+0x83*0x30+-0x3df1);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x933+-0x25d6+0x2f09,_0x23ff10));const _0x4c9541=this['getElement']('vertex');_0x4c9541&&(_0x4c9541['count']=this['numSplats']);const _0x513dea=await this['dataWorker']['appendGSpl'+'atData'](_0x5ad309,_0x182e0a,_0x23ff10,!(0x28*0x45+0xf*-0x50+-0x138*0x5)),_0x2682dd=_0x513dea['properties'],_0x4b7d23=((_0x12eff3=this['getElement']('vertex'))==null?void(-0x1021*0x2+0x6*0x629+0x7*-0xac):_0x12eff3['properties'])??[];for(const _0x51ae49 in _0x2682dd){const _0x5114c3=_0x4b7d23['find'](_0x1641eb=>_0x1641eb['name']===_0x51ae49);_0x5114c3?_0x5114c3['storage']=_0x2682dd[_0x51ae49]:_0x4b7d23['push']({'type':'float','name':_0x51ae49,'storage':_0x2682dd[_0x51ae49],'byteSize':0x4});}this['transformD'+'ata']=_0x513dea['transformD'+'ata'],this['numSplats']=_0x2682dd['position']['length']/(0x9e*0x1f+-0xdea+-0x535);}async['releaseSeq'+'Data'](_0x35d3af){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x35d3af),this['dataWorker']['releaseSeq'+'Data'](_0x35d3af),this;}async['releaseAll'+'SeqData'](){var _0x589e00;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x589e00=this['dataWorker'])==null||_0x589e00['releaseAll'+'SeqData'](),this;}['getProp'](_0x4f0438,_0x147f40='vertex'){var _0x44d373,_0x28b80e;return(_0x28b80e=(_0x44d373=this['getElement'](_0x147f40))==null?void(0x240d+0x24b+-0x2658):_0x44d373['properties']['find'](_0x94f1d7=>_0x94f1d7['name']===_0x4f0438))==null?void(0x297*0x2+-0x203d+0x1b0f):_0x28b80e['storage'];}['getElement'](_0x58047b){return this['elements']['find'](_0x6c3508=>_0x6c3508['name']===_0x58047b);}['createIter'](_0x592ff8,_0xa96308,_0x3f1db6,_0x1ce108,_0x2f9508){return new tC(this,_0x592ff8,_0xa96308,_0x3f1db6,_0x1ce108,_0x2f9508);}['calcAabb'](_0x1d7c17,_0x324ef2){let _0x27a9eb=-0x1c79+-0x150f+-0xa*-0x4f4,_0x4b8103=-0xa9e+0x10e*0x25+-0x1c68,_0x171318=0xd*0x282+-0xd4*0xd+-0x15d6,_0x303470=0x1386*-0x1+0x25f9*0x1+-0x1273*0x1,_0x40d735=0x7*-0x1a+-0x191*-0x10+-0x185a,_0x5b48cf=-0x19f3+0x12a*0xe+-0x1*-0x9a7,_0x5d7949=!(-0x55e*0x5+0xbc1+0xf15);const _0x368714=this['getProp']('position'),_0x433d42=this['getProp']('scale');for(let _0x1259f1=0x1566+0x29*0xb+-0x1729;_0x1259f1<this['numSplats'];++_0x1259f1){if(_0x324ef2&&!_0x324ef2(_0x1259f1))continue;const _0x47be2c=_0x368714[_0x1259f1*(-0xfc1+0x1b93+-0xbcf)+(0x242a+-0x50a*0x3+-0x704*0x3)],_0x36c5c8=_0x368714[_0x1259f1*(-0xf9a+-0x2507*-0x1+-0x156a)+(-0x1727*-0x1+0x1*-0xe83+-0xb*0xc9)],_0x3b0a9c=_0x368714[_0x1259f1*(0x1602+0x17ec+-0x1*0x2deb)+(0x1b49+0x4*0x79b+0x39b3*-0x1)],_0xe8ab91=Math['max'](_0x433d42[_0x1259f1*(-0x1371*0x2+0x2199+0x54c)+(0x29*-0x95+-0x1*0x1951+0x312e)],_0x433d42[_0x1259f1*(0x7cf*0x4+0xcc*-0x1d+0x81d*-0x1)+(0xc26+0x26bd+-0x32e2)],_0x433d42[_0x1259f1*(0x841*-0x2+-0x1903*0x1+-0xdd8*-0x3)+(-0x8d+0xa9f+-0xa10)]);if(!isFinite(_0x47be2c)||!isFinite(_0x36c5c8)||!isFinite(_0x3b0a9c)||!isFinite(_0xe8ab91))continue;const _0x4717f8=(-0x5*-0x3bc+-0x2082+-0x8*-0x1bb)*Math['exp'](_0xe8ab91);_0x5d7949?(_0x5d7949=!(-0x1ca8+0x2700+-0x1*0xa57),_0x27a9eb=_0x47be2c-_0x4717f8,_0x4b8103=_0x36c5c8-_0x4717f8,_0x171318=_0x3b0a9c-_0x4717f8,_0x303470=_0x47be2c+_0x4717f8,_0x40d735=_0x36c5c8+_0x4717f8,_0x5b48cf=_0x3b0a9c+_0x4717f8):(_0x27a9eb=Math['min'](_0x27a9eb,_0x47be2c-_0x4717f8),_0x4b8103=Math['min'](_0x4b8103,_0x36c5c8-_0x4717f8),_0x171318=Math['min'](_0x171318,_0x3b0a9c-_0x4717f8),_0x303470=Math['max'](_0x303470,_0x47be2c+_0x4717f8),_0x40d735=Math['max'](_0x40d735,_0x36c5c8+_0x4717f8),_0x5b48cf=Math['max'](_0x5b48cf,_0x3b0a9c+_0x4717f8));}return _0x5d7949||(_0x1d7c17['center']['set']((_0x27a9eb+_0x303470)*(-0x23cd+-0x251c+0x48e9+0.5),(_0x4b8103+_0x40d735)*(-0x90*0x1d+0x1e2a+-0xdda+0.5),(_0x171318+_0x5b48cf)*(0x465+-0x1*-0x84+-0x1a3*0x3+0.5)),_0x1d7c17['halfExtent'+'s']['set']((_0x303470-_0x27a9eb)*(0x11fb+-0x18e+-0x106d+0.5),(_0x40d735-_0x4b8103)*(0xae8+0x18d*-0x5+-0x1*0x327+0.5),(_0x5b48cf-_0x171318)*(0x5*-0x283+0x2683*-0x1+0x883*0x6+0.5))),!_0x5d7949;}['yieldToMai'+'n'](){var _0x31c576;return(_0x31c576=globalThis['scheduler'])!=null&&_0x31c576['yield']?globalThis['scheduler']['yield']():new Promise(_0x2b9bbb=>{setTimeout(_0x2b9bbb,0x2*0xbf0+0x1*-0xa31+-0xdaf);});}async['getCenters'](_0x320091){const _0x3ead23=this['getProp']('x'),_0x146932=this['getProp']('y'),_0x505e43=this['getProp']('z');for(let _0x48c616=0x283+-0x1*-0x346+-0x5c9*0x1;_0x48c616<this['numSplats'];++_0x48c616)_0x320091[_0x48c616*(-0x9ff*0x1+0xc23+-0x5*0x6d)+(-0x5f8+0xecd+-0x13*0x77)]=_0x3ead23[_0x48c616],_0x320091[_0x48c616*(-0x156b+0x2489+0x3*-0x509)+(-0xb*-0xa3+-0x19*0xa+-0x606)]=_0x146932[_0x48c616],_0x320091[_0x48c616*(0x6bd+-0x202b+0x1971)+(0x1e68+0x2186+-0x4*0xffb)]=_0x505e43[_0x48c616],_0x48c616%Sg===0x2c5+0x19d1+-0x1c96&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x4165c3;if((_0x4165c3=this['transformD'+'ata'])!=null&&_0x4165c3['muT'])return this['transformD'+'ata']['muT'];const _0x503b84=this['getProp']('t');return _0x503b84?new Float32Array(_0x503b84):void(-0x44f*-0x1+0x667*-0x4+0x154d);}async['getTScale'](){const _0x456aef=this['getProp']('t_scale');if(!_0x456aef)return;const _0x937f33=new Float32Array(this['numSplats']);for(let _0x382a9e=-0x20f+0x3e*-0x52+0x15eb;_0x382a9e<this['numSplats'];++_0x382a9e)_0x937f33[_0x382a9e]=Math['exp'](_0x456aef[_0x382a9e]),_0x382a9e%Sg===0x432*0x6+0x829+0x2155*-0x1&&await this['yieldToMai'+'n']();return _0x937f33;}['getMotion'](_0x5595c3){const _0x3c25f8=this['getProp']('motion');_0x3c25f8&&new Float32Array(_0x3c25f8['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x8ec73e;if((_0x8ec73e=this['transformD'+'ata'])!=null&&_0x8ec73e['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x3492c7=this['getProp']('time_index');if(_0x3492c7)return new Float32Array(_0x3492c7);}['calcFocalP'+'oint'](_0x46ba41,_0x39572f){const _0x108fa2=this['getProp']('position'),_0x209c33=this['getProp']('scale');_0x46ba41['x']=0x349+-0x15fa+0x57*0x37,_0x46ba41['y']=-0x266*0x7+-0x1*-0x1095+-0x35*-0x1,_0x46ba41['z']=0x1c8a+0x824+-0x24ae;let _0x4d707f=0x657*-0x1+0x435+0x222;for(let _0x4eb176=-0x4f2*-0x2+0x59*0x3a+-0x1e0e;_0x4eb176<this['numSplats'];++_0x4eb176){if(_0x39572f&&!_0x39572f(_0x4eb176))continue;const _0x35e50b=_0x108fa2[_0x4eb176*(-0x281+0x1*-0x1feb+-0xd7*-0x29)+(-0x1b02+-0x1de6+0xe3a*0x4)],_0x444e6a=_0x108fa2[_0x4eb176*(-0x1687+0x9*-0x2b4+-0x359*-0xe)+(0x11*-0xb1+0x149b+-0x8d9)],_0x1f6d63=_0x108fa2[_0x4eb176*(-0x4eb*-0x5+0xfa+-0xcc7*0x2)+(-0x1*0xf47+-0x228+0x1*0x1171)];if(!isFinite(_0x35e50b)||!isFinite(_0x444e6a)||!isFinite(_0x1f6d63))continue;const _0x348ae8=(-0x1*0x665+0xc*0x58+0xc2*0x3)/(-0x1*0x2392+-0x689*0x1+0x2a1c+Math['max'](_0x209c33[_0x4eb176*(-0x11cf+0x1781+-0x5af)+(0x2*0x3f9+-0x1*-0x19df+0xb*-0x313)],_0x209c33[_0x4eb176*(0xd6e+0x140f+-0x217a)+(0x3b*-0x7f+-0x16*0xa5+-0xce*-0x36)],_0x209c33[_0x4eb176*(0x2f*-0xa4+-0x20e2+0x3f01)+(-0x1*-0xb2d+-0x8b7*-0x2+-0x1c99)]));_0x46ba41['x']+=_0x35e50b*_0x348ae8,_0x46ba41['y']+=_0x444e6a*_0x348ae8,_0x46ba41['z']+=_0x1f6d63*_0x348ae8,_0x4d707f+=_0x348ae8;}_0x46ba41['mulScalar']((0x2*-0x30f+0x1498+-0xe79)/_0x4d707f);}['renderWire'+'frameBound'+'s'](_0x36d016,_0x5438c0){const _0x238da0=new D(),_0x10a62b=new le(),_0x3dda03=new D(),_0xa1d387=new D(),_0x3de00b=new D(),_0x426635=this['createIter'](_0x238da0,_0x10a62b,_0x3dda03);for(let _0x24194e=0xbfb*0x1+-0x9*0x22b+0x788;_0x24194e<this['numSplats'];++_0x24194e)_0x426635['read'](_0x24194e),sC(gc,_0x238da0,_0x10a62b),gc['mul2'](_0x5438c0,gc),_0xa1d387['set'](_0x3dda03['x']*-(0x23af+0x25*-0xd3+-0x52e),_0x3dda03['y']*-(-0x1a6a+-0x1e57*-0x1+0x11*-0x3b),_0x3dda03['z']*-(0x2677+-0x9+0x266c*-0x1)),_0x3de00b['set'](_0x3dda03['x']*(0x2586+0xc8e+-0x3212),_0x3dda03['y']*(-0xca*-0x15+-0x82e+-0x862),_0x3dda03['z']*(0xc0*-0x20+0x2125+0x923*-0x1)),_0x36d016['immediate']['drawWireAl'+'ignedBox'](_0xa1d387,_0x3de00b,eC,!(0x238c+-0x1*-0x205d+0x131*-0x39),_0x36d016['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x109c+-0x2b*-0x21+-0x51*0x46);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xe650ab=0x1416+-0x8a*0x1f+-0x20*0x1b;_0xe650ab<-0x51c+-0x20d0+0x2619;++_0xe650ab)if(!this['getProp']('f_rest_'+_0xe650ab))return _0xe650ab;return 0x1f14+-0x1249*0x1+0xbe*-0x11;})())]??0x19d0+-0x17e8+0x3d*-0x8;}['calcMorton'+'Order'](){const _0x393842=_0x1cef56=>{let _0x57345d=_0x1cef56[-0x206d+0x1ab*-0xd+0x4*0xd87],_0x37938b=_0x1cef56[0x113f+-0x23fb*-0x1+-0x1*0x353a];for(let _0x194198=-0xc8d+-0x600+0x128e;_0x194198<_0x1cef56['length'];_0x194198++)_0x1cef56[_0x194198]<_0x57345d&&(_0x57345d=_0x1cef56[_0x194198]),_0x1cef56[_0x194198]>_0x37938b&&(_0x37938b=_0x1cef56[_0x194198]);return{'min':_0x57345d,'max':_0x37938b};},_0x10340f=(_0x1aba70,_0x42ebcd,_0x190e4d)=>{const _0x2cb0c3=_0xfe7ac3=>(_0xfe7ac3&=-0x13d1+-0x389+0x1b59*0x1,_0xfe7ac3=(_0xfe7ac3^_0xfe7ac3<<0x1507+0x22de+-0x1*0x37d5)&0xc3acf7d*0x1c+-0x1260ec449+0x7506d7*0x1c4,_0xfe7ac3=(_0xfe7ac3^_0xfe7ac3<<0x67*-0x60+-0x2419+-0x4ac1*-0x1)&0x4be71*0x17+-0x9081e*-0x6d+-0x144a0de,_0xfe7ac3=(_0xfe7ac3^_0xfe7ac3<<0x5e*-0x2f+0x8a5*0x1+0x8a1)&-0x3fe*0x172ca+0x5d769d0+0x10f*0x2d2b1,_0xfe7ac3=(_0xfe7ac3^_0xfe7ac3<<0x1*0x1c77+-0x1*0x53e+-0x7bd*0x3)&0x114f7d78+-0x9*-0x1ebc0ff+0x26*-0xab7e01,_0xfe7ac3);return(_0x2cb0c3(_0x190e4d)<<-0x3*0x333+0x112c+-0x1*0x791)+(_0x2cb0c3(_0x42ebcd)<<-0x10c6+-0x591+-0xd*-0x1b8)+_0x2cb0c3(_0x1aba70);},_0x55a13c=this['getProp']('x'),_0x420ef4=this['getProp']('y'),_0x10464d=this['getProp']('z'),{min:_0x253eee,max:_0xfbb181}=_0x393842(_0x55a13c),{min:_0x28fc27,max:_0x272e9d}=_0x393842(_0x420ef4),{min:_0x6695e,max:_0x5819e3}=_0x393842(_0x10464d),_0x4d8a60=_0x253eee===_0xfbb181?-0x2092+0xf8*0x9+0xbed*0x2:(0x53*0x53+0x187c+-0x2f65)/(_0xfbb181-_0x253eee),_0x194abb=_0x28fc27===_0x272e9d?-0x1*-0x581+0x2*0x122e+-0x29dd*0x1:(0x1*0x113f+0x20cf*0x1+-0x3*0xf5a)/(_0x272e9d-_0x28fc27),_0x2aee37=_0x6695e===_0x5819e3?0xf5c*0x2+0x1*0x232+0x2fe*-0xb:(0x244c+-0x1*0x5ae+-0x1a9e)/(_0x5819e3-_0x6695e),_0x13d88f=new Map();for(let _0x59fc61=-0x10c1*-0x1+-0x9*0x15b+0x247*-0x2;_0x59fc61<this['numSplats'];_0x59fc61++){const _0x2c23db=Math['min'](-0x287*0xb+0x19e5+0x5e7*0x1,Math['floor']((_0x55a13c[_0x59fc61]-_0x253eee)*_0x4d8a60)),_0x359f33=Math['min'](-0xf49+0xa*0xfd+0x966,Math['floor']((_0x420ef4[_0x59fc61]-_0x28fc27)*_0x194abb)),_0x1398b5=Math['min'](0x8ed+0x134f+0x4d9*-0x5,Math['floor']((_0x10464d[_0x59fc61]-_0x6695e)*_0x2aee37)),_0x45f559=_0x10340f(_0x2c23db,_0x359f33,_0x1398b5),_0x10b294=_0x13d88f['get'](_0x45f559);_0x10b294?_0x10b294['push'](_0x59fc61):_0x13d88f['set'](_0x45f559,[_0x59fc61]);}const _0x1c7777=Array['from'](_0x13d88f['keys']())['sort']((_0x2b375d,_0xa369bb)=>_0x2b375d-_0xa369bb),_0x475486=new Uint32Array(this['numSplats']);let _0x30ba60=0x1b5d+-0x2*-0x12ef+-0x413b;for(let _0x4d2537=0x1847+-0x12*0x7f+-0xf59;_0x4d2537<_0x1c7777['length'];++_0x4d2537){const _0x367e81=_0x13d88f['get'](_0x1c7777[_0x4d2537]);for(let _0x813493=0x11*0x5+-0x2*0x235+0x415;_0x813493<_0x367e81['length'];++_0x813493)_0x475486[_0x30ba60++]=_0x367e81[_0x813493];}return _0x475486;}['reorder'](_0x4d3f8a){const _0x10a36a=new Map(),_0x4ffe5b=_0x3c47ea=>{if(_0x10a36a['has'](_0x3c47ea)){const _0x20783a=_0x10a36a['get'](_0x3c47ea);return _0x10a36a['delete'](_0x3c47ea),_0x20783a;}return new ArrayBuffer(_0x3c47ea);},_0x7ad7f8=_0x202ac4=>{_0x10a36a['set'](_0x202ac4['byteLength'],_0x202ac4);},_0x517665=_0x13ab0b=>{const _0x5e9ffd=new _0x13ab0b['constructo'+'r'](_0x4ffe5b(_0x13ab0b['byteLength']));for(let _0x511751=0x5*0x27a+0x3fe*0x1+-0x8*0x20c;_0x511751<_0x4d3f8a['length'];_0x511751++)_0x5e9ffd[_0x511751]=_0x13ab0b[_0x4d3f8a[_0x511751]];return _0x7ad7f8(_0x13ab0b['buffer']),_0x5e9ffd;};this['elements']['forEach'](_0x2811bd=>{_0x2811bd['properties']['forEach'](_0x5802aa=>{_0x5802aa['storage']&&(_0x5802aa['storage']=_0x517665(_0x5802aa['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x182de4,_0x5879f7)=>{for(const _0x27bdb3 in _0x5879f7)_0x182de4['resolve'](_0x27bdb3)['setValue'](_0x5879f7[_0x27bdb3]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x486d5c;(_0x486d5c=this['executeCal'+'lback'])==null||_0x486d5c['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x38e9fc,_0xc58519){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x38e9fc,this['gsplatInst'+'ance']=_0xc58519);const {resource:_0x32032b}=_0xc58519,_0x35ee82=new Map(Pe['get'](_0x38e9fc,_0x38e9fc['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x38e9fc,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x35ee82,'fragmentIncludes':_0x35ee82,'fragmentDefines':new Map([['SH_BANDS',_0x32032b['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x32032b['createText'+'ure']('centroids',Ne,new J(0x29*-0x59+-0x2073+-0x5*-0x964,0x1e5b+0x36e+0x1dc9*-0x1)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x16d4+-0x5*0x1d9+-0xd96)}),this['renderPass']=new dC(_0x38e9fc),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x3*0x2cf+0x1fe+-0x7*0x17d),this['quadRender']=new Ah(this['shader']);const {material:_0x3f9f30}=_0xc58519;_0x3f9f30['setDefine']('SH_BANDS','0');const {shaderChunks:_0xee8661}=_0x3f9f30;_0xee8661['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0xee8661['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x3f9f30['update'](),_0x38e9fc['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x2bea20}=this,{material:_0x31f419}=_0x2bea20;_0x31f419['setDefine']('SH_BANDS',_0x2bea20['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x4bdfd2}=_0x31f419;_0x4bdfd2['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x4bdfd2['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x31f419['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x4cb97d,_0x1721b2){const {prevDir:_0x5d18f8,updateMode:_0x2abf84}=this;if(_0x2abf84==='disable'||(yg['invert'](_0x1721b2),yg['transformV'+'ector'](_0x4cb97d['forward'],uo),uo['normalize'](),_0x2abf84==='enable'&&uo['equalsAppr'+'ox'](_0x5d18f8,0x11cd+-0x268f+-0xa61*-0x2+0.001)))return;_0x5d18f8['copy'](uo);const _0x1296f9=()=>{const {device:_0x21ad56}=this,{sh_centroids:_0x132f77,meta:_0x4e6e27}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x21ad56['scope'],{'dir':uo['toArray'](),'centroids':_0x132f77,'shN_mins':_0x4e6e27['shN']['mins'],'shN_maxs':_0x4e6e27['shN']['maxs']}),_0x21ad56['setCullMod'+'e'](bt),_0x21ad56['setDepthSt'+'ate'](Yt['NODEPTH']),_0x21ad56['setStencil'+'State'](null,null),_0x21ad56['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x1296f9,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x22e3+0x6*-0x541+-0x3*0x11f+0.28209479177387814,Ci=_0x514fab=>_0x514fab['read'](-0xdb7*-0x2+-0x151b+-0x653,0x2259+-0x15f1+-0x18d*0x8,_0x514fab['width'],_0x514fab['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x2397+-0x5b7+0x1de*-0x10)}),mC=(_0x59b4ef,_0x51b4be)=>{for(const _0x42fa15 in _0x51b4be)_0x59b4ef['resolve'](_0x42fa15)['setValue'](_0x51b4be[_0x42fa15]);};class _C{constructor(_0x374179,_0x150fd0,_0x5d55a3,_0x2336a9,_0x182026,_0x3a9eda){const _0x231e17=(_0x5a0148,_0x3490b7,_0x3bfec5)=>_0x5a0148*(-0x25e2+0x2295+0x2f*0x12-_0x3bfec5)+_0x3490b7*_0x3bfec5,{meta:_0x3da004}=_0x374179,{means:_0x2fdb71,scales:_0x5eeac6,sh0:_0x294ff1,shN:_0x1672b4}=_0x3da004,_0x1e699b=_0x150fd0&&_0x374179['means_l']['_levels'][0x2*-0x766+-0x1c54+0x2b20],_0x5da15b=_0x150fd0&&_0x374179['means_u']['_levels'][0x782+-0x1337+0xbb5],_0x344794=_0x5d55a3&&_0x374179['quats']['_levels'][-0xec0+-0xb4*-0x9+0x86c],_0x3490d6=_0x2336a9&&_0x374179['scales']['_levels'][-0x1*0x231a+0x20f3+0x227],_0x3eb2cf=_0x182026&&_0x374179['sh0']['_levels'][-0x103*-0x1d+-0x1*-0x1f8b+-0x3ce2],_0x15880e=_0x3a9eda&&_0x374179['sh_labels']['_levels'][0x46c*-0x6+-0x163f+-0x30c7*-0x1],_0x2c6f9b=_0x3a9eda&&_0x374179['sh_centroi'+'ds']['_levels'][-0x137*-0x5+-0x2*0xe26+0x1*0x1639],_0x5314bf=(-0x877*-0x3+0x43*0x5d+-0x31ba)/Math['sqrt'](0xe*-0x2a0+-0x13*0x16+0x4*0x999);this['read']=_0xa981b0=>{if(_0x150fd0){const _0xa1d86e=_0x231e17(_0x2fdb71['mins'][-0xf55+-0x25c3+-0x4*-0xd46],_0x2fdb71['maxs'][0x14f3+-0x1*0x128f+0xcc*-0x3],((_0x5da15b[_0xa981b0*(-0x2c0+0xd0*-0x1+0x394)+(-0x3*0x4f3+-0xe95*0x1+0x1*0x1d6e)]<<0x674+0x2*-0xd3a+0x8*0x281)+_0x1e699b[_0xa981b0*(0x2*0x374+-0x22*0xe2+0x10*0x172)+(0x1735+0x245c+0x1*-0x3b91)])/(0x1*-0x18052+-0x1856d+0x405be)),_0x1a6afc=_0x231e17(_0x2fdb71['mins'][0xae3*-0x2+0x1132+0x3*0x187],_0x2fdb71['maxs'][-0x15b6+-0x138d+0x2944],((_0x5da15b[_0xa981b0*(-0x283+-0xb6c+0xdf3)+(-0x24cc+0x7b+0x2452)]<<0xb*-0x333+0x269d*0x1+-0x364)+_0x1e699b[_0xa981b0*(0x18f0+0x4*-0x8d2+0xa5c)+(-0x4f6+0x66*0x7+0x22d)])/(0x1442d+-0x5fc9+0x1b9b)),_0x3c9be2=_0x231e17(_0x2fdb71['mins'][0x8*0x2ef+-0x1*0x107+0x1*-0x166f],_0x2fdb71['maxs'][0xae7+0x12*-0x151+0x1d*0x71],((_0x5da15b[_0xa981b0*(-0x1274+-0xede+-0x22*-0xfb)+(0xc0b+0x248c+-0x3095)]<<0xa8b*0x2+-0x3*-0x2ad+0x1*-0x1d15)+_0x1e699b[_0xa981b0*(0x182f+0x193+0x293*-0xa)+(-0x4+0xcc1+-0xcbb)])/(-0x1848e+0x1566+0x43*0x94d));_0x150fd0['x']=Math['sign'](_0xa1d86e)*(Math['exp'](Math['abs'](_0xa1d86e))-(-0x12*0x17f+-0x8f5+0x23e4)),_0x150fd0['y']=Math['sign'](_0x1a6afc)*(Math['exp'](Math['abs'](_0x1a6afc))-(0x2*-0x115f+0x208d+-0x232*-0x1)),_0x150fd0['z']=Math['sign'](_0x3c9be2)*(Math['exp'](Math['abs'](_0x3c9be2))-(-0x1bf4+0x1*0x139f+0x856));}if(_0x5d55a3){const _0x5296cb=(_0x344794[_0xa981b0*(0x6eb+-0x202f+0x4*0x652)+(-0x311*-0x2+0x48f*-0x7+0x19c7)]/(-0xb*0x13+-0x1ad0+-0x394*-0x8)-(-0x566*-0x1+-0x7c*0x15+0x4c6+0.5))*_0x5314bf,_0x29f13b=(_0x344794[_0xa981b0*(-0x12de+0x1f*-0x27+0x179b)+(0x70+0x8b9+0x4*-0x24a)]/(0xb1+0x118+0xca*-0x1)-(-0x1034+-0x1d34+0x2d68+0.5))*_0x5314bf,_0x2df416=(_0x344794[_0xa981b0*(0x2433+-0x2ae*0x8+0x5*-0x2f3)+(-0xd2e*-0x1+0x4c*0x1f+-0x1660)]/(-0x1adb+0x4*-0x823+0x2*0x1e33)-(0xebe+0x125+-0x53*0x31+0.5))*_0x5314bf,_0xedfd5b=Math['sqrt'](Math['max'](0xa53+-0x1def*0x1+0x139c,0x11*-0x3a+0x21af+-0x1*0x1dd4-(_0x5296cb*_0x5296cb+_0x29f13b*_0x29f13b+_0x2df416*_0x2df416)));switch(_0x344794[_0xa981b0*(-0xa18+0x2666+-0x1c4a)+(-0x188c+-0x1552+0x2de1)]-(0x1*0x227+0x12a3*0x1+-0x13ce)){case 0x5f9+-0x60*0x56+0x1a47:_0x5d55a3['set'](_0x5296cb,_0x29f13b,_0x2df416,_0xedfd5b);break;case-0x1205+-0xfd2+-0xb48*-0x3:_0x5d55a3['set'](_0xedfd5b,_0x29f13b,_0x2df416,_0x5296cb);break;case 0x1*-0xae7+0x2*-0x1343+0x316f:_0x5d55a3['set'](_0x29f13b,_0xedfd5b,_0x2df416,_0x5296cb);break;case-0xac1+0x16*0x107+-0x2*0x5eb:_0x5d55a3['set'](_0x29f13b,_0x2df416,_0xedfd5b,_0x5296cb);break;}}if(_0x2336a9){const _0x2a125a=_0x231e17(_0x5eeac6['mins'][0xcee+0x1d83*-0x1+-0x1*-0x1095],_0x5eeac6['maxs'][-0xbca+0x1029+-0x45f*0x1],_0x3490d6[_0xa981b0*(0x26aa+0x1e0f+-0x27*0x1c3)+(0x52+0x1497+-0x35*0x65)]/(-0xa0*-0x35+-0x4c9+-0x1b58)),_0x180b90=_0x231e17(_0x5eeac6['mins'][-0x77*-0x41+0x3*-0x5fd+-0xc3f],_0x5eeac6['maxs'][-0x5*-0x29c+-0x1765+0xa*0x109],_0x3490d6[_0xa981b0*(0x4f9+-0x1e3+-0x312)+(-0x2154+0x1ff6*0x1+0x15f)]/(0x2484+0x2303+-0x4688)),_0x5158f0=_0x231e17(_0x5eeac6['mins'][-0x1*-0x2077+0x20bc+0x15bb*-0x3],_0x5eeac6['maxs'][0x139f+-0x63f*-0x1+-0xa*0x296],_0x3490d6[_0xa981b0*(-0x18c5+0x849*0x3+0x1*-0x12)+(0x8*0x35f+0x7d*-0x6+-0x1808)]/(0x14d2+0x2*0x3ac+-0x1*0x1b2b));_0x2336a9['set'](_0x2a125a,_0x180b90,_0x5158f0);}if(_0x182026){const _0x58a2d8=_0x231e17(_0x294ff1['mins'][0xb*-0x1bb+-0x15ec+-0x1*-0x28f5],_0x294ff1['maxs'][-0x243*-0x11+-0x1087*-0x2+0x20b*-0x23],_0x3eb2cf[_0xa981b0*(0x2fa+-0xd64+0xa6e)+(-0x846*-0x4+0x124c*-0x1+-0xecc)]/(-0x3*-0x969+-0xabd+-0x107f)),_0xfde429=_0x231e17(_0x294ff1['mins'][0xc*-0x26d+0x407+0x1916],_0x294ff1['maxs'][-0x1bb9+0x139b+0x81f],_0x3eb2cf[_0xa981b0*(0x117c+-0x22*-0x42+-0x1a3c)+(-0x1ae6+0x18e*-0xa+0x2a73*0x1)]/(0xa94+0x1d1f+-0x135a*0x2)),_0x3d6fd8=_0x231e17(_0x294ff1['mins'][0x1b0c+-0x1e1a+0x310],_0x294ff1['maxs'][-0x1*0x1508+-0x1b66*-0x1+-0x65c],_0x3eb2cf[_0xa981b0*(-0x177c+0x19bb+-0x23b*0x1)+(0xd*0xe+-0x41+-0x5*0x17)]/(-0x5*-0x610+0x38b*-0x2+-0x1*0x163b)),_0x11f2a4=_0x231e17(_0x294ff1['mins'][0x2360+-0x8f*-0x25+0x2*-0x1c04],_0x294ff1['maxs'][0x1d9c+0xb34+0x1*-0x28cd],_0x3eb2cf[_0xa981b0*(0x38b*0xb+-0x13f2+0x1f*-0x9d)+(0x29*-0x8e+0x269*0x2+0x11ef)]/(0x841+-0x3e0*-0x6+0x37*-0x8e));_0x182026['set'](-0x103e+-0x15e+0x119c+0.5+_0x58a2d8*An,-0x2398+0x5*0x21d+0x1907+0.5+_0xfde429*An,-0x1969+-0xa9*0x19+0xb9*0x3a+0.5+_0x3d6fd8*An,(-0x10a+0xb*0x15+0xc*0x3)/(-0x24dc+-0x6e5+0xe96*0x3+Math['exp'](-_0x11f2a4)));}if(_0x3a9eda){const _0x3517ff=_0x15880e[_0xa981b0*(0x55e+0x1657+-0x33*0x8b)+(-0x2*0x11+-0xc5*-0x1+-0xa3)]+(_0x15880e[_0xa981b0*(-0x5*-0x323+-0x23f0+0x1445)+(-0xb46+0x4cf+0x678)]<<-0x1*-0xff7+-0x1174+0x185),_0x438855=_0x3517ff%(-0xa63+-0x7df+0x1282)*(-0x228e+-0x2451+0x46ee),_0x5e5aab=Math['floor'](_0x3517ff/(-0x1822+0xa11+0x1*0xe51));for(let _0x420c32=0x1*0x23c5+0xf*0x283+-0x4972;_0x420c32<0x1*-0x13c9+0xfac+0x420;++_0x420c32)for(let _0x71855=0x1*0x13f7+0x13e0+0x1*-0x27d7;_0x71855<0x2*-0xc22+-0x2*-0x8aa+0x9*0xc7;++_0x71855)_0x3a9eda[_0x420c32*(0x1*0x626+-0x33*-0xa9+-0x27c2*0x1)+_0x71855]=_0x231e17(_0x1672b4['mins'],_0x1672b4['maxs'],_0x2c6f9b[(_0x438855+_0x71855)*(0x4f+0xe58+-0xea3)+_0x420c32+_0x5e5aab*_0x374179['sh_centroi'+'ds']['width']*(-0x1529+-0x13cb*0x1+0x26*0x114)]/(-0xe3c*-0x1+0x103c+-0x1d79));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x3091dc,_0x5aaa8b,_0x5b684b,_0x6d5dda,_0x2c9e88,_0x20e033,_0x5598c2,_0x26c6ce;(_0x3091dc=this['means_l'])==null||_0x3091dc['destroy'](),(_0x5aaa8b=this['means_u'])==null||_0x5aaa8b['destroy'](),(_0x5b684b=this['quats'])==null||_0x5b684b['destroy'](),(_0x6d5dda=this['scales'])==null||_0x6d5dda['destroy'](),(_0x2c9e88=this['sh0'])==null||_0x2c9e88['destroy'](),(_0x20e033=this['sh_centroi'+'ds'])==null||_0x20e033['destroy'](),(_0x5598c2=this['sh_labels'])==null||_0x5598c2['destroy'](),(_0x26c6ce=this['packedText'+'ure'])==null||_0x26c6ce['destroy']();}['createIter'](_0x54d86c,_0x2d4042,_0x2225af,_0x2be13b,_0x2713d0){return new _C(this,_0x54d86c,_0x2d4042,_0x2225af,_0x2be13b,_0x2713d0);}['calcAabb'](_0x4458ba){const {mins:_0x1b3173,maxs:_0x220d80}=this['meta']['means'],_0x59dac9=_0x1c3751=>Math['sign'](_0x1c3751)*(Math['exp'](Math['abs'](_0x1c3751))-(-0x1*0xd3c+0x1*0x9c1+0x37c));_0x4458ba['center']['set']((_0x59dac9(_0x1b3173[-0x2a3+-0xe0f+0x10b2])+_0x59dac9(_0x220d80[-0x18ff+0xeb7+0x7*0x178]))*(0x1*0x220f+-0xc39+-0x15d6+0.5),(_0x59dac9(_0x1b3173[-0x14d7+-0xf69+0x1*0x2441])+_0x59dac9(_0x220d80[-0x204c+-0x1526+0x3573]))*(0xebc+-0x253c+0x1680+0.5),(_0x59dac9(_0x1b3173[-0x228d+-0x17b+0x240a])+_0x59dac9(_0x220d80[0x71*-0x7+-0x4bd+0x3eb*0x2]))*(0x92+-0x1230+0x119e+0.5)),_0x4458ba['halfExtent'+'s']['set']((_0x59dac9(_0x220d80[0x386+-0x3*0x3bf+0x7b7])-_0x59dac9(_0x1b3173[0xad*-0x5+0xf60+-0xbff]))*(0x869*-0x3+0x3*-0x5e9+0x8d*0x4e+0.5),(_0x59dac9(_0x220d80[-0x9c7*0x3+0x45e+0x5e*0x44])-_0x59dac9(_0x1b3173[0x1b04*-0x1+-0x2439+0x3f3e]))*(-0x3*-0xc6d+-0x2*0xecb+-0x7b1+0.5),(_0x59dac9(_0x220d80[-0xc6+-0x1*0x1956+0x1a1e])-_0x59dac9(_0x1b3173[-0x2*-0x1193+-0x223d*0x1+-0xe7]))*(-0x20d9+0x1a3f+0x1a*0x41+0.5));}['getCenters'](_0x221124){const {meta:_0x1c1ec2,means_l:_0xf2dfae,means_u:_0x31722e,numSplats:_0x5c3694}=this,{means:_0x19666a}=_0x1c1ec2,_0x2440bc=new Uint32Array(_0x31722e['_levels'][0x1d8+0x1b13+0x2a1*-0xb]['buffer']),_0x243e36=new Uint32Array(_0xf2dfae['_levels'][-0x1864+-0x63*0x2+0x192a]['buffer']),_0x454fcc=_0x19666a['mins'][0x363+-0x199*0x17+0x215c]/(-0xd976+-0x1671*0xf+0x32a14),_0x4ef385=_0x19666a['mins'][0x8b4*0x1+0x28f+-0xb42]/(0x85*-0x9d+-0x3ac3*0x3+0x1*0x201d9),_0x325fd7=_0x19666a['mins'][-0x1f24+-0x1874+0x1*0x379a]/(-0x106a3+0x443*-0x46+0x330f4),_0x24a8fe=_0x19666a['maxs'][-0x2d6+0x2705+-0x242f]/(-0x4d7*0xa+0xf905+0x3760),_0x27a282=_0x19666a['maxs'][-0x83*0x35+0xa2+0x1a7e]/(0x3*0x61cd+0x17687+-0x19bef),_0x5a0740=_0x19666a['maxs'][0x41*0x5c+-0x1e36+0x4*0x1b7]/(-0x1e4f4+-0x10f1b+0x3f40e);for(let _0x4a6771=-0xc4*-0x2a+0x335*0x7+-0x7*0x7cd;_0x4a6771<_0x5c3694;_0x4a6771++){const _0xbe3bfb=_0x4a6771,_0x1015ef=_0x2440bc[_0xbe3bfb],_0x5c2538=_0x243e36[_0xbe3bfb],_0x452b95=_0x1015ef<<-0x1319+-0x1582+-0x1*-0x28a3&-0x3696+-0x177*-0x108+-0x4d22|_0x5c2538&0x1*-0x623+0x8*-0x2c9+0x1d6a,_0x1bab69=_0x1015ef&-0x9*-0x1c4e+0x6f06+-0x22c*0x33|_0x5c2538>>>-0x546+-0x5*0x6a3+0x3b*0xa7&-0x6ad+-0x1a09+-0x21b5*-0x1,_0x3e6df2=_0x1015ef>>>-0x1d69+0x1e3b*-0x1+0x9f2*0x6&-0x167d4+0x1d6db*-0x1+0x1f05*0x23|_0x5c2538>>>-0x63*-0xa+-0x18f5*-0x1+-0x25*0xc7&0x2550+-0x2*-0xcc9+-0x14a1*0x3,_0x546e9c=_0x454fcc*(0x13352+-0x2a*-0x150+-0x6a73-_0x452b95)+_0x24a8fe*_0x452b95,_0x36c56e=_0x4ef385*(-0x147*0xd+0x793*0x43+-0xeadf*0x1-_0x1bab69)+_0x27a282*_0x1bab69,_0x512494=_0x325fd7*(-0x11*-0x14fb+0x7*-0x1cb3+0x6439-_0x3e6df2)+_0x5a0740*_0x3e6df2,_0x4911b5=_0x546e9c<-0x1*-0xc92+-0xe2*-0x2+-0xe56?-_0x546e9c:_0x546e9c,_0x200aec=_0x36c56e<-0xca*0x2+-0x14*0xda+0x129c?-_0x36c56e:_0x36c56e,_0x4f9bf0=_0x512494<0xa*0x1eb+0x89*-0x3+0x1193*-0x1?-_0x512494:_0x512494;_0x221124[_0x4a6771*(0x14e4+-0xb16+0x17*-0x6d)]=(_0x546e9c<-0x7a+0x5*-0x695+0x2163?-(-0x8*0x347+0x18e+0x18ab):0x1*-0x1fbf+-0x4f*-0x77+-0x43*0x13)*(Math['exp'](_0x4911b5)-(0x4b1+0xa7*-0x14+-0x217*-0x4)),_0x221124[_0x4a6771*(0x149*0x13+-0x21*-0x102+-0x39aa)+(-0x1a8e+-0x169+0x1bf8)]=(_0x36c56e<-0x1c8+-0x16bd+0x1885?-(-0xe6f+0x192*-0x1+-0x6*-0x2ab):0x147*0x18+0xb*0x22d+-0x3696)*(Math['exp'](_0x200aec)-(-0x476+-0x238*0x1+-0x1*-0x6af)),_0x221124[_0x4a6771*(-0x5*0x1+-0x18f8+0x1900)+(-0x85d*0x1+-0x1232+0x8db*0x3)]=(_0x512494<0x7*-0x1b5+-0x22e+0xe21?-(0x101f+-0x8*-0x21c+-0x20fe):0x233e+0x6f7+-0x2a34)*(Math['exp'](_0x4f9bf0)-(0x1b35+-0x22*-0xef+-0x1e*0x1f7));}}['calcFocalP'+'oint'](_0x47bb1d,_0x4af5ae){_0x47bb1d['set'](-0x13a*-0x1+-0x250c+0x23d2,-0x11c8+-0xe8f*-0x1+0x1*0x339,0xb1*0x1e+-0x1702+-0x244*-0x1);}get['isSogs'](){return!(0x57*-0xb+0xe86+-0xac9);}get['shBands'](){var _0x10825f;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x10825f=this['sh_centroi'+'ds'])==null?void(0x1*-0x1161+0x1*0x5f1+0xb70):_0x10825f['width']]??0x356*0x3+0x1355+-0x1d57;}async['decompress'](){const _0x394217=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x1def25}=this,{means_l:_0x415ba1,means_u:_0x593ed5,quats:_0x2d0d46,scales:_0xfca09,sh0:_0x347d7c,sh_labels:_0x438e43,sh_centroids:_0x2ee192}=this;if(_0x415ba1['_levels'][-0x25d2+-0x1a82+0x4054]=await Ci(_0x415ba1),_0x593ed5['_levels'][-0xf*0x191+0x2*0x3f+-0x1c5*-0xd]=await Ci(_0x593ed5),_0x2d0d46['_levels'][-0x2451+-0x628*-0x1+0x1e29]=await Ci(_0x2d0d46),_0xfca09['_levels'][0x1d0a+0x5*0x8d+-0xa99*0x3]=await Ci(_0xfca09),_0x347d7c['_levels'][0x8d4+-0x1416+-0x106*-0xb]=await Ci(_0x347d7c),_0x1def25>-0xd58+-0xb*0x151+-0x1a3*-0x11){_0x438e43['_levels'][0x1ae*-0xf+-0x1*0x1b55+0x3487*0x1]=await Ci(_0x438e43),_0x2ee192['_levels'][-0x8b*0x1c+0x1*-0xdee+0x1d22]=await Ci(_0x2ee192);const _0x4ea80b=[];for(let _0x445882=-0x3e*0x15+-0xb68+0x107e*0x1;_0x445882<-0x23a0*-0x1+0x130d*-0x2+-0x2a7*-0x1;++_0x445882)_0x4ea80b['push']('f_rest_'+_0x445882);_0x394217['splice'](_0x394217['indexOf']('f_dc_0')+(0x71+0x1103+0x3*-0x5d1),-0x17b3+0x61*-0x43+0x3116,..._0x4ea80b);}const _0x278922={};_0x394217['forEach'](_0x41acfe=>{_0x278922[_0x41acfe]=new Float32Array(this['numSplats']);});const _0x499190=new D(),_0x59523d=new le(),_0x4e7b1e=new D(),_0x3bb287=new re(),_0x5546a6=_0x1def25>0x745*0x1+0x6fb+-0xe40?new Float32Array(-0x1910+-0x7*-0x51e+-0xa95):null,_0x4d814c=this['createIter'](_0x499190,_0x59523d,_0x4e7b1e,_0x3bb287,_0x5546a6);for(let _0x31a445=-0x7*0x4c1+-0x7*-0x61+0x310*0xa;_0x31a445<this['numSplats'];++_0x31a445)if(_0x4d814c['read'](_0x31a445),_0x278922['x'][_0x31a445]=_0x499190['x'],_0x278922['y'][_0x31a445]=_0x499190['y'],_0x278922['z'][_0x31a445]=_0x499190['z'],_0x278922['rot_1'][_0x31a445]=_0x59523d['x'],_0x278922['rot_2'][_0x31a445]=_0x59523d['y'],_0x278922['rot_3'][_0x31a445]=_0x59523d['z'],_0x278922['rot_0'][_0x31a445]=_0x59523d['w'],_0x278922['scale_0'][_0x31a445]=_0x4e7b1e['x'],_0x278922['scale_1'][_0x31a445]=_0x4e7b1e['y'],_0x278922['scale_2'][_0x31a445]=_0x4e7b1e['z'],_0x278922['f_dc_0'][_0x31a445]=(_0x3bb287['x']-(-0x1109+0x17*-0x4d+0x17f4+0.5))/An,_0x278922['f_dc_1'][_0x31a445]=(_0x3bb287['y']-(-0xd*-0x4d+0x1667+-0x1a50+0.5))/An,_0x278922['f_dc_2'][_0x31a445]=(_0x3bb287['z']-(-0x71+0x5fc+-0x58b+0.5))/An,_0x278922['opacity'][_0x31a445]=_0x3bb287['w']<=-0x33b*0x4+-0x1c95+-0x1a9*-0x19?-(-0x1*0x446+-0x74b+-0xbb9*-0x1):_0x3bb287['w']>=-0x2633+0x6*-0x4e8+0x43a4?0x1e40*0x1+0xe82+-0x2c9a:-Math['log']((0x8da*0x1+-0x1c91+0x13b8)/_0x3bb287['w']-(0x142d+-0x266a+0x123e)),_0x5546a6){for(let _0x1eb26c=-0x854+-0x2*0xdb1+0x23b6;_0x1eb26c<-0x19+-0x60*0x20+0xc46*0x1;++_0x1eb26c)_0x278922['f_rest_'+_0x1eb26c][_0x31a445]=_0x5546a6[_0x1eb26c];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x394217['map'](_0x5196d2=>({'name':_0x5196d2,'type':'float','byteSize':0x4,'storage':_0x278922[_0x5196d2]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x3a1c5c,means_u:_0xdb9105,quats:_0x3b0192,scales:_0x2b3d13,sh_labels:_0x2ea914,numSplats:_0x5aa692}=this,{device:_0x583bc0}=_0x3a1c5c,{scope:_0x3e8fdf}=_0x583bc0,_0x3293c0=$t['createShad'+'er'](_0x583bc0,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0xc0f6da=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x2504+-0x24b7+0x49bc),'mipLevel':0x0});_0x583bc0['setCullMod'+'e'](bt),_0x583bc0['setBlendSt'+'ate'](pt['NOBLEND']),_0x583bc0['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x3e8fdf,{'means_l':_0x3a1c5c,'means_u':_0xdb9105,'quats':_0x3b0192,'scales':_0x2b3d13,'sh_labels':_0x2ea914??_0x3a1c5c,'numSplats':_0x5aa692}),Ar(_0x583bc0,_0xc0f6da,_0x3293c0),_0xc0f6da['destroy'](),_0x3293c0['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x129891,height:_0x1d5c59,width:_0x4f2460}=this['means_l'];this['means_l']['_levels'][-0x1*0x2187+0x1a2+0x5*0x661]=await Ci(this['means_l']),this['means_u']['_levels'][0x1312+0x22c+-0x153e]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x129891,{'name':'sogsPacked'+'Texture','width':_0x4f2460,'height':_0x1d5c59,'format':Ue,'mipmaps':!(0xa15+0x255d+-0x1*0x2f71)}),_0x129891['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x5a6390=null,_0x5681c6=null,_0x5f416e=null,_0x2cb716=null,_0x5333d4=null,_0x32c096=null,_0x255ce5=null,_0x350fcc=null,_0x62c974=null,_0x5de59c=null,_0x56bc07=null,_0x4e675=null,_0x5bfd5c=null,_0x49d528=null,_0x291852=null,_0x1b5719=null,_0x5cc3fc=null,_0x3f4cd7=null,_0x27d591=null,_0x4321d6=null,_0x4f183c=null,_0x3ba353=null,_0x105694=null,_0x55e8a6=null,_0x31bcf6=Float32Array['BYTES_PER_'+'ELEMENT'],_0x2e6277=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x266b54=0x235*0x1+0x2478+-0x26ad*0x1,_0x3c7b3e=!(-0x17ca+0x1*-0x261d+0x3de7),_0x443bc6,_0x2ed6c4,_0x9cbd65={'x':0x0,'y':0x0,'z':0x0},_0x479332={'x':0x0,'y':0x0,'z':0x0},_0x10aa36=!(0x7*-0x2d6+0x7e2+0xbf8),_0x511266=!(-0x1c*-0x9b+-0x166c+0x578),_0x5a10a9=!(-0x1*-0x18ed+0x445+0x9f*-0x2f),_0x4620c6=!(-0x8b+0xf5c+-0x18*0x9e),_0x3354ac=-0x852+0x8a4+-0x2*0x29,_0x18a061=-0x2*0x8ba+0x2*0x837+0x106,_0x3dc9f0=!(0x1d64+-0x1*-0x11c3+0x5*-0x96e),_0x522db6=null,_0x2d706b=!(0x2aa*-0x1+-0xf41+-0x8f6*-0x2),_0x14bc70=-0x34*-0x7c+-0x1e*-0x9a+-0xacf*0x4,_0x50806f=0x1*-0x581+-0xee9+0x146a,_0x44f4b6={'x':0x0,'y':0x0,'z':0x0},_0x3b2f60={'x':0x0,'y':0x0,'z':0x0},_0x4f05ac,_0x2891ee;self['onmessage']=async _0x546698=>{const {data:_0x526127}=_0x546698;switch(_0x526127['type']){case'initWorker':await _0x15274b(_0x526127['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x266b54=_0x526127['centers']['length']/(-0x220b+-0x6*-0x37d+-0xe*-0xf0),_0x266b54<=-0x1*0xba2+0x4ab+0x6f7||!_0x5681c6)return;_0x176300(),_0x3c7b3e=_0x526127['is4d'],_0x4f05ac=_0x526127['id'];const _0x33dbb8=_0x2b8f61(_0x266b54);if(_0x45bbb5(_0x33dbb8),_0x5f416e[-0x7*0x95+-0x1a0d+0x1e20]=_0x44f4b6['x'],_0x5f416e[0x122f+-0x10cf*-0x2+-0x33cc]=_0x44f4b6['y'],_0x5f416e[0x14f3+-0x119a+-0x357]=_0x44f4b6['z'],_0x2cb716[0x1307+-0x36c+0xf9b*-0x1]=_0x3b2f60['x'],_0x2cb716[-0x75b+0xc7*0x29+-0x1883]=_0x3b2f60['y'],_0x2cb716[0x1af4*0x1+0x1e6b+-0x1*0x395d]=_0x3b2f60['z'],_0x32c096&&_0x526127['centers']&&_0x32c096['length']===_0x526127['centers']['length']){const _0x199bd1=new Float32Array(_0x526127['centers']);_0x32c096['set'](_0x199bd1);}if(_0x350fcc&&_0x526127['timeIndex']&&_0x350fcc['length']===_0x526127['timeIndex']['length']){const _0x363bbe=new Uint32Array(_0x526127['timeIndex']);_0x350fcc['set'](_0x363bbe);}if(_0x56bc07&&_0x526127['motion']&&_0x56bc07['length']===_0x526127['motion']['length']){const _0x4126f2=new Float32Array(_0x526127['motion']);_0x56bc07['set'](_0x4126f2);}if(_0x3c7b3e&&_0x62c974&&_0x5de59c&&_0x526127['muT']&&_0x526127['tScale']&&_0x62c974['length']===_0x526127['muT']['length']&&_0x5de59c['length']===_0x526127['tScale']['length']&&(_0x62c974['set'](_0x526127['muT']),_0x5de59c['set'](_0x526127['tScale'])),_0x255ce5){for(let _0x239fa7=0xefd*0x1+0x206b+-0x29*0x128;_0x239fa7<_0x255ce5['length'];++_0x239fa7)_0x255ce5[_0x239fa7]=_0x239fa7;}_0x5333d4&&_0x526127['timeOption']&&_0x5333d4['set'](_0x526127['timeOption']),_0x23f3a4(),_0x2d706b=!(0xf9*-0x5+0x6*-0x565+0x253b),_0x5a10a9=!(-0x13c8+-0x69b+0x1a63),_0x3d7436();break;case'setTime':_0x443bc6=_0x526127['time'],_0x3d7436();break;case'setUseTemp'+'oralSort':_0x10aa36=_0x526127['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x511266=_0x526127['useDynamic'+'Sort'];break;case'sort':if(!_0x5f416e)return;_0x5f416e[0x1*-0x1542+-0x1*-0x2015+-0xad3]=_0x526127['cameraPosi'+'tion']['x'],_0x5f416e[-0x3c*-0x58+0x2b7+-0x1756]=_0x526127['cameraPosi'+'tion']['y'],_0x5f416e[-0x12fb*0x2+0x1fd+0x23fb*0x1]=_0x526127['cameraPosi'+'tion']['z'],_0x2cb716[-0x25d+0x1eb8+-0x1c5b]=_0x526127['cameraDire'+'ction']['x'],_0x2cb716[0x1*-0xda1+-0x33b*-0x4+-0x1a*-0x7]=_0x526127['cameraDire'+'ction']['y'],_0x2cb716[-0x187f+0x168e+0x1f3]=_0x526127['cameraDire'+'ction']['z'],_0x44f4b6['x']=_0x526127['cameraPosi'+'tion']['x'],_0x44f4b6['y']=_0x526127['cameraPosi'+'tion']['y'],_0x44f4b6['z']=_0x526127['cameraPosi'+'tion']['z'],_0x3b2f60['x']=_0x526127['cameraDire'+'ction']['x'],_0x3b2f60['y']=_0x526127['cameraDire'+'ction']['y'],_0x3b2f60['z']=_0x526127['cameraDire'+'ction']['z'],_0x3d7436();break;}};const _0x176300=()=>{_0x18a061=Math['max'](-0x1b61+0x3*0xb8d+-0x73c,Math['min'](0x3e1*0xa+-0x2121+-0x595,Math['round'](Math['log2'](_0x266b54/(0xbde+0x1445+0x3*-0xab5))))),_0x3354ac=(-0x255c+-0x1df0+-0x2*-0x21a7)**_0x18a061+(0xb6+0x2056+-0x210b);},_0x45bbb5=_0x340af6=>{_0x4e675=0x139+-0x25b8+0x1*0x247f,_0x5bfd5c=_0x4e675+_0x266b54*_0x31bcf6*(0xa3*0x39+0xbe5+-0x302d),_0x3f4cd7=_0x5bfd5c+(0x220*0xb+0x14b7+-0x21*0x153)*_0x31bcf6*(0x1222+-0x4a4+0x6be*-0x2),_0x27d591=_0x3f4cd7+_0x266b54*_0x2e6277,_0x4321d6=_0x27d591+(-0x1e7f+0x1*-0x196f+-0x1*-0x37f1)*_0x31bcf6,_0x4f183c=_0x4321d6+(0x2584+0x9f2+0xfd1*-0x3)*_0x31bcf6,_0x3ba353=_0x4f183c+(-0x1*0xcf6+0x1295+-0x59c)*_0x31bcf6,_0x105694=_0x3ba353+(0x9f0+-0x2319+-0x64b*-0x4)*_0x31bcf6,_0x55e8a6=_0x105694+_0x266b54*_0x2e6277,_0x32c096=new Float32Array(_0x340af6,_0x4e675,_0x266b54*(-0xa65+0x1c8*0xd+-0xcc0)),_0x5333d4=new Float32Array(_0x340af6,_0x5bfd5c,0x60*-0x5e+-0x1*-0x217+0x21f1),_0x255ce5=new Uint32Array(_0x340af6,_0x3f4cd7,_0x266b54),_0x5f416e=new Float32Array(_0x340af6,_0x27d591,0x63*0x4+0x7b*-0x18+0x9ff),_0x2cb716=new Float32Array(_0x340af6,_0x4321d6,0x1*0x1d53+-0x1d6e*0x1+-0xa*-0x3),_0x3c7b3e&&(_0x1b5719=_0x55e8a6+_0x3354ac*_0x2e6277,_0x5cc3fc=_0x1b5719+_0x266b54*_0x31bcf6,_0x291852=_0x5cc3fc+_0x266b54*_0x31bcf6,_0x49d528=_0x291852+_0x266b54*(-0x1*0x753+-0x78d*0x4+0x258a)*_0x31bcf6,_0x62c974=new Float32Array(_0x340af6,_0x1b5719,_0x266b54),_0x5de59c=new Float32Array(_0x340af6,_0x5cc3fc,_0x266b54),_0x56bc07=new Float32Array(_0x340af6,_0x291852,_0x266b54*(0x52*-0x79+-0x1430+-0x3af5*-0x1)),_0x350fcc=new Uint32Array(_0x340af6,_0x49d528,_0x266b54));},_0x15274b=async _0x1ba1cd=>{_0x14bc70=-0x2*-0x50e+0x1133+0x1e*-0xe9;const _0x44f277={'env':{'memory':new WebAssembly['Memory']({'initial':_0x14bc70}),'pthread_self':function(){return-0x9d*-0x9+0x256c+-0x2af1*0x1;},'emscripten_builtin_memalign':function(){return 0x13*-0x1b6+0x1fa*0x10+0x1*0xe2;},'loggerVec3':(_0x175263,_0x3e248f,_0x20d17a,_0x51d9f6)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x175263+']\x200:'+_0x3e248f+'\x201:'+_0x20d17a+'\x202:'+_0x51d9f6);},'loggerFloat':(_0x3f6e46,_0x5878ff)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x3f6e46+']\x20a:'+_0x5878ff);},'loggerValue':(_0x13826f,_0x35f0c4,_0x7c9f64,_0x1734c6,_0x1b4f81)=>{console['log']('C++\x20logger'+'Value\x20['+_0x13826f+']\x20minDist:'+_0x35f0c4+'\x20maxDist:'+_0x7c9f64+'\x20range:'+_0x1734c6+'\x20divider:'+_0x1b4f81);},'loggerCamera':(_0x25c2b9,_0x413ffe,_0xccd2bc,_0x144244,_0x49415c,_0x22e2f6,_0x97bb25)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x25c2b9+']\x20x:'+_0x413ffe+'\x20y:'+_0xccd2bc+'\x20z:'+_0x144244+'\x20dx:'+_0x49415c+'\x20dy:'+_0x22e2f6+'\x20dz:'+_0x97bb25);},'loggerBound':(_0x96aa96,_0xc6860d,_0xdbbf96,_0xa6bf5f,_0x546789,_0x3383b4)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x96aa96+'\x20minY:'+_0xc6860d+'\x20minZ:'+_0xdbbf96+'\x20maxX:'+_0xa6bf5f+'\x20maxY:'+_0x546789+'\x20maxZ:'+_0x3383b4);},'loggerDebug':_0x35d2c2=>{console['log']('C++\x20logger'+'Debug\x20['+_0x35d2c2+']');}}};try{const _0x3c778f=await(await fetch(_0x1ba1cd))['arrayBuffe'+'r']();return _0x5a6390=(await WebAssembly['instantiat'+'e'](_0x3c778f,_0x44f277))['instance'],_0x5681c6=_0x44f277['env']['memory'],_0x5a6390;}catch(_0x18cc5d){throw console['error']('WASM'+':',_0x18cc5d),_0x18cc5d;}},_0x2aa43a=_0x183f30=>{if(_0x183f30<=-0xe25*0x1+-0x626*0x1+-0x40f*-0x5)return 0x1b15+0x13*0xe5+0x3*-0xeb1;let _0x3c0d0f=_0x183f30*_0x31bcf6*(-0x1d88+-0x33a+0x20c5*0x1);_0x3c0d0f+=_0x183f30*_0x2e6277,_0x3c0d0f+=(0xc4b*-0x3+0x8f+0x2455)*_0x31bcf6,_0x3c0d0f+=(0x1*0x1c0a+0x1*-0xe51+-0x6db*0x2)*_0x31bcf6,_0x3c0d0f+=(0x496+-0xb*-0x241+-0x15*0x166)*_0x31bcf6,_0x3c0d0f+=(0x15d6+-0x1fec+0xb*0xeb)*_0x31bcf6,_0x3c0d0f+=_0x183f30*_0x31bcf6,_0x3c0d0f+=_0x3354ac*_0x2e6277,_0x3c0d0f+=(0x13*0xfb+-0x26b7+0x147a)*_0x31bcf6*(-0x43*0x85+0x2*-0x5cb+0x2e67),_0x3c0d0f+=_0x183f30*_0x2e6277,_0x3c7b3e&&(_0x3c0d0f+=_0x183f30*_0x31bcf6,_0x3c0d0f+=_0x183f30*_0x31bcf6,_0x3c0d0f+=_0x183f30*_0x31bcf6*(-0x1849+0x1a9d+-0x1*0x251));const _0x291ca3=(0x889+0x270b*-0x1+0x1ec2)*(0x31a+0x1*-0x2239+-0x14d*-0x1b);return Math['ceil'](_0x3c0d0f/_0x291ca3);},_0x2b8f61=_0x5c3020=>{const _0x44cf19=_0x2aa43a(_0x5c3020);return _0x44cf19>_0x14bc70?(_0x5681c6['grow'](_0x44cf19-_0x14bc70),_0x14bc70=_0x44cf19):_0x5681c6['grow'](-0x163b+-0x2d8*-0xc+-0xbe5),_0x5681c6['buffer'];},_0x23f3a4=()=>{if(!_0x5a6390)return;const {calcAABB:_0x50a4e6}=_0x5a6390['exports'];_0x50a4e6(_0x4e675,_0x4f183c,_0x3ba353,_0x266b54);},_0x3d7436=()=>{_0x522db6&&clearTimeout(_0x522db6),_0x522db6=setTimeout(()=>{_0x522db6=null,_0x775e9();},0x1bd3+-0x2*0xe0f+0x4b);},_0x775e9=()=>{if(!_0x5a6390||!_0x2d706b||_0x255ce5['length']!==_0x266b54||_0x3f4cd7===null||_0x4e675===null||_0x27d591===null||_0x4321d6===null||_0x4f183c===null||_0x3ba353===null)return;const _0xd816d8=_0x5f416e[-0x15c*0xf+-0x20e1+0xd*0x419],_0x412126=_0x5f416e[0x35*0x1+0x8*0x2a+-0x184],_0x2f8949=_0x5f416e[-0x2423+0x1*0xb8+-0x3*-0xbcf],_0x337202=_0x2cb716[-0x4*0x62+-0xb41*-0x2+0x6*-0x37f],_0x4e28c4=_0x2cb716[-0x229b+0x1e47+0x1*0x455],_0x21692c=_0x2cb716[-0x1*0x33+0x1*-0x1c4b+0xc0*0x26],_0x134377=0x4e*0x1d+-0x1d83+0x14ad+0.001;if(!_0x5a10a9&&Math['abs'](_0xd816d8-_0x9cbd65['x'])<_0x134377&&Math['abs'](_0x412126-_0x9cbd65['y'])<_0x134377&&Math['abs'](_0x2f8949-_0x9cbd65['z'])<_0x134377&&Math['abs'](_0x337202-_0x479332['x'])<_0x134377&&Math['abs'](_0x4e28c4-_0x479332['y'])<_0x134377&&Math['abs'](_0x21692c-_0x479332['z'])<_0x134377&&Math['abs'](_0x443bc6-_0x2ed6c4)<-0x11f*0x4+-0x7ea+0xc66+0.01)return;if(_0x4620c6){_0x3dc9f0=!(-0x58c+-0x5*0x9f+0x8a7);return;}_0x4620c6=!(0xfb*0x9+-0x2*-0x218+0xd03*-0x1),_0x5a10a9=!(0x19cf*-0x1+-0x192+0x1b62),_0x2ed6c4=_0x443bc6,_0x9cbd65['x']=_0xd816d8,_0x9cbd65['y']=_0x412126,_0x9cbd65['z']=_0x2f8949,_0x479332['x']=_0x337202,_0x479332['y']=_0x4e28c4,_0x479332['z']=_0x21692c,_0x3dc9f0=!(-0x1d7d+0x8d8+0x371*0x6);const {sortIndexes:_0x35fc5b}=_0x5a6390['exports'];try{const _0x33d7bc=_0x35fc5b(_0x3f4cd7,_0x4e675,_0x291852,_0x1b5719,_0x5cc3fc,_0x27d591,_0x4321d6,_0x4f183c,_0x3ba353,_0x105694,_0x55e8a6,_0x443bc6||-0x1514+0x7b6*0x5+-0x117a,_0x10aa36,_0x511266,_0x3c7b3e,_0x266b54,_0x3354ac,_0x18a061,_0x5bfd5c,_0x49d528),_0x11d4bf=new Uint32Array(_0x255ce5);if(_0x33d7bc===0x1fb6+0x106f*0x2+0x1025*-0x4){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x33d7bc);}const _0x3eedb2=_0x266b54!==_0x50806f||_0x2891ee!==_0x4f05ac;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x33d7bc,'order':_0x11d4bf,'isNewOrder':_0x3eedb2},[_0x11d4bf['buffer']]),_0x50806f=_0x266b54,_0x2891ee=_0x4f05ac;}catch(_0x8fb175){console['error'](':',_0x8fb175),self['postMessag'+'e']({'type':'error','error':_0x8fb175['message']});}_0x4620c6=!(0x1*0x137d+-0x166d*0x1+0x2f1),_0x3dc9f0&&_0x3d7436();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',0x131*0xd+-0xb94+-0x3e9),h(this,'is4d',!(-0x63a+-0x25ca+0x2c04)),h(this,'sortStartT'+'ime',0x527*0x4+0x1c45*-0x1+-0x1*-0x7a9),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x178f71=>{var _0x63ba35;if(!this['worker'])return;const {data:_0x30e027}=_0x178f71;switch(_0x30e027['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x30e027['order']&&(_0x30e027['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x63ba35=this['orderTextu'+'re'])==null||_0x63ba35['write'](-0x455+-0x942+0xd97,0x220+0x25b3+-0x27d3*0x1,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x4*-0x29+-0x531*0x7+0x24fc),_0x30e027['order']));let _0x3c2006=-0x2402+0x8bc+-0x2*-0xda3;this['sortStartT'+'ime']!==0x2217*0x1+-0xd*-0x97+-0x29c2&&(_0x3c2006=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x178f71['data']['count'],_0x3c2006,_0x30e027['isNewOrder']),this['sortStartT'+'ime']=-0x1669*-0x1+-0x3*0x2b9+-0xe3e;break;case'error':console['error']('Worker:',_0x30e027['error']),this['fire']('error',_0x30e027['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x307a1f,_0x453491,_0x4493b5,_0x51cd33,_0x2b8b68,_0x541fc2,_0x324f18,_0x3b3a72){var _0x25bd2b;this['is4d']=_0x3b3a72,this['numSplats']=_0x453491['length']/(0x11c9*0x1+0x1*-0x1dcd+0x1*0xc07),(!_0x324f18||_0x324f18['length']===-0x10f7+-0x218+-0x7*-0x2b9)&&(_0x324f18=[-0x131c+-0x582+0x189e,-0x2347+-0x12*0x172+0x33d*0x13]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x307a1f),this['backOrderT'+'exture']=_0x307a1f;const _0x488701=new Date()['getTime']();(_0x25bd2b=this['worker'])==null||_0x25bd2b['postMessag'+'e']({'type':'initData','centers':_0x453491,'muT':_0x4493b5,'tScale':_0x51cd33,'motion':_0x2b8b68,'timeIndex':_0x541fc2,'timeOption':_0x324f18,'is4d':_0x3b3a72,'id':_0x488701});}['setCamera'](_0x160f75,_0x33d059){this['worker']&&(!_0x160f75||!_0x33d059||(this['data']['cameraPosi'+'tion']={'x':_0x160f75['x'],'y':_0x160f75['y'],'z':_0x160f75['z']},this['data']['cameraDire'+'ction']={'x':_0x33d059['x'],'y':_0x33d059['y'],'z':_0x33d059['z']},this['sortStartT'+'ime']===-0x1b32+-0x1366+0x2e98*0x1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x160f75['x'],'y':_0x160f75['y'],'z':_0x160f75['z']},'cameraDirection':{'x':_0x33d059['x'],'y':_0x33d059['y'],'z':_0x33d059['z']}})));}['setCurrent'+'Time'](_0x5a26b2){this['worker']&&(this['data']['time']=_0x5a26b2,this['sortStartT'+'ime']===0x130c+0x2677*-0x1+0x136b&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x5a26b2}));}['setUseTemp'+'oralSort'](_0x3fdfd6){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x3fdfd6});}['setUseDyna'+'micSort'](_0x4ad681){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x4ad681});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x2253+-0xc*0x296+0x415b*0x1,-0x3d*-0x70+0x20f*0xd+0x1*-0x3573];class xC{constructor(_0x1d244f,_0x44edf3={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x346*-0x9+0x25f*-0x4+0x1*-0x13fa),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x3b93d7,_0x176314=void(0x208e+-0x16b3+-0x9db))=>{(_0x176314||_0x176314===0x1*0x823+-0x229d+-0x2*-0xd3d)&&(this['material']['setParamet'+'er']('uTime',_0x176314),this['updateTime'](_0x176314)),this['sort'](_0x3b93d7);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x1d244f['numSplats']),this['resource']=_0x1d244f,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x44edf3['material']?(this['_material']=_0x44edf3['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x2e7*0x9+-0x3*-0x674+0x6c3)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x1*-0x38f+-0x989*0x1+0xd18,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x350d65,_0xa561e1,_0x53b254,_0x121f04,_0x358f94,_0x22e18d,_0x3e7046,_0x139a1,_0x20d886,_0x65f557,_0x4d8fe3;const _0x3fcf85=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x37c715=new Float32Array(((_0xa561e1=(_0x350d65=this['resource']['muT'])==null?void(-0x8e1+0x1862+-0xf81):_0x350d65['buffer'])==null?void(-0x15*0x61+-0x153*0xd+-0x166*-0x12):_0xa561e1['slice']())??new Float32Array()),_0x1229b8=new Float32Array(((_0x121f04=(_0x53b254=this['resource']['tScale'])==null?void(-0x6ff*0x5+-0x16b5+0x39b0):_0x53b254['buffer'])==null?void(0x8d0+0x2*-0x453+-0x2a):_0x121f04['slice']())??new Float32Array()),_0x53726b=new Float32Array(((_0x22e18d=(_0x358f94=this['resource']['motion'])==null?void(0x115b+-0x1b33+0x9d8):_0x358f94['buffer'])==null?void(-0x41*-0x53+-0x18d9+0x3c6):_0x22e18d['slice']())??new Float32Array()),_0xb05227=new Float32Array(((_0x139a1=(_0x3e7046=this['resource']['timeIndex'])==null?void(-0x6*-0x65f+-0x102e+-0x160c):_0x3e7046['buffer'])==null?void(0x1c6d*-0x1+-0xdb*0x3+0x1*0x1efe):_0x139a1['slice']())??new Float32Array(-0x1108+-0x26fc+-0xef*-0x3c)),_0xf6fbdd=new Float32Array(((_0x65f557=(_0x20d886=this['resource']['timeOption'])==null?void(0x1*0x511+-0xa06+0x4f5):_0x20d886['buffer'])==null?void(-0x282+-0x1*0x1f51+0x21d3):_0x65f557['slice']())??new Float32Array());(_0x4d8fe3=this['sorter'])==null||_0x4d8fe3['initData'](this['orderTextu'+'re'],_0x3fcf85,_0x37c715,_0x1229b8,_0x53726b,_0xb05227,_0xf6fbdd,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x4fd070,_0x15abe5,_0x360e98)=>{var _0x287466;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x4fd070/this['resource']['instanceSi'+'ze']),_0x360e98&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x360e98&&((_0x287466=this['resource'])==null||_0x287466['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x4fd070);}),this['setHighQua'+'litySH'](_0x44edf3['highQualit'+'ySH']??!(0x12*-0x126+0xc48+0x133*0x7)));}async['updateInst'+'anceData'](_0xfac01f){var _0x29c7ad,_0x389f74;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0xfac01f['numSplats']),this['resource']=_0xfac01f;const _0x3b8216=this['resource']['evalTextur'+'eSize'](_0xfac01f['centers']['length']/(0x20ae+-0x231e+0x273));return(_0x29c7ad=this['backOrderT'+'exture'])==null||_0x29c7ad['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x3b8216),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x2355+0x1b18+0x83d)),(_0x389f74=this['sorter'])==null||_0x389f74['initData'](this['backOrderT'+'exture'],_0xfac01f['centers'],_0xfac01f['muT'],_0xfac01f['tScale'],_0xfac01f['motion'],_0xfac01f['timeIndex'],_0xfac01f['timeOption'],_0xfac01f['is4D']),new Promise(_0x4a51cb=>{var _0x279f36;const _0x1b5e58=(_0x1d1807,_0x2ed3f8,_0x498fab)=>{var _0x283265;_0x498fab&&((_0x283265=this['sorter'])==null||_0x283265['off']('updated',_0x1b5e58),_0x4a51cb(!(-0x1793+0x1e34*-0x1+0x35c7)));};(_0x279f36=this['sorter'])==null||_0x279f36['on']('updated',_0x1b5e58);});}['destroy'](){var _0x55bcbc,_0x280a00,_0x5c47a3,_0x209681,_0x17b66b,_0x1e27a3;(_0x55bcbc=this['resolveSH'])==null||_0x55bcbc['destroy'](),(_0x280a00=this['material'])==null||_0x280a00['destroy'](),(_0x5c47a3=this['meshInstan'+'ce'])==null||_0x5c47a3['destroy'](),(_0x209681=this['sorter'])==null||_0x209681['destroy'](),(_0x17b66b=this['orderTextu'+'re'])==null||_0x17b66b['destroy'](),(_0x1e27a3=this['backOrderT'+'exture'])==null||_0x1e27a3['destroy']();}set['material'](_0x23b288){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x23b288&&(this['_material']=_0x23b288,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x23b288));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x484766,_0x17775a={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x484766),_0x484766['setParamet'+'er']('numSplats',-0x1575+-0x2bf+0x1834),_0x484766['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x484766['setParamet'+'er']('alphaClip',-0x7*0x169+-0x9f8+0x13d7+0.3),_0x484766['setDefine']('DITHER_'+(_0x17775a['dither']?'BLUENOISE':'NONE'),''),_0x484766['cull']=bt,_0x484766['blendType']=_0x17775a['dither']?Cs:Zs,_0x484766['depthWrite']=!!_0x17775a['dither'];}['updateView'+'port'](_0x2f22d8){var _0x45cc86;const _0x23604b=_0x2f22d8==null?void(0x2*-0xda3+0x2547+-0xa01):_0x2f22d8['camera'],_0x1b7864=_0x23604b==null?void(0x1357+0x876+0xb*-0x287):_0x23604b['renderTarg'+'et'],{width:_0x18046b,height:_0x42ec66}=_0x1b7864??this['resource']['device'];Sc[-0x1270+-0x18e6*0x1+-0x6*-0x739]=_0x18046b,Sc[0x6c4*0x4+0x551*-0x7+0xa28]=_0x42ec66;const _0x3500eb=(_0x45cc86=_0x23604b==null?void(0x1af9*-0x1+-0x203d+0x3b36):_0x23604b['camera'])==null?void(0x123e*0x1+0x24db+-0x43d*0xd):_0x45cc86['xr'];_0x3500eb!=null&&_0x3500eb['active']&&_0x3500eb['views']['list']['length']===-0x18ec*0x1+0x1f7a+-0x68c*0x1&&(Sc[0x19cf+-0x2201+0x832]*=-0x334+-0xcb3+0xfe7+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x474951){if(this['sorter']){const _0x582c45=_0x474951['getWorldTr'+'ansform']();_0x582c45['getTransla'+'tion'](Va),_0x582c45['getZ'](Ga);const _0x3606b4=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x36c0d8=vC['invert'](_0x3606b4);_0x36c0d8['transformP'+'oint'](Va,Va),_0x36c0d8['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x474951);}['update'](){var _0x3640a6;if(this['cameras']['length']>0x1a6f+0x1c45*-0x1+0x1d6){const _0x61bd34=this['cameras'][0xb6f+-0x1941*-0x1+-0x24b0];this['sort'](_0x61bd34['_node']),(_0x3640a6=this['resolveSH'])==null||_0x3640a6['render'](_0x61bd34['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x1*0x2605+-0x177b+-0xe8a;}}['setHighQua'+'litySH'](_0x398dcb){const {resource:_0x51e5cf}=this,{gsplatData:_0x5e5c2e}=_0x51e5cf;_0x5e5c2e instanceof gC&&_0x5e5c2e['shBands']>-0xee9+0x1095+-0x1ac&&_0x398dcb===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x51e5cf['device'],this));}['updateTime'](_0x3d901f){this['time']=_0x3d901f;}}class Rv{constructor(_0x5b5a40,_0x5ae456){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x1c77+0x12c4+-0x2f3b)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x5b5a40,this['gsplatData']=_0x5ae456,this['isDestroye'+'d']=!(0x13ac+0x11a+-0x14c5));const _0x3cbf37=-0x1b*-0xf2+0x16b4+-0x2fba,_0x4da694=Math['ceil'](_0x5ae456['numSplats']/_0x3cbf37)*_0x3cbf37/_0x3cbf37,_0xf34bd4=new Uint32Array(_0x4da694);for(let _0x5f273a=0x4*-0x2ab+-0x1*0x92f+0x13db;_0x5f273a<_0x4da694;++_0x5f273a)_0xf34bd4[_0x5f273a]=_0x5f273a*_0x3cbf37;const _0xa5ef74=new kt(_0x5b5a40,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0xc30+0x23eb+0x99f*-0x5)}]),_0x32bdbb=new Float32Array((0x143*-0xc+-0xdd7+0x1d07)*_0x3cbf37),_0x16915e=new Uint32Array((-0x129a+0xb8e+-0x389*-0x2)*_0x3cbf37);for(let _0x3f4ec9=-0x726+0x11a7*-0x1+0x18cd*0x1;_0x3f4ec9<_0x3cbf37;++_0x3f4ec9){_0x32bdbb['set']([-(0x14e0+0x97+-0x29*0x86),-(0xc5*-0x1c+0x1*0x2dc+0x91*0x21),_0x3f4ec9,-0x158b+0x1*0x9e3+0xba9,-(-0xa2f+0x3*-0x70f+0x1f5d),_0x3f4ec9,0x96*0x2b+-0x846*0x3+-0x5f*0x1,0x263b*0x1+0x3cd+-0x173*0x1d,_0x3f4ec9,-(-0xe3*-0xa+-0x5*-0x686+-0x297b*0x1),0x49*0x14+-0x92*0x2a+0x1241*0x1,_0x3f4ec9],_0x3f4ec9*(-0x1ec7+0x21f9+0x2*-0x193));const _0x2e6ca4=_0x3f4ec9*(-0xf*0x26d+0x1b9a+0x8cd);_0x16915e['set']([-0x16fb+0x7d*-0x47+0x39a6+_0x2e6ca4,0x3e*0x9b+-0x1932+-0xc57+_0x2e6ca4,-0x130f+0x4af+0x2*0x731+_0x2e6ca4,0x1*0x16c3+-0xe73+-0x850+_0x2e6ca4,-0x18f4+0x3c8+0x2*0xa97+_0x2e6ca4,0xd4*-0x5+-0x105*-0x15+-0x2f*0x5e+_0x2e6ca4],_0x3f4ec9*(0x1f*0x29+0x954+-0xe45*0x1));}this['mesh']=new Ge(_0x5b5a40),this['mesh']['setPositio'+'ns'](_0x32bdbb,0x1*-0x2bb+0x17dd+-0x151f),this['mesh']['setIndices'](_0x16915e),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x5b5a40,_0xa5ef74,_0x4da694,{'usage':ms,'data':_0xf34bd4['buffer']});}['updateData'](){var _0xd3caa4;const _0x4cb750=this['gsplatData'];if(!_0x4cb750)return;const _0x435f39=0x8b*0x43+0x19*-0x27+-0x2012,_0x3eeca1=Math['ceil'](_0x4cb750['numSplats']/_0x435f39)*_0x435f39/_0x435f39,_0x115ee5=new Uint32Array(_0x3eeca1);for(let _0x564fbd=0x8b*-0x26+-0x15e1+0x2a83;_0x564fbd<_0x3eeca1;++_0x564fbd)_0x115ee5[_0x564fbd]=_0x564fbd*_0x435f39;const _0x2779b3=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0xf33+0x8*0x389+-0x2b7b)}]),_0x387db4=new Float32Array((-0x1039+-0x5e7+0x3*0x764)*_0x435f39),_0x52a736=new Uint32Array((-0x117+-0x98+0x1b5)*_0x435f39);for(let _0x37f5df=-0x1b84*-0x1+-0x21a0+-0x30e*-0x2;_0x37f5df<_0x435f39;++_0x37f5df){_0x387db4['set']([-(-0x1986+-0x1ff5+-0x1*-0x397c),-(0x4*0x142+-0x20e6+-0x593*-0x5),_0x37f5df,0x2d2*-0x2+-0x1df8+0x239d,-(0x5*0x3ca+-0x22f7+0x1006),_0x37f5df,0x2382+-0x22d*-0x1+-0x25ae,0x5*0x5b4+0x9c+-0x1d1f,_0x37f5df,-(0x213a+-0x1*-0x1840+0x1*-0x3979),0x26a8+0xbae+-0x3255,_0x37f5df],_0x37f5df*(0x115*-0x1f+0x598+0x1bff));const _0x2b73c1=_0x37f5df*(-0x179c+-0x356+0x77*0x3a);_0x52a736['set']([-0x297+0x19c*0x4+-0x1*0x3d9+_0x2b73c1,-0x1edd+-0x1*0x17b9+0x3697+_0x2b73c1,0x2*-0xba+-0xb49+0xcbf*0x1+_0x2b73c1,-0x3*0x479+-0xfe*0x10+0x1d4b+_0x2b73c1,-0x1ecd+0x1*0x322+0x1*0x1bad+_0x2b73c1,0xe12+0x1260+-0x13*0x1b5+_0x2b73c1],_0x37f5df*(0x4*0x5ec+0x4db+-0x1c85));}this['mesh']['setPositio'+'ns'](_0x387db4,0x147*-0x1c+-0x1311*-0x1+0x10b6),this['mesh']['setIndices'](_0x52a736),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0xd3caa4=this['instanceIn'+'dices'])==null||_0xd3caa4['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x2779b3,_0x3eeca1,{'usage':ms,'data':_0x115ee5['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x20b77b,_0x1f109a,_0x5627c0,_0x5977f5;(_0x20b77b=this['mesh'])==null||_0x20b77b['destroy'](),(_0x1f109a=this['instanceIn'+'dices'])==null||_0x1f109a['destroy'](),(_0x5627c0=this['gsplatData'])==null||_0x5627c0['destroy'](),this['gsplatData']=null,(_0x5977f5=this['gsplatInst'+'ance'])==null||_0x5977f5['destroy'](),this['gsplatInst'+'ance']=void(0x1baf+-0x1*-0x1827+-0x33d6),this['isDestroye'+'d']=!(-0x7*0x563+0xa82+0x1b33),this['mesh']=null;}get['instanceSi'+'ze'](){return-0x1073*-0x2+-0xcf9*0x3+0x1*0x685;}get['numSplats'](){var _0x4e474e;return(_0x4e474e=this['gsplatData'])==null?void(0x133f+0x35*0x1a+0x4ed*-0x5):_0x4e474e['numSplats'];}['setSceneIn'+'fo'](_0x56dd03){}['configureM'+'aterial'](_0x5dfbfc){}['evalTextur'+'eSize'](_0x24a76c){return J['ZERO'];}['appendGSpl'+'atResource'](_0x7772ba,_0x4313cf,_0x198bc7,_0x5f21b9,_0x3810f7){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x1a4972,_0x59ccf1,_0x447704,_0x16c966){return new _e(this['device'],{'name':_0x1a4972,'width':_0x447704['x'],'height':_0x447704['y'],'format':_0x59ccf1,'cubemap':!(-0x7*0x93+-0x853*0x1+0xc59),'mipmaps':!(0x1*0x4+0x123a+-0x123d),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x16c966?{'levels':[_0x16c966]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x13f9ee,_0x2340f8){return this['gsplatInst'+'ance']=new xC(_0x13f9ee,_0x2340f8),this['gsplatInst'+'ance'];}}async function TC(){const _0x200845=new Float32Array(-0x1*-0x6b5+0x20ac+-0x2760),_0x6b95a4=new Int32Array(_0x200845['buffer']);let _0xda33f3=null,_0x4aefb4=null,_0x486b1d=null,_0x587ce9=null,_0x393ebb=null,_0x3726be=null,_0x1ee1ab=null,_0x2bdbe5=null;self['onmessage']=async _0x2be5ec=>{const {data:_0x2cb41e}=_0x2be5ec;switch(_0x2cb41e['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x44de9f(_0x2cb41e['numSplats'],_0x2cb41e['shBands'],_0x2cb41e['SHData']);break;case'updateColo'+'rData':_0x272111(_0x2cb41e['numSplats'],_0x2cb41e['cr'],_0x2cb41e['cg'],_0x2cb41e['cb'],_0x2cb41e['ca']);break;case'updateTran'+'sformData':_0x4128d8(_0x2cb41e['numSplats'],_0x2cb41e['is4D'],_0x2cb41e['x'],_0x2cb41e['y'],_0x2cb41e['z'],_0x2cb41e['rx'],_0x2cb41e['ry'],_0x2cb41e['rz'],_0x2cb41e['rw'],_0x2cb41e['mx'],_0x2cb41e['my'],_0x2cb41e['mz'],_0x2cb41e['sx'],_0x2cb41e['sy'],_0x2cb41e['sz'],_0x2cb41e['muT'],_0x2cb41e['tScale']);break;case'calcAabb':_0x3d8454(_0x2cb41e['numSplats'],_0x2cb41e['x'],_0x2cb41e['y'],_0x2cb41e['z'],_0x2cb41e['sx'],_0x2cb41e['sy'],_0x2cb41e['sz']);break;case'destroyWor'+'ker':_0x1b9aa8();break;}};class _0x5a39a5{constructor(_0xed288=0x1*0x18b1+-0x21cd+0x91c,_0x429bbd=0x35f*0x1+-0x5*0x5cf+0x7c*0x35,_0x396943=-0xa16*-0x3+0x5f+-0x1ea1,_0x5620df=0x2264+0x1f4c+-0xd23*0x5){this['x']=_0xed288,this['y']=_0x429bbd,this['z']=_0x396943,this['w']=_0x5620df;}['set'](_0x4f4fb0,_0x254e1f,_0x2fef2c,_0x33168e){return this['x']=_0x4f4fb0,this['y']=_0x254e1f,this['z']=_0x2fef2c,this['w']=_0x33168e,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x408622=this){let _0x42b324=_0x408622['length']();return _0x42b324===-0x2*-0x1268+0xb*0x2a2+-0x2*0x20e3?(this['x']=this['y']=this['z']=0x7d*-0x5+-0x12f8+0x1569,this['w']=-0x61*0x11+0x1*0x1dbd+-0x174b):(_0x42b324=(-0x6*-0x4b8+-0x1d25+0x1*0xd6)/_0x42b324,this['x']=_0x408622['x']*_0x42b324,this['y']=_0x408622['y']*_0x42b324,this['z']=_0x408622['z']*_0x42b324,this['w']=_0x408622['w']*_0x42b324),this;}['mulScalar'](_0x87cdd8,_0x58abcb=this){return this['x']=_0x58abcb['x']*_0x87cdd8,this['y']=_0x58abcb['y']*_0x87cdd8,this['z']=_0x58abcb['z']*_0x87cdd8,this['w']=_0x58abcb['w']*_0x87cdd8,this;}}const _0x32ec86=_0x21e0fd=>{_0x200845[0x18b5+-0x493*-0x5+0x1d*-0x1a4]=_0x21e0fd;const _0x260447=_0x6b95a4[-0x1f3f+-0x3cd*0x1+0x230c];let _0x128d0b=_0x260447>>0x1*0x14e7+0x1e*-0x147+-0x117b*-0x1&-0x4*0x37c7+0x3ff8+-0xc7c*-0x17,_0x3f700b=_0x260447>>0x202d+-0x1d6a+-0x2b7&0x12*-0x7c+-0x2337+0x33ee;const _0x2f6c74=_0x260447>>0x62c*-0x2+0x126f+-0x600&-0x89b+-0x12e3+-0x8f*-0x33;return _0x2f6c74<0x1*0x799+-0x1dd0+0x169e*0x1?_0x128d0b:_0x2f6c74>0x700*-0x5+0xe26+-0x55a*-0x4?(_0x128d0b|=-0x1b62*-0x3+0x56bb+-0x1*0x2ce1,_0x128d0b|=(_0x2f6c74===0x23f6+-0x2128+0x1cf*-0x1?0x1*0x19d6+-0xd86+-0xc50:0x2261+0x1*0x1808+0x15*-0x2c8)&&_0x260447&-0x315c*-0x194+-0x4005a4+0x36f*0x213d,_0x128d0b):_0x2f6c74<0x322+-0xf33+0xc82?(_0x3f700b|=-0x2559+0x1*0xc2d+0x212c,_0x128d0b|=(_0x3f700b>>0x128b*0x1+0x443+-0x12*0x13e-_0x2f6c74)+(_0x3f700b>>-0xce2+0x3*0x9a4+0x79*-0x21-_0x2f6c74&0x27c+-0x95+0xa2*-0x3),_0x128d0b):(_0x128d0b|=_0x2f6c74-(0x480+0x1*-0x1e89+-0xfb*-0x1b)<<-0x72*-0x1b+0x158b+-0x2187|_0x3f700b>>-0xb*-0x132+-0x1b51+0xe2c,_0x128d0b+=_0x3f700b&0x64c+0xdf3*-0x2+0x159b,_0x128d0b);},_0x3d8454=(_0x1baa9d,_0x120b5f,_0x69627,_0x2b67a1,_0x47157a,_0x96a5ab,_0x571d1c)=>{let _0x45be7a=0x12*-0xd4+-0x58f*-0x4+-0x2*0x3aa,_0x1a2d57=0x1f4b*-0x1+0x269b+-0x8*0xea,_0x155743=-0x15d1*-0x1+-0xcbe+-0x913,_0x173e9e=-0x25f2*-0x1+-0x21a5+-0x44d,_0x29ac25=-0x1a*0x10d+-0x1135*0x1+0x2c87,_0x264a19=-0x1*0x17bf+-0x263f+0x3dfe,_0x5724cb=!(-0x1*-0x4ca+0x1121+0x1*-0x15eb);const _0x10f07c=new Float32Array(-0x837+-0x1279*-0x1+-0xa3f*0x1),_0xd827c9=new Float32Array(-0x884+-0xc*0x1f0+0x1fc7);for(let _0x2510ec=-0x2481+0x1bb4+-0x1*-0x8cd;_0x2510ec<_0x1baa9d;++_0x2510ec){const _0x17a81c=_0x120b5f[_0x2510ec],_0x19168d=_0x69627[_0x2510ec],_0x1d8792=_0x2b67a1[_0x2510ec],_0x57b5e2=Math['max'](_0x47157a[_0x2510ec],_0x96a5ab[_0x2510ec],_0x571d1c[_0x2510ec]);if(!isFinite(_0x17a81c)||!isFinite(_0x19168d)||!isFinite(_0x1d8792)||!isFinite(_0x57b5e2))continue;const _0x42e068=(-0x1*-0x10b1+0xf32+-0x1fe1)*Math['exp'](_0x57b5e2);_0x5724cb?(_0x5724cb=!(-0xf05+0xc70+0x296),_0x45be7a=_0x17a81c-_0x42e068,_0x1a2d57=_0x19168d-_0x42e068,_0x155743=_0x1d8792-_0x42e068,_0x173e9e=_0x17a81c+_0x42e068,_0x29ac25=_0x19168d+_0x42e068,_0x264a19=_0x1d8792+_0x42e068):(_0x45be7a=Math['min'](_0x45be7a,_0x17a81c-_0x42e068),_0x1a2d57=Math['min'](_0x1a2d57,_0x19168d-_0x42e068),_0x155743=Math['min'](_0x155743,_0x1d8792-_0x42e068),_0x173e9e=Math['max'](_0x173e9e,_0x17a81c+_0x42e068),_0x29ac25=Math['max'](_0x29ac25,_0x19168d+_0x42e068),_0x264a19=Math['max'](_0x264a19,_0x1d8792+_0x42e068));}_0x5724cb||(_0x10f07c[0x63*0x62+-0x24d1+-0x115]=(_0x45be7a+_0x173e9e)*(0x23c1+0x4a6+-0x1*0x2867+0.5),_0x10f07c[-0x29+-0x49*-0x67+0x1d35*-0x1]=(_0x1a2d57+_0x29ac25)*(-0x674+-0x71*-0x35+-0x10f1*0x1+0.5),_0x10f07c[-0x10*-0x107+0x1*0x1b83+-0x647*0x7]=(_0x155743+_0x264a19)*(-0x9c7+0x2*-0x8c9+0x1b59+0.5),_0xd827c9[0xbf*0x7+-0x1f2+-0x347*0x1]=(_0x173e9e-_0x45be7a)*(0x234f+-0x1*0x26ec+0x39d+0.5),_0xd827c9[0x1*-0x1065+0x2be*0x6+-0xe]=(_0x29ac25-_0x1a2d57)*(-0x1*0x851+-0x7a*-0x50+0x24b*-0xd+0.5),_0xd827c9[-0x106a+0x110a+-0x2*0x4f]=(_0x264a19-_0x155743)*(0x16d*0x3+0xca+-0x511+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x10f07c,'halfExtents':_0xd827c9});},_0x4128d8=(_0x254b6d,_0x276110,_0x2ce701,_0x5694b6,_0x2ad036,_0x130bde,_0x14636b,_0x51cf62,_0x3ab19e,_0x41b52b,_0x3406c3,_0x35a507,_0x3ef5c8,_0x282c81,_0x24fe99,_0x5d52c6,_0x2027e0)=>{_0x1b9aa8(),_0xda33f3=new Float32Array(_0x254b6d*(-0xc7d*0x1+0x22fb+0x167b*-0x1)),_0x587ce9=new Float32Array(_0x254b6d*(-0x1c*-0x143+0x1af1+-0x1a*0x265)),_0x3726be=new Uint16Array(_0x254b6d*(-0x3*-0xa6a+-0x845+-0x1*0x16f6)),_0x486b1d=new Float32Array(_0x254b6d*(-0x1*0x1876+-0x1*0x830+0x3*0xae3)),_0x276110&&(_0x393ebb=new Float32Array(_0x254b6d*(-0x2031+0x49*-0x5b+0x3a27)),_0x4aefb4=new Float32Array(_0x254b6d*(-0x1463+0x157a+0x2e*-0x6)),_0x1ee1ab=new Float32Array(_0x254b6d*(0x97*-0xe+0x377+0x2*0x267)),_0x2bdbe5=new Float32Array(_0x254b6d));const _0x441fc1=new _0x5a39a5(-0xd3b*0x1+0x1492*0x1+-0x757,-0x1*0x1979+-0x1*0x205f+0x4*0xe76,0x1f10+-0xb7e+-0x1392,0x5bd+0xe5a+-0x1417);for(let _0x131194=-0x1e2c+0x151e+0x90e;_0x131194<_0x254b6d;_0x131194++)_0x441fc1['set'](_0x130bde[_0x131194],_0x14636b[_0x131194],_0x51cf62[_0x131194],_0x3ab19e[_0x131194]),_0x441fc1['normalize'](),_0x441fc1['w']<0x7*0xa9+0x1*0x1dc2+-0x2a5*0xd&&_0x441fc1['mulScalar'](-(-0x2*-0x8f9+-0x1*-0x15ad+-0x279e)),_0x587ce9[_0x131194*(-0x194+0x1*-0x885+0x1*0xa1c)+(0x735+-0x14af+0xd7a)]=_0x2ce701[_0x131194],_0x587ce9[_0x131194*(0x2a7+-0x163d+0x1399)+(-0x4f*0x7b+-0x1f62+0x4558)]=_0x5694b6[_0x131194],_0x587ce9[_0x131194*(-0x556*-0x1+-0x229c+0x1d49)+(-0x1198+-0xd17+-0x51*-0x61)]=_0x2ad036[_0x131194],_0xda33f3[_0x131194*(-0x119e+0xa91+0x710)+(-0xfea+0xc73+-0x377*-0x1)]=_0x2ce701[_0x131194],_0xda33f3[_0x131194*(-0x827*-0x1+-0x174+-0x6b0)+(-0x7d3*0x4+-0x14d9+0x3426)]=_0x5694b6[_0x131194],_0xda33f3[_0x131194*(-0x1480+-0xbf4+0x1*0x2077)+(0x1*-0x1933+-0xa75*-0x1+0xec0)]=_0x2ad036[_0x131194],_0x3726be[_0x131194*(0xddc*-0x1+0xe3*-0x1f+-0x295c*-0x1)+(-0x1024*-0x2+-0x15fc+0x4*-0x293)]=_0x32ec86(Math['exp'](_0x3ef5c8[_0x131194])),_0x3726be[_0x131194*(0x106c+-0x97e+-0x6eb)+(0x116*-0x6+-0x1ebc+0x2541)]=_0x32ec86(Math['exp'](_0x282c81[_0x131194])),_0x3726be[_0x131194*(-0x4cf*-0x3+-0x11c1+0x357)+(-0x1*0x73e+-0x2213+-0x95*-0x47)]=_0x32ec86(Math['exp'](_0x24fe99[_0x131194])),_0x486b1d[_0x131194*(0x19c8+0x85c+0x2221*-0x1)+(-0x18a6+-0x5dd+-0x49*-0x6b)]=_0x441fc1['x'],_0x486b1d[_0x131194*(-0x2*0x2ab+-0x1*0x2293+0x27ec)+(-0x10f+-0x1761+0x1871)]=_0x441fc1['y'],_0x486b1d[_0x131194*(-0x31d*-0xa+-0x1076+-0xea9)+(-0xecb+-0x6b*-0x10+0x81d)]=_0x441fc1['z'],_0x276110&&_0x393ebb&&_0x4aefb4&&(_0x393ebb[_0x131194*(0x6*0x236+-0x11fe+-0x4bd*-0x1)+(0x1581+0x5*0x25+-0x163a)]=_0x41b52b[_0x131194],_0x393ebb[_0x131194*(-0x37a*0x1+-0xb8f*-0x2+-0x13a1)+(0xa*-0x2b3+0x367+0x1798)]=_0x3406c3[_0x131194],_0x393ebb[_0x131194*(-0x1a12+-0x2f6*0xa+0x37b1)+(0x4b*-0xb+0x336+0x5)]=_0x35a507[_0x131194],_0x1ee1ab[_0x131194*(0xf68+0x1aeb+-0x2a50)+(0x2123+0x1b5+-0x22d8)]=_0x41b52b[_0x131194],_0x1ee1ab[_0x131194*(-0x215b+-0xd9*-0x7+0x1b6f)+(-0x115+-0x2*-0x3e+0x9a)]=_0x3406c3[_0x131194],_0x1ee1ab[_0x131194*(0xb9+-0x11d7*0x1+0x1121)+(0x25d1+0x533*-0x1+-0x827*0x4)]=_0x35a507[_0x131194],_0x2bdbe5[_0x131194]=_0x2027e0?Math['exp'](_0x2027e0[_0x131194]):0x7*0x2bd+0x9*-0xfd+-0x107*0xa,_0x4aefb4[_0x131194*(-0x4e*0x58+0x1*-0x34+0x1b07)+(0x232e+-0x11c*-0x1c+-0x211f*0x2)]=_0x5d52c6?_0x5d52c6[_0x131194]:-0x2255+0xd35+0x1520,_0x4aefb4[_0x131194*(0x1025*-0x1+0x6a7*-0x3+0x1*0x241d)+(-0x1c5c+-0x26fa+0x4357)]=_0x2bdbe5[_0x131194]);const _0x3020d2=[_0xda33f3['buffer'],_0x587ce9['buffer'],_0x3726be['buffer'],_0x486b1d['buffer']];_0x276110&&_0x3020d2['push'](_0x393ebb['buffer'],_0x4aefb4['buffer'],_0x1ee1ab['buffer'],_0x2bdbe5['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0xda33f3,'dataPosition':_0x587ce9,'dataScale':_0x3726be,'dataRotation':_0x486b1d,'dataMotion':_0x393ebb,'dataTime':_0x4aefb4,'motion':_0x1ee1ab,'tScaleArray':_0x2bdbe5},_0x3020d2);},_0x272111=(_0x19c4e1,_0x4f6ed9,_0xc64299,_0x2e6da1,_0x29e64a)=>{const _0xc1d4d1=new Uint16Array(_0x19c4e1*(0x2*-0x109a+-0x2*0x5cb+0x2cce)),_0x488976=-0x157b+-0x1643*-0x1+0x32*-0x4+0.28209479177387814;for(let _0x4a47e8=-0xe25+0x209*0x5+-0x1fc*-0x2;_0x4a47e8<_0x19c4e1;++_0x4a47e8){const _0x5aa29a=_0x4f6ed9[_0x4a47e8]*_0x488976+(-0x10b*0x1f+-0x5a8+0x25fd*0x1+0.5),_0x211bb6=_0xc64299[_0x4a47e8]*_0x488976+(-0x1ffa+0x1*0x102b+-0x1*-0xfcf+0.5),_0x4a416b=_0x2e6da1[_0x4a47e8]*_0x488976+(-0x38d+-0x2394+0x9f*0x3f+0.5),_0x132b3c=_0x29e64a[_0x4a47e8];_0xc1d4d1[_0x4a47e8*(-0x1a*-0xee+0x1049+0x1d*-0x165)+(-0x264+-0x1*-0x10bf+-0xe5b)]=_0x32ec86(_0x5aa29a),_0xc1d4d1[_0x4a47e8*(0x2252+-0x226f+-0xb*-0x3)+(-0x1443+-0x1770+-0xaed*-0x4)]=_0x32ec86(_0x211bb6),_0xc1d4d1[_0x4a47e8*(-0x1029+0x1e24+-0xdf7)+(-0x1*0x1a1e+-0x1f09+0x3929)]=_0x32ec86(_0x4a416b),_0xc1d4d1[_0x4a47e8*(-0x1513*-0x1+0x1*0xa31+-0x1f40*0x1)+(-0x1*0x20fb+0x20e1+0x1d)]=_0x32ec86(_0x132b3c);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0xc1d4d1});},_0x44de9f=(_0x568347,_0x428dcf,_0xe355b7)=>{const _0x24d0ed=new Uint32Array(_0x568347*(0x1d6e+0x1b*0xdf+-0x11a5*0x3)),_0x46d809=new Uint32Array(_0x568347*(-0x94*0x3b+-0x1c78+-0x1*-0x3e98)),_0x38bf83=new Uint32Array(_0x568347*(0x5*-0x6d9+-0x2*0x15+0xb*0x321)),_0x5056c8=new Uint32Array(_0x568347*(-0x1*0x1cd+-0x183*0x3+0x65a)),_0xa506c4={0x1:0x3,0x2:0x8,0x3:0xf}[_0x428dcf],_0x1d4a34=_0xe355b7,_0x4f18ca=0x19da*-0x1+0x2*0x12f4+-0x1*0x40f,_0x439d8f=0xcf0+0x1*0x246f+0x79*-0x60,_0x19a01d=new Float32Array(0x11b8+0x13ef+-0x25a6),_0x10c7dc=new Uint32Array(_0x19a01d['buffer']),_0x310c96=new Array(_0xa506c4*(0x1*0x1d53+-0x464*-0x4+-0x4*0xbb8))['fill'](-0x1*-0x185+-0xd81*0x1+-0xd*-0xec);for(let _0x41ccd8=-0x13*0x5f+-0xca3+0x13b0;_0x41ccd8<_0x568347;++_0x41ccd8){for(let _0x9ec890=-0xc5*-0xd+-0x1*-0x18f9+-0x22fa;_0x9ec890<_0xa506c4;++_0x9ec890)_0x310c96[_0x9ec890*(0x97c+-0x632*0x2+0x2eb)]=_0x1d4a34[_0x9ec890][_0x41ccd8],_0x310c96[_0x9ec890*(-0xede+0x1*-0x10f+0x10*0xff)+(-0x197f*0x1+-0x1c8+0x48*0x61)]=_0x1d4a34[_0x9ec890+_0xa506c4][_0x41ccd8],_0x310c96[_0x9ec890*(-0x1*0x14b1+0xb1d*0x3+-0x5*0x287)+(0x17ce+-0x20c+0x2b8*-0x8)]=_0x1d4a34[_0x9ec890+_0xa506c4*(-0x11*-0x1c5+-0x69d*0x1+0xb*-0x222)][_0x41ccd8];let _0x11f5a8=_0x310c96[0x61*0x3a+-0xd86*-0x2+-0x32*0xfb];for(let _0x2415ce=0x8d7*0x3+-0x1574+-0x36*0x18;_0x2415ce<_0xa506c4*(-0x115c+0x186b*-0x1+0xdee*0x3);++_0x2415ce)_0x11f5a8=Math['max'](_0x11f5a8,Math['abs'](_0x310c96[_0x2415ce]));if(_0x11f5a8!==-0x1118+0x3db*0x1+0xd3d){for(let _0x11a4e4=0x2*0xe1f+0x1*0x446+0x1042*-0x2;_0x11a4e4<_0xa506c4;++_0x11a4e4)_0x310c96[_0x11a4e4*(0xcb1*-0x1+-0xcec+-0x1*-0x19a0)+(-0x3*-0x653+-0xb7*-0x4+-0x747*0x3)]=Math['max'](-0xd*0x266+-0xc7*-0x26+-0x46*-0x6,Math['min'](_0x4f18ca,Math['floor']((_0x310c96[_0x11a4e4*(-0x171*0xb+-0x3*-0x21b+0x98d*0x1)+(0x1584+0xecb+-0x244f)]/_0x11f5a8*(0x11e3+-0x71c+-0xac7+0.5)+(0x29b+-0x5*-0x17f+-0x2*0x50b+0.5))*_0x4f18ca+(0x1f08+-0x58*0x9+0x254*-0xc+0.5)))),_0x310c96[_0x11a4e4*(0xe79+0x14*0x118+-0x2456)+(-0x62*-0x65+0x1272+-0x391b)]=Math['max'](-0x47*-0x6d+-0x2fc+-0x19*0x117,Math['min'](_0x439d8f,Math['floor']((_0x310c96[_0x11a4e4*(0xb1*0x20+-0x26d*-0x3+-0x1d64)+(-0x66+0x9c6+-0x1*0x95f)]/_0x11f5a8*(-0x252b+-0x1300+0x382b+0.5)+(-0x708+0x950+-0x248+0.5))*_0x439d8f+(0x149*0x1d+-0xc73+-0x18d2+0.5)))),_0x310c96[_0x11a4e4*(-0x1a23+0x4f*-0x4f+0x3287)+(0x515+0x1bbe+-0x20d1*0x1)]=Math['max'](-0x82d+-0x16*0x84+0x1385,Math['min'](_0x4f18ca,Math['floor']((_0x310c96[_0x11a4e4*(-0x1de9+-0x22*-0x76+-0x39*-0x40)+(-0xe60+-0x273+0x10d5)]/_0x11f5a8*(0x1b1f+-0x2528+0xa09+0.5)+(-0x144e+-0x1*0x17f8+0x761*0x6+0.5))*_0x4f18ca+(-0x5b*0x19+-0x1*0x12fb+0x2*0xdef+0.5))));_0x19a01d[-0x83d+-0x71e+0xf5b*0x1]=_0x11f5a8,_0x24d0ed[_0x41ccd8*(-0x14b*0x5+-0x1ac5*0x1+0x2140)+(0x4*0x240+-0x2*0x835+-0xd*-0x92)]=_0x10c7dc[-0x1395+0x2*-0x935+0x25ff],_0x24d0ed[_0x41ccd8*(-0x184d+-0xa47*-0x1+-0x705*-0x2)+(0xfd4*0x2+0x52c*0x6+-0x3eaf)]=_0x310c96[0x949+0x506*-0x1+-0x1*0x443]<<-0xe1e+0x443*-0x1+0x93b*0x2|_0x310c96[-0x12ea+0x1*-0x1641+0x292c]<<0x11c3*0x1+-0x175*-0x14+-0x4*0xbb7|_0x310c96[0x4*-0x81a+0xf5b+0x110f],_0x24d0ed[_0x41ccd8*(-0x2f*0x81+-0x76d+-0x30*-0xa6)+(-0x2*-0x10c1+-0x49*0x2b+-0x1*0x153d)]=_0x310c96[-0x7a5*0x5+0x135*0x9+0x1b5f*0x1]<<-0x1485+-0x14*-0x53+0xe1e|_0x310c96[0x1*0xe9d+-0x1cca+0xe31]<<0x1*0x1442+0x5*0x539+0x5*-0x944|_0x310c96[0x258d+0x163*-0x13+-0xb2f*0x1],_0x24d0ed[_0x41ccd8*(-0x10f2+0xc7+-0x3*-0x565)+(-0x1e01+-0x9d9+0x27dd)]=_0x310c96[-0x26d2+-0x408*0x5+0x3b00]<<-0x1c75+-0x64e*0x1+0x22d8|_0x310c96[0x2*-0x37f+0x1*-0x267b+0x2d80]<<0x331*0xa+0x1*-0xb46+-0x1*0x1499|_0x310c96[-0xbc9*0x1+-0x2174+0x2d45],_0x428dcf>0x141f+-0xeaf+-0x56f&&(_0x46d809[_0x41ccd8*(-0x3e*-0x71+-0x1ab9+-0xa1*0x1)+(-0x4d8+0x160f*0x1+-0x1137)]=_0x310c96[-0x1c6*0x4+-0x1a10+-0x125*-0x1d]<<-0x5e*0x67+-0x29*0xe5+0x4a94|_0x310c96[-0x45+-0x44*0x29+0xb33]<<-0xed4+0xd2b+0x1b4|_0x310c96[-0x991*-0x4+-0x1284+-0x13b5],_0x46d809[_0x41ccd8*(-0x161c+-0x261c+0x3c3c)+(0xb04+0x54c+-0x104f)]=_0x310c96[0x26d2+0x7b*-0x45+-0x59f*0x1]<<0x747*-0x5+-0x5*0x1da+0x2dba|_0x310c96[-0x1be7*-0x1+-0x55+-0x1b85]<<0x7e*0x17+0x10ff+-0xe23*0x2|_0x310c96[0x1b4a+-0x1484*0x1+-0xac*0xa],_0x46d809[_0x41ccd8*(0x1176+-0x28*-0xce+-0x31a2)+(-0xc*0x13d+-0x7*0x506+0x3208)]=_0x310c96[-0x88c+-0x25df+0x2e7a]<<-0x1b4c+-0x5b2+-0x2113*-0x1|_0x310c96[-0x1425+0xa9d+0x266*0x4]<<-0x6*0x589+0x1*-0x1fd3+0x11*0x3d4|_0x310c96[-0x2026*-0x1+-0x1b8f+-0x486],_0x46d809[_0x41ccd8*(-0x8*-0xd1+-0x10f6+0xa72)+(-0xbd2+-0xdea+0x19bf)]=_0x310c96[-0x67*0x51+0x1fa1+0x108]<<0x5df*0x1+-0x2284+0x1cba|_0x310c96[-0x1450+-0x1*0x175d+0x2bc0]<<0x2b*0xe6+0x2e*-0x4f+-0x1865|_0x310c96[-0x7a3*0x5+-0xcf*0xb+0x2f28],_0x428dcf>0x5e9*-0x5+0x2268+-0x4d9?(_0x38bf83[_0x41ccd8*(-0x165b+-0x331+0x1990)+(-0x575*-0x2+0x1*0x1587+-0x2071)]=_0x310c96[0xf22+-0x1271+-0x364*-0x1]<<0x4b5*0x4+-0x881+-0xa3e|_0x310c96[0x253*0x1+0xe5d*-0x1+-0x20*-0x61]<<-0x1*-0x11de+0x2bd*-0xb+0xc4c|_0x310c96[-0x17a7+0x2042+-0x14*0x6d],_0x38bf83[_0x41ccd8*(-0x106e+0x53f*-0x4+-0x6*-0x63d)+(0x4b9*-0x3+0x161*0x4+0x2*0x454)]=_0x310c96[-0x1*0x2fa+0x1863+0x1*-0x1551]<<0x1bcd+0xd8a+-0x2*0x14a1|_0x310c96[-0x1aab+0xa4e+0x1076]<<0x214f+0x1a4+-0x1174*0x2|_0x310c96[-0xdbe*-0x1+-0x20b9+0x1315],_0x38bf83[_0x41ccd8*(0x1e46+-0x18a8+-0xef*0x6)+(0x177d+-0x1*-0x2a1+-0x1a1c)]=_0x310c96[-0x641*-0x5+0x1c9*0xd+-0x365f]<<0x126f+0x16a*-0x8+-0x70a|_0x310c96[-0x1*0xdd1+0x1*-0x22d+0x101a]<<-0xd30+0x48*0xb+-0xad*-0xf|_0x310c96[0x137*-0x4+-0x16de+0x1bd7],_0x38bf83[_0x41ccd8*(-0xaca+-0xb5*0x29+0x1*0x27cb)+(-0xd*-0x1a3+0xf*-0xc8+-0x98c)]=_0x310c96[-0x2*0xdbf+0xd5*-0xb+-0x24c3*-0x1]<<-0xbbd+-0x94d*-0x2+-0x6c8|_0x310c96[0x20*0xc5+0x4*0x605+-0x1*0x3095]<<-0x185b+-0x43*-0x85+0xa69*-0x1|_0x310c96[0x186*-0x18+-0xc25*-0x3+0x41],_0x5056c8[_0x41ccd8*(0x10fc*0x1+0x24c7+0x1*-0x35bf)+(-0x20fc+0x373*0x3+-0x5f*-0x3d)]=_0x310c96[0xe0d*-0x2+-0x1db9+0x39f4]<<0x1c*-0x47+-0x5a6*0x2+-0x1d*-0xa9|_0x310c96[0x590+-0x2149+0x1*0x1bdb]<<-0x1f73+-0x2f0+0x1a*0x153|_0x310c96[-0x120d+-0x23cc+0x35fc],_0x5056c8[_0x41ccd8*(-0x1012+0x156e+0x39*-0x18)+(0x2011*-0x1+0x7cd*0x3+0x8ab*0x1)]=_0x310c96[-0x1351+0x146+0xf5*0x13]<<0x15e8+-0x207*0x7+-0x7a2*0x1|_0x310c96[-0xef7+-0x8*0x413+0x2b*0x11c]<<-0x2c5*0x3+-0x22*0xc2+0x18d*0x16|_0x310c96[0x176+0x84d+-0x99d*0x1],_0x5056c8[_0x41ccd8*(-0x7*0x531+-0xc40+-0x17*-0x21d)+(-0xf2*0x7+-0x1679+0x9b3*0x3)]=_0x310c96[0x17d+0x1631+-0x1787]<<0xd*-0x16f+0x952*-0x4+0x8*0x700|_0x310c96[-0x682*-0x3+-0xb*0x2b4+-0x1*-0xa5e]<<0x1d*0x8b+0x1042*-0x2+0x10d0|_0x310c96[-0x222c+-0x1475+0x36ca],_0x5056c8[_0x41ccd8*(-0x146f+0xdd+-0x2*-0x9cb)+(0xb8d*0x1+-0x2*0xe6b+0x114c)]=_0x310c96[-0x203*-0x11+0xf75+-0x317e]<<-0x204b+-0x1bbf+0x1*0x3c1f|_0x310c96[0x21*-0x99+-0x15ca*-0x1+-0x1e6]<<-0x62*-0x35+0xe3e+-0x227d|_0x310c96[-0x112+0x1d7b*-0x1+0x41*0x79]):_0x38bf83[_0x41ccd8]=_0x310c96[-0x508+0x45*-0x17+0xb5*0x10]<<0x1c*0x2b+0x523+-0x4e1*0x2|_0x310c96[-0x869*-0x2+0x152e+0x1*-0x25ea]<<0x619*-0x1+0x1*-0x2029+0x264d*0x1|_0x310c96[0x212d+0x26e3+-0x14f*0x37]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x24d0ed,'sh4to7Data':_0x46d809,'sh8to11Data':_0x38bf83,'sh12to15Data':_0x5056c8}},[_0x24d0ed['buffer'],_0x46d809['buffer'],_0x38bf83['buffer'],_0x5056c8['buffer']]);},_0x1b9aa8=()=>{_0xda33f3=null,_0x4aefb4=null,_0x486b1d=null,_0x587ce9=null,_0x393ebb=null,_0x3726be=null,_0x1ee1ab=null,_0x2bdbe5=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x5b86c5,_0x5f1549,_0x4c31eb){_0x5b86c5['onmessage']=_0x2881f1=>{if(!this['worker'])return;const {data:_0x259397}=_0x2881f1;if(_0x259397['type']===_0x5f1549)switch(_0x5f1549){case'updatedSHD'+'ata1':_0x4c31eb(_0x259397['data']);break;case'updatedCol'+'orData':_0x4c31eb(_0x259397['data']);break;case'updatedTra'+'nsformData':_0x4c31eb(_0x259397);break;case'updatedAab'+'bData':_0x4c31eb(_0x259397);break;}};}['updateSHDa'+'ta1'](_0x50d0bc,_0x5e891c,_0x5c0942){var _0x2ad4fd;return(_0x2ad4fd=this['worker'])==null||_0x2ad4fd['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x50d0bc,'shBands':_0x5e891c,'SHData':_0x5c0942}),new Promise(_0x521a3c=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x19b0b4=>{_0x521a3c(_0x19b0b4);});});}async['updateColo'+'rData'](_0x221ae6,_0xf68cc1,_0x2c3c32,_0x423ecb,_0x10daf6){var _0xc8a5a1;return(_0xc8a5a1=this['worker'])==null||_0xc8a5a1['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x221ae6,'cr':_0xf68cc1,'cg':_0x2c3c32,'cb':_0x423ecb,'ca':_0x10daf6}),new Promise(_0x2d9bb9=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x2af683=>{_0x2d9bb9(_0x2af683);});});}async['calcAabb'](_0xdcecdc,_0x356f2f,_0x47d96e,_0x470a4c,_0x7e612e,_0x531ab6,_0x2dfaaa){var _0x1d6992;const _0x51b35c=new Float32Array(_0x356f2f),_0x2ba2f5=new Float32Array(_0x47d96e),_0x4918f5=new Float32Array(_0x470a4c),_0x4123c1=new Float32Array(_0x7e612e),_0x47e599=new Float32Array(_0x531ab6),_0x461471=new Float32Array(_0x2dfaaa);return(_0x1d6992=this['worker'])==null||_0x1d6992['postMessag'+'e']({'type':'calcAabb','numSplats':_0xdcecdc,'x':_0x51b35c,'y':_0x2ba2f5,'z':_0x4918f5,'sx':_0x4123c1,'sy':_0x47e599,'sz':_0x461471},[_0x51b35c['buffer'],_0x2ba2f5['buffer'],_0x4918f5['buffer'],_0x4123c1['buffer'],_0x47e599['buffer'],_0x461471['buffer']]),new Promise(_0x21d2f2=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x35d6d4=>{_0x21d2f2(_0x35d6d4);});});}async['updateTran'+'sData'](_0x4cb487,_0x1e6d2a,_0x27e29e,_0x34f2ab,_0x504107,_0x10c7b8,_0x3c5b81,_0x3046ed,_0x13c7f2,_0x13f836,_0x55be46,_0x121386,_0x33f71a,_0x4695a5,_0x536015,_0x32df3e,_0x231306){var _0x2c4193;return(_0x2c4193=this['worker'])==null||_0x2c4193['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x4cb487,'is4D':_0x1e6d2a,'x':_0x27e29e,'y':_0x34f2ab,'z':_0x504107,'rx':_0x10c7b8,'ry':_0x3c5b81,'rz':_0x3046ed,'rw':_0x13c7f2,'mx':_0x13f836,'my':_0x55be46,'mz':_0x121386,'sx':_0x33f71a,'sy':_0x4695a5,'sz':_0x536015,'muT':_0x32df3e,'tScale':_0x231306}),new Promise(_0x830d58=>{const _0x74a4e7=_0x15dbb3=>{_0x830d58(_0x15dbb3);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x74a4e7);});}['destroy'](){var _0x28670a;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x28670a=this['worker'])==null||_0x28670a['terminate'](),this['worker']=null);}};const vg=(_0x19e0e1,_0x3ee63d)=>{const _0x3a61a7=[];for(let _0x2f23de=0x331+-0x1*0x215+0x11c*-0x1;_0x2f23de<_0x3ee63d;++_0x2f23de)_0x3a61a7['push'](_0x19e0e1['getProp']('f_rest_'+_0x2f23de));return _0x3a61a7;};class EC extends Rv{constructor(_0xe7cea4,_0x31f3b6){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0xe7cea4,_0x31f3b6),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x3*-0x213+-0x5*-0x6ff+-0x1cc1)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1*0x1888+0x1946+0x31c9*-0x1);}async['updateData'](){var _0x281abe,_0x1708bd,_0x40866f,_0x558544,_0x14e324,_0x53f23a,_0x5e55c0,_0x4bea29,_0x40da83,_0x3ce160,_0xdaab8;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x48d67e=this['gsplatData'];if(!_0x48d67e)return;this['is4D']=_0x48d67e['is4D'];const _0x2a762b=await this['getTransfo'+'rmDataByWo'+'rker'](_0x48d67e);this['aabb']=new De(),await _0x48d67e['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x2a762b['centers'],this['motion']=_0x2a762b['motion'],this['tScale']=_0x2a762b['tScaleArra'+'y'],this['muT']=await _0x48d67e['getMuT'](),this['timeIndex']=await _0x48d67e['getTimeInd'+'ex']();const _0x174321=this['evalTextur'+'eSize'](_0x48d67e['numSplats']);this['colorTextu'+'re']?((_0x281abe=this['colorTextu'+'re2'])==null||_0x281abe['destroy'](),(_0x1708bd=this['transformA'+'Texture2'])==null||_0x1708bd['destroy'](),(_0x40866f=this['transformB'+'Texture2'])==null||_0x40866f['destroy'](),(_0x558544=this['transformR'+'Texture2'])==null||_0x558544['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x174321),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x174321),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x174321),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x174321),this['is4D']&&((_0x14e324=this['transformM'+'otionTextu'+'re2'])==null||_0x14e324['destroy'](),(_0x53f23a=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x53f23a['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x174321),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x174321))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x174321),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x174321),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x174321),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x174321),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x174321),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x174321),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x174321),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x174321),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x174321),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x174321),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x174321),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x174321))),await this['updateColo'+'rData'](_0x48d67e),await this['updateTran'+'sformFromD'+'ata'](_0x2a762b),this['shBands']=_0x48d67e['shBands'],this['shBands']>-0x2305+0x1d*0xcb+0x402*0x3&&(this['sh1to3Text'+'ure']?((_0x5e55c0=this['sh1to3Text'+'ure2'])==null||_0x5e55c0['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x174321),this['shBands']>0x127c+0x2444+0x1*-0x36bf&&((_0x4bea29=this['sh4to7Text'+'ure2'])==null||_0x4bea29['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x174321),this['shBands']>-0x14fc+0x1272+0x28c?((_0x40da83=this['sh8to11Tex'+'ture2'])==null||_0x40da83['destroy'](),(_0x3ce160=this['sh12to15Te'+'xture2'])==null||_0x3ce160['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x174321),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x174321)):((_0xdaab8=this['sh8to11Tex'+'ture2'])==null||_0xdaab8['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x174321)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x174321),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x174321),this['shBands']>0x613*-0x2+-0x1b9+-0x250*-0x6&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x174321),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x174321),this['shBands']>0x3*0x2c4+-0x1*-0x1591+-0x1ddb?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x174321),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x174321),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x174321),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x174321)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x174321),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x174321)))),await this['updateSHDa'+'taByWorker'](_0x48d67e));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x304b60){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x304b60}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x5c7cf8,_0x19ea42,_0x5ef81d,_0x9fb86e,_0x319601){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x5c7cf8,'timeOption':_0x19ea42,'loadedTime':_0x5ef81d,'asset':_0x9fb86e,'events':_0x319601}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x11e8+-0x26a7+0x388f);try{for(;this['appendQueu'+'e']['length']>0x30b*-0x9+-0x950+0x5*0x757;){const _0x317ec8=this['appendQueu'+'e']['shift']();_0x317ec8['type']==='append'?await this['processApp'+'endTask'](_0x317ec8['data']):_0x317ec8['type']==='release'&&await this['processRel'+'easeTask'](_0x317ec8['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x1ed4*0x1+0x17e2+0x6f3);}}}async['processRel'+'easeTask'](_0x5ced10){const {index:_0x10d7e3}=_0x5ced10;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x10d7e3),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x10d7e3);}async['processApp'+'endTask'](_0x524a02){var _0x3da151;const {gsplatData:_0x40ed97,timeOption:_0x456664,loadedTime:_0x2466f3,asset:_0x4771b9,events:_0x524564}=_0x524a02;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x456664,await this['gsplatData']['appendGSpl'+'atData'](_0x40ed97,_0x2466f3,_0x456664),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x6c+0x1*-0x694+0x1a*0x45),_0x40ed97['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x40ed97['numSplats'])['toFixed'](-0xf65*-0x1+0xac+-0x100e)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x35c+-0x2028*0x1+-0x6*-0x4cd),_0x40ed97['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3da151=this['gsplatInst'+'ance'])==null||_0x3da151['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x235*0x5+0x1e11+-0x2918*0x1),_0x40ed97['numSplats']),this['asset']=_0x4771b9,this['assetsMana'+'gerLoadedT'+'ime']=_0x2466f3,this['events']=_0x524564);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x164123;const _0xe61b9=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0xe61b9),(_0x164123=this['asset'])==null||_0x164123['fire']('setAssetsL'+'oaded',_0xe61b9);}['destroy'](){var _0x453705,_0x9fb7cf,_0x358cac,_0x5009ea,_0x452839,_0x6498f1,_0x17afe5,_0x207a20,_0x483028,_0x27327b,_0x41234a,_0x2c7212,_0x457de5,_0x1d3f45,_0x405498,_0x53a7e3,_0x3c6d4f,_0x226fb1,_0x252360,_0xc55ab9,_0x1b2d81;(_0x453705=this['updateData'+'Worker'])==null||_0x453705['destroy'](),this['updateData'+'Worker']=void(-0x2f*0x58+0xbb*0x2+-0x72*-0x21),(_0x9fb7cf=this['colorTextu'+'re'])==null||_0x9fb7cf['destroy'](),(_0x358cac=this['transformA'+'Texture'])==null||_0x358cac['destroy'](),(_0x5009ea=this['transformB'+'Texture'])==null||_0x5009ea['destroy'](),(_0x452839=this['transformR'+'Texture'])==null||_0x452839['destroy'](),(_0x6498f1=this['transformM'+'otionTextu'+'re'])==null||_0x6498f1['destroy'](),(_0x17afe5=this['transformL'+'ifecycleTe'+'xture'])==null||_0x17afe5['destroy'](),(_0x207a20=this['sh1to3Text'+'ure'])==null||_0x207a20['destroy'](),(_0x483028=this['sh4to7Text'+'ure'])==null||_0x483028['destroy'](),(_0x27327b=this['sh8to11Tex'+'ture'])==null||_0x27327b['destroy'](),(_0x41234a=this['sh12to15Te'+'xture'])==null||_0x41234a['destroy'](),(_0x2c7212=this['colorTextu'+'re2'])==null||_0x2c7212['destroy'](),(_0x457de5=this['transformA'+'Texture2'])==null||_0x457de5['destroy'](),(_0x1d3f45=this['transformB'+'Texture2'])==null||_0x1d3f45['destroy'](),(_0x405498=this['transformR'+'Texture2'])==null||_0x405498['destroy'](),(_0x53a7e3=this['transformM'+'otionTextu'+'re2'])==null||_0x53a7e3['destroy'](),(_0x3c6d4f=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3c6d4f['destroy'](),(_0x226fb1=this['sh1to3Text'+'ure2'])==null||_0x226fb1['destroy'](),(_0x252360=this['sh4to7Text'+'ure2'])==null||_0x252360['destroy'](),(_0xc55ab9=this['sh8to11Tex'+'ture2'])==null||_0xc55ab9['destroy'](),(_0x1b2d81=this['sh12to15Te'+'xture2'])==null||_0x1b2d81['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x4484d3){var _0x3e6d84,_0x4ca3b2,_0x39fcc9,_0x3acd8a,_0x5c71ea,_0x25cd08,_0x44ac1d,_0x31211f,_0x2860bb,_0x5828fb,_0x192207,_0x2f036e,_0x19b954;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x58b278=((_0x3e6d84=_0x4484d3['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x80*-0x3a+0xc11*0x2+-0x3522):_0x3e6d84['data'])??-0x152b+0xd*-0xa3+0x1d72,_0xf6e2ac=((_0x4ca3b2=_0x4484d3['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x1aa*0x1+0x1057+-0xead):_0x4ca3b2['data'])??0x1a78+-0x2*-0xd18+-0x34a7,_0x449fd6=((_0x39fcc9=_0x4484d3['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x1861+0x10b1+0x30*0x29):_0x39fcc9['data'])??0xe2d*0x1+-0x150a+0x6de,_0x4ebe70=((_0x3acd8a=_0x4484d3['getParamet'+'er']('uHueOffset'))==null?void(-0xb*-0x214+-0x80*0x37+0x18c*0x3):_0x3acd8a['data'])??0x2f7+0xdfb+0x1e2*-0x9,_0x517b35=((_0x5c71ea=_0x4484d3['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x1*-0x1465+-0x1ec5+-0x20*-0x53):_0x5c71ea['data'])??0xbbb+0x266d+-0x3228,_0x5c44b0=((_0x25cd08=_0x4484d3['getParamet'+'er']('uOpacity'))==null?void(-0x2*-0xbf+0x15b3+-0x3*0x7bb):_0x25cd08['data'])??0x851*0x4+-0xc*0x92+-0x1a6b*0x1,_0x3b03c1=((_0x44ac1d=_0x4484d3['getParamet'+'er']('clrOffset'))==null?void(-0x121*0x1d+-0x702+-0x39d*-0xb):_0x44ac1d['data'])??[-0x835+0x1*0x32b+0x5*0x102,0x42c+-0x4a1+0x75,0x2320+0x3*0x13d+-0x26d7*0x1,0xafc+0x6de*-0x5+0x175b],_0x637e24=((_0x31211f=_0x4484d3['getParamet'+'er']('clrScale'))==null?void(0x1d7e+0x1e53*0x1+-0x3bd1):_0x31211f['data'])??[0x3d2+-0x1aef+0x21a*0xb,-0x16*-0x3f+-0x46a+0x11*-0xf,0x2d7+0x1*-0x16df+0x1409,-0x25e1+-0x95*0x35+0x16e9*0x3],_0x420697=((_0x2860bb=_0x4484d3['getParamet'+'er']('uShapeN'))==null?void(0xc49+0x1659+-0x22a2):_0x2860bb['data'])??-0x5f8+-0x31c+-0x14c*-0x7,_0x1636d2=((_0x5828fb=_0x4484d3['getParamet'+'er']('mode'))==null?void(0xe1a+-0x1aa0+-0xe*-0xe5):_0x5828fb['data'])??-0x5c9*-0x1+-0x717+-0x2*-0xa7,_0x3f5d7a=((_0x192207=_0x4484d3['getParamet'+'er']('ringSize'))==null?void(0x20cf+-0x776*-0x2+-0x2fbb):_0x192207['data'])??0x23*0x98+0x85a*0x3+-0x1*0x2dd6,_0x52b116=((_0x2f036e=_0x4484d3['defines'])==null?void(0x223+-0x156f+0x134c):_0x2f036e['get']('uOpenAnim'))??'0',_0x5938b0=((_0x19b954=_0x4484d3['defines'])==null?void(-0x1a*0xaf+0x21a+0xfac):_0x19b954['get']('uControlCo'+'lorMode'))??'0';_0x4484d3['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x4484d3['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x4484d3['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x4484d3['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x4484d3['setParamet'+'er']('uSplatScal'+'e',_0xf6e2ac),_0x4484d3['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x58b278),_0x4484d3['setParamet'+'er']('uSaturatio'+'n',_0x449fd6),_0x4484d3['setParamet'+'er']('uHueOffset',_0x4ebe70),_0x4484d3['setParamet'+'er']('uInvertOpa'+'city',_0x517b35),_0x4484d3['setParamet'+'er']('uOpacity',_0x5c44b0),_0x4484d3['setParamet'+'er']('clrOffset',_0x3b03c1),_0x4484d3['setParamet'+'er']('clrScale',_0x637e24),_0x4484d3['setParamet'+'er']('uShapeN',_0x420697),_0x4484d3['setParamet'+'er']('mode',_0x1636d2),_0x4484d3['setParamet'+'er']('ringSize',_0x3f5d7a),_0x4484d3['setParamet'+'er']('prerenderC'+'Time',-0x305*0x5+-0x162d*-0x1+-0x714),_0x4484d3['setParamet'+'er']('renderSpac'+'e',0x1e9d+0x1bc9*-0x1+0x3*-0xee),_0x4484d3['setParamet'+'er']('endSpace',-0xfff*-0x1+-0xe68*0x2+0xcdb),_0x4484d3['setDefine']('uOpenAnim',_0x52b116),_0x4484d3['setDefine']('uControlCo'+'lorMode',_0x5938b0),this['transformM'+'otionTextu'+'re']&&_0x4484d3['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x4484d3['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x4484d3['setDefine']('SH_BANDS',this['shBands']),_0x4484d3['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x4484d3['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x4484d3['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x4484d3['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x4484d3['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x2624af){const _0x1eb819=Math['ceil'](Math['sqrt'](_0x2624af)),_0x5e1e7b=Math['ceil'](_0x2624af/_0x1eb819);return new J(_0x1eb819,_0x5e1e7b);}async['updateColo'+'rData'](_0x4380fb){var _0x3f9beb;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0xfbd65b=this['colorTextu'+'re2'];if(!_0xfbd65b||this['isDestroye'+'d'])return;const _0xbaa959=_0x4380fb['getProp']('f_dc_0'),_0x4f1815=_0x4380fb['getProp']('f_dc_1'),_0x54b434=_0x4380fb['getProp']('f_dc_2'),_0x5d3118=_0x4380fb['getProp']('opacity');let _0x2201c5=(_0x3f9beb=_0x4380fb['transformD'+'ata'])==null?void(-0x4a3*0x1+0x19b9+0x1516*-0x1):_0x3f9beb['dataColor'];_0x2201c5||(_0x2201c5=await this['updateData'+'Worker']['updateColo'+'rData'](_0x4380fb['numSplats'],_0xbaa959,_0x4f1815,_0x54b434,_0x5d3118)),await this['idleUpdate'+'TexturePro'+'mise'](_0xfbd65b,_0x2201c5);}async['getTransfo'+'rmDataByWo'+'rker'](_0x13c134){var _0x2466ad;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x2466ad=_0x13c134['transformD'+'ata'])!=null&&_0x2466ad['dataCenter'+'s'])return{'centers':_0x13c134['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x13c134['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x13c134['transformD'+'ata']['dataScale'],'dataRotation':_0x13c134['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x13c134['transformD'+'ata']['dataMotion'],'dataTime':_0x13c134['transformD'+'ata']['dataTime'],'motion':_0x13c134['transformD'+'ata']['motion'],'tScaleArray':_0x13c134['transformD'+'ata']['tScaleArra'+'y']};const _0x29f8ac=_0x13c134['getProp']('x'),_0xcc998d=_0x13c134['getProp']('y'),_0x46f7b6=_0x13c134['getProp']('z'),_0xa70b59=_0x13c134['getProp']('rot_1'),_0x5e062a=_0x13c134['getProp']('rot_2'),_0x56f331=_0x13c134['getProp']('rot_3'),_0x290ab7=_0x13c134['getProp']('rot_0'),_0x385263=_0x13c134['getProp']('motion_0'),_0xe086ea=_0x13c134['getProp']('motion_1'),_0x4c6546=_0x13c134['getProp']('motion_2'),_0x2e80aa=_0x13c134['getProp']('scale_0'),_0x23c043=_0x13c134['getProp']('scale_1'),_0x2b32bb=_0x13c134['getProp']('scale_2'),_0x4a4197=_0x13c134['getProp']('t'),_0x222182=_0x13c134['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x13c134['numSplats'],this['is4D'],_0x29f8ac,_0xcc998d,_0x46f7b6,_0xa70b59,_0x5e062a,_0x56f331,_0x290ab7,_0x385263,_0xe086ea,_0x4c6546,_0x2e80aa,_0x23c043,_0x2b32bb,_0x4a4197,_0x222182);}async['updateTran'+'sformFromD'+'ata'](_0xdc6770){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0xdc6770['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0xdc6770['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0xdc6770['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0xdc6770['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0xdc6770['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4652c7,_0x3a7b14){if(!this['isDestroye'+'d'])return new Promise(_0x277e67=>{requestIdleCallback(()=>{const _0x5894a5=_0x4652c7['lock']();_0x5894a5==null||_0x5894a5['set'](_0x3a7b14),_0x4652c7['unlock'](),_0x277e67(!(-0x24b+-0x37a+-0x7*-0xd3));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x548b89){var _0x27a4c0,_0x2938aa,_0x51fa35,_0x54de52;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x10101e=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x53affc=this['transformA'+'Texture']['lock'](),_0x1eaf50=this['transformR'+'Texture']['lock'](),_0xe328df=this['transformB'+'Texture']['lock'](),_0x1cc57f=(_0x27a4c0=this['transformM'+'otionTextu'+'re'])==null?void(-0x1e95+0x5*0x79d+-0x77c):_0x27a4c0['lock'](),_0x148c93=(_0x2938aa=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0x45*0x8b+0x248a+0x4f*0x3):_0x2938aa['lock'](),_0x561155=new D(),_0x31b47e=new le(),_0x2b72fb=new D(),_0x401779=new D(),_0x24ca52=_0x548b89['createIter'](_0x561155,_0x31b47e,_0x2b72fb,null,_0x401779),_0x399ad4=_0x548b89['getProp']('t'),_0x26a044=_0x548b89['getProp']('t_scale');for(let _0x138b5f=-0x7*0x581+0x6*-0x7f+-0x2981*-0x1;_0x138b5f<_0x548b89['numSplats'];_0x138b5f++)_0x24ca52['read'](_0x138b5f),_0x31b47e['normalize'](),_0x31b47e['w']<-0x122*-0x9+-0x1d5b*-0x1+-0x5*0x7e9&&_0x31b47e['mulScalar'](-(0xdd*-0x12+0x40d*-0x2+0x17a5)),_0x53affc[_0x138b5f*(0x19f1+0x1c85+-0x35*0x107)+(-0x4f*0x5f+0xb19+0x1238)]=_0x561155['x'],_0x53affc[_0x138b5f*(-0x36d*0x3+0x95b+0xef)+(0x222c+0x1df*-0x1+0xd*-0x27c)]=_0x561155['y'],_0x53affc[_0x138b5f*(-0x6eb+0x2238+-0x2*0xda5)+(-0x108f+-0x19ed*-0x1+0x4ae*-0x2)]=_0x561155['z'],_0xe328df[_0x138b5f*(0x1344+-0x129b*0x2+-0x1*-0x11f5)+(-0x2*0x5ab+-0xf2b+0x1a81)]=_0x10101e(_0x2b72fb['x']),_0xe328df[_0x138b5f*(0xbd9+0x3*0xbe1+-0x2f79)+(-0x299*-0x9+0x2*-0x481+-0xe5e)]=_0x10101e(_0x2b72fb['y']),_0xe328df[_0x138b5f*(0x13f2+0x3a*0x38+-0x7*0x4a9)+(-0xa21+0x8*0xc7+0x3eb)]=_0x10101e(_0x2b72fb['z']),_0x1eaf50[_0x138b5f*(-0x21bc+-0xf*-0x11e+0x10fd)+(0x1*-0x1e8f+-0xcd1*-0x1+0x11be)]=_0x31b47e['x'],_0x1eaf50[_0x138b5f*(0x1ddd+-0x1cd3*-0x1+-0x3aad)+(0x2*0x16b+0x3cd+-0x6a2)]=_0x31b47e['y'],_0x1eaf50[_0x138b5f*(-0x232b+0xb1c+0x1812)+(-0x1a7a+-0x20*0xa7+0x2f5c)]=_0x31b47e['z'],this['is4D']&&_0x1cc57f&&_0x148c93&&(_0x1cc57f[_0x138b5f*(0x1661+-0x1840+-0xf1*-0x2)+(-0x1d2d+-0x6*0x5f4+-0x40e5*-0x1)]=_0x401779['x'],_0x1cc57f[_0x138b5f*(-0x14f2+0x601*-0x1+-0x11*-0x196)+(0x157d+-0x6b*0x47+-0xe9*-0x9)]=_0x401779['y'],_0x1cc57f[_0x138b5f*(0xe4+0x1*0x597+-0x678)+(-0xcd0+0x1*-0x127a+0xfa6*0x2)]=_0x401779['z'],_0x148c93[_0x138b5f*(0x229*-0x11+-0x178d*-0x1+0xd2f)+(0x5f9+0x1*-0x2251+0x1c58)]=_0x399ad4?_0x399ad4[_0x138b5f]:0x980*0x4+-0x3b*-0x61+-0x3c5b,_0x148c93[_0x138b5f*(0xa9*-0xa+0x311*-0x8+0x77*0x43)+(-0x5*-0x62e+-0xd84+0x3*-0x5cb)]=_0x26a044?Math['exp'](_0x26a044[_0x138b5f]):0x1*-0x827+-0x1*-0x1e42+-0x161b);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x51fa35=this['transformM'+'otionTextu'+'re'])==null||_0x51fa35['unlock'](),(_0x54de52=this['transformL'+'ifecycleTe'+'xture'])==null||_0x54de52['unlock']();}async['updateSHDa'+'ta'](_0x2f7245){var _0x575f88,_0x1dab06,_0x15fe45,_0x27f569,_0x37bc6c,_0x57fd3b,_0x508348,_0x5d9dd7;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x37b82a=(_0x575f88=this['sh1to3Text'+'ure2'])==null?void(-0x135c+0x3*0x861+0x5c7*-0x1):_0x575f88['lock'](),_0xd1064a=(_0x1dab06=this['sh4to7Text'+'ure2'])==null?void(-0x36d+0x7e2*-0x3+0x1b13):_0x1dab06['lock'](),_0x541928=(_0x15fe45=this['sh8to11Tex'+'ture2'])==null?void(0x1878+0x1*0x1e11+0x25f*-0x17):_0x15fe45['lock'](),_0x5ebdd5=(_0x27f569=this['sh12to15Te'+'xture2'])==null?void(0x1*0x201b+0x8b0+-0x28cb*0x1):_0x27f569['lock'](),_0x45ed47={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x5658e2=vg(_0x2f7245,_0x45ed47*(-0x22*-0x36+0xd4c+-0x1475)),_0x201cd2=0x2418+0x9e0*0x2+0x1*-0x2fd9,_0xe891f9=-0x2*0x1129+0x607*0x5+0x82e,_0x20ed45=new Float32Array(-0xb*0x2b+-0x1e79*-0x1+0x1*-0x1c9f),_0x11e7d=new Uint32Array(_0x20ed45['buffer']),_0x4a5bbe=new Array(_0x45ed47*(-0x53*-0xb+-0x869*-0x3+0x1*-0x1cc9))['fill'](-0xe2d+-0x3*-0x185+0x99e*0x1);for(let _0x59336d=0x5b*0x1a+0x1abf+-0x25*0xf9;_0x59336d<_0x2f7245['numSplats'];++_0x59336d){for(let _0x1da774=-0x15ee+0x79b+0xe53;_0x1da774<_0x45ed47;++_0x1da774)_0x4a5bbe[_0x1da774*(-0x1*0xb73+0x4c1+-0x6b5*-0x1)]=_0x5658e2[_0x1da774][_0x59336d],_0x4a5bbe[_0x1da774*(0x23d7+0xff1*-0x1+-0x1*0x13e3)+(0xf9f+-0x1*-0x131e+0x9c*-0x39)]=_0x5658e2[_0x1da774+_0x45ed47][_0x59336d],_0x4a5bbe[_0x1da774*(0x993+0x2ee*-0x6+0x804)+(0x1*-0x1224+0x620+0xc06)]=_0x5658e2[_0x1da774+_0x45ed47*(-0x325*0x1+0x2*0x6d8+-0xa89)][_0x59336d];let _0x35c636=_0x4a5bbe[-0x1*0x1711+-0xe56+-0x19*-0x17f];for(let _0x2bed16=-0x1e33+-0x1*-0x1391+-0x1*-0xaa3;_0x2bed16<_0x45ed47*(-0x1180*-0x1+-0x2*0x10c0+-0x1*-0x1003);++_0x2bed16)_0x35c636=Math['max'](_0x35c636,Math['abs'](_0x4a5bbe[_0x2bed16]));if(_0x35c636!==-0x9d*-0x35+-0x2271+0xf8*0x2){for(let _0x346ade=-0x1493+0x1*0x1dda+-0x947;_0x346ade<_0x45ed47;++_0x346ade)_0x4a5bbe[_0x346ade*(0x186d+-0xf67+-0x903)+(0x277*0x7+0x126d+-0x23ae)]=Math['max'](-0x1305+0x21c1+0x1*-0xebc,Math['min'](_0x201cd2,Math['floor']((_0x4a5bbe[_0x346ade*(-0x47*-0x5e+0x85e+-0x226d)+(-0x65*-0x3+0x6*-0x25c+0xcf9)]/_0x35c636*(-0x1c0c+0x64b*0x1+-0x1*-0x15c1+0.5)+(-0x21ce*0x1+0x2ee+0x26*0xd0+0.5))*_0x201cd2+(0xfd1*0x1+0x488+0x1459*-0x1+0.5)))),_0x4a5bbe[_0x346ade*(-0x20db+0x1caf+0x42f)+(-0x1*-0x839+0x1c27+-0x1*0x245f)]=Math['max'](0x4*-0x577+0x5d4*0x6+-0xd1c,Math['min'](_0xe891f9,Math['floor']((_0x4a5bbe[_0x346ade*(0x2514+0xfa3+-0x34b4)+(0x41*-0x20+0x1248+-0xa27)]/_0x35c636*(-0x105*-0x22+0x1f3e+0x1c8*-0x25+0.5)+(0x2fd+0x1*-0x1ed4+0x1bd7+0.5))*_0xe891f9+(-0x1*-0x71f+0xd*-0x2af+0x1bc4+0.5)))),_0x4a5bbe[_0x346ade*(0x2b*-0xa+0x74*0xd+-0x433)+(0xad5+0xd20+-0x17f3*0x1)]=Math['max'](-0x15f5+0x1bd9+-0x5e4,Math['min'](_0x201cd2,Math['floor']((_0x4a5bbe[_0x346ade*(-0x2097+-0x1720+-0x1*-0x37ba)+(0x1c67+-0x9*0x32d+0x6*0x8)]/_0x35c636*(-0x23b0+0x1*0x65b+0x1*0x1d55+0.5)+(-0x18d4+-0x2152+0x12*0x33b+0.5))*_0x201cd2+(-0x2*0xddc+-0x1286+0x3*0xf6a+0.5))));_0x20ed45[-0x21d6+0x1*-0x173d+0x3913]=_0x35c636,_0x37b82a[_0x59336d*(0x4a+-0x1ca2*-0x1+-0x14*0x172)+(-0x1eea+0x6a*-0x25+0x2e3c)]=_0x11e7d[-0x4*-0x815+-0xed5+0x3*-0x5d5],_0x37b82a[_0x59336d*(0x26b1+0x9e5*0x2+-0x3a77)+(-0x2fc*0x2+0xbe+-0xd*-0x67)]=_0x4a5bbe[-0x2317+-0x2ca+-0x25e1*-0x1]<<-0x2089+-0x2*-0xdc2+0x28d*0x2|_0x4a5bbe[-0x6*0x5ab+0x1*-0x1207+0x340a]<<-0x8ec+0x10*-0x22+-0xa7*-0x11|_0x4a5bbe[-0x802+-0x3*0x91f+-0x3*-0xbcb],_0x37b82a[_0x59336d*(-0x2*0x127f+-0x1107*0x2+0x4710)+(-0x1069*-0x1+-0x1f67+0x3c*0x40)]=_0x4a5bbe[0x2b*0x55+0xa6f+-0x18b3]<<-0x2*0x4a0+0x36*0x66+-0xc2f|_0x4a5bbe[0x17f*-0x4+0x11a2*0x2+-0x1d44]<<-0xcc3+-0x162c+0x25*0xf2|_0x4a5bbe[0xb3*-0x1c+0x1*-0x29+0x9e1*0x2],_0x37b82a[_0x59336d*(-0x11ac+0x98f+-0x821*-0x1)+(0x1f1c*0x1+-0x22*-0x11f+-0x1*0x4537)]=_0x4a5bbe[-0x1*0x1a35+0x8d1*0x1+-0x5ce*-0x3]<<0x69f*0x5+-0x42*-0x1f+-0x2904|_0x4a5bbe[-0x16c7+0x180+0x154e]<<0x1f5c+-0x8a3+-0x16ae|_0x4a5bbe[-0x10af+-0xd20+0x1dd7],this['shBands']>0x1*-0x11aa+-0x1ec+-0x127*-0x11&&(_0xd1064a[_0x59336d*(0x11*0x8c+0x1*0xad8+-0x1420)+(0x2b4*-0x7+-0x1f13+0x31ff)]=_0x4a5bbe[-0x19a3+0x1*0x1c5a+0x2*-0x157]<<-0x9cf+-0x3e6*0x1+0xdca|_0x4a5bbe[0x1137+-0x638+-0xaf5]<<-0x1aa3+0xed6+0xbd8|_0x4a5bbe[-0x1*-0x88+-0x1aa4+0x1a27],_0xd1064a[_0x59336d*(-0x92*0x11+-0x9e*-0x2f+-0x134c)+(-0x182b*-0x1+0xe5*0x2b+-0x3ea1)]=_0x4a5bbe[-0x1b31+-0x72*0x3+-0x5*-0x5b7]<<0x12ea*-0x1+0x5*-0x3b3+0x257e|_0x4a5bbe[0x1dc8+0xce*-0xd+-0x1345*0x1]<<-0x3*0x565+0x16*0x1a+0xdfe|_0x4a5bbe[-0x693+-0x84b+0xeec],_0xd1064a[_0x59336d*(-0xa0*0xa+-0x847+0xe8b)+(-0x18*0x34+0x1688+-0x11a6)]=_0x4a5bbe[-0x19*-0x12b+0x194*-0x9+-0xef0]<<0x11de+0x20f8+-0x32c1|_0x4a5bbe[0x13*-0x9f+0x6a8+0x1*0x535]<<-0x1c8b*0x1+-0x3*-0x8c5+0x247|_0x4a5bbe[0x1f89+0x12d8+-0x1c*0x1cc],_0xd1064a[_0x59336d*(-0xb01+0x1b98+0x1093*-0x1)+(-0x1220+-0x21b0+-0x1*-0x33d3)]=_0x4a5bbe[0x2c*0x97+-0x1*-0xbb6+-0x2598]<<-0x44*0x8+0x907*-0x1+0xb3c|_0x4a5bbe[-0x103b+0x1e68+-0xe1a]<<-0x1d*0xae+-0x2*-0xdc3+-0x7c5|_0x4a5bbe[0x4a2*0x2+-0x16a1*-0x1+-0x1fd1],this['shBands']>0x751+0x1*0x19fb+-0x214a?(_0x541928[_0x59336d*(0x8*0x48c+-0x279*0x2+-0x1f6a)+(-0x1*-0xee9+0xe09*-0x1+0x1c*-0x8)]=_0x4a5bbe[0xf*0x136+0x10d*-0x1+0x221*-0x8]<<0x2*0xa0+-0x24d1+-0x12*-0x1fb|_0x4a5bbe[-0x7c4+0x2265+-0x8d9*0x3]<<-0x78c+-0x1*-0x61e+0x179|_0x4a5bbe[0x1512+0x666*0x3+-0x25d*0x11],_0x541928[_0x59336d*(0x1*0x140b+0x262a+-0x1*0x3a31)+(0x5*0x445+-0xf39+-0x1*0x61f)]=_0x4a5bbe[-0x2590*0x1+-0x2*0x9df+0x3966]<<0x103f*0x1+-0x24e7+0x14bd|_0x4a5bbe[-0x6d6*-0x4+-0x1c+-0x1b23*0x1]<<-0x269d+-0x1987+-0x3*-0x1565|_0x4a5bbe[0x6a6+-0x2615+0x1f89],_0x541928[_0x59336d*(-0x45d+0x1b47+-0x16e6)+(0x4e6*0x7+0xb06+-0x2d4e)]=_0x4a5bbe[-0x121d+0x1e5b*-0x1+0x3093]<<-0x34c*-0x2+-0x1058*-0x1+-0x1*0x16db|_0x4a5bbe[-0x182+-0x4d9*0x8+0x2*0x1433]<<0x24de+0x5*0x419+-0x3950|_0x4a5bbe[-0x383*0x5+-0x4ce+0x167a],_0x541928[_0x59336d*(-0xd1d+-0x1*-0x277+0xaaa)+(-0x432+0x1dad+-0x1*0x1978)]=_0x4a5bbe[-0x1*-0x1093+-0x1352+0x2dd*0x1]<<0x4c*-0x47+-0xf10+0x2439|_0x4a5bbe[0x67*-0x61+-0x1f66+0x102*0x46]<<0x515+0x1*-0x4bb+-0x4f|_0x4a5bbe[0x1f09*-0x1+0xa31*-0x2+0x338b],_0x5ebdd5[_0x59336d*(0xf1*-0x15+-0x1*0x2681+0x9b7*0x6)+(0x2*-0x17+-0x1a1*-0xb+-0x11bd)]=_0x4a5bbe[-0x1aa9+0x154d+-0x1*-0x57d]<<0x13*-0x1b+-0x1405+0x161b*0x1|_0x4a5bbe[-0x2092*0x1+-0x1000+-0x81e*-0x6]<<-0x1c3b*-0x1+-0xdb6+0x2*-0x73d|_0x4a5bbe[0x7e1*-0x3+0x1568+0x25e],_0x5ebdd5[_0x59336d*(-0x14ba+0x1*-0x611+0x1acf)+(-0x1cb2+-0x6a3+0x1*0x2356)]=_0x4a5bbe[0x210c+0xad4*0x3+-0x87*0x7c]<<0x1012+0x172b+-0x166*0x1c|_0x4a5bbe[-0x7*-0x2b1+-0x14*0x5c+-0xb82*0x1]<<0x1399+0x307*-0x6+-0x59*0x4|_0x4a5bbe[-0x1102+0x228d+-0x1165*0x1],_0x5ebdd5[_0x59336d*(0x2524+-0x1357*-0x1+0x3b*-0xf5)+(0x13*-0x52+-0x1ba4*0x1+0x21bc)]=_0x4a5bbe[-0xff4+-0xb21+0xd9e*0x2]<<-0x1adc+0x1410*0x1+0x3*0x24b|_0x4a5bbe[0x129a*-0x1+0x32*0xb1+-0xfd0]<<-0x26eb+-0x1072+0x3768|_0x4a5bbe[0x8*-0x434+-0x2389*0x1+0x2*0x22a9],_0x5ebdd5[_0x59336d*(0x955+0x2112+-0x2a63)+(-0x295*-0x3+0x1673*0x1+0x1*-0x1e2f)]=_0x4a5bbe[0xa0d+0x73*0x14+0x1*-0x12df]<<-0x2574+0x1ce9+0x1*0x8a0|_0x4a5bbe[-0x1*0x233e+-0x5*0x41+0x24ae]<<0x197a+0x13d6+0x2d45*-0x1|_0x4a5bbe[0x1*-0x1093+0x1118+0x59*-0x1]):_0x541928[_0x59336d]=_0x4a5bbe[-0xb3f*0x2+0x45*-0xd+0x1a14]<<-0x7f8+-0x1d89+0x1*0x2596|_0x4a5bbe[-0xa1f+0xd17+-0x2e2]<<-0x2167*0x1+-0x53c+-0x2*-0x1357|_0x4a5bbe[-0x3d*0x86+-0x2567+0x6*0xb92]);}}(_0x37bc6c=this['sh1to3Text'+'ure2'])==null||_0x37bc6c['unlock'](),(_0x57fd3b=this['sh4to7Text'+'ure2'])==null||_0x57fd3b['unlock'](),(_0x508348=this['sh8to11Tex'+'ture2'])==null||_0x508348['unlock'](),(_0x5d9dd7=this['sh12to15Te'+'xture2'])==null||_0x5d9dd7['unlock']();}async['updateSHDa'+'taByWorker'](_0x44c840){var _0x47e61a,_0x2547ad,_0x10ae96,_0x9a82ea,_0x1baff5;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x40fc44={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x85b9ee,_0x5ece78,_0x2d6303,_0x2377b2;if((_0x47e61a=_0x44c840['transformD'+'ata'])!=null&&_0x47e61a['sh1to3Data'])_0x85b9ee=(_0x2547ad=_0x44c840['transformD'+'ata'])==null?void(-0x170*0x17+-0x1*0x1cfd+0x3e0d):_0x2547ad['sh1to3Data'],_0x5ece78=(_0x10ae96=_0x44c840['transformD'+'ata'])==null?void(0x624+0x3*0xa47+-0x24f9):_0x10ae96['sh4to7Data'],_0x2d6303=(_0x9a82ea=_0x44c840['transformD'+'ata'])==null?void(-0x299+0x574+-0x2db):_0x9a82ea['sh8to11Dat'+'a'],_0x2377b2=(_0x1baff5=_0x44c840['transformD'+'ata'])==null?void(0x1066+0x3*0x223+-0x16cf):_0x1baff5['sh12to15Da'+'ta'];else{const _0x5c068b=vg(_0x44c840,_0x40fc44*(0x517+-0x41b*-0x1+-0x92f*0x1)),_0xecdbea=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x44c840['numSplats'],this['shBands'],_0x5c068b);_0x85b9ee=_0xecdbea['sh1to3Data'],_0x5ece78=_0xecdbea['sh4to7Data'],_0x2d6303=_0xecdbea['sh8to11Dat'+'a'],_0x2377b2=_0xecdbea['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x85b9ee),this['shBands']>-0xd*-0x266+0x3*0x5e7+-0x30e2&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x5ece78),this['shBands']>-0x1d*0x52+0x24df+0x27*-0xb5?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2d6303),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x2377b2)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2d6303));}}async function bC(){const _0x1d4765=new Float32Array(-0x59f+-0x2f*-0xd1+0x65*-0x53);new Int32Array(_0x1d4765['buffer']);let _0x4a6701=null,_0xa57dd7=null,_0x4e5423=null,_0x3c8959=null,_0x2b8853=null,_0xa57551=null,_0x1ce47f=null,_0x393d2a=null;self['onmessage']=async _0x125c66=>{const {data:_0x23ab56}=_0x125c66;switch(_0x23ab56['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x275272(_0x23ab56['numSplats'],_0x23ab56['shBands'],_0x23ab56['SHData']);break;case'updateTran'+'sformData':_0x1a5022(_0x23ab56['numSplats'],_0x23ab56['is4D'],_0x23ab56['position'],_0x23ab56['rotation'],_0x23ab56['motion'],_0x23ab56['scale'],_0x23ab56['muT'],_0x23ab56['tScale']);break;case'destroyWor'+'ker':_0x289418();break;}};const _0x1a5022=(_0x5c355a,_0x340ee9,_0x2f6cad,_0x5370bd,_0x2414cb,_0x68d0ec,_0x35caea,_0x4e6391)=>{_0x289418(),_0x340ee9&&(_0xa57dd7=new Float32Array(_0x5c355a*(0x235b+-0xc9a+-0x2*0xb5f)),_0x393d2a=new Float32Array(_0x5c355a),_0x2b8853=new Float32Array(_0x2414cb['buffer']['slice']()),_0x1ce47f=new Float32Array(_0x2414cb['buffer']['slice']())),_0x3c8959=new Float32Array(_0x2f6cad['buffer']['slice']()),_0x4a6701=new Float32Array(_0x2f6cad['buffer']['slice']()),_0xa57551=new Uint16Array(_0x68d0ec['buffer']['slice']()),_0x4e5423=new Float32Array(_0x5370bd['buffer']['slice']());for(let _0x258868=-0x12b8+-0x914+0x2*0xde6;_0x258868<_0x5c355a;_0x258868++)_0x340ee9&&_0xa57dd7&&(_0x393d2a[_0x258868]=_0x4e6391?Math['exp'](_0x4e6391[_0x258868]):-0xbb0+-0x14d6+0x2086,_0xa57dd7[_0x258868*(0x92*0x22+0x25f6+0x3f*-0xe9)+(0x20d5+-0x1*0x107b+0x17*-0xb6)]=_0x35caea?_0x35caea[_0x258868]:-0x1529+-0x96e+0x1e97,_0xa57dd7[_0x258868*(-0x1b+-0x7*-0x162+-0x990)+(0x2fc+-0x5*-0x1cf+-0xc06)]=_0x393d2a[_0x258868]);const _0x7ba0e4=[_0x4a6701['buffer'],_0x3c8959['buffer'],_0xa57551['buffer'],_0x4e5423['buffer']];_0x340ee9&&_0x7ba0e4['push'](_0x2b8853['buffer'],_0xa57dd7['buffer'],_0x1ce47f['buffer'],_0x393d2a['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x4a6701,'dataPosition':_0x3c8959,'dataScale':_0xa57551,'dataRotation':_0x4e5423,'dataMotion':_0x2b8853,'dataTime':_0xa57dd7,'motion':_0x1ce47f,'tScaleArray':_0x393d2a},_0x7ba0e4);},_0x275272=(_0x2052c0,_0x4c54d6,_0x18025d)=>{const _0x5edace=new Uint32Array(_0x2052c0*(-0x9*0x159+0x7*-0x2f2+-0x20c3*-0x1)),_0x533e49=new Uint32Array(_0x2052c0*(0x1a12+-0x1a7b+-0x1*-0x6d)),_0x157ed1=new Uint32Array(_0x2052c0*(-0x13bb+0x2*-0x804+0x47*0x81)),_0x540cc6=new Uint32Array(_0x2052c0*(-0x2006+-0x182a*-0x1+0x7e0)),_0x223671={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4c54d6],_0x5468b0=_0x18025d,_0x40144d=-0x239*0x6+0x62f*0x1+0xf26,_0x2a8a05=0x311*0x1+0xbd2+0x1*-0xae4,_0x32ddc9=new Float32Array(0xa1*0x2b+0xfdb+-0x2ae5*0x1),_0x3d5028=new Uint32Array(_0x32ddc9['buffer']),_0x55097e=new Array(_0x223671*(0x18fc+0x1bef*0x1+-0x34e8))['fill'](0x1367+0x18a*0x7+-0x1e2d);for(let _0x291102=-0x20*-0x60+-0x3d*0x3d+0x289;_0x291102<_0x2052c0;++_0x291102){for(let _0x443241=0x161a*-0x1+0x33*-0x4f+0xc9d*0x3;_0x443241<_0x223671;++_0x443241)_0x55097e[_0x443241*(-0x30*0xe+0x15b*0x17+-0x1c8a)]=_0x5468b0[_0x443241][_0x291102],_0x55097e[_0x443241*(0x233d*-0x1+-0x1*-0x1dcb+0x575)+(0x157c+0x1daf+-0x6f*0x76)]=_0x5468b0[_0x443241+_0x223671][_0x291102],_0x55097e[_0x443241*(-0x1*0x7ea+-0x21a7+0x2994)+(-0xa9*0xc+-0x1fbc+0x27aa*0x1)]=_0x5468b0[_0x443241+_0x223671*(-0x1a9d+-0x1ffc+0x3a9b)][_0x291102];let _0x2ab814=_0x55097e[-0x1*0x2005+0x791*0x5+-0x6*0xf8];for(let _0x101a5e=0xc2*-0x1d+-0x2f*0xf+0x18bc;_0x101a5e<_0x223671*(0x41b+0x23e1+-0x27f9);++_0x101a5e)_0x2ab814=Math['max'](_0x2ab814,Math['abs'](_0x55097e[_0x101a5e]));if(_0x2ab814!==-0x1*-0x1db7+-0xedb*0x1+-0x27a*0x6){for(let _0xd90603=0x1b93+0x1e7*-0x9+0x6*-0x1be;_0xd90603<_0x223671;++_0xd90603)_0x55097e[_0xd90603*(0x12*-0xe5+-0x1*-0x1f12+0x7*-0x223)+(0x1e2f+0xdd3*0x1+-0x2c02)]=Math['max'](-0x1196+0x3e5*0x3+0x1*0x5e7,Math['min'](_0x40144d,Math['floor']((_0x55097e[_0xd90603*(-0x1eca+-0x2493+-0x9a0*-0x7)+(0x2625+0x1a4c+0x2f*-0x15f)]/_0x2ab814*(-0x1*0xb06+-0xd71*-0x1+-0x26b+0.5)+(-0x2de+-0x452+0x28*0x2e+0.5))*_0x40144d+(-0x264c+0x1292+0x13ba+0.5)))),_0x55097e[_0xd90603*(0x1233*-0x1+-0x188c+0x1*0x2ac2)+(-0x445+-0x2055+0x249b)]=Math['max'](-0x255a+-0x1*-0xea9+0x16b1*0x1,Math['min'](_0x2a8a05,Math['floor']((_0x55097e[_0xd90603*(0x23*-0xb5+0x1*-0x581+-0x1*-0x1e43)+(-0x1*0x1153+0xa7b*0x3+-0x1*0xe1d)]/_0x2ab814*(-0x389+-0x12fb+0x1684+0.5)+(0x923*-0x3+-0xba7*-0x2+0x41b+0.5))*_0x2a8a05+(0x23c0+0x2388+-0x4748+0.5)))),_0x55097e[_0xd90603*(0x8f6*0x4+-0xaee+0x33*-0x7d)+(0x1ff1+0x2*-0x176+0x1d03*-0x1)]=Math['max'](0x6c*0x28+-0x1*0x76c+-0x974,Math['min'](_0x40144d,Math['floor']((_0x55097e[_0xd90603*(0xf7f*0x1+0x1eb5*-0x1+0xf39)+(-0x1*-0x2014+-0x2cd*0x7+0x1*-0xc77)]/_0x2ab814*(-0x9*0x28c+0x17e3+-0xf7+0.5)+(0x59*0x6b+-0x1a87+-0xaac+0.5))*_0x40144d+(-0x1*-0x49d+0x2680+0x2b1d*-0x1+0.5))));_0x32ddc9[0xe*0x5+0x2*0x371+0x2*-0x394]=_0x2ab814,_0x5edace[_0x291102*(-0x744+0x1*0xa62+0x2*-0x18d)+(-0x24e3+0x8e*0x1+0x2455)]=_0x3d5028[0x12*-0x192+0xb*0xb1+-0x29*-0x81],_0x5edace[_0x291102*(0x191a+-0x4*0xce+0x3a5*-0x6)+(-0x1c1*0x10+-0x10ff*-0x1+0xb12)]=_0x55097e[-0x2f*-0x71+-0x2158+0xc99]<<-0x21*-0xee+-0x2*-0xa81+-0x1*0x339b|_0x55097e[-0xe16+-0xa*0x225+-0x1*-0x2389]<<0xa*0x171+-0x1ec5+0x1066|_0x55097e[0x1382+0x63*-0x61+0x1203],_0x5edace[_0x291102*(0x37c*-0x1+0x1034+-0xcb4)+(-0x2493+-0x2*-0x89f+0x1357)]=_0x55097e[-0x1*-0x1501+-0x1a59+0x55b]<<-0x42c*-0x2+-0x25b7+0x1d74|_0x55097e[-0xdf8+-0x2a9*0xd+-0x3091*-0x1]<<0xb*0x27d+0x81f+-0x5*0x717|_0x55097e[0x4c8+-0x60d*-0x1+0x4*-0x2b4],_0x5edace[_0x291102*(-0x1a3b*-0x1+0x1*0x8da+0x1*-0x2311)+(-0x2a3*0x6+-0x63*0x4c+0x2a9*0x11)]=_0x55097e[0x39b+-0x18d7*-0x1+-0x1c6c]<<-0x21f6+0xfe3+0x245*0x8|_0x55097e[0x2237+0x1*-0x503+0x1d2d*-0x1]<<0x56e+0x5cb*-0x1+0x68|_0x55097e[-0x8df*-0x3+-0x1151+-0x944],_0x4c54d6>0x518+-0x3d*-0x97+-0x2912&&(_0x533e49[_0x291102*(0x1d7a+-0xae7+-0x128f)+(0x13e+-0xccf+-0x3*-0x3db)]=_0x55097e[-0xb2b*-0x3+-0x15c7+-0xbb1]<<-0x2474+0xef6+-0x3*-0x731|_0x55097e[0x1334*-0x1+-0x2609+0x3947]<<0x4a*-0x19+-0x1cc9+0x240e*0x1|_0x55097e[-0x1*-0x1789+0x238f*-0x1+0xc11*0x1],_0x533e49[_0x291102*(-0x62f*-0x1+0x1b16+-0x2141)+(-0x54d*-0x1+-0x1313+-0xdc7*-0x1)]=_0x55097e[-0x1946+0x933+0x1*0x101f]<<0x155b*0x1+0x251+-0x3d*0x63|_0x55097e[-0xdc5+0x10e2+-0x310]<<-0xe3*0x2+-0x1917*0x1+-0x7*-0x3d8|_0x55097e[-0x97*-0x6+0x86*-0x35+0x17*0x10e],_0x533e49[_0x291102*(0x54b*-0x2+-0x1e86+0x2920)+(-0x1*0x1767+-0x1fe*0xd+0x314f)]=_0x55097e[0x12a*0x1b+0x1cf9+-0xf16*0x4]<<-0x395*0x5+0x1*0x251f+-0x1321|_0x55097e[0xaeb+0x5*0x547+-0x2a9*0xe]<<-0x257d+-0x3*0xa1f+0x43e5|_0x55097e[-0x1112+0x2ba*-0x6+0x217f],_0x533e49[_0x291102*(-0xf*-0xb5+-0x162+-0x935)+(-0xab2+0x6*0x5a4+-0x1723*0x1)]=_0x55097e[-0x1*-0x1f51+0x539+-0x2478]<<0x394*0x1+0xf94+-0x1313|_0x55097e[0x309+-0x1a35*-0x1+0x1*-0x1d2b]<<-0x43d*-0x2+0x97d+-0x4*0x47b|_0x55097e[-0x2e4+0x1*-0x1352+0x3b7*0x6],_0x4c54d6>0x1b7e+-0x1*0x1757+-0x425*0x1?(_0x157ed1[_0x291102*(-0x55*0x3d+-0x2ef+0x1734)+(-0x21d2+-0x7bd+0x298f)]=_0x55097e[0x139*0x5+0x167f*-0x1+0x1077]<<-0xb*-0x34c+0xe8+-0x2517|_0x55097e[0xddc*-0x2+0x909+0x12c5]<<0x201c+-0x10b9+-0xf58*0x1|_0x55097e[0x578*-0x4+-0x2061+0x3658],_0x157ed1[_0x291102*(-0x170a+0x217+-0x6fd*-0x3)+(0x1d77+0x8*0x15b+-0x4d*0x86)]=_0x55097e[-0x1b22*0x1+-0x1*-0xa4e+0x10ec]<<0x1f55+-0x5*0x8+-0x1f18|_0x55097e[-0x3*0xccf+0xbe7+0x1a9f]<<0x128c+0xffe+-0x227f|_0x55097e[0x777+0x2e4*-0x5+0x717],_0x157ed1[_0x291102*(0xe02+-0x1d*-0x95+-0x469*0x7)+(0xb*-0x274+0x4*-0x4cc+0x2e2e)]=_0x55097e[0x3b6*0xa+0xc9b*0x1+0x18ce*-0x2]<<0x52b+0x14db+0x19f1*-0x1|_0x55097e[0x38*-0x7b+-0x1*0x11a1+0x2ca5]<<0x15b9+0x545*-0x1+-0x1069*0x1|_0x55097e[0x2*0x10f1+-0x1968+-0x85d],_0x157ed1[_0x291102*(0x1988+-0x67*-0x53+0x1c9*-0x21)+(-0x1865+-0xf7+0x1*0x195f)]=_0x55097e[-0x1f3f+0x146c+0xaf1]<<-0x1dd+-0x2*-0x12c3+-0x2394|_0x55097e[-0x8b*-0x2+-0x5e7+0x4f0]<<0x152f+-0x8fc+-0xc28|_0x55097e[0x2*0x3d7+-0x1ef7+0x1769],_0x540cc6[_0x291102*(0xd6c+-0x1*0x20e+0x5ad*-0x2)+(-0x2*0x3c1+0x3*-0x962+0x4*0x8ea)]=_0x55097e[-0x13d*-0x5+-0x1322*-0x2+-0x2c54]<<-0x23ea+0xd37+-0xa2*-0x24|_0x55097e[-0x4e0+0x2386+0x1e84*-0x1]<<-0x1c*-0x125+-0x3f1*-0x5+0x19db*-0x2|_0x55097e[0xa03*0x1+0xef1+0x18d1*-0x1],_0x540cc6[_0x291102*(0x26bc+-0x1058+-0x1660)+(-0x1*0xbf6+0x1f3c+-0x1*0x1345)]=_0x55097e[0x395+0x888+-0xbf9]<<0x86a+-0x1*-0x1488+-0x335*0x9|_0x55097e[0x2*0x10ba+-0x1748+0x11*-0x97]<<0x14db+0x1d*-0x13c+0x4*0x3bf|_0x55097e[0x58b+-0x13f2+0xe8d],_0x540cc6[_0x291102*(-0x17d9+0xe0c+-0x9d1*-0x1)+(0x11c0+-0x182d+0x66f)]=_0x55097e[0x1902+-0x10e7+0x2*-0x3fa]<<0x449+0x13d9+0x2f*-0x83|_0x55097e[0x1*-0x8a5+0x3b*-0x2f+0x13a2]<<-0x4d+-0x200d+-0x1*-0x2065|_0x55097e[0x93*0x29+-0x1*-0xb3e+0x115*-0x20],_0x540cc6[_0x291102*(0x2239+-0x142b+-0x1*0xe0a)+(0x2241+0x1b8+-0x1*0x23f6)]=_0x55097e[0x1978+-0x656+-0x12f8]<<0x19*-0x16d+0x192b+-0x385*-0x3|_0x55097e[-0xde3+0xcac+0x162]<<0x907*0x1+0x355*0x1+0xc51*-0x1|_0x55097e[0x788+-0x6d*0x21+-0x23b*-0x3]):_0x157ed1[_0x291102]=_0x55097e[-0x20d3+0x3bf*-0x7+0x1*0x3b21]<<-0x2e*-0x3a+-0x1*0x1c75+0x121e|_0x55097e[-0x3*-0xe1+0x1*0xb9f+-0x2*0x716]<<0x5b1+0x11*-0x81+0x2eb|_0x55097e[-0x3*0x9fb+0x3c3+0x19*0x10d]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x5edace,'sh4to7Data':_0x533e49,'sh8to11Data':_0x157ed1,'sh12to15Data':_0x540cc6}},[_0x5edace['buffer'],_0x533e49['buffer'],_0x157ed1['buffer'],_0x540cc6['buffer']]);},_0x289418=()=>{_0x4a6701=null,_0xa57dd7=null,_0x4e5423=null,_0x3c8959=null,_0x2b8853=null,_0xa57551=null,_0x1ce47f=null,_0x393d2a=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x2df1d6,_0x360998,_0x47c474){_0x2df1d6['onmessage']=_0x58626c=>{if(!this['worker'])return;const {data:_0xda00b0}=_0x58626c;if(_0xda00b0['type']===_0x360998)switch(_0x360998){case'updatedSHD'+'ata1':_0x47c474(_0xda00b0['data']);break;case'updatedCol'+'orData':_0x47c474(_0xda00b0['data']);break;case'updatedTra'+'nsformData':_0x47c474(_0xda00b0);break;}};}['updateSHDa'+'ta1'](_0x52e6de,_0x10cd94,_0x554e7a){var _0x18baca;return(_0x18baca=this['worker'])==null||_0x18baca['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x52e6de,'shBands':_0x10cd94,'SHData':_0x554e7a}),new Promise(_0x419ba6=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x4e7272=>{_0x419ba6(_0x4e7272);});});}async['updateTran'+'sData'](_0x3ce57f,_0x536dd3,_0x173ef9,_0x1ec992,_0x1131df,_0x4a6ec9,_0x87f104,_0x433572){var _0x4b14e2;return(_0x4b14e2=this['worker'])==null||_0x4b14e2['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x3ce57f,'is4D':_0x536dd3,'position':_0x173ef9,'rotation':_0x1ec992,'motion':_0x1131df,'scale':_0x4a6ec9,'muT':_0x87f104,'tScale':_0x433572}),new Promise(_0x1f5cf9=>{const _0x3a07ef=_0xedc0f1=>{_0x1f5cf9(_0xedc0f1);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x3a07ef);});}['destroy'](){var _0x1e19cc;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1e19cc=this['worker'])==null||_0x1e19cc['terminate'](),this['worker']=null);}}const xg=(_0x2e69bf,_0x5299b2)=>{const _0x352ec6=[];for(let _0xd6d6d0=-0xc*0x147+0xd2e+0x226;_0xd6d6d0<_0x5299b2;++_0xd6d6d0)_0x352ec6['push'](_0x2e69bf['getProp']('f_rest_'+_0xd6d6d0));return _0x352ec6;};class CC extends Rv{constructor(_0x531e67,_0x929499){super(_0x531e67,_0x929499),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x1f06*0x1+-0x22a5+0x3a0)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x1*0x13bb+-0x1c50*-0x1+-0x890);}['setSceneIn'+'fo'](_0x1e26ff){this['sceneInfo']['duration']=_0x1e26ff['duration'],this['sceneInfo']['fps']=_0x1e26ff['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x1e26ff['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x1e26ff['globalBoun'+'dingBox']['min'][-0x1901+-0x1*-0x46d+0x525*0x4],_0x1e26ff['globalBoun'+'dingBox']['min'][-0x1*0x12d9+0x3*-0x2a7+0x1acf*0x1],_0x1e26ff['globalBoun'+'dingBox']['min'][-0x1*-0x82c+0x4*-0x491+0xa1a]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x1e26ff['globalBoun'+'dingBox']['max'][-0x1*0x168e+-0x6cc+0x1d5a],_0x1e26ff['globalBoun'+'dingBox']['max'][-0x7*-0x565+-0xff3+0x1*-0x15cf],_0x1e26ff['globalBoun'+'dingBox']['max'][0x3a5+-0x2502+0x215f]);const _0x51b8af=_0x1e26ff['globalBoun'+'dingBox']['min'][0x20*-0xf9+-0x2*0xd45+0x39aa],_0x4e944b=_0x1e26ff['globalBoun'+'dingBox']['min'][0x1a*-0x13a+0x24a6+-0x4c1],_0x358f16=_0x1e26ff['globalBoun'+'dingBox']['min'][-0xa81+0xed*-0x13+0x1c1a],_0x10e1c2=_0x1e26ff['globalBoun'+'dingBox']['max'][-0x1*0x1252+0x1*0x18b3+-0x661],_0x1a9824=_0x1e26ff['globalBoun'+'dingBox']['max'][-0xc9*0x18+-0x1c94+0x2f6d],_0x31e989=_0x1e26ff['globalBoun'+'dingBox']['max'][-0xbc*0x8+0x215a+0x928*-0x3],_0x554fd2=new D((_0x51b8af+_0x10e1c2)*(0x1528+-0x9e9*0x1+0x1*-0xb3f+0.5),(_0x4e944b+_0x1a9824)*(0x4fa+-0x1564+0x106a+0.5),(_0x358f16+_0x31e989)*(0xd53+0x1d61+-0x2ab4+0.5)),_0x58c797=new D((_0x10e1c2-_0x51b8af)*(-0x163d+-0xdfa+-0x1*-0x2437+0.5),(_0x1a9824-_0x4e944b)*(0x2*-0x64b+-0x26db+0x3371+0.5),(_0x31e989-_0x358f16)*(0x17ab+0x278+0x1*-0x1a23+0.5)),_0x4d9376=new De(_0x554fd2,_0x58c797);this['sceneInfo']['globalBoun'+'dingBox']=_0x4d9376,this['aabb']=_0x4d9376;}async['updateData'](){var _0x295a4d,_0x199f53,_0x8ab289,_0x306f0b,_0x1404ab,_0x788a75,_0x224de4,_0x4006bb,_0x584b48,_0x179a83,_0x546699;await super['updateData']();const _0x131901=this['gsplatData'];if(!_0x131901)return;this['is4D']=_0x131901['is4D'];const _0x187f1a=await this['getTransfo'+'rmDataByWo'+'rker'](_0x131901);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x187f1a['centers'],this['motion']=_0x187f1a['motion'],this['tScale']=_0x187f1a['tScaleArra'+'y'],this['muT']=await _0x131901['getMuT'](),this['timeIndex']=await _0x131901['getTimeInd'+'ex']();const _0x4d5066=this['evalTextur'+'eSize'](_0x131901['numSplats']);this['colorTextu'+'re']?((_0x295a4d=this['colorTextu'+'re2'])==null||_0x295a4d['destroy'](),(_0x199f53=this['transformA'+'Texture2'])==null||_0x199f53['destroy'](),(_0x8ab289=this['transformB'+'Texture2'])==null||_0x8ab289['destroy'](),(_0x306f0b=this['transformR'+'Texture2'])==null||_0x306f0b['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4d5066),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4d5066),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4d5066),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4d5066),this['is4D']&&((_0x1404ab=this['transformM'+'otionTextu'+'re2'])==null||_0x1404ab['destroy'](),(_0x788a75=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x788a75['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4d5066),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4d5066))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x4d5066),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4d5066),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x4d5066),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4d5066),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x4d5066),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4d5066),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x4d5066),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4d5066),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x4d5066),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4d5066),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x4d5066),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4d5066))),await this['updateColo'+'rData'](_0x131901),await this['updateTran'+'sformFromD'+'ata'](_0x187f1a),this['shBands']=_0x131901['shBands'],this['shBands']>-0x1ca5+0x3*0xcd7+-0x9e0&&(this['sh1to3Text'+'ure']?((_0x224de4=this['sh1to3Text'+'ure2'])==null||_0x224de4['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4d5066),this['shBands']>0x1f*0xf2+-0x16ba*-0x1+-0x3407&&((_0x4006bb=this['sh4to7Text'+'ure2'])==null||_0x4006bb['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4d5066),this['shBands']>-0x59d+0x4f1*0x1+0x3a*0x3?((_0x584b48=this['sh8to11Tex'+'ture2'])==null||_0x584b48['destroy'](),(_0x179a83=this['sh12to15Te'+'xture2'])==null||_0x179a83['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4d5066),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4d5066)):((_0x546699=this['sh8to11Tex'+'ture2'])==null||_0x546699['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4d5066)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4d5066),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x4d5066),this['shBands']>-0x1f7a+0x3*-0x8+0x1f93&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x4d5066),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4d5066),this['shBands']>0x1e*0x5f+0x1d03+-0x1*0x2823?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x4d5066),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4d5066),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x4d5066),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4d5066)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x4d5066),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x4d5066)))),await this['updateSHDa'+'taByWorker'](_0x131901));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x4143f9){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x4143f9}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x126f52,_0x31854b,_0xdefccd,_0x3abd05,_0x335870,_0x395b19){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x126f52,'timeOption':_0x31854b,'loadedTime':_0xdefccd,'asset':_0x3abd05,'events':_0x335870,'seekCB':_0x395b19}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x1*0xa31+0x6*0x130+-0x1*-0x311);try{for(;this['appendQueu'+'e']['length']>-0x4*0x14b+-0xfad*-0x1+-0xa81;){const _0xed0398=this['appendQueu'+'e']['shift']();_0xed0398['type']==='append'?await this['processApp'+'endTask'](_0xed0398['data']):_0xed0398['type']==='release'&&await this['processRel'+'easeTask'](_0xed0398['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0xb*-0x31d+-0x1d2*-0x2+-0xd*0x2ea);}}}async['processRel'+'easeTask'](_0x48c9cf){const {index:_0x482016}=_0x48c9cf;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x482016);}async['processApp'+'endTask'](_0x982015){var _0x4f3122;const {gsplatData:_0x355a4f,timeOption:_0x435167,loadedTime:_0x2d7150,asset:_0x3b5f30,events:_0x457a97,seekCB:_0x4ab636}=_0x982015;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x435167,this['asset']=_0x3b5f30,this['assetsMana'+'gerLoadedT'+'ime']=_0x2d7150,this['events']=_0x457a97,await this['gsplatData']['appendGSpl'+'atData'](_0x355a4f,_0x2d7150,_0x435167),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x3*0x954+0x1d63+-0x165),_0x355a4f['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x355a4f['numSplats'])['toFixed'](-0x1eca+0xcc4*0x1+0x1209)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x9a0+-0x8a1+0x1243),_0x355a4f['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x4f3122=this['gsplatInst'+'ance'])==null?void(-0x1c5d+0x20e1+-0x484):_0x4f3122['updateInst'+'anceData'](this,_0x2d7150,_0x4ab636)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0xa11*0x3+-0xb*-0x11+-0x1eec*0x1),_0x355a4f['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x3a36bf,_0x2fe25c){var _0x510fa1;const _0x344f00=_0x3a36bf||this['assetsMana'+'gerLoadedT'+'ime'];(_0x510fa1=this['asset'])==null||_0x510fa1['fire']('setAssetsL'+'oaded',_0x344f00,_0x2fe25c);}['destroy'](){var _0x1ee0e7,_0x5704ac,_0x540135,_0x3f4e8c,_0x39283c,_0x124b71,_0x348053,_0x53dd32,_0xb8eadf,_0x4d01a7,_0x31d1cc,_0x448965,_0x63b658,_0x32a15e,_0x578a70,_0xefb309,_0x3c825b,_0x25794c,_0x33e6df,_0x55895a,_0x2b1d55;(_0x1ee0e7=this['updateData'+'Worker'])==null||_0x1ee0e7['destroy'](),this['updateData'+'Worker']=void(0x4f2+-0x1de*-0x12+-0x268e),(_0x5704ac=this['colorTextu'+'re'])==null||_0x5704ac['destroy'](),(_0x540135=this['transformA'+'Texture'])==null||_0x540135['destroy'](),(_0x3f4e8c=this['transformB'+'Texture'])==null||_0x3f4e8c['destroy'](),(_0x39283c=this['transformR'+'Texture'])==null||_0x39283c['destroy'](),(_0x124b71=this['transformM'+'otionTextu'+'re'])==null||_0x124b71['destroy'](),(_0x348053=this['transformL'+'ifecycleTe'+'xture'])==null||_0x348053['destroy'](),(_0x53dd32=this['sh1to3Text'+'ure'])==null||_0x53dd32['destroy'](),(_0xb8eadf=this['sh4to7Text'+'ure'])==null||_0xb8eadf['destroy'](),(_0x4d01a7=this['sh8to11Tex'+'ture'])==null||_0x4d01a7['destroy'](),(_0x31d1cc=this['sh12to15Te'+'xture'])==null||_0x31d1cc['destroy'](),(_0x448965=this['colorTextu'+'re2'])==null||_0x448965['destroy'](),(_0x63b658=this['transformA'+'Texture2'])==null||_0x63b658['destroy'](),(_0x32a15e=this['transformB'+'Texture2'])==null||_0x32a15e['destroy'](),(_0x578a70=this['transformR'+'Texture2'])==null||_0x578a70['destroy'](),(_0xefb309=this['transformM'+'otionTextu'+'re2'])==null||_0xefb309['destroy'](),(_0x3c825b=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3c825b['destroy'](),(_0x25794c=this['sh1to3Text'+'ure2'])==null||_0x25794c['destroy'](),(_0x33e6df=this['sh4to7Text'+'ure2'])==null||_0x33e6df['destroy'](),(_0x55895a=this['sh8to11Tex'+'ture2'])==null||_0x55895a['destroy'](),(_0x2b1d55=this['sh12to15Te'+'xture2'])==null||_0x2b1d55['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x39a80e){var _0x5b5f2f,_0x2c6210,_0x22a487,_0x3b5e9e,_0x2442c4,_0x7f99f,_0x544a43,_0x4ce23a,_0x4a70a2,_0x283665,_0x4bada9,_0x304e25,_0x32aa98;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0xef8ebb=((_0x5b5f2f=_0x39a80e['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x23c7+-0x8d8*0x1+-0xc5*0x23):_0x5b5f2f['data'])??-0x1bd+-0x43c+-0x5f9*-0x1,_0x338f65=((_0x2c6210=_0x39a80e['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x159b*0x1+0x1*-0x1d95+0x3330):_0x2c6210['data'])??-0x1b42+-0x1855+0x2*0x19cc,_0x3f3145=((_0x22a487=_0x39a80e['getParamet'+'er']('uSaturatio'+'n'))==null?void(0xe15+-0x4e*-0x2+-0x1*0xeb1):_0x22a487['data'])??-0xf22+-0x19f0+-0x2bd*-0xf,_0x40f708=((_0x3b5e9e=_0x39a80e['getParamet'+'er']('uHueOffset'))==null?void(-0x1*0xa51+0x2*0xbfb+0x1f3*-0x7):_0x3b5e9e['data'])??0x50*0x44+-0x208f+0xb4f,_0x476595=((_0x2442c4=_0x39a80e['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x1256+-0x7*-0x3ce+-0x84c):_0x2442c4['data'])??0x1026*-0x1+0x2*-0xcaf+-0xa61*-0x4,_0x47dcde=((_0x7f99f=_0x39a80e['getParamet'+'er']('uOpacity'))==null?void(-0x1d9a+-0xd19+0x2ab3):_0x7f99f['data'])??-0x2b*-0x5e+0x9d*-0x3+-0xee*0xf,_0x2575bc=((_0x544a43=_0x39a80e['getParamet'+'er']('clrOffset'))==null?void(0x7c3+0x148e*-0x1+0x1*0xccb):_0x544a43['data'])??[0xf*0x21f+-0x241*-0xd+-0x3d1e,0x1b27+-0x1547+-0x5e0,0xe57*0x1+0x481+-0x192*0xc,-0x1*-0x1c9+0x965+-0xb2d],_0x4ce1ed=((_0x4ce23a=_0x39a80e['getParamet'+'er']('clrScale'))==null?void(0xd6*0x25+-0x1185+-0xd69):_0x4ce23a['data'])??[-0x11b*-0x9+-0x534+-0x4be,-0x8*0x106+0x6*0x613+-0x1*0x1c41,0x1327*0x2+0x38*-0x1b+-0x2065,-0xf*0x7d+-0x208a+0x27de],_0x1bd44b=((_0x4a70a2=_0x39a80e['getParamet'+'er']('uShapeN'))==null?void(-0x2396+-0x1*-0x11a7+0x11ef):_0x4a70a2['data'])??-0x5d9+0x619*0x1+-0x4*0x10,_0x4a4a3c=((_0x283665=_0x39a80e['getParamet'+'er']('mode'))==null?void(-0x7ca*-0x3+0xbdb*-0x3+-0x1*-0xc33):_0x283665['data'])??0x900+0x1010+-0x1910,_0x439521=((_0x4bada9=_0x39a80e['getParamet'+'er']('ringSize'))==null?void(-0x9d*-0x2+-0x264a+-0x944*-0x4):_0x4bada9['data'])??0x1*0x1dcd+0x3*0xc61+-0x22*0x1f8,_0x139931=((_0x304e25=_0x39a80e['defines'])==null?void(-0x25bf+-0xc*-0x1e5+0xf03):_0x304e25['get']('uOpenAnim'))??'0',_0x4c22cc=((_0x32aa98=_0x39a80e['defines'])==null?void(0x9*0x8d+-0x2*-0x1179+-0x27e7):_0x32aa98['get']('uControlCo'+'lorMode'))??'0';_0x39a80e['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x39a80e['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x39a80e['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x39a80e['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x39a80e['setParamet'+'er']('uSplatScal'+'e',_0x338f65),_0x39a80e['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0xef8ebb),_0x39a80e['setParamet'+'er']('uSaturatio'+'n',_0x3f3145),_0x39a80e['setParamet'+'er']('uHueOffset',_0x40f708),_0x39a80e['setParamet'+'er']('uInvertOpa'+'city',_0x476595),_0x39a80e['setParamet'+'er']('uOpacity',_0x47dcde),_0x39a80e['setParamet'+'er']('clrOffset',_0x2575bc),_0x39a80e['setParamet'+'er']('clrScale',_0x4ce1ed),_0x39a80e['setParamet'+'er']('uShapeN',_0x1bd44b),_0x39a80e['setParamet'+'er']('mode',_0x4a4a3c),_0x39a80e['setParamet'+'er']('ringSize',_0x439521),_0x39a80e['setParamet'+'er']('prerenderC'+'Time',0x1*0x8eb+0x8*-0x48d+0x1b7d*0x1),_0x39a80e['setParamet'+'er']('renderSpac'+'e',-0x1a*-0x49+-0x11ec+0xa8c),_0x39a80e['setParamet'+'er']('endSpace',0x4b+0x31*0x29+-0x7a*0x11),_0x39a80e['setDefine']('uOpenAnim',_0x139931),_0x39a80e['setDefine']('uControlCo'+'lorMode',_0x4c22cc),this['transformM'+'otionTextu'+'re']&&_0x39a80e['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x39a80e['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x39a80e['setDefine']('SH_BANDS',this['shBands']),_0x39a80e['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x39a80e['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x39a80e['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x39a80e['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x39a80e['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x4dc7e7){const _0x3f1520=Math['ceil'](Math['sqrt'](_0x4dc7e7)),_0x1eee16=Math['ceil'](_0x4dc7e7/_0x3f1520);return new J(_0x3f1520,_0x1eee16);}async['updateColo'+'rData'](_0x1010b0){var _0xdde8b4;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x552974=this['colorTextu'+'re2'];if(!_0x552974||this['isDestroye'+'d'])return;let _0x2e2afe=(_0xdde8b4=_0x1010b0['transformD'+'ata'])==null?void(0xe1d*0x2+0x6c3+-0x22fd):_0xdde8b4['dataColor'];if(!_0x2e2afe){const _0x107db3=_0x1010b0['getProp']('color_opac'+'ity');_0x2e2afe=new Uint16Array(_0x107db3['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x552974,_0x2e2afe);}async['getTransfo'+'rmDataByWo'+'rker'](_0xf101f0){var _0x352a54;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x352a54=_0xf101f0['transformD'+'ata'])!=null&&_0x352a54['dataCenter'+'s'])return{'centers':_0xf101f0['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xf101f0['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xf101f0['transformD'+'ata']['dataScale'],'dataRotation':_0xf101f0['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xf101f0['transformD'+'ata']['dataMotion'],'dataTime':_0xf101f0['transformD'+'ata']['dataTime'],'motion':_0xf101f0['transformD'+'ata']['motion'],'tScaleArray':_0xf101f0['transformD'+'ata']['tScaleArra'+'y']};const _0xb3e820=_0xf101f0['getProp']('position'),_0x1bb597=_0xf101f0['getProp']('motion'),_0x579208=_0xf101f0['getProp']('rotation'),_0x3a7009=_0xf101f0['getProp']('scale'),_0x3a7a44=_0xf101f0['getProp']('t'),_0x3baf8f=_0xf101f0['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xf101f0['numSplats'],this['is4D'],_0xb3e820,_0x579208,_0x1bb597,_0x3a7009,_0x3a7a44,_0x3baf8f);}async['updateTran'+'sformFromD'+'ata'](_0x253fe6){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x253fe6['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x253fe6['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x253fe6['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x253fe6['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x253fe6['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4811b1,_0x35b331){if(!this['isDestroye'+'d'])return new Promise(_0x3de48f=>{requestIdleCallback(()=>{const _0xb643a6=_0x4811b1['lock']();_0xb643a6==null||_0xb643a6['set'](_0x35b331),_0x4811b1['unlock'](),_0x3de48f(!(0x609+-0x1*-0x1ce1+-0x22ea));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x31e492){var _0x8e11c0,_0x51a1e1,_0x517c67,_0x169b82,_0x97eef,_0xf0b7c2,_0x584682,_0x4b8d61;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x2fc983=(_0x8e11c0=this['sh1to3Text'+'ure2'])==null?void(0x1bb7+0x1c87+-0x1*0x383e):_0x8e11c0['lock'](),_0xad7a4f=(_0x51a1e1=this['sh4to7Text'+'ure2'])==null?void(0xd58+0xc51+-0x19a9):_0x51a1e1['lock'](),_0x252dc3=(_0x517c67=this['sh8to11Tex'+'ture2'])==null?void(0x3c3+0x1*0x11b6+-0x17*0xef):_0x517c67['lock'](),_0x48b03c=(_0x169b82=this['sh12to15Te'+'xture2'])==null?void(-0x199*0xe+0x1861*-0x1+0x2ebf):_0x169b82['lock'](),_0x569f54={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1dfbea=xg(_0x31e492,_0x569f54*(-0x1476+0x4e*-0x35+0x249f)),_0x390046=-0x1*-0x1f1a+0x21e8+-0x3903,_0xcb137d=0x1c86+-0x51*0x1b+-0xffc,_0x3a8594=new Float32Array(0x9ba+0x17f*0x4+-0x1*0xfb5),_0x2647e2=new Uint32Array(_0x3a8594['buffer']),_0x265c9e=new Array(_0x569f54*(-0xe*0x290+-0x1*-0x116b+0x1278))['fill'](-0xc97+-0xa68+0x16ff);for(let _0x5a8572=-0x33*-0xb5+-0x133*-0x10+-0x373f;_0x5a8572<_0x31e492['numSplats'];++_0x5a8572){for(let _0x128899=-0x1b39+0x3b*0x11+0x174e;_0x128899<_0x569f54;++_0x128899)_0x265c9e[_0x128899*(0xec+-0x8*-0x1e4+-0x5*0x335)]=_0x1dfbea[_0x128899][_0x5a8572],_0x265c9e[_0x128899*(-0x179c+-0x3*-0x7b8+0x77)+(-0x2609+-0x1bd7+0x41e1)]=_0x1dfbea[_0x128899+_0x569f54][_0x5a8572],_0x265c9e[_0x128899*(-0x29*-0x4+-0x2005+0x1f64)+(0xa63*-0x3+-0x1245+0x3170)]=_0x1dfbea[_0x128899+_0x569f54*(0x2500+-0x25e4+0x1*0xe6)][_0x5a8572];let _0x328ab7=_0x265c9e[0x2*0x2bd+-0x1827+0x12ad];for(let _0x5ae26c=-0xddf+0x21ac+-0x13cc;_0x5ae26c<_0x569f54*(-0x8e*-0x2f+0x14a2+-0x2eb1);++_0x5ae26c)_0x328ab7=Math['max'](_0x328ab7,Math['abs'](_0x265c9e[_0x5ae26c]));if(_0x328ab7!==0x17*-0x187+-0x1*0x1d03+0xa*0x66a){for(let _0x403450=0x1072+-0x1bba+0xb48;_0x403450<_0x569f54;++_0x403450)_0x265c9e[_0x403450*(-0x1b87+0xf89+-0x7*-0x1b7)+(0x23d+-0x1*0x1d1d+0xa*0x2b0)]=Math['max'](0xf3d+-0x667*0x2+-0x26f,Math['min'](_0x390046,Math['floor']((_0x265c9e[_0x403450*(-0x13*-0x164+-0x12a3+-0x7c6)+(0x815*0x1+-0x4fd*0x6+0x149*0x11)]/_0x328ab7*(-0xe*0xd4+0x1367+-0x7cf+0.5)+(-0xb94+-0xaa5+0x1639+0.5))*_0x390046+(-0xf5c+-0x11f2*0x1+0x2*0x10a7+0.5)))),_0x265c9e[_0x403450*(0x4*-0x1e+-0x13d6+-0x7*-0x2e7)+(-0x17f7+0x21aa*0x1+-0x9b2)]=Math['max'](0x12e*0x17+-0x7*0x7f+0x2a1*-0x9,Math['min'](_0xcb137d,Math['floor']((_0x265c9e[_0x403450*(-0x117a+-0xfb4+0x2131*0x1)+(-0x2590+-0x4f7*0x3+-0x55*-0x9e)]/_0x328ab7*(-0x1313*-0x2+-0x1af*-0x8+-0x2*0x19cf+0.5)+(-0x1919+0x6*-0x30a+0x2b55+0.5))*_0xcb137d+(-0x101+-0x26fb*-0x1+0x12fd*-0x2+0.5)))),_0x265c9e[_0x403450*(0x132c+0x4fe+0x2af*-0x9)+(-0x43*-0x86+-0x23c6+0xb6*0x1)]=Math['max'](-0x897*0x4+-0x9c2+0x2*0x160f,Math['min'](_0x390046,Math['floor']((_0x265c9e[_0x403450*(-0x1*0x23c3+-0x1ad*-0x1+0x7*0x4df)+(0x13*-0x166+0xc2*-0x2c+0x3bec)]/_0x328ab7*(0x2133+0x1*-0x212f+-0x4+0.5)+(-0x934+-0x2*-0xcce+0x46*-0x3c+0.5))*_0x390046+(0x2d7*0x9+-0xf7+-0x8*0x313+0.5))));_0x3a8594[0x24bd+-0x25c2+0x105]=_0x328ab7,_0x2fc983[_0x5a8572*(0xbe1*-0x1+-0xad6+0x16bb)+(-0x1b*0x32+0x1846+-0x1*0x1300)]=_0x2647e2[-0xa73+-0xa21*-0x2+-0x9cf],_0x2fc983[_0x5a8572*(0xcfb*-0x1+-0xd2d+0x1a2c)+(-0x100f*0x1+-0xffc+0x24a*0xe)]=_0x265c9e[0x20*0xdf+-0x393+-0x1*0x184d]<<-0x117c+0x6f7*-0x1+0x1888|_0x265c9e[-0x25*0x45+-0x213*0x1+-0x269*-0x5]<<0xb4a+0x2bb*-0x7+-0x2*-0x3ef|_0x265c9e[0x177e+0x7*0x4f+-0x19a5*0x1],_0x2fc983[_0x5a8572*(-0x498+0x1*0xf3a+-0xa9e)+(-0x25b7+-0x8*-0x1bc+0x6f*0x37)]=_0x265c9e[0x134c+-0x1b5+-0x1194]<<0x1*-0x1edb+-0x140a+0x32fa|_0x265c9e[-0x1*-0x213e+0x2027+-0x4161]<<0x152a+0x1568+-0x2a87|_0x265c9e[0x53*-0x3b+-0x3*0x329+-0x98b*-0x3],_0x2fc983[_0x5a8572*(0xd47+0x3*-0xb21+-0x508*-0x4)+(-0x20c8+-0x15fa+-0x7d3*-0x7)]=_0x265c9e[0x2488+-0x2*-0x93+-0x25a8]<<0x9a*-0x8+0x1*-0x100a+0x14ef*0x1|_0x265c9e[0x1b85+0x1ad6+0x13*-0x2dc]<<-0x11ab+-0x9*-0x83+0x37*0x3d|_0x265c9e[-0x6*-0x521+-0x5*0x167+-0x4b*0x51],this['shBands']>0x1122+-0x1a45*0x1+-0x186*-0x6&&(_0xad7a4f[_0x5a8572*(0x2*0xb34+-0x1*-0x16a7+-0x2d0b)+(-0x781+0x50d+0x274)]=_0x265c9e[0x9ef*0x3+-0x2*0xd3b+0x9*-0x5e]<<0x870*0x1+0xfe+-0x959|_0x265c9e[0x736+-0x12*-0x1a3+-0x24a2]<<-0xdf*-0x1c+-0x2012+0x293*0x3|_0x265c9e[0x44+0x1182+-0x10b*0x11],_0xad7a4f[_0x5a8572*(0x11*-0x241+0xd77+0x18de)+(-0x2560+0x14f8+0x1069)]=_0x265c9e[-0xe*-0x198+-0x1a89+0x1*0x445]<<-0x1cbc+-0x3c6*0x6+-0x3*-0x1127|_0x265c9e[0xd03*-0x1+0x10*-0x158+0x4*0x8a4]<<-0xb9c*0x1+-0x1b99+0x2740|_0x265c9e[0x10b5+-0x24a*0xb+0x887],_0xad7a4f[_0x5a8572*(-0x1*-0x8a6+-0x172b+0x1*0xe89)+(0x21e+-0x43*0x65+0x1853)]=_0x265c9e[-0xf6f+0x31*-0xc+0x17*0xc6]<<0x912+-0x223d+0x65*0x40|_0x265c9e[0x653*0x3+0x123+0x140c*-0x1]<<-0xead+-0xea8+0x1d60|_0x265c9e[-0xf8f+0x27*0x32+0x401*0x2],_0xad7a4f[_0x5a8572*(0x136d*-0x1+0x21eb+-0xe7a*0x1)+(0x6b2+-0x43*-0x43+-0x19*0xf8)]=_0x265c9e[0xe2*-0x5+0x25a6+-0x212a]<<-0x10e3+0x111c+0x12*-0x2|_0x265c9e[0x1f9d*-0x1+0x581*-0x1+0x2531]<<0x155a+-0x1*-0x170b+-0x162d*0x2|_0x265c9e[0x69b+0x7c1*0x1+-0xe48],this['shBands']>-0x2aa+0xcb*0x15+-0x3*0x4a9?(_0x252dc3[_0x5a8572*(0x11*-0x1+0xaa*0xb+-0x739)+(-0x2685+-0x3e9+0x2*0x1537)]=_0x265c9e[-0xbab+0x125b+-0x69b]<<0x2*-0xda9+0x21db*0x1+-0x674|_0x265c9e[-0x1283*0x1+-0x139d+0x2636]<<-0x7*0x35f+-0x1ae5+-0x11*-0x2f9|_0x265c9e[0x1666+0x18f*-0x17+-0x6c5*-0x2],_0x252dc3[_0x5a8572*(-0x18b4*0x1+0x2*-0xadf+0x2*0x173b)+(0x11a1*0x2+0x1eef+-0x8*0x846)]=_0x265c9e[-0x204e+0x2603+-0x59d]<<-0x11d5*0x2+0x71*-0x5+0x25f4|_0x265c9e[0x149d+0x94c+-0x9f*0x30]<<0x18d7*0x1+-0x1b78+0xab*0x4|_0x265c9e[0xfe7+-0x1ddd+0xe10],_0x252dc3[_0x5a8572*(-0x5db*-0x5+-0x1d50+-0xd*-0x1)+(0xad1+-0x1d+-0xab2)]=_0x265c9e[0x6b*-0x35+-0x132b+0x849*0x5]<<-0x2*-0xd8c+0x8bd*0x1+-0x23c0|_0x265c9e[0x1369+0xe7c+0x1f*-0x117]<<0x21b8+0x1*-0x12d3+-0x2*0x76d|_0x265c9e[0x101*-0x6+-0x955*-0x1+0x2*-0x199],_0x252dc3[_0x5a8572*(-0x8*-0x41c+-0x2540+0x464)+(0x1*0x1db7+-0x22f8*0x1+0x544)]=_0x265c9e[-0x1e97+-0x542+-0x1f*-0x129]<<0x2a*-0x31+-0xb92*-0x1+0x373*-0x1|_0x265c9e[0x221f+-0x1b5d+-0x6a3]<<0x23f8+-0x1504+0x1*-0xee9|_0x265c9e[-0x124d+0xb85*-0x3+0x1*0x34fc],_0x48b03c[_0x5a8572*(0x1*0x1897+0xeb2+-0x2745)+(-0x3*0x2af+0x73+0x2*0x3cd)]=_0x265c9e[-0x1b88+0x253a+-0x991]<<-0x1397+-0x7eb+0x3f1*0x7|_0x265c9e[0x262c+-0x10d9+-0x1531]<<-0x743+-0x68f+0x27*0x5b|_0x265c9e[-0x138c+0x39*0x39+0xa*0xb3],_0x48b03c[_0x5a8572*(-0x21d3*0x1+0x10f4+-0x3*-0x5a1)+(0x17cc+-0x4d*-0x56+-0x31a9)]=_0x265c9e[0x25cf+0x1321*0x1+-0x38cc]<<0x42*0x5c+-0x166c+-0x137|_0x265c9e[-0x1de3+-0xf81+0x2d89]<<-0x5*-0x4c5+-0x6d*0x3f+0x305*0x1|_0x265c9e[0x1f4f+-0x11eb+-0xd3e],_0x48b03c[_0x5a8572*(0x2238+-0x38*0xe+0x2*-0xf92)+(0x2092+-0xa59*0x3+0x1*-0x185)]=_0x265c9e[0x204*0x6+-0x1dd8+0x11e7]<<0x232e+-0x6e3+0x9d*-0x2e|_0x265c9e[-0x12a+0x1*-0x877+0x9c9]<<0x1d68+0x26de+-0x1*0x443b|_0x265c9e[0x5d5*-0x3+-0x8f4+0x1a9c],_0x48b03c[_0x5a8572*(-0x20c5+0x3cf+0x1cfa*0x1)+(-0x137*-0x8+-0x3*-0x805+-0x21c4)]=_0x265c9e[0x23b3+-0x122*-0x22+-0x4a0d]<<0x16b0+0x1e1b+-0x34b6|_0x265c9e[0xccf*0x3+0x1758+0xa*-0x629]<<0x1625*0x1+0x1*-0x77f+-0x1*0xe9b|_0x265c9e[0x1267+0x2*-0xce5+0x78f]):_0x252dc3[_0x5a8572]=_0x265c9e[-0x1*-0x251d+0x1*-0x11b+-0x23ed]<<-0x158d+0x161c+-0x7a|_0x265c9e[-0x203c+-0x12a+0x217c]<<0x87f*0x1+-0x2153+0x18df|_0x265c9e[0x4d*-0x79+-0x427*-0x1+0x2055]);}}(_0x97eef=this['sh1to3Text'+'ure2'])==null||_0x97eef['unlock'](),(_0xf0b7c2=this['sh4to7Text'+'ure2'])==null||_0xf0b7c2['unlock'](),(_0x584682=this['sh8to11Tex'+'ture2'])==null||_0x584682['unlock'](),(_0x4b8d61=this['sh12to15Te'+'xture2'])==null||_0x4b8d61['unlock']();}async['updateSHDa'+'taByWorker'](_0x3c6a65){var _0x155d86,_0x28c154,_0x100cc1,_0xa4799d,_0x272a9f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x3ecb8b={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x125994,_0x37859a,_0x53d1c5,_0x3a35b3;if((_0x155d86=_0x3c6a65['transformD'+'ata'])!=null&&_0x155d86['sh1to3Data'])_0x125994=(_0x28c154=_0x3c6a65['transformD'+'ata'])==null?void(-0x3*-0x861+-0x1f*0x122+0x9fb):_0x28c154['sh1to3Data'],_0x37859a=(_0x100cc1=_0x3c6a65['transformD'+'ata'])==null?void(-0x589+0xa*0x27+-0xd*-0x4f):_0x100cc1['sh4to7Data'],_0x53d1c5=(_0xa4799d=_0x3c6a65['transformD'+'ata'])==null?void(0x2071+0x2a*-0x5+-0x1f9f*0x1):_0xa4799d['sh8to11Dat'+'a'],_0x3a35b3=(_0x272a9f=_0x3c6a65['transformD'+'ata'])==null?void(0xa9+-0x2*0x523+0x99d):_0x272a9f['sh12to15Da'+'ta'];else{const _0x1abb6b=xg(_0x3c6a65,_0x3ecb8b*(0x10d6+-0x46f+-0xc64)),_0x4ce492=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x3c6a65['numSplats'],this['shBands'],_0x1abb6b);_0x125994=_0x4ce492['sh1to3Data'],_0x37859a=_0x4ce492['sh4to7Data'],_0x53d1c5=_0x4ce492['sh8to11Dat'+'a'],_0x3a35b3=_0x4ce492['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x125994),this['shBands']>-0x242b+0x183a+0x1*0xbf2&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x37859a),this['shBands']>0xbc3*-0x1+0xe*-0x12a+0x1c11?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x53d1c5),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x3a35b3)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x53d1c5));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x4ab8eb){Ov=_0x4ab8eb;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x82b68){w['assert'](_0x82b68),_0x82b68['frameUpdat'+'e']();const _0x4547fb=_0x82b68['beforePass'+'es'];for(let _0x5d1ef7=0xd*-0x217+-0x1ec8+0x39f3;_0x5d1ef7<_0x4547fb['length'];_0x5d1ef7++){const _0x50f2ff=_0x4547fb[_0x5d1ef7];_0x50f2ff['enabled']&&this['addRenderP'+'ass'](_0x50f2ff);}_0x82b68['enabled']&&this['renderPass'+'es']['push'](_0x82b68);const _0x3a97ee=_0x82b68['afterPasse'+'s'];for(let _0x4b2a94=-0x1*-0x171+-0x3*0x740+0x1*0x144f;_0x4b2a94<_0x3a97ee['length'];_0x4b2a94++){const _0x402650=_0x3a97ee[_0x4b2a94];_0x402650['enabled']&&this['addRenderP'+'ass'](_0x402650);}}['reset'](){this['renderPass'+'es']['length']=0x1*0x1fc1+0xe*0x175+-0x3427;}['compile'](){const _0x24d6a2=this['renderTarg'+'etMap'],_0x48f51f=this['renderPass'+'es'];for(let _0x22f25e=-0x71*-0x14+-0x1*0x1db1+0x14dd;_0x22f25e<_0x48f51f['length'];_0x22f25e++){const _0x185481=_0x48f51f[_0x22f25e],_0x301225=_0x185481['renderTarg'+'et'];if(_0x301225!==void(-0x943+0x1*0x1+0x942)){const _0x260b3c=_0x24d6a2['get'](_0x301225);if(_0x260b3c){const _0x5945b2=_0x185481['colorArray'+'Ops']['length'];for(let _0x4835af=0x466*0x1+-0xf8+-0x36e;_0x4835af<_0x5945b2;_0x4835af++)_0x185481['colorArray'+'Ops'][_0x4835af]['clear']||(_0x260b3c['colorArray'+'Ops'][_0x4835af]['store']=!(0xf75+-0x2558+0x15e3));_0x185481['depthStenc'+'ilOps']['clearDepth']||(_0x260b3c['depthStenc'+'ilOps']['storeDepth']=!(0x1a7e+0x2ab+-0x1d29)),_0x185481['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x260b3c['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x329*0x2+0x111*0xa+-0x1*0x458));}_0x24d6a2['set'](_0x301225,_0x185481);}}for(let _0x1cf39=-0x20*0x48+0x3*-0x6f3+0x9f3*0x3;_0x1cf39<_0x48f51f['length']-(-0x1062+-0x1*-0x3ae+-0x1*-0xcb5);_0x1cf39++){const _0x4dac26=_0x48f51f[_0x1cf39],_0x275a81=_0x4dac26['renderTarg'+'et'],_0x34e4ca=_0x48f51f[_0x1cf39+(0x1e8a*-0x1+-0x165d+0x34e8)],_0x109878=_0x34e4ca['renderTarg'+'et'];_0x275a81!==_0x109878||_0x275a81===void(-0xf5+-0x19c4+0x1ab9)||_0x34e4ca['depthStenc'+'ilOps']['clearDepth']||_0x34e4ca['depthStenc'+'ilOps']['clearStenc'+'il']||_0x34e4ca['colorArray'+'Ops']['some'](_0x526b2d=>_0x526b2d['clear'])||_0x4dac26['afterPasse'+'s']['length']>0x9dc+0x239*0x8+0x3d*-0x74||_0x34e4ca['beforePass'+'es']['length']>0x209*-0x4+-0xff4+0x1818||(_0x4dac26['_skipEnd']=!(0x242f*0x1+-0x2*0x1105+-0x225),_0x34e4ca['_skipStart']=!(-0x11a9+0x1c42+-0xa99));}let _0x54115e=null,_0x467ef5=null;for(let _0x273959=-0xd66+-0xf*0x107+0x1ccf;_0x273959<_0x48f51f['length'];_0x273959++){const _0x485854=_0x48f51f[_0x273959],_0x307111=_0x485854['renderTarg'+'et'],_0xb0b646=_0x307111==null?void(-0x20b0+0x27*-0x29+0x1*0x26ef):_0x307111['colorBuffe'+'r'];if(_0xb0b646!=null&&_0xb0b646['cubemap']){if(_0x54115e===_0xb0b646){const _0x2d47e4=_0x467ef5['colorArray'+'Ops']['length'];for(let _0xad3b4a=0x3*-0x3d9+-0x2598+-0x15*-0x257;_0xad3b4a<_0x2d47e4;_0xad3b4a++)_0x467ef5['colorArray'+'Ops'][_0xad3b4a]['mipmaps']=!(-0x4b3*0x1+-0x719+0xbcd);}_0x54115e=_0x307111['colorBuffe'+'r'],_0x467ef5=_0x485854;}else _0x485854['requiresCu'+'bemaps']&&(_0x54115e=null,_0x467ef5=null);}_0x24d6a2['clear']();}['render'](_0x5750f1){this['compile']();const _0x4a3921=this['renderPass'+'es'];for(let _0x41d25f=-0xf04+-0x2202+0x32*0xfb;_0x41d25f<_0x4a3921['length'];_0x41d25f++)_0x4a3921[_0x41d25f]['render']();}}class IC{constructor(_0x4717c3,_0x98d99b){this['texture0']=_0x4717c3,this['texture1']=_0x98d99b;}['destroy'](){var _0x1d10a7,_0x2c55c8;(_0x1d10a7=this['texture0'])==null||_0x1d10a7['destroy'](),(_0x2c55c8=this['texture1'])==null||_0x2c55c8['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x307f96,_0x2fb284,_0x12df5b,_0x4b1c5f=''){return new _e(_0x307f96,{'name':'AreaLightL'+'UT'+_0x4b1c5f,'width':_0x12df5b,'height':_0x12df5b,'format':_0x2fb284,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x50c+0x69d*0x5+0xe02*-0x2)});}static['applyTextu'+'res'](_0x2abd0e,_0x28792f,_0x3b7f7d){Eg['remove'](_0x2abd0e),Eg['get'](_0x2abd0e,()=>new IC(_0x28792f,_0x28792f===_0x3b7f7d?null:_0x3b7f7d)),_0x2abd0e['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x28792f),_0x2abd0e['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x3b7f7d);}static['createPlac'+'eholder'](_0xc1b3d5){const _0x4deb71=ia['createText'+'ure'](_0xc1b3d5,nt,-0x1*0x9eb+-0x4*0x613+0x2239,'placeholde'+'r');_0x4deb71['lock']()['fill'](0x1*0x14a+0x141a+-0x1564),_0x4deb71['unlock'](),ia['applyTextu'+'res'](_0xc1b3d5,_0x4deb71,_0x4deb71);}static['set'](_0x10743d,_0x3840d3,_0x54f5bc){function _0x367ef8(_0x2053e5,_0x548663,_0x1a962e){const _0x5ab9dc=ia['createText'+'ure'](_0x2053e5,_0x1a962e,0x1824+-0x218f+0x9ab*0x1);return _0x5ab9dc['lock']()['set'](_0x548663),_0x5ab9dc['unlock'](),_0x5ab9dc;}function _0x35fa08(_0x18f3e4){const _0xf710b=_0x18f3e4['length'],_0x512692=new Uint16Array(_0xf710b),_0x241117=Mn['float2Half'];for(let _0x4a37b3=-0x1b1e+0x678+0xa53*0x2;_0x4a37b3<_0xf710b;_0x4a37b3++)_0x512692[_0x4a37b3]=_0x241117(_0x18f3e4[_0x4a37b3]);return _0x512692;}const _0x22d0fb=_0x3840d3,_0x10d55f=_0x54f5bc,_0x3a6555=_0x35fa08(_0x22d0fb),_0x580e7d=_0x35fa08(_0x10d55f),_0x49006f=_0x367ef8(_0x10743d,_0x3a6555,nt),_0x57aba2=_0x367ef8(_0x10743d,_0x580e7d,nt);ia['applyTextu'+'res'](_0x10743d,_0x49006f,_0x57aba2);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x40fa6b,_0x158459){for(let _0x4c58b6=0xd3*0x25+-0xd8e*-0x2+-0x1*0x399b,_0x5a69cb=_0x40fa6b['length'];_0x4c58b6<_0x5a69cb;_0x4c58b6++)Sm[_0x40fa6b[_0x4c58b6]]=_0x158459;}function Oi(_0x3cfeb2){const _0x347ffb=_0x3cfeb2['indexOf']('-');return _0x347ffb!==-(0xfb*0x2+-0xd35+0xb40)?_0x3cfeb2['substring'](0x243e+0x4*0x88f+-0x467a,_0x347ffb):_0x3cfeb2;}function LC(_0x4d0857,_0x5947ea){const _0x3179a3=_0x4d0857['indexOf']('-');return _0x3179a3!==-(-0x2*0x5c4+0x1af*-0x15+0x2ee4)?_0x5947ea+_0x4d0857['substring'](_0x3179a3):_0x5947ea;}function Fv(_0x39d2b9,_0x35315b){if(_0x35315b[_0x39d2b9])return _0x39d2b9;let _0x20797b=Mh[_0x39d2b9];if(_0x20797b&&_0x35315b[_0x20797b])return _0x20797b;const _0x6e9edf=Oi(_0x39d2b9);return _0x20797b=Mh[_0x6e9edf],_0x35315b[_0x20797b]?_0x20797b:_0x35315b[_0x6e9edf]?_0x6e9edf:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x2c063b=>0x3*0xb27+0x121*-0x13+-0xc02),Dr(['fa','hi'],_0x25f513=>_0x25f513>=0xa85*-0x2+0x17b4+0x2aa*-0x1&&_0x25f513<=-0x18e5+0x106+0x17e0?-0x12e3+0x1436+-0x153:-0x1879+-0x3*-0xa47+-0x65b),Dr(['fr','pt'],_0x389474=>_0x389474>=0x186+0xf*0xfe+-0x1068&&_0x389474<0x2*0x30f+-0x1217+0xbfb?-0x130*-0x7+0x567*0x1+-0xdb7:-0xc4a+0xd*-0x1d3+0x2402),Dr(['da'],_0x3fafce=>_0x3fafce===0x1477*-0x1+-0xcf5*-0x3+0x1*-0x1267||!Number['isInteger'](_0x3fafce)&&_0x3fafce>=-0x43*-0x5+0x151f+-0x77a*0x3&&_0x3fafce<=0xd*0x1af+0x2237+-0x3819?-0x878+-0x12*0x223+0x2eee:-0x1617+-0x24d3+0x3aeb),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x29da28=>_0x29da28===-0x92c+-0x3*-0xac5+-0x3f*0x5e?0xc58+-0x2337*0x1+0x16df:0x77b+-0x401+0x7f*-0x7),Dr(['ru','uk'],_0x4c9eb0=>{if(Number['isInteger'](_0x4c9eb0)){const _0x528e74=_0x4c9eb0%(0x10eb+0x1*0x14a+-0x122b),_0x1c9c68=_0x4c9eb0%(0x218*-0x2+0x636+-0x1a2);if(_0x528e74===-0x20d2+0x2b*-0x23+0x26b4*0x1&&_0x1c9c68!==0x9a+0x2454+0x13*-0x1f1)return-0xf29*-0x1+0x1faa+-0x2ed3;if(_0x528e74>=0x26ba+-0x1350+-0x1368&&_0x528e74<=-0x1782*0x1+-0x1201+0x2987*0x1&&(_0x1c9c68<-0xefe*0x1+0x1229*0x1+-0x31f||_0x1c9c68>0x1*-0x956+-0x10fd+0x1a61))return-0x15a*0xa+0x56*-0x37+0x1fff;if(_0x528e74===0x7*-0x359+-0x19fd+0x316c||_0x528e74>=-0x1*0xceb+-0x4a6+0x1196&&_0x528e74<=0x9*0x1d9+0xb1f+-0x1bb7||_0x1c9c68>=-0x388*-0x2+0x2eb*0x7+-0x1b72&&_0x1c9c68<=0x4*0x1d3+-0xb3e*0x2+0xf3e)return 0x1*-0xae7+0x1e5a+-0x1371;}return-0x218b*-0x1+-0x79e+-0x1*0x19ea;}),Dr(['pl'],_0x54926b=>{if(Number['isInteger'](_0x54926b)){if(_0x54926b===0x1b*0x47+-0x2591+0x1e15*0x1)return-0x232c+-0x6*-0x57+-0x1091*-0x2;const _0x2b6bf4=_0x54926b%(-0x17*-0x9e+0x2549+-0x3371),_0x1241a0=_0x54926b%(0x22ee+0x15*0x113+-0x3919);if(_0x2b6bf4>=0x785+-0x25ad+0x1e2a&&_0x2b6bf4<=-0x1*-0x14f3+0x2*-0xae3+0xd7&&(_0x1241a0<-0x1c90+0x403+0x1899||_0x1241a0>-0x3*0x9ad+0x1*0x1369+0x9ac))return 0xe2+-0x2*0x1319+-0xe9*-0x29;if(_0x2b6bf4>=0x252c+0x169*-0x11+0x6d*-0x1f&&_0x2b6bf4<=0x551*-0x1+-0x2017+0x2569||_0x2b6bf4>=-0xf71+-0x1*-0x283+0xcf3&&_0x2b6bf4<=-0x18e2+-0x1505+0x2df0||_0x1241a0>=0xa1a*0x2+0x11*-0x11a+-0x16e&&_0x1241a0<=-0x23*0xd+0x1*-0x71b+0x8f0)return 0x1773+-0x1*-0x46+-0xd*0x1d3;}return 0x2674+-0x1feb+-0x14e*0x5;}),Dr(['ar'],_0x476aa1=>{if(_0x476aa1===0x1b7*-0x16+0xe4a*-0x1+-0x1*-0x3404)return 0x1735+-0x1f*0x91+-0x6*0xf1;if(_0x476aa1===0x167e*-0x1+0x2*-0x1174+0x3967)return-0x8*-0x236+-0x2f*0xd0+0x1481*0x1;if(_0x476aa1===-0x1cc3+-0x1*-0x228e+-0x5c9)return 0x98*-0x3e+0x12df*0x1+0x11f3;if(Number['isInteger'](_0x476aa1)){const _0x1faaf9=_0x476aa1%(0x1*0x24d6+0x202+-0x2674);if(_0x1faaf9>=-0xd53+0x1632+-0x8dc&&_0x1faaf9<=-0x10*-0x1d0+0x155f*-0x1+0x43*-0x1d)return 0x21ec+-0x1342+-0x79*0x1f;if(_0x1faaf9>=0x233f+-0x66*-0x49+-0x404a&&_0x1faaf9<=0xb11*-0x1+-0x557*0x4+0x20d0)return 0x258e+0x1759+-0x3ce3;}return 0x2050+0x791+-0x27dc;});const RC=Sm[Oi(Ph)];function Tf(_0x328410){return Sm[_0x328410]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x383e46='',_0x2ae79e='',_0x583220=null,_0x29467d=null,_0x22505e=null,_0x29773f=null){this['url']=_0x383e46,this['filename']=_0x2ae79e,this['hash']=_0x583220,this['size']=_0x29467d,this['opt']=_0x22505e,this['contents']=_0x29773f;}['equals'](_0x482974){return this['url']===_0x482974['url']&&this['filename']===_0x482974['filename']&&this['hash']===_0x482974['hash']&&this['size']===_0x482974['size']&&this['opt']===_0x482974['opt']&&this['contents']===_0x482974['contents'];}}let FC=-(-0x70a*-0x2+-0x16d7+0x8c4);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x1918bd,_0x2dfea0,_0x3906dc,_0xb856d9={},_0xab473c={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x1f55+-0x1*-0x220f+-0x2b9)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x1*0x1f99+0x19e2+0x5b8*0x1)),h(this,'loading',!(0xa98+0xde6+0x187d*-0x1)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x1918bd||'',this['type']=_0x2dfea0,this['_data']=_0xb856d9||{},this['options']=_0xab473c||{},_0x3906dc&&(this['file']=_0x3906dc));}set['name'](_0x1ff7ca){if(this['_name']===_0x1ff7ca)return;const _0x2a772d=this['_name'];this['_name']=_0x1ff7ca,this['fire']('name',this,this['_name'],_0x2a772d);}get['name'](){return this['_name'];}set['file'](_0x3ba711){var _0x38dcce,_0x36c39d;if(_0x3ba711&&_0x3ba711['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x1682+0x1d34+-0x33b5)){const _0x5dbfaf=((_0x36c39d=(_0x38dcce=this['registry'])==null?void(-0x74+0x2472+0x10f*-0x22):_0x38dcce['_loader'])==null?void(-0x15*0x11b+0x1*0x2360+-0xc29):_0x36c39d['_app'])||Ms(),_0x2e490f=_0x5dbfaf==null?void(0x17b6+-0x26a3+0xeed):_0x5dbfaf['graphicsDe'+'vice'];if(_0x2e490f)for(let _0x21ed4c=0xe54*-0x1+0x1*0x18c6+-0xa72,_0xa107ce=bg['length'];_0x21ed4c<_0xa107ce;_0x21ed4c++){const _0x216dd3=bg[_0x21ed4c];if(_0x3ba711['variants'][_0x216dd3]&&_0x2e490f[NC[_0x216dd3]]){_0x3ba711=_0x3ba711['variants'][_0x216dd3];break;}if(_0x5dbfaf['enableBund'+'les']){const _0x32b807=_0x5dbfaf['bundles']['listBundle'+'sForAsset'](this);if(_0x32b807&&_0x32b807['find'](_0xb0e9a2=>{var _0xc31ff5;return(_0xc31ff5=_0xb0e9a2==null?void(-0x1*-0x20e+-0x2bd+-0x7*-0x19):_0xb0e9a2['file'])==null?void(-0xb21+-0xbc6*-0x1+-0xf*0xb):_0xc31ff5['variants'][_0x216dd3];}))break;}}}const _0x453994=this['_file'],_0x180ec0=_0x3ba711?new OC(_0x3ba711['url'],_0x3ba711['filename'],_0x3ba711['hash'],_0x3ba711['size'],_0x3ba711['opt'],_0x3ba711['contents']):null;(!!_0x180ec0!=!!_0x453994||_0x180ec0&&!_0x180ec0['equals'](_0x453994))&&(this['_file']=_0x180ec0,this['fire']('change',this,'file',_0x180ec0,_0x453994),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x148990){const _0x51ebdd=this['_data'];this['_data']=_0x148990,_0x148990!==_0x51ebdd&&(this['fire']('change',this,'data',_0x148990,_0x51ebdd),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x22593f){const _0x46f788=this['_resources'][0x505+-0x1*0x166d+0x45a*0x4];this['_resources'][-0x299*-0xe+-0x188*-0x9+0x62*-0x83]=_0x22593f,this['fire']('change',this,'resource',_0x22593f,_0x46f788);}get['resource'](){return this['_resources'][-0x7e8+0x2051+-0x1869];}set['resources'](_0x593bf0){const _0x237d4e=this['_resources'];this['_resources']=_0x593bf0,this['fire']('change',this,'resources',_0x593bf0,_0x237d4e);}get['resources'](){return this['_resources'];}set['preload'](_0x21938e){_0x21938e=!!_0x21938e,this['_preload']!==_0x21938e&&(this['_preload']=_0x21938e,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x518669){_0x518669=!!_0x518669,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x518669!==this['_loadFaces'])&&(this['_loadFaces']=_0x518669,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x35ad96=this['file'];if(!_0x35ad96||!_0x35ad96['url'])return null;let _0xc2daea=_0x35ad96['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0xc2daea)&&(_0xc2daea=this['registry']['prefix']+_0xc2daea),this['type']!=='script'&&_0x35ad96['hash']){const _0x59d425=_0xc2daea['indexOf']('?')!==-(-0x158e*0x1+-0x1*-0x13af+0x30*0xa)?'&':'?';_0xc2daea+=_0x59d425+'t='+_0x35ad96['hash'];}return _0xc2daea;}['getAbsolut'+'eUrl'](_0x24728d){if(_0x24728d['startsWith']('blob:')||_0x24728d['startsWith']('data:'))return _0x24728d;const _0x54ad0c=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x54ad0c,_0x24728d);}['getLocaliz'+'edAssetId'](_0x4f06ec){return _0x4f06ec=Fv(_0x4f06ec,this['_i18n']),this['_i18n'][_0x4f06ec]||null;}['addLocaliz'+'edAssetId'](_0x1a86f1,_0xae1f32){this['_i18n'][_0x1a86f1]=_0xae1f32,this['fire']('add:locali'+'zed',_0x1a86f1,_0xae1f32);}['removeLoca'+'lizedAsset'+'Id'](_0x3361fb){const _0x6e4605=this['_i18n'][_0x3361fb];_0x6e4605&&(delete this['_i18n'][_0x3361fb],this['fire']('remove:loc'+'alized',_0x3361fb,_0x6e4605));}['ready'](_0x41d104,_0x43d4da){_0x43d4da=_0x43d4da||this,this['loaded']?_0x41d104['call'](_0x43d4da,this):this['once']('load',_0x4590be=>{_0x41d104['call'](_0x43d4da,_0x4590be);});}['reload'](){this['loaded']&&(this['loaded']=!(0x14c0+-0x43*0x37+-0x65a),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x23f*-0x5+0x2588+-0x1a4d)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5b0d0b=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1b2c+-0x1ad2+-0x59),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x89dbe5=-0x961*-0x4+-0x2374*0x1+0xb*-0x30;_0x89dbe5<_0x5b0d0b['length'];++_0x89dbe5){const _0x401d32=_0x5b0d0b[_0x89dbe5];_0x401d32&&_0x401d32['destroy']&&_0x401d32['destroy']();}}static['fetchArray'+'Buffer'](_0x539069,_0x43ab5b,_0x1932cc,_0x30085d=0x327+-0x14cb+0x11a4){var _0x2d0909;(_0x2d0909=_0x1932cc==null?void(-0x1173*-0x1+0x1*-0x10cb+-0x7*0x18):_0x1932cc['file'])!=null&&_0x2d0909['contents']?setTimeout(()=>{_0x43ab5b(null,_0x1932cc['file']['contents']);}):ot['get'](_0x539069,{'cache':!(0x91*0x23+0x8c*-0x19+0x19*-0x3f),'responseType':'arraybuffe'+'r','retry':_0x30085d>-0x2425+-0x177+-0x1*-0x259c,'maxRetries':_0x30085d},_0x43ab5b);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x3be373=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x3be373;}['addItem'](_0x31ecf2){const _0x1f93b3=_0x31ecf2['tags']['_list'];for(const _0x2bd754 of _0x1f93b3)this['add'](_0x2bd754,_0x31ecf2);}['removeItem'](_0x1f70f9){const _0x1ed9c1=_0x1f70f9['tags']['_list'];for(const _0x579a91 of _0x1ed9c1)this['remove'](_0x579a91,_0x1f70f9);}['add'](_0x361c65,_0x379bc6){this['_index'][_0x361c65]&&this['_index'][_0x361c65]['list']['indexOf'](_0x379bc6)!==-(-0x415+-0x3db*-0xa+-0x2278)||(this['_index'][_0x361c65]||(this['_index'][_0x361c65]={'list':[]},this['_key']&&(this['_index'][_0x361c65]['keys']={})),this['_index'][_0x361c65]['list']['push'](_0x379bc6),this['_key']&&(this['_index'][_0x361c65]['keys'][_0x379bc6[this['_key']]]=_0x379bc6));}['remove'](_0x1398a6,_0x40f7b1){if(!this['_index'][_0x1398a6]||this['_key']&&!this['_index'][_0x1398a6]['keys'][_0x40f7b1[this['_key']]])return;const _0x54ed4b=this['_index'][_0x1398a6]['list']['indexOf'](_0x40f7b1);_0x54ed4b!==-(-0x11c5+0x1*-0x1072+0x2238)&&(this['_index'][_0x1398a6]['list']['splice'](_0x54ed4b,0x3*-0x93d+-0x1*-0x185+0x161*0x13),this['_key']&&delete this['_index'][_0x1398a6]['keys'][_0x40f7b1[this['_key']]],this['_index'][_0x1398a6]['list']['length']===-0x860+0xf40+-0x6e0&&delete this['_index'][_0x1398a6]);}['find'](_0x5b3c0e){const _0x20b7c2={},_0x5f515e=[];let _0x494568,_0x196f82,_0xad065,_0x4d0e7d,_0x321a60;const _0x6d58a8=(_0x4edad7,_0x4159cc)=>this['_index'][_0x4edad7]['list']['length']-this['_index'][_0x4159cc]['list']['length'];for(let _0x8faf92=-0x1*-0xd21+0x780+-0x14a1;_0x8faf92<_0x5b3c0e['length'];_0x8faf92++){if(_0x196f82=_0x5b3c0e[_0x8faf92],_0x196f82 instanceof Array){if(_0x196f82['length']===-0x161b+0x2550+-0xf35)continue;if(_0x196f82['length']===0x134a*0x2+0x5b*0x6d+-0x26a9*0x2)_0x196f82=_0x196f82[0x2*0x1+-0xeaa+0xea8];else{_0x321a60=!(-0x443+0x4c7*0x1+-0x83);for(let _0x4fcd92=-0x1779+-0x681*-0x1+0xb5*0x18;_0x4fcd92<_0x196f82['length'];_0x4fcd92++)if(!this['_index'][_0x196f82[_0x4fcd92]]){_0x321a60=!(0xe5f+-0x9f*-0x1b+-0x1f24);break;}if(_0x321a60)continue;_0xad065=_0x196f82['slice'](-0x5ec+-0x1b0a*0x1+0x20f6)['sort'](_0x6d58a8),_0x4d0e7d=_0xad065['slice'](-0x2e*0x67+0xb2e+0x755),_0x4d0e7d['length']===-0x425*-0x7+0x845*-0x3+-0xd7*0x5&&(_0x4d0e7d=_0x4d0e7d[-0xcba+-0x1563+0x221d]);for(let _0x20c9a6=0xe1e+0x15c3+-0x23e1;_0x20c9a6<this['_index'][_0xad065[0x1*0x1+-0x11da+-0x11d9*-0x1]]['list']['length'];_0x20c9a6++)_0x494568=this['_index'][_0xad065[0x107e*-0x1+-0x5*0x7a4+0x36b2]]['list'][_0x20c9a6],(this['_key']?!_0x20b7c2[_0x494568[this['_key']]]:_0x5f515e['indexOf'](_0x494568)===-(-0x1b8e+-0x1*0xa2d+0x46*0x8a))&&_0x494568['tags']['has'](_0x4d0e7d)&&(this['_key']&&(_0x20b7c2[_0x494568[this['_key']]]=!(-0x593*-0x5+-0x42d*0x1+0x2a2*-0x9)),_0x5f515e['push'](_0x494568));continue;}}if(_0x196f82&&typeof _0x196f82=='string'&&this['_index'][_0x196f82]){for(let _0x3e00a4=0x14ec+0x2b4*0x4+0x7ef*-0x4;_0x3e00a4<this['_index'][_0x196f82]['list']['length'];_0x3e00a4++)_0x494568=this['_index'][_0x196f82]['list'][_0x3e00a4],this['_key']?_0x20b7c2[_0x494568[this['_key']]]||(_0x20b7c2[_0x494568[this['_key']]]=!(0x35*0x41+0x13*0x18d+-0x2aec),_0x5f515e['push'](_0x494568)):_0x5f515e['indexOf'](_0x494568)===-(-0x1*-0x22b6+0xc1e+-0x2ed3)&&_0x5f515e['push'](_0x494568);}}return _0x5f515e;}}class mn extends me{constructor(_0x233b71){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x233b71;}['list'](_0xc304e={}){const _0x21e8d6=Array['from'](this['_assets']);return _0xc304e['preload']!==void(0x225a*-0x1+-0x464+-0x20a*-0x13)?_0x21e8d6['filter'](_0x380d3c=>_0x380d3c['preload']===_0xc304e['preload']):_0x21e8d6;}['add'](_0x2af1ce){var _0x2ebb61,_0x38dac1;this['_assets']['has'](_0x2af1ce)||(this['_assets']['add'](_0x2af1ce),this['_idToAsset']['set'](_0x2af1ce['id'],_0x2af1ce),(_0x2ebb61=_0x2af1ce['file'])!=null&&_0x2ebb61['url']&&this['_urlToAsse'+'t']['set'](_0x2af1ce['file']['url'],_0x2af1ce),this['_nameToAss'+'et']['has'](_0x2af1ce['name'])||this['_nameToAss'+'et']['set'](_0x2af1ce['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2af1ce['name'])['add'](_0x2af1ce),_0x2af1ce['on']('name',this['_onNameCha'+'nge'],this),_0x2af1ce['registry']=this,this['_tags']['addItem'](_0x2af1ce),_0x2af1ce['tags']['on']('add',this['_onTagAdd'],this),_0x2af1ce['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2af1ce),this['fire']('add:'+_0x2af1ce['id'],_0x2af1ce),(_0x38dac1=_0x2af1ce['file'])!=null&&_0x38dac1['url']&&this['fire']('add:url:'+_0x2af1ce['file']['url'],_0x2af1ce),_0x2af1ce['preload']&&this['load'](_0x2af1ce));}['remove'](_0x1ee1e2){var _0x4bbda1,_0x331163;if(!this['_assets']['has'](_0x1ee1e2))return!(-0x1c3b+0x938+0x4c1*0x4);if(this['_assets']['delete'](_0x1ee1e2),this['_idToAsset']['delete'](_0x1ee1e2['id']),(_0x4bbda1=_0x1ee1e2['file'])!=null&&_0x4bbda1['url']&&this['_urlToAsse'+'t']['delete'](_0x1ee1e2['file']['url']),_0x1ee1e2['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x1ee1e2['name'])){const _0x5383eb=this['_nameToAss'+'et']['get'](_0x1ee1e2['name']);_0x5383eb['delete'](_0x1ee1e2),_0x5383eb['size']===0x1ed7+0xe2a+-0x2d01&&this['_nameToAss'+'et']['delete'](_0x1ee1e2['name']);}return this['_tags']['removeItem'](_0x1ee1e2),_0x1ee1e2['tags']['off']('add',this['_onTagAdd'],this),_0x1ee1e2['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x1ee1e2['fire']('remove',_0x1ee1e2),this['fire']('remove',_0x1ee1e2),this['fire']('remove:'+_0x1ee1e2['id'],_0x1ee1e2),(_0x331163=_0x1ee1e2['file'])!=null&&_0x331163['url']&&this['fire']('remove:url'+':'+_0x1ee1e2['file']['url'],_0x1ee1e2),!(-0x1*0xc9b+-0x1591*0x1+-0x4*-0x88b);}['get'](_0x455b60){return this['_idToAsset']['get'](Number(_0x455b60));}['getByUrl'](_0x334918){return this['_urlToAsse'+'t']['get'](_0x334918);}['load'](_0x40ec6f,_0x67a110){if((_0x40ec6f['loading']||_0x40ec6f['loaded'])&&!(_0x67a110!=null&&_0x67a110['force']))return;const _0x5024ed=_0x40ec6f['file'],_0x3a19ee=()=>{this['fire']('load',_0x40ec6f),this['fire']('load:'+_0x40ec6f['id'],_0x40ec6f),_0x5024ed&&_0x5024ed['url']&&this['fire']('load:url:'+_0x5024ed['url'],_0x40ec6f),_0x40ec6f['fire']('load',_0x40ec6f);},_0x35148b=_0x569bc8=>{if(_0x569bc8 instanceof Array?_0x40ec6f['resources']=_0x569bc8:_0x40ec6f['resource']=_0x569bc8,this['_loader']['patch'](_0x40ec6f,this),_0x40ec6f['type']==='bundle'){const _0x195f73=_0x40ec6f['data']['assets'];for(let _0x3b9f1a=-0x72b+-0x3*-0xb1b+-0x2*0xd13;_0x3b9f1a<_0x195f73['length'];_0x3b9f1a++){const _0x467a30=this['_idToAsset']['get'](_0x195f73[_0x3b9f1a]);_0x467a30&&!_0x467a30['loaded']&&this['load'](_0x467a30,{'force':!(0x2137+0x484+-0x2e7*0xd)});}_0x40ec6f['resource']['loaded']?_0x3a19ee():(this['fire']('load:start',_0x40ec6f),this['fire']('load:start'+':'+_0x40ec6f['id'],_0x40ec6f),_0x5024ed&&_0x5024ed['url']&&this['fire']('load:start'+':url:'+_0x5024ed['url'],_0x40ec6f),_0x40ec6f['fire']('load:start',_0x40ec6f),_0x40ec6f['resource']['on']('load',_0x3a19ee));}else _0x3a19ee();},_0x2ca116=(_0x36089e,_0x1848ec,_0x1102d3)=>{if(_0x40ec6f['loaded']=!(-0x5*-0x67f+-0x1*0x125e+0x1*-0xe1d),_0x40ec6f['loading']=!(-0x1dc2*0x1+0x242c+0x223*-0x3),_0x36089e)this['fire']('error',_0x36089e,_0x40ec6f),this['fire']('error:'+_0x40ec6f['id'],_0x36089e,_0x40ec6f),_0x40ec6f['fire']('error',_0x36089e,_0x40ec6f);else{if(_0x40ec6f['type']==='script'){const _0x4c16de=this['_loader']['getHandler']('script');_0x4c16de['_cache'][_0x40ec6f['id']]&&_0x4c16de['_cache'][_0x40ec6f['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x4c16de['_cache'][_0x40ec6f['id']]),_0x4c16de['_cache'][_0x40ec6f['id']]=_0x1102d3;}_0x35148b(_0x1848ec);}};if(_0x5024ed||_0x40ec6f['type']==='cubemap'){this['fire']('load:start',_0x40ec6f),this['fire']('load:'+_0x40ec6f['id']+':start',_0x40ec6f),_0x40ec6f['loading']=!(0x1d*0x124+-0x10*0xf4+0x2*-0x8ea);const _0x3a48ce=_0x40ec6f['getFileUrl']();if(_0x40ec6f['type']==='bundle'){const _0x58d7ac=_0x40ec6f['data']['assets'];for(let _0x3d7a93=-0x7*-0x3e5+0x1f6f+-0x3ab2*0x1;_0x3d7a93<_0x58d7ac['length'];_0x3d7a93++){const _0x35ece3=this['_idToAsset']['get'](_0x58d7ac[_0x3d7a93]);_0x35ece3&&(_0x35ece3['loaded']||_0x35ece3['resource']||_0x35ece3['loading']||(_0x35ece3['loading']=!(0xe4d*-0x2+0x1914+0x386)));}}this['_loader']['load'](_0x3a48ce,_0x40ec6f['type'],_0x2ca116,_0x40ec6f,_0x67a110);}else{const _0x475d7d=this['_loader']['open'](_0x40ec6f['type'],_0x40ec6f['data']);_0x40ec6f['loaded']=!(0xecf*-0x2+0x3*-0x15b+0x21af),_0x35148b(_0x475d7d);}}['reloadInde'+'x'](_0x3bfb10,_0xff7f56,_0x550751){const _0x36a2a6=(_0x3acd01,_0x42b433,_0x1fec2a)=>{_0xff7f56['loaded']=!(0x7*0x1de+-0x1564+-0x1aa*-0x5),_0xff7f56['loading']=!(-0x5db*-0x1+-0xb15+0x53b);};return this['_loader']['load'](_0x3bfb10,_0xff7f56['type'],_0x36a2a6,_0xff7f56,_0x550751),_0xff7f56;}['loadFromUr'+'l'](_0x25c36f,_0x21b937,_0x3bbda7){this['loadFromUr'+'lAndFilena'+'me'](_0x25c36f,null,_0x21b937,_0x3bbda7);}['loadFromUr'+'lAndFilena'+'me'](_0x3d8219,_0x5283fc,_0x3a8566,_0x267365){const _0x78e1b0=xe['getBasenam'+'e'](_0x5283fc||_0x3d8219),_0x447e2a={'filename':_0x5283fc||_0x78e1b0,'url':_0x3d8219};let _0x5abf69=this['getByUrl'](_0x3d8219);if(!_0x5abf69)_0x5abf69=new pe(_0x78e1b0,_0x3a8566,_0x447e2a),this['add'](_0x5abf69);else{if(_0x5abf69['loaded']){_0x267365(_0x5abf69['loadFromUr'+'lError']||null,_0x5abf69);return;}}const _0x37b00a=_0x5fe33e=>{_0x5fe33e['once']('load',_0x488fa6=>{_0x3a8566==='material'?this['_loadTextu'+'res'](_0x488fa6,(_0x53c49d,_0x424342)=>{_0x267365(_0x53c49d,_0x488fa6);}):_0x267365(null,_0x488fa6);}),_0x5fe33e['once']('error',_0x2a77cd=>{_0x2a77cd&&(this['loadFromUr'+'lError']=_0x2a77cd),_0x267365(_0x2a77cd,_0x5fe33e);}),this['load'](_0x5fe33e);};_0x5abf69['resource']?_0x267365(null,_0x5abf69):_0x3a8566==='model'?this['_loadModel'](_0x5abf69,_0x37b00a):_0x37b00a(_0x5abf69);}['_loadModel'](_0x458bdf,_0x5ef76c){const _0xe9a430=_0x458bdf['getFileUrl'](),_0x4394b7=xe['getExtensi'+'on'](_0xe9a430);if(_0x4394b7==='.json'||_0x4394b7==='.glb'){const _0x7b5793=xe['getDirecto'+'ry'](_0xe9a430),_0xcad2e9=xe['getBasenam'+'e'](_0xe9a430),_0x44a02b=xe['join'](_0x7b5793,_0xcad2e9['replace'](_0x4394b7,'.mapping.j'+'son'));this['_loader']['load'](_0x44a02b,'json',(_0x31a1aa,_0x117d43)=>{_0x31a1aa?(_0x458bdf['data']={'mapping':[]},_0x5ef76c(_0x458bdf)):this['_loadMater'+'ials'](_0x458bdf,_0x117d43,(_0x46d656,_0x474557)=>{_0x458bdf['data']=_0x117d43,_0x5ef76c(_0x458bdf);});});}else _0x5ef76c(_0x458bdf);}['_loadMater'+'ials'](_0x25a10d,_0x8b6686,_0x30746d){const _0x70b7f4=[];let _0x438c34=-0x3dd*0x7+-0x79d*-0x2+0xbd1;const _0x500a80=(_0x56e7dc,_0x26ee04)=>{this['_loadTextu'+'res'](_0x26ee04,(_0x1bccad,_0x383b55)=>{_0x70b7f4['push'](_0x26ee04),_0x70b7f4['length']===_0x438c34&&_0x30746d(null,_0x70b7f4);});};for(let _0x8762ae=-0x206e+0x1277+0xdf7;_0x8762ae<_0x8b6686['mapping']['length'];_0x8762ae++){const _0x2a45de=_0x8b6686['mapping'][_0x8762ae]['path'];if(_0x2a45de){_0x438c34++;const _0x6dacad=_0x25a10d['getAbsolut'+'eUrl'](_0x2a45de);this['loadFromUr'+'l'](_0x6dacad,'material',_0x500a80);}}_0x438c34===-0x6d+-0x1186*-0x1+-0x1*0x1119&&_0x30746d(null,_0x70b7f4);}['_loadTextu'+'res'](_0x3b8094,_0x32e31b){const _0x492024=[];let _0x105076=0x4*0xb3+-0x1af6+0x2*0xc15;const _0x3cc9d9=_0x3b8094['data'];if(_0x3cc9d9['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x3b8094['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x32e31b(null,_0x492024);return;}const _0x9a8e20=(_0x237a86,_0x45e992)=>{_0x237a86&&console['error'](_0x237a86),_0x492024['push'](_0x45e992),_0x492024['length']===_0x105076&&_0x32e31b(null,_0x492024);},_0x564c1c=Cd;for(let _0x1ff717=-0x17*0x25+-0x4c1*0x5+0x22*0xcc;_0x1ff717<_0x564c1c['length'];_0x1ff717++){const _0x642dcd=_0x3cc9d9[_0x564c1c[_0x1ff717]];if(_0x642dcd&&typeof _0x642dcd=='string'){_0x105076++;const _0x206590=_0x3b8094['getAbsolut'+'eUrl'](_0x642dcd);this['loadFromUr'+'l'](_0x206590,'texture',_0x9a8e20);}}_0x105076===-0x1a49+-0x5cf*0x1+0x9e*0x34&&_0x32e31b(null,_0x492024);}['_onTagAdd'](_0x2454ef,_0x55e592){this['_tags']['add'](_0x2454ef,_0x55e592);}['_onTagRemo'+'ve'](_0x36cb55,_0x20735c){this['_tags']['remove'](_0x36cb55,_0x20735c);}['_onNameCha'+'nge'](_0x511372,_0x3ddba8,_0x3a2a09){if(this['_nameToAss'+'et']['has'](_0x3a2a09)){const _0x49473b=this['_nameToAss'+'et']['get'](_0x3a2a09);_0x49473b['delete'](_0x511372),_0x49473b['size']===-0x2d*0x63+0x2*-0x347+0x17f5&&this['_nameToAss'+'et']['delete'](_0x3a2a09);}this['_nameToAss'+'et']['has'](_0x511372['name'])||this['_nameToAss'+'et']['set'](_0x511372['name'],new Set()),this['_nameToAss'+'et']['get'](_0x511372['name'])['add'](_0x511372);}['findByTag'](..._0x21479d){return this['_tags']['find'](_0x21479d);}['filter'](_0x19c913){return Array['from'](this['_assets'])['filter'](_0x15dcbf=>_0x19c913(_0x15dcbf));}['find'](_0x1bf683,_0x2cddd7){const _0x1ae5c0=this['_nameToAss'+'et']['get'](_0x1bf683);if(!_0x1ae5c0)return null;for(const _0x2d5273 of _0x1ae5c0)if(!_0x2cddd7||_0x2d5273['type']===_0x2cddd7)return _0x2d5273;return null;}['findAll'](_0x59b78d,_0x56b795){const _0x18606e=this['_nameToAss'+'et']['get'](_0x59b78d);if(!_0x18606e)return[];const _0xd97118=Array['from'](_0x18606e);return _0x56b795?_0xd97118['filter'](_0x29cf40=>_0x29cf40['type']===_0x56b795):_0xd97118;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x430600){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x430600,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x5d85de){if(_0x5d85de['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x5d85de['id'],_0x5d85de),this['_assets']['on']('load:start'+':'+_0x5d85de['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x5d85de['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x5d85de['id'],this['_onBundleE'+'rror'],this);const _0x2ca0a4=_0x5d85de['data']['assets'];for(let _0x2d17a8=0x1e4a+0x11ad+0xffd*-0x3;_0x2d17a8<_0x2ca0a4['length'];_0x2d17a8++)this['_indexAsse'+'tInBundle'](_0x2ca0a4[_0x2d17a8],_0x5d85de);}else this['_assetToBu'+'ndles']['has'](_0x5d85de['id'])&&this['_indexAsse'+'tFileUrls'](_0x5d85de);}['_unbindAss'+'etEvents'](_0x262108){this['_assets']['off']('load:start'+':'+_0x262108,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x262108,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x262108,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x454520,_0x4d0b63){let _0x21c593=this['_assetToBu'+'ndles']['get'](_0x454520);_0x21c593||(_0x21c593=new Set(),this['_assetToBu'+'ndles']['set'](_0x454520,_0x21c593)),_0x21c593['add'](_0x4d0b63);const _0x15aecf=this['_assets']['get'](_0x454520);_0x15aecf&&this['_indexAsse'+'tFileUrls'](_0x15aecf);}['_indexAsse'+'tFileUrls'](_0x36db8a){const _0x57fd03=this['_getAssetF'+'ileUrls'](_0x36db8a);if(_0x57fd03)for(let _0x519333=-0x1b0f+0x109b+-0x6*-0x1be;_0x519333<_0x57fd03['length'];_0x519333++){const _0x1732c5=this['_assetToBu'+'ndles']['get'](_0x36db8a['id']);_0x1732c5&&this['_urlsToBun'+'dles']['set'](_0x57fd03[_0x519333],_0x1732c5);}}['_getAssetF'+'ileUrls'](_0x3ceb49){let _0x3a1acc=_0x3ceb49['getFileUrl']();if(!_0x3a1acc)return null;_0x3a1acc=_0x3a1acc['split']('?')[-0x3bd+0x16d9+0x4c7*-0x4];const _0x218085=[_0x3a1acc];if(_0x3ceb49['type']==='font'){const _0x5e3134=_0x3ceb49['data']['info']['maps']['length'];for(let _0x4908b1=-0x1*0x6df+0x8a8*-0x2+0x1830;_0x4908b1<_0x5e3134;_0x4908b1++)_0x218085['push'](_0x3a1acc['replace']('.png',_0x4908b1+'.png'));}return _0x218085;}['_onAssetRe'+'move'](_0x4ed3ee){if(_0x4ed3ee['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x4ed3ee['id']),this['_unbindAss'+'etEvents'](_0x4ed3ee['id']);const _0x543051=_0x4ed3ee['data']['assets'];for(let _0x59a433=-0x37d*0x6+-0x272+0x220*0xb;_0x59a433<_0x543051['length'];_0x59a433++){const _0x234ffc=this['_assetToBu'+'ndles']['get'](_0x543051[_0x59a433]);if(_0x234ffc&&(_0x234ffc['delete'](_0x4ed3ee),_0x234ffc['size']===-0x26df+-0x1195*0x1+0xe1d*0x4)){this['_assetToBu'+'ndles']['delete'](_0x543051[_0x59a433]);for(const [_0xb67308,_0x37298e]of this['_urlsToBun'+'dles'])_0x37298e===_0x234ffc&&this['_urlsToBun'+'dles']['delete'](_0xb67308);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x4ed3ee['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x4ed3ee['id']))return;this['_assetToBu'+'ndles']['delete'](_0x4ed3ee['id']);const _0x51e095=this['_getAssetF'+'ileUrls'](_0x4ed3ee);if(!_0x51e095)return;for(let _0x20ce23=0x1b9d+-0x1*0x1988+-0x215;_0x20ce23<_0x51e095['length'];_0x20ce23++)this['_urlsToBun'+'dles']['delete'](_0x51e095[_0x20ce23]);}}['_onBundleL'+'oadStart'](_0x181f47){_0x181f47['resource']['on']('add',(_0x512056,_0x42b7be)=>{const _0x145637=this['_fileReque'+'sts']['get'](_0x512056);if(_0x145637){for(let _0x5a5063=-0x8*0x7a+-0x9d7*-0x3+0x1*-0x19b5;_0x5a5063<_0x145637['length'];_0x5a5063++)_0x145637[_0x5a5063](null,_0x42b7be);this['_fileReque'+'sts']['delete'](_0x512056);}});}['_onBundleL'+'oad'](_0x40fe7b){if(!_0x40fe7b['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x40fe7b['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0xf147e1,_0x576a51]of this['_fileReque'+'sts']){const _0x55ed5b=this['_urlsToBun'+'dles']['get'](_0xf147e1);if(!_0x55ed5b||!_0x55ed5b['has'](_0x40fe7b))continue;const _0x46486c=decodeURIComponent(_0xf147e1);let _0x114254,_0x3d7958;if(_0x40fe7b['resource']['has'](_0x46486c))_0x3d7958=_0x40fe7b['resource']['get'](_0x46486c);else{if(_0x40fe7b['resource']['loaded'])_0x114254='Bundle\x20'+_0x40fe7b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xf147e1;else continue;}for(let _0x58d1e7=0x2622+-0x15a0+0x2*-0x841;_0x58d1e7<_0x576a51['length'];_0x58d1e7++)_0x576a51[_0x58d1e7](_0x114254,_0x114254||_0x3d7958);this['_fileReque'+'sts']['delete'](_0xf147e1);}}['_onBundleE'+'rror'](_0x59b744){for(const [_0x38d416,_0x1293dd]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x38d416)){for(let _0xbc6f6a=0x181*-0xa+0x80c+-0x1*-0x6fe;_0xbc6f6a<_0x1293dd['length'];_0xbc6f6a++)_0x1293dd[_0xbc6f6a](_0x59b744);this['_fileReque'+'sts']['delete'](_0x38d416);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x29c432){const _0x3de50d=this['_urlsToBun'+'dles']['get'](_0x29c432);if(!_0x3de50d)return null;let _0x27027a=null;for(const _0x3373d7 of _0x3de50d){if(_0x3373d7['loaded']&&_0x3373d7['resource'])return _0x3373d7;_0x3373d7['loading']&&(_0x27027a=_0x3373d7);}return _0x27027a;}['listBundle'+'sForAsset'](_0x502de1){const _0x19faa4=this['_assetToBu'+'ndles']['get'](_0x502de1['id']);return _0x19faa4?Array['from'](_0x19faa4):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x56a3e8){return this['_urlsToBun'+'dles']['has'](_0x56a3e8);}['urlIsLoade'+'dOrLoading'](_0x5de3f0){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5de3f0);}['loadUrl'](_0x16789a,_0x210717){const _0x1ef9a0=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x16789a);if(!_0x1ef9a0){_0x210717('URL\x20'+_0x16789a+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x1ef9a0['loaded']){const _0x1939a6=decodeURIComponent(_0x16789a);if(_0x1ef9a0['resource']['has'](_0x1939a6)){_0x210717(null,_0x1ef9a0['resource']['get'](_0x1939a6));return;}else{if(_0x1ef9a0['resource']['loaded']){_0x210717('Bundle\x20'+_0x1ef9a0['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x16789a);return;}}}let _0x217e20=this['_fileReque'+'sts']['get'](_0x16789a);_0x217e20||(_0x217e20=[],this['_fileReque'+'sts']['set'](_0x16789a,_0x217e20)),_0x217e20['push'](_0x210717);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x3245e3 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x3245e3);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x505c4c){const _0x3c7d8f=_0x505c4c['id'];if(this[_0x3c7d8f])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x3c7d8f+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x3c7d8f]=_0x505c4c,this['list']['push'](_0x505c4c);}['remove'](_0x39c059){const _0x3d87bd=_0x39c059['id'];if(!this[_0x3d87bd])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x3d87bd+('\x27\x20register'+'ed'));delete this[_0x3d87bd];const _0x3a1497=this['list']['indexOf'](this[_0x3d87bd]);_0x3a1497!==-(-0x132+0x5c9*0x5+0x2*-0xddd)&&this['list']['splice'](_0x3a1497,0x1*-0x12b3+0x515*-0x2+0x1*0x1cde);}['destroy'](){this['off']();for(let _0x260c25=0x2d*-0x75+-0x2*0xb6+-0x15fd*-0x1;_0x260c25<this['list']['length'];_0x260c25++)this['list'][_0x260c25]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x1*-0x1b1f+0x6*0xcc+0x82*0x2c));}['addFile'](_0x4f9722,_0x23514b){this['_index']['has'](_0x4f9722)||(this['_index']['set'](_0x4f9722,_0x23514b),this['fire']('add',_0x4f9722,_0x23514b));}['has'](_0x2773f3){return this['_index']['has'](_0x2773f3);}['get'](_0x5ef8c2){return this['_index']['get'](_0x5ef8c2)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x15ec94){!_0x15ec94||this['_loaded']||(this['_loaded']=!(0x5*0x46d+-0xbe6+-0x61*0x1b),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x5f519b,_0x4d1376=''){super(),h(this,'headerSize',-0x3*-0xbb9+0x1c50+0x1*-0x3d7b),h(this,'paddingSiz'+'e',-0x1e11+-0x24f3*0x1+0x4504),h(this,'bytesRead',-0x2088+-0xbc3*-0x3+-0x2c1),h(this,'bytesRecei'+'ved',0x1*-0x41+0x20f1+-0x20b0),h(this,'headerRead',!(-0x997*-0x1+-0x1c0d+0x1277)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x11ef+0x35*0x3f+0x4e4)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x1a3*-0x8+0x1*-0xbc3+-0x1*0x155),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x4d1376||'',this['reader']=_0x5f519b['body']['getReader'](),this['reader']['read']()['then'](_0x4bf7c5=>{this['pump'](_0x4bf7c5['done'],_0x4bf7c5['value']);})['catch'](_0x427501=>{this['fire']('error',_0x427501);}));}['pump'](_0x29d52c,_0x45c679){if(_0x29d52c)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x45c679['byteLength'];const _0x2154aa=new Uint8Array(this['data']['length']+_0x45c679['length']);for(_0x2154aa['set'](this['data']),_0x2154aa['set'](_0x45c679,this['data']['length']),this['data']=_0x2154aa;this['readFile'](););return this['reader']['read']()['then'](_0x4f89fa=>{this['pump'](_0x4f89fa['done'],_0x4f89fa['value']);})['catch'](_0x117d21=>{this['fire']('error',_0x117d21);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x471+0x3*-0x22d+0xaf8);const _0x1c1caa=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x473817=this['decoder']['decode'](_0x1c1caa);if(this['fileName']=_0x473817['substring'](-0x2*0xbca+-0x12af*-0x2+-0xdca,0xce7+0x1b8f*0x1+-0x2*0x1409)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x473817['substring'](0x121f+-0x199a+0x7f7,-0x45e*0x3+0x1*-0x135d+0x20ff),-0x26e*-0xb+-0x3*0x245+0x1*-0x13e3),this['fileType']=_0x473817['substring'](0x8f5+-0x142b+-0xbd2*-0x1,-0x9b*-0x2b+-0x20e3*-0x1+-0x3a4f),this['ustarForma'+'t']=_0x473817['substring'](0x26a5+-0x399*-0x6+-0x3b3a,0x1*0x581+0x20b3+-0x252d),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x14bd*0x1+-0x1bf9+-0x3*-0x103d)){const _0x16d027=_0x473817['substring'](0x9f0+-0x57e*-0x5+-0x240d,-0x119*0x13+0x1b5*-0x7+-0x6*-0x5cb)['replace'](/\0/g,'');_0x16d027['length']>-0x19d3+-0x2b*-0x73+-0x2*-0x341&&(this['fileName']=_0x16d027['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1*0x971+-0xa0*-0x3b+-0x2c51;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x9*0x1af+0x17fe+-0x2724);if(this['fileType']===''||this['fileType']==='0'){const _0x5b8242=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x3d58d9={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x5b8242};this['fire']('file',_0x3d58d9);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x19a0+-0x265+0x22*0xd3);const _0x684fa=this['bytesRead']%this['paddingSiz'+'e'];return _0x684fa!==-0xe55+0x1cd2+-0xe7d&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x684fa),!(0x475+-0x1a*-0xaa+0x1*-0x15b9);}return!(-0xfbf+0x51e+-0x551*-0x2);}}class Qe{constructor(_0x33c9c8,_0x59f283){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x212a+0x547*-0x5+-0x6c7),(this['_app']=_0x33c9c8,this['handlerTyp'+'e']=_0x59f283);}set['maxRetries'](_0x3b5b10){this['_maxRetrie'+'s']=_0x3b5b10;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x2f4c32,_0x4e3401,_0x49e643){}['open'](_0x54d437,_0x3bafa1,_0x519f08){return _0x3bafa1;}['patch'](_0x5f0016,_0x19a2de){}}class VC extends Qe{constructor(_0x4a1c33){super(_0x4a1c33,'bundle'),this['_assets']=_0x4a1c33['assets'];}['_fetchRetr'+'ies'](_0x494458,_0x3ec03e,_0x496dd7=-0xfa*-0xb+0x1*0x266f+0x1*-0x312d){return new Promise((_0x252b7d,_0x261de8)=>{const _0x18a429=()=>{fetch(_0x494458,_0x3ec03e)['then'](_0x252b7d)['catch'](_0x1c5f0c=>{_0x496dd7++,_0x496dd7<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x496dd7),_0x18a429()):_0x261de8(_0x1c5f0c);});};_0x18a429();});}['load'](_0x25aa19,_0x19cc69){typeof _0x25aa19=='string'&&(_0x25aa19={'load':_0x25aa19,'original':_0x25aa19}),this['_fetchRetr'+'ies'](_0x25aa19['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x5036f8=>{const _0x1ed119=new gu();_0x19cc69(null,_0x1ed119);const _0x5e02fb=new zC(_0x5036f8,this['_assets']['prefix']);_0x5e02fb['on']('file',_0x468bec=>{_0x1ed119['addFile'](_0x468bec['name'],_0x468bec['data']);}),_0x5e02fb['on']('done',()=>{_0x1ed119['loaded']=!(-0x1*0x11ff+0x1186*-0x1+-0x3*-0xbd7);}),_0x5e02fb['on']('error',_0x3b5bf4=>{w['error'](_0x3b5bf4),_0x19cc69(_0x3b5bf4);});})['catch'](_0x3b6047=>{w['error'](_0x3b6047),_0x19cc69(_0x3b6047);});}['open'](_0x4f91a7,_0x5def7d){return _0x5def7d;}}class Cn{constructor(_0x37067b){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x37067b;}['addHandler'](_0x1a6260,_0x4314ce){this['_handlers'][_0x1a6260]=_0x4314ce,_0x4314ce['_loader']=this;}['removeHand'+'ler'](_0x24fe8d){delete this['_handlers'][_0x24fe8d];}['getHandler'](_0x3d8ae6){return this['_handlers'][_0x3d8ae6];}static['makeKey'](_0x2a59d2,_0x2df83d){return _0x2a59d2+'-'+_0x2df83d;}['load'](_0x55be37,_0x2f50c0,_0x313810,_0x28614f,_0x3ac2b4){var _0x463d86;const _0x100e9d=this['_handlers'][_0x2f50c0];if(!_0x100e9d){const _0x438516='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x2f50c0+('\x27\x20when\x20loa'+'ding\x20[')+_0x55be37+']';w['errorOnce'](_0x438516),_0x313810(_0x438516);return;}if(!_0x55be37){this['_loadNull'](_0x100e9d,_0x313810,_0x28614f);return;}const _0x290b42=Cn['makeKey'](_0x55be37,_0x2f50c0);if(this['_requests'][_0x290b42])this['_requests'][_0x290b42]['push'](_0x313810);else{this['_requests'][_0x290b42]=[_0x313810];const _0xef98aa=this,_0x5273fc=function(_0xd8f474,_0x591956){if(_0xd8f474){_0xef98aa['_onFailure'](_0x290b42,_0xd8f474);return;}if(_0x591956['load']instanceof DataView){if(_0x100e9d['openBinary']){if(!_0xef98aa['_requests'][_0x290b42])return;try{const _0x129c69=_0x100e9d['openBinary'](_0x591956['load']);_0xef98aa['_onSuccess'](_0x290b42,_0x129c69);}catch(_0xdcac3d){_0xef98aa['_onFailure'](_0x290b42,_0xdcac3d);}return;}_0x591956['load']=URL['createObje'+'ctURL'](new Blob([_0x591956['load']])),_0x28614f&&(_0x28614f['urlObject']&&URL['revokeObje'+'ctURL'](_0x28614f['urlObject']),_0x28614f['urlObject']=_0x591956['load']);}_0x100e9d['load'](_0x591956,(_0x132ae6,_0x4486f1,_0x2023bd)=>{if(_0xef98aa['_requests'][_0x290b42]){if(_0x132ae6){_0xef98aa['_onFailure'](_0x290b42,_0x132ae6);return;}try{_0xef98aa['_onSuccess'](_0x290b42,_0x100e9d['open'](_0x591956['original'],_0x4486f1,_0x28614f),_0x2023bd);}catch(_0x3d10ba){_0xef98aa['_onFailure'](_0x290b42,_0x3d10ba);}}},_0x28614f);},_0x59cf5b=_0x55be37['split']('?')[-0x8d5*-0x1+0x26bb*0x1+0x2f9*-0x10];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x59cf5b)&&!(_0x3ac2b4&&_0x3ac2b4['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x59cf5b)){const _0x517948=this['_app']['bundles']['listBundle'+'sForAsset'](_0x28614f);let _0x36a912;_0x3ac2b4&&_0x3ac2b4['bundlesFil'+'ter']&&(_0x36a912=_0x3ac2b4['bundlesFil'+'ter'](_0x517948)),_0x36a912||(_0x517948==null||_0x517948['sort']((_0xef2d4e,_0x583ed5)=>_0xef2d4e['file']['size']-_0x583ed5['file']['size']),_0x36a912=_0x517948==null?void(0x1*-0x27e+-0x119f*-0x1+0xf21*-0x1):_0x517948[-0x3c1*0x3+-0x18ec*0x1+0x242f]),_0x36a912&&((_0x463d86=this['_app']['assets'])==null||_0x463d86['load'](_0x36a912));}this['_app']['bundles']['loadUrl'](_0x59cf5b,(_0x4c4834,_0x4685f9)=>{_0x5273fc(_0x4c4834,{'load':_0x4685f9,'original':_0x59cf5b});});}else _0x5273fc(null,{'load':_0x55be37,'original':_0x28614f&&_0x28614f['file']['filename']||_0x55be37});}}['_loadNull'](_0x3ae7a0,_0x522657,_0x5bffc0){const _0x27ae98=function(_0x476de1,_0x520446,_0x2aacb6){if(_0x476de1)_0x522657(_0x476de1);else try{_0x522657(null,_0x3ae7a0['open'](null,_0x520446,_0x5bffc0),_0x2aacb6);}catch(_0x59c116){_0x522657(_0x59c116);}};_0x3ae7a0['load'](null,_0x27ae98,_0x5bffc0);}['_onSuccess'](_0xd119f5,_0x3ed57a,_0x141b99){for(let _0x325335=0xca2+0x10*-0x1c7+0xfce;_0x325335<this['_requests'][_0xd119f5]['length'];_0x325335++)this['_requests'][_0xd119f5][_0x325335](null,_0x3ed57a,_0x141b99);delete this['_requests'][_0xd119f5];}['_onFailure'](_0x2b632c,_0x5cd173){if(console['error'](_0x5cd173),this['_requests'][_0x2b632c]){for(let _0xa95a61=0xca1*0x1+0x1a66+-0x1*0x2707;_0xa95a61<this['_requests'][_0x2b632c]['length'];_0xa95a61++)this['_requests'][_0x2b632c][_0xa95a61](_0x5cd173);delete this['_requests'][_0x2b632c];}}['open'](_0x2289db,_0x5c88f4){const _0xb093fd=this['_handlers'][_0x2289db];return _0xb093fd?_0xb093fd['open'](null,_0x5c88f4):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2289db),_0x5c88f4);}['patch'](_0x3b547b,_0x52fd96){const _0x5db491=this['_handlers'][_0x3b547b['type']];if(!_0x5db491){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3b547b['type']);return;}_0x5db491['patch']&&_0x5db491['patch'](_0x3b547b,_0x52fd96);}['clearCache'](_0x38e8b7,_0x140466){const _0x249171=Cn['makeKey'](_0x38e8b7,_0x140466);delete this['_cache'][_0x249171];}['getFromCac'+'he'](_0x577a80,_0x50d41d){const _0x27a0f3=Cn['makeKey'](_0x577a80,_0x50d41d);if(this['_cache'][_0x27a0f3])return this['_cache'][_0x27a0f3];}['enableRetr'+'y'](_0x515905=-0x3*-0x7e3+0x3*0x17d+-0x1c1b){_0x515905=Math['max'](-0x259f*-0x1+0x1*-0x13ac+-0x11f3,_0x515905)||-0xfd4+-0x520+0x14f4;for(const _0x428882 in this['_handlers'])this['_handlers'][_0x428882]['maxRetries']=_0x515905;}['disableRet'+'ry'](){for(const _0x1d4e2b in this['_handlers'])this['_handlers'][_0x1d4e2b]['maxRetries']=-0xc1*-0x7+0x3*0xb01+-0x179*0x1a;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0xa2025){if(!_0xa2025['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xa2025['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xa2025['header']['version']!==-0x329+0x2275+-0x1f4b)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xa2025['data']){if(!Array['isArray'](_0xa2025['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x5057c5=-0x9da+-0x1*-0xc0b+-0x1*0x231,_0x1e5833=_0xa2025['data']['length'];_0x5057c5<_0x1e5833;_0x5057c5++){const _0x781904=_0xa2025['data'][_0x5057c5];if(!_0x781904['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5057c5+('].info\x22\x20fi'+'eld'));if(!_0x781904['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5057c5+('].info.loc'+'ale\x22\x20field'));if(typeof _0x781904['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x5057c5+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x781904['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5057c5+('].messages'+'\x22\x20field'));}}['parse'](_0x17b4ca){return this['_validate'](_0x17b4ca),_0x17b4ca['data'];}}const Gh=class Gh extends me{constructor(_0x2f33c){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x2f33c,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x35e0f0){const _0x1b1537={};for(let _0x2815d6=0x1*0xdd5+0xfea+-0x1dbf,_0x223309=_0x35e0f0['length'];_0x2815d6<_0x223309;_0x2815d6++){const _0x319e1b=_0x35e0f0[_0x2815d6]instanceof pe?_0x35e0f0[_0x2815d6]['id']:_0x35e0f0[_0x2815d6];_0x1b1537[_0x319e1b]=!(-0x1ec7+-0x1*0x909+-0x38*-0xb6);}let _0x16dbd1=this['_assets']['length'];for(;_0x16dbd1--;){const _0x18c6b5=this['_assets'][_0x16dbd1];if(!_0x1b1537[_0x18c6b5]){this['_app']['assets']['off']('add:'+_0x18c6b5,this['_onAssetAd'+'d'],this);const _0x3b73cb=this['_app']['assets']['get'](_0x18c6b5);_0x3b73cb&&this['_onAssetRe'+'move'](_0x3b73cb),this['_assets']['splice'](_0x16dbd1,0x64d+0x1f9b+-0x25e7);}}for(const _0x52b75e in _0x1b1537){const _0xbac490=parseInt(_0x52b75e,-0x374*0xb+0xc*-0x1c4+-0x6a*-0x8f);if(this['_assets']['indexOf'](_0xbac490)!==-(-0x4a4+0x2*-0x12b7+-0x1*-0x2a13))continue;this['_assets']['push'](_0xbac490);const _0x5348a2=this['_app']['assets']['get'](_0xbac490);_0x5348a2?this['_onAssetAd'+'d'](_0x5348a2):this['_app']['assets']['once']('add:'+_0xbac490,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x2f6ee6){if(this['_locale']===_0x2f6ee6)return;let _0x5b05a8=Oi(_0x2f6ee6);if(_0x5b05a8==='in'&&(_0x5b05a8='id',_0x2f6ee6=LC(_0x2f6ee6,_0x5b05a8),this['_locale']===_0x2f6ee6))return;const _0x4a6394=this['_locale'];this['_locale']=_0x2f6ee6,this['_lang']=_0x5b05a8,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x2f6ee6,_0x4a6394);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x2fdd8d,_0x2fc132){return Fv(_0x2fdd8d,_0x2fc132);}['findAvaila'+'bleLocale'](_0x5aa704){if(this['_translati'+'ons'][_0x5aa704])return _0x5aa704;const _0x162e2d=Oi(_0x5aa704);return this['_findFallb'+'ackLocale'](_0x5aa704,_0x162e2d);}['getText'](_0x2ba9ca,_0x48ccf8){let _0xcab147=_0x2ba9ca,_0x4c799f;_0x48ccf8||(_0x48ccf8=this['_locale'],_0x4c799f=this['_lang']);let _0x4b08ec=this['_translati'+'ons'][_0x48ccf8];return _0x4b08ec||(_0x4c799f||(_0x4c799f=Oi(_0x48ccf8)),_0x48ccf8=this['_findFallb'+'ackLocale'](_0x48ccf8,_0x4c799f),_0x4b08ec=this['_translati'+'ons'][_0x48ccf8]),_0x4b08ec&&_0x4b08ec['hasOwnProp'+'erty'](_0x2ba9ca)&&(_0xcab147=_0x4b08ec[_0x2ba9ca],Array['isArray'](_0xcab147)&&(_0xcab147=_0xcab147[-0x18f9+-0x9*-0x233+0x52e]),_0xcab147==null&&(_0xcab147=_0x2ba9ca)),_0xcab147;}['getPluralT'+'ext'](_0x2c3a81,_0x4cb776,_0x56a0a1){let _0x4534d1=_0x2c3a81,_0xc90b34,_0x24d36a;_0x56a0a1?(_0xc90b34=Oi(_0x56a0a1),_0x24d36a=Tf(_0xc90b34)):(_0x56a0a1=this['_locale'],_0xc90b34=this['_lang'],_0x24d36a=this['_pluralFn']);let _0x3f7df6=this['_translati'+'ons'][_0x56a0a1];if(_0x3f7df6||(_0x56a0a1=this['_findFallb'+'ackLocale'](_0x56a0a1,_0xc90b34),_0xc90b34=Oi(_0x56a0a1),_0x24d36a=Tf(_0xc90b34),_0x3f7df6=this['_translati'+'ons'][_0x56a0a1]),_0x3f7df6&&_0x3f7df6[_0x2c3a81]&&_0x24d36a){const _0x3669ad=_0x24d36a(_0x4cb776);_0x4534d1=_0x3f7df6[_0x2c3a81][_0x3669ad],_0x4534d1==null&&(_0x4534d1=_0x2c3a81);}return _0x4534d1;}['addData'](_0x5e6f5e){let _0x194f30;try{_0x194f30=this['_parser']['parse'](_0x5e6f5e);}catch(_0x6fc8a1){console['error'](_0x6fc8a1);return;}for(let _0x1b5d4a=0xc22*0x1+-0x6c5*0x3+-0x1*-0x82d,_0x18f9a7=_0x194f30['length'];_0x1b5d4a<_0x18f9a7;_0x1b5d4a++){const _0x519050=_0x194f30[_0x1b5d4a],_0x306044=_0x519050['info']['locale'],_0x2a8198=_0x519050['messages'];if(!this['_translati'+'ons'][_0x306044]){this['_translati'+'ons'][_0x306044]={};const _0xe444f2=Oi(_0x306044);this['_available'+'Langs'][_0xe444f2]||(this['_available'+'Langs'][_0xe444f2]=_0x306044);}Object['assign'](this['_translati'+'ons'][_0x306044],_0x2a8198),this['fire']('data:add',_0x306044,_0x2a8198);}}['removeData'](_0x4d43c2){let _0x3f54d9;try{_0x3f54d9=this['_parser']['parse'](_0x4d43c2);}catch(_0x14eef2){console['error'](_0x14eef2);return;}for(let _0x31a442=-0x2701+0x350+-0x23b1*-0x1,_0x30508f=_0x3f54d9['length'];_0x31a442<_0x30508f;_0x31a442++){const _0x2bc1e4=_0x3f54d9[_0x31a442],_0x380ea1=_0x2bc1e4['info']['locale'],_0x4300a6=this['_translati'+'ons'][_0x380ea1];if(!_0x4300a6)continue;const _0x1c9f3b=_0x2bc1e4['messages'];for(const _0x3908a3 in _0x1c9f3b)delete _0x4300a6[_0x3908a3];Object['keys'](_0x4300a6)['length']===-0x1*0x7f+0x383*-0x7+0x1914&&(delete this['_translati'+'ons'][_0x380ea1],delete this['_available'+'Langs'][Oi(_0x380ea1)]),this['fire']('data:remov'+'e',_0x380ea1,_0x1c9f3b);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x2ecd85,_0x1e4918){let _0x2783ac=Mh[_0x2ecd85];return _0x2783ac&&this['_translati'+'ons'][_0x2783ac]||(_0x2783ac=Mh[_0x1e4918],_0x2783ac&&this['_translati'+'ons'][_0x2783ac])||(_0x2783ac=this['_available'+'Langs'][_0x1e4918],_0x2783ac&&this['_translati'+'ons'][_0x2783ac])?_0x2783ac:Ph;}['_onAssetAd'+'d'](_0x273bf3){_0x273bf3['on']('load',this['_onAssetLo'+'ad'],this),_0x273bf3['on']('change',this['_onAssetCh'+'ange'],this),_0x273bf3['on']('remove',this['_onAssetRe'+'move'],this),_0x273bf3['on']('unload',this['_onAssetUn'+'load'],this),_0x273bf3['resource']&&this['_onAssetLo'+'ad'](_0x273bf3);}['_onAssetLo'+'ad'](_0x15e1f1){this['addData'](_0x15e1f1['resource']);}['_onAssetCh'+'ange'](_0x5455ec){_0x5455ec['resource']&&this['addData'](_0x5455ec['resource']);}['_onAssetRe'+'move'](_0x8cfed1){_0x8cfed1['off']('load',this['_onAssetLo'+'ad'],this),_0x8cfed1['off']('change',this['_onAssetCh'+'ange'],this),_0x8cfed1['off']('remove',this['_onAssetRe'+'move'],this),_0x8cfed1['off']('unload',this['_onAssetUn'+'load'],this),_0x8cfed1['resource']&&this['removeData'](_0x8cfed1['resource']),this['_app']['assets']['once']('add:'+_0x8cfed1['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x1a8b04){_0x1a8b04['resource']&&this['removeData'](_0x1a8b04['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x3023db){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x3023db;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x5d223c,_0x14b2d3){_0x14b2d3&&this['_scriptSch'+'emas']['set'](_0x5d223c,_0x14b2d3);}['getSchema'](_0x189fde){return this['_scriptSch'+'emas']['get'](_0x189fde);}['add'](_0x1e27af){const _0x134e3b=_0x1e27af['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x134e3b)?(setTimeout(()=>{if(_0x1e27af['prototype']['swap']){const _0x32fede=this['_scripts'][_0x134e3b],_0x534a75=this['_list']['indexOf'](_0x32fede);this['_list'][_0x534a75]=_0x1e27af,this['_scripts'][_0x134e3b]=_0x1e27af,this['fire']('swap',_0x134e3b,_0x1e27af),this['fire']('swap:'+_0x134e3b,_0x1e27af);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x134e3b+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x207f+0x14b*-0xa+-0x1390)):(this['_scripts'][_0x134e3b]=_0x1e27af,this['_list']['push'](_0x1e27af),this['fire']('add',_0x134e3b,_0x1e27af),this['fire']('add:'+_0x134e3b,_0x1e27af),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x134e3b)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x59ec82=this['app']['systems']['script']['_component'+'s'];let _0x393aaa;const _0x280c5f=[],_0x2e2a6a=[];for(_0x59ec82['loopIndex']=0x1323+0x9*0x21+-0x144c;_0x59ec82['loopIndex']<_0x59ec82['length'];_0x59ec82['loopIndex']++){const _0x2a06cb=_0x59ec82['items'][_0x59ec82['loopIndex']];if(_0x2a06cb['_scriptsIn'+'dex'][_0x134e3b]&&_0x2a06cb['_scriptsIn'+'dex'][_0x134e3b]['awaiting']){_0x2a06cb['_scriptsDa'+'ta']&&_0x2a06cb['_scriptsDa'+'ta'][_0x134e3b]&&(_0x393aaa=_0x2a06cb['_scriptsDa'+'ta'][_0x134e3b]['attributes']);const _0x28b61a=_0x2a06cb['create'](_0x134e3b,{'preloading':!(-0x1*-0x14e3+0x14f3+-0x5fa*0x7),'ind':_0x2a06cb['_scriptsIn'+'dex'][_0x134e3b]['ind'],'attributes':_0x393aaa});_0x28b61a&&_0x280c5f['push'](_0x28b61a);for(const _0x1c8e3a of _0x2a06cb['scripts'])_0x2a06cb['initialize'+'Attributes'](_0x1c8e3a);}}for(let _0x499323=0x8da+-0x5cb*-0x2+0x2*-0xa38;_0x499323<_0x280c5f['length'];_0x499323++)_0x280c5f[_0x499323]['enabled']&&(_0x280c5f[_0x499323]['_initializ'+'ed']=!(-0x4d*0x11+-0x173a+0x1c57),_0x2e2a6a['push'](_0x280c5f[_0x499323]),_0x280c5f[_0x499323]['initialize']&&_0x280c5f[_0x499323]['initialize']());for(let _0x54966c=0x144b+-0xcae+-0x79d;_0x54966c<_0x2e2a6a['length'];_0x54966c++)!_0x2e2a6a[_0x54966c]['enabled']||_0x2e2a6a[_0x54966c]['_postIniti'+'alized']||(_0x2e2a6a[_0x54966c]['_postIniti'+'alized']=!(0x1458+0x2675+-0x3acd),_0x2e2a6a[_0x54966c]['postInitia'+'lize']&&_0x2e2a6a[_0x54966c]['postInitia'+'lize']());}),!(-0xbf*-0x2e+-0x2463+0x211));}['remove'](_0x7d5d07){let _0x35df28=_0x7d5d07,_0xd44e38=_0x7d5d07;if(typeof _0xd44e38!='string'?_0xd44e38=_0x35df28['__name']:_0x35df28=this['get'](_0xd44e38),this['get'](_0xd44e38)!==_0x35df28)return!(-0xdf3*-0x1+0x27d+-0x259*0x7);delete this['_scripts'][_0xd44e38];const _0x30c01f=this['_list']['indexOf'](_0x35df28);return this['_list']['splice'](_0x30c01f,0x1341+0x1801+-0x2b41*0x1),this['fire']('remove',_0xd44e38,_0x35df28),this['fire']('remove:'+_0xd44e38,_0x35df28),!(0x259+-0xca4+0xa4b);}['get'](_0x13de98){return this['_scripts'][_0x13de98]||null;}['has'](_0x593c82){if(typeof _0x593c82=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x593c82);if(!_0x593c82)return!(0x1716+0x2*0xc89+0x3*-0x100d);const _0x22a6e0=_0x593c82['__name'];return this['_scripts'][_0x22a6e0]===_0x593c82;}['list'](){return this['_list'];}}const WC=(_0x162be5,_0x2f95c6)=>_0x162be5['constructo'+'r']['order']-_0x2f95c6['constructo'+'r']['order'],$C=_0x4fbc69=>_0x4fbc69['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x112caf=>{_0x112caf['length']=0x154f+0x75*-0x33+0x200,Nv['push'](_0x112caf);},Hh=class Hh extends Ie{constructor(_0x5993d2,_0x12b546=Ms()){super(_0x5993d2),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(0x22a8*0x1+-0x17*0x22+-0x1f99)),h(this,'_guid',null),h(this,'_template',!(0x1b99+-0x1392+-0x806)),(w['assert'](_0x12b546,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x12b546);}['addCompone'+'nt'](_0x6f7870,_0x23e2c9){const _0x30b6d5=this['_app']['systems'][_0x6f7870];return _0x30b6d5?this['c'][_0x6f7870]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x6f7870+('\x27\x20componen'+'t')),null):_0x30b6d5['addCompone'+'nt'](this,_0x23e2c9):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x6f7870+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x42d5af){const _0x4de9e5=this['_app']['systems'][_0x42d5af];if(!_0x4de9e5){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x42d5af+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x42d5af]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x42d5af+('\x27\x20componen'+'t'));return;}_0x4de9e5['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x5aab57){const _0xd96e0b=this['findOne'](_0x28841a=>{var _0x4733d8;return(_0x4733d8=_0x28841a['c'])==null?void(-0x1f*0x6f+-0x3a*-0xe+0xa45):_0x4733d8[_0x5aab57];});return _0xd96e0b&&_0xd96e0b['c'][_0x5aab57];}['findCompon'+'ents'](_0x5127a2){return this['find'](_0x562475=>{var _0x3ab04d;return(_0x3ab04d=_0x562475['c'])==null?void(-0x38*-0x81+0x5dc+-0x2214):_0x3ab04d[_0x5127a2];})['map'](_0x3e319b=>_0x3e319b['c'][_0x5127a2]);}['findScript'](_0x4bba65){const _0x13ddca=this['findOne'](_0x1b3950=>{var _0x2e6a0a,_0x3abb36;return(_0x3abb36=(_0x2e6a0a=_0x1b3950['c'])==null?void(-0x56*-0x3+-0x932+0x10*0x83):_0x2e6a0a['script'])==null?void(-0x1e22+-0x29b*0x5+-0x1*-0x2b29):_0x3abb36['has'](_0x4bba65);});return _0x13ddca==null?void(-0x5*-0x477+-0x13*-0x12d+-0x2caa):_0x13ddca['c']['script']['get'](_0x4bba65);}['findScript'+'s'](_0x3e0519){return this['find'](_0x529854=>{var _0x45ac07,_0x849585;return(_0x849585=(_0x45ac07=_0x529854['c'])==null?void(-0x1fb8+0x23b9+0x1*-0x401):_0x45ac07['script'])==null?void(-0x1bc5+0x1d52+-0x1*0x18d):_0x849585['has'](_0x3e0519);})['map'](_0x523e6e=>_0x523e6e['c']['script']['get'](_0x3e0519));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0xee871){const _0x1fc16a=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x1fc16a[this['_guid']],this['_guid']=_0xee871,_0x1fc16a[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x60c056,_0x50c22c){let _0x401bae=!(-0x1*0x1c5d+-0xf6f*0x1+-0x2bcd*-0x1);_0x60c056===this&&po['length']===0x2693+0x74*-0x2b+0x21f*-0x9&&(_0x401bae=!(-0xc0a+-0xcf7+0x1901)),_0x60c056['_beingEnab'+'led']=!(-0x2511+0x1*-0x19e3+0x3ef4*0x1),_0x60c056['_onHierarc'+'hyStateCha'+'nged'](_0x50c22c),_0x60c056['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x60c056);const _0x4c00bc=_0x60c056['_children'];for(let _0x902465=0x1086+0x574+-0x15fa,_0x539806=_0x4c00bc['length'];_0x902465<_0x539806;_0x902465++)_0x4c00bc[_0x902465]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4c00bc[_0x902465],_0x50c22c);if(_0x60c056['_beingEnab'+'led']=!(-0xf30+-0x2651*-0x1+-0x172*0x10),_0x401bae){for(let _0x254e59=-0x1c51+-0x146d+0x2*0x185f;_0x254e59<po['length'];_0x254e59++)po[_0x254e59]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x7e7+-0x44d*0x7+0x1634;}}['_onHierarc'+'hyStateCha'+'nged'](_0x2415d9){super['_onHierarc'+'hyStateCha'+'nged'](_0x2415d9);const _0x370970=this['_getSorted'+'Components']();for(let _0x5ea65=-0x7bc+-0x49*0x1a+0xf26;_0x5ea65<_0x370970['length'];_0x5ea65++){const _0x3bb5c8=_0x370970[_0x5ea65];_0x3bb5c8['enabled']&&(_0x2415d9?_0x3bb5c8['onEnable']():_0x3bb5c8['onDisable']());}Ag(_0x370970);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x4c117a=this['_getSorted'+'Components']();for(let _0x4904e=0x10cd+-0x5b3+-0xb1a;_0x4904e<_0x4c117a['length'];_0x4904e++)_0x4c117a[_0x4904e]['onPostStat'+'eChange']();Ag(_0x4c117a);}['findByGuid'](_0x23f2b6){if(this['_guid']===_0x23f2b6)return this;const _0x2bc087=this['_app']['_entityInd'+'ex'][_0x23f2b6];return _0x2bc087&&(_0x2bc087===this||_0x2bc087['isDescenda'+'ntOf'](this))?_0x2bc087:null;}['destroy'](){this['_destroyin'+'g']=!(-0x9d*-0x2b+-0xdb*0x3+-0x17ce);for(const _0x17308a in this['c'])this['c'][_0x17308a]['enabled']=!(-0x2*-0xca4+0x1a37+-0x337e);for(const _0x1cb84f in this['c'])this['c'][_0x1cb84f]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x13*-0x63+0xa30*0x2+-0xd06);}['clone'](){const _0x2b51d7={},_0x45b78f=this['_cloneRecu'+'rsively'](_0x2b51d7);return _0x2b51d7[this['getGuid']()]=_0x45b78f,kv(this,this,_0x45b78f,_0x2b51d7),_0x45b78f;}['_getSorted'+'Components'](){const _0x568c25=this['c'],_0x3afee8=XC();let _0x4d37ed=-0x18d*0x7+0xb00+-0x25;for(const _0xc9a971 in _0x568c25)if(_0x568c25['hasOwnProp'+'erty'](_0xc9a971)){const _0x1442a2=_0x568c25[_0xc9a971];_0x4d37ed|=_0x1442a2['constructo'+'r']['order']!==0xad*-0x1d+-0x142e+0x27c7*0x1,_0x3afee8['push'](_0x1442a2);}return _0x4d37ed&&_0x3afee8['length']>0x1a8*-0x16+-0x9b*0x26+-0x13d1*-0x3&&$C(_0x3afee8),_0x3afee8;}['_cloneRecu'+'rsively'](_0x22c147){const _0x356692=new this['constructo'+'r'](void(0x3b3+0x2*0xb5d+-0x5*0x549),this['_app']);super['_cloneInte'+'rnal'](_0x356692);for(const _0x4e2c66 in this['c'])this['c'][_0x4e2c66]['system']['cloneCompo'+'nent'](this,_0x356692);for(let _0x39e061=-0x49*0xa+0x33*0x76+-0x14a8;_0x39e061<this['_children']['length'];_0x39e061++){const _0x78b5e2=this['_children'][_0x39e061];if(_0x78b5e2 instanceof Hh){const _0x54f376=_0x78b5e2['_cloneRecu'+'rsively'](_0x22c147);_0x356692['addChild'](_0x54f376),_0x22c147[_0x78b5e2['getGuid']()]=_0x54f376;}}return _0x356692;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x3324c1,_0x249e17,_0x3390b7,_0x1e5ec3){if(_0x249e17 instanceof lt){const _0x277d40=_0x249e17['c'];for(const _0x462e79 in _0x277d40){const _0x567017=_0x277d40[_0x462e79],_0x2bf4d2=_0x567017['system']['getPropert'+'iesOfType']('entity');for(let _0x159ced=0x90+-0x62b*-0x3+-0x1*0x1311,_0x297703=_0x2bf4d2['length'];_0x159ced<_0x297703;_0x159ced++){const _0x504768=_0x2bf4d2[_0x159ced]['name'],_0x26fdc2=_0x567017[_0x504768];if(!!_0x3324c1['findByGuid'](_0x26fdc2)){const _0x53c2e3=_0x1e5ec3[_0x26fdc2]['getGuid']();_0x53c2e3?_0x3390b7['c'][_0x462e79][_0x504768]=_0x53c2e3:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x277d40['script']&&_0x3390b7['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['script'],_0x1e5ec3),_0x277d40['render']&&_0x3390b7['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['render'],_0x1e5ec3),_0x277d40['button']&&_0x3390b7['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['button'],_0x1e5ec3),_0x277d40['scrollview']&&_0x3390b7['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['scrollview'],_0x1e5ec3),_0x277d40['scrollbar']&&_0x3390b7['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['scrollbar'],_0x1e5ec3),_0x277d40['anim']&&_0x3390b7['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x277d40['anim'],_0x1e5ec3);const _0x2c8226=_0x249e17['children']['filter'](_0x311105=>_0x311105 instanceof lt),_0x35d5e8=_0x3390b7['children']['filter'](_0x43eed5=>_0x43eed5 instanceof lt);for(let _0x1d36eb=0x1be4+0x1bb0+-0x3794,_0x47b1e9=_0x2c8226['length'];_0x1d36eb<_0x47b1e9;_0x1d36eb++)kv(_0x3324c1,_0x2c8226[_0x1d36eb],_0x35d5e8[_0x1d36eb],_0x1e5ec3);}}class Cg{constructor(_0x47a41b,_0x252f85){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x1*-0xd4e+0x37*-0x5+-0x5*0x272)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x47a41b,this['url']=_0x252f85);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x1cdced){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x1cdced;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x287ab9,_0x2827c7){if(this['_index']['hasOwnProp'+'erty'](_0x287ab9))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x287ab9),!(0x1*-0x4f4+-0x60f+-0x5e*-0x1e);const _0x249f92=new Cg(_0x287ab9,_0x2827c7),_0x3ca04b=this['_list']['push'](_0x249f92);return this['_index'][_0x249f92['name']]=_0x3ca04b-(-0xa65+0x2693+-0x1c2d),this['_urlIndex'][_0x249f92['url']]=_0x3ca04b-(-0x1*0x16c7+-0xf2c+0x25f4),!(0x21f1+0x4*0x702+-0x3df9);}['find'](_0x15b013){return this['_index']['hasOwnProp'+'erty'](_0x15b013)?this['_list'][this['_index'][_0x15b013]]:null;}['findByUrl'](_0xeffb0e){return this['_urlIndex']['hasOwnProp'+'erty'](_0xeffb0e)?this['_list'][this['_urlIndex'][_0xeffb0e]]:null;}['remove'](_0x44aae6){if(this['_index']['hasOwnProp'+'erty'](_0x44aae6)){const _0x52f460=this['_index'][_0x44aae6];let _0x493c5d=this['_list'][_0x52f460];delete this['_urlIndex'][_0x493c5d['url']],delete this['_index'][_0x44aae6],this['_list']['splice'](_0x52f460,0x1636+-0x230e+0xcd9*0x1);for(let _0x447b98=0x4bc+0x11a1+-0x165d;_0x447b98<this['_list']['length'];_0x447b98++)_0x493c5d=this['_list'][_0x447b98],this['_index'][_0x493c5d['name']]=_0x447b98,this['_urlIndex'][_0x493c5d['url']]=_0x447b98;}}['_loadScene'+'Data'](_0x5b9c5e,_0x5298d8,_0x212631){const _0x1d0634=this['_app'];let _0x4f9ebb=_0x5b9c5e;if(typeof _0x5b9c5e=='string'&&(_0x5b9c5e=this['findByUrl'](_0x4f9ebb)||this['find'](_0x4f9ebb)||new Cg('Untitled',_0x4f9ebb)),_0x4f9ebb=_0x5b9c5e['url'],!_0x4f9ebb){_0x212631('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x5b9c5e['loaded']){_0x212631(null,_0x5b9c5e);return;}_0x1d0634['assets']&&_0x1d0634['assets']['prefix']&&!jn['test'](_0x4f9ebb)&&(_0x4f9ebb=xe['join'](_0x1d0634['assets']['prefix'],_0x4f9ebb)),_0x5b9c5e['_onLoadedC'+'allbacks']['push'](_0x212631),_0x5b9c5e['_loading']||_0x1d0634['loader']['getHandler']('hierarchy')['load'](_0x4f9ebb,(_0x5b9d6a,_0x30bacf)=>{_0x5b9c5e['data']=_0x30bacf,_0x5b9c5e['_loading']=!(-0xa3*-0x37+-0x2*-0xb15+-0x1a*0x233);for(let _0x5d6700=0x1227*0x2+-0x1030*-0x2+-0x44ae;_0x5d6700<_0x5b9c5e['_onLoadedC'+'allbacks']['length'];_0x5d6700++)_0x5b9c5e['_onLoadedC'+'allbacks'][_0x5d6700](_0x5b9d6a,_0x5b9c5e);_0x5298d8||(_0x5b9c5e['data']=null),_0x5b9c5e['_onLoadedC'+'allbacks']['length']=0x287*0xe+0x177b*-0x1+-0x1*0xbe7;}),_0x5b9c5e['_loading']=!(-0xb68+0x8dd*0x1+0x28b);}['loadSceneD'+'ata'](_0x32c58f,_0x500f21){this['_loadScene'+'Data'](_0x32c58f,!(0x1*0x209+-0x2f3*-0x1+0x4fc*-0x1),_0x500f21);}['unloadScen'+'eData'](_0x1d570d){typeof _0x1d570d=='string'&&(_0x1d570d=this['findByUrl'](_0x1d570d)),_0x1d570d&&(_0x1d570d['data']=null);}['_loadScene'+'Hierarchy'](_0x5ca587,_0x7ca412,_0x4554e7){this['_loadScene'+'Data'](_0x5ca587,!(0x3ff*0x3+-0xaf5+-0x107),(_0x7dd688,_0x1f883b)=>{if(_0x7dd688){_0x4554e7&&_0x4554e7(_0x7dd688);return;}_0x7ca412&&_0x7ca412(_0x1f883b);const _0x1c15a0=this['_app'],_0x13db5a=()=>{const _0x5c17f6=_0x1c15a0['loader']['getHandler']('hierarchy');_0x1c15a0['systems']['script']['preloading']=!(0x1d2*0x3+0x1b25+0x1*-0x209b);const _0x31dc90=_0x5c17f6['open'](_0x1f883b['url'],_0x1f883b['data']);_0x1c15a0['systems']['script']['preloading']=!(0x1f92+-0x15a6+0x9eb*-0x1),_0x1c15a0['loader']['clearCache'](_0x1f883b['url'],'hierarchy'),_0x1c15a0['root']['addChild'](_0x31dc90),_0x1c15a0['systems']['fire']('initialize',_0x31dc90),_0x1c15a0['systems']['fire']('postInitia'+'lize',_0x31dc90),_0x1c15a0['systems']['fire']('postPostIn'+'itialize',_0x31dc90),_0x4554e7&&_0x4554e7(null,_0x31dc90);};_0x1c15a0['_preloadSc'+'ripts'](_0x1f883b['data'],_0x13db5a);});}['loadSceneH'+'ierarchy'](_0x45b99b,_0xb42a89){this['_loadScene'+'Hierarchy'](_0x45b99b,null,_0xb42a89);}['loadSceneS'+'ettings'](_0x48801b,_0x423066){this['_loadScene'+'Data'](_0x48801b,!(-0xb*-0x10+0x2b*0x6b+-0x12a8),(_0x983a66,_0x458fad)=>{_0x983a66?_0x423066&&_0x423066(_0x983a66):(this['_app']['applyScene'+'Settings'](_0x458fad['data']['settings']),_0x423066&&_0x423066(null));});}['changeScen'+'e'](_0x3185bf,_0x44a88f){const _0x39c252=this['_app'],_0x1c0317=_0x447467=>{const {children:_0x1b5b8f}=_0x39c252['root'];for(;_0x1b5b8f['length'];)_0x1b5b8f[-0x73*0x47+-0x1ac6+-0x28d*-0x17]['destroy']();_0x39c252['applyScene'+'Settings'](_0x447467['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x3185bf,_0x1c0317,_0x44a88f);}['loadScene'](_0x58c380,_0x5cc8f3){const _0xd158c7=this['_app'],_0xcd56d1=_0xd158c7['loader']['getHandler']('scene');_0xd158c7['assets']&&_0xd158c7['assets']['prefix']&&!jn['test'](_0x58c380)&&(_0x58c380=xe['join'](_0xd158c7['assets']['prefix'],_0x58c380)),_0xcd56d1['load'](_0x58c380,(_0x442e2c,_0x175691)=>{if(_0x442e2c)_0x5cc8f3&&_0x5cc8f3(_0x442e2c);else{const _0x3dc4d3=()=>{_0xd158c7['systems']['script']['preloading']=!(0x1bf0+-0x2*-0xfe5+-0x3bba);const _0x2869e0=_0xcd56d1['open'](_0x58c380,_0x175691),_0x59ee0e=this['findByUrl'](_0x58c380);_0x59ee0e&&!_0x59ee0e['loaded']&&(_0x59ee0e['data']=_0x175691),_0xd158c7['systems']['script']['preloading']=!(-0x19a8+-0x1964*-0x1+0x45),_0xd158c7['loader']['clearCache'](_0x58c380,'scene'),_0xd158c7['loader']['patch']({'resource':_0x2869e0,'type':'scene'},_0xd158c7['assets']),_0xd158c7['root']['addChild'](_0x2869e0['root']),_0xd158c7['systems']['rigidbody']&&typeof Ammo<'u'&&_0xd158c7['systems']['rigidbody']['gravity']['set'](_0x2869e0['_gravity']['x'],_0x2869e0['_gravity']['y'],_0x2869e0['_gravity']['z']),_0x5cc8f3&&_0x5cc8f3(null,_0x2869e0);};_0xd158c7['_preloadSc'+'ripts'](_0x175691,_0x3dc4d3);}});}}class jC{constructor(_0x1fa9bb){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x1fa9bb['_shaderSta'+'ts'],this['vram']=_0x1fa9bb['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x58dc5c;return(_0x58dc5c=Ms()['lightmappe'+'r'])==null?void(-0x20*0x2a+0x2006+-0x1ac6):_0x58dc5c['stats'];}get['batcher'](){const _0x2c4a37=Ms()['_batcher'];return _0x2c4a37?_0x2c4a37['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x2f52bc){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x15*-0x173+0x15d*-0x6+-0x134f*-0x2)),h(this,'_inFrameUp'+'date',!(-0x2*0x904+-0x2f*0x4f+0x208a)),h(this,'_libraries'+'Loaded',!(-0x1533+-0x160a+0x2b3e)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x2*-0x1334+0x1a0b+-0x4073)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x532+0x7d0+-0x29d)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x1*-0x1f91+0x224f*-0x1+0x41e0),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1259+-0x240a+0x3664),h(this,'maxDeltaTi'+'me',-0x1c38+-0x2b2+0x1eea+0.1),h(this,'frame',-0x1*0x1475+0x218e+0xd19*-0x1),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x2f0+-0x2491+0x21a1)),h(this,'renderNext'+'Frame',!(-0x147b+-0x269*-0x10+0x34*-0x59)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0x2508*-0x1+-0x105f+-0x81*0x29):hn['indexOf']('$'))<-0xe6*-0x1f+0x114e+-0x2d28&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x2f52bc['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1*0x2584+-0x1d9b+-0x1*-0x431f));}['init'](_0x46a1d8){const {assetPrefix:_0x4f58d5,batchManager:_0xcea8eb,componentSystems:_0x25fc03,elementInput:_0x1b3f42,gamepads:_0x1e7f78,graphicsDevice:_0x24b6fe,keyboard:_0x6bb8de,lightmapper:_0x326ea3,mouse:_0x208f95,resourceHandlers:_0xb22762,scriptsOrder:_0x18d331,scriptPrefix:_0x3de38f,soundManager:_0xc81f34,touch:_0x5e9ffc,xr:_0x38ffd8}=_0x46a1d8;w['assert'](_0x24b6fe,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x24b6fe,Pe['get'](_0x24b6fe,Fe)['add'](Z2),Pe['get'](_0x24b6fe,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x24b6fe),this['_soundMana'+'ger']=_0xc81f34,this['scene']=new Et(_0x24b6fe),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x4f58d5&&(this['assets']['prefix']=_0x4f58d5),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x18d331||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0xf78+0x1*0x1bfd+-0x2b74),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0xa95278=new du('default');_0xa95278['pushOpaque'](this['defaultLay'+'erWorld']),_0xa95278['pushOpaque'](this['defaultLay'+'erDepth']),_0xa95278['pushOpaque'](this['defaultLay'+'erSkybox']),_0xa95278['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0xa95278['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0xa95278['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0xa95278['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0xa95278,ia['createPlac'+'eholder'](_0x24b6fe),this['renderer']=new fl(_0x24b6fe),this['renderer']['scene']=this['scene'],_0x326ea3&&(this['lightmappe'+'r']=new _0x326ea3(_0x24b6fe,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0xcea8eb&&(this['_batcher']=new _0xcea8eb(_0x24b6fe,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x6bb8de||null,this['mouse']=_0x208f95||null,this['touch']=_0x5e9ffc||null,this['gamepads']=_0x1e7f78||null,_0x1b3f42&&(this['elementInp'+'ut']=_0x1b3f42,this['elementInp'+'ut']['app']=this),this['xr']=_0x38ffd8?new _0x38ffd8(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x3de38f||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0xb22762['forEach'](_0x6e0f08=>{const _0x1f3ca4=new _0x6e0f08(this);this['loader']['addHandler'](_0x1f3ca4['handlerTyp'+'e'],_0x1f3ca4);}),_0x25fc03['forEach'](_0x29c7bd=>{this['systems']['add'](new _0x29c7bd(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x1a52+-0x1595+-0x4bd)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1d17*-0x1+0x8df+-0x25f5))):document['mozHidden']!==void(-0x193e+0x32*0x41+-0x1*-0xc8c)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x7cf*-0x3+0xce1*-0x2+-0x2*-0x12b))):document['msHidden']!==void(-0x70*0x45+0xd*0x10d+0x1087)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xc2f*0x3+-0x16a+0x25f8))):document['webkitHidd'+'en']!==void(-0xc7*-0x17+-0x3*-0x4ae+0x1feb*-0x1)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xec9+-0x2*-0x1106+0x91*-0x22)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x1a609f){return _0x1a609f?ea['_applicati'+'ons'][_0x1a609f]:Ms();}['_initDefau'+'ltMaterial'](){const _0x23994e=new Ut();_0x23994e['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x23994e);}['_initProgr'+'amLibrary'](){const _0x58e903=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x58e903);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x2a0ab3,_0x174666){ot['get'](_0x2a0ab3,(_0x469450,_0x4ba9dd)=>{if(_0x469450){_0x174666(_0x469450);return;}const _0x2bdfb6=_0x4ba9dd['applicatio'+'n_properti'+'es'],_0x19bd94=_0x4ba9dd['scenes'],_0x1c5a91=_0x4ba9dd['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x2bdfb6,_0x333529=>{this['_parseScen'+'es'](_0x19bd94),this['_parseAsse'+'ts'](_0x1c5a91),_0x174666(_0x333529||null);});});}['preload'](_0x3b0d8d){this['fire']('preload:st'+'art');const _0x1ba9f9=this['assets']['list']({'preload':!(-0x4*-0x643+-0x1f89+0x97*0xb)});if(_0x1ba9f9['length']===0x47c+0x4c8+-0x944){this['fire']('preload:en'+'d'),_0x3b0d8d();return;}let _0x34cf58=-0x2297+0x176c+0xb2b;const _0xcf5d71=()=>{_0x34cf58++,this['fire']('preload:pr'+'ogress',_0x34cf58/_0x1ba9f9['length']),_0x34cf58===_0x1ba9f9['length']&&(this['fire']('preload:en'+'d'),_0x3b0d8d());};_0x1ba9f9['forEach'](_0x321bcc=>{_0x321bcc['loaded']?_0xcf5d71():(_0x321bcc['once']('load',_0xcf5d71),_0x321bcc['once']('error',_0xcf5d71),this['assets']['load'](_0x321bcc));});}['_preloadSc'+'ripts'](_0x1890b4,_0x20f947){_0x20f947();}['_parseAppl'+'icationPro'+'perties'](_0xb7b020,_0x59f49e){if(typeof _0xb7b020['maxAssetRe'+'tries']=='number'&&_0xb7b020['maxAssetRe'+'tries']>0x582+-0x671*0x5+0x1ab3&&this['loader']['enableRetr'+'y'](_0xb7b020['maxAssetRe'+'tries']),_0xb7b020['useDeviceP'+'ixelRatio']||(_0xb7b020['useDeviceP'+'ixelRatio']=_0xb7b020['use_device'+'_pixel_rat'+'io']),_0xb7b020['resolution'+'Mode']||(_0xb7b020['resolution'+'Mode']=_0xb7b020['resolution'+'_mode']),_0xb7b020['fillMode']||(_0xb7b020['fillMode']=_0xb7b020['fill_mode']),this['_width']=_0xb7b020['width'],this['_height']=_0xb7b020['height'],_0xb7b020['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0xb7b020['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0xb7b020['fillMode'],this['_width'],this['_height']),_0xb7b020['layers']&&_0xb7b020['layerOrder']){const _0x22c7cc=new du('applicatio'+'n'),_0x1f8e59={};for(const _0x4b6b33 in _0xb7b020['layers']){const _0x4badcb=_0xb7b020['layers'][_0x4b6b33];_0x4badcb['id']=parseInt(_0x4b6b33,-0x8f*-0x1b+-0x156f+0x1*0x664),_0x4badcb['enabled']=_0x4badcb['id']!==ps,_0x1f8e59[_0x4b6b33]=new Ot(_0x4badcb);}for(let _0x104273=0x3eb+0x25e3+-0x29ce,_0x105926=_0xb7b020['layerOrder']['length'];_0x104273<_0x105926;_0x104273++){const _0xf539b6=_0xb7b020['layerOrder'][_0x104273],_0x59b0df=_0x1f8e59[_0xf539b6['layer']];_0x59b0df&&(_0xf539b6['transparen'+'t']?_0x22c7cc['pushTransp'+'arent'](_0x59b0df):_0x22c7cc['pushOpaque'](_0x59b0df),_0x22c7cc['subLayerEn'+'abled'][_0x104273]=_0xf539b6['enabled']);}this['scene']['layers']=_0x22c7cc;}if(_0xb7b020['batchGroup'+'s']){const _0xb995a7=this['batcher'];if(_0xb995a7)for(let _0x121699=0x1695+-0x39*0xa1+0xd44,_0x56398b=_0xb7b020['batchGroup'+'s']['length'];_0x121699<_0x56398b;_0x121699++){const _0x2dc76c=_0xb7b020['batchGroup'+'s'][_0x121699];_0xb995a7['addGroup'](_0x2dc76c['name'],_0x2dc76c['dynamic'],_0x2dc76c['maxAabbSiz'+'e'],_0x2dc76c['id'],_0x2dc76c['layers']);}}_0xb7b020['i18nAssets']&&(this['i18n']['assets']=_0xb7b020['i18nAssets']),this['_loadLibra'+'ries'](_0xb7b020['libraries'],_0x59f49e);}['_loadLibra'+'ries'](_0x2e835d,_0x4a07e1){const _0x287e4e=_0x2e835d['length'];let _0x2c3bca=_0x287e4e;const _0x462bf0=/^https?:\/\//;if(_0x287e4e){const _0x40a327=(_0x34e30a,_0x28decc)=>{_0x2c3bca--,_0x34e30a?_0x4a07e1(_0x34e30a):_0x2c3bca===-0x2*0x85+0x1d38+-0x2*0xe17&&(this['onLibrarie'+'sLoaded'](),_0x4a07e1(null));};for(let _0x5bfe36=0xe7a+0x2405+0x327f*-0x1;_0x5bfe36<_0x287e4e;++_0x5bfe36){let _0x1a1a8f=_0x2e835d[_0x5bfe36];!_0x462bf0['test'](_0x1a1a8f['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x1a1a8f=xe['join'](this['_scriptPre'+'fix'],_0x1a1a8f)),this['loader']['load'](_0x1a1a8f,'script',_0x40a327);}}else this['onLibrarie'+'sLoaded'](),_0x4a07e1(null);}['_parseScen'+'es'](_0x2d56c0){if(_0x2d56c0){for(let _0x4f89b2=-0x1544+-0x1*0x1519+0x2a5d;_0x4f89b2<_0x2d56c0['length'];_0x4f89b2++)this['scenes']['add'](_0x2d56c0[_0x4f89b2]['name'],_0x2d56c0[_0x4f89b2]['url']);}}['_parseAsse'+'ts'](_0x4b0a30){const _0x306e78=[],_0x501a2={},_0x4f2ef5={};for(let _0x50ac81=0x1fea*0x1+-0x7*0x239+0x35*-0x4f;_0x50ac81<this['scriptsOrd'+'er']['length'];_0x50ac81++){const _0x241483=this['scriptsOrd'+'er'][_0x50ac81];_0x4b0a30[_0x241483]&&(_0x501a2[_0x241483]=!(0x23d4+-0x1c4f*0x1+-0x113*0x7),_0x306e78['push'](_0x4b0a30[_0x241483]));}if(this['enableBund'+'les']){for(const _0x5749aa in _0x4b0a30)_0x4b0a30[_0x5749aa]['type']==='bundle'&&(_0x4f2ef5[_0x5749aa]=!(-0x4*-0x3a0+0x2a2+0x66*-0x2b),_0x306e78['push'](_0x4b0a30[_0x5749aa]));}for(const _0x5c9750 in _0x4b0a30)_0x501a2[_0x5c9750]||_0x4f2ef5[_0x5c9750]||_0x306e78['push'](_0x4b0a30[_0x5c9750]);for(let _0x57fce4=0x301*-0x1+-0xdcc+0x10cd;_0x57fce4<_0x306e78['length'];_0x57fce4++){const _0x4fb1e8=_0x306e78[_0x57fce4],_0x28cdee=new pe(_0x4fb1e8['name'],_0x4fb1e8['type'],_0x4fb1e8['file'],_0x4fb1e8['data']);if(_0x28cdee['id']=parseInt(_0x4fb1e8['id'],0x35*-0x8b+-0x1e19+0x3aea),_0x28cdee['preload']=_0x4fb1e8['preload']?_0x4fb1e8['preload']:!(-0x2*-0x3a1+0xe51+-0x1592),_0x28cdee['loaded']=_0x4fb1e8['type']==='script'&&_0x4fb1e8['data']&&_0x4fb1e8['data']['loadingTyp'+'e']>-0x93d+0xbf4+-0x8b*0x5,_0x28cdee['tags']['add'](_0x4fb1e8['tags']),_0x4fb1e8['i18n']){for(const _0x4de5ae in _0x4fb1e8['i18n'])_0x28cdee['addLocaliz'+'edAssetId'](_0x4de5ae,_0x4fb1e8['i18n'][_0x4de5ae]);}this['assets']['add'](_0x28cdee);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0xa18+0x1385+-0x1d9d);}),this['frame']=-0x19ef+-0xbc*-0x29+-0x42d,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x3b54ab){this['controller']&&this['controller']['update'](_0x3b54ab),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3dd616){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3dd616),this['systems']['fire']('animationU'+'pdate',_0x3dd616),this['systems']['fire']('postUpdate',_0x3dd616),this['fire']('update',_0x3dd616),this['inputUpdat'+'e'](_0x3dd616),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0x2*0x1196+0x421+0x1*-0x274d,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0xa3d634){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xa3d634),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xa3d634),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0xdef331,_0x3573c0,_0x500f8d){const _0x46db3f=this['stats']['frame'];_0x46db3f['dt']=_0x3573c0,_0x46db3f['ms']=_0x500f8d,_0xdef331>_0x46db3f['_timeToCou'+'ntFrames']?(_0x46db3f['fps']=_0x46db3f['_fpsAccum'],_0x46db3f['_fpsAccum']=-0x16d4+0x191*-0x2+0x19f6,_0x46db3f['_timeToCou'+'ntFrames']=_0xdef331+(0x246d+-0x219e+0x119)):_0x46db3f['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0xa0*-0x2+-0x1*0x19d+0x2dd;}['_fillFrame'+'Stats'](){let _0x5cabc8=this['stats']['frame'];_0x5cabc8['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x5cabc8['materials']=this['renderer']['_materialS'+'witches'],_0x5cabc8['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x5cabc8['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x5cabc8['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x5cabc8['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x5cabc8['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x2a96b2=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x5cabc8['triangles']=_0x2a96b2[js]/(0x3c1+0x5d7+-0xb*0xdf)+Math['max'](_0x2a96b2[Er]-(0x3*-0xb11+0x6fa+0x1a3b),0x421*0x1+0x22a4+0x7c1*-0x5)+Math['max'](_0x2a96b2[oa]-(-0x72f*0x3+-0x1bdc+0x3*0x1079),0x229*0x5+0x15c3+0x824*-0x4),_0x5cabc8['cullTime']=this['renderer']['_cullTime'],_0x5cabc8['sortTime']=this['renderer']['_sortTime'],_0x5cabc8['skinTime']=this['renderer']['_skinTime'],_0x5cabc8['morphTime']=this['renderer']['_morphTime'],_0x5cabc8['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x5cabc8['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x5cabc8['otherPrimi'+'tives']=-0x237+-0xe7d*0x2+0x1f31;for(let _0x1d7955=-0x3*0xac9+-0x197*-0xe+-0x1*-0xa19;_0x1d7955<_0x2a96b2['length'];_0x1d7955++)_0x1d7955<js&&(_0x5cabc8['otherPrimi'+'tives']+=_0x2a96b2[_0x1d7955]),_0x2a96b2[_0x1d7955]=-0x1321*-0x1+0x41*-0x10+0x1d*-0x85;this['renderer']['_camerasRe'+'ndered']=0x12ce+0x363*-0x3+-0x8a5*0x1,this['renderer']['_materialS'+'witches']=0x1b1*-0x4+0x2396*0x1+-0x1cd2,this['renderer']['_shadowMap'+'Updates']=-0x44f*0x3+0xb72+0x17b,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1b6b*0x1+-0x1*-0x21d2+-0x3d3d,this['renderer']['_cullTime']=-0xd2c+-0x26bc*-0x1+0x664*-0x4,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1*-0x788+-0x113f+0x1*0x18c7,this['renderer']['_lightClus'+'tersTime']=0x2*0x985+0x5d*0x23+-0x1fc1,this['renderer']['_sortTime']=0x265a+0x1ebc+-0x4516,this['renderer']['_skinTime']=0x2f5+0x4c3+-0x1a*0x4c,this['renderer']['_morphTime']=-0x106d+-0x1*0xe2f+0x6*0x51a,this['renderer']['_shadowMap'+'Time']=-0xb83*0x3+-0x1a36+0x3cbf,this['renderer']['_depthMapT'+'ime']=-0x795+0x3*-0x8cb+0xb52*0x3,this['renderer']['_forwardTi'+'me']=0x1212+-0x2*-0x147+-0x14a0,_0x5cabc8=this['stats']['drawCalls'],_0x5cabc8['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x5cabc8['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x5cabc8['depth']=0x267d*0x1+0x66e+-0x2ceb,_0x5cabc8['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x5cabc8['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x5cabc8['immediate']=-0x2*0x1283+0x12*-0x159+-0x2*-0x1ea4,_0x5cabc8['instanced']=0x6*-0x626+0x17b0+0xd34,_0x5cabc8['removedByI'+'nstancing']=-0x798+0x33b*0x8+-0x1240,_0x5cabc8['misc']=_0x5cabc8['total']-(_0x5cabc8['forward']+_0x5cabc8['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x18e0+0x3*0x5b7+0x7bb,this['renderer']['_shadowDra'+'wCalls']=-0x93*0x17+0x23*-0x23+0x2*0x8ff,this['renderer']['_forwardDr'+'awCalls']=0xd*0x1c1+-0x10b7+-0x616,this['renderer']['_numDrawCa'+'llsCulled']=0x1*-0x107f+0x876+0x11*0x79,this['renderer']['_skinDrawC'+'alls']=0x16*0xfd+0x1*0x26f5+-0x1*0x3cb3,this['renderer']['_immediate'+'Rendered']=-0x389*-0xa+-0xb*0xcd+-0x1a8b,this['renderer']['_instanced'+'DrawCalls']=-0x125*0x5+0x1cec+-0x1733*0x1,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x5cabc8=this['stats']['particles'],_0x5cabc8['updatesPer'+'Frame']=_0x5cabc8['_updatesPe'+'rFrame'],_0x5cabc8['frameTime']=_0x5cabc8['_frameTime'],_0x5cabc8['_updatesPe'+'rFrame']=-0xeae+0x17d7+0x43*-0x23,_0x5cabc8['_frameTime']=-0x2040+0x6*0x5b5+-0xaa*0x3;}['setCanvasF'+'illMode'](_0xa41b94,_0x46c35b,_0x879bb4){this['_fillMode']=_0xa41b94,this['resizeCanv'+'as'](_0x46c35b,_0x879bb4);}['setCanvasR'+'esolution'](_0x210ff2,_0x2ac3c7,_0x5340dc){this['_resolutio'+'nMode']=_0x210ff2,_0x210ff2===wg&&_0x2ac3c7===void(0x122c+-0x1d4*-0x4+-0x197c)&&(_0x2ac3c7=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x5340dc=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2ac3c7,_0x5340dc);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x3b4ccf,_0xef0378){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x3fa4b8=window['innerWidth'],_0x1553c1=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x5cc208=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x270904=_0x3fa4b8/_0x1553c1;_0x5cc208>_0x270904?(_0x3b4ccf=_0x3fa4b8,_0xef0378=_0x3b4ccf/_0x5cc208):(_0xef0378=_0x1553c1,_0x3b4ccf=_0xef0378*_0x5cc208);}else this['_fillMode']===PC&&(_0x3b4ccf=_0x3fa4b8,_0xef0378=_0x1553c1);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x3b4ccf+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0xef0378+'px',this['updateCanv'+'asSize'](),{'width':_0x3b4ccf,'height':_0xef0378};}['updateCanv'+'asSize'](){var _0x23b1f9;if(!(!this['_allowResi'+'ze']||(_0x23b1f9=this['xr'])!=null&&_0x23b1f9['active'])&&this['_resolutio'+'nMode']===wg){const _0x20df52=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x20df52['clientWidt'+'h'],_0x20df52['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x269*-0x7+-0x364+0xcb*-0x11),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x36aae7){let _0x40f362;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x1aee01,_0x5db1ea,_0x4a79b9]=_0x36aae7['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x1aee01,_0x5db1ea,_0x4a79b9);}this['scene']['applySetti'+'ngs'](_0x36aae7),_0x36aae7['render']['hasOwnProp'+'erty']('skybox')&&(_0x36aae7['render']['skybox']?(_0x40f362=this['assets']['get'](_0x36aae7['render']['skybox']),_0x40f362?this['setSkybox'](_0x40f362):this['assets']['once']('add:'+_0x36aae7['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x3c602c,_0x66b96c){_0x3c602c&&_0x66b96c?ia['set'](this['graphicsDe'+'vice'],_0x3c602c,_0x66b96c):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x288584){if(_0x288584!==this['_skyboxAss'+'et']){const _0x3276f0=()=>{this['setSkybox'](null);},_0x4e5d99=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x4e5d99,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x3276f0,this),this['_skyboxAss'+'et']['off']('change',_0x4e5d99,this)),this['_skyboxAss'+'et']=_0x288584,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x4e5d99,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x3276f0,this),this['_skyboxAss'+'et']['on']('change',_0x4e5d99,this),this['scene']['skyboxMip']===-0x4d1+0x14b6+-0x1*0xfe5&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x2275*0x1+0x962+0x1913)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x4e5d99();}}['_firstBake'](){var _0x10bf8c;(_0x10bf8c=this['lightmappe'+'r'])==null||_0x10bf8c['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x57da06;(_0x57da06=this['batcher'])==null||_0x57da06['generate']();}['_processTi'+'mestamp'](_0x3b5711){return _0x3b5711;}['drawLine'](_0x4bd375,_0x3bcbaa,_0x3ac475,_0x26a69a,_0x480d7a){this['scene']['drawLine'](_0x4bd375,_0x3bcbaa,_0x3ac475,_0x26a69a,_0x480d7a);}['drawLines'](_0x46493f,_0x24cf12,_0x3883fc=!(-0x28b+-0x15*-0xf7+-0x7e*0x24),_0x32b626=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x46493f,_0x24cf12,_0x3883fc,_0x32b626);}['drawLineAr'+'rays'](_0x5dcca8,_0x24f496,_0x51d813=!(-0x189*0x8+0x161*-0x4+-0x86*-0x22),_0x3d033e=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x5dcca8,_0x24f496,_0x51d813,_0x3d033e);}['drawWireSp'+'here'](_0x361de3,_0x71bc7e,_0x5b7252=ie['WHITE'],_0x5ba287=-0x118c*0x1+-0x37b*0x1+0x151b,_0x4c9a9a=!(-0x1589+0x1*-0x183f+0x2dc8),_0x4bb0eb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x361de3,_0x71bc7e,_0x5b7252,_0x5ba287,_0x4c9a9a,_0x4bb0eb);}['drawWireAl'+'ignedBox'](_0x14e830,_0x5ba395,_0x37c1e8=ie['WHITE'],_0x1f0c83=!(0x20a*-0x2+0x18c+-0x1*-0x288),_0x6b3d23=this['scene']['defaultDra'+'wLayer'],_0x13b1a9){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x14e830,_0x5ba395,_0x37c1e8,_0x1f0c83,_0x6b3d23,_0x13b1a9);}['drawMeshIn'+'stance'](_0x24967d,_0x460f77=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x24967d,_0x460f77);}['drawMesh'](_0x37ccdb,_0x47775e,_0x52b0b3,_0x133eab=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x47775e,_0x52b0b3,_0x37ccdb,null,_0x133eab);}['drawQuad'](_0x406a43,_0x25dd1a,_0xd764f5=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x25dd1a,_0x406a43,this['scene']['immediate']['getQuadMes'+'h'](),null,_0xd764f5);}['drawTextur'+'e'](_0x1c5c04,_0x5f4536,_0x38f8de,_0x1a3d38,_0x31ebc9,_0x1dcf39,_0x7c7681=this['scene']['defaultDra'+'wLayer'],_0x25b291=!(-0x25a0+-0x4c1+0x2a61)){if(_0x25b291===!(0x2164+-0xbda+-0x1*0x1589)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x300372=new te();_0x300372['setTRS'](new D(_0x1c5c04,_0x5f4536,-0x3*0x595+-0x87+0x1146),le['IDENTITY'],new D(_0x38f8de,-_0x1a3d38,0x7ad+-0x1*0x1dad+0x2*0xb00)),_0x1dcf39||(_0x1dcf39=new Xn(),_0x1dcf39['cull']=bt,_0x1dcf39['setParamet'+'er']('colorMap',_0x31ebc9),_0x1dcf39['shaderDesc']=_0x25b291?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x31ebc9['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x1dcf39['update']()),this['drawQuad'](_0x300372,_0x1dcf39,_0x7c7681);}['drawDepthT'+'exture'](_0x11a387,_0xe29943,_0x43271b,_0x5d6b8e,_0x191b7d=this['scene']['defaultDra'+'wLayer']){const _0x25e22d=new Xn();_0x25e22d['cull']=bt,_0x25e22d['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x25e22d['update'](),this['drawTextur'+'e'](_0x11a387,_0xe29943,_0x43271b,_0x5d6b8e,null,_0x25e22d,_0x191b7d);}['destroy'](){var _0x403b4f,_0xd5970b,_0x512798,_0x4e6b9f;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x19c7*-0x1+-0x9fb+-0xc7*-0x2e);return;}const _0x43b1cd=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xda4+-0x132d*-0x1+-0x3c*0x8c)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x61d+-0x20c*-0x12+-0x1eba)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x19a6+0x282*0x6+0xb*-0x3b3)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x9*0x3bc+-0x14ec+-0xcaf))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x4d6535=this['assets']['list']();for(let _0x358cd8=0x3*0x19d+-0xd89+-0x9f*-0xe;_0x358cd8<_0x4d6535['length'];_0x358cd8++)_0x4d6535[_0x358cd8]['unload'](),_0x4d6535[_0x358cd8]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x3d1ae4=this['loader']['getHandler']('script');_0x3d1ae4==null||_0x3d1ae4['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x403b4f=this['lightmappe'+'r'])==null||_0x403b4f['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0xd5970b=this['xr'])==null||_0xd5970b['end'](),(_0x512798=this['xr'])==null||_0x512798['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x4e6b9f=this['_soundMana'+'ger'])==null||_0x4e6b9f['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x43b1cd]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x25ef6d){_0x25ef6d['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x25ef6d['frameReque'+'stId']),_0x25ef6d['frameReque'+'stId']=void(-0x6*-0x59e+-0x1015*-0x2+-0x41de));}['getEntityF'+'romIndex'](_0x23fc2e){return this['_entityInd'+'ex'][_0x23fc2e];}['_registerS'+'ceneImmedi'+'ate'](_0x2c63fd){this['on']('postrender',_0x2c63fd['immediate']['onPostRend'+'er'],_0x2c63fd['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x5043d1){const _0x119793=_0x5043d1;return function(_0x8031d4,_0x329a9d){var _0x4443b4,_0x6c8e80,_0x5c68d3,_0x4961f4;if(!_0x119793['graphicsDe'+'vice'])return;_0x119793['frameReque'+'stId']&&((_0x6c8e80=(_0x4443b4=_0x119793['xr'])==null?void(0x2497+-0x344*0x4+-0x1787):_0x4443b4['session'])==null||_0x6c8e80['cancelAnim'+'ationFrame'](_0x119793['frameReque'+'stId']),cancelAnimationFrame(_0x119793['frameReque'+'stId']),_0x119793['frameReque'+'stId']=null),_0x119793['_inFrameUp'+'date']=!(0x1*0x12d5+0x125e*0x1+0x2533*-0x1),_u(_0x119793);const _0x558899=_0x119793['_processTi'+'mestamp'](_0x8031d4)||de(),_0x515172=_0x558899-(_0x119793['_time']||_0x558899);let _0x3132ff=_0x515172/(-0x4*0x19b+-0x24*0x4b+0x14e0);if(_0x3132ff=Y['clamp'](_0x3132ff,0x171c+0x2*-0xd35+0x34e,_0x119793['maxDeltaTi'+'me']),_0x3132ff*=_0x119793['timeScale'],_0x119793['_time']=_0x558899,(_0x5c68d3=_0x119793['xr'])!=null&&_0x5c68d3['session']?_0x119793['frameReque'+'stId']=_0x119793['xr']['session']['requestAni'+'mationFram'+'e'](_0x119793['tick']):_0x119793['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x119793['tick']):null,_0x119793['graphicsDe'+'vice']['contextLos'+'t'])return;_0x119793['_fillFrame'+'StatsBasic'](_0x558899,_0x3132ff,_0x515172),_0x119793['_fillFrame'+'Stats'](),_0x119793['fire']('frameupdat'+'e',_0x515172);let _0x2eb4e0=!(0x431*0x5+0x1a77+-0xc7*0x3d);_0x329a9d?(_0x2eb4e0=!((_0x4961f4=_0x119793['xr'])!=null&&_0x4961f4['update'](_0x329a9d)),_0x119793['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x329a9d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x119793['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x2eb4e0&&!_0x119793['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x119793['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0xa*0xc5+-0x168f+-0x1b*-0x8d)+'ms'),_0x119793['update'](_0x3132ff),_0x119793['fire']('framerende'+'r'),(_0x119793['autoRender']||_0x119793['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x6d*-0x2d+0x12b3+0x12ed*-0x2)+'ms'),_0x119793['render'](),_0x119793['renderNext'+'Frame']=!(0x14fb+-0x157f+-0x85*-0x1),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0xf0c+0x13d4+0x1*-0x22de)+'ms')),_0x119793['fire']('frameend')),_0x119793['_inFrameUp'+'date']=!(0x741+0x2093+-0x27d3),_0x119793['_destroyRe'+'quested']&&_0x119793['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x2874db,_0x34be77,_0xcd9997){this['scene']=_0x2874db,this['light']=_0x34be77,this['store'](),_0x34be77['numCascade'+'s']=-0x1*0x353+0xb60+-0x80c,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0xcd9997['shadowsEna'+'bled']&&(_0x34be77['castShadow'+'s']=!(0xff*-0x11+0x1661+-0xc7*0x7)),_0x34be77['type']!==ve&&(_0x34be77['_node']['getWorldTr'+'ansform'](),_0x34be77['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x37affc=this['light'];_0x37affc['mask']=this['mask'],_0x37affc['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x37affc['enabled']=this['enabled'],_0x37affc['intensity']=this['intensity'],_0x37affc['_node']['setLocalRo'+'tation'](this['rotation']),_0x37affc['numCascade'+'s']=this['numCascade'+'s'],_0x37affc['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x18*0xf2+0x1*-0xd7d+-0x3f*-0x93),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x5a10e3){const _0x3d59d8=this['light'];_0x3d59d8['enabled']=!(-0x1*-0xf4c+-0x1225+-0x2da*-0x1),_0x3d59d8['shadowMap']&&(_0x3d59d8['shadowMap']['cached']&&_0x5a10e3['add'](_0x3d59d8,_0x3d59d8['shadowMap']),_0x3d59d8['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0xe045ec,_0x144893){super(_0xe045ec['scene'],_0x144893,_0xe045ec['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:0x1*-0x200b+0x1972*0x1+0x69a;}['prepareVir'+'tualLight'](_0xe0baca,_0x388ac6){const _0x379644=this['light'];if(_0x379644['_node']['setLocalRo'+'tation'](this['rotation']),_0xe0baca>-0x1e8f+0x7*-0x355+-0xf2*-0x39){const _0x2fbf68=_0x379644['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0xe0baca,_0x388ac6),yc['mulScalar'](_0x2fbf68*(-0xb*-0x3b+-0x1687+-0x355*-0x6+0.5)),_0x379644['_node']['rotateLoca'+'l'](yc['x'],-0x1*0x1594+0x3*0x3fd+0x99d,yc['y']);}_0x379644['_node']['getWorldTr'+'ansform']();const _0xe7b516=-0x41a+0x1*-0x1775+0x1*0x1b91+0.20000000000000018,_0x8d1133=Math['pow'](this['intensity'],_0xe7b516);_0x379644['intensity']=Math['pow'](_0x8d1133/_0x388ac6,(-0xb2c+-0xa36*0x3+-0x29cf*-0x1)/_0xe7b516);}}const Pg=new D();class Mg extends Uv{constructor(_0x59787b){const _0x4d2d38=_0x59787b['scene'],_0x11f274=new lt('AmbientLig'+'ht');_0x11f274['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0xc0+0x1*-0x71e+0x7de),'affectLightmapped':!(-0x626*-0x3+0xac*-0x20+0x30f),'bake':!(0x541*-0x2+0x495+0x5ed),'bakeNumSamples':_0x4d2d38['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x2490+0xaf1*-0x1+0x2f81),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0x1*0x39a+0x385+0x16)}),super(_0x4d2d38,_0x11f274['light']['light'],_0x59787b['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x324fd1,_0x28bb8c){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x324fd1,_0x28bb8c,-0x1895+0xda*-0x2b+-0x3d33*-0x1,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0xd2a+0x886*0x1+0x4a5))),this['light']['_node']['rotateLoca'+'l'](0x21f3+-0xbf9+-0x15a0,-0x889*0x1+0x1864+0xb*-0x171,0x81*-0x35+-0x12fa+0x2daf);const _0x64b356=0xa7*0xb+0x257+-0x982+0.20000000000000018,_0x295c37=(0xd*-0x29e+0x2eb+0x3*0xa5f)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x222e11=Math['pow'](_0x295c37,_0x64b356);this['light']['intensity']=Math['pow'](_0x222e11/_0x28bb8c,(-0x1481*-0x1+-0xaf4*-0x3+-0x355c)/_0x64b356);}}class vc{constructor(_0x4196cb,_0x382ca8=null){this['node']=_0x4196cb,this['component']=_0x4196cb['render']||_0x4196cb['model'],_0x382ca8=_0x382ca8||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x382ca8,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x3*0xc69+0x117*0xb+0x33*0x7f,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x46fec9){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x46fec9,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x46fec9['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x46fec9['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x1d1f+0x20f9+-0x373*0x12),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x2d6861){this['constantTe'+'xSource']['setValue'](_0x2d6861);}['prepare'](_0x4463c8,_0x255e11){this['pixelOffse'+'t'][-0x35f*-0x1+-0x13*-0x1d5+0x12*-0x21f]=(-0xa8b*-0x1+-0x4*0x1e0+-0x30a)/_0x4463c8,this['pixelOffse'+'t'][0x1*-0x68b+-0x8fb+0x5*0x31b]=(-0x96+-0x114d+0x11e4)/_0x255e11,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x37b7b1,_0x564b93,_0xd75206){const _0x540aaa=_0xd75206?0x733+0x101*-0x13+0xbe0:-0x1*-0x1717+-0x15*0x63+0x4fd*-0x3;if(!this['shaderDeno'+'ise'][_0x540aaa]){const _0x4f062c=new Map();_0x4f062c['set']('{MSIZE}',-0x511*0x2+-0x1c5f+-0x269*-0x10),_0xd75206&&_0x4f062c['set']('HDR',''),this['shaderDeno'+'ise'][_0x540aaa]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0xd75206?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x4f062c}),this['sigmas']=new Float32Array(0x31e*-0x1+0x1797+0x193*-0xd),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x461*0x2+-0x12ba+-0xb*-0xe8]=_0x37b7b1,this['sigmas'][0x21e*0xd+-0x3*0x607+-0x970]=_0x564b93,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x37b7b1,_0x564b93);}['getDenoise'](_0x18c561){const _0x24148f=_0x18c561?0x1c6c+0x1130+0x16ce*-0x2:0x2f*-0x82+0x21c8+-0x9e9;return this['shaderDeno'+'ise'][_0x24148f];}['getDilate'](_0x4614d5,_0x502b25){const _0x104a29=_0x502b25?0x142c+0xd*0x110+0xae*-0x32:-0xf1a+-0x1*0x15fe+0x1*0x2519;if(!this['shaderDila'+'te'][_0x104a29]){const _0x4f4803=_0x502b25?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x104a29]=$t['createShad'+'er'](_0x4614d5,{'uniqueName':'lmDilate-'+(_0x502b25?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x4f4803+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x4f4803+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x104a29];}['evaluateDe'+'noiseUnifo'+'rms'](_0x1b87fd,_0x2606b5){function _0x37beab(_0x3d060e,_0x1087e6){return(-0x1111+-0x1d7c+0x2e8d+0.39894)*Math['exp'](-(-0x649*-0x1+-0x26c0+-0x1*-0x2077+0.5)*_0x3d060e*_0x3d060e/(_0x1087e6*_0x1087e6))/_0x1087e6;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x5e09c2=this['kernel'],_0x4caac6=Math['floor']((Dg-(0x1*0x53+-0x72b+-0x6d9*-0x1))/(0x42*-0x2c+0x1aad*-0x1+-0x5*-0x79b));for(let _0xcc855c=0xf5d+0x1a3*-0x1+-0x1f6*0x7;_0xcc855c<=_0x4caac6;++_0xcc855c){const _0xcbe04f=_0x37beab(_0xcc855c,_0x1b87fd);_0x5e09c2[_0x4caac6+_0xcc855c]=_0xcbe04f,_0x5e09c2[_0x4caac6-_0xcc855c]=_0xcbe04f;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x5c0a5c=(0x1708+-0x7*0x3fd+0x272*0x2)/_0x37beab(-0x1953+0xcb3*-0x3+-0x12*-0x386,_0x2606b5);this['bZnorm']['setValue'](_0x5c0a5c);}}class hL extends ys{constructor(_0x111ba5,_0x5eae4d,_0xd59cc1,_0x4c9ce9,_0x1cc8ed,_0x56e390){super(_0x111ba5),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x5eae4d,this['camera']=_0xd59cc1,this['worldClust'+'ers']=_0x4c9ce9,this['receivers']=_0x1cc8ed,this['lightArray']=_0x56e390);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x27797e=>{_0x27797e['defaultUni'+'formBuffer']['destroy'](),_0x27797e['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1c8c+0x6b*0x2b+0xa93;}['execute'](){const _0x6f2249=this['device'];Q['pushGpuMar'+'ker'](_0x6f2249,'Lightmappe'+'r');const {renderer:_0x53a8cd,camera:_0x7bdc8f,receivers:_0x276435,renderTarget:_0x36628e,worldClusters:_0x46a473,lightArray:_0x57db78}=this;_0x53a8cd['renderForw'+'ardLayer'](_0x7bdc8f,_0x36628e,null,void(0xd00+0xb61+0x4f*-0x4f),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x276435,'splitLights':_0x57db78,'lightClusters':_0x46a473}),Q['popGpuMark'+'er'](_0x6f2249);}}const dL=-0x1*-0x1a7d+0x8c*-0x15+-0x701*0x1,fL=0x1e99+-0x1*0x2222+0x5*0xb5,uL=0x171c+0x1*0x1bf6+-0x3311*0x1,xc=new D();class pL{constructor(_0x5ead7e,_0x57a48f,_0x3fc7e3,_0x49281c,_0x3850b7){this['device']=_0x5ead7e,this['root']=_0x57a48f,this['scene']=_0x3fc7e3,this['renderer']=_0x49281c,this['assets']=_0x3850b7,this['shadowMapC'+'ache']=_0x49281c['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1108+0x6e1+0xbf4*-0x2),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x5db648;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x5db648=this['camera'])==null||_0x5db648['destroy'](),this['camera']=null;}['initBake'](_0x217b72){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x1*-0x996+0x283*0xe+-0x2cc0),this['lightmapFi'+'lters']=new cL(_0x217b72),this['constantBa'+'keDir']=_0x217b72['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x481a01=new Fl();_0x481a01['clearColor']['set'](0xb35+-0x9*0x157+0xda,0xc8*0x2b+0x1681+-0x3819,-0xac7*0x1+0x901+0xe3*0x2,0x10*0x17f+0x1*-0xaf7+-0x29*0x51),_0x481a01['clearColor'+'Buffer']=!(0xab7+0x1067+-0x4e*0x59),_0x481a01['clearDepth'+'Buffer']=!(0x2b+-0x1616+0x15ec),_0x481a01['clearStenc'+'ilBuffer']=!(-0x236a+-0x68d+0x29f8),_0x481a01['frustumCul'+'ling']=!(0x2563+0x7b8+-0x2d1a),_0x481a01['projection']=En,_0x481a01['aspectRati'+'o']=0x2033+-0xd1e+-0x1314,_0x481a01['node']=new Ie(),this['camera']=_0x481a01,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x145ab1=new Mv(_0x217b72['supportsAr'+'eaLights'],_0x217b72['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x145ab1;const _0x4a03ce=this['scene']['lighting'];_0x145ab1['shadowsEna'+'bled']=_0x4a03ce['shadowsEna'+'bled'],_0x145ab1['shadowAtla'+'sResolutio'+'n']=_0x4a03ce['shadowAtla'+'sResolutio'+'n'],_0x145ab1['cookiesEna'+'bled']=_0x4a03ce['cookiesEna'+'bled'],_0x145ab1['cookieAtla'+'sResolutio'+'n']=_0x4a03ce['cookieAtla'+'sResolutio'+'n'],_0x145ab1['areaLights'+'Enabled']=_0x4a03ce['areaLights'+'Enabled'],_0x145ab1['cells']=new D(-0x5d1+-0xa*-0x1c+0x65*0xc,0x5*-0x3c2+-0x10a+0x13d7,-0x5d*-0x29+0x23b7+0x3299*-0x1),_0x145ab1['maxLightsP'+'erCell']=0x72f+0x1ca0+-0x23cb,this['worldClust'+'ers']=new cu(_0x217b72),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x423ae3){this['materials']=[];function _0x1176e2(_0x313e84){zi['decRef'](_0x313e84['colorBuffe'+'r']),_0x313e84['destroy']();}this['renderTarg'+'ets']['forEach'](_0x4ef98c=>{_0x1176e2(_0x4ef98c);}),this['renderTarg'+'ets']['clear'](),_0x423ae3['forEach'](_0x2d4a6e=>{_0x2d4a6e['renderTarg'+'ets']['forEach'](_0x2d2616=>{_0x1176e2(_0x2d2616);}),_0x2d4a6e['renderTarg'+'ets']['length']=-0x9bd*-0x1+-0xd46+0x389;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0xf9d4d,_0x46b055,_0x5b4239){const _0x4f6aaf=new Ut();return _0x4f6aaf['name']='lmMaterial'+'-pass:'+_0x46b055+'-ambient:'+_0x5b4239,_0x4f6aaf['setDefine']('UV1LAYOUT',''),_0x4f6aaf['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x46b055===fL?(_0x4f6aaf['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x5b4239?_0x4f6aaf['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x4f6aaf['ambient']=new ie(-0x1592+0x1b6c+-0x2ed*0x2,0x3*0x25+-0x107b+0x100c,0x1008+-0x19b7*0x1+0x9af),this['bakeHDR']||_0x4f6aaf['setDefine']('LIGHTMAP_R'+'GBM',''),_0x4f6aaf['lightMap']=this['blackTex']):(_0x4f6aaf['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x4f6aaf['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x4f6aaf['cull']=bt,_0x4f6aaf['forceUv1']=!(0x1*-0x1f97+-0xdfa+0x1*0x2d91),_0x4f6aaf['update'](),_0x4f6aaf;}['createMate'+'rials'](_0x2b6a58,_0x50ef04,_0x2fe879){for(let _0x4e67f1=0x2*-0x3bf+0x1227+0xaa9*-0x1;_0x4e67f1<_0x2fe879;_0x4e67f1++)this['passMateri'+'als'][_0x4e67f1]||(this['passMateri'+'als'][_0x4e67f1]=this['createMate'+'rialForPas'+'s'](_0x50ef04,_0x4e67f1,!(-0x213c+0x2*-0x475+-0x21*-0x147)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x50ef04,-0xd*-0x243+0x16fc+-0x3463,!(0x14cb+0x195e+-0x2e29)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x35810e){return _0x35810e['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3e8*-0x9+0x4fe+0x1e2a),_0x35810e['litOptions']['separateAm'+'bient']=!(-0x1*-0x15b+-0x409+0x157*0x2),_0x35810e;});}['createText'+'ure'](_0x1871f0,_0x4c0108){return new _e(this['device'],{'profilerHint':vy,'width':_0x1871f0,'height':_0x1871f0,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x16c*0x10+0x25e3+-0x3*0x1436),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x4c0108});}['collectMod'+'els'](_0x391d47,_0x7969d1,_0x15c30a){var _0x27bd93,_0x4f834e,_0x3c451a;if(!_0x391d47['enabled'])return;let _0xf4ae43;if((_0x27bd93=_0x391d47['model'])!=null&&_0x27bd93['model']&&((_0x4f834e=_0x391d47['model'])!=null&&_0x4f834e['enabled'])&&(_0x15c30a&&_0x15c30a['push'](new vc(_0x391d47)),_0x391d47['model']['lightmappe'+'d']&&_0x7969d1&&(_0xf4ae43=_0x391d47['model']['model']['meshInstan'+'ces'])),(_0x3c451a=_0x391d47['render'])!=null&&_0x3c451a['enabled']&&(_0x15c30a&&_0x15c30a['push'](new vc(_0x391d47)),_0x391d47['render']['lightmappe'+'d']&&_0x7969d1&&(_0xf4ae43=_0x391d47['render']['meshInstan'+'ces'])),_0xf4ae43){let _0x44a708=!(0xeee+-0x4e7*-0x7+-0x709*0x7);for(let _0x2e526c=-0x1*-0x22cd+0x1fbc+-0x4289;_0x2e526c<_0xf4ae43['length'];_0x2e526c++)if(!_0xf4ae43[_0x2e526c]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x391d47['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x44a708=!(-0x24*0x3e+-0xdf1+0x16aa);break;}if(_0x44a708){const _0x26145c=[];for(let _0x4663af=-0x93c+0x927+0x15;_0x4663af<_0xf4ae43['length'];_0x4663af++){const _0x4c0234=_0xf4ae43[_0x4663af]['mesh'];this['_tempSet']['has'](_0x4c0234)?_0x7969d1['push'](new vc(_0x391d47,[_0xf4ae43[_0x4663af]])):_0x26145c['push'](_0xf4ae43[_0x4663af]),this['_tempSet']['add'](_0x4c0234);}this['_tempSet']['clear'](),_0x26145c['length']>0xa70+0x16a9+-0x2119&&_0x7969d1['push'](new vc(_0x391d47,_0x26145c));}}for(let _0x59be03=0x174b+0x3*0x7d6+-0x2ecd*0x1;_0x59be03<_0x391d47['_children']['length'];_0x59be03++)this['collectMod'+'els'](_0x391d47['_children'][_0x59be03],_0x7969d1,_0x15c30a);}['prepareSha'+'dowCasters'](_0x22fe61){const _0x5e70a5=[];for(let _0x118400=0x19e3+0x1*0x1b05+-0x2*0x1a74;_0x118400<_0x22fe61['length'];_0x118400++){const _0x36a115=_0x22fe61[_0x118400]['component'];if(_0x36a115['castShadow'+'s']=_0x36a115['castShadow'+'sLightmap'],_0x36a115['castShadow'+'sLightmap']){const _0x382374=_0x22fe61[_0x118400]['meshInstan'+'ces'];for(let _0x226ac2=0x2fc+-0x9e7*0x3+0x1ab9;_0x226ac2<_0x382374['length'];_0x226ac2++)_0x382374[_0x226ac2]['visibleThi'+'sFrame']=!(-0x39*0x45+-0x1*-0x1f55+-0xff8),_0x5e70a5['push'](_0x382374[_0x226ac2]);}}return _0x5e70a5;}['updateTran'+'sforms'](_0x4dd95f){for(let _0x41dfc7=-0x17*0x6e+-0x97d+0x13*0x105;_0x41dfc7<_0x4dd95f['length'];_0x41dfc7++){const _0x331af1=_0x4dd95f[_0x41dfc7]['meshInstan'+'ces'];for(let _0x23e7d3=-0x343*0xa+0xab*0xf+0x41*0x59;_0x23e7d3<_0x331af1['length'];_0x23e7d3++)_0x331af1[_0x23e7d3]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x2c9ca9){let _0x4420fd;const _0x346022=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x1*0x281+0x50*0x2b+-0xfd*0xb,_0x5bebc1=xc;let _0x2755a4,_0x2df18f;_0x2c9ca9['model']?(_0x2df18f=_0x2c9ca9['model']['lightmapSi'+'zeMultipli'+'er'],_0x2c9ca9['model']['asset']?(_0x4420fd=this['assets']['get'](_0x2c9ca9['model']['asset'])['data'],_0x4420fd['area']&&(_0x2755a4=_0x4420fd['area'])):_0x2c9ca9['model']['_area']&&(_0x4420fd=_0x2c9ca9['model'],_0x4420fd['_area']&&(_0x2755a4=_0x4420fd['_area']))):_0x2c9ca9['render']&&(_0x2df18f=_0x2c9ca9['render']['lightmapSi'+'zeMultipli'+'er'],_0x2c9ca9['render']['type']!=='asset'&&_0x2c9ca9['render']['_area']&&(_0x4420fd=_0x2c9ca9['render'],_0x4420fd['_area']&&(_0x2755a4=_0x4420fd['_area'])));const _0x5e74a8={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x2755a4&&(_0x5e74a8['x']=_0x2755a4['x'],_0x5e74a8['y']=_0x2755a4['y'],_0x5e74a8['z']=_0x2755a4['z'],_0x5e74a8['uv']=_0x2755a4['uv']);const _0x10231a=_0x2df18f||0xa26+-0xd7d*0x1+0xd6*0x4;_0x5e74a8['x']*=_0x10231a,_0x5e74a8['y']*=_0x10231a,_0x5e74a8['z']*=_0x10231a;const _0x47dea8=_0x2c9ca9['render']||_0x2c9ca9['model'],_0x326b1d=this['computeNod'+'eBounds'](_0x47dea8['meshInstan'+'ces']);_0x5bebc1['copy'](_0x326b1d['halfExtent'+'s']);let _0x35b344=_0x5e74a8['x']*_0x5bebc1['y']*_0x5bebc1['z']+_0x5e74a8['y']*_0x5bebc1['x']*_0x5bebc1['z']+_0x5e74a8['z']*_0x5bebc1['x']*_0x5bebc1['y'];return _0x35b344/=_0x5e74a8['uv'],_0x35b344=Math['sqrt'](_0x35b344),Math['min'](Y['nextPowerO'+'fTwo'](_0x35b344*_0x346022),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x9ca26e,_0x41e1b1,_0x34dd0b,_0x1a7ead){for(let _0x332a5a=-0xe6c*-0x1+-0x2348+0x14dc;_0x332a5a<_0x9ca26e['length'];_0x332a5a++){const _0x486c42=_0x9ca26e[_0x332a5a],_0x30f00f=_0x486c42['meshInstan'+'ces'];for(let _0x3f0b07=0xdb*0x3+-0xc*-0x209+-0x1afd;_0x3f0b07<_0x30f00f['length'];_0x3f0b07++){const _0x197d0b=_0x30f00f[_0x3f0b07];if(_0x197d0b['setLightma'+'pped'](_0x41e1b1),_0x41e1b1){_0x1a7ead&&(_0x197d0b['_shaderDef'+'s']|=_0x1a7ead),_0x197d0b['mask']=di;for(let _0x537a36=0x23f0+-0xd*0xc1+0x1a23*-0x1;_0x537a36<_0x34dd0b;_0x537a36++){const _0x2bb421=_0x486c42['renderTarg'+'ets'][_0x537a36]['colorBuffe'+'r'];_0x2bb421['minFilter']=vt,_0x2bb421['magFilter']=vt,_0x197d0b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x537a36],_0x2bb421);}}}}}['bake'](_0x523b55,_0x1213fc=jc){const _0x23eda0=this['device'],_0x2f9963=de();this['scene']['_updateSky'+'Mesh'](),_0x23eda0['fire']('lightmappe'+'r:start',{'timestamp':_0x2f9963,'target':this}),this['stats']['renderPass'+'es']=-0x119c+0x1d69*-0x1+-0x2f05*-0x1,this['stats']['shadowMapT'+'ime']=0x2*-0x3df+-0x12a6+0x4*0x699,this['stats']['forwardTim'+'e']=-0xa6e+0x1761*-0x1+0x21cf;const _0x320a95=_0x23eda0['_shaderSta'+'ts']['linked'],_0x3a4a00=_0x23eda0['_renderTar'+'getCreatio'+'nTime'],_0x1e966e=_0x23eda0['_shaderSta'+'ts']['compileTim'+'e'],_0x3fa9ee=[],_0x3081fa=[];if(_0x523b55){for(let _0x454886=0x23f0+-0x1b9d+0x1*-0x853;_0x454886<_0x523b55['length'];_0x454886++)this['collectMod'+'els'](_0x523b55[_0x454886],_0x3fa9ee,null);this['collectMod'+'els'](this['root'],null,_0x3081fa);}else this['collectMod'+'els'](this['root'],_0x3fa9ee,_0x3081fa);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x3fa9ee['length']>-0x2229+-0x1*-0x2467+-0x23e*0x1){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x1b31ca=_0x1213fc===jc?0x20*0x6a+-0x5*-0x19f+0x5*-0x445:-0xa*-0xcb+-0xeb*0x24+0x191f*0x1;this['setLightma'+'pping'](_0x3fa9ee,!(-0x2d0+-0x3*-0x975+-0x198e),_0x1b31ca),this['initBake'](_0x23eda0),this['bakeIntern'+'al'](_0x1b31ca,_0x3fa9ee,_0x3081fa);let _0x50dafa=ou;_0x1213fc===jc&&(_0x50dafa|=uv),this['scene']['ambientBak'+'e']&&(_0x50dafa|=pv),this['setLightma'+'pping'](_0x3fa9ee,!(0x99f+-0x3a1*-0x7+-0x1183*0x2),_0x1b31ca,_0x50dafa),this['finishBake'](_0x3fa9ee);}Q['popGpuMark'+'er'](this['device']);const _0x305fec=de();this['stats']['totalRende'+'rTime']=_0x305fec-_0x2f9963,this['stats']['shadersLin'+'ked']=_0x23eda0['_shaderSta'+'ts']['linked']-_0x320a95,this['stats']['compileTim'+'e']=_0x23eda0['_shaderSta'+'ts']['compileTim'+'e']-_0x1e966e,this['stats']['fboTime']=_0x23eda0['_renderTar'+'getCreatio'+'nTime']-_0x3a4a00,this['stats']['lightmapCo'+'unt']=_0x3fa9ee['length'],_0x23eda0['fire']('lightmappe'+'r:end',{'timestamp':_0x305fec,'target':this});}['allocateTe'+'xtures'](_0x162dbf,_0x5cd1c5){for(let _0x39a1c0=0x2e3*0x7+-0x5ad*0x2+-0x8db*0x1;_0x39a1c0<_0x162dbf['length'];_0x39a1c0++){const _0x617792=_0x162dbf[_0x39a1c0],_0x44b70b=this['calculateL'+'ightmapSiz'+'e'](_0x617792['node']);for(let _0x279633=0x1ba2+-0x5*0x4c1+-0x2b*0x17;_0x279633<_0x5cd1c5;_0x279633++){const _0x4ccd78=this['createText'+'ure'](_0x44b70b,'lightmappe'+'r_lightmap'+'_'+_0x39a1c0);zi['incRef'](_0x4ccd78),_0x617792['renderTarg'+'ets'][_0x279633]=new gt({'colorBuffer':_0x4ccd78,'depth':!(0x35b+0x1161+0x1*-0x14bb)});}if(!this['renderTarg'+'ets']['has'](_0x44b70b)){const _0xf1040a=this['createText'+'ure'](_0x44b70b,'lightmappe'+'r_temp_lig'+'htmap_'+_0x44b70b);zi['incRef'](_0xf1040a),this['renderTarg'+'ets']['set'](_0x44b70b,new gt({'colorBuffer':_0xf1040a,'depth':!(0x4*-0x8cc+-0x198d+0x3cbe)}));}}}['prepareLig'+'htsToBake'](_0x3471a1,_0x5eb65c){if(this['scene']['ambientBak'+'e']){const _0x40766c=new Mg(this);_0x5eb65c['push'](_0x40766c);}const _0x2b40b5=this['renderer']['lights'];for(let _0x2b1479=-0xb*0x385+0x1921+0xd96;_0x2b1479<_0x2b40b5['length'];_0x2b1479++){const _0x306112=_0x2b40b5[_0x2b1479],_0x10f51d=new sL(this,_0x306112);_0x3471a1['push'](_0x10f51d),_0x306112['enabled']&&(_0x306112['mask']&fi)!==0xfc8+-0x208e+0x10c6&&(_0x306112['mask']=fi|di|Ss,_0x306112['shadowUpda'+'teMode']=_0x306112['type']===ve?lm:xr,_0x5eb65c['push'](_0x10f51d));}_0x5eb65c['sort']();}['restoreLig'+'hts'](_0x7f6985){for(let _0x481e05=0x53*0x1c+0x7*-0x3fa+0x12c2*0x1;_0x481e05<_0x7f6985['length'];_0x481e05++)_0x7f6985[_0x481e05]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0xfdf+-0x1*-0x239e+-0x337d,0x19b*-0x1+0x1*-0x8db+0x1*0xa76,0xc12+-0x179c*-0x1+-0x23ae),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x53b878){const _0x94bc3e=new De();if(_0x53b878['length']>0x1*0x3f5+-0x1f31+0x1b3c){_0x94bc3e['copy'](_0x53b878[0x22e2+0x1bb*-0x1+-0x2127]['aabb']);for(let _0x2236e7=0x146c+0x27f+-0x16ea;_0x2236e7<_0x53b878['length'];_0x2236e7++)_0x94bc3e['add'](_0x53b878[_0x2236e7]['aabb']);}return _0x94bc3e;}['computeNod'+'esBounds'](_0x59568d){for(let _0x3db932=0x13*0x17b+-0x19e8*-0x1+-0x3609;_0x3db932<_0x59568d['length'];_0x3db932++){const _0xccbe43=_0x59568d[_0x3db932]['meshInstan'+'ces'];_0x59568d[_0x3db932]['bounds']=this['computeNod'+'eBounds'](_0xccbe43);}}['computeBou'+'nds'](_0x5de5d3){const _0x1fcfc5=new De();for(let _0x66e0ec=0x3*-0x656+-0x1*0x9f7+0x1*0x1cf9;_0x66e0ec<_0x5de5d3['length'];_0x66e0ec++){_0x1fcfc5['copy'](_0x5de5d3[0x186*-0x11+0x1aed+0x1*-0x107]['aabb']);for(let _0x5c2308=0x7cb+0x1c+-0x3*0x2a2;_0x5c2308<_0x5de5d3['length'];_0x5c2308++)_0x1fcfc5['add'](_0x5de5d3[_0x5c2308]['aabb']);}return _0x1fcfc5;}['backupMate'+'rials'](_0x434162){for(let _0x52cdc3=0x1261+0x34c+-0x15ad*0x1;_0x52cdc3<_0x434162['length'];_0x52cdc3++)this['materials'][_0x52cdc3]=_0x434162[_0x52cdc3]['material'];}['restoreMat'+'erials'](_0x486ba3){for(let _0x5a4a24=-0x1*0x2705+0x1311+0x4*0x4fd;_0x5a4a24<_0x486ba3['length'];_0x5a4a24++)_0x486ba3[_0x5a4a24]['material']=this['materials'][_0x5a4a24];}['lightCamer'+'aPrepare'](_0x1a5b14,_0x4f4dee){const _0x12c980=_0x4f4dee['light'];let _0xd22710;return _0x12c980['type']===Ze&&(_0xd22710=_0x12c980['getRenderD'+'ata'](null,0x5e7+0x1633+-0x1c1a)['shadowCame'+'ra'],_0xd22710['_node']['setPositio'+'n'](_0x12c980['_node']['getPositio'+'n']()),_0xd22710['_node']['setRotatio'+'n'](_0x12c980['_node']['getRotatio'+'n']()),_0xd22710['_node']['rotateLoca'+'l'](-(-0x1607+-0x392+0x19f3),-0x1a29+0x1*0x35+0x19f4,0x1442+-0x1041+-0x5*0xcd),_0xd22710['projection']=ni,_0xd22710['nearClip']=_0x12c980['attenuatio'+'nEnd']/(-0x4*0x80e+0xddf*-0x1+0x31ff*0x1),_0xd22710['farClip']=_0x12c980['attenuatio'+'nEnd'],_0xd22710['aspectRati'+'o']=-0x2*-0xb65+0x171*0x2+-0x1*0x19ab,_0xd22710['fov']=_0x12c980['_outerCone'+'Angle']*(-0xd03+-0x1170+0x1e75),this['renderer']['updateCame'+'raFrustum'](_0xd22710)),_0xd22710;}['lightCamer'+'aPrepareAn'+'dCull'](_0x819d20,_0x14ede7,_0x3c0929,_0x2604de){const _0x3ca11c=_0x819d20['light'];let _0x4d3cc7=!(0x859*0x4+0x5ec*-0x6+0x224);if(_0x3ca11c['type']===ve){xc['copy'](_0x2604de['center']),xc['y']+=_0x2604de['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x4d5*-0x1+0x20*0xc0+-0x12d1),-0x124*-0x15+-0x1*0x5d6+-0x121e,-0x74*0x55+0x44*-0x1+0x26c8),this['camera']['nearClip']=-0x3b9+0x1f6*0x10+-0x1ba7,this['camera']['farClip']=_0x2604de['halfExtent'+'s']['y']*(0x1350+-0xa*0x395+0x1084);const _0xd35cb8=Math['max'](_0x2604de['halfExtent'+'s']['x'],_0x2604de['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0xd35cb8;}else _0x819d20['lightBound'+'s']['intersects'](_0x14ede7['bounds'])||(_0x4d3cc7=!(0x1*-0xa39+0x4c0+-0x2*-0x2bd));if(_0x3ca11c['type']===Ze){let _0x13f722=!(0x3*0x635+-0x2c8*-0x2+0x26b*-0xa);const _0x28a433=_0x14ede7['meshInstan'+'ces'];for(let _0x5eef99=-0x184a+0x38f*-0xa+-0x2*-0x1df0;_0x5eef99<_0x28a433['length'];_0x5eef99++)if(_0x28a433[_0x5eef99]['_isVisible'](_0x3c0929)){_0x13f722=!(-0x33+0xc4b+0x2*-0x60c);break;}_0x13f722||(_0x4d3cc7=!(-0x160f+-0x5*-0x709+0x9*-0x175));}return _0x4d3cc7;}['setupLight'+'Array'](_0x444f9c,_0x1eff1d){_0x444f9c[ve]['length']=-0xc31+-0x2692+-0x17*-0x235,_0x444f9c[Ke]['length']=-0x2*-0x2d2+0x10c3*-0x1+0x1*0xb1f,_0x444f9c[Ze]['length']=0xed1*0x1+0x1ccf+-0x2ba0,_0x444f9c[_0x1eff1d['type']][-0x1*-0x13af+0xdc8+-0x2177]=_0x1eff1d,_0x1eff1d['visibleThi'+'sFrame']=!(-0xe39+0x22e8+-0x14af);}['renderShad'+'owMap'](_0x363b61,_0x35f38b,_0x2743f3,_0x51cb70){const _0x112a36=_0x51cb70['light'],_0x3eb80b=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x367984=_0x112a36['castShadow'+'s']&&(!_0x3eb80b||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x35f38b&&_0x367984){if(!_0x112a36['shadowMap']&&!_0x3eb80b&&(_0x112a36['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x112a36)),_0x112a36['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x112a36,_0x363b61,this['camera'],_0x2743f3);const _0xe84a58=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x112a36,this['camera']);_0xe84a58==null||_0xe84a58['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x1*0x2543+-0x668+0x1*0x2bab);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x112a36,_0x363b61,_0x2743f3),this['renderer']['shadowRend'+'erer']['render'](_0x112a36,this['camera'],!(-0xb91+-0x1e26+-0x5*-0x858));}}return!(0xd5*-0x25+-0x22*-0x91+-0xe3*-0xd);}['postproces'+'sTextures'](_0x33e51e,_0xf3a7c6,_0x2a003e){const _0x330c1f=this['lightmapFi'+'lters']['getDilate'](_0x33e51e,this['bakeHDR']);let _0x5d8621;const _0x5e7147=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x5e7147&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x5d8621=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x33e51e['setBlendSt'+'ate'](pt['NOBLEND']),_0x33e51e['setDepthSt'+'ate'](Yt['NODEPTH']),_0x33e51e['setStencil'+'State'](null,null);for(let _0x524b5f=0x1d9f+-0x440+-0x195f;_0x524b5f<_0xf3a7c6['length'];_0x524b5f++){const _0x3ae284=_0xf3a7c6[_0x524b5f];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x524b5f);for(let _0x5bbb7c=-0x1b1*-0x12+-0x25e7+0x17*0x53;_0x5bbb7c<_0x2a003e;_0x5bbb7c++){const _0x11bd0d=_0x3ae284['renderTarg'+'ets'][_0x5bbb7c],_0x45b252=_0x11bd0d['colorBuffe'+'r'],_0x2f9100=this['renderTarg'+'ets']['get'](_0x45b252['width']),_0x20414a=_0x2f9100['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x45b252['width'],_0x45b252['height']);for(let _0xa662db=0x28d+0x4b4+-0x741;_0xa662db<-0x407*0x7+0x101f*-0x1+0x2c51;_0xa662db++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x45b252),Ar(_0x33e51e,_0x2f9100,_0x5e7147&&_0x5bbb7c===0x1a90+-0x3b+-0x8c7*0x3&&_0xa662db===-0x6a1+-0x1*0x21e6+-0x19f*-0x19?_0x5d8621:_0x330c1f),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x20414a),Ar(_0x33e51e,_0x11bd0d,_0x330c1f);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x2f84af,_0x5a22b8,_0x38768a){const _0x5f136b=this['scene'],_0x39c25e=_0x5f136b['layers'],_0x3aa182=this['device'],_0x5cb15b=_0x5f136b['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x3aa182,_0x5f136b,_0x2f84af),this['setupScene'](),_0x39c25e['_update'](),this['computeNod'+'esBounds'](_0x5a22b8),this['allocateTe'+'xtures'](_0x5a22b8,_0x2f84af),this['renderer']['collectLig'+'hts'](_0x39c25e);const _0x4c528a=[],_0x47aca8=[];this['prepareLig'+'htsToBake'](_0x4c528a,_0x47aca8),this['updateTran'+'sforms'](_0x38768a);const _0x93cd4b=this['prepareSha'+'dowCasters'](_0x38768a);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x93cd4b),this['renderer']['gpuUpdate'](_0x93cd4b);const _0x3622f4=this['computeBou'+'nds'](_0x93cd4b);let _0xcb5b6e,_0x5ce8bb,_0x445d13,_0x208617;for(_0xcb5b6e=-0x173d+-0xdeb*-0x1+0x952;_0xcb5b6e<_0x5a22b8['length'];_0xcb5b6e++)for(_0x445d13=_0x5a22b8[_0xcb5b6e]['meshInstan'+'ces'],_0x5ce8bb=0x2*-0x76d+0x1e84+-0xfaa;_0x5ce8bb<_0x445d13['length'];_0x5ce8bb++)_0x208617=_0x445d13[_0x5ce8bb],_0x208617['setLightma'+'pped'](!(-0xb8d+-0x21de+-0x4*-0xb5b)),_0x208617['mask']=fi,_0x208617['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x1b84+0x1c*0x60+0x32b*-0xc],this['blackTex']),_0x208617['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x1*-0x1292+-0xfd4+-0x2267*-0x1],this['blackTex']);for(_0x5ce8bb=0x2b3*-0x9+0x4*-0x3cf+-0x1*-0x2787;_0x5ce8bb<_0x47aca8['length'];_0x5ce8bb++)_0x47aca8[_0x5ce8bb]['light']['enabled']=!(0x2*-0x9d9+-0xc8+0x2ed*0x7);const _0x3d0b2a=[[],[],[]];let _0x105b7c,_0x343ffb,_0x2f68a4=!(-0x1bf6+0x70c+0x14eb);for(_0xcb5b6e=-0x7*0x40d+0x14b*0x11+0x44*0x18;_0xcb5b6e<_0x47aca8['length'];_0xcb5b6e++){const _0x251af1=_0x47aca8[_0xcb5b6e],_0xd3736f=_0x251af1 instanceof Mg,_0xae5da8=_0x251af1['light']['type']===ve;let _0x617096=_0x251af1['numVirtual'+'Lights'];_0x2f84af>0x47*-0xb+-0x3*0x5fc+0x1502&&_0x617096>-0x1851+-0x1ac3+0x3315&&_0x251af1['light']['bakeDir']&&(_0x617096=-0x1*0x1e71+0x22bf+-0x44d,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x26cb85=0x102f+0x13b9+-0x5fc*0x6;_0x26cb85<_0x617096;_0x26cb85++){Q['pushGpuMar'+'ker'](_0x3aa182,'Light:'+_0x251af1['light']['_node']['name']+':'+_0x26cb85),_0x617096>0x235e+0x7d2+0x3*-0xe65&&_0x251af1['prepareVir'+'tualLight'](_0x26cb85,_0x617096),_0x251af1['startBake']();let _0x4b3e43=!(-0x3*0x83b+-0x197e+0x3230);const _0x5d7950=this['lightCamer'+'aPrepare'](_0x3aa182,_0x251af1);for(_0x343ffb=0x3*0x4bb+0x13a0+0x313*-0xb;_0x343ffb<_0x5a22b8['length'];_0x343ffb++){const _0x3f4aae=_0x5a22b8[_0x343ffb];if(_0x445d13=_0x3f4aae['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x251af1,_0x3f4aae,_0x5d7950,_0x3622f4))continue;this['setupLight'+'Array'](_0x3d0b2a,_0x251af1['light']);const _0x1e1b46=_0xae5da8?[]:[_0x251af1['light']];for(_0x5cb15b&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x1e1b46,this['lightingPa'+'rams']),_0x4b3e43=this['renderShad'+'owMap'](_0x39c25e,_0x4b3e43,_0x93cd4b,_0x251af1),_0x5cb15b&&this['worldClust'+'ers']['update'](_0x1e1b46,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x445d13),_0x105b7c=0x2135*0x1+-0x188e+-0x5*0x1bb;_0x105b7c<_0x2f84af&&!(_0x105b7c>-0x9dd+0x5*0x652+0x459*-0x5&&_0x26cb85>0xe8+-0xb89*0x1+0xaa1*0x1||_0xd3736f&&_0x105b7c>0x1*-0x15a+0x29*0x6d+-0x24d*0x7);_0x105b7c++){Q['pushGpuMar'+'ker'](_0x3aa182,'LMPass:'+_0x105b7c);const _0x2764fd=_0x3f4aae['renderTarg'+'ets'][_0x105b7c],_0x4ab140=_0x3f4aae['renderTarg'+'ets'][_0x105b7c]['colorBuffe'+'r']['width'],_0x26d8e7=this['renderTarg'+'ets']['get'](_0x4ab140),_0x56c54e=_0x26d8e7['colorBuffe'+'r'];_0x105b7c===-0xfd1*0x2+0x82*0x19+0x12f0?_0x2f68a4=_0x5f136b['updateShad'+'ers']:_0x2f68a4&&(_0x5f136b['updateShad'+'ers']=!(0x133*0x1d+0x20bc+-0x15*0x337));let _0x4ca259=this['passMateri'+'als'][_0x105b7c];for(_0xd3736f&&_0x26cb85+(-0x17e5+0x1503+-0x1*-0x2e3)===_0x617096&&_0x105b7c===-0x1*0x119+0x2198+-0x207f&&(_0x4ca259=this['ambientAOM'+'aterial']),_0x5ce8bb=-0x12dd+-0x1c1*0x13+0x50*0xa7;_0x5ce8bb<_0x445d13['length'];_0x5ce8bb++)_0x445d13[_0x5ce8bb]['material']=_0x4ca259;if(this['renderer']['updateShad'+'ers'](_0x445d13),_0x105b7c===uL&&this['constantBa'+'keDir']['setValue'](_0x251af1['light']['bakeDir']?-0x20e*-0xb+-0x635+-0x1064:-0x1*-0x1379+-0x2482*-0x1+-0x37fb),_0x3aa182['isWebGPU']){const _0xebc61c=new hL(_0x3aa182,this['renderer'],this['camera'],_0x5cb15b?this['worldClust'+'ers']:null,_0x445d13,_0x3d0b2a);_0xebc61c['init'](_0x26d8e7),_0xebc61c['render'](),_0xebc61c['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x26d8e7,!(0x10ca+-0x2be+-0xe0c)),_0x5cb15b&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x4a2*-0x7+0x1302+0xd6c,this['renderer']['_shadowMap'+'Time']=0xaf4*0x1+-0x10*-0x67+-0x1164,this['renderer']['renderForw'+'ard'](this['camera'],_0x26d8e7,_0x445d13,_0x3d0b2a,Aa),_0x3aa182['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x3f4aae['renderTarg'+'ets'][_0x105b7c]=_0x26d8e7,this['renderTarg'+'ets']['set'](_0x4ab140,_0x2764fd),_0x5ce8bb=0x126a*-0x2+-0x21d6+-0x2d*-0x192;_0x5ce8bb<_0x445d13['length'];_0x5ce8bb++)_0x208617=_0x445d13[_0x5ce8bb],_0x208617['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x105b7c],_0x56c54e),_0x208617['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x3aa182);}this['restoreMat'+'erials'](_0x445d13);}_0x251af1['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x3aa182);}}for(this['postproces'+'sTextures'](_0x3aa182,_0x5a22b8,_0x2f84af),_0x343ffb=-0x8b+-0x187*-0x2+-0x283;_0x343ffb<_0x38768a['length'];_0x343ffb++)_0x38768a[_0x343ffb]['restore']();this['restoreLig'+'hts'](_0x4c528a),this['restoreSce'+'ne'](),_0x5cb15b||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x31fae4,_0x34c630){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x31fae4,this['entity']=_0x34c630,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x4eb14f,_0x2d82c2,_0x175017){this['fire']('set_'+_0x4eb14f,_0x4eb14f,_0x2d82c2,_0x175017);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x13ca5f,_0x2a98c9){_0x2a98c9['forEach'](_0x3cf8c9=>{const _0x1514a9=typeof _0x3cf8c9=='object'?_0x3cf8c9['name']:_0x3cf8c9;Object['defineProp'+'erty'](_0x13ca5f,_0x1514a9,{'get':function(){return this['data'][_0x1514a9];},'set':function(_0x60c1c3){const _0x2d7438=this['data'],_0x17db7b=_0x2d7438[_0x1514a9];_0x2d7438[_0x1514a9]=_0x60c1c3,this['fire']('set',_0x1514a9,_0x17db7b,_0x60c1c3);},'configurable':!(0x4f6+0x18ff*-0x1+-0x1409*-0x1)});}),_0x13ca5f['_accessors'+'Built']=!(0x2*0xc15+0xc3c+0x611*-0x6);}['buildAcces'+'sors'](_0x4f8b15){Wh['_buildAcce'+'ssors'](this,_0x4f8b15);}['onSetEnabl'+'ed'](_0x3a10c4,_0x401827,_0x310745){_0x401827!==_0x310745&&this['entity']['enabled']&&(_0x310745?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x4e9a1f=this['system']['store'][this['entity']['getGuid']()];return _0x4e9a1f?_0x4e9a1f['data']:null;}set['enabled'](_0x4a3ebc){}get['enabled'](){return!(0x185*0xb+-0x9cb+-0x6ec);}};h(Wh,'order',0x16a*0x7+0x71*0x33+-0x1*0x2069);let we=Wh;class ct extends me{constructor(_0x3cd070){super(),this['app']=_0x3cd070,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x135b33,_0x3a53c1={}){const _0x219b12=new this['ComponentT'+'ype'](this,_0x135b33),_0x2c8cc2=new this['DataType']();return this['store'][_0x135b33['getGuid']()]={'entity':_0x135b33,'data':_0x2c8cc2},_0x135b33[this['id']]=_0x219b12,_0x135b33['c'][this['id']]=_0x219b12,this['initialize'+'ComponentD'+'ata'](_0x219b12,_0x3a53c1,[]),this['fire']('add',_0x135b33,_0x219b12),_0x219b12;}['removeComp'+'onent'](_0x2e8bb1){const _0x52809d=this['id'],_0x11d5e4=this['store'][_0x2e8bb1['getGuid']()],_0x5e2690=_0x2e8bb1['c'][_0x52809d];_0x5e2690['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x2e8bb1,_0x5e2690),delete this['store'][_0x2e8bb1['getGuid']()],_0x2e8bb1[_0x52809d]=void(-0x1eee*0x1+-0x2f*0x36+0x28d8),delete _0x2e8bb1['c'][_0x52809d],this['fire']('remove',_0x2e8bb1,_0x11d5e4['data']);}['cloneCompo'+'nent'](_0x30c5b7,_0x988a32){const _0x5095d3=this['store'][_0x30c5b7['getGuid']()];return this['addCompone'+'nt'](_0x988a32,_0x5095d3['data']);}['initialize'+'ComponentD'+'ata'](_0x3fbb09,_0x1f6248={},_0x4183e0){for(let _0x33110b=0x113f*0x1+-0x1*-0x8e+-0xd9*0x15,_0x2311e6=_0x4183e0['length'];_0x33110b<_0x2311e6;_0x33110b++){const _0x37116c=_0x4183e0[_0x33110b];let _0x2217ba,_0x1abd92;typeof _0x37116c=='object'?(_0x2217ba=_0x37116c['name'],_0x1abd92=_0x37116c['type']):(_0x2217ba=_0x37116c,_0x1abd92=void(0x2623+-0x1986+-0xc9d));let _0x5b059f=_0x1f6248[_0x2217ba];_0x5b059f!==void(-0x198f*0x1+0x1c51+-0x2*0x161)?(_0x1abd92!==void(0x1*-0x137b+0x13d*-0x5+-0x1f*-0xd4)&&(_0x5b059f=mL(_0x5b059f,_0x1abd92)),_0x3fbb09[_0x2217ba]=_0x5b059f):_0x3fbb09[_0x2217ba]=_0x3fbb09['data'][_0x2217ba];}_0x3fbb09['enabled']&&_0x3fbb09['entity']['enabled']&&_0x3fbb09['onEnable']();}['getPropert'+'iesOfType'](_0x68f66){const _0x2e88b1=[];return(this['schema']||[])['forEach'](_0x539677=>{_0x539677&&typeof _0x539677=='object'&&_0x539677['type']===_0x68f66&&_0x2e88b1['push'](_0x539677);}),_0x2e88b1;}['destroy'](){this['off']();}}function mL(_0x109cc5,_0x3c7f3a){if(!_0x109cc5)return _0x109cc5;switch(_0x3c7f3a){case'rgb':return _0x109cc5 instanceof ie?_0x109cc5['clone']():new ie(_0x109cc5[-0x7c*0xc+-0x5*0x3e6+0x52*0x4f],_0x109cc5[-0x1d6f+-0xd62+0x2ad2],_0x109cc5[0x357+-0x1*-0xb2+-0x407]);case'rgba':return _0x109cc5 instanceof ie?_0x109cc5['clone']():new ie(_0x109cc5[-0xd*-0x125+-0x12*0x1ac+0x5*0x30b],_0x109cc5[0x1*0x28a+0x2f1*0x3+0x2*-0x5ae],_0x109cc5[0x2cf*0x6+0x3e5*-0x3+-0x529],_0x109cc5[-0x27*0x10+-0xd6e+-0x54b*-0x3]);case'vec2':return _0x109cc5 instanceof J?_0x109cc5['clone']():new J(_0x109cc5[-0x43d+-0x1130+0x156d],_0x109cc5[0x1*-0xa6f+0x19ef+-0xf7f]);case'vec3':return _0x109cc5 instanceof D?_0x109cc5['clone']():new D(_0x109cc5[0x1*0xd7+0xce+-0x1*0x1a5],_0x109cc5[-0x589+-0x1f9a+0x949*0x4],_0x109cc5[-0x21d3+0x232a*-0x1+0x44ff]);case'vec4':return _0x109cc5 instanceof re?_0x109cc5['clone']():new re(_0x109cc5[-0x192e+-0x1*-0x1c07+0x9*-0x51],_0x109cc5[0x20c1+-0x1456+-0x2*0x635],_0x109cc5[0x17e1+-0x15eb*-0x1+-0x2dca],_0x109cc5[0x1b9b*-0x1+0x1503+0x59*0x13]);case'boolean':case'number':case'string':return _0x109cc5;case'entity':return _0x109cc5;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3c7f3a);}}const Bv=0xb49+0x1*0x883+-0x9e6*0x2,Su=0x9b*0x1f+0x30*-0x2d+-0xa54,yu=-0x8eb*0x3+-0x1fc*-0xe+-0x105;class _L{constructor(){this['_left']=(-0xa78*0x2+0x169f+0x5*-0x56)/(0x1*-0x65b+0x4b3*0x3+-0x7be),this['_right']=-(0x1145*0x2+0x251*0xd+-0xcee*0x5)/(0x10e8+-0x1*0x1bc3+0xadb),this['_len']=0x205f+0x679*0x1+-0x26d8,this['_recip']=-0x5b*-0x35+0x708+-0x19df,this['_p0']=-0x224e+0x16ab+0xba3,this['_p1']=-0x1ee0+0x1*-0x16c2+0x35a2,this['_t']=0x84*-0x43+-0x1c15+0x3ea1,this['_hermite']={'valid':!(0xb57+0x821*0x1+-0x1377),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x111f8f,_0x2428d8){if(_0x111f8f<this['_left']||_0x111f8f>=this['_right']){const _0x325059=_0x2428d8['length'];if(!_0x325059)this['_left']=-(-0x8f4+0x18c3+-0xfce)/(0x2002+0x13d+-0x213f),this['_right']=(0xa*-0xf+-0x9d3+0xa6a)/(0x1f37+0x1*0x724+-0x265b),this['_len']=0x1*-0x1f37+-0x3*-0x9a9+-0x4*-0x8f,this['_recip']=-0xed1+-0x33*-0x7f+-0xa7c,this['_p0']=this['_p1']=0x2*0x27c+-0x34c*-0x2+-0x8*0x172;else{if(_0x111f8f<_0x2428d8[-0x6ef+0x214e+-0x1a5f])this['_left']=-(0x1109+0x470+-0x1578)/(-0x1*-0x5b1+-0x124d+-0x1*-0xc9c),this['_right']=_0x2428d8[-0x102f*0x1+-0x486+0x14b5],this['_len']=-0x4d*0x33+-0x45e+0x3f1*0x5,this['_recip']=-0x1951*-0x1+-0x2300+0x43*0x25,this['_p0']=this['_p1']=-0x4bc*-0x1+0x599+-0xa55;else{if(_0x111f8f>=_0x2428d8[_0x325059-(-0x2*0x773+0x2404+-0x151d)])this['_left']=_0x2428d8[_0x325059-(0x1b39+0x1cab+0xfb*-0x39)],this['_right']=(0x35*-0x57+-0x1e36+0x2*0x181d)/(0x7c6+-0x1*-0xbdd+-0xb*0x1c9),this['_len']=0x3+-0x223d*-0x1+-0x112*0x20,this['_recip']=-0x5ae*-0x4+-0x20*0x10f+0xb28,this['_p0']=this['_p1']=_0x325059-(-0x26dc+-0x12*-0xc5+0x1903);else{const _0x1f647f=this['_findKey'](_0x111f8f,_0x2428d8);this['_left']=_0x2428d8[_0x1f647f],this['_right']=_0x2428d8[_0x1f647f+(-0x10b5+0x24c0+-0x140a)],this['_len']=this['_right']-this['_left'];const _0x130214=(0x1fe*-0x9+-0x54a*-0x4+0xf*-0x37)/this['_len'];this['_recip']=isFinite(_0x130214)?_0x130214:-0x459+-0x6*0x593+-0x2b*-0xe1,this['_p0']=_0x1f647f,this['_p1']=_0x1f647f+(0x227d+0xa*-0xa7+0x6*-0x4a9);}}}}this['_t']=this['_recip']===-0x5*-0x276+-0x7b*0x44+0x42*0x4f?-0x12f7+0xf98+-0x35f*-0x1:(_0x111f8f-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x3*0x18d+-0x1add+0x1f85*0x1);}['_findKey'](_0x2b57a7,_0x2073ac){let _0x432754=-0x1da1*-0x1+-0x12f1+0x24*-0x4c;for(;_0x2b57a7>=_0x2073ac[_0x432754+(-0x2*0x67c+-0x329*-0x2+0x6a7)];)_0x432754++;return _0x432754;}['eval'](_0x1232e4,_0x461f25,_0x12119b){const _0x10028d=_0x12119b['_data'],_0x497151=_0x12119b['_component'+'s'],_0x4704ea=this['_p0']*_0x497151;if(_0x461f25===Bv){for(let _0x1db51f=-0x2262+0x935*-0x1+0x2b97;_0x1db51f<_0x497151;++_0x1db51f)_0x1232e4[_0x1db51f]=_0x10028d[_0x4704ea+_0x1db51f];}else{const _0x22f16a=this['_t'],_0x4ad938=this['_p1']*_0x497151;switch(_0x461f25){case Su:for(let _0x30c59f=-0x26*-0x1+0xa6a+-0xa90;_0x30c59f<_0x497151;++_0x30c59f)_0x1232e4[_0x30c59f]=Y['lerp'](_0x10028d[_0x4704ea+_0x30c59f],_0x10028d[_0x4ad938+_0x30c59f],_0x22f16a);break;case yu:{const _0x1f5434=this['_hermite'];if(!_0x1f5434['valid']){const _0x47f0f0=_0x22f16a*_0x22f16a,_0x1e0e94=_0x22f16a+_0x22f16a,_0x29fc62=0x7*-0x51b+0x2af*0x3+-0x1a1*-0x11-_0x22f16a,_0xe9fee1=_0x29fc62*_0x29fc62;_0x1f5434['valid']=!(0x716+0x89*0x5+-0x9c3),_0x1f5434['p0']=(0xa49+0x14cf+-0x1f17+_0x1e0e94)*_0xe9fee1,_0x1f5434['m0']=_0x22f16a*_0xe9fee1,_0x1f5434['p1']=_0x47f0f0*(0x1b1*-0xe+-0xcb6+-0x1*-0x2467-_0x1e0e94),_0x1f5434['m1']=_0x47f0f0*(_0x22f16a-(-0x211f*0x1+0x69b*0x3+-0xd4f*-0x1));}const _0x6e8fb7=(this['_p0']*(0x443+0x972+-0xdb2)+(0x5ec*-0x4+0x78f*0x5+-0xa*0x169))*_0x497151,_0x923a0a=(this['_p0']*(-0x1092+-0xbd+0x1152)+(0xdf6+0xd96+-0x1b8a))*_0x497151,_0x20000f=(this['_p1']*(-0x1*-0x224d+0x93*-0x3f+0xa1*0x3)+(-0x1*0x1db8+-0x120+0x1ed9))*_0x497151,_0x1e0637=(this['_p1']*(-0xad2*-0x1+0xfb1+0xd40*-0x2)+(-0x1fc2+0x19a3+0x1*0x61f))*_0x497151;for(let _0x1839ed=-0xa51+-0x5fd*-0x1+0x454;_0x1839ed<_0x497151;++_0x1839ed)_0x1232e4[_0x1839ed]=_0x1f5434['p0']*_0x10028d[_0x6e8fb7+_0x1839ed]+_0x1f5434['m0']*_0x10028d[_0x923a0a+_0x1839ed]*this['_len']+_0x1f5434['p1']*_0x10028d[_0x20000f+_0x1839ed]+_0x1f5434['m1']*_0x10028d[_0x1e0637+_0x1839ed]*this['_len'];break;}}}}}class Ig{constructor(_0x2da88f){this['_name']=_0x2da88f['name']+'Snapshot',this['_time']=-(-0x655*-0x5+-0x8eb+-0x16bd*0x1),this['_cache']=[],this['_results']=[];for(let _0x4bc06f=-0x1*0x1933+0xd*0x182+-0x599*-0x1;_0x4bc06f<_0x2da88f['_inputs']['length'];++_0x4bc06f)this['_cache'][_0x4bc06f]=new _L();const _0x5319fe=_0x2da88f['_curves'],_0x3cbe2b=_0x2da88f['_outputs'];for(let _0x427929=-0xdd6+-0x2*-0xf2a+0x2*-0x83f;_0x427929<_0x5319fe['length'];++_0x427929){const _0x439bb2=_0x5319fe[_0x427929],_0x32f2df=_0x3cbe2b[_0x439bb2['_output']],_0x68feb0=[];for(let _0x57dcd5=0x2*0x114d+-0x14fd+0xcd*-0x11;_0x57dcd5<_0x32f2df['_component'+'s'];++_0x57dcd5)_0x68feb0[_0x57dcd5]=-0x1*0x14a5+-0xd24+0x21c9;this['_results'][_0x427929]=_0x68feb0;}}}const qo=class qo{constructor(_0x2b1632,_0x44ad42,_0x49b658,_0x38a3fb,_0x1bcd72,_0x20d7f1){this['_name']=_0x2b1632['name'],this['_track']=_0x2b1632,this['_snapshot']=new Ig(_0x2b1632),this['_playing']=_0x38a3fb,this['_time']=_0x44ad42,this['_speed']=_0x49b658,this['_loop']=_0x1bcd72,this['_blendWeig'+'ht']=-0x1fae+0xe*0x7d+0x18d9*0x1,this['_blendOrde'+'r']=0x10f3+-0x1a01+-0x2*-0x487,this['_eventHand'+'ler']=_0x20d7f1,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x3f86f5){this['_name']=_0x3f86f5;}get['name'](){return this['_name'];}set['track'](_0x636570){this['_track']=_0x636570,this['_snapshot']=new Ig(_0x636570);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4ccba2){this['_time']=_0x4ccba2,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x11d984){const _0x3d5c91=Math['sign'](_0x11d984)!==Math['sign'](this['_speed']);this['_speed']=_0x11d984,_0x3d5c91&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x22ef3c){this['_loop']=_0x22ef3c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x301600){this['_blendWeig'+'ht']=_0x301600;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x5edf2a){this['_blendOrde'+'r']=_0x5edf2a;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x229830){this['_eventCurs'+'or']=_0x229830;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x1*-0x20c3+-0xaf1+0x1*0x2bb4:this['_track']['events']['length']-(0x2129*0x1+0x29*0x86+0x1*-0x369e);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x83a+0x17*-0x31+-0x3d3;}['nextEventA'+'headOfTime'](_0x3760c2){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x3760c2:this['nextEvent']['time']>=_0x3760c2:!(0x5*-0x3f5+-0x28c*-0x5+0x25a*0x3);}['nextEventB'+'ehindTime'](_0x112ad7){return this['nextEvent']?_0x112ad7===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x112ad7:this['nextEvent']['time']<=_0x112ad7:this['isReverse']?this['nextEvent']['time']>_0x112ad7:this['nextEvent']['time']<_0x112ad7:!(0x2*-0x1160+-0x31*0x6c+0x376d*0x1);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x12b0+0x14a8+0x1*-0x1f7):-0x14da+0x5*0x17b+0xd73;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x19e1+0x5c0+0x1422):0x17ff*0x1+0xf01+-0x26ff,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x19a+0x7eb*-0x3+0x195b:this['_eventCurs'+'or']<-0x1fd8+0x2e*0x55+-0x12f*-0xe&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x2057+0x186f+-0x38c5));}['clipFrameT'+'ime'](_0x3f97be){const _0x55d764=qo['eventFrame'];_0x55d764['start']=-0x77b+-0x28*0x40+0xb3*0x19,_0x55d764['end']=_0x3f97be,_0x55d764['residual']=0xf67+0x90d+-0x1874,this['isReverse']?_0x3f97be<-0x1f*0xb9+-0x58a*-0x1+-0x3*-0x59f&&(_0x55d764['start']=this['track']['duration'],_0x55d764['end']=0x124f+-0x165+-0x10ea,_0x55d764['residual']=_0x3f97be+this['track']['duration']):_0x3f97be>this['track']['duration']&&(_0x55d764['start']=0x295*-0xd+-0x1cc9*-0x1+0x4*0x132,_0x55d764['end']=this['track']['duration'],_0x55d764['residual']=_0x3f97be-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4df0a1,_0x2bc664){return this['nextEventA'+'headOfTime'](_0x4df0a1)&&this['nextEventB'+'ehindTime'](_0x2bc664)?(this['fireNextEv'+'ent'](),!(0xa5f*-0x1+-0xb*0x322+0x2cd5)):!(-0x17ff+-0x144*0x9+0x2364);}['activeEven'+'tsForFrame'](_0x5b3470,_0x3e9bc2){const _0xc716d5=qo['eventFrame'];this['clipFrameT'+'ime'](_0x3e9bc2);const _0x32b428=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x5b3470,_0xc716d5['end'])&&_0x32b428!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0xc716d5['residual'])>-0x19f4+0x122a+0x7ca&&this['activeEven'+'tsForFrame'](_0xc716d5['start'],_0xc716d5['residual']);}['progressFo'+'rTime'](_0x422641){return _0x422641*this['_speed']/this['_track']['duration'];}['_update'](_0x45daeb){if(this['_playing']){let _0xad0431=this['_time'];const _0x3546d3=this['_track']['duration'],_0x55c88a=this['_speed'],_0x1277bd=this['_loop'];this['_track']['events']['length']>0x5cb*0x6+0xcd*0x1a+-0x1*0x3794&&_0x3546d3>0x16d*0x11+0x1c3d+-0x347a&&this['activeEven'+'tsForFrame'](_0xad0431,_0xad0431+_0x55c88a*_0x45daeb),_0xad0431+=_0x55c88a*_0x45daeb,_0x55c88a>=0x161d*0x1+-0x21*0x109+0xc0c?_0xad0431>_0x3546d3&&(_0x1277bd?_0xad0431=_0xad0431%_0x3546d3||0x14*0x133+-0x11a9+-0x653:(_0xad0431=this['_track']['duration'],this['pause']())):_0xad0431<-0x155e+-0xfd5+-0x6b*-0x59&&(_0x1277bd?_0xad0431=_0x3546d3+(_0xad0431%_0x3546d3||0x17fd+-0x1dff+0x602):(_0xad0431=-0xb*-0x289+-0x1a92+0x1*-0x151,this['pause']())),this['_time']=_0xad0431;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x268e+-0x241c+-0x2*0x139),this['_time']=0x139f*0x1+0x2602+-0x39a1;}['stop'](){this['_playing']=!(0x1*-0x4a6+0x4*-0x9a9+0x2b4b),this['_time']=-0x31+-0xaae*0x1+0x1*0xadf;}['pause'](){this['_playing']=!(-0x129*-0x15+-0x33*0x6d+0x2a5*-0x1);}['resume'](){this['_playing']=!(0x2382+0x1311+-0x3693);}['reset'](){this['_time']=0x89*0x3+-0xe2*-0x26+0x2327*-0x1;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x49524d,_0x1010b8){const _0x1e1d73=_0x49524d['length'];let _0x41913e=0xdb6+0xbe*-0x26+0xe7e;for(let _0x182411=-0x21b0+-0x2399*-0x1+-0x1e9*0x1;_0x182411<_0x1e1d73;++_0x182411)_0x41913e+=_0x49524d[_0x182411]*_0x1010b8[_0x182411];return _0x41913e;}static['normalize'](_0x2d85d3){let _0x5f41c9=Ht['dot'](_0x2d85d3,_0x2d85d3);if(_0x5f41c9>0x79*0x51+-0xb6b*0x1+-0x1ade){_0x5f41c9=(-0x17e6+0x14*0x78+-0xe87*-0x1)/Math['sqrt'](_0x5f41c9);const _0x28fac6=_0x2d85d3['length'];for(let _0x12e4bd=-0x141*-0x2+0xb43+0x19*-0x8d;_0x12e4bd<_0x28fac6;++_0x12e4bd)_0x2d85d3[_0x12e4bd]*=_0x5f41c9;}}static['set'](_0x5e50ab,_0x3088a1,_0x73bc71){const _0x76c720=_0x5e50ab['length'];if(_0x73bc71==='quaternion'){let _0x4f78af=Ht['dot'](_0x3088a1,_0x3088a1);_0x4f78af>0xbd*0x15+-0x17f*0x3+-0x2f*0x3c&&(_0x4f78af=(0xb00+-0x4b9+0x16*-0x49)/Math['sqrt'](_0x4f78af));for(let _0x420bfa=0x2359+-0x1a48+-0x911;_0x420bfa<_0x76c720;++_0x420bfa)_0x5e50ab[_0x420bfa]=_0x3088a1[_0x420bfa]*_0x4f78af;}else{for(let _0x4f648c=0x172*-0xb+-0x259b+0x3581;_0x4f648c<_0x76c720;++_0x4f648c)_0x5e50ab[_0x4f648c]=_0x3088a1[_0x4f648c];}}static['blendVec'](_0x42f5e4,_0x2d8028,_0x4545c1,_0x3fc12b){const _0x368297=_0x3fc12b?-0x2187+-0x1*0x261b+-0x47a3*-0x1:-0xace*0x3+-0x1*0x21cb+0x4236-_0x4545c1,_0x2228e1=_0x42f5e4['length'];for(let _0x3b6452=-0x4d9*0x5+0x9d5*-0x1+0xb2*0x31;_0x3b6452<_0x2228e1;++_0x3b6452)_0x42f5e4[_0x3b6452]=_0x42f5e4[_0x3b6452]*_0x368297+_0x2d8028[_0x3b6452]*_0x4545c1;}static['blendQuat'](_0x425346,_0x28f015,_0x3d0b02,_0x5c2089){const _0x57071c=_0x425346['length'],_0x1588a2=_0x5c2089?-0x1*-0xc3b+0x1e47+-0x2a81:0xf6c+-0x1551+0x12e*0x5-_0x3d0b02;Ht['dot'](_0x425346,_0x28f015)<-0x18ea+0x13*0x11a+-0x1fe*-0x2&&(_0x3d0b02=-_0x3d0b02);for(let _0x2b9915=-0x134*0x13+0x1e17+-0x73b;_0x2b9915<_0x57071c;++_0x2b9915)_0x425346[_0x2b9915]=_0x425346[_0x2b9915]*_0x1588a2+_0x28f015[_0x2b9915]*_0x3d0b02;_0x5c2089||Ht['normalize'](_0x425346);}static['blend'](_0x3b2d24,_0x3fe14d,_0x44ebf2,_0x5d5856,_0x4cbc14){_0x5d5856==='quaternion'?Ht['blendQuat'](_0x3b2d24,_0x3fe14d,_0x44ebf2,_0x4cbc14):Ht['blendVec'](_0x3b2d24,_0x3fe14d,_0x44ebf2,_0x4cbc14);}static['stableSort'](_0x1c5e3c,_0x5c8bf7){const _0xee531d=_0x1c5e3c['length'];for(let _0x35b4f0=0x1275+0x8b8+-0x90f*0x3;_0x35b4f0<_0xee531d-(-0x194+-0xe5+0x27a*0x1);++_0x35b4f0)for(let _0x8f7ec3=_0x35b4f0+(0x34*-0x8+-0xc*0x226+-0x1*-0x1b69);_0x8f7ec3<_0xee531d;++_0x8f7ec3)if(_0x5c8bf7(_0x1c5e3c[_0x8f7ec3],_0x1c5e3c[_0x35b4f0])){const _0x1427cf=_0x1c5e3c[_0x35b4f0];_0x1c5e3c[_0x35b4f0]=_0x1c5e3c[_0x8f7ec3],_0x1c5e3c[_0x8f7ec3]=_0x1427cf;}}}const st=class st{constructor(_0x116f36,_0x1fa2d8){this['_component']=_0x116f36,this['mask']=new Int8Array(_0x116f36['layers']['length']),this['weights']=new Float32Array(_0x116f36['layers']['length']),this['totalWeigh'+'t']=-0x1c2d+0x206e+-0x441,this['counter']=0x1563+-0x2236+0xcd3,this['layerCount'+'er']=-0x15f5+-0x1ab3+0x30a8,this['valueType']=_0x1fa2d8,this['dirty']=!(0x5*0x7ae+-0x3b*0xa3+0x1*-0xd5),this['value']=_0x1fa2d8===st['TYPE_QUAT']?[0x24+-0x14d*0x6+-0x147*-0x6,-0x19cd+-0x6a4+0x2071,-0x20f8+0xb2*-0xb+0x3*0xd8a,-0x1*0xfe6+-0x13*-0x57+-0x326*-0x3]:[0x1663*-0x1+0x152c+0x137,-0x155e*-0x1+-0xf*-0x1a7+0x55*-0x8b,-0x737*-0x5+0x1f3*0xd+-0x3d6a],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x446e49){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0xeb6+0x83*0x37+-0xd6f*0x1||!this['mask'][_0x446e49]?0x1665+0x1*0x88d+-0x1ef2:this['_normalize'+'Weights']?this['weights'][_0x446e49]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x446e49],-0x1*-0x25c1+-0x15f5+-0xfcc,0xe66+-0x227b+0x1416);}['_layerBlen'+'dType'](_0x2f250f){return this['_component']['layers'][_0x2f250f]['blendType'];}['setMask'](_0x5b04c7,_0x3c2731){this['mask'][_0x5b04c7]=_0x3c2731,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x5b04c7]['blendType']===Vv&&(this['mask']=this['mask']['fill'](-0x6*-0x2f1+0x100d+-0x21b3,-0x1a7e+0x24ba+-0x106*0xa,_0x5b04c7)),this['dirty']=!(0x11f4+0x2081*0x1+-0x3275));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x228+0x2*0xdb9+-0x194a;for(let _0x27bc7d=-0x557+0xdf*-0x7+-0x2dc*-0x4;_0x27bc7d<this['weights']['length'];_0x27bc7d++)this['weights'][_0x27bc7d]=this['_component']['layers'][_0x27bc7d]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x27bc7d]*this['weights'][_0x27bc7d];this['dirty']=!(-0x1dc4+0x17bf*0x1+0x606);}['updateValu'+'e'](_0x30df3b,_0x53b86a){if(this['counter']===0xeac*-0x1+-0x7ed+0x1bd*0xd&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x2*0x7c0+-0x5*0x674+0x2fc5,this['valueType'])),!(!this['mask'][_0x30df3b]||this['getWeight'](_0x30df3b)===0x1639+-0x5*-0xcd+-0x1a3a)){if(this['_layerBlen'+'dType'](_0x30df3b)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x596c37=st['q1']['set'](this['value'][-0x813*-0x1+0x5*-0x259+0x3aa],this['value'][-0x1*-0x25c3+-0x1326*0x1+-0x94e*0x2],this['value'][0x2*0xa16+0x403*-0x1+-0x1027*0x1],this['value'][0x4f4*-0x4+-0x19c1+0x2d94]),_0x57e040=st['q2']['set'](this['baseValue'][-0x29*0xe7+-0x12db+0x37da*0x1],this['baseValue'][-0x124c+0x63a+0xb*0x119],this['baseValue'][-0xf66+0x988+0x1*0x5e0],this['baseValue'][0x1*-0x1dce+0x15c1+0x102*0x8]),_0x427696=st['q3']['set'](_0x53b86a[0x1779+0x65*0x18+0x1*-0x20f1],_0x53b86a[0x2*-0x1190+-0xd7d+0x309e],_0x53b86a[-0x3a7*-0x7+-0x3e6*0x4+-0x9f7*0x1],_0x53b86a[0x1c30+0x1*0x61+0x2*-0xe47]),_0x1c7957=_0x57e040['invert']()['mul'](_0x427696);_0x1c7957['slerp'](le['IDENTITY'],_0x1c7957,this['getWeight'](_0x30df3b)),_0x596c37['mul'](_0x1c7957),st['quatArr'][-0x1b99+0x24b1+-0x918]=_0x596c37['x'],st['quatArr'][-0x79a+0x22e5+-0x1b4a]=_0x596c37['y'],st['quatArr'][-0x361+0x3c5+0x7*-0xe]=_0x596c37['z'],st['quatArr'][0x13c2+-0xcbb+-0x704]=_0x596c37['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x2c3*0xb+-0x18de+-0x583]=_0x53b86a[0xbdf+0x1*0x705+-0x12e4]-this['baseValue'][0x7d7+-0xa*-0xef+-0x112d],st['vecArr'][0x4cf+-0xd3*-0x29+-0x29*0xf1]=_0x53b86a[0x11b5+-0x8cb*-0x1+-0x1a7f]-this['baseValue'][0x3*-0x582+0x21ef+0x45a*-0x4],st['vecArr'][-0x2117+-0x1dd+0x37f*0xa]=_0x53b86a[-0xfdd+0x1108+-0x129]-this['baseValue'][-0x1434*-0x1+-0x1b28+-0x37b*-0x2],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x30df3b),this['valueType'],!(0xc15+0xbaf+-0x17c4));}else Ht['blend'](this['value'],_0x53b86a,this['getWeight'](_0x30df3b),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x33*-0x6a+-0x7a3+-0xd7b,0x1691+-0x4*0x2f7+-0xab5,0x1*0x20fb+-0x1*0x3b5+0x4e1*-0x6,0x1c3*-0x11+0x3*0xb02+0x106*-0x3]),h(st,'vecArr',[0x113a+0x7b0+0x427*-0x6,0x131b+0x1*-0x1f99+0xc7e,0x9*-0x3fe+-0x391+0x277f]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x13d5*0x1+0xd55*-0x1+-0x680,0x140*0xc+-0x609+-0x8f7,-0x166c+-0x162c+0x2c98,0x46f*-0x7+0x1*-0x1035+0x2f3f]);let Vo=st;class Gv{constructor(_0x5b8082){this['_binder']=_0x5b8082,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x366fc0){const _0x567df8=this['_targets'],_0x4e3a50=this['_binder'],_0xc245c7=_0x366fc0['track']['curves'],_0x56a46f=_0x366fc0['snapshot'],_0x5dccff=[],_0x3627e7=[];for(let _0x52620c=-0xd43+-0x1da0+0x2ae3;_0x52620c<_0xc245c7['length'];++_0x52620c){const _0x32e6ee=_0xc245c7[_0x52620c]['paths'];for(let _0x1e7ea0=0x2*-0xfab+-0x7fb+-0xd1b*-0x3;_0x1e7ea0<_0x32e6ee['length'];++_0x1e7ea0){const _0x543e49=_0x32e6ee[_0x1e7ea0],_0x5d419c=_0x4e3a50['resolve'](_0x543e49);let _0x338acc=_0x567df8[_0x5d419c&&_0x5d419c['targetPath']||null];if(!_0x338acc&&_0x5d419c){_0x338acc={'target':_0x5d419c,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x4a589e=0x12dd+0x31*-0x59+-0x1d4;_0x4a589e<_0x338acc['target']['components'];++_0x4a589e)_0x338acc['value']['push'](0x56a+0x13d9+-0x1d*0xdf);if(_0x567df8[_0x5d419c['targetPath']]=_0x338acc,_0x4e3a50['animCompon'+'ent']){if(!_0x4e3a50['animCompon'+'ent']['targets'][_0x5d419c['targetPath']]){let _0x28eb99;_0x5d419c['targetPath']['substring'](_0x5d419c['targetPath']['length']-(-0x1*-0xde+0x82d*0x3+-0x1958))==='localRotat'+'ion'?_0x28eb99=Vo['TYPE_QUAT']:_0x28eb99=Vo['TYPE_VEC3'],_0x4e3a50['animCompon'+'ent']['targets'][_0x5d419c['targetPath']]=new Vo(_0x4e3a50['animCompon'+'ent'],_0x28eb99);}_0x4e3a50['animCompon'+'ent']['targets'][_0x5d419c['targetPath']]['layerCount'+'er']++,_0x4e3a50['animCompon'+'ent']['targets'][_0x5d419c['targetPath']]['setMask'](_0x4e3a50['layerIndex'],0x3a0+0x1a21+-0x1dc0);}}_0x338acc&&(_0x338acc['curves']++,_0x5dccff['push'](_0x56a46f['_results'][_0x52620c]),_0x3627e7['push'](_0x338acc));}}this['_clips']['push'](_0x366fc0),this['_inputs']['push'](_0x5dccff),this['_outputs']['push'](_0x3627e7);}['removeClip'](_0x58de2b){const _0x224d2d=this['_targets'],_0x46457a=this['_binder'],_0x5ee4ea=this['_clips'],_0x4a23d5=_0x5ee4ea[_0x58de2b]['track']['curves'];for(let _0x91e82c=-0xd*-0x225+0x25d4+-0x41b5;_0x91e82c<_0x4a23d5['length'];++_0x91e82c){const _0x2076c7=_0x4a23d5[_0x91e82c]['paths'];for(let _0x35a975=-0x1*-0x1fee+0x13d5*-0x1+-0x13*0xa3;_0x35a975<_0x2076c7['length'];++_0x35a975){const _0x2bb5b6=_0x2076c7[_0x35a975],_0x49047c=this['_binder']['resolve'](_0x2bb5b6);_0x49047c&&(_0x49047c['curves']--,_0x49047c['curves']===0x1*0xe53+-0x68e+-0x7c5&&(_0x46457a['unresolve'](_0x2bb5b6),delete _0x224d2d[_0x49047c['targetPath']],_0x46457a['animCompon'+'ent']&&_0x46457a['animCompon'+'ent']['targets'][_0x49047c['targetPath']]['layerCount'+'er']--));}}_0x5ee4ea['splice'](_0x58de2b,0x1b18+-0x17e0+0x1*-0x337),this['_inputs']['splice'](_0x58de2b,-0x211*-0x2+0x89*-0x5+-0x174),this['_outputs']['splice'](_0x58de2b,-0x21ce+-0x1962+0x1*0x3b31);}['removeClip'+'s'](){for(;this['_clips']['length']>0x2633+-0x20a9+-0x58a;)this['removeClip'](0x190d+0x35b+0x978*-0x3);}['updateClip'+'Track'](_0x27d23c,_0x2ea63f){this['_clips']['forEach'](_0x36cbef=>{_0x36cbef['name']['includes'](_0x27d23c)&&(_0x36cbef['track']=_0x2ea63f);}),this['rebind']();}['findClip'](_0x24855e){const _0x3d2185=this['_clips'];for(let _0x526547=-0x363+0x219c+-0x1e39;_0x526547<_0x3d2185['length'];++_0x526547){const _0x2eb63e=_0x3d2185[_0x526547];if(_0x2eb63e['name']===_0x24855e)return _0x2eb63e;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x37dfc3=[...this['clips']];this['removeClip'+'s'](),_0x37dfc3['forEach'](_0x1ef718=>{this['addClip'](_0x1ef718);});}['assignMask'](_0x5b8331){return this['_binder']['assignMask'](_0x5b8331);}['update'](_0x5caeb2,_0x358db8=!(0x5ff*-0x3+0x1*-0x8f9+-0xd7b*-0x2)){const _0x27b242=this['_clips'],_0x407046=_0x27b242['map']((_0x285930,_0x2e64a0)=>_0x2e64a0);Ht['stableSort'](_0x407046,(_0x2a37f5,_0x1ce5be)=>_0x27b242[_0x2a37f5]['blendOrder']<_0x27b242[_0x1ce5be]['blendOrder']);for(let _0x3cdccc=-0x1*-0x1fc5+0xbcf*-0x1+0x1ff*-0xa;_0x3cdccc<_0x407046['length'];++_0x3cdccc){const _0x1d8515=_0x407046[_0x3cdccc],_0x29013d=_0x27b242[_0x1d8515],_0xb10aea=this['_inputs'][_0x1d8515],_0x3de8e0=this['_outputs'][_0x1d8515],_0x1ab0ef=_0x29013d['blendWeigh'+'t'];if(_0x1ab0ef>0x2302+-0x1d3f+0x127*-0x5&&_0x29013d['_update'](_0x5caeb2),!_0x358db8)break;let _0x39af10,_0x4e043f,_0x1dc765;if(_0x1ab0ef>=0x2481+-0x10fc+-0x1384*0x1){for(let _0x184a2e=-0x1*-0x11d4+0x1302*-0x1+0x2*0x97;_0x184a2e<_0xb10aea['length'];++_0x184a2e)_0x39af10=_0xb10aea[_0x184a2e],_0x4e043f=_0x3de8e0[_0x184a2e],_0x1dc765=_0x4e043f['value'],Ht['set'](_0x1dc765,_0x39af10,_0x4e043f['target']['type']),_0x4e043f['blendCount'+'er']++;}else{if(_0x1ab0ef>0x3*0x26d+-0x678+0x1*-0xcf){for(let _0x161b86=-0xe34*-0x1+0x169f+-0x24d3;_0x161b86<_0xb10aea['length'];++_0x161b86)_0x39af10=_0xb10aea[_0x161b86],_0x4e043f=_0x3de8e0[_0x161b86],_0x1dc765=_0x4e043f['value'],_0x4e043f['blendCount'+'er']===0x221c+0xc28+-0x2e44?Ht['set'](_0x1dc765,_0x39af10,_0x4e043f['target']['type']):Ht['blend'](_0x1dc765,_0x39af10,_0x1ab0ef,_0x4e043f['target']['type']),_0x4e043f['blendCount'+'er']++;}}}const _0x36a56d=this['_targets'],_0x3b9d9b=this['_binder'];for(const _0x18d778 in _0x36a56d)if(_0x36a56d['hasOwnProp'+'erty'](_0x18d778)){const _0x43a0a9=_0x36a56d[_0x18d778];if(_0x3b9d9b['animCompon'+'ent']&&_0x43a0a9['target']['isTransfor'+'m']){const _0x3faf41=_0x3b9d9b['animCompon'+'ent']['targets'][_0x18d778];_0x3faf41['counter']===_0x3faf41['layerCount'+'er']&&(_0x3faf41['counter']=-0x86f+0x1e73+-0x1604),_0x3faf41['path']||(_0x3faf41['path']=_0x18d778,_0x3faf41['baseValue']=_0x43a0a9['target']['get'](),_0x3faf41['setter']=_0x43a0a9['target']['set']),_0x3faf41['updateValu'+'e'](_0x3b9d9b['layerIndex'],_0x43a0a9['value']),_0x3faf41['counter']++;}else _0x43a0a9['target']['set'](_0x43a0a9['value']);_0x43a0a9['blendCount'+'er']=-0x2466+0x19d4+0xf6*0xb;}this['_binder']['update'](_0x5caeb2);}}class Hv{constructor(_0x142bff){this['_events']=[..._0x142bff],this['_events']['sort']((_0x302767,_0x23aac3)=>_0x302767['time']-_0x23aac3['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x486913,_0x186628,_0x5f0f10,_0x179cb2,_0x4869e1,_0x2cba7f=new Hv([])){this['_name']=_0x486913,this['_duration']=_0x186628,this['_inputs']=_0x5f0f10,this['_outputs']=_0x179cb2,this['_curves']=_0x4869e1,this['_animEvent'+'s']=_0x2cba7f;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x36519f){this['_animEvent'+'s']=_0x36519f;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0xf223ca,_0x5566f1){_0x5566f1['_time']=_0xf223ca;const _0x9ec97b=this['_inputs'],_0x421812=this['_outputs'],_0x4365db=this['_curves'],_0x158255=_0x5566f1['_cache'],_0x590c7=_0x5566f1['_results'];for(let _0xcbdc88=-0x1f61+0x40d*0x9+-0x14*0x41;_0xcbdc88<_0x9ec97b['length'];++_0xcbdc88)_0x158255[_0xcbdc88]['update'](_0xf223ca,_0x9ec97b[_0xcbdc88]['_data']);for(let _0x189e00=-0x85+0x18f7+0x12a*-0x15;_0x189e00<_0x4365db['length'];++_0x189e00){const _0x4527f8=_0x4365db[_0x189e00],_0x125344=_0x421812[_0x4527f8['_output']],_0x2dac97=_0x590c7[_0x189e00];_0x158255[_0x4527f8['_input']]['eval'](_0x2dac97,_0x4527f8['_interpola'+'tion'],_0x125344);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x369892,_0x4d9117){_0x4d9117=_0x4d9117||'.';const _0x19f467=function(_0x23e23a){return _0x23e23a['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x4d9117,'g'),'\x5c'+_0x4d9117);};return _0x369892['map'](_0x19f467)['join'](_0x4d9117);}static['splitPath'](_0x418540,_0x5587c5){_0x5587c5=_0x5587c5||'.';const _0x4caf74=[];let _0x27dcee='',_0x15cc24=-0x26f4+0x1a01+0xf*0xdd;for(;_0x15cc24<_0x418540['length'];){let _0x204dc0=_0x418540[_0x15cc24++];_0x204dc0==='\x5c'&&_0x15cc24<_0x418540['length']?(_0x204dc0=_0x418540[_0x15cc24++],_0x204dc0==='\x5c'||_0x204dc0===_0x5587c5?_0x27dcee+=_0x204dc0:_0x27dcee+='\x5c'+_0x204dc0):_0x204dc0===_0x5587c5?(_0x4caf74['push'](_0x27dcee),_0x27dcee=''):_0x27dcee+=_0x204dc0;}return _0x27dcee['length']>-0x1613+0x1e*0x14b+0x185*-0xb&&_0x4caf74['push'](_0x27dcee),_0x4caf74;}static['encode'](_0x1f516b,_0x3e861d,_0x98806d){return(Array['isArray'](_0x1f516b)?_0x1f516b['join']('/'):_0x1f516b)+'/'+_0x3e861d+'/'+(Array['isArray'](_0x98806d)?_0x98806d['join']('/'):_0x98806d);}['resolve'](_0x415563){return null;}['unresolve'](_0x871fa0){}['update'](_0x3ad305){}}class xu{constructor(_0x40e6fc,_0xafa09c,_0x42007f,_0x37d35e){_0x40e6fc['set']?(this['_set']=_0x40e6fc['set'],this['_get']=_0x40e6fc['get']):this['_set']=_0x40e6fc,this['_type']=_0xafa09c,this['_component'+'s']=_0x42007f,this['_targetPat'+'h']=_0x37d35e,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x177*-0x6+0x7b5*0x1+-0x1072))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x268c+0x11f0+0x14a9))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x16d7*0x1+-0x1c7f+0x5b2))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x3b5584){h(this,'_isPathInM'+'ask',(_0x38871b,_0x2b3619)=>{const _0x1cb03c=this['_mask'][_0x38871b];if(_0x1cb03c){if(_0x1cb03c['children']||_0x2b3619&&_0x1cb03c['value']!==!(0x9bb*0x1+-0x1*0x187d+0x1*0xec3))return!(0x5a0*-0x4+-0x9b0+0x1018*0x2);}else return!(-0x1759*-0x1+0x1*-0xcf3+-0xa65);return!(-0x1a05+0x1*-0x1e3b+0x3841);});if(this['graph']=_0x3b5584,!_0x3b5584)return;this['_mask']=null;const _0x1183d2={},_0x1092bd=function(_0x52655c){_0x1183d2[_0x52655c['name']]=_0x52655c;for(let _0x2162bd=-0x265e+0xfb*-0x7+0x2d3b;_0x2162bd<_0x52655c['children']['length'];++_0x2162bd)_0x1092bd(_0x52655c['children'][_0x2162bd]);};_0x1092bd(_0x3b5584),this['nodes']=_0x1183d2,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x4f128e=function(_0x3ca5f3){let _0x4cf037=_0x3ca5f3;for(;_0x4cf037&&!(_0x4cf037 instanceof lt);)_0x4cf037=_0x4cf037['parent'];let _0x243d07;return _0x4cf037&&(_0x4cf037['render']?_0x243d07=_0x4cf037['render']['meshInstan'+'ces']:_0x4cf037['model']&&(_0x243d07=_0x4cf037['model']['meshInstan'+'ces'])),_0x243d07;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x29f8ae){const _0x1a581f=_0x29f8ae['localPosit'+'ion'],_0x9e5fc1=function(_0x4154b6){_0x1a581f['set'](..._0x4154b6);};return Sr['createAnim'+'Target'](_0x9e5fc1,'vector',-0x7*0xcb+-0x764+0xcf4,_0x29f8ae,'localPosit'+'ion');},'localRotation':function(_0x4ce19d){const _0x1aa345=_0x4ce19d['localRotat'+'ion'],_0x3fe548=function(_0x1ab9af){_0x1aa345['set'](..._0x1ab9af);};return Sr['createAnim'+'Target'](_0x3fe548,'quaternion',0x1e86*-0x1+-0x26df+0x1*0x4569,_0x4ce19d,'localRotat'+'ion');},'localScale':function(_0x46210b){const _0x3d967b=_0x46210b['localScale'],_0x33000b=function(_0x1ea5f1){_0x3d967b['set'](..._0x1ea5f1);};return Sr['createAnim'+'Target'](_0x33000b,'vector',0x24b2+0xf9a+-0x3449,_0x46210b,'localScale');},'weight':function(_0xeccaf,_0x15dd97){_0x15dd97['indexOf']('name.')===0x1958*0x1+-0xca*-0x26+-0x3754?_0x15dd97=_0x15dd97['replace']('name.',''):_0x15dd97=Number(_0x15dd97);const _0x3709a1=_0x4f128e(_0xeccaf);let _0x1c87f7;if(_0x3709a1){for(let _0x58a938=0x1c84+0xb9b*-0x2+-0x54e;_0x58a938<_0x3709a1['length'];++_0x58a938)if(_0x3709a1[_0x58a938]['node']['name']===_0xeccaf['name']&&_0x3709a1[_0x58a938]['morphInsta'+'nce']){const _0x50bc49=_0x3709a1[_0x58a938]['morphInsta'+'nce'],_0xeec434=_0x11e55c=>{_0x50bc49['setWeight'](_0x15dd97,_0x11e55c[-0x3e*-0x94+-0x13e3+0x5*-0x331]);};_0x1c87f7||(_0x1c87f7=[]),_0x1c87f7['push'](_0xeec434);}}if(_0x1c87f7){const _0x1973d2=_0x20d3f2=>{for(let _0x5730e7=-0x80*-0x3f+-0x26*-0x95+0x359e*-0x1;_0x5730e7<_0x1c87f7['length'];++_0x5730e7)_0x1c87f7[_0x5730e7](_0x20d3f2);};return Sr['createAnim'+'Target'](_0x1973d2,'number',0x11bb+-0x1eaa+-0x17*-0x90,_0xeccaf,'weight.'+_0x15dd97);}return null;},'materialTexture':(_0x16727e,_0x205902)=>{const _0x4f3477=_0x4f128e(_0x16727e);if(_0x4f3477){let _0x4b8dfe;for(let _0x218e72=-0x5ce+-0xe2a+0x13f8;_0x218e72<_0x4f3477['length'];++_0x218e72)if(_0x4f3477[_0x218e72]['node']['name']===_0x16727e['name']){_0x4b8dfe=_0x4f3477[_0x218e72];break;}if(_0x4b8dfe){const _0x2c4b2c=_0x26a2d5=>{const _0x9a753a=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x26a2d5[0x1*-0x24ab+-0x5a1+0x2a4c]);_0x9a753a&&_0x9a753a['resource']&&_0x9a753a['type']==='texture'&&(_0x4b8dfe['material'][_0x205902]=_0x9a753a['resource'],_0x4b8dfe['material']['update']());};return Sr['createAnim'+'Target'](_0x2c4b2c,'vector',0x3b7+0x16a3+-0x1a59,_0x16727e,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x557cbf){if(!this['_mask'])return!(0x72a*0x2+-0xe16+-0x3e*0x1);const _0x343886=[_0x557cbf['entityPath'][-0x4d7+0xd*-0x197+-0x1982*-0x1],this['graph']['name']];for(let _0xaa1246=-0xcd0*-0x1+0x22f*-0x11+0x379*0x7;_0xaa1246<_0x343886['length'];++_0xaa1246){let _0x2c04f8=_0x343886[_0xaa1246];if(this['_isPathInM'+'ask'](_0x2c04f8,_0x557cbf['entityPath']['length']===-0x2e6+-0x1042*0x2+0x236b))return!(0x1*0x6e5+0xe6c+-0x6b*0x33);for(let _0x20570e=0x1ba6+-0x4*-0x5de+-0x331d;_0x20570e<_0x557cbf['entityPath']['length'];_0x20570e++)if(_0x2c04f8+='/'+_0x557cbf['entityPath'][_0x20570e],this['_isPathInM'+'ask'](_0x2c04f8,_0x20570e===_0x557cbf['entityPath']['length']-(-0x84b*0x1+0x6cf*0x1+-0x1*-0x17d)))return!(-0x168b+0x77*0x3+0x1526);}return!(0x1d02+-0xe*-0x237+-0x3c03);}['findNode'](_0x456c85){if(!this['_isPathAct'+'ive'](_0x456c85))return null;let _0x2c1cff;if(this['graph']&&(_0x2c1cff=this['graph']['findByPath'](_0x456c85['entityPath']),_0x2c1cff||(_0x2c1cff=this['graph']['findByPath'](_0x456c85['entityPath']['slice'](-0x2*0xf13+-0xeb6+0x2cdd*0x1)))),!_0x2c1cff){_0x2c1cff=this['nodes'][_0x456c85['entityPath'][_0x456c85['entityPath']['length']-(-0x153e*0x1+0xe5c+0x1*0x6e3)]||''];const _0x459f28=ra['encode'](_0x456c85['entityPath'][_0x456c85['entityPath']['length']-(-0xbae+0x293*0x4+0x163)]||'','graph',_0x456c85['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x459f28]===0x2*0x1286+0x1277+-0x3782&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x459f28+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x459f28])?this['visitedFal'+'lbackGraph'+'Paths'][_0x459f28]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x459f28]=0x1*-0xc92+-0x25f6+-0x3288*-0x1;}return _0x2c1cff;}static['createAnim'+'Target'](_0x28c787,_0x52a7fd,_0x5f428d,_0x48a68c,_0x342d70,_0x7ff375){const _0x5b0dd2=ra['encode'](_0x48a68c['path'],_0x7ff375||'entity',_0x342d70);return new xu(_0x28c787,_0x52a7fd,_0x5f428d,_0x5b0dd2);}['resolve'](_0x1c2598){const _0x228e6b=ra['encode'](_0x1c2598['entityPath'],_0x1c2598['component'],_0x1c2598['propertyPa'+'th']);let _0x32057c=this['targetCach'+'e'][_0x228e6b];if(_0x32057c)return _0x32057c;const _0x49e3bb=this['findNode'](_0x1c2598);if(!_0x49e3bb)return null;const _0x24aef5=this['handlers'][_0x1c2598['propertyPa'+'th']];return!_0x24aef5||(_0x32057c=_0x24aef5(_0x49e3bb),!_0x32057c)?null:(this['targetCach'+'e'][_0x228e6b]=_0x32057c,this['nodeCounts'][_0x49e3bb['path']]?this['nodeCounts'][_0x49e3bb['path']]++:(this['activeNode'+'s']['push'](_0x49e3bb),this['nodeCounts'][_0x49e3bb['path']]=0x1*-0x98f+-0x1cfc+-0x1*-0x268c),_0x32057c);}['unresolve'](_0x30ed2b){if(_0x30ed2b['component']!=='graph')return;const _0x2062cb=this['nodes'][_0x30ed2b['entityPath'][_0x30ed2b['entityPath']['length']-(0xa02+0x200e*-0x1+-0x5*-0x469)]||''];if(this['nodeCounts'][_0x2062cb['path']]--,this['nodeCounts'][_0x2062cb['path']]===-0x1*0x267e+-0x1702+0x18*0x290){const _0xb7c980=this['activeNode'+'s'],_0x386395=_0xb7c980['indexOf'](_0x2062cb['node']),_0x293bf0=_0xb7c980['length'];_0x386395<_0x293bf0-(-0x2234+-0x7a*0x48+-0x79d*-0x9)&&(_0xb7c980[_0x386395]=_0xb7c980[_0x293bf0-(0xbd3*-0x3+-0x59e*0x3+0x1*0x3454)]),_0xb7c980['pop']();}}['update'](_0x4ad461){const _0xd4e769=this['activeNode'+'s'];for(let _0x3077b9=0x2144+0xa*-0x26b+0x916*-0x1;_0x3077b9<_0xd4e769['length'];++_0x3077b9)_0xd4e769[_0x3077b9]['_dirtifyLo'+'cal']();}['assignMask'](_0x3625bd){return _0x3625bd!==this['_mask']?(this['_mask']=_0x3625bd,!(0x9d*0x6+-0x17c+-0x119*0x2)):!(-0x13e+-0x1ab3+0x1bf2);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x1*0xaa5+0x12d*-0xa+-0x1*-0x1667)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x1468+-0xc7d*-0x3+-0x39df),h(this,'blending',!(0x7be+-0x99d+-0xa0*-0x3)),h(this,'blendSpeed',-0x407+-0x17*0xfb+0x1a94),h(this,'activate',!(-0x3df*-0x2+0x4bb*-0x1+0x3*-0x101)),h(this,'speed',-0xfcb*-0x1+-0xbd6+-0x3f4);}set['animations'](_0x527e0d){this['_animation'+'s']=_0x527e0d,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x520be0){const _0x15dc3e=this['_assets'];if(_0x15dc3e&&_0x15dc3e['length']){for(let _0x4dcf22=0x1d24+-0x1d62+0x3e*0x1;_0x4dcf22<_0x15dc3e['length'];_0x4dcf22++)if(_0x15dc3e[_0x4dcf22]){const _0x5749c6=this['system']['app']['assets']['get'](_0x15dc3e[_0x4dcf22]);if(_0x5749c6){_0x5749c6['off']('change',this['onAssetCha'+'nged'],this),_0x5749c6['off']('remove',this['onAssetRem'+'oved'],this);const _0x3a6350=this['animations'+'Index'][_0x5749c6['id']];this['currAnim']===_0x3a6350&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x3a6350],delete this['animations'+'Index'][_0x5749c6['id']];}}}this['_assets']=_0x520be0;const _0x1040da=_0x520be0['map'](_0x3659fe=>_0x3659fe instanceof pe?_0x3659fe['id']:_0x3659fe);this['loadAnimat'+'ionAssets'](_0x1040da);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x1f681a){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x1f681a,this['skeleton']['addTime'](-0x2*-0xf02+0x182d+0x1*-0x3631),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x4feedc=this['animEvalua'+'tor']['clips'];for(let _0x257f51=0x1e9a+0xd6d+-0x2c07;_0x257f51<_0x4feedc['length'];++_0x257f51)_0x4feedc[_0x257f51]['time']=_0x1f681a;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x869f45=this['animEvalua'+'tor']['clips'];if(_0x869f45['length']>-0x67*0x31+0x11e1+-0x5*-0x5e)return _0x869f45[_0x869f45['length']-(-0x5a7+0x4*0x38f+-0x2*0x44a)]['time'];}return-0x1182+-0x15d*-0xc+0x126;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0xce7+0x21e6+-0x2ecd);}set['loop'](_0x334342){if(this['_loop']=_0x334342,this['skeleton']&&(this['skeleton']['looping']=_0x334342),this['animEvalua'+'tor']){for(let _0x22e2af=0x589+-0x119b*-0x2+-0x28bf;_0x22e2af<this['animEvalua'+'tor']['clips']['length'];++_0x22e2af)this['animEvalua'+'tor']['clips'][_0x22e2af]['loop']=_0x334342;}}get['loop'](){return this['_loop'];}['play'](_0x6c99f,_0x37e049=0xa*-0x207+0x43e*-0x4+0x253e){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x6c99f]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x6c99f+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x6c99f,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x4ed6ab=this['animations'][this['prevAnim']],_0x1d6e15=this['animations'][this['currAnim']];if(this['blending']=_0x37e049>0x4bb*-0x1+0x13e9+-0xf2e&&!!this['prevAnim'],this['blending']&&(this['blend']=-0xaa*0x1d+-0x1524+0x2*0x1433,this['blendSpeed']=(0x1c3*-0x8+-0x1*-0x6ef+0xe*0x83)/_0x37e049),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x4ed6ab,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x1d6e15):this['skeleton']['animation']=_0x1d6e15),this['animEvalua'+'tor']){const _0x37dba3=this['animEvalua'+'tor'];if(this['blending']){for(;_0x37dba3['clips']['length']>-0x21ef+-0x260d+0x3*0x17ff;)_0x37dba3['removeClip'](-0x1*0x1dd5+0x2*-0x3c3+-0x255b*-0x1);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0xe5a3dd=new Dh(this['animations'][this['currAnim']],-0x7*-0xb1+0x2*-0x1154+0x1dd1,0x293*-0x1+-0x1*-0x1765+-0x49*0x49,!(-0x107*-0x10+-0x166d+0x5fd),this['loop']);_0xe5a3dd['name']=this['currAnim'],_0xe5a3dd['blendWeigh'+'t']=this['blending']?-0x8d9+0x1*-0x1987+-0x5*-0x6e0:0x2289+-0xad*-0x4+-0x129e*0x2,_0xe5a3dd['reset'](),this['animEvalua'+'tor']['addClip'](_0xe5a3dd);}}this['playing']=!(-0xb54+-0x1cc*0xa+0x4b*0x64);}}['getAnimati'+'on'](_0x3e07fc){return this['animations'][_0x3e07fc];}['setModel'](_0x24d425){_0x24d425!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x24d425,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x28ea5a=this['entity']['model'];if(_0x28ea5a){const _0x48e243=_0x28ea5a['model'];_0x48e243&&_0x48e243!==this['model']&&this['setModel'](_0x48e243);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x4dd847=Object['keys'](this['_animation'+'s']);_0x4dd847['length']>-0x21a+0x29f+-0x85&&this['play'](_0x4dd847[-0x11a3+-0x113d+-0x7c*-0x48]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0xf05c80=this['model'],_0x1a0b9e=this['animations'];let _0x577619=!(-0x2b9*0xd+0xc83*0x1+-0x345*-0x7),_0x5d7789=!(0x1*-0x916+-0x1815+-0x1*-0x212c);for(const _0x4a19ae in _0x1a0b9e)_0x1a0b9e['hasOwnProp'+'erty'](_0x4a19ae)&&(_0x1a0b9e[_0x4a19ae]['constructo'+'r']===Qi?_0x5d7789=!(0x8ad*-0x2+-0x1*-0xcbd+0x49d):_0x577619=!(-0xff0+-0x7cb+0x17bb));const _0x4b8cd5=_0xf05c80['getGraph']();_0x577619?(this['fromSkel']=new Sf(_0x4b8cd5),this['toSkel']=new Sf(_0x4b8cd5),this['skeleton']=new Sf(_0x4b8cd5),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4b8cd5)):_0x5d7789&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x5aecb1){if(!_0x5aecb1||!_0x5aecb1['length'])return;const _0x150833=this['system']['app']['assets'],_0xe91bc0=_0x5b14f6=>{if(_0x5b14f6['resources']['length']>0x112+-0xf0c+0xdfb){for(let _0x34aab3=-0x3*-0x7a9+-0x5dc+0x111f*-0x1;_0x34aab3<_0x5b14f6['resources']['length'];_0x34aab3++)this['animations'][_0x5b14f6['resources'][_0x34aab3]['name']]=_0x5b14f6['resources'][_0x34aab3],this['animations'+'Index'][_0x5b14f6['id']]=_0x5b14f6['resources'][_0x34aab3]['name'];}else this['animations'][_0x5b14f6['name']]=_0x5b14f6['resource'],this['animations'+'Index'][_0x5b14f6['id']]=_0x5b14f6['name'];this['animations']=this['animations'];},_0x545fe8=_0xcda324=>{_0xcda324['off']('change',this['onAssetCha'+'nged'],this),_0xcda324['on']('change',this['onAssetCha'+'nged'],this),_0xcda324['off']('remove',this['onAssetRem'+'oved'],this),_0xcda324['on']('remove',this['onAssetRem'+'oved'],this),_0xcda324['resource']?_0xe91bc0(_0xcda324):(_0xcda324['once']('load',_0xe91bc0,this),this['enabled']&&this['entity']['enabled']&&_0x150833['load'](_0xcda324));};for(let _0x1d7ff9=0x22b8+-0xb7b+0x295*-0x9,_0x4fe187=_0x5aecb1['length'];_0x1d7ff9<_0x4fe187;_0x1d7ff9++){const _0xed7bf=_0x150833['get'](_0x5aecb1[_0x1d7ff9]);_0xed7bf?_0x545fe8(_0xed7bf):_0x150833['on']('add:'+_0x5aecb1[_0x1d7ff9],_0x545fe8);}}['onAssetCha'+'nged'](_0x2ff2c0,_0x5dbb72,_0x32a27a,_0x2f519e){if(_0x5dbb72==='resource'||_0x5dbb72==='resources'){if(_0x5dbb72==='resources'&&_0x32a27a&&_0x32a27a['length']===-0x1*-0x1bab+-0xfca+-0xbe1*0x1&&(_0x32a27a=null),_0x32a27a){let _0x17eba3=!(-0x2627*-0x1+0x1750+-0x3d76);if(_0x32a27a['length']>0x95d*0x1+-0x65*-0x1+-0x9c1){if(_0x2f519e&&_0x2f519e['length']>0x2277+0x1*0x14f1+0x3767*-0x1){for(let _0xe2fd24=-0x1f39+0x86f+0x16ca*0x1;_0xe2fd24<_0x2f519e['length'];_0xe2fd24++)delete this['animations'][_0x2f519e[_0xe2fd24]['name']];}else delete this['animations'][_0x2ff2c0['name']];_0x17eba3=!(0x505*0x5+-0x1e5f+0xc1*0x7);for(let _0x380e02=0xfa0+0x25a2+-0x3542;_0x380e02<_0x32a27a['length'];_0x380e02++)this['animations'][_0x32a27a[_0x380e02]['name']]=_0x32a27a[_0x380e02],!_0x17eba3&&this['currAnim']===_0x32a27a[_0x380e02]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x17eba3=!(0x852+-0x1*0x1c85+-0x1*-0x1433),this['play'](_0x32a27a[_0x380e02]['name']));_0x17eba3||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x2f519e&&_0x2f519e['length']>0xbcf*-0x2+-0x1f*0x104+0x371b){for(let _0x1e2720=-0x9f1+0x17cd+-0xddc;_0x1e2720<_0x2f519e['length'];_0x1e2720++)delete this['animations'][_0x2f519e[_0x1e2720]['name']];}this['animations'][_0x2ff2c0['name']]=_0x32a27a[-0x422*0x1+0x1*-0x21dc+-0x25fe*-0x1]||_0x32a27a,_0x17eba3=!(0x16af*0x1+-0xe*-0x128+0xc7*-0x32),this['currAnim']===_0x2ff2c0['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x17eba3=!(-0xd65+-0x1cd4+0xe13*0x3),this['play'](_0x2ff2c0['name'])),_0x17eba3||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x2ff2c0['id']]=_0x2ff2c0['name'];}else{if(_0x2f519e['length']>0x4*0x9c1+0x1*-0x7df+-0x1f24*0x1){for(let _0x4aaff6=-0x1*0x1f9d+-0x2010+0x3fad;_0x4aaff6<_0x2f519e['length'];_0x4aaff6++)delete this['animations'][_0x2f519e[_0x4aaff6]['name']],this['currAnim']===_0x2f519e[_0x4aaff6]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2ff2c0['name']],this['currAnim']===_0x2ff2c0['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2ff2c0['id']];}}}['onAssetRem'+'oved'](_0xb6f367){if(_0xb6f367['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0xb6f367['resources']['length']>0x1*0xcf1+0xb78+-0x47*0x58){for(let _0x4a7ccd=0x2600+0x2*-0x434+-0x1d98;_0x4a7ccd<_0xb6f367['resources']['length'];_0x4a7ccd++)delete this['animations'][_0xb6f367['resources'][_0x4a7ccd]['name']],this['currAnim']===_0xb6f367['resources'][_0x4a7ccd]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0xb6f367['name']],this['currAnim']===_0xb6f367['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0xb6f367['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x101a+-0x3ba*-0x7+0x23*-0x49),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x34*-0xa+-0x33b*0x5+0x122f,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x2014ee=0xea5+0x6*0x367+-0x230f;_0x2014ee<this['animEvalua'+'tor']['clips']['length'];++_0x2014ee)this['animEvalua'+'tor']['clips'][_0x2014ee]['stop']();this['animEvalua'+'tor']['update'](-0x2207+-0x214d+-0x1*-0x4354),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x862ee=this['assets'],_0x5cafa2=this['system']['app']['assets'];if(_0x862ee)for(let _0x33cba5=-0x797*-0x1+-0x6*0x25f+-0x1*-0x6a3,_0x33f2ad=_0x862ee['length'];_0x33cba5<_0x33f2ad;_0x33cba5++){let _0x2fef4f=_0x862ee[_0x33cba5];_0x2fef4f instanceof pe||(_0x2fef4f=_0x5cafa2['get'](_0x2fef4f)),_0x2fef4f&&!_0x2fef4f['resource']&&_0x5cafa2['load'](_0x2fef4f);}if(this['activate']&&!this['currAnim']){const _0x1d0482=Object['keys'](this['animations']);_0x1d0482['length']>-0x2*0x1375+0x1a57+0xc93&&this['play'](_0x1d0482[-0x1*0x725+-0x146+0x1*0x86b]);}}['onBeforeRe'+'move'](){for(let _0x1df87b=0x5f8*-0x4+0x4f*-0x7d+0x3e73;_0x1df87b<this['assets']['length'];_0x1df87b++){let _0x4a7527=this['assets'][_0x1df87b];typeof _0x4a7527=='number'&&(_0x4a7527=this['system']['app']['assets']['get'](_0x4a7527)),_0x4a7527&&(_0x4a7527['off']('change',this['onAssetCha'+'nged'],this),_0x4a7527['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x40fabc){if(this['blending']&&(this['blend']+=_0x40fabc*this['blendSpeed'],this['blend']>=-0x872*0x1+0x8e9*-0x3+0x232e&&(this['blend']=-0x1*0x13ed+0x1747*0x1+0x359*-0x1)),this['playing']){const _0x2a914d=this['skeleton'];if(_0x2a914d!==null&&this['model']!==null){if(this['blending'])_0x2a914d['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x49866a=_0x40fabc*this['speed'];_0x2a914d['addTime'](_0x49866a),this['speed']>0x5db*-0x1+-0x20af+0x268a&&_0x2a914d['_time']===_0x2a914d['animation']['duration']&&!this['loop']?this['playing']=!(0xff4+-0xe6*0x1a+0x769):this['speed']<0xfff+-0x2593+-0x1594*-0x1&&_0x2a914d['_time']===0x158*-0x17+-0x22b*0xf+-0x4e1*-0xd&&!this['loop']&&(this['playing']=!(0x1*-0xfc5+0x8*-0x412+0x3056));}this['blending']&&this['blend']===0x37c*0x5+0x5*0x2dd+-0x1fbc&&(_0x2a914d['animation']=this['toSkel']['animation']),_0x2a914d['updateGrap'+'h']();}}const _0x4b27a1=this['animEvalua'+'tor'];if(_0x4b27a1){for(let _0x1318c3=-0xe0e+-0x1401+0x220f;_0x1318c3<_0x4b27a1['clips']['length'];++_0x1318c3){const _0xe5e937=_0x4b27a1['clips'][_0x1318c3];_0xe5e937['speed']=this['speed'],this['playing']?_0xe5e937['resume']():_0xe5e937['pause']();}this['blending']&&_0x4b27a1['clips']['length']>-0x409+-0x80+0xa6*0x7&&(_0x4b27a1['clips'][0x1*-0x137d+-0x3ac*0x1+0x2*0xb95]['blendWeigh'+'t']=this['blend']),_0x4b27a1['update'](_0x40fabc);}this['blending']&&this['blend']===0x2f*-0x8f+-0x1dd*-0xb+0x5c3&&(this['blending']=!(0xd3a+0x3f9*0x9+-0x30fa));}}class LL{constructor(){this['enabled']=!(-0x14ef+0xcae+-0x1*-0x841);}}const Tu=['enabled'];class RL extends ct{constructor(_0x4dd305){super(_0x4dd305),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x85d877,_0x4ec2b9,_0x336756){_0x336756=['activate','enabled','loop','speed','assets'];for(const _0x6e6a08 of _0x336756)_0x4ec2b9['hasOwnProp'+'erty'](_0x6e6a08)&&(_0x85d877[_0x6e6a08]=_0x4ec2b9[_0x6e6a08]);super['initialize'+'ComponentD'+'ata'](_0x85d877,_0x4ec2b9,Tu);}['cloneCompo'+'nent'](_0x191116,_0x5eb482){this['addCompone'+'nt'](_0x5eb482,{}),_0x5eb482['animation']['assets']=_0x191116['animation']['assets']['slice'](),_0x5eb482['animation']['speed']=_0x191116['animation']['speed'],_0x5eb482['animation']['loop']=_0x191116['animation']['loop'],_0x5eb482['animation']['activate']=_0x191116['animation']['activate'],_0x5eb482['animation']['enabled']=_0x191116['animation']['enabled'];const _0x3258b9={},_0x2725d9=_0x191116['animation']['animations'];for(const _0x41675f in _0x2725d9)_0x2725d9['hasOwnProp'+'erty'](_0x41675f)&&(_0x3258b9[_0x41675f]=_0x2725d9[_0x41675f]);_0x5eb482['animation']['animations']=_0x3258b9;const _0xb5faa1={},_0x58efe5=_0x191116['animation']['animations'+'Index'];for(const _0x4b7a17 in _0x58efe5)_0x58efe5['hasOwnProp'+'erty'](_0x4b7a17)&&(_0xb5faa1[_0x4b7a17]=_0x58efe5[_0x4b7a17]);return _0x5eb482['animation']['animations'+'Index']=_0xb5faa1,_0x5eb482['animation'];}['onBeforeRe'+'move'](_0x25796d,_0x301bdf){_0x301bdf['onBeforeRe'+'move']();}['onUpdate'](_0x3166e2){const _0x25dd8b=this['store'];for(const _0x15bbcc in _0x25dd8b)if(_0x25dd8b['hasOwnProp'+'erty'](_0x15bbcc)){const _0xc3589e=_0x25dd8b[_0x15bbcc];_0xc3589e['data']['enabled']&&_0xc3589e['entity']['enabled']&&_0xc3589e['entity']['animation']['update'](_0x3166e2);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x1f60fe,_0x2084ed,_0x1bcd17,_0x1ac5ae,_0x56dab2=-0x2*0x2fc+0x179b*0x1+-0x2*0x8d1){this['_state']=_0x1f60fe,this['_parent']=_0x2084ed,this['_name']=_0x1bcd17,Array['isArray'](_0x1ac5ae)?(this['_point']=new J(_0x1ac5ae[-0xc*-0x2e+0x1*0x669+-0x891],_0x1ac5ae[-0x1c57+-0xf4e+0x15d3*0x2]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x1ac5ae,this['_pointLeng'+'th']=_0x1ac5ae),this['_speed']=_0x56dab2,this['_weightedS'+'peed']=-0x155b+0x7*-0x3c4+0x7f4*0x6,this['_weight']=-0x1*-0x362+-0x924+0x5c3,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x361d94){this['_weight']=_0x361d94;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x594e83=this['_state']['totalWeigh'+'t'];return _0x594e83===-0x4c5*-0x1+0x17b7+-0x4*0x71f?0x48*0x87+0x1d14+-0x430c:this['weight']/_0x594e83;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x5b5762){this['_weightedS'+'peed']=_0x5b5762;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x274562){this['_animTrack']=_0x274562;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x1a1481,_0x201e9b,_0x28a532,_0x6ad1f8,_0x5535b3,_0x8fc510,_0xf7669d,_0x4e8b69,_0x76249b){super(_0x1a1481,_0x201e9b,_0x28a532,_0x6ad1f8),this['_parameter'+'s']=_0x5535b3,this['_parameter'+'Values']=new Array(_0x5535b3['length']),this['_children']=[],this['_findParam'+'eter']=_0x76249b,this['_syncAnima'+'tions']=_0xf7669d!==!(0xa21+0x3be*-0x5+0x896),this['_pointCach'+'e']={};for(let _0x20277c=0x3ad+0x416*0x3+-0x1*0xfef;_0x20277c<_0x8fc510['length'];_0x20277c++){const _0x412bff=_0x8fc510[_0x20277c];_0x412bff['children']?this['_children']['push'](_0x4e8b69(_0x412bff['type'],_0x1a1481,this,_0x412bff['name'],0x16f7+0x2089+-0x377f,_0x412bff['parameter']?[_0x412bff['parameter']]:_0x412bff['parameters'],_0x412bff['children'],_0x412bff['syncAnimat'+'ions'],_0x4e8b69,_0x76249b)):this['_children']['push'](new ml(_0x1a1481,this,_0x412bff['name'],_0x412bff['point'],_0x412bff['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x54bb8c){for(let _0x290360=0x1d2f+0x87d*0x4+-0x3f23*0x1;_0x290360<this['_children']['length'];_0x290360++)if(this['_children'][_0x290360]['name']===_0x54bb8c)return this['_children'][_0x290360];return null;}['updatePara'+'meterValue'+'s'](){let _0x2756e6=!(-0x7c8+-0x2*0xd17+-0x17*-0x17a);for(let _0xc1bcbe=-0x35*0x3+-0xd23*-0x1+-0xc84;_0xc1bcbe<this['_parameter'+'Values']['length'];_0xc1bcbe++){const _0x2ec583=this['_findParam'+'eter'](this['_parameter'+'s'][_0xc1bcbe])['value'];this['_parameter'+'Values'][_0xc1bcbe]!==_0x2ec583&&(this['_parameter'+'Values'][_0xc1bcbe]=_0x2ec583,_0x2756e6=!(-0x145c+0x1977+-0x51a));}return _0x2756e6;}['getNodeWei'+'ghtedDurat'+'ion'](_0x4dbef7){return this['_children'][_0x4dbef7]['animTrack']['duration']/this['_children'][_0x4dbef7]['speedMulti'+'plier']*this['_children'][_0x4dbef7]['weight'];}['getNodeCou'+'nt'](){let _0x100cb6=-0x1a74+0x2270+-0x7fc;for(let _0x4507cd=-0x2d3*0xc+0x2417*-0x1+0x45fb;_0x4507cd<this['_children']['length'];_0x4507cd++)this['_children'][_0x4507cd]['constructo'+'r']===Jn?_0x100cb6+=this['_children'][_0x4507cd]['getNodeCou'+'nt']():_0x100cb6++;return _0x100cb6;}}class OL extends Jn{constructor(_0x4d74f0,_0x5067a3,_0x3719c9,_0x1caacb,_0x48a572,_0x1f4f81,_0x29330d,_0x300ac8,_0x396c57){_0x1f4f81['sort']((_0x23d2ba,_0x2adbc7)=>_0x23d2ba['point']-_0x2adbc7['point']),super(_0x4d74f0,_0x5067a3,_0x3719c9,_0x1caacb,_0x48a572,_0x1f4f81,_0x29330d,_0x300ac8,_0x396c57);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1711ff=0x42*0x92+-0xe3c*0x2+-0x2*0x496;this['_children'][-0x26e7*-0x1+-0xc48+0x91*-0x2f]['weight']=-0x3e*-0x2f+0x5e7*-0x1+-0x57b*0x1;for(let _0x4b94f4=-0xc89+0x1064+-0x149*0x3;_0x4b94f4<this['_children']['length'];_0x4b94f4++){const _0xc76c5c=this['_children'][_0x4b94f4];if(_0x4b94f4!==this['_children']['length']-(0x1*-0x329+-0x1dd1+-0x1*-0x20fb)){const _0xa5cf9d=this['_children'][_0x4b94f4+(0xc04+-0x1798+0xb95)];if(_0xc76c5c['point']===_0xa5cf9d['point'])_0xc76c5c['weight']=0xfa0*-0x2+-0x1a21*-0x1+0x51f+0.5,_0xa5cf9d['weight']=0x19a+0x8f4+-0xa8e*0x1+0.5;else{if(Y['between'](this['_parameter'+'Values'][0xafc+-0x949*0x2+0x796],_0xc76c5c['point'],_0xa5cf9d['point'],!(-0x1*0x114b+0x2*0xac3+-0x43b))){const _0x5ea51b=Math['abs'](_0xc76c5c['point']-_0xa5cf9d['point']),_0x101f5e=Math['abs'](_0xc76c5c['point']-this['_parameter'+'Values'][-0x1d1a+0x17a5*0x1+0x575]),_0x78d4eb=(_0x5ea51b-_0x101f5e)/_0x5ea51b;_0xc76c5c['weight']=_0x78d4eb,_0xa5cf9d['weight']=-0x88f+0x1a1b+0x9*-0x1f3-_0x78d4eb;}else _0xa5cf9d['weight']=0x21*0xa7+0x176e+0x1*-0x2cf5;}}this['_syncAnima'+'tions']&&(_0x1711ff+=_0xc76c5c['animTrack']['duration']/_0xc76c5c['absoluteSp'+'eed']*_0xc76c5c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x52d55b=0x25a7+-0x87c+-0x9b9*0x3;_0x52d55b<this['_children']['length'];_0x52d55b++){const _0xb984cf=this['_children'][_0x52d55b];_0xb984cf['weightedSp'+'eed']=_0xb984cf['animTrack']['duration']/_0xb984cf['absoluteSp'+'eed']/_0x1711ff;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x4a4030,_0x4e5a17){const _0x2d5949=''+_0x4a4030+_0x4e5a17;return this['_pointCach'+'e'][_0x2d5949]||(this['_pointCach'+'e'][_0x2d5949]=this['_children'][_0x4e5a17]['point']['clone']()['sub'](this['_children'][_0x4a4030]['point'])),this['_pointCach'+'e'][_0x2d5949];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x560788,_0x5c5dee;ki['_p']['set'](...this['_parameter'+'Values']),_0x560788=0x239*0x6+-0x4*-0x4a2+-0x1fde,_0x5c5dee=-0x5ca+0x5*0x3a1+0xc5b*-0x1;for(let _0x66ef6a=0x1*-0x23f3+-0x1*-0x7eb+0x1c08;_0x66ef6a<this['_children']['length'];_0x66ef6a++){const _0x5e7414=this['_children'][_0x66ef6a],_0x4701ed=_0x5e7414['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x4701ed);let _0x32ede5=Number['MAX_VALUE'];for(let _0x25d653=0x685*-0x2+-0x2551+0x325b*0x1;_0x25d653<this['_children']['length'];_0x25d653++){if(_0x66ef6a===_0x25d653)continue;const _0x52d1dc=this['pointDista'+'nceCache'](_0x66ef6a,_0x25d653),_0x20b1cd=Y['clamp'](0x2122+0x1*0xc77+-0x2d98-ki['_pip']['dot'](_0x52d1dc)/_0x52d1dc['lengthSq'](),-0x9ce*-0x3+0x16bf+0x1163*-0x3,0x1*-0x1525+0x1*0x9f0+0xb36);_0x20b1cd<_0x32ede5&&(_0x32ede5=_0x20b1cd);}_0x5e7414['weight']=_0x32ede5,_0x560788+=_0x32ede5,this['_syncAnima'+'tions']&&(_0x5c5dee+=_0x5e7414['animTrack']['duration']/_0x5e7414['absoluteSp'+'eed']*_0x5e7414['weight']);}for(let _0xfa8aed=-0x1e27+0xf1*-0xb+0x2882;_0xfa8aed<this['_children']['length'];_0xfa8aed++){const _0x5f4c6c=this['_children'][_0xfa8aed];_0x5f4c6c['weight']=_0x5f4c6c['_weight']/_0x560788,this['_syncAnima'+'tions']&&(_0x5f4c6c['weightedSp'+'eed']=_0x5f4c6c['animTrack']['duration']/_0x5f4c6c['absoluteSp'+'eed']/_0x5c5dee);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x225c43,_0x21146d){const _0x562f58=''+_0x225c43+_0x21146d;return this['_pointCach'+'e'][_0x562f58]||(this['_pointCach'+'e'][_0x562f58]=new J((this['_children'][_0x21146d]['pointLengt'+'h']-this['_children'][_0x225c43]['pointLengt'+'h'])/((this['_children'][_0x21146d]['pointLengt'+'h']+this['_children'][_0x225c43]['pointLengt'+'h'])/(0x11ac+-0x1ab7+-0x7*-0x14b)),J['angleRad'](this['_children'][_0x225c43]['point'],this['_children'][_0x21146d]['point'])*(0xae5*0x3+0x2*0x103d+-0xd*0x503))),this['_pointCach'+'e'][_0x562f58];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5ad0b1,_0x1faadf;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x157136=Ui['_p']['length']();_0x5ad0b1=0x1bad+0xec7+-0x2a74,_0x1faadf=0x25f7+0x1ee6+-0x44dd;for(let _0x31030e=-0x412+-0x11*-0x1c9+0x1a47*-0x1;_0x31030e<this['_children']['length'];_0x31030e++){const _0x341e21=this['_children'][_0x31030e],_0x13ed5b=_0x341e21['point'],_0x105a62=_0x341e21['pointLengt'+'h'];let _0x2e1ad1=Number['MAX_VALUE'];for(let _0x5219bc=-0x159c+-0xb3f*0x1+0x20db;_0x5219bc<this['_children']['length'];_0x5219bc++){if(_0x31030e===_0x5219bc)continue;const _0x667fd=this['pointCache'](_0x31030e,_0x5219bc),_0x875f2a=this['_children'][_0x5219bc]['pointLengt'+'h'];Ui['_pip']['set']((_0x157136-_0x105a62)/((_0x875f2a+_0x105a62)/(-0x4*-0x1cf+0x8b2+-0x4*0x3fb)),J['angleRad'](_0x13ed5b,Ui['_p'])*(0x43*0x19+0x61*-0x25+0x1*0x77c));const _0x2fb788=Y['clamp'](0x24ba+-0xd8c+-0x172d-Math['abs'](Ui['_pip']['dot'](_0x667fd)/_0x667fd['lengthSq']()),-0xe3*-0x8+0xf92+0x78e*-0x3,-0x50*0x2a+0x931+-0x18*-0x2a);_0x2fb788<_0x2e1ad1&&(_0x2e1ad1=_0x2fb788);}_0x341e21['weight']=_0x2e1ad1,_0x5ad0b1+=_0x2e1ad1,this['_syncAnima'+'tions']&&(_0x1faadf+=_0x341e21['animTrack']['duration']/_0x341e21['absoluteSp'+'eed']*_0x341e21['weight']);}for(let _0x3504fb=-0x21*-0x10f+-0x1f9f+-0x2*0x1a8;_0x3504fb<this['_children']['length'];_0x3504fb++){const _0x580709=this['_children'][_0x3504fb];if(_0x580709['weight']=_0x580709['_weight']/_0x5ad0b1,this['_syncAnima'+'tions']){const _0x324cb5=_0x580709['animTrack']['duration']/_0x1faadf*_0x5ad0b1;_0x580709['weightedSp'+'eed']=_0x580709['absoluteSp'+'eed']*_0x324cb5;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x23c3fb=-0x22d0+0x19*-0x15b+0x2b*0x199,_0x41f6b7=-0x1693+-0xe8*0x17+0x2b6b;for(let _0x2522d2=0x1*0xbce+0x98f+-0x155d*0x1;_0x2522d2<this['_children']['length'];_0x2522d2++)if(_0x23c3fb+=Math['max'](this['_parameter'+'Values'][_0x2522d2],0x13*-0x1e1+0xf85+0x142e),this['_syncAnima'+'tions']){const _0x5bb38e=this['_children'][_0x2522d2];_0x41f6b7+=_0x5bb38e['animTrack']['duration']/_0x5bb38e['absoluteSp'+'eed']*_0x5bb38e['weight'];}for(let _0x2caea3=-0x7ca+0x245c+0x2*-0xe49;_0x2caea3<this['_children']['length'];_0x2caea3++){const _0x6fa411=this['_children'][_0x2caea3],_0x42b6ec=Math['max'](this['_parameter'+'Values'][_0x2caea3],0xc6d*0x3+-0x383*-0x7+-0x3ddc);_0x23c3fb?(_0x6fa411['weight']=_0x42b6ec/_0x23c3fb,this['_syncAnima'+'tions']&&(_0x6fa411['weightedSp'+'eed']=_0x6fa411['animTrack']['duration']/_0x6fa411['absoluteSp'+'eed']/_0x41f6b7)):(_0x6fa411['weight']=-0x13be+0x3d*-0xb+0x165d,this['_syncAnima'+'tions']&&(_0x6fa411['weightedSp'+'eed']=-0x270e+0x21df+-0x52f*-0x1));}}}class Fg{constructor(_0x42e1fd,_0x45a60e,_0x34be12=0xc38+-0x13*-0xb5+-0x19a6,_0x1c3c7a=!(-0x1550+0x19*0x1f+0x1*0x1249),_0x34da05){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x42e1fd,this['_name']=_0x45a60e,this['_speed']=_0x34be12,this['_loop']=_0x1c3c7a,this['_hasAnimat'+'ions']=!(0x362*-0x2+-0x234c+-0x2a11*-0x1),_0x34da05?this['_blendTree']=this['_createTre'+'e'](_0x34da05['type'],this,null,_0x45a60e,-0xd0a+-0x2a5+0x3ec*0x4,_0x34da05['parameter']?[_0x34da05['parameter']]:_0x34da05['parameters'],_0x34da05['children'],_0x34da05['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x45a60e,0xa6b+0x9ce+-0x1438,_0x34be12));}['_createTre'+'e'](_0xbeb428,_0x43c9a7,_0x2f064c,_0x282c38,_0x26e24b,_0x21a3fb,_0x345488,_0x3d83a7,_0xa809dc,_0x3b41b6){switch(_0xbeb428){case CL:return new OL(_0x43c9a7,_0x2f064c,_0x282c38,_0x26e24b,_0x21a3fb,_0x345488,_0x3d83a7,_0xa809dc,_0x3b41b6);case ML:return new wu(_0x43c9a7,_0x2f064c,_0x282c38,_0x26e24b,_0x21a3fb,_0x345488,_0x3d83a7,_0xa809dc,_0x3b41b6);case PL:return new Eu(_0x43c9a7,_0x2f064c,_0x282c38,_0x26e24b,_0x21a3fb,_0x345488,_0x3d83a7,_0xa809dc,_0x3b41b6);case DL:return new FL(_0x43c9a7,_0x2f064c,_0x282c38,_0x26e24b,_0x21a3fb,_0x345488,_0x3d83a7,_0xa809dc,_0x3b41b6);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0xbeb428);}['_getNodeFr'+'omPath'](_0x490a73){let _0x168558=this['_blendTree'];for(let _0x345b8c=0xa07*0x2+0x477+-0xc*0x20b;_0x345b8c<_0x490a73['length'];_0x345b8c++)_0x168558=_0x168558['getChild'](_0x490a73[_0x345b8c]);return _0x168558;}['addAnimati'+'on'](_0x697d57,_0x5781ad){const _0x37b0f3=_0x697d57['join']('.'),_0x3324da=this['_animation'+'List']['findIndex'](_0xa40727=>_0xa40727['path']===_0x37b0f3);if(_0x3324da>=0x1c*0x97+0x1032+0x9e*-0x35)this['_animation'+'List'][_0x3324da]['animTrack']=_0x5781ad;else{const _0x5be739=this['_getNodeFr'+'omPath'](_0x697d57);_0x5be739['animTrack']=_0x5781ad,this['_animation'+'List']['push'](_0x5be739);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x445+-0x2*0x529+-0x60d*-0x1&&this['_animation'+'List']['every'](_0x253350=>_0x253350['animTrack']&&_0x253350['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x134aad){this['_animation'+'List']=_0x134aad,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x372ff9){this['_speed']=_0x372ff9;}get['speed'](){return this['_speed'];}set['loop'](_0x49554f){this['_loop']=_0x49554f;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x3*-0xa13+0x7*0x58f+0x9*-0xf7:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x20cd*-0x1+0x9*0x412+-0x23*0x1c)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x2a*-0x80+-0x1c34*0x1+0x3134){const _0x41d1a3=this['name']+'.'+this['animations'][-0xb60+0x1*-0xfcb+-0x1*-0x1b2b]['animTrack']['name'],_0x2d27f8=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x41d1a3);if(_0x2d27f8)return _0x2d27f8['loop'];}return!(-0xd0+0x21a9+0x106c*-0x2);}get['totalWeigh'+'t'](){let _0x387f39=-0x2270+-0x5e*0x4f+-0x1fb9*-0x2;for(let _0x54fb63=-0x1*-0x21d3+0x1e*-0x64+-0x161b;_0x54fb63<this['animations']['length'];_0x54fb63++)_0x387f39+=this['animations'][_0x54fb63]['weight'];return _0x387f39;}get['timelineDu'+'ration'](){let _0x2357f0=0x5a7+-0x2b8+-0x2ef;for(let _0x3e40a5=0x4f*0x35+-0xb39+-0x522;_0x3e40a5<this['animations']['length'];_0x3e40a5++){const _0x34ef43=this['animations'][_0x3e40a5];_0x34ef43['animTrack']['duration']>_0x2357f0&&(_0x2357f0=_0x34ef43['animTrack']['duration']);}return _0x2357f0;}}class Lh{constructor({from:_0xc7cb0d,to:_0x501863,time:_0x2b14ca=0x4db+0x1500+-0x19db,priority:_0x1ce540=-0xd*0x65+0x1531+0x4*-0x404,conditions:_0x218f52=[],exitTime:_0x207f41=null,transitionOffset:_0x4f1509=null,interruptionSource:_0x1128c6=zv}){this['_from']=_0xc7cb0d,this['_to']=_0x501863,this['_time']=_0x2b14ca,this['_priority']=_0x1ce540,this['_condition'+'s']=_0x218f52,this['_exitTime']=_0x207f41,this['_transitio'+'nOffset']=_0x4f1509,this['_interrupt'+'ionSource']=_0x1128c6;}get['from'](){return this['_from'];}set['to'](_0x41af98){this['_to']=_0x41af98;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x257edc,_0x2c6c18,_0x118027,_0xb16d5e,_0x316213,_0x2e5568,_0x3c6e12){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',-0x1*0x12ee+-0x403+0x7*0x347),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x183d+0xf80+0x8bd)),h(this,'_playing',!(0x1*-0x1b84+0x47*0x11+0x16ce)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x9e1*0x1+0x2*0x30d+0x3c8),h(this,'_totalTran'+'sitionTime',-0x186b*-0x1+0x1*-0x12b2+-0x5b8),h(this,'_isTransit'+'ioning',!(-0x2310+0x1910+-0xc5*-0xd)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',-0x2da+-0x1160+0x143a),h(this,'_timeInSta'+'teBefore',-0x1*0xa85+-0x1b52*-0x1+0xbb*-0x17),h(this,'findParame'+'ter',_0x3adacf=>this['_findParam'+'eter'](_0x3adacf)),(this['_animEvalu'+'ator']=_0x257edc,this['_eventHand'+'ler']=_0x316213,this['_findParam'+'eter']=_0x2e5568,this['_consumeTr'+'igger']=_0x3c6e12);for(let _0x3f24d0=0x118d+-0x1*0x25f0+0x133*0x11;_0x3f24d0<_0x2c6c18['length'];_0x3f24d0++)this['_states'][_0x2c6c18[_0x3f24d0]['name']]=new Fg(this,_0x2c6c18[_0x3f24d0]['name'],_0x2c6c18[_0x3f24d0]['speed'],_0x2c6c18[_0x3f24d0]['loop'],_0x2c6c18[_0x3f24d0]['blendTree']),this['_stateName'+'s']['push'](_0x2c6c18[_0x3f24d0]['name']);this['_transitio'+'ns']=_0x118027['map'](_0x1e9471=>new Lh({..._0x1e9471})),this['_activate']=_0xb16d5e;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x39de74){this['_activeSta'+'teName']=_0x39de74;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x2831c1){this['_previousS'+'tateName']=_0x2831c1;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x1aec17=!(-0x8*0x46b+-0x23f8+0x4750);for(let _0x172fbb=0x4*0xa6+0x1200+-0x1498;_0x172fbb<this['_stateName'+'s']['length'];_0x172fbb++)this['_states'][this['_stateName'+'s'][_0x172fbb]]['playable']||(_0x1aec17=!(0x1fff*0x1+0x2277+-0x4275));return _0x1aec17;}set['playing'](_0x3f8046){this['_playing']=_0x3f8046;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0xc8ce77=0x1*0x47+-0x7*0xaa+-0x1*-0x45f;for(let _0xa094e6=0xf*-0x34+0xf72+-0x2e*0x45;_0xa094e6<this['activeStat'+'eAnimation'+'s']['length'];_0xa094e6++){const _0x59239f=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xa094e6]['name']);_0x59239f&&(_0xc8ce77=Math['max'](_0xc8ce77,_0x59239f['track']['duration']));}this['_activeSta'+'teDuration']=_0xc8ce77,this['_activeSta'+'teDuration'+'Dirty']=!(0x241+0xcf2+-0x5*0x30a);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x442af5){this['_timeInSta'+'teBefore']=_0x442af5,this['_timeInSta'+'te']=_0x442af5;for(let _0x5b1024=0x12cd+-0x3*-0x728+-0x2845;_0x5b1024<this['activeStat'+'eAnimation'+'s']['length'];_0x5b1024++){const _0x112553=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5b1024]['name']);_0x112553&&(_0x112553['time']=_0x442af5);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x441493){return this['_animEvalu'+'ator']['assignMask'](_0x441493);}['_findState'](_0x51edc4){return this['_states'][_0x51edc4];}['_getActive'+'StateProgr'+'essForTime'](_0x33146f){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0xff6+0x1*-0x1008+0x13;const _0x11a81b=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x1452+0x329*0x1+0x1129]['name']);return _0x11a81b?_0x11a81b['progressFo'+'rTime'](_0x33146f):null;}['_findTrans'+'itionsFrom'+'State'](_0x21008a){let _0x2baa8a=this['_findTrans'+'itionsFrom'+'StateCache'][_0x21008a];return _0x2baa8a||(_0x2baa8a=this['_transitio'+'ns']['filter'](_0x27d47a=>_0x27d47a['from']===_0x21008a),ul(_0x2baa8a),this['_findTrans'+'itionsFrom'+'StateCache'][_0x21008a]=_0x2baa8a),_0x2baa8a;}['_findTrans'+'itionsBetw'+'eenStates'](_0x5d189c,_0x5889b6){let _0x193340=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x5d189c+'->'+_0x5889b6];return _0x193340||(_0x193340=this['_transitio'+'ns']['filter'](_0x51a759=>_0x51a759['from']===_0x5d189c&&_0x51a759['to']===_0x5889b6),ul(_0x193340),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x5d189c+'->'+_0x5889b6]=_0x193340),_0x193340;}['_transitio'+'nHasCondit'+'ionsMet'](_0x78d026){const _0x2be9b2=_0x78d026['conditions'];for(let _0x50d087=0xb10+-0x1*-0xd6f+0x187f*-0x1;_0x50d087<_0x2be9b2['length'];_0x50d087++){const _0x5afd68=_0x2be9b2[_0x50d087],_0x5d1ff3=this['_findParam'+'eter'](_0x5afd68['parameterN'+'ame']);switch(_0x5afd68['predicate']){case xL:if(!(_0x5d1ff3['value']>_0x5afd68['value']))return!(0xd8d*-0x2+0x2284+-0x1*0x769);break;case TL:if(!(_0x5d1ff3['value']<_0x5afd68['value']))return!(0x1a9f+-0x13eb+0x6b3*-0x1);break;case wL:if(!(_0x5d1ff3['value']>=_0x5afd68['value']))return!(-0xc1d+0x1846+-0xc28);break;case EL:if(!(_0x5d1ff3['value']<=_0x5afd68['value']))return!(-0x902*-0x2+0x63d+-0x1840);break;case bL:if(_0x5d1ff3['value']!==_0x5afd68['value'])return!(-0x1567*0x1+0x126e+0x2fa);break;case AL:if(_0x5d1ff3['value']===_0x5afd68['value'])return!(-0x1ef3+0x1798+0x75c);break;}}return!(-0x91a+-0x1f3f+0x2859);}['_findTrans'+'ition'](_0x5591c6,_0x233f5a){let _0x248246=[];if(_0x5591c6&&_0x233f5a)_0x248246=_0x248246['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x5591c6,_0x233f5a));else{if(!this['_isTransit'+'ioning'])_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x248246=_0x248246['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x248246=_0x248246['filter'](_0x5ec133=>{if(_0x5ec133['to']===this['activeStat'+'eName'])return!(0xc36+-0xe53*-0x1+-0x18*0x11b);if(_0x5ec133['hasExitTim'+'e']){let _0x45ed22=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x403677=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x5ec133['exitTime']<0x22aa+0x1*-0x2320+0x11*0x7&&this['activeStat'+'e']['loop']&&(_0x45ed22-=Math['floor'](_0x45ed22),_0x403677-=Math['floor'](_0x403677)),_0x403677===_0x45ed22){if(_0x403677!==_0x5ec133['exitTime'])return null;}else{if(!(_0x5ec133['exitTime']>_0x45ed22&&_0x5ec133['exitTime']<=_0x403677))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x5ec133);}),_0x248246['length']>-0x215f*-0x1+0x20de+-0x423d){const _0x2179a8=_0x248246[0xdca+0x182*-0x5+-0x640];if(_0x2179a8['to']===vu){const _0x26d96d=this['_findTrans'+'itionsFrom'+'State'](Co)[0x18e+-0x17b*-0x1+-0x15*0x25];_0x2179a8['to']=_0x26d96d['to'];}return _0x2179a8;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x5245bb){let _0x4e075d,_0x31545a,_0x1d3257;this['previousSt'+'ate']=_0x5245bb['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x5245bb['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0xdcd+0x7*-0xa7+-0x93c);for(let _0x5c7c57=-0x1253+-0x2*0xc5f+0x2b11;_0x5c7c57<_0x5245bb['conditions']['length'];_0x5c7c57++){const _0x3902a6=_0x5245bb['conditions'][_0x5c7c57];this['_findParam'+'eter'](_0x3902a6['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x3902a6['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x81f1bd=Math['min'](this['_totalTran'+'sitionTime']!==0xad*-0xe+-0x1e94+-0x19a*-0x19?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1365+0x48*-0x4d+0x244,-0x2*0x911+0x34c+-0x83*-0x1d);for(let _0x4f2a44=0x3d1*0x7+0xce4*0x3+0x4163*-0x1;_0x4f2a44<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4f2a44++){this['_isTransit'+'ioning']?_0x4f2a44!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x13fb+-0x19*0x18e+0x326*0x6)?this['_transitio'+'nPreviousS'+'tates'][_0x4f2a44]['weight']*=-0xb9b*-0x1+-0x26ef+0x1b55-_0x81f1bd:this['_transitio'+'nPreviousS'+'tates'][_0x4f2a44]['weight']=_0x81f1bd:this['_transitio'+'nPreviousS'+'tates'][_0x4f2a44]['weight']=-0x153b+-0x511*-0x4+-0x2*-0x7c,_0x4e075d=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4f2a44]['name']);for(let _0xae54a=0x5*0x5a8+0x236a+-0x3fb2;_0xae54a<_0x4e075d['animations']['length'];_0xae54a++)_0x31545a=_0x4e075d['animations'][_0xae54a],_0x1d3257=this['_animEvalu'+'ator']['findClip'](_0x31545a['name']+'.previous.'+_0x4f2a44),_0x1d3257||(_0x1d3257=this['_animEvalu'+'ator']['findClip'](_0x31545a['name']),_0x1d3257['name']=_0x31545a['name']+'.previous.'+_0x4f2a44),_0x4f2a44!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x2627+-0x1*0x9ad+0x2fd5)&&_0x1d3257['pause']();}}this['_isTransit'+'ioning']=!(0x1*0x1ab6+0x1d26+-0x37dc),this['_totalTran'+'sitionTime']=_0x5245bb['time'],this['_currTrans'+'itionTime']=-0x1*0x1ece+0x2706+0x20e*-0x4,this['_transitio'+'nInterrupt'+'ionSource']=_0x5245bb['interrupti'+'onSource'];const _0x48ae63=this['activeStat'+'e'],_0x21e517=_0x5245bb['transition'+'Offset']&&_0x5245bb['transition'+'Offset']>0x1d72+0xf75+-0x2ce7&&_0x5245bb['transition'+'Offset']<0x7b2*-0x1+-0x1*0x2e3+0x21e*0x5;let _0x1db274=-0x1*0xaf7+-0xc43*-0x1+-0x14c,_0x581dec=-0x3*0x766+0x15b*-0xc+-0x669*-0x6;if(_0x21e517){const _0x46535b=_0x48ae63['timelineDu'+'ration']*_0x5245bb['transition'+'Offset'];_0x1db274=_0x46535b,_0x581dec=_0x46535b;}this['_timeInSta'+'te']=_0x1db274,this['_timeInSta'+'teBefore']=_0x581dec;for(let _0xbb8f7d=0x4*-0x3c+-0xd*0x1af+0x16d3;_0xbb8f7d<_0x48ae63['animations']['length'];_0xbb8f7d++){if(_0x1d3257=this['_animEvalu'+'ator']['findClip'](_0x48ae63['animations'][_0xbb8f7d]['name']),_0x1d3257)_0x1d3257['reset']();else{const _0x52dc7d=Number['isFinite'](_0x48ae63['animations'][_0xbb8f7d]['speed'])?_0x48ae63['animations'][_0xbb8f7d]['speed']:_0x48ae63['speed'];_0x1d3257=new Dh(_0x48ae63['animations'][_0xbb8f7d]['animTrack'],this['_timeInSta'+'te'],_0x52dc7d,!(-0x5d0*0x6+-0x1*-0xc35+0x16ab*0x1),_0x48ae63['loop'],this['_eventHand'+'ler']),_0x1d3257['name']=_0x48ae63['animations'][_0xbb8f7d]['name'],this['_animEvalu'+'ator']['addClip'](_0x1d3257);}if(_0x5245bb['time']>0x223*-0xd+-0x14*0x7c+0x2577?_0x1d3257['blendWeigh'+'t']=-0x3*0x551+-0xaf7+0x1*0x1aea:_0x1d3257['blendWeigh'+'t']=_0x48ae63['animations'][_0xbb8f7d]['normalized'+'Weight'],_0x1d3257['play'](),_0x21e517)_0x1d3257['time']=_0x48ae63['timelineDu'+'ration']*_0x5245bb['transition'+'Offset'];else{const _0x449b48=_0x48ae63['speed']>=-0xb*0x2b5+-0x7*-0x224+0xecb?0x15fa*0x1+0xd6*-0x10+-0x89a:this['activeStat'+'eDuration'];_0x1d3257['time']=_0x449b48;}}}['_transitio'+'nToState'](_0x296dcd){if(!this['_findState'](_0x296dcd))return;let _0x37a5e3=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x296dcd);_0x37a5e3||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x37a5e3=new Lh({'from':null,'to':_0x296dcd})),this['updateStat'+'eFromTrans'+'ition'](_0x37a5e3);}['assignAnim'+'ation'](_0x39b51a,_0x35d190,_0x5c3e7f,_0x1e8369){const _0x1383e4=_0x39b51a['split']('.');let _0x11f0b5=this['_findState'](_0x1383e4[-0xdc3+0x1*-0x403+-0x145*-0xe]);_0x11f0b5||(_0x11f0b5=new Fg(this,_0x1383e4[-0xa*-0xbb+-0x180+-0x5ce*0x1],_0x5c3e7f),this['_states'][_0x1383e4[-0xa7*-0x4+0x1c1+-0x45d]]=_0x11f0b5,this['_stateName'+'s']['push'](_0x1383e4[-0x6f4+-0xa45+0x1139*0x1])),_0x11f0b5['addAnimati'+'on'](_0x1383e4,_0x35d190),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x11f0b5['name'],_0x35d190),_0x5c3e7f!==void(-0x20d7+0x21e*-0x2+0x1*0x2513)&&(_0x11f0b5['speed']=_0x5c3e7f),_0x1e8369!==void(-0x24*-0xda+0x2202+-0x40aa)&&(_0x11f0b5['loop']=_0x1e8369),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x1*0x2151+-0x1*-0x1733+-0x23*-0x4a);}['removeNode'+'Animations'](_0x22e9e9){if(Ih['indexOf'](_0x22e9e9)!==-(-0x9*-0x107+0x3*0x472+-0x1694))return!(0x1*0x22cb+0x1*-0x19b7+-0x913);const _0x2eac59=this['_findState'](_0x22e9e9);return _0x2eac59?(_0x2eac59['animations']=[],!(0xc1b+0x1036+-0xb*0x293)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x22e9e9),!(-0x355*0x4+0x2e7+0xa6e));}['play'](_0x34575e){_0x34575e&&this['_transitio'+'nToState'](_0x34575e),this['_playing']=!(-0x162d*-0x1+0x7*-0x383+-0x4d*-0x8);}['pause'](){this['_playing']=!(0x19b*0x5+-0x788+-0x9*0xe);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x14*0x92+-0x1*-0x1e4+-0xd4b),this['_currTrans'+'itionTime']=0x29*-0x1b+0x1f0e+-0x137*0x16,this['_totalTran'+'sitionTime']=-0x1592+0x7*0x521+0x4*-0x395,this['_isTransit'+'ioning']=!(0x185f+0x529*0x7+0xc19*-0x5),this['_timeInSta'+'te']=0x2*-0x1335+0xa7*-0x13+-0x1*-0x32cf,this['_timeInSta'+'teBefore']=-0x1956+-0x1*-0x2197+0x1*-0x841,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x439f01){if(!this['_playing'])return;let _0x27e806,_0xc80feb,_0x16981f;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x439f01*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x439f01=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x4c7784=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x4c7784&&this['updateStat'+'eFromTrans'+'ition'](_0x4c7784),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x439f01,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x515f4f=this['_totalTran'+'sitionTime']!==-0x1a0d+0x22e6+-0x8d9?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x2035+0x223+-0x2257;for(let _0x5c0ebd=0x195f+0x6*-0x7c+-0x3*0x77d;_0x5c0ebd<this['_transitio'+'nPreviousS'+'tates']['length'];_0x5c0ebd++){_0x27e806=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x5c0ebd]['name']);const _0x1b2d31=this['_transitio'+'nPreviousS'+'tates'][_0x5c0ebd]['weight'];for(let _0x4886a1=0xa61+0x1*0x12f6+-0x1d57;_0x4886a1<_0x27e806['animations']['length'];_0x4886a1++)_0xc80feb=_0x27e806['animations'][_0x4886a1],_0x16981f=this['_animEvalu'+'ator']['findClip'](_0xc80feb['name']+'.previous.'+_0x5c0ebd),_0x16981f&&(_0x16981f['blendWeigh'+'t']=(-0x6*0x556+0x1*0xb4e+0x14b7-_0x515f4f)*_0xc80feb['normalized'+'Weight']*_0x1b2d31);}_0x27e806=this['activeStat'+'e'];for(let _0x20f46f=0x8d0+-0x3*0x523+-0x233*-0x3;_0x20f46f<_0x27e806['animations']['length'];_0x20f46f++)_0xc80feb=_0x27e806['animations'][_0x20f46f],this['_animEvalu'+'ator']['findClip'](_0xc80feb['name'])['blendWeigh'+'t']=_0x515f4f*_0xc80feb['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x1a67*-0x1+0x1862+-0x32c8);const _0x52ce06=this['activeStat'+'eAnimation'+'s']['length'],_0x2d79fe=this['_animEvalu'+'ator']['clips']['length'];for(let _0xaaf300=0x2044+-0x1554+-0x64*0x1c;_0xaaf300<_0x2d79fe-_0x52ce06;_0xaaf300++)this['_animEvalu'+'ator']['removeClip'](0xc84+-0x1db7+0x1133);this['_transitio'+'nPreviousS'+'tates']=[],_0x27e806=this['activeStat'+'e'];for(let _0x49d6e5=0xe97*0x1+-0x1d6f+0xed8;_0x49d6e5<_0x27e806['animations']['length'];_0x49d6e5++)_0xc80feb=_0x27e806['animations'][_0x49d6e5],_0x16981f=this['_animEvalu'+'ator']['findClip'](_0xc80feb['name']),_0x16981f&&(_0x16981f['blendWeigh'+'t']=_0xc80feb['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x27e806=this['activeStat'+'e'];for(let _0x11b81a=-0x10db*0x1+-0x6d*-0x5a+0x1577*-0x1;_0x11b81a<_0x27e806['animations']['length'];_0x11b81a++)_0xc80feb=_0x27e806['animations'][_0x11b81a],_0x16981f=this['_animEvalu'+'ator']['findClip'](_0xc80feb['name']),_0x16981f&&(_0x16981f['blendWeigh'+'t']=_0xc80feb['normalized'+'Weight'],_0xc80feb['parent']['syncAnimat'+'ions']&&(_0x16981f['speed']=_0xc80feb['speed']));}}this['_animEvalu'+'ator']['update'](_0x439f01,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x14b4ef,_0x55951a,_0x477082,_0x2830f3,_0x1e8db3){super(_0x55951a),this['animCompon'+'ent']=_0x14b4ef,this['_mask']=_0x2830f3,this['layerName']=_0x477082,this['layerIndex']=_0x1e8db3;}static['_packFloat'](_0x2e5acb){return _0x2e5acb[-0x251c+-0x4ac+0x29c8];}static['_packBoole'+'an'](_0x5704ec){return!!_0x5704ec[-0x256*0xa+-0x2100+0x385c];}static['_packVec2'](_0x389b2c){return wf['x']=_0x389b2c[-0x3fe+-0xe5f*-0x1+0xa61*-0x1],wf['y']=_0x389b2c[0x1*0x48+0x1*0x44b+-0x9*0x82],wf;}static['_packVec3'](_0xa42bf3){return Tc['x']=_0xa42bf3[0xd04+0x3*0xd03+-0x145*0x29],Tc['y']=_0xa42bf3[0x1ef3+0xc43*0x1+0x9*-0x4cd],Tc['z']=_0xa42bf3[-0xf4f+0x27f+0xcd2],Tc;}static['_packVec4'](_0x32973c){return _o['x']=_0x32973c[0xbdb+0x5*-0x48d+-0x117*-0xa],_o['y']=_0x32973c[-0x530*0x2+0x1*-0x1c8d+0x26ee],_o['z']=_0x32973c[0x1*0x1265+-0x1*-0x829+-0x1a8c],_o['w']=_0x32973c[0x1850+0x395+-0x2*0xdf1],_o;}static['_packColor'](_0x48f0dd){return go['r']=_0x48f0dd[-0xe96+0x81+0xe15],go['g']=_0x48f0dd[-0x122c*0x1+-0x27*0x2b+0x18ba],go['b']=_0x48f0dd[0x3*0x24a+-0x3b*0x5+-0x5b5],go['a']=_0x48f0dd[-0x66d+-0x278+0x8e8],go;}static['_packQuat'](_0xceaf43){return So['x']=_0xceaf43[0xe13+0x2644+-0x3457],So['y']=_0xceaf43[0xdc5+0x18ee+0x27*-0xfe],So['z']=_0xceaf43[-0x12e6*0x2+0x7*-0x425+-0x37*-0x137],So['w']=_0xceaf43[-0xd6d*0x1+-0x1*0x15c1+0x2331],So;}['resolve'](_0x887719){const _0x54fe65=ra['encode'](_0x887719['entityPath'],_0x887719['component'],_0x887719['propertyPa'+'th']);let _0xc6bb33=this['targetCach'+'e'][_0x54fe65];if(_0xc6bb33)return _0xc6bb33;let _0x27851e,_0xec5a7b,_0x4777a4;switch(_0x887719['component']){case'entity':_0x27851e=this['_getEntity'+'FromHierar'+'chy'](_0x887719['entityPath']),_0x4777a4=ra['encode'](_0x27851e['path'],'entity',_0x887719['propertyPa'+'th']),_0xec5a7b=_0x27851e;break;case'graph':if(_0xec5a7b=this['findNode'](_0x887719),!_0xec5a7b)return null;_0x4777a4=ra['encode'](_0xec5a7b['path'],'graph',_0x887719['propertyPa'+'th']);break;default:if(_0x27851e=this['_getEntity'+'FromHierar'+'chy'](_0x887719['entityPath']),_0xec5a7b=_0x27851e['findCompon'+'ent'](_0x887719['component']),!_0xec5a7b)return null;_0x4777a4=ra['encode'](_0x27851e['path'],_0x887719['component'],_0x887719['propertyPa'+'th']);break;}return _0xc6bb33=this['_createAni'+'mTargetFor'+'Property'](_0xec5a7b,_0x887719['propertyPa'+'th'],_0x4777a4),this['targetCach'+'e'][_0x54fe65]=_0xc6bb33,_0xc6bb33;}['update'](_0x38dd48){const _0x176747=this['activeNode'+'s'];if(_0x176747){for(let _0x1b79d6=-0x18ee*-0x1+0x1*0xc0a+0x2d8*-0xd;_0x1b79d6<_0x176747['length'];_0x1b79d6++)_0x176747[_0x1b79d6]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x4aa6b4){if(!this['animCompon'+'ent']['entity']['name']===_0x4aa6b4[0xb41+0x1bb*0xa+0x985*-0x3])return null;const _0x4bea32=this['animCompon'+'ent']['entity'];return _0x4aa6b4['length']===0x2*-0x1d2+-0x11*-0xd4+-0x1*0xa6f?_0x4bea32:_0x4bea32['_parent']['findByPath'](_0x4aa6b4);}['_resolvePa'+'th'](_0x2dfcde,_0x36d875,_0xeff88a){const _0x32f5d5=_0x36d875['length']-(_0xeff88a?0x393*-0x8+-0x1c3*0x10+0x38c8*0x1:0x1*-0x120d+0x204a+-0xe3c);for(let _0x528064=-0x1fa1+0x792+0x1*0x180f;_0x528064<_0x32f5d5;_0x528064++)_0x2dfcde=_0x2dfcde[_0x36d875[_0x528064]];return _0x2dfcde;}['_setter'](_0x18a111,_0x53490c,_0x48a502){const _0x43c3e1=this['_resolvePa'+'th'](_0x18a111,_0x53490c),_0x73af80=_0x53490c[_0x53490c['length']-(0x1c*-0x2a+-0xeac+0x1345)],_0x2d2b28='set'+_0x73af80['substring'](0x6*0x48+-0x2709+-0x2559*-0x1,-0x28c*-0x2+0x22e2+0x1b*-0x17b)['toUpperCas'+'e']()+_0x73af80['substring'](-0x3*0x1d7+-0x4c7+0xa4d);if(_0x43c3e1[_0x2d2b28]){let _0x5ac537=_0x43c3e1['get'+_0x73af80['substring'](-0x15*-0xb8+-0xf89+-0x71*-0x1,0xb44+0x55b+-0x3*0x58a)['toUpperCas'+'e']()+_0x73af80['substring'](-0x1*-0x1ce3+0x1*-0xf95+-0xd4d)]['bind'](_0x43c3e1)();_0x5ac537=[_0x5ac537['x'],_0x5ac537['y'],_0x5ac537['z'],_0x5ac537['w']];const _0x36c1ed=_0x43c3e1[_0x2d2b28]['bind'](_0x43c3e1);return{'set':_0x2436f1=>{_0x36c1ed(_0x48a502(_0x2436f1));},'get':()=>_0x5ac537};}const _0x5294c5=_0x43c3e1[_0x73af80];if(typeof _0x5294c5=='object'&&_0x5294c5['hasOwnProp'+'erty']('copy'))return function(_0x2a08e6){_0x5294c5['copy'](_0x48a502(_0x2a08e6));};if([J,D,re,ie,le]['indexOf'](_0x43c3e1['constructo'+'r'])!==-(-0x6*0x243+0x17fe+-0xa6b)&&_0x53490c['length']>0x1c*0x9e+0xf*0x123+-0x2254){const _0x3ad66b=_0x53490c['length']>0xd0c+-0xf5+0x407*-0x3?this['_resolvePa'+'th'](_0x18a111,_0x53490c['slice'](-0x1711+-0x551*-0x2+0xc6f,-(0x29*0x4f+-0x4cf*-0x1+-0x1175))):_0x18a111,_0x494960=_0x53490c[_0x53490c['length']-(-0x23c6+0x788+0x1c40)];return function(_0x597396){_0x43c3e1[_0x73af80]=_0x48a502(_0x597396),_0x3ad66b[_0x494960]=_0x43c3e1;};}return function(_0x779ffd){_0x43c3e1[_0x73af80]=_0x48a502(_0x779ffd);};}['_createAni'+'mTargetFor'+'Property'](_0x45d6dc,_0x306101,_0x463bf2){if(this['handlers']&&_0x306101[-0x1*-0xe3b+-0x1*-0xc93+-0x1ace]['startsWith']('weight.'))return this['handlers']['weight'](_0x45d6dc,_0x306101[-0x1203+0x2217+0x405*-0x4]['replace']('weight.',''));if(this['handlers']&&_0x306101[-0x21*0x6d+-0x92*-0x11+0x45b]==='material'&&_0x306101['length']===-0x7ba+-0x164b+0x1e07){const _0xa1a632=_0x306101[-0x1055+0x23*-0x65+0x1*0x1e25];if(_0xa1a632['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x45d6dc,_0xa1a632);}const _0x531957=this['_resolvePa'+'th'](_0x45d6dc,_0x306101,!(0x1c8b+0x1b44+-0x7*0x7f9));if(typeof _0x531957>'u')return null;let _0x5c8786,_0x3dfef0,_0x36496a;if(typeof _0x531957=='number')_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packFloat']),_0x3dfef0='vector',_0x36496a=0x432*0x5+-0x1fd*-0x1+-0xb7b*0x2;else{if(typeof _0x531957=='boolean')_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packBoole'+'an']),_0x3dfef0='vector',_0x36496a=-0x233+-0x2588+-0x4*-0x9ef;else{if(typeof _0x531957=='object')switch(_0x531957['constructo'+'r']){case J:_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packVec2']),_0x3dfef0='vector',_0x36496a=0x341*0x7+-0x2353+0xc8e;break;case D:_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packVec3']),_0x3dfef0='vector',_0x36496a=-0x1613+-0xbfd*0x3+0x7*0x84b;break;case re:_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packVec4']),_0x3dfef0='vector',_0x36496a=-0x221d+0x4*0xce+0x1*0x1ee9;break;case ie:_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packColor']),_0x3dfef0='vector',_0x36496a=0x1*0x19db+0x6f6+0x3a5*-0x9;break;case le:_0x5c8786=this['_setter'](_0x45d6dc,_0x306101,Fi['_packQuat']),_0x3dfef0='quaternion',_0x36496a=0x1*-0x1cf3+-0x13*0x23+0x14*0x194;break;default:return null;}}}return _0x306101['indexOf']('material')!==-(0x22ed*0x1+0x21*0xc2+0x1*-0x3bee)?new xu(_0x18cfe2=>{_0x5c8786(_0x18cfe2),_0x45d6dc['material']['update']();},_0x3dfef0,_0x36496a,_0x463bf2):new xu(_0x5c8786,_0x3dfef0,_0x36496a,_0x463bf2);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x74b54f={},_0x41b639=function(_0x39cf85){_0x74b54f[_0x39cf85['name']]=_0x39cf85;for(let _0x859c9c=-0x45d*0x1+-0x2*0x5ad+0xfb7;_0x859c9c<_0x39cf85['children']['length'];++_0x859c9c)_0x41b639(_0x39cf85['children'][_0x859c9c]);};_0x41b639(this['graph']),this['nodes']=_0x74b54f;}}class kL{constructor(_0x15223d,_0x342f79,_0x10ff62,_0x39a6d3=0x2633+0x535+-0x2b67,_0x52edd9=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x24cb+-0xc9a+0x1*-0x1831),h(this,'_blendTime'+'Elapsed',0x18e8+-0xad*0x2d+0x581),h(this,'_startingW'+'eight',-0x3f*0x3f+0x1d3f+-0x2*0x6df),h(this,'_targetWei'+'ght',0x2*-0x28e+0x2085+-0x1b69),(this['_name']=_0x15223d,this['_controlle'+'r']=_0x342f79,this['_component']=_0x10ff62,this['_weight']=_0x39a6d3,this['_blendType']=_0x52edd9);}get['name'](){return this['_name'];}set['playing'](_0x1d4e0f){this['_controlle'+'r']['playing']=_0x1d4e0f;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x19448e){const _0x463b9d=this['_controlle'+'r'],_0x13ffa4=_0x463b9d['playing'];_0x463b9d['playing']=!(0xacc+0x10c0+-0x1b8c),_0x463b9d['activeStat'+'eCurrentTi'+'me']=_0x19448e,_0x13ffa4||_0x463b9d['update'](-0x1a47+0x2363*-0x1+0x3daa),_0x463b9d['playing']=_0x13ffa4;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x5d2c70){this['_weight']=_0x5d2c70,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x42ca06){_0x42ca06!==this['_blendType']&&(this['_blendType']=_0x42ca06,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x5c36d0){this['_controlle'+'r']['assignMask'](_0x5c36d0)&&this['_component']['rebind'](),this['_mask']=_0x5c36d0;}get['mask'](){return this['_mask'];}['play'](_0x1b42a1){this['_controlle'+'r']['play'](_0x1b42a1);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x18bd1e){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x18bd1e):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x48+-0x2339+0x22f1,this['_blendTime'+'Elapsed']=-0x6*-0x38f+-0x5cb*0x4+0x1d2,this['_startingW'+'eight']=-0x1df*0x5+0xed0+-0x575,this['_targetWei'+'ght']=-0x1fd6+-0x1f*0x13+0x2223)),this['_controlle'+'r']['update'](_0x18bd1e);}['blendToWei'+'ght'](_0x9a8c19,_0x2bca2a){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x9a8c19,this['_blendTime']=Math['max'](0x3*0xc3e+-0x313+-0x21a7,_0x2bca2a),this['_blendTime'+'Elapsed']=-0x550+-0x1*0xbc+0x60c;}['assignAnim'+'ation'](_0x40be84,_0x3d83ed,_0x2ff346,_0x3deac0){if(!(_0x3d83ed instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x40be84,_0x3d83ed,_0x2ff346,_0x3deac0),this['_controlle'+'r']['_transitio'+'ns']['length']===0x1b3b+0x28*-0x27+-0x305*0x7&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x40be84})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0xb6b*-0x2+0x2036+-0x1*0x960));}['removeNode'+'Animations'](_0x32e758){this['_controlle'+'r']['removeNode'+'Animations'](_0x32e758)&&(this['_component']['playing']=!(0xbb0+0x48*-0x25+-0x147));}['getAnimati'+'onAsset'](_0x5f0d70){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x5f0d70];}['transition'](_0x5bf7a4,_0x4baeb8=-0x3a0+0x12dd+-0x1*0xf3d,_0x4b5551=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x5bf7a4,'time':_0x4baeb8,'transitionOffset':_0x4b5551}));}}class Jc{constructor(_0x2ae273){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x2ae273['layers']))this['_layers']=_0x2ae273['layers'];else for(const _0xb55abd in _0x2ae273['layers']){const _0x4a5449=_0x2ae273['layers'][_0xb55abd],_0x211ee7={'name':_0x4a5449['name'],'blendType':_0x4a5449['blendType'],'weight':_0x4a5449['weight'],'states':[],'transitions':[]};for(let _0x44a3da=0xb5*-0x19+0x1b0a+-0x95d;_0x44a3da<_0x4a5449['states']['length'];_0x44a3da++)_0x211ee7['states']['push'](_0x2ae273['states'][_0x4a5449['states'][_0x44a3da]]);for(let _0x56104e=0x1c85+-0x8*0x41c+0x5*0xdf;_0x56104e<_0x4a5449['transition'+'s']['length'];_0x56104e++){const _0x1245d4=_0x2ae273['transition'+'s'][_0x4a5449['transition'+'s'][_0x56104e]];if(_0x1245d4['conditions']&&!Array['isArray'](_0x1245d4['conditions'])){const _0x6c702c=Object['keys'](_0x1245d4['conditions']),_0x20f121=[];for(let _0x5125b8=0x21cf+-0x1c37+-0x598;_0x5125b8<_0x6c702c['length'];_0x5125b8++){const _0x5e3236=_0x1245d4['conditions'][_0x6c702c[_0x5125b8]];_0x5e3236['parameterN'+'ame']&&_0x20f121['push'](_0x5e3236);}_0x1245d4['conditions']=_0x20f121;}Number['isInteger'](_0x1245d4['from'])&&(_0x1245d4['from']=_0x2ae273['states'][_0x1245d4['from']]['name']),Number['isInteger'](_0x1245d4['to'])&&(_0x1245d4['to']=_0x2ae273['states'][_0x1245d4['to']]['name']),_0x211ee7['transition'+'s']['push'](_0x1245d4);}this['_layers']['push'](_0x211ee7);}for(const _0x47c3b3 in _0x2ae273['parameters']){const _0x439c6d=_0x2ae273['parameters'][_0x47c3b3];this['_parameter'+'s'][_0x439c6d['name']]={'type':_0x439c6d['type'],'value':_0x439c6d['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x5c*-0x4e+0x5df+0x162a),h(this,'_activate',!(0xf35+0x45*-0x33+0x176*-0x1)),h(this,'_playing',!(-0x2*-0x30a+-0x2000+-0x19ed*-0x1)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0xd9c+-0x1d*-0x133+-0x152a)),h(this,'findParame'+'ter',_0x4e8452=>this['_parameter'+'s'][_0x4e8452]),h(this,'consumeTri'+'gger',_0x2a04a5=>{this['_consumedT'+'riggers']['add'](_0x2a04a5);});}set['stateGraph'+'Asset'](_0x561260){if(_0x561260===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x2f53e2,_0x3b308d;_0x561260 instanceof pe?(_0x2f53e2=_0x561260['id'],_0x3b308d=this['system']['app']['assets']['get'](_0x2f53e2),_0x3b308d||(this['system']['app']['assets']['add'](_0x561260),_0x3b308d=this['system']['app']['assets']['get'](_0x2f53e2))):(_0x2f53e2=_0x561260,_0x3b308d=this['system']['app']['assets']['get'](_0x2f53e2)),!(!_0x3b308d||this['_stateGrap'+'hAsset']===_0x2f53e2)&&(_0x3b308d['resource']?(this['_stateGrap'+'h']=_0x3b308d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3b308d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3b308d['once']('load',_0x5aab72=>{this['_stateGrap'+'h']=_0x5aab72['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3b308d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3b308d)),this['_stateGrap'+'hAsset']=_0x2f53e2);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x3de1bb){this['_normalize'+'Weights']=_0x3de1bb,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x208b0c){this['_animation'+'Assets']=_0x208b0c,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x2ce292){this['_speed']=_0x2ce292;}get['speed'](){return this['_speed'];}set['activate'](_0x548ed1){this['_activate']=_0x548ed1;}get['activate'](){return this['_activate'];}set['playing'](_0x14bbbd){this['_playing']=_0x14bbbd;}get['playing'](){return this['_playing'];}set['rootBone'](_0x200eaa){if(typeof _0x200eaa=='string'){const _0x3a3d4c=this['entity']['root']['findByGuid'](_0x200eaa);w['assert'](_0x3a3d4c,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x200eaa+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x3a3d4c;}else _0x200eaa instanceof lt?this['_rootBone']=_0x200eaa:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0xca0635){this['_stateGrap'+'h']=_0xca0635;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0xb6e770){this['_layerIndi'+'ces']=_0xb6e770;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x18c1d1){this['_parameter'+'s']=_0x18c1d1;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x249641){this['_targets']=_0x249641;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x1a77f9=-0x32b*-0xc+-0x166d+-0xf97;_0x1a77f9<this['_layers']['length'];_0x1a77f9++)if(!this['_layers'][_0x1a77f9]['playable'])return!(0xc*0x14+-0x1e28+0x1d39);return!(0x1a32+0x1971+0x33a3*-0x1);}get['baseLayer'](){return this['_layers']['length']>-0x4f3*0x2+-0xe8d+0x1873?this['_layers'][0x1311*-0x2+-0x1*0x1976+-0xb9*-0x58]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x2dfe25){const _0x42f80f=this['animationA'+'ssets'],_0xb69863=this['layers']['map'](_0x54e23a=>_0x54e23a['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x2dfe25['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x42f80f,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x39a983,_0x65377e)=>{_0x39a983['mask']=_0xb69863[_0x65377e];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x2f632e=Object['values'](this['_targets']);for(let _0x225008=-0x18*-0x11e+0x1b45+-0x3615;_0x225008<_0x2f632e['length'];_0x225008++)_0x2f632e[_0x225008]['dirty']=!(0x995+0x49*-0x17+-0x102*0x3);}['_addLayer']({name:_0x2ca807,states:_0x2d80d5,transitions:_0x37e93d,weight:_0x563ccc,mask:_0x231a3f,blendType:_0x48f70e}){let _0x470402;this['rootBone']?_0x470402=this['rootBone']:_0x470402=this['entity'];const _0x3dd256=this['_layers']['length'],_0x4f80c7=new Fi(this,_0x470402,_0x2ca807,_0x231a3f,_0x3dd256),_0x22c7a5=new Gv(_0x4f80c7),_0x4c2229=new NL(_0x22c7a5,_0x2d80d5,_0x37e93d,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x2ca807,_0x4c2229,this,_0x563ccc,_0x48f70e)),this['_layerIndi'+'ces'][_0x2ca807]=_0x3dd256,this['_layers'][_0x3dd256];}['addLayer'](_0x371e42,_0x283335,_0x4fe6ab,_0x44311f){const _0x3ee7ea=this['findAnimat'+'ionLayer'](_0x371e42);if(_0x3ee7ea)return _0x3ee7ea;const _0x229e36=[{'name':'START','speed':0x1}],_0x2eec38=[];return this['_addLayer']({'name':_0x371e42,'states':_0x229e36,'transitions':_0x2eec38,'weight':_0x283335,'mask':_0x4fe6ab,'blendType':_0x44311f});}['_assignPar'+'ameters'](_0x5c6c35){this['_parameter'+'s']={};const _0x23dc8b=Object['keys'](_0x5c6c35['parameters']);for(let _0x47a6b5=-0x3e+-0x99a+0x24*0x46;_0x47a6b5<_0x23dc8b['length'];_0x47a6b5++){const _0x5685d1=_0x23dc8b[_0x47a6b5];this['_parameter'+'s'][_0x5685d1]={'type':_0x5c6c35['parameters'][_0x5685d1]['type'],'value':_0x5c6c35['parameters'][_0x5685d1]['value']};}}['loadStateG'+'raph'](_0x136c87){this['_stateGrap'+'h']=_0x136c87,this['_assignPar'+'ameters'](_0x136c87),this['_layers']=[];let _0x2348ef=!(0x6*0x5bf+0x13f5+0x366e*-0x1);for(let _0x199baf=0x1*0x15f5+-0x45a*0x6+0x1*0x427;_0x199baf<_0x136c87['layers']['length'];_0x199baf++){const _0x190ab8=_0x136c87['layers'][_0x199baf];this['_addLayer']({..._0x190ab8}),_0x190ab8['states']['some'](_0x474389=>_0x474389['blendTree'])&&(_0x2348ef=!(0x8ab*-0x1+0x17*-0x7a+0x14f*0xf));}_0x2348ef||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x243b64=-0x1*0x513+-0x11*-0x1a5+-0x16e2;_0x243b64<this['_layers']['length'];_0x243b64++){const _0x215417=this['_layers'][_0x243b64],_0x55c233=_0x215417['name'];for(let _0x529153=0x1*-0x8eb+-0x186f+0x10ad*0x2;_0x529153<_0x215417['states']['length'];_0x529153++){const _0x198005=_0x215417['states'][_0x529153];if(Ih['indexOf'](_0x198005)===-(-0x15c*-0xa+0x173c+-0x24d3)){const _0x4d4d87=_0x55c233+':'+_0x198005;this['_animation'+'Assets'][_0x4d4d87]||(this['_animation'+'Assets'][_0x4d4d87]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x4f0a1f=0xb9a+0x4c6*0x2+-0xa93*0x2;_0x4f0a1f<this['_layers']['length'];_0x4f0a1f++){const _0x1dcfa8=this['_layers'][_0x4f0a1f];for(let _0x16fba9=-0x293*0x8+-0x4c*0x74+0x3708;_0x16fba9<_0x1dcfa8['states']['length'];_0x16fba9++){const _0x4cef99=_0x1dcfa8['states'][_0x16fba9];if(Ih['indexOf'](_0x4cef99)!==-(0x1d*0x3f+0x2564+-0x2c86))continue;const _0x28fd6f=this['_animation'+'Assets'][_0x1dcfa8['name']+':'+_0x4cef99];if(!_0x28fd6f||!_0x28fd6f['asset']){this['findAnimat'+'ionLayer'](_0x1dcfa8['name'])['assignAnim'+'ation'](_0x4cef99,Qi['EMPTY']);continue;}const _0x4b0cad=_0x28fd6f['asset'],_0x205fd4=this['system']['app']['assets']['get'](_0x4b0cad);_0x205fd4&&(_0x205fd4['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x1dcfa8['name'],_0x4cef99,_0x205fd4):(_0x205fd4['once']('load',function(_0x4298f7,_0x4e4235){return function(_0x27e8ea){this['onAnimatio'+'nAssetLoad'+'ed'](_0x4298f7,_0x4e4235,_0x27e8ea);}['bind'](this);}['bind'](this)(_0x1dcfa8['name'],_0x4cef99)),this['system']['app']['assets']['load'](_0x205fd4)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5e276e,_0x31d162,_0x9a5dfe){this['findAnimat'+'ionLayer'](_0x5e276e)['assignAnim'+'ation'](_0x31d162,_0x9a5dfe['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x13af+0x223+0x118d),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x32de0e=-0x1360+0x11e0+0x180;_0x32de0e<this['_layers']['length'];_0x32de0e++){const _0x257e75=this['_layers'][_0x32de0e]['playing'];this['_layers'][_0x32de0e]['reset'](),this['_layers'][_0x32de0e]['playing']=_0x257e75;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x4342f8=>{this['_targets'][_0x4342f8]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x12e5df=0x14*0x1c+-0x1*-0x225a+-0x248a;_0x12e5df<this['_layers']['length'];_0x12e5df++)this['_layers'][_0x12e5df]['rebind']();}['findAnimat'+'ionLayer'](_0x2d7527){const _0x1e7732=this['_layerIndi'+'ces'][_0x2d7527];return this['_layers'][_0x1e7732]||null;}['addAnimati'+'onState'](_0xc39902,_0x2aa2fa,_0x1bb6f6=-0x9f3+-0x24a1+0x2e95,_0x13a7a2=!(-0x19*0xa7+-0xc09+0x1c58),_0x1bf0be='Base'){var _0x4883b4;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x1bf0be,'states':[{'name':'START','speed':0x1},{'name':_0xc39902,'speed':_0x1bb6f6,'loop':_0x13a7a2,'defaultState':!(-0x2c+0xcb8+-0xc8c)}],'transitions':[{'from':'START','to':_0xc39902}]}],'parameters':{}}));const _0x47d96a=this['findAnimat'+'ionLayer'](_0x1bf0be);_0x47d96a?_0x47d96a['assignAnim'+'ation'](_0xc39902,_0x2aa2fa,_0x1bb6f6,_0x13a7a2):(_0x4883b4=this['addLayer'](_0x1bf0be))==null||_0x4883b4['assignAnim'+'ation'](_0xc39902,_0x2aa2fa,_0x1bb6f6,_0x13a7a2);}['assignAnim'+'ation'](_0x2f5af2,_0x2f25e6,_0x5eab92,_0x5406ae=-0x23f0+0x3aa*-0x2+0x3ef*0xb,_0x22fb79=!(-0x227+0x1484+0x1*-0x125d)){if(!this['_stateGrap'+'h']&&_0x2f5af2['indexOf']('.')===-(0x1295+-0x3*-0x42d+0x1f1b*-0x1)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x2f5af2,'speed':_0x5406ae,'loop':_0x22fb79,'defaultState':!(0x7a9+0x416*0x1+-0xbbf)}],'transitions':[{'from':'START','to':_0x2f5af2}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x2f5af2,_0x2f25e6);return;}const _0x3dd35e=_0x5eab92?this['findAnimat'+'ionLayer'](_0x5eab92):this['baseLayer'];if(!_0x3dd35e){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x3dd35e['assignAnim'+'ation'](_0x2f5af2,_0x2f25e6,_0x5406ae,_0x22fb79);}['removeNode'+'Animations'](_0x2414b5,_0x306843){const _0x484863=_0x306843?this['findAnimat'+'ionLayer'](_0x306843):this['baseLayer'];if(!_0x484863){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x484863['removeNode'+'Animations'](_0x2414b5);}['getParamet'+'erValue'](_0x399e5e,_0x57b17f){const _0x312bf8=this['_parameter'+'s'][_0x399e5e];if(_0x312bf8&&_0x312bf8['type']===_0x57b17f)return _0x312bf8['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x399e5e+('\x22\x20of\x20type\x20'+'\x22')+_0x57b17f+'\x22');}['setParamet'+'erValue'](_0x4b411c,_0x4e4b76,_0x1a4b9f){const _0x1c69f8=this['_parameter'+'s'][_0x4b411c];if(_0x1c69f8&&_0x1c69f8['type']===_0x4e4b76){_0x1c69f8['value']=_0x1a4b9f;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x4b411c+('\x22\x20of\x20type\x20'+'\x22')+_0x4e4b76+'\x22');}['getFloat'](_0x3ff7e9){return this['getParamet'+'erValue'](_0x3ff7e9,Rg);}['setFloat'](_0x21afdd,_0x1e2b7d){this['setParamet'+'erValue'](_0x21afdd,Rg,_0x1e2b7d);}['getInteger'](_0x65c11b){return this['getParamet'+'erValue'](_0x65c11b,Lg);}['setInteger'](_0x48423f,_0x40f775){typeof _0x40f775=='number'&&_0x40f775%(-0x1d23+-0x1*-0xc83+0x10a1)===0x1b*0xc4+-0x22d1+0x4b7*0x3?this['setParamet'+'erValue'](_0x48423f,Lg,_0x40f775):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x48423f,_0x40f775);}['getBoolean'](_0x5c546a){return this['getParamet'+'erValue'](_0x5c546a,Og);}['setBoolean'](_0x50efb0,_0x358fbd){this['setParamet'+'erValue'](_0x50efb0,Og,!!_0x358fbd);}['getTrigger'](_0xa68301){return this['getParamet'+'erValue'](_0xa68301,Qc);}['setTrigger'](_0xa45ede,_0x2bd6ae=!(0xd*0xf7+-0xeda+0x250)){this['setParamet'+'erValue'](_0xa45ede,Qc,!(-0x1ede+-0x20e7*0x1+0x3fc5)),_0x2bd6ae&&this['_consumedT'+'riggers']['add'](_0xa45ede);}['resetTrigg'+'er'](_0x26a1aa){this['setParamet'+'erValue'](_0x26a1aa,Qc,!(0xc7*-0x17+0xe04+-0x63*-0xa));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x5e5027){for(let _0x2235d2=0x1fe1+-0x33*-0x39+-0x2b3c;_0x2235d2<this['layers']['length'];_0x2235d2++)this['layers'][_0x2235d2]['update'](_0x5e5027*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x52b123=>{this['parameters'][_0x52b123]['value']=!(-0x2186+-0x831+0x5*0x858);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1e0051,_0x129335){_0x1e0051['rootBone']&&_0x129335[_0x1e0051['rootBone']['getGuid']()]?this['rootBone']=_0x129335[_0x1e0051['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x21f8+-0x940*0x1+-0x4*0x62e);}}const bu=['enabled'];class BL extends ct{constructor(_0x10fd8c){super(_0x10fd8c),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2155d3,_0x3eed84,_0xd615f9){super['initialize'+'ComponentD'+'ata'](_0x2155d3,_0x3eed84,bu);const _0x4b8ae8=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x3eed84)['forEach'](_0x51958c=>{_0x4b8ae8['includes'](_0x51958c)||(_0x2155d3[_0x51958c]=_0x3eed84[_0x51958c]);}),_0x3eed84['stateGraph']&&(_0x2155d3['stateGraph']=_0x3eed84['stateGraph'],_0x2155d3['loadStateG'+'raph'](_0x2155d3['stateGraph'])),_0x3eed84['layers']&&_0x3eed84['layers']['forEach']((_0x5e93f8,_0x26e8cc)=>{_0x5e93f8['_controlle'+'r']['states']['forEach'](_0x1c058a=>{_0x5e93f8['_controlle'+'r']['_states'][_0x1c058a]['_animation'+'List']['forEach'](_0x375c98=>{if(!_0x375c98['animTrack']||_0x375c98['animTrack']===Qi['EMPTY']){const _0x5e4042=this['app']['assets']['get'](_0x5e93f8['_component']['_animation'+'Assets'][_0x5e93f8['name']+':'+_0x375c98['name']]['asset']);_0x5e4042&&!_0x5e4042['loaded']&&_0x5e4042['once']('load',()=>{_0x2155d3['layers'][_0x26e8cc]['assignAnim'+'ation'](_0x375c98['name'],_0x5e4042['resource']);});}else _0x2155d3['layers'][_0x26e8cc]['assignAnim'+'ation'](_0x375c98['name'],_0x375c98['animTrack']);});});}),_0x3eed84['animationA'+'ssets']&&(_0x2155d3['animationA'+'ssets']=Object['assign'](_0x2155d3['animationA'+'ssets'],_0x3eed84['animationA'+'ssets'])),_0x3eed84['masks']&&Object['keys'](_0x3eed84['masks'])['forEach'](_0x44e603=>{if(_0x2155d3['layers'][_0x44e603]){const _0x131032=_0x3eed84['masks'][_0x44e603]['mask'],_0x58e120={};Object['keys'](_0x131032)['forEach'](_0x197a4d=>{_0x58e120[decodeURI(_0x197a4d)]=_0x131032[_0x197a4d];}),_0x2155d3['layers'][_0x44e603]['mask']=_0x58e120;}});}['onAnimatio'+'nUpdate'](_0x465d14){const _0x57c91d=this['store'];for(const _0x4a895e in _0x57c91d)if(_0x57c91d['hasOwnProp'+'erty'](_0x4a895e)){const _0x1991a7=_0x57c91d[_0x4a895e]['entity']['anim'];_0x1991a7['data']['enabled']&&_0x1991a7['entity']['enabled']&&_0x1991a7['playing']&&_0x1991a7['update'](_0x465d14);}}['cloneCompo'+'nent'](_0x3c3efb,_0x261f5a){let _0x20e220;(!_0x3c3efb['anim']['rootBone']||_0x3c3efb['anim']['rootBone']===_0x3c3efb)&&(_0x20e220={},_0x3c3efb['anim']['layers']['forEach']((_0x49d0a4,_0x24de99)=>{if(_0x49d0a4['mask']){const _0x3f5849={};Object['keys'](_0x49d0a4['mask'])['forEach'](_0x17d12e=>{const _0x20feb3=_0x17d12e['split']('/');_0x20feb3['shift']();const _0x3058b8=[_0x261f5a['name'],..._0x20feb3]['join']('/');_0x3f5849[_0x3058b8]=_0x49d0a4['mask'][_0x17d12e];}),_0x20e220[_0x24de99]={'mask':_0x3f5849};}}));const _0x49b7bf={'enabled':_0x3c3efb['anim']['enabled'],'stateGraphAsset':_0x3c3efb['anim']['stateGraph'+'Asset'],'animationAssets':_0x3c3efb['anim']['animationA'+'ssets'],'speed':_0x3c3efb['anim']['speed'],'activate':_0x3c3efb['anim']['activate'],'playing':_0x3c3efb['anim']['playing'],'rootBone':_0x3c3efb['anim']['rootBone'],'stateGraph':_0x3c3efb['anim']['stateGraph'],'layers':_0x3c3efb['anim']['layers'],'layerIndices':_0x3c3efb['anim']['layerIndic'+'es'],'parameters':_0x3c3efb['anim']['parameters'],'normalizeWeights':_0x3c3efb['anim']['normalizeW'+'eights'],'masks':_0x20e220};return this['addCompone'+'nt'](_0x261f5a,_0x49b7bf);}['onBeforeRe'+'move'](_0x3a1bc7,_0x265ec8){_0x265ec8['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x33eeac=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x33eeac);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0xb77+-0x78d+0x1304);}}const qv=['enabled'];class VL extends ct{constructor(_0xdff085){super(_0xdff085),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0xdff085['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1f10d7,_0x2c6cfa,_0x172944){_0x172944=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x1f10d7,_0x2c6cfa,_0x172944);}['onUpdate'](_0x4c7151){if(this['current']){const _0x20422b=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x20422b);const _0xf0d0cb=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0xf0d0cb);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x6f*0x39+-0x820+-0x20d7*-0x1,Ng=0x30*0x25+0x1c56+-0x2345,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x30b6a8,_0x5e1620){super(_0x30b6a8,_0x5e1620),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0xa63*0x3+0x25*-0x17+-0x39*0x7d)),h(this,'_hoveringC'+'ounter',0x1*-0x236b+-0x73b+0x2aa6),h(this,'_isPressed',!(-0x25eb+0x11de*0x1+0x140e)),h(this,'_defaultTi'+'nt',new ie(0xfa2+-0x13b0+0x40f,0x7fa*-0x1+0x2f*0x1+0x7cc,-0x1817+-0x15ba+0x2dd2,-0x5db*0x1+-0x1d9f+0x237b)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x29*0x55+0x1*0xf29+0x18c*-0x1),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x4*0x782+0x29*0x9d+0x2c*-0x141),this['_hoveringC'+'ounter']=0x1*0xc4d+0x23ef*-0x1+0x17a2,this['_isPressed']=!(-0x6d*-0x17+-0x2e*0x73+0xae0),this['_defaultTi'+'nt']=new ie(0x12*0x106+0x1*0x190b+-0x15bb*0x2,0x11*-0x22d+0x255e+-0x60,0x1f*0xb2+-0x1556+-0x37,-0x436+-0xdc7+0x11fe),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x2649+0x1cc0+0x989*0x1,this['_toggleLif'+'ecycleList'+'eners']('on',_0x30b6a8));}get['data'](){const _0x4b95ce=this['system']['store'][this['entity']['getGuid']()];return _0x4b95ce?_0x4b95ce['data']:null;}set['enabled'](_0x156fcf){this['_setValue']('enabled',_0x156fcf);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x4e0786){this['_setValue']('active',_0x4e0786);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x5cde64){if(this['_imageEnti'+'ty']!==_0x5cde64){const _0x37beca=typeof _0x5cde64=='string';if(this['_imageEnti'+'ty']&&_0x37beca&&this['_imageEnti'+'ty']['getGuid']()===_0x5cde64)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x5cde64 instanceof Ie?this['_imageEnti'+'ty']=_0x5cde64:_0x37beca?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x5cde64)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x37beca&&_0x5cde64&&(this['data']['imageEntit'+'y']=_0x5cde64);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x167c1a){this['_setValue']('hitPadding',_0x167c1a);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x42216d){this['_setValue']('transition'+'Mode',_0x42216d);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x23220e){this['_setValue']('hoverTint',_0x23220e);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0xc49868){this['_setValue']('pressedTin'+'t',_0xc49868);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x1b7d3b){this['_setValue']('inactiveTi'+'nt',_0x1b7d3b);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x2b5445){this['_setValue']('fadeDurati'+'on',_0x2b5445);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x70ea13){this['_setValue']('hoverSprit'+'eAsset',_0x70ea13);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x37372e){this['_setValue']('hoverSprit'+'eFrame',_0x37372e);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x3b5cb7){this['_setValue']('pressedSpr'+'iteAsset',_0x3b5cb7);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x42972b){this['_setValue']('pressedSpr'+'iteFrame',_0x42972b);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x1c1e33){this['_setValue']('inactiveSp'+'riteAsset',_0x1c1e33);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x20f3e8){this['_setValue']('inactiveSp'+'riteFrame',_0x20f3e8);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x4f567c,_0x16f301){const _0x4ad8f2=this['data'],_0x2aa434=_0x4ad8f2[_0x4f567c];_0x4ad8f2[_0x4f567c]=_0x16f301,this['fire']('set',_0x4f567c,_0x2aa434,_0x16f301);}['_toggleLif'+'ecycleList'+'eners'](_0x2e28de,_0x13ba17){var _0x15e063;this[_0x2e28de]('set_active',this['_onSetActi'+'ve'],this),this[_0x2e28de]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x2e28de]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2e28de]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x2e28de==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x15e063=this['_evtElemen'+'tAdd'])==null||_0x15e063['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x5ddd58,_0x313eb7,_0x3469cd){_0x313eb7!==_0x3469cd&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x1edeb8,_0x2976a4,_0x4a572c){_0x2976a4!==_0x4a572c&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2976a4),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x1a964b,_0x10f559,_0x582c1a){_0x10f559!==_0x582c1a&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x154e53,_0x2a58fe;(_0x154e53=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x154e53['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x2a58fe=this['_imageEnti'+'ty'])!=null&&_0x2a58fe['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x2dbd36=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x2dbd36['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x2dbd36['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x2dbd36['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x2dbd36['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x2dbd36['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x29f8c6,_0xc79d77,_0x58a0ba,_0xf99f6e,_0x454392;(_0x29f8c6=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x29f8c6['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0xc79d77=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0xc79d77['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x58a0ba=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x58a0ba['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0xf99f6e=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0xf99f6e['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x454392=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x454392['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x4795fd){if(this['entity']['element']){const _0xa460cf=_0x4795fd==='on';if(_0xa460cf&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x4795fd]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x4795fd]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x4795fd]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x4795fd]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x4795fd]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x4795fd]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x4795fd]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x4795fd]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x4795fd]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x4795fd]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x4795fd]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x4795fd]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x4795fd]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x4795fd]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0xa460cf;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0xfd2359;const _0x169986=(_0xfd2359=this['_imageEnti'+'ty'])==null?void(0xd*0x20f+0x236*0x1+0x1*-0x1cf9):_0xfd2359['element'];!_0x169986||_0x169986['type']===eh||(this['_storeDefa'+'ultColor'](_0x169986['color']),this['_storeDefa'+'ultOpacity'](_0x169986['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x169986['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x169986['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x3a8ee6){this['_defaultTi'+'nt']['r']=_0x3a8ee6['r'],this['_defaultTi'+'nt']['g']=_0x3a8ee6['g'],this['_defaultTi'+'nt']['b']=_0x3a8ee6['b'];}['_storeDefa'+'ultOpacity'](_0x3e2833){this['_defaultTi'+'nt']['a']=_0x3e2833;}['_storeDefa'+'ultSpriteA'+'sset'](_0xa2418a){this['_defaultSp'+'riteAsset']=_0xa2418a;}['_storeDefa'+'ultSpriteF'+'rame'](_0x37e5c4){this['_defaultSp'+'riteFrame']=_0x37e5c4;}['_onSetColo'+'r'](_0xa17d17){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0xa17d17),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x40c1aa){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x40c1aa),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x3e92c4){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x3e92c4),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x15a756){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x15a756),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x4f9221){this['_isHoverin'+'g']=!(0xea2+0x45*0x65+0x5*-0x85f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x4f9221);}['_onMouseLe'+'ave'](_0x30df77){this['_isHoverin'+'g']=!(0x40*0x11+0xa6c+0xeab*-0x1),this['_isPressed']=!(0x1ab0+-0xcfe+-0xdb1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x30df77);}['_onMouseDo'+'wn'](_0x35f8eb){this['_isPressed']=!(-0xa1d+-0xc44+-0x1661*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x35f8eb);}['_onMouseUp'](_0xcce5a6){this['_isPressed']=!(0x10e2+-0x232b+0x925*0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0xcce5a6);}['_onTouchSt'+'art'](_0x3121dd){this['_isPressed']=!(0x4*-0x311+-0x270d+0x3351),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3121dd);}['_onTouchEn'+'d'](_0x30e07c){_0x30e07c['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x2338+-0x19e9+-0x61d*-0xa),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x30e07c);}['_onTouchLe'+'ave'](_0x2643da){this['_isPressed']=!(0x7*0x1b+0x6af*0x3+-0x14c9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x2643da);}['_onTouchCa'+'ncel'](_0x479854){this['_isPressed']=!(0x71*0x3e+0x7aa+-0x2307),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x479854);}['_onSelectS'+'tart'](_0x3d0fcc){this['_isPressed']=!(0xc56+-0x22e0+0x168a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x3d0fcc);}['_onSelectE'+'nd'](_0x3bc37a){this['_isPressed']=!(0xa6f*0x1+-0xfbf+0x551),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x3bc37a);}['_onSelectE'+'nter'](_0x56c695){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x5*-0x366+-0x393+-0xa49*-0x2&&(this['_isHoverin'+'g']=!(-0x7fb+-0x1320+0x303*0x9),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x56c695);}['_onSelectL'+'eave'](_0x2a1db7){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x13*-0x197+-0xdb5*-0x1+-0x3fe*0xb&&(this['_isHoverin'+'g']=!(0x1cc1+0x12f+-0x1*0x1def),this['_isPressed']=!(-0x172f+-0x949*-0x1+0x1*0xde7),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x2a1db7);}['_onClick'](_0x319789){this['_fireIfAct'+'ive']('click',_0x319789);}['_fireIfAct'+'ive'](_0x25bc48,_0x4a560f){this['data']['active']&&this['fire'](_0x25bc48,_0x4a560f);}['_updateVis'+'ualState'](_0x1ccb7a){const _0x7f0aa3=this['_visualSta'+'te'],_0x4792ab=this['_determine'+'VisualStat'+'e']();if((_0x7f0aa3!==_0x4792ab||_0x1ccb7a)&&this['enabled'])switch(this['_visualSta'+'te']=_0x4792ab,_0x7f0aa3===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x7f0aa3===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x4792ab===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x4792ab===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x3d5ae8=kl[this['_visualSta'+'te']],_0x19ee30=this[_0x3d5ae8];this['_applyTint'](_0x19ee30);break;}case Ng:{const _0x3f23ef=Ul[this['_visualSta'+'te']],_0x2b58e4=Bl[this['_visualSta'+'te']],_0x43be3f=this[_0x3f23ef],_0x4a3cf7=this[_0x2b58e4];this['_applySpri'+'te'](_0x43be3f,_0x4a3cf7);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x96a*-0x4+0x1*0x1ef5+0x3*-0x16df));}['_resetToDe'+'faultVisua'+'lState'](_0x3208af){var _0x2f80a1;if((_0x2f80a1=this['_imageEnti'+'ty'])!=null&&_0x2f80a1['element'])switch(_0x3208af){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x41faba,_0xead4ce){var _0x453071;const _0x7a1b99=(_0x453071=this['_imageEnti'+'ty'])==null?void(-0x1b58+0x1788+0x3d0):_0x453071['element'];_0x7a1b99&&(_0xead4ce=_0xead4ce||0x2404+-0x2ac*-0x2+-0x295c,this['_isApplyin'+'gSprite']=!(0x1d3a+0xe7b+-0x2bb5),_0x7a1b99['spriteAsse'+'t']!==_0x41faba&&(_0x7a1b99['spriteAsse'+'t']=_0x41faba),_0x7a1b99['spriteFram'+'e']!==_0xead4ce&&(_0x7a1b99['spriteFram'+'e']=_0xead4ce),this['_isApplyin'+'gSprite']=!(0x7*-0x16d+0x1*0x10b1+-0x6b5*0x1));}['_applyTint'](_0x56614a){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x26*0x19+0x187d*0x1+0x3*-0x6ed?this['_applyTint'+'Immediatel'+'y'](_0x56614a):this['_applyTint'+'WithTween'](_0x56614a);}['_applyTint'+'Immediatel'+'y'](_0x2888be){var _0x27f5ec;const _0x4d1da2=(_0x27f5ec=this['_imageEnti'+'ty'])==null?void(0x5b*-0x46+-0x15*-0x42+0x164*0xe):_0x27f5ec['element'];if(!_0x2888be||!_0x4d1da2||_0x4d1da2['type']===eh)return;const _0x5dc9a7=kg(_0x2888be);this['_isApplyin'+'gTint']=!(-0x865+0x196f+0x885*-0x2),_0x5dc9a7['equals'](_0x4d1da2['color'])||(_0x4d1da2['color']=_0x5dc9a7),_0x4d1da2['opacity']!==_0x2888be['a']&&(_0x4d1da2['opacity']=_0x2888be['a']),this['_isApplyin'+'gTint']=!(0x1ab7+0x85*-0x7+-0x1713);}['_applyTint'+'WithTween'](_0x57f11a){var _0x507a57;const _0x4992c9=(_0x507a57=this['_imageEnti'+'ty'])==null?void(0x1d11+0x30a+-0x201b):_0x507a57['element'];if(!_0x57f11a||!_0x4992c9||_0x4992c9['type']===eh)return;const _0x2cb048=kg(_0x57f11a),_0x45061e=_0x4992c9['color'],_0x3f63b9=_0x4992c9['opacity'];_0x2cb048['equals'](_0x45061e)&&_0x57f11a['a']===_0x3f63b9||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x45061e['r'],_0x45061e['g'],_0x45061e['b'],_0x3f63b9),'to':_0x57f11a['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x147ae9=de()-this['_tweenInfo']['startTime'];let _0x1bf4c4=this['fadeDurati'+'on']===-0x355*-0x1+-0x195a+-0x757*-0x3?0x2*-0x1384+0x998+-0x1*-0x1d71:_0x147ae9/this['fadeDurati'+'on'];if(_0x1bf4c4=Y['clamp'](_0x1bf4c4,0x1b9a+0x657+0x21f1*-0x1,0x17a9+-0x1a*0x124+0x600),Math['abs'](_0x1bf4c4-(-0x24d4+0x1b85+0x2*0x4a8))>0x87b+0x1641+-0x1ebc*0x1+0.00001){const _0x3310bf=this['_tweenInfo']['lerpColor'];_0x3310bf['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x1bf4c4),this['_applyTint'+'Immediatel'+'y'](new ie(_0x3310bf['r'],_0x3310bf['g'],_0x3310bf['b'],_0x3310bf['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x20d6+-0x1*0x15b4+0x368b),this['_hoveringC'+'ounter']=-0x3*-0xc95+-0x237e+-0x241,this['_isPressed']=!(0x1fc+0x1d1f+-0x1f1a),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x510ff8,_0x4df40c){_0x510ff8['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x4df40c[_0x510ff8['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x4f9551){return new ie(_0x4f9551['r'],_0x4f9551['g'],_0x4f9551['b']);}class WL{constructor(){this['enabled']=!(0x2397+0x24dd+-0x4874),this['active']=!(0x1e9a+-0x2346+0x4ac),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x15fe+0x190c+0x1*-0x2f0a+0.75,0x1*-0x7ed+0x24ba+-0x1*0x1ccd+0.75,0x5a+0x19b0+0x16*-0x12f+0.75),this['pressedTin'+'t']=new ie(0x988+-0x1*0x1669+0x7*0x1d7+0.5,-0x1986+0x1*0x2507+-0xb81+0.5,0x3*-0xc27+0x6d7*-0x3+0x38fa+0.5),this['inactiveTi'+'nt']=new ie(-0x1*0x858+-0x1*-0x6c5+0x193+0.25,0x11f1+-0x2*-0x9fa+0x59*-0x6d+0.25,-0x421*0x8+0x236e+-0x133*0x2+0.25),this['fadeDurati'+'on']=0x1867*-0x1+-0x17b5+-0x180e*-0x2,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x1251+-0x106b+-0x39*-0x9c,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x6*-0x83+0xcbe+-0xfd0,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x3bc+-0x27d+0x213*0x3;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x2e41ff){super(_0x2e41ff),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3d3d50,_0x3a0c33,_0x10aec7){_0x3d3d50['imageEntit'+'y']=_0x3a0c33['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3d3d50,_0x3a0c33,Ug);}['onUpdate'](_0x9deb6b){const _0x462f21=this['store'];for(const _0xa3b3c in _0x462f21){const _0x54d4a1=_0x462f21[_0xa3b3c]['entity'],_0xaefb5e=_0x54d4a1['button'];_0xaefb5e['enabled']&&_0x54d4a1['enabled']&&_0xaefb5e['onUpdate']();}}['_onRemoveC'+'omponent'](_0x20aa97,_0x36d18b){_0x36d18b['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x3d8e05,_0x3b26ce){super(_0x3d8e05,_0x3b26ce),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x233*-0x10+-0x841+0x2b72)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0xf2462d=this['system']['store'][this['entity']['getGuid']()];return _0xf2462d?_0xf2462d['data']:null;}set['enabled'](_0x544526){this['_setValue']('enabled',_0x544526);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x10ac5e){this['_setValue']('type',_0x10ac5e);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x3e3491){this['_setValue']('halfExtent'+'s',_0x3e3491);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x49baa3){this['_setValue']('linearOffs'+'et',_0x49baa3);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x2f7b7e){this['_setValue']('angularOff'+'set',_0x2f7b7e);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0xf88145){this['_setValue']('radius',_0xf88145);}get['radius'](){return this['data']['radius'];}set['axis'](_0x53c6f2){this['_setValue']('axis',_0x53c6f2);}get['axis'](){return this['data']['axis'];}set['height'](_0x4eff4a){this['_setValue']('height',_0x4eff4a);}get['height'](){return this['data']['height'];}set['asset'](_0x1b55a8){this['_setValue']('asset',_0x1b55a8);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x4bfd11){this['_setValue']('renderAsse'+'t',_0x4bfd11);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x35d9d2){this['_setValue']('convexHull',_0x35d9d2);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x9e4bb4){this['_setValue']('shape',_0x9e4bb4);}get['shape'](){return this['data']['shape'];}set['model'](_0x4edc25){this['_setValue']('model',_0x4edc25);}get['model'](){return this['data']['model'];}set['render'](_0x4f75da){this['_setValue']('render',_0x4f75da);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x4aa95f){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x4aa95f);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x13584d,_0xfce1f4){const _0x8dd583=this['data'],_0x56dda4=_0x8dd583[_0x13584d];_0x8dd583[_0x13584d]=_0xfce1f4,this['fire']('set',_0x13584d,_0x56dda4,_0xfce1f4);}['onSetType'](_0x80fd17,_0x39bb37,_0x597443){_0x39bb37!==_0x597443&&this['system']['changeType'](this,_0x39bb37,_0x597443);}['onSetHalfE'+'xtents'](_0xd01ced,_0x2b38f6,_0x14143f){const _0x30ddb0=this['data']['type'];this['data']['initialize'+'d']&&_0x30ddb0==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x1cc745,_0x7ad4d3,_0x52e840){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x11fef1,_0x547ae1,_0x4d18eb){const _0x3956ac=this['data']['type'];this['data']['initialize'+'d']&&(_0x3956ac==='sphere'||_0x3956ac==='capsule'||_0x3956ac==='cylinder'||_0x3956ac==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xc5f91e,_0x3048d9,_0x32a2de){const _0x109e06=this['data']['type'];this['data']['initialize'+'d']&&(_0x109e06==='capsule'||_0x109e06==='cylinder'||_0x109e06==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x2ac63f,_0x43c4ab,_0x23f27e){const _0x164fb1=this['data']['type'];this['data']['initialize'+'d']&&(_0x164fb1==='capsule'||_0x164fb1==='cylinder'||_0x164fb1==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3c40ea,_0x571ebd,_0x4c8eab){const _0x2c7f70=this['system']['app']['assets'];if(_0x571ebd){const _0x3a8da0=_0x2c7f70['get'](_0x571ebd);_0x3a8da0&&_0x3a8da0['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x4c8eab){_0x4c8eab instanceof pe&&(this['data']['asset']=_0x4c8eab['id']);const _0x4f07a3=_0x2c7f70['get'](this['data']['asset']);_0x4f07a3&&(_0x4f07a3['off']('remove',this['onAssetRem'+'oved'],this),_0x4f07a3['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4c8eab||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x29c28b,_0x40b0d7,_0x33dcec){const _0x3627a6=this['system']['app']['assets'];if(_0x40b0d7){const _0x32b76d=_0x3627a6['get'](_0x40b0d7);_0x32b76d&&_0x32b76d['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x33dcec){_0x33dcec instanceof pe&&(this['data']['renderAsse'+'t']=_0x33dcec['id']);const _0x23fac4=_0x3627a6['get'](this['data']['renderAsse'+'t']);_0x23fac4&&(_0x23fac4['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x23fac4['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x33dcec||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x2d2f6e,_0x63f9df,_0x527670){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x1cb421,_0x397bf7,_0x53e00b){this['onSetModel'](_0x1cb421,_0x397bf7,_0x53e00b);}['onAssetRem'+'oved'](_0x16bd52){_0x16bd52['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x16bd52['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x2a541b){_0x2a541b['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x2a541b['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x368a54){const _0x4ead36=this['data']['shape'],_0x4f5bc3=_0x4ead36['getNumChil'+'dShapes']();for(let _0x5b2a34=0x1cfa+0xd*-0x13e+-0xcd4;_0x5b2a34<_0x4f5bc3;_0x5b2a34++){const _0x485fbc=_0x4ead36['getChildSh'+'ape'](_0x5b2a34);if(Ammo['getPointer'](_0x485fbc)===Ammo['getPointer'](_0x368a54))return _0x5b2a34;}return null;}['_onInsert'](_0x54face){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x78556c=this['entity']['parent'];for(;_0x78556c;){if(_0x78556c['collision']&&_0x78556c['collision']['type']==='compound'){_0x78556c['collision']['shape']['getNumChil'+'dShapes']()===-0x3ea*-0x5+-0xa66*0x3+0xc*0xf8?this['system']['recreatePh'+'ysicalShap'+'es'](_0x78556c['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x78556c=_0x78556c['parent'];}}}}}['_updateCom'+'pound'](){const _0x9c5d9e=this['entity'];if(_0x9c5d9e['_dirtyWorl'+'d']){let _0x1c265c=_0x9c5d9e['_dirtyLoca'+'l'],_0x5c9d01=_0x9c5d9e;for(;_0x5c9d01&&!_0x1c265c&&!(_0x5c9d01['collision']&&_0x5c9d01['collision']===this['_compoundP'+'arent']);)_0x5c9d01['_dirtyLoca'+'l']&&(_0x1c265c=!(-0x1d9c+-0x4*0x28d+-0x31*-0xd0)),_0x5c9d01=_0x5c9d01['parent'];if(_0x1c265c){_0x9c5d9e['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x9c5d9e);const _0x18a916=this['_compoundP'+'arent']['entity']['rigidbody'];_0x18a916&&_0x18a916['activate']();}}}['getShapePo'+'sition'](){const _0x41d82f=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x2f76e7=this['entity']['getRotatio'+'n'](),_0x3f0265=this['data']['linearOffs'+'et'];return zg['copy'](_0x2f76e7)['transformV'+'ector'](_0x3f0265,Bg),Bg['add'](_0x41d82f);}return _0x41d82f;}['getShapeRo'+'tation'](){const _0x35ee3c=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x35ee3c)['mul'](this['data']['angularOff'+'set']):_0x35ee3c;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x374b73=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x374b73&&(!_0x374b73['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x13bb*-0x1+0x1*-0x8de+-0xadd)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x2f35e8=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x2f35e8,this['data']['shape']),Ammo['destroy'](_0x2f35e8),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x26b8+0x1c12+0xaa6),this['type']='box',this['halfExtent'+'s']=new D(0x255f+-0xf2+-0x246d+0.5,-0x19e9+0x183f+0x1aa+0.5,-0x26db+0x7a7+-0x7cd*-0x4+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0x14af+0x248+0x16f7*-0x1+0.5,this['axis']=0x725*-0x3+-0x1952+0x1*0x2ec2,this['height']=0xe*-0x223+-0x1a19+-0x3805*-0x1,this['convexHull']=!(0x2*-0x11c2+0x1*0x22af+0xd6*0x1),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x2ff+0x1*-0x12f8+0x15f7),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xab*-0x2b+0x1*0x124d+0x11*0x9d);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x293+-0x2e*0x3a+0x1*0xd01,Po=-0xc26+-0xc97+0x18c1,Pu=-0x17*-0x136+0x420+-0x1ff9,Vg=0x781*0x3+0x1827+0x2ea6*-0x1,Yv=0x6c9+-0x37d*-0x3+-0x191*0xb,jL=-0xfe7+-0x8*-0x1f7+-0x18*-0x2,Gg=0x27a*-0x2+-0x6*-0x239+-0x860,YL=-0x1bf9+-0x17f1*0x1+0x33ee,Hg=0x15*0xe5+-0x13d6+0x11d,Wg=-0x101f5+-0x12c71+0x32e65,Mu=-0x683c*0x1+-0x1c08+0x18441;let Us,zr,Wa;class Kv{constructor(_0x495d9a,_0x3b3d39,_0x40f34f){this['entity']=_0x3b3d39['entity'],this['component']=_0x3b3d39,this['app']=_0x495d9a,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x40f34f);}['initialize'](_0x2f9d1a){const _0x41779c=this['entity'],_0x8791df=_0x2f9d1a['shape'];if(_0x8791df&&typeof Ammo<'u'){_0x41779c['trigger']&&_0x41779c['trigger']['destroy']();const _0x188142=-0x71f*-0x5+-0xe4e+-0x154c,_0x1ef044=this['component'];if(_0x1ef044){const _0x677dfc=_0x1ef044['getShapePo'+'sition'](),_0x500bc9=_0x1ef044['getShapeRo'+'tation']();Us['setValue'](_0x677dfc['x'],_0x677dfc['y'],_0x677dfc['z']),zr['setValue'](_0x500bc9['x'],_0x500bc9['y'],_0x500bc9['z'],_0x500bc9['w']);}else{const _0x635a08=_0x41779c['getPositio'+'n'](),_0x17f312=_0x41779c['getRotatio'+'n']();Us['setValue'](_0x635a08['x'],_0x635a08['y'],_0x635a08['z']),zr['setValue'](_0x17f312['x'],_0x17f312['y'],_0x17f312['z'],_0x17f312['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x145a0d=this['app']['systems']['rigidbody']['createBody'](_0x188142,_0x8791df,Wa);_0x145a0d['setRestitu'+'tion'](0x162*-0xb+-0xd7d+0x1cb3),_0x145a0d['setFrictio'+'n'](-0x1*-0x117a+-0x1b*0x97+-0x1*0x18d),_0x145a0d['setDamping'](-0x716+0x10dd+-0x9c7,-0x14e*-0x17+-0x127e+-0xb84),Us['setValue'](-0x3bd+-0x1*0xf97+0x1354,0x576+0x2092+0x1304*-0x2,0x224b+0x1b9+-0x2404),_0x145a0d['setLinearF'+'actor'](Us),_0x145a0d['setAngular'+'Factor'](Us),_0x145a0d['setCollisi'+'onFlags'](_0x145a0d['getCollisi'+'onFlags']()|Po),_0x145a0d['entity']=_0x41779c,this['body']=_0x145a0d,this['component']['enabled']&&_0x41779c['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x19f135){const _0x5cf5ff=this['component'];if(_0x5cf5ff){const _0x3acb43=_0x5cf5ff['getShapePo'+'sition'](),_0x13c156=_0x5cf5ff['getShapeRo'+'tation']();Us['setValue'](_0x3acb43['x'],_0x3acb43['y'],_0x3acb43['z']),zr['setValue'](_0x13c156['x'],_0x13c156['y'],_0x13c156['z'],_0x13c156['w']);}else{const _0x353a3a=this['entity']['getPositio'+'n'](),_0x25403d=this['entity']['getRotatio'+'n']();Us['setValue'](_0x353a3a['x'],_0x353a3a['y'],_0x353a3a['z']),zr['setValue'](_0x25403d['x'],_0x25403d['y'],_0x25403d['z'],_0x25403d['w']);}_0x19f135['setOrigin'](Us),_0x19f135['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0xf78978=this['body'];_0xf78978['setWorldTr'+'ansform'](Wa),_0xf78978['activate']();}['enable'](){const _0x2b9d31=this['body'];if(!_0x2b9d31)return;const _0x3e29bc=this['app']['systems']['rigidbody'];_0x3e29bc['_triggers']['indexOf'](this)<-0x23e7+-0x2*-0x2c5+0x1e5d*0x1&&(_0x3e29bc['addBody'](_0x2b9d31,Hg,Mu^Hg),_0x3e29bc['_triggers']['push'](this)),_0x2b9d31['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x31bfc0=this['body'];if(!_0x31bfc0)return;const _0x29ab99=this['app']['systems']['rigidbody'],_0xdf13d8=_0x29ab99['_triggers']['indexOf'](this);_0xdf13d8>-(0x1285+-0x1*-0x5cb+-0x184f)&&(_0x29ab99['removeBody'](_0x31bfc0),_0x29ab99['_triggers']['splice'](_0xdf13d8,-0x1ab1*-0x1+0x311+-0x1dc1)),_0x31bfc0['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x27f508){this['system']=_0x27f508;}['beforeInit'+'ialize'](_0x4505e7,_0x14b2b9){_0x14b2b9['shape']=null,_0x14b2b9['model']=new sr(),_0x14b2b9['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x970f2c,_0x3b558d){this['recreatePh'+'ysicalShap'+'es'](_0x970f2c),_0x970f2c['data']['initialize'+'d']=!(0x2307+-0x1ca5+0x26*-0x2b);}['reset'](_0xfdc54b,_0x303bdc){this['beforeInit'+'ialize'](_0xfdc54b,_0x303bdc),this['afterIniti'+'alize'](_0xfdc54b,_0x303bdc);}['recreatePh'+'ysicalShap'+'es'](_0x25d740){const _0x1ed450=_0x25d740['entity'],_0x8616a8=_0x25d740['data'];if(typeof Ammo<'u'){_0x1ed450['trigger']&&(_0x1ed450['trigger']['destroy'](),delete _0x1ed450['trigger']),_0x8616a8['shape']&&(_0x25d740['_compoundP'+'arent']&&(_0x25d740!==_0x25d740['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x25d740['_compoundP'+'arent'],_0x8616a8['shape']),_0x25d740['_compoundP'+'arent']['entity']['rigidbody']&&_0x25d740['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x8616a8)),_0x8616a8['shape']=this['createPhys'+'icalShape'](_0x25d740['entity'],_0x8616a8);const _0x487faf=!_0x25d740['_compoundP'+'arent'];if(_0x8616a8['type']==='compound'&&(!_0x25d740['_compoundP'+'arent']||_0x25d740===_0x25d740['_compoundP'+'arent']))_0x25d740['_compoundP'+'arent']=_0x25d740,_0x1ed450['forEach'](this['_addEachDe'+'scendant'],_0x25d740);else{if(_0x8616a8['type']!=='compound'&&!_0x25d740['rigidbody']){_0x25d740['_compoundP'+'arent']=null;let _0x19040c=_0x1ed450['parent'];for(;_0x19040c;){if(_0x19040c['collision']&&_0x19040c['collision']['type']==='compound'){_0x25d740['_compoundP'+'arent']=_0x19040c['collision'];break;}_0x19040c=_0x19040c['parent'];}}}_0x25d740['_compoundP'+'arent']&&_0x25d740!==_0x25d740['_compoundP'+'arent']&&(_0x487faf&&_0x25d740['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x158*-0x2+-0x6*-0x5e+-0x4e4?this['system']['recreatePh'+'ysicalShap'+'es'](_0x25d740['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x1ed450,!(0x2369+-0x2550+0x1e7)),_0x25d740['_compoundP'+'arent']['entity']['rigidbody']&&_0x25d740['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x1ed450['rigidbody']?(_0x1ed450['rigidbody']['disableSim'+'ulation'](),_0x1ed450['rigidbody']['createBody'](),_0x1ed450['enabled']&&_0x1ed450['rigidbody']['enabled']&&_0x1ed450['rigidbody']['enableSimu'+'lation']()):_0x25d740['_compoundP'+'arent']||(_0x1ed450['trigger']?_0x1ed450['trigger']['initialize'](_0x8616a8):_0x1ed450['trigger']=new Kv(this['system']['app'],_0x25d740,_0x8616a8));}}['createPhys'+'icalShape'](_0x1988a2,_0x37b3ab){}['updateTran'+'sform'](_0x55f2c1,_0x52d18d,_0x3f3b27,_0x45677e){_0x55f2c1['entity']['trigger']&&_0x55f2c1['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x3066b3){_0x3066b3['shape']&&(Ammo['destroy'](_0x3066b3['shape']),_0x3066b3['shape']=null);}['beforeRemo'+'ve'](_0x3b725d,_0x347077){_0x347077['data']['shape']&&(_0x347077['_compoundP'+'arent']&&!_0x347077['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x347077['_compoundP'+'arent'],_0x347077['data']['shape']),_0x347077['_compoundP'+'arent']['entity']['rigidbody']&&_0x347077['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x347077['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x347077['data']));}['remove'](_0x1ff09f,_0x5e8ee6){_0x1ff09f['rigidbody']&&_0x1ff09f['rigidbody']['body']&&_0x1ff09f['rigidbody']['disableSim'+'ulation'](),_0x1ff09f['trigger']&&(_0x1ff09f['trigger']['destroy'](),delete _0x1ff09f['trigger']);}['clone'](_0x3bc658,_0x8ecb6){const _0x30ccb8=this['system']['store'][_0x3bc658['getGuid']()],_0x55c684={'enabled':_0x30ccb8['data']['enabled'],'type':_0x30ccb8['data']['type'],'halfExtents':[_0x30ccb8['data']['halfExtent'+'s']['x'],_0x30ccb8['data']['halfExtent'+'s']['y'],_0x30ccb8['data']['halfExtent'+'s']['z']],'linearOffset':[_0x30ccb8['data']['linearOffs'+'et']['x'],_0x30ccb8['data']['linearOffs'+'et']['y'],_0x30ccb8['data']['linearOffs'+'et']['z']],'angularOffset':[_0x30ccb8['data']['angularOff'+'set']['x'],_0x30ccb8['data']['angularOff'+'set']['y'],_0x30ccb8['data']['angularOff'+'set']['z'],_0x30ccb8['data']['angularOff'+'set']['w']],'radius':_0x30ccb8['data']['radius'],'axis':_0x30ccb8['data']['axis'],'height':_0x30ccb8['data']['height'],'convexHull':_0x30ccb8['data']['convexHull'],'asset':_0x30ccb8['data']['asset'],'renderAsset':_0x30ccb8['data']['renderAsse'+'t'],'model':_0x30ccb8['data']['model'],'render':_0x30ccb8['data']['render'],'checkVertexDuplicates':_0x30ccb8['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x8ecb6,_0x55c684);}}class JL extends Ca{['createPhys'+'icalShape'](_0x2b851c,_0x264678){if(typeof Ammo<'u'){const _0x1bed7b=_0x264678['halfExtent'+'s'],_0x43089d=new Ammo['btVector3'](_0x1bed7b?_0x1bed7b['x']:0x1d0c+-0x11c4+-0x1*0xb48+0.5,_0x1bed7b?_0x1bed7b['y']:0x1*0xd3b+-0x1c87+-0x7a6*-0x2+0.5,_0x1bed7b?_0x1bed7b['z']:-0xfff+-0x1145+-0x851*-0x4+0.5),_0x27a5ff=new Ammo['btBoxShape'](_0x43089d);return Ammo['destroy'](_0x43089d),_0x27a5ff;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x3642d0,_0x317717){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x317717['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x2c3ea2,_0x386343){const _0x509eb4=_0x386343['axis']??0x1*0xa6f+-0x25f7+0x1b89*0x1,_0x153146=_0x386343['radius']??0x213f*0x1+-0x9c6*0x2+-0x7*0x1f5+0.5,_0x4b46d5=Math['max']((_0x386343['height']??0x5*0x65b+-0x13*0x125+-0xa06)-(-0x20b9+-0x1c*0x61+-0x7*-0x631)*_0x153146,0xbbc+-0x2355+0x1799);let _0x4f40e1=null;if(typeof Ammo<'u')switch(_0x509eb4){case-0x5e*-0x8+0x937+0x3*-0x40d:_0x4f40e1=new Ammo['btCapsuleS'+'hapeX'](_0x153146,_0x4b46d5);break;case 0x2510+-0x115*-0x9+0x2*-0x1766:_0x4f40e1=new Ammo['btCapsuleS'+'hape'](_0x153146,_0x4b46d5);break;case 0x7c*0x40+0x8*-0x227+-0x52*0x2b:_0x4f40e1=new Ammo['btCapsuleS'+'hapeZ'](_0x153146,_0x4b46d5);break;}return _0x4f40e1;}}class sR extends Ca{['createPhys'+'icalShape'](_0x4b3e01,_0x2a5641){const _0x501774=_0x2a5641['axis']??0x1*0x4cb+-0xac3*-0x1+0x1*-0xf8d,_0xafc4f5=_0x2a5641['radius']??-0x1fc3+-0x2*0x2a7+0x2511+0.5,_0x4791b=_0x2a5641['height']??-0x687+-0x1641+0x1cc9;let _0x330a26=null,_0x4284fc=null;if(typeof Ammo<'u')switch(_0x501774){case 0x1f47+0x4*-0x209+0x1*-0x1723:_0x330a26=new Ammo['btVector3'](_0x4791b*(0x10*-0x205+-0x1845+0x3895+0.5),_0xafc4f5,_0xafc4f5),_0x4284fc=new Ammo['btCylinder'+'ShapeX'](_0x330a26);break;case-0x7*-0x53+-0x2252+0x16*0x175:_0x330a26=new Ammo['btVector3'](_0xafc4f5,_0x4791b*(-0x7ab+0x2392+0x1*-0x1be7+0.5),_0xafc4f5),_0x4284fc=new Ammo['btCylinder'+'Shape'](_0x330a26);break;case-0x253c+0x1*-0x1eb6+0x43f4:_0x330a26=new Ammo['btVector3'](_0xafc4f5,_0xafc4f5,_0x4791b*(-0xdb0+0x25f0+0x10*-0x184+0.5)),_0x4284fc=new Ammo['btCylinder'+'ShapeZ'](_0x330a26);break;}return _0x330a26&&Ammo['destroy'](_0x330a26),_0x4284fc;}}class iR extends Ca{['createPhys'+'icalShape'](_0x28c3c5,_0xcc9d3){const _0x11e437=_0xcc9d3['axis']??0x6*-0x653+0x13a4+0x124f,_0x76a7ce=_0xcc9d3['radius']??-0xc7a*-0x1+0x1a74+-0x26ee+0.5,_0x2c1f69=_0xcc9d3['height']??0x20*0x5f+-0x6*-0x61+-0xe25;let _0x29a2cb=null;if(typeof Ammo<'u')switch(_0x11e437){case 0x9*0x3d+0xb*0x5+-0x2*0x12e:_0x29a2cb=new Ammo['btConeShap'+'eX'](_0x76a7ce,_0x2c1f69);break;case-0x2*0xc0e+0x7da+0x1043:_0x29a2cb=new Ammo['btConeShap'+'e'](_0x76a7ce,_0x2c1f69);break;case-0x17cb+-0xe06+0x25d3:_0x29a2cb=new Ammo['btConeShap'+'eZ'](_0x76a7ce,_0x2c1f69);break;}return _0x29a2cb;}}class rR extends Ca{['beforeInit'+'ialize'](_0x1ebb8e,_0x5ed42c){}['createAmmo'+'Hull'](_0x20de06,_0x4db46c,_0x3e0f11,_0x12bb07){const _0x3b4450=new Ammo['btConvexHu'+'llShape'](),_0x211699=new Ammo['btVector3'](),_0x51a99b=[];_0x20de06['getPositio'+'ns'](_0x51a99b);for(let _0x303c7d=-0xa87+-0x100f+0x1a96;_0x303c7d<_0x51a99b['length'];_0x303c7d+=0x1956+0x2196+-0x3ae9*0x1)_0x211699['setValue'](_0x51a99b[_0x303c7d]*_0x12bb07['x'],_0x51a99b[_0x303c7d+(-0x1*0x551+-0x11b4+0x1*0x1706)]*_0x12bb07['y'],_0x51a99b[_0x303c7d+(-0x219b+-0x9d*-0x3d+-0x3cc)]*_0x12bb07['z']),_0x3b4450['addPoint'](_0x211699,!(-0xa*-0x4f+0xeef*0x1+-0x1204));Ammo['destroy'](_0x211699),_0x3b4450['recalcLoca'+'lAabb'](),_0x3b4450['setMargin'](0x4e8+0x146b*-0x1+-0x13*-0xd1+0.01);const _0x21fc69=this['system']['_getNodeTr'+'ansform'](_0x4db46c);_0x3e0f11['addChildSh'+'ape'](_0x21fc69,_0x3b4450),Ammo['destroy'](_0x21fc69);}['createAmmo'+'Mesh'](_0x5f0a96,_0x45c563,_0x10773e,_0x3f473d,_0x381b2d=!(0x13a9+-0xa08+-0x9a1)){const _0x45cc45=this['system'];let _0x18ffc9;if(_0x45cc45['_triMeshCa'+'che'][_0x5f0a96['id']])_0x18ffc9=_0x45cc45['_triMeshCa'+'che'][_0x5f0a96['id']];else{const _0x13711f=_0x5f0a96['vertexBuff'+'er'],_0x4564ef=_0x13711f['getFormat']();let _0x29f72f,_0x3cba77;for(let _0x16dae7=-0xded+0x2557*-0x1+0x3344;_0x16dae7<_0x4564ef['elements']['length'];_0x16dae7++){const _0xac31b=_0x4564ef['elements'][_0x16dae7];if(_0xac31b['name']===Me){_0x3cba77=new Float32Array(_0x13711f['lock'](),_0xac31b['offset']),_0x29f72f=_0xac31b['stride']/(-0x315*-0x2+-0x148f+0x1*0xe69);break;}}const _0x17b887=[];_0x5f0a96['getIndices'](_0x17b887);const _0x51228f=_0x5f0a96['primitive'][0x1634+0xfc0+-0x25f4]['count']/(0x2a*0x8b+-0x11a1*-0x2+-0x3a0d),_0x36542b=new Ammo['btVector3']();let _0x19a889,_0x491e97,_0x117dd7;const _0x107270=_0x5f0a96['primitive'][-0x1*-0xf71+-0x1cae+0xd3d*0x1]['base'];_0x18ffc9=new Ammo['btTriangle'+'Mesh'](),_0x45cc45['_triMeshCa'+'che'][_0x5f0a96['id']]=_0x18ffc9;const _0x5b170b=new Map();w['assert'](typeof _0x18ffc9['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x576124=_0x18ffc9['getIndexed'+'MeshArray']();_0x576124['at'](0x21f1+0x13*-0xc4+-0x1365)['m_numTrian'+'gles']=_0x51228f;const _0x4fdb73=_0x3f473d?_0x3f473d['x']:-0x7fe+-0xc5b*0x3+0x2d10,_0x3b81b7=_0x3f473d?_0x3f473d['y']:0x78*0x4f+-0x1*0x5fb+-0x1f0c,_0x526217=_0x3f473d?_0x3f473d['z']:-0x909+0x7e4+0x3*0x62,_0x211f3c=_0xa4fb78=>{const _0x1daec9=_0x3cba77[_0xa4fb78*_0x29f72f]*_0x4fdb73,_0x15fe7c=_0x3cba77[_0xa4fb78*_0x29f72f+(-0x13ce+0x1*-0x4eb+0x18ba)]*_0x3b81b7,_0x37edd9=_0x3cba77[_0xa4fb78*_0x29f72f+(-0x1*0x17fa+-0x153c+0x2d38*0x1)]*_0x526217;let _0x3fa7b4;if(_0x381b2d){const _0x4e6a86=_0x1daec9+':'+_0x15fe7c+':'+_0x37edd9;if(_0x3fa7b4=_0x5b170b['get'](_0x4e6a86),_0x3fa7b4!==void(-0x498+0xe28+0x4*-0x264))return _0x3fa7b4;_0x36542b['setValue'](_0x1daec9,_0x15fe7c,_0x37edd9),_0x3fa7b4=_0x18ffc9['findOrAddV'+'ertex'](_0x36542b,!(0x1*-0x2467+-0x45*0x27+0x2eeb*0x1)),_0x5b170b['set'](_0x4e6a86,_0x3fa7b4);}else _0x36542b['setValue'](_0x1daec9,_0x15fe7c,_0x37edd9),_0x3fa7b4=_0x18ffc9['findOrAddV'+'ertex'](_0x36542b,!(0x3*0x411+-0x1*0xa07+-0x22b));return _0x3fa7b4;};for(let _0x1212b0=-0x2e5+-0xf99+0x127e;_0x1212b0<_0x51228f;_0x1212b0++)_0x19a889=_0x211f3c(_0x17b887[_0x107270+_0x1212b0*(0x1c1f+0x100d*0x1+0x1*-0x2c29)]),_0x491e97=_0x211f3c(_0x17b887[_0x107270+_0x1212b0*(-0xf9*-0x25+0x1bc6+-0x3fc0)+(-0x1*-0x10f2+0x17ab+-0x289c*0x1)]),_0x117dd7=_0x211f3c(_0x17b887[_0x107270+_0x1212b0*(-0x23*-0x10+0x7de*-0x4+0x1*0x1d4b)+(-0x24a5+-0x85*-0x5+0x220e)]),_0x18ffc9['addIndex'](_0x19a889),_0x18ffc9['addIndex'](_0x491e97),_0x18ffc9['addIndex'](_0x117dd7);Ammo['destroy'](_0x36542b);}const _0x61c565=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x18ffc9,!(-0x6f*-0x1e+0x11e1+-0x1ee3));if(!_0x3f473d){const _0x25a9c3=_0x45cc45['_getNodeSc'+'aling'](_0x45c563);_0x61c565['setLocalSc'+'aling'](_0x25a9c3),Ammo['destroy'](_0x25a9c3);}const _0x206b09=_0x45cc45['_getNodeTr'+'ansform'](_0x45c563);_0x10773e['addChildSh'+'ape'](_0x206b09,_0x61c565),Ammo['destroy'](_0x206b09);}['createPhys'+'icalShape'](_0x5dc693,_0x481b8d){if(!(typeof Ammo>'u')&&(_0x481b8d['model']||_0x481b8d['render'])){const _0x1820ac=new Ammo['btCompound'+'Shape'](),_0x5865f3=_0x5dc693['getWorldTr'+'ansform']()['getScale']();if(_0x481b8d['render']){const _0x4cce8b=_0x481b8d['render']['meshes'];for(let _0x2df703=0x1132*0x1+0x7*0x323+-0x2727;_0x2df703<_0x4cce8b['length'];_0x2df703++)_0x481b8d['convexHull']?this['createAmmo'+'Hull'](_0x4cce8b[_0x2df703],$g,_0x1820ac,_0x5865f3):this['createAmmo'+'Mesh'](_0x4cce8b[_0x2df703],$g,_0x1820ac,_0x5865f3,_0x481b8d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x481b8d['model']){const _0x161e39=_0x481b8d['model']['meshInstan'+'ces'];for(let _0x44eebf=-0x12b4+-0xe68+0x4*0x847;_0x44eebf<_0x161e39['length'];_0x44eebf++)this['createAmmo'+'Mesh'](_0x161e39[_0x44eebf]['mesh'],_0x161e39[_0x44eebf]['node'],_0x1820ac,null,_0x481b8d['checkVerte'+'xDuplicate'+'s']);const _0x71d94d=new Ammo['btVector3'](_0x5865f3['x'],_0x5865f3['y'],_0x5865f3['z']);_0x1820ac['setLocalSc'+'aling'](_0x71d94d),Ammo['destroy'](_0x71d94d);}}return _0x1820ac;}}['recreatePh'+'ysicalShap'+'es'](_0x56882e){const _0x40586e=_0x56882e['data'];if((_0x40586e['renderAsse'+'t']||_0x40586e['asset'])&&_0x56882e['enabled']&&_0x56882e['entity']['enabled']){this['loadAsset'](_0x56882e,_0x40586e['renderAsse'+'t']||_0x40586e['asset'],_0x40586e['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x56882e);}['loadAsset'](_0x2b0901,_0x3b3e77,_0x9565cc){const _0x29524c=_0x2b0901['data'],_0x4804ad=this['system']['app']['assets'],_0xb2510d=_0x29524c[_0x9565cc],_0x595af1=_0x259362=>{_0x29524c[_0x9565cc]===_0xb2510d&&(_0x29524c[_0x9565cc]=_0x259362['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x2b0901));},_0x42f9c8=_0x3340e3=>{_0x3340e3['ready'](_0x5e5607=>{if(_0x5e5607['data']['containerA'+'sset']){const _0x28c44c=_0x4804ad['get'](_0x5e5607['data']['containerA'+'sset']);_0x28c44c['loaded']?_0x595af1(_0x5e5607):(_0x28c44c['ready'](()=>{_0x595af1(_0x5e5607);}),_0x4804ad['load'](_0x28c44c));}else _0x595af1(_0x5e5607);}),_0x4804ad['load'](_0x3340e3);},_0x109257=_0x4804ad['get'](_0x3b3e77);_0x109257?_0x42f9c8(_0x109257):_0x4804ad['once']('add:'+_0x3b3e77,_0x42f9c8);}['doRecreate'+'PhysicalSh'+'ape'](_0x360bca){const _0x54d8b4=_0x360bca['entity'],_0x3adc90=_0x360bca['data'];_0x3adc90['model']||_0x3adc90['render']?(this['destroySha'+'pe'](_0x3adc90),_0x3adc90['shape']=this['createPhys'+'icalShape'](_0x54d8b4,_0x3adc90),_0x54d8b4['rigidbody']?(_0x54d8b4['rigidbody']['disableSim'+'ulation'](),_0x54d8b4['rigidbody']['createBody'](),_0x54d8b4['enabled']&&_0x54d8b4['rigidbody']['enabled']&&_0x54d8b4['rigidbody']['enableSimu'+'lation']()):_0x54d8b4['trigger']?_0x54d8b4['trigger']['initialize'](_0x3adc90):_0x54d8b4['trigger']=new Kv(this['system']['app'],_0x360bca,_0x3adc90)):(this['beforeRemo'+'ve'](_0x54d8b4,_0x360bca),this['remove'](_0x54d8b4,_0x3adc90));}['updateTran'+'sform'](_0x213007,_0x1b040d,_0x2f3c11,_0x31592d){if(_0x213007['shape']){const _0x5c73e5=_0x213007['entity']['getWorldTr'+'ansform']()['getScale'](),_0x30eb24=_0x213007['shape']['getLocalSc'+'aling']();(_0x5c73e5['x']!==_0x30eb24['x']()||_0x5c73e5['y']!==_0x30eb24['y']()||_0x5c73e5['z']!==_0x30eb24['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x213007);}super['updateTran'+'sform'](_0x213007,_0x1b040d,_0x2f3c11,_0x31592d);}['destroySha'+'pe'](_0x5eed3b){if(!_0x5eed3b['shape'])return;const _0x45da0=_0x5eed3b['shape']['getNumChil'+'dShapes']();for(let _0x118ffe=0x5b+-0xabf+0xa64;_0x118ffe<_0x45da0;_0x118ffe++){const _0x1d4dc3=_0x5eed3b['shape']['getChildSh'+'ape'](_0x118ffe);Ammo['destroy'](_0x1d4dc3);}Ammo['destroy'](_0x5eed3b['shape']),_0x5eed3b['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x15b1f2,_0x50d161){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x1ff99b){!_0x1ff99b['collision']||_0x1ff99b['rigidbody']||(_0x1ff99b['collision']['_compoundP'+'arent']=this,_0x1ff99b!==this['entity']&&_0x1ff99b['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1ff99b['collision']));}['_updateEac'+'hDescendan'+'t'](_0x3af851){_0x3af851['collision']&&_0x3af851['collision']['_compoundP'+'arent']===this&&(_0x3af851['collision']['_compoundP'+'arent']=null,_0x3af851!==this['entity']&&!_0x3af851['rigidbody']&&_0x3af851['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3af851['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0xeb10a8){!_0xeb10a8['collision']||_0xeb10a8['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0xeb10a8,!(0xc79+0x18ac+0x1*-0x2524));}}class nR extends ct{constructor(_0x440757){super(_0x440757),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x27cee9,_0x5e04de,_0x3eb66f){_0x3eb66f=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x147c9f={};for(let _0x5180d5=-0xb8c+-0x8e7+0x1473,_0x5bf09=_0x3eb66f['length'];_0x5180d5<_0x5bf09;_0x5180d5++){const _0x59eb07=_0x3eb66f[_0x5180d5];_0x147c9f[_0x59eb07]=_0x5e04de[_0x59eb07];}let _0x3304c1;if(_0x5e04de['hasOwnProp'+'erty']('asset')?(_0x3304c1=_0x3eb66f['indexOf']('model'),_0x3304c1!==-(-0x2135+0x9*-0x35e+0x3f84)&&_0x3eb66f['splice'](_0x3304c1,-0xf8e+0x1365*0x1+0x2*-0x1eb),_0x3304c1=_0x3eb66f['indexOf']('render'),_0x3304c1!==-(0x74*0x2b+-0xf9c+0x3df*-0x1)&&_0x3eb66f['splice'](_0x3304c1,0x1c46+-0x73*0x10+0x3*-0x707)):_0x5e04de['hasOwnProp'+'erty']('model')&&(_0x3304c1=_0x3eb66f['indexOf']('asset'),_0x3304c1!==-(0x1ed2+-0x1e77+-0x5a)&&_0x3eb66f['splice'](_0x3304c1,0x379+0x1548+-0x6*0x420)),_0x147c9f['type']||(_0x147c9f['type']=_0x27cee9['data']['type']),_0x27cee9['data']['type']=_0x147c9f['type'],Array['isArray'](_0x147c9f['halfExtent'+'s'])&&(_0x147c9f['halfExtent'+'s']=new D(_0x147c9f['halfExtent'+'s'])),Array['isArray'](_0x147c9f['linearOffs'+'et'])&&(_0x147c9f['linearOffs'+'et']=new D(_0x147c9f['linearOffs'+'et'])),Array['isArray'](_0x147c9f['angularOff'+'set'])){const _0x1b056c=_0x147c9f['angularOff'+'set'];_0x1b056c['length']===0xc*-0x2b+-0x1*0x295+0x3b*0x14?_0x147c9f['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x1b056c[-0x2163+-0xa*0x339+0x1*0x419d],_0x1b056c[-0x16f9+-0x1a49+0x3143*0x1],_0x1b056c[0x22dc+0x2*0x541+-0x2d5c]):_0x147c9f['angularOff'+'set']=new le(_0x147c9f['angularOff'+'set']);}const _0x53ad2e=this['_createImp'+'lementatio'+'n'](_0x147c9f['type']);_0x53ad2e['beforeInit'+'ialize'](_0x27cee9,_0x147c9f),super['initialize'+'ComponentD'+'ata'](_0x27cee9,_0x147c9f,_0x3eb66f),_0x53ad2e['afterIniti'+'alize'](_0x27cee9,_0x147c9f);}['_createImp'+'lementatio'+'n'](_0x57dcf){if(this['implementa'+'tions'][_0x57dcf]===void(-0x19*0x158+-0x25*-0x1b+0x1db1)){let _0x2197a0;switch(_0x57dcf){case'box':_0x2197a0=new JL(this);break;case'sphere':_0x2197a0=new eR(this);break;case'capsule':_0x2197a0=new tR(this);break;case'cylinder':_0x2197a0=new sR(this);break;case'cone':_0x2197a0=new iR(this);break;case'mesh':_0x2197a0=new rR(this);break;case'compound':_0x2197a0=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x57dcf);}this['implementa'+'tions'][_0x57dcf]=_0x2197a0;}return this['implementa'+'tions'][_0x57dcf];}['_getImplem'+'entation'](_0x3d1e3b){return this['implementa'+'tions'][_0x3d1e3b['collision']['data']['type']];}['cloneCompo'+'nent'](_0x32621c,_0x1a1e7d){return this['_getImplem'+'entation'](_0x32621c)['clone'](_0x32621c,_0x1a1e7d);}['onBeforeRe'+'move'](_0x3e7f07,_0x5397d7){this['implementa'+'tions'][_0x5397d7['data']['type']]['beforeRemo'+'ve'](_0x3e7f07,_0x5397d7),_0x5397d7['onBeforeRe'+'move']();}['onRemove'](_0x15f3f9,_0x43b25a){this['implementa'+'tions'][_0x43b25a['type']]['remove'](_0x15f3f9,_0x43b25a);}['updateComp'+'oundChildT'+'ransform'](_0x84f8a7,_0x35baca){const _0x598718=_0x84f8a7['collision']['_compoundP'+'arent'];if(_0x598718!==_0x84f8a7['collision']&&_0x84f8a7['enabled']&&_0x84f8a7['collision']['enabled']&&(_0x84f8a7['_dirtyLoca'+'l']||_0x35baca)){const _0x2adbda=this['_getNodeTr'+'ansform'](_0x84f8a7,_0x598718['entity']),_0x37eee2=_0x598718['getCompoun'+'dChildShap'+'eIndex'](_0x84f8a7['collision']['shape']);_0x37eee2===null?_0x598718['shape']['addChildSh'+'ape'](_0x2adbda,_0x84f8a7['collision']['data']['shape']):_0x598718['shape']['updateChil'+'dTransform'](_0x37eee2,_0x2adbda,!(0x1188+0x1172+-0x22fa)),Ammo['destroy'](_0x2adbda);}}['_removeCom'+'poundChild'](_0x3ea5fb,_0x5c9c7f){if(_0x3ea5fb['shape']['getNumChil'+'dShapes']()!==0x179d+-0x2a*0x77+0x417*-0x1){if(_0x3ea5fb['shape']['removeChil'+'dShape'])_0x3ea5fb['shape']['removeChil'+'dShape'](_0x5c9c7f);else{const _0x459bcb=_0x3ea5fb['getCompoun'+'dChildShap'+'eIndex'](_0x5c9c7f);_0x459bcb!==null&&_0x3ea5fb['shape']['removeChil'+'dShapeByIn'+'dex'](_0x459bcb);}}}['onTransfor'+'mChanged'](_0x461789,_0x3ed3a4,_0x5d4de6,_0x5ac908){this['implementa'+'tions'][_0x461789['data']['type']]['updateTran'+'sform'](_0x461789,_0x3ed3a4,_0x5d4de6,_0x5ac908);}['changeType'](_0x335d03,_0x368e60,_0x3a7a42){this['implementa'+'tions'][_0x368e60]['beforeRemo'+'ve'](_0x335d03['entity'],_0x335d03),this['implementa'+'tions'][_0x368e60]['remove'](_0x335d03['entity'],_0x335d03['data']),this['_createImp'+'lementatio'+'n'](_0x3a7a42)['reset'](_0x335d03,_0x335d03['data']);}['recreatePh'+'ysicalShap'+'es'](_0x1fba26){this['implementa'+'tions'][_0x1fba26['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x1fba26);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2b0dd4,_0x129a7e){if(_0x2b0dd4===_0x129a7e){const _0x4b845d=_0x2b0dd4['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x4b845d['x'],_0x4b845d['y'],_0x4b845d['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2b0dd4['parent'],_0x129a7e),wc['mul'](_0x2b0dd4['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x2306a7){const _0x44d079=_0x2306a7['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x44d079['x'],_0x44d079['y'],_0x44d079['z']);}['_getNodeTr'+'ansform'](_0x31d60e,_0xac93c7){let _0x3efd9f,_0x5c3240;_0xac93c7?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x31d60e,_0xac93c7),_0x3efd9f=KL,_0x5c3240=Vr,wc['getTransla'+'tion'](_0x3efd9f),_0x5c3240['setFromMat'+'4'](wc)):(_0x3efd9f=_0x31d60e['getPositio'+'n'](),_0x5c3240=_0x31d60e['getRotatio'+'n']());const _0x90c705=new Ammo['btQuaterni'+'on'](),_0x3225ed=new Ammo['btTransfor'+'m']();_0x3225ed['setIdentit'+'y']();const _0x361446=_0x3225ed['getOrigin'](),_0x535588=_0x31d60e['collision'];if(_0x535588&&_0x535588['_hasOffset']){const _0x339eb1=_0x535588['data']['linearOffs'+'et'],_0x51f24f=_0x535588['data']['angularOff'+'set'],_0x50df88=ZL;Vr['copy'](_0x5c3240)['transformV'+'ector'](_0x339eb1,_0x50df88),_0x50df88['add'](_0x3efd9f),Vr['copy'](_0x5c3240)['mul'](_0x51f24f),_0x361446['setValue'](_0x50df88['x'],_0x50df88['y'],_0x50df88['z']),_0x90c705['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x361446['setValue'](_0x3efd9f['x'],_0x3efd9f['y'],_0x3efd9f['z']),_0x90c705['setValue'](_0x5c3240['x'],_0x5c3240['y'],_0x5c3240['z'],_0x5c3240['w']);return _0x3225ed['setRotatio'+'n'](_0x90c705),Ammo['destroy'](_0x90c705),_0x3225ed;}['destroy'](){for(const _0x2c4961 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2c4961]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x296c0f,_0x23841f,_0xaddd7f){this['_entity']=_0x296c0f,this['_element']=_0x296c0f['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x23841f,this['meshInstan'+'ce']=new He(this['mesh'],_0xaddd7f,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x296c0f['name'],this['meshInstan'+'ce']['castShadow']=!(0x1*-0x12d0+-0x1e82+-0x3153*-0x1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x136d+0x1*0x1f8f+0x1f*-0x1a5),this['_meshDirty']=!(0x7*-0x221+0x146b+-0x583),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x219332,_0x111fb6;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x219332=this['meshInstan'+'ce'])==null||_0x219332['destroy'](),this['meshInstan'+'ce']=null,(_0x111fb6=this['unmaskMesh'+'Instance'])==null||_0x111fb6['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x3f23e7){this['meshInstan'+'ce']&&(this['mesh']=_0x3f23e7,this['meshInstan'+'ce']['mesh']=_0x3f23e7,this['meshInstan'+'ce']['visible']=!!_0x3f23e7,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x3f23e7),this['forceUpdat'+'eAabb']());}['setMask'](_0x23c0f7){var _0x30bbbd;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x23c0f7){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0xd5d+0x23c2+-0x311e),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x1*0x227+0x8bf*0x4+0x16*-0x17e),this['unmaskMesh'+'Instance']['pick']=!(-0x2*-0xef5+-0x150a+-0x2f5*0x3),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x5e0d43 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x5e0d43,this['meshInstan'+'ce']['parameters'][_0x5e0d43]['data']);}else{const _0xcfccc5=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0xcfccc5>=0x1*-0x2480+-0xe83*0x1+0x3303&&this['model']['meshInstan'+'ces']['splice'](_0xcfccc5,-0x159f*0x1+-0x101c+-0x25bc*-0x1);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x23c0f7||((_0x30bbbd=this['unmaskMesh'+'Instance'])==null||_0x30bbbd['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x11885a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x11885a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x11885a));}['setParamet'+'er'](_0x4bf924,_0x4a61ef){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x4bf924,_0x4a61ef),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4bf924,_0x4a61ef));}['deletePara'+'meter'](_0x308ed3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x308ed3),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x308ed3));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x183375=function(_0x16f6d6){let _0x4d0eb8;const _0x121c65=_0x16f6d6['children'],_0x1cba43=_0x121c65['length'];if(_0x1cba43){for(let _0x233206=0x1*0xf3e+0x3d*-0xa3+0x1799;_0x233206<_0x1cba43;_0x233206++)_0x121c65[_0x233206]['element']&&(_0x4d0eb8=_0x121c65[_0x233206]);if(!_0x4d0eb8)return null;const _0x2a3020=_0x183375(_0x4d0eb8);return _0x2a3020||_0x4d0eb8;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1234ea=_0x183375(this['_entity']);_0x1234ea&&_0x1234ea['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1234ea['element']['drawOrder']+_0x1234ea['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x361829){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x361829),this['meshInstan'+'ce']['drawOrder']=_0x361829);}['setCull'](_0x1ab1f7){if(!this['meshInstan'+'ce'])return;const _0x52d12a=this['_element'];let _0x424043=null;_0x1ab1f7&&_0x52d12a['_isScreenS'+'pace']()&&(_0x424043=function(_0x1159f2){return _0x52d12a['isVisibleF'+'orCamera'](_0x1159f2);}),this['meshInstan'+'ce']['cull']=_0x1ab1f7,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x424043,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x1ab1f7,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x424043);}['setScreenS'+'pace'](_0x55217b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x55217b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x55217b));}['setLayer'](_0x82fe4){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x82fe4,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x82fe4));}['forceUpdat'+'eAabb'](_0x5cbd06){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x29*0x1f+-0x260b+0x2b03),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x1752+-0x22a*-0xc+-0xb*0x47b)));}['setAabbFun'+'c'](_0x32479d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x32479d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x32479d));}}class cR{constructor(_0x59282d){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x59282d,this['_entity']=_0x59282d['entity'],this['_system']=_0x59282d['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0xddf+-0x5*0x20d+-0x304*-0x8,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x656*0x2+0xb3e+0x1*-0x17e9),this['_rect']=new re(-0x25c9+-0x10b0+0x3679,-0x1c6b+0x381*0x4+0xe67,-0x1b6e+0x586+0x15e9,-0xa43*0x3+0x134c+0x1*0xb7e),this['_mask']=!(-0xd15*0x2+-0x2*0x465+0x22f5),this['_maskRef']=0x1f2d+0x123d+-0x316a,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x1*0x29e+0x23fd+0x2699*-0x1),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x7d2+-0x1*-0xa63+-0x1231),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x3*-0x71f+0x2*0x3f7+0x1*-0x1d47),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x2e*-0xb5+-0x1bce+-0x4b7,0x18ba+-0x2484+0xbcb,0x1541+-0x226d*-0x1+-0x37ad,-0x1*-0x8c6+-0x1056*-0x2+-0x2971),this['_colorUnif'+'orm']=new Float32Array([-0x64e+-0x10d3+-0x1*-0x1722,0x4f*-0x74+-0x259b+0x4968,-0x1741+0x5e0*0x3+0xce*0x7]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x7*0x36d+0x565*0x3+0x7cd),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x19f42f){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x3ef47b){this['_updateMat'+'erial'](_0x3ef47b);}['_onScreenC'+'hange'](_0x394f50,_0x19ce1a){_0x394f50?this['_updateMat'+'erial'](_0x394f50['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2dd*-0x3+0x8*0x3e2+-0x7ee*0x5));}['_onDrawOrd'+'erChange'](_0x42744e){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x42744e),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x17af*-0x1+0xbe3+0xbcd);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x592f6c){const _0x1404b2=!!this['_mask'],_0x480b64=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x41884a=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x592f6c,_0x1404b2,_0x480b64,_0x41884a)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x592f6c),this['_renderabl'+'e']['setLayer'](_0x592f6c?Ow:Ky));}['_createMes'+'h'](){const _0x1b13e0=this['_element'],_0x5e714a=_0x1b13e0['calculated'+'Width'],_0x3487d3=_0x1b13e0['calculated'+'Height'],_0x53c1ad=this['_rect'],_0x250561=this['_system']['app']['graphicsDe'+'vice'],_0x30193e=new Float32Array([_0x5e714a,0x347+0xc75*-0x1+0x92e*0x1,0x199*-0x17+0x16d2+0xded,-0x7fc*-0x4+0xb3f*-0x3+-0x1cd*-0x1,0x1989+-0x738+0x9*-0x209,-0x1a2d+0x176*0x7+0x4*0x3fd,_0x53c1ad['x']+_0x53c1ad['z'],-0x7*0x26b+-0x1*-0x259f+-0x14b1-_0x53c1ad['y'],_0x5e714a,_0x3487d3,0x169*0x3+-0xa97*0x2+-0x10f3*-0x1,0xa79+-0xb18+-0x1*-0x9f,0x125f+0x19f*0x17+-0x2*0x1bd4,0x2d9*-0x8+0x35*-0x56+0x2897*0x1,_0x53c1ad['x']+_0x53c1ad['z'],-0x12e3+0x5*-0xe3+-0x355*-0x7-(_0x53c1ad['y']+_0x53c1ad['w']),0x417*-0x3+-0x57*0x39+-0x9*-0x384,-0x1c7d+0x8e*-0x2f+-0x368f*-0x1,0x243e+-0x149a+0x5b*-0x2c,-0x26*-0x17+-0x26*-0x102+-0x29b6,-0x7*-0x346+-0x1cd0+0x2*0x2f3,-0x5*0x709+-0xc48+0x1e*0x195,_0x53c1ad['x'],0x1753+-0x1e91+0x23*0x35-_0x53c1ad['y'],-0x16c4*-0x1+0x6c4*0x2+-0x5c*0x65,_0x3487d3,0x1316+-0x1*-0xa67+-0x1*0x1d7d,-0x269*-0x7+-0x18eb+0x14*0x67,0x8c7+0x96e*0x1+0x4f*-0x3b,-0xc07+0x7ca*0x2+-0x38c,_0x53c1ad['x'],-0x1e6d*0x1+0x2483*-0x1+0x42f1*0x1-(_0x53c1ad['y']+_0x53c1ad['w'])]),_0x545879=oR['get'](_0x250561,()=>new kt(_0x250561,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x5c3b93=new Is(_0x250561,_0x545879,0x40f*-0x1+-0x197*-0xc+0xf01*-0x1,{'data':_0x30193e['buffer']}),_0xaad451=new Ge(_0x250561);return _0xaad451['vertexBuff'+'er']=_0x5c3b93,_0xaad451['primitive'][0xf48+0x1e5a+-0x2da2]['type']=Er,_0xaad451['primitive'][0x2*0x4b2+0x157a+-0x1ede]['base']=0xab8*0x2+0xbce+-0x213e,_0xaad451['primitive'][-0x20c*-0x11+0x206c+-0x1de*0x24]['count']=-0x17e3+-0x13aa+0x2b91,_0xaad451['primitive'][-0x1679+-0x156*0xe+0x1*0x292d]['indexed']=!(-0x1e7a+-0x3e*-0x73+0x2a1),_0xaad451['aabb']['setMinMax'](D['ZERO'],new D(_0x5e714a,_0x3487d3,0x53*0x16+-0x587*0x1+0x1*-0x19b)),this['_updateMes'+'h'](_0xaad451),_0xaad451;}['_updateMes'+'h'](_0x3e54ea){const _0x146451=this['_element'];let _0x948293=_0x146451['calculated'+'Width'],_0xc8701e=_0x146451['calculated'+'Height'];if(_0x146451['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x50a+-0x884+0x2*0x6c7){const _0x35d7b5=_0x146451['calculated'+'Width']/_0x146451['calculated'+'Height'];_0x146451['fitMode']===GL&&_0x35d7b5>this['_targetAsp'+'ectRatio']||_0x146451['fitMode']===HL&&_0x35d7b5<this['_targetAsp'+'ectRatio']?_0x948293=_0x146451['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0xc8701e=_0x146451['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x201c4e=_0x146451['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x201c4e),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x333c94=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x2add50=(0x6*-0x5a3+0x1625+0xbaf)/_0x333c94['rect']['z'],_0x568496=(-0x1*0x8ef+0x45*-0x83+0x2c40)/_0x333c94['rect']['w'];this['_innerOffs'+'et']['set'](_0x333c94['border']['x']*_0x2add50,_0x333c94['border']['y']*_0x568496,_0x333c94['border']['z']*_0x2add50,_0x333c94['border']['w']*_0x568496);const _0x1bd8d6=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x333c94['rect']['x']/_0x1bd8d6['width'],_0x333c94['rect']['y']/_0x1bd8d6['height'],_0x333c94['rect']['z']/_0x1bd8d6['width'],_0x333c94['rect']['w']/_0x1bd8d6['height']);const _0x562bbf=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x3d705a=_0x333c94['rect']['z']/_0x562bbf,_0x5e024d=_0x333c94['rect']['w']/_0x562bbf;this['_outerScal'+'e']['set'](Math['max'](_0x948293,this['_innerOffs'+'et']['x']*_0x3d705a),Math['max'](_0xc8701e,this['_innerOffs'+'et']['y']*_0x5e024d));let _0x2ce4dd=_0x3d705a,_0x3a5185=_0x5e024d;this['_outerScal'+'e']['x']/=_0x3d705a,this['_outerScal'+'e']['y']/=_0x5e024d,_0x2ce4dd*=Y['clamp'](_0x948293/(this['_innerOffs'+'et']['x']*_0x3d705a),-0x11*0x95+0x5*-0x48a+0x1b*0x135+0.0001,0xcfa+0x219a+-0x2e93),_0x3a5185*=Y['clamp'](_0xc8701e/(this['_innerOffs'+'et']['y']*_0x5e024d),0x1*-0x23c5+-0x1*0xee+0x24b3+0.0001,-0x1bb3+0x5f4+-0x30*-0x74),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x7c+-0xe36+0x7*0x1f6]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1539+0x8d9+0xb3*-0x2b]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x1c7c+0x152b+-0x31a5]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x2133*0x1+-0x23d7+0x1*0x450d]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x19db*0x1+-0xcc5*-0x1+0x338*-0xc]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1*-0x1b9d+-0x1147+0x2ce5]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1a3*0x1+-0x1ba2+0x1a01]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1a5d+-0x2395+0x93b]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x19*0x13a+0x91e+0x158c]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xad0+0x54c+-0x1*-0x585]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x2ce4dd,_0x3a5185,-0x889+0x2*0xbea+-0xf4a),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0xad8+-0x4f*-0x4b+-0x2f*0x43+0.5-_0x146451['pivot']['x'])*_0x948293,(-0x13de+-0x39*-0x40+0x2cf*0x2+0.5-_0x146451['pivot']['y'])*_0xc8701e,0xbb9+-0x4*0x864+-0x15d7*-0x1));}else{const _0x2c345b=_0x3e54ea['vertexBuff'+'er'],_0x21fb9b=new Float32Array(_0x2c345b['lock']()),_0x5f10aa=_0x146451['pivot']['x'],_0x5cb5cc=_0x146451['pivot']['y'];_0x21fb9b[-0x103a+-0x1e09*-0x1+-0xdcf]=_0x948293-_0x5f10aa*_0x948293,_0x21fb9b[-0x96+0xc07+-0x16e*0x8]=0x1b8d+-0x1298+-0x8f5-_0x5cb5cc*_0xc8701e,_0x21fb9b[0x893+-0x3*0x371+0x1c8]=_0x948293-_0x5f10aa*_0x948293,_0x21fb9b[-0x11*0x1c1+0x71*0x5+0x1ba5]=_0xc8701e-_0x5cb5cc*_0xc8701e,_0x21fb9b[0x653+-0xf82+0x315*0x3]=-0x1*-0xf07+0x499*0x2+-0x1839-_0x5f10aa*_0x948293,_0x21fb9b[0xc2f+0x2524+0x82*-0x61]=-0x17eb+-0x95*-0x1d+0x70a*0x1-_0x5cb5cc*_0xc8701e,_0x21fb9b[0x3be+0x5de+-0x1c*0x57]=-0x1dc7+-0x122+0x1ee9-_0x5f10aa*_0x948293,_0x21fb9b[-0x47*0x41+-0x3e3+0x1*0x1603]=_0xc8701e-_0x5cb5cc*_0xc8701e;let _0x148dff=0x7*-0x4a5+0xe88+-0x8fe*-0x2,_0x57068a=0x2476+0x10f1+-0x3566,_0x2e3464=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x47f4c5=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x47f4c5&&(_0x2e3464=_0x47f4c5['rect'],_0x148dff=this['_sprite']['atlas']['texture']['width'],_0x57068a=this['_sprite']['atlas']['texture']['height']);}_0x21fb9b[0x1fd1+-0x2*0x151+0x5*-0x5d5]=(_0x2e3464['x']+_0x2e3464['z'])/_0x148dff,_0x21fb9b[0xf5*0x25+-0x1*-0x383+0x1*-0x26e5]=-0x41f*-0x2+0x2*0xeca+-0x25d1-_0x2e3464['y']/_0x57068a,_0x21fb9b[0x25ce+0x1*-0x12b9+-0x1307]=(_0x2e3464['x']+_0x2e3464['z'])/_0x148dff,_0x21fb9b[0x85+-0x1273*0x1+0x11fd]=0xac3+0x13*-0x81+-0x12f-(_0x2e3464['y']+_0x2e3464['w'])/_0x57068a,_0x21fb9b[-0xf7*0x11+0x1c12+0xb95*-0x1]=_0x2e3464['x']/_0x148dff,_0x21fb9b[0x23c+-0x1b42+0x191d]=0x1d52+0x19db+0xb*-0x504-_0x2e3464['y']/_0x57068a,_0x21fb9b[0xc51+0x93*0x7+-0x1038]=_0x2e3464['x']/_0x148dff,_0x21fb9b[-0x1508+-0x1655+-0x17*-0x1e4]=-0x1f64+-0xce*0x2c+0x42cd*0x1-(_0x2e3464['y']+_0x2e3464['w'])/_0x57068a,_0x2c345b['unlock']();const _0xaca15d=new D(-0x35*0x5e+0x1dbd+-0x36d*0x3-_0x5f10aa*_0x948293,0x1ede+-0x148f+-0x1*0xa4f-_0x5cb5cc*_0xc8701e,-0x261b*-0x1+0xbc*-0x6+-0x21b3),_0x2b8bba=new D(_0x948293-_0x5f10aa*_0x948293,_0xc8701e-_0x5cb5cc*_0xc8701e,-0x992+0x370*-0x2+0x2*0x839);_0x3e54ea['aabb']['setMinMax'](_0xaca15d,_0x2b8bba),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0xd2b*0x1+-0x1104+-0x22*-0x1d,0x1043+0x302+-0x1*0x1344,-0xdc0+0x2c9*0xb+0x2*-0x871),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x30*-0x8+0x2452+-0x25d2,0x349+0x1362+-0x7*0x33d,-0x1ff3+-0x2f*0x35+0x29ae),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x682+-0x1827*-0x1+-0x1ea8);}['_updateSpr'+'ite'](){let _0x45cfc5=!(-0x4c*0xf+0x717+0x2*-0x151),_0xac91f9=null;if(this['_targetAsp'+'ectRatio']=-(0x5*0xd4+-0x1*0x731+0x30e),this['_sprite']&&this['_sprite']['atlas']){_0xac91f9=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x45cfc5=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x4a6af8=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x4a6af8==null?void(-0x1*0x25e9+-0x1a3*-0xb+0x13e8):_0x4a6af8['rect']['w'])>-0x22*0x9a+0xc6f+0x805&&(this['_targetAsp'+'ectRatio']=_0x4a6af8['rect']['z']/_0x4a6af8['rect']['w']);}this['mesh']=_0x45cfc5?_0xac91f9:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x2*0xeb1+0x3*-0x4d5+-0x67*0x25):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x709abd){return _0x709abd['center']['set'](0x20d8+-0x134a+0x2b6*-0x5,-0x7f5+0x3dc+-0x1*-0x419,-0xc9*-0x5+0xa*0x25d+-0x1b8f),_0x709abd['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1*0x160f+-0x106b+0x26*-0x26+0.5),this['_outerScal'+'e']['y']*(0x1365+-0x2423+0x1*0x10be+0.5),0x502+0x4*-0x605+-0x1312*-0x1+0.001),_0x709abd['setFromTra'+'nsformedAa'+'bb'](_0x709abd,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x709abd;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x3f7cda=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3f7cda),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x3deb8d){this['material']=_0x3deb8d['resource'];}['_onMateria'+'lAdded'](_0x36d8e9){this['_system']['app']['assets']['off']('add:'+_0x36d8e9['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x36d8e9['id']&&this['_bindMater'+'ialAsset'](_0x36d8e9);}['_bindMater'+'ialAsset'](_0x2a4b68){this['_entity']['enabled']&&(_0x2a4b68['on']('load',this['_onMateria'+'lLoad'],this),_0x2a4b68['on']('change',this['_onMateria'+'lChange'],this),_0x2a4b68['on']('remove',this['_onMateria'+'lRemove'],this),_0x2a4b68['resource']?this['_onMateria'+'lLoad'](_0x2a4b68):this['_system']['app']['assets']['load'](_0x2a4b68));}['_unbindMat'+'erialAsset'](_0x1c51a3){_0x1c51a3['off']('load',this['_onMateria'+'lLoad'],this),_0x1c51a3['off']('change',this['_onMateria'+'lChange'],this),_0x1c51a3['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x493c22){this['_system']['app']['assets']['off']('add:'+_0x493c22['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x493c22['id']&&this['_bindTextu'+'reAsset'](_0x493c22);}['_bindTextu'+'reAsset'](_0x497895){this['_entity']['enabled']&&(_0x497895['on']('load',this['_onTexture'+'Load'],this),_0x497895['on']('change',this['_onTexture'+'Change'],this),_0x497895['on']('remove',this['_onTexture'+'Remove'],this),_0x497895['resource']?this['_onTexture'+'Load'](_0x497895):this['_system']['app']['assets']['load'](_0x497895));}['_unbindTex'+'tureAsset'](_0x4e5fad){_0x4e5fad['off']('load',this['_onTexture'+'Load'],this),_0x4e5fad['off']('change',this['_onTexture'+'Change'],this),_0x4e5fad['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x30b4de){this['texture']=_0x30b4de['resource'];}['_onTexture'+'Change'](_0x49c566){}['_onTexture'+'Remove'](_0x597d7e){}['_onSpriteA'+'ssetAdded'](_0x11575a){this['_system']['app']['assets']['off']('add:'+_0x11575a['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x11575a['id']&&this['_bindSprit'+'eAsset'](_0x11575a);}['_bindSprit'+'eAsset'](_0x1e43fa){this['_entity']['enabled']&&(_0x1e43fa['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x1e43fa['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x1e43fa['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x1e43fa['resource']?this['_onSpriteA'+'ssetLoad'](_0x1e43fa):this['_system']['app']['assets']['load'](_0x1e43fa));}['_unbindSpr'+'iteAsset'](_0x59402f){_0x59402f['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x59402f['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x59402f['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x59402f['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x59402f['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x43a4ff){if(!_0x43a4ff||!_0x43a4ff['resource'])this['sprite']=null;else{if(_0x43a4ff['resource']['atlas'])this['sprite']=_0x43a4ff['resource'];else{const _0x389c1e=_0x43a4ff['data']['textureAtl'+'asAsset'];if(_0x389c1e){const _0x24c268=this['_system']['app']['assets'];_0x24c268['off']('load:'+_0x389c1e,this['_onTexture'+'AtlasLoad'],this),_0x24c268['once']('load:'+_0x389c1e,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x3fcd8b){this['_onSpriteA'+'ssetLoad'](_0x3fcd8b);}['_onSpriteA'+'ssetRemove'](_0x409283){}['_bindSprit'+'e'](_0x266e17){this['_evtSetMes'+'hes']=_0x266e17['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x266e17['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x266e17['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x266e17['atlas']&&_0x266e17['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x23c21b){var _0x2b6930;(_0x2b6930=this['_evtSetMes'+'hes'])==null||_0x2b6930['off'](),this['_evtSetMes'+'hes']=null,_0x23c21b['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x23c21b['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x23c21b['atlas']&&_0x23c21b['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x25bf+-0x1b47*-0x1+-0x4106,this['_sprite']['frameKeys']['length']-(0x850*0x4+-0x1507*0x1+-0xc38))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x34f4c8){const _0x3d7587=this['_spriteAss'+'et'];_0x3d7587 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x3d7587):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x3d7587));}['onEnable'](){if(this['_materialA'+'sset']){const _0x4cc83f=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x4cc83f&&_0x4cc83f['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4cc83f);}if(this['_textureAs'+'set']){const _0x419aa7=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x419aa7&&_0x419aa7['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x419aa7);}if(this['_spriteAss'+'et']){const _0x34ee10=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x34ee10&&_0x34ee10['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x34ee10);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x1aeca1){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x1aeca1,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x1aeca1;let _0x1f6f7b=0x1*0xa8e+-0xe45+-0x1*-0x3b7;if(this['_element']['maskedBy']&&(_0x1f6f7b=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x4fc9b4=new pi({'ref':_0x1f6f7b+(0x6d4+-0x394*0x1+-0x115*0x3),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x4fc9b4,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x4fc9b4;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0xf9+0xa31*-0x1+0x938]=Ec['r'],this['_colorUnif'+'orm'][-0xc2c+0x25e3*-0x1+0x164*0x24]=Ec['g'],this['_colorUnif'+'orm'][0x931+-0x2*-0x107e+0x11*-0x27b]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x30144f){this['_color']===_0x30144f&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x1ce60c,g:_0x52d4e5,b:_0x359982}=_0x30144f;(this['_color']['r']!==_0x1ce60c||this['_color']['g']!==_0x52d4e5||this['_color']['b']!==_0x359982)&&(this['_color']['r']=_0x1ce60c,this['_color']['g']=_0x52d4e5,this['_color']['b']=_0x359982,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x2c13f6){_0x2c13f6!==this['_color']['a']&&(this['_color']['a']=_0x2c13f6,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x2c13f6)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x2c13f6);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x1ea8a0){this['_rect']===_0x1ea8a0&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0xd5396f,_0x812f23,_0x4881f5,_0x35d62f;_0x1ea8a0 instanceof re?(_0xd5396f=_0x1ea8a0['x'],_0x812f23=_0x1ea8a0['y'],_0x4881f5=_0x1ea8a0['z'],_0x35d62f=_0x1ea8a0['w']):(_0xd5396f=_0x1ea8a0[0x1b4*0x2+-0x64d*0x6+-0xee*-0x25],_0x812f23=_0x1ea8a0[-0x1*-0x1d5d+-0xd87*-0x1+-0x2ae3],_0x4881f5=_0x1ea8a0[-0x26c6+-0x10fb+0x37c3],_0x35d62f=_0x1ea8a0[0x13a+-0xa75+0x93e]),!(_0xd5396f===this['_rect']['x']&&_0x812f23===this['_rect']['y']&&_0x4881f5===this['_rect']['z']&&_0x35d62f===this['_rect']['w'])&&(this['_rect']['set'](_0xd5396f,_0x812f23,_0x4881f5,_0x35d62f),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x14*-0x1d9+0x1e80+-0x33a*-0x2):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x4a63f7=this['_system']['app']['assets'];_0x4a63f7['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x3ba02a=_0x4a63f7['get'](this['_materialA'+'sset']);_0x3ba02a&&(_0x3ba02a['off']('load',this['_onMateria'+'lLoad'],this),_0x3ba02a['off']('change',this['_onMateria'+'lChange'],this),_0x3ba02a['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x3e4189){if(this['_material']!==_0x3e4189){if(!_0x3e4189){const _0x2f8ba7=this['_element']['_isScreenS'+'pace']();this['mask']?_0x3e4189=_0x2f8ba7?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x3e4189=_0x2f8ba7?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x3e4189,this['_materialA'+'sset']){const _0x3f0c49=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x3f0c49||_0x3f0c49['resource']!==_0x3e4189)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x3e4189&&(this['_renderabl'+'e']['setMateria'+'l'](_0x3e4189),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1df28b){const _0x680b3e=this['_system']['app']['assets'];let _0x4c5686=_0x1df28b;if(_0x1df28b instanceof pe&&(_0x4c5686=_0x1df28b['id']),this['_materialA'+'sset']!==_0x4c5686){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x4c5686,this['_materialA'+'sset']){const _0x509b6c=_0x680b3e['get'](this['_materialA'+'sset']);_0x509b6c?this['_bindMater'+'ialAsset'](_0x509b6c):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4c5686,_0x680b3e['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4c5686;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x1f1e3f){if(this['_texture']!==_0x1f1e3f){if(this['_textureAs'+'set']){const _0x42623b=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x42623b&&_0x42623b['resource']!==_0x1f1e3f&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x1f1e3f,_0x1f1e3f){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x17bf1f=this['_texture']['width']/this['_texture']['height'];_0x17bf1f!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x17bf1f,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x9b5+-0x6*0x30e+-0x2*-0xe05),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x1df316){const _0x3be976=this['_system']['app']['assets'];let _0x39b970=_0x1df316;if(_0x1df316 instanceof pe&&(_0x39b970=_0x1df316['id']),this['_textureAs'+'set']!==_0x39b970){if(this['_textureAs'+'set']){_0x3be976['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x572c3d=_0x3be976['get'](this['_textureAs'+'set']);_0x572c3d&&(_0x572c3d['off']('load',this['_onTexture'+'Load'],this),_0x572c3d['off']('change',this['_onTexture'+'Change'],this),_0x572c3d['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x39b970,this['_textureAs'+'set']){const _0x28f56d=_0x3be976['get'](this['_textureAs'+'set']);_0x28f56d?this['_bindTextu'+'reAsset'](_0x28f56d):(this['texture']=null,_0x3be976['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x588edd){const _0x13d91b=this['_system']['app']['assets'];let _0x4b3aa5=_0x588edd;if(_0x588edd instanceof pe&&(_0x4b3aa5=_0x588edd['id']),this['_spriteAss'+'et']!==_0x4b3aa5){if(this['_spriteAss'+'et']){_0x13d91b['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x463f25=_0x13d91b['get'](this['_spriteAss'+'et']);_0x463f25&&this['_unbindSpr'+'iteAsset'](_0x463f25);}if(this['_spriteAss'+'et']=_0x4b3aa5,this['_spriteAss'+'et']){const _0x1f227e=_0x13d91b['get'](this['_spriteAss'+'et']);_0x1f227e?this['_bindSprit'+'eAsset'](_0x1f227e):(this['sprite']=null,_0x13d91b['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x4b3aa5);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x51586e){if(this['_sprite']!==_0x51586e){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x454810=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x454810&&_0x454810['resource']!==_0x51586e&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x51586e,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x7a3*-0x1+0x4d*0xd+-0xb8c,this['_sprite']['frameKeys']['length']-(-0x249a*0x1+-0x13f3+-0x2*-0x1c47))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x352856){const _0x511c34=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x352856,-0x1d1*-0xa+0x1a+-0x1244,this['_sprite']['frameKeys']['length']-(0x3*-0x147+0x305*0x6+-0xe48)):this['_spriteFra'+'me']=_0x352856,this['_spriteFra'+'me']!==_0x511c34&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x352856);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x2702ba){this['_renderabl'+'e']['setMesh'](_0x2702ba),this['_defaultMe'+'sh']===_0x2702ba?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x1891d7){this['_mask']!==_0x1891d7&&(this['_mask']=_0x1891d7,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x22e881){this['_pixelsPer'+'Unit']!==_0x22e881&&(this['_pixelsPer'+'Unit']=_0x22e881,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x5d81f2){super(),this['_app']=_0x5d81f2,_0x5d81f2['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1f7*0x13+0x22df+0x277*0x1),this['_disableLo'+'calization']=!(0x71*-0x35+-0x17e7+0x2f4d),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x3eb0b4){const _0x33f313=_0x3eb0b4 instanceof pe?_0x3eb0b4['id']:_0x3eb0b4;this['_defaultAs'+'set']!==_0x33f313&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x33f313,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x2c2e26){const _0x67c4f5=_0x2c2e26 instanceof pe?_0x2c2e26['id']:_0x2c2e26;this['_localized'+'Asset']!==_0x67c4f5&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x67c4f5,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x287b31){this['_autoLoad']!==_0x287b31&&(this['_autoLoad']=_0x287b31,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2cdb22){this['_disableLo'+'calization']!==_0x2cdb22&&(this['_disableLo'+'calization']=_0x2cdb22,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x330e46=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x330e46?this['_onDefault'+'AssetAdd'](_0x330e46):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x297745=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x297745&&(_0x297745['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x297745['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x297745['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x47a7b1){this['_defaultAs'+'set']===_0x47a7b1['id']&&(_0x47a7b1['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x47a7b1['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x47a7b1['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0xa36ef8){this['_defaultAs'+'set']===_0xa36ef8['id']&&(_0xa36ef8['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0xa36ef8['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x97b684=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x97b684&&(_0x97b684['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x97b684['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x97b684['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x97b684['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x97b684):this['_app']['assets']['load'](_0x97b684));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x75bdf3=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x75bdf3&&(_0x75bdf3['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x75bdf3['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x75bdf3['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x5ac28d){this['_localized'+'Asset']===_0x5ac28d['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x2ba3f0){this['fire']('load',_0x2ba3f0);}['_onLocaliz'+'edAssetCha'+'nge'](_0x11b01a,_0xee1db4,_0x5a1222,_0x1e4e75){this['fire']('change',_0x11b01a,_0xee1db4,_0x5a1222,_0x1e4e75);}['_onLocaliz'+'edAssetRem'+'ove'](_0x2be1f6){this['_localized'+'Asset']===_0x2be1f6['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x2be1f6);}['_onLocaleA'+'dd'](_0x760935,_0x3aad9b){this['_app']['i18n']['locale']===_0x760935&&this['_onSetLoca'+'le'](_0x760935);}['_onLocaleR'+'emove'](_0xdf9c6f,_0x56dbb5){this['_app']['i18n']['locale']===_0xdf9c6f&&this['_onSetLoca'+'le'](_0xdf9c6f);}['_onSetLoca'+'le'](_0x5ee4ae){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x3f394b=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x3f394b||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x32fd81=_0x3f394b['getLocaliz'+'edAssetId'](_0x5ee4ae);if(!_0x32fd81){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x32fd81;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0xb8+0x1fa3+0xfb*-0x21,an=0x3d*0x53+-0xc23+0x73*-0x11,Du=0x1*-0x2374+-0x219*-0x4+0x1b12*0x1,Zv=0x1*-0x653+0x229e*0x1+-0x5a8*0x5,Iu=0x55b+-0xa*0x287+-0xf3*-0x15,Lu=0xa*-0x191+-0x2505+0xd2d*0x4,Ru=0x1afb+-0x1d*0x5d+-0x106c,Ou=-0x257+0x1a9*0x13+0x4d*-0x61,Xg=0xb*-0x1b2+-0xc*-0xfb+-0x3b*-0x1e,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x24f1c5){this['_symbols']=_0x24f1c5,this['_index']=0x129+0x56e+-0x697,this['_last']=0x6c3+-0xc*0x2cd+0x1d*0xed,this['_cur']=this['_symbols']['length']>0x136e+0x737+-0x1aa5?this['_symbols'][0x1fa6*0x1+0x749+-0x26ef*0x1]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x341227=this['_read']();for(;_0x341227===Xg;)_0x341227=this['_read']();return _0x341227!==Mo&&_0x341227!==an&&(this['_last']=this['_index']),_0x341227;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x4a4975=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x40df24=this['read'](),_0x34cc48='';for(;_0x34cc48+=(_0x34cc48['length']>0x35+0x20*-0x22+0x17*0x2d?'\x0a':'')+_0x4a4975[_0x40df24]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x40df24===Mo||_0x40df24===an);)_0x40df24=this['read']();return _0x34cc48;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x15*-0x1ca+-0x1dfa+0x438c?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x652+0x1ea*0x3+0x4a*0x2?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x1*0x1dbf+0x3*-0x281+0x3*-0x769);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x18f761){return _0x18f761['length']===-0x8*0x16a+-0x162*-0x7+0x1a3&&_0x18f761['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x1a42b5){this['_buf']['push'](_0x1a42b5);}}class mR{constructor(_0x28adf1){this['_scanner']=new pR(_0x28adf1),this['_error']=null;}['parse'](_0x112906,_0x386293){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x219*0x6+-0x12ef*-0x1+0x41*-0x19);case an:return!(0x10a5*-0x1+0x13*0xd7+-0x1*-0xb1);case Du:Array['prototype']['push']['apply'](_0x112906,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x112906,_0x386293))return!(-0x15*0x4b+-0x188a+0x1eb2);break;default:return!(-0xde4+0x1*-0x1981+0x2766);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x346c6c,_0x10af02){let _0x472d4a=this['_scanner']['read']();if(_0x472d4a!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x1d71+0x266+-0x1fd6);const _0x1f9427=this['_scanner']['buf']()['join']('');if(_0x1f9427[-0x63*-0x5+-0x4e4*-0x3+-0x109b*0x1]==='/'){for(let _0x2a6e40=_0x10af02['length']-(0x7*0x2ed+0x1*-0x238f+0xd*0x129);_0x2a6e40>=0x12*-0x1b6+-0x488+0x10a*0x22;--_0x2a6e40)if(_0x1f9427==='/'+_0x10af02[_0x2a6e40]['name']&&_0x10af02[_0x2a6e40]['end']===null)return _0x10af02[_0x2a6e40]['end']=_0x346c6c['length'],_0x472d4a=this['_scanner']['read'](),_0x472d4a!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x1661*-0x1+0x1533+0x73*-0x61)):!(-0x1050+-0x14*-0x98+0x470);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x1*-0xac+0x1624+-0x16cf);}const _0x4c3c11={'name':_0x1f9427,'value':null,'attributes':{},'start':_0x346c6c['length'],'end':null};if(_0x472d4a=this['_scanner']['read'](),_0x472d4a===Lu){if(_0x472d4a=this['_scanner']['read'](),_0x472d4a!==Ru)return this['_error']='expected\x20s'+'tring',!(0x59*0x3a+0xd56+-0x217f);_0x4c3c11['value']=this['_scanner']['buf']()['join'](''),_0x472d4a=this['_scanner']['read']();}for(;;){switch(_0x472d4a){case Iu:return _0x10af02['push'](_0x4c3c11),!(-0x1*0x967+-0x1*0x23e7+0xf1a*0x3);case Ou:{const _0x44e2ce=this['_scanner']['buf']()['join']('');if(_0x472d4a=this['_scanner']['read'](),_0x472d4a!==Lu)return this['_error']='expected\x20e'+'quals',!(0x254e+0x2cd+-0x281a);if(_0x472d4a=this['_scanner']['read'](),_0x472d4a!==Ru)return this['_error']='expected\x20s'+'tring',!(0x6*0x8d+-0x3f6+0xa9);const _0x19d1da=this['_scanner']['buf']()['join']('');_0x4c3c11['attributes'][_0x44e2ce]=_0x19d1da;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x18*0xa+0xea5+-0xdb4);}_0x472d4a=this['_scanner']['read']();}}}function Qv(_0x629337,_0x1e4e19){for(const _0x4c268c in _0x1e4e19){if(!_0x1e4e19['hasOwnProp'+'erty'](_0x4c268c))continue;const _0x2892cb=_0x1e4e19[_0x4c268c];_0x2892cb instanceof Object?(_0x629337['hasOwnProp'+'erty'](_0x4c268c)||(_0x629337[_0x4c268c]={}),Qv(_0x629337[_0x4c268c],_0x1e4e19[_0x4c268c])):_0x629337[_0x4c268c]=_0x2892cb;}}function _R(_0x19750f){if(_0x19750f['length']===-0xf70+-0x373*-0xb+0x337*-0x7)return null;const _0x7fcbc3={};for(let _0x24ac3d=0x21e2+-0x29*-0xdf+-0x4599;_0x24ac3d<_0x19750f['length'];++_0x24ac3d){const _0x18987e=_0x19750f[_0x24ac3d],_0xdd815={};_0xdd815[_0x18987e['name']]={'value':_0x18987e['value'],'attributes':_0x18987e['attributes']},Qv(_0x7fcbc3,_0xdd815);}return _0x7fcbc3;}function gR(_0x2a7138,_0x414f69){if(_0x2a7138['length']===0x1af3+-0x539*-0x2+-0x2565)return null;const _0x1a9b57={};for(let _0x5e1fef=0x2a2*-0x1+0x1f99+0x1cf7*-0x1;_0x5e1fef<_0x2a7138['length'];++_0x5e1fef){const _0x21d5bf=_0x2a7138[_0x5e1fef];_0x1a9b57['hasOwnProp'+'erty'](_0x21d5bf['start'])?_0x1a9b57[_0x21d5bf['start']]['open']===null?_0x1a9b57[_0x21d5bf['start']]['open']=[_0x21d5bf]:_0x1a9b57[_0x21d5bf['start']]['open']['push'](_0x21d5bf):_0x1a9b57[_0x21d5bf['start']]={'open':[_0x21d5bf],'close':null},_0x1a9b57['hasOwnProp'+'erty'](_0x21d5bf['end'])?_0x1a9b57[_0x21d5bf['end']]['close']===null?_0x1a9b57[_0x21d5bf['end']]['close']=[_0x21d5bf]:_0x1a9b57[_0x21d5bf['end']]['close']['push'](_0x21d5bf):_0x1a9b57[_0x21d5bf['end']]={'open':null,'close':[_0x21d5bf]};}let _0x3dd5f0=[];function _0x5a8ec9(_0x151b39){_0x3dd5f0=_0x3dd5f0['filter'](_0x225981=>_0x151b39['find'](_0x4b2283=>_0x4b2283===_0x225981)===void(0xc31*-0x3+-0x199+0x2ba*0xe));}function _0x57e14f(_0x3c77c3){for(let _0x29115b=0x92b*0x1+0x3*-0x84b+0xfb6;_0x29115b<_0x3c77c3['length'];++_0x29115b)_0x3dd5f0['push'](_0x3c77c3[_0x29115b]);}const _0x430f6e=Object['keys'](_0x1a9b57)['sort']((_0x51c213,_0x8ceb41)=>_0x51c213-_0x8ceb41),_0xa75cef=[];for(let _0x3f053b=-0x1ff9+-0x11c7*-0x1+0xe32;_0x3f053b<_0x430f6e['length'];++_0x3f053b){const _0x252085=_0x1a9b57[_0x430f6e[_0x3f053b]];_0x252085['close']!==null&&_0x5a8ec9(_0x252085['close']),_0x252085['open']!==null&&_0x57e14f(_0x252085['open']),_0xa75cef['push']({'start':_0x430f6e[_0x3f053b],'tags':_R(_0x3dd5f0)});}const _0x587fdc=[];let _0x2119a2=null;for(let _0xc1cb1a=0x2ff+-0x8b5+0x5b6;_0xc1cb1a<_0xa75cef['length'];++_0xc1cb1a){const _0xd96dbc=_0xa75cef[_0xc1cb1a];for(;_0x587fdc['length']<_0xd96dbc['start'];)_0x587fdc['push'](_0x2119a2?_0x2119a2['tags']:null);_0x2119a2=_0xd96dbc;}for(;_0x587fdc['length']<_0x414f69;)_0x587fdc['push'](null);return _0x587fdc;}function SR(_0x45b77c){const _0x3a0228=new mR(_0x45b77c),_0x57e539=[],_0x4dde80=[];if(!_0x3a0228['parse'](_0x57e539,_0x4dde80))return console['warn'](_0x3a0228['error']()),{'symbols':_0x45b77c,'tags':null};const _0x1def77=_0x4dde80['find'](_0x44aa60=>_0x44aa60['end']===null);if(_0x1def77)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x1def77['name']+'\x27'),{'symbols':_0x45b77c,'tags':null};const _0x47a767=gR(_0x4dde80,_0x57e539['length']);return{'symbols':_0x57e539,'tags':_0x47a767};}class yR{static['evaluate'](_0x1a6c3c){return SR(_0x1a6c3c);}}class vR{constructor(){this['count']=-0x172*0xf+0x73d+0xe71,this['quad']=0x2342+0x1fb4+-0x42f6,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0xc77d03,_0x22c404){const _0x5f0fa4=new Ge(_0xc77d03);return _0x5f0fa4['setPositio'+'ns'](_0x22c404['positions']),_0x5f0fa4['setNormals'](_0x22c404['normals']),_0x5f0fa4['setColors3'+'2'](_0x22c404['colors']),_0x5f0fa4['setUvs'](0xc7f+-0x1da3+0x1124,_0x22c404['uvs']),_0x5f0fa4['setIndices'](_0x22c404['indices']),_0x5f0fa4['setVertexS'+'tream'](Ko,_0x22c404['outlines'],0x7d2+0x1d37+-0x2*0x1283,void(-0xa7e+0x2*0xefd+-0x1d*0xac),Ve,!(0xb5*0x9+0x4*-0x32f+0x66*0x10)),_0x5f0fa4['setVertexS'+'tream'](Zo,_0x22c404['shadows'],-0x24a9+-0xe*0x1e+-0x4ca*-0x8,void(0x1b3a+-0x9*0x77+-0x11*0x15b),Ve,!(-0x55b+-0xcde+-0x91d*-0x2)),_0x5f0fa4['update'](),_0x5f0fa4;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x5d9334){this['_element']=_0x5d9334,this['_system']=_0x5d9334['system'],this['_entity']=_0x5d9334['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x1d*-0x6a+0x1ca5+-0x28a7*0x1),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(-0xad0+-0x3c4+0x1*0xe95,-0x2626+-0xa*-0x35e+0x25*0x1f,-0x65e*0x1+0xafb*-0x2+0x1c55,-0x147*0x1d+0x16a*-0x5+0x2c1e),this['_colorUnif'+'orm']=new Float32Array(-0x779*-0x2+-0x1*-0x5ea+0x251*-0x9),this['_spacing']=0x2d2+0x26e*-0x4+0x6e7,this['_fontSize']=0x1a55+-0xfb*0xb+-0x15*0xbc,this['_fontMinY']=0xe93*-0x1+0x128a+-0x3f7,this['_fontMaxY']=-0x5*-0x145+0x273*0xb+0x214a*-0x1,this['_originalF'+'ontSize']=0x24*0xcc+-0x2*0xb+-0x51*0x5a,this['_maxFontSi'+'ze']=0x15a9+-0xcfe*-0x1+0x1*-0x2287,this['_minFontSi'+'ze']=-0x13a*0x9+-0x10e8+0x1bfa*0x1,this['_autoFitWi'+'dth']=!(-0x1880+0x224+0x165d),this['_autoFitHe'+'ight']=!(-0x941+-0x2096+-0x67*-0x68),this['_maxLines']=-(-0xb6f+-0xe9f+0x1a0f),this['_lineHeigh'+'t']=-0xeab+-0x2e5*-0x5+0x52,this['_scaledLin'+'eHeight']=-0xaec+0x263*-0xc+-0x27b0*-0x1,this['_wrapLines']=!(0x455*-0x9+-0x1*-0x24c3+0x1*0x23b),this['_drawOrder']=-0x1df1+-0xb0a+0x28fb,this['_alignment']=new J(-0x1*-0x14a4+0x766+-0x4a*0x61+0.5,0x55*0x6d+-0xb*-0x34f+-0x4896+0.5),this['_autoWidth']=!(-0x14*-0x115+-0x123b*-0x1+0x27df*-0x1),this['_autoHeigh'+'t']=!(0x966+-0x9b8*-0x3+0x15*-0x1d6),this['width']=-0x7ca*0x3+0xe*0x3f+0x13ec,this['height']=0x61f*-0x5+-0x9f8+0x2893,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1*-0x162d+0x15c7+0x66),this['_aabb']=new De(),this['_noResize']=!(0x1da2+0x1*0x911+-0x26b2),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x232d+0x251c+-0x4848),this['_unicodeCo'+'nverter']=!(0x618+0xf1+-0x708),this['_rtl']=!(0xb10+0x242d*0x1+-0xbcf*0x4),this['_outlineCo'+'lor']=new ie(0xc03+-0x9b8+0x1*-0x24b,-0x38c*0x4+-0x1b34+0x2964,0x9e5*0x1+0x2ea+-0xccf,-0x44e+0x2*-0x63e+-0x1*-0x10cb),this['_outlineCo'+'lorUniform']=new Float32Array(0xcc2+0x7a*0x4f+0xc99*-0x4),this['_outlineTh'+'icknessSca'+'le']=-0xd71+0x5*-0x373+-0x10*-0x1eb+0.2,this['_outlineTh'+'ickness']=0xbb7*0x2+-0x1*0x22b7+-0x3*-0x3c3,this['_shadowCol'+'or']=new ie(0x1594+0x243b*0x1+0x39cf*-0x1,0x10f*0xd+-0x10d8+0x315,-0x329+-0x3e*-0x17+0x1*-0x269,0x16b3+-0x2*0x83c+-0x63a),this['_shadowCol'+'orUniform']=new Float32Array(0x147d+0x237+-0x10*0x16b),this['_shadowOff'+'setScale']=0x77*0x1f+-0x9*-0x1fb+-0x1*0x203c+0.005,this['_shadowOff'+'set']=new J(0x91+0x765+-0x2*0x3fb,-0x21d8+-0xa3b+0x2c13),this['_shadowOff'+'setUniform']=new Float32Array(0x18ed+-0x146e+-0x47d),this['_enableMar'+'kup']=!(0xd*-0x1b9+0x6c7*0x3+0x211),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5d9334['on']('resize',this['_onParentR'+'esize'],this),_0x5d9334['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5d9334['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5d9334['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5d9334['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x7*-0x2c3+0xf9e+0x1*0x3b7,this['_rangeEnd']=-0xa9c+-0x89f*-0x1+0x1*0x1fd;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x10fe5a,_0x2d0d2f){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x314ddc){_0x314ddc?this['_updateMat'+'erial'](_0x314ddc['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0xc77+0xdf6+0x4*-0x69b));}['_onScreenS'+'paceChange'](_0x42fe80){this['_updateMat'+'erial'](_0x42fe80);}['_onDrawOrd'+'erChange'](_0x440e3e){if(this['_drawOrder']=_0x440e3e,this['_model']){for(let _0x329d6c=0x1de*-0x7+0x12d9+0x11*-0x57,_0x5ba5e8=this['_model']['meshInstan'+'ces']['length'];_0x329d6c<_0x5ba5e8;_0x329d6c++)this['_model']['meshInstan'+'ces'][_0x329d6c]['drawOrder']=_0x440e3e;}}['_onPivotCh'+'ange'](_0x3214a9){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x46c479){if(this['_i18nKey']){if(this['fontAsset']){const _0xf3c57f=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xf3c57f||!_0xf3c57f['resource']||_0xf3c57f['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5e74fc,_0x275bec){this['_i18nKey']&&_0x275bec[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x54eff2){if(this['unicodeCon'+'verter']){const _0x14f186=this['_system']['getUnicode'+'Converter']();_0x14f186?_0x54eff2=_0x14f186(_0x54eff2):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x54eff2&&(this['_font']&&this['_updateTex'+'t'](_0x54eff2),this['_text']=_0x54eff2);}['_updateTex'+'t'](_0x286637){let _0x2e9ab2;if(_0x286637===void(0x1039*-0x1+0x2*0x49a+0x1*0x705)&&(_0x286637=this['_text']),this['_symbols']=Hc['getSymbols'](_0x286637['normalize']?_0x286637['normalize']('NFC'):_0x286637),this['_symbols']['length']===-0x26bf+-0x1cb+0x288a&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x1fec74=yR['evaluate'](this['_symbols']);this['_symbols']=_0x1fec74['symbols'],_0x2e9ab2=_0x1fec74['tags']||[];}if(this['_rtlReorde'+'r']){const _0x37d88c=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x37d88c){const _0x3f136e=_0x37d88c(this['_symbols']);this['_rtl']=_0x3f136e['rtl'],this['_symbols']=_0x3f136e['mapping']['map'](function(_0x3b6e60){return this['_symbols'][_0x3b6e60];},this),_0x2e9ab2&&(_0x2e9ab2=_0x3f136e['mapping']['map'](_0x59bee8=>_0x2e9ab2[_0x59bee8]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x24d2+0x16a*-0x8+-0x3023*-0x1);const _0x426972=(_0x52566e,_0x10edd1)=>_0x52566e['toString'](!(0x61*-0x65+0x1*0x266c+-0xd*0x3))['toLowerCas'+'e']()+':'+_0x10edd1['toFixed'](0x1759+-0x3*-0x274+-0x1d*0x10f),_0xa2043f=(_0x504804,_0x4c8fed)=>_0x504804['toString'](!(-0x7d7+0x1*0x253a+-0x1d63))['toLowerCas'+'e']()+':'+_0x4c8fed['x']['toFixed'](0x551*-0x1+0x2513+-0xfe0*0x2)+':'+_0x4c8fed['y']['toFixed'](0x4*-0x95e+0x219f+-0x149*-0x3);if(_0x2e9ab2){const _0x3a9b28={},_0x4c7fc1={},_0x3ecb3e={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x454*-0x7+0xe42+-0x2b8f)),Math['round'](this['_color']['g']*(0x5f9+0x58f*0x3+0xf1*-0x17)),Math['round'](this['_color']['b']*(-0x60d*-0x4+-0xd85+0x4d8*-0x2))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x2508+-0x3d*0x5+0x1f6*0x14)),Math['round'](this['_outlineCo'+'lor']['g']*(0xeb9+0x1*0x917+0x79b*-0x3)),Math['round'](this['_outlineCo'+'lor']['b']*(-0xf5c+0x8d*0x31+0x551*-0x2)),Math['round'](this['_outlineCo'+'lor']['a']*(0x104*0x1+-0xafc*-0x3+-0x16f*0x17)),Math['round'](this['_outlineTh'+'ickness']*(0xb15+-0x249e+0x1a88))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x2287+0x1*0x1da5+0x5e1)),Math['round'](this['_shadowCol'+'or']['g']*(-0xab5*0x1+-0x1fe8+0x2b9c)),Math['round'](this['_shadowCol'+'or']['b']*(0xc*-0x2bd+-0x7f6+0x29d1)),Math['round'](this['_shadowCol'+'or']['a']*(0x1654+-0x1f25+-0x274*-0x4)),Math['round'](this['_shadowOff'+'set']['x']*(-0x7e7+-0x3*-0x4f2+-0x670)),Math['round'](this['_shadowOff'+'set']['y']*(0xef0+0xdaa+-0x1c1b))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x3a9b28[this['_color']['toString'](!(-0x1fef+-0x19*-0x14+-0x194*-0x13))['toLowerCas'+'e']()]=-0xce*-0x2e+-0x2*-0xa88+0x1d0a*-0x2,_0x4c7fc1[_0x426972(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1*0xe98+0x22b2+-0x314a,_0x3ecb3e[_0xa2043f(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x162f+0x46d*-0x7+0x551*0xa;for(let _0x31733d=0x10c2+0x8*-0x35f+0x2*0x51b,_0x2d545a=this['_symbols']['length'];_0x31733d<_0x2d545a;++_0x31733d){const _0x3c36f3=_0x2e9ab2[_0x31733d];let _0x3dd589=0x39*0x2a+-0x2703+-0x1*-0x1da9;if(_0x3c36f3&&_0x3c36f3['color']&&_0x3c36f3['color']['value']){const _0x2672c2=_0x3c36f3['color']['value'];if(_0x2672c2['length']===0x2*-0xc5e+0x75a*-0x1+-0x201d*-0x1&&_0x2672c2[-0xfb1+-0x18d*0x3+0x1458]==='#'){const _0x21d6ff=_0x2672c2['substring'](-0x203a+-0x9e2+0x2a1d)['toLowerCas'+'e']();_0x3a9b28['hasOwnProp'+'erty'](_0x21d6ff)?_0x3dd589=_0x3a9b28[_0x21d6ff]:/^[0-9a-f]{6}$/['test'](_0x21d6ff)&&(_0x3dd589=this['_colorPale'+'tte']['length']/(0x1*-0x219d+-0xd*0x135+0x3151),_0x3a9b28[_0x21d6ff]=_0x3dd589,this['_colorPale'+'tte']['push'](parseInt(_0x21d6ff['substring'](0x12b0+-0x17b4+-0x6*-0xd6,-0x21*0xd0+0x1925*-0x1+0x33f7),-0x1*0x20d3+0xde+0x7*0x493)),this['_colorPale'+'tte']['push'](parseInt(_0x21d6ff['substring'](-0x51*0x2b+0x1544+-0x7a7,0x4c2+-0x1*-0x2df+-0x79d),-0x1*-0xc2d+-0x1*-0x215e+-0x2d7b)),this['_colorPale'+'tte']['push'](parseInt(_0x21d6ff['substring'](-0xca2+0x22*-0x6c+-0xd7f*-0x2,-0x7*0x334+0x6a4+0xfce),-0x1*0x25ca+0xfe+0x24dc)));}}this['_symbolCol'+'ors']['push'](_0x3dd589);let _0x12b8c2=0x12*0x9f+-0xafb+-0x3*0x11;if(_0x3c36f3&&_0x3c36f3['outline']&&(_0x3c36f3['outline']['attributes']['color']||_0x3c36f3['outline']['attributes']['thickness'])){let _0x94d8bb=_0x3c36f3['outline']['attributes']['color']?Kg['fromString'](_0x3c36f3['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x52e803=Number(_0x3c36f3['outline']['attributes']['thickness']);(Number['isNaN'](_0x94d8bb['r'])||Number['isNaN'](_0x94d8bb['g'])||Number['isNaN'](_0x94d8bb['b'])||Number['isNaN'](_0x94d8bb['a']))&&(_0x94d8bb=this['_outlineCo'+'lor']),Number['isNaN'](_0x52e803)&&(_0x52e803=this['_outlineTh'+'ickness']);const _0x5df118=_0x426972(_0x94d8bb,_0x52e803);_0x4c7fc1['hasOwnProp'+'erty'](_0x5df118)?_0x12b8c2=_0x4c7fc1[_0x5df118]:(_0x12b8c2=this['_outlinePa'+'lette']['length']/(0xe*-0x260+0x5*-0x5ea+0x3ed7),_0x4c7fc1[_0x5df118]=_0x12b8c2,this['_outlinePa'+'lette']['push'](Math['round'](_0x94d8bb['r']*(-0x1b51+0x21a4+-0x2aa*0x2)),Math['round'](_0x94d8bb['g']*(0x2*0xc11+0x45d*0x2+-0x1fdd)),Math['round'](_0x94d8bb['b']*(0x2*-0x71+0x151*0x17+0xa*-0x2d7)),Math['round'](_0x94d8bb['a']*(-0x124c+0x14b5+-0x16a)),Math['round'](_0x52e803*(0x31*-0x8b+-0x19ef+0x3589))));}this['_symbolOut'+'lineParams']['push'](_0x12b8c2);let _0x23e392=-0xce6+0x11f4+-0x50e;if(_0x3c36f3&&_0x3c36f3['shadow']&&(_0x3c36f3['shadow']['attributes']['color']||_0x3c36f3['shadow']['attributes']['offset']||_0x3c36f3['shadow']['attributes']['offsetX']||_0x3c36f3['shadow']['attributes']['offsetY'])){let _0x243bc6=_0x3c36f3['shadow']['attributes']['color']?Kg['fromString'](_0x3c36f3['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x2e8c88=Number(_0x3c36f3['shadow']['attributes']['offset']),_0x2f335c=Number(_0x3c36f3['shadow']['attributes']['offsetX']),_0x3f7bd6=Number(_0x3c36f3['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x243bc6['r'])||Number['isNaN'](_0x243bc6['g'])||Number['isNaN'](_0x243bc6['b'])||Number['isNaN'](_0x243bc6['a']))&&(_0x243bc6=this['_shadowCol'+'or']);const _0x450cbf=CR['set'](Number['isNaN'](_0x2f335c)?Number['isNaN'](_0x2e8c88)?this['_shadowOff'+'set']['x']:_0x2e8c88:_0x2f335c,Number['isNaN'](_0x3f7bd6)?Number['isNaN'](_0x2e8c88)?this['_shadowOff'+'set']['y']:_0x2e8c88:_0x3f7bd6),_0x30b9f9=_0xa2043f(_0x243bc6,_0x450cbf);_0x3ecb3e['hasOwnProp'+'erty'](_0x30b9f9)?_0x23e392=_0x3ecb3e[_0x30b9f9]:(_0x23e392=this['_shadowPal'+'ette']['length']/(0x1*0x15da+-0x1*0x2687+-0x3*-0x591),_0x3ecb3e[_0x30b9f9]=_0x23e392,this['_shadowPal'+'ette']['push'](Math['round'](_0x243bc6['r']*(0x1dbe+0xc12+-0x1b*0x183)),Math['round'](_0x243bc6['g']*(-0x2501+0xf12*0x1+0x16ee)),Math['round'](_0x243bc6['b']*(0x269f+-0x19d9+-0xbc7)),Math['round'](_0x243bc6['a']*(0x1285+0x2*-0x132f+0x14d8)),Math['round'](_0x450cbf['x']*(0x314*0x1+-0x265e+0x23c9)),Math['round'](_0x450cbf['y']*(0x12b9*0x1+0xa*-0x248+-0x496*-0x1))));}this['_symbolSha'+'dowParams']['push'](_0x23e392);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x33024e=this['_calculate'+'CharsPerTe'+'xture']();let _0x11c03b=!(0xc2*-0x5+0x4e6+-0x11b);const _0x5683fb=this['_element'],_0x74ba1d=_0x5683fb['_isScreenS'+'pace'](),_0x552f0e=_0x5683fb['_isScreenC'+'ulled'](),_0x2e0aaa=function(_0x4583e4){return _0x5683fb['isVisibleF'+'orCamera'](_0x4583e4);};for(let _0x145edf=-0xf54+-0x15d0+0x1292*0x2,_0x4c0a27=this['_meshInfo']['length'];_0x145edf<_0x4c0a27;_0x145edf++){const _0x19f432=_0x33024e[_0x145edf]||-0x333*0x1+0x16f6+0x13c3*-0x1,_0x407d62=this['_meshInfo'][_0x145edf];if(_0x407d62['count']!==_0x19f432){if(_0x11c03b||(_0x5683fb['removeMode'+'lFromLayer'+'s'](this['_model']),_0x11c03b=!(-0x5f*0x56+0x142+0x1ea8)),_0x407d62['count']=_0x19f432,_0x407d62['positions']['length']=_0x407d62['normals']['length']=_0x19f432*(0x1241*-0x1+0x303+0x47*0x37)*(0x22fc+-0x71f*0x5+-0xa3*-0x1),_0x407d62['indices']['length']=_0x19f432*(-0x7df*0x4+0xd9f+0x11e0)*(0x13fb+0xd33+-0x212c),_0x407d62['uvs']['length']=_0x19f432*(0x1*-0x573+-0xb6a+-0x269*-0x7)*(0x1868+0xeb6+-0x271a),_0x407d62['colors']['length']=_0x19f432*(0x342*-0x2+0x1*-0xdf3+-0x7*-0x2ed)*(0xb1*0x13+-0x2077+-0x2*-0x9ac),_0x407d62['outlines']['length']=_0x19f432*(-0x1*-0xaab+-0xa17+-0x90)*(-0x5*0x27d+-0x1144+0x1db8),_0x407d62['shadows']['length']=_0x19f432*(0x4*0x48c+0xdd*0x2a+0x1*-0x366e)*(-0xa7d*0x1+-0x1*-0xe96+-0x416),_0x407d62['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x407d62['meshInstan'+'ce']),_0x19f432===-0x110d+-0x1321*-0x1+-0x214*0x1){_0x407d62['meshInstan'+'ce']=null;continue;}for(let _0x26ae9c=-0x1fe9+0x266e+-0x685;_0x26ae9c<_0x19f432;_0x26ae9c++)_0x407d62['indices'][_0x26ae9c*(0x74c+0x11*0xf1+0xb*-0x21e)*(0xee2+0x20b7+0x5d*-0x83)+(-0x1841*-0x1+-0xe04+-0xa3d)]=_0x26ae9c*(0x201b*0x1+0x16f*-0x13+-0x4da),_0x407d62['indices'][_0x26ae9c*(-0x617*0x4+-0x197f+-0x3d6*-0xd)*(-0x5a7*0x5+0x179d+0x1*0x4a8)+(0x3*-0x443+0x11*0x65+-0xad*-0x9)]=_0x26ae9c*(-0x1ff6+-0x679+0x2673)+(-0xa99+0x1*0x1511+-0xa77),_0x407d62['indices'][_0x26ae9c*(-0x1d*-0x100+-0xf*0x22d+0x1d3*0x2)*(0xba1*-0x3+0xe68+0x147d)+(-0x1f61+-0x526+0x2489)]=_0x26ae9c*(0x1*-0x1b03+-0x4*-0x49+-0x8d*-0x2f)+(-0x18a*0x1+0x1d3e+-0x1bb1),_0x407d62['indices'][_0x26ae9c*(0xb6e+-0x24e5*-0x1+-0x3050)*(-0x1*-0x1ecd+0x58f+-0x245a)+(-0x3*-0xb67+0xd*0xbe+-0x2bd8)]=_0x26ae9c*(-0xf*0x1a1+0x18*-0x53+-0x25*-0xdf)+(0x8*-0x29a+0x2a2*0x7+-0x24*-0x11),_0x407d62['indices'][_0x26ae9c*(0xf3f+-0x1c8f+0xd53)*(-0x1a93*-0x1+-0x21c7+-0x39b*-0x2)+(0x180*-0x15+0x15da+0x9aa)]=_0x26ae9c*(0xc62+-0x143*0x3+0xa9*-0xd)+(-0x45c+0x2*-0x7a+0x553),_0x407d62['indices'][_0x26ae9c*(-0x2698+-0x190*-0x10+0x2b*0x51)*(0x1*-0x6aa+0x19f4+-0x8*0x269)+(0x1ba5+-0xa31*0x3+0x2f3)]=_0x26ae9c*(-0x10*0x21b+-0x1a6+-0x389*-0xa)+(0xa1*0x15+0x50a+0x91f*-0x2),_0x407d62['normals'][_0x26ae9c*(-0xf*0x6f+-0x14e7+0x1b6c)*(-0x161e+0x11c6+0x45b)+(-0x1b7c+0x69c*-0x3+0x2f50)]=-0x393*-0x5+-0x1*-0xef4+-0x20d3,_0x407d62['normals'][_0x26ae9c*(0x13c6*-0x1+-0x1dff+0x31c9)*(-0x5af+0x268d+-0x1*0x20db)+(0xe76+-0x6ab+-0x7ca)]=0x1*-0xcfb+-0xc9+0x2*0x6e2,_0x407d62['normals'][_0x26ae9c*(0x2147+0x179*0x1+-0x1ee*0x12)*(-0x988+-0x2f9*0x8+0x2153)+(-0x18b5+-0x565*-0x6+-0x7a7)]=-(0x1591+0x1ce8+-0x3278),_0x407d62['normals'][_0x26ae9c*(-0xc16*-0x3+0x2*0x7b+-0x2534)*(0x1cab+-0xb*-0x2f5+0x2a9*-0x17)+(0x421+0x7*0x54d+-0x2939)]=-0x4*-0x896+0x18+-0x2270,_0x407d62['normals'][_0x26ae9c*(-0x52*0x73+0x422*-0x3+0x4*0xc50)*(-0x1*-0x156b+-0x1*-0x1479+0x29e1*-0x1)+(0x152*0x4+-0x52f+-0x15)]=-0x812*-0x2+-0xcd8+0x4*-0xd3,_0x407d62['normals'][_0x26ae9c*(-0x52*-0x1d+0x70f+-0x1055*0x1)*(-0x1*-0x1759+0x1e91*-0x1+0x269*0x3)+(0x1f5*0xb+-0x2042+-0xac*-0x10)]=-(-0x2*0x11d9+0x17*0x187+0x92),_0x407d62['normals'][_0x26ae9c*(0x5*-0x36d+0x1e08+-0x1*0xce3)*(0xad8+0xbca+-0x169f)+(0x1674+-0x1*-0x1c8b+-0x32f9)]=0x1f66+-0xbb+-0xa39*0x3,_0x407d62['normals'][_0x26ae9c*(-0x132d*-0x1+-0x4e4+0x1*-0xe45)*(-0x1e5f+0x2390+-0x1a*0x33)+(-0xaf7+0x1*-0x67f+0x197*0xb)]=-0xca+-0x1192+0x32*0x5e,_0x407d62['normals'][_0x26ae9c*(-0x2537+0x1144+-0x1*-0x13f7)*(0x7*-0x3c5+0x1214+0x47*0x1e)+(0x15e5+-0x1*-0x179f+-0x2d7c)]=-(0x926+0x244a+0x2d6f*-0x1),_0x407d62['normals'][_0x26ae9c*(0x2*0xe26+-0x2629*-0x1+-0x4271)*(0x9fa*0x2+0x2606+-0x39f7)+(-0x3*-0x67a+0x1fa2+-0x3307)]=0x1190+-0x1*0x10c3+-0xcd,_0x407d62['normals'][_0x26ae9c*(-0x1*-0xede+0x1588+-0x2462)*(-0x1e4d+-0x15a7+-0xfb*-0x35)+(-0x12d9+-0x1*-0x24d3+-0x11f0)]=-0x50b*-0x1+-0x1e45*-0x1+-0x2350,_0x407d62['normals'][_0x26ae9c*(-0x229e+0x1483*-0x1+0x3725)*(-0x2e8+-0x2*-0x74b+0x1*-0xbab)+(-0x2a5*0xd+0x617+0x1*0x1c55)]=-(-0xfb2+0x2*-0x17f+0x37*0x57);const _0x55515c=xR(this['_system']['app']['graphicsDe'+'vice'],_0x407d62),_0x822a16=new He(_0x55515c,this['_material'],this['_node']);if(_0x822a16['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x822a16['castShadow']=!(-0x539+0x1*0xf86+-0xa4c),_0x822a16['receiveSha'+'dow']=!(0x655+0x4bc*-0x1+-0x198),_0x822a16['cull']=!_0x74ba1d,_0x822a16['screenSpac'+'e']=_0x74ba1d,_0x822a16['drawOrder']=this['_drawOrder'],_0x552f0e&&(_0x822a16['cull']=!(-0x25de+-0xea1+0x347f),_0x822a16['isVisibleF'+'unc']=_0x2e0aaa),this['_setTextur'+'eParams'](_0x822a16,this['_font']['textures'][_0x145edf]),_0x822a16['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x822a16['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x822a16['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x822a16['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x822a16['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x145edf]['width']),_0x822a16['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x822a16['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x822a16['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0xad5+0x5*0x653+-0x2a74]=0xf91+0x2bd+0xb*-0x1aa,this['_shadowOff'+'setUniform'][0x490+0x5fc+-0xa8b]=0xfea+-0x1*-0x1c6f+-0x2c59;else{const _0x572224=-this['_font']['data']['info']['maps'][_0x145edf]['width']/this['_font']['data']['info']['maps'][_0x145edf]['height'];this['_shadowOff'+'setUniform'][-0x1c2a+-0x4f4*0x3+-0x1583*-0x2]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x326+-0x1cfc+0x3b1*0x7]=_0x572224*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x822a16['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x407d62['meshInstan'+'ce']=_0x822a16,this['_model']['meshInstan'+'ces']['push'](_0x822a16);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x11c03b&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x12b3+-0x214f+0xe9c,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x13da35){_0x13da35['destroy']();const _0x369f2f=this['_model']['meshInstan'+'ces']['indexOf'](_0x13da35);_0x369f2f!==-(0x29a+-0x1828+0x158f)&&this['_model']['meshInstan'+'ces']['splice'](_0x369f2f,0xd*0x281+-0x2d7*0x5+-0x1259);}['_setMateri'+'al'](_0x3e4277){if(this['_material']=_0x3e4277,this['_model'])for(let _0x4a6545=0x244+-0x379*0xa+0xa*0x33f,_0x3ff6e5=this['_model']['meshInstan'+'ces']['length'];_0x4a6545<_0x3ff6e5;_0x4a6545++){const _0x54c695=this['_model']['meshInstan'+'ces'][_0x4a6545];_0x54c695['material']=_0x3e4277;}}['_updateMat'+'erial'](_0x5eb552){const _0x458e83=this['_element'],_0x49c120=_0x458e83['_isScreenC'+'ulled'](),_0x5cad81=function(_0x370958){return _0x458e83['isVisibleF'+'orCamera'](_0x370958);},_0x542cf3=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x5eb552,_0x542cf3,this['_enableMar'+'kup']),this['_model'])for(let _0x57b3c5=0x114e+-0x1*0x8+-0x1146,_0x24e311=this['_model']['meshInstan'+'ces']['length'];_0x57b3c5<_0x24e311;_0x57b3c5++){const _0x1fb6c6=this['_model']['meshInstan'+'ces'][_0x57b3c5];_0x1fb6c6['cull']=!_0x5eb552,_0x1fb6c6['material']=this['_material'],_0x1fb6c6['screenSpac'+'e']=_0x5eb552,_0x49c120?(_0x1fb6c6['cull']=!(0x785+-0x22f5+0x1b70),_0x1fb6c6['isVisibleF'+'unc']=_0x5cad81):_0x1fb6c6['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1837*0x1+0x1852+-0x3089]=0x26a5+-0x86+-0x261e,this['_colorUnif'+'orm'][0x332+0x634+-0x965]=-0x86a+0x6da+0x191,this['_colorUnif'+'orm'][-0x2*0x26f+0x1642+0x2*-0x8b1]=0x1*-0x259a+-0x19ff+0x3f9a*0x1):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x156*-0x1d+-0x4*0x526+0x5ef*0xa]=We['r'],this['_colorUnif'+'orm'][0x22dd+-0x12*0x49+0x1dba*-0x1]=We['g'],this['_colorUnif'+'orm'][-0x49*0x3b+0x199b+0x1*-0x8c6]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1193+-0x1e0d+0xc*0x3f8]=0xc5*0x8+-0x1bc9+0x15a1,this['_outlineCo'+'lorUniform'][0x7f7*0x1+0x1fc7+-0xd3f*0x3]=-0x1*0x1cc9+-0x49*0x61+0x3872,this['_outlineCo'+'lorUniform'][-0x1927+0x93*-0x25+0x2e68]=0x3c7+-0x833*0x3+0x82*0x29,this['_outlineCo'+'lorUniform'][-0x14*0x1e7+-0x3a1*0x7+-0x1fbb*-0x2]=0x397*0x5+0x1d3d+-0x101*0x2f):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x7c5+-0x565+-0x151*-0xa]=We['r'],this['_outlineCo'+'lorUniform'][-0xc47*-0x1+-0x46c+-0x3ed*0x2]=We['g'],this['_outlineCo'+'lorUniform'][0x17*0xe1+0x259e+-0x39d3]=We['b'],this['_outlineCo'+'lorUniform'][-0xfa2+0x3*0x613+-0x294]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x82b+0x21ff+-0x19d4]=0x2510+-0x1fb2+0x2*-0x2af,this['_shadowCol'+'orUniform'][-0x207+-0xb35*-0x2+-0x1462]=0x2644+-0x2*0x107+-0xf*0x26a,this['_shadowCol'+'orUniform'][0x1050+-0x5*0x5c6+0x30*0x43]=-0x1*-0x1e35+-0x1df6+-0x3f,this['_shadowCol'+'orUniform'][0x1511+-0x1751*-0x1+-0x2c5f]=0x113e*-0x1+0x1fd*-0x11+0x330b):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x97*0x8+-0x2175+-0x1d*-0x151]=We['r'],this['_shadowCol'+'orUniform'][0x1*0x21fa+-0x237+-0x1fc2]=We['g'],this['_shadowCol'+'orUniform'][0x29f*0x8+0x35d+-0x1853]=We['b'],this['_shadowCol'+'orUniform'][-0x221e+-0xa49*0x1+-0x2f6*-0xf]=We['a']);}['_isWordBou'+'ndary'](_0x483b3d){return jg['test'](_0x483b3d);}['_isValidNe'+'xtChar'](_0x440f83){return _0x440f83!==null&&!ER['test'](_0x440f83);}['_isNextCJK'+'Boundary'](_0x33bf38,_0x37bcdb){return Yg['test'](_0x33bf38)&&(jg['test'](_0x37bcdb)||wR['test'](_0x37bcdb));}['_isNextCJK'+'WholeWord'](_0x21a000){return Yg['test'](_0x21a000);}['_updateMes'+'hes'](){const _0x15fadc=this['_font']['data'],_0x328c85=this,_0x19b206=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x34290c=this['_maxFontSi'+'ze'],_0xe4dec4=this['_shouldAut'+'oFit']();_0xe4dec4&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x54bf10=-0x74*0x5+0x1818+0x56d*-0x4,_0x1786a0=this['_symbols']['length'];let _0x4cd508=-0x5e7+-0xc+0x5f3*0x1,_0x29dcb7=0x2*-0x99e+0x18e5+-0x5a9,_0x349e99=0x2*-0x1232+-0x2534+0x1*0x4998,_0x382d07=-0x55*0x3b+-0xca4*-0x2+-0x5b1,_0x4fde3b=-0xcee+-0x1c12+-0xdab*-0x3,_0x4ecdec=0x131c+0x3b6*0x3+0x1e3e*-0x1,_0x4a86fc=-0x16ec+0x19de+-0x2f2*0x1,_0x49332e=0xab*-0xb+0x26db+-0x1f82,_0x5d9519=0x6*-0x325+-0x2e*0x3e+-0xf01*-0x2,_0x1c0956=-0x177a+-0x192d+0x30a7,_0x2e0ec1=-0x25f2+0x9d0+0x22a*0xd;const _0x57de2f=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x2ba+-0x8f+-0x349*-0x1+0.0001;let _0x247d8c=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x57de2f||!this['_wrapLines'])&&(_0x247d8c=Number['POSITIVE_I'+'NFINITY']);let _0x5b96db=0x632*-0x6+-0x19b+0x26c7,_0x3ba5e8=0x1f6*0x1+-0x98f+0x5*0x185,_0x15af8c,_0x234fa5,_0x3cca1f,_0x5e116f;function _0x403d39(_0x5e1d1e,_0x5ea617,_0x52677a){_0x328c85['_lineWidth'+'s']['push'](Math['abs'](_0x52677a));const _0x8fcb4=_0x49332e>_0x5ea617?_0x5ea617+(-0x1b*0xd+-0x2e7*-0x7+-0x12f1):_0x49332e,_0x515e82=_0x49332e>_0x5ea617?_0x49332e+(0x68b+0x104b*0x1+0x1*-0x16d5):_0x5ea617,_0x248bfb=_0x5e1d1e['slice'](_0x8fcb4,_0x515e82);if(_0x2e0ec1){let _0x19fe43=_0x248bfb['length'];for(;_0x19fe43--&&_0x2e0ec1>-0x3a7+-0x7*0x121+-0x66*-0x1d;)qg['test'](_0x248bfb[_0x19fe43])&&(_0x248bfb['splice'](_0x19fe43,-0x2f1*0x1+-0xf76+0x1*0x1268),_0x2e0ec1--);}_0x328c85['_lineConte'+'nts']['push'](_0x248bfb['join']('')),_0x4cd508=-0x35e+-0x11*-0xce+-0xa50,_0x29dcb7-=_0x328c85['_scaledLin'+'eHeight'],_0x4fde3b++,_0x5d9519=0x15b2*-0x1+0x21c6+0x2*-0x60a,_0x1c0956=-0xf44+-0x41*0x23+-0x80d*-0x3,_0x2e0ec1=-0x898+-0x25ed+0x2e85,_0x4ecdec=-0x4*-0x4ff+-0x16f*-0x11+0x5*-0x8df,_0x49332e=_0x5ea617;}let _0x272c45=!(0x1*0x1c21+0x14*0x92+-0x2789);for(;_0x272c45;){_0x272c45=!(0x1*-0xbaa+-0x215*-0x5+0x142),_0xe4dec4?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1b35+0x1*-0x159d+-0x823*-0x6+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x35*-0x5e+-0x1f77+0x32ed,this['height']=0x13*0x37+0x175*0xc+-0x1591,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x4cd508=0x1465+0x25*-0x94+0xff,_0x29dcb7=-0x1bc1+0x45d*0x1+0xbb2*0x2,_0x349e99=-0x12*-0x1b+0x6e9*0x1+-0x8cf,_0x382d07=-0x1107*-0x1+-0x13d*-0x5+-0x8*0x2e7,_0x4fde3b=-0x26af+-0xba2+0x153*0x26,_0x4ecdec=0x60d*0x1+0x13c1+-0x19ce,_0x4a86fc=-0x3*-0x33f+-0xfd9+-0x5c*-0x11,_0x49332e=-0xccf*0x1+0x1e07+-0x1138,_0x5d9519=-0x5*-0x6f7+0x9d0+-0x2ca3,_0x1c0956=0x7a6+-0x1e77+-0x213*-0xb,_0x2e0ec1=-0x60a*0x1+-0x183*-0xe+-0xf20;const _0x397273=this['_fontSize']/_0x54bf10;_0x5b96db=this['_fontMinY']*_0x397273,_0x3ba5e8=this['_fontMaxY']*_0x397273;for(let _0x1805a5=0x42b*-0x5+0x781+0xd56;_0x1805a5<this['_meshInfo']['length'];_0x1805a5++)this['_meshInfo'][_0x1805a5]['quad']=0x60d+0xe3*0x2b+0x1b3*-0x1a,this['_meshInfo'][_0x1805a5]['lines']={};let _0xb31d6f=0x23b1+0x3b*-0x6d+-0x993,_0x1de6ba=0x2f*0x40+-0x24*0x4b+0x35*-0x1,_0x1da031=0xcb*0x11+-0xe71+-0x1*-0x1f5,_0x1a8bd8=-0xeec*0x1+-0x24b9+0x3*0x118c+(0x7f1+0x1299+-0x198b)*(-0x5e*-0x43+-0x15dd+0x5*-0x59),_0x467a47=-0x3cd+0x43*0x86+-0x1e46+(0x1*-0x193b+-0x1*0x133f+0x2d79)*(0x3*0x627+-0x4f*0x6e+-0x107d*-0x1),_0x26031f=0x1*-0x6f+-0x1c8a+-0x1*-0x1cf9,_0x3e26f0=-0x1*-0x1273+-0x1*-0x1c95+0x1*-0x2e09+(0xac9+0x97a*0x1+-0x66c*0x3)*(0xa90*-0x1+0x4ee+0x6a2),_0x4f25ff=-0x19d1+-0x5b2+-0x56b*-0x6+(-0x18cf+-0x1*-0x18fd+0xd1)*(0xbf*0x13+-0x1282*-0x2+-0x10bb*0x3),_0x165941=-0x1d51+0xe02+0xfce+(-0x17*-0xcb+0x3a3+-0x1561*0x1)*(0x9*-0x291+0x1*0x148f+0x38a);for(let _0xe32086=0xe*-0x171+0x18e*-0x7+-0x7*-0x470;_0xe32086<_0x1786a0;_0xe32086++){if(_0x15af8c=this['_symbols'][_0xe32086],_0x5e116f=_0xe32086+(-0x24ad+-0x1127+0x1*0x35d5)>=_0x1786a0?null:this['_symbols'][_0xe32086+(0x1e94+0xedf+-0x2d72)],qg['test'](_0x15af8c)){_0x2e0ec1++,(!this['_wrapLines']||this['_maxLines']<0x10e1+-0x1*-0x15d0+-0x26b1||_0x4fde3b<this['_maxLines'])&&(_0x403d39(this['_symbols'],_0xe32086,_0x382d07),_0x4a86fc=_0xe32086+(-0x1746+0x264d+-0xf06*0x1),_0x49332e=_0xe32086+(0x11*0x14b+0x88b+-0x1e85));continue;}let _0x3d6de8=-0x1722+0x17*0xd3+0x42d,_0x59f60b=-0x1555+-0x1abd+0x3012,_0x160f2b=-0xfcc+-0x783*0x4+0x7a4*0x6,_0x2942a9=-0x8b*-0x3c+-0xb5*-0x2+-0x21fd,_0x25371c,_0x361a3c;if(_0x234fa5=_0x15fadc['chars'][_0x15af8c],!_0x234fa5){if(bR['indexOf'](_0x15af8c)!==-(-0x234f+0x136b+-0x139*-0xd))_0x234fa5=AR;else{if(_0x15fadc['chars']['\x20'])_0x234fa5=_0x15fadc['chars']['\x20'];else for(const _0xfe76c in _0x15fadc['chars']){_0x234fa5=_0x15fadc['chars'][_0xfe76c];break;}_0x15fadc['missingCha'+'rs']||(_0x15fadc['missingCha'+'rs']=new Set()),_0x15fadc['missingCha'+'rs']['has'](_0x15af8c)||(console['warn']('Character\x20'+'\x27'+_0x15af8c+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x15fadc['info']['face']),_0x15fadc['missingCha'+'rs']['add'](_0x15af8c));}}if(_0x234fa5){let _0x290f87=-0x994+0xe52*-0x2+-0x98e*-0x4;if(_0x1c0956>-0x7c*-0x21+-0x15ee+0x5f2){const _0x1e9574=this['_font']['data']['kerning'];if(_0x1e9574){const _0x336ce1=_0x1e9574[Hc['getCodePoi'+'nt'](this['_symbols'][_0xe32086-(-0x14a+0x2fb+-0x1b0)])||-0x16ad+0x2480+-0xdd3];_0x336ce1&&(_0x290f87=_0x336ce1[Hc['getCodePoi'+'nt'](this['_symbols'][_0xe32086])||-0xeb6+-0x6a6+0x155c]||0x12ad+0x17b1+-0x2a5e);}}_0x25371c=_0x234fa5['scale']||-0x813+0xcaa*0x1+-0x496,_0x361a3c=(_0x234fa5['width']+_0x234fa5['height'])/(0x411*-0x7+0x3*0x92b+0xf8),_0x2942a9=_0x397273*_0x361a3c/_0x25371c,_0x160f2b=(_0x234fa5['xadvance']+_0x290f87)*_0x397273,_0x3d6de8=(_0x234fa5['xoffset']-_0x290f87)*_0x397273,_0x59f60b=_0x234fa5['yoffset']*_0x397273;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x15af8c+'\x27');const _0xe1c67a=TR['test'](_0x15af8c),_0x51ab91=_0x234fa5&&_0x234fa5['map']||0x17c+-0x25*0xed+-0x20c5*-0x1,_0x2ccbab=-this['_font']['data']['info']['maps'][_0x51ab91]['width']/this['_font']['data']['info']['maps'][_0x51ab91]['height'],_0x50b360=this['_meshInfo'][_0x51ab91],_0x5050b9=_0x4cd508+this['_spacing']*_0x160f2b;if(_0x5050b9>_0x247d8c&&_0x1c0956>-0xab*-0x15+-0x121f+0x4*0x106&&!_0xe1c67a&&(this['_maxLines']<-0x26c0+0x3*-0x3a1+-0x83*-0x61||_0x4fde3b<this['_maxLines'])){if(_0x5d9519===-0x1*0x121f+-0x9*-0x167+-0x20*-0x2c)_0x4a86fc=_0xe32086,_0x403d39(this['_symbols'],_0xe32086,_0x382d07);else{const _0x365aab=Math['max'](_0xe32086-_0x4a86fc,0x13c1+0x149a+-0x285b);if(this['_meshInfo']['length']<=-0x3*-0xa22+0xf09+0x1*-0x2d6e)_0x50b360['lines'][_0x4fde3b-(-0xee0+0x904+0x4f*0x13)]-=_0x365aab,_0x50b360['quad']-=_0x365aab;else{const _0x543562=_0x4a86fc,_0x44ddc0=_0xe32086;for(let _0x54e883=_0x543562;_0x54e883<_0x44ddc0;_0x54e883++){const _0x2592cb=this['_symbols'][_0x54e883],_0x27b832=_0x15fadc['chars'][_0x2592cb],_0x1003a5=this['_meshInfo'][_0x27b832&&_0x27b832['map']||0xa4f+-0x1e5e*0x1+0x4f*0x41];_0x1003a5['lines'][_0x4fde3b-(0x2c3*-0x8+-0x1be6+0x31ff*0x1)]-=0x425*0x5+0x1138+-0x25f0,_0x1003a5['quad']-=-0x3b5+-0x4*0x152+0x8fe*0x1;}}_0xe32086-=_0x365aab+(-0xa67+-0x517*0x4+0x1ec4),_0x403d39(this['_symbols'],_0x4a86fc,_0x4ecdec);continue;}}_0x3cca1f=_0x50b360['quad'],_0x50b360['lines'][_0x4fde3b-(-0x428+-0x52*0x63+0xbf5*0x3)]=_0x3cca1f;let _0x359dee=_0x4cd508-_0x3d6de8,_0x4af75=_0x359dee+_0x2942a9;const _0x8a0cd4=_0x29dcb7-_0x59f60b,_0x413e19=_0x8a0cd4+_0x2942a9;if(this['_rtl']){const _0x36d221=_0x2942a9-_0x3d6de8-this['_spacing']*_0x160f2b-_0x3d6de8;_0x359dee-=_0x36d221,_0x4af75-=_0x36d221;}_0x50b360['positions'][_0x3cca1f*(0x1048+-0x2563*0x1+-0x151f*-0x1)*(-0xd43+0xf0+0xc56)+(0x11b*-0x23+0xb5d+0xb*0x27c)]=_0x359dee,_0x50b360['positions'][_0x3cca1f*(0x1afe+-0x3*0xa47+-0x7*-0x8d)*(-0x6f+0x3*-0x577+0x10d7)+(0x23d3+-0x9bb+-0x1a17)]=_0x8a0cd4,_0x50b360['positions'][_0x3cca1f*(0x10fc+0x238a*-0x1+0x1292)*(0x1e8e+-0x21*0x3b+0x4*-0x5bc)+(-0xb11*-0x1+0x47*0x3+-0xbe4)]=_0x349e99,_0x50b360['positions'][_0x3cca1f*(-0x2a*-0xd+0x142d*-0x1+-0x3*-0x605)*(-0x18a5+0x1*0x16d7+0x1d1)+(0x1a6a+0x1319+-0x2d80)]=_0x4af75,_0x50b360['positions'][_0x3cca1f*(0x1035+-0x1031+0x0)*(-0x1*0xd83+0x57d*0x7+-0x1*0x18e5)+(0x1*0x16f7+-0x2*0x2c5+-0x1169)]=_0x8a0cd4,_0x50b360['positions'][_0x3cca1f*(-0x1307+-0x3*-0x3f5+0x6c*0x11)*(0x1fc4+-0x1*0xac9+-0x14f8)+(-0x1015+0xd61*0x1+0x2b9)]=_0x349e99,_0x50b360['positions'][_0x3cca1f*(0x3f*-0x43+0x1*0xbfa+0x487)*(0x1f84*-0x1+-0x121b+0x31a2)+(-0x12e0*0x1+0x5*-0x56d+0x2e07)]=_0x4af75,_0x50b360['positions'][_0x3cca1f*(-0xb86+0xa*-0x13a+-0xbe7*-0x2)*(0xc0a+-0x1aa7+0x10*0xea)+(-0x8*0x31d+0xb1e+0x1b*0x83)]=_0x413e19,_0x50b360['positions'][_0x3cca1f*(0x13e6+0x1d6a+0x2*-0x18a6)*(-0x169a+0x6*-0x175+0x1f5b)+(0x362*0x2+-0x1ec3+0x1807*0x1)]=_0x349e99,_0x50b360['positions'][_0x3cca1f*(-0x6*0x41c+-0xd21*-0x1+-0x5*-0x24f)*(-0x21e0+0x1*0x17c5+-0xa1e*-0x1)+(0x2353*-0x1+0x18*0x112+0x9ac)]=_0x359dee,_0x50b360['positions'][_0x3cca1f*(-0x10e4+-0xd01+-0x1*-0x1de9)*(0x1*0x19dd+0x70c*0x2+-0x1*0x27f2)+(0x2136+0x9a5+-0x1*0x2ad1)]=_0x413e19,_0x50b360['positions'][_0x3cca1f*(-0xdb1+0x674*0x4+-0xc1b*0x1)*(0x22f2+-0x38b*-0x6+0x807*-0x7)+(0x8a2+0x1131+-0x258*0xb)]=_0x349e99,this['width']=Math['max'](this['width'],_0x5050b9);let _0x35ad91;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x35ad91=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0xc75+-0x64c+-0x629+0.0001)),_0x35ad91=Y['clamp'](_0x35ad91,_0x19b206,_0x34290c),_0x35ad91!==this['_element']['fontSize'])){this['_fontSize']=_0x35ad91,_0x272c45=!(0x1*-0x22f+-0x99a+0xbc9);break;}if(this['height']=Math['max'](this['height'],_0x3ba5e8-(_0x29dcb7+_0x5b96db)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x35ad91=Y['clamp'](this['_fontSize']-(0x1a25+0x1b5+0x1*-0x1bd9),_0x19b206,_0x34290c),_0x35ad91!==this['_element']['fontSize'])){this['_fontSize']=_0x35ad91,_0x272c45=!(-0x266d+0x424+0x2249);break;}_0x4cd508+=this['_spacing']*_0x160f2b,_0xe1c67a||(_0x382d07=_0x4cd508),(this['_isWordBou'+'ndary'](_0x15af8c)||this['_isValidNe'+'xtChar'](_0x5e116f)&&(this['_isNextCJK'+'Boundary'](_0x15af8c,_0x5e116f)||this['_isNextCJK'+'WholeWord'](_0x5e116f)))&&(_0x5d9519++,_0x4ecdec=_0x382d07,_0x4a86fc=_0xe32086+(-0xbfd+0x21ba+-0x15bc)),_0x1c0956++;const _0x2e45c4=this['_getUv'](_0x15af8c);if(_0x50b360['uvs'][_0x3cca1f*(0x1ef8+-0xd*0x43+-0x1b8d)*(0x1e2e+-0x7f0*-0x1+-0x261c)+(0x1892+-0x1*0x525+-0x136d)]=_0x2e45c4[0x21f3+-0x9d0*-0x1+-0x1*0x2bc3],_0x50b360['uvs'][_0x3cca1f*(0x779+-0x136e+0xbf9)*(-0x16f5+0xb3e+0x1*0xbb9)+(-0x1b2f+0x16*-0x21+-0x3f*-0x7a)]=0x5ec+0x2248+-0x2833-_0x2e45c4[0x1*0x2487+-0x1779+-0xd0d],_0x50b360['uvs'][_0x3cca1f*(-0x216d+0x1*0xd29+0x1448)*(0xba9+0x50c+-0x10b3)+(0x1faf+-0x1e00+0x8f*-0x3)]=_0x2e45c4[-0x2*0x71e+0x13ee+0x1c*-0x34],_0x50b360['uvs'][_0x3cca1f*(-0x1*0xbef+-0x1f*-0x43+0x3d6)*(-0x1*0x4ca+-0x7*-0x471+-0x35*0x7f)+(-0x301*0x6+0x1d0d+-0xb04)]=0x1d32+0xd75+-0x2aa6-_0x2e45c4[-0x1632+-0x9bb*-0x1+0xc78],_0x50b360['uvs'][_0x3cca1f*(0x1b8e+0xa64+-0x25ee)*(-0xe9*-0x25+0x1*0x2674+0x481f*-0x1)+(0x1*0x2180+0x1e93+0x400f*-0x1)]=_0x2e45c4[0x303*-0x6+-0x225b+0x346f],_0x50b360['uvs'][_0x3cca1f*(0x1c6a+0x11ce+-0x2e34)*(-0x6d8*0x2+-0xc2*0x1b+0x2228)+(0x6b*-0x1+-0x1ce9+0x1d59)]=-0x219f*-0x1+-0x1147+-0x1057-_0x2e45c4[0x16*-0xc1+0x1a7e+0x11*-0x95],_0x50b360['uvs'][_0x3cca1f*(-0x3d7*0x2+0x22a9+-0x1af7)*(-0x3*0xad5+0xf9f+0x10e2)+(-0x787+0x1*0x8a1+-0x114)]=_0x2e45c4[-0x1*0xbe1+0xd*0x5f+0x70e],_0x50b360['uvs'][_0x3cca1f*(-0x1*0x1391+-0x1*0x10d+0x14a2)*(0x2f*-0xa3+0x182d*-0x1+0x361c)+(0x445*0x3+0xde1+-0x1aa9)]=0x116b+-0xdbe+-0x1*0x3ac-_0x2e45c4[0xba7*0x3+-0x5ad*-0x2+0x2*-0x1726],this['_symbolCol'+'ors']){const _0x4606d9=this['_symbolCol'+'ors'][_0xe32086]*(0x27*-0x25+-0x4f*0x5f+0x22f7);_0xb31d6f=this['_colorPale'+'tte'][_0x4606d9],_0x1de6ba=this['_colorPale'+'tte'][_0x4606d9+(-0x455*0x7+-0x111*0xd+0x2c31)],_0x1da031=this['_colorPale'+'tte'][_0x4606d9+(0x56d+0x1083+-0x15ee)];}if(_0x50b360['colors'][_0x3cca1f*(0x1904+-0x354+-0x15ac)*(-0xe9f*-0x1+0x21fb+0x6*-0x819)+(0x1780+-0x115d+0x1*-0x623)]=_0xb31d6f,_0x50b360['colors'][_0x3cca1f*(-0x1*-0x256e+-0x2e5+-0x2285)*(0x1e38+-0x669*-0x1+-0x249d)+(-0x63d+0x1*0x12ef+0x169*-0x9)]=_0x1de6ba,_0x50b360['colors'][_0x3cca1f*(0xe*0xcd+0x3*0xa85+-0x2ac1)*(-0x29*0x16+0x96c+-0x5e2)+(-0xd*-0x45+0xc32+-0xd*0x135)]=_0x1da031,_0x50b360['colors'][_0x3cca1f*(-0x1f5f+-0x1e23*0x1+-0xe*-0x465)*(0x14cb*0x1+0x2*0x31f+-0x1b05)+(0x262d+-0x142a*0x1+-0x1200)]=-0x3ac*0x3+-0x118e+-0x349*-0x9,_0x50b360['colors'][_0x3cca1f*(-0x16e4+-0x158a+0x2*0x1639)*(-0x1143*0x1+-0x2212+0x3359)+(0x19e4*0x1+-0x1ba0+-0x10*-0x1c)]=_0xb31d6f,_0x50b360['colors'][_0x3cca1f*(0x25*-0x5b+0x21fa+0x7*-0x2f9)*(-0x1f3*-0x14+-0x2dd*-0x3+-0x2f8f)+(0x1*-0x18e5+-0xeb6+-0x8*-0x4f4)]=_0x1de6ba,_0x50b360['colors'][_0x3cca1f*(0x2*-0xee6+-0x91*-0x1+0x1d3f*0x1)*(0x1*-0x2235+-0x1a93+0x2*0x1e66)+(-0x15f8+0xb16*-0x2+0x1615*0x2)]=_0x1da031,_0x50b360['colors'][_0x3cca1f*(0x2426+0x11d5*-0x2+-0x78)*(0xbe+0x2*-0xc45+-0x17d*-0x10)+(0x1127*-0x1+0x613*0x5+-0x133*0xb)]=0x1ec7+-0x1d*0x11b+0x35*0xb,_0x50b360['colors'][_0x3cca1f*(-0x5*-0x51a+-0x6*-0x135+-0x20bc)*(-0x220c+0x126b*0x1+0x537*0x3)+(-0x76e+0x18de+-0x1168)]=_0xb31d6f,_0x50b360['colors'][_0x3cca1f*(0x3*-0x595+-0x1*-0x11a1+-0xde)*(0x117f+0x1*-0x21fc+0x1081)+(0x1*0x3d3+-0x11dc+0xe12)]=_0x1de6ba,_0x50b360['colors'][_0x3cca1f*(-0x3*0x1ca+-0xd7a+0x44*0x47)*(0xc9f+0xce5*-0x1+0x4a)+(0x1cfa+0xf97+0x1*-0x2c87)]=_0x1da031,_0x50b360['colors'][_0x3cca1f*(0xc92+-0x1*0x2327+-0x485*-0x5)*(0x6cf+0x100e+-0x1*0x16d9)+(-0x1*-0x17a3+-0x1fdd+0x845)]=-0x24f7+-0x6d*0x25+-0x1*-0x35b7,_0x50b360['colors'][_0x3cca1f*(-0x45c+0x1442+0xd6*-0x13)*(-0x8*0x166+0x165*0x11+0x61*-0x21)+(0xb78+0x62e+-0x119a)]=_0xb31d6f,_0x50b360['colors'][_0x3cca1f*(-0x21c9*0x1+-0xbd7+0x2da4)*(0x2ab*0x7+0x1b90+-0x1*0x2e39)+(0xfbb+-0x9b9+-0x5f5)]=_0x1de6ba,_0x50b360['colors'][_0x3cca1f*(0x6*-0x1f9+-0x1539*0x1+0x2113)*(0x11d1*-0x2+-0x111b+0x1*0x34c1)+(0x97a+-0x923*-0x2+-0x1*0x1bb2)]=_0x1da031,_0x50b360['colors'][_0x3cca1f*(-0x290*0x9+0x1671+-0x1*-0xa3)*(0x2*-0x357+0x713*0x1+-0x61)+(0x612+0xfe*0x1b+-0x20cd)]=-0x1816+-0x1c6f+0x1*0x3584,this['_symbolOut'+'lineParams']){const _0x339c11=this['_symbolOut'+'lineParams'][_0xe32086]*(-0x19f*-0xb+-0x548+-0xc88);_0x1a8bd8=this['_outlinePa'+'lette'][_0x339c11]+this['_outlinePa'+'lette'][_0x339c11+(-0x1*-0x12be+-0x63*0x4f+-0x30*-0x3f)]*(0x2*-0xf7a+0x8bc+0x1738),_0x467a47=this['_outlinePa'+'lette'][_0x339c11+(0x131d+0x251c+0x15f*-0x29)]+this['_outlinePa'+'lette'][_0x339c11+(0x196f+-0x67*0x29+0x1c9*-0x5)]*(0x1685+0x86f+-0x1df4),_0x26031f=this['_outlinePa'+'lette'][_0x339c11+(-0x1b00+0x1d72*-0x1+0x3876)];}if(_0x50b360['outlines'][_0x3cca1f*(-0x6*-0x5ad+0x3a2*0x3+-0x8*0x59e)*(-0x150c+0x1f8b+-0xa7c)+(0x130*0x2+0x1e0a+-0x206a)]=_0x1a8bd8,_0x50b360['outlines'][_0x3cca1f*(0x187+-0x1*-0xf29+-0x10ac)*(-0x9d*-0x11+-0xd43+0x2d9)+(-0x908+0x24d9+0x1bd0*-0x1)]=_0x467a47,_0x50b360['outlines'][_0x3cca1f*(-0xb*0x303+-0x44e*0x8+0x4395)*(0xe80+-0x1d7b+0xefe)+(0x6e3+-0x2*0x11ef+0x1cfd)]=_0x26031f,_0x50b360['outlines'][_0x3cca1f*(0x2*0x887+-0xa*0x1c3+-0x94*-0x1)*(0x136f*0x1+-0x60f+-0xd5d)+(0x1*0x13cf+0x24c2+-0x388e)]=_0x1a8bd8,_0x50b360['outlines'][_0x3cca1f*(0x1*0xbbe+0x1a47+-0x2601)*(-0x1f07+-0x9*-0x1b+0x1e17)+(-0x1*0x166d+-0x18b1+0x2f22)]=_0x467a47,_0x50b360['outlines'][_0x3cca1f*(0x5*0x486+0x437*-0x5+0x187*-0x1)*(-0x77*-0x52+-0x138b*0x1+-0x1290)+(0x25a0+-0x5e*0x62+-0x19f)]=_0x26031f,_0x50b360['outlines'][_0x3cca1f*(-0x88e+0x1762+-0x768*0x2)*(-0x2194+0x2589+0x2*-0x1f9)+(0x1ae9+-0xd*0x62+-0x15e9)]=_0x1a8bd8,_0x50b360['outlines'][_0x3cca1f*(0x4ba*0x5+0x1de3+-0x3581*0x1)*(-0x1f2d+-0xea5+0x2dd5)+(0x1009+-0x2469+0x1467)]=_0x467a47,_0x50b360['outlines'][_0x3cca1f*(-0xd*0x89+-0x1e0c+0x2505)*(0x1*0x21d5+-0x109a+-0x1138)+(0x108+-0x4*-0x3ea+-0x10a8)]=_0x26031f,_0x50b360['outlines'][_0x3cca1f*(-0x1*0x487+0x1bf2+-0x1*0x1767)*(0x76f*0x2+-0xf*-0x24a+-0x3131)+(0xfd0+-0x124c*0x1+0x285)]=_0x1a8bd8,_0x50b360['outlines'][_0x3cca1f*(-0x36e*-0x4+-0xc23*-0x2+0x25fa*-0x1)*(-0x1e*-0x125+-0x1dd6+0x1*-0x47d)+(0x4a7*-0x1+0x1*0x5c+0x455)]=_0x467a47,_0x50b360['outlines'][_0x3cca1f*(0x9f*0xb+0x1*-0xf61+0x890)*(-0x1c55+0x21*0xef+-0x277)+(-0x92*0xe+-0x13a3+-0x1baa*-0x1)]=_0x26031f,this['_symbolSha'+'dowParams']){const _0x36ce4d=this['_symbolSha'+'dowParams'][_0xe32086]*(-0xf93*-0x1+0xcfb+-0x1c88);_0x3e26f0=this['_shadowPal'+'ette'][_0x36ce4d]+this['_shadowPal'+'ette'][_0x36ce4d+(0x86b+-0x127f*-0x1+-0x53*0x53)]*(-0xa04+-0x5b7+0x10bb),_0x4f25ff=this['_shadowPal'+'ette'][_0x36ce4d+(0x3cd*-0x1+0x494*-0x1+-0x1*-0x863)]+this['_shadowPal'+'ette'][_0x36ce4d+(-0x2278+0x1177*0x1+0x1104)]*(-0x1a0a+0x1828+-0x7b*-0x6),_0x165941=this['_shadowPal'+'ette'][_0x36ce4d+(0x9a0*0x2+0x26dc+-0x3a18)]+(-0xce5+0x1b44+-0xde0)+Math['round'](_0x2ccbab*this['_shadowPal'+'ette'][_0x36ce4d+(0x1416*-0x1+-0x195a+0x2d75)]+(0x2156+-0x26f8+0x621*0x1))*(0xe14+-0x21ec+0x14d8);}_0x50b360['shadows'][_0x3cca1f*(0xbed+-0x6a+0x1b*-0x6d)*(0x1e84+0x1*-0x537+0x3*-0x86e)+(-0x7a9*0x5+-0x15*-0x49+0x2050)]=_0x3e26f0,_0x50b360['shadows'][_0x3cca1f*(-0x19ed+-0x254a+0x3f3b*0x1)*(-0x535+0x45*0x7b+-0x1bef)+(0xb0*0x20+0x527*-0x6+-0x3*-0x2f9)]=_0x4f25ff,_0x50b360['shadows'][_0x3cca1f*(0xfb9+0x1*-0x111d+0x168)*(0x11b*-0x1f+-0x7*0xc1+0x13*0x215)+(-0xb*0x160+-0xeb*-0x3+0xc61)]=_0x165941,_0x50b360['shadows'][_0x3cca1f*(0x16*0x112+0x175d+0x157*-0x23)*(-0x1a3b+-0xa8f+-0x24cd*-0x1)+(0x1722+-0x703+-0x101c)]=_0x3e26f0,_0x50b360['shadows'][_0x3cca1f*(0x1*0x1656+0x1dab+0x33fd*-0x1)*(0x1d81+-0x3d1*0x8+0x10a)+(0x3*0x58d+0x2*-0x809+-0x91)]=_0x4f25ff,_0x50b360['shadows'][_0x3cca1f*(0xd64*-0x2+0x2f6*0x5+0xbfe)*(0x3e*-0x3+0x1*-0x114e+0x120b*0x1)+(-0x904*-0x1+0x1f0a+-0x1*0x2809)]=_0x165941,_0x50b360['shadows'][_0x3cca1f*(0x78*-0x1d+0x47*-0xd+-0xd*-0x153)*(0x1*0x255f+-0x2*-0xcfb+0x1*-0x3f52)+(0x15d*-0x4+0x4*-0x311+-0x8df*-0x2)]=_0x3e26f0,_0x50b360['shadows'][_0x3cca1f*(0x2366*-0x1+0x3a*-0x57+0x3720)*(0xeb6*-0x2+0x3f1*0x1+0x197e)+(0xd96+-0x1*-0x805+-0x4*0x565)]=_0x4f25ff,_0x50b360['shadows'][_0x3cca1f*(-0x4ff*0x3+-0x1*0xa49+0x194a)*(0x10*0x8+0x1751+0x17ce*-0x1)+(0x47d+-0x223d+0x1dc8)]=_0x165941,_0x50b360['shadows'][_0x3cca1f*(-0xd*-0x44+0x9f2*0x1+-0xd62)*(0x2*0xdff+0x358+0x21*-0xf3)+(-0x8*-0xd0+-0x1fd3*-0x1+-0x264a)]=_0x3e26f0,_0x50b360['shadows'][_0x3cca1f*(0x19*0x95+0x1224+-0x4ab*0x7)*(-0xb*0x145+-0x1ed1+0x2ccb)+(-0x104e*-0x1+0x9ed*-0x3+0xd83)]=_0x4f25ff,_0x50b360['shadows'][_0x3cca1f*(-0x1f72+0x7*-0xef+0x25ff)*(0x1871+-0x1*0x16b5+-0x93*0x3)+(0x16fa*-0x1+0x1bf*-0x3+0x1c42)]=_0x165941,_0x50b360['quad']++;}_0x272c45||_0x49332e<_0x1786a0&&_0x403d39(this['_symbols'],_0x1786a0,_0x4cd508);}this['_noResize']=!(0x17cd*0x1+-0x2119+0x94c),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x2097+-0x173e+-0x958);const _0x5b2d89=this['_element']['pivot']['x'],_0x25b024=this['_element']['pivot']['y'],_0x433566=this['_alignment']['x'],_0x2a440b=this['_alignment']['y'];for(let _0x2c8bd4=0x1570+-0xa73+-0xafd;_0x2c8bd4<this['_meshInfo']['length'];_0x2c8bd4++){if(this['_meshInfo'][_0x2c8bd4]['count']===0x23f3+0x1e5a+-0x424d)continue;let _0xe486df=-0x36f*-0x9+-0x18fc+-0x5eb;for(const _0x32c47e in this['_meshInfo'][_0x2c8bd4]['lines']){const _0x116609=this['_meshInfo'][_0x2c8bd4]['lines'][_0x32c47e],_0x34b7a2=this['_lineWidth'+'s'][parseInt(_0x32c47e,0x1883+-0x14*0x47+-0x1*0x12ed)],_0x35b81d=-_0x5b2d89*this['_element']['calculated'+'Width']+_0x433566*(this['_element']['calculated'+'Width']-_0x34b7a2)*(this['_rtl']?-(0x1*-0x14a5+-0x41d+-0x18c3*-0x1):0x759+0xe7b*-0x2+0x159e*0x1),_0x47f507=(0x1*-0x170b+0xe07+0x1*0x905-_0x25b024)*this['_element']['calculated'+'Height']-_0x3ba5e8-(0x1dc2+-0x1*-0x612+-0x23d3-_0x2a440b)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x4288d7=_0xe486df;_0x4288d7<=_0x116609;_0x4288d7++)this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(-0x17be*0x1+-0x1f7a+-0x373c*-0x1)*(0x2148+0x582+-0x44f*0x9)]+=_0x35b81d,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(-0x1*-0x476+-0x2420+-0x1*-0x1fae)*(-0x731+0x1*0x1b1+0x583)+(0x11fb+0x65b*-0x2+-0x542)]+=_0x35b81d,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(0x21af+-0x7c4+-0x19e7)*(0xb76+-0x2182*0x1+0x1*0x160f)+(-0x78b*0x1+-0x30*0x52+0x16f1)]+=_0x35b81d,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(0x132*0x19+0x416+-0x35*0xa4)*(-0x773*-0x4+-0x1d4f+0x3d*-0x2)+(-0x1355+0x8fa+-0x7*-0x17c)]+=_0x35b81d,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(0x115d+-0xa90+0x9*-0xc1)*(-0x1d*-0x73+0x86a+-0xab7*0x2)+(-0x1637+0x1a14+0x3dc*-0x1)]+=_0x47f507,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(-0x1a15+0x15ba+0x45f*0x1)*(-0x1c61+0x1*0x36d+0x18f7)+(0x1a3+-0x1a*-0xc5+-0x15a1)]+=_0x47f507,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(0x6*0x45d+0x17f1+-0x321b)*(0x115+-0x18a+-0x6*-0x14)+(0x17*-0xbf+0x6ea+0xa46)]+=_0x47f507,this['_meshInfo'][_0x2c8bd4]['positions'][_0x4288d7*(0x1452+0xf*0x22a+0xb*-0x4cc)*(0xbaf*0x2+0x1*0x2104+-0x385f)+(-0x1679+-0x1*-0x1ef7+0x43a*-0x2)]+=_0x47f507;if(this['_rtl'])for(let _0x41fe2c=_0xe486df;_0x41fe2c<=_0x116609;_0x41fe2c++){const _0x33a3f2=_0x41fe2c*(-0x2*0x903+-0x5de*0x1+0x17e8)*(0x832+0x253+0x21a*-0x5);for(let _0x8c4a53=-0x24*-0xf8+-0x1a6+-0x2*0x109d;_0x8c4a53<-0x6e+-0x6cb*0x3+-0x14d3*-0x1;++_0x8c4a53)this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+_0x8c4a53*(-0x22da+-0x1*0x23de+0x46bb)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+_0x8c4a53*(0x106*-0x11+0xe3+-0x5*-0x34e)]+_0x35b81d*(-0x6*-0x357+0x1ad1*0x1+0x1*-0x2ed9);const _0x1d75af=this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(-0x1b*0x167+-0x11*-0xe9+0x1667)],_0x12a4c1=this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(-0xd3*-0x12+-0x175*-0x7+-0x1903)];this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(0xa19+-0x35*-0x71+-0x217b)]=this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(0x20a8+-0x793+-0x1*0x1915)],this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(0x37e+-0x17c6+0x2e*0x71)]=this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(-0xde7*-0x1+0x8ec+-0x1*0x16ca)],this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(0x5b4+0xab2+-0x1066)]=_0x1d75af,this['_meshInfo'][_0x2c8bd4]['positions'][_0x33a3f2+(-0x6*-0x4c5+0x11b*0x1a+-0x3953)]=_0x12a4c1;}_0xe486df=_0x116609+(0xcdd+0x5*-0x135+-0x6d3*0x1);}const _0x4a24f9=this['_meshInfo'][_0x2c8bd4]['count']*(0xe2a+-0x206*0x13+0x4dc*0x5),_0x2641a9=this['_meshInfo'][_0x2c8bd4]['quad']*(-0x1*0x24c3+0x2*0xfdd+0x50d*0x1),_0x34cdd7=new Uo(this['_meshInfo'][_0x2c8bd4]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x1810bf=-0x269d+-0x15*-0x18d+0x183*0x4;_0x1810bf<_0x4a24f9;_0x1810bf++)_0x1810bf>=_0x2641a9?(_0x34cdd7['element'][Me]['set'](0x9b*-0x2a+-0xc8*-0xa+0x119e,-0x863*0x2+-0xdc4+0x1e8a,0xd97+0x1841+-0xad*0x38),_0x34cdd7['element'][is]['set'](0x153c*-0x1+0x1681*0x1+-0x145,-0x183*-0x13+0xa48+-0x2701*0x1),_0x34cdd7['element'][Wt]['set'](0x25*0xc7+-0x1fb8+0x2f5,-0x18a9+-0x9f*-0x3c+0x7*-0x1cd,0x107a+0xfc7+-0x2041,0x2407*0x1+-0x8bb+-0x1b4c*0x1),_0x34cdd7['element'][Ko]['set'](0x23c4*-0x1+-0x67*-0x4f+0x3fb,0xf06*0x1+0x1145+-0x204b,0xb*-0x1d+0x1*0x946+0x89*-0xf,-0x2f*-0xa7+0x10e4+-0x25*0x149),_0x34cdd7['element'][Zo]['set'](0x1381+-0x61f*0x5+-0xe*-0xcb,-0x83a+-0x269f+0x2ed9,-0xa9b+0x13df+-0x944,0x1*0x2453+0x1521+-0x4*0xe5d)):(_0x34cdd7['element'][Me]['set'](this['_meshInfo'][_0x2c8bd4]['positions'][_0x1810bf*(0x24c3*-0x1+0x863*-0x4+0x2*0x2329)+(-0x1*0x6f7+0x1c41+0xda*-0x19)],this['_meshInfo'][_0x2c8bd4]['positions'][_0x1810bf*(0x66d+-0x2565+0x1efb)+(0x19*-0xfe+0x7de+0x10f1)],this['_meshInfo'][_0x2c8bd4]['positions'][_0x1810bf*(0x4*0x7ed+0xdbc+-0x191*0x1d)+(-0x816+0x1643*0x1+-0x117*0xd)]),_0x34cdd7['element'][is]['set'](this['_meshInfo'][_0x2c8bd4]['uvs'][_0x1810bf*(-0x5d1*0x2+0x1a56+-0xeb2)+(0xcac+0xf02*0x1+-0x3*0x93a)],this['_meshInfo'][_0x2c8bd4]['uvs'][_0x1810bf*(-0x12+0xc*-0x2f+0x248)+(-0x3ef+0x1*-0xa94+0xe84)]),_0x34cdd7['element'][Wt]['set'](this['_meshInfo'][_0x2c8bd4]['colors'][_0x1810bf*(-0x15*0xbb+-0x3cd*0x9+0x3190)+(0x22aa+0x2135*0x1+0x1*-0x43df)],this['_meshInfo'][_0x2c8bd4]['colors'][_0x1810bf*(-0x1*0xcfc+-0x1de1+0x1*0x2ae1)+(0x1e1a+0xb*0x32b+-0x40f2)],this['_meshInfo'][_0x2c8bd4]['colors'][_0x1810bf*(0x2*-0x1120+-0x1bf+-0x2403*-0x1)+(-0x2426+-0x1727+0x3b4f)],this['_meshInfo'][_0x2c8bd4]['colors'][_0x1810bf*(0x1ac7*0x1+-0x1dc7+0x304)+(-0x6b*0x51+-0x9df+0x2bbd)]),_0x34cdd7['element'][Ko]['set'](this['_meshInfo'][_0x2c8bd4]['outlines'][_0x1810bf*(0x1603+0x15*0x199+-0x378d)+(0x39*0x2e+0x5a*0x61+-0xac*0x42)],this['_meshInfo'][_0x2c8bd4]['outlines'][_0x1810bf*(-0x1c74*0x1+0x9d*0x29+0x1*0x352)+(-0x468+0x231c+-0x1eb3)],this['_meshInfo'][_0x2c8bd4]['outlines'][_0x1810bf*(0x819+-0x185b+0x1045)+(0x13*-0x146+-0xecd+0x2701)]),_0x34cdd7['element'][Zo]['set'](this['_meshInfo'][_0x2c8bd4]['shadows'][_0x1810bf*(0xedb+-0xc78*0x1+-0x260)+(-0x1118+-0x1894*0x1+0x29ac)],this['_meshInfo'][_0x2c8bd4]['shadows'][_0x1810bf*(-0x137b+-0x2*-0xc14+0x1*-0x4aa)+(-0x7ff+-0x2*0xacd+-0x1d9a*-0x1)],this['_meshInfo'][_0x2c8bd4]['shadows'][_0x1810bf*(0x180*-0xc+0xa07+-0x7*-0x124)+(0x2156+0x1d*-0xa4+-0xec0)])),_0x34cdd7['next']();_0x34cdd7['end'](),this['_meshInfo'][_0x2c8bd4]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x2c8bd4]['positions']),this['_meshInfo'][_0x2c8bd4]['meshInstan'+'ce']['_aabbVer']=-(0x12b*-0x20+0x1*-0x58f+0x2af0);}this['_aabbDirty']=!(0x6d*-0x1f+0xefc+-0x1c9);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x14ae6d){this['font']!==_0x14ae6d['resource']&&(this['font']=_0x14ae6d['resource']);}['_onFontCha'+'nge'](_0x398f67,_0x371ed4,_0x11e0a5,_0x5acb2d){if(_0x371ed4==='data'){this['_font']['data']=_0x11e0a5;const _0x48476a=this['_font']['data']['info']['maps']['length'];for(let _0x1b5bf4=-0x17*-0x8a+-0x942+-0x1*0x324;_0x1b5bf4<_0x48476a;_0x1b5bf4++){if(!this['_meshInfo'][_0x1b5bf4])continue;const _0x8b8c1a=this['_meshInfo'][_0x1b5bf4]['meshInstan'+'ce'];_0x8b8c1a&&(_0x8b8c1a['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x8b8c1a['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x8b8c1a['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1b5bf4]['width']));}}}['_onFontRem'+'ove'](_0x2f636a){}['_setTextur'+'eParams'](_0x285ebd,_0x4436d4){this['_font']&&(this['_font']['type']===Rh?(_0x285ebd['deletePara'+'meter']('texture_em'+'issiveMap'),_0x285ebd['deletePara'+'meter']('texture_op'+'acityMap'),_0x285ebd['setParamet'+'er']('texture_ms'+'dfMap',_0x4436d4)):this['_font']['type']===dR&&(_0x285ebd['deletePara'+'meter']('texture_ms'+'dfMap'),_0x285ebd['setParamet'+'er']('texture_em'+'issiveMap',_0x4436d4),_0x285ebd['setParamet'+'er']('texture_op'+'acityMap',_0x4436d4)));}['_getPxRang'+'e'](_0x420646){const _0x238064=Object['keys'](this['_font']['data']['chars']);for(let _0x5d7ccd=0xac0+-0xad+-0xa13;_0x5d7ccd<_0x238064['length'];_0x5d7ccd++){const _0x47f20d=this['_font']['data']['chars'][_0x238064[_0x5d7ccd]];if(_0x47f20d['range'])return(_0x47f20d['scale']||-0x803*-0x1+0x1df0+0x12f9*-0x2)*_0x47f20d['range'];}return 0x2453+-0x5ec+-0xfb*0x1f;}['_getUv'](_0x55b272){const _0x37192a=this['_font']['data'];if(!_0x37192a['chars'][_0x55b272])return _0x37192a['chars']['\x20']?this['_getUv']('\x20'):[-0x1259+0x9a9+0x22c*0x4,0x116c+0xdfd*0x1+-0x11*0x1d9,0x53e*-0x2+0xe40+-0xf1*0x4,0x15*-0x22+-0x14b*0x3+0x6ab*0x1];const _0x4e2788=_0x37192a['chars'][_0x55b272]['map'],_0x5aea95=_0x37192a['info']['maps'][_0x4e2788]['width'],_0x3373e1=_0x37192a['info']['maps'][_0x4e2788]['height'],_0xbd9f7d=_0x37192a['chars'][_0x55b272]['x'],_0xa432a3=_0x37192a['chars'][_0x55b272]['y'],_0x3e57f=_0xbd9f7d,_0xba6609=_0xa432a3,_0x14a52c=_0xbd9f7d+_0x37192a['chars'][_0x55b272]['width'],_0x28f57d=_0xa432a3-_0x37192a['chars'][_0x55b272]['height'],_0x147410=0x13*0x1e4+-0x21fc+-0x1ef*0x1-_0x37192a['chars'][_0x55b272]['height']/_0x3373e1;return[_0x3e57f/_0x5aea95,_0x147410-_0xba6609/_0x3373e1,_0x14a52c/_0x5aea95,_0x147410-_0x28f57d/_0x3373e1];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1867+-0x3af+0x1c16),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x3*0xaba+0x167e+-0x36ab),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x1944ee){if(this['_model']){const _0x59381e=this['_model']['meshInstan'+'ces'];for(let _0x29c3af=-0x93*-0x5+-0xd*-0x4c+-0x6bb;_0x29c3af<_0x59381e['length'];_0x29c3af++)_0x59381e[_0x29c3af]['stencilFro'+'nt']=_0x1944ee,_0x59381e[_0x29c3af]['stencilBac'+'k']=_0x1944ee;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x1ac4f9){const _0xd0b6ee={};_0x1ac4f9===void(-0xb*0x287+-0x1ae2+-0x36af*-0x1)&&(_0x1ac4f9=this['_symbols']['length']);for(let _0x2b493f=0x11cf*0x1+0x4*-0x30a+-0x5a7,_0x2862aa=_0x1ac4f9;_0x2b493f<_0x2862aa;_0x2b493f++){const _0x34f0e7=this['_symbols'][_0x2b493f];let _0x4d2626=this['_font']['data']['chars'][_0x34f0e7];_0x4d2626||(_0x4d2626=this['_font']['data']['chars']['\x20'],_0x4d2626||(_0x4d2626=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x1390+0xa5c+-0x1dec]]));const _0x5e36e3=_0x4d2626['map'];_0xd0b6ee[_0x5e36e3]?_0xd0b6ee[_0x5e36e3]++:_0xd0b6ee[_0x5e36e3]=-0x112d*0x1+0x247*0x8+-0x10a;}return _0xd0b6ee;}['_updateRen'+'derRange'](){const _0x1bd940=this['_rangeStar'+'t']===0x1819+0x12a8+0x88d*-0x5?-0x17*0xdf+-0x2615+0x3a1e:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x4f360c=this['_rangeEnd']===0x8d6+-0x17b1+0xedb?-0x5d4+0x9f*0x35+-0x1b17:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x239344=-0x2*-0xbd8+-0x2426+0x122*0xb,_0xf82e94=this['_meshInfo']['length'];_0x239344<_0xf82e94;_0x239344++){const _0x5c1a56=_0x1bd940[_0x239344]||-0x2cd+0x1589+-0x2c*0x6d,_0x3ed09f=_0x4f360c[_0x239344]||-0x1a62+-0x11*-0x230+-0xace,_0x257bff=this['_meshInfo'][_0x239344]['meshInstan'+'ce'];if(_0x257bff){const _0x3a7f21=_0x257bff['mesh'];_0x3a7f21&&(_0x3a7f21['primitive'][-0x13ed+0x723+0xcca]['base']=_0x5c1a56*(-0xdd5*0x1+0xc29*-0x1+0x1a01)*(0xff6+0x1c1*0xd+0x3*-0xceb),_0x3a7f21['primitive'][-0x1*0x8a1+-0xbc5+-0x175*-0xe]['count']=(_0x3ed09f-_0x5c1a56)*(0x6*-0x315+0x1a9c*0x1+-0x81b)*(0x1f51*0x1+-0x2*0xd84+-0x447));}}}set['text'](_0x52e1f0){this['_i18nKey']=null;const _0x41a7a5=_0x52e1f0!=null&&_0x52e1f0['toString']()||'';this['_setText'](_0x41a7a5);}get['text'](){return this['_text'];}set['key'](_0x1138c5){const _0x32ef6f=_0x1138c5!==null?_0x1138c5['toString']():null;this['_i18nKey']!==_0x32ef6f&&(this['_i18nKey']=_0x32ef6f,_0x32ef6f?(this['_fontAsset']['disableLoc'+'alization']=!(-0x2*-0x56f+0x18d6+0xf7*-0x25),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x6fb+0x1991+-0x1296));}get['key'](){return this['_i18nKey'];}set['color'](_0x290a9c){const _0x297a45=_0x290a9c['r'],_0x174af9=_0x290a9c['g'],_0x297b89=_0x290a9c['b'];if(this['_color']===_0x290a9c&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x297a45&&this['_color']['g']===_0x174af9&&this['_color']['b']===_0x297b89)&&(this['_color']['r']=_0x297a45,this['_color']['g']=_0x174af9,this['_color']['b']=_0x297b89,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][-0xbf9*0x1+-0x2188+0x2d81]=We['r'],this['_colorUnif'+'orm'][-0x82+0xb32+-0xaaf]=We['g'],this['_colorUnif'+'orm'][-0x157*0x3+-0x1a81+0x1e88]=We['b'];for(let _0x3b842b=0x20e5+-0x1378*0x1+0x1*-0xd6d,_0x3ba041=this['_model']['meshInstan'+'ces']['length'];_0x3b842b<_0x3ba041;_0x3b842b++)this['_model']['meshInstan'+'ces'][_0x3b842b]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1c44ea){if(this['_color']['a']!==_0x1c44ea&&(this['_color']['a']=_0x1c44ea,this['_model'])){for(let _0x58df23=0x391*-0x6+0x12ae+-0x3*-0xe8,_0x3d87b1=this['_model']['meshInstan'+'ces']['length'];_0x58df23<_0x3d87b1;_0x58df23++)this['_model']['meshInstan'+'ces'][_0x58df23]['setParamet'+'er']('material_o'+'pacity',_0x1c44ea);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1c44ea);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x2f76e4){const _0x14655b=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x2f76e4,this['_scaledLin'+'eHeight']=_0x2f76e4,_0x14655b!==_0x2f76e4&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0xaf3fe){const _0x451cb8=this['_wrapLines'];this['_wrapLines']=_0xaf3fe,_0x451cb8!==_0xaf3fe&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x3532bf){const _0x580ed4=this['_spacing'];this['_spacing']=_0x3532bf,_0x580ed4!==_0x3532bf&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x430032){const _0x51157c=this['_fontSize'];this['_fontSize']=_0x430032,this['_originalF'+'ontSize']=_0x430032,_0x51157c!==_0x430032&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x26ef60){this['_fontAsset']['defaultAss'+'et']=_0x26ef60;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x384203){let _0xd24be2;if(this['_font']&&(_0xd24be2=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x384203,this['_fontMinY']=-0xda*-0x1+0x1*0x2217+-0x22f1,this['_fontMaxY']=-0x2c6+-0x1b4*0x16+0x283e,!_0x384203)return;const _0x20c397=this['_font']['data'];for(const _0x100740 in _0x20c397['chars']){const _0x494438=_0x20c397['chars'][_0x100740];_0x494438['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x494438['bounds'][-0x355+-0xacf+-0x4b7*-0x3]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x494438['bounds'][-0x1fb3+0x1*-0xaf9+-0x619*-0x7]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x384203['type']!==_0xd24be2){const _0x55c7d9=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x55c7d9);}for(let _0x29f032=0x1725+-0x1f*-0x5f+0xa*-0x377,_0xe8bfa3=this['_font']['textures']['length'];_0x29f032<_0xe8bfa3;_0x29f032++)if(!this['_meshInfo'][_0x29f032])this['_meshInfo'][_0x29f032]=new vR();else{const _0x32464f=this['_meshInfo'][_0x29f032]['meshInstan'+'ce'];_0x32464f&&(_0x32464f['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x32464f['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x32464f['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x29f032]['width']),this['_setTextur'+'eParams'](_0x32464f,this['_font']['textures'][_0x29f032]));}let _0x4aae1a=!(-0x6a4+-0x209*0x1+0x2*0x457);for(let _0x4ef4e7=this['_font']['textures']['length'];_0x4ef4e7<this['_meshInfo']['length'];_0x4ef4e7++)this['_meshInfo'][_0x4ef4e7]['meshInstan'+'ce']&&(_0x4aae1a||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4aae1a=!(-0x4cb*-0x6+-0x1*0x2335+0x673)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x4ef4e7]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x45935b){_0x45935b instanceof J?this['_alignment']['set'](_0x45935b['x'],_0x45935b['y']):this['_alignment']['set'](_0x45935b[-0x2*0x9f5+-0x2*-0x6d+0x1310],_0x45935b[0x7*0x581+-0x1aea+-0x5ce*0x2]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x199edb){const _0x43eb7d=this['_autoWidth'];if(this['_autoWidth']=_0x199edb,_0x199edb&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x140b+-0x11cc+-0x19*0x17+0.0001&&(this['_element']['width']=this['width']),_0x43eb7d!==_0x199edb){const _0x1bce15=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1bce15!==this['_fontSize']&&(this['_fontSize']=_0x1bce15,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x2caa7e){const _0xd97d=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x2caa7e,_0x2caa7e&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x2*-0x139+-0x237f+0x25f1+0.0001&&(this['_element']['height']=this['height']),_0xd97d!==_0x2caa7e){const _0x46949f=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x46949f!==this['_fontSize']&&(this['_fontSize']=_0x46949f,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0xdc3ee6){this['_rtlReorde'+'r']!==_0xdc3ee6&&(this['_rtlReorde'+'r']=_0xdc3ee6,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x5401ee){this['_unicodeCo'+'nverter']!==_0x5401ee&&(this['_unicodeCo'+'nverter']=_0x5401ee,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x54356d=!(-0x40*-0x7a+0x618+-0x2497);for(let _0x5b23eb=-0x21+0x4*-0x259+0x985;_0x5b23eb<this['_meshInfo']['length'];_0x5b23eb++)this['_meshInfo'][_0x5b23eb]['meshInstan'+'ce']&&(_0x54356d?this['_aabb']['add'](this['_meshInfo'][_0x5b23eb]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x5b23eb]['meshInstan'+'ce']['aabb']),_0x54356d=!(0x1c24+-0xbc5+-0x105f)));this['_aabbDirty']=!(-0x9b5+-0x8a8+0x125e*0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0x551871){const _0x41a50c=_0x551871 instanceof ie?_0x551871['r']:_0x551871[-0x1650+0x2417+-0xdc7*0x1],_0x48a816=_0x551871 instanceof ie?_0x551871['g']:_0x551871[0x1d4d+0xb02*-0x3+0x3ba],_0x5d3381=_0x551871 instanceof ie?_0x551871['b']:_0x551871[0x7f6+-0x1573+0x5*0x2b3],_0x1c8441=_0x551871 instanceof ie?_0x551871['a']:_0x551871[0x13c8+-0x3*-0x239+-0x1a70];if(this['_outlineCo'+'lor']===_0x551871&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x41a50c&&this['_outlineCo'+'lor']['g']===_0x48a816&&this['_outlineCo'+'lor']['b']===_0x5d3381&&this['_outlineCo'+'lor']['a']===_0x1c8441)&&(this['_outlineCo'+'lor']['r']=_0x41a50c,this['_outlineCo'+'lor']['g']=_0x48a816,this['_outlineCo'+'lor']['b']=_0x5d3381,this['_outlineCo'+'lor']['a']=_0x1c8441,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x6c1+-0x1856+0x1f17]=We['r'],this['_outlineCo'+'lorUniform'][0x1ee5*0x1+-0x1825*0x1+-0xb*0x9d]=We['g'],this['_outlineCo'+'lorUniform'][-0x2*0x5b3+-0x374*-0x3+0x10c]=We['b'],this['_outlineCo'+'lorUniform'][0x3*-0x7d2+0x171a*-0x1+0x2e93]=We['a'];for(let _0x18d290=-0x165a+-0xc5d*-0x1+-0x9fd*-0x1,_0x52ee63=this['_model']['meshInstan'+'ces']['length'];_0x18d290<_0x52ee63;_0x18d290++)this['_model']['meshInstan'+'ces'][_0x18d290]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x23bf49){const _0x11350f=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x23bf49,_0x11350f!==_0x23bf49&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x4c8200=0xb*0x2ef+-0x12d*-0x16+0x79*-0x7b,_0x3ca411=this['_model']['meshInstan'+'ces']['length'];_0x4c8200<_0x3ca411;_0x4c8200++)this['_model']['meshInstan'+'ces'][_0x4c8200]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x8efcd){const _0x432f40=_0x8efcd instanceof ie?_0x8efcd['r']:_0x8efcd[-0x2550+0xec0+0x1690],_0x340ef2=_0x8efcd instanceof ie?_0x8efcd['g']:_0x8efcd[0x3b3*-0x7+-0x5*-0x359+0x929],_0x2a4b0c=_0x8efcd instanceof ie?_0x8efcd['b']:_0x8efcd[0x189e+0x24e5+-0x3d81],_0x5df608=_0x8efcd instanceof ie?_0x8efcd['a']:_0x8efcd[-0x1e19+-0x1*0xf2a+-0xbe*-0x3d];if(this['_shadowCol'+'or']===_0x8efcd&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x432f40&&this['_shadowCol'+'or']['g']===_0x340ef2&&this['_shadowCol'+'or']['b']===_0x2a4b0c&&this['_shadowCol'+'or']['a']===_0x5df608)&&(this['_shadowCol'+'or']['r']=_0x432f40,this['_shadowCol'+'or']['g']=_0x340ef2,this['_shadowCol'+'or']['b']=_0x2a4b0c,this['_shadowCol'+'or']['a']=_0x5df608,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xd*-0x12d+0x707*0x4+0xe77*-0x3]=We['r'],this['_shadowCol'+'orUniform'][0x222d*0x1+-0x1678+-0x5da*0x2]=We['g'],this['_shadowCol'+'orUniform'][0x1*0x599+-0x1*0x19d9+0x1442]=We['b'],this['_shadowCol'+'orUniform'][0x1*0x26b9+-0x253f+0x177*-0x1]=We['a'];for(let _0x486d1a=0x1*-0xdba+0x205f*-0x1+0x2e19,_0x4943de=this['_model']['meshInstan'+'ces']['length'];_0x486d1a<_0x4943de;_0x486d1a++)this['_model']['meshInstan'+'ces'][_0x486d1a]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x56cc40){const _0x3ba255=_0x56cc40 instanceof J?_0x56cc40['x']:_0x56cc40[0x119f+0x57*-0x14+-0xad3],_0x177adc=_0x56cc40 instanceof J?_0x56cc40['y']:_0x56cc40[0xf09+0xbe8+-0x1af0];if(!(this['_shadowOff'+'set']['x']===_0x3ba255&&this['_shadowOff'+'set']['y']===_0x177adc)&&(this['_shadowOff'+'set']['set'](_0x3ba255,_0x177adc),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x6b8356=-0x46e+0x17*-0x5c+0xfa*0xd,_0x5c88d7=this['_model']['meshInstan'+'ces']['length'];_0x6b8356<_0x5c88d7;_0x6b8356++){const _0xacfdd9=-this['_font']['data']['info']['maps'][_0x6b8356]['width']/this['_font']['data']['info']['maps'][_0x6b8356]['height'];this['_shadowOff'+'setUniform'][-0xfb*-0x2+0x2*0x2e9+-0x7c8]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x27b*0xd+-0x94*-0x11+-0x2a12]=_0xacfdd9*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x6b8356]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x5880c7){this['_minFontSi'+'ze']!==_0x5880c7&&(this['_minFontSi'+'ze']=_0x5880c7,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x55e211){this['_maxFontSi'+'ze']!==_0x55e211&&(this['_maxFontSi'+'ze']=_0x55e211,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x36962f){this['_autoFitWi'+'dth']!==_0x36962f&&(this['_autoFitWi'+'dth']=_0x36962f,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x11b549){this['_autoFitHe'+'ight']!==_0x11b549&&(this['_autoFitHe'+'ight']=_0x11b549,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x16b3d1){this['_maxLines']!==_0x16b3d1&&(_0x16b3d1===null&&this['_maxLines']===-(0xf6c+-0x17cf+0x219*0x4)||(this['_maxLines']=_0x16b3d1===null?-(0x20f7+-0x1a92+-0x664):_0x16b3d1,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4c0ad5){if(_0x4c0ad5=!!_0x4c0ad5,this['_enableMar'+'kup']===_0x4c0ad5)return;this['_enableMar'+'kup']=_0x4c0ad5,this['font']&&this['_updateTex'+'t']();const _0x4ba075=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4ba075);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x4b4167){return this['_colorPale'+'tte']['slice'](_0x4b4167*(0x1576+-0x2*0x1136+0x1*0xcf9),_0x4b4167*(-0x1d13+-0x26*0x47+0x27a0)+(-0x356*0x3+0x1f99+0x1*-0x1594));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x3ec1e8){return this['_outlinePa'+'lette']['slice'](_0x3ec1e8*(0x223a+0x2219+0x2227*-0x2),_0x3ec1e8*(-0x21f+0x5*-0x11+0x279*0x1)+(0x21db+-0x84a+0xa*-0x28e));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x4ef75a){return this['_shadowPal'+'ette']['slice'](_0x4ef75a*(0x2c*0x15+-0x1ddf+0x1a49),_0x4ef75a*(-0x1*-0x572+0x15c8+-0x1b34)+(-0x14c1+-0x14d+0x1614));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x1578bd){_0x1578bd=Math['max'](-0x1331+0x26d4+0x1c9*-0xb,Math['min'](_0x1578bd,this['_symbols']['length'])),_0x1578bd!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x1578bd,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x39598a){_0x39598a=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x39598a,this['_symbols']['length'])),_0x39598a!==this['_rangeEnd']&&(this['_rangeEnd']=_0x39598a,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x511a0d,_0x564e75){super(_0x511a0d,_0x564e75),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x5*-0x5d1+-0xf95+0x2cab),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x64*-0x4+0x925*-0x1+0x2f*0x3b,this['_height']=this['_calculate'+'dHeight']=0x2*-0x11a7+0x1341*-0x1+0x36af,this['_margin']=new re(-0x1*-0xe57+0x519+0x26e*-0x8,-0x26b3+-0x253c+0x7*0xad9,-(0x1a20+-0x17ab+-0x1*0x255),-(-0x17b9+-0x1*0x1835+0x2*0x1807)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x1320+-0x631+0x1951),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x1d*-0x125+0x26a0+0x6b*-0xd),this['_canvasCor'+'nersDirty']=!(-0x151*-0x9+0x2ab+0x742*-0x2),this['_worldCorn'+'ersDirty']=!(-0x19f0+-0x1*0x1b9f+-0x1*-0x358f),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0xef1+0x587+0x96a,this['_fitMode']=th,this['_useInput']=!(-0x1*-0x59f+-0x268e+-0x1f*-0x110),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x3d6+-0x487*0x3+0x9c0),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x1bac+-0x1*-0xb0d+0x1*0x109f,this['_maskOffse'+'t']=-0xe19+-0x18c9+0x26e2+0.5,this['_maskedBy']=null);}get['data'](){const _0x15007c=this['system']['store'][this['entity']['getGuid']()];return _0x15007c?_0x15007c['data']:null;}set['enabled'](_0x2e1236){const _0x89e065=this['data'],_0x13f2e4=_0x89e065['enabled'];_0x89e065['enabled']=_0x2e1236,this['fire']('set','enabled',_0x13f2e4,_0x2e1236);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x4*0x2f2+-0x22*0x119+0x311a+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x1*-0x1295+-0x1a*-0xd1+0xed*-0x2b+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0xa2529d){_0xa2529d instanceof re?this['_anchor']['copy'](_0xa2529d):this['_anchor']['set'](..._0xa2529d),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x2*-0x8b5+0x100d*-0x1+0x2177),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x29c710){var _0x46dfd7,_0x565187;this['_batchGrou'+'pId']!==_0x29c710&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x239f+-0x80*-0x3+-0x1*-0x221f&&((_0x46dfd7=this['system']['app']['batcher'])==null||_0x46dfd7['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x29c710>=-0x1*-0xf28+-0x1292*-0x2+-0xd13*0x4&&((_0x565187=this['system']['app']['batcher'])==null||_0x565187['insert'](St['ELEMENT'],_0x29c710,this['entity'])),_0x29c710<0x8*-0x329+-0x1cfc+0x3644&&this['_batchGrou'+'pId']>=0x1819+-0x5*-0x24d+-0x239a&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x29c710);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x12c47a){this['_margin']['y']=_0x12c47a;const _0x7d1ab0=this['entity']['getLocalPo'+'sition'](),_0x44a759=this['_absTop'],_0x539b23=this['_localAnch'+'or']['y']+_0x12c47a;this['_setHeight'](_0x44a759-_0x539b23),_0x7d1ab0['y']=_0x12c47a+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x7d1ab0);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0xbe061e){this['_setCalcul'+'atedWidth'](_0xbe061e,!(0x53e+-0x1e1+-0x35d));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x201cf6){this['_setCalcul'+'atedHeight'](_0x201cf6,!(0x25c0+-0xdf5+-0x17cb));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x19ddb4=this['system']['app']['graphicsDe'+'vice'],_0x409f36=this['screenCorn'+'ers'],_0x2fc0d8=_0x19ddb4['canvas']['clientWidt'+'h']/_0x19ddb4['width'],_0x33ca0d=_0x19ddb4['canvas']['clientHeig'+'ht']/_0x19ddb4['height'];for(let _0x356fa9=-0x1cfa+-0x44*0x6d+0x2*0x1cf7;_0x356fa9<-0x139*-0x17+0x3*-0x563+0x16*-0x8b;_0x356fa9++)this['_canvasCor'+'ners'][_0x356fa9]['set'](_0x409f36[_0x356fa9]['x']*_0x2fc0d8,(_0x19ddb4['height']-_0x409f36[_0x356fa9]['y'])*_0x33ca0d);return this['_canvasCor'+'nersDirty']=!(-0x1a*-0xde+0x13d*-0x12+0x1*-0x41),this['_canvasCor'+'ners'];}set['drawOrder'](_0x460d7f){let _0x796f02=0x773+-0x4fc+-0x1*0x277;this['screen']&&(_0x796f02=this['screen']['screen']['priority']),_0x460d7f>0x42f669+0x3099ab+-0x2ecff9*-0x3&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x460d7f=0x546ecb*-0x5+0x1ce269e*0x1+0xb7b8*0x12d),this['_drawOrder']=(_0x796f02<<0x2*-0x57b+0x8e9*-0x3+-0x25c9*-0x1)+_0x460d7f,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x11860c){this['_height']=_0x11860c,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x11860c,!(0x6*-0x61e+0xb*-0x291+0x3*0x15a5)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x53e0d2){if(this['_addedMode'+'ls']['length'])for(let _0x1cd1bb=0x1*0x8d9+-0x19d9+0x22*0x80;_0x1cd1bb<this['_layers']['length'];_0x1cd1bb++){const _0x370f93=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1cd1bb]);if(_0x370f93){for(let _0x524ad5=-0x5e*-0x4f+-0x133c+-0x9c6;_0x524ad5<this['_addedMode'+'ls']['length'];_0x524ad5++)_0x370f93['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x524ad5]['meshInstan'+'ces']);}}if(this['_layers']=_0x53e0d2,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x3e89bc=0x23d3+0xc0c+-0x2fdf;_0x3e89bc<this['_layers']['length'];_0x3e89bc++){const _0x2eb1dd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3e89bc]);if(_0x2eb1dd){for(let _0x1fd081=0x1763+-0x1496+0x2cd*-0x1;_0x1fd081<this['_addedMode'+'ls']['length'];_0x1fd081++)_0x2eb1dd['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x1fd081]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x2e62cb){this['_margin']['x']=_0x2e62cb;const _0x5ce391=this['entity']['getLocalPo'+'sition'](),_0x92de26=this['_absRight'],_0x3dbe4a=this['_localAnch'+'or']['x']+_0x2e62cb;this['_setWidth'](_0x92de26-_0x3dbe4a),_0x5ce391['x']=_0x2e62cb+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5ce391);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5b939c){this['_margin']['copy'](_0x5b939c),this['_calculate'+'Size'](!(-0x43f*0x9+0x836+-0x1*-0x1e01),!(-0xb3*0x2b+0x1307+-0x9d*-0x12)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x193311){const {pivot:_0x4136bc,margin:_0x187db9}=this,_0x168aa8=_0x4136bc['x'],_0x1a0335=_0x4136bc['y'];_0x193311 instanceof J?_0x4136bc['copy'](_0x193311):_0x4136bc['set'](..._0x193311);const _0x4e72db=_0x187db9['x']+_0x187db9['z'],_0x41e89e=_0x4136bc['x']-_0x168aa8;_0x187db9['x']+=_0x4e72db*_0x41e89e,_0x187db9['z']-=_0x4e72db*_0x41e89e;const _0x237b41=_0x187db9['y']+_0x187db9['w'],_0x22182d=_0x4136bc['y']-_0x1a0335;_0x187db9['y']+=_0x237b41*_0x22182d,_0x187db9['w']-=_0x237b41*_0x22182d,this['_anchorDir'+'ty']=!(0x4b*-0x67+0x719+0x1714),this['_cornersDi'+'rty']=!(-0x806*0x4+-0x15d4+0x35ec),this['_worldCorn'+'ersDirty']=!(-0x356+0x18a*-0x5+0x8*0x161),this['_calculate'+'Size'](!(0xe*-0x5e+0x1ceb+-0x17c6),!(0x23a9+-0x1d01+-0x83*0xd)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x4136bc);}get['pivot'](){return this['_pivot'];}set['right'](_0x504ffd){this['_margin']['z']=_0x504ffd;const _0x1d567c=this['entity']['getLocalPo'+'sition'](),_0x204d43=this['_absLeft'],_0xc2fbc5=this['_localAnch'+'or']['z']-_0x504ffd;this['_setWidth'](_0xc2fbc5-_0x204d43),_0x1d567c['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x504ffd-this['_calculate'+'dWidth']*(-0x1909+-0x28d*0xb+0x3519-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x1d567c);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x4782b6=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x20*-0x63+0x970+0x4*-0x574];this['_screenCor'+'ners'][-0xce+0xaca*0x1+0x1*-0x9fc]['set'](this['_absLeft'],this['_absBottom'],-0x21d1+0x3de+0x1df3),this['_screenCor'+'ners'][0x2c7*-0xc+0xda7+0x13ae]['set'](this['_absRight'],this['_absBottom'],0x25ef+0x10b1*0x1+-0x2*0x1b50),this['_screenCor'+'ners'][0x1b4*0x13+-0x18b0+0x7aa*-0x1]['set'](this['_absRight'],this['_absTop'],-0x1020+-0x106a*0x2+-0x1*-0x30f4),this['_screenCor'+'ners'][-0x71f*-0x1+0x1569+-0x31*0x95]['set'](this['_absLeft'],this['_absTop'],-0x853*0x3+-0x207c+0x3975);const _0x54cc11=this['screen']['screen']['screenSpac'+'e'];for(let _0x3f8acd=0xeb1+0x71e+0x3*-0x745;_0x3f8acd<-0x18f0+-0xc15+0x13*0x1f3;_0x3f8acd++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x3f8acd],this['_screenCor'+'ners'][_0x3f8acd]),_0x54cc11&&this['_screenCor'+'ners'][_0x3f8acd]['mulScalar'](this['screen']['screen']['scale']),_0x4782b6&&this['_screenCor'+'ners'][_0x3f8acd]['add'](_0x4782b6);return this['_cornersDi'+'rty']=!(0x2558+0x115*0x17+0x9*-0x6ea),this['_canvasCor'+'nersDirty']=!(-0xc81+-0x1a*-0x152+0x1*-0x15d3),this['_worldCorn'+'ersDirty']=!(0x2f7+-0xa9b*-0x2+-0x182d),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x2*-0x313+-0xb72*-0x2+-0x1d0a;}get['textHeight'](){return this['_text']?this['_text']['height']:0x13*-0x7c+0x1*0x1f35+0x1601*-0x1;}set['top'](_0x69a93f){this['_margin']['w']=_0x69a93f;const _0x14e97d=this['entity']['getLocalPo'+'sition'](),_0x40e962=this['_absBottom'],_0x42c6b7=this['_localAnch'+'or']['w']-_0x69a93f;this['_setHeight'](_0x42c6b7-_0x40e962),_0x14e97d['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x69a93f-this['_calculate'+'dHeight']*(-0x1cec+0x159c+0x751-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x14e97d);}get['top'](){return this['_margin']['w'];}set['type'](_0x85c38c){_0x85c38c!==this['_type']&&(this['_type']=_0x85c38c,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x85c38c===Cu?this['_image']=new cR(this):_0x85c38c===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x41d12f){this['_useInput']!==_0x41d12f&&(this['_useInput']=_0x41d12f,this['system']['app']['elementInp'+'ut']?_0x41d12f?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x3f1+0x1b22+-0x25*0xd7)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x41d12f));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x2f8305){this['_fitMode']=_0x2f8305,this['_calculate'+'Size'](!(0x228c+-0x12b4+-0xfd8),!(0xa3d+-0xc*0x130+0x403)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x199d53){this['_width']=_0x199d53,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x199d53,!(0xe8c*0x2+0x14cf+-0x31e7)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x200f31=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x1*-0x12bf+-0x25e*0x1+-0x1a2*0xa]=-ws['data'][-0x1d7*0x3+-0x23b6+0x4*0xa52],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0xd5807b=-0x1*0x16f6+0x7*-0x55+0x1949*0x1;_0xd5807b<0x1*-0x129e+0x1678*0x1+-0x3d6;_0xd5807b++)ws['transformP'+'oint'](_0x200f31[_0xd5807b],this['_worldCorn'+'ers'][_0xd5807b]);}}else{const _0x49ff50=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x49ff50['x'],-_0x49ff50['y'],-_0x49ff50['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x49ff50['x'],_0x49ff50['y'],_0x49ff50['z']);const _0x2c61c6=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x2c61c6['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x49ff50['x']-this['pivot']['x']*this['calculated'+'Width'],_0x49ff50['y']-this['pivot']['y']*this['calculated'+'Height'],_0x49ff50['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1b0b+0xc5*0x29+-0x482]),Pi['set'](_0x49ff50['x']+(-0x8*0x439+0x9b5+0x4*0x605-this['pivot']['x'])*this['calculated'+'Width'],_0x49ff50['y']-this['pivot']['y']*this['calculated'+'Height'],_0x49ff50['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x2368+-0x238f+0x28]),Pi['set'](_0x49ff50['x']+(0x2026+0x265d+-0x4682-this['pivot']['x'])*this['calculated'+'Width'],_0x49ff50['y']+(0x1*-0xadb+-0xa*-0x14+0x2*0x50a-this['pivot']['y'])*this['calculated'+'Height'],_0x49ff50['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1a*-0x16+-0x1*0x67f+-0x1*-0x8bd]),Pi['set'](_0x49ff50['x']-this['pivot']['x']*this['calculated'+'Width'],_0x49ff50['y']+(-0xf07+-0x2*0x155+0x5e6*0x3-this['pivot']['y'])*this['calculated'+'Height'],_0x49ff50['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xba6*-0x3+-0x9d4+0x1*-0x191b]);}return this['_worldCorn'+'ersDirty']=!(-0x2456+-0x3dc+-0x29*-0xfb),this['_worldCorn'+'ers'];}set['fontSize'](_0x2cb5cb){this['_setValue']('fontSize',_0x2cb5cb);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x330abe){this['_setValue']('minFontSiz'+'e',_0x330abe);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x265dac){this['_setValue']('maxFontSiz'+'e',_0x265dac);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x57e8d5){this['_setValue']('maxLines',_0x57e8d5);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x3b3ffd){this['_setValue']('autoFitWid'+'th',_0x3b3ffd);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x2d107d){this['_setValue']('autoFitHei'+'ght',_0x2d107d);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x230a0a){this['_setValue']('color',_0x230a0a);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x18a671){this['_setValue']('font',_0x18a671);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x43c1f1){this['_setValue']('fontAsset',_0x43c1f1);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x34724e){this['_setValue']('spacing',_0x34724e);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x54fb87){this['_setValue']('lineHeight',_0x54fb87);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x495bab){this['_setValue']('wrapLines',_0x495bab);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x58dbf9){this['_setValue']('lines',_0x58dbf9);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x3021e1){this['_setValue']('alignment',_0x3021e1);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x56bcee){this['_setValue']('autoWidth',_0x56bcee);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x5f5066){this['_setValue']('autoHeight',_0x5f5066);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x491a16){this['_setValue']('rtlReorder',_0x491a16);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x4163b0){this['_setValue']('unicodeCon'+'verter',_0x4163b0);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x586090){this['_setValue']('text',_0x586090);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x54e192){this['_setValue']('key',_0x54e192);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0xf0dcd9){this['_setValue']('texture',_0xf0dcd9);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x510648){this['_setValue']('textureAss'+'et',_0x510648);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x4f011d){this['_setValue']('material',_0x4f011d);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x2d4ab6){this['_setValue']('materialAs'+'set',_0x2d4ab6);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x2c7735){this['_setValue']('sprite',_0x2c7735);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x2eaa8d){this['_setValue']('spriteAsse'+'t',_0x2eaa8d);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x49e16f){this['_setValue']('spriteFram'+'e',_0x49e16f);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0xc63b5d){this['_setValue']('pixelsPerU'+'nit',_0xc63b5d);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x4634fb){this['_setValue']('opacity',_0x4634fb);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x3714c8){this['_setValue']('rect',_0x3714c8);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x592a42){this['_setValue']('mask',_0x592a42);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x16a20c){this['_setValue']('outlineCol'+'or',_0x16a20c);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x3d9935){this['_setValue']('outlineThi'+'ckness',_0x3d9935);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x72bec6){this['_setValue']('shadowColo'+'r',_0x72bec6);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x151733){this['_setValue']('shadowOffs'+'et',_0x151733);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x28c85f){this['_setValue']('enableMark'+'up',_0x28c85f);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x75478){this['_setValue']('rangeStart',_0x75478);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x4c7e3a){this['_setValue']('rangeEnd',_0x4c7e3a);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0xa13d3d,_0x2b8a18){this['_text']?(this['_text'][_0xa13d3d]!==_0x2b8a18&&this['_dirtyBatc'+'h'](),this['_text'][_0xa13d3d]=_0x2b8a18):this['_image']&&(this['_image'][_0xa13d3d]!==_0x2b8a18&&this['_dirtyBatc'+'h'](),this['_image'][_0xa13d3d]=_0x2b8a18);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x4e0adf,_0x192437,_0x5014f7){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x4e0adf,_0x192437,_0x5014f7);return;}_0x4e0adf instanceof D?Ef['copy'](_0x4e0adf):Ef['set'](_0x4e0adf,_0x192437,_0x5014f7),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x5d0418,_0x53f2a8,_0x3ff75a){_0x5d0418 instanceof D?this['localPosit'+'ion']['copy'](_0x5d0418):this['localPosit'+'ion']['set'](_0x5d0418,_0x53f2a8,_0x3ff75a);const _0x13c132=this['element'],_0x4601d1=this['localPosit'+'ion'],_0x25372b=_0x13c132['_pivot'];_0x13c132['_margin']['x']=_0x4601d1['x']-_0x13c132['_calculate'+'dWidth']*_0x25372b['x'],_0x13c132['_margin']['z']=_0x13c132['_localAnch'+'or']['z']-_0x13c132['_localAnch'+'or']['x']-_0x13c132['_calculate'+'dWidth']-_0x13c132['_margin']['x'],_0x13c132['_margin']['y']=_0x4601d1['y']-_0x13c132['_calculate'+'dHeight']*_0x25372b['y'],_0x13c132['_margin']['w']=_0x13c132['_localAnch'+'or']['w']-_0x13c132['_localAnch'+'or']['y']-_0x13c132['_calculate'+'dHeight']-_0x13c132['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x1b7987=this['element'],_0x1cfa68=_0x1b7987['screen'];if(_0x1cfa68){if(_0x1b7987['_anchorDir'+'ty']){let _0x5f33d1=0x5*-0x5bd+-0x41*0x2b+-0x13ce*-0x2,_0x531886=-0x2a5*0x3+-0x1dbe+-0x25ad*-0x1,_0x23302f=0x1e7d+0xa*0x4e+0x11*-0x1f9,_0x41f2c1=-0x5*-0x97+0xf*-0x236+0x1e38;if(this['_parent']&&this['_parent']['element'])_0x5f33d1=this['_parent']['element']['calculated'+'Width'],_0x531886=this['_parent']['element']['calculated'+'Height'],_0x23302f=this['_parent']['element']['pivot']['x'],_0x41f2c1=this['_parent']['element']['pivot']['y'];else{const _0x10e257=_0x1cfa68['screen']['resolution'];_0x5f33d1=_0x10e257['x']/_0x1cfa68['screen']['scale'],_0x531886=_0x10e257['y']/_0x1cfa68['screen']['scale'];}_0x1b7987['_anchorTra'+'nsform']['setTransla'+'te'](_0x5f33d1*(_0x1b7987['anchor']['x']-_0x23302f),-(_0x531886*(_0x41f2c1-_0x1b7987['anchor']['y'])),-0x1f06+-0xba0+-0x2*-0x1553),_0x1b7987['_anchorDir'+'ty']=!(-0x13*0x1c1+0x7fc+0x1958),_0x1b7987['_calculate'+'LocalAncho'+'rs']();}_0x1b7987['_sizeDirty']&&_0x1b7987['_calculate'+'Size'](!(-0xf6*-0x8+-0x1*0x1be7+0x1438),!(0x1*-0x166d+-0x1049*-0x1+0xd*0x79));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x3658aa=this['localPosit'+'ion'],_0x336ba1=_0x1b7987['_pivot'];_0x1b7987['_margin']['x']=_0x3658aa['x']-_0x1b7987['_calculate'+'dWidth']*_0x336ba1['x'],_0x1b7987['_margin']['z']=_0x1b7987['_localAnch'+'or']['z']-_0x1b7987['_localAnch'+'or']['x']-_0x1b7987['_calculate'+'dWidth']-_0x1b7987['_margin']['x'],_0x1b7987['_margin']['y']=_0x3658aa['y']-_0x1b7987['_calculate'+'dHeight']*_0x336ba1['y'],_0x1b7987['_margin']['w']=_0x1b7987['_localAnch'+'or']['w']-_0x1b7987['_localAnch'+'or']['y']-_0x1b7987['_calculate'+'dHeight']-_0x1b7987['_margin']['y'],this['_dirtyLoca'+'l']=!(0x31*-0xb6+-0x1*0xb5+-0x28a*-0xe);}if(!_0x1cfa68){this['_dirtyWorl'+'d']&&(_0x1b7987['_cornersDi'+'rty']=!(-0x20b*0x4+0x11*0x1d+0x63f),_0x1b7987['_canvasCor'+'nersDirty']=!(0x5*-0x683+0x1f*-0x83+0x306c*0x1),_0x1b7987['_worldCorn'+'ersDirty']=!(-0x1666+0x1d*-0x16+0x18e4)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x1b7987['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x1b7987['_anchorTra'+'nsform']):_0x1b7987['_screenToW'+'orld']['copy'](_0x1b7987['_anchorTra'+'nsform']),_0x1b7987['_modelTran'+'sform']['mul2'](_0x1b7987['_screenToW'+'orld'],this['localTrans'+'form']),_0x1cfa68){_0x1b7987['_screenToW'+'orld']['mul2'](_0x1cfa68['screen']['_screenMat'+'rix'],_0x1b7987['_screenToW'+'orld']),_0x1cfa68['screen']['screenSpac'+'e']||_0x1b7987['_screenToW'+'orld']['mul2'](_0x1cfa68['worldTrans'+'form'],_0x1b7987['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x1b7987['_screenToW'+'orld'],this['localTrans'+'form']);const _0x3b7d1f=_0x1b7987['_parentWor'+'ldTransfor'+'m'];_0x3b7d1f['setIdentit'+'y']();const _0x459ddb=this['_parent'];_0x459ddb&&_0x459ddb['element']&&_0x459ddb!==_0x1cfa68&&(ws['setTRS'](D['ZERO'],_0x459ddb['getLocalRo'+'tation'](),_0x459ddb['getLocalSc'+'ale']()),_0x3b7d1f['mul2'](_0x459ddb['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x581366=Pi;_0x581366['set'](-0x4e6+-0x4aa+-0x132*-0x8,0x2557+-0x21c*0x5+-0x1*0x1acb,this['localPosit'+'ion']['z']);const _0x11effb=MR;_0x11effb['set'](_0x1b7987['_absLeft']+_0x1b7987['_pivot']['x']*_0x1b7987['calculated'+'Width'],_0x1b7987['_absBottom']+_0x1b7987['_pivot']['y']*_0x1b7987['calculated'+'Height'],-0x3*-0x51a+0x18b3*-0x1+-0xb9*-0xd),ws['setTransla'+'te'](-_0x11effb['x'],-_0x11effb['y'],-_0x11effb['z']),bc['setTRS'](_0x581366,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x11effb['x'],_0x11effb['y'],_0x11effb['z']),_0x1b7987['_screenTra'+'nsform']['mul2'](_0x1b7987['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x1b7987['_cornersDi'+'rty']=!(-0x161b+-0x1c73+0x328e),_0x1b7987['_canvasCor'+'nersDirty']=!(0x50e+0x5*-0x13d+-0x3*-0x61),_0x1b7987['_worldCorn'+'ersDirty']=!(-0x215f+0xb*0x1d5+0xd38);}else this['worldTrans'+'form']['copy'](_0x1b7987['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x1af4+0x958+-0x244b);}}['_onInsert'](_0xb8609f){const _0x14eb15=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x14eb15['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x7e613=this['entity'];for(;_0x7e613;){const _0x1b07f1=_0x7e613['parent'];if((_0x1b07f1===null||_0x1b07f1['screen'])&&_0x7e613['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x27f9f2=this['system']['_prerender']['indexOf'](this['entity']);_0x27f9f2>=0xc2e+-0x1*-0x1323+-0x1f51&&this['system']['_prerender']['splice'](_0x27f9f2,0x1131+0x125d+0x238d*-0x1),this['system']['_prerender']['indexOf'](_0x7e613)<-0x11df+-0x7b*0x45+-0x15*-0x26e&&this['system']['_prerender']['push'](_0x7e613),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x7e613['name']);}_0x7e613=_0x1b07f1;}}['_onPrerend'+'er'](){for(let _0x43347a=0x2586+0x10a7+0x9*-0x605;_0x43347a<this['system']['_prerender']['length'];_0x43347a++){const _0x1c5c1f=this['system']['_prerender'][_0x43347a];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x1c5c1f['name']),_0x1c5c1f['element']&&_0x1c5c1f['element']['syncMask'](-0x290+0x25f2+-0x2361);}this['system']['_prerender']['length']=-0x3e5*-0x9+0x7*0x139+-0x2b9c;}['_bindScree'+'n'](_0x148ea1){_0x148ea1['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x5edebd){_0x5edebd['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x374781){this['screen']&&this['screen']!==_0x374781&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x30c260=this['screen'];this['screen']=_0x374781,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x30c260),this['_anchorDir'+'ty']=!(0x1f68+-0x2c8+-0xe5*0x20);const _0x4fddd8=this['entity']['children'];for(let _0x3a0062=-0x6bd+0xd29+-0x66c,_0x4909cb=_0x4fddd8['length'];_0x3a0062<_0x4909cb;_0x3a0062++)_0x4fddd8[_0x3a0062]['element']&&_0x4fddd8[_0x3a0062]['element']['_updateScr'+'een'](_0x374781);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x29abd0){const _0x186a67=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x186a67['mask'],_0x29abd0);}['_setMasked'+'By'](_0x4bf2f0){const _0x56def5=this['_image']||this['_text'];if(_0x4bf2f0){const _0x592fb3=_0x4bf2f0['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x592fb3),_0x56def5==null||_0x56def5['_setStenci'+'l'](new pi({'ref':_0x592fb3,'func':dh})),this['_maskedBy']=_0x4bf2f0;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x56def5==null||_0x56def5['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x7cf512,_0x24f796){var _0x43416f,_0x1be338;if(_0x7cf512){if(this['_setMasked'+'By'](_0x7cf512),this['mask']){const _0x2d076d=_0x7cf512['element']['_image']['_maskRef'],_0x57e2df=new pi({'ref':_0x2d076d,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x57e2df),this['_image']['_maskRef']=_0x24f796,_0x24f796++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x57e2df['ref']+(0x1*0xb7b+-0x5eb+0x1*-0x58f))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x24f796),_0x7cf512=this['entity'];}const _0x537795=this['entity']['children'];for(let _0x192652=-0x1*0x118f+-0x1538+-0x26c7*-0x1,_0x5aff94=_0x537795['length'];_0x192652<_0x5aff94;_0x192652++)(_0x43416f=_0x537795[_0x192652]['element'])==null||_0x43416f['_updateMas'+'k'](_0x7cf512,_0x24f796);this['mask']&&_0x24f796--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x5b393a=new pi({'ref':_0x24f796,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x5b393a),this['_image']['_maskRef']=_0x24f796,_0x24f796++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x5b393a['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x24f796),_0x7cf512=this['entity'];}const _0x5e50c7=this['entity']['children'];for(let _0x24d7a7=-0x3*0xaff+-0x417+0x2514,_0x52c981=_0x5e50c7['length'];_0x24d7a7<_0x52c981;_0x24d7a7++)(_0x1be338=_0x5e50c7[_0x24d7a7]['element'])==null||_0x1be338['_updateMas'+'k'](_0x7cf512,_0x24f796);this['mask']&&_0x24f796--;}}['_parseUpTo'+'Screen'](){const _0x4406cd={'screen':null,'mask':null};let _0x2f8a46=this['entity']['_parent'];for(;_0x2f8a46&&!_0x2f8a46['screen'];)_0x2f8a46['element']&&_0x2f8a46['element']['mask']&&(_0x4406cd['mask']||(_0x4406cd['mask']=_0x2f8a46)),_0x2f8a46=_0x2f8a46['parent'];return _0x2f8a46&&_0x2f8a46['screen']&&(_0x4406cd['screen']=_0x2f8a46),_0x4406cd;}['_onScreenR'+'esize'](_0x1414e2){this['_anchorDir'+'ty']=!(-0x3*-0xc95+-0x17*-0xb6+-0x3619),this['_cornersDi'+'rty']=!(-0x53b*-0x1+-0x33f+0x1fc*-0x1),this['_worldCorn'+'ersDirty']=!(0x1*-0x1bb9+-0x25ce+-0xd1b*-0x5),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x1414e2);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x196b1f=-0x4f6*-0x1+-0xce5+0xbd7,_0x4aed94=-0x1c9*-0x14+0x4*-0x292+-0x1584;const _0x43fc19=this['entity']['_parent'];if(_0x43fc19&&_0x43fc19['element'])_0x196b1f=_0x43fc19['element']['calculated'+'Width'],_0x4aed94=_0x43fc19['element']['calculated'+'Height'];else{if(this['screen']){const _0x4c0567=this['screen']['screen']['resolution'],_0x28043e=this['screen']['screen']['scale'];_0x196b1f=_0x4c0567['x']/_0x28043e,_0x4aed94=_0x4c0567['y']/_0x28043e;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x196b1f,this['_anchor']['y']*_0x4aed94,this['_anchor']['z']*_0x196b1f,this['_anchor']['w']*_0x4aed94);}['getOffsetP'+'osition'](_0x3aea79,_0x1f9929){const _0x3b06b3=this['entity']['getLocalPo'+'sition']()['clone']();return _0x3b06b3['x']+=_0x3aea79,_0x3b06b3['y']+=_0x1f9929,this['_screenToW'+'orld']['transformP'+'oint'](_0x3b06b3,_0x3b06b3),_0x3b06b3;}['onLayersCh'+'anged'](_0x17c9f5,_0x2fdc87){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x17c9f5['off']('add',this['onLayerAdd'+'ed'],this),_0x17c9f5['off']('remove',this['onLayerRem'+'oved'],this),_0x2fdc87['on']('add',this['onLayerAdd'+'ed'],this),_0x2fdc87['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2ad5cd){this['layers']['indexOf'](_0x2ad5cd['id'])<-0x206c+0xed1*0x1+0x119b*0x1||(this['_image']?_0x2ad5cd['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2ad5cd['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x32ce73){this['layers']['indexOf'](_0x32ce73['id'])<-0x16bd+-0xc1*-0x10+0xaad||(this['_image']?_0x32ce73['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x32ce73['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x509031;const _0x6b709f=this['system']['app']['scene'],_0x3439cd=_0x6b709f['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x6b709f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3439cd&&(this['_evtLayerA'+'dded']=_0x3439cd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3439cd['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0xc*0x1af+0x183a+-0x1*0x2c6e&&((_0x509031=this['system']['app']['batcher'])==null||_0x509031['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x25422c,_0x179a78,_0x149bd9,_0x3e56ce;const _0x1e1659=this['system']['app']['scene']['layers'];(_0x25422c=this['_evtLayers'+'Changed'])==null||_0x25422c['off'](),this['_evtLayers'+'Changed']=null,_0x1e1659&&((_0x179a78=this['_evtLayerA'+'dded'])==null||_0x179a78['off'](),this['_evtLayerA'+'dded']=null,(_0x149bd9=this['_evtLayerR'+'emoved'])==null||_0x149bd9['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x6b*0x13+0x211*-0x2+0xc13&&((_0x3e56ce=this['system']['app']['batcher'])==null||_0x3e56ce['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x3bd79d,_0x7be857){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x40b549=this['_absRight']-this['_absLeft'],_0x2673a5=this['_absTop']-this['_absBottom'];_0x3bd79d?this['_setWidth'](_0x40b549):this['_setCalcul'+'atedWidth'](_0x40b549,!(-0x26d8+0x18e1+0x95*0x18)),_0x7be857?this['_setHeight'](_0x2673a5):this['_setCalcul'+'atedHeight'](_0x2673a5,!(-0x2068+0x142f*0x1+0xc3a));const _0x19cbe5=this['entity']['getLocalPo'+'sition']();_0x19cbe5['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x19cbe5['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x19cbe5),this['_sizeDirty']=!(-0x7*0x35b+-0x1*0x17cb+0xf*0x327);}['_setWidth'](_0x23940c){this['_width']=_0x23940c,this['_setCalcul'+'atedWidth'](_0x23940c,!(0x2*0xcb9+-0x46*-0x4d+0x2e7f*-0x1)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x5686f2){this['_height']=_0x5686f2,this['_setCalcul'+'atedHeight'](_0x5686f2,!(-0x4b0+-0xdc7+-0x49e*-0x4)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x4488f7,_0x4ea678){if(!(Math['abs'](_0x4488f7-this['_calculate'+'dWidth'])<=0x1ab7+0x1*0x7ae+0x1*-0x2265+0.0001)){if(this['_calculate'+'dWidth']=_0x4488f7,this['entity']['_dirtifyLo'+'cal'](),_0x4ea678){const _0x5a59ff=this['entity']['getLocalPo'+'sition'](),_0x1ffb83=this['_pivot'];this['_margin']['x']=_0x5a59ff['x']-this['_calculate'+'dWidth']*_0x1ffb83['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x481295,_0x71a9d){if(!(Math['abs'](_0x481295-this['_calculate'+'dHeight'])<=-0xd06*0x1+-0x2*0x970+0x1fe6+0.0001)){if(this['_calculate'+'dHeight']=_0x481295,this['entity']['_dirtifyLo'+'cal'](),_0x71a9d){const _0x75c70c=this['entity']['getLocalPo'+'sition'](),_0x2390c4=this['_pivot'];this['_margin']['y']=_0x75c70c['y']-this['_calculate'+'dHeight']*_0x2390c4['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x4d39f7=this['entity']['_children'];for(let _0x770ed=-0x1*0x39a+0x1ba6+0x156*-0x12,_0x37acfb=_0x4d39f7['length'];_0x770ed<_0x37acfb;_0x770ed++)_0x4d39f7[_0x770ed]['element']&&(_0x4d39f7[_0x770ed]['element']['_anchorDir'+'ty']=!(-0x1c74+0x72b+-0x1*-0x1549),_0x4d39f7[_0x770ed]['element']['_sizeDirty']=!(0x1a00+-0x76*0x1d+-0x6*0x21b));}['addModelTo'+'Layers'](_0x2b1d05){this['_addedMode'+'ls']['push'](_0x2b1d05);for(let _0x5d3842=0x1c87+0x161a+-0x32a1;_0x5d3842<this['layers']['length'];_0x5d3842++){const _0x2fe454=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5d3842]);_0x2fe454&&_0x2fe454['addMeshIns'+'tances'](_0x2b1d05['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x400578){const _0x30ecca=this['_addedMode'+'ls']['indexOf'](_0x400578);_0x30ecca>=-0x255d+0x780+-0x37*-0x8b&&this['_addedMode'+'ls']['splice'](_0x30ecca,0x21f7+0x6d9+-0x28cf);for(let _0x405de1=0x1cf*-0x15+0x1170+0x148b;_0x405de1<this['layers']['length'];_0x405de1++){const _0x15f4b9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x405de1]);_0x15f4b9&&_0x15f4b9['removeMesh'+'Instances'](_0x400578['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x333796=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x333796&&(this['_maskOffse'+'t']=-0x106a+0x1069*0x1+0x1*0x1+0.5,this['_offsetRea'+'dAt']=_0x333796);const _0x322641=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0xb8b*-0x1+0xe7c*-0x1+0x2f1+0.001,_0x322641;}['isVisibleF'+'orCamera'](_0x27e4f4){let _0x34f447,_0x7f7d49,_0x57c16b,_0x2d00f2;if(this['maskedBy']){const _0xef33e6=this['maskedBy']['element']['screenCorn'+'ers'];_0x34f447=Math['min'](Math['min'](_0xef33e6[0x39*0x6d+-0x108d+-0x7b8]['x'],_0xef33e6[-0x1*-0x4fd+0x223a*-0x1+0x1d3e]['x']),Math['min'](_0xef33e6[-0x14f8+-0x26cf+0xbf5*0x5]['x'],_0xef33e6[-0xcf7+0x91e*-0x2+0x1f36]['x'])),_0x7f7d49=Math['max'](Math['max'](_0xef33e6[0xfcf+0x2227+-0x31f6]['x'],_0xef33e6[0x3*0x5cb+-0x24+-0x113c]['x']),Math['max'](_0xef33e6[0x152e*0x1+0x2287+-0x1*0x37b3]['x'],_0xef33e6[-0x123*-0x16+-0x9e8+0xf17*-0x1]['x'])),_0x2d00f2=Math['min'](Math['min'](_0xef33e6[-0x15e9+0x2*-0x416+-0x1*-0x1e15]['y'],_0xef33e6[0x48e+0x167b+-0x1b08]['y']),Math['min'](_0xef33e6[0x349*0x7+0x4*-0x2+-0x16f5]['y'],_0xef33e6[0x1022+0xe*-0x1fc+0xba9]['y'])),_0x57c16b=Math['max'](Math['max'](_0xef33e6[-0x1*0x1a5f+0x28*-0x49+0x25c7]['y'],_0xef33e6[-0x275*-0x1+0x27a+0x1*-0x4ee]['y']),Math['max'](_0xef33e6[0x1409+-0x143b+0x34]['y'],_0xef33e6[-0x1*0x1f43+0x955*0x1+0x15f1]['y']));}else{const _0x4e3983=this['system']['app']['graphicsDe'+'vice']['width'],_0x559c2f=this['system']['app']['graphicsDe'+'vice']['height'],_0x263fca=_0x27e4f4['_rect']['z']*_0x4e3983,_0x4ba67b=_0x27e4f4['_rect']['w']*_0x559c2f;_0x34f447=_0x27e4f4['_rect']['x']*_0x4e3983,_0x7f7d49=_0x34f447+_0x263fca,_0x57c16b=(-0x2536+-0x1e9*0x7+0x3296*0x1-_0x27e4f4['_rect']['y'])*_0x559c2f,_0x2d00f2=_0x57c16b-_0x4ba67b;}const _0x27adc9=this['screenCorn'+'ers'],_0x692434=Math['min'](Math['min'](_0x27adc9[-0x1*0x304+0x12e5+-0x1*0xfe1]['x'],_0x27adc9[0x1c9a+-0x14a2+-0x7f7]['x']),Math['min'](_0x27adc9[0x45*-0x31+0x2c*0xac+0x1*-0x1059]['x'],_0x27adc9[0x3*-0x6b1+0x1*0x20a5+-0xc8f*0x1]['x'])),_0x278b7f=Math['max'](Math['max'](_0x27adc9[-0x122+0xd*-0x288+0x220a*0x1]['x'],_0x27adc9[-0xc37+0xa*-0x3c7+0x31fe]['x']),Math['max'](_0x27adc9[0xf09*-0x2+0x2597*0x1+0x783*-0x1]['x'],_0x27adc9[-0x467+0x1de*-0x2+0x826]['x'])),_0x9aa8ea=Math['min'](Math['min'](_0x27adc9[-0x19e*-0x1+0x2*0xee3+-0x1f64]['y'],_0x27adc9[0x1076+-0x1704+-0x68f*-0x1]['y']),Math['min'](_0x27adc9[-0x41*0x21+0xcf6+-0x493*0x1]['y'],_0x27adc9[-0xe21*0x1+-0x1639+0x245d]['y'])),_0xf192e9=Math['max'](Math['max'](_0x27adc9[0x1565*0x1+0x5*0x314+0x24c9*-0x1]['y'],_0x27adc9[0x20ad+0x140b+-0x34b7]['y']),Math['max'](_0x27adc9[0x1*-0x202+0x1*-0xd0c+0xf10]['y'],_0x27adc9[0x48*-0x65+0x1*-0x34+0x1c9f]['y']));return!(_0x278b7f<_0x34f447||_0x692434>_0x7f7d49||_0x9aa8ea>_0x57c16b||_0xf192e9<_0x2d00f2);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x2b*0x1f+-0x13b9+0xe85);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x11d+-0x4a1*0x6+0xe72*0x2);}['_dirtyBatc'+'h'](){var _0x39a033;this['batchGroup'+'Id']!==-(-0x1bfc+0x2*0xf71+-0x1*0x2e5)&&((_0x39a033=this['system']['app']['batcher'])==null||_0x39a033['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x263b+-0x95*-0xb+-0x2ca2);}}const IR=['enabled'];class LR extends ct{constructor(_0x1acc2b){super(_0x1acc2b),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x1acc2b['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x1d81f9=this['_defaultTe'+'xture']['lock'](),_0x1203ed=new Uint8Array(-0xf39+-0x18a0+-0x9d*-0x41);_0x1203ed[0x3e*-0x8e+0x262c+-0x3c8]=0x2231*0x1+0xac1*0x2+0x1*-0x36b4,_0x1203ed[-0x1b55+-0x1*0x2330+0x3e86]=-0x1a5*-0x2+-0x1f19+0xe67*0x2,_0x1203ed[0x1b33+-0x2335+-0x4c*-0x1b]=0x1*0x25ac+0x207a+-0x4527,_0x1203ed[-0xf6*-0x11+0x1449+-0x249c]=0x232b+0x11*0x31+-0x256d,_0x1d81f9['set'](_0x1203ed),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x5750a3,_0xb4dac1,_0x47969f){_0x5750a3['_beingInit'+'ialized']=!(-0x204b+-0x2be+0x2309),_0xb4dac1['anchor']!==void(-0x1446*-0x1+0x1d38+-0x317e)&&(_0xb4dac1['anchor']instanceof re?_0x5750a3['anchor']['copy'](_0xb4dac1['anchor']):_0x5750a3['anchor']['set'](_0xb4dac1['anchor'][-0x90*-0x2c+-0x1*-0x13e5+-0x2ca5],_0xb4dac1['anchor'][-0x1*0x12be+-0xba*0x2b+0x31fd],_0xb4dac1['anchor'][-0x7de+0x1*0x199e+-0x11be],_0xb4dac1['anchor'][0x1*-0x2392+0x218a+0x1*0x20b])),_0xb4dac1['pivot']!==void(0x19de+-0x61e+-0x40*0x4f)&&(_0xb4dac1['pivot']instanceof J?_0x5750a3['pivot']['copy'](_0xb4dac1['pivot']):_0x5750a3['pivot']['set'](_0xb4dac1['pivot'][-0x1*-0x1c03+0x2*-0xc2a+-0x3af*0x1],_0xb4dac1['pivot'][-0xd41+0x17de+0x1c*-0x61]));const _0x508b4d=Math['abs'](_0x5750a3['anchor']['x']-_0x5750a3['anchor']['z'])>-0x3*-0x685+-0x13*0x7c+0xf1*-0xb+0.001,_0x30941e=Math['abs'](_0x5750a3['anchor']['y']-_0x5750a3['anchor']['w'])>-0x2112+0xa5b+0x16b7+0.001;let _0x284e7b=!(0x1c91+0x1*0x20b1+0x1*-0x3d41),_0x4d1d0c;_0xb4dac1['margin']!==void(0x1c8f+0x38f+0x100f*-0x2)&&(_0xb4dac1['margin']instanceof re?_0x5750a3['margin']['copy'](_0xb4dac1['margin']):_0x5750a3['_margin']['set'](_0xb4dac1['margin'][-0x4*-0x233+-0x5*-0x161+-0xfb1*0x1],_0xb4dac1['margin'][0x76*-0xb+0x206+0xb*0x47],_0xb4dac1['margin'][-0xdeb+-0x1c72*0x1+-0x2a5f*-0x1],_0xb4dac1['margin'][-0x1801+0x173a+0xca]),_0x284e7b=!(-0x1*-0x1d09+0x12a7+-0x38*0xda)),_0xb4dac1['left']!==void(0x17bf+-0x15cf+0x1f0*-0x1)&&(_0x5750a3['_margin']['x']=_0xb4dac1['left'],_0x284e7b=!(-0x3c4*-0x7+0x119*-0x1c+0x460)),_0xb4dac1['bottom']!==void(-0x1925+-0x1cf9*-0x1+-0x3d4)&&(_0x5750a3['_margin']['y']=_0xb4dac1['bottom'],_0x284e7b=!(-0x2f0+0x1c05*-0x1+-0x1*-0x1ef5)),_0xb4dac1['right']!==void(0x7a2*0x3+-0xb*0x251+0x295*0x1)&&(_0x5750a3['_margin']['z']=_0xb4dac1['right'],_0x284e7b=!(-0x1*-0xce5+-0x3*0x835+-0x4f*-0x26)),_0xb4dac1['top']!==void(0x4*0x12+0xd1f+0x1*-0xd67)&&(_0x5750a3['_margin']['w']=_0xb4dac1['top'],_0x284e7b=!(-0x3*0x6fb+0x1325+0x17*0x14)),_0x284e7b&&(_0x5750a3['margin']=_0x5750a3['_margin']);let _0x572fc0=!(-0xdb1+0x22b3+-0x1501);_0xb4dac1['width']!==void(-0x1889*-0x1+-0x446*0x2+-0xffd)&&!_0x508b4d?_0x5750a3['width']=_0xb4dac1['width']:_0x508b4d&&(_0x572fc0=!(0x1042*-0x2+-0x761*-0x4+-0x100*-0x3)),_0xb4dac1['height']!==void(-0x5*-0x466+-0x1*0x472+0x118c*-0x1)&&!_0x30941e?_0x5750a3['height']=_0xb4dac1['height']:_0x30941e&&(_0x572fc0=!(-0x5*-0x553+0xcd3*-0x2+-0x3*0x53)),_0x572fc0&&(_0x5750a3['anchor']=_0x5750a3['anchor']),_0xb4dac1['enabled']!==void(-0xf9*-0x20+0x1a1d+-0x1*0x393d)&&(_0x5750a3['enabled']=_0xb4dac1['enabled']),_0xb4dac1['useInput']!==void(0xfa6+-0x1f6b+0xfc5)&&(_0x5750a3['useInput']=_0xb4dac1['useInput']),_0xb4dac1['fitMode']!==void(-0x4d5*-0x6+-0x1*-0x1f79+-0x17*0x2a1)&&(_0x5750a3['fitMode']=_0xb4dac1['fitMode']),_0x5750a3['batchGroup'+'Id']=_0xb4dac1['batchGroup'+'Id']===void(-0x9f4+-0xdad+0x17a1)||_0xb4dac1['batchGroup'+'Id']===null?-(-0x2078+0xb80+0x7*0x2ff):_0xb4dac1['batchGroup'+'Id'],_0xb4dac1['layers']&&Array['isArray'](_0xb4dac1['layers'])&&(_0x5750a3['layers']=_0xb4dac1['layers']['slice'](0x7e1+-0x4a5+-0x33c)),_0xb4dac1['type']!==void(0x1*-0x22cb+-0x1312*-0x2+-0x359)&&(_0x5750a3['type']=_0xb4dac1['type']),_0x5750a3['type']===Cu?(_0xb4dac1['rect']!==void(-0x1715+-0x2474+0x3b89)&&(_0x5750a3['rect']=_0xb4dac1['rect']),_0xb4dac1['color']!==void(0x7*-0x7a+0x1f0+0x166)&&(_0x4d1d0c=_0xb4dac1['color'],_0x4d1d0c instanceof ie||(_0x4d1d0c=new ie(_0xb4dac1['color'][0xa7*0x17+0x2c6+0x5ed*-0x3],_0xb4dac1['color'][0x2657+-0x23c2+-0x294],_0xb4dac1['color'][-0x3f9*-0x2+-0x8f7+-0x107*-0x1])),_0x5750a3['color']=_0x4d1d0c),_0xb4dac1['opacity']!==void(0x223c+0x12c5+-0x3501)&&(_0x5750a3['opacity']=_0xb4dac1['opacity']),_0xb4dac1['textureAss'+'et']!==void(0x1bf*-0xf+-0x235*0x1+0x1c66)&&(_0x5750a3['textureAss'+'et']=_0xb4dac1['textureAss'+'et']),_0xb4dac1['texture']&&(_0x5750a3['texture']=_0xb4dac1['texture']),_0xb4dac1['spriteAsse'+'t']!==void(-0x39+-0x25+-0x5e*-0x1)&&(_0x5750a3['spriteAsse'+'t']=_0xb4dac1['spriteAsse'+'t']),_0xb4dac1['sprite']&&(_0x5750a3['sprite']=_0xb4dac1['sprite']),_0xb4dac1['spriteFram'+'e']!==void(-0x1538+0x5d3*-0x5+0x1*0x3257)&&(_0x5750a3['spriteFram'+'e']=_0xb4dac1['spriteFram'+'e']),_0xb4dac1['pixelsPerU'+'nit']!==void(0x12*0x21b+-0x247b+-0x16b*0x1)&&_0xb4dac1['pixelsPerU'+'nit']!==null&&(_0x5750a3['pixelsPerU'+'nit']=_0xb4dac1['pixelsPerU'+'nit']),_0xb4dac1['materialAs'+'set']!==void(0x16da+-0x612+-0x10c8)&&(_0x5750a3['materialAs'+'set']=_0xb4dac1['materialAs'+'set']),_0xb4dac1['material']&&(_0x5750a3['material']=_0xb4dac1['material']),_0xb4dac1['mask']!==void(0x8a7+-0x1*0x1a23+-0x175*-0xc)&&(_0x5750a3['mask']=_0xb4dac1['mask'])):_0x5750a3['type']===jv&&(_0xb4dac1['autoWidth']!==void(0x56*-0x2f+0xcbb*-0x1+0x1c85)&&(_0x5750a3['autoWidth']=_0xb4dac1['autoWidth']),_0xb4dac1['autoHeight']!==void(0xbc*-0x24+-0x1*0x1828+-0x194c*-0x2)&&(_0x5750a3['autoHeight']=_0xb4dac1['autoHeight']),_0xb4dac1['rtlReorder']!==void(0x16dd+-0x15a6+-0x137)&&(_0x5750a3['rtlReorder']=_0xb4dac1['rtlReorder']),_0xb4dac1['unicodeCon'+'verter']!==void(0x2c*0xd1+0x1*-0x255e+0x172)&&(_0x5750a3['unicodeCon'+'verter']=_0xb4dac1['unicodeCon'+'verter']),_0xb4dac1['text']!==null&&_0xb4dac1['text']!==void(0x7*0x153+-0xa84+0x13f)?_0x5750a3['text']=_0xb4dac1['text']:_0xb4dac1['key']!==null&&_0xb4dac1['key']!==void(-0x1129+0x1d6d+-0xc44)&&(_0x5750a3['key']=_0xb4dac1['key']),_0xb4dac1['color']!==void(0x11cd*0x2+-0xe0c*-0x2+-0x3fb2)&&(_0x4d1d0c=_0xb4dac1['color'],_0x4d1d0c instanceof ie||(_0x4d1d0c=new ie(_0x4d1d0c[0x1*0x67a+0x679*-0x1+-0x1],_0x4d1d0c[-0xabe+-0x16+-0x2f*-0x3b],_0x4d1d0c[-0x3*-0x203+-0x25*0x76+-0x3ad*-0x3])),_0x5750a3['color']=_0x4d1d0c),_0xb4dac1['opacity']!==void(-0x189*-0x9+-0x1925*0x1+-0x122*-0xa)&&(_0x5750a3['opacity']=_0xb4dac1['opacity']),_0xb4dac1['spacing']!==void(0x3*-0x69a+0x241b+-0x1*0x104d)&&(_0x5750a3['spacing']=_0xb4dac1['spacing']),_0xb4dac1['fontSize']!==void(-0x1574+-0x28*0xce+0x35a4)&&(_0x5750a3['fontSize']=_0xb4dac1['fontSize'],_0xb4dac1['lineHeight']||(_0x5750a3['lineHeight']=_0xb4dac1['fontSize'])),_0xb4dac1['lineHeight']!==void(0x262b+0xaf2+-0x311d)&&(_0x5750a3['lineHeight']=_0xb4dac1['lineHeight']),_0xb4dac1['maxLines']!==void(0x1*-0x252d+-0x2*0x4cb+-0x1*-0x2ec3)&&(_0x5750a3['maxLines']=_0xb4dac1['maxLines']),_0xb4dac1['wrapLines']!==void(-0x2*0x3a+-0x1af*0x17+-0x1*-0x272d)&&(_0x5750a3['wrapLines']=_0xb4dac1['wrapLines']),_0xb4dac1['minFontSiz'+'e']!==void(-0x1539+-0x7cd*-0x4+-0x9fb)&&(_0x5750a3['minFontSiz'+'e']=_0xb4dac1['minFontSiz'+'e']),_0xb4dac1['maxFontSiz'+'e']!==void(0xc1*-0x17+0x1*-0x2250+0x33a7)&&(_0x5750a3['maxFontSiz'+'e']=_0xb4dac1['maxFontSiz'+'e']),_0xb4dac1['autoFitWid'+'th']&&(_0x5750a3['autoFitWid'+'th']=_0xb4dac1['autoFitWid'+'th']),_0xb4dac1['autoFitHei'+'ght']&&(_0x5750a3['autoFitHei'+'ght']=_0xb4dac1['autoFitHei'+'ght']),_0xb4dac1['fontAsset']!==void(-0x1c51+-0x1*0x146+-0x3*-0x9dd)&&(_0x5750a3['fontAsset']=_0xb4dac1['fontAsset']),_0xb4dac1['font']!==void(-0x1*0x1042+0x1fd0+-0xf8e)&&(_0x5750a3['font']=_0xb4dac1['font']),_0xb4dac1['alignment']!==void(0x1e99*0x1+0x10cf+-0x2f68)&&(_0x5750a3['alignment']=_0xb4dac1['alignment']),_0xb4dac1['outlineCol'+'or']!==void(0x1*0x7f+0x102a+0x5*-0x355)&&(_0x5750a3['outlineCol'+'or']=_0xb4dac1['outlineCol'+'or']),_0xb4dac1['outlineThi'+'ckness']!==void(0x3*0xd6+-0x33*0x43+0x22b*0x5)&&(_0x5750a3['outlineThi'+'ckness']=_0xb4dac1['outlineThi'+'ckness']),_0xb4dac1['shadowColo'+'r']!==void(-0x1*-0x23fa+0x1c4f*0x1+0x7*-0x92f)&&(_0x5750a3['shadowColo'+'r']=_0xb4dac1['shadowColo'+'r']),_0xb4dac1['shadowOffs'+'et']!==void(0xd5+0xf29+-0xffe)&&(_0x5750a3['shadowOffs'+'et']=_0xb4dac1['shadowOffs'+'et']),_0xb4dac1['enableMark'+'up']!==void(0x11d3+-0x10db*-0x2+-0x3389)&&(_0x5750a3['enableMark'+'up']=_0xb4dac1['enableMark'+'up']));const _0x5e8a4d=_0x5750a3['_parseUpTo'+'Screen']();_0x5e8a4d['screen']&&_0x5750a3['_updateScr'+'een'](_0x5e8a4d['screen']),super['initialize'+'ComponentD'+'ata'](_0x5750a3,_0xb4dac1,_0x47969f),_0x5750a3['_beingInit'+'ialized']=!(-0x1325+0x17f3+-0x4cd),_0x5750a3['type']===Cu&&_0x5750a3['_image']['_meshDirty']&&_0x5750a3['_image']['_updateMes'+'h'](_0x5750a3['_image']['mesh']);}['onAddCompo'+'nent'](_0x1c5227,_0x5b014b){_0x1c5227['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x4f517d,_0x22e9d4){_0x22e9d4['onRemove']();}['cloneCompo'+'nent'](_0x45d4bb,_0x3289de){const _0x436de3=_0x45d4bb['element'],_0x352a86={'enabled':_0x436de3['enabled'],'width':_0x436de3['width'],'height':_0x436de3['height'],'anchor':_0x436de3['anchor']['clone'](),'pivot':_0x436de3['pivot']['clone'](),'margin':_0x436de3['margin']['clone'](),'alignment':_0x436de3['alignment']&&_0x436de3['alignment']['clone']()||_0x436de3['alignment'],'autoWidth':_0x436de3['autoWidth'],'autoHeight':_0x436de3['autoHeight'],'type':_0x436de3['type'],'rect':_0x436de3['rect']&&_0x436de3['rect']['clone']()||_0x436de3['rect'],'rtlReorder':_0x436de3['rtlReorder'],'unicodeConverter':_0x436de3['unicodeCon'+'verter'],'materialAsset':_0x436de3['materialAs'+'set'],'material':_0x436de3['material'],'color':_0x436de3['color']&&_0x436de3['color']['clone']()||_0x436de3['color'],'opacity':_0x436de3['opacity'],'textureAsset':_0x436de3['textureAss'+'et'],'texture':_0x436de3['texture'],'spriteAsset':_0x436de3['spriteAsse'+'t'],'sprite':_0x436de3['sprite'],'spriteFrame':_0x436de3['spriteFram'+'e'],'pixelsPerUnit':_0x436de3['pixelsPerU'+'nit'],'spacing':_0x436de3['spacing'],'lineHeight':_0x436de3['lineHeight'],'wrapLines':_0x436de3['wrapLines'],'layers':_0x436de3['layers'],'fontSize':_0x436de3['fontSize'],'minFontSize':_0x436de3['minFontSiz'+'e'],'maxFontSize':_0x436de3['maxFontSiz'+'e'],'autoFitWidth':_0x436de3['autoFitWid'+'th'],'autoFitHeight':_0x436de3['autoFitHei'+'ght'],'maxLines':_0x436de3['maxLines'],'fontAsset':_0x436de3['fontAsset'],'font':_0x436de3['font'],'useInput':_0x436de3['useInput'],'fitMode':_0x436de3['fitMode'],'batchGroupId':_0x436de3['batchGroup'+'Id'],'mask':_0x436de3['mask'],'outlineColor':_0x436de3['outlineCol'+'or']&&_0x436de3['outlineCol'+'or']['clone']()||_0x436de3['outlineCol'+'or'],'outlineThickness':_0x436de3['outlineThi'+'ckness'],'shadowColor':_0x436de3['shadowColo'+'r']&&_0x436de3['shadowColo'+'r']['clone']()||_0x436de3['shadowColo'+'r'],'shadowOffset':_0x436de3['shadowOffs'+'et']&&_0x436de3['shadowOffs'+'et']['clone']()||_0x436de3['shadowOffs'+'et'],'enableMarkup':_0x436de3['enableMark'+'up']};return _0x436de3['key']!==void(0x733*-0x2+0xac5+0x3a1)&&_0x436de3['key']!==null?_0x352a86['key']=_0x436de3['key']:_0x352a86['text']=_0x436de3['text'],this['addCompone'+'nt'](_0x3289de,_0x352a86);}['getTextEle'+'mentMateri'+'al'](_0x62368f,_0x104bd5,_0x4c36ab){const _0x74a8c2=(_0x62368f&&0xc6e+0x177*0x3+0x2*-0x869)|(_0x104bd5&&0x1164*-0x1+-0x23e0+-0x8e1*-0x6)|(_0x4c36ab&&-0xe32+-0x1*-0x14a1+-0x66b);let _0x1c6d71=this['_defaultTe'+'xtMaterial'+'s'][_0x74a8c2];if(_0x1c6d71)return _0x1c6d71;let _0x206d09='TextMateri'+'al';return _0x1c6d71=new Ut(),_0x104bd5?(_0x1c6d71['msdfMap']=this['_defaultTe'+'xture'],_0x1c6d71['msdfTextAt'+'tribute']=_0x4c36ab,_0x1c6d71['emissive']['set'](0x1625+-0x3*0x597+-0x55f,-0x579*-0x1+0x19ec+0x23e*-0xe,0x233b+-0x17ac+-0xb8e)):(_0x206d09='Bitmap'+_0x206d09,_0x1c6d71['emissive']['set'](-0xd15+-0x8f*-0x3d+-0x14fd,0x25f9+0x189d+-0x3e95,0x4c*0x66+0x2309*-0x1+0x4c2),_0x1c6d71['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x1c6d71['opacityMap']=this['_defaultTe'+'xture'],_0x1c6d71['opacityMap'+'Channel']='a'),_0x62368f&&(_0x206d09='ScreenSpac'+'e'+_0x206d09,_0x1c6d71['depthTest']=!(-0x1*-0x6ab+-0x1*0x10db+-0x1*-0xa31)),_0x1c6d71['name']='default'+_0x206d09,_0x1c6d71['useLightin'+'g']=!(0xf73+0x2213+-0x3185),_0x1c6d71['useTonemap']=!(0xbd3*-0x1+0x2*0x1309+-0xd1f*0x2),_0x1c6d71['useFog']=!(-0xce4*0x1+-0x1*-0x171e+-0xa39),_0x1c6d71['useSkybox']=!(0xe33+-0x2e8+0x55*-0x22),_0x1c6d71['diffuse']['set'](0x83a+-0x8*0x11f+0xbe,-0xb*-0x14e+-0x745+-0x715,0x3c5*-0x1+0x38a+0x1*0x3b),_0x1c6d71['opacity']=0x4e*0x57+0xe*0x8+-0x1*0x1af2+0.5,_0x1c6d71['blendType']=Gn,_0x1c6d71['depthWrite']=!(0x1e27+-0x1*0x144f+-0x9d7),_0x1c6d71['emissiveVe'+'rtexColor']=!(-0x92*-0x29+0x7*-0xc2+-0x1214),_0x1c6d71['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x74a8c2]=_0x1c6d71,_0x1c6d71;}['_createBas'+'eImageMate'+'rial'](){const _0x69d121=new Ut();return _0x69d121['diffuse']['set'](-0x726+-0x4*0x4eb+0xd69*0x2,0x1ec5*-0x1+-0x154c+0x3411,-0x8*-0x13+0x1199*0x1+0x1231*-0x1),_0x69d121['emissive']['set'](0x23*-0xe2+0x239b*0x1+0x56*-0xe,-0xf4c+-0x8a4*-0x4+-0x1343*0x1,0xa*0xdf+-0x5ab+0x2*-0x185),_0x69d121['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x69d121['opacityMap']=this['_defaultTe'+'xture'],_0x69d121['opacityMap'+'Channel']='a',_0x69d121['useLightin'+'g']=!(-0x913*0x1+0x26e7*-0x1+0x2ffb),_0x69d121['useTonemap']=!(-0x1a60+0x24d9*-0x1+0x1*0x3f3a),_0x69d121['useFog']=!(-0x3*-0xa29+0x41*-0x6b+-0x34f),_0x69d121['useSkybox']=!(-0xeac+-0x1ef0+0x2d9d),_0x69d121['blendType']=Gn,_0x69d121['depthWrite']=!(-0xa9e+-0xd8+0xb77),_0x69d121;}['getImageEl'+'ementMater'+'ial'](_0x521e54,_0x2eca08,_0x574374,_0x173e92){return _0x521e54?_0x2eca08?_0x574374?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x1*-0x17f3+0xa0*-0x2b+-0x4*-0xcb5),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x2ad+-0x15ad*0x1+-0x1*-0x1301,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x24bd+0x1*-0x13d1+0x388f),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x9d3+0x18f1*-0x1+-0xf1f*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x3*-0x50b+0x1dd2+-0x2cf2),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x13f3+0x95b+0xa99),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x173e92?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x26a8+0x1043+-0x36ea),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x6ad*0x1+0x1adb+-0x2187,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x9e*-0x14+0x119+-0x2*0x6b8),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x1e0*-0x10+-0x22*0xa+0x1f55*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x1be3+-0x1678*0x1+0x325c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x1e50+-0x4cd+0x231e),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x1a40+0x2467*0x1+-0xa26),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0xd*-0x13e+0x1c74*0x1+-0x2c99,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x1*0x20e6+-0x24fc+0x417),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0xbf1+0x1e39+-0x1*0x2a29),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0xb2d+0x1*-0x161d+0xaf1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x20a4+-0x1c0d*0x1+-0x1*0x496),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x574374?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x1d8f+0x10+-0x1d9e),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x173e92?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x2527*-0x1+-0xba3+0x1983*-0x1),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x2547+-0x888+0x2dd0),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2eca08?_0x574374?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x31*0xaf+-0x1*0xc5+-0x1*0x20b9,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x2264+-0x26+0x1*-0x223d),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x30f*0x7+0x8*-0x2a5+0x2a92),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x7*0x399+-0x1a43+-0x115*-0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x12ef+0xd11*-0x1+0x1*-0x5dd),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x173e92?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0xfb8+-0x4f6+0x1*-0xac1,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0xae2+-0x1*-0x2054+-0x1571),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x7*-0x271+0x506+-0x203*-0x6),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0xa8a+-0xc4d+0x1c4),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0xf*0x24b+0x1ca5+-0x3f09),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x11*-0x1e+-0x95*0x3e+0x2219,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x1944*-0x1+0x2628+0x3f6b*-0x1),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x783*0x5+-0x1820+-0x2*0x6b7),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x1b7f+-0x1352+-0x1cd*-0x1a),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x7*-0x499+-0x18e*0x11+0x2e*-0x20),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x574374?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x173e92?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x34c141){this['_unicodeCo'+'nverter']=_0x34c141;}['registerRt'+'lReorder'](_0x5392fb){this['_rtlReorde'+'r']=_0x5392fb;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x27f68e,_0x18c0ed){super(_0x27f68e,_0x18c0ed),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x517*0x7+-0x2196+0x4537),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x1508+0x14e+0x13ba,-0x1c9f+-0xdcc+0x2a6b),this['_linearSpr'+'ingX']=!(0x14de+0xfdb+-0x24b8),this['_linearSti'+'ffnessX']=-0x2*-0x301+0x230b+0xdaf*-0x3,this['_linearDam'+'pingX']=0x22d*-0xb+0x1*-0x3ee+0xdef*0x2,this['_linearEqu'+'ilibriumX']=0xdc5+-0xe9b+0xd6,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x1469+-0xf70+0x51f*0x7,-0x26da+-0x1008+0x36e2),this['_linearSpr'+'ingY']=!(-0x20e7+-0xb2c+0x2c14*0x1),this['_linearSti'+'ffnessY']=0x22*-0x2f+-0x1baa+0x21e8,this['_linearDam'+'pingY']=0x1ba*-0xf+0x1ee8+-0x501,this['_linearEqu'+'ilibriumY']=0x3cd+0x1fb6+-0x2383,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0xa3d*-0x1+0x1*0xfb3+0x10*-0x19f,0x1bf7+0x223f+-0x3e36),this['_linearSpr'+'ingZ']=!(0x12b6*0x1+0x19ce+-0x2c83),this['_linearSti'+'ffnessZ']=0x1*-0x24f5+-0x3*-0x805+0xce6,this['_linearDam'+'pingZ']=-0x396+-0x1083*-0x1+-0xcec,this['_linearEqu'+'ilibriumZ']=0x1*0x3e5+0x1a3*0x9+-0x12a0,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0xa96+0x99f+0xd*0x13,-0x1ce7+0x1b4c+0x19b),this['_angularSp'+'ringX']=!(-0x4d*-0x5c+-0x2c9*0xe+0xb53),this['_angularSt'+'iffnessX']=-0x2223*0x1+-0x9*0x423+0x475e,this['_angularDa'+'mpingX']=0x8b1+0x453*-0x4+0x89c,this['_angularEq'+'uilibriumX']=0x1ecd+-0x228b*0x1+0x1df*0x2,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x174c+-0x2*-0x743+0x8c6,0x10fa+0x10ba*-0x2+0x2bf*0x6),this['_angularSp'+'ringY']=!(-0x1713+0x11d8+0x14*0x43),this['_angularSt'+'iffnessY']=0x3*0xa69+0x1*-0x1487+-0xab4,this['_angularDa'+'mpingY']=-0x1895+-0xc5c+-0x1279*-0x2,this['_angularEq'+'uilibriumY']=-0x2*0x336+-0x5*0x328+-0x1c*-0xcb,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x1ae4+0x1615+-0x30f9,-0x1*0xd3+0x225a+-0x2187),this['_angularSp'+'ringZ']=!(0x15ba+0x252f+-0x3ae8),this['_angularEq'+'uilibriumZ']=-0x1*0xaa5+-0xb46+0x15eb,this['_angularDa'+'mpingZ']=-0xbd+-0x16ad+0x176b,this['_angularSt'+'iffnessZ']=0x73*-0xd+-0xf43+0x151a,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x1fbe71){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x1fbe71,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4e54d2){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4e54d2,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x503075){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x503075&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x503075),this['_breakForc'+'e']=_0x503075);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x44b4ec){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x44b4ec,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x2fbdc5){this['_angularLi'+'mitsX']['equals'](_0x2fbdc5)||(this['_angularLi'+'mitsX']['copy'](_0x2fbdc5),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x4e1ca8){this['_angularMo'+'tionX']!==_0x4e1ca8&&(this['_angularMo'+'tionX']=_0x4e1ca8,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x50d5a8){this['_angularLi'+'mitsY']['equals'](_0x50d5a8)||(this['_angularLi'+'mitsY']['copy'](_0x50d5a8),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x12cfdc){this['_angularMo'+'tionY']!==_0x12cfdc&&(this['_angularMo'+'tionY']=_0x12cfdc,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x202ac9){this['_angularLi'+'mitsZ']['equals'](_0x202ac9)||(this['_angularLi'+'mitsZ']['copy'](_0x202ac9),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x5452ed){this['_angularMo'+'tionZ']!==_0x5452ed&&(this['_angularMo'+'tionZ']=_0x5452ed,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x1607ac){this['_linearLim'+'itsX']['equals'](_0x1607ac)||(this['_linearLim'+'itsX']['copy'](_0x1607ac),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x25653b){this['_linearMot'+'ionX']!==_0x25653b&&(this['_linearMot'+'ionX']=_0x25653b,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x25fba7){this['_linearLim'+'itsY']['equals'](_0x25fba7)||(this['_linearLim'+'itsY']['copy'](_0x25fba7),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x42fddf){this['_linearMot'+'ionY']!==_0x42fddf&&(this['_linearMot'+'ionY']=_0x42fddf,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x313dea){this['_linearLim'+'itsZ']['equals'](_0x313dea)||(this['_linearLim'+'itsZ']['copy'](_0x313dea),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x344ef8){this['_linearMot'+'ionZ']!==_0x344ef8&&(this['_linearMot'+'ionZ']=_0x344ef8,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0xc8ca49,_0x4bdfab){const _0x4731c2=_0xc8ca49['getTransla'+'tion'](),_0x5d5ec1=new le();_0x5d5ec1['setFromMat'+'4'](_0xc8ca49);const _0x5ae759=new Ammo['btVector3'](_0x4731c2['x'],_0x4731c2['y'],_0x4731c2['z']),_0xf15a5d=new Ammo['btQuaterni'+'on'](_0x5d5ec1['x'],_0x5d5ec1['y'],_0x5d5ec1['z'],_0x5d5ec1['w']);_0x4bdfab['setOrigin'](_0x5ae759),_0x4bdfab['setRotatio'+'n'](_0xf15a5d),Ammo['destroy'](_0x5ae759),Ammo['destroy'](_0xf15a5d);}['_updateAng'+'ularLimits'](){const _0x4d103d=this['_constrain'+'t'];if(_0x4d103d){let _0x19c640,_0x30a9f6,_0x1a33ed,_0x248f2f,_0x3d52ab,_0x18c1e6;this['_angularMo'+'tionX']===qa?(_0x19c640=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x248f2f=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x19c640=-0x1695+-0x17c3+-0x7*-0x69f,_0x248f2f=-0x36*-0x53+0x1d86+-0x2f08):_0x19c640=_0x248f2f=0x83*0x3d+0x8dd*0x3+-0x39ce,this['_angularMo'+'tionY']===qa?(_0x30a9f6=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x3d52ab=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x30a9f6=0x7d9*-0x1+0x1*0xbe3+-0x409,_0x3d52ab=0x2705*0x1+-0xec2*0x1+0x1*-0x1843):_0x30a9f6=_0x3d52ab=0x2353*0x1+0x1982+-0x1d*0x219,this['_angularMo'+'tionZ']===qa?(_0x1a33ed=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x18c1e6=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x1a33ed=0x1df6+-0x840+-0x15b5,_0x18c1e6=0x342+0x2af+-0x5f1):_0x1a33ed=_0x18c1e6=0x3e5*-0x5+0x29*0xb7+-0x9d6;const _0xd9c53e=new Ammo['btVector3'](_0x19c640,_0x30a9f6,_0x1a33ed);_0x4d103d['setAngular'+'LowerLimit'](_0xd9c53e),_0xd9c53e['setValue'](_0x248f2f,_0x3d52ab,_0x18c1e6),_0x4d103d['setAngular'+'UpperLimit'](_0xd9c53e),Ammo['destroy'](_0xd9c53e);}}['_updateLin'+'earLimits'](){const _0x4f1475=this['_constrain'+'t'];if(_0x4f1475){let _0x3e031c,_0x5d3822,_0x159c6c,_0xc6dc73,_0x1cd978,_0x3f2c60;this['_linearMot'+'ionX']===qa?(_0x3e031c=this['_linearLim'+'itsX']['x'],_0xc6dc73=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x3e031c=-0x2*-0x488+-0x1da4+0x1df*0xb,_0xc6dc73=-0x141*-0x1+0x874+0x9b5*-0x1):_0x3e031c=_0xc6dc73=-0x2*-0xa08+-0x1cc7+-0x61*-0x17,this['_linearMot'+'ionY']===qa?(_0x5d3822=this['_linearLim'+'itsY']['x'],_0x1cd978=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x5d3822=-0x1*-0x2309+0x4*0x8dd+0x233e*-0x2,_0x1cd978=0x12e0*-0x1+0x61*0x49+0x8c9*-0x1):_0x5d3822=_0x1cd978=-0x493*-0x7+0x2078+0x3*-0x157f,this['_linearMot'+'ionZ']===qa?(_0x159c6c=this['_linearLim'+'itsZ']['x'],_0x3f2c60=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x159c6c=-0x219b+0x1*-0x1837+0x39d3*0x1,_0x3f2c60=0x1391*0x1+0xc*-0x1a6+-0x5*-0xb):_0x159c6c=_0x3f2c60=-0x12a*0x2+0xb4+0x1a0;const _0x38bdb9=new Ammo['btVector3'](_0x3e031c,_0x5d3822,_0x159c6c);_0x4f1475['setLinearL'+'owerLimit'](_0x38bdb9),_0x38bdb9['setValue'](_0xc6dc73,_0x1cd978,_0x3f2c60),_0x4f1475['setLinearU'+'pperLimit'](_0x38bdb9),Ammo['destroy'](_0x38bdb9);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2bbdcd=new te(),_0x517223=this['_entityA']['rigidbody']['body'];_0x517223['activate']();const _0x572210=this['entity']['getWorldTr'+'ansform'](),_0x288c90=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2bbdcd['mul2'](_0x288c90,_0x572210);const _0x15fd7f=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2bbdcd,_0x15fd7f),this['_entityB']&&this['_entityB']['rigidbody']){const _0x5ab5a5=this['_entityB']['rigidbody']['body'];_0x5ab5a5['activate']();const _0x444461=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2bbdcd['mul2'](_0x444461,_0x572210);const _0x2fb196=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2bbdcd,_0x2fb196),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x517223,_0x5ab5a5,_0x15fd7f,_0x2fb196,!this['_enableCol'+'lision']),Ammo['destroy'](_0x2fb196);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x517223,_0x15fd7f,!this['_enableCol'+'lision']);Ammo['destroy'](_0x15fd7f);const _0x4aea36=['X','Y','Z','X','Y','Z'];for(let _0x2ebc67=0xb61+-0x1*-0x2011+-0x2b72;_0x2ebc67<0x57*-0x40+0x2684+-0x10be;_0x2ebc67++){const _0xb3987b=_0x2ebc67<0xfe*0x2+-0x1*0x25f6+-0xf9*-0x25?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x2ebc67,this[_0xb3987b+'Spring'+_0x4aea36[_0x2ebc67]]),this['_constrain'+'t']['setDamping'](_0x2ebc67,this[_0xb3987b+'Damping'+_0x4aea36[_0x2ebc67]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x2ebc67,this[_0xb3987b+('Equilibriu'+'m')+_0x4aea36[_0x2ebc67]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x2ebc67,this[_0xb3987b+'Stiffness'+_0x4aea36[_0x2ebc67]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x11350a){for(const _0x272f31 of RR)_0x11350a['hasOwnProp'+'erty'](_0x272f31)&&(_0x11350a[_0x272f31]instanceof J?this['_'+_0x272f31]['copy'](_0x11350a[_0x272f31]):this['_'+_0x272f31]=_0x11350a[_0x272f31]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x29cb97,_0x31006d,_0x398df6){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x5b0e73=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x143e58=>{['X','Y','Z']['forEach'](_0x16ddd2=>{const _0x51ad80=_0x5b0e73+_0x143e58+_0x16ddd2,_0x116d35='_'+_0x51ad80;let _0x33e01f=_0x5b0e73==='linear'?0x13f2+-0x10fc+-0x2f6:0x1241*-0x1+-0x47*-0x72+-0xd5a;_0x16ddd2==='Y'&&(_0x33e01f+=0x56*-0x2e+0x6*0xc7+0xacb),_0x16ddd2==='Z'&&(_0x33e01f+=0x649+-0x377*0x5+0xb0c),Object['defineProp'+'erty'](ym['prototype'],_0x51ad80,{'get':function(){return this[_0x116d35];},'set':function(_0x54aeac){this[_0x116d35]!==_0x54aeac&&(this[_0x116d35]=_0x54aeac,this['_constrain'+'t'][OR[_0x143e58]](_0x33e01f,_0x54aeac));}});});});});class FR{constructor(){this['enabled']=!(-0x1bb2+-0xa4b+0x25fd);}}const Fu=['enabled'];class NR extends ct{constructor(_0x592579){super(_0x592579),this['id']='joint',this['app']=_0x592579,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x189515,_0x54e027,_0x48c3a3){_0x189515['initFromDa'+'ta'](_0x54e027),super['initialize'+'ComponentD'+'ata'](_0x189515,_0x54e027,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x15a2*-0x1+-0x1295+-0x47*0xb),h(this,'_minHeight',0x1*0x26fb+-0xb8+-0x2643*0x1),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x1*0x515+-0x2c4*0xc+0x5*0x59f),h(this,'_fitHeight'+'Proportion',-0x13*-0x12b+0x1311*-0x1+0x64*-0x8),h(this,'_excludeFr'+'omLayout',!(-0xd9e+-0xfb2+0x1d51));}set['minWidth'](_0x575c26){_0x575c26!==this['_minWidth']&&(this['_minWidth']=_0x575c26,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0xc6bbad){_0xc6bbad!==this['_minHeight']&&(this['_minHeight']=_0xc6bbad,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x12c246){_0x12c246!==this['_maxWidth']&&(this['_maxWidth']=_0x12c246,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x388807){_0x388807!==this['_maxHeight']&&(this['_maxHeight']=_0x388807,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x358cc0){_0x358cc0!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x358cc0,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x52d779){_0x52d779!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x52d779,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x28ecac){_0x28ecac!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x28ecac,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x2646*0x1+-0xd8d*0x1+0x33d3*0x1);}}const e0=['enabled'];class UR extends ct{constructor(_0x3fc1c7){super(_0x3fc1c7),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x28ed32,_0x198b51,_0x535fb0){_0x198b51['enabled']!==void(0x2*0x9dc+-0x512+-0xea6)&&(_0x28ed32['enabled']=_0x198b51['enabled']),_0x198b51['minWidth']!==void(0x23*0x6d+0x10e9+-0x10*0x1fd)&&(_0x28ed32['minWidth']=_0x198b51['minWidth']),_0x198b51['minHeight']!==void(-0x3ad*0x4+-0x1388+0x223c)&&(_0x28ed32['minHeight']=_0x198b51['minHeight']),_0x198b51['maxWidth']!==void(-0x22c8+0x1*0x6f1+0x1bd7)&&(_0x28ed32['maxWidth']=_0x198b51['maxWidth']),_0x198b51['maxHeight']!==void(-0x2*-0x86c+-0x14d1+0x3f9)&&(_0x28ed32['maxHeight']=_0x198b51['maxHeight']),_0x198b51['fitWidthPr'+'oportion']!==void(-0x9aa*-0x1+0xcbb*-0x1+0x5*0x9d)&&(_0x28ed32['fitWidthPr'+'oportion']=_0x198b51['fitWidthPr'+'oportion']),_0x198b51['fitHeightP'+'roportion']!==void(-0x1af4+0x1*-0xa87+0x257b)&&(_0x28ed32['fitHeightP'+'roportion']=_0x198b51['fitHeightP'+'roportion']),_0x198b51['excludeFro'+'mLayout']!==void(0x9*-0x95+0x43f*0x7+-0x187c)&&(_0x28ed32['excludeFro'+'mLayout']=_0x198b51['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x28ed32,_0x198b51,_0x535fb0);}['cloneCompo'+'nent'](_0x59df15,_0x314c6e){const _0x44dd94=_0x59df15['layoutchil'+'d'];return this['addCompone'+'nt'](_0x314c6e,{'enabled':_0x44dd94['enabled'],'minWidth':_0x44dd94['minWidth'],'minHeight':_0x44dd94['minHeight'],'maxWidth':_0x44dd94['maxWidth'],'maxHeight':_0x44dd94['maxHeight'],'fitWidthProportion':_0x44dd94['fitWidthPr'+'oportion'],'fitHeightProportion':_0x44dd94['fitHeightP'+'roportion'],'excludeFromLayout':_0x44dd94['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x5f2*0x1+0x2*0xffb+-0x1a04,BR=0x1d10+-0x4*0x4c1+-0xa0b,Qg=0x14*-0xbc+-0x124+0xfd6,zR=0x957+0x26e*-0x6+-0x7*-0xc0,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x17b0cd){let _0x3290fe;const _0x478cd3=Oh[_0x17b0cd],_0x3813e6=Oh[vm[_0x17b0cd]];function _0x411fd2(_0x4229f7,_0x4a2b60){return-_0x4a2b60[_0x478cd3['size']]*_0x4229f7['pivot'][_0x478cd3['axis']];}function _0x26076b(_0x5b69f1,_0x15bab2){return-_0x15bab2[_0x3813e6['size']]*_0x5b69f1['pivot'][_0x3813e6['axis']];}function _0x49c6ce(_0x73a2e,_0x155d88){return _0x155d88[_0x478cd3['size']]*(-0x3b9*0x1+-0x1*-0x7a0+0x2*-0x1f3-_0x73a2e['pivot'][_0x478cd3['axis']]);}function _0x554fd3(_0x215e96,_0x23100b){_0x215e96=_0x215e96['filter'](_0x92381c),_0x3290fe=_0x23100b,ls['x']=_0x3290fe['containerS'+'ize']['x']-_0x3290fe['padding']['x']-_0x3290fe['padding']['z'],ls['y']=_0x3290fe['containerS'+'ize']['y']-_0x3290fe['padding']['y']-_0x3290fe['padding']['w'],_0x2f636d(_0x215e96);const _0xce0a30=_0x1df7a8(_0x50270d(_0x215e96)),_0x59f7b7=_0x29c620(_0xce0a30,_0x5a0080(_0xce0a30)),_0x27ec71=_0x4d579f(_0xce0a30,_0x59f7b7);return _0x12e87f(_0xce0a30,_0x59f7b7,_0x27ec71),_0x4ec8bc(_0xce0a30,_0x59f7b7,_0x27ec71),_0x5c67ca(_0xce0a30);}function _0x92381c(_0xc3b2b5){const _0x87771a=_0xc3b2b5['entity']['layoutchil'+'d'];return!_0x87771a||!_0x87771a['enabled']||!_0x87771a['excludeFro'+'mLayout'];}function _0x2f636d(_0x31e06a){for(let _0x45aaed=-0x183f+0x1*-0x185b+0x309a;_0x45aaed<_0x31e06a['length'];++_0x45aaed){const _0x1920e3=_0x31e06a[_0x45aaed],_0x273b5b=_0x1920e3['anchor'];(_0x273b5b['x']!==0xc9f*0x1+-0xac*0x9+-0x33*0x21||_0x273b5b['y']!==0x1*0x8dd+0x1*0x14b8+-0x1*0x1d95||_0x273b5b['z']!==0x8*-0x4b7+-0xc75*-0x1+-0xdf*-0x1d||_0x273b5b['w']!==0xce5+0x1*0xe21+0x6*-0x481)&&(_0x1920e3['anchor']=re['ZERO']);}}function _0x50270d(_0xca91ec){if(!_0x3290fe['wrap'])return[_0xca91ec];const _0x541afc=[[]],_0x26321c=_0x47ce59(_0xca91ec);let _0x15a863=-0x1f5b+-0x2249*-0x1+0x4b*-0xa;const _0x1c7765=_0x3290fe[_0x478cd3['fitting']]===Qg;for(let _0x2dd1a8=-0xc03+-0xc46+-0x1*-0x1849;_0x2dd1a8<_0xca91ec['length'];++_0x2dd1a8){_0x541afc[_0x541afc['length']-(0xf7b*0x2+0x1*0x2e7+-0x4*0x877)]['length']>0x2381+0x483+-0x2804&&(_0x15a863+=_0x3290fe['spacing'][_0x478cd3['axis']]);const _0x50c8d4=_0x26321c[_0x2dd1a8][_0x478cd3['size']];_0x15a863+=_0x50c8d4,!_0x1c7765&&_0x15a863>ls[_0x478cd3['axis']]&&_0x541afc[_0x541afc['length']-(-0x9b4+0xf*0x197+-0xe24)]['length']!==0x2318+-0x100d+-0x41*0x4b&&(_0x15a863=_0x50c8d4,_0x541afc['push']([])),_0x541afc[_0x541afc['length']-(0x2*0x392+-0xd87*0x1+0x664)]['push'](_0xca91ec[_0x2dd1a8]),_0x1c7765&&_0x15a863>ls[_0x478cd3['axis']]&&_0x2dd1a8!==_0xca91ec['length']-(0x65+0x16ae+-0x1712)&&(_0x15a863=0x37a+0x25ff*0x1+-0x2979*0x1,_0x541afc['push']([]));}return _0x541afc;}function _0x1df7a8(_0xa9c8aa){const _0x3c7291=_0x3290fe['orientatio'+'n']===Ce&&_0x3290fe['reverseX']||_0x3290fe['orientatio'+'n']===je&&_0x3290fe['reverseY'],_0x4894d4=_0x3290fe['orientatio'+'n']===Ce&&_0x3290fe['reverseY']||_0x3290fe['orientatio'+'n']===je&&_0x3290fe['reverseX'];if(_0x3c7291){for(let _0x4c80f9=-0xe2e+-0x26e6+0xac*0x4f;_0x4c80f9<_0xa9c8aa['length'];++_0x4c80f9)_0x3c7291&&_0xa9c8aa[_0x4c80f9]['reverse']();}return _0x4894d4&&_0xa9c8aa['reverse'](),_0xa9c8aa;}function _0x5a0080(_0x4a2ed7){const _0x2ef6ff=[];for(let _0x60db15=-0x818+-0xb01+-0x1*-0x1319;_0x60db15<_0x4a2ed7['length'];++_0x60db15){const _0x8e8937=_0x4a2ed7[_0x60db15],_0x4a4771=_0x47ce59(_0x8e8937),_0x401863=_0x6f1d3a(_0x4a4771,_0x478cd3),_0x13f4b0=_0x3dd889(_0x3290fe[_0x478cd3['fitting']],_0x401863,ls[_0x478cd3['axis']]);_0x13f4b0===os['APPLY_STRE'+'TCHING']?_0x2087a4(_0x4a4771,_0x401863,_0x478cd3):_0x13f4b0===os['APPLY_SHRI'+'NKING']&&_0x4b49ab(_0x4a4771,_0x401863,_0x478cd3),_0x2ef6ff['push'](_0x4a4771);}return _0x2ef6ff;}function _0x29c620(_0x9e7773,_0x44bca7){const _0x2be4ee=[],_0x4a5844=[];for(let _0x619880=0x1*0x59f+-0x1*-0x606+-0xba5;_0x619880<_0x9e7773['length'];++_0x619880){const _0x6a4335=_0x9e7773[_0x619880];_0x6a4335['largestEle'+'ment']=null,_0x6a4335['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x24350b=-0x2096+-0x2364+0x43fa;_0x24350b<_0x6a4335['length'];++_0x24350b){const _0x4ce13e=_0x44bca7[_0x619880][_0x24350b];_0x4ce13e[_0x3813e6['size']]>_0x6a4335['largestSiz'+'e'][_0x3813e6['size']]&&(_0x6a4335['largestEle'+'ment']=_0x6a4335[_0x24350b],_0x6a4335['largestSiz'+'e']=_0x4ce13e);}_0x2be4ee['push'](_0x6a4335['largestEle'+'ment']),_0x4a5844['push'](_0x6a4335['largestSiz'+'e']);}const _0x46463a=_0x6f1d3a(_0x4a5844,_0x3813e6),_0x536f3c=_0x3dd889(_0x3290fe[_0x3813e6['fitting']],_0x46463a,ls[_0x3813e6['axis']]);_0x536f3c===os['APPLY_STRE'+'TCHING']?_0x2087a4(_0x4a5844,_0x46463a,_0x3813e6):_0x536f3c===os['APPLY_SHRI'+'NKING']&&_0x4b49ab(_0x4a5844,_0x46463a,_0x3813e6);for(let _0x340253=-0x8*-0x353+-0xdf8+-0x20*0x65;_0x340253<_0x9e7773['length'];++_0x340253){const _0x5f0564=_0x9e7773[_0x340253];for(let _0x1b9ce1=-0x1*-0x1a01+-0x25ac*-0x1+-0x3fad*0x1;_0x1b9ce1<_0x5f0564['length'];++_0x1b9ce1){const _0x15d66e=_0x44bca7[_0x340253][_0x1b9ce1],_0xcfd0b0=_0x15d66e[_0x3813e6['size']],_0x106779=_0x9e7773['length']===0x240a*-0x1+0x1*-0x1f6+0x2601?ls[_0x3813e6['axis']]:_0x5f0564['largestSiz'+'e'][_0x3813e6['size']],_0x2ab6db=_0x3dd889(_0x3290fe[_0x3813e6['fitting']],_0xcfd0b0,_0x106779);_0x2ab6db===os['APPLY_STRE'+'TCHING']?_0x15d66e[_0x3813e6['size']]=Math['min'](_0x106779,_0x15d66e[_0x3813e6['maxSize']]):_0x2ab6db===os['APPLY_SHRI'+'NKING']&&(_0x15d66e[_0x3813e6['size']]=Math['max'](_0x106779,_0x15d66e[_0x3813e6['minSize']]));}}return _0x44bca7;}function _0x3dd889(_0x36b625,_0xb8b835,_0x3d7f9a){switch(_0x36b625){case Nu:return os['NONE'];case BR:return _0xb8b835<_0x3d7f9a?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0xb8b835>=_0x3d7f9a?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0xb8b835<_0x3d7f9a?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x36b625);}}function _0x6f1d3a(_0x160efb,_0x557eb6){const _0x348929=_0x2b7b02(_0x160efb,_0x557eb6['size']),_0x59e7b5=(_0x160efb['length']-(0x266a*0x1+-0x1e6d+-0x7fc))*_0x3290fe['spacing'][_0x557eb6['axis']];return _0x348929+_0x59e7b5;}function _0x2087a4(_0x23b9e2,_0xebb29f,_0x16c277){const _0x484eb6=_0x15a3d0(_0x23b9e2,_0x16c277['maxSize']),_0x18ea2f=_0x57b8ad(_0x23b9e2,_0x16c277['fittingPro'+'portion']),_0x4cf6cd=_0x1b261b(_0x18ea2f,_0x484eb6);let _0x307e4d=ls[_0x16c277['axis']]-_0xebb29f;for(let _0x3b3be8=-0x73a*0x4+0xb2+0x1c36;_0x3b3be8<_0x23b9e2['length'];++_0x3b3be8){const _0xa6b3b=_0x484eb6[_0x3b3be8],_0x3b8f41=_0x19c5e1(_0xa6b3b,_0x307e4d,_0x18ea2f,_0x4cf6cd),_0x2eb11d=_0x23b9e2[_0xa6b3b][_0x16c277['size']]+_0x3b8f41,_0x330a4f=_0x23b9e2[_0xa6b3b][_0x16c277['maxSize']],_0x1f7ae0=Math['min'](_0x2eb11d,_0x330a4f);_0x23b9e2[_0xa6b3b][_0x16c277['size']]=_0x1f7ae0;const _0x5e774=Math['max'](_0x2eb11d-_0x1f7ae0,0x223f+0x1dc8+0x4007*-0x1),_0x4473c1=_0x3b8f41-_0x5e774;_0x307e4d-=_0x4473c1;}}function _0x4b49ab(_0xc17364,_0x3bc0bd,_0x3ddd7b){const _0xbeed3b=_0x15a3d0(_0xc17364,_0x3ddd7b['minSize'],!(0x5*0x785+-0x207*0xa+0x1*-0x1153)),_0x476468=_0x57b8ad(_0xc17364,_0x3ddd7b['fittingPro'+'portion']),_0x470300=_0x5f2203(_0x476468),_0x40056d=_0x1b261b(_0x470300,_0xbeed3b);let _0x49d7c5=_0x3bc0bd-ls[_0x3ddd7b['axis']];for(let _0xa44831=-0x951+0x90c+-0x17*-0x3;_0xa44831<_0xc17364['length'];++_0xa44831){const _0x322d77=_0xbeed3b[_0xa44831],_0x36bbd1=_0x19c5e1(_0x322d77,_0x49d7c5,_0x470300,_0x40056d),_0x517f36=_0xc17364[_0x322d77][_0x3ddd7b['size']]-_0x36bbd1,_0x4d0447=_0xc17364[_0x322d77][_0x3ddd7b['minSize']],_0x3c936b=Math['max'](_0x517f36,_0x4d0447);_0xc17364[_0x322d77][_0x3ddd7b['size']]=_0x3c936b;const _0x4c7183=Math['max'](_0x3c936b-_0x517f36,0x25e6+0x1*0x778+0x1*-0x2d5e),_0x6f54cb=_0x36bbd1-_0x4c7183;_0x49d7c5-=_0x6f54cb;}}function _0x19c5e1(_0x467c31,_0x38eb7e,_0x3ccb7b,_0x4d3dc4){const _0x3b9000=_0x3ccb7b[_0x467c31],_0x33cb69=_0x4d3dc4[_0x467c31];return Math['abs'](_0x3b9000)<-0x14*-0xda+0x1580+-0x2688+0.00001&&Math['abs'](_0x33cb69)<-0xdad+0x1*-0x18c2+-0x1*-0x266f+0.00001?_0x38eb7e:_0x38eb7e*_0x3b9000/_0x33cb69;}function _0x4d579f(_0x3c7e6a,_0x35768f){const _0x1c410c={};_0x1c410c[_0x478cd3['axis']]=-0x442*-0x5+0x1*0x100+-0x9*0x27a,_0x1c410c[_0x3813e6['axis']]=0x8d4+-0x121*0xe+-0x1*-0x6fa,_0x3c7e6a[_0x478cd3['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x563bb4=[];for(let _0x1d78ec=-0x32a+-0x1*-0x25dd+-0x22b3;_0x1d78ec<_0x3c7e6a['length'];++_0x1d78ec){const _0x32e356=_0x3c7e6a[_0x1d78ec];if(_0x32e356['length']===-0x25b4+0x20f+0x23a5){_0x563bb4['push']([]);continue;}const _0x3467bd=[],_0x1c7435=_0x35768f[_0x1d78ec];for(let _0x5ef057=-0x317*-0x4+-0x779+-0x1a1*0x3;_0x5ef057<_0x32e356['length'];++_0x5ef057){const _0x1e9c68=_0x32e356[_0x5ef057],_0x2b8014=_0x1c7435[_0x5ef057];_0x1c410c[_0x3813e6['axis']]-=_0x26076b(_0x1e9c68,_0x2b8014),_0x1c410c[_0x478cd3['axis']]-=_0x411fd2(_0x1e9c68,_0x2b8014),_0x3467bd[_0x5ef057]={},_0x3467bd[_0x5ef057][_0x478cd3['axis']]=_0x1c410c[_0x478cd3['axis']],_0x3467bd[_0x5ef057][_0x3813e6['axis']]=_0x1c410c[_0x3813e6['axis']],_0x1c410c[_0x3813e6['axis']]+=_0x26076b(_0x1e9c68,_0x2b8014),_0x1c410c[_0x478cd3['axis']]+=_0x49c6ce(_0x1e9c68,_0x2b8014)+_0x3290fe['spacing'][_0x478cd3['axis']];}_0x32e356[_0x478cd3['size']]=_0x1c410c[_0x478cd3['axis']]-_0x3290fe['spacing'][_0x478cd3['axis']],_0x32e356[_0x3813e6['size']]=_0x32e356['largestSiz'+'e'][_0x3813e6['size']],_0x3c7e6a[_0x478cd3['size']]=Math['max'](_0x3c7e6a[_0x478cd3['size']],_0x32e356[_0x478cd3['size']]),_0x1c410c[_0x478cd3['axis']]=-0x26ea+-0xe1f+0x3509,_0x1c410c[_0x3813e6['axis']]+=_0x32e356[_0x3813e6['size']]+_0x3290fe['spacing'][_0x3813e6['axis']],_0x563bb4['push'](_0x3467bd);}return _0x3c7e6a[_0x3813e6['size']]=_0x1c410c[_0x3813e6['axis']]-_0x3290fe['spacing'][_0x3813e6['axis']],_0x563bb4;}function _0x12e87f(_0x1ff23b,_0x433825,_0x343471){const _0x476969=_0x3290fe['alignment'][_0x478cd3['axis']],_0x583e20=_0x3290fe['alignment'][_0x3813e6['axis']],_0xf4ea6c=_0x3290fe['padding'][_0x478cd3['axis']],_0x53f1ab=_0x3290fe['padding'][_0x3813e6['axis']];for(let _0x252d43=-0x20*0x52+0x1cf*-0x7+0x16e9;_0x252d43<_0x1ff23b['length'];++_0x252d43){const _0x1311ec=_0x1ff23b[_0x252d43],_0x8afb7a=_0x433825[_0x252d43],_0x1762e4=_0x343471[_0x252d43],_0xe7becd=(ls[_0x478cd3['axis']]-_0x1311ec[_0x478cd3['size']])*_0x476969+_0xf4ea6c,_0x136be7=(ls[_0x3813e6['axis']]-_0x1ff23b[_0x3813e6['size']])*_0x583e20+_0x53f1ab;for(let _0x20386c=-0x899+0xb9e+-0x305;_0x20386c<_0x1311ec['length'];++_0x20386c){const _0x3055fa=(_0x1311ec[_0x3813e6['size']]-_0x8afb7a[_0x20386c][_0x3813e6['size']])*_0x3290fe['alignment'][_0x3813e6['axis']];_0x1762e4[_0x20386c][_0x478cd3['axis']]+=_0xe7becd,_0x1762e4[_0x20386c][_0x3813e6['axis']]+=_0x136be7+_0x3055fa;}}}function _0x4ec8bc(_0x27da3c,_0x29ab52,_0x1c1b90){for(let _0x447c38=0x1065*0x2+-0x137a+0x8e*-0x18;_0x447c38<_0x27da3c['length'];++_0x447c38){const _0x48ce1c=_0x27da3c[_0x447c38],_0x4dd4c8=_0x29ab52[_0x447c38],_0x11a8ae=_0x1c1b90[_0x447c38];for(let _0x27d6e8=0x2b*0xc4+0xd79*0x1+-0x1*0x2e65;_0x27d6e8<_0x48ce1c['length'];++_0x27d6e8){const _0x10957f=_0x48ce1c[_0x27d6e8];_0x10957f[_0x478cd3['calculated'+'Size']]=_0x4dd4c8[_0x27d6e8][_0x478cd3['size']],_0x10957f[_0x3813e6['calculated'+'Size']]=_0x4dd4c8[_0x27d6e8][_0x3813e6['size']],_0x3290fe['orientatio'+'n']===Ce?_0x10957f['entity']['setLocalPo'+'sition'](_0x11a8ae[_0x27d6e8][_0x478cd3['axis']],_0x11a8ae[_0x27d6e8][_0x3813e6['axis']],_0x10957f['entity']['getLocalPo'+'sition']()['z']):_0x10957f['entity']['setLocalPo'+'sition'](_0x11a8ae[_0x27d6e8][_0x3813e6['axis']],_0x11a8ae[_0x27d6e8][_0x478cd3['axis']],_0x10957f['entity']['getLocalPo'+'sition']()['z']);}}}function _0x5c67ca(_0x415f84){const _0x56aacc=_0x415f84['width'],_0xe5559c=_0x415f84['height'],_0x21d856=(ls['x']-_0x56aacc)*_0x3290fe['alignment']['x']+_0x3290fe['padding']['x'],_0x920fdc=(ls['y']-_0xe5559c)*_0x3290fe['alignment']['y']+_0x3290fe['padding']['y'];return{'bounds':new re(_0x21d856,_0x920fdc,_0x56aacc,_0xe5559c)};}function _0x47ce59(_0x93b896){const _0x4792b8=[];for(let _0x15d442=-0x2fe*-0x2+-0x1d6b+-0x176f*-0x1;_0x15d442<_0x93b896['length'];++_0x15d442){const _0x3da0db=_0x93b896[_0x15d442],_0x4d997a=Math['max'](_0x1a82e3(_0x3da0db,'minWidth'),-0x13*-0x6a+-0x130c+0xb2e),_0x27036e=Math['max'](_0x1a82e3(_0x3da0db,'minHeight'),-0x25aa+-0xceb*0x2+0x7f0*0x8),_0x164263=Math['max'](_0x1a82e3(_0x3da0db,'maxWidth'),_0x4d997a),_0x4dbf94=Math['max'](_0x1a82e3(_0x3da0db,'maxHeight'),_0x27036e),_0x2e2f74=_0x4af07c(_0x1a82e3(_0x3da0db,'width'),_0x4d997a,_0x164263),_0x3dbbbf=_0x4af07c(_0x1a82e3(_0x3da0db,'height'),_0x27036e,_0x4dbf94),_0x4d297f=_0x1a82e3(_0x3da0db,'fitWidthPr'+'oportion'),_0x26ccaf=_0x1a82e3(_0x3da0db,'fitHeightP'+'roportion');_0x4792b8['push']({'minWidth':_0x4d997a,'minHeight':_0x27036e,'maxWidth':_0x164263,'maxHeight':_0x4dbf94,'width':_0x2e2f74,'height':_0x3dbbbf,'fitWidthProportion':_0x4d297f,'fitHeightProportion':_0x26ccaf});}return _0x4792b8;}function _0x1a82e3(_0x9c2391,_0x3e5a43){const _0x5b1230=_0x9c2391['entity']['layoutchil'+'d'];return _0x5b1230&&_0x5b1230['enabled']&&_0x5b1230[_0x3e5a43]!==void(-0x549+0x258a+-0x2041)&&_0x5b1230[_0x3e5a43]!==null?_0x5b1230[_0x3e5a43]:_0x9c2391[_0x3e5a43]!==void(-0x1936+0x499+0x149d)?_0x9c2391[_0x3e5a43]:VR[_0x3e5a43];}function _0x4af07c(_0x11c103,_0x1c490f,_0x5f21a6){return Math['min'](Math['max'](_0x11c103,_0x1c490f),_0x5f21a6);}function _0x2b7b02(_0x22731d,_0x4845e0){return _0x22731d['reduce']((_0x40a3e7,_0x522770)=>_0x40a3e7+_0x522770[_0x4845e0],-0x6d*-0x4+0x2108+-0x22bc);}function _0x57b8ad(_0x1c3fb1,_0x4cf48b){const _0x244c74=_0x2b7b02(_0x1c3fb1,_0x4cf48b),_0x27a1cb=[],_0x4cfb0d=_0x1c3fb1['length'];if(_0x244c74===0x84d+-0x14f4+0x4f*0x29){for(let _0x1d7256=0x929+0x128f+-0x1bb8;_0x1d7256<_0x4cfb0d;++_0x1d7256)_0x27a1cb['push']((0x2*0xc12+-0x1d*0xeb+0x27c)/_0x4cfb0d);}else{for(let _0x1adb08=-0x4*0x3d9+-0x2d*0x8e+-0x285a*-0x1;_0x1adb08<_0x4cfb0d;++_0x1adb08)_0x27a1cb['push'](_0x1c3fb1[_0x1adb08][_0x4cf48b]/_0x244c74);}return _0x27a1cb;}function _0x5f2203(_0x337048){if(_0x337048['length']===-0x8d6*0x4+-0x23c5+-0x471e*-0x1)return[-0x1e9*-0x13+0xf6e+-0x33b8];const _0x3e2e27=[],_0x320169=_0x337048['length'];for(let _0xe38391=-0x1d5+0x301+-0xa*0x1e;_0xe38391<_0x320169;++_0xe38391)_0x3e2e27['push']((0xc1*-0x31+-0x210f+0x4601-_0x337048[_0xe38391])/(_0x320169-(0x23fd+0x2047+0x3*-0x16c1)));return _0x3e2e27;}function _0x15a3d0(_0x19b4e7,_0x3abcc9,_0x137314){return _0x19b4e7['forEach'](_0x377678),_0x19b4e7['slice']()['sort']((_0x112ace,_0x247d49)=>_0x137314?_0x247d49[_0x3abcc9]-_0x112ace[_0x3abcc9]:_0x112ace[_0x3abcc9]-_0x247d49[_0x3abcc9])['map'](_0x393374);}function _0x377678(_0x52ac53,_0x1972ff){_0x52ac53['index']=_0x1972ff;}function _0x393374(_0x4aa9c9){return _0x4aa9c9['index'];}function _0x1b261b(_0x3857df,_0x55ee88){const _0x20ca31=[];_0x20ca31[_0x55ee88[_0x3857df['length']-(0x1*0x7bf+-0x17c*-0x1+-0x93a)]]=_0x3857df[_0x55ee88[_0x3857df['length']-(-0x1145*0x1+0x1*0x1193+-0x4d)]];for(let _0xbd7464=_0x3857df['length']-(-0x1*-0x2262+-0x1343*0x1+0xf1d*-0x1);_0xbd7464>=-0xdb6+-0x4*0x936+-0x328e*-0x1;--_0xbd7464)_0x20ca31[_0x55ee88[_0xbd7464]]=_0x20ca31[_0x55ee88[_0xbd7464+(-0xd*-0x22+-0x1750+0x1597*0x1)]]+_0x3857df[_0x55ee88[_0xbd7464]];return _0x20ca31;}return _0x554fd3;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x3f5106,_0x248377){const _0x47ef6e=xm[_0x248377['orientatio'+'n']];if(_0x47ef6e)return _0x47ef6e(_0x3f5106,_0x248377);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x248377['orientatio'+'n']);}}function Jg(_0x27251a){return _0x27251a['element'];}function HR(_0x128b4e){return _0x128b4e['enabled']&&_0x128b4e['element']&&_0x128b4e['element']['enabled'];}class s0 extends we{constructor(_0x296a71,_0x2d2081){super(_0x296a71,_0x2d2081),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x1c*0x83+-0x8*-0x12+0xdc5)),h(this,'_reverseY',!(-0x526+-0x1a76+0x1f9c)),h(this,'_alignment',new J(0x534*0x3+-0x248*-0x5+0x13*-0x16c,0x1c58+-0x9a*0x3d+0x85b)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0x17ae+0xe1d*-0x1+0x25cc)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x464cd5=>{this['_listenFor'+'ReflowEven'+'ts'](_0x464cd5,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x296a71['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x296a71['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x296a71['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x296a71['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x296a71['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x296a71['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x48398a){_0x48398a!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x48398a,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0xe0a14d){_0xe0a14d!==this['_reverseX']&&(this['_reverseX']=_0xe0a14d,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x1fb48c){_0x1fb48c!==this['_reverseY']&&(this['_reverseY']=_0x1fb48c,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x2d7107){_0x2d7107['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x2d7107),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0xa2e5e8){_0xa2e5e8['equals'](this['_padding'])||(this['_padding']['copy'](_0xa2e5e8),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x11a54c){_0x11a54c['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x11a54c),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x4523e5){_0x4523e5!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x4523e5,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x5cb4b7){_0x5cb4b7!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x5cb4b7,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x5b1ff1){_0x5b1ff1!==this['_wrap']&&(this['_wrap']=_0x5b1ff1,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0xe58d2b){return _0xe58d2b===this['entity']||this['entity']['children']['indexOf'](_0xe58d2b)!==-(-0x2583+-0x2*-0x135b+-0x132);}['_listenFor'+'ReflowEven'+'ts'](_0x49b2f6,_0x326575){_0x49b2f6['element']&&(_0x49b2f6['element'][_0x326575]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x49b2f6['element'][_0x326575]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x49b2f6['element'][_0x326575]('resize',this['_scheduleR'+'eflow'],this),_0x49b2f6['element'][_0x326575]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x49b2f6['layoutchil'+'d']&&(_0x49b2f6['layoutchil'+'d'][_0x326575]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x49b2f6['layoutchil'+'d'][_0x326575]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x3886a3){this['_isSelfOrC'+'hild'](_0x3886a3)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3886a3,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x56f902){this['_isSelfOrC'+'hild'](_0x56f902)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x56f902,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x24f1e8){this['_listenFor'+'ReflowEven'+'ts'](_0x24f1e8,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x1128c9){this['_listenFor'+'ReflowEven'+'ts'](_0x1128c9,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3f3c94=Jg(this['entity']),_0x5bf97a=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x3f3c94||_0x5bf97a['length']===-0x1d36*0x1+0x7b4*-0x4+-0x1a*-0x24f)return;const _0xd44ca5=Math['max'](_0x3f3c94['calculated'+'Width'],-0xcac*0x3+0xa0b+0x3*0x953),_0x5e79ac=Math['max'](_0x3f3c94['calculated'+'Height'],0x1bb7+-0x1431+0x6*-0x141),_0x3a4062={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0xd44ca5,_0x5e79ac)};this['_isPerform'+'ingReflow']=!(-0x7*0x36d+0xc2d*-0x3+0x3c82);const _0x169fb5=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x5bf97a,_0x3a4062);this['_isPerform'+'ingReflow']=!(-0x2459+-0x24df*-0x1+0x13*-0x7),this['fire']('reflow',_0x169fb5);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2fbabd=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2fbabd,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(-0x22*-0xf1+-0x7ce+0xc1a*-0x2);}}const i0=['enabled'],$R=-0x6b9+-0x1*-0x1a27+-0x1*0x130a;class XR extends ct{constructor(_0x16a0ec){super(_0x16a0ec),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x20d1b1,_0xc76ae3,_0x22170a){_0xc76ae3['enabled']!==void(0x247d+0x1c99+-0x4116)&&(_0x20d1b1['enabled']=_0xc76ae3['enabled']),_0xc76ae3['orientatio'+'n']!==void(-0x196c+0x53*-0x77+-0x71*-0x91)&&(_0x20d1b1['orientatio'+'n']=_0xc76ae3['orientatio'+'n']),_0xc76ae3['reverseX']!==void(0x1e9*-0x6+-0x31a*-0x8+-0xd5a)&&(_0x20d1b1['reverseX']=_0xc76ae3['reverseX']),_0xc76ae3['reverseY']!==void(0xb*-0x221+0xb50+0xc1b)&&(_0x20d1b1['reverseY']=_0xc76ae3['reverseY']),_0xc76ae3['alignment']!==void(-0x29*-0x7+0x153e*0x1+-0x165d)&&(_0x20d1b1['alignment']=Array['isArray'](_0xc76ae3['alignment'])?new J(_0xc76ae3['alignment']):_0xc76ae3['alignment']),_0xc76ae3['padding']!==void(0x13*0x111+0x1167+-0x25aa)&&(_0x20d1b1['padding']=Array['isArray'](_0xc76ae3['padding'])?new re(_0xc76ae3['padding']):_0xc76ae3['padding']),_0xc76ae3['spacing']!==void(-0x6c7+-0x3*-0xa0d+0x10*-0x176)&&(_0x20d1b1['spacing']=Array['isArray'](_0xc76ae3['spacing'])?new J(_0xc76ae3['spacing']):_0xc76ae3['spacing']),_0xc76ae3['widthFitti'+'ng']!==void(0x1740+0x144e+-0x2b8e)&&(_0x20d1b1['widthFitti'+'ng']=_0xc76ae3['widthFitti'+'ng']),_0xc76ae3['heightFitt'+'ing']!==void(0x79b*-0x1+0xfd0+-0x835)&&(_0x20d1b1['heightFitt'+'ing']=_0xc76ae3['heightFitt'+'ing']),_0xc76ae3['wrap']!==void(-0x1cfb*0x1+-0x1*0x6be+0x23b9)&&(_0x20d1b1['wrap']=_0xc76ae3['wrap']),super['initialize'+'ComponentD'+'ata'](_0x20d1b1,_0xc76ae3,_0x22170a);}['cloneCompo'+'nent'](_0x41d2d7,_0x2b8899){const _0x2584df=_0x41d2d7['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x2b8899,{'enabled':_0x2584df['enabled'],'orientation':_0x2584df['orientatio'+'n'],'reverseX':_0x2584df['reverseX'],'reverseY':_0x2584df['reverseY'],'alignment':_0x2584df['alignment'],'padding':_0x2584df['padding'],'spacing':_0x2584df['spacing'],'widthFitting':_0x2584df['widthFitti'+'ng'],'heightFitting':_0x2584df['heightFitt'+'ing'],'wrap':_0x2584df['wrap']});}['scheduleRe'+'flow'](_0x2f1326){this['_reflowQue'+'ue']['indexOf'](_0x2f1326)===-(-0x83e*-0x2+-0x21a0+0x1125)&&this['_reflowQue'+'ue']['push'](_0x2f1326);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x14b5+-0x1ecd+0x3382)return;let _0x401848=0x13*-0x1a+-0x9ff+0xbed;for(;this['_reflowQue'+'ue']['length']>-0x1040+0x42*-0x8+0x1250;){const _0x8b03a4=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x6*0x1c0+0x1e28+0x8*-0x275,_0x8b03a4['sort']((_0x4109ba,_0xf6bb9c)=>_0x4109ba['entity']['graphDepth']-_0xf6bb9c['entity']['graphDepth']);for(let _0x9d2505=0x1d35+0xfb6+0x3*-0xef9;_0x9d2505<_0x8b03a4['length'];++_0x9d2505)_0x8b03a4[_0x9d2505]['reflow']();if(++_0x401848>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x21331e,_0x223e80){_0x223e80['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x1d6914){this['map']['forEach'](_0x45bb1d=>_0x45bb1d['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x331bae,_0x18941d)=>{const _0x57646c=jR['get'](_0x331bae,()=>new qR());let _0x4bf920=_0x57646c['map']['get'](_0x18941d);if(!_0x4bf920){let _0x368cff,_0x346b8c;switch(_0x18941d){case'box':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new mu()),_0x346b8c={'x':0x2,'y':0x2,'z':0x2,'uv':(-0xcc1+-0x14c8+-0x218b*-0x1)/(-0xd*-0xcd+-0x3*-0x1e1+-0x1009)};break;case'capsule':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new GA({'radius':0.5,'height':0x2})),_0x346b8c={'x':Math['PI']*(0x2710+-0x1b7c+-0xb92),'y':Math['PI'],'z':Math['PI']*(0x3*0x61f+-0x3*-0x29b+-0x1a2c),'uv':(-0xda9+-0x5f*0x2c+0x1dfe)/(0x174*0x13+-0x15fd+-0x4*0x167)+(0x1caa+0x23b7+-0x4060)/(0x14d0+0x1*0x248e+-0x395b)/(0x451+-0xfba+0xb6c)*(-0x1797+0xc4c*0x1+0x1*0xb4d)};break;case'cone':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x346b8c={'x':2.54,'y':2.54,'z':2.54,'uv':(0x6*-0x291+-0x1768+0x1*0x26cf)/(-0x18*0x97+-0x1bdc+0x2a07)+(0x71e+0x6*-0xe5+-0x1bf)/(0x1d*0xe7+0x2f6+-0x1d1e)/(-0x1a6d+0x1*-0x427+0x1e97)};break;case'cylinder':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new WA({'radius':0.5,'height':0x1})),_0x346b8c={'x':Math['PI'],'y':(0x1bc9+-0x381+-0x1848+0.79)*(-0x103a+-0x2e1*-0x1+0x107*0xd),'z':Math['PI'],'uv':(-0xf21+-0x137*0x16+0x29dc*0x1)/(-0x1b56+0x11ae+0x9ab)+(-0x1679*0x1+-0x13fa*0x1+0x2c*0xf7)/(0xe3*0x2b+0x1bdb+-0x41f9)/(0xa0b+0x1aeb*-0x1+0x10e3)*(-0x2d3+-0x3*0x5bb+0x1406)};break;case'plane':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new $A({'halfExtents':new J(0x1f*0x45+0x10ff+-0x127*0x16+0.5,0xbd8*-0x1+-0x1d20+0x36a*0xc+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x346b8c={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new _m({'radius':0.5})),_0x346b8c={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x368cff=Ge['fromGeomet'+'ry'](_0x331bae,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x346b8c={'x':Math['PI']*(0xd*-0x175+0x513*0x6+-0x9b*0x13+0.5)*(0xec*0x5+0x20f1*-0x1+0x1c55+0.5)-Math['PI']*(0x185c+0x20d1+-0x392d+0.1)*(-0x1*0x137+0x19be+0x1887*-0x1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x18941d);}_0x368cff['incRefCoun'+'t'](),_0x4bf920={'mesh':_0x368cff,'area':_0x346b8c},_0x57646c['map']['set'](_0x18941d,_0x4bf920);}return _0x4bf920;};class Tm extends we{constructor(_0x16360d,_0x284039){super(_0x16360d,_0x284039),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(-0xde3+-0x72f*-0x1+0x84*0xd)),h(this,'_receiveSh'+'adows',!(0x17ff+-0x1035+-0x7ca*0x1)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(0x1f67*-0x1+0x1b40+0x427)),h(this,'_lightmapp'+'ed',!(0x1139+0x2031+-0x3169)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0xf9*0x19+-0x81*-0x49+-0x1*0xc77),h(this,'isStatic',!(0x11*0x33+-0x22a3+0x7f*0x3f)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0x89*-0x43+-0x11b*-0x5+-0x2961)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x363*0x6+-0x9b4+-0x1e07*-0x1)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x16360d['defaultMat'+'erial'],_0x284039['on']('remove',this['onRemoveCh'+'ild'],this),_0x284039['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x284039['on']('insert',this['onInsertCh'+'ild'],this),_0x284039['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0xc28318){this['_model']&&(this['_model']['meshInstan'+'ces']=_0xc28318);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x18b42d){if(this['_customAab'+'b']=_0x18b42d,this['_model']){const _0x287905=this['_model']['meshInstan'+'ces'];if(_0x287905){for(let _0x31da0d=0xa7+-0x11d*-0x1+0x2*-0xe2;_0x31da0d<_0x287905['length'];_0x31da0d++)_0x287905[_0x31da0d]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x382cfa){if(this['_type']!==_0x382cfa){if(this['_area']=null,this['_type']=_0x382cfa,_0x382cfa==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x5cc6d5=r0(this['system']['app']['graphicsDe'+'vice'],_0x382cfa);this['_area']=_0x5cc6d5['area'];const _0x375739=_0x5cc6d5['mesh'],_0x53aee8=new Ie(),_0x26d60d=new sr();_0x26d60d['graph']=_0x53aee8,_0x26d60d['meshInstan'+'ces']=[new He(_0x375739,this['_material'],_0x53aee8)],this['model']=_0x26d60d,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x63877){const _0x4aba06=this['system']['app']['assets'];let _0xe59622=_0x63877;if(_0x63877 instanceof pe&&(_0xe59622=_0x63877['id']),this['_asset']!==_0xe59622){if(this['_asset']){_0x4aba06['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5f0e1a=_0x4aba06['get'](this['_asset']);_0x5f0e1a&&this['_unbindMod'+'elAsset'](_0x5f0e1a);}if(this['_asset']=_0xe59622,this['_asset']){const _0x4ea975=_0x4aba06['get'](this['_asset']);_0x4ea975?this['_bindModel'+'Asset'](_0x4ea975):(this['model']=null,_0x4aba06['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x1211c9){if(this['_model']!==_0x1211c9){if(_0x1211c9&&_0x1211c9['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0xe4f+0x1*0x110f+0x1f5d*-0x1),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0xa13*-0x3+-0x2131+0x55*0xbf))),this['_model']=_0x1211c9,this['_model']){this['_model']['_immutable']=!(-0x1ac6+0x232b+0x7*-0x133);const _0x555d85=this['_model']['meshInstan'+'ces'];for(let _0x44015e=0x1*0xf4d+-0x1eb*0x2+-0xb77;_0x44015e<_0x555d85['length'];_0x44015e++)_0x555d85[_0x44015e]['castShadow']=this['_castShado'+'ws'],_0x555d85[_0x44015e]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x555d85[_0x44015e]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0xefe591){if(_0xefe591!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0xefe591,this['_model'])){const _0x24c900=this['_model']['meshInstan'+'ces'];for(let _0x286dd2=0x1*-0x689+0x2*0xb8d+-0x1091;_0x286dd2<_0x24c900['length'];_0x286dd2++)_0x24c900[_0x286dd2]['setLightma'+'pped'](_0xefe591);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x54ab98){if(this['_castShado'+'ws']===_0x54ab98)return;const _0x5796da=this['_model'];if(_0x5796da){const _0x4b8ed1=this['layers'],_0x55bdc3=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x54ab98)for(let _0x5a7fea=0x3*0xa31+0x6*0x10c+-0x24db;_0x5a7fea<_0x4b8ed1['length'];_0x5a7fea++){const _0x1b9d37=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5a7fea]);_0x1b9d37&&_0x1b9d37['removeShad'+'owCasters'](_0x5796da['meshInstan'+'ces']);}const _0x17c22b=_0x5796da['meshInstan'+'ces'];for(let _0x580d64=0x1*0x1807+-0x2667+0x1cc*0x8;_0x580d64<_0x17c22b['length'];_0x580d64++)_0x17c22b[_0x580d64]['castShadow']=_0x54ab98;if(!this['_castShado'+'ws']&&_0x54ab98)for(let _0x187f65=0xb*0x8d+0x202f+0x2*-0x131f;_0x187f65<_0x4b8ed1['length'];_0x187f65++){const _0x4e64b3=_0x55bdc3['layers']['getLayerBy'+'Id'](_0x4b8ed1[_0x187f65]);_0x4e64b3&&_0x4e64b3['addShadowC'+'asters'](_0x5796da['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x54ab98;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x13db9b){if(this['_receiveSh'+'adows']!==_0x13db9b&&(this['_receiveSh'+'adows']=_0x13db9b,this['_model'])){const _0x4d51ce=this['_model']['meshInstan'+'ces'];for(let _0x5f7349=-0x5fe+0xa2f+-0x1d*0x25,_0x3a2a51=_0x4d51ce['length'];_0x5f7349<_0x3a2a51;_0x5f7349++)_0x4d51ce[_0x5f7349]['receiveSha'+'dow']=_0x13db9b;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xd8ff9c){this['_castShado'+'wsLightmap']=_0xd8ff9c;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3f7ed4){this['_lightmapS'+'izeMultipl'+'ier']=_0x3f7ed4;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4d4451){const _0x21806d=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x533c7e=-0x254b*-0x1+0x5*-0x5d5+-0x822;_0x533c7e<this['_layers']['length'];_0x533c7e++){const _0x44c3f6=_0x21806d['getLayerBy'+'Id'](this['_layers'][_0x533c7e]);_0x44c3f6&&_0x44c3f6['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x52f*0x2+-0x47d*0x7+-0x13d*-0x11;for(let _0x418d76=-0x4*-0x7c4+-0x183e+-0x6d2;_0x418d76<_0x4d4451['length'];_0x418d76++)this['_layers'][_0x418d76]=_0x4d4451[_0x418d76];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x23cdf0=0x2485+0xffb*-0x1+-0x148a;_0x23cdf0<this['_layers']['length'];_0x23cdf0++){const _0x937458=_0x21806d['getLayerBy'+'Id'](this['_layers'][_0x23cdf0]);_0x937458&&_0x937458['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x409d9a){var _0x5d97c7,_0x177621;this['_batchGrou'+'pId']!==_0x409d9a&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x15c7+0x1*-0xf19+0x72*-0xf&&((_0x5d97c7=this['system']['app']['batcher'])==null||_0x5d97c7['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x409d9a>=0x669*-0x5+-0x2257*0x1+0x4264&&((_0x177621=this['system']['app']['batcher'])==null||_0x177621['insert'](St['MODEL'],_0x409d9a,this['entity'])),_0x409d9a<-0x1*0x16d0+0x7c3+0xf0d*0x1&&this['_batchGrou'+'pId']>=0x13a0+0x30*0x83+-0x2c30&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x409d9a);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x4fa181){let _0x5c0a5f=_0x4fa181;_0x4fa181 instanceof pe&&(_0x5c0a5f=_0x4fa181['id']);const _0x509795=this['system']['app']['assets'];if(_0x5c0a5f!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x509795['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x1e7486=_0x509795['get'](this['_materialA'+'sset']);_0x1e7486&&this['_unbindMat'+'erialAsset'](_0x1e7486);}if(this['_materialA'+'sset']=_0x5c0a5f,this['_materialA'+'sset']){const _0x2a5850=_0x509795['get'](this['_materialA'+'sset']);_0x2a5850?this['_bindMater'+'ialAsset'](_0x2a5850):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x509795['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x5e0677){this['_material']!==_0x5e0677&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x5e0677));}get['material'](){return this['_material'];}set['mapping'](_0x31633d){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x31633d||(_0x31633d={}),this['_mapping']=_0x31633d,!this['_model']))return;const _0x4bad54=this['_model']['meshInstan'+'ces'],_0x333147=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x382985=_0x333147?_0x333147['data']['mapping']:null;let _0x5b141b=null;for(let _0x348d6e=-0x1*-0x331+-0x1472+0x1141,_0x1aa762=_0x4bad54['length'];_0x348d6e<_0x1aa762;_0x348d6e++)if(_0x31633d[_0x348d6e]!==void(-0x2*-0x306+-0x1c*0x106+0xb4e*0x2))_0x31633d[_0x348d6e]?(_0x5b141b=this['system']['app']['assets']['get'](_0x31633d[_0x348d6e]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5b141b,_0x4bad54[_0x348d6e],_0x348d6e)):_0x4bad54[_0x348d6e]['material']=this['system']['defaultMat'+'erial'];else{if(_0x382985){if(_0x382985[_0x348d6e]&&(_0x382985[_0x348d6e]['material']||_0x382985[_0x348d6e]['path'])){if(_0x382985[_0x348d6e]['material']!==void(0x1561+-0xd*-0x295+-0x36f2))_0x5b141b=this['system']['app']['assets']['get'](_0x382985[_0x348d6e]['material']);else{if(_0x382985[_0x348d6e]['path']!==void(0x1*0x21ef+-0x2*-0xbcf+-0x398d)){const _0x4c926c=this['_getMateri'+'alAssetUrl'](_0x382985[_0x348d6e]['path']);_0x4c926c&&(_0x5b141b=this['system']['app']['assets']['getByUrl'](_0x4c926c));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5b141b,_0x4bad54[_0x348d6e],_0x348d6e);}else _0x4bad54[_0x348d6e]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x1df34d=this['system']['app']['scene']['layers'];for(let _0x1f91b0=0x179a+-0xd72+-0xa28;_0x1f91b0<this['_layers']['length'];_0x1f91b0++){const _0x235e51=_0x1df34d['getLayerBy'+'Id'](this['_layers'][_0x1f91b0]);_0x235e51&&_0x235e51['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0xd481ae=this['system']['app']['scene']['layers'];for(let _0x4ea2d5=0xa56+0x167b+-0x20d1;_0x4ea2d5<this['_layers']['length'];_0x4ea2d5++){const _0x505cb9=_0xd481ae['getLayerBy'+'Id'](this['_layers'][_0x4ea2d5]);_0x505cb9&&_0x505cb9['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xa74308,_0x141a66){this['addModelTo'+'Layers'](),_0xa74308['off']('add',this['onLayerAdd'+'ed'],this),_0xa74308['off']('remove',this['onLayerRem'+'oved'],this),_0x141a66['on']('add',this['onLayerAdd'+'ed'],this),_0x141a66['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2ff838){this['layers']['indexOf'](_0x2ff838['id'])<0x2328+0x13f+0x1*-0x2467||_0x2ff838['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3ff000){this['layers']['indexOf'](_0x3ff000['id'])<-0x3e5+-0x56d+-0x1*-0x952||_0x3ff000['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x104f07,_0x3810ae,_0x49cdb1,_0x3ba351){const _0x5b3183=_0x3810ae+':'+_0x49cdb1;this['system']['app']['assets']['on'](_0x5b3183,_0x3ba351,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x104f07]||(this['_materialE'+'vents'][_0x104f07]={}),this['_materialE'+'vents'][_0x104f07][_0x5b3183]={'id':_0x49cdb1,'handler':_0x3ba351};}['_unsetMate'+'rialEvents'](){const _0x1d7a48=this['system']['app']['assets'],_0x4700f9=this['_materialE'+'vents'];if(_0x4700f9){for(let _0x3e6403=-0x45*0x6d+-0x76*-0x35+0x4f3,_0x769ae5=_0x4700f9['length'];_0x3e6403<_0x769ae5;_0x3e6403++){if(!_0x4700f9[_0x3e6403])continue;const _0x1d556e=_0x4700f9[_0x3e6403];for(const _0x5344f6 in _0x1d556e)_0x1d7a48['off'](_0x5344f6,_0x1d556e[_0x5344f6]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x1e6aea){let _0x217dea=null;if(!isNaN(parseInt(_0x1e6aea,-0x916*-0x1+-0x213e+0x1832)))_0x217dea=this['system']['app']['assets']['get'](_0x1e6aea);else{if(this['asset']){const _0x4c71c9=this['_getMateri'+'alAssetUrl'](_0x1e6aea);_0x4c71c9&&(_0x217dea=this['system']['app']['assets']['getByUrl'](_0x4c71c9));}}return _0x217dea;}['_getMateri'+'alAssetUrl'](_0xc617f1){if(!this['asset'])return null;const _0x93f508=this['system']['app']['assets']['get'](this['asset']);return _0x93f508?_0x93f508['getAbsolut'+'eUrl'](_0xc617f1):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2c6ea3,_0x4e77b9,_0x1bcfa1){const _0x222d51=this['system']['app']['assets'];_0x2c6ea3&&(_0x2c6ea3['resource']?(_0x4e77b9['material']=_0x2c6ea3['resource'],this['_setMateri'+'alEvent'](_0x1bcfa1,'remove',_0x2c6ea3['id'],function(){_0x4e77b9['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x1bcfa1,'load',_0x2c6ea3['id'],function(_0x4dc05b){_0x4e77b9['material']=_0x4dc05b['resource'],this['_setMateri'+'alEvent'](_0x1bcfa1,'remove',_0x2c6ea3['id'],function(){_0x4e77b9['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x222d51['load'](_0x2c6ea3)));}['onEnable'](){var _0x5ec1c7;const _0x615ad1=this['system']['app'],_0x3770c5=_0x615ad1['scene'],_0x4c092e=_0x3770c5==null?void(-0x1fb*-0x1+0x5*-0x725+0x21be):_0x3770c5['layers'];this['_evtLayers'+'Changed']=_0x3770c5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c092e&&(this['_evtLayerA'+'dded']=_0x4c092e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c092e['on']('remove',this['onLayerRem'+'oved'],this));const _0x50d48d=this['_type']==='asset';let _0x59d321;if(this['_model']?this['addModelTo'+'Layers']():_0x50d48d&&this['_asset']&&(_0x59d321=_0x615ad1['assets']['get'](this['_asset']),_0x59d321&&_0x59d321['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x59d321)),this['_materialA'+'sset']&&(_0x59d321=_0x615ad1['assets']['get'](this['_materialA'+'sset']),_0x59d321&&_0x59d321['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x59d321)),_0x50d48d&&this['_mapping']){for(const _0x205aac in this['_mapping'])this['_mapping'][_0x205aac]&&(_0x59d321=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x205aac]),_0x59d321&&!_0x59d321['resource']&&_0x615ad1['assets']['load'](_0x59d321));}this['_batchGrou'+'pId']>=-0x1*0xe89+0x2f*-0x50+0x1d39*0x1&&((_0x5ec1c7=_0x615ad1['batcher'])==null||_0x5ec1c7['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5c9465,_0x3da331,_0x4111bd,_0x3238be;const _0x3233e1=this['system']['app'],_0x2d0576=_0x3233e1['scene']['layers'];(_0x5c9465=this['_evtLayers'+'Changed'])==null||_0x5c9465['off'](),this['_evtLayers'+'Changed']=null,_0x2d0576&&((_0x3da331=this['_evtLayerA'+'dded'])==null||_0x3da331['off'](),this['_evtLayerA'+'dded']=null,(_0x4111bd=this['_evtLayerR'+'emoved'])==null||_0x4111bd['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x484+0x1e5*-0x8+0x13ac&&((_0x3238be=_0x3233e1['batcher'])==null||_0x3238be['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0xcb72b7=this['_model']['meshInstan'+'ces'];for(let _0x2d5cb5=0x1feb+-0x73a+-0x18b1,_0x2ff06e=_0xcb72b7['length'];_0x2d5cb5<_0x2ff06e;_0x2d5cb5++)_0xcb72b7[_0x2d5cb5]['visible']=!(-0x176f+-0x21*-0xb2+-0xe*-0x9);}}['show'](){if(this['_model']){const _0xb4dbd4=this['_model']['meshInstan'+'ces'];for(let _0x138382=0x27*-0x93+0x1b6f+0x102*-0x5,_0x48af5e=_0xb4dbd4['length'];_0x138382<_0x48af5e;_0x138382++)_0xb4dbd4[_0x138382]['visible']=!(-0x16f0+-0x139*0xc+0x259c);}}['_bindMater'+'ialAsset'](_0x583194){if(_0x583194['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x583194['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x583194['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x583194['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x583194['resource'])this['_onMateria'+'lAssetLoad'](_0x583194);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x583194);}}['_unbindMat'+'erialAsset'](_0x4b8b3d){_0x4b8b3d['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4b8b3d['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4b8b3d['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4b8b3d['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x5289c5){this['system']['app']['assets']['off']('add:'+_0x5289c5['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x5289c5['id']&&this['_bindMater'+'ialAsset'](_0x5289c5);}['_onMateria'+'lAssetLoad'](_0x1ae723){this['_setMateri'+'al'](_0x1ae723['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x2c5ff6){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x28f598){this['_onMateria'+'lAssetUnlo'+'ad'](_0x28f598);}['_onMateria'+'lAssetChan'+'ge'](_0x11ea57){}['_bindModel'+'Asset'](_0x2cfe0e){if(this['_unbindMod'+'elAsset'](_0x2cfe0e),_0x2cfe0e['on']('load',this['_onModelAs'+'setLoad'],this),_0x2cfe0e['on']('unload',this['_onModelAs'+'setUnload'],this),_0x2cfe0e['on']('change',this['_onModelAs'+'setChange'],this),_0x2cfe0e['on']('remove',this['_onModelAs'+'setRemove'],this),_0x2cfe0e['resource'])this['_onModelAs'+'setLoad'](_0x2cfe0e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2cfe0e);}}['_unbindMod'+'elAsset'](_0x28887c){_0x28887c['off']('load',this['_onModelAs'+'setLoad'],this),_0x28887c['off']('unload',this['_onModelAs'+'setUnload'],this),_0x28887c['off']('change',this['_onModelAs'+'setChange'],this),_0x28887c['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x5dd564){this['system']['app']['assets']['off']('add:'+_0x5dd564['id'],this['_onModelAs'+'setAdded'],this),_0x5dd564['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x5dd564);}['_onModelAs'+'setLoad'](_0x32369a){this['model']=_0x32369a['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1*-0x238a+0x465+-0x27ef);}['_onModelAs'+'setUnload'](_0x4d2194){this['model']=null;}['_onModelAs'+'setChange'](_0x41d7e9,_0x223047,_0x5a8c37,_0x42bab0){_0x223047==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x1a838c){this['model']=null;}['_setMateri'+'al'](_0xf4be8b){if(this['_material']===_0xf4be8b)return;this['_material']=_0xf4be8b;const _0x51c143=this['_model'];if(_0x51c143&&this['_type']!=='asset'){const _0x488cf9=_0x51c143['meshInstan'+'ces'];for(let _0x951d41=-0x1*-0x1f24+-0x2019+-0x5*-0x31,_0x14c73c=_0x488cf9['length'];_0x951d41<_0x14c73c;_0x951d41++)_0x488cf9[_0x951d41]['material']=_0xf4be8b;}}}class YR{constructor(){this['enabled']=!(-0x8a3+0xbd7+-0x334);}}const a0=['enabled'];class KR extends ct{constructor(_0x527fb6){super(_0x527fb6),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x527fb6['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x427fbd,_0x5532ad,_0x422de1){_0x422de1=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x5532ad['batchGroup'+'Id']===null||_0x5532ad['batchGroup'+'Id']===void(0x1bd+0x1eab*-0x1+-0xe77*-0x2))&&(_0x5532ad['batchGroup'+'Id']=-(-0xe3b*0x2+-0x18d1+0x3548)),_0x5532ad['layers']&&_0x5532ad['layers']['length']&&(_0x5532ad['layers']=_0x5532ad['layers']['slice'](0x23d+-0x1*0x7e1+-0x26*-0x26));for(let _0x5e3bc5=0x8ad*-0x2+0xa68+0x6f2;_0x5e3bc5<_0x422de1['length'];_0x5e3bc5++)_0x5532ad['hasOwnProp'+'erty'](_0x422de1[_0x5e3bc5])&&(_0x427fbd[_0x422de1[_0x5e3bc5]]=_0x5532ad[_0x422de1[_0x5e3bc5]]);_0x5532ad['aabbCenter']&&_0x5532ad['aabbHalfEx'+'tents']&&(_0x427fbd['customAabb']=new De(new D(_0x5532ad['aabbCenter']),new D(_0x5532ad['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x427fbd,_0x5532ad,['enabled']);}['cloneCompo'+'nent'](_0x1e5528,_0x34d08e){const _0xe8a3b4={'type':_0x1e5528['model']['type'],'asset':_0x1e5528['model']['asset'],'castShadows':_0x1e5528['model']['castShadow'+'s'],'receiveShadows':_0x1e5528['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x1e5528['model']['castShadow'+'sLightmap'],'lightmapped':_0x1e5528['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x1e5528['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x1e5528['model']['isStatic'],'enabled':_0x1e5528['model']['enabled'],'layers':_0x1e5528['model']['layers'],'batchGroupId':_0x1e5528['model']['batchGroup'+'Id'],'mapping':ah({},_0x1e5528['model']['mapping'])};let _0x256f9f=_0x1e5528['model']['materialAs'+'set'];!(_0x256f9f instanceof pe)&&_0x256f9f!=null&&(_0x256f9f=this['app']['assets']['get'](_0x256f9f));const _0x5f240b=_0x1e5528['model']['material'];(!_0x5f240b||_0x5f240b===this['defaultMat'+'erial']||!_0x256f9f||_0x5f240b===_0x256f9f['resource'])&&(_0xe8a3b4['materialAs'+'set']=_0x256f9f);const _0x7a66e7=this['addCompone'+'nt'](_0x34d08e,_0xe8a3b4);if(_0x1e5528['model']['model']&&_0x1e5528['model']['type']==='asset'&&!_0x1e5528['model']['asset']&&(_0x7a66e7['model']=_0x1e5528['model']['model']['clone'](),_0x7a66e7['_clonedMod'+'el']=!(0x5b*-0x59+0x1*0x58d+-0xe*-0x1dd)),_0xe8a3b4['materialAs'+'set']||(_0x7a66e7['material']=_0x5f240b),_0x1e5528['model']['model']){const _0x238716=_0x1e5528['model']['model']['meshInstan'+'ces'],_0x137bc6=_0x7a66e7['model']['meshInstan'+'ces'];for(let _0xb6a796=-0xa78*0x1+-0xc72+0x1*0x16ea;_0xb6a796<_0x238716['length'];_0xb6a796++)_0x137bc6[_0xb6a796]['mask']=_0x238716[_0xb6a796]['mask'],_0x137bc6[_0xb6a796]['material']=_0x238716[_0xb6a796]['material'],_0x137bc6[_0xb6a796]['layer']=_0x238716[_0xb6a796]['layer'],_0x137bc6[_0xb6a796]['receiveSha'+'dow']=_0x238716[_0xb6a796]['receiveSha'+'dow'];}return _0x1e5528['model']['customAabb']&&(_0x7a66e7['customAabb']=_0x1e5528['model']['customAabb']['clone']()),_0x7a66e7;}['onRemove'](_0x1c50b0,_0x1b12fd){_0x1b12fd['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x47a082,_0x114ad6){super(_0x47a082,_0x114ad6),h(this,'_requested'+'Depth',!(-0xb9*0x19+-0x2a4*-0x2+0xcca)),h(this,'_drawOrder',-0x3a*-0x13+0x183+-0x1*0x5d1),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0xa5b0b4=>{this['on']('set_'+_0xa5b0b4,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x3f7e08=>{this['on']('set_'+_0x3f7e08,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x5023bc=>{this['on']('set_'+_0x5023bc,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x209efa=this['system']['store'][this['entity']['getGuid']()];return _0x209efa?_0x209efa['data']:null;}set['enabled'](_0x50b953){this['_setValue']('enabled',_0x50b953);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x5a3041){this['_setValue']('autoPlay',_0x5a3041);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x4d1fd9){this['_setValue']('numParticl'+'es',_0x4d1fd9);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x30b470){this['_setValue']('lifetime',_0x30b470);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x342558){this['_setValue']('rate',_0x342558);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x43ecc9){this['_setValue']('rate2',_0x43ecc9);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x2ccda9){this['_setValue']('startAngle',_0x2ccda9);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x3a6a55){this['_setValue']('startAngle'+'2',_0x3a6a55);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x34308f){this['_setValue']('loop',_0x34308f);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x55d9de){this['_setValue']('preWarm',_0x55d9de);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x503964){this['_setValue']('lighting',_0x503964);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x3dc79b){this['_setValue']('halfLamber'+'t',_0x3dc79b);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x2147ec){this['_setValue']('intensity',_0x2147ec);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x58adda){this['_setValue']('depthWrite',_0x58adda);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x4a2fd8){this['_setValue']('noFog',_0x4a2fd8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0xfdcec5){this['_setValue']('depthSofte'+'ning',_0xfdcec5);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x2ca902){this['_setValue']('sort',_0x2ca902);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x359ea4){this['_setValue']('blendType',_0x359ea4);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x399394){this['_setValue']('stretch',_0x399394);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x314137){this['_setValue']('alignToMot'+'ion',_0x314137);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x1ba85e){this['_setValue']('emitterSha'+'pe',_0x1ba85e);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x38dfec){this['_setValue']('emitterExt'+'ents',_0x38dfec);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x3c0592){this['_setValue']('emitterExt'+'entsInner',_0x3c0592);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x9671a4){this['_setValue']('emitterRad'+'ius',_0x9671a4);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x107043){this['_setValue']('emitterRad'+'iusInner',_0x107043);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x4618b8){this['_setValue']('initialVel'+'ocity',_0x4618b8);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0xad04b0){this['_setValue']('wrap',_0xad04b0);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x282662){this['_setValue']('wrapBounds',_0x282662);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0xaa2852){this['_setValue']('localSpace',_0xaa2852);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x13ed75){this['_setValue']('screenSpac'+'e',_0x13ed75);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x36248d){this['_setValue']('colorMapAs'+'set',_0x36248d);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x168130){this['_setValue']('normalMapA'+'sset',_0x168130);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x1794f5){this['_setValue']('mesh',_0x1794f5);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x514477){this['_setValue']('meshAsset',_0x514477);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x239f2f){this['_setValue']('renderAsse'+'t',_0x239f2f);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x28a978){this['_setValue']('orientatio'+'n',_0x28a978);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x3a89c6){this['_setValue']('particleNo'+'rmal',_0x3a89c6);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x1b7a51){this['_setValue']('localVeloc'+'ityGraph',_0x1b7a51);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x1be4c6){this['_setValue']('localVeloc'+'ityGraph2',_0x1be4c6);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x3e5539){this['_setValue']('velocityGr'+'aph',_0x3e5539);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x375705){this['_setValue']('velocityGr'+'aph2',_0x375705);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x56eb51){this['_setValue']('rotationSp'+'eedGraph',_0x56eb51);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0xdc8d0c){this['_setValue']('rotationSp'+'eedGraph2',_0xdc8d0c);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4e7dad){this['_setValue']('radialSpee'+'dGraph',_0x4e7dad);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x506970){this['_setValue']('radialSpee'+'dGraph2',_0x506970);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x31337d){this['_setValue']('scaleGraph',_0x31337d);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x67b727){this['_setValue']('scaleGraph'+'2',_0x67b727);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x3bab9b){this['_setValue']('colorGraph',_0x3bab9b);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x36366a){this['_setValue']('colorGraph'+'2',_0x36366a);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x477cfd){this['_setValue']('alphaGraph',_0x477cfd);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x18e9f9){this['_setValue']('alphaGraph'+'2',_0x18e9f9);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x463f3f){this['_setValue']('colorMap',_0x463f3f);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x508338){this['_setValue']('normalMap',_0x508338);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x440e9a){this['_setValue']('animTilesX',_0x440e9a);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x535ab1){this['_setValue']('animTilesY',_0x535ab1);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x549ae8){this['_setValue']('animStartF'+'rame',_0x549ae8);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x57c5e9){this['_setValue']('animNumFra'+'mes',_0x57c5e9);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x87daf9){this['_setValue']('animNumAni'+'mations',_0x87daf9);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x318389){this['_setValue']('animIndex',_0x318389);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x3b3801){this['_setValue']('randomizeA'+'nimIndex',_0x3b3801);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x404f17){this['_setValue']('animSpeed',_0x404f17);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x28a24f){this['_setValue']('animLoop',_0x28a24f);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x241deb){this['_setValue']('layers',_0x241deb);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x3da453){this['_drawOrder']=_0x3da453,this['emitter']&&(this['emitter']['drawOrder']=_0x3da453);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x1ff548,_0x9c117b){const _0x260585=this['data'],_0x276593=_0x260585[_0x1ff548];_0x260585[_0x1ff548]=_0x9c117b,this['fire']('set',_0x1ff548,_0x276593,_0x9c117b);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x2de2f7=0x3*-0x459+-0x1208+0x1f13;_0x2de2f7<this['layers']['length'];_0x2de2f7++){const _0x4e38b0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2de2f7]);_0x4e38b0&&(_0x4e38b0['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x4e38b0);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x100dba=0x2d2*-0x7+-0x1fbe+0xa4c*0x5;_0x100dba<this['layers']['length'];_0x100dba++){const _0x24f6f9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x100dba]);_0x24f6f9&&_0x24f6f9['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x305df3,_0x58cd79,_0xa278f6){if(this['emitter']){for(let _0x4d7027=0x812*0x1+0x4eb*0x1+-0x5*0x299;_0x4d7027<_0x58cd79['length'];_0x4d7027++){const _0x361293=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x58cd79[_0x4d7027]);_0x361293&&_0x361293['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x5d04a0=0x23e3+0x1c10+0x99*-0x6b;_0x5d04a0<_0xa278f6['length'];_0x5d04a0++){const _0x56a702=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xa278f6[_0x5d04a0]);_0x56a702&&_0x56a702['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x180576,_0x3fb014){this['addMeshIns'+'tanceToLay'+'ers'](),_0x180576['off']('add',this['onLayerAdd'+'ed'],this),_0x180576['off']('remove',this['onLayerRem'+'oved'],this),_0x3fb014['on']('add',this['onLayerAdd'+'ed'],this),_0x3fb014['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x453821){!this['emitter']||this['layers']['indexOf'](_0x453821['id'])<0x16fe+-0xf8b*0x1+-0x773*0x1||_0x453821['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x52c6bd){!this['emitter']||this['layers']['indexOf'](_0x52c6bd['id'])<0x61*0x4+0xca8+0x716*-0x2||_0x52c6bd['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x2a4516){if(_0x2a4516['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x2a4516['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x2a4516['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x2a4516['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x2a4516['resource'])this['_onColorMa'+'pAssetLoad'](_0x2a4516);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2a4516);}}['_unbindCol'+'orMapAsset'](_0x465d5c){_0x465d5c['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x465d5c['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x465d5c['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x465d5c['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x5b4fd7){this['colorMap']=_0x5b4fd7['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x1f05e5){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x2c6864){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x2c6864);}['_onColorMa'+'pAssetChan'+'ge'](_0x53b77d){}['onSetColor'+'MapAsset'](_0x558dfa,_0x531714,_0x29dcd0){const _0x2fab36=this['system']['app']['assets'];if(_0x531714){const _0x570e25=_0x2fab36['get'](_0x531714);_0x570e25&&this['_unbindCol'+'orMapAsset'](_0x570e25);}if(_0x29dcd0){_0x29dcd0 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x29dcd0['id'],_0x29dcd0=_0x29dcd0['id']);const _0x2c3676=_0x2fab36['get'](_0x29dcd0);_0x2c3676?this['_bindColor'+'MapAsset'](_0x2c3676):_0x2fab36['once']('add:'+_0x29dcd0,_0x5d5ccf=>{this['_bindColor'+'MapAsset'](_0x5d5ccf);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x11516d){if(_0x11516d['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x11516d['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x11516d['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x11516d['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x11516d['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x11516d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x11516d);}}['_unbindNor'+'malMapAsse'+'t'](_0x4b9dd5){_0x4b9dd5['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4b9dd5['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4b9dd5['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4b9dd5['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x54f6f5){this['normalMap']=_0x54f6f5['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x3f2b24){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x63f800){this['_onNormalM'+'apAssetUnl'+'oad'](_0x63f800);}['_onNormalM'+'apAssetCha'+'nge'](_0x634607){}['onSetNorma'+'lMapAsset'](_0x175796,_0x407b82,_0x144d16){const _0x1d4890=this['system']['app']['assets'];if(_0x407b82){const _0x20763e=_0x1d4890['get'](_0x407b82);_0x20763e&&this['_unbindNor'+'malMapAsse'+'t'](_0x20763e);}if(_0x144d16){_0x144d16 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x144d16['id'],_0x144d16=_0x144d16['id']);const _0x541ee9=_0x1d4890['get'](_0x144d16);_0x541ee9?this['_bindNorma'+'lMapAsset'](_0x541ee9):_0x1d4890['once']('add:'+_0x144d16,_0x294cc8=>{this['_bindNorma'+'lMapAsset'](_0x294cc8);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x242e46){if(_0x242e46['on']('load',this['_onMeshAss'+'etLoad'],this),_0x242e46['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x242e46['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x242e46['on']('change',this['_onMeshAss'+'etChange'],this),_0x242e46['resource'])this['_onMeshAss'+'etLoad'](_0x242e46);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x242e46);}}['_unbindMes'+'hAsset'](_0xc7967b){_0xc7967b['off']('load',this['_onMeshAss'+'etLoad'],this),_0xc7967b['off']('unload',this['_onMeshAss'+'etUnload'],this),_0xc7967b['off']('remove',this['_onMeshAss'+'etRemove'],this),_0xc7967b['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x5e845b){this['_onMeshCha'+'nged'](_0x5e845b['resource']);}['_onMeshAss'+'etUnload'](_0x1531a8){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x1eef6e){this['_onMeshAss'+'etUnload'](_0x1eef6e);}['_onMeshAss'+'etChange'](_0x29f880){}['onSetMeshA'+'sset'](_0x1490aa,_0x4202f7,_0x38251d){const _0x1660a8=this['system']['app']['assets'];if(_0x4202f7){const _0x1257b5=_0x1660a8['get'](_0x4202f7);_0x1257b5&&this['_unbindMes'+'hAsset'](_0x1257b5);}if(_0x38251d){_0x38251d instanceof pe&&(this['data']['meshAsset']=_0x38251d['id'],_0x38251d=_0x38251d['id']);const _0x44a96b=_0x1660a8['get'](_0x38251d);_0x44a96b&&this['_bindMeshA'+'sset'](_0x44a96b);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x460422,_0x3bfac8,_0x20e998){!_0x20e998||_0x20e998 instanceof pe||typeof _0x20e998=='number'?this['meshAsset']=_0x20e998:this['_onMeshCha'+'nged'](_0x20e998);}['_onMeshCha'+'nged'](_0x80f338){_0x80f338&&!(_0x80f338 instanceof Ge)&&(_0x80f338['meshInstan'+'ces'][-0x1*-0x1d35+0x1f38+0x3c6d*-0x1]?_0x80f338=_0x80f338['meshInstan'+'ces'][0x2471+0x16ee+-0x3b5f*0x1]['mesh']:_0x80f338=null),this['data']['mesh']=_0x80f338,this['emitter']&&(this['emitter']['mesh']=_0x80f338,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x4cf754,_0x15866f,_0x4a4be5){const _0xb8258d=this['system']['app']['assets'];if(_0x15866f){const _0x240148=_0xb8258d['get'](_0x15866f);_0x240148&&this['_unbindRen'+'derAsset'](_0x240148);}if(_0x4a4be5){_0x4a4be5 instanceof pe&&(this['data']['renderAsse'+'t']=_0x4a4be5['id'],_0x4a4be5=_0x4a4be5['id']);const _0x986f84=_0xb8258d['get'](_0x4a4be5);_0x986f84&&this['_bindRende'+'rAsset'](_0x986f84);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x4c894f){if(_0x4c894f['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x4c894f['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x4c894f['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x4c894f['resource'])this['_onRenderA'+'ssetLoad'](_0x4c894f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4c894f);}}['_unbindRen'+'derAsset'](_0x2e0b2a){var _0x3f1b92;_0x2e0b2a['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x2e0b2a['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2e0b2a['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3f1b92=this['_evtSetMes'+'hes'])==null||_0x3f1b92['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2ab4b4){this['_onRenderC'+'hanged'](_0x2ab4b4['resource']);}['_onRenderA'+'ssetUnload'](_0x169f1c){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x32ca0a){this['_onRenderA'+'ssetUnload'](_0x32ca0a);}['_onRenderC'+'hanged'](_0x587745){var _0x48512c;if(!_0x587745){this['_onMeshCha'+'nged'](null);return;}(_0x48512c=this['_evtSetMes'+'hes'])==null||_0x48512c['off'](),this['_evtSetMes'+'hes']=_0x587745['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x587745['meshes']&&this['_onRenderS'+'etMeshes'](_0x587745['meshes']);}['_onRenderS'+'etMeshes'](_0x4bf21a){this['_onMeshCha'+'nged'](_0x4bf21a&&_0x4bf21a[0x4*0x467+0xa9c+0x2a*-0xac]);}['onSetLoop'](_0x430d12,_0x59f2c9,_0xf3e250){this['emitter']&&(this['emitter'][_0x430d12]=_0xf3e250,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0xb3fadd,_0x4df836,_0x487d55){this['emitter']&&(this['emitter'][_0xb3fadd]=_0x487d55,this['emitter']['material']['blendType']=_0x487d55,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0xccf*0x3+0x1*0x1582+0xe5*-0x43)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x2262+0x17ca+0xa99));}['onSetDepth'+'Softening'](_0x1c3e17,_0x25071c,_0x395ce8){_0x25071c!==_0x395ce8&&(_0x395ce8?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1c3e17]=_0x395ce8)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1c3e17]=_0x395ce8)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x54cef5,_0x2742bd,_0x24bdaf){this['emitter']&&(this['emitter'][_0x54cef5]=_0x24bdaf,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x4d3c51,_0x4d54a5,_0x4971cf){this['emitter']&&(this['emitter'][_0x4d3c51]=_0x4971cf,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x9dc833,_0x567765,_0x18f06d){this['emitter']&&(this['emitter'][_0x9dc833]=_0x18f06d,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x340203=this['system']['app']['scene'],_0x50d122=_0x340203['layers'],_0x51815c=this['data'];for(let _0x111141=-0x2357*-0x1+0x236c*-0x1+0x15,_0x3d8db9=Cc['length'];_0x111141<_0x3d8db9;_0x111141++){let _0x32698f=_0x51815c[Cc[_0x111141]];if(_0x32698f){if(!(_0x32698f instanceof pe)){if(parseInt(_0x32698f,0x247c+0x11bc*-0x1+-0x12b6)>=-0x14b*-0xb+-0x1*-0x1641+-0x247a)_0x32698f=this['system']['app']['assets']['get'](_0x32698f);else continue;}_0x32698f&&!_0x32698f['resource']&&this['system']['app']['assets']['load'](_0x32698f);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x2765a0=_0x51815c['mesh'];_0x2765a0 instanceof Ge||(_0x2765a0=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x51815c['numParticl'+'es'],'emitterExtents':_0x51815c['emitterExt'+'ents'],'emitterExtentsInner':_0x51815c['emitterExt'+'entsInner'],'emitterRadius':_0x51815c['emitterRad'+'ius'],'emitterRadiusInner':_0x51815c['emitterRad'+'iusInner'],'emitterShape':_0x51815c['emitterSha'+'pe'],'initialVelocity':_0x51815c['initialVel'+'ocity'],'wrap':_0x51815c['wrap'],'localSpace':_0x51815c['localSpace'],'screenSpace':_0x51815c['screenSpac'+'e'],'wrapBounds':_0x51815c['wrapBounds'],'lifetime':_0x51815c['lifetime'],'rate':_0x51815c['rate'],'rate2':_0x51815c['rate2'],'orientation':_0x51815c['orientatio'+'n'],'particleNormal':_0x51815c['particleNo'+'rmal'],'animTilesX':_0x51815c['animTilesX'],'animTilesY':_0x51815c['animTilesY'],'animStartFrame':_0x51815c['animStartF'+'rame'],'animNumFrames':_0x51815c['animNumFra'+'mes'],'animNumAnimations':_0x51815c['animNumAni'+'mations'],'animIndex':_0x51815c['animIndex'],'randomizeAnimIndex':_0x51815c['randomizeA'+'nimIndex'],'animSpeed':_0x51815c['animSpeed'],'animLoop':_0x51815c['animLoop'],'startAngle':_0x51815c['startAngle'],'startAngle2':_0x51815c['startAngle'+'2'],'scaleGraph':_0x51815c['scaleGraph'],'scaleGraph2':_0x51815c['scaleGraph'+'2'],'colorGraph':_0x51815c['colorGraph'],'colorGraph2':_0x51815c['colorGraph'+'2'],'alphaGraph':_0x51815c['alphaGraph'],'alphaGraph2':_0x51815c['alphaGraph'+'2'],'localVelocityGraph':_0x51815c['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x51815c['localVeloc'+'ityGraph2'],'velocityGraph':_0x51815c['velocityGr'+'aph'],'velocityGraph2':_0x51815c['velocityGr'+'aph2'],'rotationSpeedGraph':_0x51815c['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x51815c['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x51815c['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x51815c['radialSpee'+'dGraph2'],'colorMap':_0x51815c['colorMap'],'normalMap':_0x51815c['normalMap'],'loop':_0x51815c['loop'],'preWarm':_0x51815c['preWarm'],'sort':_0x51815c['sort'],'stretch':_0x51815c['stretch'],'alignToMotion':_0x51815c['alignToMot'+'ion'],'lighting':_0x51815c['lighting'],'halfLambert':_0x51815c['halfLamber'+'t'],'intensity':_0x51815c['intensity'],'depthSoftening':_0x51815c['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x2765a0,'depthWrite':_0x51815c['depthWrite'],'noFog':_0x51815c['noFog'],'node':this['entity'],'blendType':_0x51815c['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x51815c['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x139*-0xa+-0x1c74+0x103b));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x340203['on']('set:layers',this['onLayersCh'+'anged'],this),_0x50d122&&(this['_evtLayerA'+'dded']=_0x50d122['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x50d122['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x51815c['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x8a24d2,_0x3cc8bc,_0x51846f;const _0x17da75=this['system']['app']['scene']['layers'];(_0x8a24d2=this['_evtLayers'+'Changed'])==null||_0x8a24d2['off'](),this['_evtLayers'+'Changed']=null,_0x17da75&&((_0x3cc8bc=this['_evtLayerA'+'dded'])==null||_0x3cc8bc['off'](),this['_evtLayerA'+'dded']=null,(_0x51846f=this['_evtLayerR'+'emoved'])==null||_0x51846f['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0xc03+0x3b*-0x2c+-0x2c5*-0x8)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x36c3c0=-0x2ad+0x62*0x3b+-0x3*0x6a3;_0x36c3c0<Cc['length'];_0x36c3c0++){const _0x54be94=Cc[_0x36c3c0];this['data'][_0x54be94]&&(this[_0x54be94]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x146e+-0x1288+-0x1e5),this['emitter']['resetTime'](),this['emitter']['addTime'](-0xbb4+-0xe67*-0x1+-0x1*0x2b3,!(0x1ef8+0x1af+-0x20a7)));}['pause'](){this['data']['paused']=!(0x1*0x17c1+-0x2c5*0xa+0x3f1);}['unpause'](){this['data']['paused']=!(0x6*0x217+-0xbe6+-0xa3);}['play'](){this['data']['paused']=!(0xb4+0x256d+-0x8*0x4c4),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x57*-0x1d+0x28e+0x161*-0x9),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1*0x2d8+0xb*-0x156+0x118b):this['emitter']&&this['emitter']['loop']?!(-0x2272+0x1e48+0x1a*0x29):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x3b9df4}=this;_0x3b9df4&&!_0x3b9df4['inTools']&&(_0x3b9df4['inTools']=!(-0xcec+0x188e+-0xba2),this['rebuild']());}['rebuild'](){const _0x41562a=this['enabled'];this['enabled']=!(0x419*-0x5+0x2354+-0xed6),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x41562a;}}class t3{constructor(){this['numParticl'+'es']=0x93c+0x23dc+0x7*-0x671,this['rate']=0x22a5*-0x1+-0x18eb*-0x1+-0x35*-0x2f,this['rate2']=null,this['startAngle']=-0x15cc+0x2f0*-0x8+0x2d4c*0x1,this['startAngle'+'2']=null,this['lifetime']=0xf10+0x41+-0x4f*0x31,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0x1*-0xf2e+-0x17b*-0x1+0x5*-0x355,this['emitterRad'+'iusInner']=-0x7*0x294+0x1da1+-0xb95,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x10d3+0x939*-0x2+0x53*0x5,this['wrap']=!(0xd26+0x1b90+-0x28b5),this['wrapBounds']=new D(),this['localSpace']=!(0x766+0xb*0x23e+-0x11b*0x1d),this['screenSpac'+'e']=!(-0x487*-0x5+0x23b*-0xa+0x1*-0x54),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1e1a*-0x1+-0xc61+0x2a7b),this['preWarm']=!(-0x1a58*0x1+-0x43*-0x2b+-0x284*-0x6),this['sort']=-0xa*-0xda+0x224f+0x1*-0x2ad3,this['mode']=rv,this['scene']=null,this['lighting']=!(0x263*-0x3+-0x22e*-0x5+0x1de*-0x2),this['halfLamber'+'t']=!(-0x20bd+0x1caa*0x1+0x414),this['intensity']=0x16ed+0xafc+-0x21e8,this['stretch']=0xcf3*0x1+-0x2a3+0x6e*-0x18,this['alignToMot'+'ion']=!(-0x884+0x1bf3+-0x136e),this['depthSofte'+'ning']=0x1cfc+-0x1536+-0x7c6,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x2612+0x5*-0x458+-0x1059),this['noFog']=!(-0x1374+-0x2*0xa67+0x2843),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x3*-0x637+-0x49*-0x29+0x6f4,-0x23e3+-0x1b5+0x2599,-0x1233+0x11a2*-0x1+0x23d5),this['animTilesX']=0x15e8+0x1*0x248d+-0x3a74,this['animTilesY']=-0x4*-0x902+-0x1040+-0x13c7,this['animStartF'+'rame']=-0xdf*0x1a+-0x437+-0x211*-0xd,this['animNumFra'+'mes']=0x1273*0x1+0x1ba6+0x19*-0x1d8,this['animNumAni'+'mations']=-0x1710+0x1e4c+0x1*-0x73b,this['animIndex']=0x7*-0x397+-0xad*-0x21+0x2d4*0x1,this['randomizeA'+'nimIndex']=!(-0x10c7*0x1+-0xfb0+-0x4*-0x81e),this['animSpeed']=-0x5*-0x245+-0x1403*-0x1+-0x1f5b,this['animLoop']=!(-0x605+-0x9ca+0xfcf),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x67a+-0x5b9+0xc33),this['paused']=!(-0xec9+0x2b*0x3e+-0x28*-0x1c),this['autoPlay']=!(-0xef6+-0x407*-0x4+-0x2*0x93),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x1e79c2){super(_0x1e79c2),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x1e79c2['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x1e79c2['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0xeaac79,_0x548942,_0x4c33fd){const _0x258823={};_0x4c33fd=[];const _0x33b04e=this['propertyTy'+'pes'];(_0x548942['mesh']instanceof pe||typeof _0x548942['mesh']=='number')&&(_0x548942['meshAsset']=_0x548942['mesh'],delete _0x548942['mesh']);for(const _0x4eafa2 in _0x548942){if(_0x548942['hasOwnProp'+'erty'](_0x4eafa2)&&(_0x4c33fd['push'](_0x4eafa2),_0x258823[_0x4eafa2]=_0x548942[_0x4eafa2]),_0x33b04e[_0x4eafa2]==='vec3')Array['isArray'](_0x258823[_0x4eafa2])&&(_0x258823[_0x4eafa2]=new D(_0x258823[_0x4eafa2][-0x50a+-0xfb6*0x1+0x14c0],_0x258823[_0x4eafa2][0xfb2*-0x1+-0x24ec*-0x1+-0x713*0x3],_0x258823[_0x4eafa2][-0x21f*-0x5+0x494*0x2+-0x13c1]));else{if(_0x33b04e[_0x4eafa2]==='curve'){if(!(_0x258823[_0x4eafa2]instanceof qs)){const _0x5101ae=_0x258823[_0x4eafa2]['type'];_0x258823[_0x4eafa2]=new qs(_0x258823[_0x4eafa2]['keys']),_0x258823[_0x4eafa2]['type']=_0x5101ae;}}else{if(_0x33b04e[_0x4eafa2]==='curveset'&&!(_0x258823[_0x4eafa2]instanceof na)){const _0x1f9076=_0x258823[_0x4eafa2]['type'];_0x258823[_0x4eafa2]=new na(_0x258823[_0x4eafa2]['keys']),_0x258823[_0x4eafa2]['type']=_0x1f9076;}}}_0x258823['layers']&&Array['isArray'](_0x258823['layers'])&&(_0x258823['layers']=_0x258823['layers']['slice'](-0x1f*-0x17+0x1c4d+0x1f16*-0x1));}super['initialize'+'ComponentD'+'ata'](_0xeaac79,_0x258823,_0x4c33fd);}['cloneCompo'+'nent'](_0x51d917,_0x4d87f1){const _0x4bd379=_0x51d917['particlesy'+'stem']['data'],_0x23a595=this['schema'],_0x549e41={};for(let _0x1a0db5=-0x1002+-0x1c9+0x38f*0x5,_0x18d0d8=_0x23a595['length'];_0x1a0db5<_0x18d0d8;_0x1a0db5++){const _0x152b21=_0x23a595[_0x1a0db5];let _0x1e3427=_0x4bd379[_0x152b21];_0x1e3427 instanceof D||_0x1e3427 instanceof qs||_0x1e3427 instanceof na?(_0x1e3427=_0x1e3427['clone'](),_0x549e41[_0x152b21]=_0x1e3427):_0x152b21==='layers'?_0x549e41['layers']=_0x4bd379['layers']['slice'](-0xd6*0x19+-0x5*-0xbf+-0x5*-0x36f):_0x1e3427!=null&&(_0x549e41[_0x152b21]=_0x1e3427);}return this['addCompone'+'nt'](_0x4d87f1,_0x549e41);}['onUpdate'](_0xfbb820){const _0xc1ac28=this['store'],_0x4c5a98=this['app']['stats']['particles'],_0x588600=this['app']['scene']['layers'];for(let _0x3c216d=-0x7*-0xef+0x1832+-0x1ebb;_0x3c216d<_0x588600['layerList']['length'];_0x3c216d++)_0x588600['layerList'][_0x3c216d]['requiresLi'+'ghtCube']=!(-0x223e+0x2198+0xa7);for(const _0x236819 in _0xc1ac28)if(_0xc1ac28['hasOwnProp'+'erty'](_0x236819)){const _0x3259dc=_0xc1ac28[_0x236819],_0x2a8688=_0x3259dc['entity'],_0x55bf3f=_0x3259dc['data'];if(_0x55bf3f['enabled']&&_0x2a8688['enabled']){const _0x395ae1=_0x2a8688['particlesy'+'stem']['emitter'];if(!(_0x395ae1!=null&&_0x395ae1['meshInstan'+'ce']['visible']))continue;if(_0x395ae1['lighting']){const _0x639084=_0x55bf3f['layers'];for(let _0x303bd7=0x1*0x213c+0x2b0+-0x23ec;_0x303bd7<_0x639084['length'];_0x303bd7++){const _0x2b4435=_0x588600['getLayerBy'+'Id'](_0x639084[_0x303bd7]);_0x2b4435&&(_0x2b4435['requiresLi'+'ghtCube']=!(-0x1966+-0x1829+0x3*0x1085));}}if(!_0x55bf3f['paused']){let _0x3822cc=-0xb31+-0x13a4+-0x36d*-0x9;if(_0x395ae1['simTime']+=_0xfbb820,_0x395ae1['simTime']>=_0x395ae1['fixedTimeS'+'tep']&&(_0x3822cc=Math['floor'](_0x395ae1['simTime']/_0x395ae1['fixedTimeS'+'tep']),_0x395ae1['simTime']-=_0x3822cc*_0x395ae1['fixedTimeS'+'tep']),_0x3822cc){_0x3822cc=Math['min'](_0x3822cc,_0x395ae1['maxSubStep'+'s']);for(let _0xa9730e=0x244d+-0x157+0x37f*-0xa;_0xa9730e<_0x3822cc;_0xa9730e++)_0x395ae1['addTime'](_0x395ae1['fixedTimeS'+'tep'],!(0x1*0xd25+-0x23d4+-0x1e4*-0xc));_0x4c5a98['_updatesPe'+'rFrame']+=_0x3822cc,_0x4c5a98['_frameTime']+=_0x395ae1['_addTimeTi'+'me'],_0x395ae1['_addTimeTi'+'me']=0xe3*0x5+-0x2185+0x1d16;}_0x395ae1['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x553f83,_0x998e3b){_0x998e3b['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x4c0545,_0x490cb4){super(),this['skin']=_0x4c0545,this['skinInstan'+'ce']=_0x490cb4;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x6a7da4,_0x58b010)=>{console['log'](_0x58b010['name']+':\x20Array('+_0x6a7da4['length']+')');for(let _0x49e4fe=0x2*-0x6cf+-0x10*-0x26f+-0x1952;_0x49e4fe<_0x6a7da4['length'];_0x49e4fe++)console['log']('\x20\x20'+_0x49e4fe+(':\x20RefCount'+'\x20')+_0x6a7da4[_0x49e4fe]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x222b35,_0x1af309,_0x13549a){let _0x30ca59=Gs['getCachedS'+'kinInstanc'+'e'](_0x222b35,_0x1af309);return _0x30ca59||(_0x30ca59=new Ol(_0x222b35),_0x30ca59['resolve'](_0x1af309,_0x13549a),Gs['addCachedS'+'kinInstanc'+'e'](_0x222b35,_0x1af309,_0x30ca59)),_0x30ca59;}static['getCachedS'+'kinInstanc'+'e'](_0x2da9af,_0x3b2ebf){let _0x1e6620=null;const _0x5eaea7=Gs['_skinInsta'+'nceCache']['get'](_0x3b2ebf);if(_0x5eaea7){const _0x311a3d=_0x5eaea7['find'](_0x8bb755=>_0x8bb755['skin']===_0x2da9af);_0x311a3d&&(_0x311a3d['incRefCoun'+'t'](),_0x1e6620=_0x311a3d['skinInstan'+'ce']);}return _0x1e6620;}static['addCachedS'+'kinInstanc'+'e'](_0x16746a,_0x112d40,_0x1767f9){let _0x1b19f1=Gs['_skinInsta'+'nceCache']['get'](_0x112d40);_0x1b19f1||(_0x1b19f1=[],Gs['_skinInsta'+'nceCache']['set'](_0x112d40,_0x1b19f1));let _0x184444=_0x1b19f1['find'](_0x10d7a6=>_0x10d7a6['skin']===_0x16746a);_0x184444||(_0x184444=new UO(_0x16746a,_0x1767f9),_0x1b19f1['push'](_0x184444)),_0x184444['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x4f2e64){if(_0x4f2e64){const _0x32f685=_0x4f2e64['rootBone'];if(_0x32f685){const _0x23adbd=Gs['_skinInsta'+'nceCache']['get'](_0x32f685);if(_0x23adbd){const _0x5c19d0=_0x23adbd['findIndex'](_0x3c0bce=>_0x3c0bce['skinInstan'+'ce']===_0x4f2e64);if(_0x5c19d0>=-0x14d*0x6+0x6dd+0x1*0xf1){const _0xd29990=_0x23adbd[_0x5c19d0];_0xd29990['decRefCoun'+'t'](),_0xd29990['refCount']===0x20a6+-0x23*-0xad+0x384d*-0x1&&(_0x23adbd['splice'](_0x5c19d0,-0xc5*-0x8+0x1cd8+0x121*-0x1f),_0x23adbd['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x32f685),_0x4f2e64&&(_0x4f2e64['destroy'](),_0xd29990['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x44c6fa,_0xab7556,_0x19a48a,_0x1a8192,_0x1f2857){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x44c6fa,this['parent']=_0xab7556,this['_scope']=_0x1f2857,this['_registry']=_0x19a48a,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1a8192['load'],this['_onAssetAd'+'d']=_0x1a8192['add'],this['_onAssetRe'+'move']=_0x1a8192['remove'],this['_onAssetUn'+'load']=_0x1a8192['unload']);}set['id'](_0x328e7d){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x328e7d,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x222460){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x222460,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x211777,_0x110351,_0x55f03d,_0xf80351,_0x23e287,_0x48736a,_0x3b5b87;this['id']&&((_0x211777=this['_evtLoadBy'+'Id'])==null||_0x211777['off'](),this['_evtLoadBy'+'Id']=null,(_0x110351=this['_evtAddByI'+'d'])==null||_0x110351['off'](),this['_evtAddByI'+'d']=null,(_0x55f03d=this['_evtRemove'+'ById'])==null||_0x55f03d['off'](),this['_evtRemove'+'ById']=null,(_0xf80351=this['_evtUnload'+'ById'])==null||_0xf80351['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x23e287=this['_evtLoadBy'+'Url'])==null||_0x23e287['off'](),this['_evtLoadBy'+'Url']=null,(_0x48736a=this['_evtAddByU'+'rl'])==null||_0x48736a['off'](),this['_evtAddByU'+'rl']=null,(_0x3b5b87=this['_evtRemove'+'ByUrl'])==null||_0x3b5b87['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x170a58){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x170a58);}['_onAdd'](_0x1c8e6b){this['asset']=_0x1c8e6b,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1c8e6b);}['_onRemove'](_0x43aa99){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x43aa99),this['asset']=null;}['_onUnload'](_0x5657e3){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5657e3);}}class n0 extends we{constructor(_0x181173,_0x3e334d){super(_0x181173,_0x3e334d),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0xcb4*-0x1+-0x11ed*0x1+0x1*0x1ea1)),h(this,'_receiveSh'+'adows',!(-0x8a*0x1a+-0x130d*0x2+0x341e)),h(this,'_castShado'+'wsLightmap',!(-0x1751*0x1+-0xaed*0x1+0x223e*0x1)),h(this,'_lightmapp'+'ed',!(-0x47*-0x6c+-0x8*0x48+-0x1bb3*0x1)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x14d+0x1*-0xb6+0x2*-0x4b),h(this,'isStatic',!(0x1647+-0x9d*-0x7+-0x1a91*0x1)),h(this,'_batchGrou'+'pId',-(0x200f*-0x1+-0x9e1+-0x9*-0x4a9)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x181173['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x181173['defaultMat'+'erial'],_0x3e334d['on']('remove',this['onRemoveCh'+'ild'],this),_0x3e334d['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3e334d['on']('insert',this['onInsertCh'+'ild'],this),_0x3e334d['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x14b732){this['_renderSty'+'le']!==_0x14b732&&(this['_renderSty'+'le']=_0x14b732,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x14b732));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x11e90f){this['_customAab'+'b']=_0x11e90f;const _0x5aac9f=this['_meshInsta'+'nces'];if(_0x5aac9f){for(let _0x98e2b2=0x1489+-0x22d9+-0x394*-0x4;_0x98e2b2<_0x5aac9f['length'];_0x98e2b2++)_0x5aac9f[_0x98e2b2]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x24722b){if(this['_type']!==_0x24722b&&(this['_area']=null,this['_type']=_0x24722b,this['destroyMes'+'hInstances'](),_0x24722b!=='asset')){let _0x4bd40e=this['_material'];(!_0x4bd40e||_0x4bd40e===this['system']['defaultMat'+'erial'])&&(_0x4bd40e=this['_materialR'+'eferences'][-0x1522*0x1+0x483*0x2+-0x7c*-0x19]&&this['_materialR'+'eferences'][-0xc17*-0x2+-0x157a+-0x4*0xad]['asset']&&this['_materialR'+'eferences'][0x143d*0x1+-0xa9+-0x1394]['asset']['resource']);const _0xfe4c1c=r0(this['system']['app']['graphicsDe'+'vice'],_0x24722b);this['_area']=_0xfe4c1c['area'],this['meshInstan'+'ces']=[new He(_0xfe4c1c['mesh'],_0x4bd40e||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x29f782){if(w['assert'](Array['isArray'](_0x29f782),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x29f782,this['_meshInsta'+'nces']){const _0x1c0882=this['_meshInsta'+'nces'];for(let _0xae0988=-0x9e*0x21+-0xba5*-0x2+0x16*-0x22;_0xae0988<_0x1c0882['length'];_0xae0988++)_0x1c0882[_0xae0988]['node']||(_0x1c0882[_0xae0988]['node']=this['entity']),_0x1c0882[_0xae0988]['castShadow']=this['_castShado'+'ws'],_0x1c0882[_0xae0988]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x1c0882[_0xae0988]['renderStyl'+'e']=this['_renderSty'+'le'],_0x1c0882[_0xae0988]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x1c0882[_0xae0988]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x13273b){if(_0x13273b!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x13273b;const _0x582da6=this['_meshInsta'+'nces'];if(_0x582da6){for(let _0x1a5f08=-0x247e*0x1+-0x2167+-0x1d*-0x269;_0x1a5f08<_0x582da6['length'];_0x1a5f08++)_0x582da6[_0x1a5f08]['setLightma'+'pped'](_0x13273b);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0xfd6702){if(this['_castShado'+'ws']!==_0xfd6702){const _0x4f918d=this['_meshInsta'+'nces'];if(_0x4f918d){const _0x34337c=this['layers'],_0x437f26=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0xfd6702)for(let _0x404305=-0x20b6+-0x1b40+0x3bf6;_0x404305<_0x34337c['length'];_0x404305++){const _0x7ee523=_0x437f26['layers']['getLayerBy'+'Id'](this['layers'][_0x404305]);_0x7ee523&&_0x7ee523['removeShad'+'owCasters'](_0x4f918d);}for(let _0x16d077=-0x589+0x25d1+-0x1*0x2048;_0x16d077<_0x4f918d['length'];_0x16d077++)_0x4f918d[_0x16d077]['castShadow']=_0xfd6702;if(!this['_castShado'+'ws']&&_0xfd6702)for(let _0x28d114=-0xd*-0x1cd+0x330+-0x1a99;_0x28d114<_0x34337c['length'];_0x28d114++){const _0x3c4984=_0x437f26['layers']['getLayerBy'+'Id'](_0x34337c[_0x28d114]);_0x3c4984&&_0x3c4984['addShadowC'+'asters'](_0x4f918d);}}this['_castShado'+'ws']=_0xfd6702;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x29da47){if(this['_receiveSh'+'adows']!==_0x29da47){this['_receiveSh'+'adows']=_0x29da47;const _0x555711=this['_meshInsta'+'nces'];if(_0x555711){for(let _0x5463e8=-0x1466+-0x25c8+0x16*0x2a5;_0x5463e8<_0x555711['length'];_0x5463e8++)_0x555711[_0x5463e8]['receiveSha'+'dow']=_0x29da47;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xc760a2){this['_castShado'+'wsLightmap']=_0xc760a2;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x561479){this['_lightmapS'+'izeMultipl'+'ier']=_0x561479;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x98bda6){const _0x8eea1e=this['system']['app']['scene']['layers'];let _0x579ea3;if(this['_meshInsta'+'nces']){for(let _0x39ddfb=-0x1b93+-0x1*-0xba7+0xfec*0x1;_0x39ddfb<this['_layers']['length'];_0x39ddfb++)_0x579ea3=_0x8eea1e['getLayerBy'+'Id'](this['_layers'][_0x39ddfb]),_0x579ea3&&_0x579ea3['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x1f20+-0x1bf4+-0x1*-0x3b14;for(let _0x1bd14c=0x3*0x13d+-0x3*0x2a9+0x444;_0x1bd14c<_0x98bda6['length'];_0x1bd14c++)this['_layers'][_0x1bd14c]=_0x98bda6[_0x1bd14c];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x414a34=0x1285+0xbbd*-0x2+0x4f5;_0x414a34<this['_layers']['length'];_0x414a34++)_0x579ea3=_0x8eea1e['getLayerBy'+'Id'](this['_layers'][_0x414a34]),_0x579ea3&&_0x579ea3['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x32f8e2){var _0x45bdad,_0x2898c1;this['_batchGrou'+'pId']!==_0x32f8e2&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xa*0x1b3+0x1839+0x3*-0xdbd&&((_0x45bdad=this['system']['app']['batcher'])==null||_0x45bdad['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x32f8e2>=-0x1*-0x323+0x269*0xd+-0x2278&&((_0x2898c1=this['system']['app']['batcher'])==null||_0x2898c1['insert'](St['RENDER'],_0x32f8e2,this['entity'])),_0x32f8e2<0x8b6+0x21ba+-0x2a70&&this['_batchGrou'+'pId']>=0x1*-0x2545+-0x2591+0x4ad6&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x32f8e2);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x4d9aab){if(this['_material']!==_0x4d9aab&&(this['_material']=_0x4d9aab,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x197524=-0x9c7*-0x1+0x6f4*0x3+-0x1ea3;_0x197524<this['_meshInsta'+'nces']['length'];_0x197524++)this['_meshInsta'+'nces'][_0x197524]['material']=_0x4d9aab;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x5ec9fb=[]){if(this['_materialR'+'eferences']['length']>_0x5ec9fb['length']){for(let _0x23a122=_0x5ec9fb['length'];_0x23a122<this['_materialR'+'eferences']['length'];_0x23a122++)this['_materialR'+'eferences'][_0x23a122]['id']=null;this['_materialR'+'eferences']['length']=_0x5ec9fb['length'];}for(let _0x35b815=0xe81*0x2+0x679*0x1+-0x237b;_0x35b815<_0x5ec9fb['length'];_0x35b815++)if(this['_materialR'+'eferences'][_0x35b815]||this['_materialR'+'eferences']['push'](new gl(_0x35b815,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x5ec9fb[_0x35b815]){const _0x528903=_0x5ec9fb[_0x35b815]instanceof pe?_0x5ec9fb[_0x35b815]['id']:_0x5ec9fb[_0x35b815];this['_materialR'+'eferences'][_0x35b815]['id']!==_0x528903&&(this['_materialR'+'eferences'][_0x35b815]['id']=_0x528903),this['_materialR'+'eferences'][_0x35b815]['asset']&&this['_onMateria'+'lAdded'](_0x35b815,this,this['_materialR'+'eferences'][_0x35b815]['asset']);}else this['_materialR'+'eferences'][_0x35b815]['id']=null,this['_meshInsta'+'nces'][_0x35b815]&&(this['_meshInsta'+'nces'][_0x35b815]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x420b57=>_0x420b57['id']);}set['asset'](_0x1571e2){const _0x5d31d9=_0x1571e2 instanceof pe?_0x1571e2['id']:_0x1571e2;this['_assetRefe'+'rence']['id']!==_0x5d31d9&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x5d31d9,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x92b6af){const _0x138ddf=_0x92b6af instanceof pe?_0x92b6af['id']:_0x92b6af;this['_assetRefe'+'rence']['id']=_0x138ddf;}set['rootBone'](_0x53cfb6){if(this['_rootBone']!==_0x53cfb6){const _0x56479e=typeof _0x53cfb6=='string';if(this['_rootBone']&&_0x56479e&&this['_rootBone']['getGuid']()===_0x53cfb6)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x53cfb6 instanceof Ie?this['_rootBone']=_0x53cfb6:_0x56479e?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x53cfb6)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x36147b=this['_meshInsta'+'nces'];if(_0x36147b){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x186af4=-0x80d+-0x5b2+0x99*0x17;_0x186af4<_0x36147b['length'];_0x186af4++)_0x36147b[_0x186af4]['destroy']();this['_meshInsta'+'nces']['length']=0x30*0xa5+-0x8*-0x354+-0x3990;}}['addToLayer'+'s'](){const _0x57cc8c=this['system']['app']['scene']['layers'];for(let _0x26dda2=-0x39*-0x2f+0x1f49+-0x29c0;_0x26dda2<this['_layers']['length'];_0x26dda2++){const _0x146312=_0x57cc8c['getLayerBy'+'Id'](this['_layers'][_0x26dda2]);_0x146312&&_0x146312['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x2a4551=this['system']['app']['scene']['layers'];for(let _0x6e822=-0x1873+0x10dc+0x797*0x1;_0x6e822<this['_layers']['length'];_0x6e822++){const _0x1806fd=_0x2a4551['getLayerBy'+'Id'](this['_layers'][_0x6e822]);_0x1806fd&&_0x1806fd['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x1da3ec=-0x1425+0x24b0+-0x108b;_0x1da3ec<this['_materialR'+'eferences']['length'];_0x1da3ec++)this['_materialR'+'eferences'][_0x1da3ec]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x384733,_0x407bca){this['addToLayer'+'s'](),_0x384733['off']('add',this['onLayerAdd'+'ed'],this),_0x384733['off']('remove',this['onLayerRem'+'oved'],this),_0x407bca['on']('add',this['onLayerAdd'+'ed'],this),_0x407bca['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x58c73f){this['layers']['indexOf'](_0x58c73f['id'])<0xb0c+0x1*0x3ee+-0xefa||_0x58c73f['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x4152de){this['layers']['indexOf'](_0x4152de['id'])<0x1c20+0x1296+-0x2*0x175b||_0x4152de['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x7568b3;const _0xf2757a=this['system']['app'],_0x3041a7=_0xf2757a['scene'],_0x44ff9f=_0x3041a7['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x3041a7['on']('set:layers',this['onLayersCh'+'anged'],this),_0x44ff9f&&(this['_evtLayerA'+'dded']=_0x44ff9f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x44ff9f['on']('remove',this['onLayerRem'+'oved'],this));const _0x2fd413=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x2fd413&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x553b00=-0x26fc+-0x1515*0x1+0x3c11;_0x553b00<this['_materialR'+'eferences']['length'];_0x553b00++)this['_materialR'+'eferences'][_0x553b00]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x553b00]['asset']);this['_batchGrou'+'pId']>=-0x7c3+0x13*0x1f8+-0x1da5&&((_0x7568b3=_0xf2757a['batcher'])==null||_0x7568b3['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x453086,_0x18e5d8,_0x23776a,_0x322baf;const _0x4d98f2=this['system']['app'],_0x559b18=_0x4d98f2['scene']['layers'];(_0x453086=this['_evtLayers'+'Changed'])==null||_0x453086['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x559b18&&((_0x18e5d8=this['_evtLayerA'+'dded'])==null||_0x18e5d8['off'](),this['_evtLayerA'+'dded']=null,(_0x23776a=this['_evtLayerR'+'emoved'])==null||_0x23776a['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*-0x263b+-0x1717+0x2*0x1ea9&&((_0x322baf=_0x4d98f2['batcher'])==null||_0x322baf['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x1e56dc=-0xbbe+0xf6b+-0x3ad;_0x1e56dc<this['_meshInsta'+'nces']['length'];_0x1e56dc++)this['_meshInsta'+'nces'][_0x1e56dc]['visible']=!(-0x13*-0x44+0x1252+-0x1*0x175d);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x120fda=-0x740+0xcea+-0x91*0xa;_0x120fda<this['_meshInsta'+'nces']['length'];_0x120fda++)this['_meshInsta'+'nces'][_0x120fda]['visible']=!(0x97*0x36+-0x27*0x29+-0x199b);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x3e5a4a;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x1fe4e0=this['_assetRefe'+'rence']['asset']['resource'];(_0x3e5a4a=this['_evtSetMes'+'hes'])==null||_0x3e5a4a['off'](),this['_evtSetMes'+'hes']=_0x1fe4e0['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x1fe4e0['meshes']&&this['_onSetMesh'+'es'](_0x1fe4e0['meshes']);}}['_onSetMesh'+'es'](_0x4a9fae){this['_cloneMesh'+'es'](_0x4a9fae);}['_clearSkin'+'Instances'](){for(let _0x2bb9ad=-0x123e+0x2177+-0xf39;_0x2bb9ad<this['_meshInsta'+'nces']['length'];_0x2bb9ad++){const _0x5552eb=this['_meshInsta'+'nces'][_0x2bb9ad];_l['removeCach'+'edSkinInst'+'ance'](_0x5552eb['skinInstan'+'ce']),_0x5552eb['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x2fc402=-0x8*-0x1af+-0x2181*-0x1+-0x2ef9;_0x2fc402<this['_meshInsta'+'nces']['length'];_0x2fc402++){const _0x356b9c=this['_meshInsta'+'nces'][_0x2fc402],_0x1f947f=_0x356b9c['mesh'];_0x1f947f['skin']&&!_0x356b9c['skinInstan'+'ce']&&(_0x356b9c['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1f947f['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x1d786e){if(_0x1d786e&&_0x1d786e['length']){const _0x30da01=[];for(let _0x52a8ec=0xa78+-0x270b*-0x1+-0x145*0x27;_0x52a8ec<_0x1d786e['length'];_0x52a8ec++){const _0x356cff=_0x1d786e[_0x52a8ec],_0xa1c958=this['_materialR'+'eferences'][_0x52a8ec]&&this['_materialR'+'eferences'][_0x52a8ec]['asset']&&this['_materialR'+'eferences'][_0x52a8ec]['asset']['resource'],_0x21eb04=new He(_0x356cff,_0xa1c958||this['system']['defaultMat'+'erial'],this['entity']);_0x30da01['push'](_0x21eb04),_0x356cff['morph']&&(_0x21eb04['morphInsta'+'nce']=new xa(_0x356cff['morph']));}this['meshInstan'+'ces']=_0x30da01,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x1e6e12;(_0x1e6e12=this['_evtSetMes'+'hes'])==null||_0x1e6e12['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0xc9346f,_0x138fe1,_0x4fcc53){_0x4fcc53['resource']?this['_onMateria'+'lLoad'](_0xc9346f,_0x138fe1,_0x4fcc53):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4fcc53);}['_updateMai'+'nMaterial'](_0x5bb3ac,_0x2cd985){_0x5bb3ac===0x1ee+-0x1705+0x1517&&(this['material']=_0x2cd985);}['_onMateria'+'lLoad'](_0x436e26,_0x497db2,_0x2b2bf9){this['_meshInsta'+'nces'][_0x436e26]&&(this['_meshInsta'+'nces'][_0x436e26]['material']=_0x2b2bf9['resource']),this['_updateMai'+'nMaterial'](_0x436e26,_0x2b2bf9['resource']);}['_onMateria'+'lRemove'](_0x54ec93,_0x5b9189,_0x2fd77c){this['_meshInsta'+'nces'][_0x54ec93]&&(this['_meshInsta'+'nces'][_0x54ec93]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x54ec93,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x282504,_0x29b658,_0x175271){this['_meshInsta'+'nces'][_0x282504]&&(this['_meshInsta'+'nces'][_0x282504]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x282504,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xbac448,_0x31e551){_0xbac448['rootBone']&&(this['rootBone']=_0x31e551[_0xbac448['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x24bf+-0x25a6+-0x3*-0x4d);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x232d68){super(_0x232d68),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x232d68['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x484e7e,_0x386402,_0x52402a){(_0x386402['batchGroup'+'Id']===null||_0x386402['batchGroup'+'Id']===void(0x1837*0x1+-0x1*0x9d5+-0xe62))&&(_0x386402['batchGroup'+'Id']=-(-0x1c8d+0x5*-0x10c+0x21ca)),_0x386402['layers']&&_0x386402['layers']['length']&&(_0x386402['layers']=_0x386402['layers']['slice'](0x1a32+0x2*-0x4d5+-0x844*0x2));for(let _0x76101f=0xeae*-0x1+-0x254d*0x1+0x33fb;_0x76101f<Gr['length'];_0x76101f++)_0x386402['hasOwnProp'+'erty'](Gr[_0x76101f])&&(_0x484e7e[Gr[_0x76101f]]=_0x386402[Gr[_0x76101f]]);_0x386402['aabbCenter']&&_0x386402['aabbHalfEx'+'tents']&&(_0x484e7e['customAabb']=new De(new D(_0x386402['aabbCenter']),new D(_0x386402['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x484e7e,_0x386402,ku);}['cloneCompo'+'nent'](_0x408380,_0x537f42){const _0x5373a3={};for(let _0x2afedb=0x1725+-0x84c*0x2+-0x68d;_0x2afedb<Gr['length'];_0x2afedb++)_0x5373a3[Gr[_0x2afedb]]=_0x408380['render'][Gr[_0x2afedb]];_0x5373a3['enabled']=_0x408380['render']['enabled'],delete _0x5373a3['meshInstan'+'ces'];const _0x4ffed8=this['addCompone'+'nt'](_0x537f42,_0x5373a3),_0x3fe744=_0x408380['render']['meshInstan'+'ces'],_0x312a72=_0x3fe744['map'](_0xec65df=>_0xec65df['mesh']);_0x4ffed8['_onSetMesh'+'es'](_0x312a72);for(let _0x484602=0x696+0x636+0x111*-0xc;_0x484602<_0x3fe744['length'];_0x484602++)_0x4ffed8['meshInstan'+'ces'][_0x484602]['material']=_0x3fe744[_0x484602]['material'];return _0x408380['render']['customAabb']&&(_0x4ffed8['customAabb']=_0x408380['render']['customAabb']['clone']()),_0x4ffed8;}['onRemove'](_0x10cf9d,_0x25ea7c){_0x25ea7c['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x552174,_0x1f24a7){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x191b+-0xa44*-0x3+-0x37e7),(this['_construct'+'or']=_0x552174,this['_resize'](_0x1f24a7));}['_resize'](_0x13998b){if(_0x13998b>this['_pool']['length']){for(let _0x3b24cb=this['_pool']['length'];_0x3b24cb<_0x13998b;_0x3b24cb++)this['_pool'][_0x3b24cb]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x22be+-0x9fb+-0x1*-0x2cbb)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x51f+-0x65*-0x40+-0x1421*0x1;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x27e+0x6*0x56f+-0xa4*0x2f),h(this,'_angularFa'+'ctor',new D(-0x1bd0*-0x1+-0x1df2+0x223,0x144f+0x5e*0x17+-0x17*0x140,-0x1b96+0x24a3+0x4*-0x243)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x4*-0x29a+-0xb9+0xb21+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x1f7*0x11+-0x16f0+0x3857*0x1),h(this,'_linearFac'+'tor',new D(0x53*-0x46+0x1b49+-0x496,0x1*-0x1e3c+0x2544+-0x707,0x1be6+0x2b*-0x7a+-0x767)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x3c1+-0x10bf+0xcff),h(this,'_restituti'+'on',-0x1345*0x1+0x2a+0x131b),h(this,'_rollingFr'+'iction',0x1942+-0x189c+-0x1*0xa6),h(this,'_simulatio'+'nEnabled',!(0x1028+-0x22ba+-0xf*-0x13d)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x26ccb9){this['_angularDa'+'mping']!==_0x26ccb9&&(this['_angularDa'+'mping']=_0x26ccb9,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x26ccb9));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x54667b){this['_angularFa'+'ctor']['equals'](_0x54667b)||(this['_angularFa'+'ctor']['copy'](_0x54667b),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x54667b['x'],_0x54667b['y'],_0x54667b['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x510410){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x510410['x'],_0x510410['y'],_0x510410['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x510410));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x538e11=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x538e11['x'](),_0x538e11['y'](),_0x538e11['z']());}return this['_angularVe'+'locity'];}set['body'](_0x592fd5){this['_body']!==_0x592fd5&&(this['_body']=_0x592fd5,_0x592fd5&&this['_simulatio'+'nEnabled']&&_0x592fd5['activate']());}get['body'](){return this['_body'];}set['friction'](_0x32077e){this['_friction']!==_0x32077e&&(this['_friction']=_0x32077e,this['_body']&&this['_body']['setFrictio'+'n'](_0x32077e));}get['friction'](){return this['_friction'];}set['group'](_0x480229){this['_group']!==_0x480229&&(this['_group']=_0x480229,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x113a9a){this['_linearDam'+'ping']!==_0x113a9a&&(this['_linearDam'+'ping']=_0x113a9a,this['_body']&&this['_body']['setDamping'](_0x113a9a,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x59fd83){this['_linearFac'+'tor']['equals'](_0x59fd83)||(this['_linearFac'+'tor']['copy'](_0x59fd83),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x59fd83['x'],_0x59fd83['y'],_0x59fd83['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x547e5f){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x547e5f['x'],_0x547e5f['y'],_0x547e5f['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x547e5f));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x1912b3=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x1912b3['x'](),_0x1912b3['y'](),_0x1912b3['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x430637){this['_mask']!==_0x430637&&(this['_mask']=_0x430637,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x5c3d07){if(this['_mass']!==_0x5c3d07&&(this['_mass']=_0x5c3d07,this['_body']&&this['_type']===ks)){const _0x4a901a=this['enabled']&&this['entity']['enabled'];_0x4a901a&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x5c3d07,Re),this['_body']['setMassPro'+'ps'](_0x5c3d07,Re),this['_body']['updateIner'+'tiaTensor'](),_0x4a901a&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x1ad919){this['_restituti'+'on']!==_0x1ad919&&(this['_restituti'+'on']=_0x1ad919,this['_body']&&this['_body']['setRestitu'+'tion'](_0x1ad919));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x3eb009){this['_rollingFr'+'iction']!==_0x3eb009&&(this['_rollingFr'+'iction']=_0x3eb009,this['_body']&&this['_body']['setRolling'+'Friction'](_0x3eb009));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x446b9d){if(this['_type']!==_0x446b9d){switch(this['_type']=_0x446b9d,this['disableSim'+'ulation'](),_0x446b9d){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x3bc240=this['entity'];let _0x56dba5;if(_0x3bc240['collision']&&(_0x56dba5=_0x3bc240['collision']['shape'],_0x3bc240['trigger']&&(_0x3bc240['trigger']['destroy'](),delete _0x3bc240['trigger'])),_0x56dba5){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x9e0875=this['_type']===ks?this['_mass']:0x2cf*-0xb+0x1*0xbdd+0x4*0x4c2;this['_getEntity'+'Transform'](cs);const _0xaa8dcb=this['system']['createBody'](_0x9e0875,_0x56dba5,cs);if(_0xaa8dcb['setRestitu'+'tion'](this['_restituti'+'on']),_0xaa8dcb['setFrictio'+'n'](this['_friction']),_0xaa8dcb['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0xaa8dcb['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x30e0dc=this['_linearFac'+'tor'];Re['setValue'](_0x30e0dc['x'],_0x30e0dc['y'],_0x30e0dc['z']),_0xaa8dcb['setLinearF'+'actor'](Re);const _0x2ae76b=this['_angularFa'+'ctor'];Re['setValue'](_0x2ae76b['x'],_0x2ae76b['y'],_0x2ae76b['z']),_0xaa8dcb['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0xaa8dcb['setCollisi'+'onFlags'](_0xaa8dcb['getCollisi'+'onFlags']()|qL),_0xaa8dcb['setActivat'+'ionState'](Vg));_0xaa8dcb['entity']=_0x3bc240,this['body']=_0xaa8dcb,this['enabled']&&_0x3bc240['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x1*0xbbe+-0x1154+0x1d13);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x2e3779=this['entity'];if(_0x2e3779['collision']&&_0x2e3779['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3ce181=this['_body'];if(_0x3ce181){switch(this['system']['addBody'](_0x3ce181,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x3ce181['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x3ce181['forceActiv'+'ationState'](Vg);break;case yo:_0x3ce181['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x2e3779['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x2e3779['collision']),_0x3ce181['activate'](),this['_simulatio'+'nEnabled']=!(-0x601*0x1+-0x30c+0x1*0x90d);}}}['disableSim'+'ulation'](){const _0x51af7e=this['_body'];if(_0x51af7e&&this['_simulatio'+'nEnabled']){const _0x3acfde=this['system'];let _0x3ada4c=_0x3acfde['_compounds']['indexOf'](this['entity']['collision']);_0x3ada4c>-(0x2*0x4d5+0x151e+-0x1ec7)&&_0x3acfde['_compounds']['splice'](_0x3ada4c,-0x12a+-0xea*0xb+0x1*0xb39),_0x3ada4c=_0x3acfde['_dynamic']['indexOf'](this),_0x3ada4c>-(0x194b+0x148+0x1a92*-0x1)&&_0x3acfde['_dynamic']['splice'](_0x3ada4c,0x2*0xb21+-0xb91+-0xab0),_0x3ada4c=_0x3acfde['_kinematic']['indexOf'](this),_0x3ada4c>-(-0x2*-0x136d+-0x41*0x24+0x249*-0xd)&&_0x3acfde['_kinematic']['splice'](_0x3ada4c,0x86*-0x5+-0x26da+0x2979),_0x3acfde['removeBody'](_0x51af7e),_0x51af7e['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x18d*0xf+-0x3*-0x133+-0x13ab*-0x1);}}['applyForce'](_0x51c14c,_0x4a8611,_0x5d858b,_0xa2a01e,_0x2ee05d,_0x4696a5){const _0x4d9ffd=this['_body'];_0x4d9ffd&&(_0x4d9ffd['activate'](),_0x51c14c instanceof D?Re['setValue'](_0x51c14c['x'],_0x51c14c['y'],_0x51c14c['z']):Re['setValue'](_0x51c14c,_0x4a8611,_0x5d858b),_0x4a8611 instanceof D?Bs['setValue'](_0x4a8611['x'],_0x4a8611['y'],_0x4a8611['z']):_0xa2a01e!==void(-0x4*0x130+0x8*-0x449+0x2708)?Bs['setValue'](_0xa2a01e,_0x2ee05d,_0x4696a5):Bs['setValue'](-0xc*-0xac+-0x2*-0x872+-0x18f4,0xbd8+0x3*-0x84b+0xd09,-0x1*0x17e7+0x20*-0x94+0x2a67),_0x4d9ffd['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x327529,_0x5f3d41,_0x330b3f){const _0x37b15a=this['_body'];_0x37b15a&&(_0x37b15a['activate'](),_0x327529 instanceof D?Re['setValue'](_0x327529['x'],_0x327529['y'],_0x327529['z']):Re['setValue'](_0x327529,_0x5f3d41,_0x330b3f),_0x37b15a['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x265e6f,_0x574a5d,_0x1ba26c,_0x28804c,_0x263571,_0x46de23){const _0x1ca2d2=this['_body'];_0x1ca2d2&&(_0x1ca2d2['activate'](),_0x265e6f instanceof D?Re['setValue'](_0x265e6f['x'],_0x265e6f['y'],_0x265e6f['z']):Re['setValue'](_0x265e6f,_0x574a5d,_0x1ba26c),_0x574a5d instanceof D?Bs['setValue'](_0x574a5d['x'],_0x574a5d['y'],_0x574a5d['z']):_0x28804c!==void(-0x14*0xda+0xf6a*0x2+-0xdcc)?Bs['setValue'](_0x28804c,_0x263571,_0x46de23):Bs['setValue'](0x35*-0x9a+-0x662+0x2644,0xca6+0x5*0x121+0x15*-0xdf,-0x10df*0x1+0x40*-0x65+0x29*0x107),_0x1ca2d2['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0xa9839e,_0x218b4f,_0x1ba970){const _0x207caf=this['_body'];_0x207caf&&(_0x207caf['activate'](),_0xa9839e instanceof D?Re['setValue'](_0xa9839e['x'],_0xa9839e['y'],_0xa9839e['z']):Re['setValue'](_0xa9839e,_0x218b4f,_0x1ba970),_0x207caf['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x3b2b96){const _0x3a3fa6=this['entity'],_0x5c8d0b=_0x3a3fa6['collision'];if(_0x5c8d0b){const _0x52b1ee=_0x5c8d0b['getShapePo'+'sition'](),_0x2227cc=_0x5c8d0b['getShapeRo'+'tation']();Re['setValue'](_0x52b1ee['x'],_0x52b1ee['y'],_0x52b1ee['z']),Ka['setValue'](_0x2227cc['x'],_0x2227cc['y'],_0x2227cc['z'],_0x2227cc['w']);}else{const _0x4ef511=_0x3a3fa6['getPositio'+'n'](),_0xd5981e=_0x3a3fa6['getRotatio'+'n']();Re['setValue'](_0x4ef511['x'],_0x4ef511['y'],_0x4ef511['z']),Ka['setValue'](_0xd5981e['x'],_0xd5981e['y'],_0xd5981e['z'],_0xd5981e['w']);}_0x3b2b96['setOrigin'](Re),_0x3b2b96['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x1ac4a3=this['_body'];if(_0x1ac4a3){if(this['_getEntity'+'Transform'](cs),_0x1ac4a3['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x4fb139=_0x1ac4a3['getMotionS'+'tate']();_0x4fb139&&_0x4fb139['setWorldTr'+'ansform'](cs);}_0x1ac4a3['activate']();}}['_updateDyn'+'amic'](){const _0x3939da=this['_body'];if(_0x3939da['isActive']()){const _0x530153=_0x3939da['getMotionS'+'tate']();if(_0x530153){const _0x44f7a5=this['entity'];_0x530153['getWorldTr'+'ansform'](cs);const _0x53d938=cs['getOrigin'](),_0x28b213=cs['getRotatio'+'n'](),_0x31f9ec=_0x44f7a5['collision'];if(_0x31f9ec&&_0x31f9ec['_hasOffset']){const _0x2b7afd=_0x31f9ec['data']['linearOffs'+'et'],_0x54c1c5=_0x31f9ec['data']['angularOff'+'set'],_0xe86ff0=GO['copy'](_0x54c1c5)['invert'](),_0x3eddac=VO['set'](_0x28b213['x'](),_0x28b213['y'](),_0x28b213['z'](),_0x28b213['w']())['mul'](_0xe86ff0);_0x3eddac['transformV'+'ector'](_0x2b7afd,Pc),_0x44f7a5['setPositio'+'n'](_0x53d938['x']()-Pc['x'],_0x53d938['y']()-Pc['y'],_0x53d938['z']()-Pc['z']),_0x44f7a5['setRotatio'+'n'](_0x3eddac);}else _0x44f7a5['setPositio'+'n'](_0x53d938['x'](),_0x53d938['y'](),_0x53d938['z']()),_0x44f7a5['setRotatio'+'n'](_0x28b213['x'](),_0x28b213['y'](),_0x28b213['z'](),_0x28b213['w']());}}}['_updateKin'+'ematic'](){const _0x4d4583=this['_body']['getMotionS'+'tate']();_0x4d4583&&(this['_getEntity'+'Transform'](cs),_0x4d4583['setWorldTr'+'ansform'](cs));}['teleport'](_0x48c105,_0x971a5d,_0x4adadb,_0x185f5c,_0x1e98ae,_0x50e6c4){_0x48c105 instanceof D?this['entity']['setPositio'+'n'](_0x48c105):this['entity']['setPositio'+'n'](_0x48c105,_0x971a5d,_0x4adadb),_0x971a5d instanceof le?this['entity']['setRotatio'+'n'](_0x971a5d):_0x971a5d instanceof D?this['entity']['setEulerAn'+'gles'](_0x971a5d):_0x185f5c!==void(-0x7*-0xc8+-0x223a+0x1cc2)&&this['entity']['setEulerAn'+'gles'](_0x185f5c,_0x1e98ae,_0x50e6c4),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x163c+-0x1bb3+0x88*0x5e));class HO{constructor(){this['enabled']=!(0x1af*0x16+0x35b*-0x5+-0x111*0x13);}}let Mi,Di;class eS{constructor(_0x2e4f95,_0x2523e0,_0x3c7060,_0x162760){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x2e4f95,this['point']=_0x2523e0,this['normal']=_0x3c7060,this['hitFractio'+'n']=_0x162760);}}class WO{constructor(_0x10ba0d,_0x2a3a08,_0x54a71e){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x2ed+0x115f*-0x1+-0x6c4*-0x3?(this['a']=_0x10ba0d,this['b']=_0x2a3a08,this['impulse']=_0x54a71e['impulse'],this['localPoint'+'A']=_0x54a71e['localPoint'],this['localPoint'+'B']=_0x54a71e['localPoint'+'Other'],this['pointA']=_0x54a71e['point'],this['pointB']=_0x54a71e['pointOther'],this['normal']=_0x54a71e['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x1b37+0x3*0xc81+-0xa4c,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x1215c1=new D(),_0x416f11=new D(),_0x11a66c=new D(),_0xf9ade7=new D(),_0x3c36ad=new D(),_0x819518=-0x1a6*-0x9+-0xe48+0x2*-0x47){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x1215c1,this['localPoint'+'Other']=_0x416f11,this['point']=_0x11a66c,this['pointOther']=_0xf9ade7,this['normal']=_0x3c36ad,this['impulse']=_0x819518);}}class XO{constructor(_0x4421fb,_0x2f13f9){h(this,'other'),h(this,'contacts'),(this['other']=_0x4421fb,this['contacts']=_0x2f13f9);}}const o0=['enabled'];class wm extends ct{constructor(_0x4df252){super(_0x4df252),h(this,'maxSubStep'+'s',-0x1c58+-0x1f4b+-0x1*-0x3bad),h(this,'fixedTimeS'+'tep',(-0x1*0xbc3+0x1e81+-0x12bd)/(-0xd8d+-0x1*-0x20ef+-0x1326)),h(this,'gravity',new D(-0x19db+-0x16*0x8d+-0x25f9*-0x1,-(0x23fd+-0x3*0x69a+-0x1026+0.8100000000000005),-0x160f+-0xb7e*0x1+0x3*0xb2f)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x1*0x79d+-0x29f*-0xa+0xb7*-0x1a)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x4df252['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x302b48=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x302b48);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0xd86+0x11*-0x6b+0x335*-0x2),this['contactRes'+'ultPool']=new bf(XO,0xaeb+0x665*-0x3+0x1d*0x49),this['singleCont'+'actResultP'+'ool']=new bf(WO,0xedb*-0x1+-0x2b*0x83+0x1*0x24dd),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2a40be,_0x413faf,_0x4e4982){const _0x58307b=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x257730 of _0x58307b)if(_0x413faf['hasOwnProp'+'erty'](_0x257730)){const _0x5563f1=_0x413faf[_0x257730];Array['isArray'](_0x5563f1)?_0x2a40be[_0x257730]=new D(_0x5563f1[0x1c4f*0x1+0x3b*-0x3+-0x1b9e],_0x5563f1[0x72+-0x42d+0x3bc],_0x5563f1[0x1a*-0x5b+0x18a*-0xa+0x18a4]):_0x2a40be[_0x257730]=_0x5563f1;}super['initialize'+'ComponentD'+'ata'](_0x2a40be,_0x413faf,['enabled']);}['cloneCompo'+'nent'](_0x29e0e8,_0x3c9d13){const _0x2ee8af=_0x29e0e8['rigidbody'],_0x2ba3cf={'enabled':_0x2ee8af['enabled'],'mass':_0x2ee8af['mass'],'linearDamping':_0x2ee8af['linearDamp'+'ing'],'angularDamping':_0x2ee8af['angularDam'+'ping'],'linearFactor':[_0x2ee8af['linearFact'+'or']['x'],_0x2ee8af['linearFact'+'or']['y'],_0x2ee8af['linearFact'+'or']['z']],'angularFactor':[_0x2ee8af['angularFac'+'tor']['x'],_0x2ee8af['angularFac'+'tor']['y'],_0x2ee8af['angularFac'+'tor']['z']],'friction':_0x2ee8af['friction'],'rollingFriction':_0x2ee8af['rollingFri'+'ction'],'restitution':_0x2ee8af['restitutio'+'n'],'type':_0x2ee8af['type'],'group':_0x2ee8af['group'],'mask':_0x2ee8af['mask']};return this['addCompone'+'nt'](_0x3c9d13,_0x2ba3cf);}['onBeforeRe'+'move'](_0x5e6e55,_0x1ddf86){_0x1ddf86['enabled']&&(_0x1ddf86['enabled']=!(0x121b+0x37a*0x5+0x2f5*-0xc)),_0x1ddf86['body']&&(this['destroyBod'+'y'](_0x1ddf86['body']),_0x1ddf86['body']=null);}['addBody'](_0x104f37,_0x49d61d,_0x2c3b85){_0x49d61d!==void(0x2091+0xe9+0x10bd*-0x2)&&_0x2c3b85!==void(0x12c4+0x355+-0x1619)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x104f37,_0x49d61d,_0x2c3b85):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x104f37);}['removeBody'](_0x4791a7){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x4791a7);}['createBody'](_0x3cabfc,_0x3c7cf7,_0x2d138c){const _0x325845=new Ammo['btVector3'](-0x1*0x26e5+-0xdd+0x27c2,0xbdf+0xdf*-0x2b+0x1996*0x1,0x203*0xd+0x1*0x2474+-0x1*0x3e9b);_0x3cabfc!==-0x6b4*-0x2+0x17*0x67+-0x16a9&&_0x3c7cf7['calculateL'+'ocalInerti'+'a'](_0x3cabfc,_0x325845);const _0x4f7cdc=new Ammo['btDefaultM'+'otionState'](_0x2d138c),_0x2eb344=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x3cabfc,_0x4f7cdc,_0x3c7cf7,_0x325845),_0x1fe08f=new Ammo['btRigidBod'+'y'](_0x2eb344);return Ammo['destroy'](_0x2eb344),Ammo['destroy'](_0x325845),_0x1fe08f;}['destroyBod'+'y'](_0x4baa88){const _0x5ac70e=_0x4baa88['getMotionS'+'tate']();_0x5ac70e&&Ammo['destroy'](_0x5ac70e),Ammo['destroy'](_0x4baa88);}['raycastFir'+'st'](_0x44852b,_0x4c4e0c,_0x4da349={}){if(_0x4da349['filterTags']||_0x4da349['filterCall'+'back'])return _0x4da349['sort']=!(0x510+0x1*0x1b47+0x1e7*-0x11),this['raycastAll'](_0x44852b,_0x4c4e0c,_0x4da349)[0x7*0x2ff+0x824+-0x101*0x1d]||null;let _0x375ee0=null;Mi['setValue'](_0x44852b['x'],_0x44852b['y'],_0x44852b['z']),Di['setValue'](_0x4c4e0c['x'],_0x4c4e0c['y'],_0x4c4e0c['z']);const _0xb43ecc=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x4da349['filterColl'+'isionGroup']=='number'&&_0xb43ecc['set_m_coll'+'isionFilte'+'rGroup'](_0x4da349['filterColl'+'isionGroup']),typeof _0x4da349['filterColl'+'isionMask']=='number'&&_0xb43ecc['set_m_coll'+'isionFilte'+'rMask'](_0x4da349['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0xb43ecc),_0xb43ecc['hasHit']()){const _0x23eec3=_0xb43ecc['get_m_coll'+'isionObjec'+'t'](),_0x2c0a2a=Ammo['castObject'](_0x23eec3,Ammo['btRigidBod'+'y']);if(_0x2c0a2a){const _0x524b47=_0xb43ecc['get_m_hitP'+'ointWorld'](),_0x3037fc=_0xb43ecc['get_m_hitN'+'ormalWorld']();_0x375ee0=new eS(_0x2c0a2a['entity'],new D(_0x524b47['x'](),_0x524b47['y'](),_0x524b47['z']()),new D(_0x3037fc['x'](),_0x3037fc['y'](),_0x3037fc['z']()),_0xb43ecc['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0xb43ecc),_0x375ee0;}['raycastAll'](_0x260b9f,_0x181558,_0x30295e={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x599508=[];Mi['setValue'](_0x260b9f['x'],_0x260b9f['y'],_0x260b9f['z']),Di['setValue'](_0x181558['x'],_0x181558['y'],_0x181558['z']);const _0x4cc65e=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x30295e['filterColl'+'isionGroup']=='number'&&_0x4cc65e['set_m_coll'+'isionFilte'+'rGroup'](_0x30295e['filterColl'+'isionGroup']),typeof _0x30295e['filterColl'+'isionMask']=='number'&&_0x4cc65e['set_m_coll'+'isionFilte'+'rMask'](_0x30295e['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x4cc65e),_0x4cc65e['hasHit']()){const _0x3217fb=_0x4cc65e['get_m_coll'+'isionObjec'+'ts'](),_0x2a440c=_0x4cc65e['get_m_hitP'+'ointWorld'](),_0x2eaa97=_0x4cc65e['get_m_hitN'+'ormalWorld'](),_0x3b23a5=_0x4cc65e['get_m_hitF'+'ractions'](),_0x3d4fbd=_0x3217fb['size']();for(let _0x57232c=0x2*0xeca+0x3*-0x1f+0x115*-0x1b;_0x57232c<_0x3d4fbd;_0x57232c++){const _0x137f4c=Ammo['castObject'](_0x3217fb['at'](_0x57232c),Ammo['btRigidBod'+'y']);if(_0x137f4c&&_0x137f4c['entity']){if(_0x30295e['filterTags']&&!_0x137f4c['entity']['tags']['has'](..._0x30295e['filterTags'])||_0x30295e['filterCall'+'back']&&!_0x30295e['filterCall'+'back'](_0x137f4c['entity']))continue;const _0x5852d8=_0x2a440c['at'](_0x57232c),_0x56ff70=_0x2eaa97['at'](_0x57232c),_0x204d25=new eS(_0x137f4c['entity'],new D(_0x5852d8['x'](),_0x5852d8['y'](),_0x5852d8['z']()),new D(_0x56ff70['x'](),_0x56ff70['y'](),_0x56ff70['z']()),_0x3b23a5['at'](_0x57232c));_0x599508['push'](_0x204d25);}}_0x30295e['sort']&&_0x599508['sort']((_0x3cc9de,_0x2725e1)=>_0x3cc9de['hitFractio'+'n']-_0x2725e1['hitFractio'+'n']);}return Ammo['destroy'](_0x4cc65e),_0x599508;}['_storeColl'+'ision'](_0xd3b041,_0x501348){let _0x50338f=!(0x723*0x1+-0x13e*-0x15+-0x2138);const _0x410990=_0xd3b041['getGuid']();return this['collisions'][_0x410990]=this['collisions'][_0x410990]||{'others':[],'entity':_0xd3b041},this['collisions'][_0x410990]['others']['indexOf'](_0x501348)<0x10a+-0x2*-0x12b7+-0x2*0x133c&&(this['collisions'][_0x410990]['others']['push'](_0x501348),_0x50338f=!(-0x23f6+0x23c1+0x35)),this['frameColli'+'sions'][_0x410990]=this['frameColli'+'sions'][_0x410990]||{'others':[],'entity':_0xd3b041},this['frameColli'+'sions'][_0x410990]['others']['push'](_0x501348),_0x50338f;}['_createCon'+'tactPointF'+'romAmmo'](_0x5e009a){const _0x19a980=_0x5e009a['get_m_loca'+'lPointA'](),_0x9836a0=_0x5e009a['get_m_loca'+'lPointB'](),_0x538406=_0x5e009a['getPositio'+'nWorldOnA'](),_0x4e4709=_0x5e009a['getPositio'+'nWorldOnB'](),_0x527c6f=_0x5e009a['get_m_norm'+'alWorldOnB'](),_0x4cb355=this['contactPoi'+'ntPool']['allocate']();return _0x4cb355['localPoint']['set'](_0x19a980['x'](),_0x19a980['y'](),_0x19a980['z']()),_0x4cb355['localPoint'+'Other']['set'](_0x9836a0['x'](),_0x9836a0['y'](),_0x9836a0['z']()),_0x4cb355['point']['set'](_0x538406['x'](),_0x538406['y'](),_0x538406['z']()),_0x4cb355['pointOther']['set'](_0x4e4709['x'](),_0x4e4709['y'](),_0x4e4709['z']()),_0x4cb355['normal']['set'](_0x527c6f['x'](),_0x527c6f['y'](),_0x527c6f['z']()),_0x4cb355['impulse']=_0x5e009a['getApplied'+'Impulse'](),_0x4cb355;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x165b44){const _0x2cace1=_0x165b44['get_m_loca'+'lPointA'](),_0x19fa4b=_0x165b44['get_m_loca'+'lPointB'](),_0x4b727e=_0x165b44['getPositio'+'nWorldOnA'](),_0x211974=_0x165b44['getPositio'+'nWorldOnB'](),_0x3f6602=_0x165b44['get_m_norm'+'alWorldOnB'](),_0xabfdf4=this['contactPoi'+'ntPool']['allocate']();return _0xabfdf4['localPoint'+'Other']['set'](_0x2cace1['x'](),_0x2cace1['y'](),_0x2cace1['z']()),_0xabfdf4['localPoint']['set'](_0x19fa4b['x'](),_0x19fa4b['y'](),_0x19fa4b['z']()),_0xabfdf4['pointOther']['set'](_0x4b727e['x'](),_0x4b727e['y'](),_0x4b727e['z']()),_0xabfdf4['point']['set'](_0x211974['x'](),_0x211974['y'](),_0x211974['z']()),_0xabfdf4['normal']['set'](_0x3f6602['x'](),_0x3f6602['y'](),_0x3f6602['z']()),_0xabfdf4['impulse']=_0x165b44['getApplied'+'Impulse'](),_0xabfdf4;}['_createSin'+'gleContact'+'Result'](_0x1f517e,_0x326247,_0x3a8ef2){const _0x307d7f=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x307d7f['a']=_0x1f517e,_0x307d7f['b']=_0x326247,_0x307d7f['localPoint'+'A']=_0x3a8ef2['localPoint'],_0x307d7f['localPoint'+'B']=_0x3a8ef2['localPoint'+'Other'],_0x307d7f['pointA']=_0x3a8ef2['point'],_0x307d7f['pointB']=_0x3a8ef2['pointOther'],_0x307d7f['normal']=_0x3a8ef2['normal'],_0x307d7f['impulse']=_0x3a8ef2['impulse'],_0x307d7f;}['_createCon'+'tactResult'](_0x46cee1,_0xfa8e09){const _0x56a26d=this['contactRes'+'ultPool']['allocate']();return _0x56a26d['other']=_0x46cee1,_0x56a26d['contacts']=_0xfa8e09,_0x56a26d;}['_cleanOldC'+'ollisions'](){for(const _0x40ab14 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x40ab14)){const _0x2de7b5=this['frameColli'+'sions'][_0x40ab14],_0x386d87=this['collisions'][_0x40ab14],_0x4cbe93=_0x386d87['entity'],_0x1f22fa=_0x4cbe93['collision'],_0x7f7b09=_0x4cbe93['rigidbody'],_0x590d5e=_0x386d87['others'];let _0x5197d8=_0x590d5e['length'];for(;_0x5197d8--;){const _0x39eeb0=_0x590d5e[_0x5197d8];(!_0x2de7b5||_0x2de7b5['others']['indexOf'](_0x39eeb0)<-0xae2+-0x1*-0x1283+-0x7a1)&&(_0x590d5e['splice'](_0x5197d8,0x71f+0x53+-0x771),_0x4cbe93['trigger']?(_0x1f22fa&&_0x1f22fa['fire']('triggerlea'+'ve',_0x39eeb0),_0x39eeb0['rigidbody']&&_0x39eeb0['rigidbody']['fire']('triggerlea'+'ve',_0x4cbe93)):_0x39eeb0['trigger']||(_0x7f7b09&&_0x7f7b09['fire']('collisione'+'nd',_0x39eeb0),_0x1f22fa&&_0x1f22fa['fire']('collisione'+'nd',_0x39eeb0)));}_0x590d5e['length']===0x26ee+-0x1*0x1d4f+-0x99f*0x1&&delete this['collisions'][_0x40ab14];}}['_hasContac'+'tEvent'](_0x211e87){const _0x2b1d77=_0x211e87['collision'];if(_0x2b1d77&&(_0x2b1d77['hasEvent']('collisions'+'tart')||_0x2b1d77['hasEvent']('collisione'+'nd')||_0x2b1d77['hasEvent']('contact')))return!(-0x2338+-0x408+0x274*0x10);const _0x8311d9=_0x211e87['rigidbody'];return _0x8311d9&&(_0x8311d9['hasEvent']('collisions'+'tart')||_0x8311d9['hasEvent']('collisione'+'nd')||_0x8311d9['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x597360,_0x11ebd2){const _0xc62f55=Ammo['wrapPointe'+'r'](_0x597360,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x3fc5ee=_0xc62f55['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x4b5d73=0x797*0x2+0x18d*-0x13+-0x45*-0x35;_0x4b5d73<_0x3fc5ee;_0x4b5d73++){const _0x14aee6=_0xc62f55['getManifol'+'dByIndexIn'+'ternal'](_0x4b5d73),_0x2b8f4f=_0x14aee6['getBody0'](),_0x580d23=_0x14aee6['getBody1'](),_0x50bb2c=Ammo['castObject'](_0x2b8f4f,Ammo['btRigidBod'+'y']),_0x3f2ec1=Ammo['castObject'](_0x580d23,Ammo['btRigidBod'+'y']),_0x369d44=_0x50bb2c['entity'],_0x1824b2=_0x3f2ec1['entity'];if(!_0x369d44||!_0x1824b2)continue;const _0x5bb01c=_0x50bb2c['getCollisi'+'onFlags'](),_0x3d436e=_0x3f2ec1['getCollisi'+'onFlags'](),_0x3ff299=_0x14aee6['getNumCont'+'acts'](),_0x366a24=[],_0x43389c=[];let _0x4a2287;if(_0x3ff299>0xd*-0x20c+0x1226+0x72*0x13){if(_0x5bb01c&Po||_0x3d436e&Po){const _0x42f597=_0x369d44['collision']&&(_0x369d44['collision']['hasEvent']('triggerent'+'er')||_0x369d44['collision']['hasEvent']('triggerlea'+'ve')),_0x38b2a8=_0x1824b2['collision']&&(_0x1824b2['collision']['hasEvent']('triggerent'+'er')||_0x1824b2['collision']['hasEvent']('triggerlea'+'ve')),_0xc2be34=_0x369d44['rigidbody']&&(_0x369d44['rigidbody']['hasEvent']('triggerent'+'er')||_0x369d44['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x422892=_0x1824b2['rigidbody']&&(_0x1824b2['rigidbody']['hasEvent']('triggerent'+'er')||_0x1824b2['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x42f597&&(_0x4a2287=this['_storeColl'+'ision'](_0x369d44,_0x1824b2),_0x4a2287&&!(_0x3d436e&Po)&&_0x369d44['collision']['fire']('triggerent'+'er',_0x1824b2)),_0x38b2a8&&(_0x4a2287=this['_storeColl'+'ision'](_0x1824b2,_0x369d44),_0x4a2287&&!(_0x5bb01c&Po)&&_0x1824b2['collision']['fire']('triggerent'+'er',_0x369d44)),_0xc2be34&&(_0x4a2287||(_0x4a2287=this['_storeColl'+'ision'](_0x1824b2,_0x369d44)),_0x4a2287&&_0x369d44['rigidbody']['fire']('triggerent'+'er',_0x1824b2)),_0x422892&&(_0x4a2287||(_0x4a2287=this['_storeColl'+'ision'](_0x369d44,_0x1824b2)),_0x4a2287&&_0x1824b2['rigidbody']['fire']('triggerent'+'er',_0x369d44));}else{const _0x1b787a=this['_hasContac'+'tEvent'](_0x369d44),_0x2200ef=this['_hasContac'+'tEvent'](_0x1824b2),_0x5dbec6=this['hasEvent']('contact');if(_0x5dbec6||_0x1b787a||_0x2200ef){for(let _0x2afc08=0x1722+-0x170*0x18+0x3*0x3ca;_0x2afc08<_0x3ff299;_0x2afc08++){const _0x17b374=_0x14aee6['getContact'+'Point'](_0x2afc08),_0x2bf0d9=this['_createCon'+'tactPointF'+'romAmmo'](_0x17b374);if(_0x1b787a||_0x2200ef){_0x366a24['push'](_0x2bf0d9);const _0x109b7c=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x17b374);_0x43389c['push'](_0x109b7c);}if(_0x5dbec6){const _0x48a983=this['_createSin'+'gleContact'+'Result'](_0x369d44,_0x1824b2,_0x2bf0d9);this['fire']('contact',_0x48a983);}}if(_0x1b787a){const _0x24bcd0=this['_createCon'+'tactResult'](_0x1824b2,_0x366a24);_0x4a2287=this['_storeColl'+'ision'](_0x369d44,_0x1824b2),_0x369d44['collision']&&(_0x369d44['collision']['fire']('contact',_0x24bcd0),_0x4a2287&&_0x369d44['collision']['fire']('collisions'+'tart',_0x24bcd0)),_0x369d44['rigidbody']&&(_0x369d44['rigidbody']['fire']('contact',_0x24bcd0),_0x4a2287&&_0x369d44['rigidbody']['fire']('collisions'+'tart',_0x24bcd0));}if(_0x2200ef){const _0x388bb8=this['_createCon'+'tactResult'](_0x369d44,_0x43389c);_0x4a2287=this['_storeColl'+'ision'](_0x1824b2,_0x369d44),_0x1824b2['collision']&&(_0x1824b2['collision']['fire']('contact',_0x388bb8),_0x4a2287&&_0x1824b2['collision']['fire']('collisions'+'tart',_0x388bb8)),_0x1824b2['rigidbody']&&(_0x1824b2['rigidbody']['fire']('contact',_0x388bb8),_0x4a2287&&_0x1824b2['rigidbody']['fire']('collisions'+'tart',_0x388bb8));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x30888d){let _0x1b2b33,_0x32a645;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0xd*-0x13e+-0x11*-0xaf+0x1*0x487]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1*0x1604+-0x1c40+0x3245]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x2418+0x1*-0x116d+-0xc1*-0x47]=this['gravity']['z'];const _0x4bd4a9=this['dynamicsWo'+'rld']['getGravity']();(_0x4bd4a9['x']()!==this['_gravityFl'+'oat32'][-0x1ce5+0x6*-0x5b2+0xc9d*0x5]||_0x4bd4a9['y']()!==this['_gravityFl'+'oat32'][0x86d*0x1+-0x1178+0x90c]||_0x4bd4a9['z']()!==this['_gravityFl'+'oat32'][-0x218+-0x103c+0x1256])&&(_0x4bd4a9['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x4bd4a9));const _0x20c81a=this['_triggers'];for(_0x1b2b33=-0x266*-0x10+0x8ab+0x1*-0x2f0b,_0x32a645=_0x20c81a['length'];_0x1b2b33<_0x32a645;_0x1b2b33++)_0x20c81a[_0x1b2b33]['updateTran'+'sform']();const _0x305ec2=this['_compounds'];for(_0x1b2b33=0x1e7f+-0x25b1*-0x1+-0x8*0x886,_0x32a645=_0x305ec2['length'];_0x1b2b33<_0x32a645;_0x1b2b33++)_0x305ec2[_0x1b2b33]['_updateCom'+'pound']();const _0xcb73be=this['_kinematic'];for(_0x1b2b33=-0x12f9*0x1+0xf56+0x3a3,_0x32a645=_0xcb73be['length'];_0x1b2b33<_0x32a645;_0x1b2b33++)_0xcb73be[_0x1b2b33]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x30888d,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0xb68b8e=this['_dynamic'];for(_0x1b2b33=-0x21d4+0x25ee+-0x41a,_0x32a645=_0xb68b8e['length'];_0x1b2b33<_0x32a645;_0x1b2b33++)_0xb68b8e[_0x1b2b33]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x30888d),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x42a3d9,_0x56de93){super(_0x42a3d9,_0x56de93),this['_resolutio'+'n']=new J(-0x1*0x1acf+0x1*-0xf17+0x2c66*0x1,-0x1fa2+-0x677*-0x3+0x1*0xd7d),this['_reference'+'Resolution']=new J(-0x15*0x99+0xedb*-0x1+-0x4*-0x77a,-0x5*-0x1e2+0x145c+-0x1c86*0x1),this['_scaleMode']=Za,this['scale']=-0x3c4+-0x10*0x4f+0x8b5,this['_scaleBlen'+'d']=0x5ba*0x1+0x1064+-0x161e+0.5,this['_priority']=-0x1f97*-0x1+-0x6ab*-0x3+-0x3398,this['_screenSpa'+'ce']=!(-0x1c2+-0x15c8+0x93*0x29),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x42a3d9['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x3c4113,_0x22882d){var _0x12adbd;if(!(_0x3c4113 instanceof lt))return _0x22882d;if(_0x3c4113['element']){const _0x21fe87=_0x3c4113['element']['drawOrder'];_0x3c4113['element']['drawOrder']=_0x22882d++,_0x3c4113['element']['_batchGrou'+'pId']>=-0x2*0xfe+-0x271+0x46d&&_0x21fe87!==_0x3c4113['element']['drawOrder']&&((_0x12adbd=this['system']['app']['batcher'])==null||_0x12adbd['markGroupD'+'irty'](_0x3c4113['element']['_batchGrou'+'pId']));}_0x3c4113['particlesy'+'stem']&&(_0x3c4113['particlesy'+'stem']['drawOrder']=_0x22882d++);const _0x325c05=_0x3c4113['children'];for(let _0xb51c44=0x1b26+-0x5aa+-0x157c;_0xb51c44<_0x325c05['length'];_0xb51c44++)_0x22882d=this['_recurseDr'+'awOrderSyn'+'c'](_0x325c05[_0xb51c44],_0x22882d);return _0x22882d;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x93*-0x30+0x3*-0x88a+0x352f),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4a9607=this['_resolutio'+'n']['x']/this['scale'],_0x5162cd=this['_resolutio'+'n']['y']/this['scale'],_0x10ab7d=-0x1cd5*-0x1+0x2*-0x45e+-0x157*0xf,_0x5ef857=_0x4a9607,_0x1fad81=-_0x5162cd;this['_screenMat'+'rix']['setOrtho'](_0x10ab7d,_0x5ef857,_0x1fad81,0x20d8+-0x160+-0x1f78,-0x155c+0x163b+0x1*-0xde,-(0x49*-0x85+0x12eb*0x1+0x1303)),this['_screenSpa'+'ce']||(tS['setScale']((0x2*0xdfd+-0x177f+-0x47b+0.5)*_0x4a9607,(-0x166b+-0x283*0xb+0x320c+0.5)*_0x5162cd,-0x107*0x17+-0x8*0xaa+0x1cf2),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x5efbee,_0x160e96){const _0x240626=Math['log2']((_0x5efbee['x']||-0x1874+-0x1*-0x257d+-0xd08)/_0x160e96['x']),_0x4b02a6=Math['log2']((_0x5efbee['y']||0x3*-0xc03+-0xc5*0x2e+0x4770)/_0x160e96['y']);return Math['pow'](0x1560+0x4*0x2a9+-0xf1*0x22,_0x240626*(0x1994+-0x260e+0xc7b*0x1-this['_scaleBlen'+'d'])+_0x4b02a6*this['_scaleBlen'+'d']);}['_onResize'](_0x3ddc90,_0x2c110b){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x3ddc90,_0x2c110b),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x1af44f){this['_elements']['add'](_0x1af44f);}['_unbindEle'+'ment'](_0x7ff259){this['_elements']['delete'](_0x7ff259);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x5efa19=>_0x5efa19['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x421893){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x421893['x'],_0x421893['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x2bf298=>_0x2bf298['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x9ccb7c){this['_reference'+'Resolution']['set'](_0x9ccb7c['x'],_0x9ccb7c['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x16ef77=>_0x16ef77['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x594d7c){this['_screenSpa'+'ce']=_0x594d7c,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x3f643f=>_0x3f643f['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x215c2a){_0x215c2a!==Za&&_0x215c2a!==qO&&(_0x215c2a=Za),!this['_screenSpa'+'ce']&&_0x215c2a!==Za&&(_0x215c2a=Za),this['_scaleMode']=_0x215c2a,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x1d3d1f){this['_scaleBlen'+'d']=_0x1d3d1f,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x43a70c=>_0x43a70c['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x85f885){_0x85f885>0x233*-0xb+0x1d40+-0x410&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x85f885+'\x20to\x20255'),_0x85f885=-0x25dd+-0x215*0xe+0x4402),this['_priority']!==_0x85f885&&(this['_priority']=_0x85f885,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0x245a+-0x25*0x77+0x358d);}}const Uu=['enabled'];class YO extends ct{constructor(_0x57ae20){super(_0x57ae20),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x485957,_0x216fcf,_0x1002ab){_0x216fcf['priority']!==void(0x1*-0xe41+0x20b8+-0x1277)&&(_0x485957['priority']=_0x216fcf['priority']),_0x216fcf['screenSpac'+'e']!==void(0x4d8*0x8+-0x125c+-0x1464)&&(_0x485957['screenSpac'+'e']=_0x216fcf['screenSpac'+'e']),_0x485957['cull']=_0x485957['screenSpac'+'e'],_0x216fcf['scaleMode']!==void(0xe2*0x23+0x1d0*-0xa+-0xcc6)&&(_0x485957['scaleMode']=_0x216fcf['scaleMode']),_0x216fcf['scaleBlend']!==void(0x8c3*0x3+0x28+-0x1a71)&&(_0x485957['scaleBlend']=_0x216fcf['scaleBlend']),_0x216fcf['resolution']!==void(-0xe3*-0x29+0x14cb+-0x10a*0x37)&&(_0x216fcf['resolution']instanceof J?_0x485957['_resolutio'+'n']['copy'](_0x216fcf['resolution']):_0x485957['_resolutio'+'n']['set'](_0x216fcf['resolution'][0x17*-0x11+-0x124+0x2ab],_0x216fcf['resolution'][-0x1afd+0x1244+0x8ba]),_0x485957['resolution']=_0x485957['_resolutio'+'n']),_0x216fcf['referenceR'+'esolution']!==void(-0xcbb+-0x1b20+0x27db)&&(_0x216fcf['referenceR'+'esolution']instanceof J?_0x485957['_reference'+'Resolution']['copy'](_0x216fcf['referenceR'+'esolution']):_0x485957['_reference'+'Resolution']['set'](_0x216fcf['referenceR'+'esolution'][0x14e2+0x26e0+0x2*-0x1de1],_0x216fcf['referenceR'+'esolution'][-0x2235+0x23da+0x8c*-0x3]),_0x485957['referenceR'+'esolution']=_0x485957['_reference'+'Resolution']),_0x485957['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x485957,_0x216fcf,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x23d23f){const _0x4d3596=this['store'];for(const _0xd321f0 in _0x4d3596)_0x4d3596[_0xd321f0]['entity']['screen']['update']&&_0x4d3596[_0xd321f0]['entity']['screen']['update'](_0x23d23f);}['_onResize'](_0x4fa199,_0x3b17dc){this['windowReso'+'lution']['x']=_0x4fa199,this['windowReso'+'lution']['y']=_0x3b17dc;}['cloneCompo'+'nent'](_0x15a91d,_0x425603){const _0x16f43f=_0x15a91d['screen'];return this['addCompone'+'nt'](_0x425603,{'enabled':_0x16f43f['enabled'],'screenSpace':_0x16f43f['screenSpac'+'e'],'scaleMode':_0x16f43f['scaleMode'],'resolution':_0x16f43f['resolution']['clone'](),'referenceResolution':_0x16f43f['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x10f346,_0x48f95e){_0x48f95e['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x21974d=this['_drawOrder'+'SyncQueue']['list']();for(let _0x4a2674=-0x166d*0x1+0x5d1*-0x1+0x1c3e;_0x4a2674<_0x21974d['length'];_0x4a2674++){const _0x5d9b95=_0x21974d[_0x4a2674];_0x5d9b95['callback']['call'](_0x5d9b95['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x20b336,_0x45d24f,_0x145dca){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x20b336)||this['_drawOrder'+'SyncQueue']['push'](_0x20b336,{'callback':_0x45d24f,'scope':_0x145dca});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x2529c1,_0x357388){if(super(),!_0x2529c1||!(_0x2529c1 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x357388&&_0x357388!=='x'&&_0x357388!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x357388);this['_element']=_0x2529c1,this['_app']=_0x2529c1['system']['app'],this['_axis']=_0x357388||null,this['_enabled']=!(-0x9a4*0x2+-0x1a*-0x70+0x7e8),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0x11cb+0x3*0x3f1+0x5f9),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x36082f){this['_element'][_0x36082f]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x36082f]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x36082f]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x43b2ad){const _0x4e0690=_0x43b2ad==='on';this['_hasDragLi'+'steners']&&_0x4e0690||(this['_app']['mouse']&&(this['_element'][_0x43b2ad]('mousemove',this['_onMove'],this),this['_element'][_0x43b2ad]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x43b2ad]('touchmove',this['_onMove'],this),this['_element'][_0x43b2ad]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x43b2ad]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x43b2ad]('selectmove',this['_onMove'],this),this['_element'][_0x43b2ad]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x4e0690);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x207c77){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x207c77['camera'],this['_calculate'+'DragScale']();const _0x57ac95=this['_screenToL'+'ocal'](_0x207c77);_0x57ac95&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0xaf*-0x5+-0x6fb+0x2*0x533),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x57ac95),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xf86+0x23b8+0xd*-0x3f1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x3beb9f){return _0x3beb9f['inputSourc'+'e']?Hr['set'](_0x3beb9f['inputSourc'+'e']['getOrigin'](),_0x3beb9f['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x3beb9f),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x1*-0x1f4a+0x1df6+-0x1*-0x155)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x32bd84){const _0x540736=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x32bd84['x']<'u'&&typeof _0x32bd84['y']<'u'?(lr['x']=_0x32bd84['x']*_0x540736,lr['y']=_0x32bd84['y']*_0x540736):_0x32bd84['changedTou'+'ches']?(lr['x']=_0x32bd84['changedTou'+'ches'][0x194f+-0x339*0x6+0x5f9*-0x1]['x']*_0x540736,lr['y']=_0x32bd84['changedTou'+'ches'][0x11df+0x25ed+-0x37cc]['y']*_0x540736):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x90+-0x46*-0x16+-0x694),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x36a+-0xa35+0x6cc)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x45bf3a=this['_element']['entity']['parent'];const _0x55db12=this['_element']['screen']&&this['_element']['screen']['screen'],_0xabee1e=_0x55db12&&_0x55db12['screenSpac'+'e'],_0x3b71be=_0xabee1e?_0x55db12['scale']:-0x1*-0x25eb+0x1*0x22fc+0x1*-0x48e6,_0x18cd69=this['_dragScale'];for(_0x18cd69['set'](_0x3b71be,_0x3b71be,_0x3b71be);_0x45bf3a&&(_0x18cd69['mul'](_0x45bf3a['getLocalSc'+'ale']()),_0x45bf3a=_0x45bf3a['parent'],!(_0xabee1e&&_0x45bf3a['screen'])););_0x18cd69['x']=(0x52a*0x6+-0x5c8+-0x1933)/_0x18cd69['x'],_0x18cd69['y']=(-0x1848+0x3*-0x4f6+0x272b)/_0x18cd69['y'],_0x18cd69['z']=-0x22*-0x2e+-0x1561+0xf45;}['_onMove'](_0x4f2d1f){const {_element:_0x13e665,_deltaMousePosition:_0x1cd36a,_deltaHandlePosition:_0x10dfa0,_axis:_0x23c8df}=this;if(_0x13e665&&this['_isDraggin'+'g']&&this['enabled']&&_0x13e665['enabled']&&_0x13e665['entity']['enabled']){const _0x57a0b7=this['_screenToL'+'ocal'](_0x4f2d1f);if(_0x57a0b7){if(_0x1cd36a['sub2'](_0x57a0b7,this['_dragStart'+'MousePosit'+'ion']),_0x10dfa0['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x1cd36a),_0x23c8df){const _0x275e70=_0x13e665['entity']['getLocalPo'+'sition'](),_0x303394=ZO[_0x23c8df];_0x10dfa0[_0x303394]=_0x275e70[_0x303394];}_0x13e665['entity']['setLocalPo'+'sition'](_0x10dfa0),this['fire']('drag:move',_0x10dfa0);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x4c2f54){this['_enabled']=_0x4c2f54;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=-0x8*-0x476+0x1f*0xe2+0x1*-0x3f0e,aS=-0x17f3+0x33*-0x79+0x300f,JO=0x111d+-0xa6*0xb+-0x9f9,eF=0x5c+-0x67*-0x1f+0xf*-0xdb,tF=-0x1f3*0xb+-0x11a8+-0x9a*-0x41,xo=new J();class c0 extends we{constructor(_0x2b7595,_0x5ed246){super(_0x2b7595,_0x5ed246),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x2*0xd68+0x2*0x115b+-0x3d85*0x1),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x3629b7=this['system']['store'][this['entity']['getGuid']()];return _0x3629b7?_0x3629b7['data']:null;}set['enabled'](_0x1bd19d){this['_setValue']('enabled',_0x1bd19d);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x5defd2){this['_setValue']('horizontal',_0x5defd2);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x30c42c){this['_setValue']('vertical',_0x30c42c);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x525490){this['_setValue']('scrollMode',_0x525490);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x429e6e){this['_setValue']('bounceAmou'+'nt',_0x429e6e);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x2f7591){this['_setValue']('friction',_0x2f7591);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x3aa96b){this['_setValue']('dragThresh'+'old',_0x3aa96b);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x3c5cd0){this['_setValue']('useMouseWh'+'eel',_0x3c5cd0);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0xa7b929){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0xa7b929);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x569962){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x569962);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x5044cd){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x5044cd);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xc2c280){if(this['_viewportE'+'ntity']===_0xc2c280)return;const _0x98be77=typeof _0xc2c280=='string';this['_viewportE'+'ntity']&&_0x98be77&&this['_viewportE'+'ntity']['getGuid']()===_0xc2c280||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xc2c280 instanceof Ie?this['_viewportE'+'ntity']=_0xc2c280:_0x98be77?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xc2c280)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x98be77&&_0xc2c280&&(this['data']['viewportEn'+'tity']=_0xc2c280));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2e9e6d){if(this['_contentEn'+'tity']===_0x2e9e6d)return;const _0x526819=typeof _0x2e9e6d=='string';this['_contentEn'+'tity']&&_0x526819&&this['_contentEn'+'tity']['getGuid']()===_0x2e9e6d||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2e9e6d instanceof Ie?this['_contentEn'+'tity']=_0x2e9e6d:_0x526819?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2e9e6d)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x526819&&_0x2e9e6d&&(this['data']['contentEnt'+'ity']=_0x2e9e6d));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1502ae){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1502ae)return;const _0x35294f=typeof _0x1502ae=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x35294f&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1502ae||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1502ae instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x1502ae:_0x35294f?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1502ae)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x35294f&&_0x1502ae&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1502ae));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x5a84e8){if(this['_verticalS'+'crollbarEn'+'tity']===_0x5a84e8)return;const _0x2458da=typeof _0x5a84e8=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2458da&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x5a84e8||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x5a84e8 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x5a84e8:_0x2458da?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5a84e8)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2458da&&_0x5a84e8&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x5a84e8));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x1b90cd){this['_onSetScro'+'ll'](_0x1b90cd['x'],_0x1b90cd['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1d5d1d,_0x1c9fce){const _0x92cd4c=this['data'],_0x4c7fc0=_0x92cd4c[_0x1d5d1d];_0x92cd4c[_0x1d5d1d]=_0x1c9fce,this['fire']('set',_0x1d5d1d,_0x4c7fc0,_0x1c9fce);}['_toggleLif'+'ecycleList'+'eners'](_0x18b6ff){this[_0x18b6ff]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x18b6ff]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x18b6ff]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x1bf47a){if(this['entity']['element']){if(_0x1bf47a==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x1bf47a]('resize',this['_syncAll'],this),this['entity']['element'][_0x1bf47a]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x1bf47a==='on';}}['_onElement'+'ComponentA'+'dd'](_0x3f22a9){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0xb03511){var _0x26f857;(_0x26f857=this['_evtElemen'+'tRemove'])==null||_0x26f857['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x140689,_0x7f4b8e;(_0x140689=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x140689['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x7f4b8e=this['_viewportE'+'ntity'])!=null&&_0x7f4b8e['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x143716=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x143716['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x143716['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x37276c,_0x58d86e;(_0x37276c=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x37276c['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x58d86e=this['_evtViewpo'+'rtResize'])==null||_0x58d86e['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x9b5321,_0xb8df99;(_0x9b5321=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x9b5321['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0xb8df99=this['_contentEn'+'tity'])!=null&&_0xb8df99['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x14d787=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x14d787['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x14d787['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x130117,_0x166f72;(_0x130117=this['_evtConten'+'tElementRe'+'move'])==null||_0x130117['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x166f72=this['_evtConten'+'tResize'])==null||_0x166f72['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x25de41){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x2686+0x157*0x1d+0xd5*-0x5d),this['_setScroll'+'FromConten'+'tPosition'](_0x25de41),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x25de41),!this['_disabledC'+'ontentInpu'+'t'])){const _0x2a7171=_0x25de41['x']-this['_dragStart'+'Position']['x'],_0x63767e=_0x25de41['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x2a7171)>this['dragThresh'+'old']||Math['abs'](_0x63767e)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x46a907;(_0x46a907=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x46a907['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x3b7e67;(_0x3b7e67=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x3b7e67['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x5bf97b){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x5bf97b,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x5724a6){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x5724a6);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x20db9f;const _0x324727=(_0x20db9f=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1*0xe87+0x1b2a+-0xca3):_0x20db9f['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x324727['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x324727['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x4a828c;const _0x2a090a=(_0x4a828c=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x17e4+0x1ab3+0x1*-0x2cf):_0x4a828c['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x2a090a['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x2a090a['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x3acbd8,_0x58255c;(_0x3acbd8=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x3acbd8['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x58255c=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x58255c['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x19ae3d,_0x4f943e;(_0x19ae3d=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x19ae3d['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x4f943e=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x4f943e['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x3ecf01,_0x5a7ce1,_0x3cb99e){_0x3cb99e!==!(0x15c4+-0x2230+0xc6d)&&this['_velocity']['set'](0x26a2+-0x1*-0xb15+-0x31b7,0xf06*0x1+-0x6fe*0x5+0x13f0,-0x6bd+-0x15ba+-0x1c77*-0x1);const _0x563caf=this['_updateAxi'+'s'](_0x3ecf01,'x',Ce),_0x135ead=this['_updateAxi'+'s'](_0x5a7ce1,'y',je);(_0x563caf||_0x135ead)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x290275,_0x311b92,_0x41d245){const _0x4813bd=_0x290275!==null&&Math['abs'](_0x290275-this['_scroll'][_0x311b92])>0x1*0x766+0x3*-0x886+0x122c+0.00001;return(_0x4813bd||this['_isDraggin'+'g']()||_0x290275===0x2*0x2ef+0x15*-0xdd+0xc43)&&(this['_scroll'][_0x311b92]=this['_determine'+'NewScrollV'+'alue'](_0x290275,_0x311b92,_0x41d245),this['_syncConte'+'ntPosition'](_0x41d245),this['_syncScrol'+'lbarPositi'+'on'](_0x41d245)),_0x4813bd;}['_determine'+'NewScrollV'+'alue'](_0x264801,_0x2303a0,_0x57f847){if(!this['_getScroll'+'ingEnabled'](_0x57f847))return this['_scroll'][_0x2303a0];switch(this['scrollMode']){case QO:return Y['clamp'](_0x264801,-0x1474+0xe8e+0x12e*0x5,this['_getMaxScr'+'ollValue'](_0x57f847));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x264801,_0x2303a0,_0x57f847),_0x264801;case JO:return _0x264801;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x264801;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x3eaa0b){if(!this['_contentEn'+'tity'])return;const _0x51c125=this['_getAxis'](_0x3eaa0b),_0x2cbb0b=this['_getSign'](_0x3eaa0b),_0x37a089=this['_prevConte'+'ntSizes'][_0x3eaa0b],_0x12b1bb=this['_getConten'+'tSize'](_0x3eaa0b);if(_0x37a089!==null&&Math['abs'](_0x37a089-_0x12b1bb)>-0x1f89+0x1a2a+-0x55f*-0x1+0.0001){const _0xf6ff1c=this['_getMaxOff'+'set'](_0x3eaa0b,_0x37a089),_0x10e17b=this['_getMaxOff'+'set'](_0x3eaa0b,_0x12b1bb);_0x10e17b===-0x13eb+0x3f*-0x87+-0xb3*-0x4c?this['_scroll'][_0x51c125]=-0x1293+0x222a*-0x1+0x2*0x1a5f:this['_scroll'][_0x51c125]=Y['clamp'](this['_scroll'][_0x51c125]*_0xf6ff1c/_0x10e17b,-0x1*0x880+-0xc25+-0x23*-0x97,-0x2003+0xf1*0x1c+0x5a8);}const _0x4c880b=this['_scroll'][_0x51c125]*this['_getMaxOff'+'set'](_0x3eaa0b),_0xd4bb57=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xd4bb57[_0x51c125]=_0x4c880b*_0x2cbb0b,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xd4bb57),this['_prevConte'+'ntSizes'][_0x3eaa0b]=_0x12b1bb;}['_syncScrol'+'lbarPositi'+'on'](_0x587b3e){const _0x282e7d=this['_scrollbar'+'Entities'][_0x587b3e];if(!(_0x282e7d!=null&&_0x282e7d['scrollbar']))return;const _0x53a779=this['_getAxis'](_0x587b3e);this['_scrollbar'+'UpdateFlag'+'s'][_0x587b3e]=!(-0x1a*0x81+0x26*-0xd+0xf08),_0x282e7d['scrollbar']['value']=this['_scroll'][_0x53a779],_0x282e7d['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x53a779,_0x587b3e),this['_scrollbar'+'UpdateFlag'+'s'][_0x587b3e]=!(0x1d77+-0x7a8+-0x15ce);}['_syncScrol'+'lbarEnable'+'dState'](_0x2d6a4a){const _0x41a05e=this['_scrollbar'+'Entities'][_0x2d6a4a];if(!_0x41a05e)return;const _0x2cd90b=this['_getScroll'+'ingEnabled'](_0x2d6a4a),_0x2ab703=this['_getScroll'+'barVisibil'+'ity'](_0x2d6a4a);switch(_0x2ab703){case eF:_0x41a05e['enabled']=_0x2cd90b;return;case tF:_0x41a05e['enabled']=_0x2cd90b&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2d6a4a);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x2ab703),_0x41a05e['enabled']=_0x2cd90b;}}['_contentIs'+'LargerThan'+'Viewport'](_0x51a17a){return this['_getConten'+'tSize'](_0x51a17a)>this['_getViewpo'+'rtSize'](_0x51a17a);}['_contentPo'+'sitionToSc'+'rollValue'](_0x21431e){const _0x4c359d=this['_getMaxOff'+'set'](Ce),_0x1b122e=this['_getMaxOff'+'set'](je);return _0x4c359d===0x1*0xd63+0x16d2+-0x2435?xo['x']=-0x457+-0x1*0x20a1+0x1a*0x16c:xo['x']=_0x21431e['x']/_0x4c359d,_0x1b122e===-0x1b76+-0x1391+-0x1*-0x2f07?xo['y']=0x18b4+0x1*-0xe21+-0xa93:xo['y']=_0x21431e['y']/-_0x1b122e,xo;}['_getMaxOff'+'set'](_0x3f77a5,_0x419501){_0x419501=_0x419501===void(-0x301*0x7+0x4*-0x814+-0x1*-0x3557)?this['_getConten'+'tSize'](_0x3f77a5):_0x419501;const _0x3d9ab8=this['_getViewpo'+'rtSize'](_0x3f77a5);return _0x419501<_0x3d9ab8?-this['_getViewpo'+'rtSize'](_0x3f77a5):_0x3d9ab8-_0x419501;}['_getMaxScr'+'ollValue'](_0x32c571){return this['_contentIs'+'LargerThan'+'Viewport'](_0x32c571)?0x1bdb*-0x1+0x4e5+0x16f7:0x223*-0x7+0x6*-0x12e+0x1609*0x1;}['_getScroll'+'barHandleS'+'ize'](_0x251213,_0x5f4736){const _0x3d7440=this['_getViewpo'+'rtSize'](_0x5f4736),_0x2cddbf=this['_getConten'+'tSize'](_0x5f4736);if(Math['abs'](_0x2cddbf)<-0x579*0x2+-0xb1+-0x14b*-0x9+0.001)return 0x1fda+0x3*0x453+-0x2cd2;const _0x3df239=Math['min'](_0x3d7440/_0x2cddbf,0x29*-0xa+0x8a0+0x1*-0x705),_0x219d5b=this['_toOversho'+'ot'](this['_scroll'][_0x251213],_0x5f4736);return _0x219d5b===-0x1895+-0x109+-0x1*-0x199e?_0x3df239:_0x3df239/(0x20bb+0x8e1*-0x3+-0x617+Math['abs'](_0x219d5b));}['_getViewpo'+'rtSize'](_0x36c68c){return this['_getSize'](_0x36c68c,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x16c9a2){return this['_getSize'](_0x16c9a2,this['_contentEn'+'tity']);}['_getSize'](_0x150874,_0x43d81a){return _0x43d81a!=null&&_0x43d81a['element']?_0x43d81a['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x150874)]:0x24fa+-0xc32+0x632*-0x4;}['_getScroll'+'ingEnabled'](_0x454ba5){if(_0x454ba5===Ce)return this['horizontal'];if(_0x454ba5===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x454ba5);}['_getScroll'+'barVisibil'+'ity'](_0x2fcccf){if(_0x2fcccf===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x2fcccf===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x2fcccf);}['_getSign'](_0x153574){return _0x153574===Ce?0x14d8+0x1*-0x17b+0x1c*-0xb1:-(-0xd9c+-0x1*-0x214f+-0x13b2*0x1);}['_getAxis'](_0xf98103){return _0xf98103===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x3ed957){return _0x3ed957===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x2636+0x160a+-0x3c40+0.0001||Math['abs'](this['_velocity']['y'])>-0x1c7c+0x3d*-0x73+0x37e3+0.0001){const _0xe254d6=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xe254d6['x']+=this['_velocity']['x'],_0xe254d6['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xe254d6),this['_setScroll'+'FromConten'+'tPosition'](_0xe254d6);}this['_velocity']['x']*=0x2*0xe4d+0x1*-0x1795+-0x1ac*0x3-this['friction'],this['_velocity']['y']*=0xaf9+-0x17ba+0xcc2*0x1-this['friction'];}}['_hasOversh'+'oot'](_0x23eeee,_0x23ce3e){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x23eeee],_0x23ce3e))>-0x1f6*-0x9+-0xc4e+-0x9*0x98+0.001;}['_toOversho'+'ot'](_0x17473a,_0x4d1b21){const _0xd2d572=this['_getMaxScr'+'ollValue'](_0x4d1b21);return _0x17473a<0x23*-0x80+0x1380+-0x200*0x1?_0x17473a:_0x17473a>_0xd2d572?_0x17473a-_0xd2d572:-0x392*-0x1+-0xe2*-0x21+0x2e*-0xb6;}['_setVeloci'+'tyFromOver'+'shoot'](_0x824265,_0x116235,_0x55d365){const _0x4e94c5=this['_toOversho'+'ot'](_0x824265,_0x55d365)*this['_getMaxOff'+'set'](_0x55d365)*this['_getSign'](_0x55d365);Math['abs'](_0x4e94c5)>-0x263b*-0x1+0x1dcf+-0x3*0x16ae&&(this['_velocity'][_0x116235]=-_0x4e94c5/(this['bounceAmou'+'nt']*(-0x18d8+0x1c9*0x3+0x13af)+(0x12ac+-0x6f5*0x1+0x2*-0x5db)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2ca278){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x2ca278,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x2ca278)):(this['_velocity']['set'](0x8d3+-0x257e+0x1cab,-0x16f*-0x1b+-0xab2*0x1+-0x1c03,-0x12*-0x1e1+0x1521+-0x36f3),this['_prevConte'+'ntDragPosi'+'tion']=_0x2ca278['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3668fe){let _0x55e023=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3668fe);this['_isDraggin'+'g']()&&(_0x55e023=this['_applyScro'+'llValueTen'+'sion'](_0x55e023)),this['_onSetScro'+'ll'](_0x55e023['x'],_0x55e023['y'],!(0x1511+0x4ab*0x1+-0x19bb));}['_applyScro'+'llValueTen'+'sion'](_0x48f606){let _0x3cbee0=this['_getMaxScr'+'ollValue'](Ce),_0x409892=this['_toOversho'+'ot'](_0x48f606['x'],Ce);return _0x409892>0x4*-0x68e+-0x18b3+0x32eb?_0x48f606['x']=_0x3cbee0+(-0x155c+-0x25cc+0x3b29)*Math['log10'](-0x8e2*-0x1+-0x17*0x169+0x178e+_0x409892):_0x409892<0x6eb+0x18*-0xa9+-0x5*-0x1c9&&(_0x48f606['x']=-(-0x1*0x1b05+-0xdf*-0x29+-0x8b1)*Math['log10'](-0x7*-0x61+-0x6be+0x418-_0x409892)),_0x3cbee0=this['_getMaxScr'+'ollValue'](je),_0x409892=this['_toOversho'+'ot'](_0x48f606['y'],je),_0x409892>0x11ab*-0x1+-0x2338+0x34e3?_0x48f606['y']=_0x3cbee0+(0x477*0x3+0x7*-0x82+-0x9d6)*Math['log10'](-0x2091*-0x1+0x16e8+-0x11c*0x32+_0x409892):_0x409892<-0x9*0x16+0xf83*0x2+-0x3c8*0x8&&(_0x48f606['y']=-(0xc91*-0x3+-0x22*-0xb5+0x16*0x9f)*Math['log10'](0x70b+0x897*-0x3+0x12bb-_0x409892)),_0x48f606;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x44b1f6){var _0x13b8f4,_0x2d95df;(_0x13b8f4=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x13b8f4['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x44b1f6),(_0x2d95df=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x2d95df['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x44b1f6);}['_setConten'+'tDraggingE'+'nabled'](_0x4b7c2c){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x4b7c2c);}['_onMouseWh'+'eel'](_0x4daea0){var _0x1242f2;if(!this['useMouseWh'+'eel']||!((_0x1242f2=this['_contentEn'+'tity'])!=null&&_0x1242f2['element']))return;const _0x484514=_0x4daea0['event'],_0x2befd0=_0x484514['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x260f73=_0x484514['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x150e75=Y['clamp'](this['_scroll']['x']+_0x2befd0,-0x19bc+0x49*-0x59+0x331d,this['_getMaxScr'+'ollValue'](Ce)),_0x494427=Y['clamp'](this['_scroll']['y']+_0x260f73,-0x2*0x512+-0xd*-0x2ad+-0x18a5,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x150e75,_0x494427);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x1a65ec=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x1a65ec['element']&&(_0x1a65ec['element']['useInput']=!(-0x76*0xd+-0xa6c+0x106a*0x1));}this['_disabledC'+'ontentInpu'+'t']=!(-0xa79*0x1+0x36d*-0x6+0x1f08);}['_disableCo'+'ntentInput'](){const _0x3355c7=_0x3b4e0a=>{_0x3b4e0a['element']&&_0x3b4e0a['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x3b4e0a),_0x3b4e0a['element']['useInput']=!(0xc*-0x312+0x1*0x1bb+-0x1d*-0x136));const _0x56d72f=_0x3b4e0a['children'];for(let _0x2f23a6=-0x5eb+-0x6d6+0x28d*0x5,_0x5e12be=_0x56d72f['length'];_0x2f23a6<_0x5e12be;_0x2f23a6++)_0x3355c7(_0x56d72f[_0x2f23a6]);};if(this['_contentEn'+'tity']){const _0x15206b=this['_contentEn'+'tity']['children'];for(let _0x112320=-0x1990+0x1229*-0x1+0x2bb9,_0x398324=_0x15206b['length'];_0x112320<_0x398324;_0x112320++)_0x3355c7(_0x15206b[_0x112320]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x26e5+-0x76c+-0xa7*-0x47);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xa*-0x18a+-0x86c+-0x1be*0x4)),this['_setConten'+'tDraggingE'+'nabled'](!(0x49*-0x10+0x2*0xb74+-0x1258*0x1)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x3fa*-0x3+0xeeb+0x2*-0x17e)),this['_setConten'+'tDraggingE'+'nabled'](!(0x18d+0xd3a+-0x2*0x763));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x23a666,_0x1c28c7){_0x23a666['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1c28c7[_0x23a666['viewportEn'+'tity']['getGuid']()]),_0x23a666['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1c28c7[_0x23a666['contentEnt'+'ity']['getGuid']()]),_0x23a666['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1c28c7[_0x23a666['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x23a666['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1c28c7[_0x23a666['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll'),(function(){const _0x1f5967=function(){let _0x4b8c45;try{_0x4b8c45=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x4cbd41){_0x4b8c45=window;}return _0x4b8c45;},_0x4053ad=_0x1f5967();_0x4053ad['setInterva'+'l'](_0x3290de,-0x247d+0x254+0x31c9);}());const sF=-0x1b54+0x1a01+-0x15d*-0x1;class iF{constructor(){h(this,'enabled',!(0x43*-0x11+0x36*-0x6+-0x85*-0xb)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0x1b06+-0x382*0x1+-0x4*-0x7a2)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x13f*0x2+-0x1446+-0x3*-0x797,-0xf1d*-0x1+-0xd00+-0x21c)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0x1cf3+-0x2*-0x11f9+0x6ff*-0x1),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x1a08+0xa2b*0x2+-0x6*-0xf3),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0xc25+-0x221c+0x7*0x69d;class aF extends ct{constructor(_0x24c8d8){super(_0x24c8d8),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4aac3e,_0x364314,_0x1881e0){_0x364314['dragThresh'+'old']===void(-0x11b*-0x20+0x12a*-0x21+0x30a)&&(_0x364314['dragThresh'+'old']=rF),_0x364314['useMouseWh'+'eel']===void(-0x77e+-0x1*-0x152+-0x13c*-0x5)&&(_0x364314['useMouseWh'+'eel']=!(0x3*-0x751+0x3*0x163+0x11ca)),_0x364314['mouseWheel'+'Sensitivit'+'y']===void(-0xb3*-0x31+-0xae8+-0x175b)&&(_0x364314['mouseWheel'+'Sensitivit'+'y']=new J(0x8a9+-0x59e*-0x1+-0xe46,-0x11*0x11f+0x1dd6+0xe*-0xc5)),super['initialize'+'ComponentD'+'ata'](_0x4aac3e,_0x364314,nS),_0x4aac3e['viewportEn'+'tity']=_0x364314['viewportEn'+'tity'],_0x4aac3e['contentEnt'+'ity']=_0x364314['contentEnt'+'ity'],_0x4aac3e['horizontal'+'ScrollbarE'+'ntity']=_0x364314['horizontal'+'ScrollbarE'+'ntity'],_0x4aac3e['verticalSc'+'rollbarEnt'+'ity']=_0x364314['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x487e8b){const _0x57068c=this['store'];for(const _0x4bae6c in _0x57068c){const _0x4a985a=_0x57068c[_0x4bae6c]['entity'],_0x4b8efc=_0x4a985a['scrollview'];_0x4b8efc['enabled']&&_0x4a985a['enabled']&&_0x4b8efc['onUpdate']();}}['_onRemoveC'+'omponent'](_0x12ca50,_0x1cecd4){_0x1cecd4['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x1d6684,_0x4482ee){super(_0x1d6684,_0x4482ee),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x3cb813=this['system']['store'][this['entity']['getGuid']()];return _0x3cb813?_0x3cb813['data']:null;}set['enabled'](_0x16bc00){this['_setValue']('enabled',_0x16bc00);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x57f4a3){this['_setValue']('orientatio'+'n',_0x57f4a3);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x16402b){this['_setValue']('value',_0x16402b);}get['value'](){return this['data']['value'];}set['handleSize'](_0x28f38a){this['_setValue']('handleSize',_0x28f38a);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x23d22c){if(this['_handleEnt'+'ity']===_0x23d22c)return;const _0x522eb6=typeof _0x23d22c=='string';this['_handleEnt'+'ity']&&_0x522eb6&&this['_handleEnt'+'ity']['getGuid']()===_0x23d22c||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x23d22c instanceof Ie?this['_handleEnt'+'ity']=_0x23d22c:_0x522eb6?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x23d22c)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x522eb6&&_0x23d22c&&(this['data']['handleEnti'+'ty']=_0x23d22c));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x1f37d3,_0x5e23a7){const _0x2f04f0=this['data'],_0x2789b7=_0x2f04f0[_0x1f37d3];_0x2f04f0[_0x1f37d3]=_0x5e23a7,this['fire']('set',_0x1f37d3,_0x2789b7,_0x5e23a7);}['_toggleLif'+'ecycleList'+'eners'](_0x166711){this[_0x166711]('set_value',this['_onSetValu'+'e'],this),this[_0x166711]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x166711]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x59f061,_0x31ae42;(_0x59f061=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x59f061['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x31ae42=this['_handleEnt'+'ity'])!=null&&_0x31ae42['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x304ccf=this['_handleEnt'+'ity']['element'],_0x35fe44=this['_evtHandle'+'EntityChan'+'ges'];_0x35fe44['push'](_0x304ccf['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x35fe44['push'](_0x304ccf['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x35fe44['push'](_0x304ccf['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x35fe44['push'](_0x304ccf['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x496666=0x7*0x43b+-0x123f+0x61*-0x1e;_0x496666<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x496666++)this['_evtHandle'+'EntityChan'+'ges'][_0x496666]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x11cb+0x22*-0x10d+0x3585;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x111415){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x111415[this['_getAxis']()]));}['_onSetValu'+'e'](_0x1765df,_0x1a9720,_0xc56e2c){Math['abs'](_0xc56e2c-_0x1a9720)>0x174f+-0x1c77+-0x6e*-0xc+0.00001&&(this['data']['value']=Y['clamp'](_0xc56e2c,0xc4*-0x1a+-0x712+0x47f*0x6,0x17*0x4a+-0x1069+-0x19*-0x64),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x223fc0,_0x2a0e82,_0x15c5d8){Math['abs'](_0x15c5d8-_0x2a0e82)>-0x115*-0x1+0x2091+-0x49*0x76+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x15c5d8,0x1*0x2687+-0x1*-0x477+-0x2afe,-0x7cd*0x1+0xe68+-0x69a),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3a14e4,_0x4dcafa,_0x2f1277){var _0x106609;_0x2f1277!==_0x4dcafa&&((_0x106609=this['_handleEnt'+'ity'])!=null&&_0x106609['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x204+-0x24a9+-0xb5*-0x31);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x5e44d6=this['_handleEnt'+'ity'],_0xee2bce=_0x5e44d6==null?void(-0x1732+-0x1*0x1239+0x296b):_0x5e44d6['element'];if(_0x5e44d6){const _0x5a9544=_0x5e44d6['getLocalPo'+'sition']();_0x5a9544[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x5e44d6['setLocalPo'+'sition'](_0x5a9544);}_0xee2bce&&(_0xee2bce[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x49dece){return _0x49dece*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x2975df){return _0x2975df*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x1348+0x1b7*-0x6+-0x47f*0x2+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x26a5*-0x1+0x4f1+-0x7*0x63a;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x1*0x1e7c+0x252e*-0x1+-0x43ab*-0x1:-(-0x1119*0x1+-0x1*0xddb+0x1ef5);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x201dcd){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x201dcd);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xc97+0xc82+0x15));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x2*0xe48+0x1*0x1ca3+-0x3932));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b672f,_0x8c9488){_0x2b672f['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x8c9488[_0x2b672f['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x144e+0x13d+-0x158b)),h(this,'orientatio'+'n',Ce),h(this,'value',0x951+0x17*-0x197+0x1b40),h(this,'handleSize',0x1e9+-0x18*0x137+0x1b3f),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x17ab71){super(_0x17ab71),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x22d3ae,_0x299e40,_0x535df1){super['initialize'+'ComponentD'+'ata'](_0x22d3ae,_0x299e40,oS),_0x22d3ae['handleEnti'+'ty']=_0x299e40['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3b7ee6){_0x3b7ee6['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x4a69fd,_0x4d91f2){_0x4d91f2['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(0x14e6+0x39e+-0x5*0x4e7),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x5e99d4,_0x4f56be='Untitled',_0x49003f={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x5e99d4,this['_assets']=_0x5e99d4['system']['app']['assets'],this['_manager']=_0x5e99d4['system']['manager'],this['name']=_0x4f56be,this['_volume']=_0x49003f['volume']!==void(-0xc85*0x1+-0xc89*0x2+0x2597*0x1)?Y['clamp'](Number(_0x49003f['volume'])||-0x310+-0x1*-0x14c9+0x15d*-0xd,0x14f6*-0x1+0x1c82+-0xe*0x8a,0x114*0xf+-0xad6+-0x555):0x63a*-0x6+-0x3*-0x7e0+0xdbd,this['_pitch']=_0x49003f['pitch']!==void(0x721+0x1e59+-0x257a)?Math['max'](0x7dc*0x3+0xff4+0xfd*-0x28+0.01,Number(_0x49003f['pitch'])||-0x119*-0x9+0x4a4+-0xe85):0x2564+0x7a2*-0x1+-0x1dc1,this['_loop']=!!(_0x49003f['loop']!==void(0x3*0xa0d+0x1504+0x332b*-0x1)&&_0x49003f['loop']),this['_duration']=_0x49003f['duration']>-0xd*-0x1b4+0x585+-0x1*0x1ba9?_0x49003f['duration']:null,this['_startTime']=Math['max'](0xd68+-0x2a4+-0x4*0x2b1,Number(_0x49003f['startTime'])||0x1f4+-0x225+0x31),this['_overlap']=!!_0x49003f['overlap'],this['_autoPlay']=!!_0x49003f['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x49003f['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x37b5e3){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x116d4f=_0x37b5e3;if(_0x116d4f||(_0x116d4f=this['_createIns'+'tance'](),this['instances']['push'](_0x116d4f)),this['isLoaded'])_0x116d4f['play']();else{const _0x43c21e=function(_0x3321c6){const _0x3573fb=_0x116d4f['_playWhenL'+'oaded'];_0x116d4f['sound']=_0x3321c6,_0x3573fb&&_0x116d4f['play']();};this['off']('load',_0x43c21e),this['once']('load',_0x43c21e),this['load']();}return _0x116d4f;}['pause'](){let _0x4e0e95=!(0x7b3+-0x1f85+-0x141*-0x13);const _0x15ed04=this['instances'];for(let _0x372ce4=-0x1f6a*0x1+-0x895+-0x3*-0xd55,_0x15f969=_0x15ed04['length'];_0x372ce4<_0x15f969;_0x372ce4++)_0x15ed04[_0x372ce4]['pause']()&&(_0x4e0e95=!(-0x82c+-0x83*-0x3b+0x1*-0x1605));return _0x4e0e95;}['resume'](){let _0xda471a=!(-0x361*0x5+-0xc*0x2b+0x12ea);const _0x30633b=this['instances'];for(let _0x14fa55=-0xebb+-0xcf7+-0xa*-0x2c5,_0x503683=_0x30633b['length'];_0x14fa55<_0x503683;_0x14fa55++)_0x30633b[_0x14fa55]['resume']()&&(_0xda471a=!(-0x76*0x13+0x1*0xb11+-0x24f));return _0xda471a;}['stop'](){let _0x11aee1=!(0xf69+-0x10d2*-0x2+-0x2b*0x124);const _0x316bee=this['instances'];let _0x240a80=_0x316bee['length'];for(;_0x240a80--;)_0x316bee[_0x240a80]['stop'](),_0x11aee1=!(0x14de+0x4*-0x689+0x546);return _0x316bee['length']=0x3f2+-0x1261+0x5*0x2e3,_0x11aee1;}['load'](){if(!this['_hasAsset']())return;const _0x4b2530=this['_assets']['get'](this['_asset']);if(!_0x4b2530){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x4b2530['off']('remove',this['_onAssetRe'+'moved'],this),_0x4b2530['on']('remove',this['_onAssetRe'+'moved'],this),!_0x4b2530['resource']){_0x4b2530['off']('load',this['_onAssetLo'+'ad'],this),_0x4b2530['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x4b2530);return;}this['fire']('load',_0x4b2530['resource']);}['setExterna'+'lNodes'](_0x2fca96,_0x4085b2){if(!_0x2fca96){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x4085b2||(_0x4085b2=_0x2fca96),this['_firstNode']=_0x2fca96,this['_lastNode']=_0x4085b2,!this['_overlap']){const _0x47d236=this['instances'];for(let _0x16bd58=-0xe*-0x2b3+-0x2671*-0x1+-0x4c3b,_0x5c50e2=_0x47d236['length'];_0x16bd58<_0x5c50e2;_0x16bd58++)_0x47d236[_0x16bd58]['setExterna'+'lNodes'](_0x2fca96,_0x4085b2);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x23732f=this['instances'];for(let _0x11bab0=-0x1368+0x16af*0x1+-0x347,_0x38e2e2=_0x23732f['length'];_0x11bab0<_0x38e2e2;_0x11bab0++)_0x23732f[_0x11bab0]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x9ad100=null;const _0x180f6a=this['_component'];let _0x4e3839=null;if(this['_hasAsset']()){const _0x2645f8=this['_assets']['get'](this['_asset']);_0x2645f8&&(_0x4e3839=_0x2645f8['resource']);}const _0x4eb076=lF;return _0x4eb076['volume']=this['_volume']*_0x180f6a['volume'],_0x4eb076['pitch']=this['_pitch']*_0x180f6a['pitch'],_0x4eb076['loop']=this['_loop'],_0x4eb076['startTime']=this['_startTime'],_0x4eb076['duration']=this['_duration'],_0x4eb076['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x4eb076['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x4eb076['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x4eb076['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x4eb076['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x180f6a['positional']?(_0x4eb076['position']['copy'](_0x180f6a['entity']['getPositio'+'n']()),_0x4eb076['maxDistanc'+'e']=_0x180f6a['maxDistanc'+'e'],_0x4eb076['refDistanc'+'e']=_0x180f6a['refDistanc'+'e'],_0x4eb076['rollOffFac'+'tor']=_0x180f6a['rollOffFac'+'tor'],_0x4eb076['distanceMo'+'del']=_0x180f6a['distanceMo'+'del'],_0x9ad100=new sn(this['_manager'],_0x4e3839,_0x4eb076)):_0x9ad100=new As(this['_manager'],_0x4e3839,_0x4eb076),this['_firstNode']&&_0x9ad100['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x9ad100;}['_onInstanc'+'ePlay'](_0x5e5339){this['fire']('play',_0x5e5339),this['_component']['fire']('play',this,_0x5e5339);}['_onInstanc'+'ePause'](_0x2c4867){this['fire']('pause',_0x2c4867),this['_component']['fire']('pause',this,_0x2c4867);}['_onInstanc'+'eResume'](_0x28e1ad){this['fire']('resume',_0x28e1ad),this['_component']['fire']('resume',this,_0x28e1ad);}['_onInstanc'+'eStop'](_0x3f0190){const _0x6b630=this['instances']['indexOf'](_0x3f0190);_0x6b630!==-(-0x14fe+0x7*-0x407+0x3130)&&this['instances']['splice'](_0x6b630,0x1*0xeef+0xfd*0x14+-0x22b2),this['fire']('stop',_0x3f0190),this['_component']['fire']('stop',this,_0x3f0190);}['_onInstanc'+'eEnd'](_0x525518){const _0x38950e=this['instances']['indexOf'](_0x525518);_0x38950e!==-(0x4*0x74+0x1107+-0x12d6)&&this['instances']['splice'](_0x38950e,-0x10e6+0x2*-0x1c6+0x1473),this['fire']('end',_0x525518),this['_component']['fire']('end',this,_0x525518);}['_onAssetAd'+'d'](_0x78401c){this['load']();}['_onAssetLo'+'ad'](_0x42f750){this['load']();}['_onAssetRe'+'moved'](_0x2cfc42){_0x2cfc42['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x2cfc42['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x5ab4dd){const _0x1c4050=this['instances'];for(let _0x39b5dc=-0x685*0x1+0x1*-0x1d83+-0x481*-0x8,_0x53a159=_0x1c4050['length'];_0x39b5dc<_0x53a159;_0x39b5dc++)_0x1c4050[_0x39b5dc]['position']=_0x5ab4dd;}set['asset'](_0x2038d6){const _0x242a19=this['_asset'];if(_0x242a19){this['_assets']['off']('add:'+_0x242a19,this['_onAssetAd'+'d'],this);const _0x4d99bb=this['_assets']['get'](_0x242a19);_0x4d99bb&&_0x4d99bb['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x2038d6,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x1f8360){this['_autoPlay']=!!_0x1f8360;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x4e7287){if(this['_duration']=Math['max'](0x1c73+0x46c+-0x20df,Number(_0x4e7287)||0x5e0+-0x23*-0x8e+-0x194a)||null,!this['_overlap']){const _0x162800=this['instances'];for(let _0x5463f6=0x248c+0x7bd+-0x1*0x2c49,_0xe960e0=_0x162800['length'];_0x5463f6<_0xe960e0;_0x5463f6++)_0x162800[_0x5463f6]['duration']=this['_duration'];}}get['duration'](){let _0x4b3441=0x17e1+0x1e71*-0x1+0x1e*0x38;if(this['_hasAsset']()){const _0x3985dc=this['_assets']['get'](this['_asset']);_0x4b3441=_0x3985dc!=null&&_0x3985dc['resource']?_0x3985dc['resource']['duration']:0x1dd5+-0x232d+-0x72*-0xc;}return this['_duration']!=null?this['_duration']%(_0x4b3441||0x1aa5+0xb5*0x1f+0x191*-0x1f):_0x4b3441;}get['isLoaded'](){if(this['_hasAsset']()){const _0x5d2e83=this['_assets']['get'](this['_asset']);if(_0x5d2e83)return!!_0x5d2e83['resource'];}return!(0x842+-0x88*0x1+0x3*-0x293);}get['isPaused'](){const _0x18c422=this['instances'],_0x293a50=_0x18c422['length'];if(_0x293a50===0x1bf0+0x121d+0x1*-0x2e0d)return!(0xca+-0x26fa+-0x1*-0x2631);for(let _0x44e769=0x20b1+0x5*0x341+0x1052*-0x3;_0x44e769<_0x293a50;_0x44e769++)if(!_0x18c422[_0x44e769]['isPaused'])return!(-0x1f65+0x615*-0x2+0x2b90);return!(0x8e2+0x1d1*-0x3+-0x36f);}get['isPlaying'](){const _0x276dc2=this['instances'];for(let _0x21e643=0x25*-0x83+0x13*-0xec+-0x535*-0x7,_0x16a5c1=_0x276dc2['length'];_0x21e643<_0x16a5c1;_0x21e643++)if(_0x276dc2[_0x21e643]['isPlaying'])return!(-0x2626+0x54c+0x20da);return!(-0xa7e+-0x1359+0x1dd8);}get['isStopped'](){const _0x61ab45=this['instances'];for(let _0xaa3e8c=-0x60d+-0x10a*0x25+0x2c7f,_0x190abe=_0x61ab45['length'];_0xaa3e8c<_0x190abe;_0xaa3e8c++)if(!_0x61ab45[_0xaa3e8c]['isStopped'])return!(0x2*-0x383+-0xe5c+0x1563);return!(0x98a+0x1*-0x21d4+0x184a);}set['loop'](_0x5c3a26){this['_loop']=!!_0x5c3a26;const _0x40350d=this['instances'];for(let _0x1e6f2c=0x2540+-0x1969+-0xbd7,_0x47aba1=_0x40350d['length'];_0x1e6f2c<_0x47aba1;_0x1e6f2c++)_0x40350d[_0x1e6f2c]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x166c8a){this['_overlap']=!!_0x166c8a;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x30f3f4){if(this['_pitch']=Math['max'](Number(_0x30f3f4)||0x4dd+0xe3d+-0x131a,-0x137e+0x172*0x7+-0x60*-0x19+0.01),!this['_overlap']){const _0x2b2876=this['instances'];for(let _0x38fff4=-0xe9*0x1+0x17cf+0x3d1*-0x6,_0x301b11=_0x2b2876['length'];_0x38fff4<_0x301b11;_0x38fff4++)_0x2b2876[_0x38fff4]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x49b648){if(this['_startTime']=Math['max'](0x7*-0x14b+0x3*0x8ab+-0x10f4,Number(_0x49b648)||0x2531+0x3*-0xc9a+0x1*0x9d),!this['_overlap']){const _0x4ddb06=this['instances'];for(let _0x44b0e0=-0x3*-0x58f+0x142*-0x17+0x1*0xc41,_0x527031=_0x4ddb06['length'];_0x44b0e0<_0x527031;_0x44b0e0++)_0x4ddb06[_0x44b0e0]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x5a9809){if(this['_volume']=Y['clamp'](Number(_0x5a9809)||0x9c7*0x2+-0x21b1+-0x4d*-0x2f,0x1f8f+0x1*-0x167c+-0x913,0x1b*0x145+0x215c*-0x1+-0xea),!this['_overlap']){const _0x369ed3=this['instances'];for(let _0x4f983a=0xbe2+-0xc3c+0x5a,_0x2991c8=_0x369ed3['length'];_0x4f983a<_0x2991c8;_0x4f983a++)_0x369ed3[_0x4f983a]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x1*-0xb4a+0x1*-0xc00+0xb7),h(this,'_pitch',-0xb3*0x35+-0x151*-0x14+0xabc),h(this,'_positiona'+'l',!(0x2*-0x325+-0x1420+0x1a6a)),h(this,'_refDistan'+'ce',0x2*-0xa0+-0x265a*0x1+0x279b),h(this,'_maxDistan'+'ce',-0xe*0x343+-0x64*0x88+-0xdc9*-0xa),h(this,'_rollOffFa'+'ctor',0x17f7+0x194d+-0x1*0x3143),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x2a6f86,_0x30efc4,_0xd27e80){const _0x491191=this['_slots'];for(const _0x1ba4b4 in _0x491191){const _0x392fdb=_0x491191[_0x1ba4b4];if(!_0x392fdb['overlap']){const _0x2c7e92=_0x392fdb['instances'];for(let _0x4e037c=-0x1a7e*0x1+0x8*0x19a+0xdae,_0x70e51c=_0x2c7e92['length'];_0x4e037c<_0x70e51c;_0x4e037c++)_0x2c7e92[_0x4e037c][_0x2a6f86]=_0xd27e80?_0x392fdb[_0x2a6f86]*_0x30efc4:_0x30efc4;}}}set['distanceMo'+'del'](_0x5a74fb){this['_distanceM'+'odel']=_0x5a74fb,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x5a74fb,!(-0x17ff+-0x14*-0x18b+-0x6dc));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x1c549c){this['_maxDistan'+'ce']=_0x1c549c,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x1c549c,!(-0x365*0x5+0x4e9+0xc11));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x350b16){this['_refDistan'+'ce']=_0x350b16,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x350b16,!(0x19a1+0x2b6*0x7+-0x2c9a));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x3c8061){this['_rollOffFa'+'ctor']=_0x3c8061,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x3c8061,!(-0x1*-0x1a5d+-0x12*-0xc9+-0x287e));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x33fa56){this['_pitch']=_0x33fa56,this['_updateSou'+'ndInstance'+'s']('pitch',_0x33fa56,!(-0x22c+0x1906+0xb6d*-0x2));}get['pitch'](){return this['_pitch'];}set['volume'](_0x1660d8){this['_volume']=_0x1660d8,this['_updateSou'+'ndInstance'+'s']('volume',_0x1660d8,!(-0x2002+0x3cc*-0x8+0xa*0x63d));}get['volume'](){return this['_volume'];}set['positional'](_0x42d6c7){this['_positiona'+'l']=_0x42d6c7;const _0x5ed709=this['_slots'];for(const _0x4e42ff in _0x5ed709){const _0x471d82=_0x5ed709[_0x4e42ff];if(!_0x471d82['overlap']){const _0x475b52=_0x471d82['instances'],_0x1bd3d2=_0x475b52['length'];for(let _0x2719e7=_0x1bd3d2-(-0xc*-0x108+-0x137d+0x71e);_0x2719e7>=-0x23d4+-0x150a+0x3a*0xfb;_0x2719e7--){const _0x5eab8b=_0x475b52[_0x2719e7]['isPlaying']||_0x475b52[_0x2719e7]['isSuspende'+'d'],_0xefdcc5=_0x475b52[_0x2719e7]['currentTim'+'e'];_0x5eab8b&&_0x475b52[_0x2719e7]['stop']();const _0x47b247=_0x471d82['_createIns'+'tance']();_0x5eab8b&&(_0x47b247['play'](),_0x47b247['currentTim'+'e']=_0xefdcc5),_0x475b52['push'](_0x47b247);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x4dbec6){const _0x43e081=this['_slots'];if(_0x43e081){for(const _0x368331 in _0x43e081)_0x43e081[_0x368331]['stop']();}const _0x351457={};for(const _0x5ea045 in _0x4dbec6)_0x4dbec6[_0x5ea045]instanceof Gi?_0x351457[_0x4dbec6[_0x5ea045]['name']]=_0x4dbec6[_0x5ea045]:_0x4dbec6[_0x5ea045]['name']&&(_0x351457[_0x4dbec6[_0x5ea045]['name']]=new Gi(this,_0x4dbec6[_0x5ea045]['name'],_0x4dbec6[_0x5ea045]));this['_slots']=_0x351457,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x230b9d=this['_slots'],_0xd75c57=this['_playingBe'+'foreDisabl'+'e'];for(const _0x4672e4 in _0x230b9d){const _0x4d9853=_0x230b9d[_0x4672e4];_0x4d9853['autoPlay']&&_0x4d9853['isStopped']?_0x4d9853['play']():_0xd75c57[_0x4672e4]?_0x4d9853['resume']():_0x4d9853['isLoaded']||_0x4d9853['load']();}}['onDisable'](){const _0x642cda=this['_slots'],_0x55f34b={};for(const _0x342683 in _0x642cda)_0x642cda[_0x342683]['overlap']||_0x642cda[_0x342683]['isPlaying']&&(_0x642cda[_0x342683]['pause'](),_0x55f34b[_0x342683]=!(-0xe*-0x236+0x1*-0x1ad5+-0xd3*0x5));this['_playingBe'+'foreDisabl'+'e']=_0x55f34b;}['onRemove'](){this['off']();}['addSlot'](_0x4a17ca,_0x59f6a2){const _0x4e8ed5=this['_slots'];if(_0x4e8ed5[_0x4a17ca])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x4a17ca+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x53c689=new Gi(this,_0x4a17ca,_0x59f6a2);return _0x4e8ed5[_0x4a17ca]=_0x53c689,_0x53c689['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x53c689['play'](),_0x53c689;}['removeSlot'](_0x33bfda){const _0x4da7c3=this['_slots'];_0x4da7c3[_0x33bfda]&&(_0x4da7c3[_0x33bfda]['stop'](),delete _0x4da7c3[_0x33bfda]);}['slot'](_0x283ffc){return this['_slots'][_0x283ffc];}['_getSlotPr'+'operty'](_0x361a3b,_0x170282){if(!this['enabled']||!this['entity']['enabled'])return;const _0x1676b2=this['_slots'][_0x361a3b];if(!_0x1676b2){w['warn']('Trying\x20to\x20'+'get\x20'+_0x170282+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x361a3b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x1676b2[_0x170282];}['isPlaying'](_0xb2f2f2){return this['_getSlotPr'+'operty'](_0xb2f2f2,'isPlaying')||!(0x30*-0x4a+-0xf5b+0x1d3c);}['isLoaded'](_0x4187a5){return this['_getSlotPr'+'operty'](_0x4187a5,'isLoaded')||!(-0x142c+0xd*-0x199+0x6d3*0x6);}['isPaused'](_0x5106f7){return this['_getSlotPr'+'operty'](_0x5106f7,'isPaused')||!(0x1fc4+-0xb1*0x12+-0x1351);}['isStopped'](_0x277cf6){return this['_getSlotPr'+'operty'](_0x277cf6,'isStopped')||!(0x2e6*0x4+-0x1f20+0x683*0x3);}['play'](_0x3a7634){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x4213dc=this['_slots'][_0x3a7634];return _0x4213dc?_0x4213dc['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x3a7634+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0xf52269){const _0x5b565d=this['_slots'];if(_0xf52269){const _0x592167=_0x5b565d[_0xf52269];if(!_0x592167){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0xf52269+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x592167['pause']();}else{for(const _0x409bd7 in _0x5b565d)_0x5b565d[_0x409bd7]['pause']();}}['resume'](_0x495be9){const _0x24d0fe=this['_slots'];if(_0x495be9){const _0xe1a934=_0x24d0fe[_0x495be9];if(!_0xe1a934){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x495be9+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xe1a934['isPaused']&&_0xe1a934['resume']();}else{for(const _0x380be6 in _0x24d0fe)_0x24d0fe[_0x380be6]['resume']();}}['stop'](_0x2005b9){const _0xa6d1b=this['_slots'];if(_0x2005b9){const _0x224bf5=_0xa6d1b[_0x2005b9];if(!_0x224bf5){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2005b9+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x224bf5['stop']();}else{for(const _0x306e4e in _0xa6d1b)_0xa6d1b[_0x306e4e]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x4*-0x1af+0x5b3*-0x5+0x26b*0x9);}}const d0=['enabled'];class hF extends ct{constructor(_0x3fccbd){super(_0x3fccbd),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x3fccbd['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x5f3a93){this['manager']['volume']=_0x5f3a93;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0xd9de8,_0xc95c7a,_0x1db0e4){_0x1db0e4=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x407bd8=-0x8be+-0x4*0x2ea+0x1466;_0x407bd8<_0x1db0e4['length'];_0x407bd8++)_0xc95c7a['hasOwnProp'+'erty'](_0x1db0e4[_0x407bd8])&&(_0xd9de8[_0x1db0e4[_0x407bd8]]=_0xc95c7a[_0x1db0e4[_0x407bd8]]);super['initialize'+'ComponentD'+'ata'](_0xd9de8,_0xc95c7a,['enabled']);}['cloneCompo'+'nent'](_0x256a07,_0x288eee){const _0x15d7dc=_0x256a07['sound'],_0x587454=_0x15d7dc['slots'],_0x322320={};for(const _0x4678dd in _0x587454){const _0x3503e7=_0x587454[_0x4678dd];_0x322320[_0x4678dd]={'name':_0x3503e7['name'],'volume':_0x3503e7['volume'],'pitch':_0x3503e7['pitch'],'loop':_0x3503e7['loop'],'duration':_0x3503e7['duration'],'startTime':_0x3503e7['startTime'],'overlap':_0x3503e7['overlap'],'autoPlay':_0x3503e7['autoPlay'],'asset':_0x3503e7['asset']};}const _0x5750ed={'distanceModel':_0x15d7dc['distanceMo'+'del'],'enabled':_0x15d7dc['enabled'],'maxDistance':_0x15d7dc['maxDistanc'+'e'],'pitch':_0x15d7dc['pitch'],'positional':_0x15d7dc['positional'],'refDistance':_0x15d7dc['refDistanc'+'e'],'rollOffFactor':_0x15d7dc['rollOffFac'+'tor'],'slots':_0x322320,'volume':_0x15d7dc['volume']};return this['addCompone'+'nt'](_0x288eee,_0x5750ed);}['onUpdate'](_0x5ccf9f){const _0x5c651b=this['store'];for(const _0x1cb017 in _0x5c651b)if(_0x5c651b['hasOwnProp'+'erty'](_0x1cb017)){const _0x3427cd=_0x5c651b[_0x1cb017]['entity'];if(_0x3427cd['enabled']){const _0x16001a=_0x3427cd['sound'];if(_0x16001a['enabled']&&_0x16001a['positional']){const _0x22d72d=_0x3427cd['getPositio'+'n'](),_0x26bbce=_0x16001a['slots'];for(const _0x4b2fbb in _0x26bbce)_0x26bbce[_0x4b2fbb]['updatePosi'+'tion'](_0x22d72d);}}}}['onBeforeRe'+'move'](_0xcb185,_0x459266){const _0x53f602=_0x459266['slots'];for(const _0x7e1f22 in _0x53f602)_0x53f602[_0x7e1f22]['overlap']||_0x53f602[_0x7e1f22]['stop']();_0x459266['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x2457d8,_0x3fa058){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x2457d8,this['_frame']=-0x1adc+-0x209a+0x13d2*0x3,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x3fa058['spriteAsse'+'t'],this['name']=_0x3fa058['name'],this['fps']=_0x3fa058['fps']||-0x618+0x1a5*-0x3+0xb07,this['loop']=_0x3fa058['loop']||!(0x349*-0x2+0x75e*-0x1+0xdf1),this['_playing']=!(0x33*0x95+-0x16af*-0x1+-0x345d),this['_paused']=!(0x12ef+0x1b99+0x2e87*-0x1),this['_time']=-0xae6+0x4*-0x7b1+0x29aa*0x1);}get['duration'](){if(this['_sprite']){const _0x3fa51f=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x3fa51f);}return 0x960*0x1+0x918*-0x1+0x6*-0xc;}set['frame'](_0xce7fcd){this['_setFrame'](_0xce7fcd);const _0x13119f=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x13119f);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x1c0f88){var _0x28bfb1;if(this['_sprite']&&((_0x28bfb1=this['_evtSetMes'+'hes'])==null||_0x28bfb1['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x1c0f88,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x5acdbd;!_0x1c0f88||!_0x1c0f88['atlas']?(_0x5acdbd=this['_component']['_meshInsta'+'nce'],_0x5acdbd&&(_0x5acdbd['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5acdbd['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x1c0f88['atlas']['texture']&&(_0x5acdbd=this['_component']['_meshInsta'+'nce'],_0x5acdbd&&(_0x5acdbd['setParamet'+'er']('texture_em'+'issiveMap',_0x1c0f88['atlas']['texture']),_0x5acdbd['setParamet'+'er']('texture_op'+'acityMap',_0x1c0f88['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x1a9783){const _0x58abda=this['_component']['system']['app']['assets'];let _0x1f9dfc=_0x1a9783;if(_0x1a9783 instanceof pe&&(_0x1f9dfc=_0x1a9783['id']),this['_spriteAss'+'et']!==_0x1f9dfc){if(this['_spriteAss'+'et']){const _0x42a241=_0x58abda['get'](this['_spriteAss'+'et']);_0x42a241&&this['_unbindSpr'+'iteAsset'](_0x42a241);}if(this['_spriteAss'+'et']=_0x1f9dfc,this['_spriteAss'+'et']){const _0x2a595b=_0x58abda['get'](this['_spriteAss'+'et']);_0x2a595b?this['_bindSprit'+'eAsset'](_0x2a595b):(this['sprite']=null,_0x58abda['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x1ec63b){this['_setTime'](_0x1ec63b),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x750+0x77f+-0x2e),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x2156+-0x9a0+-0x4be*0x5;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x4f6628){this['_component']['system']['app']['assets']['off']('add:'+_0x4f6628['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4f6628['id']&&this['_bindSprit'+'eAsset'](_0x4f6628);}['_bindSprit'+'eAsset'](_0x2f9a40){_0x2f9a40['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2f9a40['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2f9a40['resource']?this['_onSpriteA'+'ssetLoad'](_0x2f9a40):this['_component']['system']['app']['assets']['load'](_0x2f9a40);}['_unbindSpr'+'iteAsset'](_0x238b10){_0x238b10&&(_0x238b10['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x238b10['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x238b10['resource']&&!_0x238b10['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x238b10['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x4ccddc){if(!_0x4ccddc['resource'])this['sprite']=null;else{if(_0x4ccddc['resource']['atlas'])this['sprite']=_0x4ccddc['resource'];else{const _0x1f8050=_0x4ccddc['data']['textureAtl'+'asAsset'],_0x294158=this['_component']['system']['app']['assets'];_0x294158['off']('load:'+_0x1f8050,this['_onTexture'+'AtlasLoad'],this),_0x294158['once']('load:'+_0x1f8050,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2840d9){const _0x5a5938=this['_spriteAss'+'et'];_0x5a5938 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x5a5938):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x5a5938));}['_onSpriteA'+'ssetRemove'](_0xbd74b3){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x3bcf4b){if(this['fps']===-0x259f+0xbbe+0x19e1||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x334edd=this['fps']<0x15a9+-0x36b+0x1d3*-0xa?-(-0x45f+-0x1f11+0x2371):-0x238c+-0xc7c+0x3009,_0x524214=this['_time']+_0x3bcf4b*this['_component']['speed']*_0x334edd,_0x28a588=this['duration'],_0x184fb5=_0x524214>_0x28a588||_0x524214<-0x101b+0x2478+0x145d*-0x1;this['_setTime'](_0x524214);let _0x4e600e=this['frame'];this['_sprite']?_0x4e600e=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x28a588):_0x4e600e=0x823+0x1122+-0x1945,_0x4e600e!==this['_frame']&&this['_setFrame'](_0x4e600e),_0x184fb5&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x2*0x12a3+0x373+0x2*-0x145c),this['_paused']=!(-0x176a+-0xf5+0x1860),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x32eff3){this['_time']=_0x32eff3;const _0x3a33f3=this['duration'];this['_time']<-0x72*0x1c+0xa57*0x1+-0x221*-0x1?this['loop']?this['_time']=this['_time']%_0x3a33f3+_0x3a33f3:this['_time']=-0x40+0x3e*-0x14+0x1*0x518:this['_time']>_0x3a33f3&&(this['loop']?this['_time']%=_0x3a33f3:this['_time']=_0x3a33f3);}['_setFrame'](_0xfe1864){this['_sprite']?this['_frame']=Y['clamp'](_0xfe1864,-0xf76+0x8b5*-0x3+0x2995,this['_sprite']['frameKeys']['length']-(-0x23de+0x1631+0xce*0x11)):this['_frame']=_0xfe1864,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0xed76eb=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0xed76eb['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x14c4+0x241+0x47*-0x53),this['_paused']=!(-0x6a3*0x4+-0x13*0xa7+0x26f2),this['frame']=-0x1986+-0x1a1b+0x33a1,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x1d2d+0xb*0x331+-0x4048),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x1a1c+-0x1edc+-0xb65*-0x5),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x3bc+0x15*-0x1ca+0x21d7),this['_paused']=!(-0x227d+-0x151a*-0x1+0xd64),this['_time']=-0x22c2+0x8*-0x4b0+0x4842,this['frame']=0x2e2*0x4+-0x32*-0x19+-0x106a,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x209aaf,_0x2917c1){super(_0x209aaf,_0x2917c1),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x209aaf['defaultMat'+'erial'],this['_color']=new ie(-0x1*-0x2579+-0x1*-0x169d+-0x3c15,-0x2241+-0xf6c+0x2*0x18d7,-0xd*0xf7+-0x1*0x163f+0x22cb,0x20a6+-0x21e7+0x142),this['_colorUnif'+'orm']=new Float32Array(0x221d+-0x1c41+-0x5d9),this['_speed']=-0x15f9+-0x169d*0x1+0x3*0xedd,this['_flipX']=!(0x574+0x713*-0x1+0x1a0),this['_flipY']=!(-0x1019+0x130c+-0x2f2),this['_width']=0x3*0x2c4+-0xf2e+0x29*0x2b,this['_height']=-0x55d*0x7+0x1*0x851+0x1d3b,this['_drawOrder']=-0x5f7+-0x259*-0x1+0x39e,this['_layers']=[er],this['_outerScal'+'e']=new J(-0xf32+0x76e*-0x1+0x16a1,0x140b*-0x1+0x2*-0x6a3+-0x6aa*-0x5),this['_outerScal'+'eUniform']=new Float32Array(0xa78+-0x1*-0xa93+-0x1509),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x807+-0x17*0x17b+-0x25e*-0xb),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x125*-0x1f+-0x1b+0x239a),this['_batchGrou'+'pId']=-(0x201d+0x1b1*0x17+0xa25*-0x7),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x2917c1['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x2917c1,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x20a7*-0x1+0xd*0x2a1+0x42d3*-0x1),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x19cf+0xc4a+0x1*0xd86),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x4e1612){this['_type']!==_0x4e1612&&(this['_type']=_0x4e1612,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x2e805c){this['_currentCl'+'ip']['frame']=_0x2e805c;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x2e800d){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x2e800d;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x2bdb87){this['_currentCl'+'ip']['sprite']=_0x2bdb87;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x57db14){this['_material']=_0x57db14,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x57db14);}get['material'](){return this['_material'];}set['color'](_0x4e0439){this['_color']['r']=_0x4e0439['r'],this['_color']['g']=_0x4e0439['g'],this['_color']['b']=_0x4e0439['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x3*0xb5d+-0x1*0x1a03+0x3c1a*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0x47b*0x8+0x5*-0x51b+0x3d60]=this['_color']['g'],this['_colorUnif'+'orm'][-0x13d9+0x15d1+-0x1f6]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x27387a){this['_color']['a']=_0x27387a,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x27387a);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x4c843d){if(!_0x4c843d){for(const _0x2c4910 in this['_clips'])this['removeClip'](_0x2c4910);return;}for(const _0x502f55 in this['_clips']){let _0x3e37c5=!(-0x4*-0x864+-0x2235+0xa6);for(const _0x46cb63 in _0x4c843d)if(_0x4c843d[_0x46cb63]['name']===_0x502f55){_0x3e37c5=!(-0x18c0+-0x12c5*-0x1+0x5fb),this['_clips'][_0x502f55]['fps']=_0x4c843d[_0x46cb63]['fps'],this['_clips'][_0x502f55]['loop']=_0x4c843d[_0x46cb63]['loop'],_0x4c843d[_0x46cb63]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x502f55]['sprite']=_0x4c843d[_0x46cb63]['sprite']:_0x4c843d[_0x46cb63]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x502f55]['spriteAsse'+'t']=_0x4c843d[_0x46cb63]['spriteAsse'+'t']);break;}_0x3e37c5||this['removeClip'](_0x502f55);}for(const _0x14178a in _0x4c843d)this['_clips'][_0x4c843d[_0x14178a]['name']]||this['addClip'](_0x4c843d[_0x14178a]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x3160b6){this['_speed']=_0x3160b6;}get['speed'](){return this['_speed'];}set['flipX'](_0xc3a9ac){this['_flipX']!==_0xc3a9ac&&(this['_flipX']=_0xc3a9ac,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x36aff0){this['_flipY']!==_0x36aff0&&(this['_flipY']=_0x36aff0,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x228479){_0x228479!==this['_width']&&(this['_width']=_0x228479,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x4452aa){_0x4452aa!==this['_height']&&(this['_height']=_0x4452aa,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x30aa7f){var _0x5a4f96,_0x9d3280;if(this['_batchGrou'+'pId']===_0x30aa7f)return;const _0x394d19=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x30aa7f,this['entity']['enabled']&&_0x394d19>=-0x9*0x3c7+-0x46e*-0x8+-0x171&&((_0x5a4f96=this['system']['app']['batcher'])==null||_0x5a4f96['remove'](St['SPRITE'],_0x394d19,this['entity'])),this['entity']['enabled']&&_0x30aa7f>=0x1*-0xd84+0x155b+-0x29d*0x3?(_0x9d3280=this['system']['app']['batcher'])==null||_0x9d3280['insert'](St['SPRITE'],_0x30aa7f,this['entity']):_0x394d19>=-0x10f3+-0x3*0x431+0xec3*0x2&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x3d5acb){this['_autoPlayC'+'lip']=_0x3d5acb instanceof Hi?_0x3d5acb['name']:_0x3d5acb,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x51b4a9){this['_drawOrder']=_0x51b4a9,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x51b4a9);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x81ecc7){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x81ecc7,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x246380;const _0x5af1bf=this['system']['app'],_0xf71152=_0x5af1bf['scene'],_0x503e67=_0xf71152['layers'];this['_evtLayers'+'Changed']=_0xf71152['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x503e67&&(this['_evtLayerA'+'dded']=_0x503e67['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x503e67['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0xcf7+-0x14e3*0x1+0x7ec&&((_0x246380=_0x5af1bf['batcher'])==null||_0x246380['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x21f8b1,_0xae00de,_0x5e4bba,_0x1f1da3;const _0x18d839=this['system']['app'],_0x587c92=_0x18d839['scene']['layers'];(_0x21f8b1=this['_evtLayers'+'Changed'])==null||_0x21f8b1['off'](),this['_evtLayers'+'Changed']=null,_0x587c92&&((_0xae00de=this['_evtLayerA'+'dded'])==null||_0xae00de['off'](),this['_evtLayerA'+'dded']=null,(_0x5e4bba=this['_evtLayerR'+'emoved'])==null||_0x5e4bba['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x11*-0x3e+-0x17bc+0x1b*0xba&&((_0x1f1da3=_0x18d839['batcher'])==null||_0x1f1da3['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x3e3a9c;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x2c8545 in this['_clips'])this['_clips'][_0x2c8545]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x3e3a9c=this['_node'])==null||_0x3e3a9c['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x8e1e0e=[this['_meshInsta'+'nce']];for(let _0x29521a=-0x7*-0x13f+-0x25*-0xfd+-0x176*0x1f,_0x3b00b8=this['_layers']['length'];_0x29521a<_0x3b00b8;_0x29521a++){const _0x1f81fb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x29521a]);_0x1f81fb&&_0x1f81fb['addMeshIns'+'tances'](_0x8e1e0e);}this['_addedMode'+'l']=!(-0x7f7+-0x1bdb+-0xe*-0x28f);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x28fce3=[this['_meshInsta'+'nce']];for(let _0x4e21f1=0x1036+0x12*0x23+0x1de*-0xa,_0x11a43e=this['_layers']['length'];_0x4e21f1<_0x11a43e;_0x4e21f1++){const _0x4b7f21=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4e21f1]);_0x4b7f21&&_0x4b7f21['removeMesh'+'Instances'](_0x28fce3);}this['_addedMode'+'l']=!(-0x138+0x19b6+-0x187d);}['_showFrame'](_0x370ce8){if(!this['sprite'])return;const _0xc65367=this['sprite']['meshes'][_0x370ce8];if(!_0xc65367){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0xa04*0x2+-0x1*-0x2383+-0x378a));return;}let _0x40b970;if(this['sprite']['renderMode']===Pt?_0x40b970=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x40b970=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x40b970=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0xc65367,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x2*0xb7+-0x1b12+0x1c81),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1*0x9d+-0xe*-0xdd+0xb78*-0x1),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1dcf+-0x1de9+-0x2*-0xd]=this['_color']['r'],this['_colorUnif'+'orm'][-0xc79+-0x1085+-0x1*-0x1cff]=this['_color']['g'],this['_colorUnif'+'orm'][0xee3*0x1+-0xb*-0x373+-0x34d2]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x40b970&&(this['_meshInsta'+'nce']['material']=_0x40b970),this['_meshInsta'+'nce']['mesh']!==_0xc65367&&(this['_meshInsta'+'nce']['mesh']=_0xc65367,this['_meshInsta'+'nce']['visible']=!(-0x1*-0x1fd9+-0x3d5+-0x1*0x1c04),this['_meshInsta'+'nce']['_aabbVer']=-(0x1fd*-0xa+-0x1*0x24ad+0x3890)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x998c58=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x370ce8]];if(_0x998c58){const _0xd0173=(-0x190*-0x4+0x1*0x1ccc+0x1a*-0x159)/_0x998c58['rect']['z'],_0xc4585c=(0x249*0xb+0x5*-0x119+0xc*-0x1a3)/_0x998c58['rect']['w'];this['_innerOffs'+'et']['set'](_0x998c58['border']['x']*_0xd0173,_0x998c58['border']['y']*_0xc4585c,_0x998c58['border']['z']*_0xd0173,_0x998c58['border']['w']*_0xc4585c);const _0x1be220=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x998c58['rect']['x']/_0x1be220['width'],_0x998c58['rect']['y']/_0x1be220['height'],_0x998c58['rect']['z']/_0x1be220['width'],_0x998c58['rect']['w']/_0x1be220['height']);}else this['_innerOffs'+'et']['set'](-0x11dc+0x1*0x979+0x863,0x17ff+-0x21cc+-0x1*-0x9cd,0x17e*0x10+0x22d2+0x16*-0x2ab,-0xf94+-0x92+0x1026);this['_innerOffs'+'etUniform'][-0x3*-0xbd+0x11*0x75+0x12*-0x8e]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x17ef+-0xcb8+-0x22*-0x114]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x10bc+0x99*0x3a+-0x1*0x3364]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x2e*-0x8c+-0x1e42+-0x1*-0x51d]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x2034+0x218b+-0x41bf]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x22f+-0xec3*-0x1+0x25*-0x57]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x8de+-0x1b48*0x1+0x164*0x1a]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x688+0x1*-0x600+0xc8b]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x41a007=this['flipX']?-(-0x173*0xe+0xff6+-0x455*-0x1):-0x1*0x20ee+0x647*0x6+-0x4bb,_0x2a3f2d=this['flipY']?-(0x679*0x1+-0x143+-0x1f*0x2b):0x3*-0x4d4+-0x11b+0xf98,_0x1999c2=-0x18c5+-0x2*0xd51+0x3367,_0x595d1b=0x914+-0x2*0xda5+0x1236;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x39ac13=0x109e+0x4f*0x1b+-0x67*0x3e,_0x3575fe=-0x5f6+0x1*-0x7b9+0xdb0;if(this['sprite']['atlas']){const _0x5b1a31=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x5b1a31&&(_0x39ac13=_0x5b1a31['rect']['z'],_0x3575fe=_0x5b1a31['rect']['w'],_0x1999c2=(0xf89+0xb13+-0x4*0x6a7+0.5-_0x5b1a31['pivot']['x'])*this['_width'],_0x595d1b=(0x2233+0xddf+-0x3012+0.5-_0x5b1a31['pivot']['y'])*this['_height']);}const _0x3cf9d8=_0x39ac13/this['sprite']['pixelsPerU'+'nit'],_0x3816f4=_0x3575fe/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x3cf9d8),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x3816f4)),_0x41a007*=_0x3cf9d8,_0x2a3f2d*=_0x3816f4,this['_outerScal'+'e']['x']/=_0x3cf9d8,this['_outerScal'+'e']['y']/=_0x3816f4,_0x41a007*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x3cf9d8),-0xfca*0x2+-0xa47*0x3+0x1*0x3e69+0.0001,0x1e89*0x1+-0x12*0x166+-0x55c),_0x2a3f2d*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x3816f4),-0x38a*0x5+0x218c+-0x7ed*0x2+0.0001,-0x1*0x1c4a+-0x1*-0x22c0+-0x57*0x13),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x220f+0x19e1+-0x3bf0*0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x214f+-0xc3e*0x1+0x2d8e]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x41a007,_0x2a3f2d,-0xe46*0x2+-0xe99+0x2b26),this['_node']['setLocalPo'+'sition'](_0x1999c2,_0x595d1b,-0x406+-0x22d8+0x26de);}['_updateAab'+'b'](_0x5ae011){return _0x5ae011['center']['set'](0x17b8+0x385*-0x1+-0x1433,-0x1*-0x6dd+-0x3*0xa93+0x18dc,-0x12e1+-0x7d5+-0x1*-0x1ab6),_0x5ae011['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1991+-0xa*-0x37e+-0x95b+0.5),this['_outerScal'+'e']['y']*(-0x1*-0x23+-0x13*0x16+0x17f+0.5),-0x353*-0x2+0x40*0x83+-0xf6*0x29+0.001),_0x5ae011['setFromTra'+'nsformedAa'+'bb'](_0x5ae011,this['_node']['getWorldTr'+'ansform']()),_0x5ae011;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x2fdb67=this['_clips'][this['_autoPlayC'+'lip']];_0x2fdb67&&!_0x2fdb67['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x2fdb67['name']);}['_onLayersC'+'hanged'](_0xf5de54,_0x7e7b79){_0xf5de54['off']('add',this['onLayerAdd'+'ed'],this),_0xf5de54['off']('remove',this['onLayerRem'+'oved'],this),_0x7e7b79['on']('add',this['onLayerAdd'+'ed'],this),_0x7e7b79['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x12b060){this['layers']['indexOf'](_0x12b060['id'])<0x1*0x24f5+-0x143*0x4+-0x1fe9||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x12b060['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0xfac14d){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0xfac14d['id'])<0x5*0x7b0+-0xfb*0x3+0x27*-0xe9||_0xfac14d['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x5959b5=0x1dde*0x1+0x509*0x3+0x1*-0x2cf9;_0x5959b5<this['layers']['length'];_0x5959b5++){const _0x50713b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5959b5]);_0x50713b&&_0x50713b['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x524ccd){const _0x5edc3c=new Hi(this,{'name':_0x524ccd['name'],'fps':_0x524ccd['fps'],'loop':_0x524ccd['loop'],'spriteAsset':_0x524ccd['spriteAsse'+'t']});return this['_clips'][_0x524ccd['name']]=_0x5edc3c,_0x5edc3c['name']&&_0x5edc3c['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x5edc3c;}['removeClip'](_0x227f37){delete this['_clips'][_0x227f37];}['clip'](_0x3f4463){return this['_clips'][_0x3f4463];}['play'](_0x329f55){const _0x27a8c8=this['_clips'][_0x329f55],_0x223f64=this['_currentCl'+'ip'];return _0x223f64&&_0x223f64!==_0x27a8c8&&(_0x223f64['_playing']=!(0x56e*0x3+-0x2130+0x10e7)),this['_currentCl'+'ip']=_0x27a8c8,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x27a8c8,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x329f55+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x27a8c8;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x955*0x2+-0x1*-0xda3+-0x9*-0x8f);}}const f0=['enabled'];class mF extends ct{constructor(_0x53b0a7){super(_0x53b0a7),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x4abc2f){this['_defaultMa'+'terial']=_0x4abc2f;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x5d4706=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x329dbd=new Uint8Array(_0x5d4706['lock']());_0x329dbd[-0x11f6+0x1*0xb25+0x6d1]=_0x329dbd[-0x1a35+-0x1483+0x2eb9]=_0x329dbd[-0x46b+0x111d+0x1*-0xcb0]=_0x329dbd[-0x1d38+0x22b+0x1*0x1b10]=0x563*-0x1+0x1fd*0xd+-0x3*0x67d,_0x5d4706['unlock']();const _0x3a0d3f=new Ut();_0x3a0d3f['diffuse']['set'](0x14b0+-0x2*0x60a+-0x89c,0x2355+-0x1dfd+-0x156*0x4,-0x197*0x15+0x1*0x1bab+0x5b8),_0x3a0d3f['emissive']['set'](0x93e+-0x951+0x14,-0x20bc+0xbb3+0x150a,0x1f55+-0x4b*-0x76+-0x41e6),_0x3a0d3f['emissiveMa'+'p']=_0x5d4706,_0x3a0d3f['opacityMap']=_0x5d4706,_0x3a0d3f['opacityMap'+'Channel']='a',_0x3a0d3f['useLightin'+'g']=!(-0x3ad+0x859+-0x4ab),_0x3a0d3f['useTonemap']=!(0x171c+-0x1*0x227e+0xb63),_0x3a0d3f['useFog']=!(0x24d+-0x16ee+0x14a2),_0x3a0d3f['useSkybox']=!(0x66*0x19+0x12bf+0xe5a*-0x2),_0x3a0d3f['blendType']=Gn,_0x3a0d3f['depthWrite']=!(0xf4f+-0x13*-0x1eb+0x33bf*-0x1),_0x3a0d3f['pixelSnap']=!(-0x1*0xbee+0x95e+-0x49*-0x9),_0x3a0d3f['cull']=bt,_0x3a0d3f['update'](),this['_defaultTe'+'xture']=_0x5d4706,this['_defaultMa'+'terial']=_0x3a0d3f;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x38a33a){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x38a33a;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x4f205c=this['defaultMat'+'erial']['clone']();_0x4f205c['nineSliced'+'Mode']=Pt,_0x4f205c['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4f205c;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x37ae4a){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x37ae4a;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x2acbb5=this['defaultMat'+'erial']['clone']();_0x2acbb5['nineSliced'+'Mode']=Mt,_0x2acbb5['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x2acbb5;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x29b4af,_0x178094,_0x1f4041){if(_0x178094['enabled']!==void(-0x183e*-0x1+-0x1aae+-0x10*-0x27)&&(_0x29b4af['enabled']=_0x178094['enabled']),_0x29b4af['type']=_0x178094['type'],_0x178094['layers']&&Array['isArray'](_0x178094['layers'])&&(_0x29b4af['layers']=_0x178094['layers']['slice'](-0x1*-0x2188+0x2*0x751+-0x302a)),_0x178094['drawOrder']!==void(-0x4a6*0x2+0x535+0x3*0x15d)&&(_0x29b4af['drawOrder']=_0x178094['drawOrder']),_0x178094['color']!==void(-0xc49+0x3e5+0x864)&&(_0x178094['color']instanceof ie?_0x29b4af['color']['set'](_0x178094['color']['r'],_0x178094['color']['g'],_0x178094['color']['b'],_0x178094['opacity']??0xdd3*0x1+0x2463+-0x3235):_0x29b4af['color']['set'](_0x178094['color'][-0xe28+0xe5d+-0x35*0x1],_0x178094['color'][-0x1*-0x1429+-0x15a3+0x17b*0x1],_0x178094['color'][0x1*0x178d+0x20f*-0x1+-0x157c],_0x178094['opacity']??-0x4cc+-0x2039+0x2506),_0x29b4af['color']=_0x29b4af['color']),_0x178094['opacity']!==void(0x11f*0x7+0xb66+-0x133f)&&(_0x29b4af['opacity']=_0x178094['opacity']),_0x178094['flipX']!==void(-0x175d*0x1+0x12d6+-0x1*-0x487)&&(_0x29b4af['flipX']=_0x178094['flipX']),_0x178094['flipY']!==void(0x1de4+0x1*-0x1ae+-0x1c36)&&(_0x29b4af['flipY']=_0x178094['flipY']),_0x178094['width']!==void(-0xd91+0x222+0x1*0xb6f)&&(_0x29b4af['width']=_0x178094['width']),_0x178094['height']!==void(0x417+-0xc*0x27f+-0x3*-0x89f)&&(_0x29b4af['height']=_0x178094['height']),_0x178094['spriteAsse'+'t']!==void(-0x17ee+-0xda1*-0x1+0x125*0x9)&&(_0x29b4af['spriteAsse'+'t']=_0x178094['spriteAsse'+'t']),_0x178094['sprite']&&(_0x29b4af['sprite']=_0x178094['sprite']),_0x178094['frame']!==void(0x15ef+-0x1aba+0x1*0x4cb)&&(_0x29b4af['frame']=_0x178094['frame']),_0x178094['clips']){for(const _0x312a9f in _0x178094['clips'])_0x29b4af['addClip'](_0x178094['clips'][_0x312a9f]);}_0x178094['speed']!==void(0x1431+-0x1*0xd6c+0x1*-0x6c5)&&(_0x29b4af['speed']=_0x178094['speed']),_0x178094['autoPlayCl'+'ip']&&(_0x29b4af['autoPlayCl'+'ip']=_0x178094['autoPlayCl'+'ip']),_0x29b4af['batchGroup'+'Id']=_0x178094['batchGroup'+'Id']===void(0x20c4+0x1*-0x13a7+0x175*-0x9)||_0x178094['batchGroup'+'Id']===null?-(-0xc*-0x184+-0x5*0x18d+-0x10b*0xa):_0x178094['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x29b4af,_0x178094,_0x1f4041);}['cloneCompo'+'nent'](_0x33c96e,_0x52a004){const _0x40bcec=_0x33c96e['sprite'];return this['addCompone'+'nt'](_0x52a004,{'enabled':_0x40bcec['enabled'],'type':_0x40bcec['type'],'spriteAsset':_0x40bcec['spriteAsse'+'t'],'sprite':_0x40bcec['sprite'],'width':_0x40bcec['width'],'height':_0x40bcec['height'],'frame':_0x40bcec['frame'],'color':_0x40bcec['color']['clone'](),'opacity':_0x40bcec['opacity'],'flipX':_0x40bcec['flipX'],'flipY':_0x40bcec['flipY'],'speed':_0x40bcec['speed'],'clips':_0x40bcec['clips'],'autoPlayClip':_0x40bcec['autoPlayCl'+'ip'],'batchGroupId':_0x40bcec['batchGroup'+'Id'],'drawOrder':_0x40bcec['drawOrder'],'layers':_0x40bcec['layers']['slice'](0x5*0x47f+-0x131*0x1+-0xaa5*0x2)});}['onUpdate'](_0x42fb2e){const _0x54695c=this['store'];for(const _0x4a0bb3 in _0x54695c)if(_0x54695c['hasOwnProp'+'erty'](_0x4a0bb3)){const _0x3379c7=_0x54695c[_0x4a0bb3];if(_0x3379c7['data']['enabled']&&_0x3379c7['entity']['enabled']){const _0x2b1365=_0x3379c7['entity']['sprite'];_0x2b1365['_currentCl'+'ip']&&_0x2b1365['_currentCl'+'ip']['_update'](_0x42fb2e);}}}['onBeforeRe'+'move'](_0x78381b,_0x5ef115){_0x5ef115['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x529ee6,_0x39c8ef){super(_0x529ee6,_0x39c8ef),this['_oldState']=!(-0x1e40+-0x179*0x17+0x43*0xf5),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0xe2d034){_0xe2d034 instanceof D?this['_size']['copy'](_0xe2d034):_0xe2d034 instanceof Array&&_0xe2d034['length']>=0x1*0xb3e+-0x769+-0x3d2&&this['size']['set'](_0xe2d034[0xff3+-0x258d*-0x1+-0x3580],_0xe2d034[-0x13*-0x16a+0x1894+-0x3f5*0xd],_0xe2d034[-0x11d3+-0xa*-0x33b+0xd*-0x11d]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x2be0ac,_0x13a779,_0x1195cc){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x90fa38=this['enabled']&&this['entity']['enabled'];_0x90fa38!==this['_oldState']&&(this['_oldState']=_0x90fa38,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x2565+0x72f*-0x3+0x3af2);}}const u0=['enabled'];class gF extends ct{constructor(_0x538ad0){super(_0x538ad0),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x2b237d,_0xe43643,_0x488056){_0x2b237d['enabled']=_0xe43643['hasOwnProp'+'erty']('enabled')?!!_0xe43643['enabled']:!(-0x242f+0xdb4+0x167b),_0xe43643['size']&&(_0xe43643['size']instanceof D?_0x2b237d['size']['copy'](_0xe43643['size']):_0xe43643['size']instanceof Array&&_0xe43643['size']['length']>=0x1*-0x17e+0x2e*0x1f+-0x411&&_0x2b237d['size']['set'](_0xe43643['size'][0xd3c+0x2bf*0x5+-0x1af7],_0xe43643['size'][-0x26b8+0x2*0x120d+0x29f*0x1],_0xe43643['size'][-0x1*0x26c6+0x2130+0x598]));}['cloneCompo'+'nent'](_0x46d696,_0x271b69){const _0x4fd801={'enabled':_0x46d696['zone']['enabled'],'size':_0x46d696['zone']['size']};return this['addCompone'+'nt'](_0x271b69,_0x4fd801);}['_onBeforeR'+'emove'](_0x4c70c6,_0x396ea5){_0x396ea5['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x3b6c3a,_0x2d55ad){this['effect']=_0x3b6c3a,this['inputTarge'+'t']=_0x2d55ad,this['outputTarg'+'et']=null,this['name']=_0x3b6c3a['constructo'+'r']['name'];}}class yF{constructor(_0x5a64f5,_0x1b421e){this['app']=_0x5a64f5,this['camera']=_0x1b421e,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x3*-0x34e+0xe3*0xe+-0xd5*0x3),this['depthTarge'+'t']=null,_0x1b421e['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x357687,_0x16db19){const _0x316612=this['camera']['rect'],_0x14c2ce=this['destinatio'+'nRenderTar'+'get'],_0xfb9c3=this['app']['graphicsDe'+'vice'],_0x5640ac=Math['floor'](_0x316612['z']*((_0x14c2ce==null?void(0x1*0x1f3c+-0x2e*-0xbb+-0x40d6):_0x14c2ce['width'])??_0xfb9c3['width'])),_0x950fac=Math['floor'](_0x316612['w']*((_0x14c2ce==null?void(0x17*0x173+0xa7*0x29+-0x4*0xf05):_0x14c2ce['height'])??_0xfb9c3['height']));return new _e(_0xfb9c3,{'name':_0x16db19,'format':_0x357687,'width':_0x5640ac,'height':_0x950fac,'mipmaps':!(-0x6d*0x5a+0x2*-0x897+0x1*0x3781),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x7a938b,_0x449d99){const _0xead817=this['app']['graphicsDe'+'vice'],_0xdb3550=(this['destinatio'+'nRenderTar'+'get']??_0xead817['backBuffer'])['isColorBuf'+'ferSrgb'](-0x152*0x18+0x2e3*0xb+0x1*-0x11),_0x4dba36=(_0x449d99&&_0xead817['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0x7*0x42+0x5*0x4d5+-0x19f7)))??(_0xdb3550?_s:Ne),_0x4807fd=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x1d152c=this['_allocateC'+'olorBuffer'](_0x4dba36,_0x4807fd);return new gt({'colorBuffer':_0x1d152c,'depth':_0x7a938b,'stencil':_0x7a938b&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x7a938b?_0xead817['samples']:0x1c8f+0x2d*-0x48+-0xfe6});}['_resizeOff'+'screenTarg'+'et'](_0x58004b){const _0x356cb2=_0x58004b['colorBuffe'+'r']['format'],_0x129d6e=_0x58004b['colorBuffe'+'r']['name'];_0x58004b['destroyFra'+'meBuffers'](),_0x58004b['destroyTex'+'tureBuffer'+'s'](),_0x58004b['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x356cb2,_0x129d6e),_0x58004b['_colorBuff'+'ers']=[_0x58004b['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x5d38e4){_0x5d38e4['destroyTex'+'tureBuffer'+'s'](),_0x5d38e4['destroy']();}['addEffect'](_0x35f477){const _0x2d977=this['effects'],_0x22fbbe=_0x2d977['length']===-0x23a+-0xd4c+0xf86,_0x1f3d13=this['_createOff'+'screenTarg'+'et'](_0x22fbbe,_0x35f477['hdr']),_0x1fd599=new SF(_0x35f477,_0x1f3d13);_0x2d977['push'](_0x1fd599),this['_sourceTar'+'get']=_0x1fd599['inputTarge'+'t'],_0x2d977['length']>0x3af*-0x8+-0x66a+0x23e3&&(_0x2d977[_0x2d977['length']-(-0x108b+0xf3c+-0x1*-0x151)]['outputTarg'+'et']=_0x1fd599['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x35f477,_0x35f477['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x38b*-0x9+0xb*-0x214+0x36bf);}['removeEffe'+'ct'](_0x484240){let _0x5841dc=-(-0x1b*-0x108+-0x4b7*0x3+-0xdb2);for(let _0xd55de1=-0x372*0xa+-0x1587*-0x1+-0x3*-0x44f,_0x48f8bf=this['effects']['length'];_0xd55de1<_0x48f8bf;_0xd55de1++)if(this['effects'][_0xd55de1]['effect']===_0x484240){_0x5841dc=_0xd55de1;break;}_0x5841dc>=0xe3e+-0x10df+0x2a1&&(_0x5841dc>0x2b*-0x65+0x1053*-0x1+0x214a?this['effects'][_0x5841dc-(-0x6*0x152+0x1994*-0x1+0x1*0x2181)]['outputTarg'+'et']=_0x5841dc+(0x1*0x107b+0x64e+-0x16c8)<this['effects']['length']?this['effects'][_0x5841dc+(0x95f+0x4*0x90a+-0x2d86*0x1)]['inputTarge'+'t']:null:this['effects']['length']>-0xade*-0x1+-0x1e58+0x137b&&(this['effects'][-0x20b*0x1+-0xa64*0x3+0x2138]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x2264+-0x4*0xb7+0x231*0x11]['inputTarge'+'t']),this['effects'][-0x31f*0x8+0x58e+0x136b]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x2049+-0x3d5*0x4+0x2f9d),this['effects'][-0x4f*-0x53+-0x5e*-0x34+-0x2cb4]['hdr']),this['_sourceTar'+'get']=this['effects'][0x4*-0x829+0x1d13*-0x1+-0x62c*-0xa]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x4dc+0x1577+-0x109a]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x5841dc]['inputTarge'+'t']),this['effects']['splice'](_0x5841dc,-0x21ed+-0x1614+0x3802)),this['enabled']&&_0x484240['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x362*-0x2+0x911+-0xfd5&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x27a5b4=0x6b3+0x617+0x1*-0xcca,_0x71c61c=this['effects']['length'];_0x27a5b4<_0x71c61c;_0x27a5b4++){const _0x203fe6=this['effects'][_0x27a5b4]['effect'];this['_newPostEf'+'fect']!==_0x203fe6&&_0x203fe6['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x15426c=-0x24d5+-0x21a3+-0x6e*-0xa4,_0x217504=this['effects']['length'];_0x15426c<_0x217504;_0x15426c++)this['effects'][_0x15426c]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x373abb=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x373abb&&(_0x373abb['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1769+0x1577+-0x2*0x1670)));}['_releaseDe'+'pthMap'](){const _0x559267=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x559267&&(_0x559267['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1bca+-0x2*-0x845+-0x2c53)));}['destroy'](){for(let _0x5b9484=-0x2176*0x1+-0x654+-0x27ca*-0x1,_0x58d677=this['effects']['length'];_0x5b9484<_0x58d677;_0x5b9484++)this['effects'][_0x5b9484]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1*0x3e5+0x1b58+-0x1773,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0xe*-0xe0+0x4fa+0xe*0x85),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x15d1+0x516+-0x1ae7]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x12769d=null;const _0x53d49d=this['effects']['length'];if(_0x53d49d)for(let _0x5efcee=0x4d*-0x1c+0x61*-0xb+-0x125*-0xb;_0x5efcee<_0x53d49d;_0x5efcee++){const _0x244901=this['effects'][_0x5efcee];let _0x2cac7f=_0x244901['outputTarg'+'et'];_0x5efcee===_0x53d49d-(0x394*-0x6+-0xe55+0x23ce)&&(_0x12769d=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x2cac7f=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x244901['name']),_0x244901['effect']['render'](_0x244901['inputTarge'+'t'],_0x2cac7f,_0x12769d),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x18d*-0x9+0x20b+0xbeb),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3ac3d2,_0x2fe896){const _0x59da45=this['camera']['rect'],_0x53d7ab=this['destinatio'+'nRenderTar'+'get'];_0x3ac3d2=(_0x53d7ab==null?void(-0x716*0x2+-0x6*-0x356+-0x22*0x2c):_0x53d7ab['width'])??_0x3ac3d2,_0x2fe896=(_0x53d7ab==null?void(0x7f3+-0x112f+0xc5*0xc):_0x53d7ab['height'])??_0x2fe896,this['camera']['camera']['aspectRati'+'o']=_0x3ac3d2*_0x59da45['z']/(_0x2fe896*_0x59da45['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x24a48d=this['app']['graphicsDe'+'vice'],_0x35789b=this['destinatio'+'nRenderTar'+'get'],_0x13d750=(_0x35789b==null?void(0x1570+-0xfcb+-0x5a5):_0x35789b['width'])??_0x24a48d['width'],_0x3cd96f=(_0x35789b==null?void(-0x3*-0x3d+0xa8b*-0x3+0x1eea):_0x35789b['height'])??_0x24a48d['height'],_0x28c9ed=this['camera']['rect'],_0x410233=Math['floor'](_0x28c9ed['z']*_0x13d750),_0x4b2a41=Math['floor'](_0x28c9ed['w']*_0x3cd96f),_0x14ba8c=this['effects'];for(let _0x5b970d=0xcd+0x1*-0x26f3+-0x26*-0x101,_0x50b0ba=_0x14ba8c['length'];_0x5b970d<_0x50b0ba;_0x5b970d++){const _0x164a72=_0x14ba8c[_0x5b970d];(_0x164a72['inputTarge'+'t']['width']!==_0x410233||_0x164a72['inputTarge'+'t']['height']!==_0x4b2a41)&&this['_resizeOff'+'screenTarg'+'et'](_0x164a72['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x205790,_0x49890f,_0x2043d4){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x3fadfa,_0x5f2e5b){super(_0x3fadfa,_0x5f2e5b),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x22da+-0x25a*0x6+-0x14be),h(this,'_renderSce'+'neColorMap',-0xb*-0x166+-0x2300+0x139e),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0xe*-0x1a8+-0x1d07+0x5d8)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x4a+0x5*0x778+-0x250d)),h(this,'_priority',-0x80*0x3f+-0x19c+-0x1a*-0x146),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x5f2e5b,this['_postEffec'+'ts']=new yF(_0x3fadfa['app'],this));}['setShaderP'+'ass'](_0xee76d4){const _0x52d1fe=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x451b25=_0xee76d4?_0x52d1fe['allocate'](_0xee76d4,{'isForward':!(-0x81*0x1b+-0xe94+-0x3*-0x965)}):null;return this['_camera']['shaderPass'+'Info']=_0x451b25,_0x451b25['index'];}['getShaderP'+'ass'](){var _0xe17096;return(_0xe17096=this['_camera']['shaderPass'+'Info'])==null?void(0x5ba*0x2+0x2514+-0x2*0x1844):_0xe17096['name'];}set['renderPass'+'es'](_0x1e9030){this['_camera']['renderPass'+'es']=_0x1e9030||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x171c+0x84+-0x17a0);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x29f23a){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x29f23a;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x3e09d1){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x3e09d1;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x42944d){this['_camera']['fogParams']=_0x42944d;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5e4456){this['_camera']['aperture']=_0x5e4456;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x117f3f){this['_camera']['aspectRati'+'o']=_0x117f3f;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x593d64){this['_camera']['aspectRati'+'oMode']=_0x593d64;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x4f6776){this['_camera']['calculateP'+'rojection']=_0x4f6776;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x6bc621){this['_camera']['calculateT'+'ransform']=_0x6bc621;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x337924){this['_camera']['clearColor']=_0x337924;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x198ba0){this['_camera']['clearColor'+'Buffer']=_0x198ba0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x53a473){this['_camera']['clearDepth'+'Buffer']=_0x53a473,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x24001a){this['_camera']['clearStenc'+'ilBuffer']=_0x24001a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x519725){this['_camera']['cullFaces']=_0x519725;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x30b75a){this['_disablePo'+'stEffectsL'+'ayer']=_0x30b75a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0xa048a5){this['_camera']['farClip']=_0xa048a5;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x20a758){this['_camera']['flipFaces']=_0x20a758;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x19b271){this['_camera']['fov']=_0x19b271;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x347c34){this['_camera']['frustumCul'+'ling']=_0x347c34;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x288f21){this['_camera']['horizontal'+'Fov']=_0x288f21;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x28be9f){const _0x3b9095=this['_camera']['layers'],_0x2e6d62=this['system']['app']['scene'];_0x3b9095['forEach'](_0x5a14ba=>{const _0x1ee80c=_0x2e6d62['layers']['getLayerBy'+'Id'](_0x5a14ba);_0x1ee80c==null||_0x1ee80c['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x28be9f,this['enabled']&&this['entity']['enabled']&&_0x28be9f['forEach'](_0x3861d1=>{const _0x42af07=_0x2e6d62['layers']['getLayerBy'+'Id'](_0x3861d1);_0x42af07==null||_0x42af07['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x16fc1f){this['_camera']['jitter']=_0x16fc1f;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x5dbedd){this['_camera']['nearClip']=_0x5dbedd;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x55f505){this['_camera']['orthoHeigh'+'t']=_0x55f505;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x3c8d77){this['_priority']=_0x3c8d77,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x97a06d){this['_camera']['projection']=_0x97a06d;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x54af9e){this['_camera']['rect']=_0x54af9e,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x1c3ffd){_0x1c3ffd&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x25d2+-0x16cf+-0x391*-0x11)),this['_sceneColo'+'rMapReques'+'ted']=!(0x6c*-0x51+0x1*-0xbfb+-0x5*-0x93b)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1888+-0x18a6+0x1*0x1f)),this['_sceneColo'+'rMapReques'+'ted']=!(0x6*-0x132+-0x2a6*0x5+0x146b));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x1a1b*0x1+0x1*0x1b7f+0x1*-0x164;}set['renderScen'+'eDepthMap'](_0x2020b1){_0x2020b1&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x3d4+0x20d4+-0x6*0x61c)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x18fe+-0xa*-0x2a2+-0x156)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x155*-0x9+-0x19f5+0x1d*0x14f)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x3*-0x2e7+-0x1711+0xe5d));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x2*0x593+0x10c2+0x1*-0x59c;}set['renderTarg'+'et'](_0x32f27c){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x1*0x1f2b+0x2dd*-0x1+-0x18*-0x16b&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x32f27c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x5d7531){this['_camera']['scissorRec'+'t']=_0x5d7531;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0xd787e){this['_camera']['sensitivit'+'y']=_0xd787e;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x5954b8){this['_camera']['shutter']=_0x5954b8;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x467a8c){if(this['layers']['find'](_0x589517=>_0x589517===ps)){const _0x5330fb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x467a8c?_0x5330fb==null||_0x5330fb['incrementC'+'ounter']():_0x5330fb==null||_0x5330fb['decrementC'+'ounter']();}else{if(_0x467a8c)return!(0x5*0xe1+0xcd2+-0x1*0x1136);}return!(0x22*-0x3b+-0x105f*0x1+-0x1835*-0x1);}['requestSce'+'neColorMap'](_0x12dda1){this['_renderSce'+'neColorMap']+=_0x12dda1?0x2651*-0x1+-0x1966+-0x8*-0x7f7:-(-0x628+0x1a7d*0x1+0x4*-0x515),w['assert'](this['_renderSce'+'neColorMap']>=-0x24ff+-0xab8+-0x98b*-0x5),this['_enableDep'+'thLayer'](_0x12dda1)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x4880cd){this['_renderSce'+'neDepthMap']+=_0x4880cd?-0x175a+0x134*-0xf+0x2967:-(0x371*-0x7+-0x875+0x208d),w['assert'](this['_renderSce'+'neDepthMap']>=-0xe9*0x2+-0x5*0x7c9+0x3*0xd95),this['_enableDep'+'thLayer'](_0x4880cd)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x4bd1c1=this['system']['app']['scene']['layers'];_0x4bd1c1['_dirty']=!(0x7a*0x49+-0x405+-0x1ec5*0x1);}['screenToWo'+'rld'](_0x3a07be,_0x17cfb3,_0x5702bd,_0x4e15b3){const _0x59113f=this['system']['app']['graphicsDe'+'vice'],{width:_0x638c0c,height:_0x46940a}=_0x59113f['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x3a07be,_0x17cfb3,_0x5702bd,_0x638c0c,_0x46940a,_0x4e15b3);}['worldToScr'+'een'](_0x2e5efe,_0x583771){const _0x2561db=this['system']['app']['graphicsDe'+'vice'],{width:_0x359ac0,height:_0x2c8c16}=_0x2561db['clientRect'];return this['_camera']['worldToScr'+'een'](_0x2e5efe,_0x359ac0,_0x2c8c16,_0x583771);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x26da+0x94*-0x38+-0x17be*-0x3),this['_camera']['_viewProjM'+'atDirty']=!(0x64+-0x11*0x19c+0x4*0x6be);}['addCameraT'+'oLayers'](){const _0x329003=this['layers'];for(let _0x53a357=-0x139*-0xd+-0x665+-0x980;_0x53a357<_0x329003['length'];_0x53a357++){const _0x2af82f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x329003[_0x53a357]);_0x2af82f&&_0x2af82f['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x15bf52=this['layers'];for(let _0x3bcd6b=-0x3*-0xbca+-0xf56+-0x1408;_0x3bcd6b<_0x15bf52['length'];_0x3bcd6b++){const _0x3a30e9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x15bf52[_0x3bcd6b]);_0x3a30e9&&_0x3a30e9['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0xfe5009,_0x3c1157){this['addCameraT'+'oLayers'](),_0xfe5009['off']('add',this['onLayerAdd'+'ed'],this),_0xfe5009['off']('remove',this['onLayerRem'+'oved'],this),_0x3c1157['on']('add',this['onLayerAdd'+'ed'],this),_0x3c1157['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x33e5df){this['layers']['indexOf'](_0x33e5df['id'])<-0x2180+0x77*0x2f+0x9d*0x13||_0x33e5df['addCamera'](this);}['onLayerRem'+'oved'](_0xc89cb9){this['layers']['indexOf'](_0xc89cb9['id'])<0x47d+-0x932+-0x1*-0x4b5||_0xc89cb9['removeCame'+'ra'](this);}['onEnable'](){var _0x37f402,_0x591b99,_0x508b6e;const _0x1882e0=this['system']['app']['scene'],_0x3e0ef1=_0x1882e0['layers'];this['system']['addCamera'](this),(_0x37f402=this['_evtLayers'+'Changed'])==null||_0x37f402['off'](),this['_evtLayers'+'Changed']=_0x1882e0['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3e0ef1&&((_0x591b99=this['_evtLayerA'+'dded'])==null||_0x591b99['off'](),this['_evtLayerA'+'dded']=_0x3e0ef1['on']('add',this['onLayerAdd'+'ed'],this),(_0x508b6e=this['_evtLayerR'+'emoved'])==null||_0x508b6e['off'](),this['_evtLayerR'+'emoved']=_0x3e0ef1['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x40b13c,_0x40d139,_0x17215f;const _0x16da8b=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x40b13c=this['_evtLayers'+'Changed'])==null||_0x40b13c['off'](),this['_evtLayers'+'Changed']=null,_0x16da8b&&((_0x40d139=this['_evtLayerA'+'dded'])==null||_0x40d139['off'](),this['_evtLayerA'+'dded']=null,(_0x17215f=this['_evtLayerR'+'emoved'])==null||_0x17215f['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x390cda){const _0xd0b6a=this['system']['app']['graphicsDe'+'vice'],_0x20a714=_0x390cda?_0x390cda['width']:_0xd0b6a['width'],_0x3fd88d=_0x390cda?_0x390cda['height']:_0xd0b6a['height'];return _0x20a714*this['rect']['z']/(_0x3fd88d*this['rect']['w']);}['frameUpdat'+'e'](_0x1f2fd6){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x1f2fd6));}['startXr'](_0x4a86b3,_0xc4c60f,_0x235ac6){this['system']['app']['xr']['start'](this,_0x4a86b3,_0xc4c60f,_0x235ac6);}['endXr'](_0x305884){if(!this['_camera']['xr']){_0x305884&&_0x305884(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x305884);}['copy'](_0x419a25){this['aperture']=_0x419a25['aperture'],this['aspectRati'+'o']=_0x419a25['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x419a25['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x419a25['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x419a25['calculateT'+'ransform'],this['clearColor']=_0x419a25['clearColor'],this['clearColor'+'Buffer']=_0x419a25['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x419a25['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x419a25['clearStenc'+'ilBuffer'],this['cullFaces']=_0x419a25['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x419a25['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x419a25['farClip'],this['flipFaces']=_0x419a25['flipFaces'],this['fov']=_0x419a25['fov'],this['frustumCul'+'ling']=_0x419a25['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x419a25['horizontal'+'Fov'],this['layers']=_0x419a25['layers'],this['nearClip']=_0x419a25['nearClip'],this['orthoHeigh'+'t']=_0x419a25['orthoHeigh'+'t'],this['priority']=_0x419a25['priority'],this['projection']=_0x419a25['projection'],this['rect']=_0x419a25['rect'],this['renderTarg'+'et']=_0x419a25['renderTarg'+'et'],this['scissorRec'+'t']=_0x419a25['scissorRec'+'t'],this['sensitivit'+'y']=_0x419a25['sensitivit'+'y'],this['shutter']=_0x419a25['shutter'];}}class vF{constructor(){this['enabled']=!(0x5f6+-0xa6f+0x479);}}const p0=['enabled'];class xF extends ct{constructor(_0x14ebcf){super(_0x14ebcf),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0xb5ff1a,_0x1a70c3,_0x2f5d7c){_0x2f5d7c=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x136b7b=0x1eeb+0x27*0xc9+0x1*-0x3d8a;_0x136b7b<_0x2f5d7c['length'];_0x136b7b++){const _0x4ad99c=_0x2f5d7c[_0x136b7b];if(_0x1a70c3['hasOwnProp'+'erty'](_0x4ad99c)){const _0x63fed9=_0x1a70c3[_0x4ad99c];switch(_0x4ad99c){case'rect':case'scissorRec'+'t':Array['isArray'](_0x63fed9)?_0xb5ff1a[_0x4ad99c]=new re(_0x63fed9[0x23d5+0x4c6+-0x289b],_0x63fed9[0xd93+0x1913+-0x1*0x26a5],_0x63fed9[0x1*0x1ad9+-0x19bf+0x118*-0x1],_0x63fed9[0xdc7+-0x412+-0x9b2]):_0xb5ff1a[_0x4ad99c]=_0x63fed9;break;case'clearColor':Array['isArray'](_0x63fed9)?_0xb5ff1a[_0x4ad99c]=new ie(_0x63fed9[0x1*0x263a+0x307+0x1*-0x2941],_0x63fed9[-0x11f5*-0x1+0x1*-0x427+-0xdcd],_0x63fed9[-0x1fbd+0x78e*0x3+0x915],_0x63fed9[0xe5*-0x2+0x157d+0x12*-0x118]):_0xb5ff1a[_0x4ad99c]=_0x63fed9;break;default:_0xb5ff1a[_0x4ad99c]=_0x63fed9;break;}}}super['initialize'+'ComponentD'+'ata'](_0xb5ff1a,_0x1a70c3,['enabled']);}['cloneCompo'+'nent'](_0x4834b0,_0x4f4c56){const _0x118b8b=_0x4834b0['camera'];return this['addCompone'+'nt'](_0x4f4c56,{'aspectRatio':_0x118b8b['aspectRati'+'o'],'aspectRatioMode':_0x118b8b['aspectRati'+'oMode'],'calculateProjection':_0x118b8b['calculateP'+'rojection'],'calculateTransform':_0x118b8b['calculateT'+'ransform'],'clearColor':_0x118b8b['clearColor'],'clearColorBuffer':_0x118b8b['clearColor'+'Buffer'],'clearDepthBuffer':_0x118b8b['clearDepth'+'Buffer'],'clearStencilBuffer':_0x118b8b['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x118b8b['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x118b8b['renderScen'+'eColorMap'],'cullFaces':_0x118b8b['cullFaces'],'enabled':_0x118b8b['enabled'],'farClip':_0x118b8b['farClip'],'flipFaces':_0x118b8b['flipFaces'],'fov':_0x118b8b['fov'],'frustumCulling':_0x118b8b['frustumCul'+'ling'],'horizontalFov':_0x118b8b['horizontal'+'Fov'],'layers':_0x118b8b['layers'],'renderTarget':_0x118b8b['renderTarg'+'et'],'nearClip':_0x118b8b['nearClip'],'orthoHeight':_0x118b8b['orthoHeigh'+'t'],'projection':_0x118b8b['projection'],'priority':_0x118b8b['priority'],'rect':_0x118b8b['rect'],'scissorRect':_0x118b8b['scissorRec'+'t'],'aperture':_0x118b8b['aperture'],'sensitivity':_0x118b8b['sensitivit'+'y'],'shutter':_0x118b8b['shutter'],'gammaCorrection':_0x118b8b['gammaCorre'+'ction'],'toneMapping':_0x118b8b['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x4e394e,_0x45b4c3){this['removeCame'+'ra'](_0x45b4c3),_0x45b4c3['onRemove']();}['onAppPrere'+'nder'](){for(let _0x1e520c=-0x1d2*-0x8+-0x5b3+-0x8dd,_0x1a3486=this['cameras']['length'];_0x1e520c<_0x1a3486;_0x1e520c++)this['cameras'][_0x1e520c]['onAppPrere'+'nder']();}['addCamera'](_0x3e9162){this['cameras']['push'](_0x3e9162),ul(this['cameras']);}['removeCame'+'ra'](_0x548889){const _0x57dcc3=this['cameras']['indexOf'](_0x548889);_0x57dcc3>=-0x13*0x101+-0x545+-0x4*-0x616&&(this['cameras']['splice'](_0x57dcc3,0x1*0x1f9b+0x1f0c+-0x3ea6),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0x251e+0xd26+0x2ff*0x8)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x2*0x781+0x246f+0x392*-0x6,-0x17f7+-0x14e+0x1946,0x29d*-0x9+-0xb31+0x22b7*0x1)),h(this,'intensity',-0x26ae*0x1+-0x1e95+0x4544*0x1),h(this,'luminance',-0xf59+0x20d0+0x11*-0x107),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0xbae+0x1ee6+-0x1338)),h(this,'castShadow'+'s',!(-0x13d1+-0x4*0x29f+0x1e4e)),h(this,'shadowDist'+'ance',0x4c*0x4f+-0x4*-0x2f8+-0x232c),h(this,'shadowInte'+'nsity',0x50b*-0x7+0x1*0x11e5+0x1169),h(this,'shadowReso'+'lution',0x16e*-0x9+0x1*0x140+-0x2*-0x7cf),h(this,'shadowBias',0x7*0x344+-0x1*-0x1afb+-0x31d7+0.05),h(this,'numCascade'+'s',-0x1f9f+0x2*0x1b7+0x1c32),h(this,'cascadeBle'+'nd',0x1c09+-0x1d3d+-0xb*-0x1c),h(this,'bakeNumSam'+'ples',-0x8*0x420+0x1*-0x1ec9+0x3fca),h(this,'bakeArea',0x2ef+-0x1c*-0x122+-0x22a7),h(this,'cascadeDis'+'tribution',0x34c+-0x1c0f+0x18c3+0.5),h(this,'normalOffs'+'etBias',0x2*0x326+-0x1a21+-0x1*-0x13d5),h(this,'range',0xfb*-0x14+0x1*0xc52+-0x1*-0x754),h(this,'innerConeA'+'ngle',0x1*-0xf5b+0x1f80+-0x1*0xffd),h(this,'outerConeA'+'ngle',-0x25b1+0x735+0x1ea9),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0xc19+-0x1565*-0x1+-0x2173),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0xb41+0x1d2b+-0x11ea+0.01)*(-0x1f*0xe9+-0xcd*0x29+0x1*0x3d0c+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x1118+-0x31*-0x5f+-0x8b*0x2),h(this,'cookieFall'+'off',!(-0x7c7*-0x5+-0x1d63*0x1+-0x980)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x157f+-0x1*0x7ae+-0xdd1),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x1a96*0x1+-0xb1*0x16+0x1*-0xb5f),h(this,'affectDyna'+'mic',!(0x116a+-0x78f*0x1+-0x349*0x3)),h(this,'affectLigh'+'tmapped',!(0xc05*0x3+-0x1*-0x1355+-0x1*0x3763)),h(this,'bake',!(0xa*0x2df+-0x1c49+-0x6c)),h(this,'bakeDir',!(-0x8+0x10d9+-0x10d1)),h(this,'isStatic',!(-0x2452+-0xff*-0x21+-0x1ba*-0x2)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x1343+0x1c6a+0x71*-0x6c),h(this,'penumbraFa'+'lloff',-0x1a99*0x1+0x1b1*0xb+0x7ff),h(this,'shadowSamp'+'les',0x1d71+0x1bc0+-0x3921),h(this,'shadowBloc'+'kerSamples',-0xa9c+-0x2a*0xd7+0x2df2);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x1ffc+-0xc6a*-0x1+-0x2c65)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x139220=this['system']['store'][this['entity']['getGuid']()];return _0x139220?_0x139220['data']:null;}set['enabled'](_0x40774d){this['_setValue']('enabled',_0x40774d,function(_0x4e8657,_0x256bcc){this['onSetEnabl'+'ed'](null,_0x256bcc,_0x4e8657);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x1255c9){this['_setValue']('light',_0x1255c9);}get['light'](){return this['data']['light'];}set['type'](_0x1e99dd){this['_setValue']('type',_0x1e99dd,function(_0x29192f,_0x61891c){this['system']['changeType'](this,_0x61891c,_0x29192f),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x14e51a){this['_setValue']('color',_0x14e51a,function(_0x5dd8ab,_0x5b9c73){this['light']['setColor'](_0x5dd8ab);},!(-0x7*-0x56+0x1457+-0x16b1));}get['color'](){return this['data']['color'];}set['intensity'](_0x54a87c){this['_setValue']('intensity',_0x54a87c,function(_0xb96476,_0x10b3d5){this['light']['intensity']=_0xb96476;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x210abd){this['_setValue']('luminance',_0x210abd,function(_0x599ea6,_0x39450b){this['light']['luminance']=_0x599ea6;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x28fab7){this['_setValue']('shape',_0x28fab7,function(_0x54ef56,_0x22eead){this['light']['shape']=_0x54ef56;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x105383){this['_setValue']('affectSpec'+'ularity',_0x105383,function(_0x38d537,_0xb9b3b8){this['light']['affectSpec'+'ularity']=_0x38d537;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x3d5582){this['_setValue']('castShadow'+'s',_0x3d5582,function(_0xadf894,_0x3f48ca){this['light']['castShadow'+'s']=_0xadf894;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x2e1056){this['_setValue']('shadowDist'+'ance',_0x2e1056,function(_0x549c11,_0xa14993){this['light']['shadowDist'+'ance']=_0x549c11;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x18f2c3){this['_setValue']('shadowInte'+'nsity',_0x18f2c3,function(_0x3c6026,_0x229f3c){this['light']['shadowInte'+'nsity']=_0x3c6026;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x2d64e8){this['_setValue']('shadowReso'+'lution',_0x2d64e8,function(_0x4be9bf,_0x2c32cd){this['light']['shadowReso'+'lution']=_0x4be9bf;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x38a166){this['_setValue']('shadowBias',_0x38a166,function(_0x75903e,_0x2ae9eb){this['light']['shadowBias']=-(0x5*0x696+-0x1*-0x2309+-0x1*0x43f7+0.01)*Y['clamp'](_0x75903e,-0x2417+0x17ca+0xc4d,0x11a5+-0x1*-0x164b+-0x1*0x27ef);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x175306){this['_setValue']('numCascade'+'s',_0x175306,function(_0x42ff83,_0x51604d){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x42ff83),-0xf90*0x2+0x22f4+-0x59*0xb,0x18a1+-0x1a1d+-0x20*-0xc);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x1aab59){this['_setValue']('cascadeBle'+'nd',_0x1aab59,function(_0xe14d36,_0x4454d5){this['light']['cascadeBle'+'nd']=Y['clamp'](_0xe14d36,0xed+-0x3d3+0x2e6,-0x100c+0x76a+-0x1*-0x8a3);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x558680){this['_setValue']('bakeNumSam'+'ples',_0x558680,function(_0x413130,_0x254594){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x413130),-0x99*0x4+-0xc*-0xa3+-0x53f,0xf4a+0x1847+-0x2692);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x29ad59){this['_setValue']('bakeArea',_0x29ad59,function(_0x41a7e7,_0x708634){this['light']['bakeArea']=Y['clamp'](_0x41a7e7,-0x1a25+-0x1*-0x22b7+-0x1*0x892,-0x125*0x5+0x2*-0xe90+-0x238d*-0x1);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x2adfa5){this['_setValue']('cascadeDis'+'tribution',_0x2adfa5,function(_0x20535a,_0x4bbd3e){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x20535a,-0x1fdd+0x22a0+0x1*-0x2c3,-0x2393+0x1f73+0x421);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x29d373){this['_setValue']('normalOffs'+'etBias',_0x29d373,function(_0x585d33,_0x643ace){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x585d33,-0x2225+0xa*0x1bd+0x10c3,-0x1453+0xcbf+0x287*0x3);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x78ae6a){this['_setValue']('range',_0x78ae6a,function(_0x34aa56,_0x4f3518){this['light']['attenuatio'+'nEnd']=_0x34aa56;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x4b206a){this['_setValue']('innerConeA'+'ngle',_0x4b206a,function(_0x272a80,_0x149103){this['light']['innerConeA'+'ngle']=_0x272a80;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x14db6a){this['_setValue']('outerConeA'+'ngle',_0x14db6a,function(_0x4c08cb,_0x272165){this['light']['outerConeA'+'ngle']=_0x4c08cb;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x36202f){this['_setValue']('falloffMod'+'e',_0x36202f,function(_0x5615cd,_0x4c142f){this['light']['falloffMod'+'e']=_0x5615cd;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x39c760){this['_setValue']('shadowType',_0x39c760,function(_0x217e85,_0x416e6e){this['light']['shadowType']=_0x217e85;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x497a7c){this['_setValue']('vsmBlurSiz'+'e',_0x497a7c,function(_0x5af3b9,_0x136a01){this['light']['vsmBlurSiz'+'e']=_0x5af3b9;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x42d7e1){this['_setValue']('vsmBlurMod'+'e',_0x42d7e1,function(_0xeccb6a,_0x2cbcab){this['light']['vsmBlurMod'+'e']=_0xeccb6a;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x575f4a){this['_setValue']('vsmBias',_0x575f4a,function(_0x12f4b9,_0x13a1db){this['light']['vsmBias']=Y['clamp'](_0x12f4b9,-0x86c*-0x4+0x152a+-0x36da,0x77*0x1a+0x139c+0x487*-0x7);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x1bf921){this['_setValue']('cookieAsse'+'t',_0x1bf921,function(_0x56c90e,_0x5c04c8){if(!(this['_cookieAss'+'etId']&&(_0x56c90e instanceof pe&&_0x56c90e['id']===this['_cookieAss'+'etId']||_0x56c90e===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x56c90e instanceof pe)this['data']['cookieAsse'+'t']=_0x56c90e['id'],this['_cookieAss'+'etId']=_0x56c90e['id'],this['onCookieAs'+'setAdd'](_0x56c90e);else{if(typeof _0x56c90e=='number'){this['_cookieAss'+'etId']=_0x56c90e;const _0x22db08=this['system']['app']['assets']['get'](_0x56c90e);_0x22db08?this['onCookieAs'+'setAdd'](_0x22db08):(this['_cookieAss'+'etAdd']=!(-0x964*0x4+0x1ace+-0x6*-0x1cb),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x245260){this['_setValue']('cookie',_0x245260,function(_0x339d60,_0x1e60dd){this['light']['cookie']=_0x339d60;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x39df6b){this['_setValue']('cookieInte'+'nsity',_0x39df6b,function(_0x36309a,_0x13e046){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x36309a,-0x50a+-0x1002+-0x543*-0x4,0x1846+-0xbfd*0x1+-0xc48);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4bb073){this['_setValue']('cookieFall'+'off',_0x4bb073,function(_0x2ba137,_0x19e43f){this['light']['cookieFall'+'off']=_0x2ba137;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x4629e4){this['_setValue']('cookieChan'+'nel',_0x4629e4,function(_0x2fc728,_0x4e3543){this['light']['cookieChan'+'nel']=_0x2fc728;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x289aa3){this['_setValue']('cookieAngl'+'e',_0x289aa3,function(_0x3d5252,_0x73d9d2){if(_0x3d5252!==0x52c+-0x5*0x2f3+-0x2b*-0x39||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x3e33a8=-0x22ae+-0x11f*0x2+0x24ed,_0x14ce5f=0x2507*0x1+-0x1*-0x63d+-0x2b43;this['cookieScal'+'e']&&(_0x3e33a8=this['cookieScal'+'e']['x'],_0x14ce5f=this['cookieScal'+'e']['y']);const _0x32e947=Math['cos'](_0x3d5252*Y['DEG_TO_RAD']),_0x3a0818=Math['sin'](_0x3d5252*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x32e947/_0x3e33a8,-_0x3a0818/_0x3e33a8,_0x3a0818/_0x14ce5f,_0x32e947/_0x14ce5f),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x304909){this['_setValue']('cookieScal'+'e',_0x304909,function(_0x550f1d,_0x382d39){if(_0x550f1d!==null||this['cookieAngl'+'e']!==-0x1*-0x25a1+0x847+-0x2de8){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x13d07a=_0x550f1d['x'],_0x5b875f=_0x550f1d['y'],_0x3f3e8e=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x3d8f09=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3f3e8e/_0x13d07a,-_0x3d8f09/_0x13d07a,_0x3d8f09/_0x5b875f,_0x3f3e8e/_0x5b875f),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0xd3f+-0x1*-0x23b1+-0x30f0));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x1bcd5a){this['_setValue']('cookieOffs'+'et',_0x1bcd5a,function(_0x13f837,_0x48cb0f){this['light']['cookieOffs'+'et']=_0x13f837;},!(0x1096+0xe75*-0x2+0xc54));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x227d81){this['_setValue']('shadowUpda'+'teMode',_0x227d81,function(_0x4ba575,_0x4a8670){this['light']['shadowUpda'+'teMode']=_0x4ba575;},!(-0x1*0x1573+-0x11b*-0x4+0x1107));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x16c701){this['_setValue']('mask',_0x16c701,function(_0x1bfb73,_0x302a16){this['light']['mask']=_0x1bfb73;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3638a3){this['_setValue']('affectDyna'+'mic',_0x3638a3,function(_0x153173,_0x51d520){_0x153173?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x355a42){this['_setValue']('affectLigh'+'tmapped',_0x355a42,function(_0x50d3e3,_0x3d7085){_0x50d3e3?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x14b62c){this['_setValue']('bake',_0x14b62c,function(_0x43c403,_0x4447bb){_0x43c403?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0xa9fad4){this['_setValue']('bakeDir',_0xa9fad4,function(_0x1c7d94,_0x4aff3a){this['light']['bakeDir']=_0x1c7d94;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x2e4a23){this['_setValue']('isStatic',_0x2e4a23,function(_0xbf8a9b,_0x5ebb81){this['light']['isStatic']=_0xbf8a9b;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x45f5b7){this['_setValue']('layers',_0x45f5b7,function(_0x11208d,_0x110801){for(let _0x40bbf8=-0x2083+0xcf*0x4+0x1d47*0x1;_0x40bbf8<_0x110801['length'];_0x40bbf8++){const _0x2b748b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x110801[_0x40bbf8]);_0x2b748b&&(_0x2b748b['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2b748b));}for(let _0x56052b=-0xef6*0x1+0x1*-0x1348+-0x3*-0xb6a;_0x56052b<_0x11208d['length'];_0x56052b++){const _0x259157=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x11208d[_0x56052b]);_0x259157&&this['enabled']&&this['entity']['enabled']&&(_0x259157['addLight'](this),this['light']['addLayer'](_0x259157));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x1c5978){this['light']['shadowUpda'+'teOverride'+'s']=_0x1c5978;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x11fb90){this['light']['shadowSamp'+'les']=_0x11fb90;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x1135ff){this['light']['shadowBloc'+'kerSamples']=_0x1135ff;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x427df3){this['light']['penumbraSi'+'ze']=_0x427df3;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x22c514){this['light']['penumbraFa'+'lloff']=_0x22c514;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x484b00,_0x424f1f,_0x59463f,_0x27d4df){const _0x1b75fb=this['data'],_0x45fa00=_0x1b75fb[_0x484b00];!_0x27d4df&&_0x45fa00===_0x424f1f||(_0x1b75fb[_0x484b00]=_0x424f1f,_0x59463f&&_0x59463f['call'](this,_0x424f1f,_0x45fa00));}['addLightTo'+'Layers'](){for(let _0x3cdb14=0x1c*-0x88+-0x5*0x5e4+0x4*0xb15;_0x3cdb14<this['layers']['length'];_0x3cdb14++){const _0x43512d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3cdb14]);_0x43512d&&(_0x43512d['addLight'](this),this['light']['addLayer'](_0x43512d));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x56f705=0x1*0x2577+-0xc89+-0x18ee;_0x56f705<this['layers']['length'];_0x56f705++){const _0x3bb982=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x56f705]);_0x3bb982&&(_0x3bb982['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3bb982));}}['onLayersCh'+'anged'](_0x13513a,_0x3574c4){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x13513a['off']('add',this['onLayerAdd'+'ed'],this),_0x13513a['off']('remove',this['onLayerRem'+'oved'],this),_0x3574c4['on']('add',this['onLayerAdd'+'ed'],this),_0x3574c4['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2ca3f3){this['layers']['indexOf'](_0x2ca3f3['id'])>=-0x1*0xe78+0x17c8*0x1+-0x254*0x4&&this['enabled']&&this['entity']['enabled']&&(_0x2ca3f3['addLight'](this),this['light']['addLayer'](_0x2ca3f3));}['onLayerRem'+'oved'](_0x2b1abb){this['layers']['indexOf'](_0x2b1abb['id'])>=0x2461+0x1*-0x1535+0xf2c*-0x1&&(_0x2b1abb['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2b1abb));}['refreshPro'+'perties'](){for(let _0x120e1e=-0x35*0x48+0x2693+-0x1*0x17ab;_0x120e1e<Ho['length'];_0x120e1e++){const _0x300b2f=Ho[_0x120e1e];this[_0x300b2f]=this[_0x300b2f];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x4a817c=!(-0x1309*0x1+0x1b2b+-0x821*0x1);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x16f2+0x2187+-0x3879),_0x4a817c=!(-0xe*-0x13b+-0x8*-0x31a+-0x2a0a*0x1)),(!this['_cookieAss'+'et']['resource']||_0x4a817c)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x3088e0){this['_cookieAss'+'etId']===_0x3088e0['id']&&(this['_cookieAss'+'et']=_0x3088e0,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x79*0x23+0x31c+-0xa*0x1f7)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x116c86=this['system']['app']['scene'],_0x49ae52=_0x116c86['layers'];this['light']['enabled']=!(0x1d7b+0x15bb*0x1+-0xa3e*0x5),this['_evtLayers'+'Changed']=_0x116c86['on']('set:layers',this['onLayersCh'+'anged'],this),_0x49ae52&&(this['_evtLayerA'+'dded']=_0x49ae52['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x49ae52['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x1aa3a0,_0x26198a,_0x2d8667;const _0x52482d=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1cad+0xd65+-0x2a11),(_0x1aa3a0=this['_evtLayers'+'Changed'])==null||_0x1aa3a0['off'](),this['_evtLayers'+'Changed']=null,_0x52482d&&((_0x26198a=this['_evtLayerA'+'dded'])==null||_0x26198a['off'](),this['_evtLayerA'+'dded']=null,(_0x2d8667=this['_evtLayerR'+'emoved'])==null||_0x2d8667['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x3b956b){super(_0x3b956b),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x234451,_0xbc169d){const _0x501580={..._0xbc169d};_0x501580['type']||(_0x501580['type']=_0x234451['data']['type']),_0x234451['data']['type']=_0x501580['type'],_0x501580['layers']&&Array['isArray'](_0x501580['layers'])&&(_0x501580['layers']=_0x501580['layers']['slice'](-0x12f4+0x6a7+-0x1*-0xc4d)),_0x501580['color']&&Array['isArray'](_0x501580['color'])&&(_0x501580['color']=new ie(_0x501580['color'][-0x16a9+0x4fa*0x5+-0x239*0x1],_0x501580['color'][-0x641*0x5+0x7e6+0x2c*0x88],_0x501580['color'][-0x20af+0x216*-0x4+0xbf*0x37])),_0x501580['cookieOffs'+'et']&&_0x501580['cookieOffs'+'et']instanceof Array&&(_0x501580['cookieOffs'+'et']=new J(_0x501580['cookieOffs'+'et'][0x110b*-0x1+-0x2d9+0x13e4],_0x501580['cookieOffs'+'et'][-0x248e+0x13f7*0x1+0xec*0x12])),_0x501580['cookieScal'+'e']&&_0x501580['cookieScal'+'e']instanceof Array&&(_0x501580['cookieScal'+'e']=new J(_0x501580['cookieScal'+'e'][0xaae*-0x1+0x1d44+0x1*-0x1296],_0x501580['cookieScal'+'e'][0x2*0xd9d+0x1*-0x236d+0x12c*0x7])),_0x501580['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x501580['enabled']=_0x501580['enable']),_0x501580['shape']||(_0x501580['shape']=Ys);const _0x119467=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x119467['type']=fu[_0x501580['type']],_0x119467['_node']=_0x234451['entity'],_0x234451['data']['light']=_0x119467,super['initialize'+'ComponentD'+'ata'](_0x234451,_0x501580,Ho);}['_onRemoveC'+'omponent'](_0x482d37,_0x6f102d){_0x6f102d['onRemove']();}['cloneCompo'+'nent'](_0x11e029,_0x484463){const _0x4bff83=_0x11e029['light'],_0x3a8bac=[];let _0x5856c1;for(let _0x2ee32d=-0x23e3*0x1+-0x1cc9+0x4*0x102b;_0x2ee32d<Ho['length'];_0x2ee32d++)_0x5856c1=Ho[_0x2ee32d],_0x5856c1!=='light'&&(_0x4bff83[_0x5856c1]&&_0x4bff83[_0x5856c1]['clone']?_0x3a8bac[_0x5856c1]=_0x4bff83[_0x5856c1]['clone']():_0x3a8bac[_0x5856c1]=_0x4bff83[_0x5856c1]);return this['addCompone'+'nt'](_0x484463,_0x3a8bac);}['changeType'](_0x458ea1,_0x1be562,_0x50efa6){_0x1be562!==_0x50efa6&&(_0x458ea1['light']['type']=fu[_0x50efa6]);}}const EF=['x','y','z','w'],bF=[void(0x1*-0x2141+-0x7*-0x4f3+0x1*-0x164),void(0x2*0x18b+-0xf71+0xc5b),J,D,re];function Yn(_0x5490ed,_0x4afc14,_0x2e1437,_0x22e89d){switch(_0x4afc14['type']){case'boolean':return!!_0x2e1437;case'number':if(typeof _0x2e1437=='number')return _0x2e1437;if(typeof _0x2e1437=='string'){const _0x25cb8a=parseInt(_0x2e1437,0x2c*-0x2f+0xc63+-0x1*0x445);return isNaN(_0x25cb8a)?null:_0x25cb8a;}else{if(typeof _0x2e1437=='boolean')return-0x17*0x116+-0x264c+-0x90a*-0x7+_0x2e1437;}return null;case'json':{const _0x6dbff1={};if(Array['isArray'](_0x4afc14['schema'])){(!_0x2e1437||typeof _0x2e1437!='object')&&(_0x2e1437={});for(let _0x41cb04=0x1bd1+0x1ee0+-0x3ab1;_0x41cb04<_0x4afc14['schema']['length'];_0x41cb04++){const _0xc2a689=_0x4afc14['schema'][_0x41cb04];if(_0xc2a689['name']){if(_0xc2a689['array']){_0x6dbff1[_0xc2a689['name']]=[];const _0x5d37d0=Array['isArray'](_0x2e1437[_0xc2a689['name']])?_0x2e1437[_0xc2a689['name']]:[];for(let _0x2bf0e5=-0xbc1+-0x1b18+0x26d9;_0x2bf0e5<_0x5d37d0['length'];_0x2bf0e5++)_0x6dbff1[_0xc2a689['name']]['push'](Yn(_0x5490ed,_0xc2a689,_0x5d37d0[_0x2bf0e5]));}else{const _0x30abc5=_0x2e1437['hasOwnProp'+'erty'](_0xc2a689['name'])?_0x2e1437[_0xc2a689['name']]:_0xc2a689['default'];_0x6dbff1[_0xc2a689['name']]=Yn(_0x5490ed,_0xc2a689,_0x30abc5);}}}}return _0x6dbff1;}case'asset':return _0x2e1437 instanceof pe?_0x2e1437:typeof _0x2e1437=='number'?_0x5490ed['assets']['get'](_0x2e1437)||null:typeof _0x2e1437=='string'&&_0x5490ed['assets']['get'](parseInt(_0x2e1437,0x1cd3+0x12d*0x5+-0x22aa))||null;case'entity':return _0x2e1437 instanceof Ie?_0x2e1437:typeof _0x2e1437=='string'?_0x5490ed['getEntityF'+'romIndex'](_0x2e1437):null;case'rgb':case'rgba':if(_0x2e1437 instanceof ie)return _0x22e89d instanceof ie?(_0x22e89d['copy'](_0x2e1437),_0x22e89d):_0x2e1437['clone']();if(_0x2e1437 instanceof Array&&_0x2e1437['length']>=0x192f+-0xe3*-0x26+-0x3ade&&_0x2e1437['length']<=-0x17af+0x1*0xe7d+0x6*0x189){for(let _0x6d935b=0x17ce*-0x1+-0x5*0x61f+0x3669;_0x6d935b<_0x2e1437['length'];_0x6d935b++)if(typeof _0x2e1437[_0x6d935b]!='number')return null;return _0x22e89d||(_0x22e89d=new ie()),_0x22e89d['r']=_0x2e1437[-0x3*-0xcc0+-0x42+-0x25fe],_0x22e89d['g']=_0x2e1437[0x3d*-0x6+-0x1802+0x1971],_0x22e89d['b']=_0x2e1437[0xad7+-0x123e+0x769],_0x22e89d['a']=_0x2e1437['length']===0x3*-0xb92+-0x15d8+0x3891?-0x241*-0xb+0x16a4+-0x1*0x2f6e:_0x2e1437[-0xffd*-0x1+0x206e+-0x60d*0x8],_0x22e89d;}else{if(typeof _0x2e1437=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x2e1437))return _0x22e89d||(_0x22e89d=new ie()),_0x22e89d['fromString'](_0x2e1437),_0x22e89d;}return null;case'vec2':case'vec3':case'vec4':{const _0x2637ac=parseInt(_0x4afc14['type']['slice'](-0xe3c+0x805+-0x1*-0x63a),-0x17d*-0x11+-0x1aec+0x1*0x1a9),_0x288b70=bF[_0x2637ac];if(_0x2e1437 instanceof _0x288b70)return _0x22e89d instanceof _0x288b70?(_0x22e89d['copy'](_0x2e1437),_0x22e89d):_0x2e1437['clone']();if(_0x2e1437 instanceof Array&&_0x2e1437['length']===_0x2637ac){for(let _0x2458ba=-0x977*0x3+-0x1671*0x1+-0x12*-0x2d3;_0x2458ba<_0x2e1437['length'];_0x2458ba++)if(typeof _0x2e1437[_0x2458ba]!='number')return null;_0x22e89d||(_0x22e89d=new _0x288b70());for(let _0x4e0c00=0x23e4+-0x1*0x1036+-0x13ae;_0x4e0c00<_0x2637ac;_0x4e0c00++)_0x22e89d[EF[_0x4e0c00]]=_0x2e1437[_0x4e0c00];return _0x22e89d;}return null;}case'curve':if(_0x2e1437){let _0x55d1ac;if(_0x2e1437 instanceof qs||_0x2e1437 instanceof na)_0x55d1ac=_0x2e1437['clone']();else{const _0x49b6b7=_0x2e1437['keys'][-0x21d7+-0xf*-0xd6+0x154d]instanceof Array?na:qs;_0x55d1ac=new _0x49b6b7(_0x2e1437['keys']),_0x55d1ac['type']=_0x2e1437['type'];}return _0x55d1ac;}break;}return _0x2e1437;}function _0(_0x314215,_0x364a6e,_0x687849,_0x403bee){return _0x364a6e['array']?_0x687849['map']((_0x5139dc,_0x47407b)=>Yn(_0x314215,_0x364a6e,_0x5139dc,_0x403bee?_0x403bee[_0x47407b]:null)):Yn(_0x314215,_0x364a6e,_0x687849,_0x403bee);}function g0(_0x34a868,_0x39dc4e,_0x56150b,_0x576b3f){if(_0x56150b)for(const _0x1abfca in _0x39dc4e){const _0x17940f=_0x39dc4e[_0x1abfca],_0x468e06=_0x56150b[_0x1abfca];_0x468e06!==void(-0x1cef+-0x2*-0xcf1+0x30d)&&(_0x576b3f[_0x1abfca]=_0(_0x34a868,_0x17940f,_0x468e06,_0x576b3f[_0x1abfca]));}}const yn=class yn{constructor(_0x5e1d50){this['scriptType']=_0x5e1d50,this['index']={};}['add'](_0x1b6a45,_0x140321){if(this['index'][_0x1b6a45]){w['warn']('attribute\x20'+'\x27'+_0x1b6a45+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x1b6a45)){w['warn']('attribute\x20'+'\x27'+_0x1b6a45+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x1b6a45]=_0x140321,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x1b6a45,{'get':function(){return this['__attribut'+'es'][_0x1b6a45];},'set':function(_0x2b90df){const _0x58e4a4='attr',_0x3ee028='attr:'+_0x1b6a45,_0x583d9d=this['__attribut'+'es'][_0x1b6a45];let _0x47f857=_0x583d9d;if(_0x583d9d&&_0x140321['type']!=='json'&&_0x140321['type']!=='entity'&&_0x583d9d['clone']&&(this['hasEvent'](_0x58e4a4)||this['hasEvent'](_0x3ee028))&&(_0x47f857=_0x583d9d['clone']()),_0x140321['array']){if(this['__attribut'+'es'][_0x1b6a45]=[],_0x2b90df){for(let _0x2fa138=0x255d+-0x1*-0x22d5+0x2419*-0x2,_0x475217=_0x2b90df['length'];_0x2fa138<_0x475217;_0x2fa138++)this['__attribut'+'es'][_0x1b6a45]['push'](Yn(this['app'],_0x140321,_0x2b90df[_0x2fa138],_0x583d9d?_0x583d9d[_0x2fa138]:null));}}else this['__attribut'+'es'][_0x1b6a45]=Yn(this['app'],_0x140321,_0x2b90df,_0x583d9d);this['fire'](_0x58e4a4,_0x1b6a45,this['__attribut'+'es'][_0x1b6a45],_0x47f857),this['fire'](_0x3ee028,this['__attribut'+'es'][_0x1b6a45],_0x47f857);}});}['remove'](_0x58b86a){return this['index'][_0x58b86a]?(delete this['index'][_0x58b86a],delete this['scriptType']['prototype'][_0x58b86a],!(0x10*-0x102+-0x656+0xa*0x23f)):!(-0x1*0x13d6+-0x1*0x1057+0x242e);}['has'](_0x5f30b4){return!!this['index'][_0x5f30b4];}['get'](_0x377c9d){return this['index'][_0x377c9d]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x3bef6c){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x3bef6c);}set['enabled'](_0x352d22){this['_enabled']=!!_0x352d22,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x1*-0x1824+-0x64f+-0x11d5),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x4*0x650+0x2*0x1209+-0xad2),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x33e130){const _0x393016=this['constructo'+'r'];w['assert'](_0x33e130&&_0x33e130['app']&&_0x33e130['entity'],'script\x20['+_0x393016['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x33e130['app'],this['entity']=_0x33e130['entity'],this['_enabled']=typeof _0x33e130['enabled']=='boolean'?_0x33e130['enabled']:!(0x18e0+0x3*-0x8b7+0x41*0x5),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x2*0x2ab+0x1*0x165e+-0x1107),this['__scriptTy'+'pe']=_0x393016,this['__executio'+'nOrder']=-(0x1*-0x84d+0x11d7+-0x989);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x21cd58){if(typeof _0x21cd58!='function')return;if(_0x21cd58['scriptName'])return _0x21cd58['scriptName'];if('name'in Function['prototype'])return _0x21cd58['name'];if(_0x21cd58===Function||_0x21cd58===Function['prototype']['constructo'+'r'])return'Function';const _0x38dd8a=(''+_0x21cd58)['match'](MF);return _0x38dd8a?_0x38dd8a[0x1*-0x11b8+0x1b1c+0x1*-0x963]:void(-0x242*0x1+-0xbe5+0xe27);}class Wo extends ts{constructor(_0x32941d){super(_0x32941d),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x32941d);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x37e23e){ts['prototype']['initScript']['call'](this,_0x37e23e),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x37e23e['attributes']||{};}['initScript'+'Type'](_0x58aa0a){this['initScript'](_0x58aa0a);}['__initiali'+'zeAttribut'+'es'](_0x5173fe){if(!(!_0x5173fe&&!this['__attribut'+'esRaw'])){for(const _0x18368c in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x18368c)?this[_0x18368c]=this['__attribut'+'esRaw'][_0x18368c]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x18368c)||(this['__scriptTy'+'pe']['attributes']['index'][_0x18368c]['hasOwnProp'+'erty']('default')?this[_0x18368c]=this['__scriptTy'+'pe']['attributes']['index'][_0x18368c]['default']:this[_0x18368c]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x23068e){for(const _0x452fef in _0x23068e)_0x23068e['hasOwnProp'+'erty'](_0x452fef)&&(this['prototype'][_0x452fef]=_0x23068e[_0x452fef]);}}const DF=_0x5435d1=>_0x5435d1[0x1*0xf7c+-0x1759+-0xb7*-0xb]['toLowerCas'+'e']()+_0x5435d1['substring'](-0x1982+-0x687+0x6*0x557);class Ii extends we{constructor(_0xa18c22,_0x1e4a36){super(_0xa18c22,_0x1e4a36),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0xa8b+0x1*-0x939+0x13c5),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*-0x1e0d+-0x1e9b+-0x47*-0x2),this['_enabled']=!(-0x19f+0xb07+0x1c*-0x56),this['_beingEnab'+'led']=!(0x255c+0x2244+-0x479f),this['_isLooping'+'ThroughScr'+'ipts']=!(-0xb6c+0x1*0x19bb+-0xe4e),this['_execution'+'Order']=-(-0xa44*0x2+-0x1998+-0x31*-0xf1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x1b6e9f){this['_scriptsDa'+'ta']=_0x1b6e9f;for(const _0x32b3cc in _0x1b6e9f){if(!_0x1b6e9f['hasOwnProp'+'erty'](_0x32b3cc))continue;const _0xffe750=this['_scriptsIn'+'dex'][_0x32b3cc];if(_0xffe750){if(typeof _0x1b6e9f[_0x32b3cc]['enabled']=='boolean'&&(_0xffe750['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0xffe750);}),_0xffe750['enabled']=!!_0x1b6e9f[_0x32b3cc]['enabled']),typeof _0x1b6e9f[_0x32b3cc]['attributes']=='object'){for(const _0x4bf64b in _0x1b6e9f[_0x32b3cc]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x4bf64b)){if(!_0xffe750['__attribut'+'es']['hasOwnProp'+'erty'](_0x4bf64b)){const _0x462c78=this['system']['app']['scripts']['get'](_0x32b3cc);_0x462c78&&_0x462c78['attributes']['add'](_0x4bf64b,{});}_0xffe750[_0x4bf64b]=_0x1b6e9f[_0x32b3cc]['attributes'][_0x4bf64b];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x503a72){const _0x481c32=this['_enabled'];this['_enabled']=_0x503a72,this['fire']('set','enabled',_0x481c32,_0x503a72);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x21eb+0xd*-0x10d+0x2f94),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x247d+-0x1773*-0x1+0x1*0xd0b);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x322c4f=this['_beginLoop'+'ing']();for(let _0x4aed6b=0x1bff+0xd9d+0x14ce*-0x2,_0x38791d=this['scripts']['length'];_0x4aed6b<_0x38791d;_0x4aed6b++){const _0x2e21c4=this['scripts'][_0x4aed6b];_0x2e21c4['_initializ'+'ed']&&!_0x2e21c4['_postIniti'+'alized']&&_0x2e21c4['enabled']&&(_0x2e21c4['_postIniti'+'alized']=!(-0x37*0x6d+0x1f6c+-0x1*0x801),_0x2e21c4['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2e21c4,zu));}this['_endLoopin'+'g'](_0x322c4f);}['_beginLoop'+'ing'](){const _0x391a75=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1013+0x61b*0x5+0x4*-0x39d),_0x391a75;}['_endLoopin'+'g'](_0x24b5e8){this['_isLooping'+'ThroughScr'+'ipts']=_0x24b5e8,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x14089f,_0x5e1ebf,_0x58b4b5){this['_beingEnab'+'led']=!(0xb09*-0x2+-0x69d*-0x4+0x231*-0x2),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x1427+-0x1ee*-0x1+0x123a);}['_checkStat'+'e'](){const _0x5da94a=this['enabled']&&this['entity']['enabled'];if(_0x5da94a===this['_oldState'])return;this['_oldState']=_0x5da94a,this['fire'](_0x5da94a?'enable':'disable'),this['fire']('state',_0x5da94a),_0x5da94a?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x5314f5=this['_beginLoop'+'ing']();for(let _0x18ced6=-0x232e+-0x1fa2+0x42d0,_0x38e417=this['scripts']['length'];_0x18ced6<_0x38e417;_0x18ced6++){const _0x352d09=this['scripts'][_0x18ced6];_0x352d09['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x352d09);}),_0x352d09['enabled']=_0x352d09['_enabled'];}this['_endLoopin'+'g'](_0x5314f5);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x23e5f4=this['_beginLoop'+'ing']();for(let _0x58fc02=-0x237a*-0x1+0x4*0x7f+-0x112*0x23;_0x58fc02<this['scripts']['length'];_0x58fc02++){const _0x672a6f=this['scripts'][_0x58fc02];_0x672a6f&&this['destroy'](_0x672a6f['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x23e5f4);}['_removeDes'+'troyedScri'+'pts'](){const _0x389b74=this['_destroyed'+'Scripts']['length'];if(_0x389b74){for(let _0x217f3e=-0x1*-0xac1+0x1ebd+-0x297e;_0x217f3e<_0x389b74;_0x217f3e++){const _0xb91f00=this['_destroyed'+'Scripts'][_0x217f3e];this['_removeScr'+'iptInstanc'+'e'](_0xb91f00);}this['_destroyed'+'Scripts']['length']=0xa*0x1a5+0x496*-0x4+-0xa2*-0x3,this['_resetExec'+'utionOrder'](-0x1*0x24dd+0x15f6+0xee7,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x467ea1=0x59+-0x16d*0x2+-0x281*-0x1,_0xee4c30=this['scripts']['length'];_0x467ea1<_0xee4c30;_0x467ea1++){const _0x252ded=this['scripts'][_0x467ea1];this['initialize'+'Attributes'](_0x252ded);}}['initialize'+'Attributes'](_0x33aedf){var _0x2f9812;if(_0x33aedf instanceof Wo)_0x33aedf['__initiali'+'zeAttribut'+'es']();else{const _0x5f29b6=_0x33aedf['__scriptTy'+'pe']['__name'],_0x562328=this['_attribute'+'DataMap']['get'](_0x5f29b6);if(!_0x562328)return;const _0x40f755=(_0x2f9812=this['system']['app']['scripts'])==null?void(0x1*0xd51+0x1*0x153+-0x1*0xea4):_0x2f9812['getSchema'](_0x5f29b6);_0x40f755||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x5f29b6+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x40f755['attributes'],_0x562328,_0x33aedf);}}['_scriptMet'+'hod'](_0x8e3197,_0xcb7002,_0xffe0f2){try{_0x8e3197[_0xcb7002](_0xffe0f2);}catch(_0x47d6f5){_0x8e3197['enabled']=!(-0x1*-0x210a+0x3*-0x88d+0xa*-0xbd),_0x8e3197['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0xcb7002+'\x22\x20for\x20\x22'+_0x8e3197['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x47d6f5),console['error'](_0x47d6f5)),_0x8e3197['fire']('error',_0x47d6f5,_0xcb7002),this['fire']('error',_0x8e3197,_0x47d6f5,_0xcb7002);}}['_onInitial'+'ize'](){const _0x2a5d48=this['_scripts'],_0x3636e4=this['_beginLoop'+'ing']();for(let _0x43245c=-0xba5*0x2+-0xbb6*-0x1+0xb94,_0x4c352b=_0x2a5d48['length'];_0x43245c<_0x4c352b;_0x43245c++){const _0x4c2d79=_0x2a5d48[_0x43245c];!_0x4c2d79['_initializ'+'ed']&&_0x4c2d79['enabled']&&(_0x4c2d79['_initializ'+'ed']=!(0xe53*-0x2+-0x215c+0x3e02),_0x4c2d79['initialize']&&this['_scriptMet'+'hod'](_0x4c2d79,Bu));}this['_endLoopin'+'g'](_0x3636e4);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3683e0){const _0x55b369=this['_updateLis'+'t'];if(!_0x55b369['length'])return;const _0x532896=this['_beginLoop'+'ing']();for(_0x55b369['loopIndex']=-0x16f3+0x1*-0x295+0x1988;_0x55b369['loopIndex']<_0x55b369['length'];_0x55b369['loopIndex']++){const _0x52a443=_0x55b369['items'][_0x55b369['loopIndex']];_0x52a443['enabled']&&this['_scriptMet'+'hod'](_0x52a443,AF,_0x3683e0);}this['_endLoopin'+'g'](_0x532896);}['_onPostUpd'+'ate'](_0x2dbdf4){const _0x42839a=this['_postUpdat'+'eList'];if(!_0x42839a['length'])return;const _0x1d0565=this['_beginLoop'+'ing']();for(_0x42839a['loopIndex']=-0x2621+-0x289+-0x5*-0x822;_0x42839a['loopIndex']<_0x42839a['length'];_0x42839a['loopIndex']++){const _0x2cac38=_0x42839a['items'][_0x42839a['loopIndex']];_0x2cac38['enabled']&&this['_scriptMet'+'hod'](_0x2cac38,CF,_0x2dbdf4);}this['_endLoopin'+'g'](_0x1d0565);}['_insertScr'+'iptInstanc'+'e'](_0x2c78d0,_0x1f1ab2,_0x4e6ab3){_0x1f1ab2===-(0x1467+-0x1*-0x2291+-0x36f7*0x1)?(this['_scripts']['push'](_0x2c78d0),_0x2c78d0['__executio'+'nOrder']=_0x4e6ab3,_0x2c78d0['update']&&this['_updateLis'+'t']['append'](_0x2c78d0),_0x2c78d0['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x2c78d0)):(this['_scripts']['splice'](_0x1f1ab2,0x13ea+0x240*-0x11+0x2*0x92b,_0x2c78d0),_0x2c78d0['__executio'+'nOrder']=_0x1f1ab2,this['_resetExec'+'utionOrder'](_0x1f1ab2+(0x221d+-0x8f6+0x862*-0x3),_0x4e6ab3+(-0x22b9+-0x1*0x26d5+0x498f)),_0x2c78d0['update']&&this['_updateLis'+'t']['insert'](_0x2c78d0),_0x2c78d0['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2c78d0));}['_removeScr'+'iptInstanc'+'e'](_0xa99bf4){const _0xf5735f=this['_scripts']['indexOf'](_0xa99bf4);return _0xf5735f===-(-0x2047*-0x1+0x131c+-0x3362)||(this['_scripts']['splice'](_0xf5735f,-0x195a+-0x11f6+0x2b51),_0xa99bf4['update']&&this['_updateLis'+'t']['remove'](_0xa99bf4),_0xa99bf4['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0xa99bf4)),_0xf5735f;}['_resetExec'+'utionOrder'](_0x53c677,_0x49e44f){for(let _0x1ac099=_0x53c677;_0x1ac099<_0x49e44f;_0x1ac099++)this['_scripts'][_0x1ac099]['__executio'+'nOrder']=_0x1ac099;}['_resolveEn'+'tityScript'+'Attribute'](_0x15a828,_0x59f560,_0x56acd8,_0x356490,_0x5bcdd6,_0x4f1900){if(_0x15a828['array']){const _0x20736b=_0x56acd8['length'];if(!_0x20736b)return;const _0x1b8c51=_0x56acd8['slice']();for(let _0xb4724e=-0xbf+-0x14a4+0x1563;_0xb4724e<_0x20736b;_0xb4724e++){const _0x2fa23c=_0x1b8c51[_0xb4724e]instanceof lt?_0x1b8c51[_0xb4724e]['getGuid']():_0x1b8c51[_0xb4724e];_0x4f1900[_0x2fa23c]&&(_0x1b8c51[_0xb4724e]=_0x356490?_0x4f1900[_0x2fa23c]['getGuid']():_0x4f1900[_0x2fa23c]);}_0x5bcdd6[_0x59f560]=_0x1b8c51;}else{if(_0x56acd8 instanceof lt)_0x56acd8=_0x56acd8['getGuid']();else{if(typeof _0x56acd8!='string')return;}_0x4f1900[_0x56acd8]&&(_0x5bcdd6[_0x59f560]=_0x4f1900[_0x56acd8]);}}['has'](_0x48c4c2){if(typeof _0x48c4c2=='string')return!!this['_scriptsIn'+'dex'][_0x48c4c2];if(!_0x48c4c2)return!(0xc*-0xb3+-0xa8*-0x1a+-0x8ab);const _0x49e123=_0x48c4c2,_0x4592a1=_0x49e123['__name'],_0x45f2de=this['_scriptsIn'+'dex'][_0x4592a1];return(_0x45f2de&&_0x45f2de['instance'])instanceof _0x49e123;}['get'](_0xd9e002){if(typeof _0xd9e002=='string'){const _0x2f818f=this['_scriptsIn'+'dex'][_0xd9e002];return _0x2f818f?_0x2f818f['instance']:null;}if(!_0xd9e002)return null;const _0x277286=_0xd9e002,_0x38d466=_0x277286['__name'],_0x4aaa09=this['_scriptsIn'+'dex'][_0x38d466],_0x542b87=_0x4aaa09&&_0x4aaa09['instance'];return _0x542b87 instanceof _0x277286?_0x542b87:null;}['create'](_0x29c87e,_0x550329={}){const _0x1b9e11=this;let _0x1107fc=_0x29c87e,_0x56a9c4=_0x29c87e;if(typeof _0x1107fc=='string')_0x1107fc=this['system']['app']['scripts']['get'](_0x1107fc);else{if(_0x1107fc){const _0xcec906=S0(_0x1107fc),_0x22bea7=DF(_0xcec906);!(_0x1107fc['prototype']instanceof Wo)&&!_0x1107fc['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xcec906+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xcec906+('.scriptNam'+'e\x20=\x20\x22')+_0x22bea7+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x1107fc['__name']??(_0x1107fc['__name']=_0x1107fc['scriptName']??_0x22bea7),_0x56a9c4=_0x1107fc['__name'];}}if(_0x1107fc){if(!this['_scriptsIn'+'dex'][_0x56a9c4]||!this['_scriptsIn'+'dex'][_0x56a9c4]['instance']){const _0x2c7274=new _0x1107fc({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x550329['hasOwnProp'+'erty']('enabled')?_0x550329['enabled']:!(-0x2328+0x1f42*-0x1+0x2*0x2135),'attributes':_0x550329['attributes']||{}});_0x550329['properties']&&typeof _0x550329['properties']=='object'&&Object['assign'](_0x2c7274,_0x550329['properties']),_0x2c7274 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x56a9c4,_0x550329['attributes']);const _0x1dc076=this['_scripts']['length'];let _0x1bb406=-(-0x21b4+-0xa3*-0x1b+0x1084);return typeof _0x550329['ind']=='number'&&_0x550329['ind']!==-(0x41*-0x55+-0x1720+-0x165b*-0x2)&&_0x1dc076>_0x550329['ind']&&(_0x1bb406=_0x550329['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x2c7274,_0x1bb406,_0x1dc076),this['_scriptsIn'+'dex'][_0x56a9c4]={'instance':_0x2c7274,'onSwap':function(){_0x1b9e11['swap'](_0x56a9c4);}},this[_0x56a9c4]=_0x2c7274,_0x550329['preloading']||this['initialize'+'Attributes'](_0x2c7274),this['fire']('create',_0x56a9c4,_0x2c7274),this['fire']('create:'+_0x56a9c4,_0x2c7274),this['system']['app']['scripts']['on']('swap:'+_0x56a9c4,this['_scriptsIn'+'dex'][_0x56a9c4]['onSwap']),_0x550329['preloading']||(_0x2c7274['enabled']&&!_0x2c7274['_initializ'+'ed']&&(_0x2c7274['_initializ'+'ed']=!(0x35*0xa9+-0xb*-0x37+-0x255a),_0x2c7274['initialize']&&this['_scriptMet'+'hod'](_0x2c7274,Bu)),_0x2c7274['enabled']&&!_0x2c7274['_postIniti'+'alized']&&(_0x2c7274['_postIniti'+'alized']=!(-0x54f+-0x5ec*-0x2+-0x689),_0x2c7274['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2c7274,zu))),_0x2c7274;}w['warn']('script\x20\x27'+_0x56a9c4+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x56a9c4]={'awaiting':!(-0x1658+0xb*0x137+0x8fb*0x1),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x56a9c4+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x373173){let _0xc2a894=_0x373173,_0x2db8b3=_0x373173;typeof _0x2db8b3=='string'?_0x2db8b3=this['system']['app']['scripts']['get'](_0x2db8b3):_0x2db8b3&&(_0xc2a894=_0x2db8b3['__name']);const _0xf64568=this['_scriptsIn'+'dex'][_0xc2a894];if(delete this['_scriptsIn'+'dex'][_0xc2a894],!_0xf64568)return!(-0x1690+0x1*0x119+0x6*0x394);this['_attribute'+'DataMap']['delete'](_0xc2a894);const _0x2ef5c7=_0xf64568['instance'];if(_0x2ef5c7&&!_0x2ef5c7['_destroyed']){if(_0x2ef5c7['enabled']=!(0x202*0xd+0x1a89+0x34a2*-0x1),_0x2ef5c7['_destroyed']=!(-0x5*-0x3c5+-0x2*0xefd+0x103*0xb),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2ef5c7);else{const _0x51ec4d=this['_removeScr'+'iptInstanc'+'e'](_0x2ef5c7);_0x51ec4d>=-0x1917+0x1fcf+-0xac*0xa&&this['_resetExec'+'utionOrder'](_0x51ec4d,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0xc2a894,_0xf64568['onSwap']),delete this[_0xc2a894],this['fire']('destroy',_0xc2a894,_0x2ef5c7||null),this['fire']('destroy:'+_0xc2a894,_0x2ef5c7||null),_0x2ef5c7&&_0x2ef5c7['fire']('destroy'),!(0x207a+0x5b*0x49+0x1*-0x3a6d);}['swap'](_0x7e3ef9){let _0xc92359=_0x7e3ef9,_0x2e48b5=_0x7e3ef9;typeof _0x2e48b5=='string'?_0x2e48b5=this['system']['app']['scripts']['get'](_0x2e48b5):_0x2e48b5&&(_0xc92359=_0x2e48b5['__name']);const _0x5c3cee=this['_scriptsIn'+'dex'][_0xc92359];if(!_0x5c3cee||!_0x5c3cee['instance'])return!(-0x262e+-0x1*0x15db+-0x212*-0x1d);const _0x3cd8b3=_0x5c3cee['instance'],_0x47a43b=this['_scripts']['indexOf'](_0x3cd8b3),_0x447ae1=new _0x2e48b5({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3cd8b3['enabled'],'attributes':_0x3cd8b3['__attribut'+'es']});return _0x447ae1['swap']?(this['initialize'+'Attributes'](_0x447ae1),this['_scripts'][_0x47a43b]=_0x447ae1,this['_scriptsIn'+'dex'][_0xc92359]['instance']=_0x447ae1,this[_0xc92359]=_0x447ae1,_0x447ae1['__executio'+'nOrder']=_0x47a43b,_0x3cd8b3['update']&&this['_updateLis'+'t']['remove'](_0x3cd8b3),_0x3cd8b3['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x3cd8b3),_0x447ae1['update']&&this['_updateLis'+'t']['insert'](_0x447ae1),_0x447ae1['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x447ae1),this['_scriptMet'+'hod'](_0x447ae1,PF,_0x3cd8b3),this['fire']('swap',_0xc92359,_0x447ae1),this['fire']('swap:'+_0xc92359,_0x447ae1),!(-0x153d+0x640+0xefd)):!(-0x18d7*0x1+0xaf7+0xde1);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb54fb4,_0x781d50){var _0x2f8378,_0x4c39ed,_0x560dc2;const _0x307341=this['entity']['script'];for(const _0x2a7ea0 in _0xb54fb4['_scriptsIn'+'dex']){const _0x591043=this['system']['app']['scripts']['get'](_0x2a7ea0);if(!_0x591043)continue;const _0x370771=_0xb54fb4['_scriptsIn'+'dex'][_0x2a7ea0];if(!_0x370771||!_0x370771['instance'])continue;const _0x52e4d4=_0x307341[_0x2a7ea0]['__attribut'+'esRaw']??_0x307341['_attribute'+'DataMap']['get'](_0x2a7ea0),_0x3c6b15=_0x307341[_0x2a7ea0]['__attribut'+'es'];if(!_0x52e4d4&&!_0x3c6b15)continue;const _0x2b2b08=!!_0x52e4d4,_0x432b86=_0x370771['instance']['__attribut'+'es']??_0x307341['_attribute'+'DataMap']['get'](_0x2a7ea0);for(const _0x1b4f69 in _0x432b86){if(!_0x432b86[_0x1b4f69])continue;const _0xbd756f=((_0x2f8378=_0x591043['attributes'])==null?void(-0x1a3*-0x12+0x1fdb*-0x1+0x265*0x1):_0x2f8378['get'](_0x1b4f69))??((_0x560dc2=(_0x4c39ed=this['system']['app']['scripts']['getSchema'](_0x2a7ea0))==null?void(-0x4*0x35b+-0x7*-0xdf+-0x753*-0x1):_0x4c39ed['attributes'])==null?void(-0x102c+-0x140+-0xdf*-0x14):_0x560dc2[_0x1b4f69]);if(_0xbd756f){if(_0xbd756f['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0xbd756f,_0x1b4f69,_0x432b86[_0x1b4f69],_0x2b2b08,_0x52e4d4||_0x3c6b15,_0x781d50);else{if(_0xbd756f['type']==='json'&&Array['isArray'](_0xbd756f['schema'])){const _0x3cb6ed=_0x432b86[_0x1b4f69],_0x1c57cb=_0x52e4d4?_0x52e4d4[_0x1b4f69]:_0x3c6b15[_0x1b4f69];for(let _0x346c58=-0x2244*-0x1+0x2*0xaed+-0x381e*0x1;_0x346c58<_0xbd756f['schema']['length'];_0x346c58++){const _0x1321bb=_0xbd756f['schema'][_0x346c58];if(_0x1321bb['type']==='entity'){if(_0xbd756f['array']){for(let _0x33a32d=-0x20c+0xce6+0x3*-0x39e;_0x33a32d<_0x3cb6ed['length'];_0x33a32d++)this['_resolveEn'+'tityScript'+'Attribute'](_0x1321bb,_0x1321bb['name'],_0x3cb6ed[_0x33a32d][_0x1321bb['name']],_0x2b2b08,_0x1c57cb[_0x33a32d],_0x781d50);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x1321bb,_0x1321bb['name'],_0x3cb6ed[_0x1321bb['name']],_0x2b2b08,_0x1c57cb,_0x781d50);}}}}}}}}['move'](_0x28f4c9,_0x237023){const _0x3dca99=this['_scripts']['length'];if(_0x237023>=_0x3dca99||_0x237023<-0x1*0x145b+0x1e5e+0xb*-0xe9)return!(0x6ef*0x5+0x97+-0x5f*0x5f);let _0x254aeb=_0x28f4c9,_0x1a994f=_0x28f4c9;typeof _0x1a994f!='string'?_0x1a994f=_0x28f4c9['__name']:_0x254aeb=null;const _0x15273f=this['_scriptsIn'+'dex'][_0x1a994f];if(!_0x15273f||!_0x15273f['instance'])return!(0x209c*-0x1+0x1*-0x1e4d+0x3eea);const _0x392559=_0x15273f['instance'];if(_0x254aeb&&!(_0x392559 instanceof _0x254aeb))return!(-0x540+-0x12a*-0x1f+-0x1*0x1ed5);const _0x2f79f0=this['_scripts']['indexOf'](_0x392559);return _0x2f79f0===-(0x10*0x18+0x1530+0x16af*-0x1)||_0x2f79f0===_0x237023?!(-0x1c44+0x2*-0x71e+0x345*0xd):(this['_scripts']['splice'](_0x237023,-0x34a*-0x2+0x22c4+-0x2958,this['_scripts']['splice'](_0x2f79f0,0x1*0x1105+-0x33*-0x9f+0x2d*-0x115)[-0x2f2+0x8e*-0x3d+-0x16*-0x1ac]),this['_resetExec'+'utionOrder'](-0xf30+0x1693*0x1+-0x763,_0x3dca99),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x1a994f,_0x392559,_0x237023,_0x2f79f0),this['fire']('move:'+_0x1a994f,_0x392559,_0x237023,_0x2f79f0),!(-0xe7*0x29+0x1b0b+0x9f4));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x1e7e+0x983+-0x85*0x4d);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x507+-0x16b+0x4d*-0xc;class kF extends ct{constructor(_0x1d6ac4){super(_0x1d6ac4),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1*0x1426+0x2504+-0x392a),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x2b8a1a,_0x33d37c){if(_0x2b8a1a['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x2b8a1a),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x2b8a1a['enabled']=_0x33d37c['hasOwnProp'+'erty']('enabled')?!!_0x33d37c['enabled']:!(0x100a+0x18ac+0x6c9*-0x6),_0x2b8a1a['enabled']&&_0x2b8a1a['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x2b8a1a),_0x33d37c['hasOwnProp'+'erty']('order')&&_0x33d37c['hasOwnProp'+'erty']('scripts')){_0x2b8a1a['_scriptsDa'+'ta']=_0x33d37c['scripts'];for(let _0x2d4e17=-0x14f*-0x1d+0x1572+-0x3b65;_0x2d4e17<_0x33d37c['order']['length'];_0x2d4e17++)_0x2b8a1a['create'](_0x33d37c['order'][_0x2d4e17],{'enabled':_0x33d37c['scripts'][_0x33d37c['order'][_0x2d4e17]]['enabled'],'attributes':_0x33d37c['scripts'][_0x33d37c['order'][_0x2d4e17]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x23397e,_0x91e38e){var _0xbad524;const _0x4b2c62=[],_0x314f2a={};for(let _0x1abadf=-0x1ecb+-0x1*-0x5e3+0x18e8;_0x1abadf<_0x23397e['script']['_scripts']['length'];_0x1abadf++){const _0x5d986d=_0x23397e['script']['_scripts'][_0x1abadf],_0x1f9bfe=_0x5d986d['__scriptTy'+'pe']['__name'];_0x4b2c62['push'](_0x1f9bfe);const _0x4a7f14=((_0xbad524=_0x23397e['script']['_attribute'+'DataMap'])==null?void(0xfdd+0x8*-0x3f4+-0x10d*-0xf):_0xbad524['get'](_0x1f9bfe))||{};for(const _0x368400 in _0x5d986d['__attribut'+'es'])_0x4a7f14[_0x368400]=_0x5d986d['__attribut'+'es'][_0x368400];_0x314f2a[_0x1f9bfe]={'enabled':_0x5d986d['_enabled'],'attributes':_0x4a7f14};}for(const _0x1bc955 in _0x23397e['script']['_scriptsIn'+'dex'])_0x1bc955['awaiting']&&_0x4b2c62['splice'](_0x1bc955['ind'],0x2202+0x133d+-0x353f,_0x1bc955);const _0x373926={'enabled':_0x23397e['script']['enabled'],'order':_0x4b2c62,'scripts':_0x314f2a};return this['addCompone'+'nt'](_0x91e38e,_0x373926);}['_resetExec'+'utionOrder'](){Mc=0x5f*0x67+0xf*-0xad+-0x1c16;for(let _0x66ce7a=0x2177+-0x11*0x2c+-0x1e8b,_0x3739f2=this['_component'+'s']['length'];_0x66ce7a<_0x3739f2;_0x66ce7a++)this['_component'+'s']['items'][_0x66ce7a]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x342823,_0x286de5,_0x56aa47){for(_0x342823['loopIndex']=0x259*-0xa+-0x1e82+0x35fc;_0x342823['loopIndex']<_0x342823['length'];_0x342823['loopIndex']++)_0x342823['items'][_0x342823['loopIndex']][_0x286de5](_0x56aa47);}['_onInitial'+'ize'](){this['preloading']=!(-0x1088*0x2+-0x1c84+-0x3d95*-0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x1aa731){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x1aa731);}['_onPostUpd'+'ate'](_0x1c7b70){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x1c7b70);}['_addCompon'+'entToEnabl'+'ed'](_0x424d80){this['_enabledCo'+'mponents']['insert'](_0x424d80);}['_removeCom'+'ponentFrom'+'Enabled'](_0x111770){this['_enabledCo'+'mponents']['remove'](_0x111770);}['_onBeforeR'+'emove'](_0x2ad872,_0x2dd9bb){this['_component'+'s']['items']['indexOf'](_0x2dd9bb)>=0x1141+0x2*0xeff+-0x2f3f&&_0x2dd9bb['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x2dd9bb),this['_component'+'s']['remove'](_0x2dd9bb);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x4794f5,_0x14fbce){super(_0x4794f5,_0x14fbce),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x1d*-0x11d+-0x1a*0x109+0x5*0xbd7)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(0x2149*-0x1+-0x226+0x2370)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x4794f5['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x14fbce['on']('remove',this['onRemoveCh'+'ild'],this),_0x14fbce['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x14fbce['on']('insert',this['onInsertCh'+'ild'],this),_0x14fbce['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x50c18b){var _0x4ce3c1,_0xe0da43;this['_customAab'+'b']=_0x50c18b,(_0xe0da43=(_0x4ce3c1=this['_instance'])==null?void(0x123f+0x8c3+-0x1b02):_0x4ce3c1['meshInstan'+'ce'])==null||_0xe0da43['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0xfbe576){if(this['destroyIns'+'tance'](),this['_instance']=_0xfbe576,this['_instance']){const _0x5b5ac5=this['_instance']['meshInstan'+'ce'];_0x5b5ac5['node']||(_0x5b5ac5['node']=this['entity']),_0x5b5ac5['castShadow']=this['_castShado'+'ws'],_0x5b5ac5['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x5473d7){this['_instance']?this['_instance']['material']=_0x5473d7:this['_materialT'+'mp']=_0x5473d7;}get['material'](){var _0xf5874e;return((_0xf5874e=this['_instance'])==null?void(0x1a0d+-0x1960+0xad*-0x1):_0xf5874e['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x200af9){_0x200af9!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x200af9,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x200af9));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x4d56b6){var _0x14ce11;if(this['_castShado'+'ws']!==_0x4d56b6){const _0x1eaf47=(_0x14ce11=this['instance'])==null?void(-0xb57*0x1+0x2ab*0x7+-0x756):_0x14ce11['meshInstan'+'ce'];if(_0x1eaf47){const _0x5c8d07=this['layers'],_0x25d7da=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4d56b6)for(let _0x1facce=0x2307+0x3b6+-0x1*0x26bd;_0x1facce<_0x5c8d07['length'];_0x1facce++){const _0x42a786=_0x25d7da['layers']['getLayerBy'+'Id'](this['layers'][_0x1facce]);_0x42a786&&_0x42a786['removeShad'+'owCasters']([_0x1eaf47]);}if(_0x1eaf47['castShadow']=_0x4d56b6,!this['_castShado'+'ws']&&_0x4d56b6)for(let _0x1363eb=0x21c3+0x17a5*0x1+-0x3968;_0x1363eb<_0x5c8d07['length'];_0x1363eb++){const _0x1a8aef=_0x25d7da['layers']['getLayerBy'+'Id'](_0x5c8d07[_0x1363eb]);_0x1a8aef&&_0x1a8aef['addShadowC'+'asters']([_0x1eaf47]);}}this['_castShado'+'ws']=_0x4d56b6;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x2f2a5f){this['removeFrom'+'Layers'](),this['_layers']['length']=-0xcf5*0x3+0x190f+0xdd0;for(let _0x388ef1=0x329*0x6+-0x25ab+0x12b5*0x1;_0x388ef1<_0x2f2a5f['length'];_0x388ef1++)this['_layers'][_0x388ef1]=_0x2f2a5f[_0x388ef1];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x8ff07f){const _0x25fb0d=_0x8ff07f instanceof pe?_0x8ff07f['id']:_0x8ff07f;this['_assetRefe'+'rence']['id']!==_0x25fb0d&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x25fb0d,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x147ffe;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x147ffe=this['_instance'])==null||_0x147ffe['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x54cb11,_0x32884b;const _0x43db0a=(_0x54cb11=this['instance'])==null?void(0x64e+0x571+0xbbf*-0x1):_0x54cb11['meshInstan'+'ce'];if(_0x43db0a){const _0x3d9255=this['system']['app']['scene']['layers'];for(let _0x43410c=0x67a+-0xd65+0x6eb;_0x43410c<this['_layers']['length'];_0x43410c++)(_0x32884b=_0x3d9255['getLayerBy'+'Id'](this['_layers'][_0x43410c]))==null||_0x32884b['addMeshIns'+'tances']([_0x43db0a]);}}['removeFrom'+'Layers'](){var _0x26f022,_0x142f34;const _0x3f9a54=(_0x26f022=this['instance'])==null?void(0xe3a+0x13bd+0x25*-0xeb):_0x26f022['meshInstan'+'ce'];if(_0x3f9a54){const _0x18c5a2=this['system']['app']['scene']['layers'];for(let _0x4b1838=-0x13aa+0x1*-0xf6b+0x2315;_0x4b1838<this['_layers']['length'];_0x4b1838++)(_0x142f34=_0x18c5a2['getLayerBy'+'Id'](this['_layers'][_0x4b1838]))==null||_0x142f34['removeMesh'+'Instances']([_0x3f9a54]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x7f5da2,_0x2ebc91){this['addToLayer'+'s'](),_0x7f5da2['off']('add',this['onLayerAdd'+'ed'],this),_0x7f5da2['off']('remove',this['onLayerRem'+'oved'],this),_0x2ebc91['on']('add',this['onLayerAdd'+'ed'],this),_0x2ebc91['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x507d58){this['layers']['indexOf'](_0x507d58['id'])<-0x4a*-0x13+0x55b+0x1*-0xad9||this['_instance']&&_0x507d58['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x589ac9){this['layers']['indexOf'](_0x589ac9['id'])<0x569*0x3+0x1fca+-0x3005||this['_instance']&&_0x589ac9['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0xb9c94d=this['system']['app']['scene'],_0x2b1137=_0xb9c94d['layers'];this['_evtLayers'+'Changed']=_0xb9c94d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2b1137&&(this['_evtLayerA'+'dded']=_0x2b1137['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2b1137['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x48c81b,_0x206b6c,_0x543028;const _0x3efa64=this['system']['app']['scene']['layers'];(_0x48c81b=this['_evtLayers'+'Changed'])==null||_0x48c81b['off'](),this['_evtLayers'+'Changed']=null,_0x3efa64&&((_0x206b6c=this['_evtLayerA'+'dded'])==null||_0x206b6c['off'](),this['_evtLayerA'+'dded']=null,(_0x543028=this['_evtLayerR'+'emoved'])==null||_0x543028['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xac2+0x10f1+-0x1bb2));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x19*-0x4+0x1c03*0x1+-0x1c67));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x4b2842=this['_assetRefe'+'rence']['asset'];_0x4b2842&&(this['instance']=_0x4b2842['resource']['createInst'+'ance'](_0x4b2842['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x1*-0x7bd+0x1da6+-0x2563);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0xd5f933){super(_0xd5f933),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3748ec,_0x50678a,_0x474f11){_0x50678a['layers']&&_0x50678a['layers']['length']&&(_0x50678a['layers']=_0x50678a['layers']['slice'](0x1fc2+-0x95b+-0x1667*0x1));for(let _0x426341=-0x1*-0x1eaa+-0x8*-0x133+-0x2842;_0x426341<To['length'];_0x426341++)_0x50678a['hasOwnProp'+'erty'](To[_0x426341])&&(_0x3748ec[To[_0x426341]]=_0x50678a[To[_0x426341]]);_0x50678a['aabbCenter']&&_0x50678a['aabbHalfEx'+'tents']&&(_0x3748ec['customAabb']=new De(new D(_0x50678a['aabbCenter']),new D(_0x50678a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3748ec,_0x50678a,Vu);}['cloneCompo'+'nent'](_0x507e26,_0x2daca8){const _0x106519=_0x507e26['gsplat'],_0x17b1db={};To['forEach'](_0x37473d=>{_0x37473d==='material'?_0x17b1db[_0x37473d]=_0x106519[_0x37473d]['clone']():_0x17b1db[_0x37473d]=_0x106519[_0x37473d];}),_0x17b1db['enabled']=_0x106519['enabled'];const _0x57d70e=this['addCompone'+'nt'](_0x2daca8,_0x17b1db);return _0x106519['customAabb']&&(_0x57d70e['customAabb']=_0x106519['customAabb']['clone']()),_0x57d70e;}['onRemove'](_0x3e96e7,_0x32614d){_0x32614d['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x12bd16){this['decRefMesh'+'es'](),this['_meshes']=_0x12bd16,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x12bd16);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x1bd529;(_0x1bd529=this['_meshes'])==null||_0x1bd529['forEach']((_0xda2fdb,_0x28b957)=>{_0xda2fdb&&(_0xda2fdb['decRefCoun'+'t'](),_0xda2fdb['refCount']<0x11e3*0x2+0xc*0x11+-0x2491&&(_0xda2fdb['destroy'](),this['_meshes'][_0x28b957]=null));});}['incRefMesh'+'es'](){var _0x6cbffa;(_0x6cbffa=this['_meshes'])==null||_0x6cbffa['forEach'](_0x1d37ac=>{_0x1d37ac==null||_0x1d37ac['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x137ac1){const _0x488177=this;if(!_0x488177['resource'])return;const _0xecee9d=_0x137ac1['resource'],_0x423f14=_0xecee9d['renders']&&_0xecee9d['renders'][_0x488177['data']['renderInde'+'x']];_0x423f14&&(_0x488177['resource']['meshes']=_0x423f14['resource']['meshes']);}function pS(_0x371e6a){const _0x27680e=this;_0x27680e['registry']['off']('load:'+_0x371e6a['id'],sh,_0x27680e),_0x27680e['registry']['on']('load:'+_0x371e6a['id'],sh,_0x27680e),_0x27680e['registry']['off']('remove:'+_0x371e6a['id'],mS,_0x27680e),_0x27680e['registry']['once']('remove:'+_0x371e6a['id'],mS,_0x27680e),_0x371e6a['resource']?sh['call'](_0x27680e,_0x371e6a):_0x27680e['registry']['load'](_0x371e6a);}function mS(_0x1698f9){const _0x24138f=this;_0x24138f['registry']['off']('load:'+_0x1698f9['id'],sh,_0x24138f),_0x24138f['resource']&&_0x24138f['resource']['destroy']();}class zF extends Qe{constructor(_0x33961f){super(_0x33961f,'render'),this['_registry']=_0x33961f['assets'];}['open'](_0x29978a,_0xd15d35){return new Em();}['patch'](_0x41b0ba,_0x114456){if(!_0x41b0ba['data']['containerA'+'sset'])return;const _0x53ec54=_0x114456['get'](_0x41b0ba['data']['containerA'+'sset']);if(!_0x53ec54){_0x114456['once']('add:'+_0x41b0ba['data']['containerA'+'sset'],pS,_0x41b0ba);return;}pS['call'](_0x41b0ba,_0x53ec54);}}class v0{constructor(_0x3a960f,_0x4adf7b,_0x17accd,_0x5ab040){this['_paths']=_0x3a960f,this['_input']=_0x4adf7b,this['_output']=_0x17accd,this['_interpola'+'tion']=_0x5ab040;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x4b330c,_0x1fa07a){this['_component'+'s']=_0x4b330c,this['_data']=_0x1fa07a;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0xb6f75c,_0xce98bf){let _0x4d2c0b;const _0x4ea45e=(_0x50b9d0,_0x26deec)=>{switch(_0x26deec){case _0x4d2c0b['DT_INT8']:return new Int8Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']);case _0x4d2c0b['DT_INT16']:return new Int16Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']/(0x1755+0x47+0xbcd*-0x2));case _0x4d2c0b['DT_INT32']:return new Int32Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']/(-0x1f9+0x17c0*0x1+-0x15c3));case _0x4d2c0b['DT_UINT8']:return new Uint8Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']);case _0x4d2c0b['DT_UINT16']:return new Uint16Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']/(-0x72*0x1+-0x17bf*-0x1+-0x174b*0x1));case _0x4d2c0b['DT_UINT32']:return new Uint32Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']/(0x3*-0xcf7+0x131*0xb+-0x1*-0x19ce));case _0x4d2c0b['DT_FLOAT32']:return new Float32Array(_0x50b9d0['buffer'],_0x50b9d0['byteOffset'],_0x50b9d0['byteLength']/(0x18*-0xa6+0x11a+0x22*0x6d));}return null;},_0x7c7589=_0x41e02f=>{switch(_0x41e02f){case _0x4d2c0b['DT_INT8']:return-0x1efb+0x1cc3+0x239;case _0x4d2c0b['DT_INT16']:return 0x1*-0x5ff+-0x95e+0xf5f;case _0x4d2c0b['DT_INT32']:return 0x1e59+-0x171b+-0x73a;case _0x4d2c0b['DT_UINT8']:return 0x5b*0x61+-0x2bf*0x2+-0x8c*0x35;case _0x4d2c0b['DT_UINT16']:return-0x1222+0x1c33*0x1+-0x5*0x203;case _0x4d2c0b['DT_UINT32']:return-0x3*-0x4ad+0x36d*-0x7+0x9f8;case _0x4d2c0b['DT_FLOAT32']:return 0xfe*0x7+-0x61*-0x3b+-0x1d49;}return-0x1a1c+-0x1f6*0x3+-0x1fff*-0x1;},_0x1b1933=_0x5ad282=>_0x5ad282['num_compon'+'ents']()*_0x7c7589(_0x5ad282['data_type']()),_0x24a749={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x573dda=(_0x8c2a85,_0x267db2)=>{const _0x5aa391=(_0x583099,_0x32cc89,_0x4b96b8)=>{_0x583099[0x22a5+-0x2283+-0x1*0x22]=_0x32cc89[0x12*-0x1a+0x1da3+-0x1bcf]-_0x4b96b8[0x1d23+-0x701*0x1+0x1622*-0x1],_0x583099[0x260+0x1e4+-0x443]=_0x32cc89[-0x1d*0x33+0x1b1b+0x67*-0x35]-_0x4b96b8[-0x6*-0x5b6+-0x56b*-0x3+0x2*-0x1942],_0x583099[0xa*0x82+-0x72d+0x1*0x21b]=_0x32cc89[-0x1864+-0x1*-0x1915+-0xaf]-_0x4b96b8[-0xd6+0x26b1+0x1*-0x25d9];},_0x336ee6=(_0x35f239,_0x4575e2,_0x3a95bc)=>{_0x35f239[0x2b6*0x8+-0x1e45+-0xd*-0xa9]=_0x4575e2[0x8*-0x493+-0x42*0x4a+0x37ad]*_0x3a95bc[-0x87a+-0x207d+0x28f9]-_0x3a95bc[-0x2*-0xa22+0x108f+-0x24d2]*_0x4575e2[0x28b+-0x1527+0x129e],_0x35f239[0x3*-0xa67+-0x10b0+-0x17f3*-0x2]=_0x4575e2[0x1*0x445+0x20f*-0x2+-0x25]*_0x3a95bc[-0x2381+-0x1fe7+-0x1678*-0x3]-_0x3a95bc[-0x5*-0x33c+-0x1*0x1c1d+0xbf3]*_0x4575e2[-0xbf2+0x6f7*-0x5+0x2ec5],_0x35f239[0xb*0x10a+0xdc0+-0x192c]=_0x4575e2[-0x1f19+-0x518+-0x2431*-0x1]*_0x3a95bc[0x11b2+-0x1251+0x10*0xa]-_0x3a95bc[0xd67+0xa12*-0x1+-0x355*0x1]*_0x4575e2[-0x79*0xb+0x1fe1+-0x1aad];},_0x3c32a5=(_0x250b9b,_0x16f563)=>{const _0x3ccacd=_0x250b9b[_0x16f563+(0x2260+-0x1743+-0xb1d)],_0x49d179=_0x250b9b[_0x16f563+(0x168e+0x209e+0x372b*-0x1)],_0x1e5172=_0x250b9b[_0x16f563+(0x9*0x3b1+-0x967+-0x4*0x5f4)],_0x371c53=(-0x1*-0x132c+-0x76a*-0x2+-0x1*0x21ff)/Math['sqrt'](_0x3ccacd*_0x3ccacd+_0x49d179*_0x49d179+_0x1e5172*_0x1e5172);_0x250b9b[_0x16f563+(-0x916+-0x20cf*-0x1+-0x17b9*0x1)]*=_0x371c53,_0x250b9b[_0x16f563+(-0x23ed*0x1+-0xad5*-0x2+0xe44)]*=_0x371c53,_0x250b9b[_0x16f563+(-0x844*0x3+0xe*-0x106+0x2722)]*=_0x371c53;},_0x4049a0=(_0x33d125,_0x45aba8,_0x42b6de)=>{for(let _0x5a12b4=0x6ca+0x3*0xa8b+0x5*-0x7af;_0x5a12b4<-0xcf+0xd80*-0x1+0x2*0x729;++_0x5a12b4)_0x33d125[_0x5a12b4]=_0x45aba8[_0x42b6de+_0x5a12b4];},_0x43bcfe=_0x267db2['length']/(0xef*-0x1+0x2335*-0x1+0x2427),_0x14f3a4=_0x8c2a85['length']/(-0x24cd+-0x1*-0xeb7+0x1619),_0x34feee=new Float32Array(_0x8c2a85['length']),_0x4def77=[0x2207*0x1+0x9f7+-0x2bfe,-0x13e0+0x22f7*0x1+0x1*-0xf17,-0x74*0x2d+-0x18f4*0x1+0x2d58],_0x4587e2=[-0x1*-0x17b4+-0x272+-0x1542,0x452*-0x7+-0x249f+0x42dd,0x6bc*0x5+0xf1*0x1+-0x229d],_0x371295=[-0x24fb*-0x1+-0x97c+-0x1b7f*0x1,-0xc37+-0x20a5+0x2cdc,-0xa49*0x3+-0x11*-0x61+0x186a],_0x158965=[-0x6c+-0x190+0x1fc,-0x173e+-0x97*-0x11+0xd37,0x206f+0x1*-0x9c7+-0x19*0xe8],_0x96a128=[0x1*-0x2661+-0x45c+0x2abd,0xe32+0x30e+-0x30*0x5c,0x137d*-0x1+-0xc7e+-0x1*-0x1ffb],_0x15f65c=[0x11*0x18d+0x481*-0x6+-0x1*-0xa9,0x1558+-0x14d*-0x17+-0xb*0x4a9,0x1a25+0x3*-0xf1+0x4aa*-0x5];for(let _0x42e87c=0x23b1+0x62*0x31+-0x1*0x3673;_0x42e87c<_0x43bcfe;++_0x42e87c){const _0x116180=_0x267db2[_0x42e87c*(0x9*-0x241+-0x21cd*-0x1+-0xd81)+(-0x71*0x22+0x8*0x425+-0x1226)]*(-0xc15*0x3+-0xb29+0x2f6b*0x1),_0x471802=_0x267db2[_0x42e87c*(-0x39*0x76+0x1*0x23f9+-0x9b0)+(0x1686+-0x13fe+0x1*-0x287)]*(-0x12*0x35+-0x1*-0x1f75+-0x8*0x377),_0x13fdff=_0x267db2[_0x42e87c*(0x2113+-0x99b*0x1+-0x1775)+(-0x2b0*0x7+-0x11cc+-0x1*-0x249e)]*(0x507+0xa4c+-0x1ea*0x8);_0x4049a0(_0x4def77,_0x8c2a85,_0x116180),_0x4049a0(_0x4587e2,_0x8c2a85,_0x471802),_0x4049a0(_0x371295,_0x8c2a85,_0x13fdff),_0x5aa391(_0x158965,_0x4587e2,_0x4def77),_0x5aa391(_0x96a128,_0x371295,_0x4def77),_0x336ee6(_0x15f65c,_0x158965,_0x96a128),_0x3c32a5(_0x15f65c,-0x21d2+-0x3*-0x49+0x20f7);for(let _0x9680d7=0x266d*-0x1+-0x125+0x2792;_0x9680d7<-0x65f+0x6*0x4cc+-0x1666;++_0x9680d7)_0x34feee[_0x116180+_0x9680d7]+=_0x15f65c[_0x9680d7],_0x34feee[_0x471802+_0x9680d7]+=_0x15f65c[_0x9680d7],_0x34feee[_0x13fdff+_0x9680d7]+=_0x15f65c[_0x9680d7];}for(let _0xcc91e4=0xa*-0x32b+0x15b*0xe+0xc*0x10f;_0xcc91e4<_0x14f3a4;++_0xcc91e4)_0x3c32a5(_0x34feee,_0xcc91e4*(0xca*-0xc+0x220a+-0x188f*0x1));return new Uint8Array(_0x34feee['buffer']);},_0x252db9=_0x522385=>{const _0x493556={},_0x4b10ec=new _0x4d2c0b['DecoderBuf'+'fer']();_0x4b10ec['Init'](_0x522385,_0x522385['length']);const _0x2e158a=new _0x4d2c0b['Decoder']();if(_0x2e158a['GetEncoded'+'GeometryTy'+'pe'](_0x4b10ec)!==_0x4d2c0b['TRIANGULAR'+'_MESH'])return _0x493556['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x493556;const _0x2f3aff=new _0x4d2c0b['Mesh'](),_0x4eebf4=_0x2e158a['DecodeBuff'+'erToMesh'](_0x4b10ec,_0x2f3aff);if(!_0x4eebf4||!_0x4eebf4['ok']()||_0x4d2c0b['getPointer'](_0x2f3aff)===-0x182+0x199*0x14+-0x1e72)return _0x493556['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x493556;const _0x6d3cd7=_0x2f3aff['num_faces']()*(-0x7*0x4d9+-0x1053+-0x11*-0x2f5),_0x438b0c=_0x2f3aff['num_points']()<=-0x4557+-0x6*-0x3977+-0x1374,_0x47293e=_0x6d3cd7*(_0x438b0c?-0xc1*-0x16+-0x5c*-0x7+-0x1*0x1318:-0x186+-0x103d*-0x2+0x210*-0xf),_0x166809=_0x4d2c0b['_malloc'](_0x47293e);_0x438b0c?(_0x2e158a['GetTriangl'+'esUInt16Ar'+'ray'](_0x2f3aff,_0x47293e,_0x166809),_0x493556['indices']=new Uint16Array(_0x4d2c0b['HEAPU16']['buffer'],_0x166809,_0x6d3cd7)['slice']()['buffer']):(_0x2e158a['GetTriangl'+'esUInt32Ar'+'ray'](_0x2f3aff,_0x47293e,_0x166809),_0x493556['indices']=new Uint32Array(_0x4d2c0b['HEAPU32']['buffer'],_0x166809,_0x6d3cd7)['slice']()['buffer']),_0x4d2c0b['_free'](_0x166809);const _0x1707b7=[];for(let _0x337e8d=-0x1873+-0x12*0x10d+-0x11*-0x28d;_0x337e8d<_0x2f3aff['num_attrib'+'utes']();++_0x337e8d)_0x1707b7['push'](_0x2e158a['GetAttribu'+'te'](_0x2f3aff,_0x337e8d));_0x1707b7['sort']((_0x4f8371,_0x39177b)=>(_0x24a749[_0x4f8371['attribute_'+'type']()]??_0x24a749['length'])-(_0x24a749[_0x39177b['attribute_'+'type']()]??_0x24a749['length'])),_0x493556['attributes']=_0x1707b7['map'](_0x10e3cd=>_0x10e3cd['unique_id']());let _0xcbece9=-0x9e0+-0x21e6+-0x1*-0x2bc6;const _0xad9061=_0x1707b7['map'](_0x6b33ce=>{const _0x4164be=_0xcbece9;return _0xcbece9+=Math['ceil'](_0x1b1933(_0x6b33ce)/(-0x426+0x10a8+0xc7e*-0x1))*(-0xef7+-0x1475+0x2370),_0x4164be;}),_0x188285=_0x1707b7['some'](_0x5ba551=>_0x5ba551['attribute_'+'type']()===-0x1563+0x1077+-0xd*-0x61),_0x4182d5=_0xad9061[0x132e+0x1c1*-0xb+-0xf*-0x2];if(!_0x188285){for(let _0x3cdf0e=-0xd32+-0x1411+-0x10a2*-0x2;_0x3cdf0e<_0xad9061['length'];++_0x3cdf0e)_0xad9061[_0x3cdf0e]+=-0x5*0x383+0xec5+0x1*0x2d6;_0xcbece9+=-0x18fe+-0x842+-0x4*-0x853;}_0x493556['vertices']=new ArrayBuffer(_0x2f3aff['num_points']()*_0xcbece9);const _0x47e3ff=new Uint8Array(_0x493556['vertices']);for(let _0x5f6a0f=0x1*0x1079+0x30*-0x6c+0x1*0x3c7;_0x5f6a0f<_0x2f3aff['num_attrib'+'utes']();++_0x5f6a0f){const _0x352379=_0x1707b7[_0x5f6a0f],_0x2634d8=_0x1b1933(_0x352379),_0x7fac88=_0x2f3aff['num_points']()*_0x2634d8,_0x3d3b4e=_0x4d2c0b['_malloc'](_0x7fac88);_0x2e158a['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2f3aff,_0x352379,_0x352379['data_type'](),_0x7fac88,_0x3d3b4e);const _0x487f86=new Uint8Array(_0x4d2c0b['HEAPU8']['buffer'],_0x3d3b4e,_0x7fac88);for(let _0x5934a1=0x2512+-0x7ae+0x16*-0x156;_0x5934a1<_0x2f3aff['num_points']();++_0x5934a1)for(let _0xd69c60=-0x2*-0x505+-0xb5*0x20+0x6*0x219;_0xd69c60<_0x2634d8;++_0xd69c60)_0x47e3ff[_0x5934a1*_0xcbece9+_0xad9061[_0x5f6a0f]+_0xd69c60]=_0x487f86[_0x5934a1*_0x2634d8+_0xd69c60];if(!_0x188285&&_0x352379['attribute_'+'type']()===0x1bb3+-0x2f5*0x8+0x2d*-0x17){const _0x1749d3=_0x573dda(_0x4ea45e(_0x487f86,_0x352379['data_type']()),_0x438b0c?new Uint16Array(_0x493556['indices']):new Uint32Array(_0x493556['indices']));for(let _0x5edab7=-0x67*0x47+-0x1052+-0x1*-0x2ce3;_0x5edab7<_0x2f3aff['num_points']();++_0x5edab7)for(let _0x1d93ec=-0x20ed+-0x1*0x2501+0x45ee;_0x1d93ec<-0x905*-0x4+0x1330+0x3738*-0x1;++_0x1d93ec)_0x47e3ff[_0x5edab7*_0xcbece9+_0x4182d5+_0x1d93ec]=_0x1749d3[_0x5edab7*(0x4cd*0x6+-0x1*-0x246b+-0x1*0x412d)+_0x1d93ec];}_0x4d2c0b['_free'](_0x3d3b4e);}return _0x4d2c0b['destroy'](_0x2f3aff),_0x4d2c0b['destroy'](_0x2e158a),_0x4d2c0b['destroy'](_0x4b10ec),_0x493556;},_0x56641d=_0x375c19=>{const _0x3ed5d0=_0x252db9(new Uint8Array(_0x375c19['buffer']));self['postMessag'+'e']({'jobId':_0x375c19['jobId'],'error':_0x3ed5d0['error'],'indices':_0x3ed5d0['indices'],'vertices':_0x3ed5d0['vertices'],'attributes':_0x3ed5d0['attributes']},[_0x3ed5d0['indices'],_0x3ed5d0['vertices']]['filter'](_0x553179=>_0x553179!=null));},_0x2226d6=[];self['onmessage']=_0x10df92=>{const _0x2d09ac=_0x10df92['data'];switch(_0x2d09ac['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x377a34,_0xb1aeaf)=>(WebAssembly['instantiat'+'e'](_0x2d09ac['module'],_0x377a34)['then'](_0x53447d=>_0xb1aeaf(_0x53447d))['catch'](_0x2d14cb=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2d14cb)),{})})['then'](_0x2ec975=>{_0x4d2c0b=_0x2ec975,_0x2226d6['forEach'](_0x493f9d=>_0x56641d(_0x493f9d));});break;case'decodeMesh':_0x4d2c0b?_0x56641d(_0x2d09ac):_0x2226d6['push'](_0x2d09ac);break;}};}const _S=0x148d+-0xc41*-0x3+-0x394d*0x1;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1fd+0x2*0x12ee+-0x23df,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x4b7f1d,_0x27a325)=>{_0x4b7f1d['postMessag'+'e']({'type':'decodeMesh','jobId':_0x27a325['jobId'],'buffer':_0x27a325['buffer']},[_0x27a325['buffer']]);};}['init'](_0x671357){for(_0x671357['forEach'](_0x537e04=>{_0x537e04['addEventLi'+'stener']('message',_0x2ab28c=>{const _0x5b11ea=_0x2ab28c['data'],_0x4d98b7=this['jobCallbac'+'ks']['get'](_0x5b11ea['jobId']);if(_0x4d98b7&&_0x4d98b7(_0x5b11ea['error'],{'indices':_0x5b11ea['indices'],'vertices':_0x5b11ea['vertices'],'attributes':_0x5b11ea['attributes']}),this['jobCallbac'+'ks']['delete'](_0x5b11ea['jobId']),this['jobQueue']['length']>-0x17b6+0x5*-0x4a3+0xf5*0x31){const _0x3cddfb=this['jobQueue']['shift']();this['run'](_0x537e04,_0x3cddfb);}else{const _0x2abe88=this['workers'][-0x1*0xe47+0x29f*0x1+0x2*0x5d5]['indexOf'](_0x537e04);if(_0x2abe88!==-(-0x24a7+-0xe02+-0x1955*-0x2))this['workers'][-0x1*0x959+0x1d8b*-0x1+0x2fe*0xd]['splice'](_0x2abe88,-0x2590*0x1+-0x2*0x1a5+0x1*0x28db),this['workers'][-0x2*-0x119b+-0x3*0x679+-0x2b*0x5e]['push'](_0x537e04);else{const _0x3c9bbe=this['workers'][0x6b*0x43+0x2*-0x72d+-0xda6]['indexOf'](_0x537e04);_0x3c9bbe!==-(-0x1543+0x1fd3+0x9f*-0x11)?(this['workers'][0x1*-0x2513+-0x8c*-0x16+0x190c]['splice'](_0x3c9bbe,-0x1*0x15b+0x52*-0x65+0x21b6),this['workers'][0xc*0x11c+-0x199*-0xe+-0x23ae]['push'](_0x537e04)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x2327*0x1+0x8*-0x1d1+-0x149f]=_0x671357;this['jobQueue']['length']&&(this['workers'][0x78e+-0x666+-0x128]['length']||this['workers'][0x13*-0x1b+0x14cf+-0x12cd]['length']);){const _0x15928f=this['jobQueue']['shift']();if(this['workers'][0xf3b+-0x7aa+-0xd*0x95]['length']>-0x619*-0x1+0x125*0x7+-0xe1c){const _0x4317e4=this['workers'][0x1*0x9ef+0x21d*-0x3+-0xe6*0x4]['shift']();this['workers'][-0x1d56+-0x1*0x1987+0x1b6f*0x2]['push'](_0x4317e4),this['run'](_0x4317e4,_0x15928f);}else{const _0x35837f=this['workers'][-0x15b*0x19+-0x1214+0x33f8]['shift']();this['workers'][0x1bf9+-0x21bd+0x5c6]['push'](_0x35837f),this['run'](_0x35837f,_0x15928f);}}}['enqueueJob'](_0x2f8ed5,_0x53508b){const _0xcbe76a={'jobId':this['jobId']++,'buffer':_0x2f8ed5};if(this['jobCallbac'+'ks']['set'](_0xcbe76a['jobId'],_0x53508b),this['workers'][-0x1862+0x2248+0xe*-0xb5]['length']>-0x1*0x2274+-0x1fa9+0x421d){const _0x409379=this['workers'][-0x2db*0x5+-0x1b81+0x38*0xbf]['shift']();this['workers'][-0x9b*0xa+0x11f3+-0xbe4]['push'](_0x409379),this['run'](_0x409379,_0xcbe76a);}else{if(this['workers'][-0x198+-0xfe1+-0x1*-0x117a]['length']>-0x4*0xa6+-0x19bd+-0x1c55*-0x1){const _0x2a668d=this['workers'][-0x63d+-0xb61*-0x3+-0x1be5]['shift']();this['workers'][0x6f8+-0x26f3+0x1ffd]['push'](_0x2a668d),this['run'](_0x2a668d,_0xcbe76a);}else this['jobQueue']['push'](_0xcbe76a);}}}const HF=_0x56d8c3=>new Promise((_0x4cf831,_0x2bdf08)=>{const _0x4a3a11={'cache':!(-0x6ed+0x136*-0x19+0x2533),'responseType':'text','retry':_S>-0x140c+0x1*-0x176e+0x13e*0x23,'maxRetries':_S};ot['get'](_0x56d8c3,_0x4a3a11,(_0x2ffad9,_0x2a4852)=>{_0x2ffad9?_0x2bdf08(_0x2ffad9):_0x4cf831(_0x2a4852);});}),WF=_0x1a6c5d=>{const _0x1a10a8=()=>fetch(_0x1a6c5d)['then'](_0x76cf71=>_0x76cf71['arrayBuffe'+'r']())['then'](_0x232f26=>WebAssembly['compile'](_0x232f26)),_0x51ae43=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x1a6c5d))['catch'](_0x5ed692=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1a6c5d+'\x20('+_0x5ed692+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1a10a8()));return WebAssembly['compileStr'+'eaming']?_0x51ae43():_0x1a10a8();},gS=0x675*-0x2+0x698+0x653;let ih;const $F=_0x56a4fd=>{if(ih)return!(0xb*0x33b+-0x13b9+-0x7e8*0x2);if(!_0x56a4fd){const _0x525862=YS['getConfig']('DracoDecod'+'erModule');_0x525862?_0x56a4fd={'jsUrl':_0x525862['glueUrl'],'wasmUrl':_0x525862['wasmUrl'],'numWorkers':_0x525862['numWorkers']}:_0x56a4fd={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x56a4fd['jsUrl']||!_0x56a4fd['wasmUrl']?!(0x3d7*-0x4+-0x1450+-0x1*-0x23ad):(ih=new GF(),Promise['all']([HF(_0x56a4fd['jsUrl']),WF(_0x56a4fd['wasmUrl'])])['then'](([_0x42b030,_0xb33fbe])=>{const _0x547c1a=['/*\x20draco\x20*'+'/',_0x42b030,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x11795b=new Blob([_0x547c1a],{'type':'applicatio'+'n/javascri'+'pt'}),_0xb34698=URL['createObje'+'ctURL'](_0x11795b),_0x2cda94=Math['max'](-0x11b*-0x5+0x1afc+-0x6*0x56b,Math['min'](0x1855*-0x1+-0x15d*0x1+0x19c2,_0x56a4fd['numWorkers']||gS)),_0x3f60c9=[];for(let _0x5c33a4=-0x1032+-0x1fff*0x1+0xd*0x3b5;_0x5c33a4<_0x2cda94;++_0x5c33a4){const _0x279c5b=new Worker(_0xb34698);_0x279c5b['postMessag'+'e']({'type':'init','module':_0xb33fbe}),_0x3f60c9['push'](_0x279c5b);}ih['init'](_0x3f60c9);}),!(0x309+-0x3*-0x6c5+-0x1758));},XF=(_0x54bb4d,_0x53009d)=>$F()?(ih['enqueueJob'](_0x54bb4d,_0x53009d),!(-0x137e+-0xe4c+0x21ca)):!(0xa76+-0x1*-0xbad+0xb11*-0x2);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x5d82cc=>{_0x5d82cc['meshes']=null;});}}const x0=_0x4c0531=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x4c0531),jF=_0xfc052d=>_0xfc052d['substring'](_0xfc052d['indexOf'](':')+(0x1f*0xe3+0x13f2+0x2*-0x17b7),_0xfc052d['indexOf'](';')),yl=_0x3f2846=>{switch(_0x3f2846){case'SCALAR':return-0x4be+-0x1447+0x1906;case'VEC2':return 0x178b+0x1d6a+-0x34f3;case'VEC3':return-0x5f0+0x2460+-0x1e6d;case'VEC4':return 0x16*0x1a2+0x1f02+-0x42ea;case'MAT2':return 0xd89+-0x2cc*0x1+-0xab9;case'MAT3':return-0x389+0x5*-0x481+0x1a17;case'MAT4':return 0x2521*0x1+-0x17d*0x4+-0x1f1d;default:return-0x2339+0xd01+-0x3*-0x769;}},Dd=_0x3e3a01=>{switch(_0x3e3a01){case-0x20d4+-0xdd6+0x42aa:return dd;case 0x1331+-0x4a0+0x4*0x15c:return la;case-0x1121+0x3*-0x67+-0x1*-0x2658:return fd;case-0x21*-0xcf+-0xb9+-0x5f3:return Ml;case 0x2fb+-0xb11+0x1c1a:return Ty;case-0x1*-0x1ff3+0xd53+0x5*-0x50d:return el;case 0x3b*-0x1+0x897+-0x2*-0x5d5:return Ve;default:return-0xf3d+0x109d+-0x160*0x1;}},YF=_0x18ac51=>{switch(_0x18ac51){case-0x1b01+-0x43*0x35+0x8*0x79c:return 0x81*0x1+-0x1017*-0x1+0x1097*-0x1;case-0x109a*0x2+0x1*-0x1642+0x4b77:return 0x165f+-0xcd*0x4+0x1*-0x132a;case-0x11*0xd1+-0xd*0x31+-0x246*-0x10:return-0xeec+-0x3a4+0x2*0x949;case-0x112d+0x11*-0x6b+0x2c4b:return 0x1*0x5a1+-0x1b37+0x1598;case 0xd*0x6a+-0x1*0x3c4+0x1266:return-0x25b*-0x6+-0x9d7+-0x16d*0x3;case-0x4*0x236+-0x1984+0x3661:return-0xcf3+-0x22d9+0x8*0x5fa;case-0x3bf+-0x27b0+0x3f75:return 0x2115+-0x1197+-0xf7a;default:return-0xa7*0xb+0x1b57*-0x1+0x8a1*0x4;}},KF=_0x415cc7=>{switch(_0x415cc7){case-0x1*0x25d7+0x1c40+-0x5*-0x5eb:return Int8Array;case-0x1fde+-0xb*-0x8b+0x2de6:return Uint8Array;case-0x176+0x4*0x85a+-0xbf0:return Int16Array;case 0x804*0x1+-0x1fdb+0x2bda:return Uint16Array;case 0x1d97+0xc2f+-0x15c2:return Int32Array;case-0x130*0x4+0x2009+-0x744:return Uint32Array;case 0xbdd*0x3+0x23a9+-0x333a:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x1*0x1fd7+0x17eb+0x7ec,[gs]:-0x1*-0x17e1+-0x7e1+-0x1c7*0x9,[yi]:0x252d+-0x1b41+0x9ea*-0x1,[Wt]:0x7b2+0x12af+-0x3*0x8ca,[us]:-0x1a4a+0xcee*-0x2+0x342a,[gi]:0x3d4+0x1*0x204b+-0x2*0x120d,[is]:-0xeab*0x2+-0x2176+0xb*0x5b6,[ba]:-0x2457+0xbad+0x18b1,[wl]:-0x5ca*-0x6+0xfab+0x325f*-0x1,[El]:-0x49*0x4d+-0x1d2c+-0x887*-0x6,[bl]:-0x73a+-0x46d*-0x4+-0xa70,[Al]:0x1*-0x261b+-0x1462+0x3a88,[Cl]:0x1*-0x17fb+0x1*0x2419+-0xc12,[Pl]:-0x11*-0x9f+-0x14*-0x1c3+-0x2dbe},ZF=_0x5dfc5e=>{switch(_0x5dfc5e){case dd:return _0x93c27a=>Math['max'](_0x93c27a/(-0x67*-0x1d+0x2*0x115+0x239*-0x6),-(0x1*0x2605+0x1f7c+-0x4580));case la:return _0x4875b3=>_0x4875b3/(-0x186c+0x2f*0x94+0x1*-0x1c1);case fd:return _0x5b8d97=>Math['max'](_0x5b8d97/(0x2*0x105e+0x9588*-0x1+-0xf4cb*-0x1),-(-0x1648+-0x209a+0x36e3));case Ml:return _0x257277=>_0x257277/(0x1ac0c+0x1*-0xcf33+-0x1193*-0x2);default:return _0x36d7e6=>_0x36d7e6;}},Gu=(_0x4027be,_0x1f0ffa,_0x13591f)=>{const _0x3b5872=ZF(_0x13591f),_0x5f017d=_0x1f0ffa['length'];for(let _0x9887e=0x10*-0x144+-0x22d1+0x3711;_0x9887e<_0x5f017d;++_0x9887e)_0x4027be[_0x9887e]=_0x3b5872(_0x1f0ffa[_0x9887e]);return _0x4027be;},ua=(_0x13c757,_0x2d947a,_0x27e063=!(-0x4*0x1fd+-0x29*-0x5d+-0x6f0))=>{const _0x54669d=yl(_0x13c757['type']),_0x3d90ba=KF(_0x13c757['componentT'+'ype']);if(!_0x3d90ba)return null;let _0x14f6d7;if(_0x13c757['sparse']){const _0x12dbfe=_0x13c757['sparse'],_0x3677ea={'count':_0x12dbfe['count'],'type':'SCALAR'},_0x5e059c=ua(Object['assign'](_0x3677ea,_0x12dbfe['indices']),_0x2d947a,!(-0xb51*-0x3+0xb*-0x205+-0x2*0x5de)),_0x2486d3={'count':_0x12dbfe['count'],'type':_0x13c757['type'],'componentType':_0x13c757['componentT'+'ype']},_0x555e3e=ua(Object['assign'](_0x2486d3,_0x12dbfe['values']),_0x2d947a,!(-0x1*-0x1e31+0x3dd+-0x220e));if(_0x13c757['hasOwnProp'+'erty']('bufferView')){const _0xc1236d={'bufferView':_0x13c757['bufferView'],'byteOffset':_0x13c757['byteOffset'],'componentType':_0x13c757['componentT'+'ype'],'count':_0x13c757['count'],'type':_0x13c757['type']};_0x14f6d7=ua(_0xc1236d,_0x2d947a,!(0x2c7+-0x65*-0xe+0x55*-0x19))['slice']();}else _0x14f6d7=new _0x3d90ba(_0x13c757['count']*_0x54669d);for(let _0x10fa2c=0x1*-0x2287+0xc4d*-0x1+0x2ed4;_0x10fa2c<_0x12dbfe['count'];++_0x10fa2c){const _0x327613=_0x5e059c[_0x10fa2c];for(let _0x1c1c4e=-0x120c+0x24a4+0x2*-0x94c;_0x1c1c4e<_0x54669d;++_0x1c1c4e)_0x14f6d7[_0x327613*_0x54669d+_0x1c1c4e]=_0x555e3e[_0x10fa2c*_0x54669d+_0x1c1c4e];}}else{if(_0x13c757['hasOwnProp'+'erty']('bufferView')){const _0x401544=_0x2d947a[_0x13c757['bufferView']];if(_0x27e063&&_0x401544['hasOwnProp'+'erty']('byteStride')){const _0x34493e=_0x54669d*_0x3d90ba['BYTES_PER_'+'ELEMENT'],_0x3808c6=new ArrayBuffer(_0x13c757['count']*_0x34493e),_0x1dbfa6=new Uint8Array(_0x3808c6);let _0x5cd87f=0x5d*-0xf+-0x20ff+0x206*0x13;for(let _0x1dd9e6=0x249b+0x7bf*-0x5+0x110*0x2;_0x1dd9e6<_0x13c757['count'];++_0x1dd9e6){let _0x30994a=(_0x13c757['byteOffset']||0x4*-0x807+-0x22fb*0x1+-0x1*-0x4317)+_0x1dd9e6*_0x401544['byteStride'];for(let _0x419bc5=0x7d0+0x1*-0xdb7+0x5e7;_0x419bc5<_0x34493e;++_0x419bc5)_0x1dbfa6[_0x5cd87f++]=_0x401544[_0x30994a++];}_0x14f6d7=new _0x3d90ba(_0x3808c6);}else _0x14f6d7=new _0x3d90ba(_0x401544['buffer'],_0x401544['byteOffset']+(_0x13c757['byteOffset']||-0x12eb*-0x2+0x33*0xa7+-0x6d*0xa7),_0x13c757['count']*_0x54669d);}else _0x14f6d7=new _0x3d90ba(_0x13c757['count']*_0x54669d);}return _0x14f6d7;},Pn=(_0x377089,_0x58a3c1)=>{const _0x2a7b9e=ua(_0x377089,_0x58a3c1,!(-0x142c+-0x1cec*0x1+0xc46*0x4));if(_0x2a7b9e instanceof Float32Array||!_0x377089['normalized'])return _0x2a7b9e;const _0x6fd83f=new Float32Array(_0x2a7b9e['length']);return Gu(_0x6fd83f,_0x2a7b9e,Dd(_0x377089['componentT'+'ype'])),_0x6fd83f;},Hu=_0x135b3c=>{let _0xf42168=_0x135b3c['min'],_0xed3a7e=_0x135b3c['max'];if(!_0xf42168||!_0xed3a7e)return null;if(_0x135b3c['normalized']){const _0x37fbbf=Dd(_0x135b3c['componentT'+'ype']);_0xf42168=Gu([],_0xf42168,_0x37fbbf),_0xed3a7e=Gu([],_0xed3a7e,_0x37fbbf);}return new De(new D((_0xed3a7e[0x4c*0x69+-0x1*0x257d+0x651]+_0xf42168[-0x156a*-0x1+0xa21*0x1+-0x1f8b])*(-0x4e1*-0x5+0x261d+-0x3e82+0.5),(_0xed3a7e[-0x1820+-0x104b+-0x18e*-0x1a]+_0xf42168[-0xb*0x1c5+0x1f02+-0x2*0x5c5])*(0x226b+-0x1308+-0xf63+0.5),(_0xed3a7e[0xe9*-0x14+-0x2*0xc4d+-0x2*-0x1568]+_0xf42168[-0x1*-0xfce+-0x1*-0x33+0x7*-0x249])*(0x855+-0x734*-0x1+-0xf89+0.5)),new D((_0xed3a7e[0x49a*0x7+0x1*0xa85+-0x1*0x2abb]-_0xf42168[-0x3f*-0x47+-0x4*-0x7c8+-0x3099])*(-0x269+-0x1d82+-0x1feb*-0x1+0.5),(_0xed3a7e[-0x4c5+0x20e*-0x12+0x29c2]-_0xf42168[-0x19ea+-0x1fd7+0x39c2])*(-0x4d3+0x26c2+0x11*-0x1ff+0.5),(_0xed3a7e[0xd22+-0x1*0x537+-0x7e9]-_0xf42168[0xf71*0x1+0x1a51*0x1+0x538*-0x8])*(0x13f9+0x2274+0x1*-0x366d+0.5)));},T0=_0x55cc7f=>{if(!_0x55cc7f['hasOwnProp'+'erty']('mode'))return js;switch(_0x55cc7f['mode']){case 0x72c+-0x10c4+-0x998*-0x1:return cd;case 0x792+-0x3*0x95e+0x1489:return hd;case 0x1a48+0x2c2+0x8*-0x3a1:return _y;case-0x16a2+0x1c1d+0x1c*-0x32:return gy;case-0x2a9+-0x1*-0x1758+0xd*-0x197:return js;case 0x332*0x4+-0x3*-0x97f+0x1e0*-0x16:return Er;case 0x3*-0x9f7+0x31*0x59+0xce2:return oa;default:return js;}},QF=_0x55baaa=>{const _0x7853c0=new Uint16Array(_0x55baaa);for(let _0xb501b1=-0x1*-0x371+0xe*0xe0+-0xfb1;_0xb501b1<_0x55baaa;_0xb501b1++)_0x7853c0[_0xb501b1]=_0xb501b1;return _0x7853c0;},JF=(_0x5a6d27,_0x2be7ea)=>{const _0x45f5bf=_0x5a6d27[Me];if(!_0x45f5bf||_0x45f5bf['components']!==-0x2425*-0x1+0x172a+-0x8a*0x6e)return;let _0x107e37;if(_0x45f5bf['size']!==_0x45f5bf['stride']){const _0x4ac4ae=_0x45f5bf['stride']/No[_0x45f5bf['type']],_0xf66258=new wn[_0x45f5bf['type']](_0x45f5bf['buffer'],_0x45f5bf['offset'],_0x45f5bf['count']*_0x4ac4ae);_0x107e37=new wn[_0x45f5bf['type']](_0x45f5bf['count']*(0x1*-0x1a98+0xe*0xb1+0x10ed));for(let _0xcd2fff=-0x1*-0x163+0x17ec+0x155*-0x13;_0xcd2fff<_0x45f5bf['count'];++_0xcd2fff)_0x107e37[_0xcd2fff*(-0x26ec+0x22b2+0x23*0x1f)+(-0x85*0x41+0x236e+0x11*-0x19)]=_0xf66258[_0xcd2fff*_0x4ac4ae+(-0x7b*0x4e+-0x1413+0x398d)],_0x107e37[_0xcd2fff*(0x7*0x279+-0x12a7*-0x1+-0x23f3)+(0x11*-0x15d+0x1ce6+-0x5b8)]=_0xf66258[_0xcd2fff*_0x4ac4ae+(-0x1*-0x71f+-0x2*-0x91d+0x4*-0x656)],_0x107e37[_0xcd2fff*(0x2*0x347+-0xb11+0x486)+(0x92+-0x10ad+-0x113*-0xf)]=_0xf66258[_0xcd2fff*_0x4ac4ae+(-0x7f*0x13+-0x533+0xea2)];}else _0x107e37=new wn[_0x45f5bf['type']](_0x45f5bf['buffer'],_0x45f5bf['offset'],_0x45f5bf['count']*(-0x1d5b*-0x1+-0x1*-0xf02+-0x2c5a*0x1));const _0x469c80=_0x45f5bf['count'];_0x2be7ea||(_0x2be7ea=QF(_0x469c80));const _0x599b44=Iv(_0x107e37,_0x2be7ea),_0x104e50=new Float32Array(_0x599b44['length']);_0x104e50['set'](_0x599b44),_0x5a6d27[gs]={'buffer':_0x104e50['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x469c80,'components':0x3,'type':Ve};},eN=_0x3fe6b9=>{const _0x129f47=_0x20f8ac=>{const _0x4ef780=[];for(let _0x44eba3=-0x509*0x7+-0xae*0x2f+-0x4331*-0x1;_0x44eba3<_0x20f8ac['_levels']['length'];++_0x44eba3){let _0x4150be=[];if(_0x20f8ac['cubemap']){for(let _0x5cedf0=0x566*-0x5+0x2e*0xce+-0xa06;_0x5cedf0<-0x2503+0x7*0x241+0x1542;++_0x5cedf0)_0x4150be['push'](_0x20f8ac['_levels'][_0x44eba3][_0x5cedf0]);}else _0x4150be=_0x20f8ac['_levels'][_0x44eba3];_0x4ef780['push'](_0x4150be);}return _0x4ef780;},_0x38e154=new _e(_0x3fe6b9['device'],_0x3fe6b9);return _0x38e154['_levels']=_0x129f47(_0x3fe6b9),_0x38e154;},tN=_0x3ddf37=>{const _0x53f0e7=new pe(_0x3ddf37['name']+'_clone',_0x3ddf37['type'],_0x3ddf37['file'],_0x3ddf37['data'],_0x3ddf37['options']);return _0x53f0e7['loaded']=!(0x591+-0xdd3+0x842),_0x53f0e7['resource']=eN(_0x3ddf37['resource']),_0x3ddf37['registry']['add'](_0x53f0e7),_0x53f0e7;},sN=(_0x1702e2,_0x132c92)=>{const _0x4217ad=_0x132c92[Me];if(!_0x4217ad)return null;const _0x39c75d=_0x4217ad['count'],_0x463aea=[];for(const _0x384f67 in _0x132c92)if(_0x132c92['hasOwnProp'+'erty'](_0x384f67)){const _0x34d479={'semantic':_0x384f67,'components':_0x132c92[_0x384f67]['components'],'type':_0x132c92[_0x384f67]['type'],'normalize':!!_0x132c92[_0x384f67]['normalize']};kt['isElementV'+'alid'](_0x1702e2,_0x34d479)||_0x34d479['components']++,_0x463aea['push'](_0x34d479);}_0x463aea['sort']((_0x293cc5,_0x33f080)=>SS[_0x293cc5['semantic']]-SS[_0x33f080['semantic']]);let _0x478b50,_0x348594,_0x3164fb,_0x9bbd3,_0x1519d8,_0x13652b;const _0x4a98aa=new kt(_0x1702e2,_0x463aea);let _0x34bd34=!(-0x22c8+-0xee6*-0x2+0x4fc);for(_0x478b50=-0x1*-0x1eb0+-0x1f1*0x1+0x1*-0x1cbf;_0x478b50<_0x4a98aa['elements']['length'];++_0x478b50)if(_0x1519d8=_0x4a98aa['elements'][_0x478b50],_0x9bbd3=_0x132c92[_0x1519d8['name']],_0x13652b=_0x9bbd3['offset']-_0x4217ad['offset'],_0x9bbd3['buffer']!==_0x4217ad['buffer']||_0x9bbd3['stride']!==_0x1519d8['stride']||_0x9bbd3['size']!==_0x1519d8['size']||_0x13652b!==_0x1519d8['offset']){_0x34bd34=!(-0x1cec+-0x1314*-0x2+-0x11*0x8b);break;}const _0x19eb31=new Is(_0x1702e2,_0x4a98aa,_0x39c75d),_0xf89ea1=_0x19eb31['lock'](),_0x280a73=new Uint32Array(_0xf89ea1);let _0x1852a5;if(_0x34bd34)_0x1852a5=new Uint32Array(_0x4217ad['buffer'],_0x4217ad['offset'],_0x39c75d*_0x19eb31['format']['size']/(-0x118f+0xedb+0x1d*0x18)),_0x280a73['set'](_0x1852a5);else{let _0x1cf9c7,_0x506edd;for(_0x478b50=-0x36*-0x44+-0x2d3+-0xb85;_0x478b50<_0x19eb31['format']['elements']['length'];++_0x478b50){_0x1519d8=_0x19eb31['format']['elements'][_0x478b50],_0x1cf9c7=_0x1519d8['stride']/(0x13ce+0x253a+0x29*-0x164),_0x9bbd3=_0x132c92[_0x1519d8['name']],_0x506edd=_0x9bbd3['stride']/(0x573+-0x104a*-0x1+-0x15b9*0x1),_0x1852a5=new Uint32Array(_0x9bbd3['buffer'],_0x9bbd3['offset'],(_0x9bbd3['count']-(0x28*-0xe6+0xa3*0x17+0x154c*0x1))*_0x506edd+(_0x9bbd3['size']+(0x229f*0x1+-0x1*-0x711+0x1*-0x29ad))/(0x7*-0x259+-0x1*-0x62a+0x1*0xa49));let _0x11b62f=0xf8b*-0x1+0xdd9+0x1b2*0x1,_0x3c4ca5=_0x1519d8['offset']/(-0x62c*0x1+0x127b*0x1+-0xc4b);const _0x1b6cdf=Math['floor']((_0x9bbd3['size']+(-0x14e8+0x125f*0x2+0xfd3*-0x1))/(0x1*-0x1051+-0x1*-0x2ab+-0x6d5*-0x2));for(_0x348594=0x1*-0x25a9+-0x38*-0x4d+0x1*0x14d1;_0x348594<_0x39c75d;++_0x348594){for(_0x3164fb=0x74*0x3+-0x123c+0x10e0;_0x3164fb<_0x1b6cdf;++_0x3164fb)_0x280a73[_0x3c4ca5+_0x3164fb]=_0x1852a5[_0x11b62f+_0x3164fb];_0x11b62f+=_0x506edd,_0x3c4ca5+=_0x1cf9c7;}}}return _0x19eb31['unlock'](),_0x19eb31;},iN=(_0x382094,_0x52a77d,_0x44b8a6,_0x515ae9,_0x18d7ca,_0xad7dd5)=>{const _0x4cd2b3={},_0x9c9b45=[];for(const _0x2b43fb in _0x52a77d)_0x52a77d['hasOwnProp'+'erty'](_0x2b43fb)&&Nh['hasOwnProp'+'erty'](_0x2b43fb)&&(_0x4cd2b3[_0x2b43fb]=_0x52a77d[_0x2b43fb],_0x9c9b45['push'](_0x2b43fb+':'+_0x52a77d[_0x2b43fb]));_0x9c9b45['sort']();const _0x5798cd=_0x9c9b45['join']();let _0x2b7117=_0xad7dd5[_0x5798cd];if(!_0x2b7117){const _0x34622a={};for(const _0x1e3b6f in _0x4cd2b3){const _0x586b11=_0x515ae9[_0x52a77d[_0x1e3b6f]],_0x2ade30=ua(_0x586b11,_0x18d7ca),_0x57480f=_0x18d7ca[_0x586b11['bufferView']],_0xa475a5=Nh[_0x1e3b6f],_0xb5b6e0=yl(_0x586b11['type'])*YF(_0x586b11['componentT'+'ype']),_0x420cb4=_0x57480f&&_0x57480f['hasOwnProp'+'erty']('byteStride')?_0x57480f['byteStride']:_0xb5b6e0;_0x34622a[_0xa475a5]={'buffer':_0x2ade30['buffer'],'size':_0xb5b6e0,'offset':_0x2ade30['byteOffset'],'stride':_0x420cb4,'count':_0x586b11['count'],'components':yl(_0x586b11['type']),'type':Dd(_0x586b11['componentT'+'ype']),'normalize':_0x586b11['normalized']};}_0x34622a['hasOwnProp'+'erty'](gs)||JF(_0x34622a,_0x44b8a6),_0x2b7117=sN(_0x382094,_0x34622a),_0xad7dd5[_0x5798cd]=_0x2b7117;}return _0x2b7117;},rN=(_0x6f4d1d,_0x26cb3d,_0x258699,_0x58caff,_0x106997,_0x1213fd)=>{let _0x74d6bf,_0x5eabad,_0x474cc0;const _0x5d23c9=_0x26cb3d['joints'],_0x4c3c30=_0x5d23c9['length'],_0x493c1f=[];if(_0x26cb3d['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x2ed91a=_0x26cb3d['inverseBin'+'dMatrices'],_0x248f7f=ua(_0x258699[_0x2ed91a],_0x58caff,!(0xd45+0x1*-0x773+-0xa*0x95)),_0x16df27=[];for(_0x74d6bf=0x9*-0x280+-0x5*0x6aa+0xa*0x595;_0x74d6bf<_0x4c3c30;_0x74d6bf++){for(_0x5eabad=0x1*0x205d+0x744+-0x27a1;_0x5eabad<0x1*-0x1021+0x51*0x57+0x5ab*-0x2;_0x5eabad++)_0x16df27[_0x5eabad]=_0x248f7f[_0x74d6bf*(0x1da+0x1*0xeed+-0x10b7)+_0x5eabad];_0x474cc0=new te(),_0x474cc0['set'](_0x16df27),_0x493c1f['push'](_0x474cc0);}}else{for(_0x74d6bf=-0x1*0xa2a+0x2e*-0x3+0xab4;_0x74d6bf<_0x4c3c30;_0x74d6bf++)_0x474cc0=new te(),_0x493c1f['push'](_0x474cc0);}const _0x1a9f0e=[];for(_0x74d6bf=0xdee*-0x1+-0x1f*0xa5+-0x21e9*-0x1;_0x74d6bf<_0x4c3c30;_0x74d6bf++)_0x1a9f0e[_0x74d6bf]=_0x106997[_0x5d23c9[_0x74d6bf]]['name'];const _0x111503=_0x1a9f0e['join']('#');let _0x34a5ce=_0x1213fd['get'](_0x111503);return _0x34a5ce||(_0x34a5ce=new Lv(_0x6f4d1d,_0x493c1f,_0x1a9f0e),_0x1213fd['set'](_0x111503,_0x34a5ce)),_0x34a5ce;},aN=(_0x5d80d1,_0x439a27,_0x11eb9a,_0x14df16,_0x1969f9,_0x596ab8,_0x5059a9)=>{var _0x19bf11;const _0x333b9a=new Ge(_0x5d80d1);_0x333b9a['aabb']=Hu(_0x11eb9a[_0x439a27['attributes']['POSITION']]);const _0x53cf79=[];for(const [_0x28b8c8,_0x90ed1e]of Object['entries'](_0x439a27['attributes'])){const _0x74dd4f=_0x11eb9a[_0x90ed1e],_0x185c63=Nh[_0x28b8c8],_0x4905a1=Dd(_0x74dd4f['componentT'+'ype']);_0x53cf79['push']({'semantic':_0x185c63,'components':yl(_0x74dd4f['type']),'type':_0x4905a1,'normalize':_0x74dd4f['normalized']??(_0x185c63===Wt&&(_0x4905a1===la||_0x4905a1===Ml))});}if(_0x5059a9['push'](new Promise((_0x27cc75,_0x57bdf3)=>{const _0x2fe6d5=_0x439a27['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x14df16[_0x2fe6d5['bufferView']]['slice']()['buffer'],(_0x1e7870,_0x188c6d)=>{var _0x2a16a8;if(_0x1e7870)console['log'](_0x1e7870),_0x57bdf3(_0x1e7870);else{const _0x4290c3={};for(const [_0x26eca0,_0x8e3f57]of Object['entries'](_0x2fe6d5['attributes']))_0x4290c3[Nh[_0x26eca0]]=_0x188c6d['attributes']['indexOf'](_0x8e3f57);_0x53cf79['sort']((_0x4c76b3,_0x2108ac)=>_0x4290c3[_0x4c76b3['semantic']]-_0x4290c3[_0x2108ac['semantic']]),(_0x2a16a8=_0x439a27['attributes'])!=null&&_0x2a16a8['NORMAL']||_0x53cf79['splice'](0x202*0xd+0x9*-0x10+-0x3*0x883,-0x2d*-0x1+0x1c8e+-0x1*0x1cbb,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x12ee96=new kt(_0x5d80d1,_0x53cf79),_0x290204=_0x188c6d['vertices']['byteLength']/_0x12ee96['size'],_0x14e222=_0x290204<=-0x1767f*0x1+0x2d*0x765+-0x9*-0x2115?Yi:wr,_0x2a176f=_0x188c6d['indices']['byteLength']/(_0x290204<=-0x15f*-0x112+-0x19c01+0x20f*0x8e?0x984+-0x10*0xf1+0x6*0xed:-0xdb4*0x2+-0x1*-0x1173+0x9f9);w['call'](()=>{_0x290204!==_0x11eb9a[_0x439a27['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2a176f!==_0x11eb9a[_0x439a27['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x481933=new Is(_0x5d80d1,_0x12ee96,_0x290204,{'data':_0x188c6d['vertices']}),_0x5e805f=new br(_0x5d80d1,_0x14e222,_0x2a176f,ms,_0x188c6d['indices']);_0x333b9a['vertexBuff'+'er']=_0x481933,_0x333b9a['indexBuffe'+'r'][0x1af*0x13+0x7a5*0x1+0x26*-0x10b]=_0x5e805f,_0x333b9a['primitive'][-0x1*-0x8bf+0x15d0+-0x1e8f]['type']=T0(_0x439a27),_0x333b9a['primitive'][-0x1*-0x416+-0xf74+0x246*0x5]['base']=0xdf*0x1+0x829*0x1+-0x908,_0x333b9a['primitive'][0x1e7a*0x1+0x3*0x742+-0x8*0x688]['count']=_0x5e805f?_0x2a176f:_0x290204,_0x333b9a['primitive'][-0xc57+-0x1*0x42b+-0x1*-0x1082]['indexed']=!!_0x5e805f,_0x27cc75();}});})),(_0x19bf11=_0x439a27==null?void(-0x43a+-0xeff+0x1339):_0x439a27['extensions'])!=null&&_0x19bf11['KHR_materi'+'als_varian'+'ts']){const _0x3d2acf=_0x439a27['extensions']['KHR_materi'+'als_varian'+'ts'],_0x30632f={};_0x3d2acf['mappings']['forEach'](_0x37d008=>{_0x37d008['variants']['forEach'](_0x16a42e=>{_0x30632f[_0x16a42e]=_0x37d008['material'];});}),_0x1969f9[_0x333b9a['id']]=_0x30632f;}return _0x596ab8[_0x333b9a['id']]=_0x439a27['material'],_0x333b9a;},nN=(_0xf05a58,_0x2fff43,_0x8d45f1,_0x4b3017,_0x49dae3,_0x4f1e3c,_0x52561b,_0x1c9a29,_0x248722)=>{const _0x2c86f0=[];return _0x2fff43['primitives']['forEach'](_0x18b89e=>{var _0x2cf976;if((_0x2cf976=_0x18b89e['extensions'])!=null&&_0x2cf976['KHR_draco_'+'mesh_compr'+'ession'])_0x2c86f0['push'](aN(_0xf05a58,_0x18b89e,_0x8d45f1,_0x4b3017,_0x4f1e3c,_0x52561b,_0x248722));else{let _0x37652a=_0x18b89e['hasOwnProp'+'erty']('indices')?ua(_0x8d45f1[_0x18b89e['indices']],_0x4b3017,!(0xfb*0x9+-0x3e*-0x93+-0x2c6d)):null;const _0x46fce7=iN(_0xf05a58,_0x18b89e['attributes'],_0x37652a,_0x8d45f1,_0x4b3017,_0x49dae3),_0x24a812=T0(_0x18b89e),_0x2a6a13=new Ge(_0xf05a58);if(_0x2a6a13['vertexBuff'+'er']=_0x46fce7,_0x2a6a13['primitive'][-0x94*0x17+-0x143*0xb+0x1b2d]['type']=_0x24a812,_0x2a6a13['primitive'][-0x182*0x19+-0x2091+0x4643]['base']=0x621*-0x1+-0x1a78+0x2099,_0x2a6a13['primitive'][0x1ca+0xa3*-0x1d+0x1*0x10ad]['indexed']=_0x37652a!==null,_0x37652a!==null){let _0x418a7a;_0x37652a instanceof Uint8Array?_0x418a7a=$f:_0x37652a instanceof Uint16Array?_0x418a7a=Yi:_0x418a7a=wr,_0x418a7a===$f&&_0xf05a58['isWebGPU']&&(_0x418a7a=Yi,_0x37652a=new Uint16Array(_0x37652a));const _0x5aef7d=new br(_0xf05a58,_0x418a7a,_0x37652a['length'],ms,_0x37652a);_0x2a6a13['indexBuffe'+'r'][-0x20c9+-0x1*0x1f2e+0x3ff7]=_0x5aef7d,_0x2a6a13['primitive'][-0x462+0x7fd+0x47*-0xd]['count']=_0x37652a['length'];}else _0x2a6a13['primitive'][0x1aa1+0x14*0x1bd+0x3*-0x1477]['count']=_0x46fce7['numVertice'+'s'];if(_0x18b89e['hasOwnProp'+'erty']('extensions')&&_0x18b89e['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x4a548d=_0x18b89e['extensions']['KHR_materi'+'als_varian'+'ts'],_0xbb0eb1={};_0x4a548d['mappings']['forEach'](_0x2570cf=>{_0x2570cf['variants']['forEach'](_0x532910=>{_0xbb0eb1[_0x532910]=_0x2570cf['material'];});}),_0x4f1e3c[_0x2a6a13['id']]=_0xbb0eb1;}_0x52561b[_0x2a6a13['id']]=_0x18b89e['material'];let _0x402195=_0x8d45f1[_0x18b89e['attributes']['POSITION']];if(_0x2a6a13['aabb']=Hu(_0x402195),_0x18b89e['hasOwnProp'+'erty']('targets')){const _0x193ad0=[];_0x18b89e['targets']['forEach']((_0x2731d7,_0x122d0e)=>{const _0x57d92a={};_0x2731d7['hasOwnProp'+'erty']('POSITION')&&(_0x402195=_0x8d45f1[_0x2731d7['POSITION']],_0x57d92a['deltaPosit'+'ions']=Pn(_0x402195,_0x4b3017),_0x57d92a['aabb']=Hu(_0x402195)),_0x2731d7['hasOwnProp'+'erty']('NORMAL')&&(_0x402195=_0x8d45f1[_0x2731d7['NORMAL']],_0x57d92a['deltaNorma'+'ls']=Pn(_0x402195,_0x4b3017)),_0x2fff43['hasOwnProp'+'erty']('extras')&&_0x2fff43['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x57d92a['name']=_0x2fff43['extras']['targetName'+'s'][_0x122d0e]:_0x57d92a['name']=_0x122d0e['toString'](-0xf3a+-0x1*0x149b+-0x23df*-0x1),_0x2fff43['hasOwnProp'+'erty']('weights')&&(_0x57d92a['defaultWei'+'ght']=_0x2fff43['weights'][_0x122d0e]),_0x57d92a['preserveDa'+'ta']=_0x1c9a29['morphPrese'+'rveData'],_0x193ad0['push'](new Md(_0x57d92a));}),_0x2a6a13['morph']=new mm(_0x193ad0,_0xf05a58,{'preferHighPrecision':_0x1c9a29['morphPrefe'+'rHighPreci'+'sion']});}_0x2c86f0['push'](_0x2a6a13);}}),_0x2c86f0;},Dt=(_0x40811b,_0x2a8c5e,_0x1e718a)=>{var _0x244bb4;let _0x7a15de;const _0x1865a5=_0x40811b['texCoord'];if(_0x1865a5){for(_0x7a15de=-0x1304*0x2+-0x1f4f+-0x1*-0x4557;_0x7a15de<_0x1e718a['length'];++_0x7a15de)_0x2a8c5e[_0x1e718a[_0x7a15de]+'MapUv']=_0x1865a5;}const _0x5ca315=[0x14d+0x439*-0x9+-0xa2*-0x3a,0x3c7*0x7+-0xd0f*0x2+-0x53],_0x5103e5=[-0x256+0x1252+0xffb*-0x1,-0x9e4+0x1078+-0x1*0x693],_0x48f167=(_0x244bb4=_0x40811b['extensions'])==null?void(-0x1387*0x1+0xb61*-0x3+0x35aa):_0x244bb4['KHR_textur'+'e_transfor'+'m'];if(_0x48f167){const _0x4aa385=_0x48f167['offset']||_0x5ca315,_0x2eb60a=_0x48f167['scale']||_0x5103e5,_0x4c1926=_0x48f167['rotation']?-_0x48f167['rotation']*Y['RAD_TO_DEG']:0x4*0x4b7+-0x5*-0x215+-0x1*0x1d45,_0x484762=new J(_0x2eb60a[-0x4d5*0x7+0x4*-0x1cf+-0x290f*-0x1],_0x2eb60a[0x48*0x42+0x1fe1*-0x1+-0xd52*-0x1]),_0x6f61c5=new J(_0x4aa385[0x1671*0x1+-0x51e*-0x5+-0x3007],-0x76d*-0x2+-0x1*-0x1e57+-0x2d30-_0x2eb60a[0xe7d*-0x1+-0x2119+0x2f97]-_0x4aa385[-0x1*-0x2482+0x1308*0x1+0x2a5*-0x15]);for(_0x7a15de=-0x2*-0x9ac+0x12e*-0xb+-0x65e;_0x7a15de<_0x1e718a['length'];++_0x7a15de)_0x2a8c5e[_0x1e718a[_0x7a15de]+'MapTiling']=_0x484762,_0x2a8c5e[_0x1e718a[_0x7a15de]+'MapOffset']=_0x6f61c5,_0x2a8c5e[_0x1e718a[_0x7a15de]+('MapRotatio'+'n')]=_0x4c1926;}},oN=(_0x5086c3,_0x4cfc09,_0x1597dd)=>{let _0x1a0966,_0xf5f7b3;if(_0x5086c3['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x1a0966=_0x5086c3['diffuseFac'+'tor'],_0x4cfc09['diffuse']['set'](Math['pow'](_0x1a0966[-0x9*0x3b5+0x6d*-0x3e+0x3bc3],(-0x16*0xb+-0x8a7+0x99a*0x1)/(0x26ec+-0x46b+-0x227f*0x1+0.20000000000000018)),Math['pow'](_0x1a0966[0x1*-0x1709+-0x10b+0x1815],(-0x2*0x296+0xc81+-0x754)/(0x13a5+0x17a+-0x151d+0.20000000000000018)),Math['pow'](_0x1a0966[0x1589*0x1+-0x235e+0xdd7],(0x325*0x3+-0xfbc*-0x1+-0x192a*0x1)/(-0x2623+-0x38c+0x29b1+0.20000000000000018))),_0x4cfc09['opacity']=_0x1a0966[-0xada+0x13a4+-0x8c7]):(_0x4cfc09['diffuse']['set'](-0x93b*0x1+0x13eb+-0x1*0xaaf,-0x1*-0x1df7+0x1f*0xfa+-0x3c3c,-0x363+0x260d+0x1*-0x22a9),_0x4cfc09['opacity']=-0x268e+0x1*0x128f+-0x400*-0x5),_0x5086c3['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0xcc8049=_0x5086c3['diffuseTex'+'ture'];_0xf5f7b3=_0x1597dd[_0xcc8049['index']],_0x4cfc09['diffuseMap']=_0xf5f7b3,_0x4cfc09['diffuseMap'+'Channel']='rgb',_0x4cfc09['opacityMap']=_0xf5f7b3,_0x4cfc09['opacityMap'+'Channel']='a',Dt(_0xcc8049,_0x4cfc09,['diffuse','opacity']);}if(_0x4cfc09['useMetalne'+'ss']=!(0x6a8*-0x1+0x7*0x585+-0x1ffa),_0x5086c3['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x1a0966=_0x5086c3['specularFa'+'ctor'],_0x4cfc09['specular']['set'](Math['pow'](_0x1a0966[-0x1*-0x1327+-0x13f2*0x1+0xcb],(-0x19*-0xca+0x123*0xc+-0x215d)/(-0x205e+0xdd5*0x1+0x128b+0.20000000000000018)),Math['pow'](_0x1a0966[0xd*-0x1b7+-0x1*-0x143b+-0x1*-0x211],(-0x90a+0x68a+0x281)/(-0x189*-0x7+0x1e39*-0x1+0x137c+0.20000000000000018)),Math['pow'](_0x1a0966[0xb2+0x43*0x5e+-0x27*0xa6],(-0x79*0x43+0x47*-0x5+0x7*0x4b9)/(0x243a+-0xcb9+-0x177f+0.20000000000000018)))):_0x4cfc09['specular']['set'](-0x506*0x2+-0x1*-0x22ae+-0x1*0x18a1,0x8*0x398+-0x17e9+-0x4d6,0x26*-0x4e+-0x1899*0x1+-0x242e*-0x1),_0x5086c3['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x4cfc09['gloss']=_0x5086c3['glossiness'+'Factor']:_0x4cfc09['gloss']=0x5*-0x1ae+0x1f7*0x7+0x1*-0x55a,_0x5086c3['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x318581=_0x5086c3['specularGl'+'ossinessTe'+'xture'];_0x4cfc09['specularMa'+'p']=_0x4cfc09['glossMap']=_0x1597dd[_0x318581['index']],_0x4cfc09['specularMa'+'pChannel']='rgb',_0x4cfc09['glossMapCh'+'annel']='a',Dt(_0x318581,_0x4cfc09,['gloss','metalness']);}},lN=(_0x2ad5ba,_0x16d94c,_0x42f7e7)=>{if(_0x2ad5ba['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x16d94c['clearCoat']=_0x2ad5ba['clearcoatF'+'actor']*(0x2069+-0x2645+0x5dc*0x1+0.25):_0x16d94c['clearCoat']=0x1*0x8cd+-0x2449+-0x1b7c*-0x1,_0x2ad5ba['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x2a5d2f=_0x2ad5ba['clearcoatT'+'exture'];_0x16d94c['clearCoatM'+'ap']=_0x42f7e7[_0x2a5d2f['index']],_0x16d94c['clearCoatM'+'apChannel']='r',Dt(_0x2a5d2f,_0x16d94c,['clearCoat']);}if(_0x2ad5ba['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x16d94c['clearCoatG'+'loss']=_0x2ad5ba['clearcoatR'+'oughnessFa'+'ctor']:_0x16d94c['clearCoatG'+'loss']=0x13a2+-0xa33+0x7*-0x159,_0x2ad5ba['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x155176=_0x2ad5ba['clearcoatR'+'oughnessTe'+'xture'];_0x16d94c['clearCoatG'+'lossMap']=_0x42f7e7[_0x155176['index']],_0x16d94c['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x155176,_0x16d94c,['clearCoatG'+'loss']);}if(_0x2ad5ba['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x36b5b5=_0x2ad5ba['clearcoatN'+'ormalTextu'+'re'];_0x16d94c['clearCoatN'+'ormalMap']=_0x42f7e7[_0x36b5b5['index']],Dt(_0x36b5b5,_0x16d94c,['clearCoatN'+'ormal']),_0x36b5b5['hasOwnProp'+'erty']('scale')?_0x16d94c['clearCoatB'+'umpiness']=_0x36b5b5['scale']:_0x16d94c['clearCoatB'+'umpiness']=0x13fb+-0xf5d+-0x49d;}_0x16d94c['clearCoatG'+'lossInvert']=!(-0x445+0x48b*-0x3+0x11e6);},cN=(_0x51db29,_0x32e211,_0x4d6789)=>{_0x32e211['useLightin'+'g']=!(0xfcb+0x1284+-0x224e),_0x32e211['emissive']['copy'](_0x32e211['diffuse']),_0x32e211['emissiveMa'+'p']=_0x32e211['diffuseMap'],_0x32e211['emissiveMa'+'pUv']=_0x32e211['diffuseMap'+'Uv'],_0x32e211['emissiveMa'+'pTiling']['copy'](_0x32e211['diffuseMap'+'Tiling']),_0x32e211['emissiveMa'+'pOffset']['copy'](_0x32e211['diffuseMap'+'Offset']),_0x32e211['emissiveMa'+'pRotation']=_0x32e211['diffuseMap'+'Rotation'],_0x32e211['emissiveMa'+'pChannel']=_0x32e211['diffuseMap'+'Channel'],_0x32e211['emissiveVe'+'rtexColor']=_0x32e211['diffuseVer'+'texColor'],_0x32e211['emissiveVe'+'rtexColorC'+'hannel']=_0x32e211['diffuseVer'+'texColorCh'+'annel'],_0x32e211['useLightin'+'g']=!(-0x1*-0x1a9d+0x2*0x1196+-0x1*0x3dc8),_0x32e211['useSkybox']=!(-0x536+-0xfa6*0x2+-0xd*-0x2cf),_0x32e211['diffuse']['set'](0x2e*-0x67+-0x42a+0x3*0x78f,0x1*0x160f+-0x1651+-0x1*-0x43,0x2be+-0x3b*-0xa+-0x50b),_0x32e211['diffuseMap']=null,_0x32e211['diffuseVer'+'texColor']=!(-0x2a9+-0xe8f+0x1139);},hN=(_0xd8b423,_0x617047,_0x18e414)=>{if(_0x617047['useMetalne'+'ssSpecular'+'Color']=!(0x9cd+-0x5d7+-0x3f6),_0xd8b423['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x617047['specularMa'+'p']=_0x18e414[_0xd8b423['specularCo'+'lorTexture']['index']],_0x617047['specularMa'+'pChannel']='rgb',Dt(_0xd8b423['specularCo'+'lorTexture'],_0x617047,['specular'])),_0xd8b423['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x587df7=_0xd8b423['specularCo'+'lorFactor'];_0x617047['specular']['set'](Math['pow'](_0x587df7[-0x22d0+0x18b3+-0xa1d*-0x1],(-0x3*0x62f+-0x202+-0x1*-0x1490)/(-0xa9f*0x3+-0x18e5+0x15*0x2b4+0.20000000000000018)),Math['pow'](_0x587df7[-0x1916+-0x1*-0x9e7+0xf30],(0x1df*-0xd+0x1*0x1f1+0x1663)/(0x2*0x4a0+0x1c*0x95+-0x198a+0.20000000000000018)),Math['pow'](_0x587df7[0x1*-0x2cd+0x1340+-0x1071],(-0x5e1+0xbf1+-0x60f)/(-0x1*-0x3ec+-0xfc6+-0x42*-0x2e+0.20000000000000018)));}else _0x617047['specular']['set'](0x6*0xf3+-0x2a*0x4a+0x673,-0x123+0x1be9+0x26f*-0xb,-0xd*-0xcd+-0x1b79+-0x1111*-0x1);_0xd8b423['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x617047['specularit'+'yFactor']=_0xd8b423['specularFa'+'ctor']:_0x617047['specularit'+'yFactor']=-0x11a1*0x1+-0xa16+0x377*0x8,_0xd8b423['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x617047['specularit'+'yFactorMap'+'Channel']='a',_0x617047['specularit'+'yFactorMap']=_0x18e414[_0xd8b423['specularTe'+'xture']['index']],Dt(_0xd8b423['specularTe'+'xture'],_0x617047,['specularit'+'yFactor']));},dN=(_0x5e12f1,_0x39bc26,_0x36aab0)=>{_0x5e12f1['hasOwnProp'+'erty']('ior')&&(_0x39bc26['refraction'+'Index']=(-0x6*0x2d3+-0x1666+-0x1*-0x2759)/_0x5e12f1['ior']);},fN=(_0x4bafd3,_0x1546cc,_0x1e4ad7)=>{_0x4bafd3['hasOwnProp'+'erty']('dispersion')&&(_0x1546cc['dispersion']=_0x4bafd3['dispersion']);},uN=(_0x4133ff,_0x3a8962,_0x465038)=>{_0x3a8962['blendType']=Zs,_0x3a8962['useDynamic'+'Refraction']=!(0x59f*-0x1+-0x1*0xe45+0x13e4),_0x4133ff['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x3a8962['refraction']=_0x4133ff['transmissi'+'onFactor']),_0x4133ff['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x3a8962['refraction'+'MapChannel']='r',_0x3a8962['refraction'+'Map']=_0x465038[_0x4133ff['transmissi'+'onTexture']['index']],Dt(_0x4133ff['transmissi'+'onTexture'],_0x3a8962,['refraction']));},pN=(_0x6dc010,_0x2acf75,_0x37ef04)=>{if(_0x2acf75['useSheen']=!(-0x52+0x145d+0x140b*-0x1),_0x6dc010['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0xa807b7=_0x6dc010['sheenColor'+'Factor'];_0x2acf75['sheen']['set'](Math['pow'](_0xa807b7[0x23bc+0x258+-0x2614],(-0x11*-0xd+-0x16e5*0x1+-0x1*-0x1609)/(-0x3bf+-0x9*-0x43+0x166+0.20000000000000018)),Math['pow'](_0xa807b7[0x498*-0x8+-0x113a+0x427*0xd],(-0x26b3+-0x448+0x2afc)/(0x34b*-0x3+-0x462+0xe45+0.20000000000000018)),Math['pow'](_0xa807b7[-0x1*-0xfca+-0x126d*0x1+-0x1*-0x2a5],(0x12ad+0xfe*-0x6+-0xcb8)/(0x17c6+0xd44+-0x2508+0.20000000000000018)));}else _0x2acf75['sheen']['set'](-0x99e*-0x1+0x6*-0x141+0x6b*-0x5,0x10*0xa5+-0x4b6*0x1+-0x599,0x1*0x1dee+-0xd84+-0x1069);_0x6dc010['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x2acf75['sheenMap']=_0x37ef04[_0x6dc010['sheenColor'+'Texture']['index']],Dt(_0x6dc010['sheenColor'+'Texture'],_0x2acf75,['sheen'])),_0x2acf75['sheenGloss']=_0x6dc010['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x6dc010['sheenRough'+'nessFactor']:0x8b*0x9+0x383*0x1+-0x866,_0x6dc010['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x2acf75['sheenGloss'+'Map']=_0x37ef04[_0x6dc010['sheenRough'+'nessTextur'+'e']['index']],_0x2acf75['sheenGloss'+'MapChannel']='a',Dt(_0x6dc010['sheenRough'+'nessTextur'+'e'],_0x2acf75,['sheenGloss'])),_0x2acf75['sheenGloss'+'Invert']=!(0x3e8+0xc56+0x103e*-0x1);},mN=(_0x52d08d,_0x39e761,_0x2260df)=>{if(_0x39e761['blendType']=Zs,_0x39e761['useDynamic'+'Refraction']=!(-0x20b7+0x239b+0x4a*-0xa),_0x52d08d['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x39e761['thickness']=_0x52d08d['thicknessF'+'actor']),_0x52d08d['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x39e761['thicknessM'+'ap']=_0x2260df[_0x52d08d['thicknessT'+'exture']['index']],_0x39e761['thicknessM'+'apChannel']='g',Dt(_0x52d08d['thicknessT'+'exture'],_0x39e761,['thickness'])),_0x52d08d['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x39e761['attenuatio'+'nDistance']=_0x52d08d['attenuatio'+'nDistance']),_0x52d08d['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x173776=_0x52d08d['attenuatio'+'nColor'];_0x39e761['attenuatio'+'n']['set'](Math['pow'](_0x173776[-0x2680+0x7fa+0x1e86],(-0x5*0x691+0xfd1+0x1105)/(0x1a21+0x1f82+-0x1*0x39a1+0.20000000000000018)),Math['pow'](_0x173776[0xa67*-0x3+0x1f8a+-0x54],(-0x160b+0xe*-0x239+0x352a)/(-0x1ce9+0x8*0x101+0x14e3+0.20000000000000018)),Math['pow'](_0x173776[-0x26c5*-0x1+0x131e*-0x1+-0x13a5],(-0x9a6+-0x134b+0x1cf2)/(0x1862+0x9fc+-0x225c+0.20000000000000018)));}},_N=(_0x25a12c,_0x42a78f,_0x33eab2)=>{_0x25a12c['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x42a78f['emissiveIn'+'tensity']=_0x25a12c['emissiveSt'+'rength']);},gN=(_0x3b8ba9,_0x5ef3e5,_0x12e8f3)=>{_0x5ef3e5['useIridesc'+'ence']=!(-0xbed+0xe85*-0x1+0x2*0xd39),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x5ef3e5['iridescenc'+'e']=_0x3b8ba9['iridescenc'+'eFactor']),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x5ef3e5['iridescenc'+'eMapChanne'+'l']='r',_0x5ef3e5['iridescenc'+'eMap']=_0x12e8f3[_0x3b8ba9['iridescenc'+'eTexture']['index']],Dt(_0x3b8ba9['iridescenc'+'eTexture'],_0x5ef3e5,['iridescenc'+'e'])),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x5ef3e5['iridescenc'+'eRefractio'+'nIndex']=_0x3b8ba9['iridescenc'+'eIor']),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x5ef3e5['iridescenc'+'eThickness'+'Min']=_0x3b8ba9['iridescenc'+'eThickness'+'Minimum']),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x5ef3e5['iridescenc'+'eThickness'+'Max']=_0x3b8ba9['iridescenc'+'eThickness'+'Maximum']),_0x3b8ba9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x5ef3e5['iridescenc'+'eThickness'+'MapChannel']='g',_0x5ef3e5['iridescenc'+'eThickness'+'Map']=_0x12e8f3[_0x3b8ba9['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x3b8ba9['iridescenc'+'eThickness'+'Texture'],_0x5ef3e5,['iridescenc'+'eThickness']));},SN=(_0xa5233f,_0x316dd8,_0x12586a)=>{if(_0x316dd8['enableGGXS'+'pecular']=!(0x11bc+0x184f+-0x2f*0xe5),_0xa5233f['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x316dd8['anisotropy'+'Intensity']=_0xa5233f['anisotropy'+'Strength']:_0x316dd8['anisotropy'+'Intensity']=-0x259*-0x5+0x3*0xb6e+0x1*-0x2e07,_0xa5233f['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x571ecd=_0xa5233f['anisotropy'+'Texture'];_0x316dd8['anisotropy'+'Map']=_0x12586a[_0x571ecd['index']],Dt(_0x571ecd,_0x316dd8,['anisotropy']);}_0xa5233f['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x316dd8['anisotropy'+'Rotation']=_0xa5233f['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x316dd8['anisotropy'+'Rotation']=0xf5a+0x3df+0x13*-0x103;},w0=(_0x37c11b,_0x54c9a6)=>{const _0x4e6659=new Ut();_0x37c11b['hasOwnProp'+'erty']('name')&&(_0x4e6659['name']=_0x37c11b['name']),_0x4e6659['occludeSpe'+'cular']=bd,_0x4e6659['diffuseVer'+'texColor']=!(-0xa62+0xae5+-0x83),_0x4e6659['specularTi'+'nt']=!(-0x14b3+-0x10f5*-0x1+0x3be),_0x4e6659['specularVe'+'rtexColor']=!(0x2156+0x14b+-0x22a1),_0x4e6659['specular']['set'](0x6f2+0x3*-0x886+0x12a1,0x940+-0x3d*-0x81+-0x27fc,-0x38+0x9f0+0x1*-0x9b7),_0x4e6659['gloss']=0xb9*-0x14+0xfbf+-0x14a,_0x4e6659['glossInver'+'t']=!(-0x1097+0x1d6+-0xec1*-0x1),_0x4e6659['useMetalne'+'ss']=!(-0x22bd*-0x1+0x239*0x5+-0x2*0x16ed);let _0x196452,_0x2e7077;if(_0x37c11b['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x2fe604=_0x37c11b['pbrMetalli'+'cRoughness'];if(_0x2fe604['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x196452=_0x2fe604['baseColorF'+'actor'],_0x4e6659['diffuse']['set'](Math['pow'](_0x196452[-0x11ef+0x1*0x75+0x2*0x8bd],(-0x1e43+0xef2+0xf52)/(-0x23b0+-0x5*0x4eb+0x1*0x3c49+0.20000000000000018)),Math['pow'](_0x196452[0x96*-0xa+0x11*0x6a+-0x12d],(0x58d*-0x4+0x1*-0x230b+-0x728*-0x8)/(-0x445*-0x7+0x8fb+-0x2*0x136e+0.20000000000000018)),Math['pow'](_0x196452[-0x66e+-0x2070+0x8*0x4dc],(-0x257*-0x5+-0x19*-0x46+0x944*-0x2)/(-0x373*0x3+0x2*-0xb51+0x20fd+0.20000000000000018))),_0x4e6659['opacity']=_0x196452[0x3fb*0x1+-0x3*0x84c+0x2*0xa76]),_0x2fe604['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x393888=_0x2fe604['baseColorT'+'exture'];_0x2e7077=_0x54c9a6[_0x393888['index']],_0x4e6659['diffuseMap']=_0x2e7077,_0x4e6659['diffuseMap'+'Channel']='rgb',_0x4e6659['opacityMap']=_0x2e7077,_0x4e6659['opacityMap'+'Channel']='a',Dt(_0x393888,_0x4e6659,['diffuse','opacity']);}if(_0x2fe604['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4e6659['metalness']=_0x2fe604['metallicFa'+'ctor']),_0x2fe604['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4e6659['gloss']=_0x2fe604['roughnessF'+'actor']),_0x2fe604['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x149c6d=_0x2fe604['metallicRo'+'ughnessTex'+'ture'];_0x4e6659['metalnessM'+'ap']=_0x4e6659['glossMap']=_0x54c9a6[_0x149c6d['index']],_0x4e6659['metalnessM'+'apChannel']='b',_0x4e6659['glossMapCh'+'annel']='g',Dt(_0x149c6d,_0x4e6659,['gloss','metalness']);}}if(_0x37c11b['hasOwnProp'+'erty']('normalText'+'ure')){const _0x4df48a=_0x37c11b['normalText'+'ure'];_0x4e6659['normalMap']=_0x54c9a6[_0x4df48a['index']],Dt(_0x4df48a,_0x4e6659,['normal']),_0x4df48a['hasOwnProp'+'erty']('scale')&&(_0x4e6659['bumpiness']=_0x4df48a['scale']);}if(_0x37c11b['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x3206ce=_0x37c11b['occlusionT'+'exture'];_0x4e6659['aoMap']=_0x54c9a6[_0x3206ce['index']],_0x4e6659['aoMapChann'+'el']='r',Dt(_0x3206ce,_0x4e6659,['ao']);}if(_0x37c11b['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x196452=_0x37c11b['emissiveFa'+'ctor'],_0x4e6659['emissive']['set'](Math['pow'](_0x196452[0x2*0x31f+-0x1*0xacf+0x491],(-0x266a+-0x1c01+0x6d*0x9c)/(-0xb20+-0x1957+0x2479+0.20000000000000018)),Math['pow'](_0x196452[-0xdb5*-0x2+0x1*0x223b+-0x3da4],(0xcd5+-0x266b+0x1997)/(0xe81+0x1847+0x26c6*-0x1+0.20000000000000018)),Math['pow'](_0x196452[0x17c*0x5+-0x1f*0x31+-0x17b],(0x2034+0x95*0x2b+-0x393a)/(-0x1d*0x125+-0x24c7+0x45fa+0.20000000000000018)))),_0x37c11b['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x43cbbd=_0x37c11b['emissiveTe'+'xture'];_0x4e6659['emissiveMa'+'p']=_0x54c9a6[_0x43cbbd['index']],Dt(_0x43cbbd,_0x4e6659,['emissive']);}if(_0x37c11b['hasOwnProp'+'erty']('alphaMode'))switch(_0x37c11b['alphaMode']){case'MASK':_0x4e6659['blendType']=Cs,_0x37c11b['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4e6659['alphaTest']=_0x37c11b['alphaCutof'+'f']:_0x4e6659['alphaTest']=0x3*-0x346+0x82f+0x1a3+0.5;break;case'BLEND':_0x4e6659['blendType']=Zs,_0x4e6659['depthWrite']=!(-0x243a+-0x355*-0x3+0x1a3c);break;default:case'OPAQUE':_0x4e6659['blendType']=Cs;break;}else _0x4e6659['blendType']=Cs;_0x37c11b['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4e6659['twoSidedLi'+'ghting']=_0x37c11b['doubleSide'+'d'],_0x4e6659['cull']=_0x37c11b['doubleSide'+'d']?bt:pa):(_0x4e6659['twoSidedLi'+'ghting']=!(-0xbb3+-0x134f*0x1+0x1f03),_0x4e6659['cull']=pa);const _0x211981={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x37c11b['hasOwnProp'+'erty']('extensions'))for(const _0xc6c8eb in _0x37c11b['extensions']){const _0x5b6882=_0x211981[_0xc6c8eb];_0x5b6882!==void(0x24*0x6e+0x1f62+-0x2eda)&&_0x5b6882(_0x37c11b['extensions'][_0xc6c8eb],_0x4e6659,_0x54c9a6);}return _0x4e6659['update'](),_0x4e6659;},yN=(_0x40b20e,_0x3f85d5,_0x554757,_0x4a5ae4,_0x767096,_0x2175f1,_0x211159)=>{const _0x490331=_0x142dc0=>new Fh(yl(_0x142dc0['type']),Pn(_0x142dc0,_0x4a5ae4)),_0x3a703f={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x1955ad={},_0x26cb57={},_0x3b51c0={};let _0x5a61dc=-0x4c8+0xde7*-0x1+0x12b0,_0x4d7208;for(_0x4d7208=0x34e*-0x5+-0x1827+0x485*0x9;_0x4d7208<_0x40b20e['samplers']['length'];++_0x4d7208){const _0x29733a=_0x40b20e['samplers'][_0x4d7208];_0x1955ad['hasOwnProp'+'erty'](_0x29733a['input'])||(_0x1955ad[_0x29733a['input']]=_0x490331(_0x554757[_0x29733a['input']])),_0x26cb57['hasOwnProp'+'erty'](_0x29733a['output'])||(_0x26cb57[_0x29733a['output']]=_0x490331(_0x554757[_0x29733a['output']]));const _0x3d810d=_0x29733a['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x3a703f['hasOwnProp'+'erty'](_0x29733a['interpolat'+'ion'])?_0x3a703f[_0x29733a['interpolat'+'ion']]:Su,_0x494223={'paths':[],'input':_0x29733a['input'],'output':_0x29733a['output'],'interpolation':_0x3d810d};_0x3b51c0[_0x4d7208]=_0x494223;}const _0x4dfb42=[],_0x408253={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x5bcbf9=_0x16984c=>{const _0x316b86=[];for(;_0x16984c;)_0x316b86['unshift'](_0x16984c['name']),_0x16984c=_0x16984c['parent'];return _0x316b86;},_0x548766=(_0xf9386b,_0x41417e,_0x398db2)=>{const _0x17d451=_0x26cb57[_0xf9386b['output']];if(!_0x17d451){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x398db2+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x798384;if(_0x2175f1&&_0x2175f1[_0x41417e['mesh']]){const _0x42d084=_0x2175f1[_0x41417e['mesh']];_0x42d084['hasOwnProp'+'erty']('extras')&&_0x42d084['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x798384=_0x42d084['extras']['targetName'+'s']);}const _0x372b94=_0x17d451['data'],_0x1cc0a0=_0x372b94['length']/_0x1955ad[_0xf9386b['input']]['data']['length'],_0x488f5c=_0x372b94['length']/_0x1cc0a0,_0x3ef80e=_0x488f5c*(0x2249+-0x16c7+-0xb7e),_0x459ad3=new ArrayBuffer(_0x3ef80e*_0x1cc0a0);for(let _0x24fdf0=-0x2*0x137d+0xebd+-0x49*-0x55;_0x24fdf0<_0x1cc0a0;_0x24fdf0++){const _0x5a6566=new Float32Array(_0x459ad3,_0x3ef80e*_0x24fdf0,_0x488f5c);for(let _0xd1aded=-0x77f*0x4+0x19*0x36+0x18b6;_0xd1aded<_0x488f5c;_0xd1aded++)_0x5a6566[_0xd1aded]=_0x372b94[_0xd1aded*_0x1cc0a0+_0x24fdf0];const _0x345f2a=new Fh(-0x2693+0xb16+-0x12*-0x187,_0x5a6566),_0x233a9c=_0x798384!=null&&_0x798384[_0x24fdf0]?'name.'+_0x798384[_0x24fdf0]:_0x24fdf0;_0x26cb57[-_0x5a61dc]=_0x345f2a;const _0x60abd6={'paths':[{'entityPath':_0x398db2,'component':'graph','propertyPath':['weight.'+_0x233a9c]}],'input':_0xf9386b['input'],'output':-_0x5a61dc,'interpolation':_0xf9386b['interpolat'+'ion']};_0x5a61dc++,_0x3b51c0['morphCurve'+'-'+_0x4d7208+'-'+_0x24fdf0]=_0x60abd6;}};for(_0x4d7208=-0x2fa+-0x103*-0x24+-0x1*0x2172;_0x4d7208<_0x40b20e['channels']['length'];++_0x4d7208){const _0x1016c6=_0x40b20e['channels'][_0x4d7208],_0x7c30f0=_0x1016c6['target'],_0x31af8b=_0x3b51c0[_0x1016c6['sampler']],_0x297a5e=_0x767096[_0x7c30f0['node']],_0x1a0dd1=_0x211159[_0x7c30f0['node']],_0x299159=_0x5bcbf9(_0x297a5e);_0x7c30f0['path']['startsWith']('weights')?(_0x548766(_0x31af8b,_0x1a0dd1,_0x299159),_0x3b51c0[_0x1016c6['sampler']]['morphCurve']=!(0x1ef4+0x343+-0x2237)):_0x31af8b['paths']['push']({'entityPath':_0x299159,'component':'graph','propertyPath':[_0x408253[_0x7c30f0['path']]]});}const _0xdc41ed=[],_0x41c5e2=[],_0x1433c3=[];for(const _0x4cf688 in _0x1955ad)_0xdc41ed['push'](_0x1955ad[_0x4cf688]),_0x1955ad[_0x4cf688]=_0xdc41ed['length']-(-0x25*0x83+-0x773*-0x3+-0x123*0x3);for(const _0x3bafed in _0x26cb57)_0x41c5e2['push'](_0x26cb57[_0x3bafed]),_0x26cb57[_0x3bafed]=_0x41c5e2['length']-(0x1ae0+-0xac4+0x1f*-0x85);for(const _0x5494d3 in _0x3b51c0){const _0x384dc3=_0x3b51c0[_0x5494d3];_0x384dc3['morphCurve']||(_0x1433c3['push'](new v0(_0x384dc3['paths'],_0x1955ad[_0x384dc3['input']],_0x26cb57[_0x384dc3['output']],_0x384dc3['interpolat'+'ion'])),_0x384dc3['paths']['length']>-0x1008+-0x15b1+0x25b9&&_0x384dc3['paths'][-0x391+0x1322+-0xf91]['propertyPa'+'th'][0x1*-0x308+0x1417+-0x1*0x110f]==='localRotat'+'ion'&&_0x384dc3['interpolat'+'ion']!==yu&&_0x4dfb42['push'](_0x1433c3[_0x1433c3['length']-(-0xcac+-0xa07+0x16b4)]['output']));}_0x4dfb42['sort']();let _0x21e3af=null,_0x16ba21;for(_0x4d7208=-0xbc3*0x1+-0x1b*-0x112+-0x29*0x6b;_0x4d7208<_0x4dfb42['length'];++_0x4d7208){const _0x7ed24=_0x4dfb42[_0x4d7208];if(_0x4d7208===-0x2*-0xc43+0x4d2+0xeac*-0x2||_0x7ed24!==_0x21e3af){if(_0x16ba21=_0x41c5e2[_0x7ed24],_0x16ba21['components']===-0x2072+-0x1*-0x5ab+0x1acb*0x1){const _0x411143=_0x16ba21['data'],_0xc6c481=_0x411143['length']-(-0x231d+-0x891+0x2bb2);for(let _0x1fac50=-0x44*-0x53+0x359*0x3+-0x2017;_0x1fac50<_0xc6c481;_0x1fac50+=0x1*-0x1017+0x22be+-0x12a3)_0x411143[_0x1fac50+(0x389*0x1+0x1fb4*-0x1+0x1c2b)]*_0x411143[_0x1fac50+(0x2608+0xc7a*0x1+0x2*-0x193f)]+_0x411143[_0x1fac50+(0x49+0x1*0x241+-0x289)]*_0x411143[_0x1fac50+(0x1dfa+0x4a1+-0x2296)]+_0x411143[_0x1fac50+(-0xeb2+-0x1*-0x25ae+-0xb7d*0x2)]*_0x411143[_0x1fac50+(0x2637*0x1+0xc56*-0x1+-0x19db)]+_0x411143[_0x1fac50+(0x1b60+0x13e3+-0x2f40)]*_0x411143[_0x1fac50+(0x1e34+0x1*-0x1382+-0xaab)]<-0xd9f+-0x3c+-0x1*-0xddb&&(_0x411143[_0x1fac50+(-0x1*0xc31+0x86*0x13+0x243)]*=-(0xe*-0x159+0xa6*-0x21+-0x319*-0xd),_0x411143[_0x1fac50+(-0x45f*0x5+-0x18a*-0xc+-0x2*-0x1b4)]*=-(-0x767*0x1+-0x14de+0x9a*0x2f),_0x411143[_0x1fac50+(0x1d*-0x33+-0x1*-0x607+-0x3a)]*=-(0x2a6*-0xd+0x15b*0xf+0xe1a),_0x411143[_0x1fac50+(-0x2561+-0x1afc+-0x4*-0x1019)]*=-(-0x3*-0xf6+-0x623+0x342));}_0x21e3af=_0x7ed24;}}let _0x3450f0=-0x3*-0x184+-0xd*0x59+-0x7;for(_0x4d7208=-0x63+0x1d1d*0x1+0x1*-0x1cba;_0x4d7208<_0xdc41ed['length'];_0x4d7208++)_0x16ba21=_0xdc41ed[_0x4d7208]['_data'],_0x3450f0=Math['max'](_0x3450f0,_0x16ba21['length']===-0x1*-0xaaf+0x4f*-0x6f+-0x1af*-0xe?0xcb2+0xc5f*0x1+-0xcf*0x1f:_0x16ba21[_0x16ba21['length']-(0x2112+0x1*0xd8f+0x1750*-0x2)]);return new Qi(_0x40b20e['hasOwnProp'+'erty']('name')?_0x40b20e['name']:'animation_'+_0x3f85d5,_0x3450f0,_0xdc41ed,_0x41c5e2,_0x1433c3);},Dc=new te(),Qa=new D(),vN=(_0x5678c5,_0x583348,_0x319c7b)=>{const _0x21a96e=new Ie();if(_0x5678c5['hasOwnProp'+'erty']('name')&&_0x5678c5['name']['length']>0x10fb+0x269d+-0x8*0x6f3?_0x21a96e['name']=_0x5678c5['name']:_0x21a96e['name']='node_'+_0x583348,_0x5678c5['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x5678c5['matrix']),Dc['getTransla'+'tion'](Qa),_0x21a96e['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x21a96e['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x21a96e['setLocalSc'+'ale'](Qa)),_0x5678c5['hasOwnProp'+'erty']('rotation')){const _0x3322e3=_0x5678c5['rotation'];_0x21a96e['setLocalRo'+'tation'](_0x3322e3[-0x1668+0x28d*-0x3+-0x11d*-0x1b],_0x3322e3[0x1ef8+-0x227f+0x388],_0x3322e3[0x15a8+0x2*-0x9c8+-0x216],_0x3322e3[-0x1859+0x281*-0x1+0x1add]);}if(_0x5678c5['hasOwnProp'+'erty']('translatio'+'n')){const _0x22b88e=_0x5678c5['translatio'+'n'];_0x21a96e['setLocalPo'+'sition'](_0x22b88e[-0x86*-0x26+0x2*-0xf94+0x2*0x5a2],_0x22b88e[-0x1*0xdb7+-0x19*0x67+-0x17c7*-0x1],_0x22b88e[0x1*-0x1c79+-0x2373+0x3fee]);}if(_0x5678c5['hasOwnProp'+'erty']('scale')){const _0x5c60c3=_0x5678c5['scale'];_0x21a96e['setLocalSc'+'ale'](_0x5c60c3[0xd8d*-0x2+0x1f38+-0x41e],_0x5c60c3[-0x1*-0xed+-0x1*0x16a9+0x173*0xf],_0x5c60c3[0x236f+-0x1*-0x23e1+-0x474e]);}return _0x5678c5['hasOwnProp'+'erty']('extensions')&&_0x5678c5['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x319c7b['set'](_0x5678c5,{'ext':_0x5678c5['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x21a96e;},xN=(_0x2f9e77,_0x576cdb)=>{const _0x44ede0=_0x2f9e77['type']==='orthograph'+'ic'?En:ni,_0x5f14db=_0x44ede0===En?_0x2f9e77['orthograph'+'ic']:_0x2f9e77['perspectiv'+'e'],_0x2d6294={'enabled':!(-0x90c*0x4+-0x321+0x2cf*0xe),'projection':_0x44ede0,'nearClip':_0x5f14db['znear'],'aspectRatioMode':hm};_0x5f14db['zfar']&&(_0x2d6294['farClip']=_0x5f14db['zfar']),_0x44ede0===En?(_0x2d6294['orthoHeigh'+'t']=(0x74*-0x43+0x10d*-0x11+0x3039*0x1+0.5)*_0x5f14db['ymag'],_0x5f14db['ymag']&&(_0x2d6294['aspectRati'+'oMode']=lu,_0x2d6294['aspectRati'+'o']=_0x5f14db['xmag']/_0x5f14db['ymag'])):(_0x2d6294['fov']=_0x5f14db['yfov']*Y['RAD_TO_DEG'],_0x5f14db['aspectRati'+'o']&&(_0x2d6294['aspectRati'+'oMode']=lu,_0x2d6294['aspectRati'+'o']=_0x5f14db['aspectRati'+'o']));const _0xacd7d9=new lt(_0x2f9e77['name']);return _0xacd7d9['addCompone'+'nt']('camera',_0x2d6294),_0xacd7d9;},TN=(_0x761fe3,_0x136737)=>{const _0x8a165c={'enabled':!(0x4*0x967+0x13f*-0x7+-0x1ce2),'type':_0x761fe3['type']==='point'?'omni':_0x761fe3['type'],'color':_0x761fe3['hasOwnProp'+'erty']('color')?new ie(_0x761fe3['color']):ie['WHITE'],'range':_0x761fe3['hasOwnProp'+'erty']('range')?_0x761fe3['range']:0x2d1c+-0x244e+0x1e41,'falloffMode':ev,'intensity':_0x761fe3['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x761fe3['intensity'],0x26af+0x1*0x1a74+-0x2d5*0x17,0x252f+0xa0f+-0x2f3c):0xc*0x2c5+0x653+-0x3d*0xa6};_0x761fe3['hasOwnProp'+'erty']('spot')&&(_0x8a165c['innerConeA'+'ngle']=_0x761fe3['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x761fe3['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0x1546+-0x2627+-0x3b6d*-0x1,_0x8a165c['outerConeA'+'ngle']=_0x761fe3['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x761fe3['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x20bd+0x12b6+0x5*0x2cf)),_0x761fe3['hasOwnProp'+'erty']('intensity')&&(_0x8a165c['luminance']=_0x761fe3['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x8a165c['type']],_0x8a165c['outerConeA'+'ngle'],_0x8a165c['innerConeA'+'ngle']));const _0x4b728d=new lt(_0x136737['name']);return _0x4b728d['rotateLoca'+'l'](-0x1aa2+0x67f*-0x4+-0xa98*-0x5,-0x264*0xc+0xa03*-0x1+0x26b3*0x1,0xaa1+-0x1397+0x8f6),_0x4b728d['addCompone'+'nt']('light',_0x8a165c),_0x4b728d;},wN=(_0x39fc3d,_0x434590,_0x4e2664,_0x375c9e)=>{if(!_0x434590['hasOwnProp'+'erty']('skins')||_0x434590['skins']['length']===0x2*-0xc77+0x2105*-0x1+-0x17*-0x285)return[];const _0x5be264=new Map();return _0x434590['skins']['map'](_0x53f42b=>rN(_0x39fc3d,_0x53f42b,_0x434590['accessors'],_0x375c9e,_0x4e2664,_0x5be264));},EN=(_0x2b3b7f,_0x5b14ac,_0x11966f,_0x19bee2)=>{var _0x3e269c,_0x14889e,_0x3fb3c0;const _0x2c0992={},_0x15d831={},_0x4a2c56={},_0x16297d=[];return{'meshes':!_0x19bee2['skipMeshes']&&((_0x3e269c=_0x5b14ac==null?void(-0x1*0x26ab+0x18d2+-0x1*-0xdd9):_0x5b14ac['meshes'])==null?void(-0x5a2+-0x223*-0x8+-0x9*0x146):_0x3e269c['length'])&&((_0x14889e=_0x5b14ac==null?void(0x1178+-0x21da+0x1062):_0x5b14ac['accessors'])==null?void(0x36c+0x1*0x9a4+-0xd1*0x10):_0x14889e['length'])&&((_0x3fb3c0=_0x5b14ac==null?void(-0x4f7+0x115*0x17+-0x13ec):_0x5b14ac['bufferView'+'s'])==null?void(0x9f*-0x29+-0x22c9+0x3c40):_0x3fb3c0['length'])?_0x5b14ac['meshes']['map'](_0x5db0a1=>nN(_0x2b3b7f,_0x5db0a1,_0x5b14ac['accessors'],_0x11966f,_0x2c0992,_0x15d831,_0x4a2c56,_0x19bee2,_0x16297d)):[],'meshVariants':_0x15d831,'meshDefaultMaterials':_0x4a2c56,'promises':_0x16297d};},bN=(_0x360125,_0x1cb1b8,_0x52013c)=>{var _0x73f01f,_0x4e7cf8,_0xc80035;if(!_0x360125['hasOwnProp'+'erty']('materials')||_0x360125['materials']['length']===0x2*0xe9d+0x1327+-0x3061)return[];const _0x549b0a=(_0x73f01f=_0x52013c==null?void(0x7*0x59+0x1*-0x20b1+0x1e42):_0x52013c['material'])==null?void(-0xfe9*-0x1+-0xa2d+-0x5bc):_0x73f01f['preprocess'],_0x1a450a=((_0x4e7cf8=_0x52013c==null?void(0x3b*0x6+-0x1b42+-0x60*-0x45):_0x52013c['material'])==null?void(-0x226a+0x412+-0x8*-0x3cb):_0x4e7cf8['process'])??w0,_0x5baf6c=(_0xc80035=_0x52013c==null?void(-0x1aa1+0x233b+-0x89a):_0x52013c['material'])==null?void(-0x144a+0x1ec3*0x1+0xa79*-0x1):_0xc80035['postproces'+'s'];return _0x360125['materials']['map'](_0x4af780=>{_0x549b0a&&_0x549b0a(_0x4af780);const _0x49964d=_0x1a450a(_0x4af780,_0x1cb1b8);return _0x5baf6c&&_0x5baf6c(_0x4af780,_0x49964d),_0x49964d;});},AN=_0xaf6b00=>{if(!_0xaf6b00['hasOwnProp'+'erty']('extensions')||!_0xaf6b00['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x4a58df=_0xaf6b00['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x3f65f5={};for(let _0x4e1267=0x1640+-0x1874+0x2*0x11a;_0x4e1267<_0x4a58df['length'];_0x4e1267++)_0x3f65f5[_0x4a58df[_0x4e1267]['name']]=_0x4e1267;return _0x3f65f5;},CN=(_0x285d53,_0x341635,_0x34be0e,_0x3a870e)=>{var _0x1f8e41,_0x19bdb9;if(!_0x285d53['hasOwnProp'+'erty']('animations')||_0x285d53['animations']['length']===0x28e*-0x1+-0xc5*-0x19+-0x1*0x10af)return[];const _0x3ddb16=(_0x1f8e41=_0x3a870e==null?void(0x3*0x27a+-0xa81*-0x2+-0x1c70):_0x3a870e['animation'])==null?void(0x1*-0x232c+0x1b*-0xb5+0x3643):_0x1f8e41['preprocess'],_0x5e0724=(_0x19bdb9=_0x3a870e==null?void(-0x7*0x287+0x1a3f+-0x88e):_0x3a870e['animation'])==null?void(-0x1*0x26ce+0x158a+0x1144):_0x19bdb9['postproces'+'s'];return _0x285d53['animations']['map']((_0x1a53ac,_0x38735d)=>{_0x3ddb16&&_0x3ddb16(_0x1a53ac);const _0xdc5d0=yN(_0x1a53ac,_0x38735d,_0x285d53['accessors'],_0x34be0e,_0x341635,_0x285d53['meshes'],_0x285d53['nodes']);return _0x5e0724&&_0x5e0724(_0x1a53ac,_0xdc5d0),_0xdc5d0;});},PN=(_0x147687,_0x48c50f,_0xff689c,_0x4b8625)=>{const _0x182372=_0x48c50f['accessors'];_0xff689c['forEach']((_0x462e5c,_0xad31cd)=>{const _0x58f3c6=_0x462e5c['ext']['attributes'];let _0x1d6ce1;if(_0x58f3c6['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x531829=_0x182372[_0x58f3c6['TRANSLATIO'+'N']];_0x1d6ce1=Pn(_0x531829,_0x4b8625);}let _0x1d65cc;if(_0x58f3c6['hasOwnProp'+'erty']('ROTATION')){const _0x18823d=_0x182372[_0x58f3c6['ROTATION']];_0x1d65cc=Pn(_0x18823d,_0x4b8625);}let _0x5515b2;if(_0x58f3c6['hasOwnProp'+'erty']('SCALE')){const _0x346284=_0x182372[_0x58f3c6['SCALE']];_0x5515b2=Pn(_0x346284,_0x4b8625);}const _0xfc462e=(_0x1d6ce1?_0x1d6ce1['length']/(0x16a7+0x4*0x5af+-0x42*0xb0):0x373*-0x3+-0x1062+-0x1*-0x1abb)||(_0x1d65cc?_0x1d65cc['length']/(0x1978+-0x16f2+-0x282):-0x449*-0x9+0xad*-0x5+0x466*-0x8)||(_0x5515b2?_0x5515b2['length']/(-0x514+-0x213f+0x2656):0x2f2+-0x2*-0xd28+-0x1d42);if(_0xfc462e){const _0x34a9af=new Float32Array(_0xfc462e*(0x1*-0x19ad+-0x41f*-0x4+0x941)),_0xf707=new D(),_0x26be42=new le(),_0x4636b9=new D(0x13d*-0xb+0x29*0x3+0x5*0x2a1,-0x1a3*0xf+-0x1be7+0x3475,-0xe72+0x1039*-0x1+0x1eac),_0x2f94a7=new te();let _0x35c67b=0x5ec+-0x526*-0x6+0x24d*-0x10;for(let _0x3e6386=-0x1b7b+0x1bf8+-0x7d;_0x3e6386<_0xfc462e;_0x3e6386++){const _0x115f49=_0x3e6386*(-0x21*0x5e+0x1*0x1615+-0x2*0x4fa);if(_0x1d6ce1&&_0xf707['set'](_0x1d6ce1[_0x115f49],_0x1d6ce1[_0x115f49+(-0x1f71+0x63*0x53+-0xa7)],_0x1d6ce1[_0x115f49+(-0x23ab+-0x1d*0xbf+-0x395*-0x10)]),_0x1d65cc){const _0x4147d9=_0x3e6386*(0x21b*-0x2+0x26cf+-0x3*0xb87);_0x26be42['set'](_0x1d65cc[_0x4147d9],_0x1d65cc[_0x4147d9+(0xd1b*0x1+-0x1cf7+0xfdd)],_0x1d65cc[_0x4147d9+(0x9*0x26+-0x36b+0x217)],_0x1d65cc[_0x4147d9+(-0x107*0xe+0x27*-0x53+0x1b0a)]);}_0x5515b2&&_0x4636b9['set'](_0x5515b2[_0x115f49],_0x5515b2[_0x115f49+(-0x1*-0x943+0x5*0x6d9+-0x2b7f)],_0x5515b2[_0x115f49+(0x102d+-0x80b*-0x3+0x4*-0xa13)]),_0x2f94a7['setTRS'](_0xf707,_0x26be42,_0x4636b9);for(let _0x2d3073=-0x2098*0x1+0x8e2+0x17b6;_0x2d3073<0x1026+0x5c6+-0x15dc*0x1;_0x2d3073++)_0x34a9af[_0x35c67b++]=_0x2f94a7['data'][_0x2d3073];}_0x462e5c['matrices']=_0x34a9af;}});},MN=(_0x249022,_0x14bdb7,_0x5b5ca7)=>{var _0x150123,_0x22ce0c,_0x5b43f8;if(!_0x249022['hasOwnProp'+'erty']('nodes')||_0x249022['nodes']['length']===0x149f+0x10bd+-0x255c)return[];const _0x4e2fbc=(_0x150123=_0x14bdb7==null?void(-0x1b*-0x99+0x1ef6+-0x2f19):_0x14bdb7['node'])==null?void(-0x763+0x5*0x37d+-0x9*0x11e):_0x150123['preprocess'],_0x41871d=((_0x22ce0c=_0x14bdb7==null?void(0x454+-0x1012+0xbbe):_0x14bdb7['node'])==null?void(-0x1d0+-0x1d*-0x27+-0x17*0x1d):_0x22ce0c['process'])??vN,_0x3718d7=(_0x5b43f8=_0x14bdb7==null?void(0xf45+-0x1a50*-0x1+-0x2995):_0x14bdb7['node'])==null?void(0xe7d+-0x1852+0x9d5):_0x5b43f8['postproces'+'s'],_0x169f28=_0x249022['nodes']['map']((_0x2ab697,_0x4c974d)=>{_0x4e2fbc&&_0x4e2fbc(_0x2ab697);const _0x36e984=_0x41871d(_0x2ab697,_0x4c974d,_0x5b5ca7);return _0x3718d7&&_0x3718d7(_0x2ab697,_0x36e984),_0x36e984;});for(let _0x591d67=0x1f29+-0xd0d*-0x2+0x6b*-0x89;_0x591d67<_0x249022['nodes']['length'];++_0x591d67){const _0x373a80=_0x249022['nodes'][_0x591d67];if(_0x373a80['hasOwnProp'+'erty']('children')){const _0x8b9de=_0x169f28[_0x591d67],_0x71051f={};for(let _0x4a75bc=0x1507*-0x1+0x3f0+0x271*0x7;_0x4a75bc<_0x373a80['children']['length'];++_0x4a75bc){const _0x2ac071=_0x169f28[_0x373a80['children'][_0x4a75bc]];_0x2ac071['parent']||(_0x71051f['hasOwnProp'+'erty'](_0x2ac071['name'])?_0x2ac071['name']+=_0x71051f[_0x2ac071['name']]++:_0x71051f[_0x2ac071['name']]=0x56e+0x11a5+-0x1712,_0x8b9de['addChild'](_0x2ac071));}}}return _0x169f28;},DN=(_0x5dc5f9,_0x8ab3cd)=>{var _0x16fdd8;const _0x1c64fa=[],_0x2010e8=_0x5dc5f9['scenes']['length'];if(_0x2010e8===-0x43*-0x71+-0x5ee*0x2+-0x11b6&&((_0x16fdd8=_0x5dc5f9['scenes'][-0x2289+-0x8cb+0x76*0x5e]['nodes'])==null?void(-0x17*0x6b+0x2a7+-0x37b*-0x2):_0x16fdd8['length'])===-0x2631+0x54d+0x4b3*0x7){const _0xebf9d7=_0x5dc5f9['scenes'][-0xfe7*0x2+-0x2*0x2d0+0x256e]['nodes'][0x2179+0x241c+-0x4595];_0x1c64fa['push'](_0x8ab3cd[_0xebf9d7]);}else for(let _0x101cab=0x3c2*-0x1+-0x1798+0x1b5a;_0x101cab<_0x2010e8;_0x101cab++){const _0x256475=_0x5dc5f9['scenes'][_0x101cab];if(_0x256475['nodes']){const _0x198b32=new Ie(_0x256475['name']);for(let _0x586ae5=-0x518+0x4d9*-0x6+0x4e2*0x7;_0x586ae5<_0x256475['nodes']['length'];_0x586ae5++){const _0x54eb9a=_0x8ab3cd[_0x256475['nodes'][_0x586ae5]];_0x198b32['addChild'](_0x54eb9a);}_0x1c64fa['push'](_0x198b32);}}return _0x1c64fa;},IN=(_0x3d32b3,_0x1b8b6d,_0x25dc49)=>{var _0x3cdb05,_0xe9c0f5,_0x464404;let _0x5a3894=null;if(_0x3d32b3['hasOwnProp'+'erty']('nodes')&&_0x3d32b3['hasOwnProp'+'erty']('cameras')&&_0x3d32b3['cameras']['length']>-0xb*0x295+0x1c96*0x1+-0x2f*0x1){const _0x26af83=(_0x3cdb05=_0x25dc49==null?void(0x225e+0x5ed+-0x284b):_0x25dc49['camera'])==null?void(-0x2037+0xa*-0x1da+-0x9*-0x5a3):_0x3cdb05['preprocess'],_0x447c68=((_0xe9c0f5=_0x25dc49==null?void(-0x15dd+0xb13+0xaca):_0x25dc49['camera'])==null?void(-0xee8+0x16f3+-0x80b):_0xe9c0f5['process'])??xN,_0x464291=(_0x464404=_0x25dc49==null?void(-0x1e5a+0xfb*-0x2+0x2050):_0x25dc49['camera'])==null?void(0x124e+-0xd2b+-0x523):_0x464404['postproces'+'s'];_0x3d32b3['nodes']['forEach']((_0x1daa91,_0x32180d)=>{if(_0x1daa91['hasOwnProp'+'erty']('camera')){const _0x46de99=_0x3d32b3['cameras'][_0x1daa91['camera']];if(_0x46de99){_0x26af83&&_0x26af83(_0x46de99);const _0x264120=_0x447c68(_0x46de99,_0x1b8b6d[_0x32180d]);_0x464291&&_0x464291(_0x46de99,_0x264120),_0x264120&&(_0x5a3894||(_0x5a3894=new Map()),_0x5a3894['set'](_0x1daa91,_0x264120));}}});}return _0x5a3894;},LN=(_0x374656,_0x263c9a,_0x51afa2)=>{var _0x4ae563,_0x961e61,_0x29c03b;let _0x37a434=null;if(_0x374656['hasOwnProp'+'erty']('nodes')&&_0x374656['hasOwnProp'+'erty']('extensions')&&_0x374656['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x374656['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x442843=_0x374656['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x442843['length']){const _0x48de7b=(_0x4ae563=_0x51afa2==null?void(0x1*0x6d1+-0xd*-0x115+-0x14e2):_0x51afa2['light'])==null?void(0x25*-0x2a+-0x1*0x1f7b+0x258d):_0x4ae563['preprocess'],_0x11c836=((_0x961e61=_0x51afa2==null?void(-0x2424+0x18f9+0xb2b):_0x51afa2['light'])==null?void(0x3*-0xac5+0x9d5*0x3+-0x30*-0xf):_0x961e61['process'])??TN,_0x206552=(_0x29c03b=_0x51afa2==null?void(-0x2b7*0x4+-0x1194+0x1c70):_0x51afa2['light'])==null?void(0x5ec+0x2160+-0x274c*0x1):_0x29c03b['postproces'+'s'];_0x374656['nodes']['forEach']((_0x35d856,_0x43c906)=>{if(_0x35d856['hasOwnProp'+'erty']('extensions')&&_0x35d856['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x35d856['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x3e718f=_0x35d856['extensions']['KHR_lights'+'_punctual']['light'],_0x36fe7d=_0x442843[_0x3e718f];if(_0x36fe7d){_0x48de7b&&_0x48de7b(_0x36fe7d);const _0x17fcc7=_0x11c836(_0x36fe7d,_0x263c9a[_0x43c906]);_0x206552&&_0x206552(_0x36fe7d,_0x17fcc7),_0x17fcc7&&(_0x37a434||(_0x37a434=new Map()),_0x37a434['set'](_0x35d856,_0x17fcc7));}}});}}return _0x37a434;},RN=(_0x3bed2b,_0x5163d3,_0x3a4a83)=>{_0x3bed2b['nodes']['forEach'](_0x391db0=>{_0x391db0['hasOwnProp'+'erty']('mesh')&&_0x391db0['hasOwnProp'+'erty']('skin')&&_0x5163d3[_0x391db0['mesh']]['meshes']['forEach'](_0x136f30=>{_0x136f30['skin']=_0x3a4a83[_0x391db0['skin']];});});},ON=async(_0x543b66,_0x39caa9,_0x5c7aba,_0xb87bbe,_0xc95e75)=>{var _0x5ce56b,_0x2b95f7;const _0x29aef6=(_0x5ce56b=_0xc95e75==null?void(-0xb7*-0x1b+0x118c+-0x24d9):_0xc95e75['global'])==null?void(-0x238a*-0x1+-0x37*-0x63+-0x38cf*0x1):_0x5ce56b['preprocess'],_0x21df4b=(_0x2b95f7=_0xc95e75==null?void(-0xce1+0x1a2c+-0xd4b):_0xc95e75['global'])==null?void(-0x3db*-0x2+-0x1626+0x4d*0x30):_0x2b95f7['postproces'+'s'];_0x29aef6&&_0x29aef6(_0x39caa9),_0x39caa9['asset']&&_0x39caa9['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x2e73b3=new Map(),_0x2eb161=MN(_0x39caa9,_0xc95e75,_0x2e73b3),_0x5d7ab7=DN(_0x39caa9,_0x2eb161),_0x13e129=LN(_0x39caa9,_0x2eb161,_0xc95e75),_0x3fb9b6=IN(_0x39caa9,_0x2eb161,_0xc95e75),_0x4f71f0=AN(_0x39caa9),_0x46ca22=await Promise['all'](_0x5c7aba),{meshes:_0x43ef96,meshVariants:_0xf239f9,meshDefaultMaterials:_0x323505,promises:_0x5c77f7}=EN(_0x543b66,_0x39caa9,_0x46ca22,_0xc95e75),_0x4e1a2b=CN(_0x39caa9,_0x2eb161,_0x46ca22,_0xc95e75);PN(_0x543b66,_0x39caa9,_0x2e73b3,_0x46ca22);const _0x1e9b13=await Promise['all'](_0xb87bbe),_0x1674d4=_0x1e9b13['map'](_0x20d711=>_0x20d711['resource']),_0x6671a1=bN(_0x39caa9,_0x1674d4,_0xc95e75),_0x2065e0=wN(_0x543b66,_0x39caa9,_0x2eb161,_0x46ca22),_0x2c564f=[];for(let _0x3bcf9f=-0x9*-0x19c+0x1*0x3ed+-0x1269;_0x3bcf9f<_0x43ef96['length'];_0x3bcf9f++)_0x2c564f[_0x3bcf9f]=new Em(),_0x2c564f[_0x3bcf9f]['meshes']=_0x43ef96[_0x3bcf9f];RN(_0x39caa9,_0x2c564f,_0x2065e0);const _0x5535b7=new qF();return _0x5535b7['gltf']=_0x39caa9,_0x5535b7['nodes']=_0x2eb161,_0x5535b7['scenes']=_0x5d7ab7,_0x5535b7['animations']=_0x4e1a2b,_0x5535b7['textures']=_0x1e9b13,_0x5535b7['materials']=_0x6671a1,_0x5535b7['variants']=_0x4f71f0,_0x5535b7['meshVarian'+'ts']=_0xf239f9,_0x5535b7['meshDefaul'+'tMaterials']=_0x323505,_0x5535b7['renders']=_0x2c564f,_0x5535b7['skins']=_0x2065e0,_0x5535b7['lights']=_0x13e129,_0x5535b7['cameras']=_0x3fb9b6,_0x5535b7['nodeInstan'+'cingMap']=_0x2e73b3,_0x21df4b&&_0x21df4b(_0x39caa9,_0x5535b7),await Promise['all'](_0x5c77f7),_0x5535b7;},FN=(_0x4091a3,_0x4b4759)=>{const _0x3dab3f=(_0x427a3d,_0x5d7f04)=>{switch(_0x427a3d){case-0x17*0x22d+0x2eb8+0x2953:return Te;case-0x1*-0x2759+0x1ffa+-0x2152:return vt;case-0x1ade+0x18b*-0x1e+0x7028:return Kh;case 0x2e6f*-0x1+-0x28*-0xad+0x3a68:return Qh;case-0x375c+0x1*-0x1118+0x1*0x6f76:return Zh;case 0x1*-0x1582+-0x98a*-0x2+0x2971:return ma;default:return _0x5d7f04;}},_0x2b194c=(_0x1d61ab,_0x447255)=>{switch(_0x1d61ab){case 0x13*-0x7c8+-0x2*0x2de9+-0x1897*-0xf:return ue;case-0x566*0x6+-0x45d2+0xe9a6:return ip;case 0x62c+0x1235+0x20*0x85:return yt;default:return _0x447255;}};_0x4091a3&&(_0x4b4759=_0x4b4759??{},_0x4091a3['minFilter']=_0x3dab3f(_0x4b4759['minFilter'],ma),_0x4091a3['magFilter']=_0x3dab3f(_0x4b4759['magFilter'],vt),_0x4091a3['addressU']=_0x2b194c(_0x4b4759['wrapS'],yt),_0x4091a3['addressV']=_0x2b194c(_0x4b4759['wrapT'],yt));};let NN=-0x3*-0x9ad+0x5ff+-0x2306*0x1;const nn=_0x209a50=>{var _0x575d89,_0x1902a0,_0x56b77c,_0x54ac0a;return((_0x1902a0=(_0x575d89=_0x209a50['extensions'])==null?void(0x1657*-0x1+0xc55+0x1ab*0x6):_0x575d89['KHR_textur'+'e_basisu'])==null?void(0x13ef+-0x2*-0xc28+-0xf1*0x2f):_0x1902a0['source'])??((_0x54ac0a=(_0x56b77c=_0x209a50['extensions'])==null?void(0x8*-0x3e0+-0x3*0xe+0xf95*0x2):_0x56b77c['EXT_textur'+'e_webp'])==null?void(0x1*-0x1713+0x14aa+0x1*0x269):_0x54ac0a['source'])??_0x209a50['source'];},kN=(_0x57f23e,_0xa21223,_0x269956,_0x33ecc1,_0x39551f)=>{var _0x1f058c,_0x4bdc72,_0x4b3e4c;if(!_0x57f23e['images']||_0x57f23e['images']['length']===-0x859*0x3+0xd6*-0x6+0x1e0f)return[];const _0x1556a6=(_0x1f058c=_0x39551f==null?void(0x28d*0x9+0x19f9+-0x30ee):_0x39551f['image'])==null?void(0x2566*0x1+0x17*-0x19b+-0xb*0xb):_0x1f058c['preprocess'],_0x51e4a8=(_0x4bdc72=_0x39551f==null?void(-0x190d+0x1ca7+-0x39a*0x1):_0x39551f['image'])==null?void(-0x1c59+-0x108e+0x13*0x25d):_0x4bdc72['processAsy'+'nc'],_0xfbec38=(_0x4b3e4c=_0x39551f==null?void(-0x18c4*0x1+0xfc1*-0x1+-0x1c3*-0x17):_0x39551f['image'])==null?void(0x1*-0xa54+-0x1f3a*0x1+0x1b*0x18a):_0x4b3e4c['postproces'+'s'],_0x3db150={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x474053=_0x452ebd=>{const _0x2b9268=new Set();return _0x452ebd['hasOwnProp'+'erty']('materials')&&_0x452ebd['materials']['forEach'](_0x45f7c5=>{if(_0x45f7c5['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x444ecb=_0x45f7c5['pbrMetalli'+'cRoughness'];if(_0x444ecb['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3261ad=_0x452ebd['textures'][_0x444ecb['baseColorT'+'exture']['index']];_0x2b9268['add'](nn(_0x3261ad));}}if(_0x45f7c5['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1c79af=_0x452ebd['textures'][_0x45f7c5['emissiveTe'+'xture']['index']];_0x2b9268['add'](nn(_0x1c79af));}if(_0x45f7c5['hasOwnProp'+'erty']('extensions')){const _0x494c96=_0x45f7c5['extensions']['KHR_materi'+'als_sheen'];if(_0x494c96&&_0x494c96['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x20ab45=_0x452ebd['textures'][_0x494c96['sheenColor'+'Texture']['index']];_0x2b9268['add'](nn(_0x20ab45));}const _0x281f10=_0x45f7c5['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x281f10&&_0x281f10['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x23dcec=_0x452ebd['textures'][_0x281f10['specularGl'+'ossinessTe'+'xture']['index']];_0x2b9268['add'](nn(_0x23dcec));}const _0x1080e5=_0x45f7c5['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x1080e5&&_0x1080e5['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x28d181=_0x452ebd['textures'][_0x1080e5['specularCo'+'lorTexture']['index']];_0x2b9268['add'](nn(_0x28d181));}}}),_0x2b9268;},_0x363251=(_0x1ddb33,_0x22ee22,_0x1796fb,_0x3f3b0d,_0xfdca19,_0x239203)=>new Promise((_0x4d0014,_0x1daef7)=>{const _0x542d0a=_0x3cb629=>{const _0x4b0630=(_0x1ddb33['name']||'gltf-textu'+'re')+'-'+NN++,_0x283f89={'url':_0x22ee22||_0x4b0630};if(_0x3cb629&&(_0x283f89['contents']=_0x3cb629['slice'](-0x25f*0x1+0x1*0x431+-0x2*0xe9)['buffer']),_0x3f3b0d){const _0x119d4e=_0x3db150[_0x3f3b0d];_0x119d4e&&(_0x283f89['filename']=_0x283f89['url']+'.'+_0x119d4e);}const _0x43bbe6={'srgb':_0x239203},_0x3680df=new pe(_0x4b0630,'texture',_0x283f89,_0x43bbe6,_0xfdca19);_0x3680df['on']('load',_0x1c8e5a=>_0x4d0014(_0x1c8e5a)),_0x3680df['on']('error',_0x1a1df4=>_0x1daef7(_0x1a1df4)),_0x33ecc1['add'](_0x3680df),_0x33ecc1['load'](_0x3680df);};_0x1796fb?_0x1796fb['then'](_0x344080=>_0x542d0a(_0x344080)):_0x542d0a(null);}),_0x241968=_0x474053(_0x57f23e);return _0x57f23e['images']['map']((_0x39eca8,_0x40324e)=>{_0x1556a6&&_0x1556a6(_0x39eca8);let _0xbdbe37;return _0x51e4a8?_0xbdbe37=new Promise((_0x49a672,_0x18c987)=>{_0x51e4a8(_0x39eca8,(_0xc85138,_0x5529de)=>{_0xc85138?_0x18c987(_0xc85138):_0x49a672(_0x5529de);});}):_0xbdbe37=new Promise(_0x25b8d1=>{_0x25b8d1(null);}),_0xbdbe37=_0xbdbe37['then'](_0x46e1b4=>{const _0x5c8f3a=_0x241968['has'](_0x40324e);return _0x46e1b4||(_0x39eca8['hasOwnProp'+'erty']('uri')?x0(_0x39eca8['uri'])?_0x363251(_0x39eca8,_0x39eca8['uri'],null,jF(_0x39eca8['uri']),null,_0x5c8f3a):_0x363251(_0x39eca8,jn['test'](_0x39eca8['uri'])?_0x39eca8['uri']:xe['join'](_0x269956,_0x39eca8['uri']),null,null,{'crossOrigin':'anonymous'},_0x5c8f3a):_0x39eca8['hasOwnProp'+'erty']('bufferView')&&_0x39eca8['hasOwnProp'+'erty']('mimeType')?_0x363251(_0x39eca8,null,_0xa21223[_0x39eca8['bufferView']],_0x39eca8['mimeType'],null,_0x5c8f3a):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x40324e)));}),_0xfbec38&&(_0xbdbe37=_0xbdbe37['then'](_0x6cce42=>(_0xfbec38(_0x39eca8,_0x6cce42),_0x6cce42))),_0xbdbe37;});},UN=(_0x42af34,_0x2525d2,_0x374dc5)=>{var _0x57eedb,_0x4adf95,_0x5e8aac,_0x485392,_0x3c4217;if(!((_0x57eedb=_0x42af34==null?void(-0x32c+-0xc3+0x3ef):_0x42af34['images'])!=null&&_0x57eedb['length'])||!((_0x4adf95=_0x42af34==null?void(-0x3ba*-0x8+0x1cb3+-0x3*0x1381):_0x42af34['textures'])!=null&&_0x4adf95['length']))return[];const _0xe34b99=(_0x5e8aac=_0x374dc5==null?void(-0x1fec+-0x1f66+0xa*0x655):_0x374dc5['texture'])==null?void(-0x1*0x117f+0x12*-0xfa+0x2313):_0x5e8aac['preprocess'],_0x27a321=(_0x485392=_0x374dc5==null?void(0x2250+-0x75*0x3e+-0x5fa):_0x374dc5['texture'])==null?void(-0xf57+-0x27*-0x43+-0x522*-0x1):_0x485392['processAsy'+'nc'],_0x500119=(_0x3c4217=_0x374dc5==null?void(0x5f7*0x1+-0x1dd6+0x17df):_0x374dc5['texture'])==null?void(0x226+-0x5*-0x768+0x11*-0x24e):_0x3c4217['postproces'+'s'],_0x3c754b=new Set();return _0x42af34['textures']['map'](_0x5d688e=>{_0xe34b99&&_0xe34b99(_0x5d688e);let _0x2e03c6;return _0x27a321?_0x2e03c6=new Promise((_0x9d8074,_0x9ff23)=>{_0x27a321(_0x5d688e,_0x42af34['images'],(_0x40aa04,_0x225ef9)=>{_0x40aa04?_0x9ff23(_0x40aa04):_0x9d8074(_0x225ef9);});}):_0x2e03c6=new Promise(_0x3a7994=>{_0x3a7994(null);}),_0x2e03c6=_0x2e03c6['then'](_0x39e59c=>{_0x39e59c=_0x39e59c??nn(_0x5d688e);const _0x4a4093=_0x3c754b['has'](_0x39e59c);return _0x3c754b['add'](_0x39e59c),_0x2525d2[_0x39e59c]['then'](_0x24993c=>{const _0x29c8c5=_0x4a4093?tN(_0x24993c):_0x24993c;return FN(_0x29c8c5['resource'],(_0x42af34['samplers']??[])[_0x5d688e['sampler']]),_0x29c8c5;});}),_0x500119&&(_0x2e03c6=_0x2e03c6['then'](_0x154750=>(_0x500119(_0x5d688e,_0x154750),_0x154750))),_0x2e03c6;});},BN=(_0x2267ef,_0x294c52,_0x3934d1,_0xfbe533)=>{var _0x27dad0,_0x345920,_0x58025e;if(!_0x2267ef['buffers']||_0x2267ef['buffers']['length']===0xb77+-0x21b*-0x11+0x2*-0x17a1)return[];const _0x40db2c=(_0x27dad0=_0xfbe533==null?void(0x1*-0x1256+0x1058*-0x2+0xe*0x3a5):_0xfbe533['buffer'])==null?void(-0xcd*0x1+0xecc+-0xdff):_0x27dad0['preprocess'],_0x419101=(_0x345920=_0xfbe533==null?void(-0x1c86+-0x238d+-0x1*-0x4013):_0xfbe533['buffer'])==null?void(-0x1faf*-0x1+-0xe16+-0x55*0x35):_0x345920['processAsy'+'nc'],_0x1cb72c=(_0x58025e=_0xfbe533==null?void(-0x1d35+0x1*-0x177b+0x2*0x1a58):_0xfbe533['buffer'])==null?void(-0x205*0x10+0x657+0x19f9):_0x58025e['postproces'+'s'];return _0x2267ef['buffers']['map']((_0x40b448,_0x5f261d)=>{_0x40db2c&&_0x40db2c(_0x40b448);let _0x5377a0;return _0x419101?_0x5377a0=new Promise((_0x165e0a,_0x49164f)=>{_0x419101(_0x40b448,(_0x292972,_0x18520d)=>{_0x292972?_0x49164f(_0x292972):_0x165e0a(_0x18520d);});}):_0x5377a0=new Promise(_0x137165=>{_0x137165(null);}),_0x5377a0=_0x5377a0['then'](_0xadd209=>{if(_0xadd209)return _0xadd209;if(_0x40b448['hasOwnProp'+'erty']('uri')){if(x0(_0x40b448['uri'])){const _0x196b48=atob(_0x40b448['uri']['split'](',')[0x4*0x9e+0x56*0x59+-0x205d]),_0x48b34f=new Uint8Array(_0x196b48['length']);for(let _0x322f2f=-0x13ad+-0x43*-0x2f+-0x4*-0x1d8;_0x322f2f<_0x196b48['length'];_0x322f2f++)_0x48b34f[_0x322f2f]=_0x196b48['charCodeAt'](_0x322f2f);return _0x48b34f;}return new Promise((_0x124adb,_0xc0f50a)=>{ot['get'](jn['test'](_0x40b448['uri'])?_0x40b448['uri']:xe['join'](_0x3934d1,_0x40b448['uri']),{'cache':!(0x23b8+-0x25*-0x95+-0x3941),'responseType':'arraybuffe'+'r','retry':!(0x3ad*0x4+0x15f+-0x1012)},(_0x50415c,_0x540153)=>{_0x50415c?_0xc0f50a(_0x50415c):_0x124adb(new Uint8Array(_0x540153));});});}return _0x294c52;}),_0x1cb72c&&(_0x5377a0=_0x5377a0['then'](_0x2d2056=>(_0x1cb72c(_0x2267ef['buffers'][_0x5f261d],_0x2d2056),_0x2d2056))),_0x5377a0;});},zN=(_0x576979,_0x3238de)=>{const _0x464085=JSON['parse']((_0x506c3f=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x506c3f);let _0x299fec='';for(let _0x571f0a=0x449*-0x1+-0x1106+0x154f;_0x571f0a<_0x506c3f['length'];_0x571f0a++)_0x299fec+=String['fromCharCo'+'de'](_0x506c3f[_0x571f0a]);return decodeURIComponent(escape(_0x299fec));})(_0x576979));if(_0x464085['asset']&&_0x464085['asset']['version']&&parseFloat(_0x464085['asset']['version'])<0x2*-0xe2c+0x323*-0x1+0x1f7d){_0x3238de('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x464085['asset']['version']+'\x27.');return;}_0x3238de(null,_0x464085);},VN=(_0x4cd260,_0x1ac0c8)=>{const _0x22d806=_0x4cd260 instanceof ArrayBuffer?new DataView(_0x4cd260):new DataView(_0x4cd260['buffer'],_0x4cd260['byteOffset'],_0x4cd260['byteLength']),_0x1d58b6=_0x22d806['getUint32'](-0x47*-0x3+-0x1bb+0xa*0x17,!(-0xa0c+-0x6*-0x635+-0x1b32)),_0x1e15d0=_0x22d806['getUint32'](0x1*0x1b8f+-0x5c*0x50+-0x67*-0x3,!(-0x2e0*0x7+0x2685*0x1+0x1265*-0x1)),_0x22b67a=_0x22d806['getUint32'](-0x1f72+0x2*0xa08+0xb6a,!(0xa58*-0x1+0x387*0x6+0x569*-0x2));if(_0x1d58b6!==-0x1f8a12e4*-0x4+0x4ab78a0b+-0x24*0x3a05125){_0x1ac0c8('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x1d58b6['toString'](0x2567+0xeb+-0x53*0x76));return;}if(_0x1e15d0!==0x647+-0x1fd0+-0xd*-0x1f7){_0x1ac0c8('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x1e15d0);return;}if(_0x22b67a<=0x1d*-0x72+0x209f+0x13b5*-0x1||_0x22b67a>_0x22d806['byteLength']){_0x1ac0c8('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x22b67a);return;}const _0x3286c8=[];let _0x241aba=0x2*0xfad+0x829*-0x1+0x3*-0x7b7;for(;_0x241aba<_0x22b67a;){const _0x19c645=_0x22d806['getUint32'](_0x241aba,!(-0x1ec*0x5+0x1b8e+-0x11f2));_0x241aba+_0x19c645+(0x3*0x2ac+-0x26ae+0x1eb2*0x1)>_0x22d806['byteLength']&&_0x1ac0c8('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x19c645);const _0x3bfca0=_0x22d806['getUint32'](_0x241aba+(0x808*0x2+-0x14*-0x13c+-0x28bc),!(0xd*-0x1f+-0x384+-0x1*-0x517)),_0x1edf77=new Uint8Array(_0x22d806['buffer'],_0x22d806['byteOffset']+_0x241aba+(-0xaaf*-0x1+0x13b5+0x3a*-0x86),_0x19c645);_0x3286c8['push']({'length':_0x19c645,'type':_0x3bfca0,'data':_0x1edf77}),_0x241aba+=_0x19c645+(-0x793*0x2+0x1835+-0x907);}if(_0x3286c8['length']!==-0x64+-0x3*0x62e+0x12ef&&_0x3286c8['length']!==-0x1a7f+-0x1bef+-0x8*-0x6ce){_0x1ac0c8('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x3286c8[-0x1*-0x1f5b+-0x1db4*0x1+-0x1a7]['type']!==0x74f0*0x58e3+0x29e0fc98*0x2+-0x2e0cd6b6){_0x1ac0c8('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x3286c8[0x5f0+0x1cbd+-0x22ad]['type']['toString'](-0x2502+-0x35c*-0x1+-0x10db*-0x2));return;}if(_0x3286c8['length']>-0x2d1+-0x165c+0x192e&&_0x3286c8[-0x1d35+0x24f9+-0x7c3]['type']!==-0x8bab41+0x439e35*-0x1+0x11d92b8){_0x1ac0c8('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x3286c8[0x1*0xce3+-0x9c+0x2*-0x623]['type']['toString'](-0x254d+-0x61d+0x2b7a));return;}_0x1ac0c8(null,{'gltfChunk':_0x3286c8[0x24af*-0x1+-0x1ce5+0x4194]['data'],'binaryChunk':_0x3286c8['length']===0x16b1*0x1+-0x52d*-0x4+-0x2b63?_0x3286c8[0x3b2*0x5+0x14e4+0x3*-0xd1f]['data']:null});},GN=(_0x36d09d,_0x2ea7c4,_0x440feb)=>{const _0x47757c=()=>{const _0x1550e4=new Uint8Array(_0x2ea7c4);return _0x1550e4[0x5c8+0x2*-0xd2d+0x1492]===-0x2fb+-0x328*-0xa+0x1*-0x1c2e&&_0x1550e4[-0x1895+0x1fa0+-0x70a]===0x5*0x11a+-0xf*-0xa+-0x5ac&&_0x1550e4[-0xf*-0xe3+-0x1*0x1907+0xbbc]===-0x3a5+-0x1c91+0x208a&&_0x1550e4[-0x1ed7*-0x1+-0x1c28+-0x2ac]===0x65*0x42+-0x12a1+0x105*-0x7;};_0x36d09d&&_0x36d09d['toLowerCas'+'e']()['endsWith']('.glb')||_0x47757c()?VN(_0x2ea7c4,_0x440feb):_0x440feb(null,{'gltfChunk':_0x2ea7c4,'binaryChunk':null});},HN=(_0x4a7ef8,_0xe3d4c4,_0x159246)=>{var _0x2cf87f,_0x335b7c,_0x2965e0,_0x49e4a2;const _0x488a06=[],_0x18f58a=(_0x2cf87f=_0x159246==null?void(-0x644+0x17*0x10c+-0x11d0):_0x159246['bufferView'])==null?void(-0xb3*-0x19+0x1999+-0x2b14):_0x2cf87f['preprocess'],_0x3ddfaa=(_0x335b7c=_0x159246==null?void(-0x10e8+-0x1b85+-0x33*-0xdf):_0x159246['bufferView'])==null?void(-0x24fd+0x1*-0xd12+0x320f):_0x335b7c['processAsy'+'nc'],_0x5e33b5=(_0x2965e0=_0x159246==null?void(-0x21cf+0x1325+-0x1*-0xeaa):_0x159246['bufferView'])==null?void(0x8*-0x392+0x1*0x1f45+-0x2b5):_0x2965e0['postproces'+'s'];if(!((_0x49e4a2=_0x4a7ef8['bufferView'+'s'])!=null&&_0x49e4a2['length']))return _0x488a06;for(let _0x488ebe=0x1061+-0x1a7b+0x35e*0x3;_0x488ebe<_0x4a7ef8['bufferView'+'s']['length'];++_0x488ebe){const _0x28ca1a=_0x4a7ef8['bufferView'+'s'][_0x488ebe];_0x18f58a&&_0x18f58a(_0x28ca1a);let _0xb14b49;_0x3ddfaa?_0xb14b49=new Promise((_0x5313d8,_0x5363da)=>{_0x3ddfaa(_0x28ca1a,_0xe3d4c4,(_0x18c333,_0x358cc1)=>{_0x18c333?_0x5363da(_0x18c333):_0x5313d8(_0x358cc1);});}):_0xb14b49=new Promise(_0x3d7416=>{_0x3d7416(null);}),_0xb14b49=_0xb14b49['then'](_0x4da9d7=>_0x4da9d7||_0xe3d4c4[_0x28ca1a['buffer']]['then'](_0x45c749=>new Uint8Array(_0x45c749['buffer'],_0x45c749['byteOffset']+(_0x28ca1a['byteOffset']||0x8a8*0x3+-0x2108+0x710),_0x28ca1a['byteLength']))),_0x28ca1a['hasOwnProp'+'erty']('byteStride')&&(_0xb14b49=_0xb14b49['then'](_0x13cf5d=>(_0x13cf5d['byteStride']=_0x28ca1a['byteStride'],_0x13cf5d))),_0x5e33b5&&(_0xb14b49=_0xb14b49['then'](_0x3f9995=>(_0x5e33b5(_0x28ca1a,_0x3f9995),_0x3f9995))),_0x488a06['push'](_0xb14b49);}return _0x488a06;};class kh{static['parse'](_0x130d75,_0x99e119,_0x62ba40,_0x243fc8,_0x273905,_0xbd771d,_0x3b2077){GN(_0x130d75,_0x62ba40,(_0x30ba44,_0xce5784)=>{if(_0x30ba44){_0x3b2077(_0x30ba44);return;}zN(_0xce5784['gltfChunk'],(_0x22cd83,_0x2ab5cc)=>{if(_0x22cd83){_0x3b2077(_0x22cd83);return;}const _0xda3594=BN(_0x2ab5cc,_0xce5784['binaryChun'+'k'],_0x99e119,_0xbd771d),_0x441277=HN(_0x2ab5cc,_0xda3594,_0xbd771d),_0x51ac7a=kN(_0x2ab5cc,_0x441277,_0x99e119,_0x273905,_0xbd771d),_0x1e0fda=UN(_0x2ab5cc,_0x51ac7a,_0xbd771d);ON(_0x243fc8,_0x2ab5cc,_0x441277,_0x1e0fda,_0xbd771d)['then'](_0x1c3f94=>_0x3b2077(null,_0x1c3f94))['catch'](_0x2a0b2f=>_0x3b2077(_0x2a0b2f));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x594f75){super(_0x594f75,'animation'),this['device']=_0x594f75['graphicsDe'+'vice'],this['assets']=_0x594f75['assets'];}['load'](_0x1dc7be,_0x3f6289,_0x1d1f27){typeof _0x1dc7be=='string'&&(_0x1dc7be={'load':_0x1dc7be,'original':_0x1dc7be});const _0x53c870={'retry':this['maxRetries']>0x1b*-0x7+0x1e6d+-0x1db0,'maxRetries':this['maxRetries']};(_0x1dc7be['load']['startsWith']('blob:')||_0x1dc7be['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x1dc7be['original'])['toLowerCas'+'e']()==='.glb'?_0x53c870['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x53c870['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1dc7be['load'],_0x53c870,(_0x1acfb2,_0x4cd134)=>{_0x1acfb2?_0x3f6289('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x1dc7be['original']+'\x20['+_0x1acfb2+']'):xe['getExtensi'+'on'](_0x1dc7be['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x4cd134,this['device'],this['assets'],(_0x1d1f27==null?void(-0x2100+-0x17*0x14e+-0x1*-0x3f02):_0x1d1f27['options'])??{},(_0x406d34,_0x1449bb)=>{var _0x1ea918;if(_0x406d34)_0x3f6289(_0x406d34);else{const _0xd52de7=_0x1449bb['animations'];if((_0x1ea918=_0x1d1f27==null?void(-0x77+-0xcb4+0xd2b):_0x1d1f27['data'])!=null&&_0x1ea918['events']){for(let _0x1bfc66=-0x111c+0x184a+0x397*-0x2;_0x1bfc66<_0xd52de7['length'];_0x1bfc66++)_0xd52de7[_0x1bfc66]['events']=new Hv(Object['values'](_0x1d1f27['data']['events']));}_0x1449bb['destroy'](),_0x3f6289(null,_0xd52de7);}}):_0x3f6289(null,this['_parseAnim'+'ationV'+_0x4cd134['animation']['version']](_0x4cd134));});}['open'](_0x4e6d4c,_0x54391,_0x4d6000){return _0x54391;}['_parseAnim'+'ationV3'](_0x26267e){const _0x20f75a=_0x26267e['animation'],_0x1714da=new ug();_0x1714da['name']=_0x20f75a['name'],_0x1714da['duration']=_0x20f75a['duration'];for(let _0x47aa77=-0x26ef+-0x83c+0x5*0x96f;_0x47aa77<_0x20f75a['nodes']['length'];_0x47aa77++){const _0xf0a214=new fg(),_0x42415d=_0x20f75a['nodes'][_0x47aa77];_0xf0a214['_name']=_0x42415d['name'];for(let _0x2379d0=0x95b*0x1+0x1a3+0x15*-0x86;_0x2379d0<_0x42415d['keys']['length'];_0x2379d0++){const _0x99b04f=_0x42415d['keys'][_0x2379d0],_0x3d6035=_0x99b04f['time'],_0x161624=_0x99b04f['pos'],_0x598413=_0x99b04f['rot'],_0x4faa44=_0x99b04f['scale'],_0xe37bab=new D(_0x161624[0x1*-0x1da5+-0x1*-0x207e+-0x2d9],_0x161624[0x23db+-0xfe*-0x15+-0x38b0],_0x161624[-0x1*0xe75+-0x2*0x143+0x10fd]),_0x503673=new le()['setFromEul'+'erAngles'](_0x598413[0x1c*-0x3d+0x1d69+-0x16bd],_0x598413[-0x1f*-0x71+-0xfa5+-0x1*-0x1f7],_0x598413[0x26fd*-0x1+-0x1f85*-0x1+0x77a]),_0x23adf4=new D(_0x4faa44[-0x5*-0x44b+0xa6d*0x2+0x17*-0x1d7],_0x4faa44[-0x16fc+-0x22aa+0x39a7],_0x4faa44[0x126d+-0x26ce+0x1463]),_0x54d9e4=new dg(_0x3d6035,_0xe37bab,_0x503673,_0x23adf4);_0xf0a214['_keys']['push'](_0x54d9e4);}_0x1714da['addNode'](_0xf0a214);}return _0x1714da;}['_parseAnim'+'ationV4'](_0x53e587){const _0x1c43ed=_0x53e587['animation'],_0x202c3e=new ug();_0x202c3e['name']=_0x1c43ed['name'],_0x202c3e['duration']=_0x1c43ed['duration'];for(let _0x4bd08=0x1daf+-0xc73*0x1+-0x89e*0x2;_0x4bd08<_0x1c43ed['nodes']['length'];_0x4bd08++){const _0x3375eb=new fg(),_0xa57dd5=_0x1c43ed['nodes'][_0x4bd08];_0x3375eb['_name']=_0xa57dd5['name'];const _0xb8c1df=_0xa57dd5['defaults']['p'],_0x1067ac=_0xa57dd5['defaults']['r'],_0x45d9da=_0xa57dd5['defaults']['s'];for(let _0x4a095a=-0x1c16+-0x1c*-0x7+0x1*0x1b52;_0x4a095a<_0xa57dd5['keys']['length'];_0x4a095a++){const _0x2f1ba1=_0xa57dd5['keys'][_0x4a095a],_0x2f8c18=_0x2f1ba1['t'],_0x10e525=_0xb8c1df||_0x2f1ba1['p'],_0x582a5a=_0x1067ac||_0x2f1ba1['r'],_0x2fc1eb=_0x45d9da||_0x2f1ba1['s'],_0x51e881=new D(_0x10e525[0xffb*0x1+-0x1ca5+0xcaa],_0x10e525[-0x396+0x3*-0xcd8+0x2a1f],_0x10e525[-0x1*0x4b+-0x1511+0x155e]),_0x152661=new le()['setFromEul'+'erAngles'](_0x582a5a[0x9*-0x3e7+-0x457+0x2776],_0x582a5a[0x1*0x6b5+0x11*-0x1d8+-0x2*-0xc52],_0x582a5a[0x1d*0x91+-0x244c+0x13e1]),_0x530b80=new D(_0x2fc1eb[-0x4*-0x431+0x3*0x248+-0x179c],_0x2fc1eb[0x4ee+0x7b5+-0xca2],_0x2fc1eb[-0x1ea6+-0x3*0x13+0x1ee1]),_0x2bdfb3=new dg(_0x2f8c18,_0x51e881,_0x152661,_0x530b80);_0x3375eb['_keys']['push'](_0x2bdfb3);}_0x202c3e['addNode'](_0x3375eb);}return _0x202c3e;}}class $N extends Qe{constructor(_0xc2f6e2){super(_0xc2f6e2,'animclip');}['load'](_0x193b61,_0x35b211){typeof _0x193b61=='string'&&(_0x193b61={'load':_0x193b61,'original':_0x193b61});const _0x452b5a={'retry':this['maxRetries']>-0x1a6*-0x17+0x2317*-0x1+-0x2d3,'maxRetries':this['maxRetries']};_0x193b61['load']['startsWith']('blob:')&&(_0x452b5a['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x193b61['load'],_0x452b5a,(_0x3da934,_0x321c93)=>{_0x3da934?_0x35b211('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x193b61['original']+'\x20['+_0x3da934+']'):_0x35b211(null,_0x321c93);});}['open'](_0xca1487,_0x324fd4){const _0x59bee1=_0x324fd4['name'],_0x5d1d55=_0x324fd4['duration'],_0x48634f=_0x324fd4['inputs']['map'](_0x5f1678=>new Fh(-0xe10+0x1ff*-0x11+0x60*0x80,_0x5f1678)),_0x412094=_0x324fd4['outputs']['map'](_0x1ed05e=>new Fh(_0x1ed05e['components'],_0x1ed05e['data'])),_0x3ca45c=_0x324fd4['curves']['map'](_0x4c4984=>new v0([_0x4c4984['path']],_0x4c4984['inputIndex'],_0x4c4984['outputInde'+'x'],_0x4c4984['interpolat'+'ion']));return new Qi(_0x59bee1,_0x5d1d55,_0x48634f,_0x412094,_0x3ca45c);}}class XN extends Qe{constructor(_0x401f1c){super(_0x401f1c,'animstateg'+'raph');}['load'](_0x2625fa,_0x157b1a){typeof _0x2625fa=='string'&&(_0x2625fa={'load':_0x2625fa,'original':_0x2625fa});const _0x298553={'retry':this['maxRetries']>0x4b5+-0x20a9+0x1bf4,'maxRetries':this['maxRetries']};_0x2625fa['load']['startsWith']('blob:')&&(_0x298553['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2625fa['load'],_0x298553,(_0x1dec25,_0x37a206)=>{_0x1dec25?_0x157b1a('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x2625fa['original']+'\x20['+_0x1dec25+']'):_0x157b1a(null,_0x37a206);});}['open'](_0x3b41b2,_0x312cf1){return new Jc(_0x312cf1);}}const Af=(function(){if(typeof window>'u')return!(-0x11c*-0xf+-0xa06+0x69d*-0x1);const _0x221e6f=window['navigator']['userAgent'],_0x147de3=_0x221e6f['indexOf']('MSIE\x20');if(_0x147de3>-0x1ea9+0x1ebd+-0x14)return parseInt(_0x221e6f['substring'](_0x147de3+(-0x612+0x3a1*-0x1+-0x26e*-0x4),_0x221e6f['indexOf']('.',_0x147de3)),0x8e1+0x167d+-0x1f54);if(_0x221e6f['indexOf']('Trident/')>-0x1aa1+-0x2*0xca+0x57*0x53){const _0xf170dc=_0x221e6f['indexOf']('rv:');return parseInt(_0x221e6f['substring'](_0xf170dc+(0x72+0x2272*-0x1+0x2203),_0x221e6f['indexOf']('.',_0xf170dc)),0x175c+0x3*-0xbe9+0xc69);}return!(-0x14f5+-0x14*-0x4d+0xef2);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x1a0a00){super(_0x1a0a00,'audio'),this['manager']=_0x1a0a00['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x43fbca){const _0x1e2606=xe['getExtensi'+'on'](_0x43fbca);return qN['indexOf'](_0x1e2606)>-(-0x1492*0x1+0x233a+-0xea7)||_0x43fbca['startsWith']('blob:');}['load'](_0x27bcdc,_0x4a48d5){typeof _0x27bcdc=='string'&&(_0x27bcdc={'load':_0x27bcdc,'original':_0x27bcdc});const _0x431f9b=function(_0x187fd2){_0x4a48d5(null,new Mw(_0x187fd2));},_0x1bb55e=function(_0x97d925){let _0x19a3c3='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x27bcdc['original'];_0x97d925&&(_0x19a3c3+=':\x20'+(_0x97d925['message']||_0x97d925)),console['warn'](_0x19a3c3),_0x4a48d5(_0x19a3c3);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x27bcdc['original'])){_0x1bb55e('Audio\x20form'+'at\x20for\x20'+_0x27bcdc['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x27bcdc['load'],_0x431f9b,_0x1bb55e);}else _0x1bb55e(null);}['_createSou'+'nd'](_0x5c89fd,_0x5d5751,_0x501b7c){if(Dl()){const _0x44f040=this['manager'];if(!_0x44f040['context']){_0x501b7c('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0xe3dc9b={'retry':this['maxRetries']>0x1*0x432+-0x23d*0x11+0x21db,'maxRetries':this['maxRetries']};(_0x5c89fd['startsWith']('blob:')||_0x5c89fd['startsWith']('data:'))&&(_0xe3dc9b['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x5c89fd,_0xe3dc9b,(_0x588f82,_0x44c5e1)=>{if(_0x588f82){_0x501b7c(_0x588f82);return;}_0x44f040['context']['decodeAudi'+'oData'](_0x44c5e1,_0x5d5751,_0x501b7c);});}else{let _0x44e4cd=null;try{_0x44e4cd=new Audio();}catch{_0x501b7c('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x44e4cd);const _0x1897e7=function(){_0x44e4cd['removeEven'+'tListener']('canplaythr'+'ough',_0x1897e7),Af&&document['body']['removeChil'+'d'](_0x44e4cd),_0x5d5751(_0x44e4cd);};_0x44e4cd['onerror']=function(){_0x44e4cd['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x44e4cd),_0x501b7c();},_0x44e4cd['addEventLi'+'stener']('canplaythr'+'ough',_0x1897e7),_0x44e4cd['src']=_0x5c89fd;}}}class YN extends Qe{constructor(_0x42da64){super(_0x42da64,'binary');}['load'](_0x1c2019,_0x54b9f7){typeof _0x1c2019=='string'&&(_0x1c2019={'load':_0x1c2019,'original':_0x1c2019}),ot['get'](_0x1c2019['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0xf07+0x3*0x9ba+-0xe27,'maxRetries':this['maxRetries']},(_0x5c9126,_0x3be4cd)=>{_0x5c9126?_0x54b9f7('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x1c2019['original']+'\x20['+_0x5c9126+']'):_0x54b9f7(null,_0x3be4cd);});}['openBinary'](_0x167e19){return _0x167e19['buffer'];}}class yr{constructor(_0x3ab2d9,_0x34a76b,_0x4620a8,_0x397308){const _0x16f3f9=function(_0x59a7e8,_0x5669fc,_0x36aa35){const _0x1ab536=yr['createAsse'+'t'](_0x34a76b['name'],_0x59a7e8,_0x5669fc,_0x36aa35);return _0x4620a8['add'](_0x1ab536),_0x1ab536;},_0x1219b6=[];for(let _0x455638=-0x1282*-0x1+-0x17e9*-0x1+0x1*-0x2a6b;_0x455638<_0x3ab2d9['renders']['length'];++_0x455638)_0x1219b6['push'](_0x16f3f9('render',_0x3ab2d9['renders'][_0x455638],_0x455638));const _0x5cf91b=[];for(let _0xfc5089=0x1*-0x1196+-0x112e+0x37a*0xa;_0xfc5089<_0x3ab2d9['materials']['length'];++_0xfc5089)_0x5cf91b['push'](_0x16f3f9('material',_0x3ab2d9['materials'][_0xfc5089],_0xfc5089));const _0x3e43c3=[];for(let _0x21e868=0x1048+0x5*0x1a9+-0x7*0x383;_0x21e868<_0x3ab2d9['animations']['length'];++_0x21e868)_0x3e43c3['push'](_0x16f3f9('animation',_0x3ab2d9['animations'][_0x21e868],_0x21e868));this['data']=_0x3ab2d9,this['_model']=null,this['_assetName']=_0x34a76b['name'],this['_assets']=_0x4620a8,this['_defaultMa'+'terial']=_0x397308,this['renders']=_0x1219b6,this['materials']=_0x5cf91b,this['textures']=_0x3ab2d9['textures'],this['animations']=_0x3e43c3;}get['model'](){if(!this['_model']){const _0x491774=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x2325c6=yr['createAsse'+'t'](this['_assetName'],'model',_0x491774,-0x684+0x1ee+-0x1*-0x496);this['_assets']['add'](_0x2325c6),this['_model']=_0x2325c6;}return this['_model'];}static['createAsse'+'t'](_0x3f3ac0,_0x559db4,_0x133eb1,_0x34afc9){const _0x521217=new pe(_0x3f3ac0+'/'+_0x559db4+'/'+_0x34afc9,_0x559db4,{'url':''});return _0x521217['resource']=_0x133eb1,_0x521217['loaded']=!(0x20*-0x5c+-0x4*-0x1f5+0x3ac),_0x521217;}['instantiat'+'eModelEnti'+'ty'](_0x32981c){const _0x8b0679=new lt(void(-0x46f+0x1dff+-0x1990),this['_assets']['_loader']['_app']);return _0x8b0679['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x32981c)),_0x8b0679;}['instantiat'+'eRenderEnt'+'ity'](_0x2540cc){const _0xa96010=this['_defaultMa'+'terial'],_0x145d4b=[],_0x3c6d03=function(_0x1dc977,_0x369271,_0x1c8e9e,_0x59ffa8,_0x16b309,_0x4d73ad,_0x510f41,_0x12c688){const _0x4fab43=_0x16b309[_0x1c8e9e['id']],_0x4e38bc=_0x4fab43===void(-0xb*-0x34f+0x9c5+-0x2*0x1715)?_0xa96010:_0x59ffa8[_0x4fab43],_0x8eb391=new He(_0x1c8e9e,_0x4e38bc);_0x1c8e9e['morph']&&(_0x8eb391['morphInsta'+'nce']=new xa(_0x1c8e9e['morph'])),_0x510f41['hasOwnProp'+'erty']('skin')&&_0x145d4b['push']({'meshInstance':_0x8eb391,'rootBone':_0x1dc977,'entity':_0x369271});const _0x5407b=_0x12c688['get'](_0x510f41);if(_0x5407b){const _0x2edf25=_0x5407b['matrices'],_0x4d9335=kt['getDefault'+'Instancing'+'Format'](_0x1c8e9e['device']),_0x249023=new Is(_0x1c8e9e['device'],_0x4d9335,_0x2edf25['length']/(0x4*-0x8fd+0x1544+0xec0),{'data':_0x2edf25});_0x8eb391['setInstanc'+'ing'](_0x249023),_0x8eb391['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x2*0xe25+-0x1681+-0x5c9);}return _0x8eb391;},_0x36a355=(_0x8972fe,_0x69ac40,_0x680ce1)=>{const _0x14b259=new lt(void(-0x98*-0x4+-0x19e*-0x13+0x1be*-0x13),this['_assets']['_loader']['_app']);_0x69ac40['_cloneInte'+'rnal'](_0x14b259),_0x8972fe||(_0x8972fe=_0x14b259);let _0x2179e7=null,_0x3a7c15=null;for(let _0x1e645a=-0x1d10+-0x1ee2+0x3bf2;_0x1e645a<_0x680ce1['nodes']['length'];_0x1e645a++)if(_0x680ce1['nodes'][_0x1e645a]===_0x69ac40){const _0x5eab34=_0x680ce1['gltf']['nodes'][_0x1e645a];if(_0x5eab34['hasOwnProp'+'erty']('mesh')){const _0x401a88=_0x680ce1['renders'][_0x5eab34['mesh']]['meshes'];_0x3a7c15=this['renders'][_0x5eab34['mesh']];for(let _0x6e35bf=0x2629+0x1e39+-0x2*0x2231;_0x6e35bf<_0x401a88['length'];_0x6e35bf++){const _0x27fb92=_0x401a88[_0x6e35bf];if(_0x27fb92){const _0x29b7a4=_0x3c6d03(_0x8972fe,_0x14b259,_0x27fb92,_0x680ce1['materials'],_0x680ce1['meshDefaul'+'tMaterials'],_0x680ce1['skins'],_0x5eab34,_0x680ce1['nodeInstan'+'cingMap']);_0x2179e7||(_0x2179e7=[]),_0x2179e7['push'](_0x29b7a4);}}}if(_0x680ce1['lights']){const _0x5bca12=_0x680ce1['lights']['get'](_0x5eab34);_0x5bca12&&_0x14b259['addChild'](_0x5bca12['clone']());}if(_0x680ce1['cameras']){const _0x4981d2=_0x680ce1['cameras']['get'](_0x5eab34);_0x4981d2&&_0x4981d2['camera']['system']['cloneCompo'+'nent'](_0x4981d2,_0x14b259);}}_0x2179e7&&(_0x14b259['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x2179e7},_0x2540cc)),_0x14b259['render']['assignAsse'+'t'](_0x3a7c15));const _0x55cca7=_0x69ac40['children'];for(let _0x49a1f5=0xa*0x137+-0x1*-0x1a06+-0x262c;_0x49a1f5<_0x55cca7['length'];_0x49a1f5++){const _0x471ff7=_0x36a355(_0x8972fe,_0x55cca7[_0x49a1f5],_0x680ce1);_0x14b259['addChild'](_0x471ff7);}return _0x14b259;},_0x24d7b5=[];for(const _0xed3f47 of this['data']['scenes'])_0x24d7b5['push'](_0x36a355(null,_0xed3f47,this['data']));return _0x145d4b['forEach'](_0xe0a5be=>{_0xe0a5be['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0xe0a5be['meshInstan'+'ce']['mesh']['skin'],_0xe0a5be['rootBone'],_0xe0a5be['entity']),_0xe0a5be['meshInstan'+'ce']['node']['render']['rootBone']=_0xe0a5be['rootBone'];}),yr['createScen'+'eHierarchy'](_0x24d7b5,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x166cfa,_0xf4e2b1){const _0x4585fd=_0xf4e2b1?this['data']['variants'][_0xf4e2b1]:null;if(_0x4585fd===void(-0x1d3+-0x7f6+0x5*0x1f5)){w['warn']('No\x20variant'+'\x20named\x20'+_0xf4e2b1+('\x20exists\x20in'+'\x20resource'));return;}const _0x414dba=_0x166cfa['findCompon'+'ents']('render');for(let _0x4aafa9=-0x20fb*-0x1+0x168d+0x2*-0x1bc4;_0x4aafa9<_0x414dba['length'];_0x4aafa9++){const _0x3c38d9=_0x414dba[_0x4aafa9];this['_applyMate'+'rialVarian'+'t'](_0x4585fd,_0x3c38d9['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x40d06e,_0x426530){const _0x578647=_0x426530?this['data']['variants'][_0x426530]:null;if(_0x578647===void(0x1007+-0x2287+-0x1280*-0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x426530+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x578647,_0x40d06e);}['_applyMate'+'rialVarian'+'t'](_0x5bcfce,_0x35a4ff){_0x35a4ff['forEach'](_0x5ae991=>{if(_0x5bcfce===null)_0x5ae991['material']=this['_defaultMa'+'terial'];else{const _0x584418=this['data']['meshVarian'+'ts'][_0x5ae991['mesh']['id']];_0x584418&&(_0x5ae991['material']=this['data']['materials'][_0x584418[_0x5bcfce]]);}w['assert'](_0x5ae991['material']);});}static['createScen'+'eHierarchy'](_0x5d8ffd,_0x4e0d60){let _0x5f56b7=null;if(_0x5d8ffd['length']===0x512+0x27*-0x6b+0xb3c)_0x5f56b7=_0x5d8ffd[-0x2*0xafd+-0x255d+0x3b57*0x1];else{_0x5f56b7=new _0x4e0d60('SceneGroup');for(const _0x511f58 of _0x5d8ffd)_0x5f56b7['addChild'](_0x511f58);}return _0x5f56b7;}static['createMode'+'l'](_0x34d24d,_0x6f7af9){const _0x319cd3=function(_0x4012c7,_0x1413b1,_0x161a09,_0xe9a1c9,_0x30a8df,_0x5d6638,_0x222ada){const _0x1e76e0=_0x34d24d['meshDefaul'+'tMaterials'][_0x1413b1['id']],_0x384002=_0x1e76e0===void(-0x18cf+0x1*0x19ab+-0xdc)?_0x6f7af9:_0x30a8df[_0x1e76e0],_0x529491=new He(_0x1413b1,_0x384002,_0x5d6638);if(_0x1413b1['morph']){const _0x3c3fc4=new xa(_0x1413b1['morph']);_0x529491['morphInsta'+'nce']=_0x3c3fc4,_0x4012c7['morphInsta'+'nces']['push'](_0x3c3fc4);}if(_0x222ada['hasOwnProp'+'erty']('skin')){const _0xfc453e=_0x222ada['skin'],_0x1e238c=_0x161a09[_0xfc453e];_0x1413b1['skin']=_0x1e238c;const _0x1334f7=_0xe9a1c9[_0xfc453e];_0x529491['skinInstan'+'ce']=_0x1334f7,_0x4012c7['skinInstan'+'ces']['push'](_0x1334f7);}_0x4012c7['meshInstan'+'ces']['push'](_0x529491);},_0x31b1f2=new sr(),_0xf8e449=[];for(const _0x21cdbb of _0x34d24d['skins']){const _0x224da5=new Ol(_0x21cdbb);_0x224da5['bones']=_0x21cdbb['bones'],_0xf8e449['push'](_0x224da5);}_0x31b1f2['graph']=yr['createScen'+'eHierarchy'](_0x34d24d['scenes'],Ie);for(let _0x4261c5=0x39f+0x154c+-0x18eb;_0x4261c5<_0x34d24d['nodes']['length'];_0x4261c5++){const _0x671ff5=_0x34d24d['nodes'][_0x4261c5];if(_0x671ff5['root']===_0x31b1f2['graph']){const _0x583ee1=_0x34d24d['gltf']['nodes'][_0x4261c5];if(_0x583ee1['hasOwnProp'+'erty']('mesh')){const _0x4f8fc0=_0x34d24d['renders'][_0x583ee1['mesh']]['meshes'];for(let _0x5bff5d=-0x155*0x1+0x1ebf*-0x1+-0x805*-0x4;_0x5bff5d<_0x4f8fc0['length'];_0x5bff5d++){const _0x4f875e=_0x4f8fc0[_0x5bff5d];_0x4f875e&&_0x319cd3(_0x31b1f2,_0x4f875e,_0x34d24d['skins'],_0xf8e449,_0x34d24d['materials'],_0x671ff5,_0x583ee1);}}}}return _0x31b1f2;}['destroy'](){const _0x393732=this['_assets'],_0xcea33a=function(_0x2ac7e5){_0x393732['remove'](_0x2ac7e5),_0x2ac7e5['unload']();},_0x384502=function(_0x26e086){_0x26e086['forEach'](_0x3ba567=>{_0xcea33a(_0x3ba567);});};this['animations']&&(_0x384502(this['animations']),this['animations']=null),this['textures']&&(_0x384502(this['textures']),this['textures']=null),this['materials']&&(_0x384502(this['materials']),this['materials']=null),this['renders']&&(_0x384502(this['renders']),this['renders']=null),this['_model']&&(_0xcea33a(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x4bbe4c,_0x27b0eb,_0x1e6cb1){this['_device']=_0x4bbe4c,this['_assets']=_0x27b0eb,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x1e6cb1;}['_getUrlWit'+'houtParams'](_0x4f9b8f){return _0x4f9b8f['indexOf']('?')>=0x6c1*-0x3+-0x96*0x29+-0xec3*-0x3?_0x4f9b8f['split']('?')[-0x1*-0x21f1+0x1380+0x1*-0x3571]:_0x4f9b8f;}['load'](_0x401cae,_0x158707,_0x8f53fb){pe['fetchArray'+'Buffer'](_0x401cae['load'],(_0x485966,_0x43b1ad)=>{_0x485966?_0x158707(_0x485966):kh['parse'](this['_getUrlWit'+'houtParams'](_0x401cae['original']),xe['extractPat'+'h'](_0x401cae['load']),_0x43b1ad,this['_device'],_0x8f53fb['registry'],_0x8f53fb['options'],(_0x34ba50,_0x4733fd)=>{_0x34ba50?_0x158707(_0x34ba50):_0x158707(null,new yr(_0x4733fd,_0x8f53fb,this['_assets'],this['_defaultMa'+'terial']));});},_0x8f53fb,this['maxRetries']);}['open'](_0x3c7c8b,_0x13f6e0,_0x4da815){return _0x13f6e0;}['patch'](_0x7fcc8d,_0xf0aecd){}}class ZN extends Qe{constructor(_0x4be3b4){super(_0x4be3b4,'container'),this['glbContain'+'erParser']=new KN(_0x4be3b4['graphicsDe'+'vice'],_0x4be3b4['assets'],0x1edd+-0xb6*0xe+-0x14e9),this['parsers']={};}set['maxRetries'](_0x2b9241){this['glbContain'+'erParser']['maxRetries']=_0x2b9241;for(const _0x51abf5 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x51abf5)&&(this['parsers'][_0x51abf5]['maxRetries']=_0x2b9241);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x4e321f){return _0x4e321f['indexOf']('?')>=0x1*0x10c7+0x4b8+-0x157f*0x1?_0x4e321f['split']('?')[0x1bb6*-0x1+0x1*-0xdad+0x2963]:_0x4e321f;}['_getParser'](_0x1518ec){const _0x54c52f=_0x1518ec?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1518ec))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x54c52f]||this['glbContain'+'erParser'];}['load'](_0x66fb83,_0x15a512,_0x5c1507){typeof _0x66fb83=='string'&&(_0x66fb83={'load':_0x66fb83,'original':_0x66fb83}),this['_getParser'](_0x66fb83['original'])['load'](_0x66fb83,_0x15a512,_0x5c1507);}['open'](_0x2c0b46,_0x405bbc,_0x3d502e){return this['_getParser'](_0x2c0b46)['open'](_0x2c0b46,_0x405bbc,_0x3d502e);}}class QN extends Qe{constructor(_0x1b81a7){super(_0x1b81a7,'css'),h(this,'decoder',null);}['load'](_0xb14c94,_0x71c7a7){typeof _0xb14c94=='string'&&(_0xb14c94={'load':_0xb14c94,'original':_0xb14c94}),ot['get'](_0xb14c94['load'],{'retry':this['maxRetries']>0x121*-0x19+-0x1cb3+0x38ec,'maxRetries':this['maxRetries']},(_0x40b09a,_0x452d22)=>{_0x40b09a?_0x71c7a7('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xb14c94['original']+'\x20['+_0x40b09a+']'):_0x71c7a7(null,_0x452d22);});}['openBinary'](_0x345ef6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x345ef6);}}class JN extends Qe{constructor(_0x5c232c){super(_0x5c232c,'cubemap'),this['_device']=_0x5c232c['graphicsDe'+'vice'],this['_registry']=_0x5c232c['assets'],this['_loader']=_0x5c232c['loader'];}['load'](_0x2fe6b0,_0x37b272,_0x46636d){this['loadAssets'](_0x46636d,_0x37b272);}['open'](_0x39fa5f,_0x35cf47,_0x2cc1b0){return _0x2cc1b0?_0x2cc1b0['resource']:null;}['patch'](_0x4d6889,_0x488bf1){this['loadAssets'](_0x4d6889,(_0x2b8725,_0x2c4641)=>{_0x2b8725&&(_0x488bf1['fire']('error',_0x4d6889),_0x488bf1['fire']('error:'+_0x4d6889['id'],_0x2b8725,_0x4d6889),_0x4d6889['fire']('error',_0x4d6889));});}['getAssetId'+'s'](_0x4d983c){const _0x597ce2=[];if(_0x597ce2[0xae0+0x191b+0x97*-0x3d]=_0x4d983c['file'],(_0x4d983c['loadFaces']||!_0x4d983c['file'])&&_0x4d983c['data']&&_0x4d983c['data']['textures']){for(let _0xefd6aa=-0x224+-0xb*0xb5+-0x9eb*-0x1;_0xefd6aa<0x185b+0x1934+-0x3189;++_0xefd6aa)_0x597ce2[_0xefd6aa+(0x1ca+-0xdc*-0x14+-0x12f9)]=_0x4d983c['data']['textures'][_0xefd6aa];}else _0x597ce2[0x1cba+-0xe2c+-0x95*0x19]=_0x597ce2[0x25f*-0xb+0xcfb+0xd1c]=_0x597ce2[-0x2*-0x11bc+0x1e2a+-0x419f]=_0x597ce2[0x2333+0x1115+-0x3444]=_0x597ce2[0x851+0x11b7*0x2+-0x2bba]=_0x597ce2[-0xd63+-0x117f*-0x1+-0x416*0x1]=null;return _0x597ce2;}['compareAss'+'etIds'](_0x46bcb2,_0x5b21ca){return _0x46bcb2&&_0x5b21ca?parseInt(_0x46bcb2,0x5*-0x407+-0x1ee3+0x1*0x3310)===_0x46bcb2||typeof _0x46bcb2=='string'?_0x46bcb2===_0x5b21ca:_0x46bcb2['url']===_0x5b21ca['url']:_0x46bcb2!==null==(_0x5b21ca!==null);}['update'](_0x1677ab,_0xaeccba,_0x33243b){const _0x239eed=_0x1677ab['data']||{},_0x5862d=_0x1677ab['_handlerSt'+'ate']['assets'],_0x28fc3b=_0x1677ab['_resources'];let _0xbc6f9,_0x358bcc,_0x58260a;const _0x3df7af=[null,null,null,null,null,null,null],_0x29e441=function(){return _0x239eed['hasOwnProp'+'erty']('type')?_0x239eed['type']:_0x239eed['hasOwnProp'+'erty']('rgbm')?_0x239eed['rgbm']?Zi:Ds:null;};if(!_0x1677ab['loaded']||_0x33243b[0x1d*0xe+-0x7*-0x2e1+0x15bd*-0x1]!==_0x5862d[0x2*-0x6d1+-0x2*-0x11f2+-0x4d*0x4a]){if(_0x33243b[-0x2282+-0x1f2c+0x4b1*0xe]){if(_0xbc6f9=_0x33243b[0x19bf+0x1f*0x3+-0x22d*0xc]['resource'],_0xbc6f9['cubemap']){for(_0x58260a=0x137*-0x20+0x26ff+-0x1f;_0x58260a<-0x1d75+-0x23a5+0x4120;++_0x58260a)_0x3df7af[_0x58260a+(0x56f+0x8b*0x1+0x8b*-0xb)]=new _e(this['_device'],{'name':_0x1677ab['name']+('_prelitCub'+'emap')+(_0xbc6f9['width']>>_0x58260a),'cubemap':!(0x23b1+-0x26*-0xb+-0xf*0x27d),'type':_0x29e441()||_0xbc6f9['type'],'width':_0xbc6f9['width']>>_0x58260a,'height':_0xbc6f9['height']>>_0x58260a,'format':_0xbc6f9['format'],'levels':[_0xbc6f9['_levels'][_0x58260a]],'addressU':ue,'addressV':ue,'mipmaps':_0x58260a===-0x1b6c+-0x2149+0x3cb5});}else _0x3df7af[-0x52+0x2f5*0x1+-0x2a2]=_0xbc6f9;}}else _0x3df7af[0x132b+0x1207+0x1*-0x2531]=_0x28fc3b[0x17d*0x1+0x1*0x540+-0x1af*0x4]||null,_0x3df7af[0x11bd+-0x579*0x1+-0x3*0x416]=_0x28fc3b[0x1*-0x1b65+-0x24f*0xc+0x371b]||null,_0x3df7af[0xc7*-0x1e+0x17d*-0x7+0x21c0]=_0x28fc3b[0xe8e+0x2532+-0x33bd]||null,_0x3df7af[0xc3*-0x23+0x1ab6+0x9*-0x1]=_0x28fc3b[0x1*-0x6bb+-0x10b1*-0x1+-0x9f2]||null,_0x3df7af[0x7*-0x3fd+-0x35d+-0x1*-0x1f4d]=_0x28fc3b[-0xf22+-0x14e8+0x240f]||null,_0x3df7af[0x1ada+-0xc85*0x1+0x21*-0x6f]=_0x28fc3b[-0x1185+-0x179*-0x7+0x73c]||null;const _0x1fe624=_0x33243b['slice'](0x7*-0x4f3+0x16ee+0xbb8);if(!_0x1677ab['loaded']||!this['cmpArrays'](_0x1fe624,_0x5862d['slice'](0x1d21*0x1+0xb*0x1f6+0x26a*-0x15))){if(_0x1fe624['indexOf'](null)===-(-0x5d2+0x1*0x15fb+0x2c*-0x5e)){const _0x3b8599=_0x1fe624['map'](_0xec0592=>_0xec0592['resource']),_0x19fedc=[];for(_0x358bcc=0x232f+-0x1249+-0x10e6;_0x358bcc<_0x3b8599[0x8*-0x37a+0xeed+0xce3]['_levels']['length'];++_0x358bcc)_0x19fedc['push'](_0x3b8599['map'](_0xed981b=>_0xed981b['_levels'][_0x358bcc]));const _0x1f5041=_0x3b8599[-0x5cf*0x2+-0x1a86+-0x4*-0x989]['format'],_0x59da9f=new _e(this['_device'],{'name':_0x1677ab['name']+'_faces','cubemap':!(0x1550+-0x1900+-0x3b0*-0x1),'type':_0x29e441()||_0x3b8599[-0x238a+0x19a0+0x9ea]['type'],'width':_0x3b8599[-0x1c55*0x1+0x1028+0xc2d]['width'],'height':_0x3b8599[-0x19b8+0x4*0x796+0x4*-0x128]['height'],'format':_0x1f5041===Cr?Ne:_0x1f5041,'mipmaps':_0x239eed['mipmaps']??!(0x50+-0x1*-0xceb+-0xd3b),'levels':_0x19fedc,'minFilter':_0x239eed['hasOwnProp'+'erty']('minFilter')?_0x239eed['minFilter']:_0x3b8599[-0x1*0x9e3+-0x52c+-0x505*-0x3]['minFilter'],'magFilter':_0x239eed['hasOwnProp'+'erty']('magFilter')?_0x239eed['magFilter']:_0x3b8599[-0x1*0x763+0x329+0x43a]['magFilter'],'anisotropy':_0x239eed['hasOwnProp'+'erty']('anisotropy')?_0x239eed['anisotropy']:-0x1*-0x1352+0x3*-0x85b+-0x5c0*-0x1,'addressU':ue,'addressV':ue});_0x3df7af[0xddb+0x10*0xed+-0x1cab]=_0x59da9f;}}else _0x3df7af[-0xd*0x18d+0x13*0x67+0x3*0x42c]=_0x28fc3b[0x1ce7+0x1bc*-0x3+-0x1*0x17b3]||null;if(!this['cmpArrays'](_0x3df7af,_0x28fc3b)){for(_0x1677ab['resources']=_0x3df7af,_0x1677ab['_handlerSt'+'ate']['assetIds']=_0xaeccba,_0x1677ab['_handlerSt'+'ate']['assets']=_0x33243b,_0x58260a=0x13b8+-0x134f+0x15*-0x5;_0x58260a<_0x28fc3b['length'];++_0x58260a)_0x28fc3b[_0x58260a]!==null&&_0x3df7af['indexOf'](_0x28fc3b[_0x58260a])===-(-0x165b+-0xed*0x1a+0x7*0x6a2)&&_0x28fc3b[_0x58260a]['destroy']();}for(_0x58260a=0x43*0x25+0x24ac+0x2e5b*-0x1;_0x58260a<_0x5862d['length'];++_0x58260a)_0x5862d[_0x58260a]!==null&&_0x33243b['indexOf'](_0x5862d[_0x58260a])===-(-0x1932+-0x1cb8+-0x6b*-0x81)&&_0x5862d[_0x58260a]['unload']();}['cmpArrays'](_0xc82c91,_0x425d3b){if(_0xc82c91['length']!==_0x425d3b['length'])return!(0x1dff+-0x665*-0x5+-0x3df7);for(let _0x3a2a4b=-0x513+0xb80+-0x66d*0x1;_0x3a2a4b<_0xc82c91['length'];++_0x3a2a4b)if(_0xc82c91[_0x3a2a4b]!==_0x425d3b[_0x3a2a4b])return!(0x15*0x67+0x20*0xe+0x122*-0x9);return!(0xb*-0x71+0x1372+-0xe97);}['resolveId'](_0x1dbfa1){const _0x5efeb0=parseInt(_0x1dbfa1,-0x178b+-0x16*-0x3d+0x1257);return _0x5efeb0===_0x1dbfa1||_0x5efeb0['toString']()===_0x1dbfa1?_0x5efeb0:_0x1dbfa1;}['loadAssets'](_0x26e177,_0x143d5f){_0x26e177['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x26e177['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x2ce120=this,_0x86b149=_0x2ce120['getAssetId'+'s'](_0x26e177),_0x448342=[null,null,null,null,null,null,null],_0x499125=_0x26e177['_handlerSt'+'ate']['assetIds'],_0x43e02b=_0x26e177['_handlerSt'+'ate']['assets'],_0x14af7d=_0x2ce120['_registry'];let _0x45576d=0x7b3+0x1442*-0x1+0xc96;const _0xdb4168=function(_0x417d78,_0x1dd508){_0x448342[_0x417d78]=_0x1dd508,_0x45576d--,_0x45576d===-0xb8c+-0x25a+0xde6*0x1&&(_0x2ce120['update'](_0x26e177,_0x86b149,_0x448342),_0x143d5f(null,_0x26e177['resources']));},_0xdd018f=function(_0x30b9d4,_0x21a061,_0x3458e7){_0x143d5f(_0x21a061);},_0x9aba36=function(_0x1397b2,_0x4d63c1){_0x4d63c1['loaded']?_0xdb4168(_0x1397b2,_0x4d63c1):(_0x14af7d['once']('load:'+_0x4d63c1['id'],_0xdb4168['bind'](_0x2ce120,_0x1397b2)),_0x14af7d['once']('error:'+_0x4d63c1['id'],_0xdd018f['bind'](_0x2ce120,_0x1397b2)),_0x4d63c1['loading']||_0x14af7d['load'](_0x4d63c1));};let _0x42a066;for(let _0x37114d=-0x18b5+-0x1323*-0x1+0x592;_0x37114d<-0xa59+0xf61+-0xb7*0x7;++_0x37114d){const _0x4acc52=this['resolveId'](_0x86b149[_0x37114d]);if(!_0x4acc52)_0xdb4168(_0x37114d,null);else{if(_0x2ce120['compareAss'+'etIds'](_0x4acc52,_0x499125[_0x37114d]))_0x9aba36(_0x37114d,_0x43e02b[_0x37114d]);else{if(parseInt(_0x4acc52,-0x5f0+0x25ab*-0x1+0x2ba5*0x1)===_0x4acc52)_0x42a066=_0x14af7d['get'](_0x4acc52),_0x42a066?_0x9aba36(_0x37114d,_0x42a066):setTimeout(((_0x23584b,_0x884f35)=>{const _0x1a4a9e=_0x14af7d['get'](_0x884f35);_0x1a4a9e?_0x9aba36(_0x23584b,_0x1a4a9e):_0xdd018f(_0x23584b,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x884f35);})['bind'](null,_0x37114d,_0x4acc52));else{const _0x4668e7=typeof _0x4acc52=='string'?{'url':_0x4acc52,'filename':_0x4acc52}:_0x4acc52,_0x1625f3=_0x4668e7['url']['search']('.dds')===-(0x26ba*-0x1+0x1*-0x16c+0x2827)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x713*-0x1+0x10bb*-0x1+0x17cf)}:null;_0x42a066=new pe(_0x26e177['name']+'_part_'+_0x37114d,'texture',_0x4668e7,_0x1625f3),_0x14af7d['add'](_0x42a066),_0x9aba36(_0x37114d,_0x42a066);}}}}}}class ek extends Qe{constructor(_0x249643){super(_0x249643,'folder');}['load'](_0x1bf690,_0x16cd0a){_0x16cd0a(null,null);}}class yS{constructor(_0x10b624,_0x34ae75){this['type']=_0x34ae75&&_0x34ae75['type']||Rh,this['em']=-0x9*0x137+0x3d*0x83+-0x1447,this['textures']=_0x10b624,this['intensity']=-0x1aa1+0x8d*0x19+0xcdc,this['_data']=null,this['data']=_0x34ae75;}set['data'](_0x20f76a){if(this['_data']=_0x20f76a,!!_0x20f76a&&(this['_data']['intensity']!==void(0x22d7+-0x62*-0x39+-0x5*0xb55)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x670+0x2d*-0x28+0xd7a)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x57f9f5 in this['_data']['chars'])this['_data']['chars'][_0x57f9f5]['map']=0x7*0x2bd+-0x181*0x11+0x666;}}get['data'](){return this['_data'];}}function Cf(_0x21d252){return _0x21d252['version']<0x1be5*-0x1+0x1163+0xa85&&(_0x21d252['version']<-0x15b4+-0x1075*-0x2+-0xb34&&(_0x21d252['info']['maps']=_0x21d252['info']['maps']||[{'width':_0x21d252['info']['width'],'height':_0x21d252['info']['height']}]),_0x21d252['chars']=Object['keys'](_0x21d252['chars']||{})['reduce']((_0x29d87c,_0xae4c37)=>{const _0x3880cf=_0x21d252['chars'][_0xae4c37],_0x2cef6b=_0x3880cf['letter']!==void(-0x8b4+-0x1*-0x12df+0x1*-0xa2b)?_0x3880cf['letter']:Hc['fromCodePo'+'int'](_0xae4c37);return _0x21d252['version']<0x1ef0+0xf7b+0x6d*-0x6d&&(_0x3880cf['map']=_0x3880cf['map']||0x1a*-0x12a+-0x1b01+-0x3*-0x1317),_0x29d87c[_0x2cef6b]=_0x3880cf,_0x29d87c;},{}),_0x21d252['version']=-0x1cc3+0x10c*-0x14+-0xca*-0x3f),_0x21d252;}class tk extends Qe{constructor(_0x1ac827){super(_0x1ac827,'font'),this['_loader']=_0x1ac827['loader'],this['maxRetries']=0x3c*0xf+0x1ca6*-0x1+-0x2*-0xc91;}['load'](_0x178371,_0x563fec,_0x31c0b2){typeof _0x178371=='string'&&(_0x178371={'load':_0x178371,'original':_0x178371});const _0xfabd99=this;xe['getExtensi'+'on'](_0x178371['original'])==='.json'?ot['get'](_0x178371['load'],{'retry':this['maxRetries']>0x23b*0x4+-0x1b4d*0x1+0x1261,'maxRetries':this['maxRetries']},(_0x2e4fcf,_0x1026dd)=>{if(_0x2e4fcf)_0x563fec('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x178371['original']+'\x20['+_0x2e4fcf+']');else{const _0x4ff33b=Cf(_0x1026dd);_0xfabd99['_loadTextu'+'res'](_0x178371['load']['replace']('.json','.png'),_0x4ff33b,(_0x287f2e,_0x12d69f)=>{_0x287f2e?_0x563fec(_0x287f2e):_0x563fec(null,{'data':_0x4ff33b,'textures':_0x12d69f});});}}):(_0x31c0b2&&_0x31c0b2['data']&&(_0x31c0b2['data']=Cf(_0x31c0b2['data'])),this['_loadTextu'+'res'](_0x178371['load'],_0x31c0b2&&_0x31c0b2['data'],_0x563fec));}['_loadTextu'+'res'](_0x577384,_0x3d0fa4,_0x295ef4){const _0x37c502=_0x3d0fa4['info']['maps']['length'];let _0x44f20e=0x1c*0xe7+-0x1e1*-0x1+-0x1b25,_0x150eee=null;const _0x11b537=new Array(_0x37c502),_0x251e60=this['_loader'],_0x54c001=function(_0x5b48e6){const _0x592f27=function(_0x346adb,_0x403ef5){if(!_0x150eee){if(_0x346adb){_0x150eee=_0x346adb,_0x295ef4(_0x346adb);return;}_0x403ef5['upload'](),_0x11b537[_0x5b48e6]=_0x403ef5,_0x44f20e++,_0x44f20e===_0x37c502&&_0x295ef4(null,_0x11b537);}};_0x5b48e6===0x143*-0xd+0x1*-0x1193+0x1*0x21fa?_0x251e60['load'](_0x577384,'texture',_0x592f27):_0x251e60['load'](_0x577384['replace']('.png',_0x5b48e6+'.png'),'texture',_0x592f27);};for(let _0x8239=-0x13f7+0x1b4*0x11+-0x8fd;_0x8239<_0x37c502;_0x8239++)_0x54c001(_0x8239);}['open'](_0x6a109e,_0x1f8cdd,_0x50dbf6){let _0x2fd7f5;return _0x1f8cdd['textures']?_0x2fd7f5=new yS(_0x1f8cdd['textures'],_0x1f8cdd['data']):_0x2fd7f5=new yS(_0x1f8cdd,null),_0x2fd7f5;}['patch'](_0xf8194e,_0x25a8c8){const _0x184c73=_0xf8194e['resource'];!_0x184c73['data']&&_0xf8194e['data']?_0x184c73['data']=_0xf8194e['data']:!_0xf8194e['data']&&_0x184c73['data']&&(_0xf8194e['data']=_0x184c73['data']),_0xf8194e['data']&&(_0xf8194e['data']=Cf(_0xf8194e['data']));}}async function sk(){const _0x21ed59=-0x1237*-0x1+0x1097+-0x22ce+0.28209479177387814;class _0x20f05e{constructor(_0x47efd8,_0x59e381,_0x572403){this['x']=_0x47efd8,this['y']=_0x59e381,this['z']=_0x572403;}}class _0x2a31ad{constructor(_0x1b2b1c,_0x1f0fc1,_0x23e56d,_0x11292a){this['x']=_0x1b2b1c,this['y']=_0x1f0fc1,this['z']=_0x23e56d,this['w']=_0x11292a;}}class _0x7e3d60{constructor(_0x584d22,_0xe33abf,_0x546a5a,_0x5e13eb){this['x']=_0x584d22,this['y']=_0xe33abf,this['z']=_0x546a5a,this['w']=_0x5e13eb;}['set'](_0x550dcb,_0x118799,_0x4e5844,_0x2c5b4a){this['x']=_0x550dcb,this['y']=_0x118799,this['z']=_0x4e5844,this['w']=_0x2c5b4a;}}class _0xc2924c{constructor(_0x571a4e,_0x518489,_0x42a695,_0x30fad4,_0x1d3cd0,_0x6861b1,_0x44f3d6,_0x3c96c0,_0x4ebb6c,_0x2dfd17,_0xad5bf0,_0x347eac,_0x59dbe5,_0x41bfef){const _0x56d090=(_0x1f093d,_0x2cb15d)=>{const _0x40fb7f=(0x149+0xc*-0x2f4+0x2228<<_0x2cb15d)-(-0x1*0x189e+0x20d0+-0x1*0x831);return(_0x1f093d&_0x40fb7f)/_0x40fb7f;},_0x553f6f=(_0x41c8b2,_0xe7b45d)=>{_0x41c8b2['x']=_0x56d090(_0xe7b45d>>>0xd50*0x1+-0x883+-0x8*0x97,0xdc*-0x8+0x935+-0x24a),_0x41c8b2['y']=_0x56d090(_0xe7b45d>>>-0x1c64+0x1*0x7f+-0x2*-0xdf8,0x107*0x19+0x21bf+-0x87c*0x7),_0x41c8b2['z']=_0x56d090(_0xe7b45d,0x1*0x26bd+-0xbd*0x26+-0xe3*0xc);},_0x22fe7b=(_0x3e07d2,_0x549214)=>{_0x3e07d2['x']=_0x56d090(_0x549214>>>0x2648+-0x2d2+0x1*-0x235e,0x13ad+0x517+-0x18bc),_0x3e07d2['y']=_0x56d090(_0x549214>>>0x3ec+0x21dd+-0x25b9,0xd*0x2b+0x1681+-0x18a8),_0x3e07d2['z']=_0x56d090(_0x549214>>>0x25e1+-0x8bc*-0x2+-0x3751,-0x1*-0x14aa+-0xea6+-0x1*0x5fc),_0x3e07d2['w']=_0x56d090(_0x549214,-0x5*0x6b9+-0x9*0x133+0x2c70);},_0x24a73d=(_0xa7052,_0x30c290)=>{const _0x42075c=(0x12d2+0x1290+-0x2561)/(Math['sqrt'](-0x12e2+-0x1324*0x1+0x2608)*(-0x1df+0x9bc+-0x7dd+0.5)),_0x4a46cd=(_0x56d090(_0x30c290>>>-0x2529*0x1+-0x4a6+0x29e3,-0x1*-0x1ec7+0xd*-0x6f+0xc8d*-0x2)-(0x4*0x374+-0x1f0*0x3+-0x800+0.5))*_0x42075c,_0x283aa6=(_0x56d090(_0x30c290>>>0x40a+0x14e2+-0x41*0x62,-0xbb3+-0x716*-0x4+-0x3*0x589)-(-0x1dbb+0x1c8c+0x12f+0.5))*_0x42075c,_0x2bff47=(_0x56d090(_0x30c290,-0x1467+-0x199c+0x2e0d)-(-0x1*-0x2bd+0x9dc*0x2+0x1675*-0x1+0.5))*_0x42075c,_0x287055=Math['sqrt'](-0x1c3+-0xf3d+0x1101-(_0x4a46cd*_0x4a46cd+_0x283aa6*_0x283aa6+_0x2bff47*_0x2bff47));switch(_0x30c290>>>-0x2530+0x469*0x7+-0x1*-0x66f){case-0x247b+-0x9*0x1df+0x3552:_0xa7052['set'](_0x4a46cd,_0x283aa6,_0x2bff47,_0x287055);break;case-0x1*0x1db5+0x206d+0x1*-0x2b7:_0xa7052['set'](_0x287055,_0x283aa6,_0x2bff47,_0x4a46cd);break;case-0x21*0x106+0x1327*-0x2+0x4816:_0xa7052['set'](_0x283aa6,_0x287055,_0x2bff47,_0x4a46cd);break;case-0x3b*0x94+0x3*0x472+0x14c9:_0xa7052['set'](_0x283aa6,_0x2bff47,_0x287055,_0x4a46cd);break;}},_0x1e030c=(_0x16f754,_0x2e3b64,_0x116cc8)=>_0x16f754*(0x89a*-0x1+0x67*-0x1b+0x1378-_0x116cc8)+_0x2e3b64*_0x116cc8,_0x150a3f=[-0x5*-0x2dd+-0x1df4+0xfa6,0xafc+-0x117d+-0x689*-0x1,-0x475*-0x6+0x2097*0x1+0x696*-0x9][_0x44f3d6-(0x17ed+-0x104*-0x4+-0x1bfc)],_0x4f80ad=-0x124d+-0x3e*-0x29+0x865;this['read']=_0x22a83f=>{const _0x37b2f9=Math['floor'](_0x22a83f/(0xb1*-0x29+-0x3*-0x72d+0x7d2))*_0x518489;if(_0x3c96c0&&(_0x553f6f(_0x3c96c0,_0x42a695[_0x22a83f*_0x4f80ad+(0x1*-0xc7b+-0x1345*-0x1+-0x6ca)]),_0x3c96c0['x']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0xd0e*-0x2+0xef3*0x2+0x1c01*-0x2)],_0x571a4e[_0x37b2f9+(-0x16d4+0x2*-0x14e+-0x1973*-0x1)],_0x3c96c0['x']),_0x3c96c0['y']=_0x1e030c(_0x571a4e[_0x37b2f9+(0xe2+-0x12*0x82+-0x2c1*-0x3)],_0x571a4e[_0x37b2f9+(-0x4*0x476+0xd*0xce+0x766)],_0x3c96c0['y']),_0x3c96c0['z']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0x27*-0xba+0x1da9+-0x39fd)],_0x571a4e[_0x37b2f9+(-0x20*0x117+0x1882*-0x1+-0x19b*-0x25)],_0x3c96c0['z'])),_0x4ebb6c&&_0x24a73d(_0x4ebb6c,_0x42a695[_0x22a83f*_0x4f80ad+(-0x1687+-0x3*0x539+0x379*0xb)]),_0x2dfd17&&(_0x553f6f(_0x2dfd17,_0x42a695[_0x22a83f*_0x4f80ad+(0xe8*0x2+-0x1*0x38d+-0x1bf*-0x1)]),_0x2dfd17['x']=_0x1e030c(_0x571a4e[_0x37b2f9+(0x1273*0x1+-0x21a7+0xf3a)],_0x571a4e[_0x37b2f9+(0x8d4+-0x162e+0x95*0x17)],_0x2dfd17['x']),_0x2dfd17['y']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0xd*-0x248+0x3*-0xc82+0x7e5*0x1)],_0x571a4e[_0x37b2f9+(-0x497*-0x5+-0x1*-0x3+-0x16ec)],_0x2dfd17['y']),_0x2dfd17['z']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0x2*-0xcb2+-0x58*0x2a+0x6*-0x1d2)],_0x571a4e[_0x37b2f9+(-0x250f+0x1822+-0x67c*-0x2)],_0x2dfd17['z'])),_0xad5bf0&&(_0x22fe7b(_0xad5bf0,_0x42a695[_0x22a83f*_0x4f80ad+(-0x1c48+0x704+-0x1547*-0x1)]),_0x518489>0x4*0x375+0x4a7*-0x5+0x3*0x329&&(_0xad5bf0['x']=_0x1e030c(_0x571a4e[_0x37b2f9+(0xdbb+-0xba5+0x3*-0xae)],_0x571a4e[_0x37b2f9+(-0x2*0xa1b+0x11cc+-0x279*-0x1)],_0xad5bf0['x']),_0xad5bf0['y']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0x58f+-0x2203+0x279f)],_0x571a4e[_0x37b2f9+(0x161*0x13+-0x1d04*0x1+0x2e1*0x1)],_0xad5bf0['y']),_0xad5bf0['z']=_0x1e030c(_0x571a4e[_0x37b2f9+(0x984+0x1*-0xa41+0xcb)],_0x571a4e[_0x37b2f9+(0x1b*-0x15d+0x1*-0x4cd+-0xe3*-0x2f)],_0xad5bf0['z']))),_0x347eac&&(_0x553f6f(_0x347eac,_0x42a695[_0x22a83f*_0x4f80ad+(-0x3*-0xadb+-0x284*0x6+-0x1175)]),_0x347eac['x']=_0x1e030c(_0x571a4e[_0x37b2f9+(0x1cb5+0x11ea+0x2bd*-0x11)],_0x571a4e[_0x37b2f9+(0x11c7+-0x3e*0x74+0xa66)],_0x347eac['x']),_0x347eac['y']=_0x1e030c(_0x571a4e[_0x37b2f9+(0x52*0x23+-0x16f4+0x113*0xb)],_0x571a4e[_0x37b2f9+(-0xc3a+-0x1361+0x1fb1)],_0x347eac['y']),_0x347eac['z']=_0x1e030c(_0x571a4e[_0x37b2f9+(-0x18d*-0x4+0x1850*0x1+-0x1e70)],_0x571a4e[_0x37b2f9+(-0xb*-0x43+-0x10c2+0x6*0x254)],_0x347eac['z'])),_0x59dbe5&&(_0x553f6f(_0x59dbe5,_0x42a695[_0x22a83f*_0x4f80ad+(-0x24*0xb8+0x2*-0x16f+0x1cc3)]),_0x59dbe5['x']=_0x1e030c(_0x571a4e[_0x37b2f9+(0xf37+-0x52*-0x5b+-0x2c45)],_0x571a4e[_0x37b2f9+(0xc43*-0x1+0xc1*-0x2+-0x47*-0x32)],_0x59dbe5['x']),_0x59dbe5['y']=_0x1e030c(_0x571a4e[_0x37b2f9+(0x4*-0x281+0x25c3*-0x1+-0x1*-0x2fe1)],_0x571a4e[_0x37b2f9+(0x755+-0x158d+0x1*0xe53)],_0x59dbe5['y'])),_0x41bfef&&_0x44f3d6>-0x1929+0xb*0x2b3+-0x122*0x4){const _0x23f6f3=[_0x30fad4,_0x1d3cd0,_0x6861b1];for(let _0x88b6e4=0x144+-0x1*0x655+-0x1*-0x511;_0x88b6e4<0x3*0x549+0x1b59+-0x2b31;++_0x88b6e4)for(let _0x39da88=0x21b*-0x3+0x2420+-0x1dcf;_0x39da88<0xa3*0x29+-0x1*-0x60d+-0xf9*0x21;++_0x39da88)_0x41bfef[_0x88b6e4*(-0x1*0x8dd+0x113+-0x7d9*-0x1)+_0x39da88]=_0x39da88<_0x150a3f?_0x23f6f3[_0x88b6e4][_0x22a83f*(0x30b+-0x1e91+0x1b96)+_0x39da88]*((-0xa7c*-0x2+-0x1*0x1daf+0x8bf)/(-0x210c+-0xd*0xad+-0x1*-0x2ad4))-(0x4*0x199+-0x23c5+0x1d65):-0x61c+0x15fb+-0x1*0xfdf;}};}}self['onmessage']=async _0xef390f=>{const {data:_0x4da208}=_0xef390f;switch(_0x4da208['type']){case'initWorker':break;case'decompress':_0x14f412(_0x4da208['numSplats'],_0x4da208['chunkData'],_0x4da208['chunkSize'],_0x4da208['vertexData'],_0x4da208['shData0'],_0x4da208['shData1'],_0x4da208['shData2'],_0x4da208['shBands']);break;}};const _0x14f412=(_0xb25fef,_0x51bd70,_0x4337e7,_0x4146ad,_0x121c2c,_0x165f24,_0x2855b0,_0x2d0c81)=>{const _0xa04616=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x2d0c81>0x1a15*-0x1+0x1*-0x22db+0x3cf0){const _0x1beb67=[];for(let _0x3ae147=0x18*-0x4+-0x1*-0xf9f+0x1*-0xf3f;_0x3ae147<-0x83c+0x2410+0x1*-0x1ba7;++_0x3ae147)_0x1beb67['push']('f_rest_'+_0x3ae147);_0xa04616['splice'](_0xa04616['indexOf']('f_dc_0')+(-0x7*-0x141+0x37d+-0xc43),-0x1940+-0x3*0x9bf+0x367d,..._0x1beb67);}const _0x50d387={};_0xa04616['forEach'](_0x268253=>{_0x50d387[_0x268253]=new Float32Array(_0xb25fef);});const _0x319d3a=new _0x20f05e(),_0x3ee587=new _0x7e3d60(),_0x2da46d=new _0x20f05e(),_0x379252=new _0x2a31ad(),_0x18902a=new _0x20f05e(),_0x41b1ae=new _0x20f05e(),_0xea4cda=_0x2d0c81>-0x24f*-0xa+0x29f+-0x19b5?new Float32Array(0x2*-0xea+-0xa19+0x60d*0x2):null,_0x1cdd9c=new _0xc2924c(_0x51bd70,_0x4337e7,_0x4146ad,_0x121c2c,_0x165f24,_0x2855b0,_0x2d0c81,_0x319d3a,_0x3ee587,_0x2da46d,_0x379252,_0x18902a,_0x41b1ae,_0xea4cda);for(let _0x4e3243=0x154f+0x7*0x48f+0x8*-0x6a7;_0x4e3243<_0xb25fef;++_0x4e3243)if(_0x1cdd9c['read'](_0x4e3243),_0x50d387['x'][_0x4e3243]=_0x319d3a['x'],_0x50d387['y'][_0x4e3243]=_0x319d3a['y'],_0x50d387['z'][_0x4e3243]=_0x319d3a['z'],_0x50d387['rot_1'][_0x4e3243]=_0x3ee587['x'],_0x50d387['rot_2'][_0x4e3243]=_0x3ee587['y'],_0x50d387['rot_3'][_0x4e3243]=_0x3ee587['z'],_0x50d387['rot_0'][_0x4e3243]=_0x3ee587['w'],_0x50d387['scale_0'][_0x4e3243]=_0x2da46d['x'],_0x50d387['scale_1'][_0x4e3243]=_0x2da46d['y'],_0x50d387['scale_2'][_0x4e3243]=_0x2da46d['z'],_0x50d387['motion_0'][_0x4e3243]=_0x18902a['x'],_0x50d387['motion_1'][_0x4e3243]=_0x18902a['y'],_0x50d387['motion_2'][_0x4e3243]=_0x18902a['z'],_0x50d387['t_scale'][_0x4e3243]=_0x41b1ae['x'],_0x50d387['t'][_0x4e3243]=_0x41b1ae['y'],_0x50d387['f_dc_0'][_0x4e3243]=(_0x379252['x']-(-0x1*-0x1869+0x2098+-0x3901*0x1+0.5))/_0x21ed59,_0x50d387['f_dc_1'][_0x4e3243]=(_0x379252['y']-(0xe1*-0x1+0x11f*-0x1d+0x2164+0.5))/_0x21ed59,_0x50d387['f_dc_2'][_0x4e3243]=(_0x379252['z']-(0x11a*-0x12+-0x9c4*0x4+0x3ae4+0.5))/_0x21ed59,_0x50d387['opacity'][_0x4e3243]=_0x379252['w']<=-0xd5a+-0x5c*0x65+0x2*0x18d3?-(0x4*0x91c+-0xfb*0x5+-0x1*0x1f61):_0x379252['w']>=-0xa6*0x16+0x1*-0x250f+0x3354?-0x2164+0x481*-0x1+-0x1*-0x260d:-Math['log']((0x2*0x576+-0x1539+0xa4e)/_0x379252['w']-(0x1aa3+0xb*-0x30e+0x1be*0x4)),_0xea4cda){for(let _0x5e48e6=-0xc9e+0x1d0+0xace;_0x5e48e6<0xf22+-0x1c3d*0x1+-0x154*-0xa;++_0x5e48e6)_0x50d387['f_rest_'+_0x5e48e6][_0x4e3243]=_0xea4cda[_0x5e48e6];}let _0x11d210={'x':_0x50d387['x'],'y':_0x50d387['y'],'z':_0x50d387['z'],'rot_1':_0x50d387['rot_1'],'rot_2':_0x50d387['rot_2'],'rot_3':_0x50d387['rot_3'],'rot_0':_0x50d387['rot_0'],'scale_0':_0x50d387['scale_0'],'scale_1':_0x50d387['scale_1'],'scale_2':_0x50d387['scale_2'],'motion_0':_0x50d387['motion_0'],'motion_1':_0x50d387['motion_1'],'motion_2':_0x50d387['motion_2'],'t_scale':_0x50d387['t_scale'],'t':_0x50d387['t'],'f_dc_0':_0x50d387['f_dc_0'],'f_dc_1':_0x50d387['f_dc_1'],'f_dc_2':_0x50d387['f_dc_2'],'opacity':_0x50d387['opacity']};_0xea4cda&&(_0x11d210={..._0x11d210,'f_rest_0':_0x50d387['f_rest_0'],'f_rest_1':_0x50d387['f_rest_1'],'f_rest_2':_0x50d387['f_rest_2'],'f_rest_3':_0x50d387['f_rest_3'],'f_rest_4':_0x50d387['f_rest_4'],'f_rest_5':_0x50d387['f_rest_5'],'f_rest_6':_0x50d387['f_rest_6'],'f_rest_7':_0x50d387['f_rest_7'],'f_rest_8':_0x50d387['f_rest_8'],'f_rest_9':_0x50d387['f_rest_9'],'f_rest_10':_0x50d387['f_rest_10'],'f_rest_11':_0x50d387['f_rest_11'],'f_rest_12':_0x50d387['f_rest_12'],'f_rest_13':_0x50d387['f_rest_13'],'f_rest_14':_0x50d387['f_rest_14'],'f_rest_15':_0x50d387['f_rest_15'],'f_rest_16':_0x50d387['f_rest_16'],'f_rest_17':_0x50d387['f_rest_17'],'f_rest_18':_0x50d387['f_rest_18'],'f_rest_19':_0x50d387['f_rest_19'],'f_rest_20':_0x50d387['f_rest_20'],'f_rest_21':_0x50d387['f_rest_21'],'f_rest_22':_0x50d387['f_rest_22'],'f_rest_23':_0x50d387['f_rest_23'],'f_rest_24':_0x50d387['f_rest_24'],'f_rest_25':_0x50d387['f_rest_25'],'f_rest_26':_0x50d387['f_rest_26'],'f_rest_27':_0x50d387['f_rest_27'],'f_rest_28':_0x50d387['f_rest_28'],'f_rest_29':_0x50d387['f_rest_29'],'f_rest_30':_0x50d387['f_rest_30'],'f_rest_31':_0x50d387['f_rest_31'],'f_rest_32':_0x50d387['f_rest_32'],'f_rest_33':_0x50d387['f_rest_33'],'f_rest_34':_0x50d387['f_rest_34'],'f_rest_35':_0x50d387['f_rest_35'],'f_rest_36':_0x50d387['f_rest_36'],'f_rest_37':_0x50d387['f_rest_37'],'f_rest_38':_0x50d387['f_rest_38'],'f_rest_39':_0x50d387['f_rest_39'],'f_rest_40':_0x50d387['f_rest_40'],'f_rest_41':_0x50d387['f_rest_41'],'f_rest_42':_0x50d387['f_rest_42'],'f_rest_43':_0x50d387['f_rest_43'],'f_rest_44':_0x50d387['f_rest_44']});const _0x38fafb=Object['values'](_0x11d210)['map'](_0xd3b659=>_0xd3b659['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x11d210},_0x38fafb);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x720837=>{if(!this['worker'])return;const {data:_0x4f0df1}=_0x720837;switch(_0x4f0df1['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x4f0df1['data']);break;}};}['decompress'](_0x179cda,_0x5cd65d,_0x3af328,_0x1e7487,_0x5263e5,_0x64082,_0x36950a,_0x39bff6){const _0x8a5a9a=[_0x5cd65d['buffer'],_0x1e7487['buffer']];_0x5263e5&&_0x8a5a9a['push'](_0x5263e5['buffer']),_0x64082&&_0x8a5a9a['push'](_0x64082['buffer']),_0x36950a&&_0x8a5a9a['push'](_0x36950a['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x179cda,'chunkData':_0x5cd65d,'chunkSize':_0x3af328,'vertexData':_0x1e7487,'shData0':_0x5263e5,'shData1':_0x64082,'shData2':_0x36950a,'shBands':_0x39bff6},_0x8a5a9a);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x43609b,_0x3e06ae,_0x5a1179,_0x4895ad,_0x46ef2a,_0x37ea03,_0x1ba3e,_0x366a42){const _0x3090d8=(_0x5afb28,_0x2c989e)=>{const _0x246955=(0x43c*-0x7+0x494*0x8+-0x6fb<<_0x2c989e)-(0x7b6+-0x206*0x7+0x675);return(_0x5afb28&_0x246955)/_0x246955;},_0xe44f26=(_0x2b2c98,_0x187fdb)=>{_0x2b2c98['x']=_0x3090d8(_0x187fdb>>>-0x1ac0+-0x134b+-0xf60*-0x3,-0x54*-0x42+-0x1*0x1587+-0x2*0xb),_0x2b2c98['y']=_0x3090d8(_0x187fdb>>>0x4c7*0x1+-0xb1f+0x663,0xe27*-0x1+0x2665*-0x1+0x3496),_0x2b2c98['z']=_0x3090d8(_0x187fdb,0x721+0x79*0x2d+-0x1c5b);},_0x28c906=(_0x35fb12,_0x1963e2)=>{_0x35fb12['x']=_0x3090d8(_0x1963e2>>>-0xab1+-0x2f6+0xdbf,0x1*-0x23ef+-0x22e7+0x46de),_0x35fb12['y']=_0x3090d8(_0x1963e2>>>0xd*-0x11b+0xb15+-0x11e*-0x3,-0x1c8b+0x102b*-0x1+-0x165f*-0x2),_0x35fb12['z']=_0x3090d8(_0x1963e2>>>0x1*-0x758+0x1*-0x1c38+0x43*0x88,0x1e*0x45+-0xc1d*0x2+0x102c),_0x35fb12['w']=_0x3090d8(_0x1963e2,0xd*-0xf1+-0x1115+-0x1ba*-0x11);},_0x16a08c=(_0x136f51,_0x46bc22)=>{const _0x1404ba=(-0x12af+-0xc5*0x5+0x9*0x281)/(Math['sqrt'](-0x236d+-0xab2+0x2e21)*(-0x1072+0x21bf+-0x114d+0.5)),_0x4059e3=(_0x3090d8(_0x46bc22>>>-0x19ba*-0x1+0x2d1+0x411*-0x7,-0x7*-0x185+0xea9+-0x1942)-(-0x269*0x1+-0xb*0x8+-0xeb*-0x3+0.5))*_0x1404ba,_0x269ba1=(_0x3090d8(_0x46bc22>>>-0x1c6a+0x5b*0x19+0x1391*0x1,-0x12f9*-0x1+0x143b+0x1395*-0x2)-(-0x1ec5*0x1+0xae5+0x13e0+0.5))*_0x1404ba,_0x271b8f=(_0x3090d8(_0x46bc22,-0x52*0xb+0xd12+0x4c1*-0x2)-(0x21f0+-0x14a6*0x1+-0xd4a+0.5))*_0x1404ba,_0x5787dc=Math['sqrt'](-0x5*0xad+0x1417*-0x1+0x1*0x1779-(_0x4059e3*_0x4059e3+_0x269ba1*_0x269ba1+_0x271b8f*_0x271b8f));switch(_0x46bc22>>>-0x50e+-0x1ba6+0x2*0x1069){case-0x24a0+-0x38d*0x1+0x282d:_0x136f51['set'](_0x4059e3,_0x269ba1,_0x271b8f,_0x5787dc);break;case 0x1de*0x4+0x1a81+-0x21f8:_0x136f51['set'](_0x5787dc,_0x269ba1,_0x271b8f,_0x4059e3);break;case-0x14e4+-0xec3+0x23a9:_0x136f51['set'](_0x269ba1,_0x5787dc,_0x271b8f,_0x4059e3);break;case-0x1933*0x1+-0x1*-0x233+0x1703:_0x136f51['set'](_0x269ba1,_0x271b8f,_0x5787dc,_0x4059e3);break;}},_0x467215=(_0x302363,_0x4963e8,_0x772bde)=>_0x302363*(-0x25fc+-0xb77+0x3174-_0x772bde)+_0x4963e8*_0x772bde,{chunkData:_0x2475c9,chunkSize:_0x3c65c9,vertexData:_0x3336e4,shData0:_0x2858f5,shData1:_0x2b6e5f,shData2:_0x5da7d0,shBands:_0x309718}=_0x43609b,_0x1027e4=[-0x19a9+-0x7d7+0x2183,0x201+0x246a+0x1*-0x2663,0x1945*0x1+0x633*-0x1+-0x1303][_0x309718-(-0x11*-0x56+0x6+0x9*-0xa3)],_0x272cea=-0x5f7+0x1d72+-0x1775;this['read']=_0x33e2f9=>{const _0x248b0f=Math['floor'](_0x33e2f9/(-0x1d5*0x13+0x5c1+-0x2*-0xf07))*_0x3c65c9;if(_0x3e06ae&&(_0xe44f26(_0x3e06ae,_0x3336e4[_0x33e2f9*_0x272cea+(-0x1ebb+-0x1219+0x30d4)]),_0x3e06ae['x']=_0x467215(_0x2475c9[_0x248b0f+(0x5b*0x51+-0x1*-0x623+0x2*-0x1177)],_0x2475c9[_0x248b0f+(0x1b1c+-0x1*-0x16d9+-0x31f2)],_0x3e06ae['x']),_0x3e06ae['y']=_0x467215(_0x2475c9[_0x248b0f+(0x1*-0x146+-0x67*0x17+0xa88)],_0x2475c9[_0x248b0f+(0x915+0x11*-0xf1+-0x6f0*-0x1)],_0x3e06ae['y']),_0x3e06ae['z']=_0x467215(_0x2475c9[_0x248b0f+(0x13df+0x8d4*-0x3+0x69f)],_0x2475c9[_0x248b0f+(0x23a7*-0x1+-0x527*-0x5+-0x2b*-0x3b)],_0x3e06ae['z'])),_0x5a1179&&_0x16a08c(_0x5a1179,_0x3336e4[_0x33e2f9*_0x272cea+(-0x75*0x25+0x47f*0x5+-0x591)]),_0x4895ad&&(_0xe44f26(_0x4895ad,_0x3336e4[_0x33e2f9*_0x272cea+(0xa9c+-0x18ab+0xe11)]),_0x4895ad['x']=_0x467215(_0x2475c9[_0x248b0f+(-0x2*0x3e+-0x1f15*0x1+0x1f97*0x1)],_0x2475c9[_0x248b0f+(0xb*-0x47+0x59*-0x4d+0x1*0x1ddb)],_0x4895ad['x']),_0x4895ad['y']=_0x467215(_0x2475c9[_0x248b0f+(-0xc*-0x109+0x68e+-0x3*0x651)],_0x2475c9[_0x248b0f+(-0x6b1*-0x1+0x8*0x1f+-0x1*0x79f)],_0x4895ad['y']),_0x4895ad['z']=_0x467215(_0x2475c9[_0x248b0f+(0x1fd*0xd+-0x10af+-0x922)],_0x2475c9[_0x248b0f+(-0x1592*-0x1+0xb7e+0x4f*-0x6b)],_0x4895ad['z'])),_0x46ef2a&&(_0x28c906(_0x46ef2a,_0x3336e4[_0x33e2f9*_0x272cea+(0x495+0x2c4*-0x5+0x942)]),_0x3c65c9>-0x16a7+-0x1c5d*0x1+0x3310&&(_0x46ef2a['x']=_0x467215(_0x2475c9[_0x248b0f+(-0xd54+0x891*0x2+0x25*-0x1a)],_0x2475c9[_0x248b0f+(-0x23ea+0x153*0x2+0x2153)],_0x46ef2a['x']),_0x46ef2a['y']=_0x467215(_0x2475c9[_0x248b0f+(0x116c+0xe*0xed+-0x1e55*0x1)],_0x2475c9[_0x248b0f+(0x3e*0x91+-0xac8+0xc23*-0x2)],_0x46ef2a['y']),_0x46ef2a['z']=_0x467215(_0x2475c9[_0x248b0f+(-0x1fdc+0x609+-0x19e1*-0x1)],_0x2475c9[_0x248b0f+(-0x185*-0x13+0x1bb1+-0x387f)],_0x46ef2a['z']))),_0x37ea03&&(_0xe44f26(_0x37ea03,_0x3336e4[_0x33e2f9*_0x272cea+(0x11*-0x10+-0x2697+0xf*0x2a5)]),_0x37ea03['x']=_0x467215(_0x2475c9[_0x248b0f+(-0xf1*-0xd+0x12*-0x35+-0x871)],_0x2475c9[_0x248b0f+(-0x2ea*0xd+-0x1a20+0x4017)],_0x37ea03['x']),_0x37ea03['y']=_0x467215(_0x2475c9[_0x248b0f+(0x641+0x2484+-0x88a*0x5)],_0x2475c9[_0x248b0f+(-0xac0+0x6bb*0x1+0x41b)],_0x37ea03['y']),_0x37ea03['z']=_0x467215(_0x2475c9[_0x248b0f+(-0x5e+0x17da+0x6b*-0x38)],_0x2475c9[_0x248b0f+(-0xa38*-0x3+0x996+-0x2827)],_0x37ea03['z'])),_0x1ba3e&&(_0xe44f26(_0x1ba3e,_0x3336e4[_0x33e2f9*_0x272cea+(-0x683*0x1+-0x1ea9+0x2531)]),_0x1ba3e['x']=_0x467215(_0x2475c9[_0x248b0f+(-0x48f+0x17e6+-0x133f*0x1)],_0x2475c9[_0x248b0f+(-0x2*-0x2a7+0x2666+-0x3*0xe89)],_0x1ba3e['x']),_0x1ba3e['y']=_0x467215(_0x2475c9[_0x248b0f+(0x19bb+-0x1*-0x962+-0x2303*0x1)],_0x2475c9[_0x248b0f+(-0xd01+0xf*-0x287+-0x1*-0x3305)],_0x1ba3e['y'])),_0x366a42&&_0x309718>-0x185+0x1275+0x2*-0x878){const _0x31edfa=[_0x2858f5,_0x2b6e5f,_0x5da7d0];for(let _0x4ac8dc=0x1035*0x1+0x6*0x589+-0x316b;_0x4ac8dc<0x56d+0x1eb2+-0x241c*0x1;++_0x4ac8dc)for(let _0x427759=0x83*0x3a+-0x39*-0x21+-0x2507*0x1;_0x427759<-0x2dd*-0xd+-0xdff*-0x2+0x15b8*-0x3;++_0x427759)_0x366a42[_0x4ac8dc*(-0x239*0xd+0x1b1*0x17+-0x9f3)+_0x427759]=_0x427759<_0x1027e4?_0x31edfa[_0x4ac8dc][_0x33e2f9*(0x12c4+0x9e7+-0x1c9b)+_0x427759]*((0x22d*-0x6+0x2345+-0x162f)/(-0x4*0x6a3+0x1*-0xa3d+0x2*0x12e4))-(0x1e6a+-0x1985+-0x4e1):-0x6d2*-0x1+-0x16fd*-0x1+-0x1dcf*0x1;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x3883ec,_0x58e4f0,_0x11e56d,_0x170f54,_0xbe6659,_0x423cc1,_0x5f1a1a){return new rk(this,_0x3883ec,_0x58e4f0,_0x11e56d,_0x170f54,_0xbe6659,_0x423cc1,_0x5f1a1a);}['calcAabb'](_0x126263){const {chunkData:_0x23b31a,numChunks:_0x48cfb5,chunkSize:_0x28441f}=this;let _0x575e5d=Math['exp'](Math['max'](_0x23b31a[0x3e5*-0x1+-0x1fe3+0x23d1],_0x23b31a[0x6a5+-0x113d*-0x1+-0x17d8],_0x23b31a[0x229*-0x1+-0x214c+-0x238*-0x10])),_0x22adaf=_0x23b31a[0x12bb*-0x1+-0xa*-0x257+-0x4ab]-_0x575e5d,_0x67099a=_0x23b31a[0xcfc+-0x4*-0x617+-0x2557]-_0x575e5d,_0x12c185=_0x23b31a[-0x512+-0x94*-0x26+-0x10e4]-_0x575e5d,_0x40cd62=_0x23b31a[0x1feb*-0x1+-0x20dd+-0x40cb*-0x1]+_0x575e5d,_0x2237f3=_0x23b31a[-0x24ad+0x13d*0x4+-0x659*-0x5]+_0x575e5d,_0x395cd6=_0x23b31a[0xc57*-0x3+0x2631+-0x127]+_0x575e5d;for(let _0x36a89a=0x793+0x12*-0x3e+-0x336;_0x36a89a<_0x48cfb5;++_0x36a89a){const _0x36ba21=_0x36a89a*_0x28441f;_0x575e5d=Math['exp'](Math['max'](_0x23b31a[_0x36ba21+(-0x3a*-0x8a+0x851*0x1+-0x2*0x13c6)],_0x23b31a[_0x36ba21+(-0xf38*0x2+-0x2f6+0x2170)],_0x23b31a[_0x36ba21+(0x2136+0x13b1*0x1+-0x34dc)])),_0x22adaf=Math['min'](_0x22adaf,_0x23b31a[_0x36ba21+(0xf6b+-0x46d+0x6*-0x1d5)]-_0x575e5d),_0x67099a=Math['min'](_0x67099a,_0x23b31a[_0x36ba21+(0xa5e*0x1+-0x252d+-0x58*-0x4e)]-_0x575e5d),_0x12c185=Math['min'](_0x12c185,_0x23b31a[_0x36ba21+(-0x11*-0x13+0x15c7+-0x1708)]-_0x575e5d),_0x40cd62=Math['max'](_0x40cd62,_0x23b31a[_0x36ba21+(-0x18e*0x6+0x8bb+0x9c)]+_0x575e5d),_0x2237f3=Math['max'](_0x2237f3,_0x23b31a[_0x36ba21+(0x168+-0x2572+0x240e)]+_0x575e5d),_0x395cd6=Math['max'](_0x395cd6,_0x23b31a[_0x36ba21+(-0x1849*0x1+-0x52*-0xb+0x14c8)]+_0x575e5d);}return _0x126263['center']['set']((_0x22adaf+_0x40cd62)*(-0x1073+0x40+0x1033+0.5),(_0x67099a+_0x2237f3)*(-0x1acc+-0x1fdf+-0x17*-0x28d+0.5),(_0x12c185+_0x395cd6)*(-0x146*0xb+0x1*-0x144+0xf46+0.5)),_0x126263['halfExtent'+'s']['set']((_0x40cd62-_0x22adaf)*(0x179f+0x24ac*-0x1+-0x101*-0xd+0.5),(_0x2237f3-_0x67099a)*(0x706+0x1245*-0x1+-0xb3f*-0x1+0.5),(_0x395cd6-_0x12c185)*(-0xcf5*-0x3+-0x8*0xdc+-0x1*0x1fff+0.5)),!(-0x4c*-0x70+0x1*-0x158d+-0xbb3*0x1);}['getCenters'](_0x1db034){const {vertexData:_0x505a3c,chunkData:_0x47fec2,numChunks:_0x13454e,chunkSize:_0x443091}=this;let _0x26c4db,_0x4884c4,_0x4d1a7b,_0xde4dc3,_0xa0c9fd,_0x29ce82;for(let _0x1bff73=-0x1cb4+-0x265e+0x4312;_0x1bff73<_0x13454e;++_0x1bff73){const _0x4f011f=_0x1bff73*_0x443091;_0x26c4db=_0x47fec2[_0x4f011f+(-0x1f29*-0x1+-0x17*-0x18e+-0x42eb)],_0x4884c4=_0x47fec2[_0x4f011f+(-0x23d+-0x869*-0x2+0x74a*-0x2)],_0x4d1a7b=_0x47fec2[_0x4f011f+(0x1ee6+0x11*0x131+0x1*-0x3325)],_0xde4dc3=_0x47fec2[_0x4f011f+(0x756*-0x2+-0x1*-0x21cb+-0x131c)],_0xa0c9fd=_0x47fec2[_0x4f011f+(-0x13*0x131+0x1*0xc8b+0xa1c)],_0x29ce82=_0x47fec2[_0x4f011f+(0x10df+0x424*0x8+0x1*-0x31fa)];const _0x49a755=Math['min'](this['numSplats'],(_0x1bff73+(-0x1e3f+0x1*0xe19+-0x5*-0x33b))*(0xdbb+-0x2*-0x1283+-0x31c1));for(let _0x2cf235=_0x1bff73*(-0x15c*-0x1b+-0xd78+0x4*-0x58f);_0x2cf235<_0x49a755;++_0x2cf235){const _0x248490=_0x505a3c[_0x2cf235*(0x1*-0xabf+0x10b3+-0x5*0x130)],_0x2310f7=(_0x248490>>>0x7b9*-0x2+0x26b*0x7+-0x166)/(-0x9db+0x12b+0x10af),_0x5039c0=(_0x248490>>>-0x1c22+-0x18f9+-0x3526*-0x1&-0x6e2+-0x267a+-0x13*-0x299)/(-0x13ba+-0x3*0xc93+0x3d72),_0x9793d4=(_0x248490&0x1fd9+0x212b+-0x52f*0xb)/(-0x675*0x3+-0xb9b*-0x1+0xfc3*0x1);_0x1db034[_0x2cf235*(0x3c+0x1b8b+0x4*-0x6f1)+(-0x7*0x287+-0xcbb+0x1e6c)]=(-0x7a*-0x29+0x43*-0x89+0x1052-_0x2310f7)*_0x26c4db+_0x2310f7*_0xde4dc3,_0x1db034[_0x2cf235*(-0xc5e+0x3*-0x949+0x283c)+(-0xc90+0xb3b*0x1+-0x39*-0x6)]=(-0x1ed6+0xb48+0x138f-_0x5039c0)*_0x4884c4+_0x5039c0*_0xa0c9fd,_0x1db034[_0x2cf235*(0x9*-0x3bb+-0x29*0xe3+0x45f1)+(-0x95+0xc13+0xf5*-0xc)]=(-0x16*0xb+-0x3*-0x5f2+-0x5a1*0x3-_0x9793d4)*_0x4d1a7b+_0x9793d4*_0x29ce82;}}}['getChunks'](_0x4502a0){const {chunkData:_0x531c78,numChunks:_0x464be2,chunkSize:_0x467759}=this;let _0x5db01d,_0x2980b7,_0x3bee46,_0x23fc5b,_0x187772,_0x380b7d;for(let _0x5dfd70=-0x2295+-0xcd*-0x1e+-0xa8f*-0x1;_0x5dfd70<_0x464be2;++_0x5dfd70){const _0x268267=_0x5dfd70*_0x467759;_0x5db01d=_0x531c78[_0x268267+(-0x232+-0x1*-0x1315+0x10e3*-0x1)],_0x2980b7=_0x531c78[_0x268267+(-0x4c6+-0x1a74+0xa69*0x3)],_0x3bee46=_0x531c78[_0x268267+(-0x2492+0x3*0x4d3+0x161b*0x1)],_0x23fc5b=_0x531c78[_0x268267+(-0x1c33+0x1d3d+0x1*-0x107)],_0x187772=_0x531c78[_0x268267+(0x113*0xa+0x23cc+-0x2e86)],_0x380b7d=_0x531c78[_0x268267+(0x13b4+0x19e5+-0x2d94)],_0x4502a0[_0x5dfd70*(-0x807+0x22e3*-0x1+0x2af0)+(0x1*0x11ed+-0x1c3*0x6+0x7*-0x10d)]=_0x5db01d,_0x4502a0[_0x5dfd70*(-0xf4f+-0x617*0x4+-0x9*-0x469)+(0x2377+-0x215f*0x1+-0x217)]=_0x2980b7,_0x4502a0[_0x5dfd70*(0xec*0x9+0x91*-0x31+-0x1*-0x137b)+(-0x1*0x746+-0x500+-0x8*-0x189)]=_0x3bee46,_0x4502a0[_0x5dfd70*(0x1c2f+0x15b*0x9+-0x6ba*0x6)+(0x10be*0x2+0xe80+0x2ff9*-0x1)]=_0x23fc5b,_0x4502a0[_0x5dfd70*(0x7a5*0x1+0x1cf0+-0x248f*0x1)+(0x633+0xe1*0x13+0xca*-0x1d)]=_0x187772,_0x4502a0[_0x5dfd70*(-0x1*0xa7a+0x2*0xfd+0x443*0x2)+(-0x367*-0x3+-0x360+-0x6d*0x10)]=_0x380b7d;}}['calcFocalP'+'oint'](_0x4b1eff){const {chunkData:_0x5321d0,numChunks:_0x3d310d,chunkSize:_0x1af03f}=this;_0x4b1eff['x']=0xb*-0x317+0x1*-0x189b+0x3a98,_0x4b1eff['y']=0x4f9+-0x1a40+-0x1547*-0x1,_0x4b1eff['z']=0x78d+-0x607+0x1a*-0xf;for(let _0x1d127f=0x14d*-0x4+0xfb*-0x12+0x1e*0xc3;_0x1d127f<_0x3d310d;++_0x1d127f){const _0x3f3dad=_0x1d127f*_0x1af03f;_0x4b1eff['x']+=_0x5321d0[_0x3f3dad+(-0x1ff6+-0x24be+-0x4*-0x112d)]+_0x5321d0[_0x3f3dad+(-0x24e5*0x1+-0x12b*-0x1f+0xb3)],_0x4b1eff['y']+=_0x5321d0[_0x3f3dad+(-0x6c5*0x1+-0x510+0x1f9*0x6)]+_0x5321d0[_0x3f3dad+(0x24bc+-0x7f*0x1f+-0x1557)],_0x4b1eff['z']+=_0x5321d0[_0x3f3dad+(0x107*0x11+0x1*0x7d1+-0x50e*0x5)]+_0x5321d0[_0x3f3dad+(0x1*-0x1097+-0x1*-0x2417+-0x137b)];}_0x4b1eff['mulScalar']((0x9c3+-0x5d6*-0x1+-0xf99*0x1+0.5)/_0x3d310d);}get['isCompress'+'ed'](){return!(-0x1*-0x2548+-0x1883+-0xcc5);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1e3e+0xf1b+-0x1cb*-0x9));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x554f30=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x407fdd}=this;if(_0x407fdd>-0x1f6e+0x2*0xbeb+-0xc*-0xa2){const _0x498a9e=[];for(let _0x58fd33=0x2d3+-0x9*0x17+-0x81*0x4;_0x58fd33<0x1581+0x1*-0x26a+0x12*-0x10d;++_0x58fd33)_0x498a9e['push']('f_rest_'+_0x58fd33);_0x554f30['splice'](_0x554f30['indexOf']('f_dc_0')+(-0x215*-0xd+-0x6e6+-0x3a*0x59),0x457*0x7+0x4c2+-0x23*0x101,..._0x498a9e);}const _0x5e01e8=new ik();return _0x5e01e8['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x4aa914,_0x2ae003)=>{_0x5e01e8['on']('decompress'+'ed',_0x30d0c8=>{_0x5e01e8['destroy'](),_0x4aa914(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x554f30['map'](_0x43c904=>({'type':'float','name':_0x43c904,'storage':_0x30d0c8[_0x43c904],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x2ebb48='super4d-ca'+'che-v1',_0x3322d7={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x579336=new Uint8Array([0x1dac+0x5*0x41f+-0x109d*0x3,-0x496*0x2+-0x2592+0x2f2a,0x24d2+0x54*-0x74+0x1b7*0x1,0x2*0xf52+-0x496+-0x1a04]),_0x2e2acb=new Uint8Array([0xf3a*-0x1+0x116+-0x25d*-0x6,0x1748+-0x2440+0xd5d*0x1,-0x1e92+0x8ce+-0x6*-0x3b3,0x2691*0x1+-0x1*-0x421+-0x2a4e,-0x15*0x9e+-0xa56+0x17ab,-0x1*0x1273+0x185b+-0x580,-0x8*0x183+-0x6aa+0x1327*0x1,0x107*0x22+0x1*0x1234+-0x34c1,-0x21c6+0xfc*0x1a+-0x2*-0x449,-0x1c29*-0x1+-0x131b*0x1+0x8a9*-0x1,0x1515+-0x5*-0xc7+-0x1886,0xe38+-0x23ad+0x157f]),_0x1acbe3=0x1365+-0x3*0xc+0x66b*-0x3+0.28209479177387814,_0x355639=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x641d12{constructor(_0x3ed516={}){this['options']={..._0x3322d7,..._0x3ed516},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x2*0x5ce+-0x8*-0x47f+0x617*-0x4,this['initialize'+'d']=!(0xdcd*-0x1+0x3e*-0x5e+0x2492);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x2ebb48);const _0x44d3d1=await this['cache']['keys'](),_0x1dc5f0=[];for(const _0x1cec5c of _0x44d3d1){const _0x173f48=_0x1cec5c['url'],_0x60be04=await this['cache']['match'](_0x173f48);if(_0x60be04){const _0x5612c7=(await _0x60be04['blob']())['size'],_0x417ac9=_0x60be04['headers']['get']('x-cache-ti'+'me');_0x417ac9&&_0x1dc5f0['push']({'url':_0x173f48,'size':_0x5612c7,'cacheTime':parseInt(_0x417ac9)});}}_0x1dc5f0['sort']((_0x406d3b,_0x4cc356)=>_0x406d3b['cacheTime']-_0x4cc356['cacheTime']);for(const _0x2241d0 of _0x1dc5f0)this['cacheSizes']['set'](_0x2241d0['url'],_0x2241d0['size']),this['currentSiz'+'e']+=_0x2241d0['size'],this['lruList']['push'](_0x2241d0['url']);}catch(_0x4365cd){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x4365cd);}this['initialize'+'d']=!(-0xa*0x189+0x11b1+-0x257);}}async['get'](_0x2cbe8b){if(await this['init'](),!this['cache'])return null;try{const _0x444156=await this['cache']['match'](_0x2cbe8b);if(!_0x444156)return null;const _0xda4889=_0x444156['headers']['get']('x-cache-ti'+'me');return _0xda4889&&Date['now']()-parseInt(_0xda4889)>this['options']['maxAge']?(await this['delete'](_0x2cbe8b),null):(this['updateLRU'](_0x2cbe8b),_0x444156);}catch{return null;}}async['set'](_0x2a094e,_0x7279a7){if(!(!this['cache']||_0x2a094e['startsWith']('blob:')))try{const _0x2c7aaa=_0x7279a7['clone'](),_0x35de87=await _0x2c7aaa['blob'](),_0x44b7c4=_0x35de87['size'];this['currentSiz'+'e']+_0x44b7c4>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x44b7c4);const _0x20e764=new Headers(_0x2c7aaa['headers']);_0x20e764['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x2520f0=new Response(_0x35de87,{'status':_0x2c7aaa['status'],'statusText':_0x2c7aaa['statusText'],'headers':_0x20e764});await this['cache']['put'](_0x2a094e,_0x2520f0),this['cacheSizes']['set'](_0x2a094e,_0x44b7c4),this['currentSiz'+'e']+=_0x44b7c4,this['updateLRU'](_0x2a094e);}catch(_0x502438){console['error']('Cache\x20set\x20'+'error:',_0x502438);}}['updateLRU'](_0x24bc91){const _0x59fbd4=this['lruList']['indexOf'](_0x24bc91);_0x59fbd4>-(0xd88+-0x134f+-0xa*-0x94)&&this['lruList']['splice'](_0x59fbd4,-0x45e*-0x2+0xfdd+-0x1898),this['lruList']['push'](_0x24bc91);}async['cleanupSpa'+'ce'](_0x38617c){const _0x5c07d3=this['options']['maxSize']*(-0x21ed+-0x1*-0x16eb+0xb02+0.9);if(!(this['currentSiz'+'e']<=_0x5c07d3))for(;this['lruList']['length']>0x6*0x2bd+-0x2*-0x1153+-0x4*0xcc5&&this['currentSiz'+'e']>_0x5c07d3;){const _0x3293a0=this['lruList']['shift']();_0x3293a0&&await this['delete'](_0x3293a0);}}async['delete'](_0x1f7416){if(this['cache'])try{await this['cache']['delete'](_0x1f7416);const _0xe002dc=this['cacheSizes']['get'](_0x1f7416)||0x45b+0x2*-0x127b+0x1*0x209b;this['currentSiz'+'e']-=_0xe002dc,this['cacheSizes']['delete'](_0x1f7416);const _0x455e21=this['lruList']['indexOf'](_0x1f7416);_0x455e21>-(-0x117e+0x1d7+0xfa8)&&this['lruList']['splice'](_0x455e21,-0x1*0x2569+0x257d+0x13*-0x1);}catch(_0x2a8126){console['error']('Cache\x20dele'+'te\x20error:',_0x2a8126);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x5a247f=>Promise['all'](_0x5a247f['map'](_0x1bee3c=>{var _0x3cdf17;return(_0x3cdf17=this['cache'])==null?void(-0x1*-0xc83+0x7*-0x3cb+0xe0a):_0x3cdf17['delete'](_0x1bee3c);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x84*-0x49+-0x28*0x2c+-0x1ec4;}catch(_0x4bfca2){console['error']('Cache\x20clea'+'r\x20error:',_0x4bfca2);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x426+0x1279*0x1+0x1*-0xe53;}}class _0x369d6a{constructor(_0xadce33=[],_0x44adfd={}){this['cacheManag'+'er']=new _0x641d12(_0x44adfd['cache']),this['retryCount']=_0x44adfd['retryCount']||-0x1c86+0x1c*0x12f+-0x1*0x49b,this['retryDelay']=_0x44adfd['retryDelay']||0x2*-0x32e+-0x137b+-0x1bcb*-0x1,this['maxConcurr'+'ency']=_0x44adfd['maxConcurr'+'ency']||-0x95+-0x1b14+0x1bab,this['downloadQu'+'eue']=_0xadce33,this['isProcessi'+'ngDownload'+'Queue']=!(-0x46e*0x6+0x3d1+0x16c4),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0xc4b+0x1a1a+0x2665*-0x1);this['downloadQu'+'eue']['length']>0x17*-0x2+0xe5b+-0xe2d;)try{const _0x31898d=this['downloadQu'+'eue']['splice'](0x26f8+0x15cd+-0x3cc5,this['maxConcurr'+'ency'])['map'](_0x365f28=>{if(!this['pendingRes'+'ponses']['has'](_0x365f28)){const _0x5cd465=this['download'](_0x365f28);return this['pendingRes'+'ponses']['set'](_0x365f28,_0x5cd465),_0x5cd465['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x365f28);});}return Promise['resolve']();});await Promise['all'](_0x31898d);}catch(_0x5a82ca){console['error']('Download\x20e'+'rror:',_0x5a82ca);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0xd2b+0x4f*-0x4a+-0xb*-0x346);}}}async['fetch'](_0x5b718e,_0x23b7c3={}){if(this['pendingRes'+'ponses']['has'](_0x5b718e))return this['pendingRes'+'ponses']['get'](_0x5b718e);const {forceRefresh:_0x190ff6=!(-0x3e*-0x28+-0x236e+0x19bf),..._0x4d647a}=_0x23b7c3;this['pendingRes'+'ponses']['set'](_0x5b718e,this['download'](_0x5b718e,_0x4d647a));const _0x2ef49c=await this['pendingRes'+'ponses']['get'](_0x5b718e);return this['pendingRes'+'ponses']['delete'](_0x5b718e),_0x2ef49c;}async['download'](_0x3ee32,_0xcba03={}){var _0x51fc5e;await((_0x51fc5e=this['cacheManag'+'er'])==null?void(-0xc*0x1f0+-0x3*0x115+0x77*0x39):_0x51fc5e['init']());const {forceRefresh:_0x220e6e=!(-0x3*-0x55e+0x1*0xbe1+0x1bfa*-0x1),..._0x53c814}=_0xcba03;_0x220e6e&&await this['cacheManag'+'er']['delete'](_0x3ee32);const _0x1d740=await this['cacheManag'+'er']['get'](_0x3ee32);if(_0x1d740)return _0x1d740;let _0x11137a;for(let _0x27399b=-0x1c4a+0x8a8+0x13a2;_0x27399b<this['retryCount'];_0x27399b++)try{const _0x3e5a92=await fetch(_0x3ee32,_0x53c814);if(!_0x3e5a92['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x3e5a92['status']);return await this['cacheManag'+'er']['set'](_0x3ee32,_0x3e5a92),_0x3e5a92;}catch(_0x4cb446){console['error']('Download\x20e'+'rror:',_0x4cb446),_0x11137a=_0x4cb446,_0x27399b<this['retryCount']-(0x87e+0x211b+-0x16*0x1e4)&&await new Promise(_0x26f9cd=>setTimeout(_0x26f9cd,this['retryDelay']*(_0x27399b+(-0x854+-0x1*0x4+0x1*0x859))));}throw _0x11137a;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x12*-0x1c1+0x6*-0x408+-0x1*-0x37c3),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x3626d1{constructor(){this['numSplats']=-0x1271+-0x585+0x17f6,this['comments']=[],this['chunkData']=new Float32Array(0x1b45+0x153*-0x1+-0x51*0x52),this['vertexData']=new Uint32Array(-0x1cb6+0x181c+-0x3e*-0x13),this['is4D']=!(0x152f*-0x1+0x1517+-0xc*-0x2),this['shBands']=0x249e+-0xb*0xfb+-0x19d5,this['shData0']=new Uint8Array(-0xa6a*-0x2+-0x138e*-0x1+-0x6bb*0x6),this['shData1']=new Uint8Array(0x4ff+-0x2403*-0x1+-0xb5*0x3a),this['shData2']=new Uint8Array(-0x1*0x48d+0xc7c+0x3*-0x2a5),this['elements']=[],this['isCompress'+'ed']=!(0x1fa8+-0x1e88*-0x1+-0x3e30);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x16fb+0xb63*0x1+0xc98));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x4199a0{constructor(_0x955b17,_0x5920eb=[]){this['elements']=_0x955b17,this['comments']=_0x5920eb,this['isCompress'+'ed']=!(-0x1b00+-0x7ed*0x1+0x22ee);}}class _0x2b4758{constructor(_0x404e7a,_0xab74ca){this['reader']=_0x404e7a,this['progressFu'+'nc']=_0xab74ca,this['head']=-0x6*-0xcc+-0x1b1e+0x1656,this['tail']=-0x1c4e+-0x8*-0x35f+0x156;}async['read'](){var _0x2dec1b;const {value:_0x10c64b,done:_0x998d64}=await this['reader']['read']();if(_0x998d64)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x10c64b),(_0x2dec1b=this['progressFu'+'nc'])==null||_0x2dec1b['call'](this,_0x10c64b['byteLength']);}['push'](_0x3fd9d3){if(!this['data'])this['data']=_0x3fd9d3,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x3fd9d3['length'];else{const _0x24131b=this['tail']-this['head'],_0x1b6ec1=_0x24131b+_0x3fd9d3['length'];if(this['data']['length']>=_0x1b6ec1)this['head']>-0x1ab3+0x507+-0x56b*-0x4?(this['data']['copyWithin'](0x839*-0x3+-0x16f*-0x14+-0x401,this['head'],this['tail']),this['data']['set'](_0x3fd9d3,_0x24131b),this['head']=0x23c7+-0x541+-0x1*0x1e86,this['tail']=_0x1b6ec1):(this['data']['set'](_0x3fd9d3,this['tail']),this['tail']+=_0x3fd9d3['length']);else{const _0x4af37e=new Uint8Array(_0x1b6ec1);this['head']>0x763*0x5+-0x11a7+-0x1348||this['tail']<this['data']['length']?_0x4af37e['set'](this['data']['subarray'](this['head'],this['tail']),0x179f+0x274+-0x1a13):_0x4af37e['set'](this['data'],-0x6fe*0x1+0x1080+-0x982),_0x4af37e['set'](_0x3fd9d3,_0x24131b),this['data']=_0x4af37e,this['view']=new DataView(this['data']['buffer']),this['head']=0x1024+-0x818+0xa*-0xce,this['tail']=_0x1b6ec1;}}}['compact'](){this['head']>0x3*0x1b7+0x186e+0x1d93*-0x1&&(this['data']['copyWithin'](-0x13*-0x47+0x3b*-0x43+0xa2c,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x13f6+-0xb*0x47+-0x5a3*0x3);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x4e5a7a=this['view']['getInt8'](this['head']);return this['head']++,_0x4e5a7a;}['getUint8'](){const _0x5b6fe1=this['view']['getUint8'](this['head']);return this['head']++,_0x5b6fe1;}['getInt16'](){const _0x4789d0=this['view']['getInt16'](this['head'],!(0x2*0x123b+0x5af+-0x2a25*0x1));return this['head']+=-0x2288+-0x1*0x2174+0x43fe,_0x4789d0;}['getUint16'](){const _0x4f864b=this['view']['getUint16'](this['head'],!(-0x21c1*0x1+0xa3*0x2c+0x1*0x5bd));return this['head']+=0x2566*0x1+-0x562*-0x2+-0x3028,_0x4f864b;}['getInt32'](){const _0x5b6d99=this['view']['getInt32'](this['head'],!(0x131*-0xb+0x16d*-0xd+0xa2*0x32));return this['head']+=-0x139*-0x2+-0x289*-0x1+-0x4f7,_0x5b6d99;}['getUint32'](){const _0x46dafe=this['view']['getUint32'](this['head'],!(-0xca+0x23d3*0x1+-0x2309*0x1));return this['head']+=0x2462+-0x1344+-0x111a,_0x46dafe;}['getFloat32'](){const _0x3879fe=this['view']['getFloat32'](this['head'],!(-0x114*0x18+-0x23*-0x25+0x14d1));return this['head']+=0x17d8+-0x1336+-0x2*0x24f,_0x3879fe;}['getFloat64'](){const _0x1ec65d=this['view']['getFloat64'](this['head'],!(-0xd*-0x1f5+-0x2090+0x71f));return this['head']+=0x1750+-0xa*0x305+0x6ea,_0x1ec65d;}}class _0x52976d{constructor(_0x2cd366,_0x15a7b8,_0x10be00){this['x']=_0x2cd366,this['y']=_0x15a7b8,this['z']=_0x10be00;}}class _0x1665a3{constructor(_0x4f4929,_0x279c35,_0x126983,_0x3859fa){this['x']=_0x4f4929,this['y']=_0x279c35,this['z']=_0x126983,this['w']=_0x3859fa;}}class _0x48fb8e{constructor(_0x4e322e,_0x22d2c1,_0x2aad55,_0x1fdbb8){this['x']=_0x4e322e,this['y']=_0x22d2c1,this['z']=_0x2aad55,this['w']=_0x1fdbb8;}['set'](_0x2ccc64,_0x5f02f7,_0x25ebbc,_0x5ba59f){this['x']=_0x2ccc64,this['y']=_0x5f02f7,this['z']=_0x25ebbc,this['w']=_0x5ba59f;}}class _0x55cfb5{constructor(_0x46e935,_0x299345,_0x445e46,_0x5b86ee,_0xd1f334,_0x47026f,_0x3cd6b6,_0x39d991,_0x33b59c,_0x423c2c,_0x4cfb71,_0x204809,_0x129613,_0x44be70){const _0x508a62=(_0x24a412,_0x170c58)=>{const _0x9ca185=(-0xb27*-0x3+-0x263*-0x10+-0x20c*0x23<<_0x170c58)-(0x2475+0x902+0x2e*-0xfd);return(_0x24a412&_0x9ca185)/_0x9ca185;},_0x5879f1=(_0x44921b,_0xfcda9a)=>{_0x44921b['x']=_0x508a62(_0xfcda9a>>>0x67*0x1f+0x130b+0x1f6f*-0x1,0x1fda+-0x39c+-0x1c33*0x1),_0x44921b['y']=_0x508a62(_0xfcda9a>>>0x42*0x1f+-0xdbe+-0x5cb*-0x1,-0x1*-0xb51+0x102*-0xd+0x1d3),_0x44921b['z']=_0x508a62(_0xfcda9a,-0xfcd+-0xa11*0x3+0x2e0b);},_0xa86729=(_0x5b8d05,_0x7fa6ee)=>{_0x5b8d05['x']=_0x508a62(_0x7fa6ee>>>0x22f7+0x1*-0x1f6b+-0x22*0x1a,-0x906+0xa03+0x7*-0x23),_0x5b8d05['y']=_0x508a62(_0x7fa6ee>>>0x3*-0x343+0x394*-0xa+0x2da1,0x5b*-0x29+-0x8*0x30d+0x2703),_0x5b8d05['z']=_0x508a62(_0x7fa6ee>>>0x2177+-0x1*-0x1f99+-0x4108,-0x107*0x13+0x7de+0xbaf),_0x5b8d05['w']=_0x508a62(_0x7fa6ee,-0xf6d+0x262f+-0x16ba);},_0x5ca823=(_0x510b83,_0x9493c9)=>{const _0x1a232e=(-0x1e1a+-0xa6*-0x19+0xde5)/(Math['sqrt'](-0xbd7+0x3*-0x949+0x27b4)*(0x2fc+-0x6ef*-0x1+-0x9eb+0.5)),_0x3be83c=(_0x508a62(_0x9493c9>>>0x1ad3+0x52e*-0x6+0x455,0x5b1+-0x1808+0x5*0x3ad)-(0x40a+0x1069+0x15d*-0xf+0.5))*_0x1a232e,_0x4fdc44=(_0x508a62(_0x9493c9>>>-0xa*0x35d+-0x24e4+0x4690,0x1ffc+-0x2699*0x1+0x6a7)-(0x1d9d+-0xc86+0x36b*-0x5+0.5))*_0x1a232e,_0x31596f=(_0x508a62(_0x9493c9,-0x15f7*-0x1+0x641+-0x1c2e)-(0x97d+-0x4*0x599+0xce7+0.5))*_0x1a232e,_0x2f60bd=Math['sqrt'](-0x25f*-0xb+0x1*0x171+-0x1b85-(_0x3be83c*_0x3be83c+_0x4fdc44*_0x4fdc44+_0x31596f*_0x31596f));switch(_0x9493c9>>>-0x158e+0x22fc+-0xd50){case-0x2c8*-0xd+0x3d*0x68+-0x186*0x28:_0x510b83['set'](_0x3be83c,_0x4fdc44,_0x31596f,_0x2f60bd);break;case-0x22fe+0x7*0x461+0x458:_0x510b83['set'](_0x2f60bd,_0x4fdc44,_0x31596f,_0x3be83c);break;case 0x1e7*0x3+0x9b2+-0xf65:_0x510b83['set'](_0x4fdc44,_0x2f60bd,_0x31596f,_0x3be83c);break;case-0x57*-0x65+0x41b+-0x266b:_0x510b83['set'](_0x4fdc44,_0x31596f,_0x2f60bd,_0x3be83c);break;}},_0x2e337a=(_0x315f39,_0xdab2b7,_0x5ebaf9)=>_0x315f39*(-0x18bb+0xd83+0xd*0xdd-_0x5ebaf9)+_0xdab2b7*_0x5ebaf9,_0x4e8ac6=[-0x383*0x4+0x80f+0x600,0x22e6*0x1+0x1d17+-0x1*0x3ff5,0x49*0xd+-0x19e1*0x1+0x3*0x769][_0x3cd6b6-(0x668+-0x6b+-0x2fe*0x2)],_0x13d84f=-0x263c+0xce7+-0x195b*-0x1;this['read']=_0x39f491=>{const _0x25702e=Math['floor'](_0x39f491/(0x7b9+-0x1101+0xa48))*_0x299345;if(_0x39d991&&(_0x5879f1(_0x39d991,_0x445e46[_0x39f491*_0x13d84f+(0x23a9+0x19a9+-0x2*0x1ea9)]),_0x39d991['x']=_0x2e337a(_0x46e935[_0x25702e+(0x1884+0x1dea*-0x1+-0x2*-0x2b3)],_0x46e935[_0x25702e+(-0x1*-0x160f+-0x4d*0x55+0x385)],_0x39d991['x']),_0x39d991['y']=_0x2e337a(_0x46e935[_0x25702e+(0x1e37+-0x13*0x50+-0x1*0x1846)],_0x46e935[_0x25702e+(0x11d9+0x24ca+-0x369f)],_0x39d991['y']),_0x39d991['z']=_0x2e337a(_0x46e935[_0x25702e+(-0x2111*0x1+0x1*0x2565+-0xe*0x4f)],_0x46e935[_0x25702e+(-0x4*-0x29c+-0x1808+0xd9d)],_0x39d991['z'])),_0x33b59c&&_0x5ca823(_0x33b59c,_0x445e46[_0x39f491*_0x13d84f+(0x5*-0x577+-0x1e7+-0x1d3b*-0x1)]),_0x423c2c&&(_0x5879f1(_0x423c2c,_0x445e46[_0x39f491*_0x13d84f+(-0x211d+0x5d*0x29+-0x2*-0x91d)]),_0x423c2c['x']=_0x2e337a(_0x46e935[_0x25702e+(-0x2131+0x2*0x12a4+-0x411*0x1)],_0x46e935[_0x25702e+(-0x128f+-0x3f3+0x1d*0xc7)],_0x423c2c['x']),_0x423c2c['y']=_0x2e337a(_0x46e935[_0x25702e+(-0xab*-0xb+-0x1256+0x14*0x8d)],_0x46e935[_0x25702e+(0xf85*0x2+0x13a6+0x3*-0x10e2)],_0x423c2c['y']),_0x423c2c['z']=_0x2e337a(_0x46e935[_0x25702e+(-0x1f98+0xf8c+0x1014)],_0x46e935[_0x25702e+(-0x26d0+-0x24e6*-0x1+0x1f5)],_0x423c2c['z'])),_0x4cfb71&&(_0xa86729(_0x4cfb71,_0x445e46[_0x39f491*_0x13d84f+(0x224f+-0x230+-0x14*0x19b)]),_0x299345>-0x4db+0x3cc*0x1+0x11b&&(_0x4cfb71['x']=_0x2e337a(_0x46e935[_0x25702e+(0x2707+0x1627+-0x3d22)],_0x46e935[_0x25702e+(-0x11c4*0x1+-0x3*0xa46+0x30a5)],_0x4cfb71['x']),_0x4cfb71['y']=_0x2e337a(_0x46e935[_0x25702e+(0x2656+0x73*0x17+-0x6f2*0x7)],_0x46e935[_0x25702e+(0x43*-0xd+-0x1*0x6ea+-0x1*-0xa61)],_0x4cfb71['y']),_0x4cfb71['z']=_0x2e337a(_0x46e935[_0x25702e+(-0x24eb*0x1+0x1*0x4fc+0x1*0x1ffd)],_0x46e935[_0x25702e+(0xd*0x232+0x1e96+-0x1*0x3b0f)],_0x4cfb71['z']))),_0x204809&&(_0x5879f1(_0x204809,_0x445e46[_0x39f491*_0x13d84f+(-0x2491+0x1341*-0x2+0x4b17)]),_0x204809['x']=_0x2e337a(_0x46e935[_0x25702e+(-0x1c3+-0xbf*0x4+0x4d1)],_0x46e935[_0x25702e+(-0xab5+0x2318*-0x1+-0x16f1*-0x2)],_0x204809['x']),_0x204809['y']=_0x2e337a(_0x46e935[_0x25702e+(0x19*0x149+0x206e+-0x101f*0x4)],_0x46e935[_0x25702e+(0x1*-0x205b+0x221d*0x1+-0x1ac*0x1)],_0x204809['y']),_0x204809['z']=_0x2e337a(_0x46e935[_0x25702e+(-0x1c69+-0x1ad0+0x9*0x625)],_0x46e935[_0x25702e+(0x20d5+-0x21e9*0x1+-0x17*-0xd)],_0x204809['z'])),_0x129613&&(_0x5879f1(_0x129613,_0x445e46[_0x39f491*_0x13d84f+(0x270b*0x1+-0xc*0x1a5+-0x9a5*0x2)]),_0x129613['x']=_0x2e337a(_0x46e935[_0x25702e+(-0x421+-0xa2b+0xe64)],_0x46e935[_0x25702e+(0x2457*-0x1+0xef1+-0x157f*-0x1)],_0x129613['x']),_0x129613['y']=_0x2e337a(_0x46e935[_0x25702e+(0xa0f+-0x17*-0x9e+-0x1b*0xe5)],_0x46e935[_0x25702e+(0x26f3*0x1+-0x23d9+-0x2ff*0x1)],_0x129613['y'])),_0x44be70&&_0x3cd6b6>0x3*-0x62e+0x117f*-0x1+-0x29*-0xe1){const _0x2a1ca7=[_0x5b86ee,_0xd1f334,_0x47026f];for(let _0x3e8ed9=0xe5a*0x2+0x243a+-0x2077*0x2;_0x3e8ed9<0x2*0x10a3+0x1e9d*-0x1+-0x2a6;++_0x3e8ed9)for(let _0x19cc63=0x5*0x3a6+-0x14b*-0x4+0x3e7*-0x6;_0x19cc63<-0x9*0x241+-0x20c3+0x5*0xa9f;++_0x19cc63)_0x44be70[_0x3e8ed9*(-0x1698+0x1f03+-0x85c)+_0x19cc63]=_0x19cc63<_0x4e8ac6?_0x2a1ca7[_0x3e8ed9][_0x39f491*(-0xc6+-0x2*-0x1155+-0x10ea*0x2)+_0x19cc63]*((-0x2*-0xb5+0xa36+-0xb98)/(-0x8*0x394+0x646+0x8b*0x2b))-(-0x7*0x561+0x4*-0xc9+0x28cf):-0x13e*-0x13+-0x969+0x1*-0xe31;}};}}self['onmessage']=async _0x34e351=>{var _0x10a098,_0x45138c,_0x3fe996;const {data:_0x43ac40}=_0x34e351;switch(_0x43ac40['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x43ac40['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x369d6a(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x10a098=globalThis['fetchWorke'+'r'])==null||_0x10a098['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x348d74,decompress:_0x453fd9}=_0x43ac40;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x369d6a(globalThis['loadUrlLis'+'t']));const _0x4aa4f4=await globalThis['fetchWorke'+'r']['fetch'](_0x348d74);if(!_0x4aa4f4||!_0x4aa4f4['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x348d74});else{const _0x107f0e=parseInt(_0x4aa4f4['headers']['get']('content-le'+'ngth')??'0',-0x3*-0x55f+-0x700+-0x913*0x1);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x107f0e,'bytes':0x0,'url':_0x348d74});let _0xfda9cc=await _0x4d903b(_0x4aa4f4['body']['getReader'](),_0x4f1f96=>{self['postMessag'+'e']({'type':'progress','bytes':_0x4f1f96,'totalLength':_0x107f0e,'url':_0x348d74});});if(_0x453fd9&&_0xfda9cc['isCompress'+'ed']){const _0x157981=_0x319179(_0xfda9cc),_0x16d417=(_0x45138c=_0x157981==null?void(0x1*-0x48f+0xdf1+0x4b1*-0x2):_0x157981['elements'][0x6a*0x41+0x110d+-0x2bf7])==null?void(-0x1*0x75d+-0x789+0xee6):_0x45138c['properties']['map'](_0x268291=>_0x268291['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x157981,'url':_0x348d74},_0x16d417);}else{if(_0xfda9cc['isCompress'+'ed']){const _0x2bba73=['chunkData','vertexData'];_0xfda9cc['shData0']&&_0x2bba73['push']('shData0','shData1','shData2');const _0x121eb1=_0x2bba73['map'](_0x31279c=>{var _0x30f7ca;return(_0x30f7ca=_0xfda9cc[_0x31279c])==null?void(-0x457*0x7+0x1724+-0x6d*-0x11):_0x30f7ca['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0xfda9cc,'url':_0x348d74},_0x121eb1);}else{_0xfda9cc=_0x1fdae2(_0xfda9cc);const _0x5b9662=(_0x3fe996=_0xfda9cc==null?void(-0x19a6+-0x14f8+0x4e*0x99):_0xfda9cc['elements'][0xe5a+-0x809+-0x651])==null?void(-0x19c7+-0x1*-0x10f3+0x1c4*0x5):_0x3fe996['properties']['map'](_0x416b43=>_0x416b43['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0xfda9cc,'url':_0x348d74},_0x5b9662);}}}}catch(_0x14a6a1){self['postMessag'+'e']({'type':'error','data':_0x14a6a1['message'],'url':_0x348d74});}break;}};const _0x1fdae2=_0x4dc7a1=>{var _0x5488a2;const _0x21e962=(_0x5488a2=_0x4dc7a1==null?void(0x3*-0x3f1+0x1317*-0x1+0x1eea):_0x4dc7a1['elements'][-0x1*-0x275+0x11*0x25+0x1*-0x4ea])==null?void(-0xd*-0x33+-0x7ba+-0x523*-0x1):_0x5488a2['properties']['find'](_0x329d79=>_0x329d79['name']==='opacity');if(_0x21e962){for(let _0x4d59e7=-0xeb8+-0x1723+0x25db;_0x4d59e7<_0x21e962['storage']['length'];_0x4d59e7++)_0x21e962['storage'][_0x4d59e7]=(0x956+0x78d*0x2+-0xf*0x1a1)/(-0xcc9+0x2*0xfef+-0x98a*0x2+Math['exp'](-_0x21e962['storage'][_0x4d59e7]));}return _0x4dc7a1;},_0x2d0872=_0x2ad425=>{const _0x202784=[],_0x6d256d=[];let _0xeb5ccf;for(let _0xfe1dfa=0x10af*0x1+0x3*-0xc8+0x2*-0x72b;_0xfe1dfa<_0x2ad425['length'];++_0xfe1dfa){const _0x3ab782=_0x2ad425[_0xfe1dfa]['split']('\x20');switch(_0x3ab782[-0x1ac2+-0x1e89*0x1+0x394b]){case'comment':_0x6d256d['push'](_0x3ab782['slice'](0x1*-0x1199+0x1*-0x1297+0x221*0x11)['join']('\x20'));break;case'format':_0xeb5ccf=_0x3ab782[-0x5bf*-0x6+-0x9a*0xe+-0x1a0d];break;case'element':_0x202784['push']({'name':_0x3ab782[-0x2229+-0x1*-0x216f+0xbb*0x1],'count':parseInt(_0x3ab782[0x24a6+0xb47+0x9*-0x553],-0x3*0xa21+-0x4c3*0x2+-0x5b5*-0x7),'properties':[]});break;case'property':{if(!_0x355639['has'](_0x3ab782[-0x808+-0x11e7+0x19f0]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x3ab782[0x10c1*0x2+-0x198a*-0x1+0xbcf*-0x5]+('\x27\x20in\x20ply\x20h'+'eader'));_0x202784[_0x202784['length']-(0x4cf*0x5+0x8b9+0x20c3*-0x1)]['properties']['push']({'type':_0x3ab782[-0xc13+-0x135*0xd+0x1bc5],'name':_0x3ab782[-0x2052+0xf8a+-0x7*-0x266],'storage':null,'byteSize':_0x355639['get'](_0x3ab782[-0x1*-0x172a+-0x224b+0xb22])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x3ab782[0xa+-0x1*0x7ac+0x7a2]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x202784,'format':_0xeb5ccf,'comments':_0x6d256d};},_0x1033a0=_0x48b0d1=>{const _0x8f9409=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x5be3e5=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5136cf=new Array(-0x50*-0x11+-0x24c9+0x1fa6*0x1)['fill']('')['map']((_0x3241c6,_0x523bff)=>'f_rest_'+_0x523bff),_0x51b2bb=()=>_0x48b0d1[0x1*0x1c3d+-0x1a2c+-0x17*0x17]['name']==='chunk'&&_0x48b0d1[0x376+0x18a8+-0x1c1e]['properties']['every']((_0x201f3b,_0x5cf256)=>_0x201f3b['name']===_0x8f9409[_0x5cf256]&&_0x201f3b['type']==='float')&&_0x48b0d1[0x12d1+-0x1ce9+0x5*0x205]['name']==='vertex'&&_0x48b0d1[-0x17*-0xbf+-0x456+-0x446*0x3]['properties']['every']((_0x3c1504,_0x155892)=>_0x3c1504['name']===_0x5be3e5[_0x155892]&&_0x3c1504['type']==='uint'),_0x3ce7e5=()=>_0x48b0d1[0xa33+0xef1+-0x1922]['name']==='sh'&&[0x17d*-0x15+-0x3a*0x5+-0x33e*-0xa,0x1*-0x2+-0x1431*0x1+0x144b,0xad6+0xc19*0x1+-0x16c2]['indexOf'](_0x48b0d1[0x18de+0x1706+0x6*-0x7fb]['properties']['length'])!==-(-0x1728+0x198a+-0x261)&&_0x48b0d1[0x1b3b*-0x1+-0x1b2*-0x3+-0x1*-0x1627]['properties']['every']((_0x553e7d,_0x5759a9)=>_0x553e7d['name']===_0x5136cf[_0x5759a9]&&_0x553e7d['type']==='uchar');return _0x48b0d1['length']===-0x23b+0x1699+-0xa2e*0x2&&_0x51b2bb()||_0x48b0d1['length']===0x142d+-0x119+-0x65b*0x3&&_0x51b2bb()&&_0x3ce7e5();},_0x31d133=_0x5395c5=>_0x5395c5['length']===-0x1836+0x1676+0x1c1&&_0x5395c5[-0xb*0x21d+-0x1e7f+-0x6*-0x8f5]['name']==='vertex'&&_0x5395c5[-0xb*0x9d+-0x5e0+0xc9f]['properties']['every'](_0x45b35b=>_0x45b35b['type']==='float'),_0x332f6f=async(_0x1e143c,_0x2dad21,_0x5eb2e7)=>{const _0x40ef3a=new _0x3626d1();_0x40ef3a['comments']=_0x5eb2e7;const _0x3dbf5f=_0x2dad21[-0x14*-0x11b+0x209f*-0x1+0xa83]['count'],_0x2605d2=_0x2dad21[0x177f+0x249a+0x5*-0xc05]['properties']['length'],_0x1f8e5c=_0x2dad21[-0x158e+-0x2*-0x4cd+0xbf5]['count'],_0x18bac6=_0x2dad21[0x24ed+-0x1f66+-0xca*0x7]['properties']['some'](_0x6eab8e=>_0x6eab8e['name']==='packed_tim'+'e'),_0x4e0f14=(_0x280c0b=>{const _0x2ee09e=Math['ceil'](Math['sqrt'](_0x280c0b)),_0x2c276d=Math['ceil'](_0x280c0b/_0x2ee09e);return _0x2ee09e*_0x2c276d;})(_0x1f8e5c);_0x40ef3a['numSplats']=_0x1f8e5c,_0x40ef3a['is4D']=_0x18bac6,_0x40ef3a['chunkData']=new Float32Array(_0x3dbf5f*_0x2605d2),_0x40ef3a['vertexData']=new Uint32Array(_0x4e0f14*(-0x1321+0x1a46+-0x71f));const _0x5941ab=async(_0x5402a6,_0x496a68)=>{const _0x1a4325=new Uint8Array(_0x5402a6);let _0x333056=0x1ee9+0xc2*0x17+0x7d*-0x63;for(;_0x333056<_0x496a68;){for(;_0x1e143c['remaining']===-0x778+-0x1*-0xa97+-0x31f;)await _0x1e143c['read']();const _0x1c24cf=Math['min'](_0x496a68-_0x333056,_0x1e143c['remaining']),_0x224b95=_0x1e143c['data'];for(let _0x50a8c2=0x3ce*0x1+-0xdf*-0x1+-0x4ad;_0x50a8c2<_0x1c24cf;++_0x50a8c2)_0x1a4325[_0x333056++]=_0x224b95[_0x1e143c['head']++];}};if(await _0x5941ab(_0x40ef3a['chunkData']['buffer'],_0x3dbf5f*_0x2605d2*(-0x2*0xd62+0x227d+-0x7b5)),await _0x5941ab(_0x40ef3a['vertexData']['buffer'],_0x1f8e5c*(-0x1523+0x35*0xb9+-0x1124)*(0x1*-0x2ce+-0xb03+0x1*0xdd5)),_0x2dad21['length']===-0x1*-0x239d+0x1*-0x254+0x1*-0x2146){const _0x1d922e=_0x4e0f14*(0x1c6e+0x1bfa+0x70b*-0x8),_0x12c19d=new Uint8Array(_0x1d922e),_0x32745e=new Uint8Array(_0x1d922e),_0x177be6=new Uint8Array(_0x1d922e),_0x641cdd=0x1bf4+0xcf*0x2b+0x1*-0x3ab9,_0x11ce56=_0x2dad21[0x1ec6+0x1ed9+-0x3d9d]['properties']['length']/(0x2b*-0x88+0xc17*0x1+0xac4),_0x3f0d2f=new Uint8Array(_0x641cdd*_0x11ce56*(-0x1d07*0x1+-0x2*-0xd94+0x1e2));for(let _0x404690=0x569*0x5+-0x13fc+0xc9*-0x9;_0x404690<_0x40ef3a['numSplats'];_0x404690+=_0x641cdd){const _0x3b6513=Math['min'](_0x641cdd,_0x40ef3a['numSplats']-_0x404690);await _0x5941ab(_0x3f0d2f['buffer'],_0x3b6513*_0x11ce56*(0xca9*0x1+0x2328+0x2*-0x17e7));for(let _0x67d07b=-0x82b+0x1609+-0x163*0xa;_0x67d07b<_0x3b6513;++_0x67d07b)for(let _0xab85d5=0x6c2*0x4+-0x4b2*-0x4+-0x2dd0;_0xab85d5<0x167e+-0x1276+0x3*-0x153;++_0xab85d5){const _0x4a1e39=(_0x404690+_0x67d07b)*(-0xb*0xf1+-0xc7*0x1+0xb32)+_0xab85d5;_0xab85d5<_0x11ce56?(_0x12c19d[_0x4a1e39]=_0x3f0d2f[(_0x67d07b*(-0x7*0xe5+0x3*-0xe6+0x8f8)+(-0x2135*-0x1+-0x4*-0x7bb+-0x4021))*_0x11ce56+_0xab85d5],_0x32745e[_0x4a1e39]=_0x3f0d2f[(_0x67d07b*(-0x1176+0x1ee5+0x4*-0x35b)+(0x57*0x59+-0x25d2+0x4*0x1e5))*_0x11ce56+_0xab85d5],_0x177be6[_0x4a1e39]=_0x3f0d2f[(_0x67d07b*(0xef1*0x1+-0x1925*-0x1+-0x2813)+(0x2074+-0x5*0x83+-0x1*0x1de3))*_0x11ce56+_0xab85d5]):(_0x12c19d[_0x4a1e39]=-0x176f+-0x7*-0x4+0x17d2,_0x32745e[_0x4a1e39]=-0xf*-0xc8+-0x11c0+0x687,_0x177be6[_0x4a1e39]=-0x192e+-0x463*0x1+-0x250*-0xd);}}_0x40ef3a['shData0']=_0x12c19d,_0x40ef3a['shData1']=_0x32745e,_0x40ef3a['shData2']=_0x177be6,_0x40ef3a['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x11ce56];}else _0x40ef3a['shBands']=-0x5*-0x311+0x8*0xa+0x1*-0xfa5;return _0x40ef3a;},_0x38f611=async(_0x247a01,_0x14885e,_0xa632e7)=>{const _0xb60f92=_0x14885e[-0x1*-0x1fab+-0x1c7f*-0x1+-0x3c2a],_0x13f04a=_0xb60f92['properties'],_0x519d83=_0x13f04a['length'],_0x2b6636=_0x13f04a['map'](_0x487bf1=>_0x487bf1['storage']),_0x45c8fe=_0x13f04a['reduce']((_0x31c48b,_0x511886)=>_0x31c48b+_0x511886['byteSize'],0x1d27+0xbbc*0x1+-0xda1*0x3);let _0xfb7a5=0x2545+-0xd*0x22a+-0x1*0x923,_0x1ec0aa;const _0x571378=()=>{const _0xe569af=_0x247a01['data']['buffer'];(_0x1ec0aa==null?void(-0x4*-0x22c+-0x1864+-0x86*-0x1e):_0x1ec0aa['buffer'])!==_0xe569af&&(_0x1ec0aa=new Float32Array(_0xe569af,-0x1158+-0x5a9+0x1701,_0xe569af['byteLength']/(-0x22a5+-0x2*0x1245+0x4733)));};for(_0x571378();_0xfb7a5<_0xb60f92['count'];){for(;_0x247a01['remaining']<_0x45c8fe;)await _0x247a01['read'](),_0x571378();const _0x3d8f5d=Math['min'](_0xb60f92['count']-_0xfb7a5,Math['floor'](_0x247a01['remaining']/_0x45c8fe));for(let _0x54aad3=0x3*0xb5+0x53*-0x27+0xa86;_0x54aad3<_0x519d83;++_0x54aad3){const _0x23973e=_0x2b6636[_0x54aad3];for(let _0x5e1a89=-0xa*-0x14f+0x179*-0xd+0x60f;_0x5e1a89<_0x3d8f5d;++_0x5e1a89)_0x23973e[_0x5e1a89+_0xfb7a5]=_0x1ec0aa[_0x5e1a89*_0x519d83+_0x54aad3];}_0xfb7a5+=_0x3d8f5d,_0x247a01['head']+=_0x3d8f5d*_0x45c8fe;}return new _0x4199a0(_0x14885e,_0xa632e7);},_0xd433e6=async(_0x7ec343,_0x5ce33d,_0x56eb64)=>{for(let _0xa528f9=-0x505+-0x35c+-0x21*-0x41;_0xa528f9<_0x5ce33d['length'];++_0xa528f9){const _0x5f3bd0=_0x5ce33d[_0xa528f9],_0xa9965a=_0x5f3bd0['properties']['reduce']((_0x5d405a,_0x29384c)=>_0x5d405a+_0x29384c['byteSize'],0x2518+-0x3*-0x50d+-0xa73*0x5),_0xd6f8a9=_0x5f3bd0['properties']['map'](_0x4ad8d3=>{if(_0x4ad8d3['storage'])switch(_0x4ad8d3['type']){case'char':return(_0x5aa9da,_0x38db88)=>{_0x4ad8d3['storage'][_0x38db88]=_0x5aa9da['getInt8']();};case'uchar':return(_0x2dd82d,_0x59a9d4)=>{_0x4ad8d3['storage'][_0x59a9d4]=_0x2dd82d['getUint8']();};case'short':return(_0x441a10,_0x3c083e)=>{_0x4ad8d3['storage'][_0x3c083e]=_0x441a10['getInt16']();};case'ushort':return(_0x461ae2,_0x537cc5)=>{_0x4ad8d3['storage'][_0x537cc5]=_0x461ae2['getUint16']();};case'int':return(_0x24e14f,_0xc1fae0)=>{_0x4ad8d3['storage'][_0xc1fae0]=_0x24e14f['getInt32']();};case'uint':return(_0x517f6d,_0x2784be)=>{_0x4ad8d3['storage'][_0x2784be]=_0x517f6d['getUint32']();};case'float':return(_0x4c7be0,_0x5a3fe3)=>{_0x4ad8d3['storage'][_0x5a3fe3]=_0x4c7be0['getFloat32']();};case'double':return(_0x4c26b3,_0x31f53a)=>{_0x4ad8d3['storage'][_0x31f53a]=_0x4c26b3['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x4ad8d3['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x540bba=>{_0x540bba['head']+=_0x4ad8d3['byteSize'];};});let _0x1a5921=0x3*-0x9e1+-0x95b+0x1*0x26fe;for(;_0x1a5921<_0x5f3bd0['count'];){for(;_0x7ec343['remaining']<_0xa9965a;)await _0x7ec343['read']();const _0x3c444a=Math['min'](_0x5f3bd0['count']-_0x1a5921,Math['floor'](_0x7ec343['remaining']/_0xa9965a));for(let _0xe3c436=0x1e91+0x175d+0x35ee*-0x1;_0xe3c436<_0x3c444a;++_0xe3c436){for(let _0x493f29=0x1*-0xf3a+0x26d5*-0x1+0x360f;_0x493f29<_0x5f3bd0['properties']['length'];++_0x493f29)_0xd6f8a9[_0x493f29](_0x7ec343,_0x1a5921);_0x1a5921++;}}}return new _0x4199a0(_0x5ce33d,_0x56eb64);},_0x4d903b=async(_0x182e86,_0x452aa7=null)=>{const _0x14ac07=(_0x4ec50b,_0x300bae)=>{const _0x257304=_0x4ec50b['length']-_0x300bae['length'];let _0x3edfe9,_0x116bc6;for(_0x3edfe9=0x1*-0x17d3+-0x1fbe*0x1+0x3791;_0x3edfe9<=_0x257304;++_0x3edfe9){for(_0x116bc6=0x26e6+-0x2458+-0xda*0x3;_0x116bc6<_0x300bae['length']&&_0x4ec50b[_0x3edfe9+_0x116bc6]===_0x300bae[_0x116bc6];++_0x116bc6);if(_0x116bc6===_0x300bae['length'])return _0x3edfe9;}return-(-0x1*-0x14c1+0x1*0x85d+-0x1d1d);},_0x1af28f=(_0x4c721a,_0xf6e326)=>{if(_0x4c721a['length']<_0xf6e326['length'])return!(0x1*-0x135a+0x1*0xf6b+0x3f0);for(let _0x30a176=0x4*0x124+-0x1*0xa69+0x5d9;_0x30a176<_0xf6e326['length'];++_0x30a176)if(_0x4c721a[_0x30a176]!==_0xf6e326[_0x30a176])return!(-0x3d*0x60+-0x1*0x25ed+-0x1*-0x3cce);return!(0x3*0x4a7+-0x1d94+0x2b*0x5d);},_0x5f2cc3=new _0x2b4758(_0x182e86,_0x452aa7);let _0x571170;for(;;){if(await _0x5f2cc3['read'](),_0x5f2cc3['tail']>=_0x579336['length']&&!_0x1af28f(_0x5f2cc3['data'],_0x579336))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x571170=_0x14ac07(_0x5f2cc3['data'],_0x2e2acb),_0x571170!==-(-0xb*-0x1c1+-0xe90+0x6e*-0xb))break;}const _0x546583=new TextDecoder('ascii')['decode'](_0x5f2cc3['data']['subarray'](0x24fb+0x1*0x2645+-0x4b40,_0x571170))['split']('\x0a'),{elements:_0x678fcf,format:_0x3d280a,comments:_0x2faa4f}=_0x2d0872(_0x546583);if(_0x3d280a!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x5f2cc3['head']=_0x571170+_0x2e2acb['length'],_0x5f2cc3['compact'](),await((async()=>_0x1033a0(_0x678fcf)?await _0x332f6f(_0x5f2cc3,_0x678fcf,_0x2faa4f):(_0x678fcf['forEach'](_0x2a31b=>{_0x2a31b['properties']['forEach'](_0x31c0e1=>{const _0x2640ef=_0x355639['get'](_0x31c0e1['type']);if(_0x2640ef){const _0x45a968=new _0x2640ef(_0x2a31b['count']);_0x31c0e1['storage']=_0x45a968;}});}),_0x31d133(_0x678fcf)?await _0x38f611(_0x5f2cc3,_0x678fcf,_0x2faa4f):await _0xd433e6(_0x5f2cc3,_0x678fcf,_0x2faa4f)))());},_0x319179=_0x22b38a=>{const {numSplats:_0x37c48c,chunkData:_0x4292b8,chunkSize:_0x2b5be6,vertexData:_0x28ff33,shData0:_0x482c0b,shData1:_0x25dde5,shData2:_0x5363c5,shBands:_0x1c6d72,comments:_0x2d48cd,is4D:_0x240a1a}=_0x22b38a,_0x154fa3=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x240a1a&&_0x154fa3['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x1c6d72>0x31a*0x5+-0x1c1*0x4+-0x87e){const _0x1c38a3=[];for(let _0x5c5fe2=-0x59*0x67+0x26c+-0x25*-0xe7;_0x5c5fe2<0x62*-0x3+-0x9d*0x3f+-0x27f6*-0x1;++_0x5c5fe2)_0x1c38a3['push']('f_rest_'+_0x5c5fe2);_0x154fa3['splice'](_0x154fa3['indexOf']('f_dc_0')+(-0x1*0x4f+-0x1*-0x1532+-0x14e2),-0x6*-0x40f+-0x1*0x1307+-0x553,..._0x1c38a3);}const _0x1b8ace={};_0x154fa3['forEach'](_0x57b392=>{_0x1b8ace[_0x57b392]=new Float32Array(_0x37c48c);});const _0x3ad027=new _0x52976d(),_0xca616f=new _0x48fb8e(),_0x332182=new _0x52976d(),_0x4f74f1=new _0x1665a3(),_0x163962=new _0x52976d(),_0xd4933e=new _0x52976d(),_0x309b41=_0x1c6d72>-0x1a51+0x1*-0x1ab1+0x1a81*0x2?new Float32Array(-0x236c+0x885+0x6c5*0x4):null,_0x2ab874=new _0x55cfb5(_0x4292b8,_0x2b5be6,_0x28ff33,_0x482c0b,_0x25dde5,_0x5363c5,_0x1c6d72,_0x3ad027,_0xca616f,_0x332182,_0x4f74f1,_0x163962,_0xd4933e,_0x309b41);for(let _0x4d677e=0x1ef4+0x2*0x131d+-0x452e;_0x4d677e<_0x37c48c;++_0x4d677e){_0x2ab874['read'](_0x4d677e),_0x1b8ace['x'][_0x4d677e]=_0x3ad027['x'],_0x1b8ace['y'][_0x4d677e]=_0x3ad027['y'],_0x1b8ace['z'][_0x4d677e]=_0x3ad027['z'],_0x1b8ace['rot_1'][_0x4d677e]=_0xca616f['x'],_0x1b8ace['rot_2'][_0x4d677e]=_0xca616f['y'],_0x1b8ace['rot_3'][_0x4d677e]=_0xca616f['z'],_0x1b8ace['rot_0'][_0x4d677e]=_0xca616f['w'],_0x1b8ace['scale_0'][_0x4d677e]=_0x332182['x'],_0x1b8ace['scale_1'][_0x4d677e]=_0x332182['y'],_0x1b8ace['scale_2'][_0x4d677e]=_0x332182['z'],_0x1b8ace['motion_0'][_0x4d677e]=_0x163962['x'],_0x1b8ace['motion_1'][_0x4d677e]=_0x163962['y'],_0x1b8ace['motion_2'][_0x4d677e]=_0x163962['z'],_0x1b8ace['t_scale'][_0x4d677e]=_0xd4933e['x'],_0x1b8ace['t'][_0x4d677e]=_0xd4933e['y'],_0x1b8ace['f_dc_0'][_0x4d677e]=(_0x4f74f1['x']-(-0x1407+0x12c1+0xa3*0x2+0.5))/_0x1acbe3,_0x1b8ace['f_dc_1'][_0x4d677e]=(_0x4f74f1['y']-(0x7*0x121+0x2*0x5c2+-0x136b*0x1+0.5))/_0x1acbe3,_0x1b8ace['f_dc_2'][_0x4d677e]=(_0x4f74f1['z']-(0x1a09+-0x1*0x111+-0x18f8+0.5))/_0x1acbe3;const _0x25d630=_0x4f74f1['w']<=-0xd*-0x106+-0x1ca6*0x1+0xf58?-(0x24c7+0x24a8+-0x4947):_0x4f74f1['w']>=0xb11+0x1528+0x8*-0x407?-0x4f1+0x1*0xdea+-0x8d1:-Math['log']((-0xa*-0x38d+0x28d*-0x1+-0x20f4)/_0x4f74f1['w']-(0x3*-0xbb3+0x1*-0x2309+-0xa05*-0x7));if(_0x1b8ace['opacity'][_0x4d677e]=(-0xcf6+0x1fe3+0xad*-0x1c)/(-0x1ed*-0x2+-0x18d7*0x1+0x1*0x14fe+Math['exp'](-_0x25d630)),_0x309b41){for(let _0x414563=-0x23df*-0x1+0x80b*0x2+-0x33f5;_0x414563<-0xa63*-0x2+0x1528+0x7*-0x5f7;++_0x414563)_0x1b8ace['f_rest_'+_0x414563][_0x4d677e]=_0x309b41[_0x414563];}}const _0x1109c6=[{'count':_0x37c48c,'name':'vertex','properties':_0x154fa3['map'](_0x36daa8=>({'byteSize':0x4,'name':_0x36daa8,'type':'float','storage':_0x1b8ace[_0x36daa8]}))}];return new _0x4199a0(_0x1109c6,_0x2d48cd);};}class ok extends me{constructor(_0x275bce){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x275bce,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x13a853,_0x3350fb,_0x1606f0=(_0x33bee8,_0x4c9832)=>{},_0x5c8c64=(_0x153f90,_0xc55379,_0x30e12a)=>{},_0x11a381=(_0x47717c,_0x4b698a)=>{}){var _0xeb8a2c;return(_0xeb8a2c=this['worker'])==null||_0xeb8a2c['postMessag'+'e']({'type':'loadPly','url':_0x13a853,'decompress':_0x3350fb}),new Promise((_0x36171e,_0x523061)=>{if(!this['worker']){_0x523061(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5f2fe4=>{if(!this['worker'])return;const {data:_0x11f7db}=_0x5f2fe4;if(_0x13a853===_0x11f7db['url'])switch(_0x11f7db['type']){case'totalLengt'+'h':_0x1606f0==null||_0x1606f0(_0x11f7db['totalLengt'+'h'],_0x11f7db['url']);break;case'progress':_0x5c8c64==null||_0x5c8c64(_0x11f7db['bytes'],_0x11f7db['totalLengt'+'h'],_0x11f7db['url']);break;case'splatData':_0x36171e(_0x11f7db['data']);break;case'error':_0x11a381==null||_0x11a381(_0x11f7db['data'],_0x11f7db['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x7*-0x551+-0xd*0x179+-0x6*0x303));}}class lk{constructor(_0x7a105a,_0x49e1a4){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x7a105a,this['maxRetries']=_0x49e1a4,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x8c*0x4+-0x3b9*-0x1+-0x5e9);}async['load'](_0x2e2ec7,_0x5de11d,_0x2f7e60){var _0x49a4d3,_0x40991a,_0x19d496;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x2e2ec7['load']['includes'](',')?this['urlList']=_0x2e2ec7['load']['split'](','):this['urlList']['push'](_0x2e2ec7['load']);const _0x2f885a=_0x2f7e60['data']['createTime']!==((_0x40991a=(_0x49a4d3=this['onlyOneAss'+'et'])==null?void(-0x417*0x1+0x44f*0x1+-0x8*0x7):_0x49a4d3['data'])==null?void(0x47*0x53+0x807+-0x1f0c):_0x40991a['createTime']);(!this['readWorker']||_0x2f885a)&&((_0x19d496=this['readWorker'])==null||_0x19d496['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x4e268e=_0x2f7e60['data']['loadIndex']>=-0x1fb5+-0x23*0x5f+0x2cb2?_0x2f7e60['data']['loadIndex']:0x213f+-0xdd8+-0x1367,_0x2b5e7e=_0x2f7e60['data']['loadMode']==='all'?this['urlList']['length']-_0x4e268e:_0x4e268e+(-0x1b77+-0x8c2+0x243a),_0x5a77e1=_0x2f7e60['data']['timeOption'],_0x12bdbe=_0x2f7e60['data']['events'];for(let _0x3b626a=_0x4e268e;_0x3b626a<_0x2b5e7e;_0x3b626a++)await this['loadGsplat'+'Data'](this['urlList'],_0x5de11d,_0x2f7e60,_0x3b626a,_0x5a77e1,_0x12bdbe,_0x2b5e7e);_0x12bdbe['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x3e5b94,_0x4c690d,_0x12a9b0,_0xa480b0,_0x20f7b1,_0x2183b8,_0x4a545e){var _0x3f70da,_0x331b1b,_0x749ee4;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x3e5b94[_0xa480b0]['trim'](),_0xa480b0);const _0xdfd9c2=_0x20f7b1[(0x952+0x2b4+-0xc04)*_0xa480b0]+_0x20f7b1[(0x7*0x4be+0x3*0xb4c+-0x4314)*_0xa480b0+(0x9f3+-0x1ae0*0x1+0x10ee)],_0x3daf3c=_0x3e5b94[_0xa480b0]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x932+-0x67*0x49+0x3a19))['toFixed'](0x1240*0x2+-0x61e+-0x24*0xd8));try{const _0x45faa0=await((_0x3f70da=this['readWorker'])==null?void(0x1*0x5c9+0x1a5b+-0x2024):_0x3f70da['loadPly'](_0x3daf3c,_0x12a9b0['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x97c+0x18e4+-0x11*0xe8;},(_0x201d95,_0x9e5879)=>{this['totalRecei'+'ved']+=_0x201d95,_0x12a9b0&&_0x2183b8['fire']('progress',_0x9e5879*_0xa480b0/_0x4a545e+this['totalRecei'+'ved']/_0x4a545e,_0x9e5879);},(_0x5b881b,_0x1f0967)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x1f0967,_0x5b881b);}));let _0x21132b;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0xdc*0x22+-0xbf+0x1*0x317f))['toFixed'](0x1f2b*-0x1+0x26c6+-0x185*0x5)),_0x45faa0['isCompress'+'ed']?(_0x21132b=new ak(),_0x21132b['comments']=_0x45faa0['comments'],_0x21132b['numSplats']=_0x45faa0['numSplats'],_0x21132b['is4D']=_0x45faa0['is4D'],_0x21132b['chunkData']=_0x45faa0['chunkData'],_0x21132b['vertexData']=_0x45faa0['vertexData'],_0x21132b['shData0']=_0x45faa0['shData0'],_0x21132b['shData1']=_0x45faa0['shData1'],_0x21132b['shData2']=_0x45faa0['shData2'],_0x21132b['shBands']=_0x45faa0['shBands']):_0x21132b=new qn(_0x45faa0['elements'],_0x45faa0['comments']),_0x12a9b0['fire']('load:data',_0x21132b),_0x21132b['isCompress'+'ed']||_0x12a9b0['data']['reorder'];const _0x1d462e=_0x12a9b0['data']['createTime']!==((_0x749ee4=(_0x331b1b=this['onlyOneAss'+'et'])==null?void(0xe12+0x1*-0x7f+-0xd93):_0x331b1b['data'])==null?void(-0x14*-0xa6+0x9a5*-0x1+-0x1*0x353):_0x749ee4['createTime']);this['gsplatReso'+'urce']&&!_0x1d462e?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x21132b['isCompress'+'ed']?await _0x21132b['decompress']():_0x21132b,_0x20f7b1,_0xdfd9c2,_0x12a9b0,_0x2183b8):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x21132b['isCompress'+'ed']?await _0x21132b['decompress']():_0x21132b),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x20f7b1,this['onlyOneAss'+'et']=_0x12a9b0),_0x4c690d(null,this['gsplatReso'+'urce']);}catch(_0x9c1f96){_0x4c690d(_0x9c1f96,null);}}['open'](_0x1559bb,_0x37dad9){return _0x37dad9;}}async function ck(){const _0x4bcc20='super4d-ca'+'che-v1',_0x1b9743={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x2ce97a=-0xa*0x2f3+-0xbb7*-0x2+0x610+0.28209479177387814;class _0x29e7ea{constructor(_0x536994={}){this['options']={..._0x1b9743,..._0x536994},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1a09+-0x125c+-0x8e1*-0x5,this['initialize'+'d']=!(-0x1*-0x1e82+-0xc31+-0x1250);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x4bcc20);const _0x176c0a=await this['cache']['keys'](),_0x46ff76=[];for(const _0x1d6b48 of _0x176c0a){const _0x599436=_0x1d6b48['url'],_0x428b26=await this['cache']['match'](_0x599436);if(_0x428b26){const _0x4a803d=(await _0x428b26['blob']())['size'],_0xfdf8fa=_0x428b26['headers']['get']('x-cache-ti'+'me');_0xfdf8fa&&_0x46ff76['push']({'url':_0x599436,'size':_0x4a803d,'cacheTime':parseInt(_0xfdf8fa)});}}_0x46ff76['sort']((_0x1c46eb,_0xb1d7b2)=>_0x1c46eb['cacheTime']-_0xb1d7b2['cacheTime']);for(const _0x585458 of _0x46ff76)this['cacheSizes']['set'](_0x585458['url'],_0x585458['size']),this['currentSiz'+'e']+=_0x585458['size'],this['lruList']['push'](_0x585458['url']);}catch(_0x145e58){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x145e58);}this['initialize'+'d']=!(-0x1d2*-0x1+-0x172*0xb+-0x35*-0x44);}}async['get'](_0x4c76d7){if(await this['init'](),!this['cache'])return null;try{const _0x2c519e=await this['cache']['match'](_0x4c76d7);if(!_0x2c519e)return null;const _0x4d1e65=_0x2c519e['headers']['get']('x-cache-ti'+'me');return _0x4d1e65&&Date['now']()-parseInt(_0x4d1e65)>this['options']['maxAge']?(await this['delete'](_0x4c76d7),null):(this['updateLRU'](_0x4c76d7),_0x2c519e);}catch{return null;}}async['set'](_0x1bc1be,_0x1c9a33){if(!(!this['cache']||_0x1bc1be['startsWith']('blob:')))try{const _0x130d4a=_0x1c9a33['clone'](),_0x4fd067=await _0x130d4a['blob'](),_0x3bd140=_0x4fd067['size'];this['currentSiz'+'e']+_0x3bd140>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x3bd140);const _0x1e93c1=new Headers(_0x130d4a['headers']);_0x1e93c1['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x3c445a=new Response(_0x4fd067,{'status':_0x130d4a['status'],'statusText':_0x130d4a['statusText'],'headers':_0x1e93c1});await this['cache']['put'](_0x1bc1be,_0x3c445a),this['cacheSizes']['set'](_0x1bc1be,_0x3bd140),this['currentSiz'+'e']+=_0x3bd140,this['updateLRU'](_0x1bc1be);}catch(_0x44e9c6){console['error']('Cache\x20set\x20'+'error:',_0x44e9c6);}}['updateLRU'](_0x45cfe5){const _0x5cd164=this['lruList']['indexOf'](_0x45cfe5);_0x5cd164>-(-0x1*0x1a3a+0xf98+-0x1*-0xaa3)&&this['lruList']['splice'](_0x5cd164,0x249a+0xd3a+-0x31d3),this['lruList']['push'](_0x45cfe5);}async['cleanupSpa'+'ce'](_0x282d0f){const _0x3fbc2b=this['options']['maxSize']*(-0x1b0c+-0x25b7*0x1+0x40c3+0.9);if(!(this['currentSiz'+'e']<=_0x3fbc2b))for(;this['lruList']['length']>0x334+0x48e+-0x7c2&&this['currentSiz'+'e']>_0x3fbc2b;){const _0x1bc9c=this['lruList']['shift']();_0x1bc9c&&await this['delete'](_0x1bc9c);}}async['delete'](_0x589614){if(this['cache'])try{await this['cache']['delete'](_0x589614);const _0x49bc72=this['cacheSizes']['get'](_0x589614)||-0x1*0xbcb+-0xbb0+0x1*0x177b;this['currentSiz'+'e']-=_0x49bc72,this['cacheSizes']['delete'](_0x589614);const _0x1407f8=this['lruList']['indexOf'](_0x589614);_0x1407f8>-(-0x17b0+-0x23ef*0x1+-0x774*-0x8)&&this['lruList']['splice'](_0x1407f8,-0x1*-0x116b+-0x16a4+0x53a);}catch(_0x1f7f38){console['error']('Cache\x20dele'+'te\x20error:',_0x1f7f38);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x4435a6=>Promise['all'](_0x4435a6['map'](_0x278197=>{var _0x2d9fce;return(_0x2d9fce=this['cache'])==null?void(0x2387+-0x4f*0xd+-0x1f84):_0x2d9fce['delete'](_0x278197);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x21*-0xa3+-0x1c95+0x39*0x22;}catch(_0x45de4d){console['error']('Cache\x20clea'+'r\x20error:',_0x45de4d);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x13db+-0xf*0x1fc+0x9e9;}}class _0x434f72{constructor(_0x2a8c0e=[],_0x5ab800={}){this['cacheManag'+'er']=new _0x29e7ea(_0x5ab800['cache']),this['retryCount']=_0x5ab800['retryCount']||-0x1dbe*-0x1+-0x1*-0xf5+-0x8*0x3d6,this['retryDelay']=_0x5ab800['retryDelay']||-0x587+-0x17f+-0x1*-0x8fa,this['maxConcurr'+'ency']=_0x5ab800['maxConcurr'+'ency']||0x1e5+0xee9*0x1+-0x10c8,this['downloadQu'+'eue']=_0x2a8c0e,this['isProcessi'+'ngDownload'+'Queue']=!(0x1292+0x166c+0x5db*-0x7),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0xd32+0x13e4*0x1+-0x6b2);this['downloadQu'+'eue']['length']>-0xf28+-0x1*-0x361+0xbc7;)try{const _0x17246a=this['downloadQu'+'eue']['splice'](0x7d2+0xe4e+0x1620*-0x1,this['maxConcurr'+'ency'])['map'](_0x371046=>{if(!this['pendingRes'+'ponses']['has'](_0x371046)){const _0x8d6172=this['download'](_0x371046);return this['pendingRes'+'ponses']['set'](_0x371046,_0x8d6172),_0x8d6172['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x371046);});}return Promise['resolve']();});await Promise['all'](_0x17246a);}catch(_0x2a7672){console['error']('Download\x20e'+'rror:',_0x2a7672);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x8*0x133+-0x103f+-0x238*-0x3);}}}async['fetch'](_0x43f5db,_0x48fab5={}){if(this['pendingRes'+'ponses']['has'](_0x43f5db))return this['pendingRes'+'ponses']['get'](_0x43f5db);const {forceRefresh:_0x14f580=!(-0x489+-0x1593+0x1a1d),..._0x1b95da}=_0x48fab5;this['pendingRes'+'ponses']['set'](_0x43f5db,this['download'](_0x43f5db,_0x1b95da));const _0x5ba10b=await this['pendingRes'+'ponses']['get'](_0x43f5db);return this['pendingRes'+'ponses']['delete'](_0x43f5db),_0x5ba10b;}async['download'](_0x585edb,_0x20541e={}){var _0x102eb4;await((_0x102eb4=this['cacheManag'+'er'])==null?void(0x1f57*-0x1+-0x11*0x1f3+-0x12*-0x395):_0x102eb4['init']());const {forceRefresh:_0x3f46e9=!(0xa59+0x1*-0x155a+0xb02*0x1),..._0x3e629c}=_0x20541e;_0x3f46e9&&await this['cacheManag'+'er']['delete'](_0x585edb);const _0x4d52f1=await this['cacheManag'+'er']['get'](_0x585edb);if(_0x4d52f1)return _0x4d52f1;let _0x5265a2;for(let _0x359b7a=-0x155b+0x1492+-0x43*-0x3;_0x359b7a<this['retryCount'];_0x359b7a++)try{const _0x37df41=await fetch(_0x585edb,_0x3e629c);if(!_0x37df41['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x37df41['status']);return await this['cacheManag'+'er']['set'](_0x585edb,_0x37df41),_0x37df41;}catch(_0x213281){console['error']('Download\x20e'+'rror:',_0x213281),_0x5265a2=_0x213281,_0x359b7a<this['retryCount']-(-0x4b*0x83+-0x244e+0x4ab0)&&await new Promise(_0x1a147b=>setTimeout(_0x1a147b,this['retryDelay']*(_0x359b7a+(-0xb59*-0x2+0x1*0xfda+-0x268b))));}throw _0x5265a2;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x267be0;(_0x267be0=this['cacheManag'+'er'])==null||_0x267be0['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0xcb+0x45d*-0x4+0x1240),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x2f1602{constructor(_0x3f42ba,_0x21103f=[]){this['elements']=_0x3f42ba,this['comments']=_0x21103f,this['isCompress'+'ed']=!(-0x22*0xec+-0x1c33+0x3b8c);}}class _0x4b47eb{constructor(_0x5093cf){this['url']=_0x5093cf;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x434f72(globalThis['downloadQu'+'eueUrlList']));const _0x3d927d=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x3d927d['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x3d927d['statusText']);const _0x3203e4=await _0x3d927d['arrayBuffe'+'r'](),_0x3ab27d=new Uint8Array(_0x3203e4);let _0x4bb5bf=-0xab7+0x236e+-0x18b7,{size:_0x470b79,type:_0x48e397}=this['_readBoxHe'+'ader'](_0x3ab27d,_0x4bb5bf);if(_0x48e397!=='moof')throw new Error('Not\x20a\x20moof');_0x4bb5bf+=0x23a0*0x1+0xb*-0x26e+-0x8de;const _0x317673=_0x4bb5bf+_0x470b79-(0x12be*0x1+-0x5*-0x14b+-0x509*0x5);let _0x45006e=null;for(;_0x4bb5bf<_0x317673;){const {size:_0x1796c1,type:_0x722a0a}=this['_readBoxHe'+'ader'](_0x3ab27d,_0x4bb5bf);_0x4bb5bf+=-0x4a+-0xb*0x26f+-0x49*-0x5f;const _0x147eb2=_0x3ab27d['slice'](_0x4bb5bf,_0x4bb5bf+_0x1796c1-(-0x98a*0x2+-0x16ea+0x2a06));_0x4bb5bf+=_0x1796c1-(0x97*-0x1b+-0x6*-0x1+0x1*0xfef),_0x722a0a==='emsg'&&(_0x45006e=this['_parseEmsg'](_0x147eb2));}if(!_0x45006e)throw new Error('Incomplete'+'\x20moof');const {size:_0x1d7385,type:_0x463e42}=this['_readBoxHe'+'ader'](_0x3ab27d,_0x4bb5bf);if(_0x463e42!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x4bb5bf+=-0xb*-0x1bf+-0x20*-0x9e+-0x26ed;const _0x288e83=_0x3ab27d['slice'](_0x4bb5bf,_0x4bb5bf+(_0x1d7385-(-0xfdd+-0x174f+0x2734)));return{'metadata':_0x45006e,'segmentData':_0x288e83};}['_readBoxHe'+'ader'](_0x595755,_0x3f6a4e){if(_0x3f6a4e+(0x71*-0x7+-0x9dc+0x1*0xcfb)>_0x595755['length'])throw new Error('EOF');const _0x297eee=_0x595755[_0x3f6a4e]<<0xa12*-0x1+0x2f1*-0x3+0x12fd|_0x595755[_0x3f6a4e+(0xed2+-0x2*-0x1003+-0xf9d*0x3)]<<0x481+-0x873+0x201*0x2|_0x595755[_0x3f6a4e+(0xebd+-0x1897*-0x1+-0x2752)]<<-0x26*-0xa3+-0x1cf5+0x4cb|_0x595755[_0x3f6a4e+(-0x133*0x2+0x1d0+0x99)],_0xfb6e19=String['fromCharCo'+'de'](_0x595755[_0x3f6a4e+(-0x19*0x3d+-0x1aa7+0x3a*0x90)],_0x595755[_0x3f6a4e+(0x49f*-0x3+0x37f+0xa63)],_0x595755[_0x3f6a4e+(-0x113d+0xcff*0x1+0x444)],_0x595755[_0x3f6a4e+(-0x281*-0xa+0x1816+-0x3119)]);return{'size':_0x297eee,'type':_0xfb6e19};}['_parseEmsg'](_0x54a075){let _0x4e83c0=0x24f9*-0x1+0x1*0x1993+0xb66;_0x4e83c0=_0x54a075['indexOf'](0x473*0x5+0x1*0x144d+0x1*-0x2a8c,_0x4e83c0)+(-0x245e+0x572*-0x4+-0x3a27*-0x1),_0x4e83c0=_0x54a075['indexOf'](0x76b+-0x954*-0x4+-0x2cbb,_0x4e83c0)+(-0x13c9+0x26b7+0x143*-0xf),_0x4e83c0+=-0x194e+0x50*-0x72+-0x4a*-0xd3;const _0x47ded4=_0x54a075['slice'](_0x4e83c0);return globalThis['CBOR']['decode'](_0x47ded4);}}class _0x54f5c4{constructor(_0x197f3e=0x43c+0xb*-0x5a+-0x1*0x5e,_0x597d62=-0xa*0xe9+0xc6d+-0x353,_0x3431df=0xcd4*0x3+-0x4c7*-0x8+-0x132d*0x4,_0x287e88=-0xcb*0x7+-0x3a1*0x2+-0x668*-0x2){this['x']=_0x197f3e,this['y']=_0x597d62,this['z']=_0x3431df,this['w']=_0x287e88;}['set'](_0x88da9f,_0xec586a,_0x2e8164,_0x487299){return this['x']=_0x88da9f,this['y']=_0xec586a,this['z']=_0x2e8164,this['w']=_0x487299,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x356ed2=this){let _0x2539f0=_0x356ed2['length']();return _0x2539f0===0xda1+-0x1168+0x3c7*0x1?(this['x']=this['y']=this['z']=-0x1d23*0x1+-0x1993+-0x2f*-0x12a,this['w']=-0x5d9+0x3c*0x68+-0x1286):(_0x2539f0=(0x176e+-0x159a+-0x1d3)/_0x2539f0,this['x']=_0x356ed2['x']*_0x2539f0,this['y']=_0x356ed2['y']*_0x2539f0,this['z']=_0x356ed2['z']*_0x2539f0,this['w']=_0x356ed2['w']*_0x2539f0),this;}['mulScalar'](_0x5e1c9c,_0x1e904e=this){return this['x']=_0x1e904e['x']*_0x5e1c9c,this['y']=_0x1e904e['y']*_0x5e1c9c,this['z']=_0x1e904e['z']*_0x5e1c9c,this['w']=_0x1e904e['w']*_0x5e1c9c,this;}}self['onmessage']=async _0x3544a5=>{var _0x2d76d1,_0x3a16c7;const {data:_0x27a694}=_0x3544a5;switch(_0x27a694['type']){case'initWorker':importScripts(_0x27a694['cborXUrl']);break;case'destroyWor'+'ker':_0x22eb2f();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x37669d,loadRepresentation:_0x3af384}=_0x27a694,_0x16998d=await _0x26b833(_0x37669d,_0x3af384);globalThis['manifestUr'+'l']=_0x37669d,globalThis['manifest']=_0x16998d,globalThis['resentatio'+'n']=_0x16998d['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x254dfe(),globalThis['fetchWorke'+'r']=new _0x434f72(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x16998d,'url':_0x37669d,'representation':_0x3af384});break;case'loadGsdSeg'+'ments':try{const _0x54cd3f=_0x5777c2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x1ce162=await _0x27bc0f(globalThis['manifest'],_0x54cd3f),_0x421b92=(_0x2d76d1=_0x1ce162==null?void(-0x8d6+-0x9d*-0x1+0x839):_0x1ce162['elements'][-0xa4a+0x1a77+-0x102d*0x1])==null?void(-0x1d9d+-0x1*-0x8f9+-0xa52*-0x2):_0x2d76d1['properties']['map'](_0x5cde8a=>_0x5cde8a['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x1ce162,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x421b92);}catch(_0x247941){console['error']('Error\x20load'+'ing\x20GSD:',_0x247941),self['postMessag'+'e']({'type':'error','data':_0x247941['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x22502b}=_0x27a694;try{const _0x37b12a=_0x5777c2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x43a247=await _0x1e94e1(globalThis['manifest'],_0x37b12a,_0x22502b),_0x22927f=(_0x3a16c7=_0x43a247==null?void(0x21aa+-0x1caa+-0xa0*0x8):_0x43a247['elements'][-0xb7a+0xec5+-0x3*0x119])==null?void(0x1c*0x5+-0x513+0x487):_0x3a16c7['properties']['map'](_0x103a58=>_0x103a58['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x43a247,'timelineIndexs':_0x22502b,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x22927f);}catch(_0x4180a6){console['error']('Error\x20load'+'ing\x20GSD:',_0x4180a6),self['postMessag'+'e']({'type':'error','data':_0x4180a6['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x22eb2f=()=>{var _0x1de4e5;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x1de4e5=globalThis['fetchWorke'+'r'])==null||_0x1de4e5['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x254dfe=()=>{const _0x29a64f=new Set(),_0x1c58e0=_0x5777c2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x19a5a1=globalThis['manifest']['baseUrl'],_0x31555d=_0x1c58e0['segmentTem'+'plate'][0x21e2+-0xc2e+-0x15b4];for(const _0x46ec08 of _0x31555d['segmentTim'+'eline'])for(const _0xbbc701 of _0x46ec08['nl']){const _0x3581b5=''+_0x19a5a1+_0x31555d['media']['replace']('$SegGroupI'+'ndex$',String(_0x46ec08['sg']))['replace']('$NodeIndex'+'$',String(_0xbbc701));_0x29a64f['add'](_0x3581b5);}return Array['from'](_0x29a64f);},_0x26b833=async(_0x3a0a40,_0x5130c2)=>{const _0x3b0650=await(await fetch(_0x3a0a40))['text'](),_0x16ef08=JSON['parse'](_0x3b0650);_0x16ef08['baseUrl']=_0x3a0a40['replace'](/\/[^\/]*$/,'/');const {schemas:_0x5e4650,gsiUrl:_0x28d290,repId:_0x41ad3b}=await _0xf4541a(_0x16ef08,_0x5130c2);return _0x16ef08['schemas']=_0x5e4650,_0x16ef08['gsiUrl']=_0x28d290,_0x16ef08['representa'+'tion']=_0x41ad3b,_0x16ef08;},_0xf4541a=async(_0x4e96e2,_0x6ef2ce)=>{let _0x4d8bff=null,_0x276af5=null;for(const _0x58632c of _0x4e96e2['adaptation'+'Sets'])if(_0x58632c['contentTyp'+'e']==='4dgs'){_0x276af5=_0x58632c;for(const _0x575833 of _0x58632c['representa'+'tions'])if(_0x575833['id']===_0x6ef2ce){_0x4d8bff=_0x575833;break;}break;}_0x4d8bff||(_0x4d8bff=_0x276af5['representa'+'tions'][0x76d*-0x1+-0x1e1d+0x258a],console['warn']('Representa'+'tion\x20\x27'+_0x6ef2ce+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x34f196=_0x4d8bff['id'],_0x241716=_0x4e96e2['baseUrl']+_0x34f196+('/init.gsi.'+'json'),_0x507985=await(await fetch(_0x241716))['text'](),_0x265930=JSON['parse'](_0x507985),_0x31061d={};return _0x31061d[_0x34f196]=_0x265930,{'schemas':_0x31061d,'gsiUrl':_0x241716,'repId':_0x34f196};},_0x5777c2=(_0x3027d0,_0x1978e6='high-quant'+'ized')=>{let _0x5e99e2=null;for(const _0x4ef74f of _0x3027d0['adaptation'+'Sets'])if(_0x4ef74f['contentTyp'+'e']==='4dgs'){for(const _0x37abd9 of _0x4ef74f['representa'+'tions'])if(_0x37abd9['id']===_0x1978e6){_0x5e99e2=_0x37abd9;break;}break;}if(!_0x5e99e2)throw new Error('Representa'+'tion\x20\x27'+_0x1978e6+('\x27\x20not\x20foun'+'d'));return _0x5e99e2;},_0x27bc0f=async(_0x1c5943,_0x108624)=>{const _0x499e7a=_0x108624['id'],_0x1a0d68=_0x1c5943['schemas'][_0x499e7a]['attributes'],_0x525692=_0x108624['segmentTem'+'plate'][0xe*0xb3+0x2e*-0x31+-0x7*0x24];globalThis['loadedSegm'+'ents']=[];const _0x41fdb9=[],_0x4de1e4=[];for(const _0x2a416c of _0x525692['segmentTim'+'eline'])for(const _0x854b22 of _0x2a416c['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x2a416c['sg']+'_'+_0x854b22))continue;globalThis['loadedSegm'+'ents']['push'](_0x2a416c['sg']+'_'+_0x854b22);const _0x3624de=await _0x4ca02a(_0x1c5943,_0x108624,_0x1a0d68,_0x2a416c['sg'],_0x854b22);_0x4de1e4['push'](_0x3624de['decoded']),_0x41fdb9['push'](_0x3624de['metadata']);}return _0x5bc4ba(_0x4de1e4,_0x1a0d68,_0x1c5943['comments']);},_0x1e94e1=async(_0x53ff4d,_0x34aad3,_0x425f94)=>{if(!_0x425f94||_0x425f94['length']===0x2ee*0xa+0x26ae+-0x43fa)return{'decoded':[],'metadata':[]};const _0x15bd77=_0x34aad3['id'],_0x51f254=_0x53ff4d['schemas'][_0x15bd77]['attributes'],_0x303fce=_0x34aad3['segmentTem'+'plate'][0x1*-0xb25+0x12ef*0x1+-0x7ca];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0xc847bc=_0x303fce['segmentTim'+'eline'][_0x425f94[0x2*-0xcd9+-0x7b+0x1a2d]];globalThis['currentLoa'+'dSg']!==_0xc847bc['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x3e8996=>!_0x3e8996['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0xc847bc['sg']);let _0x210449;const _0x4ae64d=[];for(const _0x4168c6 of _0x425f94){_0x210449=_0x303fce['segmentTim'+'eline'][_0x4168c6];for(const _0x4771e2 of _0x210449['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x210449['sg']+'_'+_0x4771e2)||(globalThis['loadedSegm'+'ents']['push'](_0x210449['sg']+'_'+_0x4771e2),_0x4ae64d['push'](_0x4771e2));}const _0x49dbc6=await _0x4ca02a(_0x53ff4d,_0x34aad3,_0x51f254,_0x210449['sg'],_0x4ae64d);_0x49dbc6['metadata'];const _0x2074be=_0x49dbc6['decoded'];return _0x5bc4ba(_0x2074be,_0x51f254,_0x53ff4d['comments']);},_0x4ca02a=async(_0x16d40e,_0x3a3c58,_0x30dbd1,_0xf0fae0,_0x202018)=>{const _0x664524=_0x16d40e['baseUrl'],_0x390aea=_0x3a3c58['segmentTem'+'plate'][0xa9*-0x13+-0x15bd+0x2248]['media'],_0x463d16=_0x202018['map'](_0x25da71=>''+_0x664524+_0x390aea['replace']('$SegGroupI'+'ndex$',String(_0xf0fae0))['replace']('$NodeIndex'+'$',String(_0x25da71))),_0x22608b=await Promise['all'](_0x463d16['map'](async _0x1eca96=>{const _0x702685=await _0x2709c7(_0x1eca96),_0x5d54c1=_0x702685['metadata'],_0x3062e3=_0x702685['segmentDat'+'a'],_0x524470=_0x5d54c1['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x1eca96),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x5d54c1['timeStart'],'segment\x20ti'+'meEnd:',_0x5d54c1['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x524470);let _0x454dfd;if(_0x3a3c58['id']['includes']('quantized')){const _0x23446c=_0x5d54c1['chunk_boun'+'ds'];_0x454dfd=_0x517bcf(_0x3062e3,_0x524470,_0x30dbd1,_0xf0fae0,_0x23446c);}else _0x454dfd=_0x1793a4(_0x3062e3,_0x524470,_0x30dbd1,_0xf0fae0);return{'decoded':_0x454dfd,'metadata':_0x5d54c1};})),_0x363004=_0x22608b['map'](_0x4771b8=>_0x4771b8['decoded']),_0x2030ef=_0x22608b['map'](_0x663e2a=>_0x663e2a['metadata']);return{'decoded':_0x363004,'metadata':_0x2030ef};},_0x5bc4ba=(_0x17e4b7,_0x207e50,_0x338b47)=>{if(_0x17e4b7['length']===0x1f*-0xe7+-0x21d4+0x3dcd)return new _0x2f1602([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x1903+-0xb0d+0x2*0x1208),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0x3*0x909+-0x2*0xaca+-0x587),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x173e+-0x9ac+0x486*-0x3),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x1a3d+0x6a4+-0x20e1),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x1*0xe27+-0x17f1+0x2618),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x25cc+0x2d8*0xd+-0x4ac4),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x6*-0x628+-0x10*-0xb0+-0x1d8*0x1a),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x1*0x16ba+0x204e+-0x3708),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x1b4f+-0xc9d*-0x2+0x29*0xd),'byteSize':0x4}]}],_0x338b47);const _0x2039d5=_0x1db189(_0x17e4b7),[_0x5bc038,_0x440ea7,_0x4fb171]=_0x318172(_0x2039d5['lifecycle'],-0x1f5*0x13+-0x2*-0x4a2+0x2cb*0xa,Float32Array),_0x5ca933=_0x2039d5['time_index'],_0x1868ec=_0x207e50['find'](_0x3ac358=>_0x3ac358['name']==='feature_re'+'st'),_0x167fb0=[];if(_0x1868ec&&_0x2039d5['feature_re'+'st']){const _0x10cc89=_0x1868ec['dataType']['split'](',')[0xef4+-0x154*0x19+0x1241]['trim']()['replace']('>',''),_0x595d6b=_0x318172(_0x2039d5['feature_re'+'st'],0xfd+-0xe16+0xd1c,Float32Array);for(const _0x2d32e2 of _0x595d6b){const _0x221896=_0x318172(_0x2d32e2,_0x10cc89/(-0x24fc+-0x2*-0x495+0x1bd5),Float32Array);for(let _0x31b170=-0xd44+0x11*-0xf3+-0x3*-0x9cd;_0x31b170<_0x221896['length'];_0x31b170++)_0x167fb0['push']({'name':'f_rest_'+_0x31b170,'type':'float','storage':_0x221896[_0x31b170],'byteSize':0x4});}}return new _0x2f1602([{'name':'vertex','count':_0x2039d5['position']['length']/(0xca1+0x15d4+-0x2272),'properties':[{'name':'position','type':'float','storage':_0x2039d5['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x2039d5['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x440ea7,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x5bc038,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x4fb171,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x2039d5['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x2039d5['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x2039d5['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x5ca933,'byteSize':0x4},..._0x167fb0]}],_0x338b47);},_0x318172=(_0x19d660,_0x34f420,_0x35f0f8)=>{const _0x3db7f1=new Array(_0x34f420),_0x4dba21=Math['floor'](_0x19d660['length']/_0x34f420),_0x36b448=_0x19d660['length']%_0x34f420;for(let _0x5d69b9=0x4*0x8c8+-0x24ae+-0x2*-0xc7;_0x5d69b9<_0x34f420;_0x5d69b9++){const _0x3b18f3=_0x5d69b9<_0x36b448?_0x4dba21+(0x81c+0x2a1*-0xc+-0x1*-0x1771):_0x4dba21;_0x3db7f1[_0x5d69b9]=new _0x35f0f8(_0x3b18f3);}for(let _0x19d706=0x7b4+-0x1101+0x94d;_0x19d706<_0x19d660['length'];_0x19d706++){const _0x1d68a8=_0x19d706%_0x34f420,_0x5472ca=Math['floor'](_0x19d706/_0x34f420);_0x3db7f1[_0x1d68a8][_0x5472ca]=_0x19d660[_0x19d706];}return _0x3db7f1;},_0x2709c7=async _0x39773d=>{const _0xef7b52=new _0x4b47eb(_0x39773d),{metadata:_0x3770c4,segmentData:_0x574fd4}=await _0xef7b52['readFragme'+'nt']();return{'metadata':_0x3770c4,'segmentData':_0x574fd4};},_0x155e96=(_0x27d7be,_0x405175)=>{let _0x33f835,_0x26e683,_0x4d54e8=-(0x409*-0x1+0x1*-0x259+0x663);if(_0x27d7be['encoding']){const _0x2ffb76=_0x27d7be['encoding']['storageTyp'+'e'];if(_0x2ffb76==='uint32')_0x26e683=Uint32Array,_0x33f835=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2ffb76['startsWith']('array<ucha'+'r')){_0x26e683=Uint8Array;const _0x350f67=_0x2ffb76['split'](',')[-0xc*-0x1ba+-0x1160*0x1+0x5f*-0x9]['trim']()['replace']('>','');_0x4d54e8=parseInt(_0x350f67),_0x33f835=_0x4d54e8*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x2ffb76);}}else{if(_0x26e683=Float32Array,_0x27d7be['dataType']==='vec3f')_0x33f835=(-0x574*-0x7+-0x4dd+0x214c*-0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x27d7be['dataType']==='vec4f')_0x33f835=(-0x7*0x203+-0x207d+0x2e96)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x27d7be['dataType']==='vec2f')_0x33f835=(-0x4a*-0x68+0x1297+0x30a5*-0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x27d7be['dataType']['startsWith']('array<floa'+'t')){const _0x4a9f97=_0x27d7be['dataType']['split'](',')[0x4bf+-0x260e+0x2150]['trim']()['replace']('>','');_0x4d54e8=parseInt(_0x4a9f97),_0x33f835=_0x4d54e8*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x27d7be['dataType']);}}}}return{'dataSize':_0x405175*_0x33f835,'datatype':_0x26e683,'arraySize':_0x4d54e8};},_0x51a6ca=(_0x21810d,_0x243ddd)=>{const _0x50d49b=(-0xc*-0x26e+-0x1*0x26+-0x1d01<<_0x243ddd)-(0x20b5+0x16d0+-0x2c*0x143);return(_0x21810d&_0x50d49b)/_0x50d49b;},_0x2a64f4=_0x67c48e=>{const _0x38b069=new Float32Array(_0x67c48e['length']*(0xf*-0x24b+0x1*-0x143b+0x36a3));for(let _0x304c3b=0x2*-0x78d+0x1b2d+-0x119*0xb;_0x304c3b<_0x67c48e['length'];_0x304c3b++)_0x38b069[_0x304c3b*(0x25d5+-0xe9a+-0x1738)]=_0x51a6ca(_0x67c48e[_0x304c3b]>>>0x29*0x37+-0x160+-0x75a,0x1657+-0x1d*-0x13f+0x859*-0x7),_0x38b069[_0x304c3b*(0x24d5+0xd40+-0x3212)+(-0x19b6+0xbf2+0xdc5)]=_0x51a6ca(_0x67c48e[_0x304c3b]>>>-0x1*-0x174b+0x10fa+-0x283a,-0x97d+0x47d+0x2*0x285),_0x38b069[_0x304c3b*(-0x1*0x1eec+-0xa0c+0x28fb)+(0x1229*0x1+-0x2*0xf95+0xd03)]=_0x51a6ca(_0x67c48e[_0x304c3b],0x48d*0x3+0x254d+-0x32e9);return _0x38b069;},_0x1f99c9=_0x106cbf=>{const _0x18c7cc=new Float32Array(_0x106cbf['length']*(0x1fa5*0x1+-0x1*-0xa3d+0x2*-0x14ef));for(let _0x5d11c2=0x1b6+-0x1774+0x17*0xf2;_0x5d11c2<_0x106cbf['length'];_0x5d11c2++)_0x18c7cc[_0x5d11c2*(0x2e7*0x1+0x288+0x56b*-0x1)]=_0x51a6ca(_0x106cbf[_0x5d11c2]>>>-0x21b6*0x1+0x2304+-0x136,0xc7b+-0xad3+0x10*-0x1a),_0x18c7cc[_0x5d11c2*(0x1e57*0x1+-0x26a8+0x855)+(-0x13b6+-0x1*0x252d+-0x38e4*-0x1)]=_0x51a6ca(_0x106cbf[_0x5d11c2]>>>0x1b1+-0xef*0x29+0x24a6,-0x1cae+0x353+-0x1*-0x1963),_0x18c7cc[_0x5d11c2*(-0x873+0x4*0x1fd+0x83)+(0x21a9+0x209c*-0x1+-0x10b)]=_0x51a6ca(_0x106cbf[_0x5d11c2]>>>-0x108*-0x10+-0xf2+-0xf86,-0x2296+-0x1037*-0x1+0x7*0x2a1),_0x18c7cc[_0x5d11c2*(-0x1a17+-0xe94*-0x1+0xb87)+(-0x2340+-0xb3*-0x37+-0x332)]=_0x51a6ca(_0x106cbf[_0x5d11c2],0x5e0+-0x2e2+-0x2f6);return _0x18c7cc;},_0xf5fa08=_0x69bac5=>{const _0x3d87c9=new Float32Array(_0x69bac5['length']*(0x211a+0x25f2+-0x4709)),_0xa9bcd9=(-0x2a2*-0xb+-0x125+-0x50*0x59)/(Math['sqrt'](-0x2635*0x1+0x1*0x79+0x12df*0x2)*(0x2*0x954+0xcf2+-0x1f9a+0.5));for(let _0x3fde7a=-0x296*-0x4+0x851*0x3+0x2b7*-0xd;_0x3fde7a<_0x69bac5['length'];_0x3fde7a++){const _0x3fe475=(_0x51a6ca(_0x69bac5[_0x3fde7a]>>>-0x29a+0x1*0x1312+-0x1064,-0x1aad+-0x1*-0x257c+-0x3*0x397)-(0x2635+0x889*-0x3+-0xc9a*0x1+0.5))*_0xa9bcd9,_0x4b70f0=(_0x51a6ca(_0x69bac5[_0x3fde7a]>>>-0x6d9+-0xd*-0x1d4+-0x10e1,-0x5e7+-0x2192*-0x1+-0x1ba1)-(0x1*0x1c83+-0x1cf9+-0x3b*-0x2+0.5))*_0xa9bcd9,_0x3ba85e=(_0x51a6ca(_0x69bac5[_0x3fde7a],0xb16+0x11af+0x5bf*-0x5)-(-0x207*-0x2+-0x1a5f*-0x1+-0x1e6d+0.5))*_0xa9bcd9,_0x5f50a4=Math['sqrt'](0x2540+-0xfa3*0x1+-0x567*0x4-(_0x3fe475*_0x3fe475+_0x4b70f0*_0x4b70f0+_0x3ba85e*_0x3ba85e));let _0x2aa676=-0xf65+-0x7e8+-0x1*-0x174d,_0x4900a0=0xd*-0x67+-0xd0f+0x124a,_0x4a4eb5=-0x19d1+0x329*0xa+0x5c9*-0x1,_0x54a6ee=-0xbf1*0x1+0x3a*-0xd+-0xee3*-0x1;switch(_0x69bac5[_0x3fde7a]>>>-0xe7+-0x1026+0xf*0x125){case 0x26e7+0x3*0x409+-0x3302:_0x2aa676=_0x5f50a4,_0x4900a0=_0x3fe475,_0x4a4eb5=_0x4b70f0,_0x54a6ee=_0x3ba85e;break;case-0x2504+-0x1c*-0xd4+0xdd5*0x1:_0x2aa676=_0x5f50a4,_0x4900a0=_0x4b70f0,_0x4a4eb5=_0x3ba85e,_0x54a6ee=_0x3fe475;break;case 0x1bd6+-0x865*0x1+0x19*-0xc7:_0x2aa676=_0x4b70f0,_0x4900a0=_0x5f50a4,_0x4a4eb5=_0x3ba85e,_0x54a6ee=_0x3fe475;break;case-0x27*-0x8c+0x6e+-0x15bf:_0x2aa676=_0x4b70f0,_0x4900a0=_0x3ba85e,_0x4a4eb5=_0x5f50a4,_0x54a6ee=_0x3fe475;break;}const _0x2c83f4=_0xa856d0(_0x2aa676,_0x4900a0,_0x4a4eb5,_0x54a6ee);_0x3d87c9[_0x3fde7a*(-0x1*0x1ae3+0x81b+0x12cb)]=_0x2c83f4['x'],_0x3d87c9[_0x3fde7a*(-0x188b+-0xe3e*0x1+-0x2fc*-0xd)+(-0x23a9+0x25a5+-0x1fb)]=_0x2c83f4['y'],_0x3d87c9[_0x3fde7a*(0x936*0x3+0x1d8b+0x32d*-0x12)+(0xb1*0x27+0x5*-0x6d9+0x748)]=_0x2c83f4['z'];}return _0x3d87c9;},_0x3e34cc=(_0x39e3e7,_0x23a294,_0x1b0829)=>{const _0x2bdfa7=_0x1b0829-_0x23a294,_0x183199=new Float32Array(_0x39e3e7['length']);for(let _0x4f9b9a=0x1*0x923+0x4a8+-0xdcb;_0x4f9b9a<_0x39e3e7['length'];_0x4f9b9a++)_0x183199[_0x4f9b9a]=_0x39e3e7[_0x4f9b9a]/(0x2*-0x805+0xa*0x13+0x104b)*_0x2bdfa7+_0x23a294;return _0x183199;},_0x30eff8=new Float32Array(0x2a3*0xd+0x1465+-0x36ab),_0x37c18d=new Int32Array(_0x30eff8['buffer']),_0x18d94b=_0x32d605=>{_0x30eff8[0x1f66+-0x2009+0xa3]=_0x32d605;const _0x38123d=_0x37c18d[-0x1d35*0x1+-0x25e0*0x1+0x4315];let _0x5e74b8=_0x38123d>>-0xf2+-0x19*-0x2f+-0x395&-0x5d*0x212+-0x3*0x1d1d+0x197e1,_0x585725=_0x38123d>>0x1*-0x2288+0x972+0x1922&0x725+-0x1*-0x12aa+-0x4c*0x3c;const _0x56f0d1=_0x38123d>>-0xc53+-0x1*-0xaed+0x7f*0x3&-0x27*-0xdf+0x1d01+-0x3dfb;return _0x56f0d1<-0xe59+0x2375+-0x14b5*0x1?_0x5e74b8:_0x56f0d1>-0x9*0x1fa+-0x5c3*-0x4+-0x4b4?(_0x5e74b8|=0x246a+0x2da*0x1+0x44*0x13f,_0x5e74b8|=(_0x56f0d1===0x171d+-0x1*0x6cd+0xf51*-0x1?-0xb5f*0x2+-0x52*-0x5+0xa4*0x21:-0x7*0x571+-0x5fc*0x1+-0x364*-0xd)&&_0x38123d&0xede1b4+0xd*-0x8d87+-0x66b1da,_0x5e74b8):_0x56f0d1<0x2549+0x1ba6+-0x407e?(_0x585725|=-0x2cd*0xd+0x102b+-0x5*-0x5a6,_0x5e74b8|=(_0x585725>>-0xda7+0x4ac*-0x1+-0x3c1*-0x5-_0x56f0d1)+(_0x585725>>0xd*-0x2c5+0x1a65+-0x1f*-0x53-_0x56f0d1&0x2*0xbd3+-0x12f7+-0x4ae),_0x5e74b8):(_0x5e74b8|=_0x56f0d1-(-0x2706+0x8c9+-0x1ead*-0x1)<<-0x1d5f+-0x58*-0x3b+0x921|_0x585725>>-0x4*0x313+-0x7c2*-0x5+-0x1a7d,_0x5e74b8+=_0x585725&-0x7af*0x1+0x16d8+-0x1*0xf28,_0x5e74b8);},_0x452a8e=_0x43a2ca=>{const _0x56cad1=new Uint16Array(_0x43a2ca['length']);for(let _0x141152=-0x2458+-0x2613+0x4a6b;_0x141152<_0x43a2ca['length']/(-0xe5e+-0x15aa+0x6*0x602);++_0x141152)_0x56cad1[_0x141152*(0x17*-0x2+0x18a9+0x1*-0x1877)]=_0x18d94b(_0x43a2ca[_0x141152*(0x12f+0x1*0x22fd+-0x2428)]*_0x2ce97a+(0x1ad5+0x1d09+-0x37de+0.5)),_0x56cad1[_0x141152*(-0x1e31+0x107*-0x12+0x30b3)+(0x1c95+0x203*-0xb+-0x673)]=_0x18d94b(_0x43a2ca[_0x141152*(-0xa84+0xbbb*0x2+-0x1*0xcee)+(0x20c9+-0x1*-0x1278+-0x3340)]*_0x2ce97a+(0x1567+0x68*0x1b+-0x205f+0.5)),_0x56cad1[_0x141152*(0x14b3*-0x1+-0x7*-0x423+0x83e*-0x1)+(0x10a2*0x1+-0x26dd+0x163d)]=_0x18d94b(_0x43a2ca[_0x141152*(-0x3d*0x1f+-0x995+0x10fc)+(-0x4*0x4c7+0x5*-0x18d+-0x1adf*-0x1)]*_0x2ce97a+(-0x338+0x118e+-0xe56+0.5)),_0x56cad1[_0x141152*(0x8f4+-0x988*-0x3+0x8*-0x4b1)+(-0xd*0x227+-0xc35+0x2833)]=_0x18d94b(_0x43a2ca[_0x141152*(0x1*-0x1a3f+-0xf0*-0x1f+0x2cd*-0x1)+(-0x7ed*-0x3+0xa0*0x2b+-0x32a4)]);return _0x56cad1;},_0xb37dc6=new _0x54f5c4(0x2113+-0x7*0x2c5+-0xdb0,-0x15d*-0x3+0x1548+-0x195f,-0x1741*-0x1+-0x6c4*0x5+0xa93,0xa77+-0x501*-0x6+-0x287d),_0xa856d0=(_0x1bbd89,_0x3614f7,_0x98cb9,_0x515e05)=>(_0xb37dc6['set'](_0x3614f7,_0x98cb9,_0x515e05,_0x1bbd89),_0xb37dc6['normalize'](),_0xb37dc6['w']<0x154b+0xdbd+-0x2308&&_0xb37dc6['mulScalar'](-(-0xf41+0xd87*0x1+0x1bb)),_0xb37dc6);function _0x517bcf(_0x3832e1,_0x40ef24,_0xa8d1e2,_0x27db3f,_0xfc3d7c){const _0x52a57f=_0xfc3d7c[Object['keys'](_0xfc3d7c)[0x1087*-0x1+-0x1*0x2518+-0x7a9*-0x7]]['length'],_0x1932d0=-0x1158+0x3*0xef+0xf8b;let _0x267e3e=[],_0x312a36=_0x40ef24;for(let _0x313a9e=-0xae*0xc+-0x28f+0xab7;_0x313a9e<_0x52a57f;_0x313a9e++){const _0x4bc43b=Math['min'](_0x1932d0,_0x312a36);_0x267e3e['push'](_0x4bc43b),_0x312a36-=_0x4bc43b;}let _0x467850=0x1f67*-0x1+-0x116c+0x30d3,_0x52461e={};for(let _0x14bd59 of _0xa8d1e2){const _0x23546d=_0x14bd59['name'],{dataSize:_0x54321c,datatype:_0x142411}=_0x155e96(_0x14bd59,_0x40ef24);let _0x1d7f12=_0x3832e1['buffer']['slice'](_0x467850,_0x467850+_0x54321c),_0x31f7e9=new _0x142411(_0x1d7f12);_0x52461e[_0x23546d]=_0x31f7e9,_0x467850+=_0x54321c;}let _0x31c692=[],_0x15b920=0x1180+0x4*0x45c+-0x22f0;for(let _0x519603=0x1e4c+0x4d0*0x8+-0x44cc;_0x519603<_0x52a57f;_0x519603++){const _0x4a5ff4=_0x3771a4(_0x52461e,_0xfc3d7c,_0x519603,_0x267e3e,_0x15b920,_0xa8d1e2),_0x26d450=_0x4a5ff4['chunkDecom'+'pressed'];_0x31c692['push'](_0x26d450),_0x15b920=_0x4a5ff4['chunkStart'+'Idx'];}let _0x29f91a={};for(let _0x5b4a90 of Object['keys'](_0x31c692[-0x4*-0x830+-0x1*0x270c+0x1*0x64c])){let _0x1178dc=-0x1*-0x221f+-0x58d*0x7+-0x4*-0x12f;for(let _0xb83a60=0x1cbe+0x14bd*0x1+-0x317b;_0xb83a60<_0x31c692['length'];_0xb83a60++)_0x1178dc+=_0x31c692[_0xb83a60][_0x5b4a90]['length'];_0x5b4a90==='color_opac'+'ity'||_0x5b4a90==='scale'?_0x29f91a[_0x5b4a90]=new Uint16Array(_0x1178dc):_0x29f91a[_0x5b4a90]=new Float32Array(_0x1178dc);let _0x377265=-0x964*0x1+-0x9*0xc2+0xa*0x19f;for(let _0x5ab6bc=0x2*-0xf1a+-0x541*-0x6+-0x152;_0x5ab6bc<_0x31c692['length'];_0x5ab6bc++)_0x29f91a[_0x5b4a90]['set'](_0x31c692[_0x5ab6bc][_0x5b4a90],_0x377265),_0x377265+=_0x31c692[_0x5ab6bc][_0x5b4a90]['length'];}return _0xa8d1e2['some'](_0x45bf08=>_0x45bf08['name']==='feature_re'+'st')&&(_0x29f91a['feature_re'+'st']=_0x5a592d(_0x52461e,_0xa8d1e2)),_0x29f91a['time_index']=new Float32Array(_0x40ef24),_0x29f91a['time_index']['fill'](_0x27db3f-(-0x1a17*0x1+0x15b2+0x466)),_0x29f91a;}const _0x3771a4=(_0x337342,_0x4f8b17,_0x10b27b,_0x30c25d,_0x366f48,_0x43eb5b)=>{const _0x8a6a30=_0x30c25d[_0x10b27b],_0x3e0dc0=_0x366f48+_0x8a6a30,_0x1d0c33=(_0x15d215,_0x3dc392,_0x33aff7)=>_0x15d215*(-0x29*0x83+-0x876+0x1*0x1d72-_0x33aff7)+_0x3dc392*_0x33aff7;let _0x138a38={};for(let _0x155f1b of _0x43eb5b){const _0x14add9=_0x155f1b['name'],_0x4b526b=_0x155f1b['encoding']['codec'],_0x1153d1=_0x337342[_0x14add9]['slice'](_0x366f48,_0x3e0dc0);if(_0x4b526b==='pack_11_10'+'_11'){if(_0x14add9==='scale'){const _0x59c8f5=_0x4f8b17['min_scales'][_0x10b27b],_0x32334e=_0x4f8b17['max_scales'][_0x10b27b],_0x5cf6a6=_0x2a64f4(_0x1153d1),_0x527b11=_0x5cf6a6['length'],_0x5d9163=new Uint16Array(_0x527b11);for(let _0x3a6295=0x22dc+-0xb4+-0x2228;_0x3a6295<_0x527b11;_0x3a6295++)_0x5d9163[_0x3a6295]=_0x18d94b(Math['exp'](_0x1d0c33(_0x59c8f5[_0x3a6295%(-0xdfd+-0x304+-0xb*-0x18c)],_0x32334e[_0x3a6295%(0x2385+0x4*-0xe8+-0x1*0x1fe2)],_0x5cf6a6[_0x3a6295])));_0x138a38[_0x14add9]=_0x5d9163;}else{const _0x1d5e5a=_0x2a64f4(_0x1153d1);let _0x2fba74,_0x32c677;if(_0x14add9==='position')_0x2fba74=_0x4f8b17['min_means'][_0x10b27b],_0x32c677=_0x4f8b17['max_means'][_0x10b27b];else{if(_0x14add9==='motion')_0x2fba74=_0x4f8b17['min_motion'][_0x10b27b],_0x32c677=_0x4f8b17['max_motion'][_0x10b27b];else{if(_0x14add9==='lifecycle'){const _0x1abacc=_0x4f8b17['min_t_scal'+'e'][_0x10b27b],_0x10ff27=_0x4f8b17['max_t_scal'+'e'][_0x10b27b],_0x273107=_0x4f8b17['min_time'][_0x10b27b],_0xfe43c1=_0x4f8b17['max_time'][_0x10b27b],_0x1132d9=_0x4f8b17['min_cutoff'][_0x10b27b],_0x2094a5=_0x4f8b17['max_cutoff'][_0x10b27b];_0x2fba74=[_0x1abacc[-0x38*-0x86+0x2*-0x9a6+-0x2*0x502],_0x273107[-0x520+0x19e+0x382],_0x1132d9[-0x17b*0x4+0xe82+-0x896]],_0x32c677=[_0x10ff27[0x1*0xcc1+0x1*-0x1f9d+0x12dc],_0xfe43c1[0x2*-0x10a2+0x201+0x1f43],_0x2094a5[-0x48b*0x6+-0x1981*0x1+0x34c3]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x14add9);}}for(let _0x3109b6=0x14df+0xa91+-0x8*0x3ee;_0x3109b6<_0x1d5e5a['length'];_0x3109b6++)_0x1d5e5a[_0x3109b6]=_0x1d0c33(_0x2fba74[_0x3109b6%(0x6*0x253+-0x20ea+-0x2b*-0x71)],_0x32c677[_0x3109b6%(-0x1afc+-0x46c+0x1f6b)],_0x1d5e5a[_0x3109b6]);_0x138a38[_0x14add9]=_0x1d5e5a;}}else{if(_0x4b526b==='pack_8888'){let _0x4e5368=_0x1f99c9(_0x1153d1);const _0x99b802=_0x4f8b17['min_colors'][_0x10b27b],_0x5494d6=_0x4f8b17['max_colors'][_0x10b27b],_0x1b8829=new Uint16Array(_0x4e5368['length']);for(let _0xc2deda=0x4bd*-0x5+-0x103d*0x2+0x12b9*0x3;_0xc2deda<_0x4e5368['length'];_0xc2deda++){const _0x5b51c2=_0xc2deda*(-0xe*0xd6+-0x19e5+0x259d*0x1);_0x1b8829[_0x5b51c2]=_0x18d94b(_0x1d0c33(_0x99b802[0x235e+0x1*-0x1ade+0x44*-0x20],_0x5494d6[-0x28d*0xa+-0xab5*0x3+0x39a1],_0x4e5368[_0x5b51c2])),_0x1b8829[_0x5b51c2+(0x1257*-0x2+0x20*0x62+0x5*0x4e3)]=_0x18d94b(_0x1d0c33(_0x99b802[0x1444+0x7*0x27d+0x562*-0x7],_0x5494d6[-0xd45*0x2+-0x2cc+-0x25*-0xcb],_0x4e5368[_0x5b51c2+(0x135a+0x1b1a+0x2f*-0xfd)])),_0x1b8829[_0x5b51c2+(0x19d0+0x5*0x42d+-0x2eaf)]=_0x18d94b(_0x1d0c33(_0x99b802[0x59+-0x4b6*-0x2+-0x9c3],_0x5494d6[0x95b+-0x1f*-0xa4+0x1d35*-0x1],_0x4e5368[_0x5b51c2+(0x3*0x796+-0xb6*0x13+-0x93e)])),_0x1b8829[_0x5b51c2+(-0x7ef*0x1+0x1619*-0x1+0x1e0b)]=_0x18d94b(_0x4e5368[_0x5b51c2+(0x1cf4+0x16b5+-0x33a6)]);}_0x138a38[_0x14add9]=_0x1b8829;}else{if(_0x4b526b==='pack_rotat'+'ion_32'){const _0x3ba856=_0xf5fa08(_0x1153d1);_0x138a38[_0x14add9]=_0x3ba856;}else{if(_0x4b526b==='range_quan'+'t_u8'){if(_0x14add9==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x4b526b);}}}}}return{'chunkDecompressed':_0x138a38,'chunkStartIdx':_0x3e0dc0};},_0x5a592d=(_0x43213c,_0x37ad37)=>{const _0x51ca52='feature_re'+'st',_0x289008=_0x37ad37['find'](_0x12fe1d=>_0x12fe1d['name']===_0x51ca52);let _0x3a7b76;const _0x349557=_0x289008['encoding']['codec'],_0x5640cf=_0x43213c[_0x51ca52];if(_0x349557==='range_quan'+'t_u8'){const [_0x8ec19f,_0x3502f0]=_0x289008['encoding']['range'];_0x3a7b76=_0x3e34cc(_0x5640cf,_0x8ec19f,_0x3502f0);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x349557);return _0x3a7b76;},_0x1793a4=(_0x2e264e,_0x3f1281,_0x36e60d,_0x205ca7)=>{let _0x1890af=0x10fc+0x120c+-0x2308;const _0x2a4ba5={};for(const _0xab63be of _0x36e60d){const {dataSize:_0x416f86}=_0x155e96(_0xab63be,_0x3f1281);if(['vec3f','vec4f','vec2f']['includes'](_0xab63be['dataType']))_0x2a4ba5[_0xab63be['name']]=new Float32Array(_0x2e264e['buffer']['slice'](_0x1890af,_0x1890af+_0x416f86));else{if(_0xab63be['dataType']['startsWith']('array<floa'+'t'))_0x2a4ba5[_0xab63be['name']]=new Float32Array(_0x2e264e['buffer']['slice'](_0x1890af,_0x1890af+_0x416f86));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0xab63be['dataType']);}_0x1890af+=_0x416f86;}const _0xf5098=new Uint16Array(_0x2a4ba5['scale']['length']);for(let _0x50e024=-0x1816+-0x15ba+0x2dd*0x10;_0x50e024<_0x2a4ba5['scale']['length'];_0x50e024++)_0xf5098[_0x50e024]=_0x18d94b(Math['exp'](_0x2a4ba5['scale'][_0x50e024]));_0x2a4ba5['scale']=_0xf5098;const _0xcfdf89=_0x2a4ba5['rotation']['length']/(-0x5be+0x539+0x89),_0x23c809=new Float32Array(_0xcfdf89*(0x1747+0x19e5+-0x3129));for(let _0x2fdae6=-0x20a5+0x6e2+0x527*0x5;_0x2fdae6<_0xcfdf89;_0x2fdae6++){const _0x5bcccd=_0xa856d0(_0x2a4ba5['rotation'][_0x2fdae6*(0x1*-0x8cc+-0x2340+0x18*0x1d6)],_0x2a4ba5['rotation'][_0x2fdae6*(0x255*0x7+0x8bf+0x3*-0x85a)+(0x21ab+-0x9bc+-0xbf7*0x2)],_0x2a4ba5['rotation'][_0x2fdae6*(-0x2594+0x12*-0x186+0x4104)+(0x6d*-0x16+-0x2a*0x59+-0x155*-0x12)],_0x2a4ba5['rotation'][_0x2fdae6*(-0xa37+-0x1f*0xf8+0x2843)+(0x1051+0xc4*0xe+-0x1b06)]);_0x23c809[_0x2fdae6*(0x23d7+0x23*0x8b+-0x1247*0x3)]=_0x5bcccd['x'],_0x23c809[_0x2fdae6*(0x99a+0x1*-0x1304+0x13*0x7f)+(0x1350+-0x1fb2+0xc63)]=_0x5bcccd['y'],_0x23c809[_0x2fdae6*(0xec1+-0x1ca*-0x15+0x12*-0x2e8)+(-0x3*-0x5d1+0x52b+-0x4*0x5a7)]=_0x5bcccd['z'];}return _0x2a4ba5['rotation']=_0x23c809,_0x2a4ba5['color_opac'+'ity']=_0x452a8e(_0x2a4ba5['color_opac'+'ity']),_0x2a4ba5['time_index']=new Float32Array(_0x3f1281),_0x2a4ba5['time_index']['fill'](_0x205ca7-(-0x23b3*0x1+-0x7ce+0x2b82)),_0x2a4ba5;},_0x1db189=(_0x3a343e,_0x1ad331)=>{const _0x756b07={};if(_0x3a343e['length']===0x1e51+0xaab+-0x28fb)return _0x3a343e[0xa7f*0x1+-0x1f57+-0x1*-0x14d8];for(const _0x2b552b of Object['keys'](_0x3a343e[-0x27b*0x5+0xdd+0xb8a]))if(_0x3a343e[0x61b+0x12ae+-0x18c9][_0x2b552b]instanceof Float32Array||_0x3a343e[-0x169a+-0x126*-0x7+0x1*0xe90][_0x2b552b]instanceof Uint16Array){const _0x4b22c6=_0x3a343e['reduce']((_0x3680cb,_0x42f2c9)=>_0x3680cb+_0x42f2c9[_0x2b552b]['length'],0x1*-0xcf2+0x1cf3+-0x11*0xf1);let _0x420645;_0x3a343e[0x32*0xbd+-0x503*0x1+-0x1fe7][_0x2b552b]instanceof Uint16Array?_0x420645=new Uint16Array(_0x4b22c6):_0x420645=new Float32Array(_0x4b22c6);let _0xd76a4f=-0x547*0x2+-0x3*-0x80d+-0x3b*0x3b;for(const _0xd5f4ad of _0x3a343e)_0x420645['set'](_0xd5f4ad[_0x2b552b],_0xd76a4f),_0xd76a4f+=_0xd5f4ad[_0x2b552b]['length'];_0x756b07[_0x2b552b]=_0x420645;}else Array['isArray'](_0x3a343e[0xd37*0x1+0x1*0xd4b+-0x1a82][_0x2b552b])?_0x756b07[_0x2b552b]=_0x3a343e['flatMap'](_0x415594=>Array['from'](_0x415594[_0x2b552b])):_0x756b07[_0x2b552b]=_0x3a343e['map'](_0x1b8c40=>_0x1b8c40[_0x2b552b])['flat']();return _0x756b07;};}class hk extends me{constructor(_0x3c0ef8){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x3c0ef8,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x56a109){var _0x23e673;return(_0x23e673=this['worker'])==null||_0x23e673['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x56a109}),new Promise((_0xe780dc,_0x33ca10)=>{if(!this['worker']){_0x33ca10(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x442b4c=>{if(!this['worker'])return;const {data:_0x4dc6fa}=_0x442b4c;if(this['manifestUr'+'l']===_0x4dc6fa['url'])switch(_0x4dc6fa['type']){case'onloadMani'+'fest':_0xe780dc({'manifest':_0x4dc6fa['data'],'url':_0x4dc6fa['url'],'representation':_0x4dc6fa['representa'+'tion']});break;case'error':_0x33ca10(_0x4dc6fa['data']);break;}};});}['loadGsdSeg'+'ments'](_0x4bff8a,_0x123b6b){var _0x5d7661;return(_0x5d7661=this['worker'])==null||_0x5d7661['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x417544,_0x33b233)=>{if(!this['worker']){_0x33b233(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x411072=>{if(!this['worker'])return;const {data:_0x34a64a}=_0x411072;if(this['manifestUr'+'l']===_0x34a64a['url'])switch(_0x34a64a['type']){case'progress':_0x4bff8a==null||_0x4bff8a(_0x34a64a['bytes'],_0x34a64a['totalLengt'+'h'],_0x34a64a['url']);break;case'loadGsdSeg'+'mentsDone':_0x417544(_0x34a64a['data']);break;case'error':_0x123b6b==null||_0x123b6b(_0x34a64a['data'],_0x34a64a['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x2ab7e8,_0x1e27ee,_0x1002de){var _0x599b2c;return(_0x599b2c=this['worker'])==null||_0x599b2c['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x2ab7e8}),new Promise((_0x41c3ce,_0x53a1d4)=>{if(!this['worker']){_0x53a1d4(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x50441f=>{if(!this['worker'])return;const {data:_0x5ed113}=_0x50441f;if(this['manifestUr'+'l']===_0x5ed113['url'])switch(_0x5ed113['type']){case'progress':_0x1e27ee==null||_0x1e27ee(_0x5ed113['bytes'],_0x5ed113['totalLengt'+'h'],_0x5ed113['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x41c3ce(_0x5ed113);break;case'error':_0x1002de==null||_0x1002de(_0x5ed113['data'],_0x5ed113['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x15d6+-0xb7e+0x12*0x1da));}}const Xh=class Xh{constructor(_0x50f821,_0x272016,_0x12dfd1){h(this,'lastLoadIn'+'dex',0x52*0x1+-0x1f76*-0x1+-0x24*0xe2),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x50f821,this['representa'+'tion']=_0x272016,this['gsdAssetPa'+'rser']=_0x12dfd1,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x50f821,_0x272016));}['getSegment'+'Timeline'](_0x342057,_0x2f4585){let _0x25a4ac=null;for(const _0xb3b325 of _0x342057['adaptation'+'Sets'])if(_0xb3b325['contentTyp'+'e']==='4dgs'){for(const _0x5ab87e of _0xb3b325['representa'+'tions'])if(_0x5ab87e['id']===_0x2f4585){_0x25a4ac=_0x5ab87e;break;}break;}if(!_0x25a4ac)throw new Error('Representa'+'tion\x20\x27'+_0x2f4585+('\x27\x20not\x20foun'+'d'));return _0x25a4ac['segmentTem'+'plate'][0x1cce+0x71*-0x1+-0x1c5d*0x1]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x260241){const _0x46af4a=this['findSegmen'+'tTimeline'](_0x260241);if(!_0x46af4a)return;const _0x300190=_0x46af4a['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x818+-0x1e9f+0x1688)?_0x46af4a['timelineIn'+'dex']+(0x3c1*-0x6+-0x88*-0x22+0x477):0x1*0x2521+0x2*0x411+-0x2d43*0x1;this['lastLoadIn'+'dex']!==_0x300190&&(this['lastLoadIn'+'dex']=_0x300190,this['loadNextSe'+'gment'](_0x300190));}async['loadNextSe'+'gment'](_0x3e8615){const _0x2cb577=[];for(let _0x5b9fd2=-0xbed*0x1+-0xbaf+0x179c;_0x5b9fd2<Xh['CACHE_COUN'+'T'];_0x5b9fd2++)_0x2cb577['push']((_0x3e8615+_0x5b9fd2)%this['segmentTim'+'elines']['length']);const _0x5ce1a1=_0x2cb577[_0x2cb577['length']-(-0x6a*-0x40+0x397+-0x1e16)],_0x47029b=this['segmentTim'+'elines'][_0x5ce1a1]['t']+this['segmentTim'+'elines'][_0x5ce1a1]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x2cb577,_0x47029b);}['findSegmen'+'tTimeline'](_0x3947e8){let _0x35431b=0xcb2+0x1*0xf6b+0x3*-0x95f,_0x425f88=this['segmentTim'+'elines']['length']-(0x208d+-0x11e3+-0xea9);for(;_0x35431b<=_0x425f88;){const _0x38f23e=_0x35431b+_0x425f88>>0x1645+0x1*-0x911+-0x1f*0x6d,{t:_0x4ce8ca,d:_0x54d59e}=this['segmentTim'+'elines'][_0x38f23e];if(_0x3947e8<_0x4ce8ca)_0x425f88=_0x38f23e-(-0x1645+-0x8f6*-0x1+0xc*0x11c);else{if(_0x3947e8>=_0x4ce8ca+_0x54d59e)_0x35431b=_0x38f23e+(0x57+-0xe0+0x17*0x6);else return{'timeline':this['segmentTim'+'elines'][_0x38f23e],'timelineIndex':_0x38f23e};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x39f*-0x2+-0xa*0x17b+0x46a*0x5);let Wu=Xh;class dk{constructor(_0x31e44a,_0x5f08d5){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x5*-0x5aa+0x6*-0x33d+0x2fc1)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x31e44a,this['maxRetries']=_0x5f08d5,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x1*0x118b+-0x1*-0x829+-0x962*-0x1,this['manifest']={});}async['load'](_0x22da4d,_0xf04a58,_0xeaa722){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x22da4d['load']);const _0x4f2f3b=_0xeaa722['data']['events'];this['events']=_0x4f2f3b,this['asset']=_0xeaa722,this['callback']=_0xf04a58,this['timeOption']=_0xeaa722['data']['timeOption'];let _0x45fda3=_0xeaa722['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x22da4d['load']);const _0x4fff8b=await this['readWorker']['loadGsdMan'+'ifest'](_0x45fda3);this['manifest']=_0x4fff8b['manifest'],_0x45fda3=_0x4fff8b['manifest']['representa'+'tion']||_0x45fda3,this['schedule']=new Wu(this['manifest'],_0x45fda3,this),this['totalRecei'+'vedCount']=-0x1cc8+-0x1*0xd23+0x29eb;const _0x23b6b4=this['getSegment'+'Timeline'](this['manifest'],_0x45fda3),_0x227263=_0x23b6b4[-0x94*0x24+-0x1b30+-0x40*-0xc0]['t']+_0x23b6b4[0x26a*-0x3+-0x17*0x105+0x1eb1]['d'];this['appendload'+'DataTask']([-0x5d5+-0x43e*-0x7+0x17dd*-0x1,-0x1f58+0xd08+-0x1251*-0x1],_0x227263),_0x4f2f3b['on']('timeChange'+'d',_0x59e489=>{var _0x144618;(_0x144618=this['schedule'])==null||_0x144618['onTimeChan'+'ged'](_0x59e489);});}['getSegment'+'Timeline'](_0x21ca63,_0x943cf5){let _0x1d4a4a=null;for(const _0xf7e6e5 of _0x21ca63['adaptation'+'Sets'])if(_0xf7e6e5['contentTyp'+'e']==='4dgs'){for(const _0x1a3ba7 of _0xf7e6e5['representa'+'tions'])if(_0x1a3ba7['id']===_0x943cf5){_0x1d4a4a=_0x1a3ba7;break;}break;}if(!_0x1d4a4a)throw new Error('Representa'+'tion\x20\x27'+_0x943cf5+('\x27\x20not\x20foun'+'d'));return _0x1d4a4a['segmentTem'+'plate'][-0x2*0x856+-0x618+0x16c4]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x422ff0,_0x3bd2b0){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x422ff0,'loadedTime':_0x3bd2b0}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x7a*0x11+-0x5d3+-0x1*-0xded);try{for(;this['loadDataTa'+'skQueue']['length']>-0xa2+-0x1*-0x4c1+-0x41f*0x1;){const _0x4b8ff7=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x4b8ff7);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x16d0*0x1+-0x26c4*-0x1+-0x3d93);}}}async['loadGsplat'+'Data'](_0x599df4){var _0x18cf1c,_0x197b2e;const {segmentIndexs:_0x24e1c3,loadedTime:_0x5ab56e}=_0x599df4,_0x1b3df7=this['events'],_0x1ed37b=this['asset'],_0x2e8762=this['callback'],_0x45a62c=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x24e1c3,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x22cd+0xea2+-0x316d));try{const _0x2f7705=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x24e1c3,(_0x423fce,_0x36acc7)=>{this['totalRecei'+'ved']+=_0x423fce,_0x1ed37b&&_0x1b3df7['fire']('progress',this['totalRecei'+'ved'],_0x36acc7);},(_0x28e17d,_0x553f16)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x553f16,_0x28e17d);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0xd*0x239+0x5*0x6a2+-0x1*0x443),_0x2f7705['data']['elements'][-0xb22+-0xd82*-0x2+0x7f1*-0x2]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x2f7705['data']['elements'][-0x334+0x3d+0x2f7]['count']*(-0x548*-0x3+0x44eb*0x1+-0x2db3))['toFixed'](-0x2*-0xa7f+0x1*0x247d+0x3979*-0x1));const _0x502e19=_0x2f7705['data'];if(_0x502e19['elements'][-0x1850+0x2a7+0x5*0x455]['count']===0x23e6+-0x3*-0x483+-0x316f)return;this['totalRecei'+'vedCount']+=_0x502e19['elements'][0x1*0x1dab+0xf26+0x2cd1*-0x1]['count'];const _0x480461=new iC(_0x502e19['elements'],_0x502e19['comments']);_0x1ed37b['fire']('load:data',_0x480461);const _0x593c83=_0x1ed37b['data']['createTime']!==((_0x197b2e=(_0x18cf1c=this['onlyOneAss'+'et'])==null?void(0x21e7+0x11*-0x31+-0x1ea6):_0x18cf1c['data'])==null?void(0x1e29+0xfa8+-0x2dd1*0x1):_0x197b2e['createTime']);this['gsplatReso'+'urce']&&!_0x593c83?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x480461,_0x45a62c,_0x5ab56e,_0x1ed37b)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x480461),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x45a62c,this['onlyOneAss'+'et']=_0x1ed37b,_0x2e8762&&_0x2e8762(null,this['gsplatReso'+'urce']),_0x1b3df7['fire']('loadAllAss'+'etsDone'));}catch(_0x571856){console['error']('loadGsplat'+'Data','error',_0x571856),_0x2e8762&&_0x2e8762(_0x571856,null);}}['open'](_0x429d15,_0xcb66c3){return _0xcb66c3;}}class fk extends Qe{constructor(_0x427176){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x427176,'gsplat'),this['parsers']={'ply':new lk(_0x427176,-0xa22*-0x3+0xd52+0x43*-0xa7),'json':new dk(_0x427176,0x1d36+0x40f*0x6+-0x358d)};}['_getUrlWit'+'houtParams'](_0x1d0f5b){return _0x1d0f5b['indexOf']('?')>=-0x7*0x3e1+0x9d*-0x7+0x1f72?_0x1d0f5b['split']('?')[-0x9*0x11e+0x4*0x8fe+-0x19ea]:_0x1d0f5b;}['_getParser'](_0x24b1d0){const _0x1f7b9c=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x24b1d0))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1f7b9c]||this['parsers']['ply'];}['load'](_0x536ae2,_0x313d6e,_0x5b416b){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x536ae2=='string'&&(_0x536ae2={'load':_0x536ae2,'original':_0x536ae2}),this['_getParser'](_0x536ae2['original'])['load'](_0x536ae2,_0x313d6e,_0x5b416b);}['open'](_0x2da434,_0x3baf01,_0x1fd225){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x3baf01;}}class $u{static['setCompres'+'sedPRS'](_0x31931a,_0x210c3d,_0x5a9220){const _0xffa2f7=_0x5a9220['singleVecs'];let _0x5d1085,_0xb6152;const _0x3cb665=_0x210c3d['___1'];_0x3cb665||(_0x5d1085=_0x5a9220['tripleVecs'],_0xb6152=_0x210c3d['___2']);let _0x3ea0a5=_0x3cb665?_0x3cb665[-0x17f4+-0xc79+0x1*0x246d]:_0x5d1085[_0xb6152];_0x31931a['setLocalPo'+'sition'](_0xffa2f7[_0x3ea0a5],_0xffa2f7[_0x3ea0a5+(-0x1*-0x18eb+-0x51a*0x1+-0x13d0)],_0xffa2f7[_0x3ea0a5+(-0x2a6*-0x3+-0xdf0+0x40*0x18)]),_0x3ea0a5=_0x3cb665?_0x3cb665[0xb3*-0x15+0x2653*-0x1+0x3503]:_0x5d1085[_0xb6152+(0x1b33+0x5*-0xd+0x1*-0x1af1)],_0x31931a['setLocalEu'+'lerAngles'](_0xffa2f7[_0x3ea0a5],_0xffa2f7[_0x3ea0a5+(0x7ee+0x140*-0x6+0x1*-0x6d)],_0xffa2f7[_0x3ea0a5+(-0x2*-0x125f+0x3*-0xd01+0xb*0x35)]),_0x3ea0a5=_0x3cb665?_0x3cb665[0xd9e+-0x2*-0x3e5+-0x1566]:_0x5d1085[_0xb6152+(0x116d+0x1*0x1bef+-0x2d5a)],_0x31931a['setLocalSc'+'ale'](_0xffa2f7[_0x3ea0a5],_0xffa2f7[_0x3ea0a5+(-0xb9*0x23+-0xca6*0x1+0x25f2)],_0xffa2f7[_0x3ea0a5+(-0x104+-0x136*0x9+0xbec)]);}static['oneCharToK'+'ey'](_0xf7b433,_0x5286cc){const _0x3eb20d=_0xf7b433['charCodeAt'](-0x10a8+0x2606+-0x155e)-_0x5286cc['fieldFirst'+'Code'];return _0x5286cc['fieldArray'][_0x3eb20d];}static['multCharTo'+'Key'](_0x21aa3d,_0xb71142){let _0x322388=0x1ff7+-0x3ad*0xa+-0x3*-0x199;for(let _0xc6d238=-0x8*0x38b+0x1689*0x1+0x1*0x5cf;_0xc6d238<_0x21aa3d['length'];_0xc6d238++)_0x322388=_0x322388*_0xb71142['fieldCodeB'+'ase']+_0x21aa3d['charCodeAt'](_0xc6d238)-_0xb71142['fieldFirst'+'Code'];return _0xb71142['fieldArray'][_0x322388];}}class Uh{constructor(_0x25f016,_0x207798){this['_node']=_0x25f016,this['_data']=_0x207798;}['run'](){const _0x46cdc2=Object['prototype']['toString']['call'](this['_node']);return _0x46cdc2==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x46cdc2==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x484a09){let _0x5dbf9e=_0x484a09;const _0xb29851=_0x484a09['length'];_0xb29851===0x1777*0x1+0xa1d+-0x2193?_0x5dbf9e=$u['oneCharToK'+'ey'](_0x484a09,this['_data']):_0xb29851===0x1*0x217+-0x1f4d+0x1d38&&(_0x5dbf9e=$u['multCharTo'+'Key'](_0x484a09,this['_data'])),this['_result'][_0x5dbf9e]=new Uh(this['_node'][_0x484a09],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0xee6da5){const _0x1b8d77=new Uh(_0xee6da5,this['_data'])['run']();this['_result']['push'](_0x1b8d77);}}class bm{constructor(_0x3c6d7c,_0x2e4d91){this['_app']=_0x3c6d7c,this['_isTemplat'+'e']=_0x2e4d91;}['parse'](_0x1bfeb1){const _0x5e9fed={};let _0x4e16dc=null;const _0x251ee6=_0x1bfeb1['compressed'+'Format'];_0x251ee6&&!_0x1bfeb1['entDecompr'+'essed']&&(_0x1bfeb1['entDecompr'+'essed']=!(-0x1*-0x3a1+-0x1732+0x1391),_0x1bfeb1['entities']=new Uh(_0x1bfeb1['entities'],_0x251ee6)['run']());for(const _0x2c2778 in _0x1bfeb1['entities']){const _0xdadd09=_0x1bfeb1['entities'][_0x2c2778],_0x2b5ec1=this['_createEnt'+'ity'](_0xdadd09,_0x251ee6);_0x5e9fed[_0x2c2778]=_0x2b5ec1,_0xdadd09['parent']===null&&(_0x4e16dc=_0x2b5ec1);}for(const _0x130d0e in _0x1bfeb1['entities']){const _0x3d1ba6=_0x5e9fed[_0x130d0e],_0x16ddea=_0x1bfeb1['entities'][_0x130d0e]['children'],_0x1ff5fb=_0x16ddea['length'];for(let _0x37bfc1=0x2452+-0xd9*-0x29+-0x4713;_0x37bfc1<_0x1ff5fb;_0x37bfc1++){const _0x42ed7c=_0x5e9fed[_0x16ddea[_0x37bfc1]];_0x42ed7c&&_0x3d1ba6['addChild'](_0x42ed7c);}}return this['_openCompo'+'nentData'](_0x4e16dc,_0x1bfeb1['entities']),_0x4e16dc;}['_createEnt'+'ity'](_0x255e3f,_0x2be400){const _0x430f3b=new lt(_0x255e3f['name'],this['_app']);if(_0x430f3b['setGuid'](_0x255e3f['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x430f3b,_0x255e3f,_0x2be400),_0x430f3b['_enabled']=_0x255e3f['enabled']??!(-0xe0*0x13+0x12b7+-0x217),this['_isTemplat'+'e']?_0x430f3b['_template']=!(-0x2309+0x1*-0xc53+-0x2f5c*-0x1):_0x430f3b['_enabledIn'+'Hierarchy']=_0x430f3b['_enabled'],_0x430f3b['template']=_0x255e3f['template'],_0x255e3f['tags']){for(let _0x10393c=0x35e*-0x1+-0x985*0x2+0x1668;_0x10393c<_0x255e3f['tags']['length'];_0x10393c++)_0x430f3b['tags']['add'](_0x255e3f['tags'][_0x10393c]);}return _0x430f3b;}['_setPosRot'+'Scale'](_0x513074,_0x42c1c6,_0xa9be47){if(_0xa9be47)$u['setCompres'+'sedPRS'](_0x513074,_0x42c1c6,_0xa9be47);else{const _0x500b33=_0x42c1c6['position'],_0xe37dc9=_0x42c1c6['rotation'],_0x163604=_0x42c1c6['scale'];_0x513074['setLocalPo'+'sition'](_0x500b33[-0x1812+-0x19f9*-0x1+-0x1e7],_0x500b33[-0x1*-0xc7f+-0x3*0xae5+0x6bb*0x3],_0x500b33[-0x11a3+0x1ef+-0x7db*-0x2]),_0x513074['setLocalEu'+'lerAngles'](_0xe37dc9[-0xfdd+0xf*-0x13+-0x2*-0x87d],_0xe37dc9[-0x2*-0x803+0x6c5+-0x1*0x16ca],_0xe37dc9[0x12*-0x1dd+-0x97*-0x2f+0x5d3]),_0x513074['setLocalSc'+'ale'](_0x163604[0x2e*-0xd6+-0x11db*-0x1+0x1499],_0x163604[0x1ac+-0x1105+0xf5a],_0x163604[-0x3b2+0xc4b+-0x897]);}}['_openCompo'+'nentData'](_0x294dda,_0x499b38){const _0x3696f2=this['_app']['systems']['list'];let _0x24576c=_0x3696f2['length'];const _0x1150a5=_0x499b38[_0x294dda['getGuid']()];for(let _0x1ee0c2=-0x1e*-0x3+-0x17f6+0x179c;_0x1ee0c2<_0x24576c;_0x1ee0c2++){const _0x1c40fe=_0x3696f2[_0x1ee0c2],_0x794b53=_0x1150a5['components'][_0x1c40fe['id']];_0x794b53&&_0x1c40fe['addCompone'+'nt'](_0x294dda,_0x794b53);}_0x24576c=_0x1150a5['children']['length'];const _0x1f65a1=_0x294dda['_children'];for(let _0x3513db=-0x5+-0x3f5*-0x5+0xa*-0x1fa;_0x3513db<_0x24576c;_0x3513db++)_0x1f65a1[_0x3513db]?_0x1f65a1[_0x3513db]=this['_openCompo'+'nentData'](_0x1f65a1[_0x3513db],_0x499b38):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x294dda['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x294dda;}}class E0{static['load'](_0x23ff1b,_0x195d28,_0x14d33a){typeof _0x23ff1b=='string'&&(_0x23ff1b={'load':_0x23ff1b,'original':_0x23ff1b}),ot['get'](_0x23ff1b['load'],{'retry':_0x195d28>0x10dc+-0x1*-0xe45+-0x1f21,'maxRetries':_0x195d28},(_0x4deeb4,_0xf5dcd0)=>{if(!_0x4deeb4)_0x14d33a(_0x4deeb4,_0xf5dcd0);else{let _0x303f88='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x23ff1b['original'];_0x4deeb4['message']?(_0x303f88+=':\x20'+_0x4deeb4['message'],_0x4deeb4['stack']&&(_0x303f88+='\x0a'+_0x4deeb4['stack'])):_0x303f88+=':\x20'+_0x4deeb4,_0x14d33a(_0x303f88);}});}}class uk extends Qe{constructor(_0x56ae7d){super(_0x56ae7d,'hierarchy');}['load'](_0x565b04,_0x1e2c04){E0['load'](_0x565b04,this['maxRetries'],_0x1e2c04);}['open'](_0x113a76,_0x480138){this['_app']['systems']['script']['preloading']=!(-0x43c+-0x1*0x5b7+0x9f3);const _0x24bac0=new bm(this['_app'],!(0x7*-0x21+-0x1*0x6fb+-0x2a1*-0x3))['parse'](_0x480138);return this['_app']['systems']['script']['preloading']=!(0xbe+0x21c8+-0x2285),_0x24bac0;}}class pk extends Qe{constructor(_0xe2352b){super(_0xe2352b,'html'),h(this,'decoder',null);}['load'](_0xb7a9f5,_0x2666f4){typeof _0xb7a9f5=='string'&&(_0xb7a9f5={'load':_0xb7a9f5,'original':_0xb7a9f5}),ot['get'](_0xb7a9f5['load'],{'retry':this['maxRetries']>0x14ba+-0x221d*0x1+-0x95*-0x17,'maxRetries':this['maxRetries']},(_0xf8eb38,_0x5eed0e)=>{_0xf8eb38?_0x2666f4('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0xb7a9f5['original']+'\x20['+_0xf8eb38+']'):_0x2666f4(null,_0x5eed0e);});}['openBinary'](_0x36ebca){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x36ebca);}}class mk extends Qe{constructor(_0x33bb6c){super(_0x33bb6c,'json'),h(this,'decoder',null);}['load'](_0x3940b6,_0x355970){typeof _0x3940b6=='string'&&(_0x3940b6={'load':_0x3940b6,'original':_0x3940b6});const _0x4c4dde={'retry':this['maxRetries']>0x1d55+-0x1a92+-0x2c3,'maxRetries':this['maxRetries']};_0x3940b6['load']['startsWith']('blob:')&&(_0x4c4dde['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x3940b6['load'],_0x4c4dde,(_0x373272,_0x262b31)=>{_0x373272?_0x355970('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3940b6['original']+'\x20['+_0x373272+']'):_0x355970(null,_0x262b31);});}['openBinary'](_0x4c90c3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x4c90c3));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x8b5+0x3*0x10e+0x58b),this['valid']=!(0x4*0x30a+0x747*-0x5+-0x183b*-0x1),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x4ba5bf,_0x2085aa){this['valid']=!(0xdce+-0x1*0x4c3+-0x90a),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x4ba5bf,_0x2085aa[_0x4ba5bf]),this['removeInva'+'lid']&&delete _0x2085aa[_0x4ba5bf];}['validate'](_0x18a2ab){const _0x2a9ed0=$n,_0x1bd337=gb,_0x94f913=_0x18a2ab['mappingFor'+'mat']==='path';for(const _0x519ee1 in _0x18a2ab){const _0x3b1e2b=_0x2a9ed0[_0x519ee1];if(!_0x3b1e2b){_0x1bd337[_0x519ee1]?delete _0x18a2ab[_0x519ee1]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x519ee1),this['valid']=!(-0x1a15+-0xc99+0x1*0x26af));continue;}if(_0x3b1e2b['startsWith']('enum')){const _0x3517c4=_0x3b1e2b['split'](':')[-0x7*0x301+0x19d8+-0x4d0];this['enumValida'+'tors'][_0x3517c4]&&(this['enumValida'+'tors'][_0x3517c4](_0x18a2ab[_0x519ee1])||this['setInvalid'](_0x519ee1,_0x18a2ab));}else{if(_0x3b1e2b==='number')typeof _0x18a2ab[_0x519ee1]!='number'&&this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='boolean')typeof _0x18a2ab[_0x519ee1]!='boolean'&&this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='string')typeof _0x18a2ab[_0x519ee1]!='string'&&this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='vec2')_0x18a2ab[_0x519ee1]instanceof Array&&_0x18a2ab[_0x519ee1]['length']===-0x254b+-0x1*0x1934+-0x3e81*-0x1||this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='rgb')_0x18a2ab[_0x519ee1]instanceof Array&&_0x18a2ab[_0x519ee1]['length']===-0x1dce+-0x2096+0x3e67||this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='texture')_0x94f913?typeof _0x18a2ab[_0x519ee1]=='string'||_0x18a2ab[_0x519ee1]===null||_0x18a2ab[_0x519ee1]instanceof _e||this['setInvalid'](_0x519ee1,_0x18a2ab):typeof _0x18a2ab[_0x519ee1]=='number'||_0x18a2ab[_0x519ee1]===null||_0x18a2ab[_0x519ee1]instanceof _e||this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='boundingbo'+'x')_0x18a2ab[_0x519ee1]['center']&&_0x18a2ab[_0x519ee1]['center']instanceof Array&&_0x18a2ab[_0x519ee1]['center']['length']===0x6ab+-0x73*-0x23+-0x1661||this['setInvalid'](_0x519ee1,_0x18a2ab),_0x18a2ab[_0x519ee1]['halfExtent'+'s']&&_0x18a2ab[_0x519ee1]['halfExtent'+'s']instanceof Array&&_0x18a2ab[_0x519ee1]['halfExtent'+'s']['length']===-0xd46*0x1+-0x7ae+-0x6fd*-0x3||this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='cubemap')typeof _0x18a2ab[_0x519ee1]=='number'||_0x18a2ab[_0x519ee1]===null||_0x18a2ab[_0x519ee1]===void(0xb89+-0x2605+0x1a7c)||_0x18a2ab[_0x519ee1]instanceof _e&&_0x18a2ab[_0x519ee1]['cubemap']||this['setInvalid'](_0x519ee1,_0x18a2ab);else{if(_0x3b1e2b==='chunks'){const _0x513d88=Object['keys'](_0x18a2ab[_0x519ee1]);for(let _0x1e6169=-0x117*0x1d+0x674+-0x89*-0x2f;_0x1e6169<_0x513d88['length'];_0x1e6169++)typeof _0x18a2ab[_0x519ee1][_0x513d88[_0x1e6169]]!='string'&&this['setInvalid'](_0x513d88[_0x1e6169],_0x18a2ab[_0x519ee1]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x3b1e2b);}}}}}}}}}}return _0x18a2ab['validated']=!(0x7*-0x17b+0x235b+-0x18fe),this['valid'];}['_createEnu'+'mValidator'](_0x5265b2){return function(_0x117324){return _0x5265b2['indexOf'](_0x117324)>=0x1b3*0x9+-0xee9+0x31*-0x2;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x1d5f7a){const _0x3fe3a7=this['migrate'](_0x1d5f7a),_0x49f944=this['_validate'](_0x3fe3a7),_0x1ca35e=new Ut();return this['initialize'](_0x1ca35e,_0x49f944),_0x1ca35e;}['initialize'](_0x3dfd2c,_0x3c7d92){if(_0x3c7d92['validated']||(_0x3c7d92=this['_validate'](_0x3c7d92)),_0x3c7d92['chunks']&&_0x3c7d92['chunks']&&Object['keys'](_0x3c7d92['chunks'])['length']>0x1197*-0x1+0x6e*0x37+-0x11*0x5b){const _0x1699ef=_0x3dfd2c['shaderChun'+'ks']['glsl'];Object['entries'](_0x3c7d92['chunks'])['forEach'](([_0x5a0b7b,_0x5f5c90])=>_0x1699ef['set'](_0x5a0b7b,_0x5f5c90));}for(const _0x26ba13 in _0x3c7d92){const _0x25d6c8=$n[_0x26ba13],_0x2be339=_0x3c7d92[_0x26ba13];if(_0x25d6c8==='vec2')_0x3dfd2c[_0x26ba13]=new J(_0x2be339[0x7*-0x1b1+0x24f*-0x1+0xe26],_0x2be339[-0x437+-0x18cd+0x1d05]);else{if(_0x25d6c8==='rgb')_0x3dfd2c[_0x26ba13]=new ie(_0x2be339[0x1391+0x1b23+-0x2eb4],_0x2be339[-0xf84+-0x1119+0x209e],_0x2be339[0x1435+0x1c68+-0x309b*0x1]);else{if(_0x25d6c8==='texture')_0x2be339 instanceof _e?_0x3dfd2c[_0x26ba13]=_0x2be339:_0x3dfd2c[_0x26ba13]instanceof _e&&typeof _0x2be339=='number'&&_0x2be339>-0x1ad7+0xe7a+0xc5d*0x1||(_0x3dfd2c[_0x26ba13]=null);else{if(_0x25d6c8==='cubemap')_0x2be339 instanceof _e?_0x3dfd2c[_0x26ba13]=_0x2be339:_0x3dfd2c[_0x26ba13]instanceof _e&&typeof _0x2be339=='number'&&_0x2be339>0x168e+0x1e7e+-0x5*0xa9c||(_0x3dfd2c[_0x26ba13]=null),_0x26ba13==='cubeMap'&&!_0x2be339&&(_0x3dfd2c['prefiltere'+'dCubemaps']=null);else{if(_0x25d6c8==='boundingbo'+'x'){const _0x9c1b58=new D(_0x2be339['center'][-0x14dc+0x5*-0x257+0x208f],_0x2be339['center'][-0x2*-0x97+-0x52*-0x6+0x1*-0x319],_0x2be339['center'][0x21a0+0x1721+-0x1*0x38bf]),_0x590f6b=new D(_0x2be339['halfExtent'+'s'][0xf63+0x1322+-0x2285],_0x2be339['halfExtent'+'s'][-0x2416+-0x5*-0x503+0x1*0xb08],_0x2be339['halfExtent'+'s'][0x2d3+-0xb9*-0x22+-0xab*0x29]);_0x3dfd2c[_0x26ba13]=new De(_0x9c1b58,_0x590f6b);}else _0x3dfd2c[_0x26ba13]=_0x3c7d92[_0x26ba13];}}}}}_0x3dfd2c['update']();}['migrate'](_0x1154f9){_0x1154f9['shader']&&delete _0x1154f9['shader'],_0x1154f9['mapping_fo'+'rmat']&&(_0x1154f9['mappingFor'+'mat']=_0x1154f9['mapping_fo'+'rmat'],delete _0x1154f9['mapping_fo'+'rmat']);let _0x28297b;const _0x2bb9d3=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x28297b=0x665*0x1+0x750+-0xdb5;_0x28297b<_0x2bb9d3['length'];_0x28297b++){const _0x27306e=_0x2bb9d3[_0x28297b][-0x2347+0xa4*0x13+0x41*0x5b],_0x43b2e2=_0x2bb9d3[_0x28297b][0x1cc9+-0x4e1*0x1+0xd3*-0x1d];_0x1154f9[_0x27306e]!==void(-0x2*0x82d+0x1*-0x17d7+0x2831)&&(_0x1154f9[_0x43b2e2]===void(0x24ca+-0x1236+-0x1294)&&(_0x1154f9[_0x43b2e2]=_0x1154f9[_0x27306e]),delete _0x1154f9[_0x27306e]);}const _0x5b17ce=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x28297b=-0x95*-0x19+0xa*0x233+-0x5*0x74f;_0x28297b<_0x5b17ce['length'];_0x28297b++){const _0x9319bb=_0x5b17ce[_0x28297b];_0x1154f9['hasOwnProp'+'erty'](_0x9319bb)&&delete _0x1154f9[_0x9319bb];}return _0x1154f9;}['_validate'](_0x50884c){return _0x50884c['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x50884c)),_0x50884c;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x1bbdde){super(_0x1bbdde,'material'),this['_assets']=_0x1bbdde['assets'],this['_device']=_0x1bbdde['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x5405f4,_0x3cac06){typeof _0x5405f4=='string'&&(_0x5405f4={'load':_0x5405f4,'original':_0x5405f4}),ot['get'](_0x5405f4['load'],{'retry':this['maxRetries']>0xe13+0x1*0xb62+-0x1975,'maxRetries':this['maxRetries']},(_0x1045a6,_0x163a3b)=>{_0x1045a6?_0x3cac06&&_0x3cac06('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x5405f4['original']+'\x20['+_0x1045a6+']'):_0x3cac06&&(_0x163a3b['_engine']=!(-0x6*0x29c+0x23b5+-0x140d),_0x3cac06(null,_0x163a3b));});}['open'](_0x4666ee,_0x1a2d72){const _0x6256f3=this['_parser']['parse'](_0x1a2d72);return _0x1a2d72['_engine']&&(_0x6256f3['_data']=_0x1a2d72,delete _0x1a2d72['_engine']),_0x6256f3;}['patch'](_0x3bad76,_0x5a7c26){_0x3bad76['resource']['_data']&&(_0x3bad76['_data']=_0x3bad76['resource']['_data'],delete _0x3bad76['resource']['_data']),_0x3bad76['data']['name']=_0x3bad76['name'],_0x3bad76['resource']['name']=_0x3bad76['name'],this['_bindAndAs'+'signAssets'](_0x3bad76,_0x5a7c26),_0x3bad76['off']('unload',this['_onAssetUn'+'load'],this),_0x3bad76['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x70e59f){delete _0x70e59f['data']['parameters'],delete _0x70e59f['data']['chunks'],delete _0x70e59f['data']['name'];}['_assignTex'+'ture'](_0x3c864b,_0x264f8e,_0x3b7d20){_0x264f8e['resource'][_0x3c864b]=_0x3b7d20;}['_getPlaceh'+'olderTextu'+'re'](_0x2a7ed9){const _0x104398=Sk[_0x2a7ed9];return w['assert'](_0x104398,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x2a7ed9),fa(this['_device'],_0x104398);}['_assignPla'+'ceholderTe'+'xture'](_0x42d1f7,_0x363a4b){_0x363a4b['resource'][_0x42d1f7]=this['_getPlaceh'+'olderTextu'+'re'](_0x42d1f7);}['_onTexture'+'Load'](_0x5a17fc,_0x2b228e,_0x2398cf){this['_assignTex'+'ture'](_0x5a17fc,_0x2b228e,_0x2398cf['resource']),_0x2b228e['resource']['update']();}['_onTexture'+'Add'](_0x5911a5,_0x2b79a9,_0x4b0d9b){this['_assets']['load'](_0x4b0d9b);}['_onTexture'+'RemoveOrUn'+'load'](_0x3cbec7,_0x2022b4,_0x328e86){const _0x4847ed=_0x2022b4['resource'];_0x4847ed&&_0x2022b4['resource'][_0x3cbec7]===_0x328e86['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x3cbec7,_0x2022b4),_0x4847ed['update']());}['_assignCub'+'emap'](_0x43e20b,_0x3cf5d2,_0x19ae6f){if(_0x3cf5d2['resource'][_0x43e20b]=_0x19ae6f[0x933*0x1+0x941+-0x1274],_0x43e20b==='cubeMap'){const _0x12ce1b=_0x19ae6f['slice'](0x6c3+0x1*0x2d5+-0x997);_0x12ce1b['every'](_0x1465bc=>_0x1465bc)?_0x3cf5d2['resource']['prefiltere'+'dCubemaps']=_0x12ce1b:_0x12ce1b[0xcc+-0x157*0x1+0x8b]&&(_0x3cf5d2['resource']['envAtlas']=_0x12ce1b[-0x449+-0x696+0xadf]);}}['_onCubemap'+'Load'](_0x1eb371,_0x1fac41,_0x245fd7){this['_assignCub'+'emap'](_0x1eb371,_0x1fac41,_0x245fd7['resources']),this['_parser']['initialize'](_0x1fac41['resource'],_0x1fac41['data']);}['_onCubemap'+'Add'](_0x40eb29,_0x5a19a7,_0x2ff468){this['_assets']['load'](_0x2ff468);}['_onCubemap'+'RemoveOrUn'+'load'](_0x5029c7,_0x419956,_0x4b7683){const _0x5a9ad9=_0x419956['resource'];_0x419956['data']['prefiltere'+'dCubeMap12'+'8']===_0x4b7683['resources'][-0x1*0x2129+0x7f4+0x1cd*0xe]&&(this['_assignCub'+'emap'](_0x5029c7,_0x419956,[null,null,null,null,null,null,null]),_0x5a9ad9['update']());}['_bindAndAs'+'signAssets'](_0x4b84cb,_0x30daef){const _0x45313=this['_parser']['migrate'](_0x4b84cb['data']),_0x29818d=_0x4b84cb['resource'],_0x54768c=_0x45313['mappingFor'+'mat']==='path',_0x1c73f4=Cd;let _0x34928e,_0x2cdf2d,_0x36ad8f;for(_0x34928e=0x11e8+0x449*0x4+0x4*-0x8c3;_0x34928e<_0x1c73f4['length'];_0x34928e++){_0x2cdf2d=_0x1c73f4[_0x34928e],_0x36ad8f=_0x29818d['_assetRefe'+'rences'][_0x2cdf2d];const _0x15d36c=_0x45313[_0x2cdf2d],_0x4476f2=_0x29818d[_0x2cdf2d],_0x5c8c70=_0x4476f2===this['_getPlaceh'+'olderTextu'+'re'](_0x2cdf2d),_0x137123=_0x45313['validated'];_0x15d36c&&(!_0x4476f2||!_0x137123||_0x5c8c70)?(_0x36ad8f||(_0x36ad8f=new gl(_0x2cdf2d,_0x4b84cb,_0x30daef,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x29818d['_assetRefe'+'rences'][_0x2cdf2d]=_0x36ad8f),_0x54768c?_0x36ad8f['url']=_0x4b84cb['getAbsolut'+'eUrl'](_0x15d36c):_0x36ad8f['id']=_0x15d36c,_0x36ad8f['asset']&&(_0x36ad8f['asset']['resource']?this['_assignTex'+'ture'](_0x2cdf2d,_0x4b84cb,_0x36ad8f['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x2cdf2d,_0x4b84cb),_0x30daef['load'](_0x36ad8f['asset']))):_0x36ad8f&&(_0x54768c?_0x36ad8f['url']=null:_0x36ad8f['id']=null);}const _0x575bf9=fm;for(_0x34928e=-0x196c+-0x1*-0x822+0x1*0x114a;_0x34928e<_0x575bf9['length'];_0x34928e++)_0x2cdf2d=_0x575bf9[_0x34928e],_0x36ad8f=_0x29818d['_assetRefe'+'rences'][_0x2cdf2d],_0x45313[_0x2cdf2d]&&!_0x4b84cb['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x36ad8f||(_0x36ad8f=new gl(_0x2cdf2d,_0x4b84cb,_0x30daef,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x29818d['_assetRefe'+'rences'][_0x2cdf2d]=_0x36ad8f),_0x54768c?_0x36ad8f['url']=_0x45313[_0x2cdf2d]:_0x36ad8f['id']=_0x45313[_0x2cdf2d],_0x36ad8f['asset']&&(_0x36ad8f['asset']['loaded']&&this['_assignCub'+'emap'](_0x2cdf2d,_0x4b84cb,_0x36ad8f['asset']['resources']),_0x30daef['load'](_0x36ad8f['asset'])));this['_parser']['initialize'](_0x29818d,_0x45313);}}class vk{constructor(_0x567b43){this['_device']=_0x567b43['device'],this['_defaultMa'+'terial']=_0x567b43['defaultMat'+'erial'],this['_assets']=_0x567b43['assets'];}['parse'](_0x2794df,_0x10d620,_0x33f346){kh['parse']('filename.g'+'lb','',_0x2794df,this['_device'],this['_assets'],(_0x33f346==null?void(-0xbb8+-0x1*-0x22c9+0x49d*-0x5):_0x33f346['options'])??{},(_0x2da6e9,_0x382f8d)=>{if(_0x2da6e9)_0x10d620(_0x2da6e9);else{const _0x4c7d8b=yr['createMode'+'l'](_0x382f8d,this['_defaultMa'+'terial']);_0x382f8d['destroy'](),_0x10d620(null,_0x4c7d8b);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x27ed07){this['_device']=_0x27ed07['device'],this['_defaultMa'+'terial']=_0x27ed07['defaultMat'+'erial'];}['parse'](_0x387217,_0x1a3827){const _0x4fc345=_0x387217['model'];if(!_0x4fc345){_0x1a3827(null,null);return;}if(_0x4fc345['version']<=0xd09*0x2+-0x2b*0x17+0x196*-0xe){_0x1a3827('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x1b1f8f=this['_parseNode'+'s'](_0x387217),_0x588c20=this['_parseSkin'+'s'](_0x387217,_0x1b1f8f),_0x133104=this['_parseVert'+'exBuffers'](_0x387217),_0x723bd8=this['_parseInde'+'xBuffers'](_0x387217,_0x133104),_0x11fdc8=this['_parseMorp'+'hs'](_0x387217,_0x1b1f8f,_0x133104),_0x2bb37c=this['_parseMesh'+'es'](_0x387217,_0x588c20['skins'],_0x11fdc8['morphs'],_0x133104,_0x723bd8['buffer'],_0x723bd8['data']),_0x36fc49=this['_parseMesh'+'Instances'](_0x387217,_0x1b1f8f,_0x2bb37c,_0x588c20['skins'],_0x588c20['instances'],_0x11fdc8['morphs'],_0x11fdc8['instances']),_0x1d78a2=new sr();_0x1d78a2['graph']=_0x1b1f8f[-0x48*-0x2c+-0xd73*0x2+0xe86],_0x1d78a2['meshInstan'+'ces']=_0x36fc49,_0x1d78a2['skinInstan'+'ces']=_0x588c20['instances'],_0x1d78a2['morphInsta'+'nces']=_0x11fdc8['instances'],_0x1d78a2['getGraph']()['syncHierar'+'chy'](),_0x1a3827(null,_0x1d78a2);}['_parseNode'+'s'](_0x354ba3){const _0x39677b=_0x354ba3['model'],_0x5317b6=[];let _0x556f7b;for(_0x556f7b=-0x125d*-0x1+0x1*0x2029+0x1*-0x3286;_0x556f7b<_0x39677b['nodes']['length'];_0x556f7b++){const _0x408b8a=_0x39677b['nodes'][_0x556f7b],_0x5c3a82=new Ie(_0x408b8a['name']);_0x5c3a82['setLocalPo'+'sition'](_0x408b8a['position'][-0xdf*0x2+0x4e2+-0x324],_0x408b8a['position'][0x3*-0x2bd+-0x25af+0x2de7],_0x408b8a['position'][0x1a72+-0x13ab+-0x6c5]),_0x5c3a82['setLocalEu'+'lerAngles'](_0x408b8a['rotation'][-0x57d*0x5+0x8*-0x46d+-0x1f*-0x207],_0x408b8a['rotation'][0x1309+-0x1247*0x2+-0x8c3*-0x2],_0x408b8a['rotation'][0x2ed+-0xf55*0x2+0x1bbf]),_0x5c3a82['setLocalSc'+'ale'](_0x408b8a['scale'][0xcb*0x17+-0x6*-0x221+0x1f03*-0x1],_0x408b8a['scale'][0x25*-0x91+0x18c*0xb+0x3f2],_0x408b8a['scale'][-0x8e*-0xf+-0x446*-0x7+-0x263a]),_0x5c3a82['scaleCompe'+'nsation']=!!_0x408b8a['scaleCompe'+'nsation'],_0x5317b6['push'](_0x5c3a82);}for(_0x556f7b=0x72+0x2*0xa75+0x30d*-0x7;_0x556f7b<_0x39677b['parents']['length'];_0x556f7b++)_0x5317b6[_0x39677b['parents'][_0x556f7b]]['addChild'](_0x5317b6[_0x556f7b]);return _0x5317b6;}['_parseSkin'+'s'](_0x25a319,_0x47330c){const _0x2e80d4=_0x25a319['model'],_0x2bab8e=[],_0x725b56=[];let _0x1374e2,_0x1f37a5;for(_0x1374e2=0xf7*0x1+0x2390+-0x9*0x40f;_0x1374e2<_0x2e80d4['skins']['length'];_0x1374e2++){const _0x24ec1f=_0x2e80d4['skins'][_0x1374e2],_0x13c001=[];for(_0x1f37a5=-0xeff+-0x42f+0x2*0x997;_0x1f37a5<_0x24ec1f['inverseBin'+'dMatrices']['length'];_0x1f37a5++){const _0x3adbe6=_0x24ec1f['inverseBin'+'dMatrices'][_0x1f37a5];_0x13c001[_0x1f37a5]=new te()['set'](_0x3adbe6);}const _0x59ffc7=new Lv(this['_device'],_0x13c001,_0x24ec1f['boneNames']);_0x2bab8e['push'](_0x59ffc7);const _0x3fdbd3=new Ol(_0x59ffc7),_0x3849e4=[];for(_0x1f37a5=0x1c*0xcf+0x1200+0x24*-0x121;_0x1f37a5<_0x59ffc7['boneNames']['length'];_0x1f37a5++){const _0x416211=_0x59ffc7['boneNames'][_0x1f37a5],_0x4ece9e=_0x47330c[0x20d8+-0x1786+0x1*-0x952]['findByName'](_0x416211);_0x3849e4['push'](_0x4ece9e);}_0x3fdbd3['bones']=_0x3849e4,_0x725b56['push'](_0x3fdbd3);}return{'skins':_0x2bab8e,'instances':_0x725b56};}['_getMorphV'+'ertexCount'](_0x5e7eee,_0x20bd39,_0xd88c06){for(let _0x319c0c=-0xf4e+0x9*-0x61+0x12b7*0x1;_0x319c0c<_0x5e7eee['meshes']['length'];_0x319c0c++){const _0x1733f4=_0x5e7eee['meshes'][_0x319c0c];if(_0x1733f4['morph']===_0x20bd39)return _0xd88c06[_0x1733f4['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x4b6e26,_0x29e18e,_0x2bde9b){const _0xc23101=_0x4b6e26['model'],_0x56ebed=[],_0x544c93=[];let _0x291f47,_0x173c86,_0x1b0220,_0x4aa9ce,_0x1c90e4,_0xae056e;if(_0xc23101['morphs']){const _0x20a44e=function(_0x5a7a4f,_0x1f078e,_0xc5a4a6){const _0x13a919=new Float32Array(_0xc5a4a6*(-0x421*-0x2+-0x1ef7+0xb5c*0x2));for(let _0x4a0d79=-0xeb4*-0x2+0x1790+0x1c4*-0x1e;_0x4a0d79<_0x1f078e['length'];_0x4a0d79++){const _0x1b7156=_0x1f078e[_0x4a0d79]*(0x1*-0x1b6b+0x2130*0x1+-0x5c2);_0x13a919[_0x1b7156]=_0x5a7a4f[_0x4a0d79*(-0x18*0xd6+0x1563+-0x10*0x15)],_0x13a919[_0x1b7156+(0x36*-0x24+0x3d*-0x65+-0x2*-0xfd5)]=_0x5a7a4f[_0x4a0d79*(0x3*0x4ad+-0xf17+0xb*0x19)+(0x1e51*0x1+-0x1*-0xa0c+-0x285c)],_0x13a919[_0x1b7156+(0x126d+0x3b*-0x7d+0xa64)]=_0x5a7a4f[_0x4a0d79*(-0x574+0x1*-0x1724+0x1c9b)+(0xf*0x13+0x25bb+-0x26d6)];}return _0x13a919;};for(_0x291f47=0x5*-0x103+0xf4*0x1+0x41b;_0x291f47<_0xc23101['morphs']['length'];_0x291f47++){for(_0x4aa9ce=_0xc23101['morphs'][_0x291f47]['targets'],_0xae056e=[],_0x1b0220=this['_getMorphV'+'ertexCount'](_0xc23101,_0x291f47,_0x2bde9b),_0x173c86=0x144+0x627+-0x76b;_0x173c86<_0x4aa9ce['length'];_0x173c86++){const _0x3f4739=_0x4aa9ce[_0x173c86]['aabb'],_0x2cdf07=_0x3f4739['min'],_0x49b0c9=_0x3f4739['max'],_0x1d5a60=new De(new D((_0x49b0c9[0x2053+-0xe74+-0x11df]+_0x2cdf07[-0x2538+-0xc1+-0x25f9*-0x1])*(0x183*0x17+-0x1*-0x8f9+-0x2bbe+0.5),(_0x49b0c9[-0x82c*0x3+-0x2255+0x22e*0x1b]+_0x2cdf07[0x175d+0x2bd*0x3+-0x1f93])*(0x1*-0x301+0xb32+-0x831*0x1+0.5),(_0x49b0c9[-0x96b*0x3+-0x2704+0x4347]+_0x2cdf07[0x16d3+-0x1e9*0x11+0x9a8])*(-0xbf*0xc+-0x314*-0x2+0x166*0x2+0.5)),new D((_0x49b0c9[0x1*-0x1235+-0x115f*0x1+0x2f7*0xc]-_0x2cdf07[-0xd2a*-0x2+0x34*-0xb+-0x1818*0x1])*(-0x1701+-0x1b91*-0x1+-0x490+0.5),(_0x49b0c9[-0x26d6+-0x1*-0x1eb3+0x209*0x4]-_0x2cdf07[0x29d*-0x2+0xc63+-0x394*0x2])*(-0xdb9+0x1*-0x1cf5+0x2aae+0.5),(_0x49b0c9[-0x1e43+0xfd2+0xe73]-_0x2cdf07[0x679+-0x1d63+-0xa3*-0x24])*(0x2d4+0x260e*0x1+-0x1*0x28e2+0.5))),_0x239568=_0x4aa9ce[_0x173c86]['indices'];let _0x3ef741=_0x4aa9ce[_0x173c86]['deltaPosit'+'ions'],_0x52e9a0=_0x4aa9ce[_0x173c86]['deltaNorma'+'ls'];_0x239568&&(_0x3ef741=_0x20a44e(_0x3ef741,_0x239568,_0x1b0220),_0x52e9a0=_0x20a44e(_0x52e9a0,_0x239568,_0x1b0220)),_0x1c90e4=new Md({'deltaPositions':_0x3ef741,'deltaNormals':_0x52e9a0,'name':_0x4aa9ce[_0x173c86]['name'],'aabb':_0x1d5a60}),_0xae056e['push'](_0x1c90e4);}const _0x23c8a3=new mm(_0xae056e,this['_device']);_0x56ebed['push'](_0x23c8a3);const _0x3f1d15=new xa(_0x23c8a3);_0x544c93['push'](_0x3f1d15);}}return{'morphs':_0x56ebed,'instances':_0x544c93};}['_parseVert'+'exBuffers'](_0x575c06){const _0x1dec5b=_0x575c06['model'],_0x224288=[],_0x4c819b={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x2e47f4=-0xacf*0x3+0x196d*0x1+-0x2*-0x380;_0x2e47f4<_0x1dec5b['vertices']['length'];_0x2e47f4++){const _0x24a5e2=_0x1dec5b['vertices'][_0x2e47f4],_0x49bc64=[];for(const _0x5c5a28 in _0x24a5e2){const _0x10387e=_0x24a5e2[_0x5c5a28];_0x49bc64['push']({'semantic':_0x4c819b[_0x5c5a28],'components':_0x10387e['components'],'type':Tk[_0x10387e['type']],'normalize':_0x4c819b[_0x5c5a28]===Wt});}const _0x13546e=new kt(this['_device'],_0x49bc64),_0x26359c=_0x24a5e2['position']['data']['length']/_0x24a5e2['position']['components'],_0x206a6c=new Is(this['_device'],_0x13546e,_0x26359c),_0x8c7d31=new Uo(_0x206a6c);for(let _0x5bf621=0x19e0+0x9*-0x8d+-0x14eb;_0x5bf621<_0x26359c;_0x5bf621++){for(const _0x15a676 in _0x24a5e2){const _0x1d3e8f=_0x24a5e2[_0x15a676];switch(_0x1d3e8f['components']){case 0x26d5+0x9bf*-0x3+-0x997:_0x8c7d31['element'][_0x4c819b[_0x15a676]]['set'](_0x1d3e8f['data'][_0x5bf621]);break;case-0x7cc+0x1674+-0xea6:_0x8c7d31['element'][_0x4c819b[_0x15a676]]['set'](_0x1d3e8f['data'][_0x5bf621*(-0xe16+-0xdb4+0x1bcc)],-0x3*-0x7bb+0x1cd*-0x2+-0x1396-_0x1d3e8f['data'][_0x5bf621*(0x1612+0x13bd+-0x29cd)+(0x268b+0x2315+0x499f*-0x1)]);break;case-0x1bb3+-0x7bd+0x2373:_0x8c7d31['element'][_0x4c819b[_0x15a676]]['set'](_0x1d3e8f['data'][_0x5bf621*(-0x533*-0x1+-0x632+0x102)],_0x1d3e8f['data'][_0x5bf621*(0xb0b*-0x1+0x257*-0x3+0x1213)+(-0xb9*0x25+-0x1ce0+0x153*0x2a)],_0x1d3e8f['data'][_0x5bf621*(-0x1*-0xdb4+-0x1bd7+0xe26)+(-0x127b+0x2*-0xd01+0xed5*0x3)]);break;case-0x2f3+-0x63d*-0x1+0x1a3*-0x2:_0x8c7d31['element'][_0x4c819b[_0x15a676]]['set'](_0x1d3e8f['data'][_0x5bf621*(0x32*-0x4+0x1*-0x16bd+0x19*0xf1)],_0x1d3e8f['data'][_0x5bf621*(0x1*-0x1293+0x1*-0x891+0x1b28)+(-0x1*0x8a7+0xfd*-0x3+0xb9f*0x1)],_0x1d3e8f['data'][_0x5bf621*(-0x1703+0x5dd*0x1+-0x112a*-0x1)+(-0x130+0x2c*0xb3+-0x1d92)],_0x1d3e8f['data'][_0x5bf621*(-0x79f*-0x3+-0x6*0x243+-0x7d*0x13)+(0x4e4*-0x2+0xa1b*-0x1+-0x9f3*-0x2)]);break;}}_0x8c7d31['next']();}_0x8c7d31['end'](),_0x224288['push'](_0x206a6c);}return _0x224288;}['_parseInde'+'xBuffers'](_0x484228,_0xe6bc93){const _0xf337e=_0x484228['model'];let _0x1b58f9=null,_0x4c0ec9=null,_0x4edac4,_0x343cf5=0x2*0x49d+-0x287*-0x5+-0x15dd;for(_0x4edac4=0x1354*-0x1+0x11d1*-0x2+0x36f6;_0x4edac4<_0xf337e['meshes']['length'];_0x4edac4++){const _0x4f407d=_0xf337e['meshes'][_0x4edac4];_0x4f407d['indices']!==void(-0x1c55*-0x1+0x7c9*0x2+-0x2be7)&&(_0x343cf5+=_0x4f407d['indices']['length']);}let _0xce7237=0x1c00+-0x917*-0x1+0x5*-0x76b;for(_0x4edac4=-0x918+0x1451+-0xb39;_0x4edac4<_0xe6bc93['length'];_0x4edac4++)_0xce7237=Math['max'](_0xce7237,_0xe6bc93[_0x4edac4]['numVertice'+'s']);return _0x343cf5>0x1db7*-0x1+0x5*0x343+0xd68&&(_0xce7237>0x1*-0xed6a+-0x107fe+0x2f567?(_0x1b58f9=new br(this['_device'],wr,_0x343cf5),_0x4c0ec9=new Uint32Array(_0x1b58f9['lock']())):(_0x1b58f9=new br(this['_device'],Yi,_0x343cf5),_0x4c0ec9=new Uint16Array(_0x1b58f9['lock']()))),{'buffer':_0x1b58f9,'data':_0x4c0ec9};}['_parseMesh'+'es'](_0x401fd8,_0x2a6df3,_0x5efe18,_0x33c2b4,_0x2d79a5,_0x1275f8){const _0xdfc904=_0x401fd8['model'],_0x2a179e=[];let _0x269e4c=0x1e*0xb+0x68*0x19+-0xb72;for(let _0x4eaad7=-0x22f2+0xc*-0x97+0x2*0x1503;_0x4eaad7<_0xdfc904['meshes']['length'];_0x4eaad7++){const _0x43840b=_0xdfc904['meshes'][_0x4eaad7],_0x326421=_0x43840b['aabb'],_0xb1d241=_0x326421['min'],_0xf4c241=_0x326421['max'],_0x14cfd2=new De(new D((_0xf4c241[0x1a93*-0x1+0xf7f+0xb14]+_0xb1d241[0xdfc+0x1ed0+0x2ccc*-0x1])*(-0xb77+0x7cc+0x139*0x3+0.5),(_0xf4c241[-0x1f5d+-0x2326+0x4284]+_0xb1d241[-0x1cd6+-0x2*-0xc92+0x3b3*0x1])*(0xc*-0x133+0x17bb+-0x31d*0x3+0.5),(_0xf4c241[-0x13e4+0x1043+0x1*0x3a3]+_0xb1d241[0xea*-0x17+0xbe4+0x924])*(-0x479+0x3*0xb21+-0x1cea+0.5)),new D((_0xf4c241[0x89*0x4+-0x149d+0x1*0x1279]-_0xb1d241[-0x2aa*0xd+-0x948*-0x1+0x289*0xa])*(-0x113*0x1f+-0x1*0x664+-0x1*-0x27b1+0.5),(_0xf4c241[-0xe5+-0x26b3+-0xd33*-0x3]-_0xb1d241[-0x2*-0x1064+-0x3ad*-0x2+-0x2821*0x1])*(0x14be+0xc7d*-0x1+-0x841+0.5),(_0xf4c241[0x655*0x4+-0x5*-0x4c1+0x3117*-0x1]-_0xb1d241[-0x196f*-0x1+0x1*-0x9c7+0xfa6*-0x1])*(-0x2275+0x2*-0xe57+-0x7*-0x905+0.5))),_0x3a5443=_0x43840b['indices']!==void(-0x2497*0x1+-0x17a*-0x1+0x65*0x59),_0x3084ad=new Ge(this['_device']);_0x3084ad['vertexBuff'+'er']=_0x33c2b4[_0x43840b['vertices']],_0x3084ad['indexBuffe'+'r'][-0x1123+0x196c+-0x849]=_0x3a5443?_0x2d79a5:null,_0x3084ad['primitive'][-0x1517*0x1+-0x3*-0xc97+-0x10ae]['type']=xk[_0x43840b['type']],_0x3084ad['primitive'][0x141d+0x1eea+0x1*-0x3307]['base']=_0x3a5443?_0x43840b['base']+_0x269e4c:_0x43840b['base'],_0x3084ad['primitive'][-0x1d66+0xfbf*0x1+0xda7]['count']=_0x43840b['count'],_0x3084ad['primitive'][0x7*-0x503+0x1*0x1e95+0x180*0x3]['indexed']=_0x3a5443,_0x3084ad['skin']=_0x43840b['skin']!==void(-0x1*0x70+-0x1f62+0xfe9*0x2)?_0x2a6df3[_0x43840b['skin']]:null,_0x3084ad['morph']=_0x43840b['morph']!==void(-0x427*-0x9+0x20d+-0x276c)?_0x5efe18[_0x43840b['morph']]:null,_0x3084ad['aabb']=_0x14cfd2,_0x3a5443&&(_0x1275f8['set'](_0x43840b['indices'],_0x269e4c),_0x269e4c+=_0x43840b['indices']['length']),_0x2a179e['push'](_0x3084ad);}return _0x2d79a5!==null&&_0x2d79a5['unlock'](),_0x2a179e;}['_parseMesh'+'Instances'](_0x21a0a3,_0x225643,_0x53e17a,_0x4f5c9e,_0x3c6ace,_0x1299af,_0x2c3a55){const _0x1429d4=_0x21a0a3['model'],_0x11bec8=[];let _0x341924;for(_0x341924=-0x158c+0x1*-0x202e+-0x1add*-0x2;_0x341924<_0x1429d4['meshInstan'+'ces']['length'];_0x341924++){const _0x58c9eb=_0x1429d4['meshInstan'+'ces'][_0x341924],_0x2a7cce=_0x225643[_0x58c9eb['node']],_0x2126ae=_0x53e17a[_0x58c9eb['mesh']],_0x5f30ac=new He(_0x2126ae,this['_defaultMa'+'terial'],_0x2a7cce);if(_0x2126ae['skin']){const _0x49a007=_0x4f5c9e['indexOf'](_0x2126ae['skin']);if(_0x49a007===-(-0x4*0x10d+0x124*0xb+-0x857))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x5f30ac['skinInstan'+'ce']=_0x3c6ace[_0x49a007];}if(_0x2126ae['morph']){const _0x179ebe=_0x1299af['indexOf'](_0x2126ae['morph']);if(_0x179ebe===-(-0x124*0x7+0x909+0x1*-0x10c))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x5f30ac['morphInsta'+'nce']=_0x2c3a55[_0x179ebe];}_0x11bec8['push'](_0x5f30ac);}return _0x11bec8;}}class Ek extends Qe{constructor(_0x1b8981){super(_0x1b8981,'model'),this['_parsers']=[],this['device']=_0x1b8981['graphicsDe'+'vice'],this['assets']=_0x1b8981['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x7ed63,_0x411555)=>xe['getExtensi'+'on'](_0x7ed63)==='.json'),this['addParser'](new vk(this),(_0x1a0b69,_0x568d73)=>xe['getExtensi'+'on'](_0x1a0b69)==='.glb');}['load'](_0x28bfbf,_0x367fc6,_0x3e1c05){typeof _0x28bfbf=='string'&&(_0x28bfbf={'load':_0x28bfbf,'original':_0x28bfbf});const _0x3ddd2f={'retry':this['maxRetries']>0x17*-0x196+0xc68+0x1812,'maxRetries':this['maxRetries']};(_0x28bfbf['load']['startsWith']('blob:')||_0x28bfbf['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x28bfbf['original'])['toLowerCas'+'e']()==='.glb'?_0x3ddd2f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3ddd2f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x28bfbf['load'],_0x3ddd2f,(_0x2b6362,_0x3190e5)=>{if(_0x367fc6){if(_0x2b6362)_0x367fc6('Error\x20load'+'ing\x20model:'+'\x20'+_0x28bfbf['original']+'\x20['+_0x2b6362+']');else{for(let _0xd53916=-0x2123*0x1+0x721+0x1a02;_0xd53916<this['_parsers']['length'];_0xd53916++){const _0x939b40=this['_parsers'][_0xd53916];if(_0x939b40['decider'](_0x28bfbf['original'],_0x3190e5)){_0x939b40['parser']['parse'](_0x3190e5,(_0x566049,_0x2cf243)=>{_0x566049?_0x367fc6(_0x566049):_0x367fc6(null,_0x2cf243);},_0x3e1c05);return;}}_0x367fc6('No\x20parsers'+'\x20found');}}});}['open'](_0x14b72d,_0x291b4a){return _0x291b4a;}['patch'](_0x549f4d,_0x554225){if(!_0x549f4d['resource'])return;const _0x33082e=_0x549f4d['data'],_0x17d24f=this;_0x549f4d['resource']['meshInstan'+'ces']['forEach']((_0x33e662,_0x25c9f5)=>{if(_0x33082e['mapping']){const _0x44b7f7=function(_0x3ba99c){_0x3ba99c['resource']?_0x33e662['material']=_0x3ba99c['resource']:(_0x3ba99c['once']('load',_0x44b7f7),_0x554225['load'](_0x3ba99c)),_0x3ba99c['once']('remove',_0x134d95=>{_0x33e662['material']===_0x134d95['resource']&&(_0x33e662['material']=_0x17d24f['defaultMat'+'erial']);});};if(!_0x33082e['mapping'][_0x25c9f5]){_0x33e662['material']=_0x17d24f['defaultMat'+'erial'];return;}const _0x28ce70=_0x33082e['mapping'][_0x25c9f5]['material'],_0xea90f1=_0x33082e['mapping'][_0x25c9f5]['path'];let _0x4409bb;if(_0x28ce70!==void(0x1*-0x173b+0x100c+0x265*0x3))_0x28ce70?(_0x4409bb=_0x554225['get'](_0x28ce70),_0x4409bb?_0x44b7f7(_0x4409bb):_0x554225['once']('add:'+_0x28ce70,_0x44b7f7)):_0x33e662['material']=_0x17d24f['defaultMat'+'erial'];else{if(_0xea90f1){const _0x4c21f6=_0x549f4d['getAbsolut'+'eUrl'](_0x33082e['mapping'][_0x25c9f5]['path']);_0x4409bb=_0x554225['getByUrl'](_0x4c21f6),_0x4409bb?_0x44b7f7(_0x4409bb):_0x554225['once']('add:url:'+_0x4c21f6,_0x44b7f7);}}}});}['addParser'](_0x5bea42,_0x2bb2df){this['_parsers']['push']({'parser':_0x5bea42,'decider':_0x2bb2df});}}class bk extends Qe{constructor(_0x2b2aec){super(_0x2b2aec,'scene');}['load'](_0x35affe,_0x41a5e4){E0['load'](_0x35affe,this['maxRetries'],_0x41a5e4);}['open'](_0x55d614,_0x1aff09){this['_app']['systems']['script']['preloading']=!(0x24eb+-0x1*-0x1a85+-0x1d0*0x23);const _0x3f1a5f=new bm(this['_app'],!(0x1*-0x2482+0x1607*0x1+-0xe7c*-0x1))['parse'](_0x1aff09),_0xa4cb71=this['_app']['scene'];return _0xa4cb71['root']=_0x3f1a5f,this['_app']['applyScene'+'Settings'](_0x1aff09['settings']),this['_app']['systems']['script']['preloading']=!(-0x23dc+-0x19c*0x13+0x4271),_0xa4cb71;}}const qh=class qh{static['push'](_0x459693){qh['_types']['push'](_0x459693);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x310767,_0x268edc,_0x44b049)=>{Ck[_0x310767]=0x197f+-0x22*-0xd4+0x8f1*-0x6;});function Pk(_0x2ebfc0,_0x303b68,_0x1f485d){if(typeof _0x2ebfc0!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x2ebfc0+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x2ebfc0['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x2ebfc0)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x303b68=_0x303b68||_0x2ebfc0['__name']||Wo['__getScrip'+'tName'](_0x2ebfc0),Ak['has'](_0x303b68))throw new Error('script\x20nam'+'e:\x20\x27'+_0x303b68+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x2ebfc0['__name']=_0x303b68,Ks['getApplica'+'tion']()['scripts']['add'](_0x2ebfc0),aa['push'](_0x2ebfc0);}const Mk=_0x1a3227=>_0x1a3227[-0x1f6a+0xcb9+-0x91*-0x21]['toLowerCas'+'e']()+_0x1a3227['substring'](0x196+0x53*-0x4d+0xbb1*0x2);class Dk extends Qe{constructor(_0x18277a){super(_0x18277a,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x3720a7 in this['_cache']){const _0x52097d=this['_cache'][_0x3720a7],_0x3644ec=_0x52097d['parentNode'];_0x3644ec&&_0x3644ec['removeChil'+'d'](_0x52097d);}this['_cache']={};}['load'](_0x496832,_0x3009fb){typeof _0x496832=='string'&&(_0x496832={'load':_0x496832,'original':_0x496832});const _0x1d90a8=this;this['_app'];const _0x7a960d=(_0x496832['load'],(_0x3fda94,_0x55ea38,_0x572322)=>{if(_0x3fda94)_0x3009fb(_0x3fda94);else{const _0x5f543b={};for(let _0x5dbbb8=0x217c+-0x1fc6+-0x1b6;_0x5dbbb8<aa['_types']['length'];_0x5dbbb8++)_0x5f543b[aa['_types'][_0x5dbbb8]['name']]=aa['_types'][_0x5dbbb8];aa['_types']['length']=0x6b*0x3a+-0x25e*-0x1+-0xd*0x20c,_0x3009fb(null,_0x5f543b,_0x572322);const _0x3cc802=_0x55ea38['split']('&hash=')[0xb75+0x455+-0x1*0xfca];delete _0x1d90a8['_loader']['_cache'][Cn['makeKey'](_0x3cc802,'script')];}}),[_0x237ec9]=_0x496832['load']['split']('?');_0x237ec9['endsWith']('.mjs')?this['_loadModul'+'e'](_0x237ec9,_0x7a960d):this['_loadScrip'+'t'](_0x496832['load'],_0x7a960d);}['open'](_0x1616a2,_0x4a112d){return _0x4a112d;}['patch'](_0x5327c7,_0x3a7336){}['_loadScrip'+'t'](_0x28be93,_0x5f3c44){const _0x36ac1c=document['head'],_0x15ff95=document['createElem'+'ent']('script');this['_cache'][_0x28be93]=_0x15ff95,_0x15ff95['async']=!(0x1536+0x1*-0x134b+0x7*-0x46),_0x15ff95['addEventLi'+'stener']('error',_0x43ef55=>{_0x5f3c44('Script:\x20'+_0x43ef55['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1dd5*-0x1+-0x3*0xcd9+0x8b7));let _0x3ff881=!(0x4c0*-0x1+-0x436+-0x2fd*-0x3);_0x15ff95['onload']=_0x15ff95['onreadysta'+'techange']=function(){!_0x3ff881&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3ff881=!(0x14d7+0x23d1+0x1c*-0x206),_0x5f3c44(null,_0x28be93,_0x15ff95));},_0x15ff95['src']=_0x28be93,_0x36ac1c['appendChil'+'d'](_0x15ff95);}['_loadModul'+'e'](_0xb89b80,_0x1d632c){const _0x38286f=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x2ebc9f=new URL(_0xb89b80,_0x38286f);import(_0x2ebc9f['toString']())['then'](_0x13653a=>{var _0x501347,_0x2515b5;const _0x5207a5=_0x2ebc9f['pathname']['split']('/')['pop'](),_0x44c3fb=(_0x2515b5=(_0x501347=this['_app']['assets']['find'](_0x5207a5,'script'))==null?void(-0x1520+0x22b0+0x6c8*-0x2):_0x501347['data'])==null?void(0x18f+0x3*0xc9d+0x2*-0x13b3):_0x2515b5['scripts'];for(const _0x2f2cfc in _0x13653a){const _0x56edfe=_0x13653a[_0x2f2cfc];if(_0x56edfe['prototype']instanceof ts){const _0x344947=Mk(_0x56edfe['name']);_0x56edfe['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x56edfe['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x56edfe['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x344947+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x95cfe1=_0x56edfe['scriptName']??_0x344947;Pk(_0x56edfe,_0x95cfe1),_0x44c3fb&&this['_app']['scripts']['addSchema'](_0x95cfe1,_0x44c3fb[_0x95cfe1]);}}_0x1d632c(null,_0xb89b80,null);})['catch'](_0x2e3a11=>{_0x1d632c(_0x2e3a11);});}}class Ik extends Qe{constructor(_0x2bb8c2){super(_0x2bb8c2,'shader'),h(this,'decoder',null);}['load'](_0xb4b332,_0x4f37c9){typeof _0xb4b332=='string'&&(_0xb4b332={'load':_0xb4b332,'original':_0xb4b332}),ot['get'](_0xb4b332['load'],{'retry':this['maxRetries']>-0x76f+0x11b0+-0x15*0x7d,'maxRetries':this['maxRetries']},(_0x10b053,_0x374c79)=>{_0x10b053?_0x4f37c9('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0xb4b332['original']+'\x20['+_0x10b053+']'):_0x4f37c9(null,_0x374c79);});}['openBinary'](_0x14104b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x14104b);}}function Pf(_0xbb6712){const _0x31c84a=this;_0x31c84a['resource']&&(_0x31c84a['resource']['atlas']=_0xbb6712['resource']);}function Mf(_0x440821){this['registry']['load'](_0x440821);}class Lk extends Qe{constructor(_0x237025){super(_0x237025,'sprite'),this['_assets']=_0x237025['assets'],this['_device']=_0x237025['graphicsDe'+'vice'];}['load'](_0x1bf994,_0x21db8c){typeof _0x1bf994=='string'&&(_0x1bf994={'load':_0x1bf994,'original':_0x1bf994}),xe['getExtensi'+'on'](_0x1bf994['original'])==='.json'&&ot['get'](_0x1bf994['load'],{'retry':this['maxRetries']>-0x865+-0x26fb+0x8*0x5ec,'maxRetries':this['maxRetries']},(_0x2f7ffe,_0x5834b2)=>{_0x2f7ffe?_0x21db8c(_0x2f7ffe):_0x21db8c(null,_0x5834b2);});}['open'](_0x509d1e,_0x5c8026){const _0x5cff46=new BA(this['_device']);return _0x509d1e&&(_0x5cff46['__data']=_0x5c8026),_0x5cff46;}['patch'](_0x40b581,_0x1e6bca){const _0x2cc91a=_0x40b581['resource'];if(_0x2cc91a['__data']&&(_0x40b581['data']['pixelsPerU'+'nit']=_0x2cc91a['__data']['pixelsPerU'+'nit'],_0x40b581['data']['renderMode']=_0x2cc91a['__data']['renderMode'],_0x40b581['data']['frameKeys']=_0x2cc91a['__data']['frameKeys'],_0x2cc91a['__data']['textureAtl'+'asAsset'])){const _0x34cf21=_0x1e6bca['getByUrl'](_0x2cc91a['__data']['textureAtl'+'asAsset']);_0x34cf21?_0x40b581['data']['textureAtl'+'asAsset']=_0x34cf21['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x2cc91a['__data']['textureAtl'+'asAsset']);}_0x2cc91a['startUpdat'+'e'](),_0x2cc91a['renderMode']=_0x40b581['data']['renderMode'],_0x2cc91a['pixelsPerU'+'nit']=_0x40b581['data']['pixelsPerU'+'nit'],_0x2cc91a['frameKeys']=_0x40b581['data']['frameKeys'],this['_updateAtl'+'as'](_0x40b581),_0x2cc91a['endUpdate'](),_0x40b581['off']('change',this['_onAssetCh'+'ange'],this),_0x40b581['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x5e8d60){const _0x4b7a35=_0x5e8d60['resource'];if(!_0x5e8d60['data']['textureAtl'+'asAsset']){_0x4b7a35['atlas']=null;return;}this['_assets']['off']('load:'+_0x5e8d60['data']['textureAtl'+'asAsset'],Pf,_0x5e8d60),this['_assets']['on']('load:'+_0x5e8d60['data']['textureAtl'+'asAsset'],Pf,_0x5e8d60);const _0x255ea8=this['_assets']['get'](_0x5e8d60['data']['textureAtl'+'asAsset']);_0x255ea8&&_0x255ea8['resource']?_0x4b7a35['atlas']=_0x255ea8['resource']:_0x255ea8?this['_assets']['load'](_0x255ea8):(this['_assets']['off']('add:'+_0x5e8d60['data']['textureAtl'+'asAsset'],Mf,_0x5e8d60),this['_assets']['on']('add:'+_0x5e8d60['data']['textureAtl'+'asAsset'],Mf,_0x5e8d60));}['_onAssetCh'+'ange'](_0x26a091,_0x8669d4,_0x2a7f8c,_0x3ed226){_0x8669d4==='data'&&_0x2a7f8c&&_0x2a7f8c['textureAtl'+'asAsset']&&_0x3ed226&&_0x2a7f8c['textureAtl'+'asAsset']!==_0x3ed226['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x3ed226['textureAtl'+'asAsset'],Pf,_0x26a091),this['_assets']['off']('add:'+_0x3ed226['textureAtl'+'asAsset'],Mf,_0x26a091));}}class vS{constructor(_0x46f5fa,_0x3eba61){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x46f5fa,this['_data']=_0x3eba61);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x2fc374=new bm(this['_app'],!(-0xfa*-0x8+0x3*0x1f6+-0xdb2));this['_templateR'+'oot']=_0x2fc374['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x8858f0){super(_0x8858f0,'template'),h(this,'decoder',null);}['load'](_0x498ef9,_0x233856){typeof _0x498ef9=='string'&&(_0x498ef9={'load':_0x498ef9,'original':_0x498ef9});const _0x28d70f={'retry':this['maxRetries']>0x1*-0x1+-0x7a*0xb+0x53f,'maxRetries':this['maxRetries']};ot['get'](_0x498ef9['load'],_0x28d70f,(_0xa35d5b,_0x33ee10)=>{_0xa35d5b?_0x233856('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x498ef9['original']):_0x233856(_0xa35d5b,_0x33ee10);});}['open'](_0x42e23e,_0x41d3a2){return new vS(this['_app'],_0x41d3a2);}['openBinary'](_0x5ceb4f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x5ceb4f)));}}class Ok extends Qe{constructor(_0x20781e){super(_0x20781e,'text'),h(this,'decoder',null);}['load'](_0x219dbb,_0x29da08){typeof _0x219dbb=='string'&&(_0x219dbb={'load':_0x219dbb,'original':_0x219dbb}),ot['get'](_0x219dbb['load'],{'retry':this['maxRetries']>-0xcb3*0x1+-0x1eb6+0x2b69,'maxRetries':this['maxRetries']},(_0xd33fad,_0x2f671a)=>{_0xd33fad?_0x29da08('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x219dbb['original']+'\x20['+_0xd33fad+']'):_0x29da08(null,_0x2f671a);});}['openBinary'](_0x6b2628){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x6b2628);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x140347){super(_0x140347,'textureatl'+'as'),this['_loader']=_0x140347['loader'];}['load'](_0x166845,_0x3577c9){typeof _0x166845=='string'&&(_0x166845={'load':_0x166845,'original':_0x166845});const _0x247b5f=this,_0x12f39f=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x166845['original'])==='.json'?ot['get'](_0x166845['load'],{'retry':this['maxRetries']>0x1213+0x1cc0+-0x2ed3,'maxRetries':this['maxRetries']},(_0xd915b,_0x453c69)=>{if(_0xd915b)_0x3577c9(_0xd915b);else{const _0x2a1a38=_0x166845['original']['replace']('.json','.png');_0x247b5f['_loader']['load'](_0x2a1a38,'texture',(_0x57dca0,_0x445165)=>{_0x57dca0?_0x3577c9(_0x57dca0):_0x3577c9(null,{'data':_0x453c69,'texture':_0x445165});});}}):_0x12f39f['load'](_0x166845,_0x3577c9);}['open'](_0x550906,_0x14a3b2,_0x599f46){const _0x44ccbf=new zA();if(_0x14a3b2['texture']&&_0x14a3b2['data'])_0x44ccbf['texture']=_0x14a3b2['texture'],_0x44ccbf['__data']=_0x14a3b2['data'];else{const _0x22b7d0=this['_loader']['getHandler']('texture')['open'](_0x550906,_0x14a3b2,_0x599f46);if(!_0x22b7d0)return null;_0x44ccbf['texture']=_0x22b7d0;}return _0x44ccbf;}['patch'](_0x2e42ac,_0x4a64dd){if(!_0x2e42ac['resource'])return;_0x2e42ac['resource']['__data']&&(_0x2e42ac['resource']['__data']['minfilter']!==void(-0x781+-0x3*-0x89a+0x3a9*-0x5)&&(_0x2e42ac['data']['minfilter']=_0x2e42ac['resource']['__data']['minfilter']),_0x2e42ac['resource']['__data']['magfilter']!==void(0x1*0x107+-0x1f79*-0x1+-0x2080)&&(_0x2e42ac['data']['magfilter']=_0x2e42ac['resource']['__data']['magfilter']),_0x2e42ac['resource']['__data']['addressu']!==void(0x1*0x1520+-0x5*0x7f+-0x6f*0x2b)&&(_0x2e42ac['data']['addressu']=_0x2e42ac['resource']['__data']['addressu']),_0x2e42ac['resource']['__data']['addressv']!==void(0x318+-0x7e*0x4e+0x9*0x3ec)&&(_0x2e42ac['data']['addressv']=_0x2e42ac['resource']['__data']['addressv']),_0x2e42ac['resource']['__data']['mipmaps']!==void(-0x1fdf+0xd*0x2c3+-0x408)&&(_0x2e42ac['data']['mipmaps']=_0x2e42ac['resource']['__data']['mipmaps']),_0x2e42ac['resource']['__data']['anisotropy']!==void(0xb7*-0x25+0x4c2+-0x9*-0x269)&&(_0x2e42ac['data']['anisotropy']=_0x2e42ac['resource']['__data']['anisotropy']),_0x2e42ac['resource']['__data']['rgbm']!==void(-0x2403+-0x1fb1+0x43b4)&&(_0x2e42ac['data']['rgbm']=!!_0x2e42ac['resource']['__data']['rgbm']),_0x2e42ac['data']['frames']=_0x2e42ac['resource']['__data']['frames'],delete _0x2e42ac['resource']['__data']);const _0x3e3d00=_0x2e42ac['resource']['texture'];if(_0x3e3d00&&(_0x3e3d00['name']=_0x2e42ac['name'],_0x2e42ac['data']['hasOwnProp'+'erty']('minfilter')&&_0x3e3d00['minFilter']!==Lc[_0x2e42ac['data']['minfilter']]&&(_0x3e3d00['minFilter']=Lc[_0x2e42ac['data']['minfilter']]),_0x2e42ac['data']['hasOwnProp'+'erty']('magfilter')&&_0x3e3d00['magFilter']!==Lc[_0x2e42ac['data']['magfilter']]&&(_0x3e3d00['magFilter']=Lc[_0x2e42ac['data']['magfilter']]),_0x2e42ac['data']['hasOwnProp'+'erty']('addressu')&&_0x3e3d00['addressU']!==Ic[_0x2e42ac['data']['addressu']]&&(_0x3e3d00['addressU']=Ic[_0x2e42ac['data']['addressu']]),_0x2e42ac['data']['hasOwnProp'+'erty']('addressv')&&_0x3e3d00['addressV']!==Ic[_0x2e42ac['data']['addressv']]&&(_0x3e3d00['addressV']=Ic[_0x2e42ac['data']['addressv']]),_0x2e42ac['data']['hasOwnProp'+'erty']('mipmaps')&&_0x3e3d00['mipmaps']!==_0x2e42ac['data']['mipmaps']&&(_0x3e3d00['mipmaps']=_0x2e42ac['data']['mipmaps']),_0x2e42ac['data']['hasOwnProp'+'erty']('anisotropy')&&_0x3e3d00['anisotropy']!==_0x2e42ac['data']['anisotropy']&&(_0x3e3d00['anisotropy']=_0x2e42ac['data']['anisotropy']),_0x2e42ac['data']['hasOwnProp'+'erty']('rgbm'))){const _0x85ece1=_0x2e42ac['data']['rgbm']?Zi:Ds;_0x3e3d00['type']!==_0x85ece1&&(_0x3e3d00['type']=_0x85ece1);}_0x2e42ac['resource']['texture']=_0x3e3d00;const _0x314e7e={};for(const _0xd612f3 in _0x2e42ac['data']['frames']){const _0x1ac0d3=_0x2e42ac['data']['frames'][_0xd612f3];_0x314e7e[_0xd612f3]={'rect':new re(_0x1ac0d3['rect']),'pivot':new J(_0x1ac0d3['pivot']),'border':new re(_0x1ac0d3['border'])};}_0x2e42ac['resource']['frames']=_0x314e7e,_0x2e42ac['off']('change',this['_onAssetCh'+'ange'],this),_0x2e42ac['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4b273d,_0x228124,_0x450b96){let _0x37acbd;if(_0x228124==='data'||_0x228124==='data.frame'+'s'){const _0x36c11d={};for(const _0x5ce1b9 in _0x450b96['frames'])_0x37acbd=_0x450b96['frames'][_0x5ce1b9],_0x36c11d[_0x5ce1b9]={'rect':new re(_0x37acbd['rect']),'pivot':new J(_0x37acbd['pivot']),'border':new re(_0x37acbd['border'])};_0x4b273d['resource']['frames']=_0x36c11d;}else{const _0x39613d=_0x228124['match'](Fk);if(_0x39613d){const _0x5b12f9=_0x39613d[-0xb28+0x17*0x19e+-0x1a09];_0x450b96?(_0x4b273d['resource']['frames'][_0x5b12f9]?(_0x37acbd=_0x4b273d['resource']['frames'][_0x5b12f9],_0x37acbd['rect']['set'](_0x450b96['rect'][-0x1*0x25cf+-0xc06+0x31d5],_0x450b96['rect'][-0x3*-0x429+-0x1e+-0x7*0x1c4],_0x450b96['rect'][0x1a2c+0xf30+-0x295a],_0x450b96['rect'][-0x1992+-0x1*0xc11+0x25a6]),_0x37acbd['pivot']['set'](_0x450b96['pivot'][-0x187*-0x15+0x2579*0x1+0x22c6*-0x2],_0x450b96['pivot'][0x1*0x270f+-0x1ac*-0x15+-0x4a2a]),_0x37acbd['border']['set'](_0x450b96['border'][-0x1*-0x12bf+-0x1129+-0xe*0x1d],_0x450b96['border'][-0x8*-0x403+0x17f9+-0x17*0x270],_0x450b96['border'][0x175b+-0x186d+0x114*0x1],_0x450b96['border'][0xa45+0x2e*0x18+-0xe92])):_0x4b273d['resource']['frames'][_0x5b12f9]={'rect':new re(_0x450b96['rect']),'pivot':new J(_0x450b96['pivot']),'border':new re(_0x450b96['border'])},_0x4b273d['resource']['fire']('set:frame',_0x5b12f9,_0x4b273d['resource']['frames'][_0x5b12f9])):_0x4b273d['resource']['frames'][_0x5b12f9]&&(delete _0x4b273d['resource']['frames'][_0x5b12f9],_0x4b273d['resource']['fire']('remove:fra'+'me',_0x5b12f9));}}}}function kk(){const _0x5828f7={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x53c0b4={'astc':_0x5828f7['cTFASTC_4x'+'4'],'dxt':_0x5828f7['cTFBC1'],'etc1':_0x5828f7['cTFETC1'],'etc2':_0x5828f7['cTFETC1'],'pvr':_0x5828f7['cTFPVRTC1_'+'4_RGB'],'atc':_0x5828f7['cTFATC_RGB'],'none':_0x5828f7['cTFRGB565']},_0x104e1b={'astc':_0x5828f7['cTFASTC_4x'+'4'],'dxt':_0x5828f7['cTFBC3'],'etc1':_0x5828f7['cTFRGBA444'+'4'],'etc2':_0x5828f7['cTFETC2'],'pvr':_0x5828f7['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5828f7['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5828f7['cTFRGBA444'+'4']},_0x5f1fca={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x367b14=(_0x4ba725,_0x1ca112)=>{switch(_0x4ba725){case _0x5828f7['cTFETC1']:return _0x1ca112['formats']['etc2']?_0x5f1fca['ETC2_RGB']:_0x5f1fca['ETC1'];case _0x5828f7['cTFETC2']:return _0x5f1fca['ETC2_RGBA'];case _0x5828f7['cTFBC1']:return _0x5f1fca['DXT1'];case _0x5828f7['cTFBC3']:return _0x5f1fca['DXT5'];case _0x5828f7['cTFPVRTC1_'+'4_RGB']:return _0x5f1fca['PVRTC_4BPP'+'_RGB_1'];case _0x5828f7['cTFPVRTC1_'+'4_RGBA']:return _0x5f1fca['PVRTC_4BPP'+'_RGBA_1'];case _0x5828f7['cTFASTC_4x'+'4']:return _0x5f1fca['ASTC_4x4'];case _0x5828f7['cTFATC_RGB']:return _0x5f1fca['ATC_RGB'];case _0x5828f7['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x5f1fca['ATC_RGBA'];case _0x5828f7['cTFRGBA32']:return _0x5f1fca['R8_G8_B8_A'+'8'];case _0x5828f7['cTFRGB565']:return _0x5f1fca['R5_G6_B5'];case _0x5828f7['cTFRGBA444'+'4']:return _0x5f1fca['R4_G4_B4_A'+'4'];}},_0x6f00d8=_0x47ed2b=>{const _0x439e31=function(_0xdfc99f,_0x33ff10){const _0x5928d3=_0xdfc99f*(0x26*0xb2+-0xf5b+-0xb11*0x1+0.00784313725490196)-(0x6*-0x3fd+-0xb1e+-0x230d*-0x1),_0x2d2b73=_0x33ff10*((0x1*-0x69d+0x223b+0x72*-0x3e)/(-0x1681+0x2*0x12be+0xdfc*-0x1))-(0x1*-0x2662+0x65f+0x2*0x1002),_0x1c27ea=Math['sqrt'](0x70*0x4c+-0x1747+0x27e*-0x4-Math['min'](0x2*0xecb+0x907+0x161*-0x1c,_0x5928d3*_0x5928d3+_0x2d2b73*_0x2d2b73));return Math['max'](-0xa40+-0x3ee*0x7+0x25c2,Math['min'](0x6c3*-0x2+0x215a*0x1+0x3*-0x647,Math['floor']((_0x1c27ea+(0x1*-0x230d+0x1b28+-0x7e6*-0x1))*(-0x1*-0x136d+-0x495*-0x3+-0x212c+0.5)*(0x2*-0xf1c+-0x222e*0x1+0x4165))));};for(let _0x158aa1=-0x1856+0x61a*-0x3+-0x1552*-0x2;_0x158aa1<_0x47ed2b['length'];_0x158aa1+=-0x2*0x841+0xd2f+-0x9*-0x5f){const _0x32007c=_0x47ed2b[_0x158aa1+(0x1a1c+0x1202+-0x2c1b*0x1)],_0xb9114f=_0x47ed2b[_0x158aa1+(0x22e1+-0x81e*0x3+-0x6*0x1c1)];_0x47ed2b[_0x158aa1+(-0x6*0x443+0x9e3+0x5*0x323)]=_0x32007c,_0x47ed2b[_0x158aa1+(0x17b3+-0x16fa+-0xb7)]=_0x439e31(_0x32007c,_0xb9114f),_0x47ed2b[_0x158aa1+(-0xe0+0x60e+-0x93*0x9)]=-0x1*0xe71+-0xf*-0x19d+-0x8c3;}return _0x47ed2b;},_0x528787=_0xaa1d5b=>{const _0x211ec4=new Uint16Array(_0xaa1d5b['length']/(0x21c4+-0x673*-0x1+-0x2833));for(let _0x1fd313=-0x1836+-0x1356+0x6*0x742;_0x1fd313<_0xaa1d5b['length'];_0x1fd313+=-0x1*0x337+-0x1*-0x1175+0xe3a*-0x1){const _0x49b17a=_0xaa1d5b[_0x1fd313+(0x57c*0x7+-0x18b0+-0xdb4)],_0x47652e=_0xaa1d5b[_0x1fd313+(-0x7*-0x4bd+0x1618+-0x3742)],_0x406066=_0xaa1d5b[_0x1fd313+(0x1*-0x177b+-0x2406+-0x1*-0x3b83)];_0x211ec4[_0x1fd313/(0xaac+-0x2216*0x1+0x2*0xbb7)]=(_0x49b17a&0x14d2+0xdca+-0x10d2*0x2)<<-0x4*-0x499+0x1ec9+-0x3125|(_0x47652e&-0xfc3+0x4bf+-0x2*-0x600)<<-0x1212+0x2*0x1ff+0xe17|_0x406066>>0x1*0x1b37+-0x19b5*0x1+-0x17f;}return _0x211ec4;},_0x4d87f4=(_0x2e42a1,_0x3e0894)=>(_0x2e42a1&_0x2e42a1-(-0x26cf+0x2191+0x11*0x4f))===0x24*-0xad+-0x2b8*0xc+-0x2d9*-0x14&&(_0x3e0894&_0x3e0894-(-0xbc1+-0x157c+0x213e))===-0x1a4d+0x1*0x1fb5+-0x2b4*0x2,_0xd291f0=()=>typeof performance<'u'?performance['now']():-0x71*0xd+0x27b+0x342;let _0x16e6c0,_0x5262f3,_0x9a986;const _0x1f848c=(_0xae024,_0x45797b,_0x2461b2)=>{if(_0x2461b2){if(_0xae024['formats']['astc'])return'astc';}else{if(_0x45797b){if(_0xae024['formats']['etc2'])return'etc2';}else{if(_0xae024['formats']['etc2'])return'etc2';if(_0xae024['formats']['etc1'])return'etc1';}}return(_0x5a4e27=>{for(let _0x535137=0x1*0x2307+-0x1a08+-0x8ff;_0x535137<_0x5a4e27['length'];++_0x535137){const _0x382b59=_0x5a4e27[_0x535137];if(_0xae024['formats'][_0x382b59])return _0x382b59;}return'none';})(_0x45797b?_0x9a986:_0x5262f3);},_0x8c9aa1=(_0x41ebee,_0x3f886d,_0x37be91)=>{switch(_0x37be91){case _0x5828f7['cTFETC1']:case _0x5828f7['cTFETC2']:return!(-0x21d2+0x15c5+0xc0d);case _0x5828f7['cTFBC1']:case _0x5828f7['cTFBC3']:return(_0x41ebee&-0x4*-0x6af+0x28*0x43+-0x1*0x2531)===-0xe60+-0xf77+0x1dd7*0x1&&(_0x3f886d&0xd02+-0x2295+-0x12*-0x133)===-0xcf0+0x262a+-0x193a;case _0x5828f7['cTFPVRTC1_'+'4_RGB']:case _0x5828f7['cTFPVRTC1_'+'4_RGBA']:return _0x4d87f4(_0x41ebee,_0x3f886d);case _0x5828f7['cTFASTC_4x'+'4']:return!(0x7c1*-0x5+0xe16+0x1*0x18af);case _0x5828f7['cTFATC_RGB']:case _0x5828f7['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x1360+0x995+-0x15*0x161);}return!(-0x1*0x4a5+0xe51+-0x1*0x9ab);},_0x2dbbf5=(_0x2236f5,_0x4af860,_0x164bc3)=>{if(!_0x16e6c0['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4f94fc=_0xd291f0(),_0x7e3ee2=new _0x16e6c0['KTX2File'](new Uint8Array(_0x4af860)),_0x21e194=_0x7e3ee2['getWidth'](),_0x1a1533=_0x7e3ee2['getHeight'](),_0x396862=_0x7e3ee2['getLevels'](),_0x36e021=!!_0x7e3ee2['getHasAlph'+'a'](),_0x1cdd14=_0x7e3ee2['isUASTC']&&_0x7e3ee2['isUASTC']();if(!_0x21e194||!_0x1a1533||!_0x396862)throw _0x7e3ee2['close'](),_0x7e3ee2['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2236f5+'\x20width='+_0x21e194+'\x20height='+_0x1a1533+'\x20levels='+_0x396862);const _0x3e0b58=_0x1f848c(_0x164bc3['deviceDeta'+'ils'],_0x36e021,_0x1cdd14),_0x5a76b5=!!_0x164bc3['isGGGR']&&_0x3e0b58==='pvr';let _0x2dbc2e;if(_0x5a76b5?_0x2dbc2e=_0x5828f7['cTFRGBA32']:(_0x2dbc2e=_0x36e021?_0x104e1b[_0x3e0b58]:_0x53c0b4[_0x3e0b58],_0x8c9aa1(_0x21e194,_0x1a1533,_0x2dbc2e)||(_0x2dbc2e=_0x36e021?_0x5828f7['cTFRGBA32']:_0x5828f7['cTFRGB565'])),!_0x7e3ee2['startTrans'+'coding']())throw _0x7e3ee2['close'](),_0x7e3ee2['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2236f5);let _0x5b3148;const _0x2cf22c=[];for(let _0x46499a=0xb31+0x1860+-0xbdb*0x3;_0x46499a<_0x396862;++_0x46499a){const _0x3c4b9f=_0x7e3ee2['getImageTr'+'anscodedSi'+'zeInBytes'](_0x46499a,0x1ff3+0x97f+-0x425*0xa,0xd11+0x1*-0x1f91+0x1280,_0x2dbc2e),_0x4229e9=new Uint8Array(_0x3c4b9f);if(!_0x7e3ee2['transcodeI'+'mage'](_0x4229e9,_0x46499a,-0x4eb+0xb77+-0x68c,-0xc47+0x1*0x1f54+-0x130d,_0x2dbc2e,-0x5*-0x789+-0x6b*0x26+-0x15cb,-(0x85+0x1*0x1301+0x1*-0x1385),-(-0xab*-0x31+-0x20*-0x4c+0xa*-0x439)))throw _0x7e3ee2['close'](),_0x7e3ee2['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2236f5);const _0x48df78=_0x2dbc2e===_0x5828f7['cTFRGB565']||_0x2dbc2e===_0x5828f7['cTFRGBA444'+'4'];_0x2cf22c['push'](_0x48df78?new Uint16Array(_0x4229e9['buffer']):_0x4229e9);}if(_0x7e3ee2['close'](),_0x7e3ee2['delete'](),_0x5a76b5){for(_0x2dbc2e=_0x5828f7['cTFRGB565'],_0x5b3148=-0x21cd+-0xcdc*0x3+-0x7*-0xa57;_0x5b3148<_0x2cf22c['length'];++_0x5b3148)_0x2cf22c[_0x5b3148]=_0x528787(_0x6f00d8(_0x2cf22c[_0x5b3148]));}return{'format':_0x367b14(_0x2dbc2e,_0x164bc3['deviceDeta'+'ils']),'width':_0x21e194,'height':_0x1a1533,'levels':_0x2cf22c,'cubemap':!(0x236f*0x1+-0x9*-0x321+0xdf*-0x49),'transcodeTime':_0xd291f0()-_0x4f94fc,'url':_0x2236f5,'unswizzledGGGR':_0x5a76b5};},_0x48e8a2=(_0x2d016f,_0x1d979b,_0x3d11fc)=>{const _0x358164=_0xd291f0(),_0x3e150b=new _0x16e6c0['BasisFile'](new Uint8Array(_0x1d979b)),_0x3ec409=_0x3e150b['getImageWi'+'dth'](-0x135*-0x9+0xbb5+-0xd6*0x1b,0x62*0x50+0x76c+-0x983*0x4),_0x2e58e4=_0x3e150b['getImageHe'+'ight'](-0x81*0x41+-0x1*0x1ddd+-0x5*-0xc86,-0x66a+0x1942+-0x4*0x4b6),_0x1b92ad=_0x3e150b['getNumImag'+'es'](),_0x25b671=_0x3e150b['getNumLeve'+'ls'](-0x236b+0x1d24*-0x1+0x1*0x408f),_0x18ab1e=!!_0x3e150b['getHasAlph'+'a'](),_0x49166f=_0x3e150b['isUASTC']&&_0x3e150b['isUASTC']();if(!_0x3ec409||!_0x2e58e4||!_0x1b92ad||!_0x25b671)throw _0x3e150b['close'](),_0x3e150b['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2d016f+'\x20width='+_0x3ec409+'\x20height='+_0x2e58e4+'\x20images='+_0x1b92ad+'\x20levels='+_0x25b671);const _0x17e9a9=_0x1f848c(_0x3d11fc['deviceDeta'+'ils'],_0x18ab1e,_0x49166f),_0x4b429d=!!_0x3d11fc['isGGGR']&&_0x17e9a9==='pvr';let _0x188022;if(_0x4b429d?_0x188022=_0x5828f7['cTFRGBA32']:(_0x188022=_0x18ab1e?_0x104e1b[_0x17e9a9]:_0x53c0b4[_0x17e9a9],_0x8c9aa1(_0x3ec409,_0x2e58e4,_0x188022)||(_0x188022=_0x18ab1e?_0x5828f7['cTFRGBA32']:_0x5828f7['cTFRGB565'])),!_0x3e150b['startTrans'+'coding']())throw _0x3e150b['close'](),_0x3e150b['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2d016f);let _0xc8f626;const _0x29006b=[];for(let _0x3cf132=0x755+-0x3a*0x74+-0x1*-0x12f3;_0x3cf132<_0x25b671;++_0x3cf132){const _0x266c55=_0x3e150b['getImageTr'+'anscodedSi'+'zeInBytes'](0x32e+0xe21+-0x114f,_0x3cf132,_0x188022),_0x26f817=new Uint8Array(_0x266c55);if(!_0x3e150b['transcodeI'+'mage'](_0x26f817,0xe11+-0x192e+0xb1d,_0x3cf132,_0x188022,-0x2*-0xb3f+0x46e+-0x1aec,-0x11ff+-0x113e+0x1*0x233d)){if(_0x3cf132===_0x25b671-(0x1*-0x15a9+-0x2584+-0x3*-0x13ba)&&_0x266c55===_0x29006b[_0x3cf132-(0x681*0x2+-0xe6e+-0x49*-0x5)]['buffer']['byteLength'])_0x26f817['set'](new Uint8Array(_0x29006b[_0x3cf132-(-0x3*-0xa6a+0x1*0x139b+0x2*-0x196c)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x2d016f);else throw _0x3e150b['close'](),_0x3e150b['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2d016f);}const _0x2bbfae=_0x188022===_0x5828f7['cTFRGB565']||_0x188022===_0x5828f7['cTFRGBA444'+'4'];_0x29006b['push'](_0x2bbfae?new Uint16Array(_0x26f817['buffer']):_0x26f817);}if(_0x3e150b['close'](),_0x3e150b['delete'](),_0x4b429d){for(_0x188022=_0x5828f7['cTFRGB565'],_0xc8f626=-0x1eff+0x22bb*-0x1+0x41ba;_0xc8f626<_0x29006b['length'];++_0xc8f626)_0x29006b[_0xc8f626]=_0x528787(_0x6f00d8(_0x29006b[_0xc8f626]));}return{'format':_0x367b14(_0x188022,_0x3d11fc['deviceDeta'+'ils']),'width':_0x3ec409,'height':_0x2e58e4,'levels':_0x29006b,'cubemap':!(-0x194f*-0x1+-0x166a+-0x94*0x5),'transcodeTime':_0xd291f0()-_0x358164,'url':_0x2d016f,'unswizzledGGGR':_0x4b429d};},_0x34da9e=(_0x51258f,_0x254dcb,_0x111474)=>_0x111474['isKTX2']?_0x2dbbf5(_0x51258f,_0x254dcb,_0x111474):_0x48e8a2(_0x51258f,_0x254dcb,_0x111474),_0x282611=(_0x3bd392,_0x7f60ec,_0x30996f)=>{try{const _0x3fb0f2=_0x34da9e(_0x3bd392,_0x7f60ec,_0x30996f);_0x3fb0f2['levels']=_0x3fb0f2['levels']['map'](_0x598de2=>_0x598de2['buffer']),self['postMessag'+'e']({'url':_0x3bd392,'data':_0x3fb0f2},_0x3fb0f2['levels']);}catch(_0x32e350){self['postMessag'+'e']({'url':_0x3bd392,'err':_0x32e350},null);}},_0x5aae4e=(_0x2ca312,_0x184e5a)=>{const _0x4f6e2a=(_0x2b4347,_0x1867c0)=>(WebAssembly['instantiat'+'e'](_0x2ca312['module'],_0x2b4347)['then'](_0x2648b9=>{_0x1867c0(_0x2648b9);})['catch'](_0x15243c=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x15243c);}),{});self['BASIS'](_0x2ca312['module']?{'instantiateWasm':_0x4f6e2a}:null)['then'](_0x175f8d=>{_0x175f8d['initialize'+'Basis'](),_0x16e6c0=_0x175f8d,_0x5262f3=_0x2ca312['rgbPriorit'+'y'],_0x9a986=_0x2ca312['rgbaPriori'+'ty'],_0x184e5a(null);});},_0x4a9889=[];self['onmessage']=_0x24a4f1=>{const _0x53a023=_0x24a4f1['data'];switch(_0x53a023['type']){case'init':_0x5aae4e(_0x53a023['config'],()=>{for(let _0x4c45b2=0x26f*0xb+-0xdcb+-0xcfa*0x1;_0x4c45b2<_0x4a9889['length'];++_0x4c45b2)_0x282611(_0x4a9889[_0x4c45b2]['url'],_0x4a9889[_0x4c45b2]['data'],_0x4a9889[_0x4c45b2]['options']);_0x4a9889['length']=-0x22cd*0x1+0x5*-0x461+0x2*0x1c59;});break;case'transcode':_0x16e6c0?_0x282611(_0x53a023['url'],_0x53a023['data'],_0x53a023['options']):_0x4a9889['push'](_0x53a023);break;}};}const Uk=_0x53a043=>({'astc':!!_0x53a043['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x53a043['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x53a043['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x53a043['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x53a043['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x53a043['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x23e9b4,_0x405138)=>{const _0x3d56c6=_0x4b27bf=>{const _0x302f47=['/*\x20basis\x20*'+'/',_0x4b27bf,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x302f47],{'type':'applicatio'+'n/javascri'+'pt'});},_0x51563a=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5f307d=new WebAssembly['Module'](Uint8Array['of'](-0x3d*0x38+0xd*-0x250+0x2b68,0x13*-0x10f+-0x2f*0x36+0x1e68,0x1e98+-0x121d+-0xc08,-0x16db*0x1+-0x2*0x1241+-0x13ee*-0x3,-0x1d48+0x2185*-0x1+-0x1*-0x3ece,-0x128d+0x1f9b+-0xd0e,0x945+0x1*-0x295+-0x6b0,0x1f6+0x1d70+-0xfb3*0x2));if(_0x5f307d instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5f307d)instanceof WebAssembly['Instance'];}}catch{}return!(0x252b+0xd*-0x2a3+-0x1*0x2e3);},_0x1f5fac=(_0x4fe627,_0x25022f)=>{_0x405138(null,{'workerUrl':URL['createObje'+'ctURL'](_0x3d56c6(_0x4fe627)),'module':_0x25022f,'rgbPriority':_0x23e9b4['rgbPriorit'+'y'],'rgbaPriority':_0x23e9b4['rgbaPriori'+'ty']});},_0x3e371c={'cache':!(-0x1acd+-0x15*-0x55+-0x8d*-0x24),'responseType':'text','retry':_0x23e9b4['maxRetries']>0x2141+0x2*0x1196+0x3*-0x16cf,'maxRetries':_0x23e9b4['maxRetries']};if(_0x23e9b4['glueUrl']&&_0x23e9b4['wasmUrl']&&_0x51563a()){let _0x1edd6e=null,_0x402e55=null;ot['get'](_0x23e9b4['glueUrl'],_0x3e371c,(_0x2375a2,_0x2b0f67)=>{_0x2375a2?_0x405138(_0x2375a2):_0x402e55?_0x1f5fac(_0x2b0f67,_0x402e55):_0x1edd6e=_0x2b0f67;});const _0x18eed0=fetch(_0x23e9b4['wasmUrl']),_0x191082=()=>{_0x18eed0['then'](_0x422f6e=>_0x422f6e['arrayBuffe'+'r']())['then'](_0x3935bb=>WebAssembly['compile'](_0x3935bb))['then'](_0x59af65=>{_0x1edd6e?_0x1f5fac(_0x1edd6e,_0x59af65):_0x402e55=_0x59af65;})['catch'](_0xac8c7f=>{_0x405138(_0xac8c7f,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x18eed0)['then'](_0x1c4339=>{_0x1edd6e?_0x1f5fac(_0x1edd6e,_0x1c4339):_0x402e55=_0x1c4339;})['catch'](_0x37bb15=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x23e9b4['wasmUrl']+'\x20('+_0x37bb15+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x191082();}):_0x191082();}else ot['get'](_0x23e9b4['fallbackUr'+'l'],_0x3e371c,(_0x4d5766,_0x1125b9)=>{_0x4d5766?_0x405138(_0x4d5766,null):_0x1f5fac(_0x1125b9,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x4a9d19,_0x35dc41,_0x1af939,_0x144391){if(this['callbacks']['hasOwnProp'+'erty'](_0x4a9d19))this['callbacks'][_0x4a9d19]['push'](_0x1af939);else{this['callbacks'][_0x4a9d19]=[_0x1af939];const _0x49282a={'url':_0x4a9d19,'data':_0x35dc41,'options':_0x144391};this['clients']['length']>-0x8*-0x149+0xfd8+-0x20*0xd1?this['clients']['shift']()['run'](_0x49282a):this['queue']['push'](_0x49282a);}}['enqueueCli'+'ent'](_0x36fd3b){this['queue']['length']>-0x4*-0x33f+0x2353+-0x304f?_0x36fd3b['run'](this['queue']['shift']()):this['clients']['push'](_0x36fd3b);}['handleResp'+'onse'](_0x14f5ec,_0x3480c0,_0x2e07e2){const _0x217047=this['callbacks'][_0x14f5ec];if(_0x3480c0){for(let _0x324114=0xdd+-0xdd3*0x2+0x1*0x1ac9;_0x324114<_0x217047['length'];++_0x324114)_0x217047[_0x324114](_0x3480c0);}else{_0x2e07e2['format']===Jh||_0x2e07e2['format']===ed?_0x2e07e2['levels']=_0x2e07e2['levels']['map'](_0x7e2c8d=>new Uint16Array(_0x7e2c8d)):_0x2e07e2['levels']=_0x2e07e2['levels']['map'](_0x3d5714=>new Uint8Array(_0x3d5714));for(let _0x46a8ec=-0x1ff0*0x1+0x5ec+0x534*0x5;_0x46a8ec<_0x217047['length'];++_0x46a8ec)_0x217047[_0x46a8ec](null,_0x2e07e2);}delete this['callbacks'][_0x14f5ec];}}class Vk{constructor(_0x1957a6,_0x5ca60d,_0x4a621b){this['queue']=_0x1957a6,this['worker']=new Worker(_0x5ca60d['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x4b01dc=>{const _0x53faef=_0x4b01dc['data'];this['queue']['handleResp'+'onse'](_0x53faef['url'],_0x53faef['err'],_0x53faef['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5ca60d}),this['eager']=_0x4a621b;}['run'](_0x2c5183){const _0x2f5f8c=[];_0x2c5183['data']instanceof ArrayBuffer&&_0x2f5f8c['push'](_0x2c5183['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x2c5183['url'],'format':_0x2c5183['format'],'data':_0x2c5183['data'],'options':_0x2c5183['options']},_0x2f5f8c),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x1*-0x2483+-0x26a0+-0x2592*-0x2,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0xc5*0x29+0x419*0x9+-0x4469,Xu=new zk();let xS=null,qu=!(-0x17*-0x92+0x6e*-0x44+0x85*0x1f);function Xk(_0x2376dd){if(!qu){if(!_0x2376dd)_0x2376dd=xS||{};else{if(_0x2376dd['lazyInit']){xS=_0x2376dd;return;}}if(!_0x2376dd['glueUrl']||!_0x2376dd['wasmUrl']||!_0x2376dd['fallbackUr'+'l']){const _0x4bb9df=YS['getConfig']('BASIS');_0x4bb9df&&(_0x2376dd={'glueUrl':_0x4bb9df['glueUrl'],'wasmUrl':_0x4bb9df['wasmUrl'],'fallbackUrl':_0x4bb9df['fallbackUr'+'l'],'numWorkers':_0x4bb9df['numWorkers']});}if(_0x2376dd['glueUrl']||_0x2376dd['wasmUrl']||_0x2376dd['fallbackUr'+'l']){qu=!(0x21b3+-0x2*-0x1a1+-0x24f5);const _0x6ba554=Math['max'](0x5bf*-0x3+0x1013+0x12b,Math['min'](0xbca+0x884+-0x143e*0x1,_0x2376dd['numWorkers']||Gk)),_0x3710d4=_0x2376dd['numWorkers']===-0x2f1*-0x5+-0x8fb+-0x1*0x5b9||(_0x2376dd['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x2376dd['eagerWorke'+'rs']:!(0x1cb7+-0x51c+-0x179b));_0x2376dd['rgbPriorit'+'y']=_0x2376dd['rgbPriorit'+'y']||Hk,_0x2376dd['rgbaPriori'+'ty']=_0x2376dd['rgbaPriori'+'ty']||Wk,_0x2376dd['maxRetries']=_0x2376dd['hasOwnProp'+'erty']('maxRetries')?_0x2376dd['maxRetries']:$k,Bk(_0x2376dd,(_0x48fabe,_0x2a25ba)=>{if(_0x48fabe)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x48fabe);else{for(let _0x45404f=-0x7b5*0x2+0x141*0x1b+-0x1*0x1271;_0x45404f<_0x6ba554;++_0x45404f)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x2a25ba,_0x3710d4));}});}}}let Df=null;function b0(_0x1024c8,_0x3dae95,_0xee8ed5,_0x23b7f4,_0x3413cb){return Xk(),Df||(Df={'formats':Uk(_0x1024c8)}),Xu['enqueueJob'](_0x3dae95,_0xee8ed5,_0x23b7f4,{'deviceDetails':Df,'isGGGR':!!(_0x3413cb!=null&&_0x3413cb['isGGGR']),'isKTX2':!!(_0x3413cb!=null&&_0x3413cb['isKTX2'])}),qu;}class eo{['load'](_0xd2d0c6,_0x2f6824,_0x19dc2f){throw new Error('not\x20implem'+'ented');}['open'](_0x4436c9,_0x4c4cb,_0x59b2e6){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x4bc273,_0xefa59e){super(),this['device']=_0xefa59e,this['maxRetries']=-0x97e+0x1786+-0x704*0x2;}['load'](_0x152944,_0x209019,_0x2d5735){const _0x2b3415=this['device'],_0x394e22=_0x4fc82d=>{var _0x38e2f4,_0x4bbd13,_0xd2bcca;b0(_0x2b3415,_0x152944['load'],_0x4fc82d,_0x209019,{'isGGGR':(((_0xd2bcca=(_0x4bbd13=(_0x38e2f4=_0x2d5735==null?void(0x10f*-0x1+-0x1*0xf95+0x47*0x3c):_0x2d5735['file'])==null?void(0xab*-0x31+0x133e+0x47f*0x3):_0x38e2f4['variants'])==null?void(-0xbd5*0x1+0x2418+-0x1843):_0x4bbd13['basis'])==null?void(0x2*-0xe98+0x2*-0x7bd+0x2caa):_0xd2bcca['opt'])&-0xa9e+-0x12da+-0x2*-0xec0)!==0x8*-0x2b9+0xb*0x6a+0x113a})||_0x209019('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2d5735['name']+']('+_0x2d5735['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x152944['load'],(_0x355408,_0x4179a3)=>{_0x355408?_0x209019(_0x355408):_0x394e22(_0x4179a3);},_0x2d5735,this['maxRetries']);}['open'](_0x5285ad,_0x149a37,_0x17b8d3,_0x2b1104={}){const _0x3f3b81=_0x2b1104['srgb']?ld(_0x149a37['format']):_0x149a37['format'],_0x266b9c=new _e(_0x17b8d3,{'name':_0x5285ad,'profilerHint':Pr,'addressU':_0x149a37['cubemap']?ue:yt,'addressV':_0x149a37['cubemap']?ue:yt,'width':_0x149a37['width'],'height':_0x149a37['height'],'format':_0x3f3b81,'cubemap':_0x149a37['cubemap'],'levels':_0x149a37['levels'],..._0x2b1104});return _0x266b9c['upload'](),_0x266b9c;}}const A0=new Uint8Array([-0x1514+0x1*0x98c+-0x1*-0xc11,0x2*0x27a+-0x5bc+0x118,0x2279*0x1+0x5a8*0x4+-0x81d*0x7,-0x501+-0x11bd+0x53*0x47,0x4c*-0x5c+0x1165*-0x1+0x1*0x2cc2,0x244+0x2f*0x44+-0x21a*0x7,-0xe9*-0xd+0x2f6*0x1+-0xeb1,0x1b34+0x133*-0x13+0x3b*-0x13,0x1a87+0xde6+-0x286d,0x1610+0x14cf+0x5*-0x893,0x2599*0x1+-0x25a+-0x233f,-0xa*0x35f+0x16+0x21ad*0x1,-0x11*0x122+-0x1675*0x1+0x2a00,0x2276+-0x116b+-0x10c3,-0x15a7+0x1*0xc1f+0x9cc,0x1*-0x59+0x1*0xb99+-0xaee,0x2274+0x5*-0x699+-0x177,-0x1*0x1d4d+0x19*-0x85+-0x2*-0x1525,-0xb*-0x25e+0xa1*-0x1a+0x7c*-0x14,-0x1*0x1dae+0x202d*-0x1+0x3ddc,-0x283*-0x7+0x25f0+-0x3785,0x1604+0x211c+0x1260*-0x3,-0x16da+0x1c90+0x5b6*-0x1,-0x189f+-0x1*0x1ea6+0x3746,0x1fe8+-0xa8*-0xd+0xc*-0x35e,-0x3*0x1f3+0x294+0x34b,0x76*-0x3b+-0x1868+-0xa52*-0x5,0x26e4*-0x1+0x8*-0x59+-0x29ac*-0x1,-0x69*-0x1d+0x1c*-0x24+-0x61*0x15,-0x19da+-0x144b+-0x3db*-0xc,-0x8b7+-0x1c*-0x2b+0x418,-0x18d4+-0xb49*-0x3+-0x843,-0x1d53+0x239c+-0x2*0x2e0,0x1a8d*-0x1+-0x2ce*-0x8+0x1*0x41d,0x7a5*-0x1+-0x25b9+0x2d5e,-0x359+-0x9b6+0xd0f,-0x97d*0x4+-0x10e+0x270f,-0x1c*0xc8+0x2f*-0x4b+0x23ee,0x1a23*-0x1+0x17d9+0x28e,-0x1*-0x2027+-0xa1+-0x1f45,0x1aa*-0x5+0x83+0x823,0x1*-0x16db+-0x1*0x5cf+0x1d22,0x2082+0x41b*-0x1+-0x1b8d*0x1,-0x14+0x3*0xb08+-0x20a1*0x1,0x25d*-0x2+0x9*-0x1a7+0x13fd,-0x1b7*-0x8+-0xc03+-0x151*0x1,-0x1013+0x1*-0x23fd+-0x112*-0x31,-0x2424+-0x2ab+-0x1*-0x2785,-0xdf0+-0x3*-0xa15+0x209*-0x8,0x1dae*0x1+0x1*0x1d87+-0x3b35,-0x264f+-0x1efd*0x1+0x454c,-0xf96+-0x5*-0x3cf+-0x1*0x31c,-0x1*-0x1412+-0x1660+0x24e,-0x3bb*-0x7+0x24a*0x4+-0x5d5*0x6,0xd32+0x1b08+-0x27f7,0xb1b+0x1699+-0x212f,0x1*-0xc88+-0x1f5c+0x2c78*0x1,0x1c50+0x19d4+0x1*-0x3537,-0x131d+-0x2d1*-0x5+0x508,-0xb*-0x337+0x1fed+0x6*-0xb37,-0x3a*0xa7+-0x472*-0x2+0x1cf2,-0x3ce*-0x2+-0xae+-0x6ee,-0xcc9+0x14cb+0x7b9*-0x1,-0x1*-0xf22+-0xd91+-0x1*0x14c,0xea4*0x1+-0x555*0x6+-0x8*-0x235,0x5e*-0x17+0x20e4+-0x26b*0xa,0x1e*0x6+-0x104*-0x5+-0x51a,0x5*0xb6+0x67d*0x2+-0x1046,-0xe0+0x3db*-0xa+0x1*0x27ce,0x22c7+-0x1358+0x1*-0xeed]),C0=(_0x47a58d,_0x1ab134)=>{const _0x3f1f96=new _e(_0x47a58d,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x226d+0x494+-0x1*-0x1dda),'levels':[_0x1ab134]}),_0x261415=new gt({'colorBuffer':_0x3f1f96,'depth':!(0x2f1*-0x8+0x152a+-0x1*-0x25f)});_0x47a58d['setFramebu'+'ffer'](_0x261415['impl']['_glFrameBu'+'ffer']),_0x47a58d['initRender'+'Target'](_0x261415);const _0x49f6aa=new Uint8ClampedArray(0xab4+0xdd*-0x17+-0x1*-0x92b);return _0x47a58d['gl']['readPixels'](0x2226+0x36*0x1b+-0x27d8,-0x1231+0x1307+-0x1*0xd6,0x1a88+-0x1c00+0xd*0x1d,0x4f0+-0xa7c+0x58d,_0x47a58d['gl']['RGBA'],_0x47a58d['gl']['UNSIGNED_B'+'YTE'],_0x49f6aa),_0x261415['destroy'](),_0x3f1f96['destroy'](),_0x49f6aa[0x23d3+0x1*-0x1226+-0x1*0x11ad]===-0x1658+0x1a2f+-0x1*0x3d6&&_0x49f6aa[0x24e1+0x1a68+-0x3f48]===0x1b*-0xf1+-0x71e+0x208b*0x1&&_0x49f6aa[0x339+0x1083*-0x1+-0x2*-0x6a6]===0x1ccd*0x1+0xdc*-0x11+0xa5*-0x16&&_0x49f6aa[0x1067*-0x1+-0x1*-0x1836+-0x7cc]===-0x1f6+-0x1bf*-0x1+0x1*0x76;},jk=_0x141314=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x587f67=>C0(_0x141314,_0x587f67))['catch'](_0x400f9a=>!(0x134*-0xd+-0x1d07+0x3*0xee4)),Yk=_0x9fdea6=>new Promise((_0x43a04e,_0x158c70)=>{const _0x50e05e=new Image();_0x50e05e['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x50e05e['onload']=()=>{_0x43a04e(C0(_0x9fdea6,_0x50e05e));};});class Kk{static['run'](_0x5b9d85){jk(_0x5b9d85)['then'](_0x587e1b=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x587e1b);}),Yk(_0x5b9d85)['then'](_0x5b51fa=>{console['log']('imgElement'+'IsCorrect='+_0x5b51fa);});}}class Zk extends eo{constructor(_0x31a69f,_0x38a07d){super(),this['crossOrigi'+'n']=_0x31a69f['prefix']?'anonymous':null,this['maxRetries']=0xcb6+0x11*0xd2+0x355*-0x8,this['device']=_0x38a07d,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x1311fc,_0x4355ce,_0x2c9df5){var _0x1182b9;const _0x44f97e=!!((_0x1182b9=_0x2c9df5==null?void(-0x1*-0x10d3+0xe09+-0x1edc):_0x2c9df5['file'])!=null&&_0x1182b9['contents']);if(_0x44f97e){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x2c9df5['file']['contents']]),_0x4355ce);return;}_0x1311fc={'load':URL['createObje'+'ctURL'](new Blob([_0x2c9df5['file']['contents']])),'original':_0x1311fc['original']};}const _0x11463f=(_0x2fa3fd,_0x1bcb99)=>{_0x44f97e&&URL['revokeObje'+'ctURL'](_0x1311fc['load']),_0x4355ce(_0x2fa3fd,_0x1bcb99);};let _0x4f3c6f;_0x2c9df5&&_0x2c9df5['options']&&_0x2c9df5['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x4f3c6f=_0x2c9df5['options']['crossOrigi'+'n']:jn['test'](_0x1311fc['load'])&&(_0x4f3c6f=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x1311fc['load'],_0x1311fc['original'],_0x4f3c6f,_0x11463f,_0x2c9df5):this['_loadImage'](_0x1311fc['load'],_0x1311fc['original'],_0x4f3c6f,_0x11463f);}['open'](_0x5408b8,_0x2535ab,_0x5315fb,_0x21ba1e={}){const _0x339080=new _e(_0x5315fb,{'name':_0x5408b8,'profilerHint':Pr,'width':_0x2535ab['width'],'height':_0x2535ab['height'],'format':_0x21ba1e['srgb']?_s:Ne,..._0x21ba1e});return _0x339080['setSource'](_0x2535ab),_0x339080;}['_loadImage'](_0xa75b93,_0x1ef3e6,_0x129c7e,_0x539f72){const _0x85fac1=new Image();_0x129c7e&&(_0x85fac1['crossOrigi'+'n']=_0x129c7e);let _0x22d934=0xe0d*0x1+-0x1331+0x524;const _0x4814f9=this['maxRetries'];let _0x10bf02;_0x85fac1['onload']=function(){_0x539f72(null,_0x85fac1);},_0x85fac1['onerror']=function(){if(!_0x10bf02){if(_0x4814f9>0x7*0x71+0x17cb+-0x2*0xd71&&++_0x22d934<=_0x4814f9){const _0x23bec6=Math['pow'](-0x1*0x2410+-0x7*0x475+0x4345,_0x22d934)*(-0xb5*-0x33+0xb6+0x8b*-0x43);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x1ef3e6+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x23bec6+'ms...');const _0x2cea8f=_0xa75b93['indexOf']('?')>=0x4eb*0x2+0x1*-0x1be8+-0x6*-0x303?'&':'?';_0x10bf02=setTimeout(()=>{_0x85fac1['src']=_0xa75b93+_0x2cea8f+'retry='+Date['now'](),_0x10bf02=null;},_0x23bec6);}else _0x539f72('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x1ef3e6+'\x27');}},_0x85fac1['src']=_0xa75b93;}['_loadImage'+'Bitmap'](_0x4ad217,_0x506e61,_0xf8b60f,_0x14ef01,_0x330e39){const _0x1cbb48={'cache':!(-0x1575+0x23a2+-0xe2d),'responseType':'blob','retry':this['maxRetries']>0xf*-0x151+-0xd19+0x20d8,'maxRetries':this['maxRetries'],'progress':_0x330e39};ot['get'](_0x4ad217,_0x1cbb48,(_0x3d3de7,_0x3ee744)=>{_0x3d3de7?_0x14ef01(_0x3d3de7):this['_loadImage'+'BitmapFrom'+'Blob'](_0x3ee744,_0x14ef01);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x3d05be,_0x2a4157){createImageBitmap(_0x3d05be,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2ba58d=>_0x2a4157(null,_0x2ba58d))['catch'](_0x4f8508=>_0x2a4157(_0x4f8508));}}const If=[0x4fd9c03e+-0x1*-0x25e3a06d+-0x1d691500,-0x13a7bbce*-0x6+-0xfdc4e42f+-0x4cd2d*-0x4347,0x4f9e7b7+0x11c45858+0x2*-0x6521b01],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x448f26,_0x48170b,_0x504c2c,_0x511880){return _0x448f26===In?new Uint32Array(_0x48170b,_0x504c2c,_0x511880/(0x13*0x106+0x1ba7+-0x2f15)):new Uint8Array(_0x48170b,_0x504c2c,_0x511880);}class eU extends eo{constructor(_0x192b47){super(),this['maxRetries']=0x943*-0x3+0x131b*0x1+0x8ae;}['load'](_0x5de77e,_0x3f6587,_0x33c4f9){pe['fetchArray'+'Buffer'](_0x5de77e['load'],_0x3f6587,_0x33c4f9,this['maxRetries']);}['open'](_0x98f3ae,_0x43185a,_0x6c1a49,_0x58bf02={}){const _0x57a554=this['parse'](_0x43185a);if(!_0x57a554)return null;const _0x42d6e7=_0x58bf02['srgb']?ld(_0x57a554['format']):_0x57a554['format'],_0x37414b=new _e(_0x6c1a49,{'name':_0x98f3ae,'profilerHint':Pr,'addressU':_0x57a554['cubemap']?ue:yt,'addressV':_0x57a554['cubemap']?ue:yt,'width':_0x57a554['width'],'height':_0x57a554['height'],'format':_0x42d6e7,'cubemap':_0x57a554['cubemap'],'levels':_0x57a554['levels'],..._0x58bf02});return _0x37414b['upload'](),_0x37414b;}['parse'](_0x271875){const _0x402aa9=new Uint32Array(_0x271875);if(If[-0x1fff+0x4*-0x3b4+-0x209*-0x17]!==_0x402aa9[-0x1ce6+-0x421+0x2107]||If[-0x1d2e+-0x6d5+0x2404]!==_0x402aa9[0x192a+0x10b7*0x1+-0x29e0]||If[-0x65d*0x1+0xd71+-0xb5*0xa]!==_0x402aa9[0x1513+-0x27*-0x93+0x2*-0x15bb])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x414ef3={'endianness':_0x402aa9[-0x19*-0x173+-0xd5b+-0x16dd],'glType':_0x402aa9[-0x64a+-0xb45*0x1+0x1193*0x1],'glTypeSize':_0x402aa9[0x17e*0x15+0x66b+-0x25bc],'glFormat':_0x402aa9[-0xff+-0x1649+0x174e],'glInternalFormat':_0x402aa9[0x988+-0x1*0x2467+0x1ae6],'glBaseInternalFormat':_0x402aa9[-0x97f+0x20bb+-0x1734],'pixelWidth':_0x402aa9[0x23ae+-0x58e*0x6+-0x251*0x1],'pixelHeight':_0x402aa9[0x107b*0x1+0x18d*0x15+-0x3102],'pixelDepth':_0x402aa9[0x12d6+0x2681*-0x1+0x13b6],'numberOfArrayElements':_0x402aa9[-0x117*-0x17+0x264+-0x1b69],'numberOfFaces':_0x402aa9[-0x161*0x8+0x1165+-0x650],'numberOfMipmapLevels':_0x402aa9[-0x1*-0x473+0x18d*-0xd+0xfc4],'bytesOfKeyValueData':_0x402aa9[-0x4*0x8e4+-0x34*-0x8c+0x1*0x72f]};if(_0x414ef3['pixelDepth']>-0xb03*0x1+0x1fb0+-0x2a*0x7e)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x414ef3['numberOfAr'+'rayElement'+'s']!==-0x143b+0x99*0x3f+0x8b6*-0x2)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x11197f=Qk[_0x414ef3['glInternal'+'Format']];if(_0x11197f===void(0x1*0x86+0xb9f+-0xc25))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x414ef3['glInternal'+'Format']),null;let _0x129b99=0x93d*0x1+0x37*0x9+-0xb1c+_0x414ef3['bytesOfKey'+'ValueData']/(-0x2*0x437+-0x55c+-0x3*-0x49a);const _0x4c0bfc=_0x414ef3['numberOfFa'+'ces']>0x1402+0x1d53+-0x386*0xe,_0x22f330=[];for(let _0x11bfc9=-0x5c0+-0xa85*0x1+0x1045;_0x11bfc9<(_0x414ef3['numberOfMi'+'pmapLevels']||0x192c+0x4*0x3e6+-0x28c3);_0x11bfc9++){const _0x5cbaa9=_0x402aa9[_0x129b99++];_0x4c0bfc&&_0x22f330['push']([]);const _0x1f6de4=_0x4c0bfc?_0x22f330[_0x11bfc9]:_0x22f330;for(let _0xad7ed8=-0x1*0x4a6+0x958+0x1*-0x4b2;_0xad7ed8<(_0x4c0bfc?-0x5fc+-0x1dc1+0x23c3:0x1*0x176e+0x17*0x25+-0x8*0x358);++_0xad7ed8)_0x1f6de4['push'](Jk(_0x11197f,_0x271875,_0x129b99*(-0x1e65*0x1+-0x156f+0x33d8),_0x5cbaa9)),_0x129b99+=_0x5cbaa9+(0x193*0x1+-0x1d3*0xb+0x1281)>>-0x860*-0x2+-0x2*-0x11ac+-0x3416*0x1;}return{'format':_0x11197f,'width':_0x414ef3['pixelWidth'],'height':_0x414ef3['pixelHeigh'+'t'],'levels':_0x22f330,'cubemap':_0x4c0bfc};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x17e228,_0x4c1d76){super(),this['maxRetries']=-0xfa5+-0x25cf*0x1+-0xd5d*-0x4,this['device']=_0x4c1d76;}['load'](_0x50deff,_0x396e3e,_0x19bb13){pe['fetchArray'+'Buffer'](_0x50deff['load'],(_0x2465cc,_0x1d7aa8)=>{_0x2465cc?_0x396e3e(_0x2465cc,_0x1d7aa8):this['parse'](_0x1d7aa8,_0x50deff,_0x396e3e,_0x19bb13);},_0x19bb13,this['maxRetries']);}['open'](_0x3923cd,_0x581e52,_0x5d6f39,_0x375e08={}){const _0x50f038=_0x375e08['srgb']?ld(_0x581e52['format']):_0x581e52['format'],_0x811d50=new _e(_0x5d6f39,{'name':_0x3923cd,'profilerHint':Pr,'addressU':_0x581e52['cubemap']?ue:yt,'addressV':_0x581e52['cubemap']?ue:yt,'width':_0x581e52['width'],'height':_0x581e52['height'],'format':_0x50f038,'cubemap':_0x581e52['cubemap'],'levels':_0x581e52['levels'],..._0x375e08});return _0x811d50['upload'](),_0x811d50;}['parse'](_0x4d64ee,_0x5e9dd0,_0x5701c4,_0x1ba705){var _0x495358,_0x1005c5,_0x595981;const _0x287f26=new KS(_0x4d64ee),_0x42f43d=[_0x287f26['readU32be'](),_0x287f26['readU32be'](),_0x287f26['readU32be']()];if(_0x42f43d[-0x213*-0x7+0x260e+-0x3493]!==-0x14b1ef509+0xac050c9c+0x13158f1*0x115||_0x42f43d[0x26c+0x3ef+-0x65a]!==-0x7bfe345+-0x2c627a81+0x54548e81||_0x42f43d[0x6b*0xe+0x256*0x7+-0x1632]!==0x2*0xdcbca4+0x15c6df35+-0xa763e73)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x52e649={'vkFormat':_0x287f26['readU32'](),'typeSize':_0x287f26['readU32'](),'pixelWidth':_0x287f26['readU32'](),'pixelHeight':_0x287f26['readU32'](),'pixelDepth':_0x287f26['readU32'](),'layerCount':_0x287f26['readU32'](),'faceCount':_0x287f26['readU32'](),'levelCount':_0x287f26['readU32'](),'supercompressionScheme':_0x287f26['readU32']()},_0x5c3568={'dfdByteOffset':_0x287f26['readU32'](),'dfdByteLength':_0x287f26['readU32'](),'kvdByteOffset':_0x287f26['readU32'](),'kvdByteLength':_0x287f26['readU32'](),'sgdByteOffset':_0x287f26['readU64'](),'sgdByteLength':_0x287f26['readU64']()},_0x53701d=[];for(let _0xc2ab60=-0xa2a*-0x2+-0xba6+0x457*-0x2;_0xc2ab60<Math['max'](0x89*0x9+-0xccd+0x7fd,_0x52e649['levelCount']);++_0xc2ab60)_0x53701d['push']({'byteOffset':_0x287f26['readU64'](),'byteLength':_0x287f26['readU64'](),'uncompressedByteLength':_0x287f26['readU64']()});if(_0x287f26['readU32']()!==_0x5c3568['kvdByteOff'+'set']-_0x5c3568['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x287f26['skip'](-0xa3*-0xf+0xf1e+-0x18a3);const _0x3245b9=_0x287f26['readU8']();_0x287f26['skip'](_0x5c3568['dfdByteLen'+'gth']-(-0x3*0x962+0x1*-0x1288+-0x2eb7*-0x1)),_0x287f26['skip'](_0x5c3568['kvdByteLen'+'gth']),_0x52e649['supercompr'+'essionSche'+'me']===-0x11*-0x43+0x431*0x5+0x7*-0x3a1||_0x3245b9===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x5e9dd0['load'],_0x4d64ee,_0x5701c4,{'isGGGR':(((_0x595981=(_0x1005c5=(_0x495358=_0x1ba705==null?void(0x1*-0x17c7+0xd02+-0x3*-0x397):_0x1ba705['file'])==null?void(-0x1319+-0x7f*0x6+0x1613):_0x495358['variants'])==null?void(0x25c7+0x2f2+0xf*-0x2b7):_0x1005c5['basis'])==null?void(-0x1*0x515+-0x254c+0x13*0x23b):_0x595981['opt'])&-0x3e*-0xd+0x45e+-0x4*0x1df)!==0x5b5+0x10c0+0x1*-0x1675,'isKTX2':!(-0x15b*-0x2+0x2438+-0x26ee)})||_0x5701c4('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1ba705['name']+']('+_0x1ba705['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x5701c4('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x36fdec){super(),this['maxRetries']=-0x31a+0x27*-0x15+-0x1*-0x64d;}['load'](_0x7a1593,_0x20eb9d,_0x35bc65){pe['fetchArray'+'Buffer'](_0x7a1593['load'],_0x20eb9d,_0x35bc65,this['maxRetries']);}['open'](_0x48d561,_0x21ea8d,_0x2af69d,_0x22cc2f={}){const _0x2c39a4=new Uint32Array(_0x21ea8d,0x12*-0x3+0x247d*0x1+-0x2447,0x1*0xda5+0x1009+-0x1d8e),_0x541e60=_0x2c39a4[-0xf6a+0x92d+0x1*0x641],_0x66d659=_0x2c39a4[0x1e43+-0x1794*0x1+-0x6ac],_0x3e7359=Math['max'](_0x2c39a4[0x305*-0x3+-0x1da4*-0x1+-0x1*0x148e],-0x2*-0x772+-0x6e5+-0x7fe),_0x464eaa=_0x2c39a4[-0x148+-0x1*0x604+0x760]===-0x1ed3+0x1cd6*0x1+-0x9*-0x39,_0x19111f=_0x2c39a4[-0x48+0x176b+-0x170e],_0x34ecc1=_0x2c39a4[0xd71+0x207*-0x10+0x1315],_0x5f4c38=_0x2c39a4[0xda0+-0x532+-0x47*0x1e]===0x2c*-0xe2+0x2e4e*-0x1+0xa993*0x2,_0x464e30=-0x4*-0x8b7c10d+0x5d9ec6b1+0x5*-0xfd516ed,_0xa00a1=-0x20a8e479*-0x3+-0x5e*-0x1e94db+0x1*-0x37e0fd91,_0x71a09b=0xdf*-0x22+-0x21f9+0x801*0x8,_0x1395eb=-0x842+0x269*-0x5+0x5*0x427,_0x352a0b=0x237009e+-0x30ec2515+0x5ff878bc,_0x28dccb=0xb5*0x1ed673+0xf1*0x5c898a+-0x3bb7e7e9,_0x5d8b57=-0x19*0x26f416+0x49e87a2c+-0x14e671b6,_0x538cdb=-0x499f88*0x14+0x1*0x4e28fb21+-0x17355031,_0x38e073=0x1ce41541+0x23a0eaa9*-0x2+0x5b91f461;let _0x3c92f4=!(-0x464+0x978*0x3+0x801*-0x3),_0x8e419e=!(-0x1a4d+-0x1799*0x1+0x1*0x31e7),_0x1a3994=!(0x1abd+0x7*-0x32b+-0x48f),_0x1ffe21=!(0x1935+0x9b*-0x19+-0xa11),_0x3b4a64=null,_0x22fe2f=-0x11a9*0x1+0x192c+-0x782,_0x463f4e;if(_0x464eaa?_0x19111f===_0x464e30?(_0x3b4a64=td,_0x3c92f4=!(-0x178+-0x1ba0+-0xe*-0x214)):_0x19111f===_0xa00a1?(_0x3b4a64=vl,_0x3c92f4=!(-0x3c2+0x26ed+0x1*-0x232b)):_0x19111f===_0x71a09b?(_0x3b4a64=nt,_0x22fe2f=0x1744+0x25c0+-0x13*0x336):_0x19111f===_0x1395eb?(_0x3b4a64=Xt,_0x22fe2f=-0x1282+-0x95*-0x1+-0x5fb*-0x3):_0x19111f===_0x352a0b?(_0x3b4a64=id,_0x3c92f4=!(0x19af+-0x1286+0xd*-0x8d),_0x8e419e=!(-0x2145+-0xcc+-0x3*-0xb5b)):_0x19111f===_0x28dccb||_0x19111f===_0x5d8b57?(_0x3b4a64=_0x19111f===_0x28dccb?xl:Tl,_0x3c92f4=!(-0x25c9+0x168c+0x53*0x2f),_0x1a3994=!(0x15*-0x9f+0x4*-0x94+0xf5b)):(_0x19111f===_0x538cdb||_0x19111f===_0x38e073)&&(_0x3b4a64=_0x19111f===_0x538cdb?rd:ad,_0x3c92f4=!(-0x1d*-0x41+-0x1*-0x513+-0xc70),_0x1ffe21=!(-0x115*0x2+-0x213d+0x1*0x2367)):_0x34ecc1===0x1*0xc49+-0x152c+0x903&&(_0x3b4a64=Ne),!_0x3b4a64)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x48d561+'.'),_0x463f4e=new _e(_0x2af69d,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x463f4e;_0x463f4e=new _e(_0x2af69d,{'name':_0x48d561,'profilerHint':Pr,'addressU':_0x5f4c38?ue:yt,'addressV':_0x5f4c38?ue:yt,'width':_0x541e60,'height':_0x66d659,'format':_0x3b4a64,'cubemap':_0x5f4c38,'mipmaps':_0x3e7359>-0x26db+-0x9d5+0x30b1,..._0x22cc2f});let _0x2c1399=-0xc5*-0x21+-0x23*-0xa3+0x3*-0xfba;const _0x5e906f=_0x5f4c38?-0x10f*-0x14+-0xa93*-0x3+-0x34df:0x2*0xbff+0x1928+-0x223*0x17;let _0x505ffc;const _0x430a54=0x1*0x19f1+-0xe9c+0xb51*-0x1,_0x3218da=0xbed+0x1*0x87a+-0x1463,_0x13959f=_0x19111f===_0x464e30?0x191e+0x23*0x116+0xc*-0x542:-0xf0e+-0xc*-0xa7+0x74a;let _0x415ca3,_0x5f57dc,_0x38ca4d;for(let _0x188ff2=0x2e*0x83+-0x29*-0xab+0x32ed*-0x1;_0x188ff2<_0x5e906f;_0x188ff2++){let _0x2fb130=_0x541e60,_0x1b2b8f=_0x66d659;for(let _0x42aecb=-0x1937+0x1c2f+-0x5f*0x8;_0x42aecb<_0x3e7359;_0x42aecb++){_0x3c92f4?_0x8e419e?_0x505ffc=Math['floor']((_0x2fb130+(-0x3*0x5e5+-0x15*0x8e+-0x4*-0x756))/(-0x2*-0x1078+-0x409*-0x7+-0x3d2b*0x1))*Math['floor']((_0x1b2b8f+(0x1*-0xdaf+-0x137b+0x212d))/(0x1*-0xcfe+-0x9*-0x225+-0x64b))*(-0x7*-0x16d+-0x22*-0x121+-0x3055):_0x1a3994?_0x505ffc=Math['max'](_0x2fb130,-0x811+0x2*0xb53+-0xe85)*Math['max'](_0x1b2b8f,0x21*0x3c+-0x1d05+0x3*0x71b)/(-0x20ef+-0x319*0x2+0x2725):_0x1ffe21?_0x505ffc=Math['max'](_0x2fb130,-0x1*-0x3e1+-0x1*0x2507+0x212e)*Math['max'](_0x1b2b8f,0xa*0x6a+-0x283*-0x1+-0x69f)/(-0x216b+0x4d2+0x1c9b):(_0x415ca3=Math['floor']((_0x2fb130+_0x430a54-(-0x726+0x1799*0x1+0x2*-0x839))/_0x430a54),_0x5f57dc=Math['floor']((_0x1b2b8f+_0x3218da-(-0x431+-0x1c89+0x20bb))/_0x3218da),_0x38ca4d=_0x415ca3*_0x5f57dc,_0x505ffc=_0x38ca4d*_0x13959f):_0x505ffc=_0x2fb130*_0x1b2b8f*(-0x76*-0x21+0x2645+-0x3577);const _0x2a175e=_0x3b4a64===Xt?new Float32Array(_0x21ea8d,_0x2c1399,_0x505ffc):_0x3b4a64===nt?new Uint16Array(_0x21ea8d,_0x2c1399,_0x505ffc):new Uint8Array(_0x21ea8d,_0x2c1399,_0x505ffc);_0x5f4c38?(_0x463f4e['_levels'][_0x42aecb]||(_0x463f4e['_levels'][_0x42aecb]=[]),_0x463f4e['_levels'][_0x42aecb][_0x188ff2]=_0x2a175e):_0x463f4e['_levels'][_0x42aecb]=_0x2a175e,_0x2c1399+=_0x505ffc*_0x22fe2f,_0x2fb130=Math['max'](_0x2fb130*(-0x3fd*-0x2+0x140c+-0x2*0xe03+0.5),0x61b*-0x4+0x51*0xc+-0x1*-0x14a1),_0x1b2b8f=Math['max'](_0x1b2b8f*(0x1a0b*-0x1+0x3*0x6f1+-0x2*-0x29c+0.5),0x1*-0x176e+-0x25c2+0xc3d*0x5);}}return _0x463f4e['upload'](),_0x463f4e;}}class rU extends eo{constructor(_0x3fc8a4){super(),this['maxRetries']=0x560*-0x3+-0x1f34+0x2f54;}['load'](_0x508a9b,_0x1627dc,_0xe0897c){pe['fetchArray'+'Buffer'](_0x508a9b['load'],_0x1627dc,_0xe0897c,this['maxRetries']),_0xe0897c['data']&&!_0xe0897c['data']['type']&&(_0xe0897c['data']['type']=mh);}['open'](_0xe46966,_0x5a6de7,_0x3d10fc,_0x4105b7={}){const _0xe33e92=this['parse'](_0x5a6de7);if(!_0xe33e92)return null;const _0x475a24=new _e(_0x3d10fc,{'name':_0xe46966,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0xe33e92['width'],'height':_0xe33e92['height'],'levels':_0xe33e92['levels'],'format':Ne,'type':mh,'mipmaps':!(-0x2141+-0x1caf+0x3df1),..._0x4105b7});return _0x475a24['upload'](),_0x475a24;}['parse'](_0x33be26){const _0xe43e31=new KS(_0x33be26);if(!_0xe43e31['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x24b6be={};for(;;){const _0x1ccdc5=_0xe43e31['readLine']();if(_0x1ccdc5['length']===0x13e4+0x2d2*0xb+-0x32ea)break;{const _0x291f51=_0x1ccdc5['split']('=');_0x291f51['length']===0x1*0x2313+-0x25b8+0x2a7&&(_0x24b6be[_0x291f51[-0x3fa*0x9+-0x14a2+0x386c]]=_0x291f51[0x8d*0x2e+0x304+-0x1c59]);}}if(!_0x24b6be['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x2a0e6e=_0xe43e31['readLine']()['split']('\x20');if(_0x2a0e6e['length']!==0x949+0x103*-0xd+0x3e2)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x17f713=parseInt(_0x2a0e6e[0xae9+0x81*-0x1d+0x3b5],-0xd*0x61+-0x1ded+0x1172*0x2),_0x19bd21=parseInt(_0x2a0e6e[-0x119e+0x37d+0x712*0x2],0x8ce*-0x2+-0x22f7*0x1+0x349d),_0x481547=this['_readPixel'+'s'](_0xe43e31,_0x19bd21,_0x17f713,_0x2a0e6e[0x6fd*0x2+-0x90f+-0x1*0x4eb]==='-Y');return _0x481547?{'width':_0x19bd21,'height':_0x17f713,'levels':[_0x481547]}:null;}['_readPixel'+'s'](_0x1206b2,_0x181c53,_0xe78454,_0x44354e){if(_0x181c53<0x1a9a+-0x25c*0xd+0x41a||_0x181c53>0xdaab+-0x2ef*-0xb+-0x7af1)return this['_readPixel'+'sFlat'](_0x1206b2,_0x181c53,_0xe78454);const _0x1f7544=[-0x1771+-0xa62+0x21d3,0x4*0x41b+-0x1*-0xbae+-0x1c1a,-0x2*0xf2b+-0x1e8b+0xf*0x40f,-0x121+-0x1*-0x1aa7+-0x1986];if(_0x1206b2['readArray'](_0x1f7544),_0x1f7544[-0x15*-0x13a+0x15c0+-0x2f82]!==-0xa3*-0x3+0x1385+0x1*-0x156c||_0x1f7544[-0x1391*-0x1+-0x3*0x761+0x293]!==-0x18f2*-0x1+0x110b+0x29fb*-0x1||(_0x1f7544[-0x11b*0x14+-0x1c1b+0x3239]&-0x20c*0x9+-0x4c*-0x7f+-0x12c8)!==-0xdf2+0x24c1+0x16cf*-0x1)return _0x1206b2['skip'](-(-0x25bb*0x1+-0x9*0x1d7+0x7*0x7c2)),this['_readPixel'+'sFlat'](_0x1206b2,_0x181c53,_0xe78454);const _0x5ada0e=new ArrayBuffer(_0x181c53*_0xe78454*(-0x23a8+-0x13ed+-0x2b*-0x14b)),_0x3a6826=new Uint8Array(_0x5ada0e);let _0x30c71e=_0x44354e?-0xc7*0xc+-0x421*0x7+-0x263b*-0x1:_0x181c53*(0x53b+-0x99e+-0x31*-0x17)*(_0xe78454-(0x1f*0x7+0xe*-0x287+0x1*0x228a)),_0x379331,_0xe6cdb6,_0x2b0cc5,_0xcf9527,_0x404984,_0xc5c94e;for(_0xe6cdb6=-0x1c*0x54+0xdfe+-0x29*0x1e;_0xe6cdb6<_0xe78454;++_0xe6cdb6){if(_0xe6cdb6&&_0x1206b2['readArray'](_0x1f7544),(_0x1f7544[0x43+0x2*0x10e8+-0x2211]<<0x1bb*-0xe+0x769*0x2+-0x2*-0x4b8)+_0x1f7544[0x17a7+0x11*-0x1b9+0x5a5*0x1]!==_0x181c53)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0xcf9527=-0x552+-0xed2+0x1424;_0xcf9527<0x1031+-0x27f*-0xf+-0x359e;++_0xcf9527)for(_0x379331=0x9a8+0x2392+-0x2d3a;_0x379331<_0x181c53;)if(_0x404984=_0x1206b2['readU8'](),_0x404984>0x1bb7+-0xe6*0xa+-0x167*0xd){if(_0x404984-=-0x1555+-0x15b1+-0x4d6*-0x9,_0x379331+_0x404984>_0x181c53)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0xc5c94e=_0x1206b2['readU8'](),_0x2b0cc5=-0x187b+0x1edb+0x2*-0x330;_0x2b0cc5<_0x404984;++_0x2b0cc5)_0x3a6826[_0x30c71e+_0xcf9527+(-0x9e8+0xac6*0x2+-0xba0)*_0x379331++]=_0xc5c94e;}else{if(_0x404984===-0x1418+-0x480+-0xc4c*-0x2||_0x379331+_0x404984>_0x181c53)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x2b0cc5=-0x1*0xd6b+0x1366+0x5fb*-0x1;_0x2b0cc5<_0x404984;++_0x2b0cc5)_0x3a6826[_0x30c71e+_0xcf9527+(0x2208+-0xee7+-0x131d)*_0x379331++]=_0x1206b2['readU8']();}_0x30c71e+=_0x181c53*(-0xb*-0x336+-0x1*-0xee3+-0x3*0x10bb)*(_0x44354e?-0x1*0x13ad+0xfd9*-0x1+0x2387:-(0x14a1*-0x1+0x1321+0x181*0x1));}return _0x3a6826;}['_readPixel'+'sFlat'](_0x2d2e3a,_0x36dee9,_0x1d302d){return _0x2d2e3a['remainingB'+'ytes']===_0x36dee9*_0x1d302d*(-0x2635*0x1+0x2083+0x5b6)?new Uint8Array(_0x2d2e3a['arraybuffe'+'r'],_0x2d2e3a['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x1fe88d){const _0xc66d23=Xi['calcMipLev'+'elsCount'](_0x1fe88d['_width'],_0x1fe88d['_height']),_0x41caf4=function(_0x211020){return _0x211020 instanceof HTMLCanvasElement||_0x211020 instanceof HTMLImageElement||_0x211020 instanceof HTMLVideoElement;};if(!(_0x1fe88d['_format']===Ne||_0x1fe88d['_format']===Xt)||_0x1fe88d['_volume']||_0x1fe88d['_compresse'+'d']||_0x1fe88d['_levels']['length']===-0xd22+-0xbf3*0x2+0x2509||_0x1fe88d['_levels']['length']===_0xc66d23||_0x41caf4(_0x1fe88d['_cubemap']?_0x1fe88d['_levels'][0xcdf+0x88f*0x1+-0x156e][0x930*0x1+-0x450*0x6+0x10b0]:_0x1fe88d['_levels'][0x1271+-0x2298+0x1027]))return;const _0x4bcf9c=function(_0x5d9759,_0x49e00c,_0x1bcc9a){const _0x59e39d=Math['max'](0x2570*-0x1+0x11d+0x2454,_0x5d9759>>0x1d50+0x3*0x8ef+-0x381c),_0x41682e=Math['max'](-0x1*-0x1b1a+0x1*-0x16ac+-0x46d,_0x49e00c>>-0xc3b+0x22f4+-0x2*0xb5c),_0x1a6646=new _0x1bcc9a['constructo'+'r'](_0x59e39d*_0x41682e*(0x1473*0x1+-0x1628+-0x3f*-0x7)),_0x5e7f25=Math['floor'](_0x5d9759/_0x59e39d),_0x1c299a=Math['floor'](_0x49e00c/_0x41682e),_0xf632c3=_0x5e7f25*_0x1c299a;for(let _0x5ce860=-0x566*-0x2+0x79*0x1+0x1*-0xb45;_0x5ce860<_0x41682e;++_0x5ce860)for(let _0x36f4c6=0x1aab*0x1+0x6d9*-0x4+-0x1*-0xb9;_0x36f4c6<_0x59e39d;++_0x36f4c6)for(let _0x2d7354=-0x5*0x56e+0x2*-0x1c1+0x1ea8*0x1;_0x2d7354<-0x6*-0x3ad+-0x1b5b+-0x1*-0x551;++_0x2d7354){let _0x18f0a3=0x1f*-0x97+0xac1*-0x1+0x1d0a;for(let _0x4ea463=0x1ac1+0x1*0x94d+-0x240e;_0x4ea463<_0x1c299a;++_0x4ea463)for(let _0x472e2c=-0x5b*-0xb+0x7*0x2cf+-0x1af*0xe;_0x472e2c<_0x5e7f25;++_0x472e2c)_0x18f0a3+=_0x1bcc9a[(_0x36f4c6*_0x5e7f25+_0x472e2c+(_0x5ce860*_0x1c299a+_0x4ea463)*_0x5d9759)*(-0x77d+0x1*-0x1730+0x1eb1)+_0x2d7354];_0x1a6646[(_0x36f4c6+_0x5ce860*_0x59e39d)*(0x58f+0x2611+-0x2b9c)+_0x2d7354]=_0x18f0a3/_0xf632c3;}return _0x1a6646;};for(let _0x4dc789=_0x1fe88d['_levels']['length'];_0x4dc789<_0xc66d23;++_0x4dc789){const _0x39aeb8=Math['max'](0x1344+-0x5*0x103+-0x6*0x25e,_0x1fe88d['_width']>>_0x4dc789-(0x1849+0x1*0x1445+-0x2c8d)),_0x19d6a3=Math['max'](0x410+0x1281*-0x1+0xe72,_0x1fe88d['_height']>>_0x4dc789-(0x195e+-0x2*-0x3e5+-0x2127));if(_0x1fe88d['_cubemap']){const _0x1bbbef=[];for(let _0x5e27a9=-0x12*-0x14a+-0x2467+0xd33;_0x5e27a9<-0x16f6+0x15a*-0x10+0x2c9c;++_0x5e27a9)_0x1bbbef['push'](_0x4bcf9c(_0x39aeb8,_0x19d6a3,_0x1fe88d['_levels'][_0x4dc789-(0x1af3+-0x49d+-0x1*0x1655)][_0x5e27a9]));_0x1fe88d['_levels']['push'](_0x1bbbef);}else _0x1fe88d['_levels']['push'](_0x4bcf9c(_0x39aeb8,_0x19d6a3,_0x1fe88d['_levels'][_0x4dc789-(0x15bd+-0x841+0x1d*-0x77)]));}_0x1fe88d['_levelsUpd'+'ated']=_0x1fe88d['_cubemap']?[[!(-0x1*-0x2287+-0x2384+0xfd),!(0x5fe*0x4+-0x7*-0x241+-0x27bf),!(0x2*-0xa31+0x131*0xf+0x283),!(-0x1f9a+0x1e4f+-0x14b*-0x1),!(0x19d0+-0x9ac+0x409*-0x4),!(-0x2538*0x1+0x19d9+-0xb5f*-0x1)]]:[!(0x22b6+0x2003+-0x42b9)];};class oU extends Qe{constructor(_0x872b8e){super(_0x872b8e,'texture');const _0x4e48d7=_0x872b8e['assets'],_0x3a57c7=_0x872b8e['graphicsDe'+'vice'];this['_device']=_0x3a57c7,this['_assets']=_0x4e48d7,this['imgParser']=new Zk(_0x4e48d7,_0x3a57c7),this['parsers']={'dds':new iU(_0x4e48d7),'ktx':new eU(_0x4e48d7),'ktx2':new sU(_0x4e48d7,_0x3a57c7),'basis':new qk(_0x4e48d7,_0x3a57c7),'hdr':new rU(_0x4e48d7)};}set['crossOrigi'+'n'](_0x8f57ef){this['imgParser']['crossOrigi'+'n']=_0x8f57ef;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1b860e){this['imgParser']['maxRetries']=_0x1b860e;for(const _0x135171 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x135171)&&(this['parsers'][_0x135171]['maxRetries']=_0x1b860e);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x8d1b48){return _0x8d1b48['indexOf']('?')>=0x2127+-0x1*0x1c51+-0x4d6?_0x8d1b48['split']('?')[-0x735*0x1+-0x92*-0xc+0x1f*0x3]:_0x8d1b48;}['_getParser'](_0xd25000){const _0x2bbc07=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0xd25000))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x2bbc07]||this['imgParser'];}['_getTextur'+'eOptions'](_0x4d5c99){var _0x57bee0;const _0xbf9201={'profilerHint':Pr};if(_0x4d5c99){((_0x57bee0=_0x4d5c99['name'])==null?void(-0x129e+0xac2+0x7dc):_0x57bee0['length'])>-0x16d4+0xd54+0x4c*0x20&&(_0xbf9201['name']=_0x4d5c99['name']);const _0x3dac85=_0x4d5c99['data'];_0x3dac85['hasOwnProp'+'erty']('minfilter')&&(_0xbf9201['minFilter']=wS[_0x3dac85['minfilter']]),_0x3dac85['hasOwnProp'+'erty']('magfilter')&&(_0xbf9201['magFilter']=wS[_0x3dac85['magfilter']]),_0x3dac85['hasOwnProp'+'erty']('addressu')&&(_0xbf9201['addressU']=TS[_0x3dac85['addressu']]),_0x3dac85['hasOwnProp'+'erty']('addressv')&&(_0xbf9201['addressV']=TS[_0x3dac85['addressv']]),_0x3dac85['hasOwnProp'+'erty']('mipmaps')&&(_0xbf9201['mipmaps']=_0x3dac85['mipmaps']),_0x3dac85['hasOwnProp'+'erty']('anisotropy')&&(_0xbf9201['anisotropy']=_0x3dac85['anisotropy']),_0x3dac85['hasOwnProp'+'erty']('flipY')&&(_0xbf9201['flipY']=!!_0x3dac85['flipY']),_0x3dac85['hasOwnProp'+'erty']('srgb')&&(_0xbf9201['srgb']=!!_0x3dac85['srgb']),_0xbf9201['type']=Ds,_0x3dac85['hasOwnProp'+'erty']('type')?_0xbf9201['type']=aU[_0x3dac85['type']]:_0x3dac85['hasOwnProp'+'erty']('rgbm')&&_0x3dac85['rgbm']?_0xbf9201['type']=Zi:_0x4d5c99['file']&&(_0x4d5c99['file']['opt']&-0x2a*-0xe6+-0x9*0x17d+-0x379*0x7)!==0x8*-0x30a+-0xbb+-0x859*-0x3&&(_0xbf9201['type']=Jo);}return _0xbf9201;}['load'](_0x1c330f,_0x1120e6,_0x199627){typeof _0x1c330f=='string'&&(_0x1c330f={'load':_0x1c330f,'original':_0x1c330f}),this['_getParser'](_0x1c330f['original'])['load'](_0x1c330f,_0x1120e6,_0x199627);}['open'](_0x14e9d7,_0x467119,_0x1614af){if(!_0x14e9d7)return;const _0x494d57=this['_getTextur'+'eOptions'](_0x1614af);let _0x545039=this['_getParser'](_0x14e9d7)['open'](_0x14e9d7,_0x467119,this['_device'],_0x494d57);return _0x545039===null?_0x545039=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x545039),_0x467119['unswizzled'+'GGGR']&&(_0x1614af['file']['variants']['basis']['opt']&=-(0x1f2+0x9*0x141+-0x699*0x2))),_0x545039;}['patch'](_0x1b5b2a,_0x434cdc){const _0x2a4851=_0x1b5b2a['resource'];if(!_0x2a4851)return;const _0x3cde28=this['_getTextur'+'eOptions'](_0x1b5b2a);for(const _0x43957c of Object['keys'](_0x3cde28))_0x2a4851[_0x43957c]=_0x3cde28[_0x43957c];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x121eb0){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x121eb0;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x50d059){!this['_supported']||this['_manager']['active']||(this['_root']=_0x50d059);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x39889f,_0x43e57d,_0x1950b3,_0x179fe7=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x39889f,this['_xrHitTest'+'Source']=_0x43e57d,this['_transient']=_0x1950b3,this['_inputSour'+'ce']=_0x179fe7);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x47113f=this['manager']['hitTest']['sources'],_0x1a9040=_0x47113f['indexOf'](this);_0x1a9040!==-(-0x1*-0x713+-0xc*0x9+-0x353*0x2)&&_0x47113f['splice'](_0x1a9040,-0x34*-0x89+-0x160c+-0x5c7),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x58a9b7){if(this['_transient']){const _0x16c5b2=_0x58a9b7['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x49b11d=-0x49b*-0x8+-0x14f5+-0xfe3;_0x49b11d<_0x16c5b2['length'];_0x49b11d++){const _0x152d7e=_0x16c5b2[_0x49b11d];if(!_0x152d7e['results']['length'])continue;let _0x4c3f28;_0x152d7e['inputSourc'+'e']&&(_0x4c3f28=this['manager']['input']['_getByInpu'+'tSource'](_0x152d7e['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x152d7e['results'],_0x4c3f28);}}else{const _0x3fc46b=_0x58a9b7['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x3fc46b['length'])return;this['updateHitR'+'esults'](_0x3fc46b);}}['updateHitR'+'esults'](_0x256314,_0x59920b){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x59920b)return;const _0x2019e4=Rc['pop']()??new D();_0x59920b?_0x2019e4['copy'](_0x59920b['getOrigin']()):_0x2019e4['copy'](this['manager']['camera']['getPositio'+'n']());let _0x3f9958=(0x25b1*0x1+0x1*0x14c0+0x22*-0x1b8)/(-0x428+-0x6*-0x5cf+0x2*-0xf59),_0x1526de=null;const _0x4a8f6a=Rc['pop']()??new D(),_0x5d884f=bS['pop']()??new le();for(let _0x5b80e6=-0x2*0xd97+0x9e2+0x114c;_0x5b80e6<_0x256314['length'];_0x5b80e6++){const _0x3bd5b9=_0x256314[_0x5b80e6]['getPose'](this['manager']['_reference'+'Space']),_0x3f3e23=_0x2019e4['distance'](_0x3bd5b9['transform']['position']);_0x3f3e23>=_0x3f9958||(_0x3f9958=_0x3f3e23,_0x1526de=_0x256314[_0x5b80e6],_0x4a8f6a['copy'](_0x3bd5b9['transform']['position']),_0x5d884f['copy'](_0x3bd5b9['transform']['orientatio'+'n']));}this['fire']('result',_0x4a8f6a,_0x5d884f,_0x59920b||this['_inputSour'+'ce'],_0x1526de),this['manager']['hitTest']['fire']('result',this,_0x4a8f6a,_0x5d884f,_0x59920b||this['_inputSour'+'ce'],_0x1526de),Rc['push'](_0x2019e4),Rc['push'](_0x4a8f6a),bS['push'](_0x5d884f);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x1d1f15){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x262d+0x5ce*-0x5+0x4334)),h(this,'_checkingA'+'vailabilit'+'y',!(0x2b7*-0xd+-0x20e6+0x4432)),h(this,'sources',[]),(this['manager']=_0x1d1f15,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x51b16b=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x52*0x10+-0x95*0x18+0x8d9*0x1);if(!_0x51b16b)return;this['_available']=_0x51b16b,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x252c+-0xb2b+0x1*0x3057),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0xc67ad8=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0xc67ad8})['then'](_0x1cac0a=>{_0x1cac0a['cancel'](),this['manager']['active']&&(this['_available']=!(0x22b*0x9+0x7*0x559+-0x38f2),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x9a8+-0xdb*-0x26+0x1*-0x2a29);for(let _0x14106d=-0x1d3c+-0x338+0x2074;_0x14106d<this['sources']['length'];_0x14106d++)this['sources'][_0x14106d]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x5987c9={}){var _0x12b08a,_0x53714e;if(!this['_supported']){(_0x12b08a=_0x5987c9['callback'])==null||_0x12b08a['call'](_0x5987c9,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x53714e=_0x5987c9['callback'])==null||_0x53714e['call'](_0x5987c9,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x5987c9['profile']&&!_0x5987c9['spaceType']&&(_0x5987c9['spaceType']=ES);let _0x500bc4;const _0x2fbfbb=_0x5987c9['offsetRay'];if(_0x2fbfbb){const _0x1a37bc=new DOMPoint(_0x2fbfbb['origin']['x'],_0x2fbfbb['origin']['y'],_0x2fbfbb['origin']['z'],-0x26ee+-0xb19+-0x641*-0x8),_0x183185=new DOMPoint(_0x2fbfbb['direction']['x'],_0x2fbfbb['direction']['y'],_0x2fbfbb['direction']['z'],-0xd*-0x10c+0x1186+0xa*-0x31d);_0x500bc4=new XRRay(_0x1a37bc,_0x183185);}const _0x59aaec=_0x5987c9['callback'];_0x5987c9['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x5987c9['spaceType'])['then'](_0x2e709b=>{if(!this['manager']['session']){const _0x474264=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x59aaec&&_0x59aaec(_0x474264),this['fire']('error',_0x474264);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x2e709b,'entityTypes':_0x5987c9['entityType'+'s']||void(0x24c0+0x5*0x551+-0x3f55),'offsetRay':_0x500bc4})['then'](_0x412e39=>{this['_onHitTest'+'Source'](_0x412e39,!(-0x2298+-0x2429+0x46c2),_0x5987c9['inputSourc'+'e'],_0x59aaec);})['catch'](_0x4a5d0d=>{_0x59aaec&&_0x59aaec(_0x4a5d0d),this['fire']('error',_0x4a5d0d);});})['catch'](_0x54c744=>{_0x59aaec&&_0x59aaec(_0x54c744),this['fire']('error',_0x54c744);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x5987c9['profile'],'entityTypes':_0x5987c9['entityType'+'s']||void(0x1d1a+-0x3*0xa11+0x119),'offsetRay':_0x500bc4})['then'](_0xda50c3=>{this['_onHitTest'+'Source'](_0xda50c3,!(0xb57+-0x22c4+0x176d*0x1),_0x5987c9['inputSourc'+'e'],_0x59aaec);})['catch'](_0x553e91=>{_0x59aaec&&_0x59aaec(_0x553e91),this['fire']('error',_0x553e91);});}['_onHitTest'+'Source'](_0xf63b3f,_0x12e5e0,_0x34d8f5,_0x2f9c98){if(!this['manager']['session']){_0xf63b3f['cancel']();const _0x2b8f1e=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x2f9c98&&_0x2f9c98(_0x2b8f1e),this['fire']('error',_0x2b8f1e);return;}const _0x162834=new ju(this['manager'],_0xf63b3f,_0x12e5e0,_0x34d8f5??null);this['sources']['push'](_0x162834),_0x2f9c98&&_0x2f9c98(null,_0x162834),this['fire']('add',_0x162834);}['update'](_0x2850f2){if(this['_available']){for(let _0x337254=-0x13a2+0x8f8+0xa*0x111;_0x337254<this['sources']['length'];_0x337254++)this['sources'][_0x337254]['update'](_0x2850f2);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x55d0e9,_0x34b190){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x647*-0x5+0xa0f+-0x5*0x84a),h(this,'_trackable',!(-0x6*-0x2a3+0xd82+-0x1d53)),h(this,'_tracking',!(-0x5e7+-0x44e+0xa36)),h(this,'_emulated',!(0x3*0x47a+0x182f+-0x259c)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x55d0e9,this['_width']=_0x34b190);}get['image'](){return this['_image'];}set['width'](_0xf483f1){this['_width']=_0xf483f1;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x397f23=>(this['_bitmap']=_0x397f23,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x4736cf){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x136d+0x1bb1*-0x1+-0x845*-0x1)),h(this,'_images',[]),(this['_manager']=_0x4736cf,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0xd18096,_0x55bc29){if(!this['_supported']||this['_manager']['active'])return null;const _0x37150f=new Yu(_0xd18096,_0x55bc29);return this['_images']['push'](_0x37150f),_0x37150f;}['remove'](_0x2b29a0){if(this['_manager']['active'])return;const _0x1a0280=this['_images']['indexOf'](_0x2b29a0);_0x1a0280!==-(-0x75*0x6+0x376+-0xb7)&&(_0x2b29a0['destroy'](),this['_images']['splice'](_0x1a0280,-0x121*0x3+0x2*-0x6ff+0x1162));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0xe20e82=>{this['_available']=!(-0xf6b+0xe*0x1ff+-0x3*0x42d);for(let _0x3aaf5b=-0x1d*-0x8b+-0x1d3*0xd+0x6*0x154;_0x3aaf5b<_0xe20e82['length'];_0x3aaf5b++)this['_images'][_0x3aaf5b]['_trackable']=_0xe20e82[_0x3aaf5b]==='trackable';})['catch'](_0x557fd6=>{this['_available']=!(0xe0*-0x2b+0x21c*-0x1+-0x3*-0xd3f),this['fire']('error',_0x557fd6);});}['_onSession'+'End'](){this['_available']=!(-0x1*-0x379+-0x1e76+0x1afe);for(let _0x13fc50=0xd46+-0x1278+0x532;_0x13fc50<this['_images']['length'];_0x13fc50++){const _0x5c9b4b=this['_images'][_0x13fc50];_0x5c9b4b['_pose']=null,_0x5c9b4b['_measuredW'+'idth']=-0x3*0x6a9+0x87*-0x5+0x243*0xa,_0x5c9b4b['_tracking']&&(_0x5c9b4b['_tracking']=!(0x949+0x1*0x2345+-0x2c8d),_0x5c9b4b['fire']('untracked'));}}['prepareIma'+'ges'](_0x554735){this['_images']['length']?Promise['all'](this['_images']['map'](_0x2853f5=>_0x2853f5['prepare']()))['then'](_0x582218=>{_0x554735(null,_0x582218);})['catch'](_0x249a9d=>{_0x554735(_0x249a9d,null);}):_0x554735(null,null);}['update'](_0xf8ee4b){if(!this['_available'])return;const _0x1188dd=_0xf8ee4b['getImageTr'+'ackingResu'+'lts'](),_0x1d2b3f={};for(let _0x1e4db6=-0x1cd+-0x3*-0xac5+0x30d*-0xa;_0x1e4db6<_0x1188dd['length'];_0x1e4db6++){_0x1d2b3f[_0x1188dd[_0x1e4db6]['index']]=_0x1188dd[_0x1e4db6];const _0x3c3e02=this['_images'][_0x1188dd[_0x1e4db6]['index']];_0x3c3e02['_emulated']=_0x1188dd[_0x1e4db6]['trackingSt'+'ate']==='emulated',_0x3c3e02['_measuredW'+'idth']=_0x1188dd[_0x1e4db6]['measuredWi'+'dthInMeter'+'s'],_0x3c3e02['_pose']=_0xf8ee4b['getPose'](_0x1188dd[_0x1e4db6]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x1aed48=-0xbb*-0x11+-0x2d8+-0x993;_0x1aed48<this['_images']['length'];_0x1aed48++)this['_images'][_0x1aed48]['_tracking']&&!_0x1d2b3f[_0x1aed48]?(this['_images'][_0x1aed48]['_tracking']=!(0x240d+0x59*0x43+-0x3b57),this['_images'][_0x1aed48]['fire']('untracked')):!this['_images'][_0x1aed48]['_tracking']&&_0x1d2b3f[_0x1aed48]&&(this['_images'][_0x1aed48]['_tracking']=!(0x7*-0x314+0x44f+-0x3*-0x5bf),this['_images'][_0x1aed48]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x1064eb,_0x5d8052){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x1064eb,this['_hand']=_0x5d8052,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0xce6+-0x120c+0x526;l<AS['length'];l++)R0[AS[l]]=!(0x43*0x17+0x28d*-0x5+-0x4*-0x1af);class CS{constructor(_0x3b8078,_0x53fa9a,_0x5269b1,_0x3353c2=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x2*-0x16a+-0x3e*0x2+0x10*0x35)),(this['_index']=_0x3b8078,this['_id']=_0x53fa9a,this['_hand']=_0x5269b1,this['_finger']=_0x3353c2,this['_wrist']=_0x53fa9a==='wrist',this['_tip']=this['_finger']&&!!R0[_0x53fa9a]);}['update'](_0x442c21){this['_dirtyLoca'+'l']=!(0x1fd8+-0xa*-0x379+0x1*-0x4292),this['_radius']=_0x442c21['radius'],this['_localPosi'+'tion']['copy'](_0x442c21['transform']['position']),this['_localRota'+'tion']['copy'](_0x442c21['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x16ef*0x1+-0x2*-0x7f1+0x15*0x56),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x56c9de=this['_hand']['_manager']['camera']['parent'];_0x56c9de?this['_worldTran'+'sform']['mul2'](_0x56c9de['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x1395+-0xb2*0x2f+0x11*0x313+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x459223){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x1607+0x1d14+-0x4*0x1c3)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x575464=_0x459223['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x459223['_manager'],this['_inputSour'+'ce']=_0x459223,_0x575464['get']('wrist')){const _0x7d6b96=new CS(0x289+-0x6b*-0x4f+-0x7b*0x4a,'wrist',this,null);this['_wrist']=_0x7d6b96,this['_joints']['push'](_0x7d6b96),this['_jointsByI'+'d']['wrist']=_0x7d6b96;}for(let _0x26e4be=-0x1635+0x7*-0x2ef+0x2abe;_0x26e4be<rh['length'];_0x26e4be++){const _0x2107f2=new uU(_0x26e4be,this);for(let _0x2dd8eb=0xa3+0xc3f+-0xce2;_0x2dd8eb<rh[_0x26e4be]['length'];_0x2dd8eb++){const _0x24f10a=rh[_0x26e4be][_0x2dd8eb];if(!_0x575464['get'](_0x24f10a))continue;const _0x411e8a=new CS(_0x2dd8eb,_0x24f10a,this,_0x2107f2);this['_joints']['push'](_0x411e8a),this['_jointsByI'+'d'][_0x24f10a]=_0x411e8a,_0x411e8a['tip']&&(this['_tips']['push'](_0x411e8a),_0x2107f2['_tip']=_0x411e8a),_0x2107f2['_joints']['push'](_0x411e8a);}}}['update'](_0x46eff4){const _0x10e7a2=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x400551=0x2*-0xdff+0x19c6+0x238;_0x400551<this['_joints']['length'];_0x400551++){const _0x46f306=this['_joints'][_0x400551],_0x57bee4=_0x10e7a2['hand']['get'](_0x46f306['_id']);if(_0x57bee4){let _0x2529b7;if(_0x46eff4['session']['visibility'+'State']!=='hidden'&&(_0x2529b7=_0x46eff4['getJointPo'+'se'](_0x57bee4,this['_manager']['_reference'+'Space'])),_0x2529b7)_0x46f306['update'](_0x2529b7),_0x46f306['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1*0x24bb+-0x16*-0x1af+-0x49c5),this['fire']('tracking'));else{if(_0x46f306['wrist']){this['_tracking']&&(this['_tracking']=!(0x3d1*-0x4+0x24f0+-0x15ab),this['fire']('trackinglo'+'st'));break;}}}}const _0x190318=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x5cdb65=this['_jointsByI'+'d']['thumb-tip'],_0x650600=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x3259ca=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x4ca11b=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x4e3b99=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x190318&&_0x5cdb65&&_0x650600&&_0x3259ca&&_0x4ca11b&&_0x4e3b99){this['_inputSour'+'ce']['_dirtyRay']=!(-0x14e*0xb+-0x2043*-0x1+-0x11e9),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x5cdb65['_localPosi'+'tion'],_0x3259ca['_localPosi'+'tion'],-0x150+0x2*-0x10c6+0x116e*0x2+0.5);let _0xdabe21=_0x190318,_0x35b86f=_0x4e3b99;if(this['_inputSour'+'ce']['handedness']===hU){const _0x58c330=_0xdabe21;_0xdabe21=_0x35b86f,_0x35b86f=_0x58c330;}Wr['sub2'](_0xdabe21['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x35b86f['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x650600['_localPosi'+'tion'],_0x4ca11b['_localPosi'+'tion'],-0xe9*-0x18+0x3ff+-0x19d7+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0x18da+0xe8+-0xe*0x1d7+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x18*0x8+-0x72a+0x66b)&&this['_fingerIsC'+'losed'](-0x1c8+-0xf8c+-0x1*-0x1156)&&this['_fingerIsC'+'losed'](-0x5*-0x497+0x4c*-0x8+-0x8*0x292)&&this['_fingerIsC'+'losed'](-0x1*0x1e2c+-0x6a1*0x5+-0x1*-0x3f55)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x10aa+0x1c6d+-0xbc3*0x1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x23bf+-0x3bf+0x277f*0x1),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x1b839c){const _0xcb9a76=this['_fingers'][_0x1b839c];return Wr['sub2'](_0xcb9a76['joints'][-0x335*0x7+-0xd52+-0x1*-0x23c5]['_localPosi'+'tion'],_0xcb9a76['joints'][0x22a5+0x1967*-0x1+0x1*-0x93d]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0xcb9a76['joints'][-0x1*0x16b5+-0x1327+0x29de]['_localPosi'+'tion'],_0xcb9a76['joints'][-0x1123*0x2+0x287*-0xd+0x4324]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x25a3+-0x2*0x10c4+0x472b+0.8);}['getJointBy'+'Id'](_0x507809){return this['_jointsByI'+'d'][_0x507809]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x2a1*0xd+-0x837*-0x2+0x11bf;class Qt extends me{constructor(_0x1e6e33,_0x1c8000){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x1ed2+-0x2388+0x425b)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0xedd+-0x3a*-0x8+0x10ac*-0x1)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x6e6+-0x3b3*-0x2+-0xe4c)),h(this,'_dirtyRay',!(-0xe7c+-0x17e*-0x5+0x707)),h(this,'_selecting',!(-0xf+-0x188b*0x1+-0x189b*-0x1)),h(this,'_squeezing',!(-0x14f8+-0x20fa+0x7b5*0x7)),h(this,'_elementIn'+'put',!(0x8*0x4c3+0x1a12*0x1+0xbf*-0x56)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x1e6e33,this['_xrInputSo'+'urce']=_0x1c8000,_0x1c8000['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2db6a5){this['_elementIn'+'put']!==_0x2db6a5&&(this['_elementIn'+'put']=_0x2db6a5,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0xbedea6){if(this['_hand'])this['_hand']['update'](_0xbedea6);else{const _0x4c4a90=this['_xrInputSo'+'urce']['gripSpace'];if(_0x4c4a90){const _0x5f1be1=_0xbedea6['getPose'](_0x4c4a90,this['_manager']['_reference'+'Space']);if(_0x5f1be1){this['_grip']||(this['_grip']=!(0x1348+0x177a+-0x2ac2),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x4026f9=de(),_0x207633=(_0x4026f9-this['_velocitie'+'sTimestamp'])/(-0x1694+-0x20c6+0x3b42);this['_velocitie'+'sTimestamp']=_0x4026f9,this['_dirtyLoca'+'l']=!(-0x2*-0x5a5+-0x114+-0xa36),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x5f1be1['transform']['position']),this['_localRota'+'tion']['copy'](_0x5f1be1['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x2*-0xecb+0x23ac+-0x29*0x26),this['_manager']['input']['velocities'+'Supported']&&_0x5f1be1['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x5f1be1['linearVelo'+'city']):_0x207633>-0x1915+0x8a3+0x1072&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x207633),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x1*0xa60+0x18f9+-0x2359+0.15));}else this['_velocitie'+'sAvailable']=!(-0x9f4+0x15c6+-0xbd1);}const _0x46a4e7=_0xbedea6['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x46a4e7&&(this['_dirtyRay']=!(0x15c5+0x2b*-0x3a+-0xc07),this['_rayLocal']['origin']['copy'](_0x46a4e7['transform']['position']),this['_rayLocal']['direction']['set'](0xd*0x95+-0x8*0x2f3+0xb*0x175,0x97*0x14+0x920+-0x14ec,-(0x1*0xb2d+-0x2574+0x1a48)),DS['copy'](_0x46a4e7['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x3*0x37e+-0x55b+-0x1*-0xfd6),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x513bfb=this['_manager']['camera']['parent'];_0x513bfb?this['_worldTran'+'sform']['mul2'](_0x513bfb['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x1d9e30=this['_dirtyRay'];if(this['_dirtyRay']=!(0x1*0x1da7+0x1*-0x74b+0x165b*-0x1),this['_manager']['camera']['parent']){const _0x49499b=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x49499b['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x49499b),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x1d9e30&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x39f0ad={}){_0x39f0ad['inputSourc'+'e']=this,_0x39f0ad['profile']=this['_xrInputSo'+'urce']['profiles'][-0xd9c+-0x253c+0xcb6*0x4];const _0x2a2a27=_0x39f0ad['callback'];_0x39f0ad['callback']=(_0x7c504a,_0x19346c)=>{_0x19346c&&this['onHitTestS'+'ourceAdd'](_0x19346c),_0x2a2a27&&_0x2a2a27(_0x7c504a,_0x19346c);},this['_manager']['hitTest']['start'](_0x39f0ad);}['onHitTestS'+'ourceAdd'](_0x1c1104){this['_hitTestSo'+'urces']['push'](_0x1c1104),this['fire']('hittest:ad'+'d',_0x1c1104),_0x1c1104['on']('result',(_0x15e820,_0x31fd87,_0x392b17,_0x203813)=>{_0x392b17===this&&this['fire']('hittest:re'+'sult',_0x1c1104,_0x15e820,_0x31fd87,_0x203813);}),_0x1c1104['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x1c1104),this['fire']('hittest:re'+'move',_0x1c1104);});}['onHitTestS'+'ourceRemov'+'e'](_0x3a02c2){const _0x5dcc8d=this['_hitTestSo'+'urces']['indexOf'](_0x3a02c2);_0x5dcc8d!==-(-0x7fc*-0x2+-0x16dd*0x1+0x6e6*0x1)&&this['_hitTestSo'+'urces']['splice'](_0x5dcc8d,0xd7b+-0xaa7+-0x2d3);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x58a9ce){var _0x4b8d2b,_0x2eb8a6;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x1*0x2317+0x48*-0x2f+0x6*-0x3a5)),(this['manager']=_0x58a9ce,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x2eb8a6=(_0x4b8d2b=window['XRPose'])==null?void(0x1621+0x2281+-0x38a2):_0x4b8d2b['prototype'])!=null&&_0x2eb8a6['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2d70f1=>{this['_onInputSo'+'urcesChang'+'e'](_0x2d70f1);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x1e4fa3=this['manager']['session'];_0x1e4fa3['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x1e4fa3['addEventLi'+'stener']('select',_0x53da9b=>{const _0x4707e0=this['_getByInpu'+'tSource'](_0x53da9b['inputSourc'+'e']);_0x4707e0['update'](_0x53da9b['frame']),_0x4707e0['fire']('select',_0x53da9b),this['fire']('select',_0x4707e0,_0x53da9b);}),_0x1e4fa3['addEventLi'+'stener']('selectstar'+'t',_0x57f6eb=>{const _0x535adb=this['_getByInpu'+'tSource'](_0x57f6eb['inputSourc'+'e']);_0x535adb['_selecting']||(_0x535adb['update'](_0x57f6eb['frame']),_0x535adb['_selecting']=!(0x6c*0x32+0x1*0x185a+-0x2d72),_0x535adb['fire']('selectstar'+'t',_0x57f6eb),this['fire']('selectstar'+'t',_0x535adb,_0x57f6eb));}),_0x1e4fa3['addEventLi'+'stener']('selectend',_0x23671a=>{const _0x27e331=this['_getByInpu'+'tSource'](_0x23671a['inputSourc'+'e']);_0x27e331['update'](_0x23671a['frame']),_0x27e331['_selecting']=!(-0x11eb+-0xee9+0x20d5*0x1),_0x27e331['fire']('selectend',_0x23671a),this['fire']('selectend',_0x27e331,_0x23671a);}),_0x1e4fa3['addEventLi'+'stener']('squeeze',_0x1e783b=>{const _0x4a5fc9=this['_getByInpu'+'tSource'](_0x1e783b['inputSourc'+'e']);_0x4a5fc9['update'](_0x1e783b['frame']),_0x4a5fc9['fire']('squeeze',_0x1e783b),this['fire']('squeeze',_0x4a5fc9,_0x1e783b);}),_0x1e4fa3['addEventLi'+'stener']('squeezesta'+'rt',_0x4726cb=>{const _0xc1564f=this['_getByInpu'+'tSource'](_0x4726cb['inputSourc'+'e']);_0xc1564f['update'](_0x4726cb['frame']),_0xc1564f['_squeezing']=!(0x2*-0x442+-0x241*0x7+0x184b),_0xc1564f['fire']('squeezesta'+'rt',_0x4726cb),this['fire']('squeezesta'+'rt',_0xc1564f,_0x4726cb);}),_0x1e4fa3['addEventLi'+'stener']('squeezeend',_0x491839=>{const _0x1c7ca8=this['_getByInpu'+'tSource'](_0x491839['inputSourc'+'e']);_0x1c7ca8['update'](_0x491839['frame']),_0x1c7ca8['_squeezing']=!(-0xc8e+-0x1e54+0x2ae3),_0x1c7ca8['fire']('squeezeend',_0x491839),this['fire']('squeezeend',_0x1c7ca8,_0x491839);});const _0x753df9=_0x1e4fa3['inputSourc'+'es'];for(let _0x39b6e8=-0xd13*0x1+-0x1f5f+0x2c72;_0x39b6e8<_0x753df9['length'];_0x39b6e8++)this['_addInputS'+'ource'](_0x753df9[_0x39b6e8]);}['_onSession'+'End'](){let _0x4cf344=this['_inputSour'+'ces']['length'];for(;_0x4cf344--;){const _0x1e7d1c=this['_inputSour'+'ces'][_0x4cf344];this['_inputSour'+'ces']['splice'](_0x4cf344,0xc1a+0x1b94+0x27ad*-0x1),_0x1e7d1c['fire']('remove'),this['fire']('remove',_0x1e7d1c);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x335a98){for(let _0x372628=0x183b+0x1844+-0x3bb*0xd;_0x372628<_0x335a98['removed']['length'];_0x372628++)this['_removeInp'+'utSource'](_0x335a98['removed'][_0x372628]);for(let _0x47cee2=0x2009*0x1+0x7fa+-0x2803;_0x47cee2<_0x335a98['added']['length'];_0x47cee2++)this['_addInputS'+'ource'](_0x335a98['added'][_0x47cee2]);}['_getByInpu'+'tSource'](_0xc83e6){for(let _0x11948e=0x1*-0xc82+0x1bc3+0xf41*-0x1;_0x11948e<this['_inputSour'+'ces']['length'];_0x11948e++)if(this['_inputSour'+'ces'][_0x11948e]['inputSourc'+'e']===_0xc83e6)return this['_inputSour'+'ces'][_0x11948e];return null;}['_removeApp'+'Entity'](_0x3ff5ea){const _0x55e989=this['manager']['app']['root']['findByName']('Armature_'+_0x3ff5ea);_0x55e989&&this['manager']['app']['root']['removeChil'+'d'](_0x55e989);}['_addInputS'+'ource'](_0xb38d7d){if(this['_removeApp'+'Entity'](_0xb38d7d['handedness']),this['_getByInpu'+'tSource'](_0xb38d7d))return;const _0x523f8=new Qt(this['manager'],_0xb38d7d);this['_inputSour'+'ces']['push'](_0x523f8),this['fire']('add',_0x523f8);}['_removeInp'+'utSource'](_0x5d77ae){for(let _0x7dbdc7=0x1ee2+-0x8c2+-0x1620;_0x7dbdc7<this['_inputSour'+'ces']['length'];_0x7dbdc7++){if(this['_inputSour'+'ces'][_0x7dbdc7]['inputSourc'+'e']!==_0x5d77ae)continue;const _0x38b2e9=this['_inputSour'+'ces'][_0x7dbdc7];this['_inputSour'+'ces']['splice'](_0x7dbdc7,-0x9c0+0x1b59*-0x1+-0x6*-0x62f);let _0x41c179=_0x38b2e9['hitTestSou'+'rces']['length'];for(;_0x41c179--;)_0x38b2e9['hitTestSou'+'rces'][_0x41c179]['remove']();this['_removeApp'+'Entity'](_0x38b2e9['handedness']),_0x38b2e9['fire']('remove'),this['fire']('remove',_0x38b2e9);return;}}['update'](_0xa41d59){for(let _0x2b706b=0x3a5*-0x1+0x23*0xa3+-0x2*0x952;_0x2b706b<this['_inputSour'+'ces']['length'];_0x2b706b++)this['_inputSour'+'ces'][_0x2b706b]['update'](_0xa41d59);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x337158){super(),h(this,'_manager'),h(this,'_supported',!(0x1090+0x98f+-0x1a1e)),h(this,'_available',!(-0x1a74+-0x25a+0x7d*0x3b)),h(this,'_lightProb'+'eRequested',!(0x5*-0x6b5+0x2cc+0x1ebe*0x1)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x1149+0x338*-0xb+-0x121f*-0x1),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x1bb3+0x1708+0x4c6)),(this['_manager']=_0x337158,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0xea+-0x745+0x65b));}['_onSession'+'End'](){this['_supported']=!(-0x1f2b+0x13c3+-0x1*-0xb69),this['_available']=!(0x4fc+0xba1+0x4*-0x427),this['_lightProb'+'eRequested']=!(0x1a93*-0x1+0x2666+-0x5e9*0x2),this['_lightProb'+'e']=null;}['start'](){let _0x4ef43f;if(this['_manager']['session']||(_0x4ef43f=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x4ef43f&&this['_manager']['type']!==$o&&(_0x4ef43f=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x4ef43f&&!this['_supported']&&(_0x4ef43f=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x4ef43f&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x4ef43f=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x4ef43f){this['fire']('error',_0x4ef43f);return;}this['_lightProb'+'eRequested']=!(-0x1*0x647+-0x12d4+-0x1*-0x191b),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x2fe3d8=>{const _0x5748ae=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x2308+0x58b*-0x7+0x49d6),this['_manager']['active']?_0x5748ae&&(this['_lightProb'+'e']=_0x2fe3d8):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x295747=>{this['_lightProb'+'eRequested']=!(0xf12+-0xf*0x31+0xc32*-0x1),this['fire']('error',_0x295747);});}['end'](){this['_lightProb'+'eRequested']=!(0x5f*-0x50+0x265b+-0x2*0x455),this['_lightProb'+'e']=null,this['_available']=!(-0x419*-0x5+0x9f6+-0x1e72);}['update'](_0x26a7d7){if(!this['_lightProb'+'e'])return;const _0x4ae481=_0x26a7d7['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x4ae481)return;this['_available']||(this['_available']=!(-0x1258+0x88e+0x9ca),this['fire']('available'));const _0x1daa30=_0x4ae481['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x20f3+-0x2*0x530+0x36*-0x6b,Math['max'](_0x1daa30['x'],Math['max'](_0x1daa30['y'],_0x1daa30['z']))),Ja['copy'](_0x1daa30)['mulScalar']((-0x4*-0x52e+-0x1223+-0x294*0x1)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0x221d+-0x137e+0x359b,-0x1419+0x3c0+-0x573*-0x3,0x1*0x1a6b+-0xb4b+-0xf20),IS['copy'](_0x4ae481['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0xb15+0x25d0+0x3*-0x8cb),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x4ae481['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x47*-0x5+0x550+-0x3ed;class Qu extends me{constructor(_0x1f631e,_0x37c748){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x1f631e,this['_xrPlane']=_0x37c748,this['_lastChang'+'edTime']=_0x37c748['lastChange'+'dTime'],this['_orientati'+'on']=_0x37c748['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x4ce5ee){const _0xf80188=this['_planeDete'+'ction']['_manager'],_0x2d3af7=_0x4ce5ee['getPose'](this['_xrPlane']['planeSpace'],_0xf80188['_reference'+'Space']);_0x2d3af7&&(this['_position']['copy'](_0x2d3af7['transform']['position']),this['_rotation']['copy'](_0x2d3af7['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x3bd703){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0xe65+0xb*-0x313+0x136d)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x3bd703,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1a5*-0x9+-0x7*0xfc+-0x7e8)&&(this['_available']=!(-0x5*-0x43+-0x1*0x132f+0x1a*0xb0),this['fire']('available'));}['_onSession'+'End'](){for(let _0x3bd8c0=-0x3ad+-0x10*-0x192+-0x1573;_0x3bd8c0<this['_planes']['length'];_0x3bd8c0++)this['_planes'][_0x3bd8c0]['destroy'](),this['fire']('remove',this['_planes'][_0x3bd8c0]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0xd7*0x1f+0x1b89+-0x3592,this['_available']&&(this['_available']=!(-0x17ab*0x1+0xaca+-0x11*-0xc2),this['fire']('unavailabl'+'e'));}['update'](_0x52da3a){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x52da3a['detectedPl'+'anes']['size'])this['_available']=!(0x2536+-0x13ed+-0xf*0x127),this['fire']('available');else return;}const _0x197265=_0x52da3a['detectedPl'+'anes'];for(const [_0x49329c,_0x4aee19]of this['_planesInd'+'ex'])_0x197265['has'](_0x49329c)||(this['_planesInd'+'ex']['delete'](_0x49329c),this['_planes']['splice'](this['_planes']['indexOf'](_0x4aee19),-0xcc9+0x67*-0x35+-0x47*-0x7b),_0x4aee19['destroy'](),this['fire']('remove',_0x4aee19));for(const _0x2179b5 of _0x197265){let _0xc6d242=this['_planesInd'+'ex']['get'](_0x2179b5);_0xc6d242?_0xc6d242['update'](_0x52da3a):(_0xc6d242=new Qu(this,_0x2179b5),this['_planesInd'+'ex']['set'](_0x2179b5,_0xc6d242),this['_planes']['push'](_0xc6d242),_0xc6d242['update'](_0x52da3a),this['fire']('add',_0xc6d242));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x49603a,_0x22d052,_0x2dc0dd=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x49603a,this['_xrAnchor']=_0x22d052,this['_uuid']=_0x2dc0dd);}['destroy'](){if(!this['_xrAnchor'])return;const _0x483897=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x483897,this);}['update'](_0x2c92c2){if(!this['_xrAnchor'])return;const _0x5e6937=_0x2c92c2['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x5e6937){if(this['_position']['equals'](_0x5e6937['transform']['position'])&&this['_rotation']['equals'](_0x5e6937['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x5e6937['transform']['position']),this['_rotation']['copy'](_0x5e6937['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x770d11){if(!this['_anchors']['persistenc'+'e']){_0x770d11==null||_0x770d11(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x770d11==null||_0x770d11(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x770d11&&this['_uuidReque'+'sts']['push'](_0x770d11);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x50ef47=>{this['_uuid']=_0x50ef47,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x770d11==null||_0x770d11(null,_0x50ef47);for(const _0x513d5a of this['_uuidReque'+'sts'])_0x513d5a(null,_0x50ef47);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x50ef47);})['catch'](_0x2cadce=>{_0x770d11==null||_0x770d11(_0x2cadce,null);for(const _0x39e4d1 of this['_uuidReque'+'sts'])_0x39e4d1(_0x2cadce,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x1e9462){if(!this['_uuid']){_0x1e9462==null||_0x1e9462(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x421c13=>{this['_uuid']=null,_0x1e9462==null||_0x1e9462(_0x421c13),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x3d4886){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0x87c+-0x143*-0x6+0xeb)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x3*-0x33+-0x2*0xe39+-0x73*-0x3e)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x1*-0x31c+0x1967+-0x1c83):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x3d4886,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x3650c5;const _0x27488e=((_0x3650c5=this['manager']['session']['enabledFea'+'tures'])==null?void(0x19b0+0xb70+-0xd8*0x2c):_0x3650c5['indexOf']('anchors'))>=-0x1255+0xc6+0x118f;_0x27488e&&(this['_available']=_0x27488e,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x6*0x4ee+0x1*0x1773+0x622);for(let _0x4594a0=-0x9b1+0x920+0x91*0x1;_0x4594a0<this['_creationQ'+'ueue']['length'];_0x4594a0++)this['_creationQ'+'ueue'][_0x4594a0]['callback']&&this['_creationQ'+'ueue'][_0x4594a0]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x1*-0x2101+-0x97*0x3+-0x1*-0x22c6,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x22ef61=this['_list']['length'];for(;_0x22ef61--;)this['_list'][_0x22ef61]['destroy']();this['_list']['length']=0x176b+0x119b+0x2906*-0x1,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x30cc56,_0x3a7ec8=null){const _0x1c0a44=new Io(this,_0x30cc56,_0x3a7ec8);return this['_index']['set'](_0x30cc56,_0x1c0a44),_0x3a7ec8&&this['_indexByUu'+'id']['set'](_0x3a7ec8,_0x1c0a44),this['_list']['push'](_0x1c0a44),_0x1c0a44['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x1c0a44;}['_onAnchorD'+'estroy'](_0x471bc9,_0x4c90c7){this['_index']['delete'](_0x471bc9),_0x4c90c7['uuid']&&this['_indexByUu'+'id']['delete'](_0x4c90c7['uuid']);const _0x17ff83=this['_list']['indexOf'](_0x4c90c7);_0x17ff83!==-(0x1589+-0xca3+-0x8e5)&&this['_list']['splice'](_0x17ff83,0x224*0x1+-0x19b+0x8*-0x11),this['fire']('destroy',_0x4c90c7);}['create'](_0x5a7474,_0x31cf81,_0x4ce18c){if(!this['_available']){_0x4ce18c==null||_0x4ce18c(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x5a7474 instanceof XRHitTestResult){const _0x335cb2=_0x5a7474;if(_0x4ce18c=_0x31cf81,!this['_supported']){_0x4ce18c==null||_0x4ce18c(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x335cb2['createAnch'+'or']){_0x4ce18c==null||_0x4ce18c(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x335cb2['createAnch'+'or']()['then'](_0x3dfa96=>{const _0x252acb=this['_createAnc'+'hor'](_0x3dfa96);_0x4ce18c==null||_0x4ce18c(null,_0x252acb),this['fire']('add',_0x252acb);})['catch'](_0x1c68f1=>{_0x4ce18c==null||_0x4ce18c(_0x1c68f1,null),this['fire']('error',_0x1c68f1);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x5a7474,_0x31cf81),'callback':_0x4ce18c});}['restore'](_0xce24ee,_0x2508d0){if(!this['_available']){_0x2508d0==null||_0x2508d0(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x2508d0==null||_0x2508d0(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x2508d0==null||_0x2508d0(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0xce24ee)['then'](_0x41d5af=>{const _0x25e650=this['_createAnc'+'hor'](_0x41d5af,_0xce24ee);_0x2508d0==null||_0x2508d0(null,_0x25e650),this['fire']('add',_0x25e650);})['catch'](_0x1f0a1e=>{_0x2508d0==null||_0x2508d0(_0x1f0a1e,null),this['fire']('error',_0x1f0a1e);});}['forget'](_0x4bd322,_0x1d8532){if(!this['_available']){_0x1d8532==null||_0x1d8532(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x1d8532==null||_0x1d8532(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x1d8532==null||_0x1d8532(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x4bd322)['then'](()=>{_0x1d8532==null||_0x1d8532(null);})['catch'](_0x34512b=>{_0x1d8532==null||_0x1d8532(_0x34512b),this['fire']('error',_0x34512b);});}['update'](_0x52c4f7){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x1d7c+-0x9cd*-0x1+-0x2749),_0x52c4f7['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x3aeb3c=>{_0x3aeb3c['delete'](),this['manager']['active']&&(this['_available']=!(-0x1880+-0x1*0x1ee3+0x3763),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4f3721=0x50*0x28+-0x1*0x118d+0x3*0x1af;_0x4f3721<this['_creationQ'+'ueue']['length'];_0x4f3721++){const _0x3074e9=this['_creationQ'+'ueue'][_0x4f3721];_0x52c4f7['createAnch'+'or'](_0x3074e9['transform'],this['manager']['_reference'+'Space'])['then'](_0x498f2b=>{_0x3074e9['callback']&&this['_callbacks'+'Anchors']['set'](_0x498f2b,_0x3074e9['callback']);})['catch'](_0x2d784f=>{_0x3074e9['callback']&&_0x3074e9['callback'](_0x2d784f,null),this['fire']('error',_0x2d784f);});}this['_creationQ'+'ueue']['length']=0x745*-0x4+-0x1982+0x3696;}for(const [_0x2d4261,_0x112ebd]of this['_index'])_0x52c4f7['trackedAnc'+'hors']['has'](_0x2d4261)||(this['_index']['delete'](_0x2d4261),_0x112ebd['destroy']());for(let _0x5266cb=-0x1e2d+0x1*0x31f+-0x1*-0x1b0e;_0x5266cb<this['_list']['length'];_0x5266cb++)this['_list'][_0x5266cb]['update'](_0x52c4f7);for(const _0x486f81 of _0x52c4f7['trackedAnc'+'hors']){if(this['_index']['has'](_0x486f81))continue;try{const _0x3f052f=_0x486f81['anchorSpac'+'e'];}catch{continue;}const _0x7af0e6=this['_createAnc'+'hor'](_0x486f81);_0x7af0e6['update'](_0x52c4f7);const _0x48cc22=this['_callbacks'+'Anchors']['get'](_0x486f81);_0x48cc22&&(this['_callbacks'+'Anchors']['delete'](_0x486f81),_0x48cc22(null,_0x7af0e6)),this['fire']('add',_0x7af0e6);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x336418,_0x913730){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x1e56+0x47*0x3b+-0x49*-0x31),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x336418,this['_xrMesh']=_0x913730,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x3c928a){const _0x29ab12=this['_meshDetec'+'tion']['_manager'],_0x192c15=_0x3c928a['getPose'](this['_xrMesh']['meshSpace'],_0x29ab12['_reference'+'Space']);_0x192c15&&(this['_position']['copy'](_0x192c15['transform']['position']),this['_rotation']['copy'](_0x192c15['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x1cf7d8){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x18fa+-0x2*0xea3+0x16f*0x3)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x1cf7d8,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x50e440){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x50e440['detectedMe'+'shes']['size'])this['_available']=!(-0x1cd*0x15+0x3*-0xc1b+-0x2*-0x2511),this['fire']('available');else return;}for(const _0x70ba19 of _0x50e440['detectedMe'+'shes']){let _0x238453=this['_index']['get'](_0x70ba19);_0x238453?_0x238453['update'](_0x50e440):(_0x238453=new Ju(this,_0x70ba19),this['_index']['set'](_0x70ba19,_0x238453),this['_list']['push'](_0x238453),_0x238453['update'](_0x50e440),this['fire']('add',_0x238453));}for(const _0x420072 of this['_index']['values']())_0x50e440['detectedMe'+'shes']['has'](_0x420072['xrMesh'])||this['_removeMes'+'h'](_0x420072);}['_removeMes'+'h'](_0xdf15ca){this['_index']['delete'](_0xdf15ca['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0xdf15ca),-0x1*-0x63f+-0xbf+-0x57f),_0xdf15ca['destroy'](),this['fire']('remove',_0xdf15ca);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x626e40=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x16f+0x1*0x1aaa+-0x2*0xc9d);if(!_0x626e40)return;this['_available']=_0x626e40,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x837*0x1+0xc*-0x2d7+0x2a4c);for(const _0x1f85bd of this['_index']['values']())this['_removeMes'+'h'](_0x1f85bd);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x3477af,_0x125201,_0x5daf1b){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x1f1b+-0x19bd+0x38db)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x192d+0x533+-0x141a*-0x1)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x3477af,this['_xrView']=_0x125201);const _0x4a6281=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x4a6281,{'format':Cr,'mipmaps':!(0x1774+0x1*0x1940+-0x5b*0x89),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x96e3dd=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x4a6281,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5daf1b===0x7*0x2e5+0x15e*0x1+-0x15a0?-0x4*0x97b+-0x1ea9+0x4495:_0x5daf1b,'mipmaps':!(0x200d+-0xd8b+-0x62b*0x3),'addressU':ue,'addressV':ue,'minFilter':_0x96e3dd,'magFilter':_0x96e3dd,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x3bb772=0x39b+-0x2006+0x1c6b;_0x3bb772<this['_textureDe'+'pth']['_levels']['length'];_0x3bb772++)this['_textureDe'+'pth']['_levels'][_0x3bb772]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x4a6281['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0xda1376;return((_0xda1376=this['_depthInfo'])==null?void(0xa0d+0x2*-0x1aa+-0x1*0x6b9):_0xda1376['rawValueTo'+'Meters'])||-0x5*-0x49+0x3f*0x71+-0x1d3c;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4f5091,_0x20cf15){this['_xrView']=_0x20cf15,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x143070=_0x4f5091['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x143070['x'],this['_viewport']['y']=_0x143070['y'],this['_viewport']['z']=_0x143070['width'],this['_viewport']['w']=_0x143070['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4f5091);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x29c837=this['_manager']['webglBindi'+'ng'];if(!_0x29c837)return;const _0x38f2f1=_0x29c837['getCameraI'+'mage'](this['_xrCamera']);if(!_0x38f2f1)return;const _0x2bd14b=this['_manager']['app']['graphicsDe'+'vice'],_0x5077ec=_0x2bd14b['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5077ec['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5077ec['createFram'+'ebuffer']();else{const _0x120415=_0x5077ec['COLOR_ATTA'+'CHMENT0'],_0x5ebcd9=this['_xrCamera']['width'],_0x5e4b17=this['_xrCamera']['height'];_0x2bd14b['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5077ec['framebuffe'+'rTexture2D'](_0x5077ec['FRAMEBUFFE'+'R'],_0x120415,_0x5077ec['TEXTURE_2D'],_0x38f2f1,0x2*-0x272+-0x15d+-0x1*-0x641),_0x2bd14b['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5077ec['framebuffe'+'rTexture2D'](_0x5077ec['FRAMEBUFFE'+'R'],_0x120415,_0x5077ec['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0xc5*-0x7+-0x68a+0x127),_0x5077ec['bindFrameb'+'uffer'](_0x5077ec['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5077ec['bindFrameb'+'uffer'](_0x5077ec['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5077ec['blitFrameb'+'uffer'](0x185*0x9+-0x226a*-0x1+-0xd*0x3b3,_0x5e4b17,_0x5ebcd9,0xcce*-0x2+-0x10ed+-0x1*-0x2a89,-0x453+0x159a+0x1*-0x1147,0xe2*0x5+-0x1446+0x32c*0x5,_0x5ebcd9,_0x5e4b17,_0x5077ec['COLOR_BUFF'+'ER_BIT'],_0x5077ec['NEAREST']);}}['_updateDep'+'th'](_0x5035fe){var _0x18f265,_0x472803;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x457a95=this['_manager']['views']['depthGpuOp'+'timized'],_0x29bba1=_0x457a95?this['_manager']['webglBindi'+'ng']:_0x5035fe;if(!_0x29bba1){this['_depthInfo']=null;return;}const _0x387db6=_0x29bba1['getDepthIn'+'formation'](this['_xrView']);if(!_0x387db6){this['_depthInfo']=null;return;}let _0x53c8b5=!this['_depthInfo']!=!_0x387db6;this['_depthInfo']=_0x387db6;const _0x1f146c=((_0x18f265=this['_depthInfo'])==null?void(-0x12a6+-0x2584+0x382a):_0x18f265['width'])||0x7b7*-0x5+0x7e5+0x1eb2,_0x386aea=((_0x472803=this['_depthInfo'])==null?void(-0x1700+-0x2a5*-0x3+0x7*0x227):_0x472803['height'])||0x177*0xe+0x1*0x1a0f+-0x2e8d;let _0x560114=!(-0x856+-0x1c2b+-0x1241*-0x2);if((this['_textureDe'+'pth']['width']!==_0x1f146c||this['_textureDe'+'pth']['height']!==_0x386aea)&&(this['_textureDe'+'pth']['_width']=_0x1f146c,this['_textureDe'+'pth']['_height']=_0x386aea,_0x53c8b5=!(0x1978+0x1a3b+-0x1*0x33b3),_0x560114=!(-0x132b+-0x1084+0xf*0x261)),_0x53c8b5&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x457a95){if(this['_depthInfo']['texture']){const _0x6eee50=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x6eee50['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x6eee50['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x6eee50['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x6eee50['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x6eee50['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x6eee50['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x6eee50['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x6eee50['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x239*0x11+-0x2115+-0x2*0x25a);}}else this['_textureDe'+'pth']['_levels'][0x18e0+0x1f76+-0x3856]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0xdcf*-0x1+0x9ed+-0x17bc]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x560114&&this['fire']('depth:resi'+'ze',_0x1f146c,_0x386aea);}['updateTran'+'sforms'](_0x28d597){_0x28d597?(this['_viewInvOf'+'fMat']['mul2'](_0x28d597,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x15ab*0x1+0x1*0x21d7+-0x122*0x31]=this['_viewInvOf'+'fMat']['data'][0x2635+0x2*-0xb2+-0x24c5],this['_positionD'+'ata'][-0xbe7+-0x113f+0x1d27]=this['_viewInvOf'+'fMat']['data'][0x84*-0x44+0xa31*-0x1+0xf1a*0x3],this['_positionD'+'ata'][-0x19f+0x3a*0x22+-0x613]=this['_viewInvOf'+'fMat']['data'][0x3a1*0x8+0x1881+-0x357b];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x37d030,_0x224c5c){var _0x32ed03;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x32ed03=this['_depthInfo'])==null?void(0x1736*0x1+0x15a8+-0x2cde):_0x32ed03['getDepthIn'+'Meters'](_0x37d030,_0x224c5c))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x54bc35=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x54bc35['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x54bc35['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x4231c){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0xc09+-0x1bca+0xfc2)),h(this,'_available'+'Depth',!(0x80f*0x2+0x5*-0x34b+0x5a)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x4231c,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x3a058a,_0x5d32ed){for(let _0x28146f=-0xa44+-0xe*0x1d+-0x5ed*-0x2;_0x28146f<_0x5d32ed['length'];_0x28146f++)this['_indexTmp']['set'](_0x5d32ed[_0x28146f]['eye'],_0x5d32ed[_0x28146f]);for(const [_0x53060e,_0x1469e4]of this['_indexTmp']){let _0x549891=this['_index']['get'](_0x53060e);_0x549891?_0x549891['update'](_0x3a058a,_0x1469e4):(_0x549891=new O0(this['_manager'],_0x1469e4,_0x5d32ed['length']),this['_index']['set'](_0x53060e,_0x549891),this['_list']['push'](_0x549891),_0x549891['update'](_0x3a058a,_0x1469e4),this['fire']('add',_0x549891));}for(const [_0x3ede82,_0x3cc0f9]of this['_index']){if(this['_indexTmp']['has'](_0x3ede82))continue;_0x3cc0f9['destroy'](),this['_index']['delete'](_0x3ede82);const _0x10dba4=this['_list']['indexOf'](_0x3cc0f9);_0x10dba4!==-(-0x1243+-0x215b+-0x1135*-0x3)&&this['_list']['splice'](_0x10dba4,-0x22e7+-0x2361*-0x1+-0x79),this['fire']('remove',_0x3cc0f9);}this['_indexTmp']['clear']();}['get'](_0x5942d8){return this['_index']['get'](_0x5942d8)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x255d*-0x1+0x1a*-0x2+-0x2528),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x2*0x119c+-0x47a+-0x2b*0xb7),this['_available'+'Depth'])){const _0x5857a1=this['_manager']['session'];this['_depthUsag'+'e']=_0x5857a1['depthUsage'],this['_depthForm'+'at']=_0x5857a1['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x41c7a9 of this['_index']['values']())_0x41c7a9['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x33d*0x3+-0x1572+0x1f2a),this['_available'+'Depth']=!(0x25bc+-0x9*-0x23d+-0x39e0),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0xf92*-0x2+-0x1*-0x2545+-0x20b*0x3;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x5e0792){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x2*-0x4f3+0x1ccf+-0x1*0x12e9+0.1),h(this,'_depthFar',0x14d6+-0x59e+-0xb50),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x1*0x116d+0x14d7+0x4*-0x991),h(this,'_height',0x1*-0x1bbf+0x1336+0x13*0x73),h(this,'_framebuff'+'erScaleFac'+'tor',0x1ab3+-0x1bb3+0x101),(this['app']=_0x5e0792,this['_available'][lU]=!(0x10a3+-0x84*-0x4+-0x12b2),this['_available'][cU]=!(0x2*-0xeb0+-0x1eef+0x3c50),this['_available'][$o]=!(0x27*0xa2+-0x1*-0x142b+-0x14*0x23e),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x4c33ff,_0x4b8f7c,_0x5b38ce,_0x231901){let _0x30f739=_0x231901;if(typeof _0x231901=='object'&&(_0x30f739=_0x231901['callback']),!this['_available'][_0x4b8f7c]){_0x30f739&&_0x30f739(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x30f739&&_0x30f739(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x4c33ff,this['_camera']['camera']['xr']=this,this['_type']=_0x4b8f7c,this['_spaceType']=_0x5b38ce,this['_framebuff'+'erScaleFac'+'tor']=(_0x231901==null?void(-0x7ee+-0x27*0x4+-0x445*-0x2):_0x231901['framebuffe'+'rScaleFact'+'or'])??-0xc64+0x16e0+0x1*-0xa7b,this['_setClipPl'+'anes'](_0x4c33ff['nearClip'],_0x4c33ff['farClip']);const _0xf067df={'requiredFeatures':[_0x5b38ce],'optionalFeatures':[]},_0x4ffe1f=this['app']['graphicsDe'+'vice'];_0x4ffe1f!=null&&_0x4ffe1f['isWebGPU']&&_0xf067df['requiredFe'+'atures']['push']('webgpu');const _0x5b1ce3=_0x4ffe1f==null?void(0x1627+0x9f5+-0x201c):_0x4ffe1f['isWebGL2'];if(_0x4b8f7c===$o){if(_0xf067df['optionalFe'+'atures']['push']('light-esti'+'mation'),_0xf067df['optionalFe'+'atures']['push']('hit-test'),_0x231901&&(_0x231901['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0xf067df['optionalFe'+'atures']['push']('image-trac'+'king'),_0x231901['planeDetec'+'tion']&&_0xf067df['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x231901['meshDetect'+'ion']&&_0xf067df['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0xf067df['optionalFe'+'atures']['push']('dom-overla'+'y'),_0xf067df['domOverlay']={'root':this['domOverlay']['root']}),_0x231901&&_0x231901['anchors']&&this['anchors']['supported']&&_0xf067df['optionalFe'+'atures']['push']('anchors'),_0x231901&&_0x231901['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0xf067df['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x1c17c2=[],_0x4d2278=[];if(_0x1c17c2['push'](P0,dU),_0x4d2278['push'](I0,M0,D0),_0x231901['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x2d375e=_0x1c17c2['indexOf'](_0x231901['depthSensi'+'ng']['usagePrefe'+'rence']);_0x2d375e!==-(0x1*0x2389+0x622*0x6+-0x4854)&&_0x1c17c2['splice'](_0x2d375e,-0x1e3d+0x1381+0xabd*0x1),_0x1c17c2['unshift'](_0x231901['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x231901['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x4177b5=_0x4d2278['indexOf'](_0x231901['depthSensi'+'ng']['dataFormat'+'Preference']);_0x4177b5!==-(0x1865+0xa*0xfb+-0x2232)&&_0x4d2278['splice'](_0x4177b5,0x2278+-0x22d*-0x2+-0x26d1),_0x4d2278['unshift'](_0x231901['depthSensi'+'ng']['dataFormat'+'Preference']);}_0xf067df['depthSensi'+'ng']={'usagePreference':_0x1c17c2,'dataFormatPreference':_0x4d2278};}_0x5b1ce3&&_0x231901&&_0x231901['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0xf067df['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0xf067df['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x231901&&_0x231901['optionalFe'+'atures']&&(_0xf067df['optionalFe'+'atures']=_0xf067df['optionalFe'+'atures']['concat'](_0x231901['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x25a86a,_0x586b94)=>{if(_0x25a86a){_0x30f739&&_0x30f739(_0x25a86a),this['fire']('error',_0x25a86a);return;}_0x586b94!==null&&(_0xf067df['trackedIma'+'ges']=_0x586b94),this['_onStartOp'+'tionsReady'](_0x4b8f7c,_0x5b38ce,_0xf067df,_0x30f739);}):this['_onStartOp'+'tionsReady'](_0x4b8f7c,_0x5b38ce,_0xf067df,_0x30f739);}['_onStartOp'+'tionsReady'](_0x5039dc,_0x57223f,_0x5eda3c,_0x5769da){const _0x381262=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x5eda3c;navigator['xr']['requestSes'+'sion'](_0x5039dc,_0x381262)['then'](_0x1ac5f8=>{this['_onSession'+'Start'](_0x1ac5f8,_0x57223f,_0x5769da);})['catch'](_0x54890c=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x5769da&&_0x5769da(_0x54890c),this['fire']('error',_0x54890c);});}['end'](_0x3374ee){if(!this['_session']){_0x3374ee&&_0x3374ee(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x3374ee&&this['once']('end',_0x3374ee),this['_session']['end']();}['isAvailabl'+'e'](_0x170779){return this['_available'][_0x170779];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x29d754 in this['_available'])this['_sessionSu'+'pportCheck'](_0x29d754);}['initiateRo'+'omCapture'](_0x481467){if(!this['_session']){_0x481467(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x481467(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x481467&&_0x481467(null);})['catch'](_0x47d650=>{_0x481467&&_0x481467(_0x47d650);});}['updateTarg'+'etFrameRat'+'e'](_0x14e010,_0x16ea8c){var _0xa1fca3;if(!((_0xa1fca3=this['_session'])!=null&&_0xa1fca3['updateTarg'+'etFrameRat'+'e'])){_0x16ea8c==null||_0x16ea8c(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x14e010)['then'](()=>{_0x16ea8c==null||_0x16ea8c();})['catch'](_0x543c08=>{_0x16ea8c==null||_0x16ea8c(_0x543c08);});}['_sessionSu'+'pportCheck'](_0xbe4e1c){navigator['xr']['isSessionS'+'upported'](_0xbe4e1c)['then'](_0x3c5cbc=>{this['_available'][_0xbe4e1c]!==_0x3c5cbc&&(this['_available'][_0xbe4e1c]=_0x3c5cbc,this['fire']('available',_0xbe4e1c,_0x3c5cbc),this['fire']('available:'+_0xbe4e1c,_0x3c5cbc));})['catch'](_0x591ddb=>{this['fire']('error',_0x591ddb);});}['_onSession'+'Start'](_0x3b4c49,_0x243dfd,_0xd35917){let _0x5da2b7=!(0x23c6+0x2*0x44c+-0x2c5d);this['_session']=_0x3b4c49;const _0x3ede63=()=>{this['fire']('visibility'+':change',_0x3b4c49['visibility'+'State']);},_0x1890f7=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x49fe1c=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1890f7),this['_camera']['off']('set_farCli'+'p',_0x1890f7),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3b4c49['removeEven'+'tListener']('end',_0x49fe1c),_0x3b4c49['removeEven'+'tListener']('visibility'+'change',_0x3ede63),_0x5da2b7||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x226d+0x4c*0xe+0x3f*0x7b,this['_height']=-0x7*0x398+0x6c4+-0x1ac*-0xb,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3b4c49['addEventLi'+'stener']('end',_0x49fe1c),_0x3b4c49['addEventLi'+'stener']('visibility'+'change',_0x3ede63),this['_camera']['on']('set_nearCl'+'ip',_0x1890f7),this['_camera']['on']('set_farCli'+'p',_0x1890f7),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x573eff;this['fire']('frameratec'+'hange',(_0x573eff=this['_session'])==null?void(-0x4*0x418+-0x5*-0x5bf+-0xc5b*0x1):_0x573eff['frameRate']);}),_0x3b4c49['requestRef'+'erenceSpac'+'e'](_0x243dfd)['then'](_0x3d66c0=>{this['_reference'+'Space']=_0x3d66c0,this['app']['tick'](),_0xd35917&&_0xd35917(null),this['fire']('start');})['catch'](_0x3ad60e=>{_0x5da2b7=!(-0x1db3*-0x1+-0x1900+-0x4b3),_0x3b4c49['end'](),_0xd35917&&_0xd35917(_0x3ad60e),this['fire']('error',_0x3ad60e);});}['_setClipPl'+'anes'](_0x2632ef,_0x3584da){this['_depthNear']===_0x2632ef&&this['_depthFar']===_0x3584da||(this['_depthNear']=_0x2632ef,this['_depthFar']=_0x3584da,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x1feac1=this['app']['graphicsDe'+'vice'],_0x41c7ef=_0x1feac1['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x1feac1['gl'],{'alpha':!(-0x3f*0xa+0x1de2+-0x1b6c),'depth':!(0x157+-0x1851+0x16fa),'stencil':!(0x6*-0x5bf+-0xf*0x1f7+0x3ff3),'framebufferScaleFactor':_0x41c7ef,'antialias':!(0x15ea+-0x947+-0xca2)}),_0x1feac1!=null&&_0x1feac1['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x1feac1['gl']);}catch(_0x503f09){this['fire']('error',_0x503f09);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x13d865=>{this['fire']('error',_0x13d865);});},0xc1*0x21+0x1879+-0x1*0x315a);}['update'](_0x594613){if(!this['_session'])return!(-0x1b2+0x1aa+0x1*0x9);const _0x5ac42f=_0x594613['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x16539d=_0x594613['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5ac42f||this['_height']!==_0x16539d)&&(this['_width']=_0x5ac42f,this['_height']=_0x16539d,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5ac42f,_0x16539d));const _0xf94893=_0x594613['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0xf94893)return!(-0x2*-0xa4e+-0x40*-0x43+-0x255b);const _0x5cf701=this['views']['list']['length'];this['views']['update'](_0x594613,_0xf94893['views']);const _0x32048f=_0xf94893['transform']['position'],_0x4331f4=_0xf94893['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x32048f['x'],_0x32048f['y'],_0x32048f['z']),this['_localRota'+'tion']['set'](_0x4331f4['x'],_0x4331f4['y'],_0x4331f4['z'],_0x4331f4['w']),_0x5cf701===-0x24f9+-0x3e*0x5e+-0x175*-0x29&&this['views']['list']['length']>0x1*0x14cf+-0x25eb+-0x5b4*-0x3){const _0x4b1cb1=new te(),_0x1d7228=this['views']['list'][-0x1*0x25e+-0x247c+0x26da];_0x4b1cb1['copy'](_0x1d7228['projMat']);const _0x26e541=_0x4b1cb1['data'],_0x170d03=(0x21d7*-0x1+0x1f67+0x272)*Math['atan']((-0x169*0x19+-0x119*-0x5+0x1dc5)/_0x26e541[0x3c*0x7+0x2205+-0x2*0x11d2])*(-0x2*-0xb3+0x10af+0x3*-0x5cb)/Math['PI'],_0x506550=_0x26e541[0x1538+-0x1bc0+0x68d]/_0x26e541[0x2f+-0x6*-0x642+0x1*-0x25bb],_0x478e30=_0x26e541[-0x1e51+-0x453+-0x22b2*-0x1]/(_0x26e541[-0x39*-0x17+-0x3*0x7c1+0x1*0x122e]+(-0x10*-0x24+0x8*0x391+-0x1ec7*0x1)),_0x46e8ad=_0x26e541[-0x1bf*-0x5+-0x1787*0x1+0xeda]/(_0x26e541[0x29e*0xb+0x1*0x26e+-0x1f2e]-(0xf29*-0x1+0x2b9+-0xd*-0xf5));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x506550,'farClip':_0x478e30,'fov':_0x170d03,'horizontalFov':!(-0x3e8*-0x8+-0x1f0a+0x35*-0x1),'nearClip':_0x46e8ad});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x594613),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x594613),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x594613),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x594613),this['anchors']['supported']&&this['anchors']['update'](_0x594613),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x594613),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x594613)),this['fire']('update',_0x594613),!(-0x5c*-0x53+-0x10e+-0x1cc6);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0xcfa089;return((_0xcfa089=this['_session'])==null?void(-0x2*0xeef+0x942+0x1*0x149c):_0xcfa089['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x2ffe58){var _0x5d77cc;(((_0x5d77cc=this['_baseLayer'])==null?void(-0xf86*0x2+-0x8*0x198+0xaf3*0x4):_0x5d77cc['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x254b*0x1+0x19e5+-0x3f2f&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x2ffe58);}get['fixedFovea'+'tion'](){var _0x480e38;return((_0x480e38=this['_baseLayer'])==null?void(0x1*-0x23f5+-0x1533+-0x1*-0x3928):_0x480e38['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x9604d4,_0xa66eb3={}){super(_0x9604d4);const _0x186e9e=new tL();_0x186e9e['graphicsDe'+'vice']=_0xa66eb3['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x9604d4,_0xa66eb3),this['addCompone'+'ntSystems'](_0x186e9e),this['addResourc'+'eHandles'](_0x186e9e),_0x186e9e['elementInp'+'ut']=_0xa66eb3['elementInp'+'ut'],_0x186e9e['keyboard']=_0xa66eb3['keyboard'],_0x186e9e['mouse']=_0xa66eb3['mouse'],_0x186e9e['touch']=_0xa66eb3['touch'],_0x186e9e['gamepads']=_0xa66eb3['gamepads'],_0x186e9e['scriptPref'+'ix']=_0xa66eb3['scriptPref'+'ix'],_0x186e9e['assetPrefi'+'x']=_0xa66eb3['assetPrefi'+'x'],_0x186e9e['scriptsOrd'+'er']=_0xa66eb3['scriptsOrd'+'er'],_0x186e9e['soundManag'+'er']=new Pw(),_0x186e9e['lightmappe'+'r']=pL,_0x186e9e['batchManag'+'er']=IE,_0x186e9e['xr']=ln,this['init'](_0x186e9e);}['createDevi'+'ce'](_0x109393,_0x35d6cd){return _0x35d6cd['graphicsDe'+'viceOption'+'s']||(_0x35d6cd['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x35d6cd['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x70*-0xc+-0xead+0x13ed*0x1)),_0x35d6cd['graphicsDe'+'viceOption'+'s']['alpha']=_0x35d6cd['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1782+0x2b7+0xd1c*-0x2),new aw(_0x109393,_0x35d6cd['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1c35d0){_0x1c35d0['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x55d667){_0x55d667['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x3daef1,_0x49e530){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x6*0x59+-0x1*0xb9+-0x15c)),h(this,'_loaded',!(-0xa06+0x25b5+-0x6*0x49d)),h(this,'_failed',[]),(this['_registry']=_0x49e530,_0x3daef1['forEach'](_0x513f99=>{if(_0x513f99 instanceof pe)_0x513f99['registry']||(_0x513f99['registry']=_0x49e530),this['_assets']['add'](_0x513f99);else{const _0x3995ac=_0x49e530['get'](_0x513f99);_0x3995ac?this['_assets']['add'](_0x3995ac):this['_waitForAs'+'set'](_0x513f99);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0xf2f8ff=>{this['_registry']['off']('add:'+_0xf2f8ff,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x2383ad){var _0x4f7db0;return _0x2383ad['type']==='model'&&((_0x4f7db0=_0x2383ad['file'])==null?void(-0x100a*-0x2+0x531+-0x2545):_0x4f7db0['url'])&&_0x2383ad['file']['url']&&_0x2383ad['file']['url']['match'](/.json$/g);}['load'](_0x56c11e,_0x2961a7){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x231f+-0x1aed+0x3e0c),this['_callback']=_0x56c11e,this['_scope']=_0x2961a7,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x323aa2=!(0x169a+-0x145*-0x9+-0x2206);this['_assets']['forEach'](_0x1e0b0e=>{_0x1e0b0e['loaded']||(_0x323aa2=!(0x2195+0x5*0x349+0x2*-0x1901),this['_assetHasD'+'ependencie'+'s'](_0x1e0b0e)&&this['_registry']['loadFromUr'+'l'](_0x1e0b0e['file']['url'],_0x1e0b0e['type'],(_0x390181,_0x5d0902)=>{if(_0x390181){this['_onError'](_0x390181,_0x1e0b0e);return;}this['_onLoad'](_0x1e0b0e);}),this['_loadingAs'+'sets']['add'](_0x1e0b0e),this['_registry']['add'](_0x1e0b0e));}),this['_loadingAs'+'sets']['forEach'](_0x5622b9=>{this['_assetHasD'+'ependencie'+'s'](_0x5622b9)||this['_registry']['load'](_0x5622b9);}),!_0x323aa2&&this['_waitingAs'+'sets']['size']===0xef1+-0xfde+0x3*0x4f&&this['_loadingCo'+'mplete']();}['ready'](_0x1a16d9,_0x2600b5=this){this['_loaded']?_0x1a16d9['call'](_0x2600b5,Array['from'](this['_assets'])):this['once']('load',_0x5ba825=>{_0x1a16d9['call'](_0x2600b5,_0x5ba825);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x1f2*-0x4+0x16fb+-0x1*0xf33),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x15d99a){this['_loadingAs'+'sets']['has'](_0x15d99a)&&(this['fire']('progress',_0x15d99a),this['_loadingAs'+'sets']['delete'](_0x15d99a)),this['_loadingAs'+'sets']['size']===-0x146+0x1b75+-0x1a2f&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0xabb+0x1616+-0xb5b);}['_onError'](_0x205cde,_0x37e061){this['_loadingAs'+'sets']['has'](_0x37e061)&&(this['_failed']['push'](_0x37e061),this['_loadingAs'+'sets']['delete'](_0x37e061)),this['_loadingAs'+'sets']['size']===0x1fce*-0x1+0x101*0xf+0x10bf&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0xa62+-0x1e78+-0x3f*-0xa6);}['_onAddAsse'+'t'](_0x5e5d38){this['_waitingAs'+'sets']['delete'](_0x5e5d38),this['_assets']['add'](_0x5e5d38),_0x5e5d38['loaded']||(this['_loadingAs'+'sets']['add'](_0x5e5d38),this['_registry']['load'](_0x5e5d38));}['_waitForAs'+'set'](_0x4edb94){this['_waitingAs'+'sets']['add'](_0x4edb94),this['_registry']['once']('add:'+_0x4edb94,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x500928,_0x53c80d){super(_0x500928),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x53c80d;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x213e40=>{_0x213e40['defaultUni'+'formBuffer']['destroy'](),_0x213e40['destroy']();}),this['viewBindGr'+'oups']['length']=-0x15b6+-0x14*0x1cd+0x39ba;}['update'](_0x555aba,_0x37e6ff,_0x18326b,_0x470ba5){this['camera']=_0x555aba,this['scene']=_0x37e6ff,this['layers']=_0x18326b,this['mapping']=_0x470ba5;}['execute'](){const _0x8a975d=this['device'],{renderer:_0x4d00d0,camera:_0x4ad5df,scene:_0x449872,layers:_0x5cf982,mapping:_0x5b2d3e,renderTarget:_0x5d4804}=this,_0x723eb5=_0x449872['layers']['layerList'],_0x4e71fc=_0x449872['layers']['subLayerEn'+'abled'],_0x30d45a=_0x449872['layers']['subLayerLi'+'st'];for(let _0x186703=0x21e5+0x1936*0x1+-0x3b1b*0x1;_0x186703<_0x723eb5['length'];_0x186703++){const _0x5ed4a4=_0x723eb5[_0x186703];if(!(_0x5cf982&&_0x5cf982['indexOf'](_0x5ed4a4)<0x17*0xd+-0x191+-0x6*-0x11)&&_0x5ed4a4['enabled']&&_0x4e71fc[_0x186703]&&_0x5ed4a4['camerasSet']['has'](_0x4ad5df['camera'])){const _0x24d1da=_0x30d45a[_0x186703];Q['pushGpuMar'+'ker'](_0x8a975d,_0x5ed4a4['name']+'('+(_0x24d1da?'TRANSP':'OPAQUE')+')'),_0x5ed4a4['_clearDept'+'hBuffer']&&_0x4d00d0['clear'](_0x4ad5df['camera'],!(0x169*0x1+0x2*-0x1201+0x1*0x229a),!(0x1*-0x2557+0x787+0x3*0x9f0),!(-0x623*-0x3+-0x9b+-0x11cd));const _0x1f51e4=_0x5ed4a4['meshInstan'+'ces'];for(let _0x26e6d2=-0xa2d*-0x1+-0x195e+0xf31;_0x26e6d2<_0x1f51e4['length'];_0x26e6d2++){const _0x3c1829=_0x1f51e4[_0x26e6d2];_0x3c1829['pick']&&_0x3c1829['transparen'+'t']===_0x24d1da&&(Fc['push'](_0x3c1829),_0x5b2d3e['set'](_0x3c1829['id'],_0x3c1829));}Fc['length']>0x1c00+0x7*-0xbb+-0x16e3*0x1&&(_0x449872['clusteredL'+'ightingEna'+'bled']&&_0x4d00d0['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x4d00d0['setCameraU'+'niforms'](_0x4ad5df['camera'],_0x5d4804),_0x8a975d['supportsUn'+'iformBuffe'+'rs']&&_0x4d00d0['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x4d00d0['viewUnifor'+'mFormat'],_0x4d00d0['viewBindGr'+'oupFormat'],null),_0x4d00d0['renderForw'+'ard'](_0x4ad5df['camera'],_0x5d4804,Fc,_U,Zn,_0x170b97=>{_0x8a975d['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x102e+-0x773+0x17a1),Q['popGpuMark'+'er'](_0x8a975d);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x58308d,_0x52fcdf,_0x2b357f){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x1818+-0x724+0x1f3c)),(w['assert'](_0x58308d),this['renderer']=_0x58308d['renderer'],this['device']=_0x58308d['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x58308d['renderer']),this['width']=-0xe42+0x2*0x2c5+0x8b8,this['height']=-0x1ecd+-0x25c5+0x4492,this['resize'](_0x52fcdf,_0x2b357f),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x228*-0x3+-0x191f+-0x4aa*-0x4);}));}['getSelecti'+'on'](_0x8b8c5c,_0x1e5819,_0x34d638=-0x1784+0x509+0x127c,_0x2a6f34=-0x1050+-0x1*0x183f+0x3b*0xb0){const _0x47e773=this['device'];if(_0x47e773['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x8b8c5c!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x1e5819=this['renderTarg'+'et']['height']-(_0x1e5819+_0x2a6f34);const _0x43f6fd=this['sanitizeRe'+'ct'](_0x8b8c5c,_0x1e5819,_0x34d638,_0x2a6f34);_0x47e773['setRenderT'+'arget'](this['renderTarg'+'et']),_0x47e773['updateBegi'+'n']();const _0x488bce=new Uint8Array((-0x2072*-0x1+0xcc7*0x3+-0x46c3)*_0x43f6fd['z']*_0x43f6fd['w']);return _0x47e773['readPixels'](_0x43f6fd['x'],_0x43f6fd['y'],_0x43f6fd['z'],_0x43f6fd['w'],_0x488bce),_0x47e773['updateEnd'](),this['decodePixe'+'ls'](_0x488bce,this['mapping']);}['getSelecti'+'onAsync'](_0x39148e,_0x282f97,_0x2fab9c=-0xb5d+0x65*-0x33+0x3*0xa7f,_0x4b4621=-0x19ea+-0x194d+0x1*0x3338){var _0x5db118;(_0x5db118=this['device'])!=null&&_0x5db118['isWebGL2']&&(_0x282f97=this['renderTarg'+'et']['height']-(_0x282f97+_0x4b4621));const _0x84b4e6=this['sanitizeRe'+'ct'](_0x39148e,_0x282f97,_0x2fab9c,_0x4b4621);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x84b4e6['x'],_0x84b4e6['y'],_0x84b4e6['z'],_0x84b4e6['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x22b6+-0x18b+0x1*0x2441)})['then'](_0x181b1c=>this['decodePixe'+'ls'](_0x181b1c,this['mapping']));}['sanitizeRe'+'ct'](_0x4f3ca9,_0x59a9ed,_0x203061,_0x3e436c){const _0x3e49d9=this['renderTarg'+'et']['width'],_0x206fff=this['renderTarg'+'et']['height'];return _0x4f3ca9=Y['clamp'](Math['floor'](_0x4f3ca9),-0xa67+0x3*-0xc05+-0x2e76*-0x1,_0x3e49d9-(-0x1*0x1d24+-0xebf+0x2be4)),_0x59a9ed=Y['clamp'](Math['floor'](_0x59a9ed),0x74a+0x1045*-0x2+-0x1*-0x1940,_0x206fff-(0x1*0x346+-0x429+0x72*0x2)),_0x203061=Math['floor'](Math['max'](_0x203061,0x1dd4+-0x1103+-0xcd0)),_0x203061=Math['min'](_0x203061,_0x3e49d9-_0x4f3ca9),_0x3e436c=Math['floor'](Math['max'](_0x3e436c,0x33f*-0x9+0x1611+0x1*0x727)),_0x3e436c=Math['min'](_0x3e436c,_0x206fff-_0x59a9ed),SU['set'](_0x4f3ca9,_0x59a9ed,_0x203061,_0x3e436c);}['decodePixe'+'ls'](_0x1ca571,_0x1943ae){const _0x4f96e4=[];if(this['deviceVali'+'d']){const _0x5b437b=_0x1ca571['length'];for(let _0x3d2686=-0x7a1+-0x777+0x7*0x228;_0x3d2686<_0x5b437b;_0x3d2686+=-0x161b+-0x569*-0x4+0x7b){const _0x369288=_0x1ca571[_0x3d2686+(-0x2353+-0xb5*0x1f+0x22*0x1af)],_0x13c32f=_0x1ca571[_0x3d2686+(0x2429+-0x2*-0x67c+0x83*-0x60)],_0x2c0448=_0x1ca571[_0x3d2686+(-0x63b+0xcdf+0x236*-0x3)],_0xffcb9=(_0x1ca571[_0x3d2686+(-0x26b7+-0x17d3+0x1*0x3e8d)]<<-0x68b+-0x1aca+-0x216d*-0x1|_0x369288<<-0x16a5+0x32+0x3*0x781|_0x13c32f<<-0x1e9*0x5+0x1*0x81f+0x176|_0x2c0448)>>>-0xf+0x2f*-0x49+0xd76;_0xffcb9!==-0x1b878a5f3+-0xf3b24a7f+-0x34c8065*-0x11d&&Rf['add'](_0x1943ae['get'](_0xffcb9));}Rf['forEach'](_0x5c076e=>{_0x5c076e&&_0x4f96e4['push'](_0x5c076e);}),Rf['clear']();}return _0x4f96e4;}['allocateRe'+'nderTarget'](){const _0xeac657=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x519*0x1+-0x611*0x2+0x113c),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0xeac657,'depth':!(0x13fe+-0x3*-0x871+-0x2d51)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x53458d,_0xacb0ab,_0x222e54){_0x222e54 instanceof Ot&&(_0x222e54=[_0x222e54]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x3e706f=this['renderPass'];_0x3e706f['init'](this['renderTarg'+'et']),_0x3e706f['colorOps']['clearValue']=ie['WHITE'],_0x3e706f['colorOps']['clear']=!(-0x1445+0x21c3+-0xd7e),_0x3e706f['depthStenc'+'ilOps']['clearDepth']=!(0xa1c+-0xcf*-0x29+0x5*-0x8a7),_0x3e706f['update'](_0x53458d,_0xacb0ab,_0x222e54,this['mapping']),_0x3e706f['render']();}['resize'](_0x4cda95,_0x5b5fb6){this['width']=Math['floor'](_0x4cda95),this['height']=Math['floor'](_0x5b5fb6);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x41424f,_0x196ce2,_0x5a4bb3){return yU['cross'](_0x41424f,_0x196ce2)['dot'](_0x5a4bb3);}function xU(_0x39a129,_0x35d7b9,_0x51b589){en['sub2'](_0x35d7b9,_0x39a129),Nc['sub2'](_0x51b589[0x18*-0x185+0x191*-0x17+0x115*0x43],_0x39a129),Ff['sub2'](_0x51b589[0x2484+0x1a2d*0x1+-0x3eb0],_0x39a129),OS['sub2'](_0x51b589[-0x1418+-0x536*-0x3+-0x16*-0x34],_0x39a129),kc['cross'](OS,en);let _0x4cba0f=Nc['dot'](kc),_0xb59a26,_0x5c122d;if(_0x4cba0f>=-0x23ad*0x1+0x18d*0x13+-0x5*-0x13e){if(_0xb59a26=-Ff['dot'](kc),_0xb59a26<-0x1*0xf6b+0x8bf*-0x1+0x182a||(_0x5c122d=BS(en,Ff,Nc),_0x5c122d<0x435+-0x284*0x3+0x357))return-(-0x26d5+-0xbeb+0x32c1);const _0x5d0a7a=(0x389*0x6+0x2*-0xc27+0x319*0x1)/(_0xb59a26+_0x4cba0f+_0x5c122d);Uc['copy'](_0x51b589[-0x4a*-0x17+-0x117f+-0x1*-0xad9])['mulScalar'](_0xb59a26*_0x5d0a7a),Bc['copy'](_0x51b589[-0x4a*-0x6a+0x347*0xb+-0x42b0*0x1])['mulScalar'](_0x4cba0f*_0x5d0a7a),zc['copy'](_0x51b589[-0x3e8+0xfe0+-0xbf6])['mulScalar'](_0x5c122d*_0x5d0a7a),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x51b589[-0x7*0x11+-0x155*-0x5+0x1*-0x62f],_0x39a129),_0xb59a26=Nf['dot'](kc),_0xb59a26<-0x2627+0x812*0x2+0x467*0x5||(_0x5c122d=BS(en,Nc,Nf),_0x5c122d<0x12*0xc5+0x652*0x4+-0x1391*0x2))return-(-0x473+-0x19d5+0x1e49);_0x4cba0f=-_0x4cba0f;const _0x4cfbac=(0xe4d+0x8*-0x25c+0x494)/(_0xb59a26+_0x4cba0f+_0x5c122d);Uc['copy'](_0x51b589[0x52f+0x16*-0x1a5+0xf*0x211])['mulScalar'](_0xb59a26*_0x4cfbac),Bc['copy'](_0x51b589[0x2257+0x7*0x19c+-0x2d98])['mulScalar'](_0x4cba0f*_0x4cfbac),zc['copy'](_0x51b589[0x24e8+-0x264+-0x2282])['mulScalar'](_0x5c122d*_0x4cfbac),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x51b589[-0x9f8+-0x1f2+-0x2*-0x5f5],_0x51b589[0x5dc+0xeb*-0x7+0x93])['lengthSq']()<(-0x4ff*-0x3+-0x565*-0x3+-0x1f2c+0.0001)*(0xdff*-0x2+0x251c+0x91e*-0x1+0.0001)||en['sub2'](_0x51b589[-0xa7b+-0x2f5*-0xd+-0x11*0x1a5],_0x51b589[-0x1*-0x1ec9+-0x1aff+0x1*-0x3c7])['lengthSq']()<(-0x1db6+-0x26fd+0x44b3+0.0001)*(-0x703*0x1+-0xb11*-0x3+-0x1a30+0.0001)?-(0xd*-0x2ef+-0x2b9*0xd+0x4989):kf['sub'](_0x39a129)['lengthSq']();}class Am{constructor(_0x3cc2c7,_0x2143c7,_0x748055){this['event']=_0x3cc2c7,this['element']=_0x2143c7,this['camera']=_0x748055,this['_stopPropa'+'gation']=!(0x2*0x128f+0xaa*0x6+-0x2919);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0xabc+0xeaf+-0x196b),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x5e74c1,_0x1ddf1e,_0x1108ea,_0x511fff,_0xea42dd,_0x1bcf72,_0x4ec8c8){super(_0x5e74c1,_0x1ddf1e,_0x1108ea),this['x']=_0x511fff,this['y']=_0xea42dd,this['ctrlKey']=_0x5e74c1['ctrlKey']||!(-0xc68+-0x2*-0x1239+-0x1809),this['altKey']=_0x5e74c1['altKey']||!(0xae3+-0x2279+0x1797),this['shiftKey']=_0x5e74c1['shiftKey']||!(-0x2366+0x29*0x16+0x1fe1),this['metaKey']=_0x5e74c1['metaKey']||!(0x23e3+0xc*-0x62+0x6*-0x537),this['button']=_0x5e74c1['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x5e74c1['movementX']||_0x5e74c1['webkitMove'+'mentX']||_0x5e74c1['mozMovemen'+'tX']||0x15*-0x139+0x26da+0xd2d*-0x1,this['dy']=_0x5e74c1['movementY']||_0x5e74c1['webkitMove'+'mentY']||_0x5e74c1['mozMovemen'+'tY']||0x24f9+-0xe56+-0x16a3):(this['dx']=_0x511fff-_0x1bcf72,this['dy']=_0xea42dd-_0x4ec8c8),this['wheelDelta']=0x1e90+0x13*0x112+-0x32e6,_0x5e74c1['type']==='wheel'&&(_0x5e74c1['deltaY']>-0x6b*0x12+0x2*-0x94f+0x1a24?this['wheelDelta']=-0xf92+0x1606+-0x673:_0x5e74c1['deltaY']<-0x75*0x7+-0x4d2+-0x805*-0x1&&(this['wheelDelta']=-(-0xa3d+0x221*0x1+-0x43*-0x1f)));}}class Ao extends Am{constructor(_0x435a25,_0x17632e,_0x172bc3,_0x4c9b8f,_0x432f64,_0x22d59c){super(_0x435a25,_0x17632e,_0x172bc3),this['touches']=_0x435a25['touches'],this['changedTou'+'ches']=_0x435a25['changedTou'+'ches'],this['x']=_0x4c9b8f,this['y']=_0x432f64,this['touch']=_0x22d59c;}}class dr extends Am{constructor(_0x3a0f65,_0x4e1ca9,_0x5d4e39,_0x18363d){super(_0x3a0f65,_0x4e1ca9,_0x5d4e39),this['inputSourc'+'e']=_0x18363d;}}class Xo{constructor(_0x3865f5,_0x4874c0){this['_app']=null,this['_attached']=!(-0x18db+0x1f32+0x1*-0x656),this['_target']=null,this['_enabled']=!(0xbe1*0x1+-0x24a9+0x18c8),this['_lastX']=-0x14f+0x2396+-0x2247,this['_lastY']=0xa7*0x2b+0xb4b+-0x1*0x2758,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x4874c0||_0x4874c0['useMouse']!==!(-0x265*0x9+0x1ebf+-0x1*0x931),this['_useTouch']=!_0x4874c0||_0x4874c0['useTouch']!==!(0x177e+-0x1209+-0x2ba*0x2),this['_useXr']=!_0x4874c0||_0x4874c0['useXr']!==!(0x1dd5+0x1a86+-0x1c2d*0x2),this['_selectEve'+'ntsAttache'+'d']=!(0xb*-0x2fc+0x524*0x7+-0x1*0x327),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x3865f5);}set['enabled'](_0x35778d){this['_enabled']=_0x35778d;}get['enabled'](){return this['_enabled'];}set['app'](_0x17c155){this['_app']=_0x17c155;}get['app'](){return this['_app']||Ms();}['attach'](_0x582088){this['_attached']&&(this['_attached']=!(0x2d5*-0x7+0x66f+0x477*0x3),this['detach']()),this['_target']=_0x582088,this['_attached']=!(-0xa3e+-0x1f75+0x29b3*0x1);const _0x5948c2=Ae['passiveEve'+'nts']?{'passive':!(-0x1826+-0x47d+0x1ca3)}:!(-0x20b7*0x1+0x4*0x585+-0x6*-0x1c6);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5948c2),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5948c2),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5948c2),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5948c2)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x5948c2),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x5b1*0x5+0x1*-0x18e9+0xd*0x41b)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x13ee+-0x2*0x105d+0x34a9)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0xc5a+-0x1c55+-0x6*-0x2aa))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x17*-0x121+-0x9ef+-0x1008),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x11+-0x1008+0x101a);const _0x4ac8c3=Ae['passiveEve'+'nts']?{'passive':!(0x1*0xff7+0x199a+-0x2991)}:!(-0x86*0x7+-0x773+-0xb1e*-0x1);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x4ac8c3),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x4ac8c3),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x4ac8c3),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x4ac8c3)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x4ac8c3),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0xc7d+0x18c1+-0x1*0xc43)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x45*0xd+0x1*0x1561+-0x3*0x84b)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x226e+-0x1d4a+0x3fb9))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(0x3f2+-0x780+0x38f*0x1),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x3a259c){this['_elements']['indexOf'](_0x3a259c)===-(0x149+-0x93e+0x2*0x3fb)&&this['_elements']['push'](_0x3a259c);}['removeElem'+'ent'](_0x330735){const _0xb9d77f=this['_elements']['indexOf'](_0x330735);_0xb9d77f!==-(-0x3*0x9ee+-0x29*-0xaa+-0x9*-0x49)&&this['_elements']['splice'](_0xb9d77f,0x20fa*0x1+0xd85+-0x2e7e);}['_handleUp'](_0x2f7042){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2f7042),this['_onElement'+'MouseEvent']('mouseup',_0x2f7042)));}['_handleDow'+'n'](_0x2fd4dc){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2fd4dc),this['_onElement'+'MouseEvent']('mousedown',_0x2fd4dc)));}['_handleMov'+'e'](_0x4a09aa){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4a09aa),this['_onElement'+'MouseEvent']('mousemove',_0x4a09aa),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x58a9a9){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x58a9a9),this['_onElement'+'MouseEvent']('mousewheel',_0x58a9a9));}['_determine'+'TouchedEle'+'ments'](_0x21476b){const _0x385ed8={},_0x349874=this['app']['systems']['camera']['cameras'];for(let _0x369759=_0x349874['length']-(-0x1138+0x4*-0x721+0x2dbd);_0x369759>=-0x1379+-0x1c*0x12e+0x1*0x3481;_0x369759--){const _0x2d8806=_0x349874[_0x369759];let _0x578f94=-0x2b*-0x2+0x252e+-0x2584;const _0x110d07=_0x21476b['changedTou'+'ches']['length'];for(let _0x357bd0=-0x2a*-0xab+0x1a92+-0x36a0;_0x357bd0<_0x110d07;_0x357bd0++){if(_0x385ed8[_0x21476b['changedTou'+'ches'][_0x357bd0]['identifier']]){_0x578f94++;continue;}const _0x3936fe=Wc(_0x21476b['changedTou'+'ches'][_0x357bd0]),_0x14ec2c=this['_getTarget'+'ElementByC'+'oords'](_0x2d8806,_0x3936fe['x'],_0x3936fe['y']);_0x14ec2c&&(_0x578f94++,_0x385ed8[_0x21476b['changedTou'+'ches'][_0x357bd0]['identifier']]={'element':_0x14ec2c,'camera':_0x2d8806,'x':_0x3936fe['x'],'y':_0x3936fe['y']});}if(_0x578f94===_0x110d07)break;}return _0x385ed8;}['_handleTou'+'chStart'](_0x29e674){if(!this['_enabled'])return;const _0x43b18d=this['_determine'+'TouchedEle'+'ments'](_0x29e674);for(let _0x18b7e8=0x76b*-0x1+0x1*-0x13e9+0x42*0x6a,_0x168fda=_0x29e674['changedTou'+'ches']['length'];_0x18b7e8<_0x168fda;_0x18b7e8++){const _0x3d08bf=_0x29e674['changedTou'+'ches'][_0x18b7e8],_0x138fc1=_0x43b18d[_0x3d08bf['identifier']],_0xe5453b=this['_touchedEl'+'ements'][_0x3d08bf['identifier']];_0x138fc1&&(!_0xe5453b||_0x138fc1['element']!==_0xe5453b['element'])&&(this['_fireEvent'](_0x29e674['type'],new Ao(_0x29e674,_0x138fc1['element'],_0x138fc1['camera'],_0x138fc1['x'],_0x138fc1['y'],_0x3d08bf)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3d08bf['identifier']]=!(-0x2342+-0xb78*0x1+0x2ebb));}for(const _0x523cb6 in _0x43b18d)this['_touchedEl'+'ements'][_0x523cb6]=_0x43b18d[_0x523cb6];}['_handleTou'+'chEnd'](_0x1000d2){if(!this['_enabled'])return;const _0xb90650=this['app']['systems']['camera']['cameras'];for(const _0x1d1504 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x1d1504];for(let _0x1be858=-0x1e3d+-0x2*-0x119b+0x43*-0x13,_0x1de9d9=_0x1000d2['changedTou'+'ches']['length'];_0x1be858<_0x1de9d9;_0x1be858++){const _0x3fc950=_0x1000d2['changedTou'+'ches'][_0x1be858],_0x242bda=this['_touchedEl'+'ements'][_0x3fc950['identifier']];if(!_0x242bda)continue;const _0x25887e=_0x242bda['element'],_0x55395a=_0x242bda['camera'],_0x446ca3=_0x242bda['x'],_0x262991=_0x242bda['y'];delete this['_touchedEl'+'ements'][_0x3fc950['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3fc950['identifier']];const _0x58e448=Wc(_0x3fc950);for(let _0x30132c=_0xb90650['length']-(0xd4c+0x33d*-0x3+-0xe5*0x4);_0x30132c>=-0xe19+0x10b*-0x2+-0x3*-0x565;_0x30132c--)this['_getTarget'+'ElementByC'+'oords'](_0xb90650[_0x30132c],_0x58e448['x'],_0x58e448['y'])===_0x25887e&&(this['_clickedEn'+'tities'][_0x25887e['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x1000d2,_0x25887e,_0x55395a,_0x446ca3,_0x262991,_0x3fc950)),this['_clickedEn'+'tities'][_0x25887e['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x1000d2['type'],new Ao(_0x1000d2,_0x25887e,_0x55395a,_0x446ca3,_0x262991,_0x3fc950));}}['_handleTou'+'chMove'](_0x20fdeb){if(_0x20fdeb['preventDef'+'ault'](),!this['_enabled'])return;const _0x3ae848=this['_determine'+'TouchedEle'+'ments'](_0x20fdeb);for(let _0x47d718=0x4df+0x1*-0x989+0x4aa,_0xc5d563=_0x20fdeb['changedTou'+'ches']['length'];_0x47d718<_0xc5d563;_0x47d718++){const _0x12a363=_0x20fdeb['changedTou'+'ches'][_0x47d718],_0xf8512f=_0x3ae848[_0x12a363['identifier']],_0x591cf=this['_touchedEl'+'ements'][_0x12a363['identifier']];if(_0x591cf){const _0x598dfa=Wc(_0x12a363);(!_0xf8512f||_0xf8512f['element']!==_0x591cf['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x12a363['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x20fdeb,_0x591cf['element'],_0x591cf['camera'],_0x598dfa['x'],_0x598dfa['y'],_0x12a363)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x12a363['identifier']]=!(-0x515+0x1*0x1d89+0x5*-0x4e4)),this['_fireEvent']('touchmove',new Ao(_0x20fdeb,_0x591cf['element'],_0x591cf['camera'],_0x598dfa['x'],_0x598dfa['y'],_0x12a363));}}}['_onElement'+'MouseEvent'](_0x27382f,_0x4f42b8){let _0x396eec=null;const _0x3f1418=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0xdfb089=this['app']['systems']['camera']['cameras'];let _0x3e3284;for(let _0x3edb52=_0xdfb089['length']-(-0x68d+0x1de0+-0x1752);_0x3edb52>=0xbdb+-0x10d5+0x4fa&&(_0x3e3284=_0xdfb089[_0x3edb52],_0x396eec=this['_getTarget'+'ElementByC'+'oords'](_0x3e3284,cr,hr),!_0x396eec);_0x3edb52--);if(this['_hoveredEl'+'ement']=_0x396eec,(_0x27382f==='mousemove'||_0x27382f==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x27382f,new bo(_0x4f42b8,this['_pressedEl'+'ement'],_0x3e3284,cr,hr,this['_lastX'],this['_lastY'])):_0x396eec&&(this['_fireEvent'](_0x27382f,new bo(_0x4f42b8,_0x396eec,_0x3e3284,cr,hr,this['_lastX'],this['_lastY'])),_0x27382f==='mousedown'&&(this['_pressedEl'+'ement']=_0x396eec)),_0x3f1418!==this['_hoveredEl'+'ement']&&(_0x3f1418&&this['_fireEvent']('mouseleave',new bo(_0x4f42b8,_0x3f1418,_0x3e3284,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x4f42b8,this['_hoveredEl'+'ement'],_0x3e3284,cr,hr,this['_lastX'],this['_lastY']))),_0x27382f==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x1bb981=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0xa3a23a=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x42375d=this['_clickedEn'+'tities'][_0x1bb981]||0xadc+-0x45*0x65+-0x47*-0x3b;_0xa3a23a=Date['now']()-_0x42375d>-0x3ce*-0x2+0x6c3+-0x1f*0x6d,delete this['_clickedEn'+'tities'][_0x1bb981];}_0xa3a23a&&this['_fireEvent']('click',new bo(_0x4f42b8,this['_hoveredEl'+'ement'],_0x3e3284,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x44c035=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x46a7ca=0x7c2+0xfaa*-0x2+0x1792;_0x46a7ca<_0x44c035['length'];_0x46a7ca++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x44c035[_0x46a7ca],null);}['_onXrInput'+'Remove'](_0x1b21a2){const _0x146104=this['_selectedE'+'lements'][_0x1b21a2['id']];_0x146104&&(_0x1b21a2['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x146104,null,_0x1b21a2))),delete this['_selectedE'+'lements'][_0x1b21a2['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x1b21a2['id']];}['_onSelectS'+'tart'](_0x757a7e,_0x745884){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x757a7e,_0x745884);}['_onSelectE'+'nd'](_0x28c555,_0x2da78d){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x28c555,_0x2da78d);}['_onElement'+'SelectEven'+'t'](_0x920817,_0x59954f,_0x1d3660){let _0x137a5e;const _0x1edbd1=this['_selectedE'+'lements'][_0x59954f['id']];let _0x1f7336;const _0x46e21f=this['app']['systems']['camera']['cameras'];let _0x31a671;if(_0x59954f['elementInp'+'ut']){ep['set'](_0x59954f['getOrigin'](),_0x59954f['getDirecti'+'on']());for(let _0x43e7c2=_0x46e21f['length']-(-0xa26+-0x1c76*-0x1+-0x124f);_0x43e7c2>=0xfcd+0x5f7*-0x3+-0x218*-0x1&&(_0x31a671=_0x46e21f[_0x43e7c2],_0x137a5e=this['_getTarget'+'ElementByR'+'ay'](ep,_0x31a671),!_0x137a5e);_0x43e7c2--);}_0x59954f['_elementEn'+'tity']=_0x137a5e||null,_0x137a5e?(this['_selectedE'+'lements'][_0x59954f['id']]=_0x137a5e,_0x1f7336=_0x137a5e):delete this['_selectedE'+'lements'][_0x59954f['id']],_0x1edbd1!==_0x1f7336&&(_0x1edbd1&&this['_fireEvent']('selectleav'+'e',new dr(_0x1d3660,_0x1edbd1,_0x31a671,_0x59954f)),_0x1f7336&&this['_fireEvent']('selectente'+'r',new dr(_0x1d3660,_0x1f7336,_0x31a671,_0x59954f)));const _0x32319e=this['_selectedP'+'ressedElem'+'ents'][_0x59954f['id']];_0x920817==='selectmove'&&_0x32319e&&this['_fireEvent']('selectmove',new dr(_0x1d3660,_0x32319e,_0x31a671,_0x59954f)),_0x920817==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x59954f['id']]=_0x1f7336,_0x1f7336&&this['_fireEvent']('selectstar'+'t',new dr(_0x1d3660,_0x1f7336,_0x31a671,_0x59954f))),!_0x59954f['elementInp'+'ut']&&_0x32319e&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x59954f['id']],_0x1edbd1&&this['_fireEvent']('selectend',new dr(_0x1d3660,_0x32319e,_0x31a671,_0x59954f))),_0x920817==='selectend'&&_0x59954f['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x59954f['id']],_0x32319e&&this['_fireEvent']('selectend',new dr(_0x1d3660,_0x32319e,_0x31a671,_0x59954f)),_0x32319e&&_0x32319e===_0x1edbd1&&this['_fireEvent']('click',new dr(_0x1d3660,_0x32319e,_0x31a671,_0x59954f)));}['_fireEvent'](_0x1f3dcb,_0xc309e5){let _0x48fbe2=_0xc309e5['element'];for(;_0x48fbe2['fire'](_0x1f3dcb,_0xc309e5),!(_0xc309e5['_stopPropa'+'gation']||!_0x48fbe2['entity']['parent']||(_0x48fbe2=_0x48fbe2['entity']['parent']['element'],!_0x48fbe2)););}['_calcMouse'+'Coords'](_0x33836f){const _0x44f648=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3f4b35=Math['floor'](_0x44f648['left']),_0x148ccf=Math['floor'](_0x44f648['top']);cr=_0x33836f['clientX']-_0x3f4b35,hr=_0x33836f['clientY']-_0x148ccf;}['_sortEleme'+'nts'](_0x223b2b,_0x1914be){const _0x5d618b=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x223b2b['layers'],_0x1914be['layers']);return _0x5d618b!==-0xd1f*-0x1+-0x5e*-0x9+-0x106d?_0x5d618b:_0x223b2b['screen']&&!_0x1914be['screen']?-(-0x6*-0x4b9+-0x2688+-0x1*-0xa33):!_0x223b2b['screen']&&_0x1914be['screen']?-0x5*-0x6b5+-0xa*0x3b9+-0x1*-0x3b2:!_0x223b2b['screen']&&!_0x1914be['screen']?0x3d*0x10+0x12cb+-0x169b:_0x223b2b['screen']['screen']['screenSpac'+'e']&&!_0x1914be['screen']['screen']['screenSpac'+'e']?-(-0x91*-0xb+-0x4e+-0x5ec):_0x1914be['screen']['screen']['screenSpac'+'e']&&!_0x223b2b['screen']['screen']['screenSpac'+'e']?0x131+0x135e+-0x148e:_0x1914be['drawOrder']-_0x223b2b['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x282310,_0x5a2f7a,_0x28f5f9){const _0x56f536=this['_calculate'+'RayScreen'](_0x5a2f7a,_0x28f5f9,_0x282310,Ri)?Ri:null,_0x3f3482=this['_calculate'+'Ray3d'](_0x5a2f7a,_0x28f5f9,_0x282310,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x282310,_0x56f536,_0x3f3482);}['_getTarget'+'ElementByR'+'ay'](_0x43f40b,_0x4ffa4a){Ri['origin']['copy'](_0x43f40b['origin']),Ri['direction']['copy'](_0x43f40b['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x4ffa4a['farClip']*(-0x2065+0x1114+-0x1*-0xf53))['add'](Ri['origin']);const _0x2a05f3=Ri,_0x5ad7d=_0x4ffa4a['worldToScr'+'een'](_0x2a05f3['origin'],Of),_0x1a1bf2=this['_calculate'+'RayScreen'](_0x5ad7d['x'],_0x5ad7d['y'],_0x4ffa4a,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x4ffa4a,_0x1a1bf2,_0x2a05f3);}['_getTarget'+'Element'](_0x2d60c8,_0x5f3b23,_0x723c6c){let _0x3a61a2=null,_0x42a4be=(0x1*-0x108c+-0xa65*-0x3+-0xea2)/(0x15f1+0xde7*0x1+-0x23d8);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x852d36=0x1d1c+0x15f*-0xe+-0x9ea,_0x37eae2=this['_elements']['length'];_0x852d36<_0x37eae2;_0x852d36++){const _0x27d0e0=this['_elements'][_0x852d36];if(_0x27d0e0['layers']['some'](_0x1d1209=>_0x2d60c8['layersSet']['has'](_0x1d1209))){if(_0x27d0e0['screen']&&_0x27d0e0['screen']['screen']['screenSpac'+'e']){if(!_0x5f3b23)continue;if(this['_checkElem'+'ent'](_0x5f3b23,_0x27d0e0,!(-0x1a9c+0x20c1+0x1*-0x625))>=-0x1fb5+-0x1ba*0xa+0x7*0x6ff){_0x3a61a2=_0x27d0e0;break;}}else{if(!_0x723c6c)continue;const _0xc7c097=this['_checkElem'+'ent'](_0x723c6c,_0x27d0e0,!(0x137*-0x2+0x1a*-0x15b+0x25ad*0x1));if(_0xc7c097>=0x58a*-0x1+0x1*0x2f6+-0xc*-0x37&&(_0xc7c097<_0x42a4be&&(_0x3a61a2=_0x27d0e0,_0x42a4be=_0xc7c097),_0x27d0e0['screen'])){_0x3a61a2=_0x27d0e0;break;}}}}return _0x3a61a2;}['_calculate'+'RayScreen'](_0x4659f3,_0x10965d,_0xb3e8f3,_0x41cb1e){const _0xdcbd8=this['app']['graphicsDe'+'vice']['width'],_0x49a22e=this['app']['graphicsDe'+'vice']['height'],_0x5d0561=_0xb3e8f3['rect']['z']*_0xdcbd8,_0xaecbdf=_0xb3e8f3['rect']['w']*_0x49a22e,_0x3504a6=_0xb3e8f3['rect']['x']*_0xdcbd8,_0x53a073=_0x3504a6+_0x5d0561,_0x1cb4cc=(-0x26bf+-0x300*0x4+0x32c0-_0xb3e8f3['rect']['y'])*_0x49a22e,_0x16796b=_0x1cb4cc-_0xaecbdf;let _0x15ed8d=_0x4659f3*_0xdcbd8/this['_target']['clientWidt'+'h'],_0x30236b=_0x10965d*_0x49a22e/this['_target']['clientHeig'+'ht'];return _0x15ed8d>=_0x3504a6&&_0x15ed8d<=_0x53a073&&_0x30236b<=_0x1cb4cc&&_0x30236b>=_0x16796b?(_0x15ed8d=_0xdcbd8*(_0x15ed8d-_0x3504a6)/_0x5d0561,_0x30236b=_0x49a22e*(_0x30236b-_0x16796b)/_0xaecbdf,_0x30236b=_0x49a22e-_0x30236b,_0x41cb1e['origin']['set'](_0x15ed8d,_0x30236b,0x1*0x1625+-0xef+0x1*-0x1535),_0x41cb1e['direction']['set'](-0x3*-0x856+0x22e5*0x1+-0x3be7,0x18cd+0x5*0x65+-0x1ac6,-(-0x32d*0x7+-0x637*0x3+0x28e1)),_0x41cb1e['end']['copy'](_0x41cb1e['direction'])['mulScalar'](-0x1*0xc55+-0x5e7+0x123e)['add'](_0x41cb1e['origin']),!(-0xbff+0x499*-0x1+0x48*0x3b)):!(0x18cc+0x23*0xb9+0x3216*-0x1);}['_calculate'+'Ray3d'](_0xda205b,_0x44b57b,_0x4bfe1b,_0x35179a){const _0x35ade9=this['_target']['clientWidt'+'h'],_0x443f7c=this['_target']['clientHeig'+'ht'],_0x422932=_0x4bfe1b['rect']['z']*_0x35ade9,_0x4ef434=_0x4bfe1b['rect']['w']*_0x443f7c,_0x2a908e=_0x4bfe1b['rect']['x']*_0x35ade9,_0x135981=_0x2a908e+_0x422932,_0x221469=(-0x384+0x1*-0x18b3+0x12d*0x18-_0x4bfe1b['rect']['y'])*_0x443f7c,_0x249217=_0x221469-_0x4ef434;let _0x2b376f=_0xda205b,_0x5ce122=_0x44b57b;return _0xda205b>=_0x2a908e&&_0xda205b<=_0x135981&&_0x44b57b<=_0x221469&&_0x5ce122>=_0x249217?(_0x2b376f=_0x35ade9*(_0x2b376f-_0x2a908e)/_0x422932,_0x5ce122=_0x443f7c*(_0x5ce122-_0x249217)/_0x4ef434,_0x4bfe1b['screenToWo'+'rld'](_0x2b376f,_0x5ce122,_0x4bfe1b['nearClip'],Of),_0x4bfe1b['screenToWo'+'rld'](_0x2b376f,_0x5ce122,_0x4bfe1b['farClip'],RS),_0x35179a['origin']['copy'](Of),_0x35179a['direction']['set'](-0x1*0x18bb+-0x1*0x10ba+0x2975,0x16*-0x3f+0xc23*-0x1+-0x118d*-0x1,-(0xe77+-0xd*0x2da+0x169c)),_0x35179a['end']['copy'](RS),!(0x2405*-0x1+0x1aee+0x917)):!(0x29c+-0xb9b+-0x120*-0x8);}['_checkElem'+'ent'](_0x2447f4,_0x2d0d70,_0x38ebc7){if(_0x2d0d70['maskedBy']&&this['_checkElem'+'ent'](_0x2447f4,_0x2d0d70['maskedBy']['element'],_0x38ebc7)<-0xe*0x1c0+-0x1893+0x3113)return-(0x3*0xb47+0xb2d+-0x1*0x2d01);let _0x12e93d;_0x38ebc7?_0x12e93d=Xo['calculateS'+'caleToScre'+'en'](_0x2d0d70):_0x12e93d=Xo['calculateS'+'caleToWorl'+'d'](_0x2d0d70);const _0x4b3cf3=Xo['buildHitCo'+'rners'](_0x2d0d70,_0x38ebc7?_0x2d0d70['screenCorn'+'ers']:_0x2d0d70['worldCorne'+'rs'],_0x12e93d);return xU(_0x2447f4['origin'],_0x2447f4['end'],_0x4b3cf3);}static['buildHitCo'+'rners'](_0xf5eecf,_0x5b5d55,_0x2302ed){let _0x11bb88=_0x5b5d55;if(_0xf5eecf['entity']&&_0xf5eecf['entity']['button']){const _0x59876a=_0xf5eecf['entity']['button']['hitPadding']||vU;wo['copy'](_0xf5eecf['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x18be*0x1+-0x1a08+-0x7*-0x741)),Eo['copy'](_0xf5eecf['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0x1e0c*0x1+0x3*0x3d1+0x129a*0x1)),wo['mulScalar'](_0x59876a['w']*_0x2302ed['y']),Vc['mulScalar'](_0x59876a['y']*_0x2302ed['y']),Eo['mulScalar'](_0x59876a['z']*_0x2302ed['x']),Gc['mulScalar'](_0x59876a['x']*_0x2302ed['x']),FS['copy'](_0x11bb88[0x25c4+0x1b*0x51+-0x2e4f])['add'](Vc)['add'](Gc),NS['copy'](_0x11bb88[-0x1a58+-0xbfb+-0xdf*-0x2c])['add'](Vc)['add'](Eo),kS['copy'](_0x11bb88[-0xa6a+0xb0b+-0x35*0x3])['add'](wo)['add'](Eo),US['copy'](_0x11bb88[0x1*-0x2515+0x23ad+0x16b])['add'](wo)['add'](Gc),_0x11bb88=[FS,NS,kS,US];}if(_0x2302ed['x']<-0xe9e+0x22*0x3f+0x640){const _0x17a51c=_0x11bb88[0xba*0x26+0x24c0+-0x405a]['x'],_0x4da5ac=_0x11bb88[0xe70+-0x21b*-0xd+-0x29cf]['x'];_0x11bb88[0x13*-0x161+0x6*0x3ba+-0x3d7*-0x1]['x']=_0x17a51c,_0x11bb88[-0x1846+0x2566+-0x1*0xd1f]['x']=_0x4da5ac,_0x11bb88[-0xdb*-0xe+0x5df+-0x11d7]['x']=_0x4da5ac,_0x11bb88[0x77c+-0x210e+0x1995]['x']=_0x17a51c;}if(_0x2302ed['y']<-0x9*0x2a6+-0x1bc9+0x339f){const _0x24b189=_0x11bb88[0x2649+0x1*0x14e1+-0x1*0x3b28]['y'],_0x5d1c85=_0x11bb88[-0x236*0x3+0x2*0x1361+-0x2020]['y'];_0x11bb88[0x2*-0x1084+0x1f*-0x4+0x2184]['y']=_0x24b189,_0x11bb88[0x2378+-0x121*0x2+-0x2135*0x1]['y']=_0x24b189,_0x11bb88[0x1*-0xb5d+0xdda+0x1*-0x27b]['y']=_0x5d1c85,_0x11bb88[-0x288+0x1d*0x3+0x4*0x8d]['y']=_0x5d1c85;}if(_0x2302ed['z']<0x153*0x13+-0x101b+-0x90e){const _0x3d04a3=_0x11bb88[-0x1555*-0x1+-0x202e*-0x1+-0x3581]['x'],_0x44d11d=_0x11bb88[0x1d*0xc4+-0x196f+0x1*0x33d]['y'],_0x26b481=_0x11bb88[-0x722+-0x4d*0x47+0x1c7f]['z'];_0x11bb88[0x1aa8+0x9fd*-0x3+-0x3*-0x11b]['x']=_0x11bb88[-0x73*0x53+0x148a+0x10bf]['x'],_0x11bb88[-0x2179+0x2394+-0x219]['y']=_0x11bb88[-0x1eed+0xb*-0xb+0x1f66]['y'],_0x11bb88[-0xb5*-0x15+0x6d7+-0x15ae]['z']=_0x11bb88[-0x26d1+-0x3*0x3cb+0x202*0x19]['z'],_0x11bb88[-0xb59+0x1*0xf17+-0x3be]['x']=_0x3d04a3,_0x11bb88[-0xba5+0xfb*0x3+0x8b4]['y']=_0x44d11d,_0x11bb88[-0xe9*-0x23+0x167a+-0x3655]['z']=_0x26b481;}return _0x11bb88;}static['calculateS'+'caleToScre'+'en'](_0x26f34e){let _0x4116ce=_0x26f34e['entity'];const _0x1d3bf0=_0x26f34e['screen']['screen']['scale'];for(tn['set'](_0x1d3bf0,_0x1d3bf0,_0x1d3bf0);_0x4116ce&&!_0x4116ce['screen'];)tn['mul'](_0x4116ce['getLocalSc'+'ale']()),_0x4116ce=_0x4116ce['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x29c7b0){let _0x161608=_0x29c7b0['entity'];for(tn['set'](-0x8f3*0x1+0x1d7*0xa+-0x972,0x3bd+0xcfe+-0x10ba,0x15*0x197+0x4a7+0x7*-0x56f);_0x161608;)tn['mul'](_0x161608['getLocalSc'+'ale']()),_0x161608=_0x161608['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x48ac7b,_0x3f2ec2){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x48ac7b,new _m(_0x3f2ec2));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0xf156e1){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x141827){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x141827?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x1d9be5){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x1d9be5?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x298*0xe+-0x119*-0x17+-0x398f;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0x766+-0xee*0xb+0x11a0);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0x65*0x17+-0x323+0xc36);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x260c+-0x419*0x1+-0x21f3);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x1f57+-0x22a0*0x1+0x1*0x349);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x80b+-0x5*0x87+0x557*0x2);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(-0x5fa*0x1+-0x47b+-0x1*-0xa75);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x1074+0xe*0x1a5+-0x2*0x349);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x1*-0x187f+0x4*-0x6cf+0x33bb);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0xd*-0x269+-0x1*0x2589+-0x44de*-0x1);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(0x1214+0x598*0x6+-0x33a4);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x2*-0x61+0x2628+-0x2566);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x5a71e8,_0x3943bc){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x353d7a=this['blendState'];ut['copy'](_0x353d7a),ut['setColorBl'+'end'](_0x353d7a['colorOp'],_0x5a71e8,_0x3943bc),ut['setAlphaBl'+'end'](_0x353d7a['alphaOp'],_0x5a71e8,_0x3943bc),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x316e6d,_0x22589a,_0x548ce2,_0x1be2dd){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0xaad6cb=this['blendState'];ut['copy'](_0xaad6cb),ut['setColorBl'+'end'](_0xaad6cb['colorOp'],_0x316e6d,_0x22589a),ut['setAlphaBl'+'end'](_0xaad6cb['alphaOp'],_0x548ce2,_0x1be2dd),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x3cf289){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x36c297=this['blendState'];ut['copy'](_0x36c297),ut['setColorBl'+'end'](_0x3cf289,_0x36c297['colorSrcFa'+'ctor'],_0x36c297['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x3cf289,_0x36c297['alphaSrcFa'+'ctor'],_0x36c297['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x559ca9,_0x8bd615){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x351980=this['blendState'];ut['copy'](_0x351980),ut['setColorBl'+'end'](_0x559ca9,_0x351980['colorSrcFa'+'ctor'],_0x351980['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x8bd615,_0x351980['alphaSrcFa'+'ctor'],_0x351980['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x5407b4,_0x39d556,_0x4648a9,_0x232d31){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x45e6c1=this['blendState'];ut['copy'](_0x45e6c1),ut['setColorWr'+'ite'](_0x5407b4,_0x39d556,_0x4648a9,_0x232d31),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x210dbe){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x210dbe,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x484fd8){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x484fd8,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x3c1299){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x3c1299,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x420427){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x420427,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x30282b,_0x2a563d){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x2a563d+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x2a563d);},'set'(_0x572b5b,_0x19f0a8,_0x2406aa){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x19f0a8+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x19f0a8,_0x2406aa),!(0x1*-0x44b+-0x180e+0x7b*0x3b);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x15f543){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x15f543;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x585850){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x585850;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x1c2814){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x1c2814;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x50d33f){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x50d33f;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x267e98){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x29ec7f){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x863da4){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x41ec6c,_0x27ca32)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x41ec6c,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x41ec6c+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x27ca32];},'set':function(_0x2cfdb8){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x41ec6c+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x27ca32]=_0x2cfdb8,this['updateShad'+'ers']=!(-0x2407+0x1817+0x2*0x5f8);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x5427fd,_0x17cab5,_0x374613=''){Object['defineProp'+'erty'](_0x5427fd['prototype'],_0x17cab5,{'set':function(_0x3cbde4){w['errorOnce'](_0x5427fd['name']+'#'+_0x17cab5+('\x20has\x20been\x20'+'removed.\x20')+_0x374613);},'get':function(){w['errorOnce'](_0x5427fd['name']+'#'+_0x17cab5+('\x20has\x20been\x20'+'removed.\x20')+_0x374613);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x342450){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x342450);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x21e618){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x21e618];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x5566cb){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x5566cb;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x70ad80){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x697b89){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x697b89;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x10d8+-0xabc*-0x1+0x680);},'set':function(_0x589b49){this['gloss']=_0x589b49*(0xd1c*0x2+0x5*-0x581+-0x6f*-0x3+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x26e164){this['useTonemap']=_0x26e164;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0xfc8f22=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x8*0x26f+-0xb93*0x1+0x1*-0x7e3)));return this['anisotropy'+'Intensity']*_0xfc8f22;},'set':function(_0x41559f){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x41559f),_0x41559f>=-0x1*0x2327+0xfad+0x137a?this['anisotropy'+'Rotation']=-0x2427+-0x7a9*-0x5+-0xa*0x37:this['anisotropy'+'Rotation']=0x16*-0x18e+0x1651+-0x1*-0xc3d;}});function Qs(_0xc1b21a,_0x29f5e8){Object['defineProp'+'erty'](Ut['prototype'],_0x29f5e8,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x29f5e8+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0xc1b21a+'\x20instead.'),this[_0xc1b21a];},'set':function(_0x26be27){w['deprecated']('pc.Standar'+'dMaterial#'+_0x29f5e8+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0xc1b21a+'\x20instead.'),this[_0xc1b21a]=_0x26be27;}});}function Id(_0x207321){Object['defineProp'+'erty'](Ut['prototype'],_0x207321,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x207321+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x207321+('\x20was\x20alway'+'s\x20true')),!(-0xed5+0x7f*0x4a+-0x74b*0x3);},'set':function(_0x34ff0f){w['deprecated']('pc.Standar'+'dMaterial#'+_0x207321+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x207321+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x561e21,_0x489f77){_0x561e21!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x561e21,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x561e21+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x489f77||_0x561e21)+'.'),this['litOptions'][_0x489f77||_0x561e21];},'set':function(_0x674596){w['deprecated']('Setting\x20pc'+'.Options#'+_0x561e21+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x489f77||_0x561e21)+'.'),this['litOptions'][_0x489f77||_0x561e21]=_0x674596;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x5d8c84){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x5d8c84);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x6*-0x33f+0x2*-0x332+-0xd14);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x776+0x22*-0x2c+-0x30*-0x47);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x5ad3f9,_0x3edbf3,_0x74f9b1){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x5ad3f9=_0x5ad3f9||this['graphicsDe'+'vice']['canvas'];const _0x2c528c=function(){_0x3edbf3(),document['removeEven'+'tListener']('fullscreen'+'change',_0x2c528c);},_0x443dd0=function(){_0x74f9b1(),document['removeEven'+'tListener']('fullscreen'+'error',_0x443dd0);};_0x3edbf3&&document['addEventLi'+'stener']('fullscreen'+'change',_0x2c528c,!(-0x1*0x2589+0xb*-0x2b1+0x4325)),_0x74f9b1&&document['addEventLi'+'stener']('fullscreen'+'error',_0x443dd0,!(-0x1*-0xd5a+-0x10b+-0xc4e)),_0x5ad3f9['requestFul'+'lscreen']?_0x5ad3f9['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x74f9b1();},Ks['prototype']['disableFul'+'lscreen']=function(_0x555a0d){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x3061d2=function(){_0x555a0d(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3061d2);};_0x555a0d&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3061d2,!(-0x23ba+0x115*-0x1+0x24d0)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x6ba73a){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x7519f8=this['scenes']['find'](_0x6ba73a);return _0x7519f8?_0x7519f8['url']:null;},Ks['prototype']['loadScene']=function(_0x549704,_0x2036b3){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x549704,_0x2036b3);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x16c810,_0x595ad3){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x16c810,_0x595ad3);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x15b992,_0x297890){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x15b992,_0x297890);},Tm['prototype']['setVisible']=function(_0x30e2d7){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x30e2d7;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x1b3b92){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x1b3b92;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===0x1*0x1943+-0x3ed+-0x2b*0x7f?this['gravity']['copy'](arguments[-0x220+-0xc69+0xe89]):this['gravity']['set'](arguments[0x452+-0x20fd+0x1cab],arguments[-0x34*-0xbf+0x39d+0x4*-0xa9a],arguments[0x1*-0x805+-0x1541*-0x1+0x69d*-0x2]);};class wU{constructor(_0x51bc7e){this['_frameInde'+'x']=-0x1e*-0x86+-0xa*-0x212+-0x2468,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x5d1+-0x210e+0x1b3e,this['enabled']=!(-0x1*-0x19e7+0x27*0x91+-0x2ffe),_0x51bc7e['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x51bc7e['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x51bc7e['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x348338){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x359cb9=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x359cb9,this['_frameInde'+'x']=0x1*0xd33+0x1552*-0x1+0x81f,this['mark'](_0x348338);}['mark'](_0x3e605e){if(!this['enabled'])return;const _0x20a566=de();if(this['_frameInde'+'x']>0x1624+0x1*0x1fd+-0x1821){const _0x4a2d15=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x2*-0x273+-0xa*-0x3a9+-0x1fb3)];_0x4a2d15[0x286*0xa+-0x2209+0x8ce]=_0x20a566-_0x4a2d15[0x2222+-0xdfc*0x2+0x629*-0x1];}else{if(this['_timings']['length']>0xec4+0x537+-0x13fb){const _0x2e3bf8=this['_timings'][this['_timings']['length']-(-0x1524+0x2172+-0x1*0xc4d)];_0x2e3bf8[-0x30*0x86+0x985*-0x3+0x35b0]=_0x20a566-_0x2e3bf8[0x1df2+-0x2169+0x128*0x3];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x3e605e,_0x20a566]);else{const _0x4565f3=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4565f3[-0x1e30+-0x1478+0x32a8]=_0x3e605e,_0x4565f3[0x1*0x10f+-0x76a+0x65c]=_0x20a566;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1230+-0xfd2+0x2202,-(0x21a3+-0x1019*-0x1+-0x31bb))['map'](_0x56f6ad=>_0x56f6ad[0x3ae*-0x3+0x11*0x131+0x2*-0x49b]);}}class EU{constructor(_0xffe4d5){this['device']=_0xffe4d5,_0xffe4d5['gpuProfile'+'r']['enabled']=!(0x175*-0x12+-0x1b*-0xd4+0x3de),this['enabled']=!(0x143*-0x5+-0x1f89+0x25d8),this['unitsName']='ms',this['decimalPla'+'ces']=-0xe*0x209+-0x7f6+-0x40d*-0x9,this['_timings']=[];}get['timings'](){return this['_timings'][0x1c59+-0x1*-0x1cf3+-0x394c]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x5c0ded,_0x30718e,_0x25245c,_0x2dfb32,_0x1176f7){this['app']=_0x5c0ded,this['values']=[],this['statNames']=_0x30718e,this['statNames']['length']>0x10e1*0x2+-0x2*0xbbf+-0xa41&&(this['statNames']['length']=-0x40d+-0x110*0x1c+0x8*0x43a),this['unitsName']=_0x2dfb32,this['decimalPla'+'ces']=_0x25245c,this['multiplier']=_0x1176f7||0x41a+-0x111+0x184*-0x2;const _0x1f2a1f=(_0x1e6029,_0x29848c)=>_0x1e6029['split']('.')['reduce']((_0x4c4ef5,_0x2877fa)=>_0x4c4ef5?_0x4c4ef5[_0x2877fa]:null,_0x29848c||this);_0x5c0ded['on']('frameupdat'+'e',_0xeaa66b=>{for(let _0x4160c7=-0x1b31+0x2605+0x12*-0x9a;_0x4160c7<this['statNames']['length'];_0x4160c7++)this['values'][_0x4160c7]=_0x1f2a1f(this['statNames'][_0x4160c7],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x30f6ec,_0x32688c,_0x6d0372,_0x15f575,_0x29036a){this['app']=_0x32688c,this['name']=_0x30f6ec,this['device']=_0x32688c['graphicsDe'+'vice'],this['timer']=_0x29036a,this['watermark']=_0x6d0372,this['enabled']=!(-0xb1a*0x1+0x1621+0x11*-0xa6),this['textRefres'+'hRate']=_0x15f575,this['avgTotal']=-0x251e+0x21a8+0x2*0x1bb,this['avgTimer']=0x17b*0x16+-0x14a4+-0xbee,this['avgCount']=0x2*-0x32b+-0x43*0x33+-0x1*-0x13af,this['timingText']='',this['texture']=null,this['yOffset']=-0x822+0x1283*0x1+-0xa61,this['cursor']=0x149*-0x3+-0x86b+-0x2*-0x623,this['sample']=new Uint8ClampedArray(0x1df5+0x6*-0x305+-0xbd3),this['sample']['set']([0xccf*0x2+-0x20ae+0x710,-0x13a+0x6*-0xf9+0x710,-0x953+-0x2*-0xd9+0x7a1,-0x2*-0x589+0x4*0x53b+-0x159*0x17]),this['counter']=-0x2f*0x97+-0xd52+-0x1*-0x290b,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x56ce30){const _0x561c16=this['timer']['timings'],_0x54d98d=_0x561c16['reduce']((_0x526a14,_0x3592eb)=>_0x526a14+_0x3592eb,-0x2*-0x1079+-0x1d*0x9d+0xf29*-0x1);if(this['avgTotal']+=_0x54d98d,this['avgTimer']+=_0x56ce30,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0xe*-0x2f+0x17b9*-0x1+0x1527,this['avgTotal']=-0xb06*-0x1+0x5*-0x505+-0x4b1*-0x3,this['avgCount']=0x15a3+-0x14c4+-0xdf*0x1),this['enabled']){let _0xcbc54a=0x4*0x6f1+0x2*-0xd1+-0x1a22;const _0x537e25=(-0x10be+-0x53*0x5+0x125e+0.5)*this['watermark'];for(let _0x4d706c=0x5d2+0x1be0+-0x21b2;_0x4d706c<_0x561c16['length'];++_0x4d706c)_0xcbc54a+=Math['floor'](_0x561c16[_0x4d706c]/_0x537e25*(0x730+0x23b3+0x1c*-0x17f)),this['sample'][_0x4d706c]=_0xcbc54a;this['sample'][-0x456+-0x2*-0x26b+-0x7d*0x1]=this['watermark']/_0x537e25*(0x17ac+-0x136d+-0x340),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x2319+0x4f*-0xa+0x1fff*-0x1)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x109*0x23+-0x499*-0x1+-0x28d4);}}['render'](_0x3547b1,_0x351f59,_0x2f3d70,_0x32ae25,_0x248aa8){_0x3547b1['quad'](_0x351f59+_0x32ae25,_0x2f3d70,-_0x32ae25,_0x248aa8,this['enabled']?this['cursor']:-0xc8+0x1205*-0x1+0x1*0x12cd,this['enabled']?0x2393+-0x1a*-0x8d+-0x35*0xf1+0.5+this['yOffset']:this['texture']['height']-(-0xd49+0x1cd0+-0xf86),-_0x32ae25,0x10dc+-0x9fc+0x16*-0x50,this['texture'],0x252b+0xf9e+-0x34c9);}}class AU{constructor(_0x223b3e,_0x4e66e1){const _0x57b7fd=_0x106bb2=>{_0x106bb2['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x106bb2['textAlign']='left',_0x106bb2['textBaseli'+'ne']='alphabetic';},_0x13d749=_0x24b837=>_0x24b837==='.'||_0x24b837['length']===-0x4b*0x43+0x921+0xa81*0x1&&_0x24b837['charCodeAt'](0x1*0x1988+0x1*-0x25e6+0x1*0xc5e)>=-0x16d9+0x5*-0x587+-0x1956*-0x2&&_0x24b837['charCodeAt'](-0xb2f+0x5*-0x89+0xddc)<=-0x2426+0x6ee*-0x5+0x4705,_0x132168=document['createElem'+'ent']('canvas'),_0x51b608=_0x132168['getContext']('2d',{'alpha':!(-0x204*-0x1+-0x13de+0x11da)});_0x57b7fd(_0x51b608);const _0x45f02d=new Map(),_0x271436=0x2019+0xa9c+-0x2ab0,_0x824fb9=0x12be+-0x2370+0x12b2;let _0x143bd9=_0x271436,_0x344157=_0x271436;_0x4e66e1['forEach'](_0x284fa0=>{const _0x499212=_0x51b608['measureTex'+'t'](_0x284fa0),_0x4ad613=Math['ceil'](-_0x499212['actualBoun'+'dingBoxLef'+'t']),_0x2636c7=Math['ceil'](_0x499212['actualBoun'+'dingBoxRig'+'ht']),_0x266f71=Math['ceil'](_0x499212['actualBoun'+'dingBoxAsc'+'ent']),_0x4a8e43=Math['ceil'](_0x499212['actualBoun'+'dingBoxDes'+'cent']),_0x2fa2ab=_0x4ad613+_0x2636c7,_0x41e47c=_0x266f71+_0x4a8e43;_0x143bd9+_0x2fa2ab+_0x271436>=_0x824fb9&&(_0x143bd9=_0x271436,_0x344157+=-0xb*-0xd9+0x135*-0x2+0x1*-0x6d9),_0x45f02d['set'](_0x284fa0,{'l':_0x4ad613,'r':_0x2636c7,'a':_0x266f71,'d':_0x4a8e43,'w':_0x2fa2ab,'h':_0x41e47c,'x':_0x143bd9,'y':_0x344157}),_0x143bd9+=_0x2fa2ab+_0x271436;}),_0x132168['width']=0x22c1+-0x256e+-0x15*-0x39,_0x132168['height']=Y['nextPowerO'+'fTwo'](_0x344157+(0x12*0xe+0x40f*0x6+-0x1946)+_0x271436),_0x57b7fd(_0x51b608),_0x51b608['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x51b608['fillRect'](-0xeb8+0x1*-0x1bd1+0x2a89,0x67*-0x2+-0x14de+0x124*0x13,_0x132168['width'],_0x132168['height']),_0x45f02d['forEach']((_0x1e961e,_0x25c670)=>{_0x51b608['fillStyle']=_0x13d749(_0x25c670)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x51b608['fillText'](_0x25c670,_0x1e961e['x']-_0x1e961e['l'],_0x1e961e['y']+_0x1e961e['a']);}),this['placements']=_0x45f02d;const _0x1cf592=_0x51b608['getImageDa'+'ta'](-0x24a5+-0x15ad+0x3a52,-0x9d*-0x3b+-0x47*0x1f+-0x141*0x16,_0x132168['width'],_0x132168['height'])['data'];for(let _0x4f172e=-0x592+0x8b4*0x2+0xca*-0xf;_0x4f172e<_0x1cf592['length'];_0x4f172e+=0x2325*0x1+0x237f+-0x46a0)_0x1cf592[_0x4f172e+(0x14d2+-0x17fe+0x32f)]=_0x1cf592[_0x4f172e+(-0xb1e+0x137a+0x1ac*-0x5)],_0x1cf592[_0x4f172e+(-0x1387+-0x268c+0x3a13)]=-0x9f3+-0xcb3+-0x1*-0x17a5,_0x1cf592[_0x4f172e+(0x1813+-0x11*-0xba+-0x246c)]=0x1d96+0x659+0x56*-0x68,_0x1cf592[_0x4f172e+(-0x21c2+-0x17*0x4+0x2220)]=0x22f1+-0xfb7+0x1*-0x123b;this['texture']=new _e(_0x223b3e,{'name':'mini-stats'+'-word-atla'+'s','width':_0x132168['width'],'height':_0x132168['height'],'mipmaps':!(0x8cf+0x10d2+-0x10*0x19a),'minFilter':Te,'magFilter':Te,'levels':[_0x1cf592]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x1fc579,_0xe36a34,_0x23ad6f,_0xbb6cd9){const _0x5a7279=this['placements']['get'](_0xe36a34);return _0x5a7279?(_0x1fc579['quad'](_0x23ad6f+_0x5a7279['l']-(0x1be*0x10+0x20b8+0x1*-0x3c97),_0xbb6cd9-_0x5a7279['d']+(0xe76+-0x22*-0x4f+-0x18f3),_0x5a7279['w']+(-0x1*-0x2239+0xcb*-0x3+-0xa3*0x32),_0x5a7279['h']+(-0x61*0x5b+-0x194e*0x1+-0x1*-0x3bcb),_0x5a7279['x']-(0x2*-0xe93+-0x2*-0x6dc+0x9*0x1b7),this['texture']['height']-_0x5a7279['y']-_0x5a7279['h']-(0xa95+-0x247f+0x19eb),void(-0x930*-0x4+0x2209+0x46c9*-0x1),void(-0x17ac+-0x7*0x1+0x17b3),this['texture'],0x1c55*0x1+-0x83c+-0x506*0x4),_0x5a7279['w']):0x19c6*0x1+0x5db*-0x3+-0x835;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x454fd0,_0x1a7424=-0x2*-0x136c+-0xeef+0x1*-0x15e9){const _0x1b861a=new kt(_0x454fd0,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x5c713a=new Uint16Array(_0x1a7424*(0x2a4*-0xc+0x40c*-0x7+0x122*0x35));for(let _0x4fed13=0x1a*0x2+-0x2311+0xaf*0x33;_0x4fed13<_0x1a7424;++_0x4fed13)_0x5c713a[_0x4fed13*(-0x910+0x10a3+-0x1*0x78d)+(-0x1*-0x1f53+-0x14a4+-0xaaf)]=_0x4fed13*(-0x1*-0xb2b+0x89*0x11+-0x1440),_0x5c713a[_0x4fed13*(-0x1a0a+0x187e+0x192)+(0x1cf6*-0x1+0x1db5+-0xbe)]=_0x4fed13*(0x51e+-0x5fd+0xe3)+(-0x130*0xc+0x1679+-0x838),_0x5c713a[_0x4fed13*(-0x5*0x353+0x1*-0x11a7+0x224c)+(-0x7fc+0x26ea+-0x1eec)]=_0x4fed13*(0x632*0x1+0x1d5a+0x8e2*-0x4)+(-0x4*0x290+-0x18ad+-0x21*-0x10f),_0x5c713a[_0x4fed13*(0x220*0x5+0x1641+-0x20db*0x1)+(0xf4+0x1*-0x1529+0x2*0xa1c)]=_0x4fed13*(0xe50+0x16cf*-0x1+-0x1*-0x883),_0x5c713a[_0x4fed13*(0x705*0x5+0x21dd+-0x10*0x44f)+(-0x3*0x404+0x1b82+-0xf72)]=_0x4fed13*(-0x1*0x1d6d+0x718*0x4+-0x111*-0x1)+(-0x48c+-0xae6+-0xac*-0x17),_0x5c713a[_0x4fed13*(0xd5d*-0x2+-0x2589+0x4049)+(0x188a+0x13c9+-0x2c4e)]=_0x4fed13*(-0x1*0x1c39+0x97b*0x1+-0xe*-0x157)+(0x89*0x35+0x19fe+-0x3658);this['device']=_0x454fd0,this['buffer']=new Is(_0x454fd0,_0x1b861a,_0x1a7424*(0x433*-0x7+-0x1*-0xce5+0x1084),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x1c9*0x15+0x13e5+0x119c)),this['indexBuffe'+'r']=new br(_0x454fd0,Yi,_0x1a7424*(0x92b+-0xf8*-0x16+-0x1e75),ms,_0x5c713a),this['prim']={'type':js,'indexed':!(0x10c1*0x2+0x1*0x1e23+0x3fa5*-0x1),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x47*-0x39+-0xab2+0x4d*-0x11,this['mesh']=new Ge(_0x454fd0),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x2bd+0x129c*0x2+-0x2a7*0xd]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x4ec5ba=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x4ec5ba,_0x4ec5ba['cull']=bt,_0x4ec5ba['depthState']=Yt['NODEPTH'],_0x4ec5ba['blendState']=new pt(!(-0x964+0x3c+0x928),fs,jh,Yh,fs,Ft,Ft),_0x4ec5ba['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x4ec5ba,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x2053+0x190f+-0x395e)},this['targetSize']={'width':_0x454fd0['width'],'height':_0x454fd0['height']};}['quad'](_0x3fc254,_0x1e09c5,_0x31fde8,_0x428bd4,_0x101f92,_0x427f7d,_0x573c93,_0x52ed1b,_0x16df6c,_0x48c88b=0x232+0xa7*-0x5+0x111){const _0x35b242=this['targetSize']['width'],_0x29cd16=this['targetSize']['height'],_0x117098=_0x3fc254/_0x35b242,_0x57992c=_0x1e09c5/_0x29cd16,_0x39b438=(_0x3fc254+_0x31fde8)/_0x35b242,_0x36aed9=(_0x1e09c5+_0x428bd4)/_0x29cd16,_0x3533e3=_0x16df6c['width'],_0x2e773c=_0x16df6c['height'],_0x29e140=_0x101f92/_0x3533e3,_0x4deb94=_0x427f7d/_0x2e773c,_0x5c33db=(_0x101f92+(_0x573c93??_0x31fde8))/_0x3533e3,_0xad643=(_0x427f7d+(_0x52ed1b??_0x428bd4))/_0x2e773c;this['data']['set']([_0x117098,_0x57992c,_0x48c88b,_0x29e140,_0x4deb94,0x3*0x1f5+-0xb5a+0x57b,-0x21f*-0x11+-0x1ea4+-0x56b,_0x39b438,_0x57992c,_0x48c88b,_0x5c33db,_0x4deb94,0xd92+-0x3b+-0xd56,-0xba3*-0x1+0x1ec5+-0x2a68,_0x39b438,_0x36aed9,_0x48c88b,_0x5c33db,_0xad643,0x14*-0x197+0x191c+0x6b1,0xffd+-0x1f6a*-0x1+-0x2f66*0x1,_0x117098,_0x36aed9,_0x48c88b,_0x29e140,_0xad643,-0x2f*0x81+0x13*0x10+0x167f,-0x1132+-0x3b9*0x7+-0x71*-0x62],(0x121c+-0x1*0xa3f+-0x7c1)*this['quads']),this['quads']++,this['prim']['count']+=-0x37*-0x88+0x3ba+-0x20ec;}['startFrame'](){this['quads']=-0x1*0xf5b+0x8*0x293+-0x53d,this['prim']['count']=-0x546+0x9*-0x2a1+-0x1*-0x1cef,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x26d620,_0x35702e,_0x23b4e2,_0x1c5365,_0x288f1f,_0x17505f){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x288f1f,-0xd3f+-0xd*-0x7f+0x6cc),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x23b4e2),this['material']['setParamet'+'er']('wordsTex',_0x1c5365),_0x26d620['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x35702e);}}class N0{constructor(_0x34b343,_0x7d1a7e){const _0xd476b5=_0x34b343['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0xd476b5['height']/_0xd476b5['maxPixelRa'+'tio'],_0x7d1a7e={...N0['getDefault'+'Options'](),..._0x7d1a7e},this['options']=_0x7d1a7e,this['initGraphs'](_0x34b343,_0xd476b5,_0x7d1a7e);const _0x3e6a27=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x1144b3=>_0x1144b3['name']))['concat'](_0x7d1a7e['stats']?_0x7d1a7e['stats']['map'](_0x3f0092=>_0x3f0092['unitsName']):[])['filter'](_0x5e52e4=>!!_0x5e52e4));this['wordAtlas']=new AU(_0xd476b5,_0x3e6a27),this['sizes']=_0x7d1a7e['sizes'],this['_activeSiz'+'eIndex']=_0x7d1a7e['startSizeI'+'ndex'];const _0x1a7be1=document['createElem'+'ent']('div');_0x1a7be1['setAttribu'+'te']('id','mini-stats'),_0x7d1a7e['position']==='top'?_0x1a7be1['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x1a7be1['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x1a7be1['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x1a7be1),_0x1a7be1['addEventLi'+'stener']('mouseenter',_0xc056e2=>{this['opacity']=0x2446+0xa23*0x2+-0x388b;}),_0x1a7be1['addEventLi'+'stener']('mouseleave',_0x167ed3=>{this['opacity']=0x13d*-0x1a+0x77f*-0x1+0x469*0x9+0.7;}),_0x1a7be1['addEventLi'+'stener']('click',_0x118c97=>{_0x118c97['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x1e71+-0xa9*-0x1b+0x167*0x9))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0xd476b5['on']('resizecanv'+'as',this['updateDiv'],this),_0xd476b5['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x34b343['on']('postrender',this['postRender'],this),this['app']=_0x34b343,this['drawLayer']=_0x34b343['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0xd476b5,this['render2d']=new IU(_0xd476b5),this['div']=_0x1a7be1,this['width']=-0x1c*0xe6+-0x62*-0x2+0x1864,this['height']=-0x10f*-0x1+0x9c8+-0xad7,this['gspacing']=-0x52*0x75+0x22a+0x2352,this['clr']=[0x7*0x194+0x19f2+-0x24fd,0x23*0xb+0xa*0xb2+0x4*-0x21d,-0x1*0x59+0xea5+-0xe4b,-0x236b+0x851+0x1b1a+0.5],this['_enabled']=!(-0x1ec+0x88*0x11+0x23*-0x34),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x38d8cd=>_0x38d8cd['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x47*0x6a+0x361*0x1+0x1a06)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x232c+0x595*-0x1+-0x1*-0x28c1)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x2280+-0x1650+0x38d0)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x16e8+0x3*-0x460+0x8*0x481),'watermark':0x21},'gpu':{'enabled':!(0x2072+0x1*0x1957+-0x39c9),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x475893){this['_activeSiz'+'eIndex']=_0x475893,this['gspacing']=this['sizes'][_0x475893]['spacing'],this['resize'](this['sizes'][_0x475893]['width'],this['sizes'][_0x475893]['height'],this['sizes'][_0x475893]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x14d78a){this['clr'][0x26b4*-0x1+-0x1*0x173+-0x6a*-0x61]=_0x14d78a;}get['opacity'](){return this['clr'][-0xa89+-0x17ec*-0x1+-0x2*0x6b0];}get['overallHei'+'ght'](){const _0x336488=this['graphs'],_0x4b7399=this['gspacing'];return this['height']*_0x336488['length']+_0x4b7399*(_0x336488['length']-(0x9*0x1d4+-0x83e*-0x1+0x387*-0x7));}set['enabled'](_0x889eb6){if(_0x889eb6!==this['_enabled']){this['_enabled']=_0x889eb6;for(let _0x2fb973=-0x9*0xb3+-0x26dd+0x2d28;_0x2fb973<this['graphs']['length'];++_0x2fb973)this['graphs'][_0x2fb973]['enabled']=_0x889eb6,this['graphs'][_0x2fb973]['timer']['enabled']=_0x889eb6;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x47e922,_0x492d51,_0xfb33b9){if(this['graphs']=[],_0xfb33b9['cpu']['enabled']){const _0x551b36=new wU(_0x47e922),_0x3e5736=new Uf('CPU',_0x47e922,_0xfb33b9['cpu']['watermark'],_0xfb33b9['textRefres'+'hRate'],_0x551b36);this['graphs']['push'](_0x3e5736);}if(_0xfb33b9['gpu']['enabled']){const _0x489d16=new EU(_0x492d51),_0x1c09ff=new Uf('GPU',_0x47e922,_0xfb33b9['gpu']['watermark'],_0xfb33b9['textRefres'+'hRate'],_0x489d16);this['graphs']['push'](_0x1c09ff);}_0xfb33b9['stats']&&_0xfb33b9['stats']['forEach'](_0x3863da=>{const _0x464480=new bU(_0x47e922,_0x3863da['stats'],_0x3863da['decimalPla'+'ces'],_0x3863da['unitsName'],_0x3863da['multiplier']),_0x5f839=new Uf(_0x3863da['name'],_0x47e922,_0x3863da['watermark'],_0xfb33b9['textRefres'+'hRate'],_0x464480);this['graphs']['push'](_0x5f839);});const _0x54165f=_0xfb33b9['sizes']['reduce']((_0x1adb12,_0x410eb1)=>_0x410eb1['width']>_0x1adb12?_0x410eb1['width']:_0x1adb12,0x1*-0x8a5+0x53f*0x1+0x366);this['texture']=new _e(_0x492d51,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x54165f),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x217+0xbe7+0x1*-0xdfd),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x49caae,_0x1bf725)=>{_0x49caae['texture']=this['texture'],_0x49caae['yOffset']=_0x1bf725;});}['render'](){const _0x2c9a27=this['graphs'],_0x58848b=this['wordAtlas'],_0x351036=this['render2d'],_0x567b0d=this['width'],_0x353d76=this['height'],_0x422fe2=this['gspacing'];_0x351036['startFrame']();for(let _0x400d33=-0x934+0x2*-0x3ab+0x3a*0x49;_0x400d33<_0x2c9a27['length'];++_0x400d33){const _0x3a7fbc=_0x2c9a27[_0x400d33];let _0x2440b2=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x400d33+(0xf89+0xea+-0x1072))*(_0x353d76+_0x422fe2):_0x400d33*(_0x353d76+_0x422fe2);_0x3a7fbc['render'](_0x351036,0xf3d*0x1+-0x243e+-0x13*-0x11b,_0x2440b2,_0x567b0d,_0x353d76);let _0xe779d0=0x1024+0x132c+-0x234f;_0x2440b2+=_0x353d76-(-0xf25*-0x2+-0xcd*-0xf+0x4*-0xa90),_0xe779d0+=_0x58848b['render'](_0x351036,_0x3a7fbc['name'],_0xe779d0,_0x2440b2)+(-0x2434+-0x1*0x1cdf+0x411d);const _0x3b449c=_0x3a7fbc['timingText'];for(let _0x5018cb=0x2285+-0x5*0x2ae+0x1*-0x151f;_0x5018cb<_0x3b449c['length'];++_0x5018cb)_0xe779d0+=_0x58848b['render'](_0x351036,_0x3b449c[_0x5018cb],_0xe779d0,_0x2440b2);_0x3a7fbc['timer']['unitsName']&&(_0xe779d0+=0x1*0xafa+-0x1*-0x557+0x827*-0x2,_0x58848b['render'](_0x351036,_0x3a7fbc['timer']['unitsName'],_0xe779d0,_0x2440b2));}_0x351036['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x353d76);}['resize'](_0x5b8501,_0x311fdb,_0x15aea0){const _0x38e7c6=this['graphs'];for(let _0xf18254=-0x31b+0x1632+0x21f*-0x9;_0xf18254<_0x38e7c6['length'];++_0xf18254)_0x38e7c6[_0xf18254]['enabled']=_0x15aea0;this['width']=_0x5b8501,this['height']=_0x311fdb,this['updateDiv']();}['updateDiv'](){const _0x2b29cd=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x2b29cd['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x2b29cd['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x77f017=>_0x77f017['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x4c24b3,_0x1134a0,_0xb82fe9)=>{_0x4c24b3['on'](_0x1134a0,_0xb82fe9),this['eventsList']=this['eventsList']['concat']({'e':_0x4c24b3,'ty':_0x1134a0,'fn':_0xb82fe9});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x2cdbd1,ty:_0x4aa86a,fn:_0x34c0cb})=>{_0x2cdbd1['off'](_0x4aa86a,_0x34c0cb);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x4d1415=>{var _0x43c60a;if(console['log']('add\x20xr\x20inp'+'ut',_0x4d1415['handedness']),!((_0x43c60a=_0x4d1415['profiles'])!=null&&_0x43c60a['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x751d50=_0x4d1415['profiles']['map'](async _0x401c1d=>{var _0x20b095;const _0x1b7984=this['basePath']+'/'+_0x401c1d+('/profile.j'+'son');try{const _0x330a60=await fetch(_0x1b7984);if(!_0x330a60['ok'])return null;const _0xc9a1cd=await _0x330a60['json'](),_0x3548fe=((_0x20b095=_0xc9a1cd['layouts'][_0x4d1415['handedness']])==null?void(-0xac5+0x244*-0xc+0x4f*0x7b):_0x20b095['assetPath'])||'',_0x224a6e=this['basePath']+'/'+_0xc9a1cd['profileId']+'/'+_0x4d1415['handedness']+_0x3548fe['replace'](/^\/?(left|right)/,''),_0x4293bf=await new Promise((_0x42239c,_0x1ebe4c)=>{this['app']['assets']['loadFromUr'+'l'](_0x224a6e,'container',(_0x5f3737,_0x481e9c)=>{_0x5f3737?_0x1ebe4c(_0x5f3737):_0x42239c(_0x481e9c);});});return{'profileId':_0x401c1d,'asset':_0x4293bf};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x401c1d),null;}}),_0x22c4a2=(await Promise['all'](_0x751d50))['find'](_0x367862=>_0x367862!==null);if(_0x22c4a2){const {asset:_0x1e79c9}=_0x22c4a2,_0x21e299=_0x1e79c9['resource']['instantiat'+'eRenderEnt'+'ity']();_0x21e299['name']='Armature_'+_0x4d1415['handedness'],this['app']['root']['addChild'](_0x21e299),this['preEntitie'+'s']['set'](_0x4d1415,_0x21e299);const _0xf43201=new Map();if(_0x4d1415['hand'])for(const _0x210a5e of _0x4d1415['hand']['joints']){const _0x544fa6=_0x21e299['findByName'](_0x210a5e['id']);_0x544fa6&&_0xf43201['set'](_0x210a5e,_0x544fa6);}this['controller'+'s']['set'](_0x4d1415,{'entity':_0x21e299,'jointMap':_0xf43201});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2bb2a4=>{var _0x546b2f;const _0x737dbf=this['controller'+'s']['get'](_0x2bb2a4);_0x737dbf&&((_0x546b2f=_0x737dbf['entity'])==null||_0x546b2f['destroy'](),this['app']['root']['removeChil'+'d'](_0x737dbf==null?void(0x2*-0x1369+-0x11a9+0x387b):_0x737dbf['entity']),this['controller'+'s']['delete'](_0x2bb2a4));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x13511e,_0x441e4e,_0x3022ea;const _0x490e51=this['app'];(_0x13511e=this['controller'+'s'])==null||_0x13511e['forEach'](_0x4008dd=>{var _0x2f070b;_0x490e51['root']['removeChil'+'d'](_0x4008dd==null?void(-0x246b*0x1+-0x771+0x2bdc):_0x4008dd['entity']),(_0x2f070b=_0x4008dd['entity'])==null||_0x2f070b['destroy']();}),(_0x441e4e=this['controller'+'s'])==null||_0x441e4e['clear'](),(_0x3022ea=this['preEntitie'+'s'])==null||_0x3022ea['forEach'](_0x4cf48d=>{_0x490e51['root']['removeChil'+'d'](_0x4cf48d),_0x4cf48d==null||_0x4cf48d['destroy']();});const _0x28e182=()=>{const _0x1574e9=_0x490e51['root']['findByName']('Armature_l'+'eft'),_0x53136e=_0x490e51['root']['findByName']('Armature_r'+'ight');for(_0x1574e9&&_0x490e51['root']['removeChil'+'d'](_0x1574e9),_0x53136e&&_0x490e51['root']['removeChil'+'d'](_0x53136e);_0x490e51['root']['findByName']('Armature_l'+'eft')||_0x490e51['root']['findByName']('Armature_r'+'ight');)_0x28e182();};_0x28e182();});}['update'](_0x28b930){var _0x2d3c10;if((_0x2d3c10=this['app']['xr'])!=null&&_0x2d3c10['active']){for(const [_0x584c1e,{entity:_0x527e04,jointMap:_0x2585b4}]of this['controller'+'s'])if(_0x584c1e['hand']){for(const [_0xc75e05,_0x136e58]of _0x2585b4)_0x136e58['setPositio'+'n'](_0xc75e05['getPositio'+'n']()),_0x136e58['setRotatio'+'n'](_0xc75e05['getRotatio'+'n']());}else _0x527e04['setPositio'+'n'](_0x584c1e['getPositio'+'n']()),_0x527e04['setRotatio'+'n'](_0x584c1e['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x6a5+-0xfe5+0x67*0x17)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x1dc*0x5+0x11*-0x6d+0x1f*-0x11,-0xc12+0x1cf9+-0x10e6,-0x62d*-0x3+-0x355*0x1+-0xf32*0x1)),h(this,'invalidCol'+'or',new ie(-0x1c13*-0x1+0x10c9+-0x1*0x2cdb,-0x5bc+-0x411*-0x1+0x1ab,-0x2*0x8b+0x246d+-0x1*0x2357)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0xf7*-0x13+-0x1db1+0xb5d*0x1)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x16aa+0x12d1+-0x297a));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x359d1a=>{const _0x47d1fc=()=>{this['activePoin'+'ters']['set'](_0x359d1a,!(-0x235*0x5+0xb*-0xbf+0x133e));},_0x2a9dab=()=>{this['activePoin'+'ters']['set'](_0x359d1a,!(0xa8e*0x1+-0xf4c*0x1+-0xf3*-0x5)),this['tryTelepor'+'t'](_0x359d1a);};_0x359d1a['on']('selectstar'+'t',_0x47d1fc),_0x359d1a['on']('selectend',_0x2a9dab),this['inputHandl'+'ers']['set'](_0x359d1a,{'handleSelectStart':_0x47d1fc,'handleSelectEnd':_0x2a9dab}),this['inputSourc'+'es']['add'](_0x359d1a);}),this['app']['xr']['input']['on']('remove',_0x299e65=>{const _0x50b2f8=this['inputHandl'+'ers']['get'](_0x299e65);_0x50b2f8&&(_0x299e65['off']('selectstar'+'t',_0x50b2f8['handleSele'+'ctStart']),_0x299e65['off']('selectend',_0x50b2f8['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x299e65)),this['activePoin'+'ters']['delete'](_0x299e65),this['inputSourc'+'es']['delete'](_0x299e65);});}['findPlaneI'+'ntersectio'+'n'](_0x3da111,_0x920d2d){if(Math['abs'](_0x920d2d['y'])<-0x3*-0x53c+0x5da+-0x158e+0.00001)return null;const _0x3a7975=-_0x3da111['y']/_0x920d2d['y'];return _0x3a7975<0x2b3*0xb+-0xb*-0x306+-0x3ef3?null:new D(_0x3da111['x']+_0x920d2d['x']*_0x3a7975,0x121a*0x1+0x9*-0x11c+-0x81e,_0x3da111['z']+_0x920d2d['z']*_0x3a7975);}['tryTelepor'+'t'](_0x3f0f33){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x1dc40d=_0x3f0f33['getOrigin'](),_0x15ff62=_0x3f0f33['getDirecti'+'on'](),_0x29219a=this['findPlaneI'+'ntersectio'+'n'](_0x1dc40d,_0x15ff62);if(_0x29219a){const _0x25a02b=this['entity']['getPositio'+'n']()['y'];_0x29219a['y']=_0x25a02b,this['entity']['setPositio'+'n'](_0x29219a);}}}['update'](){for(const _0x1b65d5 of this['inputSourc'+'es']){const _0x57ad79=_0x1b65d5['getOrigin'](),_0x1f3d91=_0x1b65d5['getDirecti'+'on']();if(_0x1b65d5['gamepad']&&!_0x1b65d5['hand']){const _0x50ddd4=_0x1b65d5['gamepad'];for(let _0x24e893=-0x9*-0xb8+0x1*-0x170b+0x1093;_0x24e893<_0x50ddd4['buttons']['length'];++_0x24e893)_0x50ddd4['buttons'][_0x24e893]['pressed']&&console['log'](_0x24e893,_0x1b65d5['handedness']),_0x1b65d5['handedness']==='right'&&_0x24e893===0x6a1*0x2+0x5d+-0xd9e&&(this['teleportOp'+'enStatus']=_0x50ddd4['buttons'][0xea5+0x50e+-0x1*0x13b2]['pressed']),_0x1b65d5['handedness']==='left'&&_0x24e893===-0xf82+0x138c+0x1*-0x409&&(this['teleportLe'+'ftOpenStat'+'us']=_0x50ddd4['buttons'][-0x59*0xf+0x1420+-0x1a8*0x9]['pressed']);}const _0x12f232=_0x1b65d5['handedness'];if(!this['enableDraw'+'Ray']&&(_0x12f232==='right'&&!this['teleportOp'+'enStatus']||_0x12f232==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x33b1f=this['findPlaneI'+'ntersectio'+'n'](_0x57ad79,_0x1f3d91);if(this['enableDraw'+'Ray']||!_0x33b1f){const _0x2f3865=_0x57ad79['clone']()['add'](_0x1f3d91['clone']()['mulScalar'](0x153a+-0xc9*0x27+0x1*0x9c9)),_0x58ecde=this['enableDraw'+'Ray']?_0x1b65d5['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x57ad79,_0x2f3865,_0x58ecde);}else this['app']['drawLine'](_0x57ad79,_0x33b1f,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x33b1f);}}['drawTelepo'+'rtIndicato'+'r'](_0x3fdaef){for(let _0x113136=-0x1d57+0x1385+-0x6*-0x1a3;_0x113136<-0x2*0xe21+0x23af+0x3*-0x26f;_0x113136++){const _0x59115b=_0x113136/(0x2616+-0x11db+-0x141b*0x1)*Math['PI']*(0x223e+0x4a4+-0x20*0x137),_0x37ce42=(_0x113136+(-0x509+-0x34*-0x6d+-0x111a))/(0x964+-0x1b3f+0x1*0x11fb)*Math['PI']*(-0x204+-0x194c+-0x21a*-0xd),_0x2d8b3c=_0x3fdaef['x']+Math['cos'](_0x59115b)*(0x24c1+-0x4*-0x512+0x5d*-0x9d+0.2),_0x15c3ce=_0x3fdaef['z']+Math['sin'](_0x59115b)*(-0x1f36+0x2156+-0x220+0.2),_0x33e6b2=_0x3fdaef['x']+Math['cos'](_0x37ce42)*(-0x5*0x48d+-0x532+0x1bf3+0.2),_0x178583=_0x3fdaef['z']+Math['sin'](_0x37ce42)*(-0xcd4+0x1a12+-0xd3e+0.2);this['app']['drawLine'](new D(_0x2d8b3c,0xff+-0x7*-0x505+0x2422*-0x1+0.01,_0x15c3ce),new D(_0x33e6b2,0x1fe7+0x21f*-0x1+-0x1dc8+0.01,_0x178583),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x3290de(_0x5e890c){function _0x53a5d3(_0xecc05){if(typeof _0xecc05==='string')return function(_0x3514e0){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xecc05/_0xecc05)['length']!==-0x30*0x9c+0x1c81+0xc0||_0xecc05%(0xa5a+-0x4c1+-0x9d*0x9)===0x2fb*0x4+-0xf29+0x33d?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x53a5d3(++_0xecc05);}try{if(_0x5e890c)return _0x53a5d3;else _0x53a5d3(-0x1fdb+0x2388+-0x1*0x3ad);}catch(_0x131373){}}